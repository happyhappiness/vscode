utils::Assert(write_ptr <= stop_write, "write ptr boundary check");