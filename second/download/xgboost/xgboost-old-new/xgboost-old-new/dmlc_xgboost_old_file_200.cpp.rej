--- /dev/null
+++ /dev/null
@@ -243,9 +172,7 @@
 }
 
 int main(int argc, char *argv[]){
+  xgboost::random::Seed(0);
   xgboost::BoostLearnTask tsk;
-  tsk.SetParam("seed", "0");
-  int ret = tsk.Run(argc, argv);
-  rabit::Finalize();
-  return ret;
+  return tsk.Run(argc, argv);
 
