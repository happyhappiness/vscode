diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/Android.mk /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/Android.mk
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/Android.mk	2010-05-17 01:47:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/Android.mk	2010-08-11 15:16:00.000000000 +0800
@@ -9,35 +9,43 @@
 # normal Android build with libcurl in the source tree, providing the target
 # "showcommands" to make. The build will eventually fail (because curl_config.h
 # doesn't exist yet), but the compiler commands used to build curl will be
 # shown. Now, from the external/curl/ directory, run curl's normal configure
 # command with flags that match what Android itself uses. This will mean
 # putting the compiler directory into the PATH, putting the -I, -isystem and
-# -D options into CPPFLAGS, putting the -m, -f, -O and -nostdlib options into
-# CFLAGS, and putting the -Wl, -L and -l options into LIBS, along with the path
-# to the files libgcc.a, crtbegin_dynamic.o, and ccrtend_android.o. Remember
-# that the paths must be absolute since you will not be running configure from
-# the same directory as the Android make.  The normal cross-compiler options
-# must also be set.
+# -D options into CPPFLAGS, putting the -W, -m, -f, -O and -nostdlib options
+# into CFLAGS, and putting the -Wl, -L and -l options into LIBS, along with the
+# path to the files libgcc.a, crtbegin_dynamic.o, and ccrtend_android.o.
+# Remember that the paths must be absolute since you will not be running
+# configure from the same directory as the Android make.  The normal
+# cross-compiler options must also be set. Note that the -c, -o, -MD and
+# similar flags must not be set.
+#
+# To see all the LIBS options, you'll need to do the "showcommands" trick on an
+# executable that's already buildable and watch what flags Android uses to link
+# it (dhcpcd is a good choice to watch). You'll also want to add -L options to
+# LIBS that point to the out/.../obj/lib/ and out/.../obj/system/lib/
+# directories so that additional libraries can be found and used by curl.
 #
 # The end result will be a configure command that looks something like this
-# (the environment variable A is set to the Android root path):
+# (the environment variable A is set to the Android root path which makes the
+# command shorter):
 #
 #  A=`realpath ../..` && \
 #  PATH="$A/prebuilt/linux-x86/toolchain/arm-eabi-X/bin:$PATH" \
 #  ./configure --host=arm-linux CC=arm-eabi-gcc \
 #  CPPFLAGS="-I $A/system/core/include ..." \
 #  CFLAGS="-nostdlib -fno-exceptions -Wno-multichar ..." \
-#  LIB="$A/prebuilt/linux-x86/toolchain/arm-eabi-X/lib/gcc/arm-eabi/X\
-#  /interwork/libgcc.a ..." \
+#  LIBS="$A/prebuilt/linux-x86/toolchain/arm-eabi-X/lib/gcc/arm-eabi/X\
+#  /interwork/libgcc.a ..."
 #
 # Finally, copy the file COPYING to NOTICE so that the curl license gets put
-# into the right place (see the note about this below).
+# into the right place (but see the note about this below).
 #
 # Dan Fandrich
-# May 2010
+# August 2010
 
 LOCAL_PATH:= $(call my-dir)
 
 common_CFLAGS := -Wpointer-arith -Wwrite-strings -Wunused -Winline -Wnested-externs -Wmissing-declarations -Wmissing-prototypes -Wno-long-long -Wfloat-equal -Wno-multichar -Wsign-compare -Wno-format-nonliteral -Wendif-labels -Wstrict-prototypes -Wdeclaration-after-statement -Wno-system-headers -DHAVE_CONFIG_H
 
 #########################
@@ -79,20 +87,20 @@
 
 #########################
 # Build the curl binary
 
 include $(CLEAR_VARS)
 include $(LOCAL_PATH)/src/Makefile.inc
-LOCAL_SRC_FILES := $(addprefix src/,$(CURL_SOURCES))
+LOCAL_SRC_FILES := $(addprefix src/,$(CURL_CFILES))
 
 LOCAL_MODULE := curl
 LOCAL_STATIC_LIBRARIES := libcurl
 LOCAL_SYSTEM_SHARED_LIBRARIES := libc
 
 LOCAL_C_INCLUDES += $(LOCAL_PATH)/include $(LOCAL_PATH)/lib
 
-# This will also need to include $(CURLX_ONES) in order to correctly link
-# against a dynamic library
+# This may also need to include $(CURLX_ONES) in order to correctly link
+# if libcurl is changed to be built as a dynamic library
 LOCAL_CFLAGS += $(common_CFLAGS)
 
 include $(BUILD_EXECUTABLE)
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/CHANGES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/CHANGES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/CHANGES	2010-06-16 19:46:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/CHANGES	2010-08-12 05:36:29.000000000 +0800
@@ -3,2378 +3,3989 @@
                              / __| | | | |_) | |
                             | (__| |_| |  _ <| |___
                              \___|\___/|_| \_\_____|
 
                                   Changelog
 
-Version 7.21.0 (16 June 2010)
+Version 7.21.1 (11 Aug 2010)
 
-Daniel Stenberg (5 June 2010)
-- Constantine Sapuntzakis fixed a case of spurious SSL connection aborts using
-  libcurl and OpenSSL. "I tracked it down to uncleared error state on the
-  OpenSSL error stack - patch attached deals with that."
-
-Daniel Stenberg (5 June 2010)
-- Frank Meier added CURLINFO_PRIMARY_PORT, CURLINFO_LOCAL_IP and
-  CURLINFO_LOCAL_PORT to curl_easy_getinfo().
+Daniel Stenberg (11 Aug 2010)
+- RELEASE-NOTES: mention the runtests fix as well
 
-Yang Tse (4 June 2010)
-- Enabled OpenLDAP support for cygwin builds. This support was disabled back
+- runtests: clear old setenv remainders before test
+  
+  Due to the layout of the singletest function there are situations where
+  it returns before it clears the environment variables that were
+  especially set for the single specific test case. That could lead to
+  subsequent tests getting executed with environment variables sticking
+  around from a previous test which could lead to badness.
+  
+  This change makes sure to clear all custom variables that may be laying
+  around from a previous round, before running a test case.
+  
+  Reported by: Kamil Dudka
+  Bug: http://curl.haxx.se/mail/lib-2010-08/0141.html
+
+Guenter Knauf (11 Aug 2010)
+- Added OpenSSL builds to Watcom makefiles.
+
+Yang Tse (11 Aug 2010)
+- configure: werror related adjustments
+
+Daniel Stenberg (11 Aug 2010)
+- FAQ: s/libcurl.so.3/libcurl.so.X
+
+Dan Fandrich (10 Aug 2010)
+- KNOWN_BUG #59 is fixed. Clarify support of IPv6 zone IDs.
+
+- Fixed typo in Android configure command
+
+Daniel Stenberg (11 Aug 2010)
+- HISTORY: added stuff from recent years
+
+- warning: silence the compiler
+  
+  warning: conversion to 'long int' from 'time_t' may alter its value
+  
+  ... on win64 when time_t is 64bit and long is 32bit.
+
+- RELEASE-NOTES: synced, 3 additional bugfixes
+
+- multi_socket_action: clarify how to kickstart it
+  
+  The callbacks are called when curl_multi_socket_action() is called, not
+  when handles are added. This is now mentioned in the "TYPICAL USAGE"
+  section.
+
+- callbacks: acknowledge progress callback error returns
+  
+  When the progress callback is called during the TCP connection, an error
+  return would accidentally not abort the operation as intended but would
+  instead be counted as a failure to connect to that particular IP and
+  libcurl would just continue to try the next. I made singleipconnect()
+  and trynextip() return CURLcode properly.
+  
+  Added bonus: it corrected the error code for bad --interface usages,
+  like tested in test 1084 and test 1085.
+  
+  Reported by: Adam Light
+  Bug: http://curl.haxx.se/mail/lib-2010-08/0105.html
+
+Guenter Knauf (10 Aug 2010)
+- More Watcom makefile fixes ...
+  
+  Final fix (hopefully!) for dll wlink loader;
+  prefer faster internal rm if available.
+
+- Fixed my wrong edit.
+
+- More Watcom makefile fixes.
+  
+  Added the -br switch to dynamic builds which fixes the issue I saw
+  with curl's --version output. Added debug info and symfile for debug
+  builds to linker opts. Added DLL loader for wlink back, but this time
+  dependend on wlink version.
+  Patch posted to the list by malak.jiri AT gmail.com.
+
+- Changed test for -u switch in order to enable other wmake switches.
+  
+  The var %MAKEFLAGS is only set in 3 cases: if set as environment
+  var or as macro definition from commandline, and either with the
+  -u or -ms switch. Since all these cases are unlikely for the average
+  user it should be safe to only test if %MAKEFLAGS is defined; this
+  has the benefit that now all other switches can be used again in
+  addition to the -u which was formerly not possible.
+
+Daniel Stenberg (10 Aug 2010)
+- llist: hide Curl_llist_init
+  
+  Curl_llist_init is never used outside of llist.c and thus it should be
+  static. I also removed the protos for Curl_llist_insert_prev and
+  Curl_llist_remove_next which are functions we removed from llist.c ages
+  ago.
+
+Guenter Knauf (10 Aug 2010)
+- Added msys Perl since git for Win32 comes with own Perl which identifies as msys.
+
+- Updated lib dependency versions.
+
+- Make testcurl.pl Watcom-aware.
+
+Daniel Stenberg (10 Aug 2010)
+- parse_remote_port: fix ;type= URL suffix over HTTP proxy
+  
+  Test 563 is enabled now and verifies that the combo FTP type=A URL,
+  CURLOPT_PORT set and proxy work fine. As a bonus I managed to remove the
+  somewhat odd FTP check in parse_remote_port() and instead converted it
+  to a better and more generic 'slash_removed' struct field. Checking the
+  ->protocol field isn't right since when an FTP:// URL is sent over a
+  HTTP proxy, the protocol is HTTP but the URL was handled by the FTP code
+  and thus slash_removed is set TRUE for this case.
+
+- indent: white space fixes only
+
+Yang Tse (9 Aug 2010)
+- build: fix previous push
+
+- build: don't build libhostname unless shared libcurl is built
+
+- build: libhostname and chkhostname linkage adjustments followup
+
+Daniel Stenberg (8 Aug 2010)
+- typo: remove duplicate semicolon
+
+- multi: avoid a malloc() when a transfer is complete
+  
+  The struct used for storing the message for a completed transfer is now
+  no longer allocated separatly but is kept within the main struct kept
+  for each easy handle so that we avoid one malloc (and the subsequent
+  free).
+
+Yang Tse (8 Aug 2010)
+- build: libhostname linkage adjustments followup
+
+Guenter Knauf (7 Aug 2010)
+- Fix to overwrite libcurl name.
+
+Yang Tse (7 Aug 2010)
+- build: chkhostname build adjustments followup
+
+U-D5B1PQ1J\Administrador (7 Aug 2010)
+- build: allow NTLM tests to run on more build configurations
+
+Daniel Stenberg (7 Aug 2010)
+- curl_easy_setopt.3: rename stream to userdata
+  
+  In some places where the name 'stream' has been used for naming a
+  function argument that is in fact settable with a setopt() option we now
+  call that argument 'userdata' to make it more obvious that it is in fact
+  possible to set by the application.
+  
+  Suggested by: Jeff Pohlmeyer
+
+Guenter Knauf (7 Aug 2010)
+- Block created curlbuild.h for NetWare to avoid usage from other platforms.
+
+Daniel Stenberg (7 Aug 2010)
+- RELEASE-NOTES: synced with recent changes
+
+Yang Tse (6 Aug 2010)
+- build: ensure that libhostname doesn't get installed
+
+Daniel Stenberg (6 Aug 2010)
+- multi_socket: set timeout for 100-continue
+  
+  When libcurl internally decided to wait for a 100-continue header, there
+  was no call to the timeout function so there was no timeout callback
+  called when the multi_socket API was used and thus applications became
+  either completely wrong or at least ineffecient depending on how they
+  handled the situation. We now set a timeout to get triggered.
+  
+  Reported by: Ben Darnell
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3039744
+
+Guenter Knauf (6 Aug 2010)
+- Some more Watcom makefile massage ...
+  
+  For now removed the .autodepend directive until I've figured out
+  which of my changes broke it again.
+
+Yang Tse (5 Aug 2010)
+- build: fix libssh2_scp_send64() availability
+
+- build: remove unneeded cast to (void *)
+
+- build: remove unused file
+
+Daniel Stenberg (4 Aug 2010)
+- SCP: send large files properly with new enough libssh2
+  
+  libssh2 1.2.6 and later handle >32bit file sizes properly even on 32bit
+  architectures and we make sure to use that ability.
+  
+  Reported by: Mikael Johansson
+  Bug: http://curl.haxx.se/mail/lib-2010-08/0052.html
+
+Yang Tse (3 Aug 2010)
+- build: add missing new files to non-configure target build files
+
+- md4: replace bcopy usage with memcpy
+
+Daniel Stenberg (3 Aug 2010)
+- RELEASE-NOTES: synced with recent changes
+
+- TODO-RELEASE: clear, file not really used ATM
+
+- typecheck-gcc: add checks for recently added options
+  
+  I added all OBJECTPOINT curl_easy_setopt() options from 178 to 202. Left
+  to add: the five FUNCTIONPOINT (callbacks) options added since:
+  
+  SSH_KEYFUNCTION
+  INTERLEAVEFUNCTION
+  CHUNK_BGN_FUNCTION
+  CHUNK_END_FUNCTION
+  FNMATCH_FUNCTION
+
+- .gitignore: ignore all built examples
+
+- example: fix code to build warning-free
+
+- Curl_connected_proxy: skip the bits.tcpconnect check
+  
+  Simply because the TCP might be connected already we cannot skip the
+  proxy connect procedure. We need to be careful to not overload more
+  meaning to the bits.tcpconnect field like this.
+  
+  With this fix, SOCKS proxies work again when the multi interface is
+  used. I believe this regression was added with commit 4b351d018e,
+  released as 7.20.1.
+  
+  Left todo: add a test case that verifies this functionality that
+  prevents us from breaking it again in the future!
+  
+  Reported by: Robin Cornelius
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3033966
+
+- sethostname: provide local prototype for gethostname
+  
+  This is only to avoid warnings on some systems.
+
+- build: add typecast to avoid warning
+  
+  There is an implicit conversion from "unsigned long" to "long";
+  rounding, sign extension, or loss of accuracy may result.
+
+Guenter Knauf (2 Aug 2010)
+- Rename CURL_SOURCES macro; revert previous rename of curl_SOURCES macro.
+
+- Removed ugly dependency lists since wmake knows the .autodepend directive.
+
+- Use suffix search path for sources in lib folder.
+
+- Changed src/Makefile.Watcom to use CURL_SOURCES from src/Makefile.inc.
+
+- Renamed curl_SOURCES to CURL_ALLFILES to overcome wmake's case-insensitivity.
+
+- Removed wlink from DLL loader list because it doesnt work with Watcom < 1.8.
+
+- Moved the LDAP API defines from Makefile.Watcom to config-win32.h.
+  
+  These defines are only needed for older Watcom versions (< 1280).
+
+Daniel Stenberg (2 Aug 2010)
+- retry: consider retrying even if -f is used
+  
+  The --retry logic does retry HTTP when some specific response codes are
+  returned, but because the -f option sets the CURLOPT_FAILONERROR to
+  libcurl, the return codes are different for such situations and then the
+  curl tool failed to consider it for retrying.
+  
+  Reported by: Mike Power
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3037362
+
+- multi: fix FTPS connecting the data connection with OpenSSL
+  
+  Commit 496002ea1cd76af7f (released in 7.20.1) broke FTPS when using the
+  multi interface and OpenSSL was used. The condition for the non-blocking
+  connect was incorrect.
+  
+  Reported by: Georg Lippitsch
+  Bug: http://curl.haxx.se/mail/lib-2010-07/0270.html
+
+Guenter Knauf (1 Aug 2010)
+- Fixed curlbuild.h rule.
+
+- Added rule to create curlbuild.h if not present (for builds from git).
+
+- Added dependend libs for curl static linking.
+
+- Fixed curl.exe static linking.
+
+Daniel Stenberg (30 Jul 2010)
+- warning: silence a win64 compiler warning
+  
+  conversion from 'size_t' to 'curl_socklen_t', possible loss of data
+  
+  Reported by: Adam Light
+
+- KNOWN_BUG: The SOCKET type in Win64 is 64 bits
+  
+  The SOCKET type in Win64 is 64 bits large (and thus so is curl_socket_t
+  on that platform), and long is only 32 bits. It makes it impossible for
+  curl_easy_getinfo() to return a socket properly with the
+  CURLINFO_LASTSOCKET option as for all other operating systems.
+
+- smtp_connect: always provide host name buffer
+  
+  Previously the host name buffer was only used if gethostname() exists,
+  but since we converted that into a curl private function that function
+  always exists and will be used so the buffer needs to exist for all
+  cases/systems.
+
+- sethostname: avoid including unistd.h to duck for warnings
+
+- sethostname: ISO C does not allow extra `;' outside of a function
+
+- [Kamil Dudka brought this change]
+
+  NTLM tests: boost coverage by forcing the hostname
+  
+  A shared library tests/libtest/.libs/lihostname.so is preloaded in NTLM
+  test-cases to override the system implementation of gethostname().  It
+  makes it possible to test the NTLM authentication for exact match, and
+  this way test the implementation of MD4 and DES.
+  
+  If LD_PRELOAD doesn't work, a debug build willl also workk as debug
+  builds are now made to prefer a specific environment variable and will
+  then return that content as host name instead of the actual one.
+  
+  Kamil wrote the bulk of this, Daniel Stenberg polished it.
+
+Guenter Knauf (29 Jul 2010)
+- Added a comment with an alternate idea to avoid the backslash line contination character.
+
+- Changed comparison to match size_t var type.
+
+- Removed unused vars to avoid compiler warnings.
+
+- Make Watcom makefiles use Makefile.inc to reduce future maintainance.
+  
+  lib/Makefile.Watcom works fine already, for src/Makefile.Watcom we
+  need first to tweak src/Makefile.inc a bit - therefore the handtweaked
+  list still exists for now.
+
+- Watcom makefiles overhaul.
+  
+  - make both libcurl and curl makefiles use register calling convention
+    (previously libcurl had stack calling convention).
+  - added include paths to the Watcom headers so its no longer required
+    to set the environment vars for this.
+  - added -wcd=201 to supress compiler warning about unreachable code.
+  - use macros for all tools, and removed dependency on GNU tools like rm.
+  - make ipv6 and debug builds controlable via env vars and so make them
+    optional instead of default.
+  - commented WINLDAPAPI and WINBERAPI since they broke with OW 1.8, and
+    it seems they're not needed (anymore?).
+  - added rule for hugehelp.c.cvs so that it will be created when not
+    already exist - this is required for building from a release tarball
+    since there we have no hugehelp.c.cvs, thus compilation broke.
+  - removed C_ARG creation from lib/Makefile.Watcom and use CFLAGS
+    directly as done too in src/Makefile.Watcom - this has the benefit
+    that we will see all active cflags and defines during compile.
+  - added LINK-ARG to src/Makefile.Watcom in order to better control
+    linker input.
+  - a couple of other minor makefile tweaks here and there ...
+  - added largefile support for Watcom builds to config-win32.h. Not yet
+    tested if it really works, but should since Win32 supports it.
+  - added loaddll stuff to speed up builds if supported.
+
+- some cosmetic changes.
+
+Dan Fandrich (26 Jul 2010)
+- Added md4.c to the Watcom makefile
+
+- Added PolarSSL to the docs
+
+Daniel Stenberg (25 Jul 2010)
+- curl-config: --built-shared returns shared info
+  
+  The curl-config now features a --built-shared command line option that
+  will output 'yes' or 'no' depending if the build process was asked to
+  build shared library/libraries or not.
+  
+  It is primarily made to offer more details to the test suite to know
+  what kind of stunts it can expect to work.
+
+- add_buffer_send: fix compiler warning
+  
+  Win64's 32 bit long but 64 bit size_t caused a warning that we avoid
+  with a typecast. A small whitespace indent fix was also applied.
+  
+  Reported by: Adam Light
+
+Guenter Knauf (22 Jul 2010)
+- Updated library versions.
+
+- Fixed script version which was still based on CVS Revision tag.
+
+Dan Fandrich (21 Jul 2010)
+- FAQ: Why doesn't cURL error out when the cable is unplugged?
+  
+  This one was long overdue to be mentioned in the FAQ. Also, mention the
+  new ftp wildcard downloading feature.
+
+Daniel Stenberg (21 Jul 2010)
+- [Ben Greear brought this change]
+
+  ssh: Fix compile error on 64-bit systems.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- [Ben Greear brought this change]
+
+  build: Enable configure --enable-werror
+  
+    This passes -Werror to gcc when building curl and libcurl,
+    allowing easy dection of compile warnings.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- [Ben Greear brought this change]
+
+  pingpong: Fix indentation (whitespace change only)
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- [Jan Van Boghout brought this change]
+
+  CUSTOMREQUEST: shouldn't be disabled when HTTP is disabled
+  
+  ... since FTP is using it as well, and potentially other protocols!
+  
+  Also, an #endif CURL_DISABLE_HTTP was incorrectly marked, as it seems to
+  end the proxy block instead.
+
+- [Jan Van Boghout brought this change]
+
+  pingpong: response_time is milliseconds
+  
+  Fixed the comment/document for the response_time struct member.
+
+- [Jan Van Boghout brought this change]
+
+  ftp: response timeout bug in "quote" sending
+  
+  The FTP implementation was missing a timestamp reset point, making the
+  waiting for responses after sending a post-transfer "QUOTE" command not
+  working as supposedly. This bug was introduced in 7.20.0
+
+- [Jeff Pohlmeyer brought this change]
+
+  remote-header-name: chop filename at next semicolon
+  
+  The --remote-header-name option for the command-line tool assumes that
+  everything beyond the filename= field is part of the filename, but that
+  might not always be the case, for example:
+  
+  Content-Disposition: attachment; filename=file.txt; modification-date=...
+  
+  This fix chops the filename off at the next semicolon, if there is one.
+
+- --retry: access violation with URL part sets continued
+  
+  When getting multiple URLs, curl didn't properly reset the byte counter
+  after a successful transfer so if the subsequent transfer failed it
+  would wrongly use the previous byte counter and behave badly (segfault)
+  because of that. The code assumes that the byte counter and the 'stream'
+  pointer is well in synch.
+  
+  Reported by: Jon Sargeant
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3028241
+
+- releasnote: synch up with commit f3b77e5611d
+
+- [Constantine Sapuntzakis brought this change]
+
+  examples: add curl_multi_timeout
+  
+  Make the multi-interface using examples use curl_multi_timeout to
+  properly educate users how to do things.
+
+- configure: document the STATICLIB variable
+
+- [Constantine Sapuntzakis brought this change]
+
+  multi: fix condition that remove timers before trigger
+  
+  curl_multi perform has two phases: run through every easy handle calling
+  multi_runsingle and remove expired timers (timer removal).
+  
+  If a small timer (e.g. 1-10ms) is set during multi_runsingle, then it's
+  possible that the timer has passed by when the timer removal runs. The
+  timer which was just added is then removed. This will potentially cause
+  the timer list to be empty and cause the next call to curl_multi_timeout
+  to return -1. Ideally, curl_multi_timeout should return 0 in this case.
+  
+  One way to fix this is to move the struct timeval now = Curl_tvnow(); to
+  the top of curl_multi_perform. The change does that.
+
+- [Constantine Sapuntzakis brought this change]
+
+  threaded resolver: fix timeout issue
+  
+  Reset old timer first so we can set a new one further in the future.
+
+- configure: allow environments variable to override internals
+  
+  configure checks for grep, egrep, sed and ar and set the variables GREP,
+  EGREP, SED and AR accordingly. We now let already set variables override
+  the internal choices to let users make decisions when they know the
+  right choice already. This is a regression as our configure script used
+  to allow this back before commit 0b57c475 (up to 7.18.2).
+  
+  Reported by: "kdekker"
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3028318
+
+Dan Fandrich (9 Jul 2010)
+- Improved the Android build instructions
+
+Daniel Stenberg (7 Jul 2010)
+- [Tor Arntsen brought this change]
+
+  upload: Avoid infinite loop when checking for auth bits
+  
+  The test would loop forever if authtype bit 0 wasn't set.
+
+- upload: warn users trying to upload from stdin with anyauth
+  
+  Since uploading from stdin is very likely to not work with anyauth and
+  its multi-phase probing for what authentication to actually use, alert
+  the user about it. Multi-phase negotiate almost certainly will involve
+  sending data and thus libcurl will need to rewind the stream to send
+  again, and it cannot do that with stdin.
+
+- http: don't enable chunked during authentication negotiations
+  
+  As mentioned in bug report #2956968, the HTTP code wouldn't send the
+  first empty chunk during the auth negotiation phase of the HTTP request
+  sending, so the server would wait for data to come and libcurl would
+  wait for data to arrive... I've made the code not enable chunked
+  encoding until the auth negotiation is done and thus this scenario
+  doesn't occur anymore.
+  
+  Reported by: Sidney San Martín
+  Bug: http://curl.haxx.se/bug/view.cgi?id=2956968
+
+- --libcurl: list the tricky options instead of using [REMARK]
+  
+  I think the [REMARK] and commented function calls cluttered the code a
+  bit too much and made the generated code ugly to read. Now we instead
+  track the remarks one specially and just lists them at the end of the
+  generated code more as additional information.
+
+- curl: avoid setting libcurl options to its default
+  
+  it makes the --libcurl output easier to follow.
+
+- --libcurl: hide setopt() calls setting default options
+  
+  And additionally, don't show function or object pointers actual value
+  since they make no sense to anyone. Show 'functionpointer' and
+  'objectpointer' instead.
+
+- --libcurl: use *_LARGE options with typecasted constants
+  
+  In the generated code --libcurl makes, all calls to curl_easy_setopt()
+  that use *_LARGE options now have the value typecasted to curl_off_t, so
+  that it works correctly for 32bit systems with 64bit curl_off_t type.
+
+- multi: CURLINFO_LASTSOCKET doesn't work after remove_handle
+  
+  When curl_multi_remove_handle() is called and an easy handle is returned
+  to the connection cache held in the multi handle, then we cannot allow
+  CURLINFO_LASTSOCKET to extract it since that will more or less encourage
+  that the user uses the socket while it can get used by libcurl again.
+  
+  Without this fix, we'd get a segfault in Curl_getconnectinfo() trying to
+  dereference the NULL pointer in 'data->state.connc'.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3023840
+
+- [Pierre Joye brought this change]
+
+  build: add enable IPV6 option for the VC makefiles
+
+- FAQ: the threaded resolver works universally now
+
+Kamil Dudka (30 Jun 2010)
+- http_ntlm: add support for NSS
+  
+  When configured with '--without-ssl --with-nss', NTLM authentication
+  now uses NSS crypto library for MD5 and DES.  For MD4 we have a local
+  implementation in that case.  More details are available at
+  https://bugzilla.redhat.com/603783
+  
+  In order to get it working, curl_global_init() must be called with
+  CURL_GLOBAL_SSL or CURL_GLOBAL_ALL.  That's necessary because NSS needs
+  to be initialized globally and we do so only when the NSS library is
+  actually required by protocol.  The mentioned call of curl_global_init()
+  is responsible for creating of the initialization mutex.
+  
+  There was also slightly changed the NSS initialization scenario, in
+  particular, loading of the NSS PEM module.  It used to be loaded always
+  right after the NSS library was initialized.  Now the library is
+  initialized as soon as any SSL or NTLM is required, while the PEM module
+  is prevented from being loaded until the SSL is actually required.
+
+Daniel Stenberg (29 Jun 2010)
+- glob: backslash escaping bug
+  
+  curl didn't properly handle escaping characters in a URL with the use of
+  backslash. It did an attempt, but that failed as reported in bug
+  3022551. The described example was using the URL
+  "http://example.com?{AB,C\,D}".
+  
+  I've now removed the special-handling of letters following the backslash
+  and I also removed the bad extra check that triggered this particular
+  bug.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3022551
+  Reported by: Jon Sargeant
+
+- release-notes: sync up with recent commits
+
+- CONTRIBUTE: the git commit message line length is 72 columns
+
+- [Pavel Raiskup brought this change]
+
+  ftp wildcard: FTP LIST parser FIX
+  
+  There was a problem when a UNIX-like server returned information
+  about directory size (total NNNNNN) at the first line of
+  response.
+
+- [Pavel Raiskup brought this change]
+
+  examples: new FTP wildcard showcase
+
+- multi_socket: re-use of same socket without notifying app
+  
+  When a hostname resolves to multiple IP addresses and the first one
+  tried doesn't work, the socket for the second attempt may get dropped on
+  the floor, causing the request to eventually time out. The issue is that
+  when using kqueue (as on mac and bsd platforms) instead of select, the
+  kernel removes the first fd from kqueue when it is closed (in trynextip,
+  connect.c:503). Trynextip() then goes on to open a new socket, which
+  gets assigned the same number as the one it just closed. Later in
+  multi.c, socket_cb is not called because the fd is already in
+  multi->sockhash, so the new socket is never added to kqueue.
+  
+  The correct fix is to ensure that socket_cb is called to remove the fd
+  when trynextip() closes the socket, and again to re-add it after
+  singleipsocket(). I'm not sure how to cleanly do that, but the attached
+  patch works around the problem in an admittedly kludgy way by delaying
+  the close to ensure that the newly-opened socket gets a different fd.
+  
+  Daniel's added comment: I didn't spot a way to easily do a nicer fix so
+  I've proceeded with Ben's patch.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3017819
+  Patch by: Ben Darnell
+
+Kamil Dudka (24 Jun 2010)
+- [Pavel Raiskup brought this change]
+
+  ftp-wildcard: avoid tight loop when used without any pattern
+  
+  It was broken for URLs like "ftp://example.com/".
+
+Daniel Stenberg (21 Jun 2010)
+- maketgz: produce CHANGES automatically with the 1000 most recent commits
+  
+  It passes the git log output through 'log2changes.pl' to produce
+  the lot.
+
+- ignore: CHANGES.dist gets generated by maketgz
+
+- CHANGES: move all contents from CHANGES to CHANGES.0
+  
+  CHANGES is no longer used for manually edited content. It is to
+  be generated automatically by maketgz when we make release
+  tarballs.
+
+- log2changes: correct command line, fix tag usage, change Version output
+  
+  --decorate=full is needed with my git 1.7.1 to get the necessary
+  output so that the previous edit would work to extract the
+  Version stuff.
+  
+  ... but I had to edit how the refs/tags was extracted since it
+  had a little flaw that made it miss the 7.20.1 output.
+  
+  Finally, I changed so that Version is outputted even more similar
+  to how CHANGES does it.
+
+Dan Fandrich (21 Jun 2010)
+- Make the output of log2changes.pl even more closely match CHANGES
+  
+  Add the ASCII art header, and list version commits by decoding
+  the ref tag names, when available (using the git log --decorate
+  option).
+
+Daniel Stenberg (19 Jun 2010)
+- log2changes: first version of the git log to CHANGES conversion script
+  
+  $ git log --pretty=fuller --no-color --date=short | ./log2changes.pl
+  
+  Of course, limiting the log output with a range like with
+  "[tag]..HEAD" appended can be very useful too.
+
+- sendrecv: treat all negative values from send/recv as errors
+  
+  For example the libssh2 based functions return other negative
+  values than -1 to signal errors and it is important that we catch
+  them properly. Right before this, various failures from libssh2
+  were treated as negative download amounts which caused havoc.
+
+- multi: prevent NULL pointer dereference
+  
+  My additional call to Curl_pgrsUpdate() would sometimes get
+  called even though there's no connection (left) so a NULL pointer
+  would get passed, causing a segfault.
+
+- smtp: fixed a few uses of size_t that seemed to believe it was signed
+  
+  Reported-by: Steven M. Schweda
+
+Dan Fandrich (17 Jun 2010)
+- Fixed an OOM memory leak in the FTP wildcard code
+
+Kamil Dudka (17 Jun 2010)
+- test575: do not fail with threaded DNS resolver
+
+Daniel Stenberg (17 Jun 2010)
+- [Krister Johansen brought this change]
+
+  multi: unmark handle as used when no longer head of pipeline
+
+- multi: call the progress function only once and allow abort
+  
+  1) no need to call the progress function twice when in the
+  CURLM_STATE_TOOFAST state.
+  
+  2) Make sure that the progress callback's return code is
+  acknowledged when used
+
+- multi: call the progress callback in all states
+  
+  As long as no error is reported, the progress function can get
+  called. This may be a little TOO often so we should keep an eye
+  on this and possibly make this conditional somehow.
+
+- configure: spell --disable-threaded-resolver correctly
+  
+  Previously we only accepted the option when named
+  --disable-threaded-resover, which wasn't quite intended.
+  
+  Reported by: Helwing Lutz
+
+- release: start on 7.21.1, bump contributor count
+
+- version: start working on the 7.21.1-dev version
+
+- THANKS: added contributors from the 7.21.0 release
+
+Version 7.21.0 (16 Jun 2010)
+
+Daniel Stenberg (16 Jun 2010)
+- release: 7.21.0
+
+Yang Tse (10 Jun 2010)
+- remove unused 'tmpdata' and 'backup' ftp_parselist_data struct members
+
+- replace isprint() with ISPRINT()
+
+- ensure that Curl_wildcard_dtor() leaves WildcardData struct zero initialized
+
+Patrick Monnerat (9 Jun 2010)
+- ILE/RPG binding updated to current curl.h definitions.
+
+Yang Tse (9 Jun 2010)
+- code simplification
+
+- add Curl_ prefix to conform with cURL naming standards
+
+- Merge branch 'master' of git@github.com:bagder/curl
+
+- fix compiler warning using curl_socket_t to store socket descriptor
+
+Daniel Stenberg (8 Jun 2010)
+- inet_pton: warnings: use size_t to store pointer deltas
+
+Yang Tse (8 Jun 2010)
+- avoid redundant work when reusing same connection
+
+- fix function result checking
+
+Daniel Stenberg (8 Jun 2010)
+- transfer: warning: implicit conversion
+  
+  There is an implicit conversion from "unsigned long" to "long";
+  rounding, sign extension, or loss of accuracy may result.
+  
+  Fixed by an added typecast.
+
+- TFTP: fix compiler warning
+  
+  Curl_fillreadbuffer()'s second argument takes an int, so
+  typecasting to another is a bad idea.
+
+- TFTP: fix warning for sendto() usage on non-POSIX systems
+  
+  Older unixes want an 'int' instead of 'size_t' as the 3rd
+  argumment so before this change it would cause warnings such as:
+  
+  There is an implicit conversion from "unsigned long" to "int";
+  rounding, sign extension, or loss of accuracy may result.
+
+Dan Fandrich (7 Jun 2010)
+- Include Makefile.inc to get the list of source files for Amiga
+  
+  Signed-off-by: Diego Casorran <dcasorran@gmail.com>
+
+Yang Tse (7 Jun 2010)
+- Curl_updateconninfo() error handling fix
+
+Daniel Stenberg (5 Jun 2010)
+- [Constantine Sapuntzakis brought this change]
+
+  OpenSSL: fix spurious SSL connection aborts
+  
+  Was seeing spurious SSL connection aborts using libcurl and
+  OpenSSL. I tracked it down to uncleared error state on the
+  OpenSSL error stack - patch attached deals with that.
+  
+  Rough idea of problem:
+  
+  Code that uses libcurl calls some library that uses OpenSSL but
+  don't clear the OpenSSL error stack after an error.
+  
+  ssluse.c calls SSL_read which eventually gets an EWOULDBLOCK from
+  the OS. Returns -1 to indicate an error
+  
+  ssluse.c calls SSL_get_error. First thing, SSL_get_error calls
+  ERR_get_error to check the OpenSSL error stack, finds an old
+  error and returns SSL_ERROR_SSL instead of SSL_ERROR_WANT_READ or
+  SSL_ERROR_WANT_WRITE.
+  
+  ssluse.c returns an error and aborts the connection
+  
+  Solution:
+  
+  Clear the openssl error stack before calling SSL_* operation if
+  we're going to call SSL_get_error afterwards.
+  
+  Notes:
+  
+  This is much more likely to happen with multi because it's easier
+  to intersperse other calls to the OpenSSL library in the same
+  thread.
+
+Yang Tse (5 Jun 2010)
+- replace socklen_t with curl_socklen_t
+
+Daniel Stenberg (5 Jun 2010)
+- [Frank Meier brought this change]
+
+  getinfo: added *_PRIMARY_PORT, *_LOCAL_IP and *_LOCAL_PORT
+
+- RELEASE-NOTES: add contributors not mentioned
+
+Yang Tse (4 Jun 2010)
+- Enable OpenLDAP support for cygwin builds.
+  
+  Enable OpenLDAP support for cygwin builds. This support was disabled back
   in 2008 due to incompatibilities between OpenSSL and OpenLDAP headers.
   cygwin's OpenSSL 0.9.8l and OpenLDAP 2.3.43 versions on cygwin 1.5.25
   allow building an OpenLDAP enabled libcurl supporting back to Windows 95.
+  
+  Remove non-functional CURL_LDAP_HYBRID code and references.
+
+Kamil Dudka (2 Jun 2010)
+- ftplistparser.c: oops, fix typo in the last commit
+
+- ftplistparser.c: avoid some invalid dereferences
+
+- lib: eliminate some dead code
+
+Daniel Stenberg (2 Jun 2010)
+- SSH: corrected the inability to respect the timeout
+  
+  Jason McDonald posted bug report #3006786 when he found that the
+  SFTP code didn't timeout properly in several places in the code
+  even if a timeout was set properly.
+  
+  Based on his suggested patch, I wrote a different implementation
+  that I think addressed the issue better and also uses the connect
+  timeout for the initial part of the SSH/SFTP done during the
+  "protocol connect" phase.
+  
+  (http://curl.haxx.se/bug/view.cgi?id=3006786)
+
+Yang Tse (2 Jun 2010)
+- mention last changes
+
+- add missing new files to non-configure target build files
+
+- include libcurl standard internal headers
+
+Daniel Stenberg (2 Jun 2010)
+- TODO: add multi interface improvement remove ldap select
+
+Yang Tse (2 Jun 2010)
+- make setup.h first included file
+
+- fix spnego memory leak
+
+- openldap header inclusions fix
+
+Daniel Stenberg (1 Jun 2010)
+- multi_socket: handles timer inaccuracy better for timeouts
+  
+  Igor Novoseltsev reported a problem with the multi socket API and
+  using timeouts and timers. It boiled down to a problem with
+  libcurl's use of GetTickCount() interally to figure out the
+  current time, while Igor's own application code used another
+  function call.
+  
+  It made his app call the socket API timeout function a bit
+  _before_ libcurl would consider the timeout to trigger, and that
+  could easily lead to timeouts or stalls in the app. It seems
+  GetTickCount() in general often has no better resolution than
+  16ms and switching to the alternative function
+  QueryPerformanceCounter has its share of problems:
+  http://www.virtualdub.org/blog/pivot/entry.php?id=106
+  
+  We address this problem by simply having libcurl treat timers
+  that already has occured or will occur within 40ms subject for
+  treatment. I'm confident that there are other implementations and
+  operating systems with similarly in accurate timer functions so
+  it makes sense to have applied generically and I don't believe we
+  sacrifice much by adding a 40ms inaccuracy on these timeouts.
+
+Yang Tse (1 Jun 2010)
+- fix ldaps option issue
+
+- fix ldap related compilation issues
+
+- fix compiler warning: enumerated type mixed with another type
+
+- fix compiler warning: enumerated type mixed with another type
+
+Patrick Monnerat (31 May 2010)
+- smtp_authenticate: avoid compiler warnings
+
+Yang Tse (31 May 2010)
+- fix compiler warning: enumerated type mixed with another type
+
+- fix compiler warning: enumerated type mixed with another type
+
+- fix compiler warning: enumerated type mixed with another type
+
+- fix compiler warning: external declaration in primary source file
+
+- fix compiler warning: variable was set but never used
+
+- fix compiler warning: enumerated type mixed with another type
+
+- fix compiler warning: external declaration in primary source file
+
+- update year in copyright notice
+
+Kamil Dudka (29 May 2010)
+- strtoofft: rename CURL_LLONG_MIN -> CURL_OFF_T_MIN
+  
+  ... and CURL_LLONG_MAX -> CURL_OFF_T_MAX
+
+- CURL_LLONG_MAX: avoid constant overflow
+  
+  ... when (CURL_SIZEOF_CURL_OFF_T == 4)
+
+Daniel Stenberg (28 May 2010)
+- [Howard Chu brought this change]
+
+  LDAPS: list availability depending on SSL's presence
+
+- [Howard Chu brought this change]
+
+  LDAP: make it build without SSL if no such support is available
+  
+  of course it also goes for the case where SSL is explicitly
+  disabled
+
+- TODO: removed fixed items
+  
+  These two items are now actually implemented:
+  
+  11.1 Content-Disposition
+  11.5 ftp wildcard download
+
+Kamil Dudka (28 May 2010)
+- lib: eliminate 'statement not reached' warnings
+
+Daniel Stenberg (28 May 2010)
+- test1115: verify that unexpected 1xx responses work fine
+
+Kamil Dudka (28 May 2010)
+- lib577: avoid redefinition of ERROR
+
+- test313: a new test for CRL support
+
+- tests/certs: re-generated because of lost pass-phrase
+
+- tests/certs/scripts: generate also CRL
+  
+  ... and make it possible to do so without any user interaction
+
+Daniel Stenberg (27 May 2010)
+- [Howard Chu brought this change]
+
+  openldap: fix compiler warnings
+
+- indent: some whitespace edits
+
+Kamil Dudka (27 May 2010)
+- wildcard.c: add missing include of "setup.h"
+
+- [Tor Arntsen brought this change]
+
+  lib573: do not compare double for exact match
+
+- [Pavel Raiskup brought this change]
+
+  wildcard.c: add missing include of "curl_memory.h"
+
+- [Tor Arntsen brought this change]
+
+  setup_once: use enum type for 'bool' on non-C99 platforms
+  
+  An enum will catch non-bool assignments to bool on platforms with
+  a strict compiler, e.g MIPSPro.
+  
+  Signed-off-by: Kamil Dudka <kdudka@redhat.com>
+
+- url.c: avoid implied cast to bool
+
+- [Tor Arntsen brought this change]
+
+  curl_fnmatch: remove use of register keyword
+  
+  Using the 'register' keyword rarely improves anything with modern
+  compilers and architectures.
+
+Daniel Stenberg (26 May 2010)
+- [Julien Chaffraix brought this change]
+
+  RTMP: Fix compiler warnings
+
+- [Julien Chaffraix brought this change]
+
+  OOM fixes in http_negociate.c and lib/splay.c
+  
+  Fix 2 OOM errors: a missing NULL-check in lib/http_negociate.c
+  and a potential NULL dereferencing in lib/splay.c
+
+- [Howard Chu brought this change]
+
+  LDAP: properly implemented as a curl_handler
+  
+  makes the LDAP code much cleaner, nicer and in general being a
+  better libcurl citizen. If a new enough OpenLDAP version is
+  detect, the new and shiny lib/openldap.c code is then used
+  instead of the old cruft
+  
+  Code by Howard, minor cleanups by Daniel.
+
+- [Tor Arntsen brought this change]
+
+  curl_fnmatch: Use int not bool when function returns int
+  
+  bool in curl internals is unsigned char and should not be used
+  to receive return value from functions returning int - this fails
+  when using IBM VisualAge and Tru64 compilers.
+
+- TFTP: send legal timeout value
+  
+  Eric Mertens posted bug #3003705: when we made TFTP use the
+  correct timeout option when sent to the server (fixed May 18th
+  2010) it became obvious that libcurl used invalid timeout values
+  (300 by default while the RFC allows nothing above 255). While of
+  course it is obvious that as TFTP has worked thus far without
+  being able to set timeout at all, just removing the setting
+  wouldn't make any difference in behavior. I decided to still keep
+  it (but fix the problem) as it now actually allows for easier
+  (future) customization of the timeout.
+  
+  (http://curl.haxx.se/bug/view.cgi?id=3003705)
+
+- TFTP: don't ack if wrong block num is received
+  
+  If an unexpected block number was received, break out of the
+  switch loop.
+
+- TFTP: block id wrap bug fix
+  
+  In a normal expression, doing [unsigned short] + 1 will not wrap
+  at 16 bits so the comparisons and outputs were done wrong. I
+  added a macro do make sure it gets done right.
+  
+  Douglas Kilpatrick filed bug report #3004787 about it:
+  http://curl.haxx.se/bug/view.cgi?id=3004787
+
+- [Ben Greear brought this change]
+
+  Fix build warnings.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- [Ben Greear brought this change]
+
+  setopt: Fix setting of set.is_fwrite_set
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- [Tanguy Fautre brought this change]
+
+  build: allow curl to build with Microsoft VC10
+  
+  By undefing a bunch of E* defines that VC10 has started to define
+  but that we redefine internally to their WSA* alternatives when
+  building for Windows.
+
+Kamil Dudka (20 May 2010)
+- [Tor Arntsen brought this change]
+
+  Test 573: Use correct type for CURLINFO_CONNECT_TIME
+  
+  curl_easy_getinfo() called with a pointer to long instead of double
+  would sigbus on RISC processors (e.g. MIPS) due to wrong alignment
+  of pointer address.
+
+- [Tor Arntsen brought this change]
+
+  lib: Fix AIX build failure
+
+Dan Fandrich (19 May 2010)
+- Fixed some memory leaks in the POP3 torture tests
+
+- Fixed a memory leak in the SMTP torture tests
+
+Daniel Stenberg (18 May 2010)
+- TFTP: send timeout option correctly
+  
+  Eric Mertens posted bug report #3003005 pointing out that the
+  libcurl TFTP code was not sending the timeout option properly to
+  the server, and suggested a fix.
+  
+  (http://curl.haxx.se/bug/view.cgi?id=3003005)
+
+Kamil Dudka (16 May 2010)
+- [Tor Arntsen brought this change]
+
+  lib: Change some CRLF line endings to LF
+  
+  An update had added a couple of lines with DOS line endings,
+  and some compilers will choke on that (e.g. the Tru64 compiler).
+
+- ftp wildcard: a new option CURLOPT_FNMATCH_DATA
+
+Daniel Stenberg (15 May 2010)
+- [Howard Chu brought this change]
+
+  RMTP: the version code is now rtmp aware
+
+- [Howard Chu brought this change]
+
+  RTMP: fix wrong #ifdef
+
+- [Pavel Raiskup brought this change]
+
+  ftp wildcard: fix int32_t and size/group mixups
+
+Dan Fandrich (14 May 2010)
+- Fixed test 577 to work when --enable-hidden-symbols is configured
+
+Daniel Stenberg (14 May 2010)
+- OpenSSL: multi interface handshake could hang
+  
+  John-Mark Bell filed bug #3000052 that identified a problem (with
+  an associated patch) with the OpenSSL handshake state machine
+  when the multi interface is used:
+  
+  Performing an https request using a curl multi handle and using
+  select or epoll to wait for events results in a hang. It appears
+  that the cause is the fix for bug #2958179, which makes
+  ossl_connect_common unconditionally return from the step 2 loop
+  when fetching from a multi handle.
+  
+  When ossl_connect_step2 has completed, it updates
+  connssl->connecting_state to ssl_connect_3. ossl_connect_common
+  will then return to the caller, as a multi handle is in
+  use. Eventually, the client code will call curl_multi_fdset to
+  obtain an updated fdset to select or epoll on. For https
+  requests, curl_multi_fdset will cause https_getsock to be called.
+  https_getsock will only return a socket handle if the
+  connecting_state is ssl_connect_2_reading or
+  ssl_connect_2_writing.  Therefore, the client will never obtain a
+  valid fdset, and thus not drive the multi handle, resulting in a
+  hang.
+  
+  (http://curl.haxx.se/bug/view.cgi?id=3000052)
+
+- changelog: add link to bug report
+
+Dan Fandrich (14 May 2010)
+- Added directories.pm to the source tar ball
+
+Daniel Stenberg (14 May 2010)
+- follow redirect: ignore response-body on redirect even if compressed
+  
+  Sebastian V reported bug #3000056 identifying a problem with
+  redirect following. It showed that when curl followed redirects
+  it didn't properly ignore the response body of the 30X response
+  if that response was using compressed Content-Encoding!
+  
+  (http://curl.haxx.se/bug/view.cgi?id=3000056)
+
+- version: we're now going for 7.21.0
+
+- [Hoi-Ho Chan brought this change]
+
+  Remove support for BSD version of PolarSSL
+  
+  "The BSD version of PolarSSL was made for migratory purposes only and is not
+  maintained. The GPL version of PolarSSL is actually the only actively
+  developed version, so I would be very reluctant to use the BSD version." /
+  Paul Bakker, PolarSSL hacker.
+  
+  Signed-off-by: Hoi-Ho Chan <hoiho.chan@gmail.com>
+
+Dan Fandrich (12 May 2010)
+- Added Polar SSL and RTMP files to the non-autoconf build files
+  
+  I didn't bother with a few that have little hope of running the required
+  dependent libraries.
+
+- Added the new ftp source files to the non-autoconf build files
+
+- Copy the license file so it's seen by the Android build system
+
+Daniel Stenberg (13 May 2010)
+- updated with symbols added in recent commits for 7.21.0
+
+- changelogs: mention RTMP and the FTP wildcard support
+
+- ftp wildcards: mention they're added in 7.21.0
+
+- style: minor whitespace change
+
+- syntax: cleanups
+
+- [Pavel Raiskup brought this change]
+
+  FTP: WILDCARDMATCH/CHUNKING/FNMATCH added
+
+- [Howard Chu brought this change]
+
+  RTMP: initial support added, powered by librtmp
+  
+  librtmp is found at http://rtmpdump.mplayerhq.hu/
+
+- [Howard Chu brought this change]
+
+  sendrecv: make them two pairs of send/recv to properly deal with FTPS
+  
+  FTP(S) use two connections that can be set to different recv and
+  send functions independently, so by introducing recv+send pairs
+  in the same manner we already have sockets/connections we can
+  work with FTPS fine.
+  
+  This commit fixes the FTPS regression introduced in change d64bd82.
+
+Kamil Dudka (11 May 2010)
+- changelog: fixed CRL support in libcurl-NSS
+
+- nss: make it possible to read ASCII and DER CRL
+
+- nss: add CRL to cache instead of read-only NSS db
+
+Daniel Stenberg (10 May 2010)
+- git: how to write a fine commit message
+
+- findtool: file name as a full path requires a slash
+  
+  Kalle Vahlman's patch applied a while ago broke how the findtool
+  function searches for tools, as it would always check if "$file"
+  was present first, which thus made the bad assumption that a file
+  in the current directory would be a match.
+  
+  I noticed when it found 'libtool' in the current directory but
+  libtoolize is not there, which confused the script.
+
+Hacki (8 May 2010)
+- moved vars into conditional since seems that winsock implementation doesnt use them.
+
+Daniel Stenberg (7 May 2010)
+- multi interface: missed storing connection time
+  
+  Dirk Manske reported a regression. When connecting with the multi
+  interface, there were situations where libcurl wouldn't store
+  connect time correctly as it used to (and is documented to) do.
+  
+  Using his fine sample program we could repeat it, and I wrote up
+  test case 573 using that code. The problem does not easily show
+  itself using the local test suite though.
+  
+  The fix, also as suggested by Dirk, is a bit on the ugly side as
+  it adds yet another call to Curl_verboseconnect() and setting the
+  TIMER_CONNECT time.  That situation is subject for some closer
+  inspection in the future.
+
+- verboseconnect: so the verbose checking within the function
+  
+  As the function is used more than once and libcurl can be built
+  without it, do the conditional check within the verboseconnect()
+  function itself.
+
+- changelogs: split the I/O handling
+
+- [Howard Chu brought this change]
+
+  sendrecv: split the I/O handling into private handler
+  
+  Howard Chu brought the bulk work of this patch that properly
+  moves out the sending and recving of data to the parts of the
+  code that are properly responsible for the various ways of doing
+  so.
+  
+  Daniel Stenberg assisted with polishing a few bits and fixed some
+  minor flaws in the original patch.
+  
+  Another upside of this patch is that we now abuse CURLcodes less
+  with the "magic" -1 return codes and instead use CURLE_AGAIN more
+  consistently.
+
+- changelog: PolarSSL
+
+- [Hoi-Ho Chan brought this change]
+
+  PolarSSL: initial support added
+  
+  This is Hoi-Ho Chan's patch with some minor fixes by me. There
+  are some potential issues in this, but none worse than we can
+  sort out on the list and over time.
+
+- TODO: we've done PRET already, consider HOST for the future
+  
+  ... and GnuTLS connects are non-blocking, TFTP is better
+  integrated as a "real" protocol and RTSP is supported.
+
+- TODO: GnuTLS connects are now non-blocking
+  
+  Since commit c288860 by Jerome Vouillon
+
+- INTERNALS: tftp is decent now, ldap is not
+  
+  It's not quite fair to list TFTP is a "crappy" member of the
+  libcurl family so I removed its mentioning.
+
+- changelog: mention Ben Greear's telnet work
+
+- [Ben Greear brought this change]
+
+  telnet: Allow programatic use of telnet.
+  
+  The main change is to allow input from user-specified methods,
+  when they are specified with CURLOPT_READFUNCTION.
+  All calls to fflush(stdout) in telnet.c were removed, which makes
+  using 'curl telnet://foo.com' painful since prompts and other data
+  are not always returned to the user promptly.  Use
+  'curl --no-buffer telnet://foo.com' instead.  In general,
+  the user should have their CURLOPT_WRITEFUNCTION do a fflush
+  for interactive use.
+  
+  Also fix assumption that reading from stdin never returns < 0.
+  Old code could crash in that case.
+  
+  Call progress functions in telnet main loop.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- test: enable valgrind for 604, seems to work
+
+Kamil Dudka (28 Apr 2010)
+- [Paul Howarth brought this change]
+
+  add 1s post-command delay to tests 513 and 514
+  
+  addressing http://curl.haxx.se/mail/lib-2009-12/0031.html
+
+Daniel Stenberg (26 Apr 2010)
+- [Kalle Vahlman brought this change]
+
+  Allow tools to be defined with full path in buildconf
+  
+  This is required in Scratchbox where
+  LIBTOOL=/targets/links/arch_tools/bin/libtool
+  is set in the environment.
+
+- progress callback: can be called more than once per sec
+
+- SSH: init and cleanup libssh2 in global_init/cleanup
+  
+  The necessary libssh2 functions require libssh2 1.2.5 or later.
+
+- new configure option --enable-threaded-resolver
+
+- configure: check for libssh2_init and libssh2_exit
+
+Kamil Dudka (24 Apr 2010)
+- nss: fix SSL handshake timeout underflow
+
+Guenter Knauf (24 Apr 2010)
+- encourage users to take latest lib dependencies.
+
+Daniel Stenberg (24 Apr 2010)
+- socks5: please static code analyzer
+  
+  Make sure we don't call memcpy() if the argument is NULL even
+  though we also passed a zero length then, as the clang analyzer
+  whined and we want to limit warnings (even false positives) when
+  they're this easy to fix.
+  
+  The change of (char) to (unsigned char) will fix long user names
+  and passwords on systems that have the char type signed by
+  default.
+
+- gzip: Value stored to 'data' is never read
+
+- RELEASE-NOTES: update top numbers
+
+- changelog: added the --proto and -proto-redir options
+
+- [Alex Bligh brought this change]
+
+  curl: added --proto and --proto-redir
+  
+  --proto tells curl to use the listed protocols for its initial
+  retrieval
+  
+  --proto-redir tells curl to use the listed protocols after a
+  redirect
+
+Kamil Dudka (24 Apr 2010)
+- test536: do not fail with threaded DNS resolver
+  
+  Also tweaked comments in certain examples using curl_multi_fdset().
+
+Daniel Stenberg (21 Apr 2010)
+- curl: -O crash on windows
+  
+  The -O option caused curl to crash on windows and DOS due to the
+  tool writing out of boundary memory.
+
+Yang Tse (20 Apr 2010)
+- hmac.c related compilation adjustment
+
+- hmac.c related compilation adjustment
+
+monnerat (20 Apr 2010)
+- Add compilation directives for hmac in Watcom,riscos and vc6 platform-specific makefiles.
+
+Yang Tse (20 Apr 2010)
+- [Ruslan Gazizov brought this change]
+
+  replaced wsock32.lib usage with ws2_32.lib in MSVC makefiles
+
+monnerat (19 Apr 2010)
+- Merge branch 'master' of github.com:bagder/curl
+
+- Remove null-effect leftover code.
+
+Daniel Stenberg (19 Apr 2010)
+- changelog: -J/--remote-header-name strips CRLF
+
+- parse_filename: strip trailing CRs and LFs
+  
+  The feature that uses the file name given in a
+  Content-disposition: header didn't properly skip trailing
+  carriage returns and linefeed characters from the end of the file
+  name when it was given without quotes.
+
+- Curl_HMAC_MD5: fix the array init to not warn with picky compilers
+
+monnerat (19 Apr 2010)
+- Fix GnuTLS compilation problem in md5.c
+
+- Fix compilation problem: declare Curl_HMAC_MD5 as extern in include file.
+
+- Merge branch 'master' of github.com:bagder/curl
+
+- Implement SMTP authentication
+
+Daniel Stenberg (17 Apr 2010)
+- parseconfig: Value stored to 'line' is never read
+  
+  Make the function call with (void) as we don't care about the
+  return code.
+
+- parsedate: Value stored to 'found' is never read
+
+- check_gzip_header: Value stored to 'data' is never read
+
+- dprintf_formatf: Value stored to 'left' is never read
+
+- curl_version: remove superfluous assignments
+
+- FTP PORT: Value stored to 'rc' is never read
+
+- Curl_setup_transfer: no longer returns anything
+  
+  This function could only return CURLE_OK and by changing it to
+  a void instead, we can simplify code all over.
+
+- PASV response: Value stored to 'rc' is never read
+
+- Curl_perform: Value stored to 'res2' is never read
+
+- sftp range: remove unnecessary check for NULL pointer
+
+- ftp_range: remove unnecessary check for NULL pointer
+
+- file_range: remove unnecessary check for NULL pointer
+
+- SOCKS4: Value stored to 'rc' is never read
+
+- FTP PASV: Value stored to 'rc' is never read
+
+- ftp_range: Value stored to 'totalsize' is never read
+  
+  Simplified the code by removing a local variable completely.
+
+- SOCKS5: when name resolves fail return immediately
+  
+  This makes the code flow more obvious and reacts on the return
+  code properly, even if the code acted the same way before.
+
+- POP3: when USER command fails, don't even try PASS
+
+- tftp_rx: Value stored to 'sbytes' is never read
+
+- file_range: Value stored to 'totalsize' is never read
+
+- changelog: GnuTLS: SSL handshake phase is non-blocking
+
+- [Jerome Vouillon brought this change]
+
+  GnuTLS: make the connection phase non-blocking
+  
+  When multi interface is used, the SSL handshake is no longer
+  blocking when GnuTLS is used.
+
+- krb5_auth: fix my previous change to compile
+
+unknown (16 Apr 2010)
+- OS400 version V5R2M0 not supported anymore by IBM: default target release changed to V5R3M0.
+
+Daniel Stenberg (16 Apr 2010)
+- changelog: GnuTLS fix, no reverse loopkups and fixed GSS detection
+
+- SSL_RECV: EOF is not an error here
+  
+  The recent overhaul of the SSL recv function made this treat a
+  zero returned from gnutls_record_recv() as an error, and this
+  caused our HTTPS test cases to fail. We leave it to upper layer
+  code to detect if an EOF is a problem or not.
+
+- [Paul Howarth brought this change]
+
+  configure: GSSAPI detection on ancient Linux distros
+  
+  On some ancient distributions such as RHEL-3, <gssapi/gssapi_krb5.h> needs
+  to be processed after <gssapi/gssapi.h>, but does not include it itself.
+  This patch checks for <gssapi/gssapi.h> first and then includes it
+  in the test for <gssapi/gssapi_krb5.h>, resolving the problem.
+  
+  Without the patch, <gssapi/gssapi_krb5.h> is "present but cannot be
+  compiled".
+
+- resolvers: no more using AI_CANONNAME
+  
+  No resolver anymore needs to use AI_CANONNAME and do reverse
+  lookups.  We should work hard to avoid having code that relies on
+  it.
+
+- KRB5: use given host name instead of reverse lookup'ed name
+  
+  This code would previously use dns_entry->addr->ai_canonname
+  instead of the given host name, which caused us grief and
+  problems since not all our resolver options do the reverse lookup
+  and I would also guess that it caused problems with KRB5/GSS with
+  virtual name-based hosts. Now the host name from the URL is used.
+
+Dan Fandrich (15 Apr 2010)
+- Remove redundant conditional
+
+- Eliminated an unlikely race condition in some tests.
+  
+  Based on a patch from the FreeBSD ports by Peter Pentchev.
+
+Daniel Stenberg (15 Apr 2010)
+- changelog: prevent needless reverse name lookups
+
+- Curl_ipv4_resolve_r: only set AI_CANONNAME when needed
+  
+  As reported in bug report #2987196, the code for ipv6 already did
+  the setting of this bit correctly so we copied that logic into
+  the Curl_ipv4_resolve_r() function as well. KRB code is the only
+  code we know that might need the cannonical name so only resolve
+  it for such requests!
+
+- IGNORE: files generated by maketgz
+
+- bumped to start the journey towards 7.20.2
+
+- added contributors from the 7.20.1 RELEASE-NOTES
+
+- ignore files generated by 'maketgz'
+
+Version 7.20.1 (14 Apr 2010)
+
+Daniel Stenberg (14 Apr 2010)
+- 7.20.1: 14 April 2010
+
+Guenter Knauf (13 Apr 2010)
+- Use correct directory for c-ares git pull
+  Signed-off-by: Tor Arntsen <tor@spacetec.no>
+
+Yang Tse (13 Apr 2010)
+- fix compiler warning: variable might be clobbered by longjmp or vfork
+
+Guenter Knauf (13 Apr 2010)
+- added last git commit output for c-ares too.
+
+- changed the git update block to take care of c-ares repo if detected.
+
+- updated timestamp of the script.
+
+- removed obsolete var in gitpull() function
+  no need to create a var - lets just return the status var itself.
+
+- added a cast to silent compiler warning with 64bit systems.
+
+- fixed a path typo in src/Makefile.netware.
+
+Daniel Stenberg (12 Apr 2010)
+- Added text for How To Make a Patch with git
+
+- update the section on timeouts
+  
+  The section that describes how to work with timeouts was
+  misleading and could easily trick users to use the wrong API.
+
+- update URL and cut out wrong info on ipv6
+  
+  c-ares has had its own URL for a while and we should point
+  people to that. It also works with IPv6 since a long time.
+
+- refer to CURLMOPT_TIMERFUNCTION for multi_socket users
+  
+  curl_multi_timeout(3) is simply the wrong function to use
+  if you're using the multi_socket API and this document now
+  states this pretty clearly to help guiding users.
+
+- s/CVS/git
+
+- modified to use the git file, not cvs
+  
+  I've done this blindly, and the last piece that works with ares
+  should possibly be done differently now that c-ares isn't a
+  subtree within the curl tree anymore...
+
+- mention missing test servers for <server>
+
+- FTP quote commands prefixed with '*' now can fail without aborting
+  
+  Prefixing the FTP quote commands with an asterisk really only
+  worked for the postquote actions. This is now fixed and test case
+  227 has been extended to verify.
+
+Kamil Dudka (7 Apr 2010)
+- qssl: reflect recent code changes in SSL interface
+  
+  Reported by Guenter Knauf.
+
+- nss: handle client certificate related errors
+
+- [Ben Greear brought this change]
+
+  ssl: Fix build when SSL isn't enabled
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- refactorize interface of Curl_ssl_recv/Curl_ssl_send
+
+- simplify code of Curl_resolv_timeout()
+
+- eliminate a race condition in Curl_resolv_timeout()
+
+Daniel Stenberg (2 Apr 2010)
+- [Ben Greear brought this change]
+
+  fixed compiler warnings
+
+- updated contributor count
+
+- add contributors from the 7.20.0 release notes
+
+- fix SFTP download hang
+  
+  Matt Wixson found and fixed a bug in the SCP/SFTP area where the
+  code treated a 0 return code from libssh2 to be the same as
+  EAGAIN while in reality it isn't. The problem caused a hang in
+  SFTP transfers from a MessageWay server.
+
+Dan Fandrich (31 Mar 2010)
+- Fixed misleading test message
+
+Daniel Stenberg (31 Mar 2010)
+- update the generic copyright year range
+
+- removed README.cmake due to the improved situation
+
+Guenter Knauf (31 Mar 2010)
+- fix compiler warning with a cast.
+
+- make folks use latest available dependent libraries.
+
+Dan Fandrich (30 Mar 2010)
+- Call curl_global_cleanup() in test 560 to avoid a memory leak
+
+- Allow test 538 to run even when proxy support is disabled
+
+Daniel Stenberg (29 Mar 2010)
+- use (s)size_t for string lengths to fix compiler warns
+
+- use size_t to hold string length
+  
+  using int is not fine on 64bit systems
+
+- [Ben Greear brought this change]
+
+  Fix compile warnings in ssh.c
+  
+  strlen() returns size_t, but ssh libraries are wanting 'unsigned int'.  Add
+  explicit casts and use _ex versions of the ssh library calls.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- [Ben Greear brought this change]
+
+  fix smtp compile warning
+  
+  Use ssize_t instead of int for the Curl_smtp_escape_eob nread
+  argument.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- Ben's POP3 change
+
+- [Ben Greear brought this change]
+
+  pop3: Get message listing if no mailbox in URL
+  
+  If you pass a URL to pop3 that does not contain a message ID as
+  part of the URL, it will currently ask for 'INBOX' which just
+  causes the pop3 server to return an error.
+  
+  The change makes libcurl treat en empty message ID as a request
+  for LIST (list of pop3 message IDs).  User's code could then
+  parse this and download individual messages as desired.
+
+- [Ben Greear brought this change]
+
+  Allow running ./tests/testcurl.pl from within git repo.
+  
+  My first instinct was to run the test script within the checked out
+  repository.  This small change to the script allows that to work as
+  expected.
+  
+  Signed-off-by: Ben Greear <greearb@candelatech.com>
+
+- minor language fix
+
+- [Ben Greear brought this change]
+
+  allow user+password in the URL for all protocols
+  
+  Ben Greear brought a patch that from now on allows all protocols
+  to specify name and user within the URL, in the same manner HTTP
+  and FTP have been allowed to in the past - although far from all
+  of the libcurl supported protocols actually have that feature in
+  their URL definition spec.
+
+- ignore pid files and stunnel.conf
+  
+  all used while running tests
+
+- make sure git pull is actually done!
+
+- changelogged: smoother rate limiting
+
+- [Ben Greear brought this change]
+
+  Make rate-limitation logic smoother
+  
+  This gives a smoother rate limitation performance by using
+  sub-second pauses and also taking the buffer sizes into
+  account.
+
+- remove all .cvsignore files
+
+- PROT_CLOSEACTION should not include TFTP
+  
+  TFTP is not a protocol that uses close actions so it should
+  not be set in that bitmask!
+
+- [Tor Arntsen brought this change]
+
+  Avoid double newline for the 'last commits' log in testcurl.pl
+  
+  The backtick command which extracts 'git log' lines come with a
+  newline, so chomp the newline before calling logit(), as the logit
+  function adds a newline by itself.
+
+- [Tor Arntsen brought this change]
+
+  Change to version-independent git option for 'git log --oneline'
+  
+  'git log --oneline' is a relatively recent Git function. It is
+  documented to be the same as 'git log --pretty=oneline --abbrev-commit',
+  so use that instead. It works all the way back to Git 1.5.0.
+
+- show 5 commits even if no git pull was made
+
+- don't touch ares/aclocal.m4 and show recent git commits
+  
+  since c-ares no longer embedded, we must not touch such files
+  anymore
+  
+  we show the 5 last git commits if git was proven in use, to help
+  us see exactly what's being tested
+
+- use CURL_SIZEOF_LONG instead of SIZEOF_LONG
+  
+  That's the symbol we have or generate in include/curl/curlbuild.h
+
+- s/CVS/DEV in the version string from the git repo
+
+Bill Hoffman (24 Mar 2010)
+- Merge branch 'master' of github.com:bagder/curl
+
+- Add .gitattributes files to turn off CRLF translation for some files
+
+Daniel Stenberg (24 Mar 2010)
+- provide a version number as today's date
+  
+  It should at least help visualize which autobuilds that are
+  using this script.
+
+- testcurl now uses git instead of CVS
+
+Bill Hoffman (24 Mar 2010)
+- Merge branch 'master' of github.com:bagder/curl
+
+- Enable LDAP by default since it is now disabled when ldap.h is not found,
+
+- CMake fixes for Linux.
+  
+  Make sure <sys/socket.h> is included if around when testing/using
+  socklen_t.  Also, disable LDAP if LDAP_H is not found on the system.
+
+Daniel Stenberg (24 Mar 2010)
+- [Bob Richmond brought this change]
+
+  fix: timeout after last data chunk was handled
+  
+  Bob Richmond: There's an annoying situation where libcurl will
+  read new HTTP response data from a socket, then check if it's a
+  timeout if one is set. If the last packet received constitutes
+  the end of the response body, libcurl still treats it as a
+  timeout condition and reports a message like:
+  
+  "Operation timed out after 3000 milliseconds with 876 out of 876
+  bytes received"
+  
+  It should only a timeout if the timer lapsed and we DIDN'T
+  receive the end of the response body yet.
+
+- avoid compiler warning without USE_ALARM_TIMEOUT
+
+Bill Hoffman (24 Mar 2010)
+- Fix curl CMake build.
+  
+  This commit fixes the cmake build of curl, and cleans up the
+  cmake code a little.  It removes some commented out code and
+  some trailing whitespace.  To get curl to build the binary
+  tree include/curl directory needed to be added to the include
+  path. Also, SIZEOF_SHORT needed to be added.  A check for the
+  lack of defines of SIZEOF_* for warnless.c was added.
+
+Daniel Stenberg (24 Mar 2010)
+- [Chris Conroy brought this change]
+
+  remove debug printfs
+
+- RTSP GET_PARAMETER fix
+  
+  Christopher Conroy fixed a problem with RTSP and GET_PARAMETER
+  reported to us by Massimo Callegari. There's a new test case 572
+  that verifies this now.
+
+- remove trace of CVS
+
+- [Chris Conroy brought this change]
+
+  Fix RTSP GET_PARAMETER empty and non-empty operation.
+  
+  Test coverage included. Thanks to Massimo Callegari for the bug report
+
+- s/CVS/DEV/ in the version string for repo versions
+
+- scrapped all left-over TODOs
+  
+  In order to get back on track, I've removed all the plans for
+  stuff I had in the queue. I will instead focus on fixing bugs and
+  relying on that people who truly want things added will come back
+  on the mailing list and nag and provide patches.
+  
+  7.20.1 should be possible to release in April 2010
+
+- restore executable bits on some files
+
+- remove the CVSish $Id$ lines
+
+- The 'ares' subtree has been removed from the source repository
+
+- s/CVS/git
+
+- update to current state
+
+- remove the ares subtree
+  
+  c-ares is now hosted entirely separate from the curl project
+  see http://c-ares.haxx.se/ for all details concerning c-ares,
+  its source repository and more.
+
+- mark connection as connected
+  
+  Kenny To filed the bug report #2963679 with patch to fix a
+  problem he experienced with doing multi interface HTTP POST over
+  a proxy using PROXYTUNNEL. He found a case where it would connect
+  fine but bits.tcpconnect was not set correct so libcurl didn't
+  work properly.
+  
+  (http://curl.haxx.se/bug/view.cgi?id=2963679)
+
+- enabled valgrind
+  
+  I ran it now successfully and it helped to pinpoint a libssh2
+  memory leak!
+
+Dan Fandrich (23 Mar 2010)
+- Updated Symbian notes
+
+Daniel Stenberg (23 Mar 2010)
+- chunked-encoding with Content-Length: header problem
+  
+  Akos Pasztory filed debian bug report #572276
+  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=572276
+  mentioning a problem with a resource that returns chunked-encoded
+  _and_ with a Content-Length and libcurl failed to properly ignore
+  the latter information.
+
+- delayed easy handle kill caused double Curl_close() call
+  
+  Hauke Duden provided an example program that made the multi
+  interface crash.  His example simply used the multi interface and
+  did first one FTP transfer and after completion it used a second
+  easy handle and did another FTP transfer on the same FTP server.
+  
+  This triggered a bug in the "delayed easy handle kill" system
+  that curl uses: when an FTP connection is left alive it must keep
+  an easy handle around internally - only for the purpose of having
+  an easy handle when it later disconnects it. The code assumed
+  that when the easy handle was removed and an internal reference
+  was made, that version could be killed later on when a new easy
+  handle came using the same connection. This was wrong as Hauke's
+  example showed that the removed handle wasn't killed for real
+  until later. This caused a double close attempt => segfault.
+
+- ignore more files generated when tests run in the source tree
+
+- Thomas Lopatic fixed the alarm()-based DNS timeout
+
+- [Thomas Lopatic brought this change]
+
+  fix the alarm()-based DNS timeout
+  
+  Looking at the code of Curl_resolv_timeout() in hostip.c, I think
+  that in case of a timeout, the signal handler for SIGALRM never
+  gets removed. I think that in my case it gets executed at some
+  point later on when execution has long left Curl_resolv_timeout()
+  or even the cURL library.
+  
+  The code that is jumped to with siglongjmp() simply sets the
+  error message to "name lookup timed out" and then returns with
+  CURLRESOLV_ERROR. I guess that instead of simply returning
+  without cleaning up, the code should have a goto that jumps to
+  the spot right after the call to Curl_resolv().
+
+- [Daniel Johnson brought this change]
+
+  Fix warnings for clang
+
+- Merge branch 'master' of github.com:bagder/curl
+
+Kamil Dudka (22 Mar 2010)
+- [douglas steinwand brought this change]
+
+  Fix insufficient initialization in Curl_clone_ssl_config()
+  
+  which could have caused a double free when reusing curl handle.
+
+Daniel Stenberg (22 Mar 2010)
+- we never used this file anyway
+
+- s/CVS/git
+
+- various changes of CVS to git
+
+- remove references to CVS in the code and use DEV instead
+
+- Ben Greear's two fixes explained
+
+- [Ben Greear brought this change]
+
+  Fix tftp return codes and tsize upload handling
+  
+  Error codes were not properly returned to the main curl code (and on to apps
+  using libcurl).
+  
+  tftp was crapping out when tsize == 0 on upload, but I see no reason to fail
+  to upload just because the remote file is zero-length.  Ignore tsize option on
+  upload.
+
+- more files to ignore
+
+- provide an initial set of .gitignore files
+
+Kamil Dudka (19 Mar 2010)
+- - Improved Curl_read() to not ignore the error returned from Curl_ssl_recv().
+
+Daniel Stenberg (18 Mar 2010)
+- fix warning about conversions between curl_off_t and long
+
+Yang Tse (18 Mar 2010)
+- another shot at the ftp_init() icc 9.1 optimizer issue
+
+- replaced intel compiler option -no-ansi-alias with -fno-strict-aliasing
+
+- update outdated serial number
+
+Dan Fandrich (16 Mar 2010)
+- Factored out some code into a few independent functions
+
+Daniel Stenberg (15 Mar 2010)
+- - Constantine Sapuntzakis brought a patch:
+  
+    The problem mentioned on Dec 10 2009
+    (http://curl.haxx.se/bug/view.cgi?id=2905220) was only partially fixed.
+    Partially because an easy handle can be associated with many connections in
+    the cache (e.g. if there is a redirect during the lifetime of the easy
+    handle).  The previous patch only cleaned up the first one. The new fix now
+    removes the easy handle from all connections, not just the first one.
+
+Yang Tse (11 Mar 2010)
+- fix compiler warning
+
+Dan Fandrich (11 Mar 2010)
+- SSL should now be working out-of-the-box on Symbian S60.
+
+- Enable Symbian zlib support by default.
+
+- Allow compilation even when OpenSSL has been configured without MD4 support.
+
+- A few Symbian build changes
+
+Yang Tse (9 Mar 2010)
+- watt32 compilation fix
+
+Daniel Stenberg (6 Mar 2010)
+- - Ben Greear brought a patch that fixed the rate limiting logic for TFTP when
+    the easy interface was used.
+
+- indent fix by Ben Greear, I removed some braces for single-line conditional
+  expressions
+
+Yang Tse (6 Mar 2010)
+- Added another VS10 version string
+
+- fix line break
+
+- removed usage of 's6_addr', fixing compilation issue triggered with no
+  longer using 'in6_addr' but only our 'ares_in6_addr' struct
+
+Daniel Stenberg (5 Mar 2010)
+- Daniel Johnson provided fixes for building with the clang compiler
+
+Yang Tse (5 Mar 2010)
+- Added IPv6 name servers support
+
+Gisle Vanem (5 Mar 2010)
+- Ops!. Readded ares_nowarn.h.
+
+- Added ares_nowarn.c.
+
+Yang Tse (5 Mar 2010)
+- Constantine Sapuntzakis detected and fixed a double free in builds done
+  with threaded resolver enabled (Windows default configuration) that would
+  get triggered when a curl handle is closed while doing DNS resolution.
+
+- Added SIZEOF_INT and SIZEOF_SHORT definitions for VMS configuration file
+
+Daniel Stenberg (4 Mar 2010)
+- Julien Chaffraix clarified CURLOPT_HEADERFUNCTION and made
+  CURLOPT_HEADERFUNCTION and CURLOPT_WRITEFUNCTION more consistent
+
+- - [Daniel Johnson] I've been trying to build libcurl with clang on Darwin and
+    ran into some issues with the GSSAPI tests in configure.ac. The tests first
+    try to determine the include dirs and libs and set CPPFLAGS and LIBS
+    accordingly. It then checks for the headers and finally sets LIBS a second
+    time, causing the libs to be included twice. The first setting of LIBS seems
+    redundant and should be left out, since the first part is otherwise just
+    about finding headers.
+  
+    My second issue is that 'krb5-config --libs gssapi' on Darwin is less than
+    useless and returns junk that, while it happens to work with gcc, causes
+    clang to choke. For example, --libs returns $CFLAGS along with the libs,
+    which is really retarded. Simply setting 'LIBS="$LIBS -lgssapi_krb5
+    -lresolv"' on Darwin is sufficient.
+
+- - Based on patch provided by Jacob Moshenko, the transfer logic now properly
+    makes sure that when using sub-second timeouts, there's no final bad 1000ms
+    wait. Previously, a sub-second timeout would often make the elapsed time end
+    up the time rounded up to the nearest second (e.g. 1s for 200ms timeout)
+
+- update the generic copyright year range to include 2010
+
+- - Andrei Benea filed bug report #2956698 and pointed out that the
+    CURLOPT_CERTINFO feature leaked memory due to a missing OpenSSL function
+    call. He provided the patch to fix it too.
+  
+    http://curl.haxx.se/bug/view.cgi?id=2956698
+
+- - Markus Duft pointed out in bug #2961796 that even though Interix has a
+    poll() function it doesn't quite work the way we want it so we must disable
+    it, and he also provided a patch for it.
+  
+    http://curl.haxx.se/bug/view.cgi?id=2961796
+
+- - Made the pingpong timeout code properly deal with the response timeout AND
+    the global timeout if set. Also, as was reported in the bug report #2956437
+    by Ryan Chan, the time stamp to use as basis for the per command timeout was
+    not set properly in the DONE phase for FTP (and not for SMTP) so I fixed
+    that just now. This was a regression compared to 7.19.7 due to the
+    conversion of FTP code over to the generic pingpong concepts.
+  
+    http://curl.haxx.se/bug/view.cgi?id=2956437
+
+- remove assignment never used
+
+- - Ben Greear provided an update for TFTP that fixes upload.
+
+- SSL, not SSH, SSL
+
+- - Wesley Miaw reported bug #2958179 which identified a case of looping during
+    OpenSSL based SSL handshaking even though the multi interface was used and
+    there was no good reason for it.
+  
+    http://curl.haxx.se/bug/view.cgi?id=2958179
+
+Yang Tse (28 Feb 2010)
+- Added SIZEOF_INT and SIZEOF_SHORT definitions for non-configure systems
+
+- Added ares_nowarn.* to VC6 project file
+
+Daniel Stenberg (26 Feb 2010)
+- spellchecked by Stéphane Fillod
+
+- - Pat Ray in bug #2958474 pointed out an off-by-one case when receiving a
+    chunked-encoding trailer.
+  
+    http://curl.haxx.se/bug/view.cgi?id=2958474
+
+Dan Fandrich (26 Feb 2010)
+- Fixed a couple of out of memory leaks and a segfault in the IMAP code.
+
+Yang Tse (26 Feb 2010)
+- fix sizeof short
+
+- Added SIZEOF_INT and SIZEOF_SHORT definitions for non-configure systems
+
+- Added SIZEOF_INT definition
+
+- fix compiler warning
+
+- fix compiler warning
+
+- fix compiler warning
+
+Dan Fandrich (25 Feb 2010)
+- Fixed a couple of out of memory leaks and a segfault in the SMTP code.
+
+Yang Tse (25 Feb 2010)
+- fix file name
+
+- Fixed bug report #2958074 indicating
+  (http://curl.haxx.se/bug/view.cgi?id=2958074) that curl on Windows with
+  option --trace-time did not use local time when timestamping trace lines.
+  This could also happen on other systems depending on time souurce.
+
+- enable 802 and 803
+
+- fix compiler warning
+
+- fix compiler warning
+
+- fix compiler warning
+
+- fix socket data type
+
+- fix socket data type and logging format in debug tracking socket functions
+
+- convert Curl_ultous() and Curl_ultouc() functions to curlx_ultous() and
+  curlx_ultouc(), exposing them through curlx.h to allow proper code reuse
+  later in our test harness.
+
+- updated sources
+
+Patrick Monnerat (22 Feb 2010)
+- _ Adjusted RFC821 HELO fallback and enabled test804
+
+- - Proper handling of STARTTLS on SMTP, taking CURLUSESSL_TRY into account.
+  - SMTP falls back to RFC821 HELO when EHLO fails (and SSL is not required).
+  - Use of true local host name (i.e.: via gethostname()) when available, as default argument to SMTP HELO/EHLO.
+  - Test case 804 for HELO fallback.
+
+Yang Tse (22 Feb 2010)
+- add header inclusion
+
+- fix compiler warning
+
+- fix compiler warning
+
+Daniel Stenberg (21 Feb 2010)
+- clarify more details on section "2.1 More non-blocking"
+
+- TFTP transfers are not blocking since 7.20.0
+
+- - Fixed the SMTP compliance by making sure RCPT TO addresses are specified
+    properly in angle brackets. Recipients provided with CURLOPT_MAIL_RCPT now
+    get angle bracket wrapping automatically by libcurl unless the recipient
+    starts with an angle bracket as then the app is assumed to deal with that
+    properly on its own.
+
+- - I made the SMTP code expect a 250 response back from the server after the
+    full DATA has been sent, and I modified the test SMTP server to also send
+    that response. As usual, the DONE operation that is made after a completed
+    transfer is still not doable in a non-blocking way so this waiting for 250
+    is unfortunately made blockingly.
+
+- corected a comment and wrapped a few longish lines
+
+Yang Tse (20 Feb 2010)
+- fix compiler warning
+
+- fix compiler warning
+
+- fix compiler warning
+
+- fix compiler warning
+
+- fix compiler warning
+
+Daniel Stenberg (17 Feb 2010)
+- ares_reinit()
+  
+  - To allow an app to force a re-read of /etc/resolv.conf etc, pretty much
+    like the res_init() resolver function offers
+
+- use curl standard indentation and line lengths
+
+Yang Tse (16 Feb 2010)
+- replaced tabs with spaces
+
+- fix Content-Length validation
+
+Daniel Stenberg (15 Feb 2010)
+- use (void) in front of fwrite() calls that ignore the return code
+
+Yang Tse (15 Feb 2010)
+- fix compiler warning: conversion from "long" to "size_t" may lose sign
+
+- fix compiler warning: conversion from "long" to "size_t" may lose sign
+
+Daniel Stenberg (15 Feb 2010)
+- -w speed_download and speed_upload are measured in bytes per second
+
+- 75. NTLM authentication involving unicode user name or password.
+    http://curl.haxx.se/mail/lib-2009-10/0024.html
+    http://curl.haxx.se/bug/view.cgi?id=2944325
+
+Yang Tse (14 Feb 2010)
+- removed trailing whitespace
+
+- fix compiler warning
+
+- Overhauled test suite getpart() function. Fixing potential out of bounds
+  stack and memory overwrites triggered with huge test case definitions.
+
+Daniel Stenberg (13 Feb 2010)
+- - Martin Hager reported and fixed a problem with a missing quote in libcurl.m4
+  
+    (http://curl.haxx.se/bug/view.cgi?id=2951319)
+
+Gunter Knauf (13 Feb 2010)
+- used allways #ifdef / #ifndef;
+  moved gethostbyname_thread() to #else case to avoid 'not used' compiler warning.
+
+- replaced tabs by spaces, removed trailing tabs/spaces.
+
+Daniel Stenberg (13 Feb 2010)
+- - Tom Donovan fixed the CURL_FORMAT_* defines when building with cmake.
+
+- - Jack Zhang reported a problem with SMTP: we wrongly used multiple addresses
+    in the same RCPT TO line, when they should be sent in separate single
+    commands. I updated test case 802 to verify this.
+  
+  - I also fixed a bad use of my_setopt_str() of CURLOPT_MAIL_RCPT in the curl
+    tool which made it try to output it as string for the --libcurl feature
+    which could lead to crashes.
+
+- CURLOPT_MAIL_RCPT is *not* a string so we must not try to printf() it
+
+- free --mail-from strings properly
+
+Patrick Monnerat (11 Feb 2010)
+- _ Make it compilable again on OS400.
+  _ Upgrade OS400 EBCDIC wrappers for new options.
+  _ Upgrade ILE/RPG bindings to current state.
+
+Yang Tse (11 Feb 2010)
+- mention last changes
+
+- Steven M. Schweda updated VMS readme file
+
+- Steven M. Schweda removed batch_compile.com and defines.com
+
+- Steven M. Schweda fixed:
+  
+  VMS builder bad behavior when used in a batch job.
+  
+  Various ".LIS" and ".MAP" files created without being requested
+  by a "LIST" command-line option, and in the wrong place, too.
+  
+  Some minor typographical changes.
+
+Dan Fandrich (10 Feb 2010)
+- Mention the minimum size of CURL_MAX_WRITE_SIZE
+
+Yang Tse (10 Feb 2010)
+- - remove extra "\r\n" from doc404_RTSP
+  
+  - avoid memory alignment issue when setting RTSP packet length
+
+Dan Fandrich (9 Feb 2010)
+- Removed some erroneous "compressed" key words
+
+Daniel Stenberg (9 Feb 2010)
+- start working on 7.20.1
+
+Version 7.20.0 (9 Feb 2010)
+
+Daniel Stenberg (9 Feb 2010)
+- spell and 7.20.0
+
+- - When downloading compressed content over HTTP and the app as asked libcurl
+    to automatically uncompress it with the CURLOPT_ENCODING option, libcurl
+    could wrongly provide the callback with more data than what the maximum
+    documented amount. An application could thus get tricked into badness if the
+    maximum limit was trusted to be enforced by libcurl itself (as it is
+    documented).
+  
+    This is further detailed and explained in the libcurl security advisory
+    20100209 at
+  
+      http://curl.haxx.se/docs/adv_20100209.html
+
+- set VERSIONINFO accordingly for the 7.20.0 release
+
+Yang Tse (6 Feb 2010)
+- warning fix
+
+- OOM handling fix
+
+- OOM handling fix
+
+- fix compiler warning
+
+- fix compiler warning
+
+- fix compiler warning
+
+- Addes OOM handling for curl_easy_setopt() calls in test
+
+- - avoid OpenSSL 0.9.8 ENGINE_by_id memory leak
+  
+  - cleanup parenthesis usage in return statements
+
+- - attempt to workaround icc 9.1 optimizer issue
+
+- fix printf-style format strings
+
+- Validate server port argument
+
+- Fix variable initialization
+
+- Modified test case 557 to additionally verify libcurl's internal curl_m*printf()
+  functions formatting functionality when handling signed and unsigned shorts.
+
+- Added size check for 'short' data type
+
+- Fix compiler warning: unused variable
+
+- added an additional second to allow test to pass on heavily loaded servers
+
+Dan Fandrich (3 Feb 2010)
+- Changed the Watcom makefiles to make them easier to keep in sync with
+  Makefile.inc since that can't be included directly.
+
+Daniel Stenberg (3 Feb 2010)
+- more symbols added in 7.20.0
+
+Yang Tse (3 Feb 2010)
+- Fix OOM handling
+
+- Fix progressmode Configurable struct member data type. Changed to
+  'int' which fits better with existing CURL_PROGRESS_* definitions.
+
+- Fix portability issue related with unaligned memory access
+
+- Fix compiler warnings: conversion from 'const int ' to 'unsigned char ', possible loss of data
+
+- cookies with same path length might get sorted in different order when
+  using different qsort implementations. In order to make this test give
+  same results on different systems, paths now have different lengths.
+
+- added an additional second to allow test to pass on heavily loaded servers
+
+- Fix compiler warning: conditional expression is constant
+
+- Fix compiler warning: local variable may be used without having been initialized.
+
+- Fix compiler warnings: conversion from 'const int ' to 'unsigned char ', possible loss of data
+
+- Fix compiler warnings:
+  
+  (1) conversion from 'const int ' to 'unsigned char ', possible loss of data
+  (2) conditional expression is constant
+
+- mention a couple of changes back from November
+
+- mention run time statistics options
+
+- - Symbol CURL_FORMAT_OFF_T now obsoleted, will be removed in a future release,
+    symbol will not be available when building with CURL_NO_OLDIES defined. Use
+    of CURL_FORMAT_CURL_OFF_T is preferred since 7.19.0
+
+- avoid possibility of using obsoleted stuff
+
+- remove setup.h inclusion which is already done from test.h inclusion
+
+Kamil Dudka (2 Feb 2010)
+- mention SOCKS related problems in the curl(1) man page
+
+Yang Tse (2 Feb 2010)
+- Fix compiler warning: variable was set but never used
+  
+  Simplify preprocessor symbol checking
+
+Daniel Stenberg (2 Feb 2010)
+- Julien Chaffraix pointed out a comment mistake, and I re-indented the code
+  slightly while editing
+
+Yang Tse (2 Feb 2010)
+- include headers
+
+- Conroy added a check to the coded message size since the docs stipulate
+  that each call will contain a full protocol packet.
+
+- Conroy's fix to make the code match with the RTP documentation regarding
+  writing out the whole header. The docs say it writes the whole header,
+  but the code (before this patch) did not write out the leading $.
+
+Daniel Stenberg (1 Feb 2010)
+- We introduce a loop in lib/multi.c around all calls to multi_runsingle() and
+  simply check for CURLM_CALL_MULTI_PERFORM internally. This has the added
+  benefit that this goes in line with my long-term wishes to get rid of the
+  CURLM_CALL_MULTI_PERFORM all together from the public API.
+
+Yang Tse (1 Feb 2010)
+- update rtsp server header field from SWS to RTSPD
+
+- Test suite support for RTSP
+
+- Make Curl_pop3_write() additionally truncate trailing POP3_EOB from received
+  string buffer, otherwise Curl_client_write() call with zero size would write
+  to the end of string buffer including matched POP3_EOB.
+
+- WIN32 fix, _beginthreadex() may return either 0 or -1L upon failure
+
+- fix errno usage for WIN32 builds
+
+- fix printf-style format strings
+
+- Chris Conroy fixed test #568 issues with carriage returns
+
+- RTSP followup fix. Both the pipelined and non-pipelined case need to
+  check for (excess > 0 && !k->ignorebody).
+
+Daniel Stenberg (28 Jan 2010)
+- - Tommie Gannert pointed out a silly bug in ares_process_fd() since it didn't
+    check for broken connections like ares_process() did. Based on that, I
+    merged the two functions into a single generic one with two front-ends.
+
+Yang Tse (28 Jan 2010)
+- fix printf-style format strings
+
+- Use 'size_t' for GETNAMEINFO_TYPE_ARG2 definition for VMS.
+  
+  http://curl.haxx.se/mail/lib-2009-12/0293.html
+
+- portability fix
+
+- fix printf-style format strings
+
+- Known bug #64 fixed by Constantine Sapuntzakis and Joshua Kwan in 7.20.0
+
+- Chris Conroy provided first RTSP tests
+
+- RTSP tests disabled until test harness RTSP support is updated
+
+- Chris Conroy's RTSP followup fixes
+
+- mention asynchronous DNS lookups enhancements
+
+- Restore normal operation:
+  
+    c-ares is only enabled when specifically requested.
+  
+    Consequently, c-ares default setting is disabled.
+
+- fix c-ares assumed check being skipped
+
+- fix compiler warning
+
+- fix LDFLAGS preservation in CURL_CHECK_LIB_ARES
+
+Daniel Stenberg (26 Jan 2010)
+- no need to take precautiono for how things were before 7.16.0 since that
+  is now a very long time ago
+
+- - Mike Crowe made libcurl return CURLE_COULDNT_RESOLVE_PROXY when it is the
+    proxy that cannot be resolved when using c-ares. This matches the behaviour
+    when not using c-ares.
+
+Dan Fandrich (26 Jan 2010)
+- Added curl_threads.c to a few more non-configure build files
+
+Yang Tse (26 Jan 2010)
+- minor fixes for --enable-ares configure option
+
+Daniel Stenberg (26 Jan 2010)
+- Andre Guibert de Bruet improved the libssh2 error code translation
+
+Yang Tse (26 Jan 2010)
+- resolver selection for non-configure Windows builds, default is threaded DNS
+
+- add curl_threads.c to non-configure target build files
+
+- onstantine Sapuntzakis threaded resolver enhancements
+
+- Constantine Sapuntzakis threaded resolver enhancements
+
+- Constantine Sapuntzakis provided initial thread abstraction layer
+
+- make Curl_handler_*_proxy definition static
+
+Dan Fandrich (25 Jan 2010)
+- Updated minimum library sizes
+
+Yang Tse (25 Jan 2010)
+- fix compiler warning
+
+Daniel Stenberg (24 Jan 2010)
+- Julien Chaffraix corrected bad #elif lines to silence warnings
+
+Yang Tse (24 Jan 2010)
+- HAVE_GETADDRINFO_THREADSAFE definition for non-configure win32 builds
+
+Bjorn Stenberg (23 Jan 2010)
+- Mention -J change
+
+- Added -J/--remote-header-name.
+
+Daniel Stenberg (23 Jan 2010)
+- "remove progress meter from libcurl" at next API break
+
+Yang Tse (23 Jan 2010)
+- add inclusion of curl_memory.h
+
+- adjust preprocessor symbol definition check relative to resolver specialty
+
+- PKTSIZE might have been already defined in arpa/tftp.h
+
+Dan Fandrich (23 Jan 2010)
+- Include "curl_memory.h" to get the strdup replacement when necessary
+
+Daniel Stenberg (22 Jan 2010)
+- wrap long lines and do some indent policing
+
+Yang Tse (22 Jan 2010)
+- Definitions of resolver specialty compile-time defines CURLRES_* moved
+  from hostip.h to setup.h in order to allow proper inclusion in any file.
+  
+  This represents no functional change at all in which resolver is used,
+  everything still works as usual, internally and externally there is no
+  difference in behavior.
+
+- adjust rtsp protocol support in curl-config and libcurl.pc when http is disabled
+
+- deal with the possibility that CURL_DISABLE_RTSP may already be defined
+
+- fix compiler warning: statement is unreachable
+
+- fix compilation when http is disabled
+
+- disabling of rtsp when http isn't enabled required here for non-configure systems
+
+Daniel Stenberg (22 Jan 2010)
+- wrap long lines, remove (very old) attribution from code
+
+- cleanups by Julien Chaffraix
+
+- alphabetically sort the list of supported protocols
+
+- In spite claiming to tbe disabled by default, RTSP is enabled and it now
+  also says so. I also made the list of protocols get sorted.
+
+- expanded to provide info about the newer protocols too
+
+- s/RTPFUNCTION/INTERLEAVEFUNCTION/
+  s/RTPDATA/INTERLEAVEDATA/
+
+- keep lines shorter than 80 columns, and reduce/remove the use of the word
+  'note' in most description as it is mostly useless.
+
+Yang Tse (22 Jan 2010)
+- Julien Chaffraix adjusted "<name> section" line length
+
+- Constantine Sapuntzakis refactoring of async callbacks, allowing
+  removal of Curl_addrinfo_copy(), Curl_addrinfo6_callback(), and
+  Curl_addrinfo4_callback()
+
+Dan Fandrich (21 Jan 2010)
+- Added rtsp.c to the non-configure target build files
+
+Yang Tse (21 Jan 2010)
+- fix compiler warning
+
+- make tftp_translate_code() static, it is only used from within tftp.c
+
+- fix warning triggered when debugging on cygwin
+
+- allow exporting of exe_ext() sub
+
+- improve displaylogcontent() sub fixing a warning
+
+Daniel Stenberg (21 Jan 2010)
+- remove typedef we ended up not using
+
+- Chris Conroy brought support for RTSP transfers, and with it comes 8(!) new
+  libcurl options for controlling what to get and how to receive posssibly
+  interleaved RTP data. Initial commit.
+
+- Julien Chaffraix fixed line lengths
+
+- Julien Chaffraix removed an old obsolete typedef
+
+- Yun Fu pointed out a flaw in the loop that checks handles, and I indented
+  the code more curl-style
+
+- "5.3 Sort outgoing cookies" removed, we now sort them
+
+Yang Tse (20 Jan 2010)
+- SIGTERM is the signal to trap here, SIGKILL can't be caught.
+
+- Use killsockfilters() to kill sockfilter processes, this ensures that when
+  killing a sockfilter process the actual PID from the pid file is used and
+  not the one returned by open2() which might be different.
+
+- Allow killsockfilters() to take a 5th optional parameter that when provided
+  indicates that only one of the two possible sockfilter processes should be
+  killed.  Valid values for this parameter are 'main' and 'data'.
+
+- Use delete() to unset environment variables instead of assigning undef which
+  generates warning 'Use of uninitialized value in scalar assignment' with perl
+  versions older than 5.10
+
+- Adjust valgrind logs file name detection.
+  
+  Adjust environment vars setting and restoring from test definition.
+  
+  Avoid using strftime in torture sub.
+
+Daniel Stenberg (20 Jan 2010)
+- modified test case 8 to also make sure that we deal with cookies using
+  identical names but different paths properly
+
+- - As was pointed out on the http-state mailing list, the order of cookies in a
+    HTTP Cookie: header _needs_ to be sorted on the path length in the cases
+    where two cookies using the same name are set more than once using
+    (overlapping) paths. Realizing this, identically named cookies must be
+    sorted correctly. But detecting only identically named cookies and take care
+    of them individually is harder than just to blindly and unconditionally sort
+    all cookies based on their path lengths. All major browsers also already do
+    this, so this makes our behavior one step closer to them in the cookie area.
+  
+    Test case 8 was the only one that broke due to this change and I updated it
+    accordingly.
+
+- oops, I forgot to cvs add this before my previous commit (Dan Fandrich
+  pointed it out to me)
+
+- - David McCreedy brought a fix and a new test case (129) to make libcurl work
+    again when downloading files over FTP using ASCII and it turns out that the
+    final size of the file is not the same as the initial size the server
+    reported. This is very common since servers don't take the newline
+    conversions into account.
+
+- "260 - IMAP, POP3 and SMTP support" done!
+
+- avoid "Use of uninitialized value $l in concatenation"
+
+Yang Tse (19 Jan 2010)
+- Fail harder when curl coredumps trying to verify http and ftp servers.
+  
+  Add some debug messages to see what's going on with valgrind logs.
+
+- prevent %runcert hash growth when clearing items
+
+- update copyright year notice
+
+- Constantine Sapuntzakis enhancements to make memory tracking log file writing
+  of messages atomic, on systems where an fwrite of a memory buffer is atomic.
+
+Dan Fandrich (18 Jan 2010)
+- Added PEM certificate keyword
+
+Yang Tse (18 Jan 2010)
+- fix warnings
+
+- Stop ssl running server when cert file currently used by server is
+  different than the one specified in test definition for same server
+
+- fix warnings
+
+- - Remove QD restarting of https servers. Proper fixing required.
+    This will make tests 310 311 and 312 fail while fixing.
+  
+  - Remove some debug messages
+
+- make verifyhttp use different file names depending on server characteristics
+
+- add serverfactors() sub which returns server characterization factors
+
+- fix warnings
+
+- fix warnings
+
+- fix warnings
+
+- add some debug messages
+
+- use servername_id() from serverhelp.pm
+
+- refactored stopping of test harness servers
+
+- Store now this file in CVS with unix line endings.
+  
+  maketgz already converts this file to DOS style with an awk filter.
+
+- Declaration of $sshdlog is done in sshhelp.pm
+
+- Start using the centralized pidfile and logfile name generation
+  subroutines for ssh and socks test suite servers.
+
+Dan Fandrich (15 Jan 2010)
+- Added the new protocol source files to the non-autoconf build files
+
+Yang Tse (14 Jan 2010)
+- Squeeze slack time when killing more than one server from
+  the <killserver> section of test harness definition files.
+
+Kamil Dudka (14 Jan 2010)
+- - Suppressed side effect of OpenSSL configure checks, which prevented NSS from
+    being properly detected under certain circumstances. It had been caused by
+    strange behavior of pkg-config when handling PKG_CONFIG_LIBDIR. pkg-config
+    distinguishes among empty and non-existent environment variable in that case.
+
+Yang Tse (13 Jan 2010)
+- Give the test a bit mote time to run so it passes on slow machines
+
+Kamil Dudka (13 Jan 2010)
+- remove trailing spaces from configure.ac
+
+Yang Tse (12 Jan 2010)
+- Added test case #1112 which does an FTPS download with strict timeout
+  and slow data transfer in a similar way as test case #1086 does for FTP.
+  
+  This also exercises <killserver> section for the FTPS server.
+
+- Make runtests.pl actually support any (valid) server specification
+  for the <killserver> section of test harness definition files.
+
+- Fix tftp and sftp supported protocols in servername_str()
+
+- Make sockfilter kill messages look alike server ones
+
+- Adjust vor VPATH builds
+
+Daniel Stenberg (11 Jan 2010)
+- - Gil Weber reported a peculiar flaw with the multi interface when doing SFTP
+    transfers: curl_multi_fdset() would return -1 and not set and file
+    descriptors several times during a transfer of a single file. It turned out
+    to be due to two different flaws now fixed. Gil's excellent recipe helped me
+    nail this.
+
+- ssh_statemach_act() is now modified to loop over the switch() to perform as
+  much as possible in one go, as long as it doesn't block and hasn't reached the
+  end of the state machine.
+  This avoids spurious -1 returns from curl_multi_fdset() simply because
+  previously it would return from this function without anything in EWOUDLBLOCK
+  and thus basically it wasn't actually waiting for anything!!
+
+- After the TCP connect is confirmed in CURLM_STATE_WAITCONNECT and it changes
+  state, we return CURLM_CALL_MULTI_PERFORM unconditionally then so that we
+  can act faster like in the case the protocol-specific connect doesn't block
+  on anything and we can just persue on the next action immediately. It also
+  then avoids a case where curl_multi_fdset() would return -1.
+
+- progress callback called repeatedly during slow connects
+
+- - Made sure that the progress callback is repeatedly called at a regular
+    interval even during very slow connects.
+
+- - The tests/runtests.pl script now checks to see if the test case that runs is
+    present in the tests/data/Makefile.am and outputs a notice message on the
+    screen if not. Each test file has to be included in that Makefile.am to get
+    included in release archives and forgetting to add files there is a common
+    mistake. This is an attempt to make it harder to forget.
+
+Yang Tse (11 Jan 2010)
+- secureserver.pl is now the test harness script used for SSL/TLS.
+
+- secureserver.pl is now the test harness script used for SSL/TLS.
+  
+  Start using the centralized pidfile and logfile name generation
+  subroutines for https and ftps test suite servers.
+
+- Update error message to include port number
+
+- Previous commit adjustments
+
+- Start using the centralized pidfile and logfile name generation
+  subroutines for ftp, pop3, imap and smtp test suite servers.
+
+Daniel Stenberg (9 Jan 2010)
+- struct Curl_sh_entry's 'inuse' member was no longer used and is now removed
+
+- - Johan van Selst found and fixed a OpenSSL session ref count leak:
+  
+    ossl_connect_step3() increments an SSL session handle reference counter on
+    each call. When sessions are re-used this reference counter may be
+    incremented many times, but it will be decremented only once when done (by
+    Curl_ossl_session_free()); and the internal OpenSSL data will not be freed
+    if this reference count remains positive. When a session is re-used the
+    reference counter should be corrected by explicitly calling
+    SSL_SESSION_free() after each consecutive SSL_get1_session() to avoid
+    introducing a memory leak.
+  
+    (http://curl.haxx.se/bug/view.cgi?id=2926284)
+
+Yang Tse (8 Jan 2010)
+- Start using the centralized pidfile and logfile name generation
+  subroutines for http and tftp test suite servers.
+
+- Remove extra line feed
+
+- Use '_stunnel.log' ending also for https test server log
+
+- sws and tftpd command line option naming adjustments
+
+Daniel Stenberg (7 Jan 2010)
+- removed a parameter from the Curl_http_readwrite_headers() prototype to remove
+  the need for the struct forward declaration from http.h which caused problems
+  with gcc 2.96 and quite frankly the parameter wasn't necessary anyway
+
+Claes Jakobsson (7 Jan 2010)
+- List fragment tests in Makefile.am and better provide better names
+
+Daniel Stenberg (7 Jan 2010)
+- removed Curl_http_header_append() prototype as it isn't used anymore, the
+  function was moved to http.c and was made static and renamed
+
+- - Make sure the progress callback is called repeatedly even during very slow
+    name resolves when c-ares is used for resolving.
+
+Yang Tse (6 Jan 2010)
+- Disable tests 802 and 803
+
+- Prevent detection of stdint.h on IRIX systems, even when available.
+  
+  IRIX MIPSpro 7.4 C++ compiler does not tolerate inclusion of stdint.h
+
+Claes Jakobsson (6 Jan 2010)
+- Julien Chaffraix fixed so that the fragment part in an URL is not sent to the server anymore
+
+Daniel Stenberg (4 Jan 2010)
+- use the modern name for this option
+
+Kamil Dudka (3 Jan 2010)
+- - Julien Chaffraix eliminated a duplicated initialization in singlesocket().
+
+Daniel Stenberg (2 Jan 2010)
+- - Make curl support --ssl and --ssl-reqd instead of the previous FTP-specific
+    versions --ftp-ssl and --ftp-ssl-reqd as these options are now used to
+    control SSL/TLS for IMAP, POP3 and SMTP as well in addition to FTP. The old
+    option names are still working but the new ones are the prefered ones
+    (listed and documented).
+
+- stop at once if the EOB marker shows up, even if something else might get
+  sent afterwards
+
+- update copyright year since we are in 2010 now
+
+- added CURLOPT_FTP_USE_PRET
+
+- - Ingmar Runge enhanced libcurl's FTP engine to support the PRET command. This
+    command is a special "hack" used by the drftpd server, but even though it is
+    a custom extension I've deemed it fine to add to libcurl since this server
+    seems to survive and people keep using it and want libcurl to support
+    it. The new libcurl option is named CURLOPT_FTP_USE_PRET, and it is also
+    usable from the curl tool with --ftp-pret. Using this option on a server
+    that doesn't support this command will make libcurl fail.
+
+- added descriptions for CURLOPT_MAIL_FROM and CURLOPT_MAIL_RCPT
+
+- --mail-rcpt and --mail-from are starting to settle and work like this...
+
+- turned CURLOPT_MAIL_RCPT into a curl_slist list instead to support multiple
+  receivers, and made the command line tool thus support the option specified
+  many times
+
+Yang Tse (31 Dec 2009)
+- Use '_stunnel.log' file name ending for stunneled server logs
+
+- VMS adjustments by Steven M. Schweda
+
+- Subs for refactoring purposes
+
+Daniel Stenberg (30 Dec 2009)
+- CURLOPT_HEADERDATA was added in 7.10
+
+- s/CURLOPT_WRITEHEADER/CURLOPT_HEADERDATA simply because it is a better name
+
+- modified to get the EHLO domain from the path part of the URL instead of the
+  user name
+
+- moved the SMTP payload escape function into Curl_smtp_escape_eob and put
+  it in smtp.c
+
+- (SMTP) support DATA better in the server and make sure to "escape" CRLF.CRLF
+  sequences in uploaded data. The test server doesn't "decode" escaped dot-lines
+  but instead test cases must be written to take them into account. Added test
+  case 803 to verify dot-escaping.
+
+Yang Tse (30 Dec 2009)
+- Oops, should have removed 'not' in previous commit.
+
+- VMS build system enhancements by Steven M. Schweda and Craig A. Berry
+
+- VMS specific preprocessor symbol checking adjustments
+
+- VMS specific preprocessor symbol definition adjustments
+
+- Replaced stricmp() usage with our portable strequal()
+
+Daniel Stenberg (29 Dec 2009)
+- move HTTP-specific functions to http.c where they belong
+
+- test 802 is the first SMTP test, although not strictly SMTP yet...
+
+Yang Tse (29 Dec 2009)
+- Mention last changes
+
+- - Fix configure_socket() to use ares_socket_t instead of int data type.
+
+- - Where run-time error checks enabling compiler option /GZ was used it is now
+    replaced with equivalent /RTCsu for Visual Studio 2003 and newer versions.
+  
+  - Compiler option /GX is now replaced with equivalent /EHsc for all versions.
+
+- Leftover from previous commit
+
+- Initial refactoring step for server name strings centralized generation
+
+Daniel Stenberg (27 Dec 2009)
+- Julien Chaffraix's clarifications
+
+Yang Tse (27 Dec 2009)
+- Adjust FreeBSD version check to follow FreeBSD Porter's Handbook
+  
+  http://www.freebsd.org/doc/en/books/porters-handbook/porting-versions.html
+
+Daniel Stenberg (26 Dec 2009)
+- symbols added in the CVS version meant for 7.20.0
+
+Yang Tse (26 Dec 2009)
+- global variables reordering/refactoring/commenting
+
+Daniel Stenberg (25 Dec 2009)
+- add pointer to the bug report
+
+- - Renato Botelho and Peter Pentchev brought a patch that makes the libcurl
+    headers work correctly even on FreeBSD systems before v8.
+
+- first shot at actually doing the SMTP upload as well, not doing the proper
+  end-of-body treatment
+
+- When verifying the SMTP server I had to add some hackery since SMTP in itself
+  doesn't really return any body data to check so I made SMTP check "headers"
+  as well.
+
+- first basic SMTP support
+
+Yang Tse (24 Dec 2009)
+- Adjust test number mismatch
+
+- Enable warnings
 
-  Removed the non-functional CURL_LDAP_HYBRID code and references.
+- Fix warnings
 
-Daniel Stenberg (2 June 2010)
-- Jason McDonald posted bug report #3006786 when he found that the SFTP code
-  didn't timeout properly in several places in the code even if a timeout was
-  set properly.
-
-  Based on his suggested patch, I wrote a different implementation that I
-  think addressed the issue better and also uses the connect timeout for the
-  initial part of the SSH/SFTP done during the "protocol connect" phase.
+- Fix warnings
 
-  (http://curl.haxx.se/bug/view.cgi?id=3006786)
+- Back out some pingpong server stopping changes introduced last week in
+  order to re-use 'classic' stopping and allow taking test-suite run time
+  references from this state.
 
-Yang Tse (2 June 2010)
-- Added missing new libcurl files to non-configure targets. Adjusted
-  libcurl standard internal header inclusions in new files. Fixed an
-  SPNEGO related memory leak. Fixed several LDAP related compilation
-  issues, and fixed some compiler warnings.
-
-Daniel Stenberg (1 June 2010)
-- Igor Novoseltsev reported a problem with the multi socket API and using
-  timeouts and timers. It boiled down to a problem with libcurl's use of
-  GetTickCount() interally to figure out the current time, while Igor's own
-  application code used another function call.
-
-  It made his app call the socket API timeout function a bit _before_ libcurl
-  would consider the timeout to trigger, and that could easily lead to
-  timeouts or stalls in the app. It seems GetTickCount() in general often has
-  no better resolution than 16ms and switching to the alternative function
-  QueryPerformanceCounter has its share of problems:
-      http://www.virtualdub.org/blog/pivot/entry.php?id=106
+- use Time::HiRes whenever available, independently of perl version
 
-  We address this problem by simply having libcurl treat timers that already
-  has occured or will occur within 40ms subject for treatment. I'm confident
-  that there are other implementations and operating systems with similarly in
-  accurate timer functions so it makes sense to have applied generically and I
-  don't believe we sacrifice much by adding a 40ms inaccuracy on these
-  timeouts.
+- log a message when continuing once sleep time is over
 
-Kamil Dudka (27 May 2010)
-- added a new test for CRL support (test313)
+- - Ingmar Runge noticed that Windows config-win32.h configuration file
+    did not include a definition for HAVE_CLOSESOCKET which resulted in
+    function close() being inappropriately used to close sockets.
 
-- Tor Arntsen changed the alternative definition of bool to use enum instead
-  of unsigned char.
+- Make 'classic' output end of a test-suite run become again the end
+  of output, even when run time statistics are shown.
 
-Daniel Stenberg (25 May 2010)
-- Julien Chaffraix fixed the warning seen when compiling lib/rtmp.c: one
-  unused variables, several unused arguments and some missing #include.
-
-- Julien Chaffraix fixed 2 OOM errors: a missing NULL-check in
-  lib/http_negociate.c and a potential NULL dereferencing in lib/splay.c
-
-- Howard Chu brought a patch that makes the LDAP code much cleaner, nicer and
-  in general being a better libcurl citizen. If a new enough OpenLDAP version
-  is detect, the new and shiny lib/openldap.c code is then used instead of the
-  old cruft.
-
-Daniel Stenberg (21 May 2010)
-- Eric Mertens posted bug #3003705: when we made TFTP use the correct timeout
-  option when sent to the server (fixed May 18th 2010) it became obvious that
-  libcurl used invalid timeout values (300 by default while the RFC allows
-  nothing above 255). While of course it is obvious that as TFTP has worked
-  thus far without being able to set timeout at all, just removing the setting
-  wouldn't make any difference in behavior. I decided to still keep it (but
-  fix the problem) as it now actually allows for easier (future) customization
-  of the timeout.
+- Move stopping of servers instructed by test definition, after the removal of
+  server logs advisor read lock and before test results verifications are done.
+  
+  When stopping a pingpong server, stop server before its slaves.
 
-  (http://curl.haxx.se/bug/view.cgi?id=3003705)
+Daniel Stenberg (21 Dec 2009)
+- test 566 was missing
 
-- Douglas Kilpatrick filed bug report #3004787 and pointed out that the TFTP
-  code didn't handle block id wraps correctly. His suggested fix inspired the
-  fix I committed.
+Yang Tse (21 Dec 2009)
+- dead_child_handler also takes care of reaping pingpong server dead child processes
 
-  (http://curl.haxx.se/bug/view.cgi?id=3004787)
+- Reap processes dead children ASAP without blocking
 
-Daniel Stenberg (20 May 2010)
-- Tanguy Fautre brought a fix to allow curl to build with Microsoft VC10.
+- Reinstate hi resolution time logging since this is not what is
+  now adding 90 extra seconds to the total time some autobuilds
+  need to make a full test-run.
 
-Daniel Stenberg (18 May 2010)
-- Eric Mertens posted bug report #3003005 pointing out that the libcurl TFTP
-  code was not sending the timeout option properly to the server, and
-  suggested a fix.
+Patrick Monnerat (21 Dec 2009)
+- Take new SMTP definitions into account in OS400 wrapper and RPG binding
 
-  (http://curl.haxx.se/bug/view.cgi?id=3003005)
+Daniel Stenberg (21 Dec 2009)
+- first small steps towards smtp
 
-Kamil Dudka (16 May 2010)
-- Pavel Raiskup introduced a new option CURLOPT_FNMATCH_DATA in order to pass
-  a custom data pointer to the callback specified by CURLOPT_FNMATCH_FUNCTION.
+Yang Tse (21 Dec 2009)
+- Replaced tabs with spaces
 
-Daniel Stenberg (14 May 2010)
-- John-Mark Bell filed bug #3000052 that identified a problem (with an
-  associated patch) with the OpenSSL handshake state machine when the multi
-  interface is used:
-
-  Performing an https request using a curl multi handle and using select or
-  epoll to wait for events results in a hang. It appears that the cause is the
-  fix for bug #2958179, which makes ossl_connect_common unconditionally return
-  from the step 2 loop when fetching from a multi handle.
-
-  When ossl_connect_step2 has completed, it updates connssl->connecting_state
-  to ssl_connect_3. ossl_connect_common will then return to the caller, as a
-  multi handle is in use. Eventually, the client code will call
-  curl_multi_fdset to obtain an updated fdset to select or epoll on. For https
-  requests, curl_multi_fdset will cause https_getsock to be called.
-  https_getsock will only return a socket handle if the connecting_state is
-  ssl_connect_2_reading or ssl_connect_2_writing.  Therefore, the client will
-  never obtain a valid fdset, and thus not drive the multi handle, resulting
-  in a hang.
+Daniel Stenberg (20 Dec 2009)
+- remove some unused code
 
-  (http://curl.haxx.se/bug/view.cgi?id=3000052)
+Yang Tse (20 Dec 2009)
+- Improve delay command interruptability
 
-- Sebastian V reported bug #3000056 identifying a problem with redirect
-  following. It showed that when curl followed redirects it didn't properly
-  ignore the response body of the 30X response if that response was using
-  compressed Content-Encoding!
+Daniel Stenberg (20 Dec 2009)
+- revert that, we already had a function named like that!
 
-  (http://curl.haxx.se/bug/view.cgi?id=3000056)
+- rename the verifyftp function to verifyserver since it is used to verify
+  a wide variety of protocol servers
+
+- free the allocated mailbox name at disconnect
+
+- introducing the first IMAP FETCH test
+
+Yang Tse (20 Dec 2009)
+- - Attempt to fix script compilation failure on versions older than 5.007003,
+    corelist -a Time::HiRes lists this as the first version released with it.
   
-Daniel Stenberg (12 May 2010)
-- Howard Chu brought support for RTMP. This is powered by the underlying
-  librtmp library. It supports a range of variations and "sub-protocols"
-  within the RTMP family.
-
-- Pavel Raiskup brought support for FTP directory wildcard matching to allow
-  selective downloading. To provide that, a set of new options were added:
-
-   CURLOPT_WILDCARDMATCH
-   CURLOPT_CHUNK_BGN_FUNCTION
-   CURLOPT_CHUNK_END_FUNCTION
-   CURLOPT_CHUNK_DATA
-   CURLOPT_FNMATCH_FUNCTION
+  - Ensure ftp check delay timer is always an integral number.
 
-  There were also a set of new tests added (574 - 577) to verify this.
+Daniel Stenberg (19 Dec 2009)
+- support IMAP select and LOGOUT
 
-Kamil Dudka (11 May 2010)
-- CRL support in libcurl-NSS has been completely broken. Now it works. Original
-  bug report: https://bugzilla.redhat.com/581926
+- fix the ftp check delay timer to never be set below 1 to work correctly
+  in cases like test 190
 
-Daniel Stenberg (7 May 2010)
-- Dirk Manske reported a regression. When connecting with the multi interface,
-  there were situations where libcurl wouldn't store connect time correctly as
-  it used to (and is documented to) do.
-
-  Using his fine sample program we could repeat it, and I wrote up test case
-  573 using that code. The problem does not easily show itself using the local
-  test suite though.
-
-  The fix, also as suggested by Dirk, is a bit on the ugly side as it adds yet
-  another call to Curl_verboseconnect() and setting the TIMER_CONNECT time.
-  That situation is subject for some closer inspection in the future.
-
-- Howard Chu split the I/O handling functions into private handlers.
-    
-  Howard Chu brought the bulk work of this patch that properly moves out the
-  sending and recving of data to the parts of the code that are properly
-  responsible for the various ways of doing so.
-  
-  Daniel Stenberg assisted with polishing a few bits and fixed some minor
-  flaws in the original patch.
-  
-  Another upside of this patch is that we now abuse CURLcodes less with the
-  "magic" -1 return codes and instead use CURLE_AGAIN more consistently.
-
-Daniel Stenberg (5 May 2010)
-- Hoi-Ho Chan introduced support for using the PolarSSL library. You control
-  this with the new configure option --with-polarssl.
-
-Daniel Stenberg (29 Apr 2010)
-- Ben Greear made telnet a lot better/easier to use by an application:
-
-  The main change is to allow input from user-specified methods, when they are
-  specified with CURLOPT_READFUNCTION.  All calls to fflush(stdout) in
-  telnet.c were removed, which makes using 'curl telnet://foo.com' painful
-  since prompts and other data are not always returned to the user promptly.
-  Use 'curl --no-buffer telnet://foo.com' instead.  In general, the user
-  should have their CURLOPT_WRITEFUNCTION do a fflush for interactive use.
+- fixed a precaution check in the cookie code, pointed out by Julien Chaffraix
 
-  Also fix assumption that reading from stdin never returns < 0.
-  Old code could crash in that case.
+Yang Tse (19 Dec 2009)
+- Slack time reduction
 
-  Call progress functions in telnet main loop.
+- Added runtests.pl '-r' option for run time statistics
 
-Daniel Stenberg (26 Apr 2010)
-- Make use of the libssh2_init/exit functions that libssh2 added in version
-  1.2.5. Using them will improve how libcurl works in threaded situations when
-  SCP and SFTP are transfered.
-
-Daniel Stenberg (25 Apr 2010)
-- Based on work by Kamil Dudka, I've introduced the new configure option
-  --enable-threaded-resolver. When used, the configure script will check for
-  pthreads and if around, it will build libcurl to use pthreads to do name
-  resolving in a threaded manner. Note that this is just a fix to offer an
-  option that can enable the code that already included. The threader resolver
-  code was mostly added on Jan 26 2010.
+- server start and verification time as well as test preparation time
+  data is required in order to closer match total test execution time.
 
-Daniel Stenberg (24 Apr 2010)
-- Alex Bligh introduced the --proto and -proto-redir options that limit what
-  protocols curl accepts for the requests and when following redirects.
+- Added test harness simple time execution stats
 
-Kamil Dudka (24 Apr 2010)
-- Fixed test536 in order to not fail with threaded DNS resolver and tweaked
-  comments in certain examples using curl_multi_fdset().
+- Comment out hi resolution time logging to verify if this is what might
+  be contributing 90 additional seconds to the total time some autobuilds
+  now need to make a full test-run.
 
-- Fixed SSL handshake timeout underflow in libcurl-NSS, which caused test405
-  to hang on a slow machine.
+- Fix compilation failure
 
-Daniel Stenberg (21 Apr 2010)
-- The -O option caused curl to crash on windows and DOS due to the tool
-  writing out of boundary memory.
+- Test harness process control enhancements
 
-Yang Tse (20 Apr 2010)
-- Ruslan Gazizov detected that MSVC makefiles were using wsock32.lib instead
-  of ws2_32.lib, this generated linking issues on MSVC IPv6 enabled builds
-  that were done using those makefiles.
+Daniel Stenberg (17 Dec 2009)
+- uh, assign the bool it points to properly
 
-Daniel Stenberg (19 Apr 2010)
-- -J/--remote-header-name didn't strip trailing carriage returns or linefeeds
-  properly, so they could be used in the file name.
+- Stop overloading the conn->protocol field with the PROT_MISSING bit. It
+  really didn't belong there and had no real point.
 
-Daniel Stenberg (16 Apr 2010)
-- Jerome Vouillon made the GnuTLS SSL handshake phase non-blocking.
+- Remove pointless storing of the protocol as a string within the connectdata
+  struct, and instead use the already stored string in the handler struct.
 
-- The recent overhaul of the SSL recv function made the GnuTLS specific code
-  treat a zero returned from gnutls_record_recv() as an error, and this caused
-  our HTTPS test cases to fail. We leave it to upper layer code to detect if
-  an EOF is a problem or not.
-
-- I reverted the resolver fix from yesterday and instead removed all uses of
-  AI_CANONNAME all over libcurl and made the only user of that info (krb5.c)
-  use the host name from the URL instead. No reverse resolving is a good
-  thing.
+- - David Byron fixed Curl_ossl_cleanup to actually call ENGINE_cleanup when
+    available.
 
-- Paul Howarth made configure properly detect GSS "on ancient Linux distros"
-  by editing in which order we use headers to detect GSS.
+Yang Tse (17 Dec 2009)
+- gettimeofday() requires perl version newer than 5.6
 
-Daniel Stenberg (15 Apr 2010)
-- Rainer Canavan filed bug report #2987196 that identified libcurl doing
-  unnecesary reverse name lookups in many cases when built to use IPv4 and
-  getaddrinfo(). The logic for ipv6 is now used for ipv4 too.
+Daniel Stenberg (16 Dec 2009)
+- Follow-up fix for the proxy fix I did for Jon Nelson's bug. It turned out I
+  was a bit too quick and broke test case 1101 with that change. The order of
+  some of the setups is sensitive. I now changed it slightly again.
 
-  (http://curl.haxx.se/bug/view.cgi?id=2963679)
+Yang Tse (16 Dec 2009)
+- Test harness process control enhancements
 
-Version 7.20.1 (14 April 2010)
+- Test #1106 needs an ftp enabled client
 
-Daniel Stenberg (9 Apr 2010)
-- Prefixing the FTP quote commands with an asterisk really only worked for the
-  postquote actions. This is now fixed and test case 227 has been extended to
-  verify.
-
-Kamil Dudka (4 Apr 2010)
-- Eliminated a race condition in Curl_resolv_timeout().
-
-- Refactorized interface of Curl_ssl_recv()/Curl_ssl_send().
-
-- libcurl-NSS now provides more accurate messages and error codes in case of
-  client certificate problem.  Either during connection, or transfer phase.
-
-Daniel Stenberg (1 Apr 2010)
-- Matt Wixson found and fixed a bug in the SCP/SFTP area where the code
-  treated a 0 return code from libssh2 to be the same as EAGAIN while in
-  reality it isn't. The problem caused a hang in SFTP transfers from a
-  MessageWay server.
-
-Daniel Stenberg (28 Mar 2010)
-- Ben Greear: If you pass a URL to pop3 that does not contain a message ID as
-  part of the URL, it would previously ask for 'INBOX' which just causes the
-  pop3 server to return an error.
-    
-  Now libcurl treats en empty message ID as a request for LIST (list of pop3
-  message IDs).  User's code could then parse this and download individual
-  messages as desired.
-
-Daniel Stenberg (27 Mar 2010)
-- Ben Greear brought a patch that from now on allows all protocols to specify
-  name and user within the URL, in the same manner HTTP and FTP have been
-  allowed to in the past - although far from all of the libcurl supported
-  protocls actually have that feature in their URL definition spec.
-
-Daniel Stenberg (26 Mar 2010)
-- Ben Greear brought code that makes the rate limiting code for the easy
-  interface a bit smoother as it introduces sub-second sleeps during it and it
-  also takes the buffer sizes into account.
+- Test harness process control enhancements
 
-Daniel Stenberg (24 Mar 2010)
-- Bob Richmond: There's an annoying situation where libcurl will read new HTTP
-  response data from a socket, then check if it's a timeout if one is set. If
-  the last packet received constitutes the end of the response body, libcurl
-  still treats it as a timeout condition and reports a message like:
-
-  "Operation timed out after 3000 milliseconds with 876 out of 876 bytes 
-  received"
-
-  It should only a timeout if the timer lapsed and we DIDN'T receive the end
-  of the response body yet.
-
-- Christopher Conroy fixed a problem with RTSP and GET_PARAMETER reported
-  to us by Massimo Callegari. There's a new test case 572 that verifies this
-  now.
-
-- The 'ares' subtree has been removed from the source repository. It was
-  always a separate project that sort of piggybacked on the curl project since
-  the dawn of times and now the time has come for it to go stand on its own
-  legs and continue living its own life. All details on c-ares and its new
-  source code repository is found at http://c-ares.haxx.se/
+Daniel Stenberg (14 Dec 2009)
+- - Jon Nelson found a regression that turned out to be a flaw in how libcurl
+    detects and uses proxies based on the environment variables. If the proxy
+    was given as an explicit option it worked, but due to the setup order
+    mistake proxies would not be used fine for a few protocols when picked up
+    from '[protocol]_proxy'. Obviously this broke after 7.19.4. I now also added
+    test case 1106 that verifies this functionality.
+  
+    (http://curl.haxx.se/bug/view.cgi?id=2913886)
 
-Daniel Stenberg (23 Mar 2010)
-- Kenny To filed the bug report #2963679 with patch to fix a problem he
-  experienced with doing multi interface HTTP POST over a proxy using
-  PROXYTUNNEL. He found a case where it would connect fine but bits.tcpconnect
-  was not set correct so libcurl didn't work properly.
+Yang Tse (14 Dec 2009)
+- Fix compiler warning
 
-  (http://curl.haxx.se/bug/view.cgi?id=2963679)
+- Prevent perl script dying messages in output, since tearing down the pinpong
+  server in this way, upon sysread failures, is part of the expected behavior.
 
-- Akos Pasztory filed debian bug report #572276
-  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=572276 mentioning a problem
-  with a resource that returns chunked-encoded _and_ with a Content-Length
-  and libcurl failed to properly ignore the latter information.
-
-- Hauke Duden provided an example program that made the multi interface crash.
-  His example simply used the multi interface and did first one FTP transfer
-  and after completion it used a second easy handle and did another FTP
-  transfer on the same FTP server.
-
-  This triggered a bug in the "delayed easy handle kill" system that curl
-  uses: when an FTP connection is left alive it must keep an easy handle
-  around internally - only for the purpose of having an easy handle when it
-  later disconnects it. The code assumed that when the easy handle was removed
-  and an internal reference was made, that version could be killed later on
-  when a new easy handle came using the same connection. This was wrong as
-  Hauke's example showed that the removed handle wasn't killed for real until
-  later. This caused a double close attempt => segfault.
+- Adjust uppercase protocol string usage
 
-Daniel Stenberg (22 Mar 2010)
-- Thomas Lopatic fixed the alarm()-based DNS timeout:
+- Fix compiler warnings
 
-  Looking at the code of Curl_resolv_timeout() in hostip.c, I think that in
-  case of a timeout, the signal handler for SIGALRM never gets removed. I
-  think that in my case it gets executed at some point later on when execution
-  has long left Curl_resolv_timeout() or even the cURL library.
-  
-  The code that is jumped to with siglongjmp() simply sets the error message
-  to "name lookup timed out" and then returns with CURLRESOLV_ERROR. I guess
-  that instead of simply returning without cleaning up, the code should have a
-  goto that jumps to the spot right after the call to Curl_resolv().
+- Fix compiler warnings
 
-Kamil Dudka (22 Mar 2010)
-- Douglas Steinwand contributed a patch fixing insufficient initialization in
-  Curl_clone_ssl_config()
+- signal handling to cleanup on SIGINT and SIGTERM, followup
 
-Daniel Stenberg (21 Mar 2010)
-- Ben Greear improved TFTP: the error code returning and the treatment
-  of TSIZE == 0 when uploading.
+- reapply diff between revisions 1.103 and 1.102
 
-- We've switched from CVS to git. See http://curl.haxx.se/source.html
+Daniel Stenberg (12 Dec 2009)
+- updated with the new protocols
 
-Kamil Dudka (19 Mar 2010)
-- Improved Curl_read() to not ignore the error returned from Curl_ssl_recv().
+- might as well output all supported protocols at the end of configure to
+  make it more obvious how the output will be
 
-Daniel Stenberg (15 Mar 2010)
-- Constantine Sapuntzakis brought a patch:
+- show POP3S, IMAPS and SMTPS as protocols if SSL is enabled
 
-  The problem mentioned on Dec 10 2009
-  (http://curl.haxx.se/bug/view.cgi?id=2905220) was only partially fixed.
-  Partially because an easy handle can be associated with many connections in
-  the cache (e.g. if there is a redirect during the lifetime of the easy
-  handle).  The previous patch only cleaned up the first one. The new fix now
-  removes the easy handle from all connections, not just the first one.
+- support disabling POP3, IMAP and SMTP and now they also appear in curl-config
+  --protocols output
 
-Daniel Stenberg (6 Mar 2010)
-- Ben Greear brought a patch that fixed the rate limiting logic for TFTP when
-  the easy interface was used.
+- split out more protocol-specific structs from urldata.h into their own
+  protocol-specific header files
 
-Daniel Stenberg (5 Mar 2010)
-- Daniel Johnson provided fixes for building curl with the clang compiler.
+- IMAP, POP3 and SMTP support
 
-Yang Tse (5 Mar 2010)
-- Constantine Sapuntzakis detected and fixed a double free in builds done
-  with threaded resolver enabled (Windows default configuration) that would
-  get triggered when a curl handle is closed while doing DNS resolution.
+- introducing IMAP, POP3 and SMTP support (still lots of polish left to do)
+
+Yang Tse (11 Dec 2009)
+- Prevent rewinding unless pipelining.
+  
+  See http://curl.haxx.se/mail/lib-2009-12/0107.html
 
-Daniel Stenberg (2 Mar 2010)
-- [Daniel Johnson] I've been trying to build libcurl with clang on Darwin and
-  ran into some issues with the GSSAPI tests in configure.ac. The tests first
-  try to determine the include dirs and libs and set CPPFLAGS and LIBS
-  accordingly. It then checks for the headers and finally sets LIBS a second
-  time, causing the libs to be included twice. The first setting of LIBS seems
-  redundant and should be left out, since the first part is otherwise just
-  about finding headers.
-
-  My second issue is that 'krb5-config --libs gssapi' on Darwin is less than
-  useless and returns junk that, while it happens to work with gcc, causes
-  clang to choke. For example, --libs returns $CFLAGS along with the libs,
-  which is really retarded. Simply setting 'LIBS="$LIBS -lgssapi_krb5
-  -lresolv"' on Darwin is sufficient.
-
-- Based on patch provided by Jacob Moshenko, the transfer logic now properly
-  makes sure that when using sub-second timeouts, there's no final bad 1000ms
-  wait. Previously, a sub-second timeout would often make the elapsed time end
-  up the time rounded up to the nearest second (e.g. 1s for 200ms timeout)
-
-- Andrei Benea filed bug report #2956698 and pointed out that the
-  CURLOPT_CERTINFO feature leaked memory due to a missing OpenSSL function
-  call. He provided the patch to fix it too.
-
-  http://curl.haxx.se/bug/view.cgi?id=2956698
-
-- Markus Duft pointed out in bug #2961796 that even though Interix has a
-  poll() function it doesn't quite work the way we want it so we must disable
-  it, and he also provided a patch for it.
-
-  http://curl.haxx.se/bug/view.cgi?id=2961796
-
-- Made the pingpong timeout code properly deal with the response timeout AND
-  the global timeout if set. Also, as was reported in the bug report #2956437
-  by Ryan Chan, the time stamp to use as basis for the per command timeout was
-  not set properly in the DONE phase for FTP (and not for SMTP) so I fixed
-  that just now. This was a regression compared to 7.19.7 due to the
-  conversion of FTP code over to the generic pingpong concepts.
-
-  http://curl.haxx.se/bug/view.cgi?id=2956437
-
-Daniel Stenberg (1 Mar 2010)
-- Ben Greear provided an update for TFTP that fixes upload.
-
-- Wesley Miaw reported bug #2958179 which identified a case of looping during
-  OpenSSL based SSL handshaking even though the multi interface was used and
-  there was no good reason for it.
+- Removed function prototype without implementation
 
-  http://curl.haxx.se/bug/view.cgi?id=2958179
+Daniel Stenberg (10 Dec 2009)
+- - Siegfried Gyuricsko found out that the curl manual said --retry would retry
+    on FTP errors in the transient 5xx range. Transient FTP errors are in the
+    4xx range. The code itself only tried on 5xx errors that occured _at login_.
+    Now the retry code retries on all FTP transfer failures that ended with a
+    4xx response.
+  
+    (http://curl.haxx.se/bug/view.cgi?id=2911279)
 
-Daniel Stenberg (26 Feb 2010)
-- Pat Ray in bug #2958474 pointed out an off-by-one case when receiving a
-  chunked-encoding trailer.
+- argh, use the correct bug id
 
-  http://curl.haxx.se/bug/view.cgi?id=2958474
+- - Constantine Sapuntzakis figured out a case which would lead to libcurl
+    accessing alredy freed memory and thus crash when using HTTPS (with
+    OpenSSL), multi interface and the CURLOPT_DEBUGFUNCTION and a certain order
+    of cleaning things up. I fixed it.
+  
+    (http://curl.haxx.se/bug/view.cgi?id=2891591)
 
-Daniel Fandrich (25 Feb 2010)
-- Fixed a couple of out of memory leaks and a segfault in the SMTP & IMAP code.
+- minor indent change
 
-Yang Tse (25 Feb 2010)
-- I fixed bug report #2958074 indicating
-  (http://curl.haxx.se/bug/view.cgi?id=2958074) that curl on Windows with
-  option --trace-time did not use local time when timestamping trace lines.
-  This could also happen on other systems depending on time souurce.
+Yang Tse (10 Dec 2009)
+- - Fixed curl erroneously reporting output stream write failures with disabled buffering
 
-Patrick Monnerat (22 Feb 2010)
-- Proper handling of STARTTLS on SMTP, taking CURLUSESSL_TRY into account.
-- SMTP falls back to RFC821 HELO when EHLO fails (and SSL is not required).
-- Use of true local host name (i.e.: via gethostname()) when available, as
-  default argument to SMTP HELO/EHLO.
-- Test case 804 for HELO fallback.
-
-Daniel Stenberg (20 Feb 2010)
-- Fixed the SMTP compliance by making sure RCPT TO addresses are specified
-  properly in angle brackets. Recipients provided with CURLOPT_MAIL_RCPT now
-  get angle bracket wrapping automatically by libcurl unless the recipient
-  starts with an angle bracket as then the app is assumed to deal with that
-  properly on its own.
-
-- I made the SMTP code expect a 250 response back from the server after the
-  full DATA has been sent, and I modified the test SMTP server to also send
-  that response. As usual, the DONE operation that is made after a completed
-  transfer is still not doable in a non-blocking way so this waiting for 250
-  is unfortunately made blockingly.
+- signal handling to cleanup on SIGINT and SIGTERM, followup
 
-Yang Tse (14 Feb 2010)
-- Overhauled test suite getpart() function. Fixing potential out of bounds
-  stack and memory overwrites triggered with huge test case definitions.
+Daniel Stenberg (7 Dec 2009)
+- - Martin Storsjo made libcurl use the Expect: 100-continue header for posts
+    with unknown size. Previously it was only used for posts with a known size
+    larger than 1024 bytes.
 
-Daniel Stenberg (13 Feb 2010)
-- Martin Hager reported and fixed a problem with a missing quote in libcurl.m4
+- 74. The HTTP spec allows headers to be merged and become comma-separated
+    instead of being repeated several times. This also include Authenticate: and
+    Proxy-Authenticate: headers and while this hardly every happens in real life
+    it will confuse libcurl which does not properly support it for all headers -
+    like those Authenticate headers.
 
-  (http://curl.haxx.se/bug/view.cgi?id=2951319)
+Yang Tse (3 Dec 2009)
+- Fix 'uploaded' file descriptor leak
 
-- Tom Donovan fixed the CURL_FORMAT_* defines when building with cmake.
+- signal handling to cleanup on SIGINT and SIGTERM
 
-  (http://curl.haxx.se/bug/view.cgi?id=2951269)
+Kamil Dudka (2 Dec 2009)
+- lib/nss.c: avoid use of uninitialized value
 
-Daniel Stenberg (12 Feb 2010)
-- Jack Zhang reported a problem with SMTP: we wrongly used multiple addresses
-  in the same RCPT TO line, when they should be sent in separate single
-  commands. I updated test case 802 to verify this.
+Yang Tse (2 Dec 2009)
+- signal handling to cleanup on SIGINT and SIGTERM
 
-- I also fixed a bad use of my_setopt_str() of CURLOPT_MAIL_RCPT in the curl
-  tool which made it try to output it as string for the --libcurl feature
-  which could lead to crashes.
+- Set socket option SO_REUSEADDR=true on stunnel accept'ing port
 
-Yang Tse (11 Feb 2010)
-- Steven M. Schweda fixed VMS builder bad behavior when used in a batch job,
-  removed obsolete batch_compile.com and defines.com and updated VMS readme.
+Daniel Stenberg (1 Dec 2009)
+- - If the Expect: 100-continue header has been set by the application through
+    curl_easy_setopt with CURLOPT_HTTPHEADER, the library should set
+    data->state.expect100header accordingly - the current code (in 7.19.7 at
+    least) doesn't handle this properly. Martin Storsjo provided the fix!
+
+- start working on 1.7.1
+
+Yang Tse (30 Nov 2009)
+- - In order to better reflect that the returned pid is extracted from the
+    given file, serverpid sub is renamed to pidfromfile. In addition it is
+    enhanced to make sure that it always returns zero unless a numerical
+    positive value is returned.
+  
+  - To better reflect that only process existance is actually checked,
+    checkserver sub is renamed to processexists. In addition it is enhanced
+    making it remove the given pid file when the extracted pid is no longer
+    alive.
+
+Daniel Stenberg (29 Nov 2009)
+- #71 "TFTP block size / better integration in transfer" is now expected to
+  have been fixed!
 
-Version 7.20.0 (9 February 2010)
+- a binding for Falcon
 
-Daniel Stenberg (9 Feb 2010)
-- When downloading compressed content over HTTP and the app asked libcurl to
-  automatically uncompress it with the CURLOPT_ENCODING option, libcurl could
-  wrongly provide the callback with more data than the maximum documented
-  amount. An application could thus get tricked into badness if the maximum
-  limit was trusted to be enforced by libcurl itself (as it is documented).
+Yang Tse (28 Nov 2009)
+- - Added Diffie-Hellman parameters to several test harness certificate files in
+    PEM format. Required by several stunnel versions used by our test harness.
 
-  This is further detailed and explained in the libcurl security advisory
-  20100209 at
+- Use different log files for each protocol
 
-    http://curl.haxx.se/docs/adv_20100209.html
+- s/socklen_t/curl_socklen_t/g
 
-Daniel Fandrich (3 Feb 2010)
-- Changed the Watcom makefiles to make them easier to keep in sync with
-  Makefile.inc since that can't be included directly.
+- Fix compiler warning: unused variable `data'
 
-Yang Tse (2 Feb 2010)
-- Symbol CURL_FORMAT_OFF_T now obsoleted, will be removed in a future release,
-  symbol will not be available when building with CURL_NO_OLDIES defined. Use
-  of CURL_FORMAT_CURL_OFF_T is preferred since 7.19.0
+Daniel Stenberg (27 Nov 2009)
+- 7.20.0 is the planned next version number
 
-Daniel Stenberg (1 Feb 2010)
-- Using the multi_socket API, it turns out at times it seemed to "forget"
-  connections (which caused a hang). It turned out to be an existing (7.19.7)
-  bug in libcurl (that's been around for a long time) and it happened like
-  this:
+- document --tftp-blksize
 
-  The app calls curl_multi_add_handle() to add a new easy handle, libcurl will
-  then set it to timeout in 1 millisecond so libcurl will tell the app about
-  it.
+- - Markus Koetter provided a polished and updated version of Chad Monroe's TFTP
+    rework patch that now integrates TFTP properly into libcurl so that it can
+    be used non-blocking with the multi interface and more. BLKSIZE also works.
+  
+    The --tftp-blksize option was added to allow setting the TFTP BLKSIZE from
+    the command line.
 
-  The app's timeout fires off that there's a timeout, the app calls libcurl as
-  we so often document it:
+Yang Tse (27 Nov 2009)
+- Attempt to enhance stunnel 3.X logging
 
-  do {
-   res = curl_multi_socket_action(... TIMEOUT ...);
-  } while(CURLM_CALL_MULTI_PERFORM == res);
-
-  And this is the problem number one:
-
-  When curl_multi_socket_action() is called with no specific handle, but only
-  a timeout-action, it will *only* perform actions within libcurl that are
-  marked to run at this time. In this case, the request would go from INIT to
-  CONNECT and return CURLM_CALL_MULTI_PERFORM. When the app then calls libcurl
-  again, there's no timer set for this handle so it remains in the CONNECT
-  state. The CONNECT state is a transitional state in libcurl so it reports no
-  sockets there, and thus libcurl never tells the app anything more about that
-  easy handle/connection.
-
-  libcurl _does_ set a 1ms timeout for the handle at the end of
-  multi_runsingle() if it returns CURLM_CALL_MULTI_PERFORM, but since the loop
-  is instant the new job is not ready to run at that point (and there's no
-  code that makes libcurl call the app to update the timout for this new
-  timeout). It will simply rely on that some other timeout will trigger later
-  on or that something else will update the timeout callback. This makes the
-  bug fairly hard to repeat.
+- Prevent running stunnel unless its version can be determined.
 
-  The fix made to adress this issue:
+- Log sws IPv version, port and pid when exiting due to SIGINT or SIGTERM.
 
-  We introduce a loop in lib/multi.c around all calls to multi_runsingle() and
-  simply check for CURLM_CALL_MULTI_PERFORM internally. This has the added
-  benefit that this goes in line with my long-term wishes to get rid of the
-  CURLM_CALL_MULTI_PERFORM all together from the public API.
+- To allow remote log inspection avoid redirecting messages to stderr.
+  
+  Set 0600 file permissions on certificate pem files.
 
-  The downside of this fix, is that the counter we return in 'running_handles'
-  in several of our public functions then gets a slightly new and possibly
-  confusing behavior during times:
-
-  If an app adds a handle that fails to connect (very quickly) it may just
-  as well never appear as a 'running_handle' with this fix. Previously it
-  would first bump the counter only to get it decreased again at next call.
-  Even I have used that change in handle counter to signal "end of a
-  transfer". The only *good* way to find the end of a individual transfer
-  is calling curl_multi_info_read() to see if it returns one.
+- Preserve empty line following last target
 
-  Of course, if the app previously did the looping before it checked the
-  counter, it really shouldn't be any new effect.
+- Log info for start up failures.
 
-Yang Tse (26 Jan 2010)
-- Constantine Sapuntzakis' and Joshua Kwan's work done in the last four months
-  relative to the asynchronous DNS lookups, along with with some integration
-  adjustments I have done are finally committed to CVS.
-
-  Currently these enhancements will benefit builds done using c-ares on any
-  platform as well as Windows builds using the default threaded resolver.
-
-  This release does not make generally available POSIX threaded DNS lookups
-  yet. There is no configure option to enable this feature yet. It is possible
-  to experimantally try this feature running configure with compiler flags that
-  make simultaneous definition of preprocessor symbols USE_THREADS_POSIX and
-  HAVE_PTHREAD_H, as well as whatever reentrancy compiler flags and linker ones
-  are required to link and properly use pthread_* functions on each platform.
+Daniel Stenberg (26 Nov 2009)
+-  - Extended and fixed the change I did on Dec 11 for the the progress
+     meter/callback during FTP command/response sequences. It turned out it was
+     really lame before and now the progress meter SHOULD get called at least
+     once per second.
 
-Daniel Stenberg (26 Jan 2010)
-- Mike Crowe made libcurl return CURLE_COULDNT_RESOLVE_PROXY when it is the
-  proxy that cannot be resolved when using c-ares. This matches the behaviour
-  when not using c-ares.
-
-Björn Stenberg (23 Jan 2010)
-- Added a new flag: -J/--remote-header-name. This option tells the
-  -O/--remote-name option to use the server-specified Content-Disposition
-  filename instead of extracting a filename from the URL.
+Yang Tse (26 Nov 2009)
+- Only attempt to clear the server-logs lock when previously set by this same server.
 
-Daniel Stenberg (21 Jan 2010)
-- Chris Conroy brought support for RTSP transfers, and with it comes 8(!) new
-  libcurl options for controlling what to get and how to receive posssibly
-  interleaved RTP data.
+- signal handling to cleanup on SIGINT and SIGTERM
 
-Daniel Stenberg (20 Jan 2010)
-- As was pointed out on the http-state mailing list, the order of cookies in a
-  HTTP Cookie: header _needs_ to be sorted on the path length in the cases
-  where two cookies using the same name are set more than once using
-  (overlapping) paths. Realizing this, identically named cookies must be
-  sorted correctly. But detecting only identically named cookies and take care
-  of them individually is harder than just to blindly and unconditionally sort
-  all cookies based on their path lengths. All major browsers also already do
-  this, so this makes our behavior one step closer to them in the cookie area.
-
-  Test case 8 was the only one that broke due to this change and I updated it
-  accordingly.
-
-Daniel Stenberg (19 Jan 2010)
-- David McCreedy brought a fix and a new test case (129) to make libcurl work
-  again when downloading files over FTP using ASCII and it turns out that the
-  final size of the file is not the same as the initial size the server
-  reported. This is very common since servers don't take the newline
-  conversions into account.
+- - Larry Lansing fixed ares_parse_srv_reply to properly parse replies
+    which might contain non-SRV answers, skipping over potential non-SRV
+    ones such as CNAMEs.
 
-Kamil Dudka (14 Jan 2010)
-- Suppressed side effect of OpenSSL configure checks, which prevented NSS from
-  being properly detected under certain circumstances. It had been caused by
-  strange behavior of pkg-config when handling PKG_CONFIG_LIBDIR. pkg-config
-  distinguishes among empty and non-existent environment variable in that case.
-
-Daniel Stenberg (12 Jan 2010)
-- Gil Weber reported a peculiar flaw with the multi interface when doing SFTP
-  transfers: curl_multi_fdset() would return -1 and not set and file
-  descriptors several times during a transfer of a single file. It turned out
-  to be due to two different flaws now fixed. Gil's excellent recipe helped me
-  nail this.
+- When using icc, compile with -fpic and link with intel dynamic libraries.
 
-Daniel Stenberg (11 Jan 2010)
-- Made sure that the progress callback is repeatedly called at a regular
-  interval even during very slow connects.
+Daniel Stenberg (24 Nov 2009)
+- clarify what a modern version of libcurl means
 
-- The tests/runtests.pl script now checks to see if the test case that runs is
-  present in the tests/data/Makefile.am and outputs a notice message on the
-  screen if not. Each test file has to be included in that Makefile.am to get
-  included in release archives and forgetting to add files there is a common
-  mistake. This is an attempt to make it harder to forget.
+Yang Tse (24 Nov 2009)
+- Added 'currently' in italics to insist on transient situation.
 
-Daniel Stenberg (9 Jan 2010)
-- Johan van Selst found and fixed a OpenSSL session ref count leak:
+- Fix language
 
-  ossl_connect_step3() increments an SSL session handle reference counter on
-  each call. When sessions are re-used this reference counter may be
-  incremented many times, but it will be decremented only once when done (by
-  Curl_ossl_session_free()); and the internal OpenSSL data will not be freed
-  if this reference count remains positive. When a session is re-used the
-  reference counter should be corrected by explicitly calling
-  SSL_SESSION_free() after each consecutive SSL_get1_session() to avoid
-  introducing a memory leak.
+Daniel Stenberg (24 Nov 2009)
+- refreshed
 
-  (http://curl.haxx.se/bug/view.cgi?id=2926284)
+Yang Tse (23 Nov 2009)
+- - David Byron modified Makefile.dist vc8 and vc9 targets in order to allow
+    finer granularity control when generating src and lib makefiles.
 
-Daniel Stenberg (7 Jan 2010)
-- Make sure the progress callback is called repeatedly even during very slow
-  name resolves when c-ares is used for resolving.
+- Enhance some debug messages for initialization failures.
+  
+  Fix compiler warning: conditional expression is constant.
 
-Claes Jakobsson (6 Jan 2010)
-- Julien Chaffraix fixed so that the fragment part in an URL is not sent
-  to the server anymore.
+Daniel Stenberg (23 Nov 2009)
+- - Bjorn Augustsson reported a bug which made curl not report any problems even
+    though it failed to write a very small download to disk (done in a single
+    fwrite call). It turned out to be because fwrite() returned success, but
+    there was insufficient error-checking for the fclose() call which tricked
+    curl to believe things were fine.
 
-Kamil Dudka (3 Jan 2010)
-- Julien Chaffraix eliminated a duplicated initialization in singlesocket().
+Yang Tse (23 Nov 2009)
+- Daniel wants upcoming release to be 1.7.0
 
-Daniel Stenberg (2 Jan 2010)
-- Make curl support --ssl and --ssl-reqd instead of the previous FTP-specific
-  versions --ftp-ssl and --ftp-ssl-reqd as these options are now used to
-  control SSL/TLS for IMAP, POP3 and SMTP as well in addition to FTP. The old
-  option names are still working but the new ones are the ones listed and
-  documented.
-
-Daniel Stenberg (1 Jan 2010)
-- Ingmar Runge enhanced libcurl's FTP engine to support the PRET command. This
-  command is a special "hack" used by the drftpd server, but even though it is
-  a custom extension I've deemed it fine to add to libcurl since this server
-  seems to survive and people keep using it and want libcurl to support
-  it. The new libcurl option is named CURLOPT_FTP_USE_PRET, and it is also
-  usable from the curl tool with --ftp-pret. Using this option on a server
-  that doesn't support this command will make libcurl fail.
+- Mention last changes
 
-  I added test cases 1107 and 1108 to verify the functionality.
+- - Removed from external interface preprocessor symbol definition for
+    CARES_HAVE_ARES_FREE_DATA. Current functionality of ares_free_data()
+    makes it unnecessary.
 
-  The PRET command is documented at
-  http://www.drftpd.org/index.php/Distributed_PASV
+- Added README.msvc
 
-Yang Tse (30 Dec 2009)
-- Steven M. Schweda improved VMS build system, and Craig A. Berry helped
-  with the patch and testing.
+- Changed c-ares naming conventions when using MSVC as described in README.msvc
 
-Daniel Stenberg (26 Dec 2009)
-- Renato Botelho and Peter Pentchev brought a patch that makes the libcurl
-  headers work correctly even on FreeBSD systems before v8.
+Daniel Stenberg (23 Nov 2009)
+- fixed CURLOPT_TFTP_BLKSIZE typo
 
-  (http://curl.haxx.se/bug/view.cgi?id=2916915)
+Yang Tse (23 Nov 2009)
+- - Mention other recent changes
 
-Daniel Stenberg (17 Dec 2009)
-- David Byron fixed Curl_ossl_cleanup to actually call ENGINE_cleanup when
-  available.
+- - Jakub Hrozek renamed addrttl and addr6ttl structs to ares_addrttl and
+    ares_addr6ttl in order to prevent name space pollution, along with
+    necessary changes to code base and man pages.This change does not break
+    ABI, there is no need to recompile existing applications. But existing
+    applications using these structs with the old name will need source code
+    adjustments when recompiled using c-ares 1.6.1.
 
-- Follow-up fix for the proxy fix I did for Jon Nelson's bug. It turned out I
-  was a bit too quick and broke test case 1101 with that change. The order of
-  some of the setups is sensitive. I now changed it slightly again to make
-  sure we do them in this order:
+- - Jakub Hrozek fixed more function prototypes in man pages to sync them
+    with the ones declared in ares.h
 
-  1 - parse URL and figure out what protocol is used in the URL
-  2 - prepend protocol:// to URL if missing
-  3 - parse name+password off URL, which needs to know what protocol is used
-      (since only some allows for name+password in the URL)
-  4 - figure out if a proxy should be used set by an option
-  5 - if no proxy option, check proxy environment variables
-  6 - run the protocol-specific setup function, which needs to have the proxy
-      already set
-
-Daniel Stenberg (15 Dec 2009)
-- Jon Nelson found a regression that turned out to be a flaw in how libcurl
-  detects and uses proxies based on the environment variables. If the proxy
-  was given as an explicit option it worked, but due to the setup order
-  mistake proxies would not be used fine for a few protocols when picked up
-  from '[protocol]_proxy'. Obviously this broke after 7.19.4. I now also added
-  test case 1106 that verifies this functionality.
+- Make configure remove the curlbuild.h file included in distribution tarballs
+  for use by non-configure systems. As intended, configure would overwrite the
+  distributed one when doing in-tree builds. But VPATH builds would end having
+  two curlbuild.h files, one in the source tree and another in the build tree.
 
-  (http://curl.haxx.se/bug/view.cgi?id=2913886)
+- Make configure remove the ares_build.h file included in distribution tarballs.
 
-Daniel Stenberg (12 Dec 2009)
-- IMAP, POP3 and SMTP support and their TLS versions (including IMAPS, POP3S
-  and SMTPS) are now supported. The current state may not yet be solid, but
-  the foundation is in place and the test suite has some initial support for
-  these protocols. Work will now persue to make them nice libcurl citizens
-  until release.
+- Fix macro redefinition.
 
-  The work with supporting these new protocols was sponsored by
-  networking4all.com - thanks!
+- Fix name space pollution.
 
-Daniel Stenberg (10 Dec 2009)
-- Siegfried Gyuricsko found out that the curl manual said --retry would retry
-  on FTP errors in the transient 5xx range. Transient FTP errors are in the
-  4xx range. The code itself only tried on 5xx errors that occured _at login_.
-  Now the retry code retries on all FTP transfer failures that ended with a
-  4xx response.
-
-  (http://curl.haxx.se/bug/view.cgi?id=2911279)
-
-- Constantine Sapuntzakis figured out a case which would lead to libcurl
-  accessing alredy freed memory and thus crash when using HTTPS (with
-  OpenSSL), multi interface and the CURLOPT_DEBUGFUNCTION and a certain order
-  of cleaning things up. I fixed it.
+- Allow using different extra import libraries for debug and release builds.
 
-  (http://curl.haxx.se/bug/view.cgi?id=2905220)
+- Add manifest stuff to msvc makefile
 
-Daniel Stenberg (7 Dec 2009)
-- Martin Storsjo made libcurl use the Expect: 100-continue header for posts
-  with unknown size. Previously it was only used for posts with a known size
-  larger than 1024 bytes.
+Daniel Stenberg (20 Nov 2009)
+- - Constantine Sapuntzakis identified a write after close, as the sockets were
+    closed by libcurl before the SSL lib were shutdown and they may write to its
+    socket. Detected to at least happen with OpenSSL builds.
 
-Daniel Stenberg (1 Dec 2009)
-- If the Expect: 100-continue header has been set by the application through
-  curl_easy_setopt with CURLOPT_HTTPHEADER, the library should set
-  data->state.expect100header accordingly - the current code (in 7.19.7 at
-  least) doesn't handle this properly. Martin Storsjo provided the fix!
+Yang Tse (20 Nov 2009)
+- Sync man page with reality
 
-Yang Tse (28 Nov 2009)
-- Added Diffie-Hellman parameters to several test harness certificate files in
-  PEM format. Required by several stunnel versions used by our test harness.
+- Add missing external API decoration for ares_set_socket_callback()
 
-Daniel Stenberg (28 Nov 2009)
-- Markus Koetter provided a polished and updated version of Chad Monroe's TFTP
-  rework patch that now integrates TFTP properly into libcurl so that it can
-  be used non-blocking with the multi interface and more. BLKSIZE also works.
+Daniel Stenberg (20 Nov 2009)
+- - Jad Chamcham pointed out a bug with connection re-use. If a connection had
+    CURLOPT_HTTPPROXYTUNNEL enabled over a proxy, a subsequent request using the
+    same proxy with the tunnel option disabled would still wrongly re-use that
+    previous connection and the outcome would only be badness.
 
-  The --tftp-blksize option was added to allow setting the TFTP BLKSIZE from
-  the command line.
+Yang Tse (20 Nov 2009)
+- Add ares_free_data() man page.
 
-Daniel Stenberg (26 Nov 2009)
-- Extended and fixed the change I did on Dec 11 for the the progress
-  meter/callback during FTP command/response sequences. It turned out it was
-  really lame before and now the progress meter SHOULD get called at least
-  once per second.
+- - Provide in external interface preprocessor symbol definitions for
+    CARES_HAVE_ARES_FREE_DATA as an indication of function availability.
 
-Daniel Stenberg (23 Nov 2009)
-- Bjorn Augustsson reported a bug which made curl not report any problems even
-  though it failed to write a very small download to disk (done in a single
-  fwrite call). It turned out to be because fwrite() returned success, but
-  there was insufficient error-checking for the fclose() call which tricked
-  curl to believe things were fine.
+- Remove typecast
 
-Yang Tse (23 Nov 2009)
-- David Byron modified Makefile.dist vc8 and vc9 targets in order to allow
-  finer granularity control when generating src and lib makefiles.
+- Fix comment
 
-Yang Tse (22 Nov 2009)
-- I modified configure to force removal of the curlbuild.h file included in
-  distribution tarballs for use by non-configure systems. As intended, this
-  would get overwriten when doing in-tree builds. But VPATH builds would end
-  having two curlbuild.h files, one in the source tree and another in the
-  build tree. With the modification I introduced 5 Nov 2009 this could become
-  an issue when running libcurl's test suite.
+- Add ares_data.c and ares_data.h
 
-Daniel Stenberg (20 Nov 2009)
-- Constantine Sapuntzakis identified a write after close, as the sockets were
-  closed by libcurl before the SSL lib were shutdown and they may write to its
-  socket. Detected to at least happen with OpenSSL builds.
-
-- Jad Chamcham pointed out a bug with connection re-use. If a connection had
-  CURLOPT_HTTPPROXYTUNNEL enabled over a proxy, a subsequent request using the
-  same proxy with the tunnel option disabled would still wrongly re-use that
-  previous connection and the outcome would only be badness.
-
-Yang Tse (18 Nov 2009)
-- I modified the memory tracking system to make it intolerant with zero sized
-  malloc(), calloc() and realloc() function calls.
+- Jakub Hrozek modified ares_parse_srv_reply() and ares_parse_txt_reply() API
+  to return a linked lists of results. These were also modified to internally
+  use the ares_data memory struct and as such its result must be free'ed with
+  ares_free_data().
+
+- Initial support for the generic ares_free_data() function that will allow
+  applications to free memory allocated and returned by some c-ares funtions.
+
+- Explicit initialization of all FTP struct members in ftp_init()
+
+- Fix compiler warning: ISO C90 forbids mixed declarations and code
+
+- Make memory tracking system intolerant with zero sized malloc(),
+  calloc() and realloc() function calls.
+
+- Make usage of calloc()'s arguments consistent with rest of code base
+
+- workaround icc 9.1 optimizer issue
 
 Daniel Stenberg (17 Nov 2009)
-- Constantine Sapuntzakis provided another fix for the DNS cache that could
-  end up with entries that wouldn't time-out:
+- - Constantine Sapuntzakis provided another fix for the DNS cache that could
+    end up with entries that wouldn't time-out:
+  
+    1. Set up a first web server that redirects (307) to a http://server:port
+       that's down
+    2. Have curl connect to the first web server using curl multi
+  
+    After the curl_easy_cleanup call, there will be curl dns entries hanging
+    around with in_use != 0.
+  
+    (http://curl.haxx.se/bug/view.cgi?id=2891591)
+
+- - Marc Kleine-Budde fixed: curl saved the LDFLAGS set during configure into
+    its pkg-config file.  So -Wl stuff ended up in the .pc file, which is really
+    bad, and breaks if there are multiple -Wl in our LDFLAGS (which are in
+    PTXdist). bug #2893592 (http://curl.haxx.se/bug/view.cgi?id=2893592)
+
+Yang Tse (16 Nov 2009)
+- Add icc fvisibility bug test
+
+- Fix icc 9.0 compiler warning: external definition with no prior declaration
+
+- Update serial number
+
+- Fix three var names
 
-  1. Set up a first web server that redirects (307) to a http://server:port
-     that's down
-  2. Have curl connect to the first web server using curl multi
-
-  After the curl_easy_cleanup call, there will be curl dns entries hanging
-  around with in_use != 0.
-
-  (http://curl.haxx.se/bug/view.cgi?id=2891591)
-
-- Marc Kleine-Budde fixed: curl saved the LDFLAGS set during configure into
-  its pkg-config file.  So -Wl stuff ended up in the .pc file, which is really
-  bad, and breaks if there are multiple -Wl in our LDFLAGS (which are in
-  PTXdist). bug #2893592 (http://curl.haxx.se/bug/view.cgi?id=2893592)
+- Add check for assert.h header file
 
 Kamil Dudka (15 Nov 2009)
-- David Byron improved the configure script to use pkg-config to find OpenSSL
-  (and in particular the list of required libraries) even if a path is given
-  as argument to --with-ssl
+- - David Byron improved the configure script to use pkg-config to find OpenSSL
+    (and in particular the list of required libraries) even if a path is given
+    as argument to --with-ssl
 
 Yang Tse (15 Nov 2009)
-- I removed enable-thread / disable-thread configure option. These were only
-  placebo options. The library is always built as thread safe as possible on
-  every system.
+- getaddrinfo is fully thread safe on solaris versions which
+  implement the function even when h_errno is not a macro.
+  
+  The h_errno macro test now only done on systems for which there
+  is no hard coded knowledge about getaddrinfo's thread safeness.
+
+- Client certificate ENG file type requires OpenSSL 0.9.7 or newer
+
+- Remove files generated on previous buildconf/configure run
+
+- Add a couple of renamed files to the removal list
+
+- Remove enable-thread / disable-thread configure option. These were only placebo
+  options. The library is always built as thread safe as possible on every system.
 
 Claes Jakobsson (14 Nov 2009)
-- curl-config now accepts '--configure' to see what arguments was
-  passed to the configure script when building curl.
+- Added '--configure' option to curl-config to display original configure arguments when curl was built
 
-Daniel Stenberg (14 Nov 2009)
-- Claes Jakobsson restored the configure functionality to detect NSS when
-  --with-nss is set but not "yes".
+Yang Tse (14 Nov 2009)
+- Refactor how preprocessor symbol _THREAD_SAFE definition is done.
+
+- OpenSSL 0.9.7 or newer required for ENGINE_CTRL_GET_CMD_FROM_NAME definition
 
-  I think we can still improve that to check for pkg-config in that path etc,
-  but at least this patch brings back the same functionality we had before.
+Daniel Stenberg (14 Nov 2009)
+- - Claes Jakobsson restored the configure functionality to detect NSS when
+    --with-nss is set but not "yes".
+  
+    I think we can still improve that to check for pkg-config in that path etc,
+    but at least this patch brings back the same functionality we had before.
 
-- Camille Moncelier added support for the file type SSL_FILETYPE_ENGINE for
-  the client certificate. It also disable the key name test as some engines
-  can select a private key/cert automatically (When there is only one key
-  and/or certificate on the hardware device used by the engine)
+- - Camille Moncelier added support for the file type SSL_FILETYPE_ENGINE for
+    the client certificate. It also disable the key name test as some engines
+    can select a private key/cert automatically (When there is only one key
+    and/or certificate on the hardware device used by the engine)
 
 Yang Tse (14 Nov 2009)
-- Constantine Sapuntzakis provided the fix that ensures that an SSL connection
-  won't be reused unless protection level for peer and host verification match.
+- - Constantine Sapuntzakis provided the fix that ensures that an SSL connection
+    won't be reused unless protection level for peer and host verification match.
+
+- Assume that getaddrinfo is thread safe, unless hard coded
+  knowledge says the contrary or h_errno is not defined.
+
+- Related with the threadsafe capability of getaddrinfo:
+  
+  - Constantine Sapuntzakis reported that Darwin 6.0 a.k.a. MAC OS X 10.2
+    and newer have a threadsafe getaddrinfo.
+  
+  - Fix Dragonfly BSD triplet detection.
+  
+  - In case the hard-coded knowledge says that getaddrinfo is threadsafe,
+    an additional check is done to verify that h_errno is also defined.
+    If h_errno isn't defined, we finally assume that it isn't threadsafe.
+    Jamie Lokier provided the inspiration for this extra check.
+
+- AIX 5.2 and newer have threadsafe getaddrinfo.
+  
+  Add some comments to better understand what the regex's pretend to achieve.
+
+- HP-UX 11.11 and later have threadsafe getaddrinfo
+
+- Constantine Sapuntzakis patch for hostip.c
+  
+  No need for a separate variable ndns.
+  
+  The memory leak detection will detect code that fails to release a dns reference.
+  
+  The DEBUGASSERT will detect code that releases too many references.
 
-  I refactored how preprocessor symbol _THREAD_SAFE definition is done.
+- Check if getaddrinfo is threadsafe when function check allows it to be used
+
+- Add missing variable initialization
 
 Kamil Dudka (12 Nov 2009)
-- Kevin Baughman provided a fix preventing libcurl-NSS from crash on doubly
-  closed NSPR descriptor. The issue was hard to find, reported several times
-  before and always closed unresolved. More info at the RH bug:
-  https://bugzilla.redhat.com/534176
-
-- libcurl-NSS now tries to reconnect with TLS disabled in case it detects
-  a broken TLS server. However it does not happen if SSL version is selected
-  manually. The approach was originally taken from PSM. Kaspar Brand helped me
-  to complete the patch. Original bug reports:
-  https://bugzilla.redhat.com/525496
-  https://bugzilla.redhat.com/527771
+- - libcurl-NSS now tries to reconnect with TLS disabled in case it detects
+    a broken TLS server. However it does not happen if SSL version is selected
+    manually. The approach was originally taken from PSM. Kaspar Brand helped me
+    to complete the patch. Original bug reports:
+    https://bugzilla.redhat.com/525496
+    https://bugzilla.redhat.com/527771
+
+- - Kevin Baughman provided a fix preventing libcurl-NSS from crash on doubly
+    closed NSPR descriptor. The issue was hard to find, reported several times
+    before and always closed unresolved. More info at the RH bug:
+    https://bugzilla.redhat.com/534176
 
 Yang Tse (12 Nov 2009)
-- I modified configure script to make the getaddrinfo function check also
-  verify if the function is thread safe.
+- Make hostip.c compile again
+
+Dan Fandrich (11 Nov 2009)
+- Made the path to the binaries absolute
 
 Yang Tse (11 Nov 2009)
-- Marco Maggi reported that compilation failed when configured --with-gssapi
-  and GNU GSS installed due to a missing mutual exclusion of header files in
-  the Kerberos 5 code path. He also verified that my patch worked for him.
+- Add last change credit
+
+- - Marco Maggi reported that compilation failed when configured --with-gssapi
+    and GNU GSS installed due to a missing mutual exclusion of header files in
+    the Kerberos 5 code path. He also verified that my patch worked for him.
 
 Daniel Stenberg (11 Nov 2009)
-- Constantine Sapuntzakis posted bug #2891595
-  (http://curl.haxx.se/bug/view.cgi?id=2891595) which identified how an entry
-  in the DNS cache would linger too long if the request that added it was in
-  use that long. He also provided the patch that now makes libcurl capable of
-  still doing a request while the DNS hash entry may get timed out.
-
-- Christian Schmitz noticed that the progress meter/callback was not properly
-  used during the FTP connection phase (after the actual TCP connect), while
-  it of course should be. I also made the speed check get called correctly so
-  that really slow servers will trigger that properly too.
+- NSS SSL connections are also blocking
+
+- - Constantine Sapuntzakis posted bug #2891595
+    (http://curl.haxx.se/bug/view.cgi?id=2891595) which identified how an entry
+    in the DNS cache would linger too long if the request that added it was in
+    use that long. He also provided the patch that now makes libcurl capable of
+    still doing a request while the DNS hash entry may get timed out.
+
+- - Christian Schmitz noticed that the progress meter/callback was not properly
+    used during the FTP connection phase (after the actual TCP connect), while
+    it of course should be. I also made the speed check get called correctly so
+    that really slow servers will trigger that properly too.
+
+Yang Tse (11 Nov 2009)
+- Renamed fpGetNetworkParams and fpSystemFunction036 to avoid namespace pollution with static library
+
+- Add kernel32.lib
+
+- Mention last changes
+
+- Reinstate copyright symbol lost in previous commit
+
+- Make some strings different in resource file for debug or release builds
+
+- Ignore more subdirs
+
+- Fix compiler warning: conditional expression is constant
+
+- Sync linker and resource compiler options with Makefile.msvc
+
+- Follow Makefile.msvc subdirectory naming scheme, and sync compiler options
+
+- Updated MSVC makefile that allows building dynamic and static
+  c-ares libraries in debug and release flavours.
+  
+  Additionally each of the three sample programs is built against
+  each of the four possible c-ares libraries, generating all this
+  a total number of 12 executables and 4 libraries.
+
+- Test for USE_WINSOCK since it is more restrictive than WIN32
+
+- Make header inclusion depend on HAVE_*_H definition
+
+- Remove unneeded preprocessor directives
+
+Daniel Stenberg (7 Nov 2009)
+- Joshua Kwan added paragraph 4.18 about file:// URLs on windows etc
+
+Yang Tse (5 Nov 2009)
+- Adjust c-ares include paths for memory tracking enabled (--enable-curldebug) builds
 
 Kamil Dudka (5 Nov 2009)
-- Dropped misleading timeouts in libcurl-NSS and made sure the SSL socket works
-  in non-blocking mode.
+- - Dropped misleading timeouts in libcurl-NSS and made sure the SSL socket works
+    in non-blocking mode.
 
 Yang Tse (5 Nov 2009)
 - I removed leading 'curl' path on the 'curlbuild.h' include statement in
   curl.h, adjusting auto-makefiles include path, to enhance portability to
   OS's without an orthogonal directory tree structure such as OS/400.
 
+- avoid division by zero
+
+Daniel Stenberg (4 Nov 2009)
+- - I fixed several problems with the transfer progress meter. It showed the
+    wrong percentage for small files, most notable for <1000 bytes and could
+    easily end up showing more than 100% at the end. It also didn't show any
+    percentage, transfer size or estimated transfer times when transferring
+    less than 100 bytes.
+
+Yang Tse (4 Nov 2009)
+- source files used by sample programs
+
 Daniel Stenberg (4 Nov 2009)
-- I fixed several problems with the transfer progress meter. It showed the
-  wrong percentage for small files, most notable for <1000 bytes and could
-  easily end up showing more than 100% at the end. It also didn't show any
-  percentage, transfer size or estimated transfer times when transferring
-  less than 100 bytes.
+- start over towards 7.19.8
 
-Version 7.19.7 (4 November 2009)
+- updated with names from the 7.19.7 release notes
+
+Version 7.19.7 (4 Nov 2009)
+
+Daniel Stenberg (4 Nov 2009)
+- fix the find command line
+
+- avoid fiddling in the ares subdir since that isn't part of the release
+  tarball
+
+- release coming up
+
+- syntax
+
+- I have next to no hope of fixing more bugs before 7.19.7 so all are now
+  moved to 7.19.8. I removed the bugs already in KNOWN_BUGS (but they should
+  of course still get fixed).
+  
+  Added three recent bugs. 7.19.8 is targetted to get shipped in Janurary 2010
+
+Dan Fandrich (4 Nov 2009)
+- Put the Symbian binaries into the more modern locations in ROM
+
+- Updated systems, bindings, NTLM support
+
+- Export the Symbian .iby files to make it easier to build a ROM
+
+Daniel Stenberg (2 Nov 2009)
+- strerror() => curl_easy_strerror()
+
+Yang Tse (2 Nov 2009)
+- include progress.h for Curl_pgrsSetDownloadCounter function prototype
 
 Daniel Stenberg (2 Nov 2009)
-- As reported independent by both Stan van de Burgt and Didier Brisebourg,
-  CURLINFO_SIZE_DOWNLOAD (the -w variable size_download) didn't work when
-  getting data from ldap!
+- - As reported independent by both Stan van de Burgt and Didier Brisebourg,
+    CURLINFO_SIZE_DOWNLOAD (the -w variable size_download) didn't work when
+    getting data from ldap!
+
+- describe the cmake situation
+
+Yang Tse (2 Nov 2009)
+- Renamed c-ares setup.h to ares_setup.h
+
+- Adjust include paths to take in account that currently:
+  
+  c-ares with --enable-curldebug uses memdebug.h from libcurl's lib subdirectory.
+  
+  memdebug.h needs access to libcurl's setup.h from libcurl's lib subdirectory
+  and also needs access to libcurl's generated curl_config.h
+
+- Undo old temporary change once used for testing purposes
 
 Daniel Stenberg (31 Oct 2009)
-- Gabriel Kuri reported a problem with CURLINFO_CONTENT_LENGTH_DOWNLOAD if the
-  download was 0 bytes, as libcurl would then return the size as unknown (-1)
-  and not 0. I wrote a fix and test case 566 to verify it.
+- - Gabriel Kuri reported a problem with CURLINFO_CONTENT_LENGTH_DOWNLOAD if the
+    download was 0 bytes, as libcurl would then return the size as unknown (-1)
+    and not 0. I wrote a fix and test case 566 to verify it.
+
+Yang Tse (31 Oct 2009)
+- Mention many changes
+
+- Mention --enable-symbol-hiding configure option
+
+- Symbol hiding configure options renamed to the hopefully less ambiguous
+  --enable-symbol-hiding and --disable-symbol-hiding as well as related
+  macro names and some internal variables used for them.
+  
+  Related configuration file preprocessor symbols named to
+  CARES_SYMBOL_HIDING and CARES_SYMBOL_SCOPE_EXTERN.
 
 Daniel Stenberg (30 Oct 2009)
-- Liza Alenchery mentioned a problem with re-used SCP connection when a bad
-  auth is used, as it caused a crash. I failed to repeat the issue, but still
-  made a change that now forces the TCP connection used for a freed SCP
-  session to get closed and not be re-used.
-
-- "Tom" posted a bug report that mentioned how libcurl did wrong when doing a
-  POST using a read callback, with Digest authentication and
-  "Transfer-Encoding: chunked" enforced.  I would then cause the first request
-  to be wrongly sent and then basically hang until the server closed the
-  connection. I fixed the problem and added test case 565 to verify it.
-
-Daniel Stenberg (25 Oct 2009)
-- Dima Barsky made the curl cookie parser accept cookies even with blank or
-  unparsable expiry dates and then treat them as session cookies - previously
-  libcurl would reject cookies with a date format it couldn't parse. Research
-  shows that the major browser treat such cookies as session cookies. I
-  modified test 8 and 31 to verify this.
+- Added test case 566 in an attempt to repeat bug 2884561
+  (http://curl.haxx.se/bug/view.cgi?id=2884561) but it seems to work for me...
 
-Daniel Stenberg (21 Oct 2009)
-- Attempt to use pkg-config for finding out libssh2 installation details
-  during configure.
+- - Liza Alenchery mentioned a problem with re-used SCP connection when a bad
+    auth is used, as it caused a crash. I failed to repeat the issue, but still
+    made a change that now forces the TCP connection used for a freed SCP
+    session to get closed and not be re-used.
+
+- - "Tom" posted a bug report that mentioned how libcurl did wrong when doing a
+    POST using a read callback, with Digest authentication and
+    "Transfer-Encoding: chunked" enforced.  I would then cause the first request
+    to be wrongly sent and then basically hang until the server closed the
+    connection. I fixed the problem and added test case 565 to verify it.
+
+Yang Tse (30 Oct 2009)
+- Header inclusion depending on HAVE_* symbol.
+  Fix two typos.
 
-- A patch in bug report #2883177 (http://curl.haxx.se/bug/view.cgi?id=2883177)
-  by Johan van Selst introduced the --crlfile option to curl, which makes curl
-  tell libcurl about a file with CRL (certificate revocation list) data to
-  read.
+- Comparison of the Initial revision of this file with ares_parse_a_reply.c
+  shows that this one is actually a modified copy of ares_parse_a_reply.c.
+  
+  In order to comply with ares_parse_a_reply.c's M.I.T. license, the old
+  1998 M.I.T. copyright notice is now also preserved in this file the same
+  as it is done in other ares_parse_*.c files.
 
-Daniel Stenberg (18 Oct 2009)
-- Ray Dassen provided a patch in Debian's bug tracker (bug number #551461)
-  that now makes curl_getdate(3) actually handles RFC 822 formatted dates that
-  use the "single letter military timezones".
-  http://www.rfc-ref.org/RFC-TEXTS/822/chapter5.html has the details.
+- Add CVS Id tag.
+  Fix identation of some license lines.
 
-- Fixed memory leak in the SCP/SFTP code as it never freed the knownhosts
-  data!
+- Add CVS Id tag.
 
-- John Dennis filed bug report #2873666
-  (http://curl.haxx.se/bug/view.cgi?id=2873666) which identified a problem
-  which made libcurl loop infinitely when given incorrect credentials when
-  using HTTP GSS negotiate authentication. He also provided a small and simple
-  patch for it.
-
-- Kevin Baughman found a double close() problem with libcurl-NSS, as when
-  libcurl called NSS to close the SSL "session" it also closed the actual
-  socket.
-
-Yang Tse (17 Oct 2009)
-- Bug report #2866724 indicated
-  (http://curl.haxx.se/bug/view.cgi?id=2866724) that curl on Windows failed
-  when writing files whose file names originally contained characters which
-  are not valid for file names on Windows. Dan Fandrich provided an initial
-  patch and another revised one to fix this issue.
-
-Daniel Stenberg (1 Oct 2009)
-- Tom Mueller correctly reported in bug report #2870221
-  (http://curl.haxx.se/bug/view.cgi?id=2870221) that libcurl returned an
-  incorrect return code from the internal trynextip() function which caused
-  him grief. This is a regression that was introduced in 7.19.1 and I find it
-  strange it hasn't hit us harder, but I won't persue into figuring out
-  exactly why.
-
-- Constantine Sapuntzakis: The current implementation will always set
-  SO_SNDBUF to CURL_WRITE_SIZE even if the SO_SNDBUF starts out larger.  The
-  patch doesn't do a setsockopt if SO_SNDBUF is already greater than
-  CURL_WRITE_SIZE. This should help folks who have set up their computer with
-  large send buffers.
-
-Daniel Stenberg (27 Sep 2009)
-- I introduced a maximum limit for received HTTP headers. It is controlled by
-  the define CURL_MAX_HTTP_HEADER which is even exposed in the public header
-  file to allow for users to fairly easy rebuild libcurl with a modified
-  limit. The rationale for a fixed limit is that libcurl is realloc()ing a
-  buffer to be able to put a full header into it, so that it can call the
-  header callback with the entire header, but that also risk getting it into
-  trouble if a server by mistake or willingly sends a header that is more or
-  less without an end. The limit is set to 100K.
-
-Daniel Stenberg (26 Sep 2009)
-- John P. McCaskey posted a bug report that showed how libcurl did wrong when
-  saving received cookies with no given path, if the path in the request had a
-  query part. That is means a question mark (?) and characters on the right
-  side of that. I wrote test case 1105 and fixed this problem.
-
-Kamil Dudka (26 Sep 2009)
-- Implemented a protocol independent way to specify blocking direction, used by
-  transfer.c for blocking. It is currently used only by SCP and SFTP protocols.
-  This enhancement resolves an issue with 100% CPU usage during SFTP upload,
-  reported by Vourhey.
-
-Daniel Stenberg (25 Sep 2009)
-- Chris Mumford filed bug report #2861587
-  (http://curl.haxx.se/bug/view.cgi?id=2861587) identifying that libcurl used
-  the OpenSSL function X509_load_crl_file() wrongly and failed if it would
-  load a CRL file with more than one certificate within. This is now fixed.
-
-Daniel Stenberg (16 Sep 2009)
-- Sven Anders reported that we introduced a cert verfication flaw for OpenSSL-
-  powered libcurl in 7.19.6. If there was a X509v3 Subject Alternative Name
-  field in the certficate it had to match and so even if non-DNS and non-IP
-  entry was present it caused the verification to fail.
-
-Daniel Fandrich (15 Sep 2009)
-- Moved the libssh2 checks after the SSL library checks. This helps when
-  statically linking since libssh2 needs the SSL library link flags to be
-  set up already to satisfy its dependencies. This wouldn't be necessary if
-  the libssh2 configure check was changed to use pkg-config since the
-  --static flag would add the dependencies automatically.
-
-Yang Tse (14 Sep 2009)
-- Revert Joshua Kwan's patch committed 11 Sep 2009.
-
-  Some systems poll function sets POLLHUP in revents without setting
-  POLLIN, and sets POLLERR without setting POLLIN and POLLOUT. In some
-  libcurl code execution paths this could trigger busy wait loops with
-  high CPU usage until a timeout condition aborted the loop.
-
-  The reverted patch addressed the above issue for a very specific case,
-  when awaiting c-ares to resolve. A libcurl-wide fix for Curl_poll now
-  superceeds this one.
-
-Guenter Knauf (11 Sep 2009)
-- Joshua Kwan provided a patch to pass POLLERR / POLLHUP back to c-ares.
-  This fixes a loop problem with high CPU usage.
-
-Daniel Stenberg (10 Sep 2009)
-- Claes Jakobsson fixed a problem with cookie expiry dates at exctly the epoch
-  start second "Thu Jan 1 00:00:00 GMT 1970" as the date parser then returns 0
-  which internally then is treated as a session cookie. That particular date
-  is now made to get the value of 1.
-
-Daniel Stenberg (2 Sep 2009)
-- Daniel Johnson found a flaw in the code converting sftp-errors to libcurl
-  errors.
-
-Daniel Stenberg (1 Sep 2009)
-- Peter Sylvester made a debug feature for Curl_resolv() that now will force
-  libcurl to resolve 'localhost' whatever name you use in the URL *if* you set
-  the --interface option to (exactly) "LocalHost". This will enable us to
-  write tests for custom hosts names but still use a local host server.
-
-- configure now tries to use pkg-config for a number of sub-dependencies even
-  when cross-compiling. The key to success is then you properly setup
-  PKG_CONFIG_PATH before invoking configure.
-
-  I also improved how NSS is detected by trying nss-config if pkg-config isn't
-  present, and as a last resort just use the lib name and force the user to
-  setup the LIBS/LDFLAGS/CFLAGS etc properly. The previous last resort would
-  add a range of various libs that would almost never be quite correct.
-
-Daniel Stenberg (31 Aug 2009)
-- When using the multi interface with FTP and you asked for NOBODY, you did no
-  QUOTE commands and the request used the same path as the connection had
-  already changed to, it would decide that no commands would be necessary for
-  the "DO" action and that was not handled properly but libcurl would instead
-  hang.
+- Fix comment
+
+- In no particular order, changed/fixed all of the following in
+  ares_parse_txt_reply() current version:
+  
+  - Fixed a couple of potential double free's.
+  
+  - Fixed memory leaks upon out of memory condition.
+  
+  - Fixed pointer arithmetic.
+  
+  - Setting ntxtreply to zero upon entry for all failure cases.
+  
+  - Changed data type to size_t for variables substr_len, str_len and
+    the length member of ares_txt_reply struct.
+  
+  - Avoided a couple of memcpy() calls.
+  
+  - Changed i data type to unsigned int to prevent compiler warnings.
+  
+  - Adjusted a comment.
+  
+  - Use ARES_SUCCESS literal for successfull completion.
+  
+  - Added CVS Id tag.
+
+- Add c-ares DLL resource file to distribution archive
 
-Kamil Dudka (28 Aug 2009)
-- Improved error message for not matching certificate subject name in
-  libcurl-NSS. Originally reported at:
-  https://bugzilla.redhat.com/show_bug.cgi?id=516056#c9
-
-Patrick Monnerat (24 Aug 2009)
-- Introduced a SYST-based test to properly set-up name format when dealing
-  with the OS/400 FTP server.
-
-- Fixed an ftp_readresp() bug preventing detection of failing control socket
-  and causing FTP client to loop forever.
-
-Daniel Stenberg (24 Aug 2009)
-- Marc de Bruin pointed out that configure --with-gnutls=PATH didn't work
-  properly and provided a fix. http://curl.haxx.se/bug/view.cgi?id=2843008
-
-- Eric Wong introduced support for the new option -T. (dot) that makes curl
-  read stdin in a non-blocking fashion. This also brings back -T- (minus) to
-  the previous blocking behavior since it could break stuff for people at
-  times.
-
-Michal Marek (21 Aug 2009)
-- With CURLOPT_PROXY_TRANSFER_MODE, avoid sending invalid URLs like
-  ftp://example.com;type=i if the user specified ftp://example.com without the
-  slash.
-
-Daniel Stenberg (21 Aug 2009)
-- Andre Guibert de Bruet pointed out a missing return code check for a
-  strdup() that could lead to segfault if it returned NULL. I extended his
-  suggest patch to now have Curl_retry_request() return a regular return code
-  and better check that.
-
-- Lots of good work by Krister Johansen, mostly related to pipelining:
-
-  Fix SIGSEGV on free'd easy_conn when pipe unexpectedly breaks
-  Fix data corruption issue with re-connected transfers
-  Fix use after free if we're completed but easy_conn not NULL
-
-Kamil Dudka (13 Aug 2009)
-- Changed NSS code to not ignore the value of ssl.verifyhost and produce more
-  verbose error messages. Originally reported at:
-  https://bugzilla.redhat.com/show_bug.cgi?id=516056
-
-Daniel Stenberg (12 Aug 2009)
-- Karl Moerder fixed the Makefile.vc* makefiles to include the new file
-  nonblock.c so that they work fine again
-
-- I expanded test 517 with a bunch of more dates that originate from the
-  Chrome browser test suite. It turns out most of them get parsed the same
-  way.
-
-Version 7.19.6 (12 August 2009)
-
-Daniel Stenberg (12 Aug 2009)
-- Carsten Lange reported a bug and provided a patch for TFTP upload and the
-  sending of the TSIZE option. I don't like fixing bugs just hours before
-  a release, but since it was broken and the patch fixes this for him I decided
-  to get it in anyway.
-
-Daniel Stenberg (11 Aug 2009)
-- Peter Sylvester made the HTTPS test server use specific certificates for
-  each test, so that the test suite can now be used to actually test the
-  verification of cert names etc. This made an error show up in the OpenSSL-
-  specific code where it would attempt to match the CN field even if a
-  subjectAltName exists that doesn't match. This is now fixed and verified
-  in test 311.
-
-- Benbuck Nason posted the bug report #2835196
-  (http://curl.haxx.se/bug/view.cgi?id=2835196), fixing a few compiler
-  warnings when mixing ints and bools.
-
-Daniel Fandrich (10 Aug 2009)
-- Fixed a memory leak in the FTP code and an off-by-one heap buffer overflow.
-
-Daniel Fandrich (9 Aug 2009)
-- Fixed some memory leaks in the command-line tool that caused most of the
-  torture tests to fail.
-
-Daniel Stenberg (2 Aug 2009)
-- Curt Bogmine reported a problem with SNI enabled on a particular server. We
-  should introduce an option to disable SNI, but as we're in feature freeze
-  now I've addressed the obvious bug here (pointed out by Peter Sylvester): we
-  shouldn't try to enable SNI when SSLv2 or SSLv3 is explicitly selected.
-  Code for OpenSSL and GnuTLS was fixed. NSS doesn't seem to have a particular
-  option for SNI, or are we simply not using it?
-
-Daniel Stenberg (1 Aug 2009)
-- Scott Cantor posted the bug report #2829955
-  (http://curl.haxx.se/bug/view.cgi?id=2829955) mentioning the recent SSL cert
-  verification flaw found and exploited by Moxie Marlinspike. The presentation
-  he did at Black Hat is available here:
-  https://www.blackhat.com/html/bh-usa-09/bh-usa-09-archives.html#Marlinspike
-
-  Apparently at least one CA allowed a subjectAltName or CN that contain a
-  zero byte, and thus clients that assumed they would never have zero bytes
-  were exploited to OK a certificate that didn't actually match the site. Like
-  if the name in the cert was "example.com\0theatualsite.com", libcurl would
-  happily verify that cert for example.com.
-
-  libcurl now better uses the length of the extracted name, not using the zero
-  termination for getting the string length.
-
-  This fixing only made and needed in OpenSSL interfacing code.
-
-- Tanguy Fautre pointed out that OpenSSL's function RAND_screen() (present
-  only in some OpenSSL installs - like on Windows) isn't thread-safe and we
-  agreed that moving it to the global_init() function is a decent way to deal
-  with this situation.
-
-- Alexander Beedie provided the patch for a noproxy problem: If I have set
-  CURLOPT_NOPROXY to "*", or to a host that should not use a proxy, I actually
-  could still end up using a proxy if a proxy environment variable was set.
-
-Daniel Stenberg (27 Jul 2009)
-- All the quote options (CURLOPT_QUOTE, CURLOPT_POSTQUOTE and
-  CURLOPT_PREQUOTE) now accept a preceeding asterisk before the command to
-  send when using FTP, as a sign that libcurl shall simply ignore the response
-  from the server instead of treating it as an error. Not treating a 400+ FTP
-  response code as an error means that failed commands will not abort the
-  chain of commands, nor will they cause the connection to get disconnected.
-
-Daniel Stenberg (26 Jul 2009)
-- Johan van Selst posted bug report #2825989
-  (http://curl.haxx.se/bug/view.cgi?id=2825989) pointing out that
-  OpenSSL-powered libcurl didn't support the SHA-2 digest algorithm, and
-  provided the solution too: to use OpenSSL_add_all_algorithms() in addition
-  to the older SSLeay_* alternative. OpenSSL_add_all_algorithms was added in
-  OpenSSL 0.9.5
-
-Daniel Stenberg (23 Jul 2009)
-- Added CURLOPT_SSH_KNOWNHOSTS, CURLOPT_SSH_KEYFUNCTION, CURLOPT_SSH_KEYDATA.
-  They introduce known_host support for SSH keys to libcurl. See docs for
-  details. Note that this feature depends on a new enough libssh2 version, to
-  be supported in libssh2 1.2 and later (or current git repo at this time).
-
-Michal Marek (22 Jul 2009)
-- David Binderman found a memory and fd leak in lib/gtls.c:load_file()
-  (https://bugzilla.novell.com/523919). When looking at the code, I found that
-  also the ptr pointer can leak.
-
-Kamil Dudka (20 Jul 2009)
-- Claes Jakobsson improved the support for client certificates handling in
-  NSS-powered libcurl. Now the client certificates can be selected
-  automatically by a NSS built-in hook. Additionally pre-login to all PKCS11
-  slots is no more performed. It used to cause problems with HW tokens.
-
-- Fixed reference counting for NSS client certificates. Now the PEM reader
-  module should be always properly unloaded on Curl_nss_cleanup(). If the
-  unload fails though, libcurl will try to reuse the already loaded instance.
-
-Daniel Fandrich (15 Jul 2009)
-- Added nonblock.c to the non-automake makefiles (note that the dependencies
-  in the Watcom makefiles aren't quite correct).
-
-Michal Marek (15 Jul 2009)
-- Changed the description of CURLINFO_OS_ERRNO to make it clear that the
-  errno is not reset on success.
-
-Guenter Knauf (14 Jul 2009)
-- renamed generated config.h to curl_config.h to avoid any future clashes
-  with config.h from other projects.
-
-Daniel Stenberg (9 Jul 2009)
-- Eric Wong introduced curlx_nonblock() that the curl tool now (re-)uses for
-  setting a file descriptor non-blocking. Used by the functionality Eric
-  himself brough on June 15th.
-
-Daniel Stenberg (8 Jul 2009)
-- Constantine Sapuntzakis posted bug report #2813123
-  (http://curl.haxx.se/bug/view.cgi?id=2813123) and an a patch that fixes the
-  problem:
-
-  Url A is accessed using auth. Url A redirects to Url B (on a different
-  server0. Url B reuses a persistent connection. Url B has auth, even though
-  it's on a different server.
+- ignore files
 
-  Note: if Url B does not reuse a persistent connection, auth is not sent.
+- Empty subdir
 
-  reason:
+- Updated MSVC 6.0 workspace and project files that allows building
+  dynamic and static c-ares libraries in debug and release flavours.
+  
+  Additionally each of the three sample programs is built against
+  each of the four possible c-ares libraries, generating all this
+  a total number of 12 executables and 4 libraries.
 
-  data->state.first_host is not initialized becuase Curl_http_connect is not
-  called when a connection is reused.
+Daniel Stenberg (29 Oct 2009)
+- no need to check for NULL pointers before dereferencing, as the pointers
+  MUST be valid and they are dereferenced further down in the function
+  unconditionally!
 
-  Solution:
+- shorten the descriptions somewhat
+
+- update to the new struct name
+
+- Jakub Hrozek added ares_parse_txt_reply() for TXT parsing
+
+- use 'ares_srv_reply' for proper name-spacing
+
+Yang Tse (29 Oct 2009)
+- Fix compiler warning: control reaches end of non-void function
+
+- Take in account c-ares 1.6.1 will use __declspec function decoration
+  for Win32 and Symbian unless CARES_STATICLIB is defined to use static
+  library linkage.
+
+- Add reference for ares_parse_srv_reply.pdf
+
+- Add reference for ares_parse_srv_reply docs
+
+- External API function linkage decoration adjustment
 
-  move initialization of data->state.first_host to Curl_http. No code before
-  Curl_http uses data->state.first_host anyway.
+- External API function linkage decoration adjustment
 
-Guenter Knauf (4 Jul 2009)
-- Markus Koetter provided a patch to avoid getnameinfo() usage which broke a
-  couple of both IPv4 and IPv6 autobuilds.
-
-Daniel Stenberg (29 Jun 2009)
-- Markus Koetter made CURLOPT_FTPPORT (and curl's -P/--ftpport) support a port
-  range if given colon-separated after the host name/address part. Like
-  "192.168.0.1:2000-10000"
-
-- Modified the separators used for CURLOPT_CERTINFO in multi-part outputs. I
-  don't know how they got wrong in the first place, but using this output
-  format makes it possible to quite easily separate the string into an array
-  of multiple items.
-
-Daniel Fandrich (16 June 2009)
-- Added a few more compiler warning options for gcc.
-
-Daniel Stenberg (16 Jun 2009)
-- Reuven Wachtfogel made curl -o - properly produce a binary output on windows
-  (no newline translations). Use -B/--use-ascii if you rather get the ascii
-  approach.
-
-Michal Marek (16 Jun 2009)
-- When doing non-anonymous ftp via http proxies and the password is not
-  provided in the url, add it there (squid needs this).
-
-Daniel Stenberg (15 Jun 2009)
-- Eric Wong's patch:
-
-  This allows curl(1) to be used as a client-side tunnel for arbitrary stream
-  protocols by abusing chunked transfer encoding in both the HTTP request and
-  HTTP response.  This requires server support for sending a response while a
-  request is still being read, of course.
-
-  If attempting to read from stdin returns EAGAIN, then we pause our sender.
-  This leaves curl to attempt to read from the socket while reading from stdin
-  (and thus sending) is paused.
-
-  This change was needed to allow successfully tunneling the git protocol over
-  HTTP (--no-buffer is needed, as well).
-
-Patrick Monnerat (15 Jun 2009)
-- Replaced use of standard C library rand()/srand() by our own pseudo-random
-  number generator.
-
-Yang Tse (11 Jun 2009)
-- I adapted testcurl script to allow building test harness programs when
-  cross-compiling for a *-*-mingw* host.
-
-Daniel Stenberg (10 Jun 2009)
-- Fabian Keil ran clang on the (lib)curl code, found a bunch of warnings and
-  contributed a range of patches to fix them.
-
-Yang Tse (10 Jun 2009)
-- I introduced configure script option --enable-curldebug which now allows
-  the decoupled enabling or disabling of the curl debug memory tracking
-  feature from the --enable-debug option which no longer controls this.
-
-  curl --version will list 'Debug' feature for debug enabled builds, and
-  will list 'TrackMemory' feature for curl debug memory tracking capable
-  builds. These features are independent and can be controlled when running
-  the configure script. When --enable-debug is given both features will be
-  enabled, unless some restriction prevents memory tracking from being used.
-
-  Internally, definition of preprocessor symbol DEBUGBUILD restricts code
-  which is only compiled for debug enabled builds. And symbol CURLDEBUG is
-  used to differentiate code which is _only_ used for memory tracking.
-
-Yang Tse (9 Jun 2009)
-- Daniel Steinberg pointed out that Curl_FormInit() in formdata.c was not
-  initializing the fread callback pointer and this triggered a compiler
-  warning, also provided a friendly suggestion on how to fix it.
-
-Daniel Stenberg (8 Jun 2009)
-- Claes Jakobsson provided a patch for libcurl-NSS that fixed a bad refcount
-  issue with client certs that caused issues like segfaults.
-  http://curl.haxx.se/mail/lib-2009-05/0316.html
-
-- Triggered by bug report #2798852 and the patch in there, I fixed configure
-  to detect gnutls build options with pkg-config only and not libgnutls-config
-  anymore since GnuTLS has stopped distributing that tool. If an explicit path
-  is given to configure, we will instead guess on how to link and use that
-  lib. I did not use the patch from the bug report.
-
-Yang Tse (8 Jun 2009)
-- Igor Novoseltsev adjusted Makefile.vxworks to get sources and headers
-  included from Makefile.inc, and provided docs\INSTALL VxWorks section.
-
-- I removed buildconf.bat from release and daily snapshot archives. This
-  file is only for CVS tree checkout builds.
-
-Daniel Stenberg (8 Jun 2009)
-- Eric Wong fixed --no-buffer to actually switch off output buffering. Been
-  broken since 7.19.0
-
-Bill Hoffman (6 Jun 2009)
-- Added some cmake docs and fixed socklen_t in the build.
-
-Yang Tse (5 Jun 2009)
-- John E. Malmberg provided VMS specific patch: "This fixes an existing bug
-  in urlglob.c where it was not converting the Curl Unix exit code to a VMS
-  DCL compatible exit code.  This fix required the enhancement described next.
-  This also adds an enhancement to main.c so that when curl is run under a
-  Unix shell like Bash on VMS, it will return the standard Unix exit codes
-  and messages." And another patch for docs/examples.
-
-  I introduced os-specific.c and os-specific.h for use in curl tool code
-  and adjusted John E. Malmberg's patch placement to use these new files
-  as an effort to prevent main.c from growing ad infinitum. Code already
-  existing in main.c which is OS specific should be moved into these files.
-
-Daniel Stenberg (4 June 2009)
-- Setting the Content-Length: header from your app when you do a POST or PUT
-  is almost always a VERY BAD IDEA. Yet there are still apps out there doing
-  this, and now recently it triggered a bug/side-effect in libcurl as when
-  libcurl sends a POST or PUT with NTLM, it sends an empty post first when it
-  knows it will just get a 401/407 back. If the app then replaced the
-  Content-Length header, it caused the server to wait for input that libcurl
-  wouldn't send. Aaron Oneal reported this problem in bug report #2799008
-  (http://curl.haxx.se/bug/view.cgi?id=2799008) and helped us verify the fix.
-
-Yang Tse (4 Jun 2009)
-- Igor Novoseltsev provided patches and information, that after some
-  adjustments to better fit curl's way of doing things, have resulted
-  in the posibility of building libcurl for VxWorks.
-
-Daniel Fandrich (2 June 2009)
-- Checked in a Google Android make file. To use it, you must first
-  create a config.h file by running configure in the Android environment,
-  which doesn't seem to be easy to do. If no easy way can be found, a
-  static config-android.h may need to be created and checked in to the
-  libcurl source tree.
-
-Daniel Stenberg (1 June 2009)
-- Claes Jakobsson fixed the configure script to better find and use NSS
-  without pkg-config.
-
-Yang Tse (1 Jun 2009)
-- John E. Malmberg provided a VMS specific clean-up for curl.h, and pointed
-  out that the configure script was failing to detect the timeval struct on
-  VMS when building with _XOPEN_SOURCE_EXTENDED undefined due to definition
-  taking place in socket.h instead of time.h.  I have adjusted configure
-  script to also include this header when checking struct timeval.
-
-Daniel Stenberg (27 May 2009)
-- Frank McGeough provided a small OpenSSL #include fix to make libcurl compile
-  fine with Nokia 5th edition 1.0 SDK for Symbian.
-
-- Andre Guibert de Bruet found a call to a OpenSSL function that didn't check
-  for a failure properly.
-
-- Mike Crowe pointed out that setting CURLOPT_USERPWD to NULL used to clear
-  the auth credentials back in 7.19.0 and earlier while now you have to set ""
-  to get the same effect. His patch brings back the ability to use NULL.
-
-- Claes Jakobsson fixed libcurl-NSS to build fine even without the
-  PK11_CreateGenericObject() function.
-
-Daniel Stenberg (25 May 2009)
-- bug report #2796358 (http://curl.haxx.se/bug/view.cgi?id=2796358) pointed
-  out that the cookie parser would leak memory when it parses cookies that are
-  received with domain, path etc set multiple times in the same header. While
-  such a cookie is questionable, they occur in the wild and libcurl no longer
-  leaks memory for them. I added such a header to test case 8.
-
-Daniel Fandrich (22 May 2009)
-- Removed some obsolete digest code that caused a valgrind error in test 551.
-
-Daniel Fandrich (20 May 2009)
-- Added "non-existing host" test keywords to make it easy to skip those
-  tests on machines that have broken DNS configurations (such as
-  those configured to use OpenDNS).
-
-Daniel Stenberg (19 May 2009)
-- Kamil Dudka brought the patch from the Redhat bug entry
-  https://bugzilla.redhat.com/show_bug.cgi?id=427966 which was libcurl closing
-  a bad file descriptor when closing down the FTP data connection.  Caolan
-  McNamara seems to be the original author of it.
-
-Version 7.19.5 (18 May 2009)
-
-Daniel Stenberg (17 May 2009)
-- James Bursa posted a patch to the mailing list that fixed a problem with
-  no_proxy which made it not skip the proxy if the URL entered contained a
-  user name. I added test case 1101 to verify.
-
-Daniel Stenberg (11 May 2009)
-- Balint Szilakszi reported a memory leak when libcurl did gzip decompression
-  of streams that had some parts (legitimately) missing. We now provide and use
-  a proper cleanup function for the content encoding submodule.
-  http://curl.haxx.se/mail/lib-2009-05/0092.html
-
-- Kamil Dudka provided a fix for libcurl-NSS reported by Michael Cronenworth
-  at https://bugzilla.redhat.com/show_bug.cgi?id=453612#c12
-
-  If an incorrect password is given while loading a private key, libcurl ends
-  up in an infinite loop consuming memory. The bug is critical.
-
-- I fixed the problem with doing NTLM, POST and then following a 302 redirect,
-  as reported by Ebenezer Ikonne (on curl-users) and Laurent Rabret (on
-  curl-library). The transfer was mistakenly marked to get more data to send
-  but since it didn't actually have that, it just hung there...
-
-Daniel Stenberg (10 May 2009)
-- Andre Guibert de Bruet correctly pointed out an over-alloc with one wasted
-  byte in the digest code.
-
-Yang Tse (9 May 2009)
-- Removed DOS and TPF package's subdirectory Makefile.am, it was only used
-  to include some files in the distribution tarball serving no other purpose.
-  Files from the DOS and TPF subdirectories are now included in the EXTRA_DIST
-  of the Makefile in the parent subdirectory.
-
-Yang Tse (8 May 2009)
-- Changed host name literal in several tests to one under the haxx.se domain.
-
-- Renamed vc6 workspace and project files to avoid filename clash when used
-  for conversion to later VS versions.
-
-Daniel Stenberg (8 May 2009)
-- Constantine Sapuntzakis fixed bug report #2784055
-  (http://curl.haxx.se/bug/view.cgi?id=2784055) identifying a problem to
-  connect to SOCKS proxies when using the multi interface. It turned out to
-  almost not work at all previously. We need to wait for the TCP connect to
-  be properly verified before doing the SOCKS magic.
-
-  There's still a flaw in the FTP code for this.
-
-Daniel Stenberg (7 May 2009)
-- Made the SO_SNDBUF setting for the data connection socket for ftp uploads as
-  well. See change 28 Apr 2009.
-
-Yang Tse (7 May 2009)
-- Fixed an issue affecting FTP transfers, introduced with the transfer.c
-  patch committed May 4.
-
-Daniel Stenberg (7 May 2009)
-- Man page *roff problems fixed thanks to input from Colin Watson. Problems
-  reported in the Debian package.
-
-- Vijay G filed bug report #2723236
-  (http://curl.haxx.se/bug/view.cgi?id=2723236) identifying a problem with
-  libcurl's TFTP code and its lack of dealing with the OACK packet.
-
-Yang Tse (5 May 2009)
-- Fixed the --ftp-port address of test #251 to the CLIENTIP address, and
-  reverted the change affecting test suite harness committed 4 May.
-
-Daniel Stenberg (5 May 2009)
-- Inspired by Michael Smith's session id fix for OpenSSL, I did the
-  corresponding fix in the GnuTLS code: make sure to store the new session id
-  in case the previous re-used one is rejected.
-
-Daniel Stenberg (4 May 2009)
-- Michael Smith posted bug report #2786255
-  (http://curl.haxx.se/bug/view.cgi?id=2786255) with a patch, identifying how
-  libcurl did not deal with SSL session ids properly if the server rejected a
-  re-use of one. Starting now, it will forget the rejected one and remember
-  the new. This change was for OpenSSL only, it is likely that other SSL lib
-  code needs similar fixes.
-
-Yang Tse (4 May 2009)
-- Applied David McCreedy's "transfer.c fixes for CURL_DO_LINEEND_CONV and
-  non-ASCII platform HTTP requests" patch addressing two HTTP PUT problems:
-  1) On non-ASCII platforms not all of the protocol portions of the PUT are
-  being translated to ASCII.  2) On all platforms the line endings of part of
-  the protocol portions are mangled from CRLF to CRCRLF if data->set.crlf or
-  data->set.prefer_ascii are set (depending on CURL_DO_LINEEND_CONV).
-
-- Applied David McCreedy's patch to fix test suite harness to allow test FTP
-  server and client on different machines, providing FTP client address when
-  running the FTP test server.
-
-Daniel Fandrich (3 May 2009)
-- Added and disabled test case 563 which shows KNOWN_BUGS #59.  The bug
-  report failed to mention that a proxy must be used to reproduce it.
-
-Yang Tse (2 May 2009)
-- Use a build-time configured curl_socklen_t data type instead of socklen_t.
-
-Yang Tse (1 May 2009)
-- Applied David McCreedy's patches "TPF-platform specific changes to various
-  files" and "http.c fix to Curl_proxyCONNECT for non-ASCII platforms", the
-  former with minor edits.
-
-Daniel Stenberg (30 Apr 2009)
-- I was going to fix issue #59 in KNOWN_BUGS
-
-  If the CURLOPT_PORT option is used on an FTP URL like
-  "ftp://example.com/file;type=A" the ";type=A" is stripped off.
-
-  I added test case 562 to verify, only to find out that I couldn't repeat
-  this bug so I hereby consider it not a bug anymore!
-
-Daniel Stenberg (29 Apr 2009)
-- Based on bug report #2723219 (http://curl.haxx.se/bug/view.cgi?id=2723219)
-  I've now made TFTP "connections" not being kept for re-use within libcurl.
-  TFTP is UDP-based so the benefit was really low (if even existing) to begin
-  with so instead of tracking down to fix this problem we instead removed the
-  re-use. I also enabled test case 1099 that I wrote a few days ago to verify
-  that this change fixes the reported problem.
-
-Daniel Stenberg (28 Apr 2009)
-- Constantine Sapuntzakis filed bug report #2783090
-  (http://curl.haxx.se/bug/view.cgi?id=2783090) pointing out that on windows
-  we need to grow the SO_SNDBUF buffer somewhat to get really good upload
-  speeds. http://support.microsoft.com/kb/823764 has the details. Friends
-  confirmed that simply adding 32 to CURL_MAX_WRITE_SIZE is enough.
-
-- Bug report #2709004 (http://curl.haxx.se/bug/view.cgi?id=2709004) by Tim
-  Chen pointed out how curl couldn't upload with resume when reading from a
-  pipe.
-
-  This ended up with the introduction of a new return code for the
-  CURLOPT_SEEKFUNCTION callback that basically says that the seek failed but
-  that libcurl may try to resolve the situation anyway. In our case this means
-  libcurl will attempt to instead read that much data from the stream instead
-  of seeking and that way curl can now upload with resume when data is read
-  from a stream!
-
-Daniel Stenberg (26 Apr 2009)
-- Bug report #2779733 (http://curl.haxx.se/bug/view.cgi?id=2779733) by Sven
-  Wegener pointed out that CURLINFO_APPCONNECT_TIME didn't work with the multi
-  interface and provided a patch that fixed the problem!
-
-Daniel Stenberg (24 Apr 2009)
-- Kamil Dudka fixed another NSS-related leak when client certs were used.
-
-- Bug report #2779245 (http://curl.haxx.se/bug/view.cgi?id=2779245) by Rainer
-  Koenig pointed out that the man page didn't tell that the *_proxy
-  environment variables can be specified lower case or UPPER CASE and the
-  lower case takes precedence,
-
-Daniel Fandrich (21 Apr 2009)
-- Added new libcurl source files to Amiga, RiscOS and VC6 build files.
-
-Yang Tse (21 Apr 2009)
-- Moved potential inclusion of system's malloc.h and memory.h header files to
-  setup_once.h.  Inclusion of each header file is based on the definition of
-  NEED_MALLOC_H and NEED_MEMORY_H respectively.
-
-  Renamed libcurl's memory.h to curl_memory.h
-
-Daniel Stenberg (20 Apr 2009)
-- Leanic Lefever reported a crash and did some detailed research on why and
-  how it occurs (http://curl.haxx.se/mail/lib-2009-04/0289.html). The
-  conclusion was that if an error is detected and Curl_done() is called for
-  the connection, ftp_done() could at times return another error code that
-  then would take precedence and that new code confused existing logic that
-  works for the first error code (CURLE_SEND_ERROR) only.
-
-- Gisle Vanem noticed that --libtool would produce bogus strings at times for
-  OBJECTPOINT options. Now we've introduced a new function - my_setopt_str -
-  within the app for setting plain string options to avoid the risk of this
-  mistake happening.
-
-Daniel Stenberg (17 Apr 2009)
-- Pramod Sharma reported and tracked down a bug when doing FTP over a HTTP
-  proxy. libcurl would then wrongly close the connection after each
-  request. In his case it had the weird side-effect that it killed NTLM auth
-  for the proxy causing an inifinite loop!
-
-  I added test case 1098 to verify this fix. The test case does however not
-  properly verify that the transfers are done persistently - as I couldn't
-  think of a clever way to achieve it right now - but you need to read the
-  stderr output after a test run to see that it truly did the right thing.
-
-Daniel Stenberg (13 Apr 2009)
-- bug report #2727981 (http://curl.haxx.se/bug/view.cgi?id=2727981) by Martin
-  Storsjö pointed out how setting CURLOPT_NOBODY to 0 could be downright
-  confusing as it set the method to either GET or HEAD. The example he showed
-  looked like:
-
-   curl_easy_setopt(curl, CURLOPT_PUT, 1);
-   curl_easy_setopt(curl, CURLOPT_NOBODY, 0);
-
-  The new way doesn't alter the method until the request is about to start. If
-  CURLOPT_NOBODY is then 1 the HTTP request will be HEAD. If CURLOPT_NOBODY is
-  0 and the request happens to have been set to HEAD, it will then instead be
-  set to GET. I believe this will be less surprising to users, and hopefully
-  not hit any existing users badly.
-
-- Toshio Kuratomi reported a memory leak problem with libcurl+NSS that turned
-  out to be leaking cacerts. Kamil Dudka helped me complete the fix. The issue
-  is found in Redhat's bug tracker:
-  https://bugzilla.redhat.com/show_bug.cgi?id=453612
-
-  There are still memory leaks present, but they seem to have other reasons.
-
-Daniel Fandrich (11 Apr 2009)
-- Added new libcurl source files to Symbian OS build files.
-- Improved Symbian support for SSL.
-
-Yang Tse (10 Apr 2009)
-- Daniel Johnson improved the MacOSX-Framework shell script to now perform all
-  the steps required to build a Mac OS X four way fat ppc/i386/ppc64/x86_64
-  libcurl.framework.  Four way fat framework requires OS X 10.5 SDK or later.
-
-Yang Tse (8 Apr 2009)
-- Removed Sun compilers preprocessor block from curlbuild.h.dist, this also
-  removes it from the curlbuild.h file originally distributed by the cURL
-  project as this file is intended for systems not capable of running the
-  configure script.  For those who have been building curl out of the source
-  code curl distribution tarball provided by curl.haxx.se the change implies
-  nothing.  Previous change in this area committed 2 Apr becomes irrelevant.
-
-Daniel Stenberg (6 Apr 2009)
-- I clarified in the docs that CURLOPT_SEEKFUNCTION should return 0 on success
-  and 1 on fatal errors. Previously it only mentioned non-zero on fatal
-  errors. This is a slight change in meaning, but it follows what we've done
-  elsewhere before and it opens up for LOTS of more useful return codes
-  whenever we can think of them...
-
-Yang Tse (2 Apr 2009)
-- Fix curl_off_t definition for builds done using Sun compilers and a
-  non-configured libcurl. In this case curl_off_t data type was gated
-  to the off_t data type which depends on the _FILE_OFFSET_BITS. This
-  configuration is exactly the unwanted configuration for our curl_off_t
-  data type which must not depend on such setting. This breaks ABI for
-  libcurl libraries built with Sun compilers which were built without
-  having run the configure script with _FILE_OFFSET_BITS different than
-  64 and using the ILP32 data model.
-
-Daniel Stenberg (1 Apr 2009)
-- Andre Guibert de Bruet fixed a NULL pointer use in an infof() call if a
-  strdup() call failed.
-
-Daniel Fandrich (31 Mar 2009)
-- Properly return an error code in curl_easy_recv (reported by Jim Freeman).
-
-Daniel Stenberg (18 Mar 2009)
-- Kamil Dudka brought a patch that enables 6 additional crypto algorithms when
-  NSS is used. These ciphers were added in NSS 3.4 and require to be enabled
-  explicitly.
-
-Daniel Stenberg (13 Mar 2009)
-- Use libssh2_version() to present the libssh2 version in case the libssh2
-  library is found to support it.
-
-Yang Tse (12 Mar 2009)
-- Added missing Curl_read() return code checking in TELNET transfers.
-
-- Pierre Brico found and fixed TELNET transfers not being aborted upon
-  a write callback failure.
-
-Daniel Stenberg (11 Mar 2009)
-- Kamil Dudka made the curl tool properly call curl_global_init() before any
-  other libcurl function.
-
-Yang Tse (11 Mar 2009)
-- Added missing TELNET timeout support for Windows builds. This issue was
-  reported by Pierre Brico.
-
-Daniel Stenberg (9 Mar 2009)
-- Frank Hempel found out a bug and provided the fix:
-
-  curl_easy_duphandle did not necessarily duplicate the CURLOPT_COOKIEFILE
-  option. It only enabled the cookie engine in the destination handle if
-  data->cookies is not NULL (where data is the source handle). In case of a
-  newly initialized handle which just had the cookie support enabled by a
-  curl_easy_setopt(handle, CURL_COOKIEFILE, "")-call, handle->cookies was
-  still NULL because the setopt-call only appends the value to
-  data->change.cookielist, hence duplicating this handle would not have the
-  cookie engine switched on.
-
-  We also concluded that the slist-functionality would be suitable for being
-  put in its own module rather than simply hanging out in lib/sendf.c so I
-  created lib/slist.[ch] for them.
-
-- Andreas Farber made the 'buildconf' script check for the presence of m4
-  scripts to make it detect a bad checkout earlier. People with older
-  checkouts who don't do cvs update with the -d option won't get the new dirs
-  and then will get funny outputs that can be a bit hard to understand and
-  fix.
-
-Daniel Stenberg (8 Mar 2009)
-- Andre Guibert de Bruet found and fixed a code segment in ssluse.c where the
-  allocation of the memory BIO was not being properly checked.
-
-- Andre Guibert de Bruet fixed the gnutls-using code: There are a few places
-  in the gnutls code where we were checking for negative values for errors,
-  when the man pages state that GNUTLS_E_SUCCESS is returned on success and
-  other values indicate error conditions.
-
-- Bill Egert pointed out (http://curl.haxx.se/bug/view.cgi?id=2671602) that
-  curl didn't use sprintf() in a way that is documented to work in POSIX but
-  since we use our own printf() code (from libcurl) that shouldn't be a
-  problem. Nonetheless I modified the code to not rely on such particular
-  features and to not cause further raised eyebrowse with no good reason.
-
-Daniel Fandrich (5 Mar 2009)
-- Expanded the security section of the libcurl-tutorial man page to cover
-  more issues for authors to consider when writing robust libcurl-using
-  applications.
-
-Yang Tse (5 Mar 2009)
-- Fixed NTLM authentication memory leak on SSPI enabled Windows builds. This
-  issue was noticed by Chris Deidun.
-
-Daniel Fandrich (4 Mar 2009)
-- Fixed a problem with m4 quoting in the OpenSSL configure check reported
-  by Daniel Johnson.
-
-Daniel Stenberg (3 Mar 2009)
-- David James brought a patch that make libcurl close (all) dead connections
-  whenever you attempt to open a new connection.
-
-  1. After cleaning up a dead connection, "continue" instead of
-     returning FALSE. This ensures that we clean up all dead connections,
-     rather than just cleaning up the first dead connection.
-  2. Move up the cleanup for dead connections so that it occurs for
-     all connections, rather than just the connections which have the same
-     preferences as our current new connection.
-
-Version 7.19.4 (3 March 2009)
-
-Daniel Stenberg (3 Mar 2009)
-- David Kierznowski notified us about a security flaw
-  (http://curl.haxx.se/docs/adv_20090303.html also known as CVE-2009-0037) in
-  which previous libcurl versions (by design) can be tricked to access an
-  arbitrary local/different file instead of a remote one when
-  CURLOPT_FOLLOWLOCATION is enabled. This flaw is now fixed in this release
-  together this the addition of two new setopt options for controlling this
-  new behavior:
-
-  o CURLOPT_REDIR_PROTOCOLS controls what protocols libcurl is allowed to
-  follow to when CURLOPT_FOLLOWLOCATION is enabled. By default, this option
-  excludes the FILE and SCP protocols and thus you nee to explicitly allow
-  them in your app if you really want that behavior.
-
-  o CURLOPT_PROTOCOLS controls what protocol(s) libcurl is allowed to fetch
-  using the primary URL option. This is useful if you want to allow a user or
-  other outsiders control what URL to pass to libcurl and yet not allow all
-  protocols libcurl may have been built to support.
-
-Daniel Stenberg (27 Feb 2009)
-- Senthil Raja Velu reported a problem when CURLOPT_INTERFACE and
-  CURLOPT_LOCALPORT were used together (the local port bind failed), and
-  Markus Koetter provided the fix!
-
-Daniel Stenberg (25 Feb 2009)
-- As Daniel Fandrich figured out, we must do the GnuTLS initing in the
-  curl_global_init() function to properly maintain the performing functions
-  thread-safe. We've previously (28 April 2007) moved the init to a later time
-  just to avoid it to fail very early when libgcrypt dislikes the situation,
-  but that move was bad and the fix should rather be in libgcrypt or
-  elsewhere.
-
-Daniel Stenberg (24 Feb 2009)
-- Brian J. Murrell found out that Negotiate proxy authentication didn't work.
-  It happened because the code used the struct for server-based auth all the
-  time for both proxy and server auth which of course was wrong.
-
-Daniel Stenberg (23 Feb 2009)
-- After a bug reported by James Cheng I've made curl_easy_getinfo() for
-  CURLINFO_CONTENT_LENGTH_DOWNLOAD and CURLINFO_CONTENT_LENGTH_UPLOAD return
-  -1 if the sizes aren't know. Previously these returned 0, make it impossible
-  to detect the difference between actually zero and unknown.
-
-Yang Tse (23 Feb 2009)
-- Daniel Johnson provided a shell script that will perform all the steps needed
-  to build a Mac OS X fat ppc/i386 or ppc64/x86_64 libcurl.framework
-
-Daniel Stenberg (23 Feb 2009)
-- I renamed everything in the windows builds files that used the name 'curllib'
-  to the proper 'libcurl' as clearly this caused confusion.
-
-Yang Tse (20 Feb 2009)
-- Do not halt compilation when using VS2008 to build a Windows 2000 target.
-
-Daniel Stenberg (20 Feb 2009)
-- Linus Nielsen Feltzing reported and helped me repeat and fix a problem with
-  FTP with the multi interface: when a transfer fails, like when aborted by a
-  write callback, the control connection was wrongly closed and thus not
-  re-used properly.
-
-  This change is also an attempt to cleanup the code somewhat in this area, as
-  now the FTP code attempts to keep (better) track on pending responses
-  necessary to get read in ftp_done().
-
-Daniel Stenberg (19 Feb 2009)
-- Patrik Thunstrom reported a problem and helped me repeat it. It turned out
-  libcurl did a superfluous 1000ms wait when doing SFTP downloads!
-
-  We read data with libssh2 while doing the "DO" operation for SFTP and then
-  when we were about to start getting data for the actual file part, the
-  "TRANSFER" part, we waited for socket action (in 1000ms) before doing a
-  libssh2-read. But in this case libssh2 had already read and buffered the
-  data so we ended up always just waiting 1000ms before we get working on the
-  data!
-
-Patrick Monnerat (18 Feb 2009)
-- FTP downloads (i.e.: RETR) ending with code 550 now return error
-  CURLE_REMOTE_FILE_NOT_FOUND instead of CURLE_FTP_COULDNT_RETR_FILE.
-
-Daniel Stenberg (17 Feb 2009)
-- Kamil Dudka made NSS-powered builds compile and run again!
-
-- A second follow-up change by Andre Guibert de Bruet to fix a related memory
-  leak like that fixed on the 14th. When zlib returns failure, we need to
-  cleanup properly before returning error.
-
-- CURLOPT_FTP_CREATE_MISSING_DIRS can now be set to 2 in addition to 1 for
-  plain FTP connections, and it will then allow MKD to fail once and retry the
-  CWD afterwards. This is especially useful if you're doing many simultanoes
-  connections against the same server and they all have this option enabled,
-  as then CWD may first fail but then another connection does MKD before this
-  connection and thus MKD fails but trying CWD works! The numbers can
-  (should?) now be set with the convenience enums now called
-  CURLFTP_CREATE_DIR and CURLFTP_CREATE_DIR_RETRY.
-
-  Tests has proven that if you're making an application that uploads a set of
-  files to an ftp server, you will get a noticable gain in speed if you're
-  using multiple connections and this option will be then be very useful.
-
-Daniel Stenberg (14 Feb 2009)
-- Andre Guibert de Bruet found and fixed a memory leak in the content encoding
-  code, which could happen on libz errors.
-
-Daniel Fandrich (12 Feb 2009)
-- Added support for Digest and NTLM authentication using GnuTLS.
-
-Daniel Stenberg (11 Feb 2009)
-- CURLINFO_CONDITION_UNMET was added to allow an application to get to know if
-  the condition in the previous request was unmet. This is typically a time
-  condition set with CURLOPT_TIMECONDITION and was previously not possible to
-  reliably figure out. From bug report #2565128
-  (http://curl.haxx.se/bug/view.cgi?id=2565128) filed by Jocelyn Jaubert.
-
-Daniel Fandrich (4 Feb 2009)
-- Don't add the standard /usr/lib or /usr/include paths to LDFLAGS and CPPFLAGS
-  (respectively) when --with-ssl=/usr is used (patch based on FreeBSD).
-
-- Added an explicit buffer limit check in msdosify() (patch based on FreeBSD).
-  This couldn't ever overflow in curl, but might if the code were used
-  elsewhere or under different conditions.
-
-Daniel Stenberg (3 Feb 2009)
-- Hidemoto Nakada provided a small fix that makes it possible to get the
-  CURLINFO_CONTENT_LENGTH_DOWNLOAD size from file:// "transfers" with
-  CURLOPT_NOBODY set true.
-
-Daniel Stenberg (2 Feb 2009)
-- Patrick Scott found a rather large memory leak when using the multi
-  interface and setting CURLMOPT_MAXCONNECTS to something less than the number
-  of handles you add to the multi handle. All the connections that didn't fit
-  in the cache would not be properly disconnected nor freed!
-
-- Craig A West brought us: libcurl now defaults to do CONNECT with HTTP
-  version 1.1 instead of 1.0 like before. This change also introduces the new
-  proxy type for libcurl called 'CURLPROXY_HTTP_1_0' that then allows apps to
-  switch (back) to CONNECT 1.0 requests. The curl tool also got a --proxy1.0
-  option that works exactly like --proxy but sets CURLPROXY_HTTP_1_0.
-
-  I updated all test cases cases that use CONNECT and I tried to do some using
-  --proxy1.0 and some updated to do CONNECT 1.1 to get both versions run.
-
-Daniel Stenberg (31 Jan 2009)
-- When building with c-ares 1.6.1 (not yet released) or later and IPv6 support
-  enabled, we can now take advantage of its brand new AF_UNSPEC support in
-  ares_gethostbyname(). This makes test case 241 finally run fine for me with
-  this setup since it now parses the "::1 ip6-localhost" line fine in my
-  /etc/hosts file!
-
-Daniel Stenberg (30 Jan 2009)
-- Scott Cantor filed bug report #2550061
-  (http://curl.haxx.se/bug/view.cgi?id=2550061) mentioning that I failed to
-  properly make sure that the VC9 makefiles got included in the latest
-  release. I've now fixed the release script and verified it so next release
-  will hopefully include them properly!
-
-Daniel Fandrich (30 Jan 2009)
-- Fixed --disable-proxy for FTP and SOCKS. Thanks to Daniel Egger for
-  reporting.
-
-Yang Tse (29 Jan 2009)
-- Introduced curl_sspi.c and curl_sspi.h for the implementation of functions
-  Curl_sspi_global_init() and Curl_sspi_global_cleanup() which previously were
-  named Curl_ntlm_global_init() and Curl_ntlm_global_cleanup() in http_ntlm.c
-  Also adjusted socks_sspi.c to remove the link-time dependency on the Windows
-  SSPI library using it now in the same way as it was done in http_ntlm.c.
-
-Daniel Stenberg (28 Jan 2009)
-- Markus Moeller introduced two new options to libcurl:
-  CURLOPT_SOCKS5_GSSAPI_SERVICE and CURLOPT_SOCKS5_GSSAPI_NEC to allow libcurl
-  to do GSS-style authentication with SOCKS5 proxies. The curl tool got the
-  options called --socks5-gssapi-service and --socks5-gssapi-nec to enable
-  these.
-
-Daniel Stenberg (26 Jan 2009)
-- Chad Monroe provided the new CURLOPT_TFTP_BLKSIZE option that allows an app
-  to set desired block size to use for TFTP transfers instead of the default
-  512 bytes.
-
-- The "-no_ticket" option was introduced in Openssl0.9.8j. It's a flag to
-  disable "rfc4507bis session ticket support".  rfc4507bis was later turned
-  into the proper RFC5077 it seems: http://tools.ietf.org/html/rfc5077
-
-  The enabled extension concerns the session management. I wonder how often
-  libcurl stops a connection and then resumes a TLS session. also, sending the
-  session data is some overhead. .I suggest that you just use your proposed
-  patch (which explicitly disables TICKET).
-
-  If someone writes an application with libcurl and openssl who wants to
-  enable the feature, one can do this in the SSL callback.
-
-  Sharad Gupta brought this to my attention. Peter Sylvester helped me decide
-  on the proper action.
-
-- Alexey Borzov filed bug report #2535504
-  (http://curl.haxx.se/bug/view.cgi?id=2535504) pointing out that realms with
-  quoted quotation marks in HTTP Digest headers didn't work. I've now added
-  test case 1095 that verifies my fix.
-
-- Craig A West brought CURLOPT_NOPROXY and the corresponding --noproxy option.
-  They basically offer the same thing the NO_PROXY environment variable only
-  offered previously: list a set of host names that shall not use the proxy
-  even if one is specified.
-
-Daniel Fandrich (20 Jan 2009)
-- Call setlocale() for libtest tests to test the effects of locale-induced
-  libc changes on libcurl.
-
-- Fixed a couple more locale-dependent toupper conversions, mainly for
-  clarity.  This does fix one problem that causes ;type=i FTP URLs
-  to fail in the Turkish locale when CURLOPT_PROXY_TRANSFER_MODE is
-  used (test case 561)
-
-- Added tests 561 and 1091 through 1094 to test various combinations
-  of ;type= and ;mode= URLs that could potentially fail in the Turkish
-  locale.
-
-Daniel Stenberg (20 Jan 2009)
-- Lisa Xu pointed out that the ssh.obj file was missing from the
-  lib/Makefile.vc6 file (and thus from the vc8 and vc9 ones too).
-
-Version 7.19.3 (19 January 2009)
-
-Daniel Stenberg (16 Jan 2009)
-- Andrew de los Reyes fixed curlbuild.h for "generic" gcc builds on PPC, both
-  32 bit and 64 bit.
-
-Daniel Stenberg (15 Jan 2009)
-- Tim Ansell fixed a compiler warning in lib/cookie.c
-
-Daniel Stenberg (14 Jan 2009)
-- Grant Erickson fixed timeouts for TFTP such that specifying a
-  connect-timeout, a max-time or both options work correctly and as expected
-  by passing the correct boolean value to Curl_timeleft via the
-  'duringconnect' parameter.
-
-  With this small change, curl TFTP now behaves as expected (and likely as
-  originally-designed):
-
-  1) For non-existent or unreachable dotted IP addresses:
-
-   a) With no options, follows the default curl 300s timeout...
-   b) With --connect-timeout only, follows that value...
-   c) With --max-time only, follows that value...
-   d) With both --connect-timeout and --max-time, follows the smaller value...
-
-   and times out with a "curl: (7) Couldn't connect to server" error.
-
-  2) For transfers to/from a valid host:
-
-   a) With no options, follows default curl 300s timeout for the
-      first XRQ/DATA/ACK transaction and the default TFTP 3600s
-      timeout for the remainder of the transfer...
-
-   b) With --connect-time only, follows that value for the
-      first XRQ/DATA/ACK transaction and the default TFTP 3600s
-      timeout for the remainder of the transfer...
-
-   c) With --max-time only, follows that value for the first
-      XRQ/DATA/ACK transaction and for the remainder of the
-      transfer...
-
-   d) With both --connect-timeout and --max-time, follows the former
-      for the first XRQ/DATA/ACK transaction and the latter for the
-      remainder of the transfer...
-
-   and times out with a "curl: (28) Timeout was reached" error as
-   appropriate.
-
-Daniel Stenberg (13 Jan 2009)
-- Michael Wallner fixed a NULL pointer deref when calling
-  curl_easy_setup(curl, CURLOPT_COOKIELIST, "SESS") on a CURL handle with no
-  cookies data.
-
-- Stefan Teleman brought a patch to fix the default curlbuild.h file for the
-  SunPro compilers.
-
-Daniel Stenberg (12 Jan 2009)
-- Based on bug report #2498665 (http://curl.haxx.se/bug/view.cgi?id=2498665)
-  by Daniel Black, I've now added magic to the configure script that makes it
-  use pkg-config to detect gnutls details as well if the existing method
-  (using libgnutls-config) fails. While doing this, I cleaned up and unified
-  the pkg-config usage when detecting openssl and nss as well.
-
-Daniel Stenberg (11 Jan 2009)
-- Karl Moerder brought the patch that creates vc9 Makefiles, and I made
-  'maketgz' now use the actual makefile targets to do the VC8 and VC9
-  makefiles.
-
-Daniel Stenberg (10 Jan 2009)
-- Emil Romanus fixed:
-
-  When using the multi interface over HTTP and the server returns a Location
-  header, the running easy handle will get stuck in the CURLM_STATE_PERFORM
-  state, leaving the external event loop stuck waiting for data from the
-  ingoing socket (when using the curl_multi_socket_action stuff). While this
-  bug was pretty hard to find, it seems to require only a one-line fix. The
-  break statement on line 1374 in multi.c caused the function to skip the call
-  to multistate().
-
-  How to reproduce this bug? Well, that's another question.  evhiperfifo.c in
-  the examples directory chokes on this bug only _sometimes_, probably
-  depending on how fast the URLs are added. One way of testing the bug out is
-  writing to hiper.fifo from more than one source at the same time.
-
-Daniel Fandrich (7 Jan 2009)
-- Unified much of the SessionHandle initialization done in Curl_open() and
-  curl_easy_reset() by creating Curl_init_userdefined(). This had the side
-  effect of fixing curl_easy_reset() so it now also resets
-  CURLOPT_FTP_FILEMETHOD and CURLOPT_SSL_SESSIONID_CACHE
-
-Daniel Stenberg (7 Jan 2009)
-- Rob Crittenden did once again provide an NSS update:
-
-  I have to jump through a few hoops now with the NSS library initialization
-  since another part of an application may have already initialized NSS by the
-  time Curl gets invoked. This patch is more careful to only shutdown the NSS
-  library if Curl did the initialization.
-
-  It also adds in a bit of code to set the default ciphers if the app that
-  call NSS_Init* did not call NSS_SetDomesticPolicy() or set specific
-  ciphers. One might argue that this lets other application developers get
-  lazy and/or they aren't using the NSS API correctly, and you'd be right.
-  But still, this will avoid terribly difficult-to-trace crashes and is
-  generally helpful.
-
-Daniel Stenberg (1 Jan 2009)
-- 'reconf' is removed since we rather have users use 'buildconf'
-
-Daniel Stenberg (31 Dec 2008)
-- Bas Mevissen reported http://curl.haxx.se/bug/view.cgi?id=2479030 pointing
-  out that 'reconf' didn't properly point out the m4 subdirectory when running
-  aclocal.
-
-Daniel Stenberg (29 Dec 2008)
- - Phil Lisiecki filed bug report #2413067
-  (http://curl.haxx.se/bug/view.cgi?id=2413067) that identified a problem that
-  would cause libcurl to mark a DNS cache entry "in use" eternally if the
-  subsequence TCP connect failed. It would thus never get pruned and refreshed
-  as it should've been.
-
-  Phil provided his own patch to this problem that while it seemed to work
-  wasn't complete and thus I wrote my own fix to the problem.
-
-Daniel Stenberg (28 Dec 2008)
-- Peter Korsgaard fixed building libcurl with "configure --with-ssl
-  --disable-verbose".
-
-- Anthony Bryan fixed more language and spelling flaws in man pages.
-
-Daniel Stenberg (22 Dec 2008)
-- Given a recent enough libssh2, libcurl can now seek/resume with SFTP even
-  on file indexes beyond 2 or 4GB.
-
-- Anthony Bryan provided a set of patches that cleaned up manual language,
-  corrected spellings and more.
-
-Daniel Stenberg (20 Dec 2008)
-- Igor Novoseltsev fixed a bad situation for the multi_socket() API when doing
-  pipelining, as libcurl could then easily get confused and A) work on the
-  handle that was not "first in queue" on a pipeline, or even B) tell the app
-  to REMOVE a socket while it was in use by a second handle in a pipeline. Both
-  errors caused hanging or stalling applications.
-
-Daniel Stenberg (19 Dec 2008)
-- curl_multi_timeout() could return a timeout value of 0 even though nothing
-  was actually ready to get done, as the internal time resolution is higher
-  than the returned millisecond timer. Therefore it could cause applications
-  running on fast processors to do short bursts of busy-loops.
-  curl_multi_timeout() will now only return 0 if the timeout is actually
-  alreay triggered.
-
-- Using the libssh2 0.19 function libssh2_session_block_directions(), libcurl
-  now has an improved ability to do right when the multi interface (both
-  "regular" and multi_socket) is used for SCP and SFTP transfers. This should
-  result in (much) less busy-loop situations and thus less CPU usage with no
-  speed loss.
-
-Daniel Stenberg (17 Dec 2008)
-- SCP and SFTP with the multi interface had the same flaw: the 'DONE'
-  operation didn't complete properly if the EAGAIN equivalent was returned but
-  libcurl would simply continue with a half-completed close operation
-  performed. This ruined persistent connection re-use and cause some
-  SSH-protocol errors in general. The correction is unfortunately adding a
-  blocking function - doing it entirely non-blocking should be considered for
-  a better fix.
-
-Gisle Vanem (16 Dec 2008)
-- Added the possibility to use the Watt-32 tcp/ip stack under Windows.
-  The change simply involved adding a USE_WATT32 section in the
-  config-win32.h files (under ./lib and ./src). This section disables
-  the use of any Winsock headers.
-
-Daniel Stenberg (16 Dec 2008)
-- libssh2_sftp_last_error() was wrongly used at some places in libcurl which
-  made libcurl sometimes not properly abort problematic SFTP transfers.
-
-Daniel Stenberg (12 Dec 2008)
-- More work with Igor Novoseltsev to first fix the remaining stuff for
-  removing easy handles from multi handles when the easy handle is/was within
-  a HTTP pipeline. His bug report #2351653
-  (http://curl.haxx.se/bug/view.cgi?id=2351653) was also related and was
-  eventually fixed by a patch by Igor himself.
-
-Yang Tse (12 Dec 2008)
-- Patrick Monnerat fixed a build regression, introduced in 7.19.2, affecting
-  OS/400 compilations with IPv6 enabled.
-
-Daniel Stenberg (12 Dec 2008)
-- Mark Karpeles filed bug report #2416182 titled "crash in ConnectionExists
-  when using duphandle+curl_mutli"
-  (http://curl.haxx.se/bug/view.cgi?id=2416182) which showed that
-  curl_easy_duphandle() wrongly also copied the pointer to the connection
-  cache, which was plain wrong and caused a segfault if the handle would be
-  used in a different multi handle than the handle it was duplicated from.
-
-Daniel Stenberg (11 Dec 2008)
-- Keshav Krity found out that libcurl failed to deal with dotted IPv6
-  addresses if they were very long (>39 letters) due to a too strict address
-  validity parser. It now accepts addresses up to 45 bytes long.
-
-Daniel Stenberg (11 Dec 2008)
-- Internet Explorer had a broken HTTP digest authentication before v7 and
-  there are servers "out there" that relies on the client doing this broken
-  Digest authentication. Apache even comes with an option to work with such
-  broken clients.
-
-  The difference is only for URLs that contain a query-part (a '?'-letter and
-  text to the right of it).
-
-  libcurl now supports this quirk, and you enable it by setting the
-  CURLAUTH_DIGEST_IE bit in the bitmask you pass to the CURLOPT_HTTPAUTH or
-  CURLOPT_PROXYAUTH options. They are thus individually controlled to server
-  and proxy.
-
-  (note that there's no way to activate this with the curl tool yet)
-
-Daniel Fandrich (9 Dec 2008)
-- Added test cases 1089 and 1090 to test --write-out after a redirect to
-  test a report that the size didn't work, but these test cases pass.
-
-- Documented CURLOPT_CONNECT_ONLY as being useful only on HTTP URLs.
-
-Daniel Stenberg (9 Dec 2008)
-- Ken Hirsch simplified how libcurl does FTPS: now it doesn't assume any
-  particular state for the control connection like it did before for implicit
-  FTPS (libcurl assumed such control connections to be encrypted while some
-  FTPS servers such as FileZilla assumes such connections to be clear
-  mode). Use the CURLOPT_USE_SSL option to set your desired level.
-
-Daniel Stenberg (8 Dec 2008)
-- Fred Machado posted about a weird FTP problem on the curl-users list and when
-  researching it, it turned out he got a 550 response back from a SIZE command
-  and then I fell over the text in RFC3659 that says:
-
-   The presence of the 550 error response to a SIZE command MUST NOT be taken
-   by the client as an indication that the file cannot be transferred in the
-   current MODE and TYPE.
-
-  In other words: the change I did on September 30th 2008 and that has been
-  included in the last two releases were a regression and a bad idea. We MUST
-  NOT take a 550 response from SIZE as a hint that the file doesn't exist.
-
-- Christian Krause filed bug #2221237
-  (http://curl.haxx.se/bug/view.cgi?id=2221237) that identified an infinite
-  loop during GSS authentication given some specific conditions. With his
-  patience and great feedback I managed to narrow down the problem and
-  eventually fix it although I can't test any of this myself!
-
-Daniel Fandrich (3 Dec 2008)
-- Fixed the getifaddrs version of Curl_if2ip to work on systems without IPv6
-  support (e.g. Minix)
-
-Daniel Stenberg (3 Dec 2008)
-- Igor Novoseltsev filed bug #2351645
-  (http://curl.haxx.se/bug/view.cgi?id=2351645) that identified a problem with
-  the multi interface that occured if you removed an easy handle while in
-  progress and the handle was used in a HTTP pipeline.
-
-- Pawel Kierski pointed out a mistake in the cookie code that could lead to a
-  bad fclose() after a fatal error had occured.
-  (http://curl.haxx.se/bug/view.cgi?id=2382219)
-
-Daniel Fandrich (25 Nov 2008)
-- If a HTTP request is Basic and num is already >=1000, the HTTP test
-  server adds 1 to num to get the data section to return. This allows
-  testing authentication negotiations using the Basic authentication
-  method.
-
-- Added tests 1087 and 1088 to test Basic authentication on a redirect
-  with and without --location-trusted
-
-Daniel Stenberg (24 Nov 2008)
-- Based on a patch by Vlad Grachov, libcurl now uses a new libssh2 0.19
-  function when built to support SCP and SFTP that helps the library to know
-  in which direction a particular libssh2 operation would return EAGAIN so
-  that libcurl knows what socket conditions to wait for before trying the
-  function call again. Previously (and still when using libssh2 0.18 or
-  earlier), libcurl will busy-loop in this situation when the easy interface
-  is used!
-
-Daniel Fandrich (20 Nov 2008)
-- Automatically detect OpenBSD's CA cert bundle.
-
-Daniel Stenberg (19 Nov 2008)
-- I removed the default use of "Pragma: no-cache" from libcurl when a proxy is
-  used. It has been used since forever but it was never a good idea to use
-  unless explicitly asked for.
-
-- Josef Wolf's extension that allows a $TESTDIR/gdbinit$testnum file that when
-  you use runtests.pl -g, will be sourced by gdb to allow additional fancy or
-  whatever you see fit
-
-- Christian Krause reported and fixed a memory leak that would occur with HTTP
-  GSS/kerberos authentication (http://curl.haxx.se/bug/view.cgi?id=2284386)
-
-- Andreas Wurf and Markus Koetter helped me analyze a problem that Andreas got
-  when uploading files to a single FTP server using multiple easy handle
-  handles with the multi interface. Occasionally a handle would stall in
-  mysterious ways.
-
-  The problem turned out to be a side-effect of the ConnectionExists()
-  function's eagerness to re-use a handle for HTTP pipelining so it would
-  select it even if already being in use, due to an inadequate check for its
-  chances of being used for pipelnining.
-
-Daniel Fandrich (17 Nov 2008)
-- Added more compiler warning options for gcc 4.3
-
-Yang Tse (17 Nov 2008)
-- Fix a remaining problem in the inet_pton() runtime configure check. And
-  fix internal Curl_inet_pton() failures to reject certain malformed literals.
-
-- Make configure script check if ioctl with the SIOCGIFADDR command can be
-  used, and define HAVE_IOCTL_SIOCGIFADDR if appropriate.
-
-Daniel Stenberg (16 Nov 2008)
-- Christian Krause fixed a build failure when building with gss support
-  enabled and FTP disabled.
-
-- Added check for NULL returns from strdup() in src/main.c and lib/formdata.c
-  - reported by Jim Meyering also prevent buffer overflow on MSDOS when you do
-  for example -O on a url with a file name part longer than PATH_MAX letters
-
-- lib/nss.c fixes based on the report by Jim Meyering: I went over and added
-  checks for return codes for all calls to malloc and strdup that were
-  missing. I also changed a few malloc(13) to use arrays on the stack and a
-  few malloc(PATH_MAX) to instead use aprintf() to lower memory use.
-
-- I fixed a memory leak in Curl_nss_connect() when CURLOPT_ISSUERCERT is
-  in use.
-
-Daniel Fandrich (14 Nov 2008)
-- Added .xml as one of the few common file extensions known by the multipart
-  form generator.
-
-- Added some #ifdefs around header files and change the EAGAIN test to
-  fix compilation on Cell (reported by Jeff Curley).
-
-Yang Tse (14 Nov 2008)
-- Fixed several configure script issues affecting checks for inet_ntoa_r(),
-  inet_ntop(), inet_pton(), getifaddrs(), fcntl() and getaddrinfo().
-
-Yang Tse (13 Nov 2008)
-- Refactored configure script detection of functions used to set sockets into
-  non-blocking mode, and decouple function detection from function capability.
+Daniel Stenberg (28 Oct 2009)
+- Since the NSS lib closes the socket the memory tracking system wrongly gets a
+  false positive on a leaked socket, so this introduces a way to tell the system
+  that the socket is indeed closed without explicitly closing it!
 
+Yang Tse (28 Oct 2009)
+- Initial step towards the ability to reduce c-ares exported symbols
+  based on the 'visibility' attribute for GNUC and __global for Sun
+  compilers, taking also in account __declspec function decoration
+  for Win32 and Symbian DLL's.
+  
+  Introducing configure options --enable-hidden-symbols and
+  --disable-hidden-symbols following libcurl's naming.
+
+- libssh2 detection changes mentioned in http://curl.haxx.se/mail/lib-2009-10/0343.html
+
+- Fix comment
+
+- Fix spelling
+
+- Fix Pelles C Win32 target compilation issues
+
+Daniel Stenberg (26 Oct 2009)
+- grrr, removed the conflict markers
+
+- spell fix by Michael Wood
+
+- - Dima Barsky made the curl cookie parser accept cookies even with blank or
+    unparsable expiry dates and then treat them as session cookies - previously
+    libcurl would reject cookies with a date format it couldn't parse. Research
+    shows that the major browser treat such cookies as session cookies. I
+    modified test 8 and 31 to verify this.
+
+Dan Fandrich (24 Oct 2009)
+- Mention that Android works
+
+Daniel Stenberg (24 Oct 2009)
+- Fabian Keil's suggested wording
+
+Yang Tse (23 Oct 2009)
+- John Engelhart noticed an unreleased problem relative to a duplicate
+  ARES_ECANCELLED error code value and missing error code description.
+
+Patrick Monnerat (23 Oct 2009)
+- OS400 install: Duplicate H include file to file CURL to support more include path forms.
+
+Daniel Stenberg (22 Oct 2009)
+- update the company sponsors part, as one company is no longer sponsoring
+  and another is sponsoring more
+
+Yang Tse (21 Oct 2009)
+- Update MSVC 6 caveats section
+
+- Update memory tracking/debugging reference
+
+Daniel Stenberg (21 Oct 2009)
+- - Attempt to use pkg-config for finding out libssh2 installation details
+    during configure.
+
+- mention bug 2848436 in regard to the TFTP problems
+
+- s/koresh/Johan van Selst/
+
+- add --crlfile to the man page
+
+- - A patch in bug report #2883177 (http://curl.haxx.se/bug/view.cgi?id=2883177)
+    by user 'koresh' introduced the --crlfile option to curl, which makes curl
+    tell libcurl about a file with CRL (certificate revocation list) data to
+    read.
+
+- spelling corrections
+
+Yang Tse (21 Oct 2009)
+- Detect when msvc 6.0 is in use without PSDK installed, intentionally
+  fail to build when this happens, and show an appropriate error.
+  
+  The brave of heart can circumvect this. Defining ALLOW_MSVC6_WITHOUT_PSDK
+  in lib/config-win32.h, although absolutely discouraged and unsupported,
+  this will allow the die hard MSVC hacker to build in such a discouraged
+  environment.
+  
+  The actually supported 'fix' is to install 'February 2003 Platform SDK'
+  a.k.a. 'Windows Server 2003 PSDK' which can be freely downloaded from
+  http://www.microsoft.com/msdownload/platformsdk/sdkupdate/psdk-full.htm
+
+Gunter Knauf (19 Oct 2009)
+- added cast macros to silent compiler warnings with 64-bit systems.
+
+Yang Tse (19 Oct 2009)
+- Fix compiler warning: local variable may be used without having been initialized
+
+- Use *_CHECK_PATH_SEPARATOR_REQUIRED to ensure that *_CHECK_PATH_SEPARATOR
+  is only expanded and included once in the configure script.
+
+- Our _AS_PATH_SEPARATOR_PREPARE override is now m4_defun'd instead of m4_define'd
+  due to autoconf 2.64 m4_require'ing it in _AS_SHELL_SANITIZE indirectly through
+  _AS_PATH_WALK.
+
+Daniel Stenberg (18 Oct 2009)
+- - Ray Dassen provided a patch in Debian's bug tracker (bug number #551461)
+    that now makes curl_getdate(3) actually handles RFC 822 formatted dates that
+    use the "single letter military timezones".
+    http://www.rfc-ref.org/RFC-TEXTS/822/chapter5.html has the details.
+
+Yang Tse (18 Oct 2009)
+- Check for basename() is now done the same as other function checks
+
+Daniel Stenberg (18 Oct 2009)
+- - Fixed memory leak in the SCP/SFTP code as it never freed the knownhosts
+    data!
+
+- John Dennis filed bug report #2873666
+  (http://curl.haxx.se/bug/view.cgi?id=2873666) which identified a problem which
+  made libcurl loop infinitely when given incorrect credentials when using HTTP
+  GSS negotiate authentication.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/configure	2010-06-05 06:32:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/configure	2010-08-12 01:03:30.000000000 +0800
@@ -1,16 +1,16 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.65 for curl -.
+# Generated by GNU Autoconf 2.67 for curl -.
 #
 # Report bugs to <a suitable curl mailing list => http://curl.haxx.se/mail/>.
 #
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
-# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009 Free Software Foundation,
-# Inc.
+# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software
+# Foundation, Inc.
 #
 #
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 #
 # Copyright (c) 1998 - 2010 Daniel Stenberg, <daniel@haxx.se>
@@ -77,13 +77,13 @@
   as_echo='sh -c $as_echo_body as_echo'
 fi
 
 
   if test -z "$curl_cv_PATH_SEPARATOR"; then
     if test -z "$PATH"; then
-      as_fn_error "PATH not set. Cannot continue without PATH being set."
+      as_fn_error $? "PATH not set. Cannot continue without PATH being set."
     fi
         tst_dirs_col=0
     tst_save_IFS=$IFS; IFS=':'
     for tst_dir in $PATH; do
       IFS=$tst_save_IFS
       test -d "$tst_dir" && tst_dirs_col=`expr $tst_dirs_col + 1`
@@ -95,13 +95,13 @@
       IFS=$tst_save_IFS
       test -d "$tst_dir" && tst_dirs_sem=`expr $tst_dirs_sem + 1`
     done
     IFS=$tst_save_IFS
     if test $tst_dirs_sem -eq $tst_dirs_col; then
                   if test -z "$PATH_SEPARATOR"; then
-                as_fn_error "PATH_SEPARATOR not set. Cannot continue without it."
+                as_fn_error $? "PATH_SEPARATOR not set. Cannot continue without it."
       fi
     else
             if test $tst_dirs_sem -gt $tst_dirs_col; then
         tst_auto_separator=';'
       else
         tst_auto_separator=':'
@@ -350,13 +350,13 @@
 	    q
 	  }
 	  s/.*/./; q'`
       test -d "$as_dir" && break
     done
     test -z "$as_dirs" || eval "mkdir $as_dirs"
-  } || test -d "$as_dir" || as_fn_error "cannot create directory $as_dir"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
 
 
 } # as_fn_mkdir_p
 # as_fn_append VAR VALUE
 # ----------------------
 # Append the text in VALUE to the end of the definition contained in VAR. Take
@@ -390,25 +390,25 @@
   {
     as_val=`expr "$@" || test $? -eq 1`
   }
 fi # as_fn_arith
 
 
-# as_fn_error ERROR [LINENO LOG_FD]
-# ---------------------------------
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
 # Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
 # provided, also output the error to LOG_FD, referencing LINENO. Then exit the
-# script with status $?, using 1 if that was 0.
+# script with STATUS, using 1 if that was 0.
 as_fn_error ()
 {
-  as_status=$?; test $as_status -eq 0 && as_status=1
-  if test "$3"; then
-    as_lineno=${as_lineno-"$2"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-    $as_echo "$as_me:${as_lineno-$LINENO}: error: $1" >&$3
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
   fi
-  $as_echo "$as_me: error: $1" >&2
+  $as_echo "$as_me: error: $2" >&2
   as_fn_exit $as_status
 } # as_fn_error
 
 if expr a : '\(a\)' >/dev/null 2>&1 &&
    test "X`expr 00001 : '.*\(...\)'`" = X001; then
   as_expr=expr
@@ -713,13 +713,13 @@
 
 
 test -n "$DJDIR" || exec 7<&0 </dev/null
 exec 6>&1
 
 # Name of the host.
-# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
+# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
 # so uname gets run too.
 ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
 
 #
 # Initializations.
 #
@@ -779,20 +779,24 @@
 
 enable_option_checking=no
 ac_subst_vars='LTLIBOBJS
 LIBOBJS
 SUPPORT_PROTOCOLS
 SUPPORT_FEATURES
+ENABLE_SHARED
 CROSSCOMPILING_FALSE
 CROSSCOMPILING_TRUE
+CURL_NETWORK_LIBS
 TEST_SERVER_LIBS
 CURL_LIBS
 LIBCURL_LIBS
 SONAME_BUMP_FALSE
 SONAME_BUMP_TRUE
 USE_WINDOWS_SSPI
+BUILD_LIBHOSTNAME_FALSE
+BUILD_LIBHOSTNAME_TRUE
 USE_EMBEDDED_ARES_FALSE
 USE_EMBEDDED_ARES_TRUE
 USE_ARES
 subdirs
 USE_MANUAL_FALSE
 USE_MANUAL_TRUE
@@ -909,12 +913,13 @@
 INSTALL_PROGRAM
 libext
 AR
 EGREP
 GREP
 SED
+CURL_CFLAG_EXTRAS
 CONFIGURE_OPTIONS
 MAINT
 MAINTAINER_MODE_FALSE
 MAINTAINER_MODE_TRUE
 target_alias
 host_alias
@@ -959,12 +964,13 @@
 ac_user_opts='
 enable_option_checking
 enable_maintainer_mode
 enable_debug
 enable_optimize
 enable_warnings
+enable_werror
 enable_curldebug
 enable_ares
 enable_dependency_tracking
 enable_largefile
 enable_shared
 enable_static
@@ -1086,13 +1092,14 @@
     eval $ac_prev=\$ac_option
     ac_prev=
     continue
   fi
 
   case $ac_option in
-  *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *=)   ac_optarg= ;;
   *)	ac_optarg=yes ;;
   esac
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
 
   case $ac_dashdash$ac_option in
@@ -1132,13 +1139,13 @@
     datarootdir=$ac_optarg ;;
 
   -disable-* | --disable-*)
     ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid feature name: $ac_useropt"
+      as_fn_error $? "invalid feature name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
       *"
 "enable_$ac_useropt"
 "*) ;;
@@ -1158,13 +1165,13 @@
     dvidir=$ac_optarg ;;
 
   -enable-* | --enable-*)
     ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid feature name: $ac_useropt"
+      as_fn_error $? "invalid feature name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
       *"
 "enable_$ac_useropt"
 "*) ;;
@@ -1362,13 +1369,13 @@
     ac_init_version=: ;;
 
   -with-* | --with-*)
     ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid package name: $ac_useropt"
+      as_fn_error $? "invalid package name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
       *"
 "with_$ac_useropt"
 "*) ;;
@@ -1378,13 +1385,13 @@
     eval with_$ac_useropt=\$ac_optarg ;;
 
   -without-* | --without-*)
     ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid package name: $ac_useropt"
+      as_fn_error $? "invalid package name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
       *"
 "with_$ac_useropt"
 "*) ;;
@@ -1408,22 +1415,22 @@
   | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
     ac_prev=x_libraries ;;
   -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
     x_libraries=$ac_optarg ;;
 
-  -*) as_fn_error "unrecognized option: \`$ac_option'
-Try \`$0 --help' for more information."
+  -*) as_fn_error $? "unrecognized option: \`$ac_option'
+Try \`$0 --help' for more information"
     ;;
 
   *=*)
     ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
     case $ac_envvar in #(
       '' | [0-9]* | *[!_$as_cr_alnum]* )
-      as_fn_error "invalid variable name: \`$ac_envvar'" ;;
+      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
     esac
     eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
 
   *)
     # FIXME: should be removed in autoconf 3.0.
@@ -1435,19 +1442,19 @@
 
   esac
 done
 
 if test -n "$ac_prev"; then
   ac_option=--`echo $ac_prev | sed 's/_/-/g'`
-  as_fn_error "missing argument to $ac_option"
+  as_fn_error $? "missing argument to $ac_option"
 fi
 
 if test -n "$ac_unrecognized_opts"; then
   case $enable_option_checking in
     no) ;;
-    fatal) as_fn_error "unrecognized options: $ac_unrecognized_opts" ;;
+    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
     *)     $as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
   esac
 fi
 
 # Check all directory arguments for consistency.
 for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
@@ -1464,13 +1471,13 @@
   esac
   # Be sure to have absolute directory names.
   case $ac_val in
     [\\/$]* | ?:[\\/]* )  continue;;
     NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
   esac
-  as_fn_error "expected an absolute directory name for --$ac_var: $ac_val"
+  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
 done
 
 # There might be people who depend on the old broken behavior: `$host'
 # used to hold the argument of --host etc.
 # FIXME: To remove some day.
 build=$build_alias
@@ -1478,14 +1485,14 @@
 target=$target_alias
 
 # FIXME: To remove some day.
 if test "x$host_alias" != x; then
   if test "x$build_alias" = x; then
     cross_compiling=maybe
-    $as_echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
-    If a cross compiler is detected then cross compile mode will be used." >&2
+    $as_echo "$as_me: WARNING: if you wanted to set the --build type, don't use --host.
+    If a cross compiler is detected then cross compile mode will be used" >&2
   elif test "x$build_alias" != "x$host_alias"; then
     cross_compiling=yes
   fi
 fi
 
 ac_tool_prefix=
@@ -1494,15 +1501,15 @@
 test "$silent" = yes && exec 6>/dev/null
 
 
 ac_pwd=`pwd` && test -n "$ac_pwd" &&
 ac_ls_di=`ls -di .` &&
 ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
-  as_fn_error "working directory cannot be determined"
+  as_fn_error $? "working directory cannot be determined"
 test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
-  as_fn_error "pwd does not report name of working directory"
+  as_fn_error $? "pwd does not report name of working directory"
 
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then the parent directory.
@@ -1535,17 +1542,17 @@
   fi
 else
   ac_srcdir_defaulted=no
 fi
 if test ! -r "$srcdir/$ac_unique_file"; then
   test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
-  as_fn_error "cannot find sources ($ac_unique_file) in $srcdir"
+  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
 fi
 ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
 ac_abs_confdir=`(
-	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error "$ac_msg"
+	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
 	pwd)`
 # When building in place, set srcdir=.
 if test "$ac_abs_confdir" = "$ac_pwd"; then
   srcdir=.
 fi
 # Remove unnecessary trailing slashes from srcdir.
@@ -1579,13 +1586,13 @@
 
 Configuration:
   -h, --help              display this help and exit
       --help=short        display options specific to this package
       --help=recursive    display the short help of all the included packages
   -V, --version           display version information and exit
-  -q, --quiet, --silent   do not print \`checking...' messages
+  -q, --quiet, --silent   do not print \`checking ...' messages
       --cache-file=FILE   cache test results in FILE [disabled]
   -C, --config-cache      alias for \`--cache-file=config.cache'
   -n, --no-create         do not create output files
       --srcdir=DIR        find the sources in DIR [configure dir or \`..']
 
 Installation directories:
@@ -1651,12 +1658,14 @@
   --enable-debug          Enable debug build options
   --disable-debug         Disable debug build options
   --enable-optimize       Enable compiler optimizations
   --disable-optimize      Disable compiler optimizations
   --enable-warnings       Enable strict compiler warnings
   --disable-warnings      Disable strict compiler warnings
+  --enable-werror         Enable compiler warnings as errors
+  --disable-werror        Disable compiler warnings as errors
   --enable-curldebug      Enable curl debug memory tracking
   --disable-curldebug     Disable curl debug memory tracking
   --enable-ares[=PATH]    Enable c-ares for DNS lookups
   --disable-ares          Disable c-ares for DNS lookups
   --disable-dependency-tracking  speeds up one-time build
   --enable-dependency-tracking   do not reject slow dependency extractors
@@ -1698,13 +1707,13 @@
   --enable-ipv6           Enable ipv6 (with ipv4) support
   --disable-ipv6          Disable ipv6 support
   --enable-nonblocking    Enable non-blocking communications
   --disable-nonblocking   Disable non-blocking communications
   --enable-threaded-resolver
                           Enable threaded resolver
-  --disable-threaded-resover
+  --disable-threaded-resolver
                           Disable threaded resolver
   --enable-verbose        Enable verbose strings
   --disable-verbose       Disable verbose strings
   --enable-sspi           Enable SSPI
   --disable-sspi          Disable SSPI
   --enable-crypto-auth    Enable cryptographic authentication
@@ -1844,15 +1853,15 @@
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
 curl configure -
-generated by GNU Autoconf 2.65
+generated by GNU Autoconf 2.67
 
-Copyright (C) 2009 Free Software Foundation, Inc.
+Copyright (C) 2010 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 
 Copyright (c) 1998 - 2010 Daniel Stenberg, <daniel@haxx.se>
 This configure script may be copied, distributed and modified under the
 terms of the curl license; see COPYING for more details
@@ -1908,13 +1917,13 @@
 # INCLUDES, setting the cache variable VAR accordingly.
 ac_fn_c_check_header_compile ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
 #include <$2>
@@ -2165,13 +2174,13 @@
   if test -s conftest.err; then
     grep -v '^ *+' conftest.err >conftest.er1
     cat conftest.er1 >&5
     mv -f conftest.er1 conftest.err
   fi
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
-  test $ac_status = 0; } >/dev/null && {
+  test $ac_status = 0; } > conftest.i && {
 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        }; then :
   ac_retval=0
 else
   $as_echo "$as_me: failed program was:" >&5
@@ -2235,13 +2244,13 @@
 # Tests whether FUNC exists, setting the cache variable VAR accordingly
 ac_fn_c_check_func ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #define $2 innocuous_$2
@@ -2286,16 +2295,16 @@
 # Tests whether HEADER exists, giving a warning if it cannot be compiled using
 # the include files in INCLUDES and setting the cache variable VAR
 # accordingly.
 ac_fn_c_check_header_mongrel ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-  if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+  if eval "test \"\${$3+set}\"" = set; then :
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 fi
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
 else
@@ -2325,13 +2334,13 @@
 _ACEOF
 if ac_fn_c_try_cpp "$LINENO"; then :
   ac_header_preproc=yes
 else
   ac_header_preproc=no
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc" >&5
 $as_echo "$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((
   yes:no: )
@@ -2348,23 +2357,21 @@
     { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: see the Autoconf documentation" >&5
 $as_echo "$as_me: WARNING: $2: see the Autoconf documentation" >&2;}
     { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&5
 $as_echo "$as_me: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&2;}
     { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
 $as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
-( cat <<\_ASBOX
-## ------------------------------------------------------------------------ ##
+( $as_echo "## ------------------------------------------------------------------------ ##
 ## Report this to a suitable curl mailing list => http://curl.haxx.se/mail/ ##
-## ------------------------------------------------------------------------ ##
-_ASBOX
+## ------------------------------------------------------------------------ ##"
      ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=\$ac_header_compiler"
 fi
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2380,13 +2387,13 @@
 # variable VAR accordingly.
 ac_fn_c_check_type ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=no"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
@@ -2427,13 +2434,13 @@
 } # ac_fn_c_check_type
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by curl $as_me -, which was
-generated by GNU Autoconf 2.65.  Invocation command line was
+generated by GNU Autoconf 2.67.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
 {
@@ -2537,17 +2544,15 @@
 # WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
 trap 'exit_status=$?
   # Save into config.log some information that might help in debugging.
   {
     echo
 
-    cat <<\_ASBOX
-## ---------------- ##
+    $as_echo "## ---------------- ##
 ## Cache variables. ##
-## ---------------- ##
-_ASBOX
+## ---------------- ##"
     echo
     # The following way of writing the cache mishandles newlines in values,
 (
   for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
     eval ac_val=\$$ac_var
     case $ac_val in #(
@@ -2575,34 +2580,30 @@
       ;;
     esac |
     sort
 )
     echo
 
-    cat <<\_ASBOX
-## ----------------- ##
+    $as_echo "## ----------------- ##
 ## Output variables. ##
-## ----------------- ##
-_ASBOX
+## ----------------- ##"
     echo
     for ac_var in $ac_subst_vars
     do
       eval ac_val=\$$ac_var
       case $ac_val in
       *\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
       esac
       $as_echo "$ac_var='\''$ac_val'\''"
     done | sort
     echo
 
     if test -n "$ac_subst_files"; then
-      cat <<\_ASBOX
-## ------------------- ##
+      $as_echo "## ------------------- ##
 ## File substitutions. ##
-## ------------------- ##
-_ASBOX
+## ------------------- ##"
       echo
       for ac_var in $ac_subst_files
       do
 	eval ac_val=\$$ac_var
 	case $ac_val in
 	*\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
@@ -2610,17 +2611,15 @@
 	$as_echo "$ac_var='\''$ac_val'\''"
       done | sort
       echo
     fi
 
     if test -s confdefs.h; then
-      cat <<\_ASBOX
-## ----------- ##
+      $as_echo "## ----------- ##
 ## confdefs.h. ##
-## ----------- ##
-_ASBOX
+## ----------- ##"
       echo
       cat confdefs.h
       echo
     fi
     test "$ac_signal" != 0 &&
       $as_echo "$as_me: caught signal $ac_signal"
@@ -2669,13 +2668,18 @@
 
 # Let the site file select an alternate cache file if it wants to.
 # Prefer an explicitly selected file to automatically selected ones.
 ac_site_file1=NONE
 ac_site_file2=NONE
 if test -n "$CONFIG_SITE"; then
-  ac_site_file1=$CONFIG_SITE
+  # We do not want a PATH search for config.site.
+  case $CONFIG_SITE in #((
+    -*)  ac_site_file1=./$CONFIG_SITE;;
+    */*) ac_site_file1=$CONFIG_SITE;;
+    *)   ac_site_file1=./$CONFIG_SITE;;
+  esac
 elif test "x$prefix" != xNONE; then
   ac_site_file1=$prefix/share/config.site
   ac_site_file2=$prefix/etc/config.site
 else
   ac_site_file1=$ac_default_prefix/share/config.site
   ac_site_file2=$ac_default_prefix/etc/config.site
@@ -2684,13 +2688,17 @@
 do
   test "x$ac_site_file" = xNONE && continue
   if test /dev/null != "$ac_site_file" && test -r "$ac_site_file"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
 $as_echo "$as_me: loading site script $ac_site_file" >&6;}
     sed 's/^/| /' "$ac_site_file" >&5
-    . "$ac_site_file"
+    . "$ac_site_file" \
+      || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "failed to load site script $ac_site_file
+See \`config.log' for more details" "$LINENO" 5 ; }
   fi
 done
 
 if test -r "$cache_file"; then
   # Some versions of bash will fail to source /dev/null (special files
   # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
@@ -2760,13 +2768,13 @@
 done
 if $ac_cache_corrupted; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
   { $as_echo "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
 $as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
-  as_fn_error "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
+  as_fn_error $? "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
 fi
 ## -------------------- ##
 ## Main body of script. ##
 ## -------------------- ##
 
 ac_ext=c
@@ -2866,13 +2874,13 @@
       { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
       ;;
   esac
 
 
-      { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable strict compiler warnings" >&5
+        { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable strict compiler warnings" >&5
 $as_echo_n "checking whether to enable strict compiler warnings... " >&6; }
   OPT_COMPILER_WARNINGS="default"
   # Check whether --enable-warnings was given.
 if test "${enable_warnings+set}" = set; then :
   enableval=$enable_warnings; OPT_COMPILER_WARNINGS=$enableval
 fi
@@ -2889,12 +2897,35 @@
       ;;
   esac
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: $want_warnings" >&5
 $as_echo "$want_warnings" >&6; }
 
 
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable compiler warnings as errors" >&5
+$as_echo_n "checking whether to enable compiler warnings as errors... " >&6; }
+  OPT_COMPILER_WERROR="default"
+  # Check whether --enable-werror was given.
+if test "${enable_werror+set}" = set; then :
+  enableval=$enable_werror; OPT_COMPILER_WERROR=$enableval
+fi
+
+  case "$OPT_COMPILER_WERROR" in
+    no)
+            want_werror="no"
+      ;;
+    default)
+            want_werror="no"
+      ;;
+    *)
+            want_werror="yes"
+      ;;
+  esac
+  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $want_werror" >&5
+$as_echo "$want_werror" >&6; }
+
+
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable curl debug memory tracking" >&5
 $as_echo_n "checking whether to enable curl debug memory tracking... " >&6; }
   OPT_CURLDEBUG_BUILD="default"
   # Check whether --enable-curldebug was given.
 if test "${enable_curldebug+set}" = set; then :
   enableval=$enable_curldebug; OPT_CURLDEBUG_BUILD=$enableval
@@ -2957,13 +2988,20 @@
 #
 # save the configure arguments
 #
 CONFIGURE_OPTIONS="\"$ac_configure_args\""
 
 
-# Extract the first word of "sed", so it can be a program name with args.
+CURL_CFLAG_EXTRAS=""
+if test X"$want_werror" == Xyes; then
+  CURL_CFLAG_EXTRAS="-Werror"
+fi
+
+
+if test -z "$SED"; then
+    # Extract the first word of "sed", so it can be a program name with args.
 set dummy sed; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
 if test "${ac_cv_path_SED+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
@@ -2999,18 +3037,20 @@
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
 
 
-if test -z "$SED" || test "$SED" = "not_found"; then
-  as_fn_error "sed not found in PATH. Cannot continue without sed." "$LINENO" 5
+  if test -z "$SED" || test "$SED" = "not_found"; then
+    as_fn_error $? "sed not found in PATH. Cannot continue without sed." "$LINENO" 5
+  fi
 fi
 
 
-# Extract the first word of "grep", so it can be a program name with args.
+if test -z "$GREP"; then
+    # Extract the first word of "grep", so it can be a program name with args.
 set dummy grep; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
 if test "${ac_cv_path_GREP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
@@ -3046,25 +3086,27 @@
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
 
 
-if test -z "$GREP" || test "$GREP" = "not_found"; then
-  as_fn_error "grep not found in PATH. Cannot continue without grep." "$LINENO" 5
+  if test -z "$GREP" || test "$GREP" = "not_found"; then
+    as_fn_error $? "grep not found in PATH. Cannot continue without grep." "$LINENO" 5
+  fi
 fi
 
 
-if echo a | ($GREP -E '(a|b)') >/dev/null 2>&1; then
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
+if test -z "$EGREP"; then
+    if echo a | ($GREP -E '(a|b)') >/dev/null 2>&1; then
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
 $as_echo_n "checking for egrep... " >&6; }
-  EGREP="$GREP -E"
-  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $EGREP" >&5
+    EGREP="$GREP -E"
+    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $EGREP" >&5
 $as_echo "$EGREP" >&6; }
-else
-  # Extract the first word of "egrep", so it can be a program name with args.
+  else
+    # Extract the first word of "egrep", so it can be a program name with args.
 set dummy egrep; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
 if test "${ac_cv_path_EGREP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
@@ -3100,19 +3142,21 @@
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
 
 
+  fi
 fi
 if test -z "$EGREP" || test "$EGREP" = "not_found"; then
-  as_fn_error "egrep not found in PATH. Cannot continue without egrep." "$LINENO" 5
+  as_fn_error $? "egrep not found in PATH. Cannot continue without egrep." "$LINENO" 5
 fi
 
 
-if test -n "$ac_tool_prefix"; then
+if test -z "$AR"; then
+    if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}ar", so it can be a program name with args.
 set dummy ${ac_tool_prefix}ar; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
 if test "${ac_cv_path_AR+set}" = set; then :
   $as_echo_n "(cached) " >&6
@@ -3206,14 +3250,15 @@
     AR=$ac_pt_AR
   fi
 else
   AR="$ac_cv_path_AR"
 fi
 
-if test -z "$AR" || test "$AR" = "not_found"; then
-  as_fn_error "ar not found in PATH. Cannot continue without ar." "$LINENO" 5
+  if test -z "$AR" || test "$AR" = "not_found"; then
+    as_fn_error $? "ar not found in PATH. Cannot continue without ar." "$LINENO" 5
+  fi
 fi
 
 
 
 
 if test -f ${srcdir}/include/curl/curlbuild.h; then
@@ -3221,22 +3266,28 @@
 fi
 
 VERSION=`$SED -ne 's/^#define LIBCURL_VERSION "\(.*\)"/\1/p' ${srcdir}/include/curl/curlver.h`
 am__api_version="1.9"
 ac_aux_dir=
 for ac_dir in "$srcdir" "$srcdir/.." "$srcdir/../.."; do
-  for ac_t in install-sh install.sh shtool; do
-    if test -f "$ac_dir/$ac_t"; then
-      ac_aux_dir=$ac_dir
-      ac_install_sh="$ac_aux_dir/$ac_t -c"
-      break 2
-    fi
-  done
+  if test -f "$ac_dir/install-sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install-sh -c"
+    break
+  elif test -f "$ac_dir/install.sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install.sh -c"
+    break
+  elif test -f "$ac_dir/shtool"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/shtool install -c"
+    break
+  fi
 done
 if test -z "$ac_aux_dir"; then
-  as_fn_error "cannot find install-sh, install.sh, or shtool in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" "$LINENO" 5
+  as_fn_error $? "cannot find install-sh, install.sh, or shtool in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" "$LINENO" 5
 fi
 
 # These three variables are undocumented and unsupported,
 # and are intended to be withdrawn in a future Autoconf release.
 # They can cause serious problems if a builder's source tree is in a directory
 # whose full name contains unusual characters.
@@ -3359,23 +3410,23 @@
       && test "$*" != "X conftest.file $srcdir/configure"; then
 
       # If neither matched, then we have a broken ls.  This can happen
       # if, for instance, CONFIG_SHELL is bash and it inherits a
       # broken ls alias from the environment.  This has actually
       # happened.  Such a system could not be considered "sane".
-      as_fn_error "ls -t appears to fail.  Make sure there is not a broken
+      as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
 alias in your environment" "$LINENO" 5
    fi
 
    test "$2" = conftest.file
    )
 then
    # Ok.
    :
 else
-   as_fn_error "newly created file is older than distributed files!
+   as_fn_error $? "newly created file is older than distributed files!
 Check your system clock" "$LINENO" 5
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
 test "$program_prefix" != NONE &&
   program_transform_name="s&^&$program_prefix&;$program_transform_name"
@@ -3476,21 +3527,21 @@
 done
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
 $as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
 set x ${MAKE-make}
 ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
-if { as_var=ac_cv_prog_make_${ac_make}_set; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
 SHELL = /bin/sh
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
-# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
+# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
 case `${MAKE-make} -f conftest.make 2>/dev/null` in
   *@@@%%%=?*=@@@%%%*)
     eval ac_cv_prog_make_${ac_make}_set=yes;;
   *)
     eval ac_cv_prog_make_${ac_make}_set=no;;
 esac
@@ -3515,13 +3566,13 @@
 fi
 rmdir .tst 2>/dev/null
 
 # test to see if srcdir already configured
 if test "`cd $srcdir && pwd`" != "`pwd`" &&
    test -f $srcdir/config.status; then
-  as_fn_error "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
+  as_fn_error $? "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
 fi
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
   if (cygpath --version) >/dev/null 2>/dev/null; then
     CYGPATH_W='cygpath -w'
@@ -3709,33 +3760,33 @@
 
 ALL_LIBS=$LIBS
 
 
 # Make sure we can run config.sub.
 $SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
-  as_fn_error "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
+  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
 $as_echo_n "checking build system type... " >&6; }
 if test "${ac_cv_build+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_build_alias=$build_alias
 test "x$ac_build_alias" = x &&
   ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
 test "x$ac_build_alias" = x &&
-  as_fn_error "cannot guess build type; you must specify one" "$LINENO" 5
+  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
 ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
-  as_fn_error "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
+  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
 $as_echo "$ac_cv_build" >&6; }
 case $ac_cv_build in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical build" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5 ;;
 esac
 build=$ac_cv_build
 ac_save_IFS=$IFS; IFS='-'
 set x $ac_cv_build
 shift
 build_cpu=$1
@@ -3754,21 +3805,21 @@
   $as_echo_n "(cached) " >&6
 else
   if test "x$host_alias" = x; then
   ac_cv_host=$ac_cv_build
 else
   ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
-    as_fn_error "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
+    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
 fi
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
 $as_echo "$ac_cv_host" >&6; }
 case $ac_cv_host in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical host" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5 ;;
 esac
 host=$ac_cv_host
 ac_save_IFS=$IFS; IFS='-'
 set x $ac_cv_host
 shift
 host_cpu=$1
@@ -4152,14 +4203,14 @@
 
 fi
 
 
 test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "no acceptable C compiler found in \$PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "no acceptable C compiler found in \$PATH
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 # Provide some information about the compiler.
 $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
 set X $ac_compile
 ac_compiler=$2
 for ac_option in --version -v -V -qversion; do
@@ -4266,15 +4317,14 @@
 $as_echo "no" >&6; }
 $as_echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "C compiler cannot create executables
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "C compiler cannot create executables
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
 $as_echo_n "checking for C compiler default output file name... " >&6; }
@@ -4310,14 +4360,14 @@
     * ) break;;
   esac
 done
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot compute suffix of executables: cannot compile and link
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 rm -f conftest conftest$ac_cv_exeext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
 $as_echo "$ac_cv_exeext" >&6; }
 
 rm -f conftest.$ac_ext
@@ -4367,15 +4417,15 @@
   else
     if test "$cross_compiling" = maybe; then
 	cross_compiling=yes
     else
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run C compiled programs.
+as_fn_error $? "cannot run C compiled programs.
 If you meant to cross compile, use \`--host'.
-See \`config.log' for more details." "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
     fi
   fi
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
 $as_echo "$cross_compiling" >&6; }
 
@@ -4419,14 +4469,14 @@
 else
   $as_echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot compute suffix of object files: cannot compile
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot compute suffix of object files: cannot compile
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
 $as_echo "$ac_cv_objext" >&6; }
 OBJEXT=$ac_cv_objext
@@ -4772,14 +4822,13 @@
   esac
   for ac_header in sys/types.h stdint.h inttypes.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_inttypes
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -4825,13 +4874,13 @@
 if ac_fn_c_try_cpp "$LINENO"; then :
 
 else
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <ac_nonexistent.h>
@@ -4841,17 +4890,17 @@
 continue
 else
   # Passes both tests.
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
   break
 fi
 
     done
     ac_cv_prog_CPP=$CPP
@@ -4884,13 +4933,13 @@
 if ac_fn_c_try_cpp "$LINENO"; then :
 
 else
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <ac_nonexistent.h>
@@ -4900,24 +4949,24 @@
 continue
 else
   # Passes both tests.
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
 
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -4972,13 +5021,13 @@
       $ac_path_GREP_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_GREP"; then
-    as_fn_error "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_GREP=$GREP
 fi
 
 fi
@@ -5038,13 +5087,13 @@
       $ac_path_EGREP_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_EGREP"; then
-    as_fn_error "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_EGREP=$EGREP
 fi
 
    fi
@@ -5169,14 +5218,13 @@
 for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
 		  inttypes.h stdint.h unistd.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -5184,13 +5232,13 @@
 
 
 
     #
         #
   if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   #
   # The cast to long int works around a bug in the HP C Compiler
 # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
 # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
 # This bug is HP SR number 8606223364.
@@ -5202,15 +5250,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_long" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (long)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (long)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_long=0
    fi
 fi
 
 fi
@@ -5236,15 +5283,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (void*))" "ac_cv_sizeof_voidp"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_voidp" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (void*)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (void*)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_voidp=0
    fi
 fi
 
 fi
@@ -5258,17 +5304,17 @@
 _ACEOF
 
 
   #
   if test -z "$ac_cv_sizeof_long" ||
     test "$ac_cv_sizeof_long" -eq "0"; then
-    as_fn_error "cannot find out size of long." "$LINENO" 5
+    as_fn_error $? "cannot find out size of long." "$LINENO" 5
   fi
   if test -z "$ac_cv_sizeof_voidp" ||
      test "$ac_cv_sizeof_voidp" -eq "0"; then
-    as_fn_error "cannot find out size of void*." "$LINENO" 5
+    as_fn_error $? "cannot find out size of void*." "$LINENO" 5
   fi
   #
   x_LP64_long=""
   x_LP32_long=""
   x_LP16_long=""
   #
@@ -5347,16 +5393,16 @@
         curl_sizeof_curl_off_t="8"
       else
 
   as_ac_HaveDef=`$as_echo "curl_cv_have_def_$tmp_fmt" | $as_tr_sh`
   as_ac_Def=`$as_echo "curl_cv_def_$tmp_fmt" | $as_tr_sh`
   if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -5375,13 +5421,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "$tmp_fmt"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     eval "$as_ac_HaveDef=no"
 
   else
     eval "$as_ac_HaveDef=yes"
     eval "$as_ac_Def=\$tmp_exp"
@@ -5461,16 +5507,16 @@
         curl_sizeof_curl_off_t="4"
       else
 
   as_ac_HaveDef=`$as_echo "curl_cv_have_def_$tmp_fmt" | $as_tr_sh`
   as_ac_Def=`$as_echo "curl_cv_def_$tmp_fmt" | $as_tr_sh`
   if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -5489,13 +5535,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "$tmp_fmt"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     eval "$as_ac_HaveDef=no"
 
   else
     eval "$as_ac_HaveDef=yes"
     eval "$as_ac_Def=\$tmp_exp"
@@ -5575,16 +5621,16 @@
         curl_sizeof_curl_off_t="2"
       else
 
   as_ac_HaveDef=`$as_echo "curl_cv_have_def_$tmp_fmt" | $as_tr_sh`
   as_ac_Def=`$as_echo "curl_cv_def_$tmp_fmt" | $as_tr_sh`
   if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -5603,13 +5649,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "$tmp_fmt"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     eval "$as_ac_HaveDef=no"
 
   else
     eval "$as_ac_HaveDef=yes"
     eval "$as_ac_Def=\$tmp_exp"
@@ -5631,13 +5677,13 @@
 
     done
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_typeof_curl_off_t" >&5
 $as_echo "$curl_typeof_curl_off_t" >&6; }
   fi
   if test "$curl_typeof_curl_off_t" = "unknown"; then
-    as_fn_error "cannot find data type for curl_off_t." "$LINENO" 5
+    as_fn_error $? "cannot find data type for curl_off_t." "$LINENO" 5
   fi
   #
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of curl_off_t" >&5
 $as_echo_n "checking size of curl_off_t... " >&6; }
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_sizeof_curl_off_t" >&5
 $as_echo "$curl_sizeof_curl_off_t" >&6; }
@@ -5675,13 +5721,13 @@
         ;;
       __int16)
         curl_format_curl_off_t="I16d"
         curl_format_curl_off_tu="I16u"
         ;;
       *)
-        as_fn_error "cannot find print format string for curl_off_t." "$LINENO" 5
+        as_fn_error $? "cannot find print format string for curl_off_t." "$LINENO" 5
         ;;
     esac
   fi
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: \"$curl_format_curl_off_t\"" >&5
 $as_echo "\"$curl_format_curl_off_t\"" >&6; }
   #
@@ -5714,13 +5760,13 @@
       tst_suffixes="L:i32::"
       ;;
     __int16 | int16_t)
       tst_suffixes="L:i16::"
       ;;
     *)
-      as_fn_error "unexpected data type $curl_typeof_curl_off_t" "$LINENO" 5
+      as_fn_error $? "unexpected data type $curl_typeof_curl_off_t" "$LINENO" 5
       ;;
   esac
   #
   old_IFS=$IFS; IFS=':'
   for tmp_ssuf in $tst_suffixes ; do
     IFS=$old_IFS
@@ -5767,13 +5813,13 @@
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     fi
   done
   IFS=$old_IFS
   #
   if test "x$curl_suffix_curl_off_t" = "xunknown"; then
-    as_fn_error "cannot find constant suffix string for curl_off_t." "$LINENO" 5
+    as_fn_error $? "cannot find constant suffix string for curl_off_t." "$LINENO" 5
   else
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_suffix_curl_off_t" >&5
 $as_echo "$curl_suffix_curl_off_t" >&6; }
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking constant suffix string for unsigned curl_off_t" >&5
 $as_echo_n "checking constant suffix string for unsigned curl_off_t... " >&6; }
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_suffix_curl_off_tu" >&5
@@ -7456,13 +7502,13 @@
       $ac_path_SED_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_SED"; then
-    as_fn_error "no acceptable sed could be found in \$PATH" "$LINENO" 5
+    as_fn_error $? "no acceptable sed could be found in \$PATH" "$LINENO" 5
   fi
 else
   ac_cv_path_SED=$SED
 fi
 
 fi
@@ -7535,13 +7581,13 @@
       $ac_path_FGREP_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_FGREP"; then
-    as_fn_error "no acceptable fgrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable fgrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_FGREP=$FGREP
 fi
 
    fi
@@ -7651,13 +7697,13 @@
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: $LD" >&5
 $as_echo "$LD" >&6; }
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
-test -z "$LD" && as_fn_error "no acceptable ld found in \$PATH" "$LINENO" 5
+test -z "$LD" && as_fn_error $? "no acceptable ld found in \$PATH" "$LINENO" 5
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if the linker ($LD) is GNU ld" >&5
 $as_echo_n "checking if the linker ($LD) is GNU ld... " >&6; }
 if test "${lt_cv_prog_gnu_ld+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   # I'd rather use --version here, but apparently some GNU lds only accept -v.
@@ -7853,19 +7899,19 @@
 $as_echo_n "checking the name lister ($NM) interface... " >&6; }
 if test "${lt_cv_nm_interface+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   lt_cv_nm_interface="BSD nm"
   echo "int some_variable = 0;" > conftest.$ac_ext
-  (eval echo "\"\$as_me:7859: $ac_compile\"" >&5)
+  (eval echo "\"\$as_me:7905: $ac_compile\"" >&5)
   (eval "$ac_compile" 2>conftest.err)
   cat conftest.err >&5
-  (eval echo "\"\$as_me:7862: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
+  (eval echo "\"\$as_me:7908: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
   (eval "$NM \"conftest.$ac_objext\"" 2>conftest.err > conftest.out)
   cat conftest.err >&5
-  (eval echo "\"\$as_me:7865: output\"" >&5)
+  (eval echo "\"\$as_me:7911: output\"" >&5)
   cat conftest.out >&5
   if $GREP 'External.*some_variable' conftest.out > /dev/null; then
     lt_cv_nm_interface="MS dumpbin"
   fi
   rm -f conftest*
 fi
@@ -9061,13 +9107,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 9067 "configure"' > conftest.$ac_ext
+  echo '#line 9113 "configure"' > conftest.$ac_ext
   if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }; then
     if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -10319,17 +10365,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:10325: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:10371: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:10329: \$? = $ac_status" >&5
+   echo "$as_me:10375: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $ECHO "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -10658,17 +10704,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:10664: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:10710: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:10668: \$? = $ac_status" >&5
+   echo "$as_me:10714: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $ECHO "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -10763,17 +10809,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:10769: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:10815: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:10773: \$? = $ac_status" >&5
+   echo "$as_me:10819: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $ECHO "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -10818,17 +10864,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:10824: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:10870: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:10828: \$? = $ac_status" >&5
+   echo "$as_me:10874: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $ECHO "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -13184,13 +13230,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<_LT_EOF
-#line 13190 "configure"
+#line 13236 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -13280,13 +13326,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<_LT_EOF
-#line 13286 "configure"
+#line 13332 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -13595,21 +13642,21 @@
 
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
 $as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
 set x ${MAKE-make}
 ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
-if { as_var=ac_cv_prog_make_${ac_make}_set; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
 SHELL = /bin/sh
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
-# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
+# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
 case `${MAKE-make} -f conftest.make 2>/dev/null` in
   *@@@%%%=?*=@@@%%%*)
     eval ac_cv_prog_make_${ac_make}_set=yes;;
   *)
     eval ac_cv_prog_make_${ac_make}_set=no;;
 esac
@@ -13684,16 +13731,16 @@
   #
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is DEC/Compaq/HP C" >&5
 $as_echo_n "checking if compiler is DEC/Compaq/HP C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -13712,28 +13759,28 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__DECC"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___DECC=no
 
   else
     curl_cv_have_def___DECC=yes
     curl_cv_def___DECC=$tmp_exp
 
   fi
 
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -13752,13 +13799,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__DECC_VER"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___DECC_VER=no
 
   else
     curl_cv_have_def___DECC_VER=yes
     curl_cv_def___DECC_VER=$tmp_exp
@@ -13783,16 +13830,16 @@
 
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is HP-UX C" >&5
 $as_echo_n "checking if compiler is HP-UX C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -13811,13 +13858,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__HP_cc"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___HP_cc=no
 
   else
     curl_cv_have_def___HP_cc=yes
     curl_cv_def___HP_cc=$tmp_exp
@@ -13841,16 +13888,16 @@
 
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is IBM C" >&5
 $as_echo_n "checking if compiler is IBM C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -13869,13 +13916,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__IBMC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___IBMC__=no
 
   else
     curl_cv_have_def___IBMC__=yes
     curl_cv_def___IBMC__=$tmp_exp
@@ -13906,16 +13953,16 @@
 
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is Intel C" >&5
 $as_echo_n "checking if compiler is Intel C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -13934,13 +13981,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__INTEL_COMPILER"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___INTEL_COMPILER=no
 
   else
     curl_cv_have_def___INTEL_COMPILER=yes
     curl_cv_def___INTEL_COMPILER=$tmp_exp
@@ -13950,16 +13997,16 @@
   if test "$curl_cv_have_def___INTEL_COMPILER" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
     compiler_num="$curl_cv_def___INTEL_COMPILER"
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -13978,13 +14025,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = ""; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___unix__=no
 
   else
     curl_cv_have_def___unix__=yes
     curl_cv_def___unix__=$tmp_exp
@@ -14022,16 +14069,16 @@
 
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is clang" >&5
 $as_echo_n "checking if compiler is clang... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14050,13 +14097,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__clang__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___clang__=no
 
   else
     curl_cv_have_def___clang__=yes
     curl_cv_def___clang__=$tmp_exp
@@ -14091,16 +14138,16 @@
 
 
       { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is GNU C" >&5
 $as_echo_n "checking if compiler is GNU C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14119,13 +14166,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__GNUC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___GNUC__=no
 
   else
     curl_cv_have_def___GNUC__=yes
     curl_cv_def___GNUC__=$tmp_exp
@@ -14161,16 +14208,16 @@
 
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is LCC" >&5
 $as_echo_n "checking if compiler is LCC... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14189,13 +14236,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__LCC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___LCC__=no
 
   else
     curl_cv_have_def___LCC__=yes
     curl_cv_def___LCC__=$tmp_exp
@@ -14219,16 +14266,16 @@
 
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is SGI MIPSpro C" >&5
 $as_echo_n "checking if compiler is SGI MIPSpro C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14247,28 +14294,28 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__GNUC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___GNUC__=no
 
   else
     curl_cv_have_def___GNUC__=yes
     curl_cv_def___GNUC__=$tmp_exp
 
   fi
 
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14287,28 +14334,28 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "_COMPILER_VERSION"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def__COMPILER_VERSION=no
 
   else
     curl_cv_have_def__COMPILER_VERSION=yes
     curl_cv_def__COMPILER_VERSION=$tmp_exp
 
   fi
 
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14327,13 +14374,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "_SGI_COMPILER_VERSION"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def__SGI_COMPILER_VERSION=no
 
   else
     curl_cv_have_def__SGI_COMPILER_VERSION=yes
     curl_cv_def__SGI_COMPILER_VERSION=$tmp_exp
@@ -14359,16 +14406,16 @@
 
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is SGI MIPS C" >&5
 $as_echo_n "checking if compiler is SGI MIPS C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14387,28 +14434,28 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__GNUC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___GNUC__=no
 
   else
     curl_cv_have_def___GNUC__=yes
     curl_cv_def___GNUC__=$tmp_exp
 
   fi
 
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14427,13 +14474,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__sgi"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___sgi=no
 
   else
     curl_cv_have_def___sgi=yes
     curl_cv_def___sgi=$tmp_exp
@@ -14459,16 +14506,16 @@
 
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is SunPro C" >&5
 $as_echo_n "checking if compiler is SunPro C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14487,13 +14534,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__SUNPRO_C"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___SUNPRO_C=no
 
   else
     curl_cv_have_def___SUNPRO_C=yes
     curl_cv_def___SUNPRO_C=$tmp_exp
@@ -14517,16 +14564,16 @@
 
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is Tiny C" >&5
 $as_echo_n "checking if compiler is Tiny C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14545,13 +14592,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__TINYC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___TINYC__=no
 
   else
     curl_cv_have_def___TINYC__=yes
     curl_cv_def___TINYC__=$tmp_exp
@@ -14575,16 +14622,16 @@
 
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler is Watcom C" >&5
 $as_echo_n "checking if compiler is Watcom C... " >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14603,13 +14650,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__WATCOMC__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___WATCOMC__=no
 
   else
     curl_cv_have_def___WATCOMC__=yes
     curl_cv_def___WATCOMC__=$tmp_exp
@@ -14618,16 +14665,16 @@
 
   if test "$curl_cv_have_def___WATCOMC__" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
 
       if test -z "$SED"; then
-    as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
+    as_fn_error $? "SED not set. Cannot continue without SED being set." "$LINENO" 5
   fi
   if test -z "$GREP"; then
-    as_fn_error "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
+    as_fn_error $? "GREP not set. Cannot continue without GREP being set." "$LINENO" 5
   fi
 
   tmp_exp=""
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -14646,13 +14693,13 @@
       "$SED" 's/["][ ]*["]//g' 2>/dev/null`
     if test -z "$tmp_exp" || test "$tmp_exp" = "__UNIX__"; then
       tmp_exp=""
     fi
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
   if test -z "$tmp_exp"; then
     curl_cv_have_def___UNIX__=no
 
   else
     curl_cv_have_def___UNIX__=yes
     curl_cv_def___UNIX__=$tmp_exp
@@ -14915,14 +14962,14 @@
   fi
     if test "x$cross_compiling" != "xyes" &&
     test "$tmp_compiler_works" = "yes"; then
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
 #       ifdef __STDC__
@@ -15102,14 +15149,14 @@
   fi
     if test "x$cross_compiling" != "xyes" &&
     test "$tmp_compiler_works" = "yes"; then
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
 #       ifdef __STDC__
@@ -15342,14 +15389,14 @@
   fi
     if test "x$cross_compiling" != "xyes" &&
     test "$tmp_compiler_works" = "yes"; then
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
 #       ifdef __STDC__
@@ -15701,14 +15748,14 @@
   fi
     if test "x$cross_compiling" != "xyes" &&
     test "$tmp_compiler_works" = "yes"; then
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
 #       ifdef __STDC__
@@ -15795,13 +15842,13 @@
 
 _ACEOF
 if ac_fn_c_try_compile "$LINENO"; then :
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
-    as_fn_error "compiler does not halt on compilation errors." "$LINENO" 5
+    as_fn_error $? "compiler does not halt on compilation errors." "$LINENO" 5
 
 else
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
 
@@ -15828,13 +15875,13 @@
 
 _ACEOF
 if ac_fn_c_try_compile "$LINENO"; then :
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
-    as_fn_error "compiler does not halt on negative sized arrays." "$LINENO" 5
+    as_fn_error $? "compiler does not halt on negative sized arrays." "$LINENO" 5
 
 else
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
 
@@ -16608,13 +16655,13 @@
 $as_echo "#define CURL_DISABLE_RTSP 1" >>confdefs.h
 
        CURL_DISABLE_RTSP=1
 
        ;;
   *)   if test x$CURL_DISABLE_HTTP = x1 ; then
-          as_fn_error "HTTP support needs to be enabled in order to enable RTSP support!" "$LINENO" 5
+          as_fn_error $? "HTTP support needs to be enabled in order to enable RTSP support!" "$LINENO" 5
        else
           { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
           curl_rtsp_msg="enabled"
        fi
        ;;
@@ -17221,13 +17268,13 @@
 fi
 
 fi
 
 
 if test "$HAVE_GETHOSTBYNAME" != "1"; then
-  as_fn_error "couldn't find libraries for gethostbyname()" "$LINENO" 5
+  as_fn_error $? "couldn't find libraries for gethostbyname()" "$LINENO" 5
 fi
 
 ac_fn_c_check_func "$LINENO" "strcasecmp" "ac_cv_func_strcasecmp"
 if test "x$ac_cv_func_strcasecmp" = x""yes; then :
 
 else
@@ -17547,13 +17594,13 @@
   LIBS="$tst_connect_save_LIBS"
   #
   case X-"$tst_connect_need_LIBS" in
     X-unknown)
       { $as_echo "$as_me:${as_lineno-$LINENO}: result: cannot find connect" >&5
 $as_echo "cannot find connect" >&6; }
-      as_fn_error "cannot find connect function in libraries." "$LINENO" 5
+      as_fn_error $? "cannot find connect function in libraries." "$LINENO" 5
       ;;
     X-)
       { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
       ;;
     *)
@@ -17561,12 +17608,14 @@
 $as_echo "$tst_connect_need_LIBS" >&6; }
       LIBS="$tst_connect_need_LIBS $tst_connect_save_LIBS"
       ;;
   esac
 
 
+CURL_NETWORK_LIBS=$LIBS
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether time.h and sys/time.h may both be included" >&5
 $as_echo_n "checking whether time.h and sys/time.h may both be included... " >&6; }
 if test "${ac_cv_header_time+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -17600,14 +17649,13 @@
 
 
     for ac_header in sys/types.h sys/time.h time.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -17746,14 +17794,14 @@
       test "$ac_cv_func_clock_gettime" = "yes"; then
       { $as_echo "$as_me:${as_lineno-$LINENO}: checking if monotonic clock_gettime works" >&5
 $as_echo_n "checking if monotonic clock_gettime works... " >&6; }
       if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
 #ifdef HAVE_STDLIB_H
@@ -18193,13 +18241,13 @@
   fi
 
   if test "$LDAPLIBNAME" ; then
     as_ac_Lib=`$as_echo "ac_cv_lib_"$LDAPLIBNAME"''_ldap_init" | $as_tr_sh`
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ldap_init in -l\"$LDAPLIBNAME\"" >&5
 $as_echo_n "checking for ldap_init in -l\"$LDAPLIBNAME\"... " >&6; }
-if { as_var=$as_ac_Lib; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$as_ac_Lib+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-l"$LDAPLIBNAME"  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -18225,14 +18273,13 @@
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 eval ac_res=\$$as_ac_Lib
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-eval as_val=\$$as_ac_Lib
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_LIB"$LDAPLIBNAME"" | $as_tr_cpp` 1
 _ACEOF
 
   LIBS="-l"$LDAPLIBNAME" $LIBS"
 
@@ -18375,13 +18422,13 @@
 
   if test "$LBERLIBNAME" ; then
             if test "$LBERLIBNAME" != "no" ; then
       as_ac_Lib=`$as_echo "ac_cv_lib_"$LBERLIBNAME"''_ber_free" | $as_tr_sh`
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ber_free in -l\"$LBERLIBNAME\"" >&5
 $as_echo_n "checking for ber_free in -l\"$LBERLIBNAME\"... " >&6; }
-if { as_var=$as_ac_Lib; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$as_ac_Lib+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-l"$LBERLIBNAME"  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -18407,14 +18454,13 @@
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 eval ac_res=\$$as_ac_Lib
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-eval as_val=\$$as_ac_Lib
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Lib"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_LIB"$LBERLIBNAME"" | $as_tr_cpp` 1
 _ACEOF
 
   LIBS="-l"$LBERLIBNAME" $LIBS"
 
@@ -18440,14 +18486,13 @@
 
 if test x$CURL_DISABLE_LDAP != x1 ; then
   for ac_func in ldap_url_parse ldap_init_fd
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 done
@@ -18883,13 +18928,13 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if SPNEGO support is requested" >&5
 $as_echo_n "checking if SPNEGO support is requested... " >&6; }
 if test x"$want_spnego" = xyes; then
 
   if test X"$SPNEGO_ROOT" = Xyes; then
-     as_fn_error "FBOpenSSL libs and/or directories were not found where specified!" "$LINENO" 5
+     as_fn_error $? "FBOpenSSL libs and/or directories were not found where specified!" "$LINENO" 5
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
   else
      if test -z "$SPNEGO_LIB_DIR"; then
         LDFLAGS="$LDFLAGS -L$SPNEGO_ROOT -lfbopenssl"
      else
@@ -18992,14 +19037,13 @@
 $ac_includes_default
 #ifdef HAVE_GSSAPI_GSSAPI_H
 #include <gssapi/gssapi.h>
 #endif
 
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 else
   not_mit=1
@@ -19546,14 +19590,13 @@
 
             for ac_header in openssl/x509.h openssl/rsa.h openssl/crypto.h \
                        openssl/pem.h openssl/ssl.h openssl/err.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
  curl_ssl_msg="enabled (OpenSSL)"
         OPENSSL_ENABLED=1
 
@@ -19566,14 +19609,13 @@
 
       if test $ac_cv_header_openssl_x509_h = no; then
                                 for ac_header in x509.h rsa.h crypto.h pem.h ssl.h err.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -19611,13 +19653,13 @@
     fi
             USE_SSLEAY="$OPENSSL_ENABLED"
 
 
     if test X"$OPT_SSL" != Xoff &&
        test "$OPENSSL_ENABLED" != "1"; then
-      as_fn_error "OpenSSL libs and/or directories were not found where specified!" "$LINENO" 5
+      as_fn_error $? "OpenSSL libs and/or directories were not found where specified!" "$LINENO" 5
     fi
   fi
 
   if test X"$OPENSSL_ENABLED" = X"1"; then
             ac_fn_c_check_func "$LINENO" "ENGINE_init" "ac_cv_func_ENGINE_init"
 if test "x$ac_cv_func_ENGINE_init" = x""yes; then :
@@ -19635,14 +19677,13 @@
 done
 
                 for ac_func in ENGINE_load_builtin_engines
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 done
@@ -19658,14 +19699,13 @@
                     ENGINE_cleanup \
                     CRYPTO_cleanup_all_ex_data \
                     SSL_get_shutdown
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 done
@@ -19912,28 +19952,30 @@
 
 # Check whether --with-random was given.
 if test "${with_random+set}" = set; then :
   withval=$with_random;  RANDOM_FILE="$withval"
 else
 
-                    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for \"/dev/urandom\"" >&5
+                    as_ac_File=`$as_echo "ac_cv_file_"/dev/urandom"" | $as_tr_sh`
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for \"/dev/urandom\"" >&5
 $as_echo_n "checking for \"/dev/urandom\"... " >&6; }
-if test "${ac_cv_file___dev_urandom_+set}" = set; then :
+if eval "test \"\${$as_ac_File+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   test "$cross_compiling" = yes &&
-  as_fn_error "cannot check for file existence when cross compiling" "$LINENO" 5
+  as_fn_error $? "cannot check for file existence when cross compiling" "$LINENO" 5
 if test -r ""/dev/urandom""; then
-  ac_cv_file___dev_urandom_=yes
+  eval "$as_ac_File=yes"
 else
-  ac_cv_file___dev_urandom_=no
+  eval "$as_ac_File=no"
 fi
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_file___dev_urandom_" >&5
-$as_echo "$ac_cv_file___dev_urandom_" >&6; }
-if test "x$ac_cv_file___dev_urandom_" = x""yes; then :
+eval ac_res=\$$as_ac_File
+	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+$as_echo "$ac_res" >&6; }
+if eval test \"x\$"$as_ac_File"\" = x"yes"; then :
    RANDOM_FILE="/dev/urandom"
 fi
 
 
 
 fi
@@ -20645,42 +20687,42 @@
 
 # Check whether --with-ca-bundle was given.
 if test "${with_ca_bundle+set}" = set; then :
   withval=$with_ca_bundle;
     want_ca="$withval"
     if test "x$want_ca" = "xyes"; then
-      as_fn_error "--with-ca-bundle=FILE requires a path to the CA bundle" "$LINENO" 5
+      as_fn_error $? "--with-ca-bundle=FILE requires a path to the CA bundle" "$LINENO" 5
     fi
 
 else
    want_ca="unset"
 fi
 
 
 # Check whether --with-ca-path was given.
 if test "${with_ca_path+set}" = set; then :
   withval=$with_ca_path;
     want_capath="$withval"
     if test "x$want_capath" = "xyes"; then
-      as_fn_error "--with-ca-path=DIRECTORY requires a path to the CA path directory" "$LINENO" 5
+      as_fn_error $? "--with-ca-path=DIRECTORY requires a path to the CA path directory" "$LINENO" 5
     fi
 
 else
    want_capath="unset"
 fi
 
 
   if test "x$want_ca" != "xno" -a "x$want_ca" != "xunset" -a \
           "x$want_capath" != "xno" -a "x$want_capath" != "xunset"; then
-        as_fn_error "Can't specify both --with-ca-bundle and --with-ca-path." "$LINENO" 5
+        as_fn_error $? "Can't specify both --with-ca-bundle and --with-ca-path." "$LINENO" 5
   elif test "x$want_ca" != "xno" -a "x$want_ca" != "xunset"; then
         ca="$want_ca"
     capath="no"
   elif test "x$want_capath" != "xno" -a "x$want_capath" != "xunset"; then
         if test "x$OPENSSL_ENABLED" != "x1"; then
-      as_fn_error "--with-ca-path only works with openSSL" "$LINENO" 5
+      as_fn_error $? "--with-ca-path only works with openSSL" "$LINENO" 5
     fi
     capath="$want_capath"
     ca="no"
   else
                 ca="no"
     capath="no"
@@ -20960,24 +21002,24 @@
 
 done
 
 
   if test X"$OPT_LIBSSH2" != Xoff &&
      test "$LIBSSH2_ENABLED" != "1"; then
-    as_fn_error "libSSH2 libs and/or directories were not found where specified!" "$LINENO" 5
+    as_fn_error $? "libSSH2 libs and/or directories were not found where specified!" "$LINENO" 5
   fi
 
   if test "$LIBSSH2_ENABLED" = "1"; then
     if test -n "$DIR_SSH2"; then
 
-                     for ac_func in libssh2_version libssh2_init libssh2_exit
+                            for ac_func in libssh2_version libssh2_init libssh2_exit \
+                       libssh2_scp_send64
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 done
@@ -21214,13 +21256,13 @@
 
 done
 
 
   if test X"$OPT_LIBRTMP" != Xoff &&
      test "$LIBRTMP_ENABLED" != "1"; then
-    as_fn_error "librtmp libs and/or directories were not found where specified!" "$LINENO" 5
+    as_fn_error $? "librtmp libs and/or directories were not found where specified!" "$LINENO" 5
   fi
 
   if test "$LIBRTMP_ENABLED" != "1"; then
         LDFLAGS=$CLEANLDFLAGS
     CPPFLAGS=$CLEANCPPFLAGS
     LIBS=$CLEANLIBS
@@ -21355,27 +21397,25 @@
          IDN_ENABLED=1
 
                   for ac_func in idn_free idna_strerror tld_strerror
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 done
 
          for ac_header in idn-free.h tld.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -21740,14 +21780,13 @@
 #ifdef HAVE_SYS_UN_H
 #include <sys/un.h>
 #endif
 
 
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -21988,14 +22027,13 @@
 
 
         for ac_header in sys/types.h sys/time.h time.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -22084,14 +22122,14 @@
 
             { $as_echo "$as_me:${as_lineno-$LINENO}: checking run-time libs availability" >&5
 $as_echo_n "checking run-time libs availability... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 main()
 {
@@ -22102,13 +22140,13 @@
 if ac_fn_c_try_run "$LINENO"; then :
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: fine" >&5
 $as_echo "fine" >&6; }
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: failed" >&5
 $as_echo "failed" >&6; }
-    as_fn_error "one or more libs available at link-time are not available run-time. Libs used at link-time: $LIBS" "$LINENO" 5
+    as_fn_error $? "one or more libs available at link-time are not available run-time. Libs used at link-time: $LIBS" "$LINENO" 5
 
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
   conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 
@@ -22128,15 +22166,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (size_t))" "ac_cv_sizeof_size_t"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_size_t" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (size_t)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (size_t)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_size_t=0
    fi
 fi
 
 fi
@@ -22162,15 +22199,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_long" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (long)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (long)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_long=0
    fi
 fi
 
 fi
@@ -22196,15 +22232,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_int" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (int)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (int)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_int=0
    fi
 fi
 
 fi
@@ -22230,15 +22265,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (short))" "ac_cv_sizeof_short"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_short" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (short)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (short)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_short=0
    fi
 fi
 
 fi
@@ -22252,13 +22286,13 @@
 _ACEOF
 
 
 
   if test -z "$ac_cv_sizeof_long" ||
     test "$ac_cv_sizeof_long" -eq "0"; then
-    as_fn_error "cannot find out size of long." "$LINENO" 5
+    as_fn_error $? "cannot find out size of long." "$LINENO" 5
   fi
 
 cat >>confdefs.h <<_EOF
 #define CURL_SIZEOF_LONG $ac_cv_sizeof_long
 _EOF
 
@@ -22275,15 +22309,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (time_t))" "ac_cv_sizeof_time_t"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_time_t" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (time_t)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (time_t)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_time_t=0
    fi
 fi
 
 fi
@@ -22309,15 +22342,14 @@
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (off_t))" "ac_cv_sizeof_off_t"        "$ac_includes_default"; then :
 
 else
   if test "$ac_cv_type_off_t" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (off_t)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (off_t)
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_off_t=0
    fi
 fi
 
 fi
@@ -22607,14 +22639,13 @@
 /* includes end */"
   for ac_header in sys/types.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_sys_socket
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -22699,13 +22730,13 @@
     fi
   done
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_typeof_curl_socklen_t" >&5
 $as_echo "$curl_typeof_curl_socklen_t" >&6; }
   if test "$curl_typeof_curl_socklen_t" = "void" ||
     test "$curl_typeof_curl_socklen_t" = "unknown"; then
-    as_fn_error "cannot find data type for curl_socklen_t." "$LINENO" 5
+    as_fn_error $? "cannot find data type for curl_socklen_t." "$LINENO" 5
   fi
   #
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of curl_socklen_t" >&5
 $as_echo_n "checking size of curl_socklen_t... " >&6; }
   curl_sizeof_curl_socklen_t="unknown"
   curl_pull_headers_socklen_t="unknown"
@@ -22761,13 +22792,13 @@
       fi
     done
   done
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_sizeof_curl_socklen_t" >&5
 $as_echo "$curl_sizeof_curl_socklen_t" >&6; }
   if test "$curl_sizeof_curl_socklen_t" = "unknown"; then
-    as_fn_error "cannot find out size of curl_socklen_t." "$LINENO" 5
+    as_fn_error $? "cannot find out size of curl_socklen_t." "$LINENO" 5
   fi
   #
   case $curl_pull_headers_socklen_t in
     ws2tcpip)
 
 cat >>confdefs.h <<_EOF
@@ -22905,13 +22936,13 @@
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_cv_in_addr_t_equiv" >&5
 $as_echo "$curl_cv_in_addr_t_equiv" >&6; }
     case "$curl_cv_in_addr_t_equiv" in
       unknown)
-        as_fn_error "Cannot find a type to use in place of in_addr_t" "$LINENO" 5
+        as_fn_error $? "Cannot find a type to use in place of in_addr_t" "$LINENO" 5
         ;;
       *)
 
 cat >>confdefs.h <<_ACEOF
 #define in_addr_t $curl_cv_in_addr_t_equiv
 _ACEOF
@@ -23068,14 +23099,13 @@
 
 
     for ac_header in sys/select.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -23326,14 +23356,13 @@
 
 
       for ac_header in sys/types.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -23466,13 +23495,13 @@
       done
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_cv_func_recv_args" >&5
 $as_echo "$curl_cv_func_recv_args" >&6; } # AC-CACHE-CHECK
     if test "$curl_cv_func_recv_args" = "unknown"; then
-      as_fn_error "Cannot find proper types to use for recv args" "$LINENO" 5
+      as_fn_error $? "Cannot find proper types to use for recv args" "$LINENO" 5
     else
       recv_prev_IFS=$IFS; IFS=','
       set dummy `echo "$curl_cv_func_recv_args" | sed 's/\*/\*/g'`
       IFS=$recv_prev_IFS
       shift
       #
@@ -23507,22 +23536,21 @@
 #define HAVE_RECV 1
 _ACEOF
 
       ac_cv_func_recv="yes"
     fi
   else
-    as_fn_error "Unable to link function recv" "$LINENO" 5
+    as_fn_error $? "Unable to link function recv" "$LINENO" 5
   fi
 
 
       for ac_header in sys/types.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -23782,14 +23810,13 @@
 
 
       for ac_header in sys/types.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -23921,13 +23948,13 @@
       done
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $curl_cv_func_send_args" >&5
 $as_echo "$curl_cv_func_send_args" >&6; } # AC-CACHE-CHECK
     if test "$curl_cv_func_send_args" = "unknown"; then
-      as_fn_error "Cannot find proper types to use for send args" "$LINENO" 5
+      as_fn_error $? "Cannot find proper types to use for send args" "$LINENO" 5
     else
       send_prev_IFS=$IFS; IFS=','
       set dummy `echo "$curl_cv_func_send_args" | sed 's/\*/\*/g'`
       IFS=$send_prev_IFS
       shift
       #
@@ -23999,22 +24026,21 @@
 #define HAVE_SEND 1
 _ACEOF
 
       ac_cv_func_send="yes"
     fi
   else
-    as_fn_error "Unable to link function send" "$LINENO" 5
+    as_fn_error $? "Unable to link function send" "$LINENO" 5
   fi
 
 
   for ac_header in sys/types.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -24099,14 +24125,13 @@
 /* includes end */"
   for ac_header in sys/types.h unistd.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_unistd
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -24277,14 +24302,13 @@
 /* includes end */"
   for ac_header in sys/types.h string.h strings.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_string
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -24303,14 +24327,13 @@
 /* includes end */"
   for ac_header in sys/types.h libgen.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_libgen
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -24482,14 +24505,13 @@
 /* includes end */"
   for ac_header in sys/types.h socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_socket
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -24937,14 +24959,13 @@
 /* includes end */"
   for ac_header in sys/types.h unistd.h fcntl.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_fcntl
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -25192,14 +25213,13 @@
 /* includes end */"
   for ac_header in sys/types.h stdio.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_stdio
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -25367,14 +25387,13 @@
 /* includes end */"
   for ac_header in sys/types.h netdb.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_netdb
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -25542,14 +25561,13 @@
 /* includes end */"
   for ac_header in sys/types.h sys/socket.h netinet/in.h ifaddrs.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_ifaddrs
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -25865,14 +25883,13 @@
 /* includes end */"
   for ac_header in sys/types.h stdlib.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_stdlib
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -25996,14 +26013,14 @@
     test "$tst_compi_getaddrinfo" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if getaddrinfo seems to work" >&5
 $as_echo_n "checking if getaddrinfo seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_ws2tcpip
@@ -27236,14 +27253,14 @@
     test "$tst_compi_getifaddrs" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if getifaddrs seems to work" >&5
 $as_echo_n "checking if getifaddrs seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -27588,14 +27605,13 @@
 /* includes end */"
   for ac_header in sys/types.h sys/time.h time.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_time
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -27722,14 +27738,14 @@
     test "$tst_compi_gmtime_r" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if gmtime_r seems to work" >&5
 $as_echo_n "checking if gmtime_r seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -27825,14 +27841,13 @@
 /* includes end */"
   for ac_header in sys/types.h sys/socket.h netinet/in.h arpa/inet.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_arpa_inet
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -28170,14 +28185,14 @@
     test "$tst_compi_inet_ntop" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if inet_ntop seems to work" >&5
 $as_echo_n "checking if inet_ntop seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -28417,14 +28432,14 @@
     test "$tst_compi_inet_pton" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if inet_pton seems to work" >&5
 $as_echo_n "checking if inet_pton seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -28558,14 +28573,13 @@
 /* includes end */"
   for ac_header in sys/types.h unistd.h sys/socket.h sys/ioctl.h stropts.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_stropts
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -29426,14 +29440,14 @@
     test "$tst_compi_localtime_r" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if localtime_r seems to work" >&5
 $as_echo_n "checking if localtime_r seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -29714,14 +29728,13 @@
 /* includes end */"
   for ac_header in sys/types.h poll.h sys/poll.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_poll
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -29844,14 +29857,14 @@
     test "$tst_compi_poll" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if poll seems to work" >&5
 $as_echo_n "checking if poll seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -30158,14 +30171,13 @@
 /* includes end */"
   for ac_header in sys/types.h signal.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_signal
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -30631,14 +30643,13 @@
 /* includes end */"
   for ac_header in sys/types.h setjmp.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_setjmp
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -31747,14 +31758,14 @@
     test "$tst_glibc_strerror_r" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if strerror_r seems to work" >&5
 $as_echo_n "checking if strerror_r seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -31850,14 +31861,14 @@
     test "$tst_posix_strerror_r" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking if strerror_r seems to work" >&5
 $as_echo_n "checking if strerror_r seems to work... " >&6; }
     if test "$cross_compiling" = yes; then :
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run test program while cross compiling
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot run test program while cross compiling
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 
         $curl_includes_stdlib
@@ -33192,14 +33203,13 @@
 /* includes end */"
   for ac_header in sys/types.h sys/uio.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$curl_includes_sys_uio
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -33383,14 +33393,13 @@
   uname \
   utime
 
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 
 else
@@ -33442,14 +33451,13 @@
 
 
     for ac_header in sys/types.h sys/socket.h netdb.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -33764,14 +33772,13 @@
 
       for ac_header in stdio.h sys/types.h sys/socket.h \
                    netdb.h netinet/in.h arpa/inet.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
@@ -34181,13 +34188,13 @@
 $as_echo "yes" >&6; }
 
 else
 
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
-        as_fn_error "c-ares library defective or too old" "$LINENO" 5
+        as_fn_error $? "c-ares library defective or too old" "$LINENO" 5
                 CPPFLAGS="$clean_CPPFLAGS"
         LDFLAGS="$clean_LDFLAGS"
         LIBS="$clean_LIBS"
         # prevent usage
         want_ares="no"
 
@@ -34213,12 +34220,28 @@
 else
   USE_EMBEDDED_ARES_TRUE='#'
   USE_EMBEDDED_ARES_FALSE=
 fi
 
 
+if test "x$enable_shared" = "xyes"; then
+  build_libhostname=yes
+else
+  build_libhostname=no
+fi
+
+
+if test x$build_libhostname = xyes; then
+  BUILD_LIBHOSTNAME_TRUE=
+  BUILD_LIBHOSTNAME_FALSE='#'
+else
+  BUILD_LIBHOSTNAME_TRUE='#'
+  BUILD_LIBHOSTNAME_FALSE=
+fi
+
+
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable the threaded resolver" >&5
 $as_echo_n "checking whether to enable the threaded resolver... " >&6; }
   OPT_THRES="default"
   # Check whether --enable-threaded_resolver was given.
 if test "${enable_threaded_resolver+set}" = set; then :
@@ -34235,13 +34258,13 @@
   esac
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: $want_thres" >&5
 $as_echo "$want_thres" >&6; }
 
 
 if test "x$want_thres" = xyes && test "x$want_ares" = xyes; then
-  as_fn_error "Options --enable-threaded-resolver and --enable-ares are mutually exclusive" "$LINENO" 5
+  as_fn_error $? "Options --enable-threaded-resolver and --enable-ares are mutually exclusive" "$LINENO" 5
 fi
 
 if test "$want_thres" = "yes"; then
   ac_fn_c_check_header_mongrel "$LINENO" "pthread.h" "ac_cv_header_pthread_h" "$ac_includes_default"
 if test "x$ac_cv_header_pthread_h" = x""yes; then :
 
@@ -34514,12 +34538,15 @@
 else
   CROSSCOMPILING_TRUE='#'
   CROSSCOMPILING_FALSE=
 fi
 
 
+ENABLE_SHARED="$enable_shared"
+
+
 
 if test "x$USE_SSLEAY" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES SSL"
 elif test -n "$SSL_ENABLED"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES SSL"
 fi
@@ -34538,13 +34565,14 @@
 if test "x$IDN_ENABLED" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES IDN"
 fi
 if test "x$USE_WINDOWS_SSPI" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES SSPI"
 fi
-if test "x$USE_SSLEAY" = "x1" -o "x$USE_WINDOWS_SSPI" = "x1" -o "x$GNUTLS_ENABLED" = "x1"; then
+if test "x$USE_SSLEAY" = "x1" -o "x$USE_WINDOWS_SSPI" = "x1" \
+    -o "x$GNUTLS_ENABLED" = "x1" -o "x$NSS_ENABLED" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES NTLM"
 fi
 
 
 
 if test "x$CURL_DISABLE_HTTP" != "x1"; then
@@ -34620,12 +34648,13 @@
 squeeze LDFLAGS
 squeeze LIBS
 
 squeeze CURL_LIBS
 squeeze LIBCURL_LIBS
 squeeze TEST_SERVER_LIBS
+squeeze CURL_NETWORK_LIBS
 
 squeeze SUPPORT_FEATURES
 squeeze SUPPORT_PROTOCOLS
 
 if test "x$want_curldebug_assumed" = "xyes" &&
   test "x$want_curldebug" = "xyes" && test "x$USE_ARES" = "x1"; then
@@ -34714,12 +34743,13 @@
 test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
 
 DEFS=-DHAVE_CONFIG_H
 
 ac_libobjs=
 ac_ltlibobjs=
+U=
 for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
   # 1. Remove the extension, and $U if already installed.
   ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
   ac_i=`$as_echo "$ac_i" | sed "$ac_script"`
   # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
   #    will be set to the directory where LIBOBJS objects are built.
@@ -34729,61 +34759,65 @@
 LIBOBJS=$ac_libobjs
 
 LTLIBOBJS=$ac_ltlibobjs
 
 
 if test -z "${MAINTAINER_MODE_TRUE}" && test -z "${MAINTAINER_MODE_FALSE}"; then
-  as_fn_error "conditional \"MAINTAINER_MODE\" was never defined.
+  as_fn_error $? "conditional \"MAINTAINER_MODE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${AMDEP_TRUE}" && test -z "${AMDEP_FALSE}"; then
-  as_fn_error "conditional \"AMDEP\" was never defined.
+  as_fn_error $? "conditional \"AMDEP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
-  as_fn_error "conditional \"am__fastdepCC\" was never defined.
+  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${MIMPURE_TRUE}" && test -z "${MIMPURE_FALSE}"; then
-  as_fn_error "conditional \"MIMPURE\" was never defined.
+  as_fn_error $? "conditional \"MIMPURE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${STATICLIB_TRUE}" && test -z "${STATICLIB_FALSE}"; then
-  as_fn_error "conditional \"STATICLIB\" was never defined.
+  as_fn_error $? "conditional \"STATICLIB\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${STATICLIB_TRUE}" && test -z "${STATICLIB_FALSE}"; then
-  as_fn_error "conditional \"STATICLIB\" was never defined.
+  as_fn_error $? "conditional \"STATICLIB\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${NO_UNDEFINED_TRUE}" && test -z "${NO_UNDEFINED_FALSE}"; then
-  as_fn_error "conditional \"NO_UNDEFINED\" was never defined.
+  as_fn_error $? "conditional \"NO_UNDEFINED\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${CURLDEBUG_TRUE}" && test -z "${CURLDEBUG_FALSE}"; then
-  as_fn_error "conditional \"CURLDEBUG\" was never defined.
+  as_fn_error $? "conditional \"CURLDEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${HAVE_LIBZ_TRUE}" && test -z "${HAVE_LIBZ_FALSE}"; then
-  as_fn_error "conditional \"HAVE_LIBZ\" was never defined.
+  as_fn_error $? "conditional \"HAVE_LIBZ\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${USE_MANUAL_TRUE}" && test -z "${USE_MANUAL_FALSE}"; then
-  as_fn_error "conditional \"USE_MANUAL\" was never defined.
+  as_fn_error $? "conditional \"USE_MANUAL\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${USE_EMBEDDED_ARES_TRUE}" && test -z "${USE_EMBEDDED_ARES_FALSE}"; then
-  as_fn_error "conditional \"USE_EMBEDDED_ARES\" was never defined.
+  as_fn_error $? "conditional \"USE_EMBEDDED_ARES\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_LIBHOSTNAME_TRUE}" && test -z "${BUILD_LIBHOSTNAME_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_LIBHOSTNAME\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${SONAME_BUMP_TRUE}" && test -z "${SONAME_BUMP_FALSE}"; then
-  as_fn_error "conditional \"SONAME_BUMP\" was never defined.
+  as_fn_error $? "conditional \"SONAME_BUMP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${CROSSCOMPILING_TRUE}" && test -z "${CROSSCOMPILING_FALSE}"; then
-  as_fn_error "conditional \"CROSSCOMPILING\" was never defined.
+  as_fn_error $? "conditional \"CROSSCOMPILING\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 
 : ${CONFIG_STATUS=./config.status}
 ac_write_fail=0
 ac_clean_files_save=$ac_clean_files
@@ -34919,25 +34953,25 @@
 export LANGUAGE
 
 # CDPATH.
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
 
-# as_fn_error ERROR [LINENO LOG_FD]
-# ---------------------------------
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
 # Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
 # provided, also output the error to LOG_FD, referencing LINENO. Then exit the
-# script with status $?, using 1 if that was 0.
+# script with STATUS, using 1 if that was 0.
 as_fn_error ()
 {
-  as_status=$?; test $as_status -eq 0 && as_status=1
-  if test "$3"; then
-    as_lineno=${as_lineno-"$2"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-    $as_echo "$as_me:${as_lineno-$LINENO}: error: $1" >&$3
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
   fi
-  $as_echo "$as_me: error: $1" >&2
+  $as_echo "$as_me: error: $2" >&2
   as_fn_exit $as_status
 } # as_fn_error
 
 
 # as_fn_set_status STATUS
 # -----------------------
@@ -35127,13 +35161,13 @@
 	    q
 	  }
 	  s/.*/./; q'`
       test -d "$as_dir" && break
     done
     test -z "$as_dirs" || eval "mkdir $as_dirs"
-  } || test -d "$as_dir" || as_fn_error "cannot create directory $as_dir"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
 
 
 } # as_fn_mkdir_p
 if mkdir -p . 2>/dev/null; then
   as_mkdir_p='mkdir -p "$as_dir"'
 else
@@ -35181,13 +35215,13 @@
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 # Save the log message, to keep $0 and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
 This file was extended by curl $as_me -, which was
-generated by GNU Autoconf 2.65.  Invocation command line was
+generated by GNU Autoconf 2.67.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
   $ $0 $@
@@ -35247,16 +35281,16 @@
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
 curl config.status -
-configured by $0, generated by GNU Autoconf 2.65,
+configured by $0, generated by GNU Autoconf 2.67,
   with options \\"\$ac_cs_config\\"
 
-Copyright (C) 2009 Free Software Foundation, Inc.
+Copyright (C) 2010 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
 ac_pwd='$ac_pwd'
 srcdir='$srcdir'
 INSTALL='$INSTALL'
@@ -35267,17 +35301,22 @@
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 # The default lists apply if the user does not specify any file.
 ac_need_defaults=:
 while test $# != 0
 do
   case $1 in
-  --*=*)
+  --*=?*)
     ac_option=`expr "X$1" : 'X\([^=]*\)='`
     ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
     ac_shift=:
     ;;
+  --*=)
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=
+    ac_shift=:
+    ;;
   *)
     ac_option=$1
     ac_optarg=$2
     ac_shift=shift
     ;;
   esac
@@ -35293,34 +35332,35 @@
   --debug | --debu | --deb | --de | --d | -d )
     debug=: ;;
   --file | --fil | --fi | --f )
     $ac_shift
     case $ac_optarg in
     *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    '') as_fn_error $? "missing file argument" ;;
     esac
     as_fn_append CONFIG_FILES " '$ac_optarg'"
     ac_need_defaults=false;;
   --header | --heade | --head | --hea )
     $ac_shift
     case $ac_optarg in
     *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
     esac
     as_fn_append CONFIG_HEADERS " '$ac_optarg'"
     ac_need_defaults=false;;
   --he | --h)
     # Conflict between --help and --header
-    as_fn_error "ambiguous option: \`$1'
+    as_fn_error $? "ambiguous option: \`$1'
 Try \`$0 --help' for more information.";;
   --help | --hel | -h )
     $as_echo "$ac_cs_usage"; exit ;;
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil | --si | --s)
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) as_fn_error "unrecognized option: \`$1'
+  -*) as_fn_error $? "unrecognized option: \`$1'
 Try \`$0 --help' for more information." ;;
 
   *) as_fn_append ac_config_targets " $1"
      ac_need_defaults=false ;;
 
   esac
@@ -35658,13 +35698,13 @@
     "packages/AIX/Makefile") CONFIG_FILES="$CONFIG_FILES packages/AIX/Makefile" ;;
     "packages/AIX/RPM/Makefile") CONFIG_FILES="$CONFIG_FILES packages/AIX/RPM/Makefile" ;;
     "packages/AIX/RPM/curl.spec") CONFIG_FILES="$CONFIG_FILES packages/AIX/RPM/curl.spec" ;;
     "curl-config") CONFIG_FILES="$CONFIG_FILES curl-config" ;;
     "libcurl.pc") CONFIG_FILES="$CONFIG_FILES libcurl.pc" ;;
 
-  *) as_fn_error "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
+  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5 ;;
   esac
 done
 
 
 # If the user did not use the arguments to specify the items to instantiate,
 # then the envvar interface is used.  Set only those that are not.
@@ -35696,13 +35736,13 @@
   tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
   test -n "$tmp" && test -d "$tmp"
 }  ||
 {
   tmp=./conf$$-$RANDOM
   (umask 077 && mkdir "$tmp")
-} || as_fn_error "cannot create a temporary directory in ." "$LINENO" 5
+} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
 
 # Set up the scripts for CONFIG_FILES section.
 # No need to generate them if there are no CONFIG_FILES.
 # This happens for instance with `./config.status config.h'.
 if test -n "$CONFIG_FILES"; then
 
@@ -35713,13 +35753,13 @@
 # point, so we can use a bashism as a fallback.
 if test "x$ac_cr" = x; then
   eval ac_cr=\$\'\\r\'
 fi
 ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
 if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
-  ac_cs_awk_cr='\r'
+  ac_cs_awk_cr='\\r'
 else
   ac_cs_awk_cr=$ac_cr
 fi
 
 echo 'BEGIN {' >"$tmp/subs1.awk" &&
 _ACEOF
@@ -35727,24 +35767,24 @@
 
 {
   echo "cat >conf$$subs.awk <<_ACEOF" &&
   echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
   echo "_ACEOF"
 } >conf$$subs.sh ||
-  as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
-ac_delim_num=`echo "$ac_subst_vars" | grep -c '$'`
+  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
+ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   . ./conf$$subs.sh ||
-    as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
 
   ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
   if test $ac_delim_n = $ac_delim_num; then
     break
   elif $ac_last_try; then
-    as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
   else
     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
   fi
 done
 rm -f conf$$subs.sh
 
@@ -35827,26 +35867,34 @@
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
   sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
 else
   cat
 fi < "$tmp/subs1.awk" > "$tmp/subs.awk" \
-  || as_fn_error "could not setup config files machinery" "$LINENO" 5
+  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
 _ACEOF
 
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
+# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
+# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
 # trailing colons and then remove the whole line if VPATH becomes empty
 # (actually we leave an empty line to preserve line numbers).
 if test "x$srcdir" = x.; then
-  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
-s/:*\$(srcdir):*/:/
-s/:*\${srcdir}:*/:/
-s/:*@srcdir@:*/:/
-s/^\([^=]*=[	 ]*\):*/\1/
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
+h
+s///
+s/^/:/
+s/[	 ]*$/:/
+s/:\$(srcdir):/:/g
+s/:\${srcdir}:/:/g
+s/:@srcdir@:/:/g
+s/^:*//
 s/:*$//
+x
+s/\(=[	 ]*\).*/\1/
+G
+s/\n//
 s/^[^=]*=[	 ]*$//
 }'
 fi
 
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 fi # test -n "$CONFIG_FILES"
@@ -35868,13 +35916,13 @@
 ac_delim='%!_!# '
 for ac_last_try in false false :; do
   ac_t=`sed -n "/$ac_delim/p" confdefs.h`
   if test -z "$ac_t"; then
     break
   elif $ac_last_try; then
-    as_fn_error "could not make $CONFIG_HEADERS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
   else
     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
   fi
 done
 
 # For the awk script, D is an array of macro values keyed by name,
@@ -35953,26 +36001,26 @@
   }
 }
 { print }
 _ACAWK
 _ACEOF
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
-  as_fn_error "could not setup config headers machinery" "$LINENO" 5
+  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
 fi # test -n "$CONFIG_HEADERS"
 
 
 eval set X "  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS"
 shift
 for ac_tag
 do
   case $ac_tag in
   :[FHLC]) ac_mode=$ac_tag; continue;;
   esac
   case $ac_mode$ac_tag in
   :[FHL]*:*);;
-  :L* | :C*:*) as_fn_error "invalid tag \`$ac_tag'" "$LINENO" 5;;
+  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5 ;;
   :[FH]-) ac_tag=-:-;;
   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
   esac
   ac_save_IFS=$IFS
   IFS=:
   set x $ac_tag
@@ -35994,13 +36042,13 @@
 	 # because $ac_f cannot contain `:'.
 	 test -f "$ac_f" ||
 	   case $ac_f in
 	   [\\/$]*) false;;
 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
 	   esac ||
-	   as_fn_error "cannot find input file: \`$ac_f'" "$LINENO" 5;;
+	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5 ;;
       esac
       case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
       as_fn_append ac_file_inputs " '$ac_f'"
     done
 
     # Let's still pretend it is `configure' which instantiates (i.e., don't
@@ -36021,13 +36069,13 @@
        sed 's/[\\\\&|]/\\\\&/g'`;; #(
     *) ac_sed_conf_input=$configure_input;;
     esac
 
     case $ac_tag in
     *:-:* | *:-) cat >"$tmp/stdin" \
-      || as_fn_error "could not create $ac_file" "$LINENO" 5 ;;
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5  ;;
     esac
     ;;
   esac
 
   ac_dir=`$as_dirname -- "$ac_file" ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
@@ -36152,51 +36200,51 @@
 s&@abs_builddir@&$ac_abs_builddir&;t t
 s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
 s&@INSTALL@&$ac_INSTALL&;t t
 $ac_datarootdir_hack
 "
 eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$tmp/subs.awk" >$tmp/out \
-  || as_fn_error "could not create $ac_file" "$LINENO" 5
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
   { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined." >&5
+which seems to be undefined.  Please make sure it is defined" >&5
 $as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined." >&2;}
+which seems to be undefined.  Please make sure it is defined" >&2;}
 
   rm -f "$tmp/stdin"
   case $ac_file in
   -) cat "$tmp/out" && rm -f "$tmp/out";;
   *) rm -f "$ac_file" && mv "$tmp/out" "$ac_file";;
   esac \
-  || as_fn_error "could not create $ac_file" "$LINENO" 5
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
  ;;
   :H)
   #
   # CONFIG_HEADER
   #
   if test x"$ac_file" != x-; then
     {
       $as_echo "/* $configure_input  */" \
       && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs"
     } >"$tmp/config.h" \
-      || as_fn_error "could not create $ac_file" "$LINENO" 5
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
     if diff "$ac_file" "$tmp/config.h" >/dev/null 2>&1; then
       { $as_echo "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
 $as_echo "$as_me: $ac_file is unchanged" >&6;}
     else
       rm -f "$ac_file"
       mv "$tmp/config.h" "$ac_file" \
-	|| as_fn_error "could not create $ac_file" "$LINENO" 5
+	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
     fi
   else
     $as_echo "/* $configure_input  */" \
       && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs" \
-      || as_fn_error "could not create -" "$LINENO" 5
+      || as_fn_error $? "could not create -" "$LINENO" 5
   fi
 # Compute "$ac_file"'s index in $config_headers.
 _am_stamp_count=1
 for _am_header in $config_headers :; do
   case $_am_header in
     "$ac_file" | "$ac_file":* )
@@ -36968,13 +37016,13 @@
 
 as_fn_exit 0
 _ACEOF
 ac_clean_files=$ac_clean_files_save
 
 test $ac_write_fail = 0 ||
-  as_fn_error "write failure creating $CONFIG_STATUS" "$LINENO" 5
+  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5
 
 
 # configure is writing to config.log, and then calls config.status.
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
 # by configure, so config.status won't be able to write to it; its
@@ -36989,13 +37037,13 @@
     ac_config_status_args="$ac_config_status_args --quiet"
   exec 5>/dev/null
   $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
   # would make configure fail if this is the last instruction.
-  $ac_cs_success || as_fn_exit $?
+  $ac_cs_success || as_fn_exit 1
 fi
 
 #
 # CONFIG_SUBDIRS section.
 #
 if test "$no_recursion" != yes; then
@@ -37130,13 +37178,13 @@
 
       { $as_echo "$as_me:${as_lineno-$LINENO}: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
 $as_echo "$as_me: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
       # The eval makes quoting arguments work.
       eval "\$SHELL \"\$ac_sub_configure\" $ac_sub_configure_args \
 	   --cache-file=\"\$ac_sub_cache_file\" --srcdir=\"\$ac_srcdir\"" ||
-	as_fn_error "$ac_sub_configure failed for $ac_dir" "$LINENO" 5
+	as_fn_error $? "$ac_sub_configure failed for $ac_dir" "$LINENO" 5
     fi
 
     cd "$ac_popdir"
   done
 fi
 if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/configure.ac /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/configure.ac
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/configure.ac	2010-06-05 06:30:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/configure.ac	2010-08-10 17:19:27.000000000 +0800
@@ -37,62 +37,81 @@
 AM_CONFIG_HEADER(lib/curl_config.h src/curl_config.h include/curl/curlbuild.h)
 AM_MAINTAINER_MODE
 
 CURL_CHECK_OPTION_DEBUG
 CURL_CHECK_OPTION_OPTIMIZE
 CURL_CHECK_OPTION_WARNINGS
+CURL_CHECK_OPTION_WERROR
 CURL_CHECK_OPTION_CURLDEBUG
 CURL_CHECK_OPTION_ARES
 
 CURL_CHECK_PATH_SEPARATOR_REQUIRED
 
 #
 # save the configure arguments
 #
 CONFIGURE_OPTIONS="\"$ac_configure_args\""
 AC_SUBST(CONFIGURE_OPTIONS)
 
+CURL_CFLAG_EXTRAS=""
+if test X"$want_werror" == Xyes; then
+  CURL_CFLAG_EXTRAS="-Werror"
+fi
+AC_SUBST(CURL_CFLAG_EXTRAS)
+
 dnl SED is mandatory for configure process and libtool.
 dnl Set it now, allowing it to be changed later.
-AC_PATH_PROG([SED], [sed], [not_found],
-  [$PATH:/usr/bin:/usr/local/bin])
-if test -z "$SED" || test "$SED" = "not_found"; then
-  AC_MSG_ERROR([sed not found in PATH. Cannot continue without sed.])
+if test -z "$SED"; then
+  dnl allow it to be overridden
+  AC_PATH_PROG([SED], [sed], [not_found],
+    [$PATH:/usr/bin:/usr/local/bin])
+  if test -z "$SED" || test "$SED" = "not_found"; then
+    AC_MSG_ERROR([sed not found in PATH. Cannot continue without sed.])
+  fi
 fi
 AC_SUBST([SED])
 
 dnl GREP is mandatory for configure process and libtool.
 dnl Set it now, allowing it to be changed later.
-AC_PATH_PROG([GREP], [grep], [not_found],
-  [$PATH:/usr/bin:/usr/local/bin])
-if test -z "$GREP" || test "$GREP" = "not_found"; then
-  AC_MSG_ERROR([grep not found in PATH. Cannot continue without grep.])
+if test -z "$GREP"; then
+  dnl allow it to be overridden
+  AC_PATH_PROG([GREP], [grep], [not_found],
+    [$PATH:/usr/bin:/usr/local/bin])
+  if test -z "$GREP" || test "$GREP" = "not_found"; then
+    AC_MSG_ERROR([grep not found in PATH. Cannot continue without grep.])
+  fi
 fi
 AC_SUBST([GREP])
 
 dnl EGREP is mandatory for configure process and libtool.
 dnl Set it now, allowing it to be changed later.
-if echo a | ($GREP -E '(a|b)') >/dev/null 2>&1; then
-  AC_MSG_CHECKING([for egrep])
-  EGREP="$GREP -E"
-  AC_MSG_RESULT([$EGREP])
-else
-  AC_PATH_PROG([EGREP], [egrep], [not_found],
-    [$PATH:/usr/bin:/usr/local/bin])
+if test -z "$EGREP"; then
+  dnl allow it to be overridden
+  if echo a | ($GREP -E '(a|b)') >/dev/null 2>&1; then
+    AC_MSG_CHECKING([for egrep])
+    EGREP="$GREP -E"
+    AC_MSG_RESULT([$EGREP])
+  else
+    AC_PATH_PROG([EGREP], [egrep], [not_found],
+      [$PATH:/usr/bin:/usr/local/bin])
+  fi
 fi
 if test -z "$EGREP" || test "$EGREP" = "not_found"; then
   AC_MSG_ERROR([egrep not found in PATH. Cannot continue without egrep.])
 fi
 AC_SUBST([EGREP])
 
 dnl AR is mandatory for configure process and libtool.
 dnl This is target dependent, so check it as a tool.
-AC_PATH_TOOL([AR], [ar], [not_found],
-  [$PATH:/usr/bin:/usr/local/bin])
-if test -z "$AR" || test "$AR" = "not_found"; then
-  AC_MSG_ERROR([ar not found in PATH. Cannot continue without ar.])
+if test -z "$AR"; then
+  dnl allow it to be overridden
+  AC_PATH_TOOL([AR], [ar], [not_found],
+    [$PATH:/usr/bin:/usr/local/bin])
+  if test -z "$AR" || test "$AR" = "not_found"; then
+    AC_MSG_ERROR([ar not found in PATH. Cannot continue without ar.])
+  fi
 fi
 AC_SUBST([AR])
 
 AC_SUBST(libext)
 
 dnl Remove non-configure distributed curlbuild.h
@@ -206,12 +225,15 @@
     ;;
   *)
     ;;
 esac
 AC_MSG_RESULT($mimpure)
 AM_CONDITIONAL(MIMPURE, test x$mimpure = xyes)
+
+dnl 'STATICLIB' is, in spite of its name, not generic but only for static-only
+dnl builds on Windows
 AM_CONDITIONAL(STATICLIB, false)
 
 AC_MSG_CHECKING([if we need BUILDING_LIBCURL])
 case $host in
   *-*-mingw*)
     AC_DEFINE(BUILDING_LIBCURL, 1, [when building libcurl itself])
@@ -739,12 +761,14 @@
                -lnsl)
 fi
 ac_cv_func_strcasecmp="no"
 
 CURL_CHECK_LIBS_CONNECT
 
+CURL_NETWORK_LIBS=$LIBS
+
 dnl **********************************************************************
 dnl In case that function clock_gettime with monotonic timer is available,
 dnl check for additional required libraries.
 dnl **********************************************************************
 CURL_CHECK_LIBS_CLOCK_GETTIME_MONOTONIC
 
@@ -1959,13 +1983,15 @@
        dnl when the libssh2 shared libs were found in a path that the run-time
        dnl linker doesn't search through, we need to add it to LD_LIBRARY_PATH
        dnl to prevent further configure tests to fail due to this
 
        dnl libssh2_version is a post 1.0 addition
        dnl libssh2_init and libssh2_exit were added in 1.2.5
-       AC_CHECK_FUNCS( libssh2_version libssh2_init libssh2_exit)
+       dnl libssh2_scp_send64 was added in 1.2.6
+       AC_CHECK_FUNCS( libssh2_version libssh2_init libssh2_exit \
+                       libssh2_scp_send64 )
 
        LD_LIBRARY_PATH="$LD_LIBRARY_PATH:$DIR_SSH2"
        export LD_LIBRARY_PATH
        AC_MSG_NOTICE([Added $DIR_SSH2 to LD_LIBRARY_PATH])
     fi
   else
@@ -2432,12 +2458,19 @@
 dnl set variable for use in automakefile(s)
 AM_CONDITIONAL(USE_MANUAL, test x"$USE_MANUAL" = x1)
 
 CURL_CHECK_LIB_ARES
 AM_CONDITIONAL(USE_EMBEDDED_ARES, test x$embedded_ares = xyes)
 
+if test "x$enable_shared" = "xyes"; then
+  build_libhostname=yes
+else
+  build_libhostname=no
+fi
+AM_CONDITIONAL(BUILD_LIBHOSTNAME, test x$build_libhostname = xyes)
+
 CURL_CHECK_OPTION_THREADED_RESOLVER
 
 if test "x$want_thres" = xyes && test "x$want_ares" = xyes; then
   AC_MSG_ERROR(
 [Options --enable-threaded-resolver and --enable-ares are mutually exclusive])
 fi
@@ -2624,16 +2657,21 @@
 dnl
 LIBCURL_LIBS=$LIBS
 
 AC_SUBST(LIBCURL_LIBS)
 AC_SUBST(CURL_LIBS)
 AC_SUBST(TEST_SERVER_LIBS)
+AC_SUBST(CURL_NETWORK_LIBS)
 LIBS=$ALL_LIBS  dnl LIBS is a magic variable that's used for every link
 
 AM_CONDITIONAL(CROSSCOMPILING, test x$cross_compiling = xyes)
 
+dnl yes or no
+ENABLE_SHARED="$enable_shared"
+AC_SUBST(ENABLE_SHARED)
+
 dnl
 dnl For keeping supported features and protocols also in pkg-config file
 dnl since it is more cross-compile frient than curl-config
 dnl
 
 if test "x$USE_SSLEAY" = "x1"; then
@@ -2656,13 +2694,14 @@
 if test "x$IDN_ENABLED" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES IDN"
 fi
 if test "x$USE_WINDOWS_SSPI" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES SSPI"
 fi
-if test "x$USE_SSLEAY" = "x1" -o "x$USE_WINDOWS_SSPI" = "x1" -o "x$GNUTLS_ENABLED" = "x1"; then
+if test "x$USE_SSLEAY" = "x1" -o "x$USE_WINDOWS_SSPI" = "x1" \
+    -o "x$GNUTLS_ENABLED" = "x1" -o "x$NSS_ENABLED" = "x1"; then
   SUPPORT_FEATURES="$SUPPORT_FEATURES NTLM"
 fi
 
 AC_SUBST(SUPPORT_FEATURES)
 
 dnl For supported protocols in pkg-config file
@@ -2743,12 +2782,13 @@
 squeeze LDFLAGS
 squeeze LIBS
 
 squeeze CURL_LIBS
 squeeze LIBCURL_LIBS
 squeeze TEST_SERVER_LIBS
+squeeze CURL_NETWORK_LIBS
 
 squeeze SUPPORT_FEATURES
 squeeze SUPPORT_PROTOCOLS
 
 if test "x$want_curldebug_assumed" = "xyes" &&
   test "x$want_curldebug" = "xyes" && test "x$USE_ARES" = "x1"; then
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/curl-config.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/curl-config.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/curl-config.in	2010-03-24 20:41:07.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/curl-config.in	2010-08-02 02:35:13.000000000 +0800
@@ -3,13 +3,13 @@
 #                                  _   _ ____  _
 #  Project                     ___| | | |  _ \| |
 #                             / __| | | | |_) | |
 #                            | (__| |_| |  _ <| |___
 #                             \___|\___/|_| \_\_____|
 #
-# Copyright (C) 2001 - 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+# Copyright (C) 2001 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
 #
 # This software is licensed as described in the file COPYING, which
 # you should have received as part of this distribution. The terms
 # are also available at http://curl.haxx.se/docs/copyright.html.
 #
 # You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -29,12 +29,13 @@
 {
     cat <<EOF
 Usage: curl-config [OPTION]
 
 Available values for OPTION include:
 
+  --built-shared says 'yes' if libcurl was built shared
   --ca        ca bundle install path
   --cc        compiler
   --cflags    pre-processor and compiler flags
   --checkfor [version] check for (lib)curl of the specified version
   --configure the arguments given to configure when building curl
   --features  newline separated list of enabled features
@@ -61,12 +62,16 @@
     # [not currently used]
     -*=*) value=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
     *) value= ;;
     esac
 
     case "$1" in
+    --built-shared)
+        echo @ENABLE_SHARED@
+        ;;
+
     --ca)
 	echo "@CURL_CA_BUNDLE@"
 	;;
 
     --cc)
 	echo "@CC@"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/CONTRIBUTE /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/CONTRIBUTE
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/CONTRIBUTE	2010-05-11 20:01:28.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/CONTRIBUTE	2010-06-27 05:16:53.000000000 +0800
@@ -265,13 +265,13 @@
 
   ---- start ----
   [area]: [short line describing the main effect]
 
   [separate the above single line from the rest with an empty line]
 
-  [full description, no wider than 65 columns that describe as much as
+  [full description, no wider than 72 columns that describe as much as
   possible as to why this change is made, and possibly what things
   it fixes and everything else that is related]
    ---- stop ----
 
   Don't forget to use commit --author="" if you commit someone else's work,
   and make sure that you have your own user and email setup correctly in git
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/curl-config.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/curl-config.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/curl.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/curl.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/chkspeed.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/chkspeed.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/chkspeed.c	2010-03-24 20:41:07.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/chkspeed.c	2010-08-03 05:45:56.000000000 +0800
@@ -37,21 +37,23 @@
 #define CHKSPEED_VERSION "1.0"
 
 static size_t WriteCallback(void *ptr, size_t size, size_t nmemb, void *data)
 {
   /* we are not interested in the downloaded bytes itself,
      so we only return the size we would have saved ... */
+  (void)ptr;  /* unused */
+  (void)data; /* unused */
   return (size_t)(size * nmemb);
 }
 
 int main(int argc, char *argv[])
 {
   CURL *curl_handle;
   CURLcode res;
   int prtsep = 0, prttime = 0;
-  char *url = URL_1M;
+  const char *url = URL_1M;
   char *appname = argv[0];
 
   if (argc > 1) {
     /* parse input parameters */
     for (argc--, argv++; *argv; argc--, argv++) {
       if (strncasecmp(*argv, "-", 1) == 0) {
@@ -132,23 +134,23 @@
 
   if(CURLE_OK == res) {
     double val;
 
     /* check for bytes downloaded */
     res = curl_easy_getinfo(curl_handle, CURLINFO_SIZE_DOWNLOAD, &val);
-    if((CURLE_OK == res) && val)
+    if((CURLE_OK == res) && (val>0))
       printf("Data downloaded: %0.0f bytes.\n", val);
 
     /* check for total download time */
     res = curl_easy_getinfo(curl_handle, CURLINFO_TOTAL_TIME, &val);
-    if((CURLE_OK == res) && val)
+    if((CURLE_OK == res) && (val>0))
       printf("Total download time: %0.3f sec.\n", val);
 
     /* check for average download speed */
     res = curl_easy_getinfo(curl_handle, CURLINFO_SPEED_DOWNLOAD, &val);
-    if((CURLE_OK == res) && val)
+    if((CURLE_OK == res) && (val>0))
       printf("Average download speed: %0.3f kbyte/sec.\n", val / 1024);
 
   } else {
     fprintf(stderr, "Error while fetching '%s' : %s\n",
             url, curl_easy_strerror(res));
   }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/fopen.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/fopen.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/fopen.c	2010-04-24 18:18:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/fopen.c	2010-07-14 06:32:16.000000000 +0800
@@ -141,20 +141,31 @@
         return 0;
 
     /* attempt to fill buffer */
     do
     {
         int maxfd = -1;
+        long curl_timeo = -1;
+
         FD_ZERO(&fdread);
         FD_ZERO(&fdwrite);
         FD_ZERO(&fdexcep);
 
         /* set a suitable timeout to fail on */
         timeout.tv_sec = 60; /* 1 minute */
         timeout.tv_usec = 0;
 
+        curl_multi_timeout(multi_handle, &curl_timeo);
+        if(curl_timeo >= 0) {
+          timeout.tv_sec = curl_timeo / 1000;
+          if(timeout.tv_sec > 1)
+            timeout.tv_sec = 1;
+          else
+            timeout.tv_usec = (curl_timeo % 1000) * 1000;
+        }
+
         /* get file descriptors from the transfers */
         curl_multi_fdset(multi_handle, &fdread, &fdwrite, &fdexcep, &maxfd);
 
         /* In a real-world program you OF COURSE check the return code of the
            function calls.  On success, the value of maxfd is guaranteed to be
            greater or equal than -1.  We call select(maxfd + 1, ...), specially
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples: ftp-wildcard.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -48,13 +48,13 @@
 	multi-app$(EXEEXT) multi-debugcallback$(EXEEXT) \
 	multi-double$(EXEEXT) multi-post$(EXEEXT) \
 	multi-single$(EXEEXT) persistant$(EXEEXT) \
 	post-callback$(EXEEXT) postit2$(EXEEXT) sepheaders$(EXEEXT) \
 	simple$(EXEEXT) simplepost$(EXEEXT) simplessl$(EXEEXT) \
 	sendrecv$(EXEEXT) httpcustomheader$(EXEEXT) certinfo$(EXEEXT) \
-	chkspeed$(EXEEXT) ftpgetinfo$(EXEEXT)
+	chkspeed$(EXEEXT) ftpgetinfo$(EXEEXT) ftp-wildcard$(EXEEXT)
 subdir = docs/examples
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/curl-compilers.m4 \
 	$(top_srcdir)/m4/curl-confopts.m4 \
 	$(top_srcdir)/m4/curl-functions.m4 \
 	$(top_srcdir)/m4/curl-override.m4 \
@@ -99,12 +99,16 @@
 fileupload_LDADD = $(LDADD)
 fileupload_DEPENDENCIES = $(LIBDIR)/libcurl.la
 fopen_SOURCES = fopen.c
 fopen_OBJECTS = fopen.$(OBJEXT)
 fopen_LDADD = $(LDADD)
 fopen_DEPENDENCIES = $(LIBDIR)/libcurl.la
+ftp_wildcard_SOURCES = ftp-wildcard.c
+ftp_wildcard_OBJECTS = ftp-wildcard.$(OBJEXT)
+ftp_wildcard_LDADD = $(LDADD)
+ftp_wildcard_DEPENDENCIES = $(LIBDIR)/libcurl.la
 ftpget_SOURCES = ftpget.c
 ftpget_OBJECTS = ftpget.$(OBJEXT)
 ftpget_LDADD = $(LDADD)
 ftpget_DEPENDENCIES = $(LIBDIR)/libcurl.la
 ftpgetinfo_SOURCES = ftpgetinfo.c
 ftpgetinfo_OBJECTS = ftpgetinfo.$(OBJEXT)
@@ -203,23 +207,23 @@
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = 10-at-a-time.c anyauthput.c certinfo.c chkspeed.c \
-	cookie_interface.c debug.c fileupload.c fopen.c ftpget.c \
-	ftpgetinfo.c ftpgetresp.c ftpupload.c getinfo.c getinmemory.c \
-	http-post.c httpcustomheader.c httpput.c https.c multi-app.c \
-	multi-debugcallback.c multi-double.c multi-post.c \
+	cookie_interface.c debug.c fileupload.c fopen.c ftp-wildcard.c \
+	ftpget.c ftpgetinfo.c ftpgetresp.c ftpupload.c getinfo.c \
+	getinmemory.c http-post.c httpcustomheader.c httpput.c https.c \
+	multi-app.c multi-debugcallback.c multi-double.c multi-post.c \
 	multi-single.c persistant.c post-callback.c postit2.c \
 	sendrecv.c sepheaders.c simple.c simplepost.c simplessl.c
 DIST_SOURCES = 10-at-a-time.c anyauthput.c certinfo.c chkspeed.c \
-	cookie_interface.c debug.c fileupload.c fopen.c ftpget.c \
-	ftpgetinfo.c ftpgetresp.c ftpupload.c getinfo.c getinmemory.c \
-	http-post.c httpcustomheader.c httpput.c https.c multi-app.c \
-	multi-debugcallback.c multi-double.c multi-post.c \
+	cookie_interface.c debug.c fileupload.c fopen.c ftp-wildcard.c \
+	ftpget.c ftpgetinfo.c ftpgetresp.c ftpupload.c getinfo.c \
+	getinmemory.c http-post.c httpcustomheader.c httpput.c https.c \
+	multi-app.c multi-debugcallback.c multi-double.c multi-post.c \
 	multi-single.c persistant.c post-callback.c postit2.c \
 	sendrecv.c sepheaders.c simple.c simplepost.c simplessl.c
 ETAGS = etags
 CTAGS = ctags
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
@@ -229,23 +233,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = -DCURL_NO_OLDIES $(STATICCPPFLAGS)
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -254,22 +261,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
@@ -422,16 +431,15 @@
 
 # Dependencies
 LDADD = $(LIBDIR)/libcurl.la
 
 # These examples require external dependencies that may not be commonly
 # available on POSIX systems, so don't bother attempting to compile them here.
-COMPLICATED_EXAMPLES = \
- curlgtk.c curlx.c htmltitle.cc cacertinmem.c ftpuploadresume.c \
- ghiper.c hiperfifo.c htmltidy.c multithread.c \
- opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c
+COMPLICATED_EXAMPLES = curlgtk.c curlx.c htmltitle.cc cacertinmem.c	   \
+  ftpuploadresume.c ghiper.c hiperfifo.c htmltidy.c multithread.c	   \
+  opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c
 
 all: all-am
 
 .SUFFIXES:
 .SUFFIXES: .c .lo .o .obj
 $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am $(srcdir)/Makefile.inc $(am__configure_deps)
@@ -491,12 +499,15 @@
 fileupload$(EXEEXT): $(fileupload_OBJECTS) $(fileupload_DEPENDENCIES) 
 	@rm -f fileupload$(EXEEXT)
 	$(LINK) $(fileupload_LDFLAGS) $(fileupload_OBJECTS) $(fileupload_LDADD) $(LIBS)
 fopen$(EXEEXT): $(fopen_OBJECTS) $(fopen_DEPENDENCIES) 
 	@rm -f fopen$(EXEEXT)
 	$(LINK) $(fopen_LDFLAGS) $(fopen_OBJECTS) $(fopen_LDADD) $(LIBS)
+ftp-wildcard$(EXEEXT): $(ftp_wildcard_OBJECTS) $(ftp_wildcard_DEPENDENCIES) 
+	@rm -f ftp-wildcard$(EXEEXT)
+	$(LINK) $(ftp_wildcard_LDFLAGS) $(ftp_wildcard_OBJECTS) $(ftp_wildcard_LDADD) $(LIBS)
 ftpget$(EXEEXT): $(ftpget_OBJECTS) $(ftpget_DEPENDENCIES) 
 	@rm -f ftpget$(EXEEXT)
 	$(LINK) $(ftpget_LDFLAGS) $(ftpget_OBJECTS) $(ftpget_LDADD) $(LIBS)
 ftpgetinfo$(EXEEXT): $(ftpgetinfo_OBJECTS) $(ftpgetinfo_DEPENDENCIES) 
 	@rm -f ftpgetinfo$(EXEEXT)
 	$(LINK) $(ftpgetinfo_LDFLAGS) $(ftpgetinfo_OBJECTS) $(ftpgetinfo_LDADD) $(LIBS)
@@ -575,12 +586,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/certinfo.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/chkspeed.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cookie_interface.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/debug.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fileupload.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fopen.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ftp-wildcard.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ftpget.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ftpgetinfo.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ftpgetresp.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ftpupload.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/getinfo.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/getinmemory.Po@am__quote@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/Makefile.inc	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/Makefile.inc	2010-06-25 05:39:49.000000000 +0800
@@ -1,16 +1,12 @@
 # These are all libcurl example programs to be test compiled
-check_PROGRAMS = 10-at-a-time anyauthput cookie_interface \
-  debug fileupload fopen ftpget ftpgetresp ftpupload \
-  getinfo getinmemory http-post httpput \
-  https multi-app multi-debugcallback multi-double \
-  multi-post multi-single persistant post-callback \
-  postit2 sepheaders simple simplepost simplessl \
-  sendrecv httpcustomheader certinfo chkspeed ftpgetinfo
+check_PROGRAMS = 10-at-a-time anyauthput cookie_interface debug fileupload \
+  fopen ftpget ftpgetresp ftpupload getinfo getinmemory http-post httpput  \
+  https multi-app multi-debugcallback multi-double multi-post multi-single \
+  persistant post-callback postit2 sepheaders simple simplepost simplessl  \
+  sendrecv httpcustomheader certinfo chkspeed ftpgetinfo ftp-wildcard
 
 # These examples require external dependencies that may not be commonly
 # available on POSIX systems, so don't bother attempting to compile them here.
-COMPLICATED_EXAMPLES = \
- curlgtk.c curlx.c htmltitle.cc cacertinmem.c ftpuploadresume.c \
- ghiper.c hiperfifo.c htmltidy.c multithread.c \
- opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c
-
+COMPLICATED_EXAMPLES = curlgtk.c curlx.c htmltitle.cc cacertinmem.c	   \
+  ftpuploadresume.c ghiper.c hiperfifo.c htmltidy.c multithread.c	   \
+  opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-app.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-app.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-app.c	2010-04-24 18:18:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-app.c	2010-07-14 06:32:04.000000000 +0800
@@ -65,20 +65,31 @@
 
     fd_set fdread;
     fd_set fdwrite;
     fd_set fdexcep;
     int maxfd = -1;
 
+    long curl_timeo = -1;
+
     FD_ZERO(&fdread);
     FD_ZERO(&fdwrite);
     FD_ZERO(&fdexcep);
 
     /* set a suitable timeout to play around with */
     timeout.tv_sec = 1;
     timeout.tv_usec = 0;
 
+    curl_multi_timeout(multi_handle, &curl_timeo);
+    if(curl_timeo >= 0) {
+      timeout.tv_sec = curl_timeo / 1000;
+      if(timeout.tv_sec > 1)
+        timeout.tv_sec = 1;
+      else
+        timeout.tv_usec = (curl_timeo % 1000) * 1000;
+    }
+
     /* get file descriptors from the transfers */
     curl_multi_fdset(multi_handle, &fdread, &fdwrite, &fdexcep, &maxfd);
 
     /* In a real-world program you OF COURSE check the return code of the
        function calls.  On success, the value of maxfd is guaranteed to be
        greater or equal than -1.  We call select(maxfd + 1, ...), specially in
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-debugcallback.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-debugcallback.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-debugcallback.c	2010-04-24 18:18:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-debugcallback.c	2010-07-14 06:32:00.000000000 +0800
@@ -139,20 +139,31 @@
 
     fd_set fdread;
     fd_set fdwrite;
     fd_set fdexcep;
     int maxfd = -1;
 
+    long curl_timeo = -1;
+
     FD_ZERO(&fdread);
     FD_ZERO(&fdwrite);
     FD_ZERO(&fdexcep);
 
     /* set a suitable timeout to play around with */
     timeout.tv_sec = 1;
     timeout.tv_usec = 0;
 
+    curl_multi_timeout(multi_handle, &curl_timeo);
+    if(curl_timeo >= 0) {
+      timeout.tv_sec = curl_timeo / 1000;
+      if(timeout.tv_sec > 1)
+        timeout.tv_sec = 1;
+      else
+        timeout.tv_usec = (curl_timeo % 1000) * 1000;
+    }
+
     /* get file descriptors from the transfers */
     curl_multi_fdset(multi_handle, &fdread, &fdwrite, &fdexcep, &maxfd);
 
     /* In a real-world program you OF COURSE check the return code of the
        function calls.  On success, the value of maxfd is guaranteed to be
        greater or equal than -1.  We call select(maxfd + 1, ...), specially in
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-double.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-double.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-double.c	2010-04-24 18:18:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-double.c	2010-07-14 06:31:41.000000000 +0800
@@ -56,20 +56,31 @@
 
     fd_set fdread;
     fd_set fdwrite;
     fd_set fdexcep;
     int maxfd = -1;
 
+    long curl_timeo = -1;
+
     FD_ZERO(&fdread);
     FD_ZERO(&fdwrite);
     FD_ZERO(&fdexcep);
 
     /* set a suitable timeout to play around with */
     timeout.tv_sec = 1;
     timeout.tv_usec = 0;
 
+    curl_multi_timeout(multi_handle, &curl_timeo);
+    if(curl_timeo >= 0) {
+      timeout.tv_sec = curl_timeo / 1000;
+      if(timeout.tv_sec > 1)
+        timeout.tv_sec = 1;
+      else
+        timeout.tv_usec = (curl_timeo % 1000) * 1000;
+    }
+
     /* get file descriptors from the transfers */
     curl_multi_fdset(multi_handle, &fdread, &fdwrite, &fdexcep, &maxfd);
 
     /* In a real-world program you OF COURSE check the return code of the
        function calls.  On success, the value of maxfd is guaranteed to be
        greater or equal than -1.  We call select(maxfd + 1, ...), specially in
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-post.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-post.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-post.c	2010-04-24 18:18:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-post.c	2010-07-14 06:31:34.000000000 +0800
@@ -76,20 +76,31 @@
 
       fd_set fdread;
       fd_set fdwrite;
       fd_set fdexcep;
       int maxfd = -1;
 
+      long curl_timeo = -1;
+
       FD_ZERO(&fdread);
       FD_ZERO(&fdwrite);
       FD_ZERO(&fdexcep);
 
       /* set a suitable timeout to play around with */
       timeout.tv_sec = 1;
       timeout.tv_usec = 0;
 
+      curl_multi_timeout(multi_handle, &curl_timeo);
+      if(curl_timeo >= 0) {
+        timeout.tv_sec = curl_timeo / 1000;
+        if(timeout.tv_sec > 1)
+          timeout.tv_sec = 1;
+        else
+          timeout.tv_usec = (curl_timeo % 1000) * 1000;
+      }
+
       /* get file descriptors from the transfers */
       curl_multi_fdset(multi_handle, &fdread, &fdwrite, &fdexcep, &maxfd);
 
       /* In a real-world program you OF COURSE check the return code of the
          function calls.  On success, the value of maxfd is guaranteed to be
          greater or equal than -1.  We call select(maxfd + 1, ...), specially in
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-single.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-single.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/examples/multi-single.c	2010-04-24 18:18:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/examples/multi-single.c	2010-07-14 06:31:15.000000000 +0800
@@ -50,20 +50,31 @@
 
     fd_set fdread;
     fd_set fdwrite;
     fd_set fdexcep;
     int maxfd = -1;
 
+    long curl_timeo = -1;
+
     FD_ZERO(&fdread);
     FD_ZERO(&fdwrite);
     FD_ZERO(&fdexcep);
 
     /* set a suitable timeout to play around with */
     timeout.tv_sec = 1;
     timeout.tv_usec = 0;
 
+    curl_multi_timeout(multi_handle, &curl_timeo);
+    if(curl_timeo >= 0) {
+      timeout.tv_sec = curl_timeo / 1000;
+      if(timeout.tv_sec > 1)
+        timeout.tv_sec = 1;
+      else
+        timeout.tv_usec = (curl_timeo % 1000) * 1000;
+    }
+
     /* get file descriptors from the transfers */
     curl_multi_fdset(multi_handle, &fdread, &fdwrite, &fdexcep, &maxfd);
 
     /* In a real-world program you OF COURSE check the return code of the
        function calls.  On success, the value of maxfd is guaranteed to be
        greater or equal than -1.  We call select(maxfd + 1, ...), specially in
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/FAQ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/FAQ
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/FAQ	2010-03-22 07:31:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/FAQ	2010-08-11 15:16:00.000000000 +0800
@@ -1,7 +1,7 @@
-Updated: Nov 7, 2009 (http://curl.haxx.se/docs/faq.html)
+Updated: June 30, 2010 (http://curl.haxx.se/docs/faq.html)
                                   _   _ ____  _
                               ___| | | |  _ \| |
                              / __| | | | |_) | |
                             | (__| |_| |  _ <| |___
                              \___|\___/|_| \_\_____|
 
@@ -71,22 +71,23 @@
   4.13 Why is curl -R on Windows one hour off?
   4.14 Redirects work in browser but not with curl!
   4.15 FTPS doesn't work
   4.16 My HTTP POST or PUT requests are slow!
   4.17 Non-functional connect timeouts on Windows
   4.18 file:// URLs containing drive letters (Windows, NetWare)
+  4.19 Why doesn't cURL return an error when the network cable is unplugged?
 
  5. libcurl Issues
   5.1 Is libcurl thread-safe?
   5.2 How can I receive all data into a large memory chunk?
   5.3 How do I fetch multiple files with libcurl?
   5.4 Does libcurl do Winsock initing on win32 systems?
   5.5 Does CURLOPT_WRITEDATA and CURLOPT_READDATA work on win32 ?
   5.6 What about Keep-Alive or persistent connections?
   5.7 Link errors when building libcurl on Windows!
-  5.8 libcurl.so.3: open failed: No such file or directory
+  5.8 libcurl.so.X: open failed: No such file or directory
   5.9 How does libcurl resolve host names?
   5.10 How do I prevent libcurl from writing the response to stdout?
   5.11 How do I make libcurl not receive the whole HTTP response?
   5.12 Can I make libcurl fake or hide my real IP address?
   5.13 How do I stop an ongoing transfer?
   5.14 Using C++ non-static functions for callbacks?
@@ -396,16 +397,16 @@
     See the INSTALL file section that explains how to add those libs to
     configure. Make sure that you remove the config.cache file before you
     rerun configure with the new flags.
 
   2.2 Does curl work/build with other SSL libraries?
 
-  Curl has been written to use OpenSSL, GnuTLS, yassl or NSS, although there
-  should not be many problems using a different library. If anyone does "port"
-  curl to use a different SSL library, we are of course very interested in
-  getting the patch!
+  Curl has been written to use OpenSSL, GnuTLS, yassl, NSS or PolarSSL,
+  although there should not be many problems using a different library. If
+  anyone does "port" curl to use a different SSL library, we are of course
+  very interested in getting the patch!
 
   2.3 Where can I find a copy of LIBEAY32.DLL?
 
   That is an OpenSSL binary built for Windows.
 
   Curl uses OpenSSL to do the SSL stuff. The LIBEAY32.DLL is what curl needs
@@ -941,12 +942,37 @@
   component:
 
   file://localhost/D:/blah.txt
 
   In either case, cURL should now be looking for the correct file.
 
+  4.19 Why doesn't cURL return an error when the network cable is unplugged?
+
+  Unplugging the cable is not an error situation. The TCP/IP protocol stack
+  was designed to be fault tolerant, so even though there may be a physical
+  break somewhere the connection shouldn't be affected, just possibly
+  delayed.  Eventually, the physical break will be fixed or the data will be
+  re-routed around the physical problem.
+
+  In such cases, the TCP/IP stack is responsible for detecting when the
+  network connection is irrevocably lost. Since with some protocols it is
+  perfectly legal for the client wait indefinitely for data, the stack may
+  never report a problem, and even when it does, it can take up to 20 minutes
+  for it to detect an issue.  The curl option --keepalive-time enables
+  keep-alive support in the TCP/IP stack which makes it periodically probe the
+  connection to make sure it is still available to send data. That should
+  reliably detect any TCP/IP network failure.
+
+  But even that won't detect the network going down before the TCP/IP
+  connection is established (e.g. during a DNS lookup) or using protocols that
+  don't use TCP.  To handle those situations, curl offers a number of timeouts
+  on its own. --speed-limit/--speed-time will abort if the data transfer rate
+  falls too low, and --connect-timeout and --max-time can be used to put an
+  overall timeout on the connection phase or the entire transfer.
+
+
 5. libcurl Issues
 
   5.1 Is libcurl thread-safe?
 
   Yes.
 
@@ -1055,19 +1081,20 @@
   MingW:           libcurl.a     libcurldll.a
   MSVC (release):  libcurl.lib   libcurl_imp.lib
   MSVC (debug):    libcurld.lib  libcurld_imp.lib
   Borland:         libcurl.lib   libcurl_imp.lib
 
 
-  5.8 libcurl.so.3: open failed: No such file or directory
+  5.8 libcurl.so.X: open failed: No such file or directory
 
   This is an error message you might get when you try to run a program linked
   with a shared version of libcurl and your run-time linker (ld.so) couldn't
-  find the shared library named libcurl.so.3.
+  find the shared library named libcurl.so.X. (Where X is the number of the
+  current libcurl ABI, typically 3 or 4).
 
-  You need to make sure that ld.so finds libcurl.so.3. You can do that
+  You need to make sure that ld.so finds libcurl.so.X. You can do that
   multiple ways, and it differs somewhat between different operating systems,
   but they are usually:
 
   * Add an option to the linker command line that specify the hard-coded path
     the run-time linker should check for the lib (usually -R)
 
@@ -1097,16 +1124,16 @@
   - The ipv6-resolver that uses getaddrinfo()
 
   - The c-ares based name resolver that uses the c-ares library for resolves.
     Using this offers asynchronous name resolves but it currently has no IPv6
     support.
 
-  - The Windows threaded resolver. It use:
+  - The threaded resolver (default option on Windows). It uses:
 
-    A - gethostbyname() on plain ipv4 windows hosts
-    B - getaddrinfo() on ipv6-enabled windows hosts
+    A - gethostbyname() on plain ipv4 hosts
+    B - getaddrinfo() on ipv6-enabled hosts
 
   Also note that libcurl never resolves or reverse-lookups addresses given as
   pure numbers, such as 127.0.0.1 or ::1.
 
   5.10 How do I prevent libcurl from writing the response to stdout?
 
@@ -1179,13 +1206,15 @@
   the NLST output doesn't reveal any types and in many cases don't even
   include all the directory entries. Also, both LIST and NLST tend to hide
   unix-style hidden files (those that start with a dot) by default so you need
   to do "LIST -a" or similar to see them.
 
   The application thus needs to parse the LIST output. One such existing
-  list parser is available at http://cr.yp.to/ftpparse.html
+  list parser is available at http://cr.yp.to/ftpparse.html  Versions of
+  libcurl since 7.21.0 also provide the ability to specify a wildcard to
+  download multiple files from one FTP directory.
 
 
 6. License Issues
 
   Curl and libcurl are released under a MIT/X derivate license. The license is
   very liberal and should not impose a problem for your project. This section
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/FEATURES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/FEATURES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/FEATURES	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/FEATURES	2010-08-02 02:35:13.000000000 +0800
@@ -40,13 +40,13 @@
  - GET
  - PUT
  - HEAD
  - POST
  - Pipelining
  - multipart formpost (RFC1867-style)
- - authentication: Basic, Digest, NTLM(*1), GSS-Negotiate/Negotiate(*3) and
+ - authentication: Basic, Digest, NTLM(*9), GSS-Negotiate/Negotiate(*3) and
    SPNEGO (*4) to server and proxy
  - resume (both GET and PUT)
  - follow redirects
  - maximum amount of redirects to follow
  - custom HTTP request
  - cookie get/send fully parsed
@@ -122,14 +122,15 @@
  - "uploads"
  - resume
 
 FOOTNOTES
 =========
 
-  *1 = requires OpenSSL, GnuTLS, NSS or yassl
+  *1 = requires OpenSSL, GnuTLS, NSS, yassl or PolarSSL
   *2 = requires OpenLDAP
   *3 = requires a GSSAPI-compliant library, such as Heimdal or similar.
   *4 = requires FBopenssl
   *5 = requires a krb4 library, such as the MIT one or similar.
   *6 = requires c-ares
   *7 = requires OpenSSL or NSS, as GnuTLS only supports SSLv3 and TLSv1
   *8 = requires libssh2
+  *9 = requires OpenSSL, GnuTLS, NSS or yassl
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/HISTORY /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/HISTORY
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/HISTORY	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/HISTORY	2010-08-11 06:49:43.000000000 +0800
@@ -154,12 +154,20 @@
 September 2005:
 
  TFTP support was added.
 
  More than 100,000 unique visitors of the curl web site. 25 mirrors.
 
+December 2005:
+
+ security vulnerability: libcurl URL Buffer Overflow
+
+March 2006:
+
+ security vulnerability: libcurl TFTP Packet Buffer Overflow
+
 April 2006:
 
  Added the multi_socket() API
 
 September 2006:
 
@@ -171,16 +179,59 @@
  Added SCP and SFTP support
 
 February 2007:
 
  Added support for the Mozilla NSS library to do the SSL/TLS stuff
 
+July 2007:
+
+ security vulnerability: libcurl GnuTLS insufficient cert verification
+
 November 2008:
 
  Command line options:         128
  curl_easy_setopt() options:   158
  Public functions in libcurl:  58
  Known libcurl bindings:       37
  Contributors:                 683
 
  145,000 unique visitors. >100 GB downloaded.
 
+March 2009:
+
+ security vulnerability: libcurl Arbitrary File Access
+
+August 2009:
+
+ security vulnerability: libcurl embedded zero in cert name
+
+December 2009:
+
+ Added support for IMAP, POP3 and SMTP
+
+January 2010:
+
+ Added support for RTSP
+
+February 2010:
+
+ security vulnerability: libcurl data callback excessive length
+
+March 2010:
+
+ The project switched over to use git instead of CVS for source code control
+
+May 2010:
+
+ Added support for RTMP
+
+ Added support for PolarSSL to do the SSL/TLS stuff
+
+August 2010:
+
+ Public curl releases:         117
+ Command line options:         138
+ curl_easy_setopt() options:   180
+ Public functions in libcurl:  58
+ Known libcurl bindings:       39
+ Contributors:                 808
+
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/INSTALL /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/INSTALL
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/INSTALL	2010-04-11 17:37:45.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/INSTALL	2010-08-02 02:35:13.000000000 +0800
@@ -136,12 +136,15 @@
      yassl with its OpenSSL emulation enabled and point to that directory root
      with configure --with-ssl.
 
      To build with NSS support instead of OpenSSL for SSL/TLS, note that
      you need to use both --without-ssl and --with-nss.
 
+     To build with PolarSSL support instead of OpenSSL for SSL/TLS, note that
+     you need to use both --without-ssl and --with-polarssl.
+
      To get GSSAPI support, build with --with-gssapi and have the MIT or
      Heimdal Kerberos 5 packages installed.
 
      To get support for SCP and SFTP, build with --with-libssh2 and have
      libssh2 0.16 or later installed.
 
@@ -776,12 +779,17 @@
     4. Build the libcurl by typing 'make -f ./Makefile.vxworks'
 
    As a result the libcurl.a library should be created in the 'lib' folder.
    To clean the build results type 'make -f ./Makefile.vxworks clean'.
 
 
+Android
+=======
+   See the build notes in the Android.mk file.
+
+
 CROSS COMPILE
 =============
    (This section was graciously brought to us by Jim Duey, with additions by
    Dan Fandrich)
 
    Download and unpack the cURL package.
@@ -905,13 +913,13 @@
         - Alpha Linux 2.2, 2.4
         - Alpha NetBSD 1.5.2
         - Alpha OpenBSD 3.0
         - Alpha OpenVMS V7.1-1H2
         - Alpha Tru64 v5.0 5.1
         - AVR32 Linux
-        - ARM Android 1.5
+        - ARM Android 1.5, 2.1
         - ARM INTEGRITY
         - ARM iPhone OS
         - Cell Linux
         - Cell Cell OS
         - HP-PA HP-UX 9.X 10.X 11.X
         - HP-PA Linux
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/KNOWN_BUGS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/KNOWN_BUGS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/KNOWN_BUGS	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/KNOWN_BUGS	2010-08-11 15:16:00.000000000 +0800
@@ -1,11 +1,16 @@
 These are problems known to exist at the time of this release. Feel free to
 join in and help us correct one or more of these! Also be sure to check the
 changelog of the current development status, as one or more of these problems
 may have been fixed since this was written!
 
+76. The SOCKET type in Win64 is 64 bits large (and thus so is curl_socket_t on
+  that platform), and long is only 32 bits. It makes it impossible for
+  curl_easy_getinfo() to return a socket properly with the CURLINFO_LASTSOCKET
+  option as for all other operating systems.
+
 75. NTLM authentication involving unicode user name or password.
   http://curl.haxx.se/mail/lib-2009-10/0024.html
   http://curl.haxx.se/bug/view.cgi?id=2944325
 
 74. The HTTP spec allows headers to be merged and become comma-separated
   instead of being repeated several times. This also include Authenticate: and
@@ -60,16 +65,12 @@
   http://curl.haxx.se/mail/archive-2008-02/0043.html
 
 60. libcurl closes the connection if an HTTP 401 reply is received while it
   is waiting for the the 100-continue response.
   http://curl.haxx.se/mail/lib-2008-08/0462.html
 
-59. If the CURLOPT_PORT option is used on an FTP URL like
-  "ftp://example.com/file;type=A" using a proxy, the ";type=A" is stripped off.
-  See the comment in parse_remote_port()
-
 58. It seems sensible to be able to use CURLOPT_NOBODY and
   CURLOPT_FAILONERROR with FTP to detect if a file exists or not, but it is
   not working: http://curl.haxx.se/mail/lib-2008-07/0295.html
 
 57. On VMS-Alpha: When using an http-file-upload the file is not sent to the
   Server with the correct content-length.  Sending a file with 511 or less
@@ -88,13 +89,13 @@
 55. libcurl fails to build with MIT Kerberos for Windows (KfW) due to KfW's
   library header files exporting symbols/macros that should be kept private
   to the KfW library. See ticket #5601 at http://krbdev.mit.edu/rt/
 
 52. Gautam Kachroo's issue that identifies a problem with the multi interface
   where a connection can be re-used without actually being properly
-  SSL-negoatiated:
+  SSL-negotiated:
   http://curl.haxx.se/mail/lib-2008-01/0277.html
 
 49. If using --retry and the transfer timeouts (possibly due to using -m or
   -y/-Y) the next attempt doesn't resume the transfer properly from what was
   downloaded in the previous attempt but will truncate and restart at the
   original position where it was at before the previous failed attempt. See
@@ -138,18 +139,19 @@
   run that might be needed only for building libcurl. Further, curl-config
   --cflags suffers from the same effects with CFLAGS/CPPFLAGS.
 
 30. You need to use -g to the command line tool in order to use RFC2732-style
   IPv6 numerical addresses in URLs.
 
-29. IPv6 URLs with zone ID is not supported.
+29. IPv6 URLs with zone ID is not nicely supported.
   http://www.ietf.org/internet-drafts/draft-fenner-literal-zone-02.txt (expired)
   specifies the use of a plus sign instead of a percent when specifying zone
   IDs in URLs to get around the problem of percent signs being
   special. According to the reporter, Firefox deals with the URL _with_ a
   percent letter (which seems like a blatant URL spec violation).
+  libcurl supports zone IDs where the percent sign is URL-escaped (i.e. %25).
 
    See http://curl.haxx.se/bug/view.cgi?id=1371118
 
 26. NTLM authentication using SSPI (on Windows) when (lib)curl is running in
   "system context" will make it use wrong(?) user name - at least when compared
   to what winhttp does. See http://curl.haxx.se/bug/view.cgi?id=1281867
@@ -186,13 +188,13 @@
   within RFC 959 <string>, so the way to handle this correctly in curl would
   be to use a data structure other than a plain C string, one that can handle
   embedded NUL characters.  From a practical standpoint, most FTP servers
   would not meaningfully support NUL characters within RFC 959 <string>,
   anyway (e.g., UNIX pathnames may not contain NUL).
 
-14. Test case 165 might fail on system which has libidn present, but with an
+14. Test case 165 might fail on a system which has libidn present, but with an
   old iconv version (2.1.3 is a known bad version), since it doesn't recognize
   the charset when named ISO8859-1. Changing the name to ISO-8859-1 makes the
   test pass, but instead makes it fail on Solaris hosts that use its native
   iconv.
 
 13. curl version 7.12.2 fails on AIX if compiled with --enable-ares.
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_duphandle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_duphandle.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_escape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_escape.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_getinfo.3 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_getinfo.3
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_getinfo.3	2010-06-05 06:30:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_getinfo.3	2010-08-02 02:35:13.000000000 +0800
@@ -195,12 +195,15 @@
 Pass a pointer to a long to receive the last socket used by this curl
 session. If the socket is no longer valid, -1 is returned. When you finish
 working with the socket, you must call curl_easy_cleanup() as usual and let
 libcurl close the socket and cleanup other resources associated with the
 handle. This is typically used in combination with \fICURLOPT_CONNECT_ONLY\fP.
 (Added in 7.15.2)
+
+NOTE: this API is not really working on win64, since the SOCKET type on win64
+is 64 bit large while its 'long' is only 32 bits.
 .IP CURLINFO_FTP_ENTRY_PATH
 Pass a pointer to a char pointer to receive a pointer to a string holding the
 path of the entry path. That is the initial path libcurl ended up in when
 logging on to the remote FTP server. This stores a NULL as pointer if
 something is wrong. (Added in 7.15.4)
 .IP CURLINFO_CERTINFO
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_getinfo.html /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_getinfo.html
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_getinfo.html	2010-06-16 19:49:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_getinfo.html	2010-08-12 05:35:56.000000000 +0800
@@ -118,12 +118,13 @@
 <p class="level0"><a name="CURLINFOLOCALPORT"></a><span class="nroffip">CURLINFO_LOCAL_PORT</span> 
 <p class="level1">Pass a pointer to a long to receive the local (source) port of the most recent connection done with this <span Class="bold">curl</span> handle. (Added in 7.21.0) 
 <p class="level0"><a name="CURLINFOCOOKIELIST"></a><span class="nroffip">CURLINFO_COOKIELIST</span> 
 <p class="level1">Pass a pointer to a 'struct curl_slist *' to receive a linked-list of all cookies cURL knows (expired ones, too). Don't forget to <a class="emphasis" href="./curl_slist_free_all.html">curl_slist_free_all(3)</a> the list after it has been used.  If there are no cookies (cookies for the handle have not been enabled or simply none have been received) 'struct curl_slist *' will be set to point to NULL. (Added in 7.14.1) 
 <p class="level0"><a name="CURLINFOLASTSOCKET"></a><span class="nroffip">CURLINFO_LASTSOCKET</span> 
 <p class="level1">Pass a pointer to a long to receive the last socket used by this curl session. If the socket is no longer valid, -1 is returned. When you finish working with the socket, you must call curl_easy_cleanup() as usual and let libcurl close the socket and cleanup other resources associated with the handle. This is typically used in combination with <span Class="emphasis">CURLOPT_CONNECT_ONLY</span>. (Added in 7.15.2) 
+<p class="level1">NOTE: this API is not really working on win64, since the SOCKET type on win64 is 64 bit large while its 'long' is only 32 bits. 
 <p class="level0"><a name="CURLINFOFTPENTRYPATH"></a><span class="nroffip">CURLINFO_FTP_ENTRY_PATH</span> 
 <p class="level1">Pass a pointer to a char pointer to receive a pointer to a string holding the path of the entry path. That is the initial path libcurl ended up in when logging on to the remote FTP server. This stores a NULL as pointer if something is wrong. (Added in 7.15.4) 
 <p class="level0"><a name="CURLINFOCERTINFO"></a><span class="nroffip">CURLINFO_CERTINFO</span> 
 <p class="level1">Pass a pointer to a 'struct curl_certinfo *' and you'll get it set to point to struct that holds a number of linked lists with info about the certificate chain, assuming you had CURLOPT_CERTINFO enabled when the previous request was done. The struct reports how many certs it found and then you can extract info for each of those certs by following the linked lists. The info chain is provided in a series of data in the format "name:content" where the content is for the specific named data. See also the certinfo.c example. NOTE: this option is only available in libcurl built with OpenSSL support. (Added in 7.19.1) 
 <p class="level0"><a name="CURLINFOCONDITIONUNMET"></a><span class="nroffip">CURLINFO_CONDITION_UNMET</span> 
 <p class="level1">Pass a pointer to a long to receive the number 1 if the condition provided in the previous request didn't match (see <span Class="emphasis">CURLOPT_TIMECONDITION</span>). Alas, if this returns a 1 you know that the reason you didn't get data in return is because it didn't fulfill the condition. The long ths argument points to will get a zero stored if the condition instead was met. (Added in 7.19.4) 
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_getinfo.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_getinfo.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_pause.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_pause.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_perform.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_perform.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_recv.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_recv.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_reset.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_reset.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_send.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_send.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_setopt.3 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_setopt.3
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_setopt.3	2010-05-17 01:47:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_setopt.3	2010-08-07 20:08:30.000000000 +0800
@@ -135,13 +135,13 @@
 .RE
 .PP
 (This was added in 7.21.0)
 .SH CALLBACK OPTIONS
 .IP CURLOPT_WRITEFUNCTION
 Function pointer that should match the following prototype: \fBsize_t
-function( void *ptr, size_t size, size_t nmemb, void *stream);\fP This
+function( void *ptr, size_t size, size_t nmemb, void *userdata);\fP This
 function gets called by libcurl as soon as there is data received that needs
 to be saved. The size of the data pointed to by \fIptr\fP is \fIsize\fP
 multiplied with \fInmemb\fP, it will not be zero terminated. Return the number
 of bytes actually taken care of. If that amount differs from the amount passed
 to your function, it'll signal an error to the library. This will abort the
 transfer and return \fICURLE_WRITE_ERROR\fP.
@@ -154,13 +154,13 @@
 empty.
 
 Set this option to NULL to get the internal default function. The internal
 default function will write the data to the FILE * given with
 \fICURLOPT_WRITEDATA\fP.
 
-Set the \fIstream\fP argument with the \fICURLOPT_WRITEDATA\fP option.
+Set the \fIuserdata\fP argument with the \fICURLOPT_WRITEDATA\fP option.
 
 The callback function will be passed as much data as possible in all invokes,
 but you cannot possibly make any assumptions. It may be one byte, it may be
 thousands. The maximum amount of data that can be passed to the write callback
 is defined in the curl.h header file: CURL_MAX_WRITE_SIZE.
 .IP CURLOPT_WRITEDATA
@@ -177,13 +177,13 @@
 crashes.
 
 This option is also known with the older name \fICURLOPT_FILE\fP, the name
 \fICURLOPT_WRITEDATA\fP was introduced in 7.9.7.
 .IP CURLOPT_READFUNCTION
 Function pointer that should match the following prototype: \fBsize_t
-function( void *ptr, size_t size, size_t nmemb, void *stream);\fP This
+function( void *ptr, size_t size, size_t nmemb, void *userdata);\fP This
 function gets called by libcurl as soon as it needs to read data in order to
 send it to the peer. The data area pointed at by the pointer \fIptr\fP may be
 filled with at most \fIsize\fP multiplied with \fInmemb\fP number of
 bytes. Your function must return the actual number of bytes that you stored in
 that memory area. Returning 0 will signal end-of-file to the library and cause
 it to stop the current transfer.
@@ -198,15 +198,15 @@
 code from the transfer (Added in 7.12.1)
 
 From 7.18.0, the function can return CURL_READFUNC_PAUSE which then will cause
 reading from this connection to become paused. See \fIcurl_easy_pause(3)\fP
 for further details.
 
-If you set the callback pointer to NULL, or don't set it at all, the default
-internal read function will be used. It is simply doing an fread() on the FILE
-* stream set with \fICURLOPT_READDATA\fP.
+If you set this callback pointer to NULL, or don't set it at all, the default
+internal read function will be used. It is doing an fread() on the FILE *
+userdata set with \fICURLOPT_READDATA\fP.
 .IP CURLOPT_READDATA
 Data pointer to pass to the file read function. If you use the
 \fICURLOPT_READFUNCTION\fP option, this is the pointer you'll get as input. If
 you don't specify a read callback but instead rely on the default internal
 read function, this data must be a valid readable FILE *.
 
@@ -310,19 +310,19 @@
 get called.
 .IP CURLOPT_PROGRESSDATA
 Pass a pointer that will be untouched by libcurl and passed as the first
 argument in the progress callback set with \fICURLOPT_PROGRESSFUNCTION\fP.
 .IP CURLOPT_HEADERFUNCTION
 Function pointer that should match the following prototype: \fIsize_t
-function( void *ptr, size_t size, size_t nmemb, void *stream);\fP. This
+function( void *ptr, size_t size, size_t nmemb, void *userdata);\fP. This
 function gets called by libcurl as soon as it has received header data. The
 header callback will be called once for each header and only complete header
 lines are passed on to the callback. Parsing headers should be easy enough
 using this. The size of the data pointed to by \fIptr\fP is \fIsize\fP
 multiplied with \fInmemb\fP. Do not assume that the header line is zero
-terminated! The pointer named \fIstream\fP is the one you set with the
+terminated! The pointer named \fIuserdata\fP is the one you set with the
 \fICURLOPT_WRITEHEADER\fP option. The callback function must return the number
 of bytes actually taken care of. If that amount differs from the amount passed
 to your function, it'll signal an error to the library. This will abort the
 transfer and return \fICURL_WRITE_ERROR\fP.
 
 If this option is not set, or if it is set to NULL, but
@@ -449,13 +449,13 @@
  \&#define CURL_ICONV_CODESET_FOR_UTF8   "UTF-8"
 
 You will need to override these definitions if they are different on your
 system.
 .IP CURLOPT_INTERLEAVEFUNCTION
 Function pointer that should match the following prototype: \fIsize_t
-function( void *ptr, size_t size, size_t nmemb, void *stream)\fP. This
+function( void *ptr, size_t size, size_t nmemb, void *userdata)\fP. This
 function gets called by libcurl as soon as it has received interleaved RTP
 data. This function gets called for each $ block and therefore contains
 exactly one upper-layer protocol unit (e.g.  one RTP packet). Curl writes the
 interleaved header as well as the included data for each call. The first byte
 is always an ASCII dollar sign. The dollar sign is followed by a one byte
 channel identifier and then a 2 byte integer length in network byte order. See
@@ -469,14 +469,15 @@
 connection may close. The application may use \fICURL_RTSPREQ_RECEIVE\fP to
 service RTP data when no requests are desired. If the application makes a
 request, (e.g.  \fICURL_RTSPREQ_PAUSE\fP) then the response handler will
 process any pending RTP data before marking the request as finished.  (Added
 in 7.20.0)
 .IP CURLOPT_INTERLEAVEDATA
-This is the stream that will be passed to \fICURLOPT_INTERLEAVEFUNCTION\fP when
-interleaved RTP data is received. (Added in 7.20.0)
+This is the userdata pointer that will be passed to
+\fICURLOPT_INTERLEAVEFUNCTION\fP when interleaved RTP data is received. (Added
+in 7.20.0)
 .IP CURLOPT_CHUNK_BGN_FUNCTION
 Function pointer that should match the following prototype: \fBlong function
 (const void *transfer_info, void *ptr, int remains)\fP. This function gets
 called by libcurl before a part of the stream is going to be transferred (if
 the transfer supports chunks).
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_setopt.html /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_setopt.html
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_setopt.html	2010-06-16 19:49:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_setopt.html	2010-08-12 05:35:56.000000000 +0800
@@ -90,29 +90,29 @@
 <p class="level2">Using the rules above, a file name pattern can be constructed: 
 <p class="level2"><a href="ftp://example.com/some/path/">ftp://example.com/some/path/</a><span Class="bold">[a-z[:upper:]\\].jpeg</span> 
 <p class="level1">
 <p class="level1">(This was added in 7.21.0) <a name="CALLBACK"></a><h2 class="nroffsh">CALLBACK OPTIONS</h2>
 <p class="level0">
 <p class="level0"><a name="CURLOPTWRITEFUNCTION"></a><span class="nroffip">CURLOPT_WRITEFUNCTION</span> 
-<p class="level1">Function pointer that should match the following prototype: <span class="bold">size_t function( void *ptr, size_t size, size_t nmemb, void *stream);</span> This function gets called by libcurl as soon as there is data received that needs to be saved. The size of the data pointed to by <span Class="emphasis">ptr</span> is <span Class="emphasis">size</span> multiplied with <span Class="emphasis">nmemb</span>, it will not be zero terminated. Return the number of bytes actually taken care of. If that amount differs from the amount passed to your function, it'll signal an error to the library. This will abort the transfer and return <span Class="emphasis">CURLE_WRITE_ERROR</span>. 
+<p class="level1">Function pointer that should match the following prototype: <span class="bold">size_t function( void *ptr, size_t size, size_t nmemb, void *userdata);</span> This function gets called by libcurl as soon as there is data received that needs to be saved. The size of the data pointed to by <span Class="emphasis">ptr</span> is <span Class="emphasis">size</span> multiplied with <span Class="emphasis">nmemb</span>, it will not be zero terminated. Return the number of bytes actually taken care of. If that amount differs from the amount passed to your function, it'll signal an error to the library. This will abort the transfer and return <span Class="emphasis">CURLE_WRITE_ERROR</span>. 
 <p class="level1">From 7.18.0, the function can return CURL_WRITEFUNC_PAUSE which then will cause writing to this connection to become paused. See <a class="emphasis" href="./curl_easy_pause.html">curl_easy_pause(3)</a> for further details. 
 <p class="level1">This function may be called with zero bytes data if the transferred file is empty. 
 <p class="level1">Set this option to NULL to get the internal default function. The internal default function will write the data to the FILE * given with <a class="emphasis" href="#CURLOPTWRITEDATA">CURLOPT_WRITEDATA</a>. 
-<p class="level1">Set the <span Class="emphasis">stream</span> argument with the <a class="emphasis" href="#CURLOPTWRITEDATA">CURLOPT_WRITEDATA</a> option. 
+<p class="level1">Set the <span Class="emphasis">userdata</span> argument with the <a class="emphasis" href="#CURLOPTWRITEDATA">CURLOPT_WRITEDATA</a> option. 
 <p class="level1">The callback function will be passed as much data as possible in all invokes, but you cannot possibly make any assumptions. It may be one byte, it may be thousands. The maximum amount of data that can be passed to the write callback is defined in the curl.h header file: CURL_MAX_WRITE_SIZE. 
 <p class="level0"><a name="CURLOPTWRITEDATA"></a><span class="nroffip">CURLOPT_WRITEDATA</span> 
 <p class="level1">Data pointer to pass to the file write function. If you use the <a class="emphasis" href="#CURLOPTWRITEFUNCTION">CURLOPT_WRITEFUNCTION</a> option, this is the pointer you'll get as input. If you don't use a callback, you must pass a 'FILE *' as libcurl will pass this to fwrite() when writing data. 
 <p class="level1">The internal <a class="emphasis" href="#CURLOPTWRITEFUNCTION">CURLOPT_WRITEFUNCTION</a> will write the data to the FILE * given with this option, or to stdout if this option hasn't been set. 
 <p class="level1">If you're using libcurl as a win32 DLL, you <span Class="bold">MUST</span> use the <a class="emphasis" href="#CURLOPTWRITEFUNCTION">CURLOPT_WRITEFUNCTION</a> if you set this option or you will experience crashes. 
 <p class="level1">This option is also known with the older name <span Class="emphasis">CURLOPT_FILE</span>, the name <a class="emphasis" href="#CURLOPTWRITEDATA">CURLOPT_WRITEDATA</a> was introduced in 7.9.7. 
 <p class="level0"><a name="CURLOPTREADFUNCTION"></a><span class="nroffip">CURLOPT_READFUNCTION</span> 
-<p class="level1">Function pointer that should match the following prototype: <span class="bold">size_t function( void *ptr, size_t size, size_t nmemb, void *stream);</span> This function gets called by libcurl as soon as it needs to read data in order to send it to the peer. The data area pointed at by the pointer <span Class="emphasis">ptr</span> may be filled with at most <span Class="emphasis">size</span> multiplied with <span Class="emphasis">nmemb</span> number of bytes. Your function must return the actual number of bytes that you stored in that memory area. Returning 0 will signal end-of-file to the library and cause it to stop the current transfer. 
+<p class="level1">Function pointer that should match the following prototype: <span class="bold">size_t function( void *ptr, size_t size, size_t nmemb, void *userdata);</span> This function gets called by libcurl as soon as it needs to read data in order to send it to the peer. The data area pointed at by the pointer <span Class="emphasis">ptr</span> may be filled with at most <span Class="emphasis">size</span> multiplied with <span Class="emphasis">nmemb</span> number of bytes. Your function must return the actual number of bytes that you stored in that memory area. Returning 0 will signal end-of-file to the library and cause it to stop the current transfer. 
 <p class="level1">If you stop the current transfer by returning 0 "pre-maturely" (i.e before the server expected it, like when you've said you will upload N bytes and you upload less than N bytes), you may experience that the server "hangs" waiting for the rest of the data that won't come. 
 <p class="level1">The read callback may return <span Class="emphasis">CURL_READFUNC_ABORT</span> to stop the current operation immediately, resulting in a <span Class="emphasis">CURLE_ABORTED_BY_CALLBACK</span> error code from the transfer (Added in 7.12.1) 
 <p class="level1">From 7.18.0, the function can return CURL_READFUNC_PAUSE which then will cause reading from this connection to become paused. See <a class="emphasis" href="./curl_easy_pause.html">curl_easy_pause(3)</a> for further details. 
-<p class="level1">If you set the callback pointer to NULL, or don't set it at all, the default internal read function will be used. It is simply doing an fread() on the FILE * stream set with <a class="emphasis" href="#CURLOPTREADDATA">CURLOPT_READDATA</a>. 
+<p class="level1">If you set this callback pointer to NULL, or don't set it at all, the default internal read function will be used. It is doing an fread() on the FILE * userdata set with <a class="emphasis" href="#CURLOPTREADDATA">CURLOPT_READDATA</a>. 
 <p class="level0"><a name="CURLOPTREADDATA"></a><span class="nroffip">CURLOPT_READDATA</span> 
 <p class="level1">Data pointer to pass to the file read function. If you use the <a class="emphasis" href="#CURLOPTREADFUNCTION">CURLOPT_READFUNCTION</a> option, this is the pointer you'll get as input. If you don't specify a read callback but instead rely on the default internal read function, this data must be a valid readable FILE *. 
 <p class="level1">If you're using libcurl as a win32 DLL, you MUST use a <a class="emphasis" href="#CURLOPTREADFUNCTION">CURLOPT_READFUNCTION</a> if you set this option. 
 <p class="level1">This option was also known by the older name <span Class="emphasis">CURLOPT_INFILE</span>, the name <a class="emphasis" href="#CURLOPTREADDATA">CURLOPT_READDATA</a> was introduced in 7.9.7. 
 <p class="level0"><a name="CURLOPTIOCTLFUNCTION"></a><span class="nroffip">CURLOPT_IOCTLFUNCTION</span> 
 <p class="level1">Function pointer that should match the <span Class="emphasis">curl_ioctl_callback</span> prototype found in <span Class="emphasis">&lt;curl/curl.h&gt;</span>. This function gets called by libcurl when something special I/O-related needs to be done that the library can't do by itself. For now, rewinding the read data stream is the only action it can request. The rewinding of the read data stream may be necessary when doing a HTTP PUT or POST with a multi-pass authentication method.  (Option added in 7.12.3). 
@@ -140,13 +140,13 @@
 <p class="level1">Function pointer that should match the <span Class="emphasis">curl_progress_callback</span> prototype found in <span Class="emphasis">&lt;curl/curl.h&gt;</span>. This function gets called by libcurl instead of its internal equivalent with a frequent interval during operation (roughly once per second or sooner) no matter if data is being transfered or not. Unknown/unused argument values passed to the callback will be set to zero (like if you only download data, the upload size will remain 0). Returning a non-zero value from this callback will cause libcurl to abort the transfer and return <span Class="emphasis">CURLE_ABORTED_BY_CALLBACK</span>. 
 <p class="level1">If you transfer data with the multi interface, this function will not be called during periods of idleness unless you call the appropriate libcurl function that performs transfers. 
 <p class="level1"><a class="emphasis" href="#CURLOPTNOPROGRESS">CURLOPT_NOPROGRESS</a> must be set to 0 to make this function actually get called. 
 <p class="level0"><a name="CURLOPTPROGRESSDATA"></a><span class="nroffip">CURLOPT_PROGRESSDATA</span> 
 <p class="level1">Pass a pointer that will be untouched by libcurl and passed as the first argument in the progress callback set with <a class="emphasis" href="#CURLOPTPROGRESSFUNCTION">CURLOPT_PROGRESSFUNCTION</a>. 
 <p class="level0"><a name="CURLOPTHEADERFUNCTION"></a><span class="nroffip">CURLOPT_HEADERFUNCTION</span> 
-<p class="level1">Function pointer that should match the following prototype: <span class="emphasis">size_t function( void *ptr, size_t size, size_t nmemb, void *stream);</span>. This function gets called by libcurl as soon as it has received header data. The header callback will be called once for each header and only complete header lines are passed on to the callback. Parsing headers should be easy enough using this. The size of the data pointed to by <span Class="emphasis">ptr</span> is <span Class="emphasis">size</span> multiplied with <span Class="emphasis">nmemb</span>. Do not assume that the header line is zero terminated! The pointer named <span Class="emphasis">stream</span> is the one you set with the <a class="emphasis" href="#CURLOPTWRITEHEADER">CURLOPT_WRITEHEADER</a> option. The callback function must return the number of bytes actually taken care of. If that amount differs from the amount passed to your function, it'll signal an error to the library. This will abort the transfer and return <span Class="emphasis">CURL_WRITE_ERROR</span>. 
+<p class="level1">Function pointer that should match the following prototype: <span class="emphasis">size_t function( void *ptr, size_t size, size_t nmemb, void *userdata);</span>. This function gets called by libcurl as soon as it has received header data. The header callback will be called once for each header and only complete header lines are passed on to the callback. Parsing headers should be easy enough using this. The size of the data pointed to by <span Class="emphasis">ptr</span> is <span Class="emphasis">size</span> multiplied with <span Class="emphasis">nmemb</span>. Do not assume that the header line is zero terminated! The pointer named <span Class="emphasis">userdata</span> is the one you set with the <a class="emphasis" href="#CURLOPTWRITEHEADER">CURLOPT_WRITEHEADER</a> option. The callback function must return the number of bytes actually taken care of. If that amount differs from the amount passed to your function, it'll signal an error to the library. This will abort the transfer and return <span Class="emphasis">CURL_WRITE_ERROR</span>. 
 <p class="level1">If this option is not set, or if it is set to NULL, but <span Class="emphasis">CURLOPT_HEADERDATA</span> (<a class="emphasis" href="#CURLOPTWRITEHEADER">CURLOPT_WRITEHEADER</a>) is set to anything but NULL, the function used to accept response data will be used instead. That is, it will be the function specified with <a class="emphasis" href="#CURLOPTWRITEFUNCTION">CURLOPT_WRITEFUNCTION</a>, or if it is not specified or NULL - the default, stream-writing function. 
 <p class="level1">It's important to note that the callback will be invoked for the headers of all responses received after initiating a request and not just the final response. This includes all responses which occur during authentication negotiation. If you need to operate on only the headers from the final response, you will need to collect headers in the callback yourself and use HTTP status lines, for example, to delimit response boundaries. 
 <p class="level1">Since 7.14.1: When a server sends a chunked encoded transfer, it may contain a trailer. That trailer is identical to a HTTP header and if such a trailer is received it is passed to the application using this callback as well. There are several ways to detect it being a trailer and not an ordinary header: 1) it comes after the response-body. 2) it comes after the final header line (CR LF) 3) a Trailer: header among the response-headers mention what header to expect in the trailer. 
 <p class="level0"><a name="CURLOPTWRITEHEADER"></a><span class="nroffip">CURLOPT_WRITEHEADER</span> 
 <p class="level1">(This option is also known as <span Class="bold">CURLOPT_HEADERDATA</span>) Pass a pointer to be used to write the header part of the received data to. If you don't use your own callback to take care of the writing, this must be a valid FILE *. See also the <a class="emphasis" href="#CURLOPTHEADERFUNCTION">CURLOPT_HEADERFUNCTION</a> option above on how to set a custom get-all-headers callback. 
 <p class="level0"><a name="CURLOPTDEBUGFUNCTION"></a><span class="nroffip">CURLOPT_DEBUGFUNCTION</span> 
@@ -188,16 +188,16 @@
 <p class="level1">&nbsp;#define CURL_ICONV_CODESET_OF_HOST "IBM-1047" 
 <p class="level1">The iconv code in libcurl will default the network and UTF8 codeset names as follows: 
 <p class="level1">&nbsp;#define CURL_ICONV_CODESET_OF_NETWORK "ISO8859-1" 
 <p class="level1">&nbsp;#define CURL_ICONV_CODESET_FOR_UTF8   "UTF-8" 
 <p class="level1">You will need to override these definitions if they are different on your system. 
 <p class="level0"><a name="CURLOPTINTERLEAVEFUNCTION"></a><span class="nroffip">CURLOPT_INTERLEAVEFUNCTION</span> 
-<p class="level1">Function pointer that should match the following prototype: <span class="emphasis">size_t function( void *ptr, size_t size, size_t nmemb, void *stream)</span>. This function gets called by libcurl as soon as it has received interleaved RTP data. This function gets called for each $ block and therefore contains exactly one upper-layer protocol unit (e.g.  one RTP packet). Curl writes the interleaved header as well as the included data for each call. The first byte is always an ASCII dollar sign. The dollar sign is followed by a one byte channel identifier and then a 2 byte integer length in network byte order. See <span Class="emphasis">RFC 2326 Section 10.12</span> for more information on how RTP interleaving behaves. If unset or set to NULL, curl will use the default write function. 
+<p class="level1">Function pointer that should match the following prototype: <span class="emphasis">size_t function( void *ptr, size_t size, size_t nmemb, void *userdata)</span>. This function gets called by libcurl as soon as it has received interleaved RTP data. This function gets called for each $ block and therefore contains exactly one upper-layer protocol unit (e.g.  one RTP packet). Curl writes the interleaved header as well as the included data for each call. The first byte is always an ASCII dollar sign. The dollar sign is followed by a one byte channel identifier and then a 2 byte integer length in network byte order. See <span Class="emphasis">RFC 2326 Section 10.12</span> for more information on how RTP interleaving behaves. If unset or set to NULL, curl will use the default write function. 
 <p class="level1">Interleaved RTP poses some challeneges for the client application. Since the stream data is sharing the RTSP control connection, it is critical to service the RTP in a timely fashion. If the RTP data is not handled quickly, subsequent response processing may become unreasonably delayed and the connection may close. The application may use <a class="emphasis" href="#CURLRTSPREQRECEIVE">CURL_RTSPREQ_RECEIVE</a> to service RTP data when no requests are desired. If the application makes a request, (e.g.  <a class="emphasis" href="#CURLRTSPREQPAUSE">CURL_RTSPREQ_PAUSE</a>) then the response handler will process any pending RTP data before marking the request as finished.  (Added in 7.20.0) 
 <p class="level0"><a name="CURLOPTINTERLEAVEDATA"></a><span class="nroffip">CURLOPT_INTERLEAVEDATA</span> 
-<p class="level1">This is the stream that will be passed to <a class="emphasis" href="#CURLOPTINTERLEAVEFUNCTION">CURLOPT_INTERLEAVEFUNCTION</a> when interleaved RTP data is received. (Added in 7.20.0) 
+<p class="level1">This is the userdata pointer that will be passed to <a class="emphasis" href="#CURLOPTINTERLEAVEFUNCTION">CURLOPT_INTERLEAVEFUNCTION</a> when interleaved RTP data is received. (Added in 7.20.0) 
 <p class="level0"><a name="CURLOPTCHUNKBGNFUNCTION"></a><span class="nroffip">CURLOPT_CHUNK_BGN_FUNCTION</span> 
 <p class="level1">Function pointer that should match the following prototype: <span class="bold">long function (const void *transfer_info, void *ptr, int remains)</span>. This function gets called by libcurl before a part of the stream is going to be transferred (if the transfer supports chunks). 
 <p class="level1">This callback makes sense only when using the <a class="emphasis" href="#CURLOPTWILDCARDMATCH">CURLOPT_WILDCARDMATCH</a> option for now. 
 <p class="level1">The target of transfer_info parameter is a "feature depended" structure. For the FTP wildcard download, the target is curl_fileinfo structure (see <span Class="emphasis">curl/curl.h</span>).  The parameter ptr is a pointer given by <a class="emphasis" href="#CURLOPTCHUNKDATA">CURLOPT_CHUNK_DATA</a>. The parameter remains contains number of chunks remaining per the transfer. If the feature is not available, the parameter has zero value. 
 <p class="level1">Return <span Class="emphasis">CURL_CHUNK_BGN_FUNC_OK</span> if everything is fine, <span Class="emphasis">CURL_CHUNK_BGN_FUNC_SKIP</span> if you want to skip the concrete chunk or <span Class="emphasis">CURL_CHUNK_BGN_FUNC_FAIL</span> to tell libcurl to stop if some error occurred. (This was added in 7.21.0) 
 <p class="level0"><a name="CURLOPTCHUNKENDFUNCTION"></a><span class="nroffip">CURLOPT_CHUNK_END_FUNCTION</span> 
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_setopt.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_setopt.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_strerror.pdf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_strerror.pdf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_strerror.pdf	2010-06-16 19:49:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_strerror.pdf	2010-08-12 05:36:07.000000000 +0800
@@ -62,29 +62,29 @@
 <</Type/Metadata
 /Subtype/XML/Length 1321>>stream
 <?xpacket begin='ï»¿' id='W5M0MpCehiHzreSzNTczkc9d'?>
 <?adobe-xap-filters esc="CRLF"?>
 <x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
 <rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
-<rdf:Description rdf:about='cde50aa9-b159-11ea-0000-1db77fb63b0c' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 8.71'/>
-<rdf:Description rdf:about='cde50aa9-b159-11ea-0000-1db77fb63b0c' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2010-06-16T13:49:44+02:00</xmp:ModifyDate>
-<xmp:CreateDate>2010-06-16T13:49:44+02:00</xmp:CreateDate>
+<rdf:Description rdf:about='ffbb8a89-ddac-11ea-0000-1db77fb63b0c' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 8.71'/>
+<rdf:Description rdf:about='ffbb8a89-ddac-11ea-0000-1db77fb63b0c' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2010-08-11T23:36:07+02:00</xmp:ModifyDate>
+<xmp:CreateDate>2010-08-11T23:36:07+02:00</xmp:CreateDate>
 <xmp:CreatorTool>groff version 1.20.1</xmp:CreatorTool></rdf:Description>
-<rdf:Description rdf:about='cde50aa9-b159-11ea-0000-1db77fb63b0c' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='cde50aa9-b159-11ea-0000-1db77fb63b0c'/>
-<rdf:Description rdf:about='cde50aa9-b159-11ea-0000-1db77fb63b0c' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
+<rdf:Description rdf:about='ffbb8a89-ddac-11ea-0000-1db77fb63b0c' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='ffbb8a89-ddac-11ea-0000-1db77fb63b0c'/>
+<rdf:Description rdf:about='ffbb8a89-ddac-11ea-0000-1db77fb63b0c' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
 </rdf:RDF>
 </x:xmpmeta>
                                                                         
                                                                         
 <?xpacket end='w'?>
 endstream
 endobj
 2 0 obj
 <</Producer(GPL Ghostscript 8.71)
-/CreationDate(D:20100616134944+02'00')
-/ModDate(D:20100616134944+02'00')
+/CreationDate(D:20100811233607+02'00')
+/ModDate(D:20100811233607+02'00')
 /Creator(groff version 1.20.1)>>endobj
 xref
 0 14
 0000000000 65535 f 
 0000001044 00000 n 
 0000002827 00000 n 
@@ -98,11 +98,11 @@
 0000001230 00000 n 
 0000001150 00000 n 
 0000001180 00000 n 
 0000001429 00000 n 
 trailer
 << /Size 14 /Root 1 0 R /Info 2 0 R
-/ID [<5ECB78D790AD526758E3463FDADD7B2F><5ECB78D790AD526758E3463FDADD7B2F>]
+/ID [<D83BD2C18B9C7003311E0FC20D069938><D83BD2C18B9C7003311E0FC20D069938>]
 >>
 startxref
 2981
 %%EOF
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_easy_unescape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_easy_unescape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_escape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_escape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_formadd.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_formadd.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_formfree.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_formfree.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_formget.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_formget.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_free.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_free.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_getdate.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_getdate.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_getenv.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_getenv.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_global_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_global_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_global_init_mem.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_global_init_mem.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_global_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_global_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_mprintf.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_mprintf.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_add_handle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_add_handle.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_assign.pdf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_assign.pdf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_assign.pdf	2010-06-16 19:49:47.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_assign.pdf	2010-08-12 05:36:10.000000000 +0800
@@ -70,29 +70,29 @@
 <</Type/Metadata
 /Subtype/XML/Length 1321>>stream
 <?xpacket begin='ï»¿' id='W5M0MpCehiHzreSzNTczkc9d'?>
 <?adobe-xap-filters esc="CRLF"?>
 <x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
 <rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
-<rdf:Description rdf:about='cfaece29-b159-11ea-0000-cb573b64c622' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 8.71'/>
-<rdf:Description rdf:about='cfaece29-b159-11ea-0000-cb573b64c622' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2010-06-16T13:49:47+02:00</xmp:ModifyDate>
-<xmp:CreateDate>2010-06-16T13:49:47+02:00</xmp:CreateDate>
+<rdf:Description rdf:about='00ecb789-ddad-11ea-0000-cb573b64c622' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 8.71'/>
+<rdf:Description rdf:about='00ecb789-ddad-11ea-0000-cb573b64c622' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2010-08-11T23:36:09+02:00</xmp:ModifyDate>
+<xmp:CreateDate>2010-08-11T23:36:09+02:00</xmp:CreateDate>
 <xmp:CreatorTool>groff version 1.20.1</xmp:CreatorTool></rdf:Description>
-<rdf:Description rdf:about='cfaece29-b159-11ea-0000-cb573b64c622' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='cfaece29-b159-11ea-0000-cb573b64c622'/>
-<rdf:Description rdf:about='cfaece29-b159-11ea-0000-cb573b64c622' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
+<rdf:Description rdf:about='00ecb789-ddad-11ea-0000-cb573b64c622' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='00ecb789-ddad-11ea-0000-cb573b64c622'/>
+<rdf:Description rdf:about='00ecb789-ddad-11ea-0000-cb573b64c622' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
 </rdf:RDF>
 </x:xmpmeta>
                                                                         
                                                                         
 <?xpacket end='w'?>
 endstream
 endobj
 2 0 obj
 <</Producer(GPL Ghostscript 8.71)
-/CreationDate(D:20100616134947+02'00')
-/ModDate(D:20100616134947+02'00')
+/CreationDate(D:20100811233609+02'00')
+/ModDate(D:20100811233609+02'00')
 /Creator(groff version 1.20.1)>>endobj
 xref
 0 15
 0000000000 65535 f 
 0000002098 00000 n 
 0000003963 00000 n 
@@ -107,11 +107,11 @@
 0000002204 00000 n 
 0000002234 00000 n 
 0000002499 00000 n 
 0000002565 00000 n 
 trailer
 << /Size 15 /Root 1 0 R /Info 2 0 R
-/ID [<FBE55C57968AC234A407B5E8A700D52D><FBE55C57968AC234A407B5E8A700D52D>]
+/ID [<EF44F6937CDF3E126BD8DF1FF7B94884><EF44F6937CDF3E126BD8DF1FF7B94884>]
 >>
 startxref
 4117
 %%EOF
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_fdset.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_fdset.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_info_read.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_info_read.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_perform.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_perform.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_remove_handle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_remove_handle.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_setopt.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_setopt.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_socket_action.3 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_socket_action.3
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_socket_action.3	2010-03-24 20:41:07.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_socket_action.3	2010-08-11 05:17:32.000000000 +0800
@@ -109,20 +109,21 @@
 4. Add easy handles with curl_multi_add_handle()
 
 5. Provide some means to manage the sockets libcurl is using, so you can check
 them for activity. This can be done through your application code, or by way
 of an external library such as libevent or glib.
 
-6. Wait for activity on any of libcurl's sockets, use the timeout value your
+6. Call curl_multi_socket_action() to kickstart everything. To get one or more
+callbacks called.
+
+7. Wait for activity on any of libcurl's sockets, use the timeout value your
 callback has been told
 
-7, When activity is detected, call curl_multi_socket_action() for the
+8, When activity is detected, call curl_multi_socket_action() for the
 socket(s) that got action. If no activity is detected and the timeout expires,
 call \fIcurl_multi_socket_action(3)\fP with \fICURL_SOCKET_TIMEOUT\fP
-
-8. Go back to step 6.
 .SH AVAILABILITY
 This function was added in libcurl 7.15.4, and is deemed stable since 7.16.0.
 .SH "SEE ALSO"
 .BR curl_multi_cleanup "(3), " curl_multi_init "(3), "
 .BR curl_multi_fdset "(3), " curl_multi_info_read "(3), "
 .BR "the hiperfifo.c example"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_socket_action.html /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_socket_action.html
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_socket_action.html	2010-06-16 19:49:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_socket_action.html	2010-08-12 05:35:57.000000000 +0800
@@ -89,13 +89,13 @@
 <p class="level0">The return code from this function is for the whole multi stack.  Problems still might have occurred on individual transfers even when one of these functions return OK. <a name="TYPICAL"></a><h2 class="nroffsh">TYPICAL USAGE</h2>
 <p class="level0">1. Create a multi handle 
 <p class="level0">2. Set the socket callback with CURLMOPT_SOCKETFUNCTION 
 <p class="level0">3. Set the timeout callback with CURLMOPT_TIMERFUNCTION, to get to know what timeout value to use when waiting for socket activities. 
 <p class="level0">4. Add easy handles with curl_multi_add_handle() 
 <p class="level0">5. Provide some means to manage the sockets libcurl is using, so you can check them for activity. This can be done through your application code, or by way of an external library such as libevent or glib. 
-<p class="level0">6. Wait for activity on any of libcurl's sockets, use the timeout value your callback has been told 
-<p class="level0">7, When activity is detected, call curl_multi_socket_action() for the socket(s) that got action. If no activity is detected and the timeout expires, call <a class="emphasis" href="./curl_multi_socket_action.html">curl_multi_socket_action(3)</a> with <span Class="emphasis">CURL_SOCKET_TIMEOUT</span> 
-<p class="level0">8. Go back to step 6. <a name="AVAILABILITY"></a><h2 class="nroffsh">AVAILABILITY</h2>
+<p class="level0">6. Call curl_multi_socket_action() to kickstart everything. To get one or more callbacks called. 
+<p class="level0">7. Wait for activity on any of libcurl's sockets, use the timeout value your callback has been told 
+<p class="level0">8, When activity is detected, call curl_multi_socket_action() for the socket(s) that got action. If no activity is detected and the timeout expires, call <a class="emphasis" href="./curl_multi_socket_action.html">curl_multi_socket_action(3)</a> with <span Class="emphasis">CURL_SOCKET_TIMEOUT</span> <a name="AVAILABILITY"></a><h2 class="nroffsh">AVAILABILITY</h2>
 <p class="level0">This function was added in libcurl 7.15.4, and is deemed stable since 7.16.0. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
 <p class="level0"><a class="manpage" href="./curl_multi_cleanup.html">curl_multi_cleanup (3)</a> <a class="manpage" href="./curl_multi_init.html">  curl_multi_init (3)</a> <span Class="manpage"> </span> <a class="manpage" href="./curl_multi_fdset.html">curl_multi_fdset (3)</a> <a class="manpage" href="./curl_multi_info_read.html">  curl_multi_info_read (3)</a> <span Class="manpage"> </span> <span Class="manpage">the hiperfifo.c example</span> <p class="roffit">
  This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
 </body></html>
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_socket_action.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_socket_action.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_socket.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_socket.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_strerror.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_strerror.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_multi_timeout.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_multi_timeout.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_share_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_share_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_share_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_share_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_share_setopt.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_share_setopt.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_share_strerror.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_share_strerror.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_slist_append.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_slist_append.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_slist_free_all.pdf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_slist_free_all.pdf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_slist_free_all.pdf	2010-06-16 19:49:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_slist_free_all.pdf	2010-08-12 05:36:02.000000000 +0800
@@ -61,29 +61,29 @@
 <</Type/Metadata
 /Subtype/XML/Length 1321>>stream
 <?xpacket begin='ï»¿' id='W5M0MpCehiHzreSzNTczkc9d'?>
 <?adobe-xap-filters esc="CRLF"?>
 <x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
 <rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
-<rdf:Description rdf:about='caea1a29-b159-11ea-0000-0d90648fa894' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 8.71'/>
-<rdf:Description rdf:about='caea1a29-b159-11ea-0000-0d90648fa894' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2010-06-16T13:49:39+02:00</xmp:ModifyDate>
-<xmp:CreateDate>2010-06-16T13:49:39+02:00</xmp:CreateDate>
+<rdf:Description rdf:about='fcc09a09-ddac-11ea-0000-0d90648fa894' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 8.71'/>
+<rdf:Description rdf:about='fcc09a09-ddac-11ea-0000-0d90648fa894' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2010-08-11T23:36:02+02:00</xmp:ModifyDate>
+<xmp:CreateDate>2010-08-11T23:36:02+02:00</xmp:CreateDate>
 <xmp:CreatorTool>groff version 1.20.1</xmp:CreatorTool></rdf:Description>
-<rdf:Description rdf:about='caea1a29-b159-11ea-0000-0d90648fa894' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='caea1a29-b159-11ea-0000-0d90648fa894'/>
-<rdf:Description rdf:about='caea1a29-b159-11ea-0000-0d90648fa894' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
+<rdf:Description rdf:about='fcc09a09-ddac-11ea-0000-0d90648fa894' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='fcc09a09-ddac-11ea-0000-0d90648fa894'/>
+<rdf:Description rdf:about='fcc09a09-ddac-11ea-0000-0d90648fa894' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
 </rdf:RDF>
 </x:xmpmeta>
                                                                         
                                                                         
 <?xpacket end='w'?>
 endstream
 endobj
 2 0 obj
 <</Producer(GPL Ghostscript 8.71)
-/CreationDate(D:20100616134939+02'00')
-/ModDate(D:20100616134939+02'00')
+/CreationDate(D:20100811233602+02'00')
+/ModDate(D:20100811233602+02'00')
 /Creator(groff version 1.20.1)>>endobj
 xref
 0 14
 0000000000 65535 f 
 0000000870 00000 n 
 0000002653 00000 n 
@@ -97,11 +97,11 @@
 0000001056 00000 n 
 0000000976 00000 n 
 0000001006 00000 n 
 0000001255 00000 n 
 trailer
 << /Size 14 /Root 1 0 R /Info 2 0 R
-/ID [<4F6F6EC17A72D79D05917B214B7E80CA><4F6F6EC17A72D79D05917B214B7E80CA>]
+/ID [<2F7F869DBBB754B862CBE1B52BF755C3><2F7F869DBBB754B862CBE1B52BF755C3>]
 >>
 startxref
 2807
 %%EOF
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_strequal.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_strequal.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_unescape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_unescape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_version_info.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_version_info.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/curl_version.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/curl_version.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/libcurl-easy.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/libcurl-easy.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/libcurl-errors.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/libcurl-errors.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/libcurl-multi.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/libcurl-multi.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/libcurl.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/libcurl.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/libcurl-share.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/libcurl-share.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/libcurl-tutorial.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/libcurl-tutorial.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/libcurl/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/libcurl/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -72,23 +72,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -97,22 +100,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -82,23 +82,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -107,22 +110,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/THANKS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/THANKS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/docs/THANKS	2010-04-14 23:52:31.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/docs/THANKS	2010-06-16 20:25:49.000000000 +0800
@@ -12,12 +12,13 @@
 Alan Pinstein
 Albert Chin-A-Young
 Albert Choy
 Ale Vesely
 Aleksandar Milivojevic
 Alessandro Vesely
+Alex Bligh
 Alex Fishman
 Alex Neblett
 Alex Suykov
 Alex aka WindEagle
 Alexander Beedie
 Alexander Kourakos
@@ -201,12 +202,13 @@
 Dolbneff A.V
 Domenico Andreoli
 Dominick Meglio
 Doug Kaufman
 Doug Porter
 Douglas E. Wegscheid
+Douglas Kilpatrick
 Douglas R. Horner
 Douglas Steinwand
 Dov Murik
 Duane Cathey
 Duncan Mac-Vicar Prett
 Dustin Boswell
@@ -224,12 +226,13 @@
 Enrico Scholz
 Enrik Berkhan
 Eric Cooper
 Eric Landes
 Eric Lavigne
 Eric Melville
+Eric Mertens
 Eric Rautman
 Eric Thelin
 Eric Vergnaud
 Eric Wong
 Eric Young
 Erick Nuwendam
@@ -245,12 +248,13 @@
 Feng Tu
 Florian Schoppmann
 Forrest Cahoon
 Frank Hempel
 Frank Keeney
 Frank McGeough
+Frank Meier
 Frank Ticheler
 Fred Machado
 Fred New
 Fred Noz
 Frederic Lepied
 Gabriel Kuri
@@ -297,12 +301,14 @@
 Hardeep Singh
 Harshal Pradhan
 Hauke Duden
 Heikki Korpela
 Henrik Storner
 Hidemoto Nakada
+Hoi-Ho Chan
+Howard Chu
 Hzhijun
 Ian Ford
 Ian Gulliver
 Ian Lynagh
 Ian Turner
 Ian Wilkes
@@ -332,12 +338,13 @@
 Jamie Lokier
 Jamie Newton
 Jamie Wilkinson
 Jan Kunder
 Jared Lundell
 Jari Sundell
+Jason McDonald
 Jason S. Priebe
 Jay Austin
 Jayesh A Shah
 Jaz Fresh
 Jean Jacques Drouin
 Jean-Claude Chauve
@@ -350,12 +357,13 @@
 Jeff Phillips
 Jeff Pohlmeyer
 Jeff Weber
 Jeffrey Pohlmeyer
 Jeremy Friesner
 Jerome Muffat-Meridol
+Jerome Vouillon
 Jes Badwal
 Jesper Jensen
 Jesse Noller
 Jim Drash
 Jim Freeman
 Jim Meyering
@@ -374,12 +382,13 @@
 John Kelly
 John Lask
 John Lightsey
 John McGowan
 John P. McCaskey
 John Wilkinson
+John-Mark Bell
 Johnny Luong
 Jon Grubbs
 Jon Nelson
 Jon Travis
 Jon Turner
 Jonas Forsman
@@ -401,12 +410,13 @@
 Jurij Smakov
 Justin Fletcher
 Jörg Mueller-Tolk
 Jörn Hartroth
 Kai Sommerfeld
 Kai-Uwe Rommel
+Kalle Vahlman
 Kamil Dudka
 Kang-Jin Lee
 Karl Moerder
 Karol Pietrzak
 Kaspar Brand
 Katie Wang
@@ -571,18 +581,20 @@
 Patrick Bihan-Faou
 Patrick Monnerat
 Patrick Scott
 Patrick Smith
 Patrik Thunstrom
 Paul Harrington
+Paul Howarth
 Paul Marquis
 Paul Moore
 Paul Nolan
 Paul Querna
 Pavel Cenek
 Pavel Orehov
+Pavel Raiskup
 Pawel A. Gajda
 Pawel Kierski
 Pedro Neves
 Pete Su
 Peter Bray
 Peter Forret
@@ -612,12 +624,13 @@
 Pooyan McSporran
 Pramod Sharma
 Puneet Pawaia
 Quagmire
 Rafa Muyo
 Rafael Sagula
+Rainer Canavan
 Rainer Koenig
 Ralf S. Engelschall
 Ralph Beckmann
 Ralph Mitchell
 Ramana Mokkapati
 Randy McMurchy
@@ -662,12 +675,13 @@
 Rolland Dudemaine
 Roman Koifman
 Ron Zapp
 Rosimildo da Silva
 Roy Shan
 Rune Kleveland
+Ruslan Gazizov
 Ryan Chan
 Ryan Nelson
 S. Moonesamy
 Salvador Dávila
 Salvatore Sorrentino
 Sam Listopad
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/curl/curlver.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/curl/curlver.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/curl/curlver.h	2010-06-16 19:49:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/curl/curlver.h	2010-08-12 05:36:29.000000000 +0800
@@ -27,19 +27,19 @@
 
 /* This is the global package copyright */
 #define LIBCURL_COPYRIGHT "1996 - 2010 Daniel Stenberg, <daniel@haxx.se>."
 
 /* This is the version number of the libcurl package from which this header
    file origins: */
-#define LIBCURL_VERSION "7.21.0"
+#define LIBCURL_VERSION "7.21.1"
 
 /* The numeric version number is also available "in parts" by using these
    defines: */
 #define LIBCURL_VERSION_MAJOR 7
 #define LIBCURL_VERSION_MINOR 21
-#define LIBCURL_VERSION_PATCH 0
+#define LIBCURL_VERSION_PATCH 1
 
 /* This is the numeric version of the libcurl version number, meant for easier
    parsing and comparions by programs. The LIBCURL_VERSION_NUM define will
    always follow this syntax:
 
          0xXXYYZZ
@@ -50,20 +50,20 @@
    appears as "0x090b07".
 
    This 6-digit (24 bits) hexadecimal number does not show pre-release number,
    and it is always a greater number in a more recent release. It makes
    comparisons with greater than and less than work.
 */
-#define LIBCURL_VERSION_NUM 0x071500
+#define LIBCURL_VERSION_NUM 0x071501
 
 /*
  * This is the date and time when the full source package was created. The
  * timestamp is not stored in git, as the timestamp is properly set in the
  * tarballs by the maketgz script.
  *
  * The format of the date should follow this template:
  *
  * "Mon Feb 12 11:35:33 UTC 2007"
  */
-#define LIBCURL_TIMESTAMP "Wed Jun 16 11:48:57 UTC 2010"
+#define LIBCURL_TIMESTAMP "Wed Aug 11 21:35:21 UTC 2010"
 
 #endif /* __CURL_CURLVER_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/curl/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/curl/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/curl/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/curl/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -76,23 +76,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -101,22 +104,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/curl/typecheck-gcc.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/curl/typecheck-gcc.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/curl/typecheck-gcc.h	2010-03-24 20:41:07.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/curl/typecheck-gcc.h	2010-08-03 05:42:48.000000000 +0800
@@ -4,13 +4,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -227,12 +227,18 @@
    (option) == CURLOPT_KRBLEVEL ||                                            \
    (option) == CURLOPT_SSH_HOST_PUBLIC_KEY_MD5 ||                             \
    (option) == CURLOPT_SSH_PUBLIC_KEYFILE ||                                  \
    (option) == CURLOPT_SSH_PRIVATE_KEYFILE ||                                 \
    (option) == CURLOPT_CRLFILE ||                                             \
    (option) == CURLOPT_ISSUERCERT ||                                          \
+   (option) == CURLOPT_SOCKS5_GSSAPI_SERVICE ||                               \
+   (option) == CURLOPT_SSH_KNOWNHOSTS ||                                      \
+   (option) == CURLOPT_MAIL_FROM ||                                           \
+   (option) == CURLOPT_RTSP_SESSION_ID ||                                     \
+   (option) == CURLOPT_RTSP_STREAM_URI ||                                     \
+   (option) == CURLOPT_RTSP_TRANSPORT ||                                      \
    0)
 
 /* evaluates to true if option takes a curl_write_callback argument */
 #define _curl_is_write_cb_option(option)                                      \
   ((option) == CURLOPT_HEADERFUNCTION ||                                      \
    (option) == CURLOPT_WRITEFUNCTION)
@@ -253,12 +259,16 @@
    (option) == CURLOPT_PROGRESSDATA ||                                        \
    (option) == CURLOPT_WRITEHEADER ||                                         \
    (option) == CURLOPT_DEBUGDATA ||                                           \
    (option) == CURLOPT_SSL_CTX_DATA ||                                        \
    (option) == CURLOPT_SEEKDATA ||                                            \
    (option) == CURLOPT_PRIVATE ||                                             \
+   (option) == CURLOPT_SSH_KEYDATA ||                                         \
+   (option) == CURLOPT_INTERLEAVEDATA ||                                      \
+   (option) == CURLOPT_CHUNK_DATA ||                                          \
+   (option) == CURLOPT_FNMATCH_DATA ||                                        \
    0)
 
 /* evaluates to true if option takes a POST data argument (void* or char*) */
 #define _curl_is_postfields_option(option)                                    \
   ((option) == CURLOPT_POSTFIELDS ||                                          \
    (option) == CURLOPT_COPYPOSTFIELDS ||                                      \
@@ -269,12 +279,13 @@
   ((option) == CURLOPT_HTTPHEADER ||                                          \
    (option) == CURLOPT_HTTP200ALIASES ||                                      \
    (option) == CURLOPT_QUOTE ||                                               \
    (option) == CURLOPT_POSTQUOTE ||                                           \
    (option) == CURLOPT_PREQUOTE ||                                            \
    (option) == CURLOPT_TELNETOPTIONS ||                                       \
+   (option) == CURLOPT_MAIL_RCPT ||                                           \
    0)
 
 /* groups of curl_easy_getinfo infos that take the same type of argument */
 
 /* evaluates to true if info expects a pointer to char * argument */
 #define _curl_is_string_info(info)                                            \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/include/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/include/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -75,23 +75,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -100,22 +103,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/config-win32.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/config-win32.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/config-win32.h	2010-06-05 06:30:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/config-win32.h	2010-08-03 00:53:33.000000000 +0800
@@ -501,12 +501,16 @@
 #endif
 
 #if defined(__MINGW32__) && !defined(USE_WIN32_LARGE_FILES)
 #  define USE_WIN32_LARGE_FILES
 #endif
 
+#if defined(__WATCOMC__) && !defined(USE_WIN32_LARGE_FILES)
+#  define USE_WIN32_LARGE_FILES
+#endif
+
 #if defined(__POCC__)
 #  undef USE_WIN32_LARGE_FILES
 #endif
 
 #if !defined(USE_WIN32_LARGE_FILES) && !defined(USE_WIN32_SMALL_FILES)
 #  define USE_WIN32_SMALL_FILES
@@ -543,12 +547,19 @@
 #define HAVE_LDAP_URL_PARSE 1
 #else
 #undef HAVE_LDAP_URL_PARSE
 #define CURL_LDAP_WIN 1
 #endif
 
+#if defined(__WATCOMC__) && defined(CURL_LDAP_WIN)
+#if __WATCOMC__ < 1280
+#define WINBERAPI  __declspec(cdecl)
+#define WINLDAPAPI __declspec(cdecl)
+#endif
+#endif
+
 #if defined(__POCC__) && defined(CURL_LDAP_WIN)
 #  define CURL_DISABLE_LDAP 1
 #endif
 
 /* ---------------------------------------------------------------- */
 /*                       ADDITIONAL DEFINITIONS                     */
@@ -566,11 +577,11 @@
 #define OS "unknown-pc-win32"
 #endif
 
 /* Name of package */
 #define PACKAGE "curl"
 
-#if defined(__POCC__)
+#if defined(__POCC__) || (USE_IPV6)
 #  define ENABLE_IPV6 1
 #endif
 
 #endif /* __LIB_CONFIG_WIN32_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/connect.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/connect.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/connect.c	2010-06-09 01:38:15.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/connect.c	2010-08-11 05:16:08.000000000 +0800
@@ -109,16 +109,17 @@
   } _sa_ex_u;
 };
 #define sa_addr _sa_ex_u.addr
 
 static bool verifyconnect(curl_socket_t sockfd, int *error);
 
-static curl_socket_t
+static CURLcode
 singleipconnect(struct connectdata *conn,
                 const Curl_addrinfo *ai, /* start connecting to this */
                 long timeout_ms,
+                curl_socket_t *sock,
                 bool *connected);
 
 /*
  * Curl_timeleft() returns the amount of milliseconds left allowed for the
  * transfer/connection. If the value is negative, the timeout time has already
  * elapsed.
@@ -177,22 +178,19 @@
   return timeout_ms;
 }
 
 /*
  * waitconnect() waits for a TCP connect on the given socket for the specified
  * number if milliseconds. It returns:
- * 0    fine connect
- * -1   select() error
- * 1    select() timeout
- * 2    select() returned with an error condition fd_set
  */
 
 #define WAITCONN_CONNECTED     0
 #define WAITCONN_SELECT_ERROR -1
 #define WAITCONN_TIMEOUT       1
 #define WAITCONN_FDSET_ERROR   2
+#define WAITCONN_ABORTED       3
 
 static
 int waitconnect(struct connectdata *conn,
                 curl_socket_t sockfd, /* socket */
                 long timeout_msec)
 {
@@ -206,15 +204,14 @@
 
   for(;;) {
 
     /* now select() until we get connect or timeout */
     rc = Curl_socket_ready(CURL_SOCKET_BAD, sockfd, (int)(timeout_msec>1000?
                                                           1000:timeout_msec));
-
     if(Curl_pgrsUpdate(conn))
-      return CURLE_ABORTED_BY_CALLBACK;
+      return WAITCONN_ABORTED;
 
     if(-1 == rc)
       /* error, no connect here, try next */
       return WAITCONN_SELECT_ERROR;
 
     else if(0 == rc) {
@@ -489,41 +486,50 @@
 #endif
   return rc;
 }
 
 /* Used within the multi interface. Try next IP address, return TRUE if no
    more address exists or error */
-static bool trynextip(struct connectdata *conn,
-                      int sockindex,
-                      bool *connected)
+static CURLcode trynextip(struct connectdata *conn,
+                          int sockindex,
+                          bool *connected)
 {
   curl_socket_t sockfd;
   Curl_addrinfo *ai;
 
-  /* first close the failed socket */
-  sclose(conn->sock[sockindex]);
+  /* First clean up after the failed socket.
+     Don't close it yet to ensure that the next IP's socket gets a different
+     file descriptor, which can prevent bugs when the curl_multi_socket_action
+     interface is used with certain select() replacements such as kqueue. */
+  curl_socket_t fd_to_close = conn->sock[sockindex];
   conn->sock[sockindex] = CURL_SOCKET_BAD;
   *connected = FALSE;
 
-  if(sockindex != FIRSTSOCKET)
-    return TRUE; /* no next */
+  if(sockindex != FIRSTSOCKET) {
+    sclose(fd_to_close);
+    return CURLE_COULDNT_CONNECT; /* no next */
+  }
 
   /* try the next address */
   ai = conn->ip_addr->ai_next;
 
   while(ai) {
-    sockfd = singleipconnect(conn, ai, 0L, connected);
+    CURLcode res = singleipconnect(conn, ai, 0L, &sockfd, connected);
+    if(res)
+      return res;
     if(sockfd != CURL_SOCKET_BAD) {
       /* store the new socket descriptor */
       conn->sock[sockindex] = sockfd;
       conn->ip_addr = ai;
-      return FALSE;
+      sclose(fd_to_close);
+      return CURLE_OK;
     }
     ai = ai->ai_next;
   }
-  return TRUE;
+  sclose(fd_to_close);
+  return CURLE_COULDNT_CONNECT;
 }
 
 /* retrieves ip address and port from a sockaddr structure */
 static bool getaddressinfo(struct sockaddr* sa, char* addr,
                            long* port)
 {
@@ -665,17 +671,16 @@
 
       return CURLE_OK;
     }
     /* nope, not connected for real */
     data->state.os_errno = error;
     infof(data, "Connection failed\n");
-    if(trynextip(conn, sockindex, connected)) {
+    code = trynextip(conn, sockindex, connected);
+    if(code)
       failf(data, "Failed connect to %s:%ld; %s",
             conn->host.name, conn->port, Curl_strerror(conn, error));
-      code = CURLE_COULDNT_CONNECT;
-    }
   }
   else if(WAITCONN_TIMEOUT != rc) {
     int error = 0;
 
     /* nope, not connected  */
     if(WAITCONN_FDSET_ERROR == rc) {
@@ -683,18 +688,19 @@
       data->state.os_errno = error;
       infof(data, "%s\n",Curl_strerror(conn,error));
     }
     else
       infof(data, "Connection failed\n");
 
-    if(trynextip(conn, sockindex, connected)) {
+    code = trynextip(conn, sockindex, connected);
+
+    if(code) {
       error = SOCKERRNO;
       data->state.os_errno = error;
       failf(data, "Failed connect to %s:%ld; %s",
             conn->host.name, conn->port, Curl_strerror(conn, error));
-      code = CURLE_COULDNT_CONNECT;
     }
   }
   /*
    * If the connection failed here, we should attempt to connect to the "next
    * address" for the given host.
    */
@@ -776,34 +782,44 @@
 
   setsockopt(sockfd, SOL_SOCKET, SO_SNDBUF, (const char *)&val, sizeof(val));
 }
 #endif
 
 
-/* singleipconnect() connects to the given IP only, and it may return without
-   having connected if used from the multi interface. */
-static curl_socket_t
+/*
+ * singleipconnect()
+ *
+ * Note that even on connect fail it returns CURLE_OK, but with 'sock' set to
+ * CURL_SOCKET_BAD. Other errors will however return proper errors.
+ *
+ * singleipconnect() connects to the given IP only, and it may return without
+ * having connected if used from the multi interface.
+ */
+static CURLcode
 singleipconnect(struct connectdata *conn,
                 const Curl_addrinfo *ai,
                 long timeout_ms,
+                curl_socket_t *sockp,
                 bool *connected)
 {
   struct Curl_sockaddr_ex addr;
   char addr_buf[128];
   int rc;
   int error;
   bool isconnected;
   struct SessionHandle *data = conn->data;
   curl_socket_t sockfd;
-  CURLcode res;
+  CURLcode res = CURLE_OK;
   const void *iptoprint;
   struct sockaddr_in * const sa4 = (void *)&addr.sa_addr;
 #ifdef ENABLE_IPV6
   struct sockaddr_in6 * const sa6 = (void *)&addr.sa_addr;
 #endif
 
+  *sockp = CURL_SOCKET_BAD;
+
   /*
    * The Curl_sockaddr_ex structure is basically libcurl's external API
    * curl_sockaddr structure with enough space available to directly hold
    * any protocol-specific address structures. The variable declared here
    * will be used to pass / receive data to/from the fopensocket callback
    * if this has been set, before that, it is initialized from parameters.
@@ -836,13 +852,13 @@
   else
     /* opensocket callback not set, so simply create the socket now */
     sockfd = socket(addr.family, addr.socktype, addr.protocol);
 
   if(sockfd == CURL_SOCKET_BAD)
     /* no socket, no connection */
-    return CURL_SOCKET_BAD;
+    return CURLE_OK;
 
 #if defined(ENABLE_IPV6) && defined(HAVE_SOCKADDR_IN6_SIN6_SCOPE_ID)
   if (conn->scope && (addr.family == AF_INET6))
     sa6->sin6_scope_id = conn->scope;
 #endif
 
@@ -889,21 +905,21 @@
     /* activate callback for setting socket options */
     error = data->set.fsockopt(data->set.sockopt_client,
                                sockfd,
                                CURLSOCKTYPE_IPCXN);
     if(error) {
       sclose(sockfd); /* close the socket and bail out */
-      return CURL_SOCKET_BAD;
+      return res;
     }
   }
 
   /* possibly bind the local end to an IP, interface or port */
   res = bindlocal(conn, sockfd, addr.family);
   if(res) {
     sclose(sockfd); /* close socket and bail out */
-    return CURL_SOCKET_BAD;
+    return res;
   }
 
   /* set socket non-blocking */
   curlx_nonblock(sockfd, TRUE);
 
   /* Connect TCP sockets, bind UDP */
@@ -925,12 +941,16 @@
        * the odd #if
        */
     case EAGAIN:
 #endif
 #endif
       rc = waitconnect(conn, sockfd, timeout_ms);
+      if(WAITCONN_ABORTED == rc) {
+        sclose(sockfd);
+        return CURLE_ABORTED_BY_CALLBACK;
+      }
       break;
     default:
       /* unknown error, fallthrough and try another address! */
       failf(data, "Failed to connect to %s: %s",
             addr_buf, Curl_strerror(conn,error));
       data->state.os_errno = error;
@@ -940,35 +960,37 @@
 
   /* The 'WAITCONN_TIMEOUT == rc' comes from the waitconnect(), and not from
      connect(). We can be sure of this since connect() cannot return 1. */
   if((WAITCONN_TIMEOUT == rc) &&
      (data->state.used_interface == Curl_if_multi)) {
     /* Timeout when running the multi interface */
-    return sockfd;
+    *sockp = sockfd;
+    return CURLE_OK;
   }
 
   isconnected = verifyconnect(sockfd, &error);
 
   if(!rc && isconnected) {
     /* we are connected, awesome! */
     *connected = TRUE; /* this is a true connect */
     infof(data, "connected\n");
     Curl_updateconninfo(conn, sockfd);
-    return sockfd;
+    *sockp = sockfd;
+    return CURLE_OK;
   }
   else if(WAITCONN_TIMEOUT == rc)
     infof(data, "Timeout\n");
   else {
     data->state.os_errno = error;
     infof(data, "%s\n", Curl_strerror(conn, error));
   }
 
   /* connect failed or timed out */
   sclose(sockfd);
 
-  return CURL_SOCKET_BAD;
+  return CURLE_OK;
 }
 
 /*
  * TCP connect to the given host with timeout, proxy or remote doesn't matter.
  * There might be more than one IP address to try out. Fill in the passed
  * pointer with the connected socket.
@@ -1027,13 +1049,17 @@
    * Connecting with a Curl_addrinfo chain
    */
   for (curr_addr = ai, aliasindex=0; curr_addr;
        curr_addr = curr_addr->ai_next, aliasindex++) {
 
     /* start connecting to the IP curr_addr points to */
-    sockfd = singleipconnect(conn, curr_addr, timeout_per_addr, connected);
+    CURLcode res =
+      singleipconnect(conn, curr_addr, timeout_per_addr, &sockfd, connected);
+
+    if(res)
+      return res;
 
     if(sockfd != CURL_SOCKET_BAD)
       break;
 
     /* get a new timeout for next attempt */
     after = Curl_tvnow();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/curl_addrinfo.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/curl_addrinfo.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/curl_addrinfo.c	2010-05-22 05:49:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/curl_addrinfo.c	2010-08-02 02:35:13.000000000 +0800
@@ -148,13 +148,16 @@
     ca->ai_addrlen   = 0;
     ca->ai_addr      = NULL;
     ca->ai_canonname = NULL;
     ca->ai_next      = NULL;
 
     if((ai->ai_addrlen > 0) && (ai->ai_addr != NULL)) {
-      ca->ai_addrlen  = ai->ai_addrlen;
+      /* typecast below avoid warning on at least win64:
+         conversion from 'size_t' to 'curl_socklen_t', possible loss of data
+      */
+      ca->ai_addrlen  = (curl_socklen_t)ai->ai_addrlen;
       if((ca->ai_addr = malloc(ca->ai_addrlen)) == NULL) {
         error = EAI_MEMORY;
         free(ca);
         break;
       }
       memcpy(ca->ai_addr, ai->ai_addr, ca->ai_addrlen);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/curl_config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/curl_config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/curl_config.h.in	2010-06-05 06:32:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/curl_config.h.in	2010-08-12 01:04:04.000000000 +0800
@@ -388,12 +388,15 @@
 /* Define to 1 if you have the <libssh2.h> header file. */
 #undef HAVE_LIBSSH2_H
 
 /* Define to 1 if you have the `libssh2_init' function. */
 #undef HAVE_LIBSSH2_INIT
 
+/* Define to 1 if you have the `libssh2_scp_send64' function. */
+#undef HAVE_LIBSSH2_SCP_SEND64
+
 /* Define to 1 if you have the `libssh2_version' function. */
 #undef HAVE_LIBSSH2_VERSION
 
 /* Define to 1 if you have the `ssl' library (-lssl). */
 #undef HAVE_LIBSSL
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib: curl_gethostname.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib: curl_gethostname.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib: curl_md4.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ftp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ftp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ftp.c	2010-06-10 04:13:07.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ftp.c	2010-08-10 17:19:27.000000000 +0800
@@ -3200,12 +3200,14 @@
 CURLcode ftp_sendquote(struct connectdata *conn, struct curl_slist *quote)
 {
   struct curl_slist *item;
   ssize_t nread;
   int ftpcode;
   CURLcode result;
+  struct ftp_conn *ftpc = &conn->proto.ftpc;
+  struct pingpong *pp = &ftpc->pp;
 
   item = quote;
   while(item) {
     if(item->data) {
       char *cmd = item->data;
       bool acceptfail = FALSE;
@@ -3219,12 +3221,14 @@
         cmd++;
         acceptfail = TRUE;
       }
 
       FTPSENDF(conn, "%s", cmd);
 
+      pp->response = Curl_tvnow(); /* timeout relative now */
+
       result = Curl_GetFTPResponse(&nread, conn, &ftpcode);
       if(result)
         return result;
 
       if(!acceptfail && (ftpcode >= 400)) {
         failf(conn->data, "QUOT string not accepted: %s", cmd);
@@ -3506,13 +3510,13 @@
       wildcard->pattern = strdup(path);
       if (!wildcard->pattern)
         return CURLE_OUT_OF_MEMORY;
       path[0] = '\0';
     }
     else { /* only list */
-      conn->data->set.wildcardmatch = FALSE;
+      wildcard->state = CURLWC_CLEAN;
       ret = ftp_parse_url_path(conn);
       return ret;
     }
   }
 
   /* program continues only if URL is not ending with slash, allocate needed
@@ -3523,14 +3527,16 @@
   if(!ftp_tmp) {
     return CURLE_OUT_OF_MEMORY;
   }
 
   /* INITIALIZE parselist structure */
   ftp_tmp->parser = Curl_ftp_parselist_data_alloc();
-  if(!ftp_tmp->parser)
+  if(!ftp_tmp->parser) {
+    free(ftp_tmp);
     return CURLE_OUT_OF_MEMORY;
+  }
 
   wildcard->tmp = ftp_tmp; /* put it to the WildcardData tmp pointer */
   wildcard->tmp_dtor = wc_data_dtor;
 
   /* wildcard does not support NOCWD option (assert it?) */
   if(conn->data->set.ftp_filemethod == FTPFILE_NOCWD)
@@ -4169,23 +4175,25 @@
     failf(data, "FTP over http proxy requires HTTP support built-in!");
     return CURLE_UNSUPPORTED_PROTOCOL;
 #endif
   }
 
   data->state.path++;   /* don't include the initial slash */
+  data->state.slash_removed = TRUE; /* we've skipped the slash */
 
   /* FTP URLs support an extension like ";type=<typecode>" that
    * we'll try to get now! */
   type = strstr(data->state.path, ";type=");
 
   if(!type)
     type = strstr(conn->host.rawalloc, ";type=");
 
   if(type) {
     *type = 0;                     /* it was in the middle of the hostname */
     command = Curl_raw_toupper(type[6]);
+    conn->bits.type_set = TRUE;
 
     switch (command) {
     case 'A': /* ASCII mode */
       data->set.prefer_ascii = TRUE;
       break;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ftplistparser.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ftplistparser.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ftplistparser.c	2010-06-10 18:16:03.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ftplistparser.c	2010-06-25 05:45:33.000000000 +0800
@@ -58,25 +58,31 @@
 #include "memdebug.h"
 
 /* allocs buffer which will contain one line of LIST command response */
 #define FTP_BUFFER_ALLOCSIZE 160
 
 typedef enum {
-  PL_UNIX_FILETYPE = 0,
+  PL_UNIX_TOTALSIZE = 0,
+  PL_UNIX_FILETYPE,
   PL_UNIX_PERMISSION,
   PL_UNIX_HLINKS,
   PL_UNIX_USER,
   PL_UNIX_GROUP,
   PL_UNIX_SIZE,
   PL_UNIX_TIME,
   PL_UNIX_FILENAME,
   PL_UNIX_SYMLINK
 } pl_unix_mainstate;
 
 typedef union {
   enum {
+    PL_UNIX_TOTALSIZE_INIT = 0,
+    PL_UNIX_TOTALSIZE_READING
+  } total_dirsize;
+
+  enum {
     PL_UNIX_HLINKS_PRESPACE = 0,
     PL_UNIX_HLINKS_NUMBER
   } hlinks;
 
   enum {
     PL_UNIX_USER_PRESPACE = 0,
@@ -393,13 +399,13 @@
       parser->file_data->b_size = FTP_BUFFER_ALLOCSIZE;
       parser->item_offset = 0;
       parser->item_length = 0;
     }
 
     finfo = parser->file_data;
-    finfo->b_data[finfo->b_used++] = buffer[i];
+    finfo->b_data[finfo->b_used++] = c;
 
     if(finfo->b_used >= finfo->b_size - 1) {
       /* if it is important, extend buffer space for file data */
       char *tmp = realloc(finfo->b_data,
                           finfo->b_size + FTP_BUFFER_ALLOCSIZE);
       if(tmp) {
@@ -415,12 +421,55 @@
       }
     }
 
     switch (parser->os_type) {
     case OS_TYPE_UNIX:
       switch (parser->state.UNIX.main) {
+      case PL_UNIX_TOTALSIZE:
+        switch(parser->state.UNIX.sub.total_dirsize) {
+        case PL_UNIX_TOTALSIZE_INIT:
+          if(c == 't') {
+            parser->state.UNIX.sub.total_dirsize = PL_UNIX_TOTALSIZE_READING;
+            parser->item_length++;
+          }
+          else {
+            parser->state.UNIX.main = PL_UNIX_FILETYPE;
+            /* start FSM again not considering size of directory */
+            finfo->b_used = 0;
+            i--;
+          }
+          break;
+        case PL_UNIX_TOTALSIZE_READING:
+          parser->item_length++;
+          if(c == '\r') {
+            parser->item_length--;
+            finfo->b_used--;
+          }
+          else if(c == '\n') {
+            finfo->b_data[parser->item_length - 1] = 0;
+            if(strncmp("total ", finfo->b_data, 6) == 0) {
+              char *endptr = NULL;
+              /* here we can deal with directory size */
+              curlx_strtoofft(finfo->b_data+6, &endptr, 10);
+              if(*endptr != 0) {
+                PL_ERROR(conn, CURLE_FTP_BAD_FILE_LIST);
+                return bufflen;
+              }
+              else {
+                parser->state.UNIX.main = PL_UNIX_FILETYPE;
+                finfo->b_used = 0;
+              }
+            }
+            else {
+              PL_ERROR(conn, CURLE_FTP_BAD_FILE_LIST);
+              return bufflen;
+            }
+          }
+          break;
+        }
+        break;
       case PL_UNIX_FILETYPE:
         switch (c) {
         case '-':
           finfo->filetype = CURLFILETYPE_FILE;
           break;
         case 'd':
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/hostthre.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/hostthre.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/hostthre.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/hostthre.c	2010-08-02 02:35:13.000000000 +0800
@@ -448,12 +448,15 @@
 
     if (td->poll_interval > 250)
       td->poll_interval = 250;
 
     td->interval_end = elapsed + td->poll_interval;
 
+    /* Reset old timer so we can set a new one further in the future */
+    Curl_expire(conn->data, 0);
+
     Curl_expire(conn->data, td->poll_interval);
   }
 
   return CURLE_OK;
 }
 
@@ -481,14 +484,12 @@
  */
 Curl_addrinfo *Curl_getaddrinfo(struct connectdata *conn,
                                 const char *hostname,
                                 int port,
                                 int *waitp)
 {
-  struct hostent *h = NULL;
-  struct SessionHandle *data = conn->data;
   struct in_addr in;
 
   *waitp = 0; /* default to synchronous response */
 
   if(Curl_inet_pton(AF_INET, hostname, &in) > 0)
     /* This is a dotted IP address 123.123.123.123-style */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/http.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/http.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/http.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/http.c	2010-08-10 17:19:27.000000000 +0800
@@ -974,18 +974,21 @@
  * Curl_add_buffer_send() sends a header buffer and frees all associated
  * memory.  Body data may be appended to the header data if desired.
  *
  * Returns CURLcode
  */
 CURLcode Curl_add_buffer_send(Curl_send_buffer *in,
-                         struct connectdata *conn,
-                         long *bytes_written, /* add the number of sent bytes
-                                                 to this counter */
-                         size_t included_body_bytes, /* how much of the buffer
-                                                        contains body data */
-                         int socketindex)
+                              struct connectdata *conn,
+
+                               /* add the number of sent bytes to this
+                                  counter */
+                              long *bytes_written,
+
+                               /* how much of the buffer contains body data */
+                              size_t included_body_bytes,
+                              int socketindex)
 
 {
   ssize_t amount;
   CURLcode res;
   char *ptr;
   size_t size;
@@ -1066,13 +1069,16 @@
     }
     if(bodylen)
       /* since we sent a piece of the body here, up the byte counter for it
          accordingly */
       http->writebytecount += bodylen;
 
-    *bytes_written += amount;
+    /* 'amount' can never be a very large value here so typecasting it so a
+       signed 31 bit value should not cause problems even if ssize_t is
+       64bit */
+    *bytes_written += (long)amount;
 
     if(http) {
       if((size_t)amount != size) {
         /* The whole request could not be sent in one system call. We must
            queue it up and send it later when we get the chance. We must not
            loop here and wait until it might work again. */
@@ -1377,13 +1383,13 @@
           /* CRLF terminate the request */
           result = Curl_add_bufferf(req_buffer, "\r\n");
 
         if(CURLE_OK == result) {
           /* Now send off the request */
           result = Curl_add_buffer_send(req_buffer, conn,
-                                   &data->info.request_size, 0, sockindex);
+                                        &data->info.request_size, 0, sockindex);
         }
         req_buffer = NULL;
         if(result)
           failf(data, "Failed sending CONNECT to proxy");
       }
       free(host_port);
@@ -2219,13 +2225,16 @@
       Curl_compareheader(ptr, "Transfer-Encoding:", "chunked");
   }
   else {
     if((conn->protocol&PROT_HTTP) &&
         data->set.upload &&
         (data->set.infilesize == -1)) {
-      if (use_http_1_1(data, conn)) {
+      if(conn->bits.authneg)
+        /* don't enable chunked during auth neg */
+        ;
+      else if(use_http_1_1(data, conn)) {
         /* HTTP, upload, unknown file size and not HTTP 1.0 */
         data->req.upload_chunky = TRUE;
       }
       else {
         failf(data, "Chunky upload is not supported by HTTP 1.0");
         return CURLE_UPLOAD_FAILED;
@@ -2524,13 +2533,14 @@
   if (result)
     return result;
 
   /* url */
   if (paste_ftp_userpwd)
     result = Curl_add_bufferf(req_buffer, "ftp://%s:%s@%s",
-        conn->user, conn->passwd, ppath + sizeof("ftp://") - 1);
+                              conn->user, conn->passwd,
+                              ppath + sizeof("ftp://") - 1);
   else
     result = Curl_add_buffer(req_buffer, ppath, strlen(ppath));
   if (result)
     return result;
 
   result = Curl_add_bufferf(req_buffer,
@@ -2729,13 +2739,13 @@
 
     /* set upload size to the progress meter */
     Curl_pgrsSetUploadSize(data, http->postsize);
 
     /* fire away the whole request to the server */
     result = Curl_add_buffer_send(req_buffer, conn,
-                             &data->info.request_size, 0, FIRSTSOCKET);
+                                  &data->info.request_size, 0, FIRSTSOCKET);
     if(result)
       failf(data, "Failed sending POST request");
     else
       /* setup variables for the upcoming transfer */
       Curl_setup_transfer(conn, FIRSTSOCKET, -1, TRUE,
                           &http->readbytecount, FIRSTSOCKET,
@@ -2781,13 +2791,13 @@
 
     /* set the upload size to the progress meter */
     Curl_pgrsSetUploadSize(data, postsize);
 
     /* this sends the buffer and frees all the buffer resources */
     result = Curl_add_buffer_send(req_buffer, conn,
-                             &data->info.request_size, 0, FIRSTSOCKET);
+                                  &data->info.request_size, 0, FIRSTSOCKET);
     if(result)
       failf(data, "Failed sending PUT request");
     else
       /* prepare for transfer */
       Curl_setup_transfer(conn, FIRSTSOCKET, -1, TRUE,
                           &http->readbytecount, postsize?FIRSTSOCKET:-1,
@@ -2930,13 +2940,13 @@
           http->postsize = postsize;
         }
       }
     }
     /* issue the request */
     result = Curl_add_buffer_send(req_buffer, conn, &data->info.request_size,
-                             (size_t)included_body, FIRSTSOCKET);
+                                  (size_t)included_body, FIRSTSOCKET);
 
     if(result)
       failf(data, "Failed sending HTTP POST request");
     else
       Curl_setup_transfer(conn, FIRSTSOCKET, -1, TRUE,
                           &http->readbytecount, http->postdata?FIRSTSOCKET:-1,
@@ -2947,13 +2957,13 @@
     result = Curl_add_buffer(req_buffer, "\r\n", 2);
     if(result)
       return result;
 
     /* issue the request */
     result = Curl_add_buffer_send(req_buffer, conn,
-                             &data->info.request_size, 0, FIRSTSOCKET);
+                                  &data->info.request_size, 0, FIRSTSOCKET);
 
     if(result)
       failf(data, "Failed sending HTTP request");
     else
       /* HTTP GET/HEAD download: */
       Curl_setup_transfer(conn, FIRSTSOCKET, -1, TRUE, &http->readbytecount,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/http.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/http.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/http.h	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/http.h	2010-08-02 02:35:13.000000000 +0800
@@ -53,17 +53,16 @@
 typedef struct Curl_send_buffer Curl_send_buffer;
 
 Curl_send_buffer *Curl_add_buffer_init(void);
 CURLcode Curl_add_bufferf(Curl_send_buffer *in, const char *fmt, ...);
 CURLcode Curl_add_buffer(Curl_send_buffer *in, const void *inptr, size_t size);
 CURLcode Curl_add_buffer_send(Curl_send_buffer *in,
-                         struct connectdata *conn,
-                         long *bytes_written,
-                         size_t included_body_bytes,
-                         int socketindex);
-
+                              struct connectdata *conn,
+                              long *bytes_written,
+                              size_t included_body_bytes,
+                              int socketindex);
 
 CURLcode Curl_add_timecondition(struct SessionHandle *data,
                                 Curl_send_buffer *buf);
 CURLcode Curl_add_custom_headers(struct connectdata *conn,
                                    Curl_send_buffer *req_buffer);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/http_ntlm.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/http_ntlm.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/http_ntlm.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/http_ntlm.c	2010-08-11 06:09:48.000000000 +0800
@@ -55,12 +55,13 @@
 #include "easyif.h"  /* for Curl_convert_... prototypes */
 #include "sendf.h"
 #include "rawstr.h"
 #include "curl_base64.h"
 #include "http_ntlm.h"
 #include "url.h"
+#include "curl_gethostname.h"
 #include "curl_memory.h"
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 
 /* "NTLMSSP" signature is always in ASCII regardless of the platform */
@@ -113,12 +114,21 @@
 #include "gtls.h"
 #include <gcrypt.h>
 
 #define MD5_DIGEST_LENGTH 16
 #define MD4_DIGEST_LENGTH 16
 
+#elif defined(USE_NSS)
+
+#include "curl_md4.h"
+#include "nssg.h"
+#include <nss.h>
+#include <pk11pub.h>
+#include <hasht.h>
+#define MD5_DIGEST_LENGTH MD5_LENGTH
+
 #elif defined(USE_WINDOWS_SSPI)
 
 #include "curl_sspi.h"
 
 #else
 #    error "Can't compile NTLM support without a crypto library."
@@ -247,12 +257,17 @@
   /* point to the correct struct with this */
   struct ntlmdata *ntlm;
 #ifndef USE_WINDOWS_SSPI
   static const char type2_marker[] = { 0x02, 0x00, 0x00, 0x00 };
 #endif
 
+#ifdef USE_NSS
+  if(CURLE_OK != Curl_nss_force_init(conn->data))
+    return CURLNTLM_BAD;
+#endif
+
   ntlm = proxy?&conn->proxyntlm:&conn->ntlm;
 
   /* skip initial whitespaces */
   while(*header && ISSPACE(*header))
     header++;
 
@@ -348,34 +363,106 @@
   key[6] = (unsigned char)(((key_56[5] << 2) & 0xFF) | (key_56[6] >> 6));
   key[7] = (unsigned char) ((key_56[6] << 1) & 0xFF);
 
   DES_set_odd_parity(&key);
   DES_set_key(&key, ks);
 }
-#elif defined(USE_GNUTLS)
+
+#else /* defined(USE_SSLEAY) */
 
 /*
- * Turns a 56 bit key into the 64 bit, odd parity key and sets the key.
+ * Turns a 56 bit key into the 64 bit, odd parity key.  Used by GnuTLS and NSS.
  */
-static void setup_des_key(const unsigned char *key_56,
-                          gcry_cipher_hd_t *des)
+static void extend_key_56_to_64(const unsigned char *key_56, char *key)
 {
-  char key[8];
-
   key[0] = key_56[0];
   key[1] = (unsigned char)(((key_56[0] << 7) & 0xFF) | (key_56[1] >> 1));
   key[2] = (unsigned char)(((key_56[1] << 6) & 0xFF) | (key_56[2] >> 2));
   key[3] = (unsigned char)(((key_56[2] << 5) & 0xFF) | (key_56[3] >> 3));
   key[4] = (unsigned char)(((key_56[3] << 4) & 0xFF) | (key_56[4] >> 4));
   key[5] = (unsigned char)(((key_56[4] << 3) & 0xFF) | (key_56[5] >> 5));
   key[6] = (unsigned char)(((key_56[5] << 2) & 0xFF) | (key_56[6] >> 6));
   key[7] = (unsigned char) ((key_56[6] << 1) & 0xFF);
+}
+
+#if defined(USE_GNUTLS)
 
+/*
+ * Turns a 56 bit key into the 64 bit, odd parity key and sets the key.
+ */
+static void setup_des_key(const unsigned char *key_56,
+                          gcry_cipher_hd_t *des)
+{
+  char key[8];
+  extend_key_56_to_64(key_56, key);
   gcry_cipher_setkey(*des, key, 8);
 }
-#endif
+
+#elif defined(USE_NSS)
+
+/*
+ * Expands a 56 bit key KEY_56 to 64 bit and encrypts 64 bit of data, using
+ * the expanded key.  The caller is responsible for giving 64 bit of valid
+ * data is IN and (at least) 64 bit large buffer as OUT.
+ */
+static bool encrypt_des(const unsigned char *in, unsigned char *out,
+                        const unsigned char *key_56)
+{
+  const CK_MECHANISM_TYPE mech = CKM_DES_ECB; /* DES cipher in ECB mode */
+  PK11SlotInfo *slot = NULL;
+  char key[8];                                /* expanded 64 bit key */
+  SECItem key_item;
+  PK11SymKey *symkey = NULL;
+  SECItem *param = NULL;
+  PK11Context *ctx = NULL;
+  int out_len;                                /* not used, required by NSS */
+  bool rv = FALSE;
+
+  /* use internal slot for DES encryption (requires NSS to be initialized) */
+  slot = PK11_GetInternalKeySlot();
+  if(!slot)
+    return FALSE;
+
+  /* expand the 56 bit key to 64 bit and wrap by NSS */
+  extend_key_56_to_64(key_56, key);
+  key_item.data = (unsigned char *)key;
+  key_item.len = /* hard-wired */ 8;
+  symkey = PK11_ImportSymKey(slot, mech, PK11_OriginUnwrap, CKA_ENCRYPT,
+                             &key_item, NULL);
+  if(!symkey)
+    goto fail;
+
+  /* create DES encryption context */
+  param = PK11_ParamFromIV(mech, /* no IV in ECB mode */ NULL);
+  if(!param)
+    goto fail;
+  ctx = PK11_CreateContextBySymKey(mech, CKA_ENCRYPT, symkey, param);
+  if(!ctx)
+    goto fail;
+
+  /* perform the encryption */
+  if(SECSuccess == PK11_CipherOp(ctx, out, &out_len, /* outbuflen */ 8,
+                                 (unsigned char *)in, /* inbuflen */ 8)
+      && SECSuccess == PK11_Finalize(ctx))
+    rv = /* all OK */ TRUE;
+
+fail:
+  /* cleanup */
+  if(ctx)
+    PK11_DestroyContext(ctx, PR_TRUE);
+  if(symkey)
+    PK11_FreeSymKey(symkey);
+  if(param)
+    SECITEM_FreeItem(param, PR_TRUE);
+  PK11_FreeSlot(slot);
+  return rv;
+}
+
+#endif /* defined(USE_NSS) */
+
+#endif /* defined(USE_SSLEAY) */
 
  /*
   * takes a 21 byte array and treats it as 3 56-bit DES keys. The
   * 8 byte plaintext is encrypted with each key and the resulting 24
   * bytes are stored in the results array.
   */
@@ -411,12 +498,16 @@
   gcry_cipher_close(des);
 
   gcry_cipher_open(&des, GCRY_CIPHER_DES, GCRY_CIPHER_MODE_ECB, 0);
   setup_des_key(keys+14, &des);
   gcry_cipher_encrypt(des, results+16, 8, plaintext, 8);
   gcry_cipher_close(des);
+#elif defined(USE_NSS)
+  encrypt_des(plaintext, results,    keys);
+  encrypt_des(plaintext, results+8,  keys+7);
+  encrypt_des(plaintext, results+16, keys+14);
 #endif
 }
 
 
 /*
  * Set up lanmanager hashed password
@@ -467,17 +558,20 @@
     gcry_cipher_close(des);
 
     gcry_cipher_open(&des, GCRY_CIPHER_DES, GCRY_CIPHER_MODE_ECB, 0);
     setup_des_key(pw+7, &des);
     gcry_cipher_encrypt(des, lmbuffer+8, 8, magic, 8);
     gcry_cipher_close(des);
+#elif defined(USE_NSS)
+    encrypt_des(magic, lmbuffer,   pw);
+    encrypt_des(magic, lmbuffer+8, pw+7);
 #endif
 
     memset(lmbuffer + 16, 0, 21 - 16);
   }
-  }
+}
 
 #if USE_NTRESPONSES
 static void ascii_to_unicode_le(unsigned char *dest, const char *src,
                                size_t srclen)
 {
   size_t i;
@@ -522,12 +616,14 @@
 #elif defined(USE_GNUTLS)
     gcry_md_hd_t MD4pw;
     gcry_md_open(&MD4pw, GCRY_MD_MD4, 0);
     gcry_md_write(MD4pw, pw, 2*len);
     memcpy (ntbuffer, gcry_md_read (MD4pw, 0), MD4_DIGEST_LENGTH);
     gcry_md_close(MD4pw);
+#elif defined(USE_NSS)
+    Curl_md4it(ntbuffer, pw, 2*len);
 #endif
 
     memset(ntbuffer + 16, 0, 21 - 16);
   }
 
   free(pw);
@@ -596,12 +692,17 @@
   struct ntlmdata *ntlm;
   struct auth *authp;
 
   DEBUGASSERT(conn);
   DEBUGASSERT(conn->data);
 
+#ifdef USE_NSS
+  if(CURLE_OK != Curl_nss_force_init(conn->data))
+    return CURLE_OUT_OF_MEMORY;
+#endif
+
   if(proxy) {
     allocuserpwd = &conn->allocptr.proxyuserpwd;
     userp = conn->proxyuser;
     passwdp = conn->proxypasswd;
     ntlm = &conn->proxyntlm;
     authp = &conn->data->state.authproxy;
@@ -891,13 +992,13 @@
       user++;
     }
     else
       user = userp;
     userlen = strlen(user);
 
-    if(gethostname(host, HOSTNAME_MAX)) {
+    if(Curl_gethostname(host, HOSTNAME_MAX)) {
       infof(conn->data, "gethostname() failed, continuing without!");
       hostlen = 0;
     }
     else {
       /* If the workstation if configured with a full DNS name (i.e.
        * workstation.somewhere.net) gethostname() returns the fully qualified
@@ -923,12 +1024,17 @@
       Curl_ossl_seed(conn->data); /* Initiate the seed if not already done */
       RAND_bytes(entropy,8);
 #elif defined(USE_GNUTLS)
       gcry_md_hd_t MD5pw;
       Curl_gtls_seed(conn->data); /* Initiate the seed if not already done */
       gcry_randomize(entropy, 8, GCRY_STRONG_RANDOM);
+#elif defined(USE_NSS)
+      PK11Context *MD5pw;
+      unsigned int outlen;
+      Curl_nss_seed(conn->data);  /* Initiate the seed if not already done */
+      PK11_GenerateRandom(entropy, 8);
 #endif
 
       /* 8 bytes random data as challenge in lmresp */
       memcpy(lmresp,entropy,8);
       /* Pad with zeros */
       memset(lmresp+8,0,0x10);
@@ -943,12 +1049,17 @@
       MD5_Final(md5sum, &MD5pw);
 #elif defined(USE_GNUTLS)
       gcry_md_open(&MD5pw, GCRY_MD_MD5, 0);
       gcry_md_write(MD5pw, tmp, MD5_DIGEST_LENGTH);
       memcpy(md5sum, gcry_md_read (MD5pw, 0), MD5_DIGEST_LENGTH);
       gcry_md_close(MD5pw);
+#elif defined(USE_NSS)
+      MD5pw = PK11_CreateDigestContext(SEC_OID_MD5);
+      PK11_DigestOp(MD5pw, tmp, 16);
+      PK11_DigestFinal(MD5pw, md5sum, &outlen, MD5_DIGEST_LENGTH);
+      PK11_DestroyContext(MD5pw, PR_TRUE);
 #endif
 
       /* We shall only use the first 8 bytes of md5sum,
          but the des code in lm_resp only encrypt the first 8 bytes */
       if(mk_nt_hash(conn->data, passwdp, ntbuffer) == CURLE_OUT_OF_MEMORY)
         return CURLE_OUT_OF_MEMORY;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/libcurl.plist /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/libcurl.plist
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/libcurl.plist	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/libcurl.plist	2010-08-12 05:36:29.000000000 +0800
@@ -12,24 +12,24 @@
 	<string>curl</string>
 	
 	<key>CFBundleIdentifier</key>
 	<string>com.libcurl.libcurl</string>
 	
 	<key>CFBundleVersion</key>
-	<string>7.21.0</string>
+	<string>7.21.1</string>
 
 	<key>CFBundleName</key>
 	<string>libcurl</string>
 
 	<key>CFBundlePackageType</key>
 	<string>FMWK</string>	
 	 
 	<key>CFBundleSignature</key>
 	<string>????</string>	
 	
 	<key>CFBundleShortVersionString</key>
-	<string>libcurl 7.21.0</string>
+	<string>libcurl 7.21.1</string>
 	
 	<key>CFBundleGetInfoString</key>
-	<string>libcurl.plist 7.21.0</string>
+	<string>libcurl.plist 7.21.1</string>
 </dict>
 </plist>
\ No newline at end of file
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/libcurl.vcproj /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/libcurl.vcproj
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/libcurl.vcproj	2010-06-16 19:49:50.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/libcurl.vcproj	2010-08-12 05:36:12.000000000 +0800
@@ -106,12 +106,13 @@
 <File RelativePath="base64.c"></File>
 <File RelativePath="connect.c"></File>
 <File RelativePath="content_encoding.c"></File>
 <File RelativePath="cookie.c"></File>
 <File RelativePath="curl_addrinfo.c"></File>
 <File RelativePath="curl_fnmatch.c"></File>
+<File RelativePath="curl_gethostname.c"></File>
 <File RelativePath="curl_memrchr.c"></File>
 <File RelativePath="curl_rand.c"></File>
 <File RelativePath="curl_rtmp.c"></File>
 <File RelativePath="curl_sspi.c"></File>
 <File RelativePath="curl_threads.c"></File>
 <File RelativePath="dict.c"></File>
@@ -144,12 +145,13 @@
 <File RelativePath="inet_ntop.c"></File>
 <File RelativePath="inet_pton.c"></File>
 <File RelativePath="krb4.c"></File>
 <File RelativePath="krb5.c"></File>
 <File RelativePath="ldap.c"></File>
 <File RelativePath="llist.c"></File>
+<File RelativePath="md4.c"></File>
 <File RelativePath="md5.c"></File>
 <File RelativePath="memdebug.c"></File>
 <File RelativePath="mprintf.c"></File>
 <File RelativePath="multi.c"></File>
 <File RelativePath="netrc.c"></File>
 <File RelativePath="nonblock.c"></File>
@@ -196,14 +198,16 @@
 <File RelativePath="connect.h"></File>
 <File RelativePath="content_encoding.h"></File>
 <File RelativePath="cookie.h"></File>
 <File RelativePath="curl_addrinfo.h"></File>
 <File RelativePath="curl_base64.h"></File>
 <File RelativePath="curl_fnmatch.h"></File>
+<File RelativePath="curl_gethostname.h"></File>
 <File RelativePath="curl_hmac.h"></File>
 <File RelativePath="curl_ldap.h"></File>
+<File RelativePath="curl_md4.h"></File>
 <File RelativePath="curl_md5.h"></File>
 <File RelativePath="curl_memory.h"></File>
 <File RelativePath="curl_memrchr.h"></File>
 <File RelativePath="curl_rand.h"></File>
 <File RelativePath="curl_rtmp.h"></File>
 <File RelativePath="curl_sspi.h"></File>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/llist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/llist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/llist.c	2010-05-22 05:49:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/llist.c	2010-08-10 20:44:09.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -28,14 +28,14 @@
 #include "llist.h"
 #include "curl_memory.h"
 
 /* this must be the last include file */
 #include "memdebug.h"
 
-void
-Curl_llist_init(struct curl_llist *l, curl_llist_dtor dtor)
+static void
+llist_init(struct curl_llist *l, curl_llist_dtor dtor)
 {
   l->size = 0;
   l->dtor = dtor;
   l->head = NULL;
   l->tail = NULL;
 }
@@ -46,13 +46,13 @@
   struct curl_llist *list;
 
   list = malloc(sizeof(struct curl_llist));
   if(NULL == list)
     return NULL;
 
-  Curl_llist_init(list, dtor);
+  llist_init(list, dtor);
 
   return list;
 }
 
 /*
  * Curl_llist_insert_next() returns 1 on success and 0 on failure.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/llist.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/llist.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/llist.h	2010-05-22 05:49:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/llist.h	2010-08-10 17:07:38.000000000 +0800
@@ -4,13 +4,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2008, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -40,22 +40,17 @@
 
   curl_llist_dtor dtor;
 
   size_t size;
 };
 
-void Curl_llist_init(struct curl_llist *, curl_llist_dtor);
 struct curl_llist *Curl_llist_alloc(curl_llist_dtor);
 int Curl_llist_insert_next(struct curl_llist *, struct curl_llist_element *,
                            const void *);
-int Curl_llist_insert_prev(struct curl_llist *, struct curl_llist_element *,
-                           const void *);
 int Curl_llist_remove(struct curl_llist *, struct curl_llist_element *,
                       void *);
-int Curl_llist_remove_next(struct curl_llist *, struct curl_llist_element *,
-                           void *);
 size_t Curl_llist_count(struct curl_llist *);
 void Curl_llist_destroy(struct curl_llist *, void *);
 int Curl_llist_move(struct curl_llist *, struct curl_llist_element *,
                     struct curl_llist *, struct curl_llist_element *);
 
 #endif
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.am	2010-04-01 05:04:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.am	2010-08-02 02:35:13.000000000 +0800
@@ -41,12 +41,15 @@
 
 CLEANFILES = $(DSP) $(VCPROJ)
 
 lib_LTLIBRARIES = libcurl.la
 LIBCURL_LIBS = @LIBCURL_LIBS@
 
+# This might hold -Werror
+CFLAGS += @CURL_CFLAG_EXTRAS@
+
 # Specify our include paths here, and do it relative to $(top_srcdir) and
 # $(top_builddir), to ensure that these paths which belong to the library
 # being currently built and tested are searched before the library which
 # might possibly already be installed in the system.
 #
 # $(top_builddir)/include/curl for generated curlbuild.h included from curl.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -12,12 +12,19 @@
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
 
 # ./lib/Makefile.inc
+# Using the backslash as line continuation character might be problematic
+# with some make flavours, as Watcom's wmake showed us already. If we
+# ever want to change this in a portable manner then we should consider
+# this idea (posted to the libcurl list by Adam Kellas):
+# CSRC1 = file1.c file2.c file3.c
+# CSRC2 = file4.c file5.c file6.c
+# CSOURCES = $(CSRC1) $(CSRC2)
 
 srcdir = @srcdir@
 top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -71,22 +78,22 @@
 	formdata.lo cookie.lo http.lo sendf.lo ftp.lo url.lo dict.lo \
 	if2ip.lo speedcheck.lo ldap.lo ssluse.lo version.lo getenv.lo \
 	escape.lo mprintf.lo telnet.lo netrc.lo getinfo.lo transfer.lo \
 	strequal.lo easy.lo security.lo krb4.lo curl_fnmatch.lo \
 	fileinfo.lo ftplistparser.lo wildcard.lo krb5.lo memdebug.lo \
 	http_chunks.lo strtok.lo connect.lo llist.lo hash.lo multi.lo \
-	content_encoding.lo share.lo http_digest.lo md5.lo \
+	content_encoding.lo share.lo http_digest.lo md4.lo md5.lo \
 	curl_rand.lo http_negotiate.lo http_ntlm.lo inet_pton.lo \
 	strtoofft.lo strerror.lo hostares.lo hostasyn.lo hostip4.lo \
 	hostip6.lo hostsyn.lo hostthre.lo inet_ntop.lo parsedate.lo \
 	select.lo gtls.lo sslgen.lo tftp.lo splay.lo strdup.lo \
 	socks.lo ssh.lo nss.lo qssl.lo rawstr.lo curl_addrinfo.lo \
 	socks_gssapi.lo socks_sspi.lo curl_sspi.lo slist.lo \
 	nonblock.lo curl_memrchr.lo imap.lo pop3.lo smtp.lo \
 	pingpong.lo rtsp.lo curl_threads.lo warnless.lo hmac.lo \
-	polarssl.lo curl_rtmp.lo openldap.lo
+	polarssl.lo curl_rtmp.lo openldap.lo curl_gethostname.lo
 am__objects_2 =
 am_libcurl_la_OBJECTS = $(am__objects_1) $(am__objects_2)
 libcurl_la_OBJECTS = $(am_libcurl_la_OBJECTS)
 DEFAULT_INCLUDES = 
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
@@ -110,23 +117,28 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
-CFLAGS = @CFLAGS@
+
+# This might hold -Werror
+CFLAGS = @CFLAGS@ @CURL_CFLAG_EXTRAS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -135,22 +147,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
@@ -381,36 +395,36 @@
 @MIMPURE_TRUE@MIMPURE = -mimpure-text
 libcurl_la_LDFLAGS = $(UNDEF) $(VERSIONINFO) $(MIMPURE) $(LIBCURL_LIBS)
 CSOURCES = file.c timeval.c base64.c hostip.c progress.c formdata.c	\
   cookie.c http.c sendf.c ftp.c url.c dict.c if2ip.c speedcheck.c	\
   ldap.c ssluse.c version.c getenv.c escape.c mprintf.c telnet.c	\
   netrc.c getinfo.c transfer.c strequal.c easy.c security.c krb4.c	\
-  curl_fnmatch.c fileinfo.c ftplistparser.c wildcard.c \
-  krb5.c memdebug.c http_chunks.c strtok.c connect.c llist.c hash.c	\
-  multi.c content_encoding.c share.c http_digest.c md5.c curl_rand.c	\
+  curl_fnmatch.c fileinfo.c ftplistparser.c wildcard.c krb5.c		\
+  memdebug.c http_chunks.c strtok.c connect.c llist.c hash.c multi.c	\
+  content_encoding.c share.c http_digest.c md4.c md5.c curl_rand.c	\
   http_negotiate.c http_ntlm.c inet_pton.c strtoofft.c strerror.c	\
   hostares.c hostasyn.c hostip4.c hostip6.c hostsyn.c hostthre.c	\
   inet_ntop.c parsedate.c select.c gtls.c sslgen.c tftp.c splay.c	\
   strdup.c socks.c ssh.c nss.c qssl.c rawstr.c curl_addrinfo.c          \
   socks_gssapi.c socks_sspi.c curl_sspi.c slist.c nonblock.c		\
   curl_memrchr.c imap.c pop3.c smtp.c pingpong.c rtsp.c curl_threads.c	\
-  warnless.c hmac.c polarssl.c curl_rtmp.c openldap.c
+  warnless.c hmac.c polarssl.c curl_rtmp.c openldap.c curl_gethostname.c
 
 HHEADERS = arpa_telnet.h netrc.h file.h timeval.h qssl.h hostip.h	\
   progress.h formdata.h cookie.h http.h sendf.h ftp.h url.h dict.h	\
   if2ip.h speedcheck.h urldata.h curl_ldap.h ssluse.h escape.h telnet.h	\
   getinfo.h strequal.h krb4.h memdebug.h http_chunks.h curl_rand.h	\
-  curl_fnmatch.h wildcard.h fileinfo.h ftplistparser.h \
-  strtok.h connect.h llist.h hash.h content_encoding.h share.h		\
+  curl_fnmatch.h wildcard.h fileinfo.h ftplistparser.h strtok.h		\
+  connect.h llist.h hash.h content_encoding.h share.h curl_md4.h	\
   curl_md5.h http_digest.h http_negotiate.h http_ntlm.h inet_pton.h	\
   strtoofft.h strerror.h inet_ntop.h curlx.h curl_memory.h setup.h	\
   transfer.h select.h easyif.h multiif.h parsedate.h sslgen.h gtls.h	\
   tftp.h sockaddr.h splay.h strdup.h setup_once.h socks.h ssh.h nssg.h	\
   curl_base64.h rawstr.h curl_addrinfo.h curl_sspi.h slist.h nonblock.h	\
   curl_memrchr.h imap.h pop3.h smtp.h pingpong.h rtsp.h curl_threads.h	\
-  warnless.h curl_hmac.h polarssl.h curl_rtmp.h
+  warnless.h curl_hmac.h polarssl.h curl_rtmp.h curl_gethostname.h
 
 
 # Makefile.inc provides the CSOURCES and HHEADERS defines
 libcurl_la_SOURCES = $(CSOURCES) $(HHEADERS)
 WIN32SOURCES = $(CSOURCES)
 WIN32HEADERS = $(HHEADERS) config-win32.h
@@ -506,12 +520,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/base64.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/connect.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/content_encoding.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cookie.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_addrinfo.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_fnmatch.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_gethostname.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_memrchr.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_rand.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_rtmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_sspi.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_threads.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dict.Plo@am__quote@
@@ -544,12 +559,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/inet_ntop.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/inet_pton.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/krb4.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/krb5.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ldap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/llist.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/md4.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/md5.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memdebug.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mprintf.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/multi.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/netrc.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nonblock.Plo@am__quote@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.inc	2010-05-25 06:32:27.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.inc	2010-08-02 02:35:13.000000000 +0800
@@ -1,30 +1,38 @@
 # ./lib/Makefile.inc
+# Using the backslash as line continuation character might be problematic
+# with some make flavours, as Watcom's wmake showed us already. If we
+# ever want to change this in a portable manner then we should consider
+# this idea (posted to the libcurl list by Adam Kellas):
+# CSRC1 = file1.c file2.c file3.c
+# CSRC2 = file4.c file5.c file6.c
+# CSOURCES = $(CSRC1) $(CSRC2)
 
 CSOURCES = file.c timeval.c base64.c hostip.c progress.c formdata.c	\
   cookie.c http.c sendf.c ftp.c url.c dict.c if2ip.c speedcheck.c	\
   ldap.c ssluse.c version.c getenv.c escape.c mprintf.c telnet.c	\
   netrc.c getinfo.c transfer.c strequal.c easy.c security.c krb4.c	\
-  curl_fnmatch.c fileinfo.c ftplistparser.c wildcard.c \
-  krb5.c memdebug.c http_chunks.c strtok.c connect.c llist.c hash.c	\
-  multi.c content_encoding.c share.c http_digest.c md5.c curl_rand.c	\
+  curl_fnmatch.c fileinfo.c ftplistparser.c wildcard.c krb5.c		\
+  memdebug.c http_chunks.c strtok.c connect.c llist.c hash.c multi.c	\
+  content_encoding.c share.c http_digest.c md4.c md5.c curl_rand.c	\
   http_negotiate.c http_ntlm.c inet_pton.c strtoofft.c strerror.c	\
   hostares.c hostasyn.c hostip4.c hostip6.c hostsyn.c hostthre.c	\
   inet_ntop.c parsedate.c select.c gtls.c sslgen.c tftp.c splay.c	\
   strdup.c socks.c ssh.c nss.c qssl.c rawstr.c curl_addrinfo.c          \
   socks_gssapi.c socks_sspi.c curl_sspi.c slist.c nonblock.c		\
   curl_memrchr.c imap.c pop3.c smtp.c pingpong.c rtsp.c curl_threads.c	\
-  warnless.c hmac.c polarssl.c curl_rtmp.c openldap.c
+  warnless.c hmac.c polarssl.c curl_rtmp.c openldap.c curl_gethostname.c
 
 HHEADERS = arpa_telnet.h netrc.h file.h timeval.h qssl.h hostip.h	\
   progress.h formdata.h cookie.h http.h sendf.h ftp.h url.h dict.h	\
   if2ip.h speedcheck.h urldata.h curl_ldap.h ssluse.h escape.h telnet.h	\
   getinfo.h strequal.h krb4.h memdebug.h http_chunks.h curl_rand.h	\
-  curl_fnmatch.h wildcard.h fileinfo.h ftplistparser.h \
-  strtok.h connect.h llist.h hash.h content_encoding.h share.h		\
+  curl_fnmatch.h wildcard.h fileinfo.h ftplistparser.h strtok.h		\
+  connect.h llist.h hash.h content_encoding.h share.h curl_md4.h	\
   curl_md5.h http_digest.h http_negotiate.h http_ntlm.h inet_pton.h	\
   strtoofft.h strerror.h inet_ntop.h curlx.h curl_memory.h setup.h	\
   transfer.h select.h easyif.h multiif.h parsedate.h sslgen.h gtls.h	\
   tftp.h sockaddr.h splay.h strdup.h setup_once.h socks.h ssh.h nssg.h	\
   curl_base64.h rawstr.h curl_addrinfo.h curl_sspi.h slist.h nonblock.h	\
   curl_memrchr.h imap.h pop3.h smtp.h pingpong.h rtsp.h curl_threads.h	\
-  warnless.h curl_hmac.h polarssl.h curl_rtmp.h
+  warnless.h curl_hmac.h polarssl.h curl_rtmp.h curl_gethostname.h
+
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.m32 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.m32
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.m32	2010-04-25 05:25:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.m32	2010-08-02 02:35:13.000000000 +0800
@@ -1,33 +1,33 @@
 #########################################################################
 #
 ## Makefile for building libcurl.a with MingW32 (GCC-3.2 or later)
-## and optionally OpenSSL (0.9.8), libssh2 (1.1), zlib (1.2.3)
+## and optionally OpenSSL (0.9.8), libssh2 (1.2), zlib (1.2.5)
 ##
 ## Usage:
 ## mingw32-make -f Makefile.m32 [SSL=1] [SSH2=1] [ZLIB=1] [IDN=1] [SSPI=1] [IPV6=1] [LDAPS=1] [DYN=1]
 ##
 ## Hint: you can also set environment vars to control the build, f.e.:
-## set ZLIB_PATH=c:/zlib-1.2.3
+## set ZLIB_PATH=c:/zlib-1.2.5
 ## set ZLIB=1
 ##
 ## Comments to: Troy Engel <tengel@sonic.net> or
 ##              Joern Hartroth <hartroth@acm.org>
 #########################################################################
 
 # Edit the path below to point to the base of your Zlib sources.
 ifndef ZLIB_PATH
 ZLIB_PATH = ../../zlib-1.2.5
 endif
 # Edit the path below to point to the base of your OpenSSL package.
 ifndef OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8n
+OPENSSL_PATH = ../../openssl-0.9.8o
 endif
 # Edit the path below to point to the base of your LibSSH2 package.
 ifndef LIBSSH2_PATH
-LIBSSH2_PATH = ../../libssh2-1.2.5
+LIBSSH2_PATH = ../../libssh2-1.2.6
 endif
 # Edit the path below to point to the base of your libidn package.
 ifndef LIBIDN_PATH
 LIBIDN_PATH = ../../libidn-1.18
 endif
 # Edit the path below to point to the base of your Novell LDAP NDK.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.netware /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.netware
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.netware	2010-04-25 05:25:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.netware	2010-08-07 20:08:30.000000000 +0800
@@ -16,18 +16,18 @@
 ifndef ZLIB_PATH
 ZLIB_PATH = ../../zlib-1.2.5
 endif
 
 # Edit the path below to point to the base of your OpenSSL package.
 ifndef OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8n
+OPENSSL_PATH = ../../openssl-0.9.8o
 endif
 
 # Edit the path below to point to the base of your LibSSH2 package.
 ifndef LIBSSH2_PATH
-LIBSSH2_PATH = ../../libssh2-1.2.5
+LIBSSH2_PATH = ../../libssh2-1.2.6
 endif
 
 # Edit the path below to point to the base of your libidn package.
 ifndef LIBIDN_PATH
 LIBIDN_PATH = ../../libidn-1.18
 endif
@@ -613,12 +613,15 @@
 $(CURL_INC)/curl/curlbuild.h: Makefile.netware FORCE
 	@echo Creating $@
 	@echo $(DL)/* $@ intended for NetWare target.$(DL) > $@
 	@echo $(DL)** Do not edit this file - it is created by make!$(DL) >> $@
 	@echo $(DL)** All your changes will be lost!!$(DL) >> $@
 	@echo $(DL)*/$(DL) >> $@
+	@echo $(DL)#ifndef NETWARE$(DL) >> $@
+	@echo $(DL)#error This $(notdir $@) is created for NetWare platform!$(DL) >> $@
+	@echo $(DL)#endif$(DL) >> $@
 	@echo $(DL)#ifndef __CURL_CURLBUILD_H$(DL) >> $@
 	@echo $(DL)#define __CURL_CURLBUILD_H$(DL) >> $@
 ifeq ($(LIBARCH),LIBC)
 	@echo $(DL)#define CURL_SIZEOF_LONG 4$(DL) >> $@
 	@echo $(DL)#define CURL_TYPEOF_CURL_SOCKLEN_T unsigned int$(DL) >> $@
 	@echo $(DL)#define CURL_SIZEOF_CURL_SOCKLEN_T 4$(DL) >> $@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.riscos /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.riscos
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.riscos	2010-06-02 22:51:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.riscos	2010-08-05 00:29:13.000000000 +0800
@@ -12,13 +12,13 @@
 	o.security o.select o.sendf o.speedcheck o.ssluse \
 	o.strequal o.strtok o.telnet o.timeval \
 	o.transfer o.url o.version o.strtoofft o.sslgen o.gtls \
 	o.rawstr o.curl_addrinfo o.slist o.nonblock o.curl_rand \
 	o.curl_memrchr o.imap o.pop3 o.smtp o.pingpong o.rtsp \
 	o.curl_threads o.warnless o.hmac o.md5 o.curl_rtmp \
-	o.openldap o.polarssl
+	o.openldap o.polarssl o.md4 o.curl_gethostname
 
 
 # Compile options:
 linkopts	= -o libcurl
 compileropts	= -mpoke-function-name -IUtilLib: -mthrowback
 
@@ -36,12 +36,15 @@
 o.cookie:	c.cookie
 		gcc $(compileropts) -c -o cookie.o c.cookie
 
 o.curl_addrinfo:	c.curl_addrinfo
 		gcc $(compileropts) -c -o curl_addrinfo.o c.curl_addrinfo
 
+o.curl_gethostname:	c.curl_gethostname
+		gcc $(compileropts) -c -o curl_gethostname.o c.curl_gethostname
+
 o.curl_memrchr:	c.curl_memrchr
 		gcc $(compileropts) -c -o curl_memrchr.o c.curl_memrchr
 
 o.curl_rand:	c.curl_rand
 		gcc $(compileropts) -c -o curl_rand.o c.curl_rand
 
@@ -114,12 +117,15 @@
 o.krb4:	c.krb4
 		gcc $(compileropts) -c -o krb4.o c.krb4
 
 o.ldap:	c.ldap
 		gcc $(compileropts) -IOpenLDAP: -c -o ldap.o c.ldap
 
+o.md4:		c.md4
+		gcc $(compileropts) -c -o md4.o c.md4
+
 o.md5:		c.md5
 		gcc $(compileropts) -c -o md5.o c.md5
 
 o.memdebug:	c.memdebug
 		gcc $(compileropts) -c -o memdebug.o c.memdebug
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.vc6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.vc6
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.vc6	2010-06-02 22:51:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.vc6	2010-08-10 17:19:27.000000000 +0800
@@ -51,17 +51,17 @@
 # Stem for DLL import libs
 #
 IMPLIB_NAME       = libcurl_imp
 IMPLIB_NAME_DEBUG = libcurld_imp
 
 !IFNDEF OPENSSL_PATH
-OPENSSL_PATH   = ../../openssl-0.9.8g
+OPENSSL_PATH   = ../../openssl-0.9.8o
 !ENDIF
 
 !IFNDEF ZLIB_PATH
-ZLIB_PATH  = ../../zlib-1.2.3
+ZLIB_PATH  = ../../zlib-1.2.5
 !ENDIF
 
 !IFNDEF MACHINE
 MACHINE  = X86
 !ENDIF
 
@@ -106,12 +106,16 @@
 CFGSET     = FALSE
 
 !IFDEF WINDOWS_SSPI
 CFLAGS = $(CFLAGS) /DUSE_WINDOWS_SSPI /I$(WINDOWS_SDK_PATH)\include
 !ENDIF
 
+!IFDEF USE_IPV6
+CFLAGS = $(CFLAGS) /DUSE_IPV6
+!ENDIF
+
 ##############################################################
 # Runtime library configuration
 
 RTLIB   = /MD
 RTLIBD  = /MDd
 
@@ -447,12 +451,13 @@
 	$(DIROBJ)\base64.obj \
 	$(DIROBJ)\connect.obj \
 	$(DIROBJ)\content_encoding.obj \
 	$(DIROBJ)\cookie.obj \
 	$(DIROBJ)\curl_addrinfo.obj \
 	$(DIROBJ)\curl_fnmatch.obj \
+	$(DIROBJ)\curl_gethostname.obj \
 	$(DIROBJ)\curl_memrchr.obj \
 	$(DIROBJ)\curl_rand.obj \
 	$(DIROBJ)\curl_rtmp.obj \
 	$(DIROBJ)\curl_sspi.obj \
 	$(DIROBJ)\curl_threads.obj \
 	$(DIROBJ)\dict.obj \
@@ -483,12 +488,13 @@
 	$(DIROBJ)\if2ip.obj \
 	$(DIROBJ)\imap.obj \
 	$(DIROBJ)\inet_ntop.obj \
 	$(DIROBJ)\inet_pton.obj \
 	$(DIROBJ)\ldap.obj \
 	$(DIROBJ)\llist.obj \
+	$(DIROBJ)\md4.obj \
 	$(DIROBJ)\md5.obj \
 	$(DIROBJ)\memdebug.obj \
 	$(DIROBJ)\mprintf.obj \
 	$(DIROBJ)\multi.obj \
 	$(DIROBJ)\netrc.obj \
         $(DIROBJ)\nonblock.obj \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.vc8 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.vc8
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.vc8	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.vc8	2010-08-12 05:36:29.000000000 +0800
@@ -51,17 +51,17 @@
 # Stem for DLL import libs
 #
 IMPLIB_NAME       = libcurl_imp
 IMPLIB_NAME_DEBUG = libcurld_imp
 
 !IFNDEF OPENSSL_PATH
-OPENSSL_PATH   = ../../openssl-0.9.8g
+OPENSSL_PATH   = ../../openssl-0.9.8o
 !ENDIF
 
 !IFNDEF ZLIB_PATH
-ZLIB_PATH  = ../../zlib-1.2.3
+ZLIB_PATH  = ../../zlib-1.2.5
 !ENDIF
 
 !IFNDEF MACHINE
 MACHINE  = X86
 !ENDIF
 
@@ -106,12 +106,16 @@
 CFGSET     = FALSE
 
 !IFDEF WINDOWS_SSPI
 CFLAGS = $(CFLAGS) /DUSE_WINDOWS_SSPI /I$(WINDOWS_SDK_PATH)\include
 !ENDIF
 
+!IFDEF USE_IPV6
+CFLAGS = $(CFLAGS) /DUSE_IPV6
+!ENDIF
+
 ##############################################################
 # Runtime library configuration
 
 RTLIB   = /MD
 RTLIBD  = /MDd
 
@@ -447,12 +451,13 @@
 	$(DIROBJ)\base64.obj \
 	$(DIROBJ)\connect.obj \
 	$(DIROBJ)\content_encoding.obj \
 	$(DIROBJ)\cookie.obj \
 	$(DIROBJ)\curl_addrinfo.obj \
 	$(DIROBJ)\curl_fnmatch.obj \
+	$(DIROBJ)\curl_gethostname.obj \
 	$(DIROBJ)\curl_memrchr.obj \
 	$(DIROBJ)\curl_rand.obj \
 	$(DIROBJ)\curl_rtmp.obj \
 	$(DIROBJ)\curl_sspi.obj \
 	$(DIROBJ)\curl_threads.obj \
 	$(DIROBJ)\dict.obj \
@@ -483,12 +488,13 @@
 	$(DIROBJ)\if2ip.obj \
 	$(DIROBJ)\imap.obj \
 	$(DIROBJ)\inet_ntop.obj \
 	$(DIROBJ)\inet_pton.obj \
 	$(DIROBJ)\ldap.obj \
 	$(DIROBJ)\llist.obj \
+	$(DIROBJ)\md4.obj \
 	$(DIROBJ)\md5.obj \
 	$(DIROBJ)\memdebug.obj \
 	$(DIROBJ)\mprintf.obj \
 	$(DIROBJ)\multi.obj \
 	$(DIROBJ)\netrc.obj \
         $(DIROBJ)\nonblock.obj \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.vc9 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.vc9
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.vc9	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.vc9	2010-08-12 05:36:29.000000000 +0800
@@ -51,17 +51,17 @@
 # Stem for DLL import libs
 #
 IMPLIB_NAME       = libcurl_imp
 IMPLIB_NAME_DEBUG = libcurld_imp
 
 !IFNDEF OPENSSL_PATH
-OPENSSL_PATH   = ../../openssl-0.9.8g
+OPENSSL_PATH   = ../../openssl-0.9.8o
 !ENDIF
 
 !IFNDEF ZLIB_PATH
-ZLIB_PATH  = ../../zlib-1.2.3
+ZLIB_PATH  = ../../zlib-1.2.5
 !ENDIF
 
 !IFNDEF MACHINE
 MACHINE  = X86
 !ENDIF
 
@@ -106,12 +106,16 @@
 CFGSET     = FALSE
 
 !IFDEF WINDOWS_SSPI
 CFLAGS = $(CFLAGS) /DUSE_WINDOWS_SSPI /I$(WINDOWS_SDK_PATH)\include
 !ENDIF
 
+!IFDEF USE_IPV6
+CFLAGS = $(CFLAGS) /DUSE_IPV6
+!ENDIF
+
 ##############################################################
 # Runtime library configuration
 
 RTLIB   = /MD
 RTLIBD  = /MDd
 
@@ -447,12 +451,13 @@
 	$(DIROBJ)\base64.obj \
 	$(DIROBJ)\connect.obj \
 	$(DIROBJ)\content_encoding.obj \
 	$(DIROBJ)\cookie.obj \
 	$(DIROBJ)\curl_addrinfo.obj \
 	$(DIROBJ)\curl_fnmatch.obj \
+	$(DIROBJ)\curl_gethostname.obj \
 	$(DIROBJ)\curl_memrchr.obj \
 	$(DIROBJ)\curl_rand.obj \
 	$(DIROBJ)\curl_rtmp.obj \
 	$(DIROBJ)\curl_sspi.obj \
 	$(DIROBJ)\curl_threads.obj \
 	$(DIROBJ)\dict.obj \
@@ -483,12 +488,13 @@
 	$(DIROBJ)\if2ip.obj \
 	$(DIROBJ)\imap.obj \
 	$(DIROBJ)\inet_ntop.obj \
 	$(DIROBJ)\inet_pton.obj \
 	$(DIROBJ)\ldap.obj \
 	$(DIROBJ)\llist.obj \
+	$(DIROBJ)\md4.obj \
 	$(DIROBJ)\md5.obj \
 	$(DIROBJ)\memdebug.obj \
 	$(DIROBJ)\mprintf.obj \
 	$(DIROBJ)\multi.obj \
 	$(DIROBJ)\netrc.obj \
         $(DIROBJ)\nonblock.obj \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.Watcom /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.Watcom
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/Makefile.Watcom	2010-06-02 22:51:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/Makefile.Watcom	2010-08-12 01:03:16.000000000 +0800
@@ -1,566 +1,192 @@
 #
 #  Watcom / OpenWatcom / Win32 makefile for libcurl.
 #  G. Vanem <gvanem@broadpark.no>
 #
 
-TARGETS = libcurl_wc.dll libcurl_wc_imp.lib libcurl_wc.lib
+!ifndef %watcom
+!error WATCOM environment variable not set!
+!else
+SYS_INCL = -I$(%watcom)\h\nt -I$(%watcom)\h
+SYS_LIBS = $(%watcom)\lib386\nt;$(%watcom)\lib386
+!endif
+
+!ifdef %libname
+LIBNAME = $(%libname)
+!else
+LIBNAME = libcurl
+!endif
+TARGETS = $(LIBNAME).dll $(LIBNAME)_imp.lib $(LIBNAME).lib
 
 CC = wcc386
+LD = wlink
+AR = wlib
+RC = wrc
+
+!ifdef __LOADDLL__
+!  loaddll wcc386  wccd386
+!  loaddll wpp386  wppd386
+!  loaddll wlib    wlibd
+!  if $(__VERSION__) > 1270
+!    loaddll wlink   wlinkd
+!  else
+!    loaddll wlink   wlink
+!  endif
+!endif
+
+!if $(__VERSION__) < 1250                                                                                                           
+RM = del /q /f >NUL 2>&1
+!else                                                                                                                               
+RM = rm -f                                                                                                                          
+!endif
+MD = mkdir
+RD = rmdir /q /s >NUL 2>&1
+CP = copy
+
+CFLAGS = -3r -mf -hc -zff -zgf -zq -zm -zc -s -fr=con -w2 -fpi -oilrtfm &
+         -wcd=201 -bt=nt -d+ -dWIN32 -dCURL_WANTS_CA_BUNDLE_ENV         &
+         -dBUILDING_LIBCURL -dHAVE_SPNEGO=1 -I. -I..\include $(SYS_INCL)
+
+!ifdef %debug
+DEBUG  = -dDEBUG=1 -dDEBUGBUILD
+CFLAGS += -d3 $(DEBUG)
+!else
+CFLAGS += -d0
+!endif
 
-CFLAGS = -3s -mf -d3 -hc -zff -zgf -zq -zm -zc -s -fr=con -w2 -fpi -oilrtfm -bt=nt &
-         -bd -d+ -dWIN32 -dCURL_CA_BUNDLE=getenv("CURL_CA_BUNDLE")                 &
-         -dBUILDING_LIBCURL -dHAVE_SPNEGO=1 -dENABLE_IPV6                          &
-         -dDEBUG=1 -dDEBUGBUILD -d_WIN32_WINNT=0x0501 -dWINBERAPI=__declspec(cdecl) &
-         -dWINLDAPAPI=__declspec(cdecl) -I. -I..\include
+!ifdef %use_ipv6
+CFLAGS += -d_WIN32_WINNT=0x0501 -dENABLE_IPV6
+!endif
 
 #
 # Change to suite.
 #
-ZLIB_ROOT  = ..\..\..\zlib-1.2.3
-USE_ZLIB   = 0
-USE_ARES   = 0
-USE_WATT32 = 0
+!ifdef %zlib_root
+ZLIB_ROOT = $(%zlib_root)
+!else
+ZLIB_ROOT = ..\..\zlib-1.2.5
+!endif
+
+!ifdef %openssl_root
+OPENSSL_ROOT = $(%openssl_root)
+!else
+OPENSSL_ROOT = ..\..\openssl-0.9.8o
+!endif
+
+!ifdef %ares_root
+ARES_ROOT = $(%ares_root)
+!else
+ARES_ROOT = ..\ares
+!endif
 
-!ifeq USE_ZLIB 1
+!ifdef %use_zlib
 CFLAGS += -dHAVE_ZLIB_H -dHAVE_LIBZ -I$(ZLIB_ROOT)
 !endif
 
-!ifeq USE_ARES 1
-CFLAGS += -dUSE_ARES -I..\ares
+!ifdef %use_ssl
+CFLAGS += -wcd=138 -dUSE_OPENSSL -dUSE_SSLEAY -I$(OPENSSL_ROOT)\inc32
 !endif
 
-!ifeq USE_WATT32 1
+!ifdef %use_ares
+CFLAGS += -dUSE_ARES -I$(ARES_ROOT)
+!endif
+
+!ifdef %use_watt32
 CFLAGS += -dUSE_WATT32 -I$(%watt_root)\inc
 !endif
 
 OBJ_BASE = WC_Win32.obj
-C_ARG    = $(OBJ_BASE)\wcc386.arg
 LINK_ARG = $(OBJ_BASE)\dyn\wlink.arg
 LIB_ARG  = $(OBJ_BASE)\stat\wlib.arg
 
-# Unfortunately, we can't include Makefile.inc here because wmake doesn't
-# use backslash as the line continuation character by default
-CSOURCES = file.c timeval.c base64.c hostip.c progress.c formdata.c	&
-  cookie.c http.c sendf.c ftp.c url.c dict.c if2ip.c speedcheck.c	&
-  ldap.c ssluse.c version.c getenv.c escape.c mprintf.c telnet.c	&
-  netrc.c getinfo.c transfer.c strequal.c easy.c security.c krb4.c	&
-  curl_fnmatch.c fileinfo.c ftplistparser.c wildcard.c			&
-  krb5.c memdebug.c http_chunks.c strtok.c connect.c llist.c hash.c	&
-  multi.c content_encoding.c share.c http_digest.c md5.c curl_rand.c	&
-  http_negotiate.c http_ntlm.c inet_pton.c strtoofft.c strerror.c	&
-  hostares.c hostasyn.c hostip4.c hostip6.c hostsyn.c hostthre.c	&
-  inet_ntop.c parsedate.c select.c gtls.c sslgen.c tftp.c splay.c	&
-  strdup.c socks.c ssh.c nss.c qssl.c rawstr.c curl_addrinfo.c          &
-  socks_gssapi.c socks_sspi.c curl_sspi.c slist.c nonblock.c		&
-  curl_memrchr.c imap.c pop3.c smtp.c pingpong.c rtsp.c curl_threads.c	&
-  warnless.c hmac.c polarssl.c curl_rtmp.c openldap.c
+# In order to process Makefile.inc wmake must be called with -u switch!
+!ifndef %MAKEFLAGS
+!error You MUST call wmake with the -u switch!
+!else
+!include Makefile.inc
+!endif
 
 OBJS = $(CSOURCES:.c=.obj)
 OBJS = $OBJ_DIR\$(OBJS: = $OBJ_DIR\)
 
 #
 # Use $(OBJS) as a template to generate $(OBJS_STAT) and $(OBJS_DYN).
 #
-OBJ_DIR   = $(OBJ_BASE)\stat
-OBJS_STAT = $+ $(OBJS) $-
+OBJ_DIR    = $(OBJ_BASE)\stat
+OBJS_STAT  = $+ $(OBJS) $-
 
-OBJ_DIR  = $(OBJ_BASE)\dyn
-OBJS_DYN = $+ $(OBJS) $-
+OBJ_DIR    = $(OBJ_BASE)\dyn
+OBJS_DYN   = $+ $(OBJS) $-
 
-RESOURCE = $(OBJ_BASE)\dyn\libcurl.res
+CURLBUILDH = ..\include\curl\curlbuild.h
+RESOURCE   = $(OBJ_BASE)\dyn\libcurl.res
 
-all: $(OBJ_BASE) $(C_ARG) $(TARGETS) .SYMBOLIC
+all: $(CURLBUILDH) $(OBJ_BASE) $(TARGETS) .SYMBOLIC
 	@echo Welcome to libcurl
 
-$(OBJ_BASE):
-	- mkdir $(OBJ_BASE)
-	- mkdir $(OBJ_BASE)\stat
-	- mkdir $(OBJ_BASE)\dyn
+clean: .SYMBOLIC
+	-$(RM) $(OBJS_STAT)
+	-$(RM) $(OBJS_DYN)
+	-$(RM) $(RESOURCE) $(LINK_ARG) $(LIB_ARG)
+
+vclean realclean: clean .SYMBOLIC
+	-$(RM) $(TARGETS) $(LIBNAME).map $(LIBNAME).sym
+	-$(RD) $(OBJ_BASE)\stat
+	-$(RD) $(OBJ_BASE)\dyn
+	-$(RD) $(OBJ_BASE)
 
-libcurl_wc.dll libcurl_wc_imp.lib: $(OBJS_DYN) $(RESOURCE) $(LINK_ARG)
-	wlink name libcurl_wc.dll @$(LINK_ARG)
+$(OBJ_BASE):
+	-$(MD) $^@
+	-$(MD) $^@\stat
+	-$(MD) $^@\dyn
 
-libcurl_wc.lib: $(OBJS_STAT) $(LIB_ARG)
-	wlib -q -b- c $@ @$(LIB_ARG)
+$(CURLBUILDH): .EXISTSONLY
+	$(CP) $^@.dist $^@
 
-clean: .SYMBOLIC
-	- rm -f $(OBJS_STAT) $(OBJS_DYN) $(RESOURCE) $(C_ARG) $(LINK_ARG) $(LIB_ARG)
+$(LIBNAME).dll: $(OBJS_DYN) $(RESOURCE) $(LINK_ARG)
+	$(LD) name $^@ @$]@
 
-vclean realclean: clean .SYMBOLIC
-	- rm -f $(TARGETS) libcurl_wc.map
-	- rmdir $(OBJ_BASE)\stat
-	- rmdir $(OBJ_BASE)\dyn
-	- rmdir $(OBJ_BASE)
+$(LIBNAME).lib: $(OBJS_STAT) $(LIB_ARG)
+	$(AR) -q -b -c $^@ @$]@
 
 .ERASE
 $(RESOURCE): libcurl.rc
-        wrc -dDEBUGBUILD=1 -q -r -zm -I..\include -fo=$@ libcurl.rc
+	$(RC) $(DEBUG) -q -r -zm -I..\include $(SYS_INCL) $[@ -fo=$^@
 
 .ERASE
 .c{$(OBJ_BASE)\dyn}.obj:
-	$(CC) $[@ @$(C_ARG) -fo=$@
+	$(CC) $(CFLAGS) -bd -br $[@ -fo=$^@
 
 .ERASE
 .c{$(OBJ_BASE)\stat}.obj:
-	$(CC) $[@ @$(C_ARG) -DCURL_STATICLIB -fo=$@
-
-$(C_ARG): $(__MAKEFILES__)
-	%create $^@
-	%append $^@ $(CFLAGS)
+	$(CC) $(CFLAGS) -DCURL_STATICLIB $[@ -fo=$^@
 
 $(LINK_ARG): $(__MAKEFILES__)
 	%create $^@
 	@%append $^@ system nt dll
 	@%append $^@ file { $(OBJS_DYN) }
-	@%append $^@ option quiet, map, caseexact, eliminate, implib=libcurl_wc_imp.lib,
-	@%append $^@ res=$(RESOURCE) libpath $(%watcom)\lib386;$(%watcom)\lib386\nt
-	@%append $^@ library clib3s.lib, wldap32.lib
-!ifeq USE_WATT32 1
+!ifdef %debug
+	@%append $^@ debug all
+	@%append $^@ option symfile
+!endif
+	@%append $^@ option quiet, map, caseexact, eliminate, implib=$(LIBNAME)_imp.lib,
+	@%append $^@ res=$(RESOURCE) libpath $(SYS_LIBS)
+	@%append $^@ library wldap32.lib
+!ifdef %use_watt32
 	@%append $^@ library $(%watt_root)\lib\wattcpw_imp.lib
 !else
 	@%append $^@ library ws2_32.lib
 !endif
-!ifeq USE_ZLIB 1
+!ifdef %use_zlib
 	@%append $^@ library $(ZLIB_ROOT)\zlib.lib
 !endif
-!ifeq USE_ARES 1
-	@%append $^@ library ..\ares\cares.lib
+!ifdef %use_ssl
+	@%append $^@ library $(OPENSSL_ROOT)\out32\libeay32.lib, $(OPENSSL_ROOT)\out32\ssleay32.lib
+!endif
+!ifdef %use_ares
+	@%append $^@ library $(ARES_ROOT)\cares.lib
 !endif
 
 $(LIB_ARG): $(__MAKEFILES__)
 	%create $^@
-	for %f in ($(OBJS_STAT)) do @%append $^@ +- %f
+	@for %f in ($(OBJS_STAT)) do @%append $^@ +- %f
 
-#
-# Dependencies based on "gcc -MM .."
-#
-$(OBJ_DIR)\file.obj: file.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h strtoofft.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h &
-  progress.h sendf.h escape.h file.h speedcheck.h getinfo.h transfer.h &
-  url.h curl_memory.h parsedate.h ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\timeval.obj: timeval.c timeval.h setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\base64.obj: base64.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\mprintf.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h urldata.h cookie.h ..\include\curl\curl.h &
-  formdata.h timeval.h http_chunks.h hostip.h hash.h llist.h &
-  curl_addrinfo.h splay.h easyif.h curl_base64.h curl_memory.h memdebug.h
-$(OBJ_DIR)\hostip.obj: hostip.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h inet_ntop.h ..\include\curl\mprintf.h curl_memory.h &
-  memdebug.h
-$(OBJ_DIR)\progress.obj: progress.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  progress.h ..\include\curl\mprintf.h
-$(OBJ_DIR)\formdata.obj: formdata.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h easyif.h strequal.h curl_memory.h &
-  curl_rand.h ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\cookie.obj: cookie.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\mprintf.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h urldata.h cookie.h ..\include\curl\curl.h &
-  formdata.h timeval.h http_chunks.h hostip.h hash.h llist.h &
-  curl_addrinfo.h splay.h strequal.h strtok.h sendf.h curl_memory.h share.h &
-  strtoofft.h rawstr.h memdebug.h curl_memrchr.h
-$(OBJ_DIR)\http.obj: http.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h &
-  transfer.h sendf.h easyif.h progress.h curl_base64.h strequal.h &
-  sslgen.h http_digest.h http_ntlm.h http_negotiate.h url.h share.h &
-  http.h curl_memory.h select.h parsedate.h strtoofft.h multiif.h rawstr.h &
-  ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\sendf.obj: sendf.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h sendf.h connect.h sslgen.h ssh.h &
-  multiif.h ..\include\curl\mprintf.h curl_memory.h strerror.h easyif.h &
-  memdebug.h
-$(OBJ_DIR)\ftp.obj: ftp.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h sendf.h easyif.h if2ip.h progress.h &
-  transfer.h escape.h http.h socks.h ftp.h strtoofft.h strequal.h &
-  sslgen.h connect.h strerror.h inet_ntop.h inet_pton.h select.h &
-  parsedate.h sockaddr.h multiif.h url.h ..\include\curl\mprintf.h &
-  curl_memory.h memdebug.h
-$(OBJ_DIR)\url.obj: url.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h netrc.h &
-  sslgen.h transfer.h sendf.h progress.h strequal.h strerror.h escape.h &
-  strtok.h share.h content_encoding.h http_digest.h http_negotiate.h &
-  select.h multiif.h easyif.h speedcheck.h rawstr.h ftp.h dict.h telnet.h &
-  tftp.h http.h file.h curl_ldap.h ssh.h url.h connect.h inet_ntop.h &
-  http_ntlm.h socks.h ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\dict.obj: dict.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h &
-  transfer.h sendf.h progress.h strequal.h dict.h rawstr.h &
-  ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\if2ip.obj: if2ip.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h inet_ntop.h strequal.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h if2ip.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\speedcheck.obj: speedcheck.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h urldata.h cookie.h &
-  formdata.h timeval.h http_chunks.h hostip.h hash.h llist.h &
-  curl_addrinfo.h splay.h sendf.h multiif.h speedcheck.h
-$(OBJ_DIR)\ldap.obj: ldap.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\ssluse.obj: ssluse.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  url.h inet_pton.h ssluse.h connect.h strequal.h select.h sslgen.h &
-  rawstr.h ..\include\curl\mprintf.h
-$(OBJ_DIR)\version.obj: version.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h sslgen.h ..\include\curl\mprintf.h
-$(OBJ_DIR)\getenv.obj: getenv.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  curl_memory.h memdebug.h
-$(OBJ_DIR)\escape.obj: escape.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  curl_memory.h urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h &
-  hash.h llist.h curl_addrinfo.h splay.h easyif.h &
-  ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\mprintf.obj: mprintf.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\mprintf.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h curl_memory.h ..\include\curl\curl.h memdebug.h
-$(OBJ_DIR)\telnet.obj: telnet.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h &
-  transfer.h sendf.h telnet.h connect.h ..\include\curl\mprintf.h &
-  arpa_telnet.h curl_memory.h select.h strequal.h rawstr.h memdebug.h
-$(OBJ_DIR)\netrc.obj: netrc.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  netrc.h strequal.h strtok.h curl_memory.h rawstr.h ..\include\curl\mprintf.h &
-  memdebug.h
-$(OBJ_DIR)\getinfo.obj: getinfo.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h getinfo.h curl_memory.h sslgen.h connect.h &
-  memdebug.h
-$(OBJ_DIR)\transfer.obj: transfer.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h strtoofft.h strequal.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h rawstr.h urldata.h &
-  cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h llist.h &
-  curl_addrinfo.h splay.h netrc.h content_encoding.h transfer.h sendf.h &
-  speedcheck.h progress.h http.h url.h getinfo.h sslgen.h http_digest.h &
-  http_ntlm.h http_negotiate.h share.h curl_memory.h select.h multiif.h &
-  easyif.h ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\strequal.obj: strequal.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h strequal.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h
-$(OBJ_DIR)\easy.obj: easy.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h strequal.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h urldata.h cookie.h &
-  formdata.h timeval.h http_chunks.h hostip.h hash.h llist.h &
-  curl_addrinfo.h splay.h transfer.h sslgen.h url.h getinfo.h share.h &
-  strdup.h curl_memory.h progress.h easyif.h select.h sendf.h http_ntlm.h &
-  curl_rand.h connect.h ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\security.obj: security.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\krb4.obj: krb4.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\krb5.obj: krb5.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\memdebug.obj: memdebug.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  ..\include\curl\mprintf.h urldata.h cookie.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h curl_memory.h &
-  memdebug.h
-$(OBJ_DIR)\http_chunks.obj: http_chunks.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  urldata.h cookie.h ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  content_encoding.h http.h curl_memory.h easyif.h ..\include\curl\mprintf.h &
-  memdebug.h
-$(OBJ_DIR)\strtok.obj: strtok.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h strtok.h
-$(OBJ_DIR)\connect.obj: connect.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\mprintf.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h urldata.h cookie.h ..\include\curl\curl.h &
-  formdata.h timeval.h http_chunks.h hostip.h hash.h llist.h &
-  curl_addrinfo.h splay.h sendf.h if2ip.h strerror.h connect.h curl_memory.h &
-  select.h url.h multiif.h sockaddr.h inet_ntop.h sslgen.h memdebug.h
-$(OBJ_DIR)\llist.obj: llist.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h llist.h curl_memory.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h memdebug.h
-$(OBJ_DIR)\hash.obj: hash.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h hash.h llist.h &
-  ..\include\curl\mprintf.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h curl_memory.h &
-  ..\include\curl\curl.h memdebug.h
-$(OBJ_DIR)\multi.obj: multi.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h transfer.h url.h connect.h progress.h &
-  easyif.h multiif.h sendf.h http.h ..\include\curl\mprintf.h curl_memory.h &
-  memdebug.h
-$(OBJ_DIR)\content_encoding.obj: content_encoding.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\share.obj: share.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h share.h curl_memory.h memdebug.h
-$(OBJ_DIR)\http_digest.obj: http_digest.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  urldata.h cookie.h ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  rawstr.h curl_base64.h curl_md5.h http_digest.h strtok.h url.h curl_memory.h &
-  easyif.h ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\md5.obj: md5.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h curl_md5.h
-$(OBJ_DIR)\http_negotiate.obj: http_negotiate.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\http_ntlm.obj: http_ntlm.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  urldata.h cookie.h ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h easyif.h &
-  sendf.h rawstr.h curl_base64.h http_ntlm.h url.h curl_memory.h ssluse.h &
-  ..\include\curl\mprintf.h memdebug.h
-$(OBJ_DIR)\inet_pton.obj: inet_pton.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  inet_pton.h
-$(OBJ_DIR)\strtoofft.obj: strtoofft.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  strtoofft.h
-$(OBJ_DIR)\strerror.obj: strerror.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  strerror.h urldata.h cookie.h formdata.h timeval.h http_chunks.h &
-  hostip.h hash.h llist.h curl_addrinfo.h splay.h &
-  ..\include\curl\mprintf.h
-$(OBJ_DIR)\hostares.obj: hostares.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h multiif.h inet_pton.h connect.h select.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\hostasyn.obj: hostasyn.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\hostip4.obj: hostip4.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h inet_pton.h ..\include\curl\mprintf.h curl_memory.h &
-  memdebug.h
-$(OBJ_DIR)\hostip6.obj: hostip6.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h inet_pton.h connect.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\hostsyn.obj: hostsyn.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\hostthre.obj: hostthre.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  share.h strerror.h url.h multiif.h inet_pton.h &
-  ..\include\curl\mprintf.h inet_ntop.h curl_memory.h memdebug.h
-$(OBJ_DIR)\inet_ntop.obj: inet_ntop.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\mprintf.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h inet_ntop.h
-$(OBJ_DIR)\parsedate.obj: parsedate.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h rawstr.h parsedate.h
-$(OBJ_DIR)\select.obj: select.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h ..\include\curl\curl.h &
-  ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urldata.h cookie.h formdata.h timeval.h http_chunks.h hostip.h hash.h &
-  llist.h curl_addrinfo.h splay.h connect.h select.h
-$(OBJ_DIR)\gtls.obj: gtls.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\sslgen.obj: sslgen.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sslgen.h &
-  ssluse.h gtls.h nssg.h qssl.h sendf.h rawstr.h url.h curl_memory.h &
-  progress.h memdebug.h
-$(OBJ_DIR)\tftp.obj: tftp.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h &
-  transfer.h sendf.h tftp.h progress.h connect.h strerror.h sockaddr.h &
-  url.h ..\include\curl\mprintf.h curl_memory.h select.h memdebug.h
-$(OBJ_DIR)\splay.obj: splay.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h splay.h
-$(OBJ_DIR)\strdup.obj: strdup.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h strdup.h
-$(OBJ_DIR)\socks.obj: socks.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  strequal.h select.h connect.h socks.h memdebug.h
-$(OBJ_DIR)\ssh.obj: ssh.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\nss.obj: nss.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h urldata.h cookie.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h formdata.h timeval.h &
-  http_chunks.h hostip.h hash.h llist.h curl_addrinfo.h splay.h sendf.h &
-  url.h connect.h strequal.h select.h sslgen.h ..\include\curl\mprintf.h
-$(OBJ_DIR)\qssl.obj: qssl.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h
-$(OBJ_DIR)\nonblock.obj: nonblock.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h nonblock.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h
-$(OBJ_DIR)\rawstr.obj: rawstr.c setup.h config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h setup_once.h rawstr.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h
-$(OBJ_DIR)\curl_addrinfo.obj: curl_addrinfo.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h curl_addrinfo.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\curl_rand.obj: curl_rand.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h curl_rand.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\curl_memrchr.obj: curl_memrchr.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h curl_memrchr.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\imap.obj: imap.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h imap.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\pop3.obj: pop3.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h pop3.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\smtp.obj: smtp.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h smtp.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
-$(OBJ_DIR)\pingpong.obj: pingpong.c setup.h config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h pingpong.h &
-  ..\include\curl\mprintf.h curl_memory.h memdebug.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib: md4.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/md5.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/md5.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/md5.c	2010-05-22 05:49:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/md5.c	2010-08-05 04:37:37.000000000 +0800
@@ -202,25 +202,25 @@
   context->count[1] += ((UINT4)inputLen >> 29);
 
   partLen = 64 - bufindex;
 
   /* Transform as many times as possible. */
   if(inputLen >= partLen) {
-    memcpy((void *)&context->buffer[bufindex], (void *)input, partLen);
+    memcpy(&context->buffer[bufindex], input, partLen);
     MD5Transform(context->state, context->buffer);
 
     for (i = partLen; i + 63 < inputLen; i += 64)
       MD5Transform(context->state, &input[i]);
 
     bufindex = 0;
   }
   else
     i = 0;
 
   /* Buffer remaining input */
-  memcpy((void *)&context->buffer[bufindex], (void *)&input[i], inputLen-i);
+  memcpy(&context->buffer[bufindex], &input[i], inputLen-i);
 }
 
 /* MD5 finalization. Ends an MD5 message-digest operation, writing the
    the message digest and zeroizing the context.
 */
 static void MD5_Final(unsigned char digest[16], /* message digest */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/mk-ca-bundle.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/mk-ca-bundle.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/mk-ca-bundle.pl	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/mk-ca-bundle.pl	2010-08-02 02:35:13.000000000 +0800
@@ -37,13 +37,13 @@
 use vars qw($opt_b $opt_h $opt_i $opt_l $opt_n $opt_q $opt_t $opt_u $opt_v);
 
 my $url = 'http://mxr.mozilla.org/seamonkey/source/security/nss/lib/ckfw/builtins/certdata.txt?raw=1';
 # If the OpenSSL commandline is not in search path you can configure it here!
 my $openssl = 'openssl';
 
-my $version = $1 if ('$Revision$' =~ /\s(\d+\.\d+)\s/);
+my $version = '1.14';
 
 getopts('bhilnqtuv');
 
 if ($opt_i) {
   print ("=" x 78 . "\n");
   print "Script Version            : $version\n";
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/multi.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/multi.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/multi.c	2010-06-03 05:58:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/multi.c	2010-08-10 20:44:09.000000000 +0800
@@ -58,13 +58,12 @@
 #define CURL_SOCKET_HASH_TABLE_SIZE 911
 #endif
 
 struct Curl_message {
   /* the 'CURLMsg' is the part that is visible to the external user */
   struct CURLMsg extmsg;
-  struct Curl_message *next;
 };
 
 /* NOTE: if you add a state here, add the name to the statename[] array as
    well!
 */
 typedef enum {
@@ -107,18 +106,14 @@
   struct SessionHandle *easy_handle; /* the easy handle for this unit */
   struct connectdata *easy_conn;     /* the "unit's" connection */
 
   CURLMstate state;  /* the handle's state */
   CURLcode result;   /* previous result */
 
-  struct Curl_message *msg; /* A pointer to one single posted message.
-                               Cleanup should be done on this pointer NOT on
-                               the linked list in Curl_multi.  This message
-                               will be deleted when this handle is removed
-                               from the multi-handle */
-  int msg_num; /* number of messages left in 'msg' to return */
+  struct Curl_message msg; /* A single posted message. */
+  int msg_stored; /* a message is stored in 'msg' to return */
 
   /* Array with the plain socket numbers this handle takes care of, in no
      particular order. Note that all sockets are added to the sockhash, where
      the state etc are also kept. This array is mostly used to detect when a
      socket is to be removed from the hash. See singlesocket(). */
   curl_socket_t sockets[MAX_SOCKSPEREASYHANDLE];
@@ -653,12 +648,16 @@
 
     if(easy->easy_handle->state.connc->type == CONNCACHE_MULTI) {
       /* if this was using the shared connection cache we clear the pointer
          to that since we're not part of that handle anymore */
       easy->easy_handle->state.connc = NULL;
 
+      /* Since we return the connection back to the communal connection pool
+         we mark the last connection as inaccessible */
+      easy->easy_handle->state.lastconnect = -1;
+
       /* Modify the connectindex since this handle can't point to the
          connection cache anymore.
 
          TODO: consider if this is really what we want. The connection cache
          is within the multi handle and that owns the connections so we should
          not need to touch connections like this when we just remove an easy
@@ -690,14 +689,12 @@
 
     /* Null the position in the controlling structure */
     easy->easy_handle->multi_pos = NULL;
 
     /* NOTE NOTE NOTE
        We do not touch the easy handle here! */
-    if(easy->msg)
-      free(easy->msg);
     free(easy);
 
     multi->num_easy--; /* one less to care about now */
 
     update_timer(multi);
     return CURLM_OK;
@@ -1304,13 +1301,12 @@
       }
 #endif
       break;
 
     case CURLM_STATE_TOOFAST: /* limit-rate exceeded in either direction */
       /* if both rates are within spec, resume transfer */
-      Curl_pgrsUpdate(easy->easy_conn);
       if( ( ( easy->easy_handle->set.max_send_speed == 0 ) ||
             ( easy->easy_handle->progress.ulspeed <
               easy->easy_handle->set.max_send_speed ) )  &&
           ( ( easy->easy_handle->set.max_recv_speed == 0 ) ||
             ( easy->easy_handle->progress.dlspeed <
               easy->easy_handle->set.max_recv_speed ) )
@@ -1525,34 +1521,32 @@
              failure is detected */
           easy->easy_conn = NULL;
         }
 
         multistate(easy, CURLM_STATE_COMPLETED);
       }
+      /* if there's still a connection to use, call the progress function */
+      else if(easy->easy_conn && Curl_pgrsUpdate(easy->easy_conn))
+        easy->result = CURLE_ABORTED_BY_CALLBACK;
     }
   } while(0);
-  if((CURLM_STATE_COMPLETED == easy->state) && !easy->msg) {
+  if((CURLM_STATE_COMPLETED == easy->state) && !easy->msg_stored) {
     if(easy->easy_handle->dns.hostcachetype == HCACHE_MULTI) {
       /* clear out the usage of the shared DNS cache */
       easy->easy_handle->dns.hostcache = NULL;
       easy->easy_handle->dns.hostcachetype = HCACHE_NONE;
     }
 
-    /* now add a node to the Curl_message linked list with this info */
-    msg = malloc(sizeof(struct Curl_message));
-
-    if(!msg)
-      return CURLM_OUT_OF_MEMORY;
+    /* now fill in the Curl_message with this info */
+    msg = &easy->msg;
 
     msg->extmsg.msg = CURLMSG_DONE;
     msg->extmsg.easy_handle = easy->easy_handle;
     msg->extmsg.data.result = easy->result;
-    msg->next = NULL;
 
-    easy->msg = msg;
-    easy->msg_num = 1; /* there is one unread message here */
+    easy->msg_stored = 1; /* there is an unread message here */
 
     multi->num_msgs++; /* increase message counter */
   }
 
   return result;
 }
@@ -1561,12 +1555,13 @@
 CURLMcode curl_multi_perform(CURLM *multi_handle, int *running_handles)
 {
   struct Curl_multi *multi=(struct Curl_multi *)multi_handle;
   struct Curl_one_easy *easy;
   CURLMcode returncode=CURLM_OK;
   struct Curl_tree *t;
+  struct timeval now = Curl_tvnow();
 
   if(!GOOD_MULTI_HANDLE(multi))
     return CURLM_BAD_HANDLE;
 
   easy=multi->easy.next;
   while(easy != &multi->easy) {
@@ -1598,16 +1593,19 @@
   }
 
   /*
    * Simply remove all expired timers from the splay since handles are dealt
    * with unconditionally by this function and curl_multi_timeout() requires
    * that already passed/handled expire times are removed from the splay.
+   *
+   * It is important that the 'now' value is set at the entry of this function
+   * and not for the current time as it may have ticked a little while since
+   * then and then we risk this loop to remove timers that actually have not
+   * been handled!
    */
   do {
-    struct timeval now = Curl_tvnow();
-
     multi->timetree = Curl_splaygetbest(now, multi->timetree, &t);
     if(t) {
       struct SessionHandle *d = t->payload;
       struct timeval* tv = &d->state.expiretime;
 
       /* clear the expire times within the handles that we remove from the
@@ -1686,14 +1684,12 @@
 
       /* Clear the pointer to the connection cache */
       easy->easy_handle->state.connc = NULL;
 
       Curl_easy_addmulti(easy->easy_handle, NULL); /* clear the association */
 
-      if(easy->msg)
-        free(easy->msg);
       free(easy);
       easy = nexteasy;
     }
 
     free(multi);
 
@@ -1714,25 +1710,25 @@
 
     if(!multi->num_msgs)
       return NULL; /* no messages left to return */
 
     easy=multi->easy.next;
     while(easy != &multi->easy) {
-      if(easy->msg_num) {
-        easy->msg_num--;
+      if(easy->msg_stored) {
+        easy->msg_stored = 0;
         break;
       }
       easy = easy->next;
     }
     if(!easy)
       return NULL; /* this means internal count confusion really */
 
     multi->num_msgs--;
     *msgs_in_queue = multi->num_msgs;
 
-    return &easy->msg->extmsg;
+    return &easy->msg.extmsg;
   }
   else
     return NULL;
 }
 
 /*
@@ -2165,26 +2161,38 @@
 }
 
 static CURLcode addHandleToSendOrPendPipeline(struct SessionHandle *handle,
                                               struct connectdata *conn)
 {
   size_t pipeLen = conn->send_pipe->size + conn->recv_pipe->size;
+  struct curl_llist_element *sendhead = conn->send_pipe->head;
   struct curl_llist *pipeline;
+  CURLcode rc;
 
   if(!Curl_isPipeliningEnabled(handle) ||
      pipeLen == 0)
     pipeline = conn->send_pipe;
   else {
     if(conn->server_supports_pipelining &&
        pipeLen < MAX_PIPELINE_LENGTH)
       pipeline = conn->send_pipe;
     else
       pipeline = conn->pend_pipe;
   }
 
-  return Curl_addHandleToPipeline(handle, pipeline);
+  rc = Curl_addHandleToPipeline(handle, pipeline);
+
+  if (pipeline == conn->send_pipe && sendhead != conn->send_pipe->head) {
+      /* this is a new one as head, expire it */
+      conn->writechannel_inuse = FALSE; /* not in use yet */
+      infof(conn->data, "%p is at send pipe head!\n",
+            conn->send_pipe->head->ptr);
+      Curl_expire(conn->send_pipe->head->ptr, 1);
+  }
+
+  return rc;
 }
 
 static int checkPendPipeline(struct connectdata *conn)
 {
   int result = 0;
   struct curl_llist_element *sendhead = conn->send_pipe->head;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/nss.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/nss.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/nss.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/nss.c	2010-06-30 21:04:07.000000000 +0800
@@ -888,12 +888,63 @@
     return PR_TRUE;
   default:
     return PR_FALSE;
   }
 }
 
+static CURLcode init_nss(struct SessionHandle *data)
+{
+  char *cert_dir;
+  struct_stat st;
+  if(initialized)
+    return CURLE_OK;
+
+  /* First we check if $SSL_DIR points to a valid dir */
+  cert_dir = getenv("SSL_DIR");
+  if(cert_dir) {
+    if((stat(cert_dir, &st) != 0) ||
+        (!S_ISDIR(st.st_mode))) {
+      cert_dir = NULL;
+    }
+  }
+
+  /* Now we check if the default location is a valid dir */
+  if(!cert_dir) {
+    if((stat(SSL_DIR, &st) == 0) &&
+        (S_ISDIR(st.st_mode))) {
+      cert_dir = (char *)SSL_DIR;
+    }
+  }
+
+  if(!NSS_IsInitialized()) {
+    SECStatus rv;
+    initialized = 1;
+    infof(data, "Initializing NSS with certpath: %s\n",
+          cert_dir ? cert_dir : "none");
+    if(!cert_dir) {
+      rv = NSS_NoDB_Init(NULL);
+    }
+    else {
+      char *certpath =
+        PR_smprintf("%s%s", NSS_VersionCheck("3.12.0") ? "sql:" : "", cert_dir);
+      rv = NSS_Initialize(certpath, "", "", "", NSS_INIT_READONLY);
+      PR_smprintf_free(certpath);
+    }
+    if(rv != SECSuccess) {
+      infof(data, "Unable to initialize NSS database\n");
+      initialized = 0;
+      return CURLE_SSL_CACERT_BADFILE;
+    }
+  }
+
+  if(num_enabled_ciphers() == 0)
+    NSS_SetDomesticPolicy();
+
+  return CURLE_OK;
+}
+
 /**
  * Global SSL init
  *
  * @retval 0 error initializing SSL
  * @retval 1 SSL initialized successfully
  */
@@ -908,12 +959,27 @@
 
   /* We will actually initialize NSS later */
 
   return 1;
 }
 
+CURLcode Curl_nss_force_init(struct SessionHandle *data)
+{
+  CURLcode rv;
+  if(!nss_initlock) {
+    failf(data, "unable to initialize NSS, curl_global_init() should have been "
+                "called with CURL_GLOBAL_SSL or CURL_GLOBAL_ALL");
+    return CURLE_OUT_OF_MEMORY;
+  }
+
+  PR_Lock(nss_initlock);
+  rv = init_nss(data);
+  PR_Unlock(nss_initlock);
+  return rv;
+}
+
 /* Global cleanup */
 void Curl_nss_cleanup(void)
 {
   /* This function isn't required to be threadsafe and this is only done
    * as a safety feature.
    */
@@ -1036,22 +1102,18 @@
   PRBool ssl2 = PR_FALSE;
   PRBool ssl3 = PR_FALSE;
   PRBool tlsv1 = PR_FALSE;
   struct SessionHandle *data = conn->data;
   curl_socket_t sockfd = conn->sock[sockindex];
   struct ssl_connect_data *connssl = &conn->ssl[sockindex];
-  SECStatus rv;
-  char *certDir = NULL;
   int curlerr;
   const int *cipher_to_enable;
   PRSocketOptionData sock_opt;
   long time_left;
   PRUint32 timeout;
 
-  curlerr = CURLE_SSL_CONNECT_ERROR;
-
   if (connssl->state == ssl_connection_complete)
     return CURLE_OK;
 
   connssl->data = data;
 
 #ifdef HAVE_PK11_CREATEGENERICOBJECT
@@ -1059,82 +1121,42 @@
   connssl->cacert[1] = NULL;
   connssl->key = NULL;
 #endif
 
   /* FIXME. NSS doesn't support multiple databases open at the same time. */
   PR_Lock(nss_initlock);
-  if(!initialized) {
-    struct_stat st;
-
-    /* First we check if $SSL_DIR points to a valid dir */
-    certDir = getenv("SSL_DIR");
-    if(certDir) {
-      if((stat(certDir, &st) != 0) ||
-         (!S_ISDIR(st.st_mode))) {
-        certDir = NULL;
-      }
-    }
-
-    /* Now we check if the default location is a valid dir */
-    if(!certDir) {
-      if((stat(SSL_DIR, &st) == 0) &&
-         (S_ISDIR(st.st_mode))) {
-        certDir = (char *)SSL_DIR;
-      }
-    }
-
-    if (!NSS_IsInitialized()) {
-      initialized = 1;
-      infof(conn->data, "Initializing NSS with certpath: %s\n",
-            certDir ? certDir : "none");
-      if(!certDir) {
-        rv = NSS_NoDB_Init(NULL);
-      }
-      else {
-        char *certpath = PR_smprintf("%s%s",
-                                     NSS_VersionCheck("3.12.0") ? "sql:" : "",
-                                     certDir);
-        rv = NSS_Initialize(certpath, "", "", "", NSS_INIT_READONLY);
-        PR_smprintf_free(certpath);
-      }
-      if(rv != SECSuccess) {
-        infof(conn->data, "Unable to initialize NSS database\n");
-        curlerr = CURLE_SSL_CACERT_BADFILE;
-        initialized = 0;
-        PR_Unlock(nss_initlock);
-        goto error;
-      }
-    }
+  curlerr = init_nss(conn->data);
+  if(CURLE_OK != curlerr) {
+    PR_Unlock(nss_initlock);
+    goto error;
+  }
 
-    if(num_enabled_ciphers() == 0)
-      NSS_SetDomesticPolicy();
+  curlerr = CURLE_SSL_CONNECT_ERROR;
 
 #ifdef HAVE_PK11_CREATEGENERICOBJECT
-    if(!mod) {
-      char *configstring = aprintf("library=%s name=PEM", pem_library);
-      if(!configstring) {
-        PR_Unlock(nss_initlock);
-        goto error;
-      }
-      mod = SECMOD_LoadUserModule(configstring, NULL, PR_FALSE);
-      free(configstring);
+  if(!mod) {
+    char *configstring = aprintf("library=%s name=PEM", pem_library);
+    if(!configstring) {
+      PR_Unlock(nss_initlock);
+      goto error;
+    }
+    mod = SECMOD_LoadUserModule(configstring, NULL, PR_FALSE);
+    free(configstring);
 
-      if(!mod || !mod->loaded) {
-        if(mod) {
-          SECMOD_DestroyModule(mod);
-          mod = NULL;
-        }
-        infof(data, "WARNING: failed to load NSS PEM library %s. Using "
-              "OpenSSL PEM certificates will not work.\n", pem_library);
+    if(!mod || !mod->loaded) {
+      if(mod) {
+        SECMOD_DestroyModule(mod);
+        mod = NULL;
       }
+      infof(data, "WARNING: failed to load NSS PEM library %s. Using "
+            "OpenSSL PEM certificates will not work.\n", pem_library);
     }
+  }
 #endif
 
-    PK11_SetPasswordFunc(nss_get_password);
-
-  }
+  PK11_SetPasswordFunc(nss_get_password);
   PR_Unlock(nss_initlock);
 
   model = PR_NewTCPSocket();
   if(!model)
     goto error;
   model = SSL_ImportFD(NULL, model);
@@ -1445,7 +1467,15 @@
 }
 
 size_t Curl_nss_version(char *buffer, size_t size)
 {
   return snprintf(buffer, size, "NSS/%s", NSS_VERSION);
 }
+
+int Curl_nss_seed(struct SessionHandle *data)
+{
+  /* TODO: implement? */
+  (void) data;
+  return 0;
+}
+
 #endif /* USE_NSS */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/nssg.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/nssg.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/nssg.h	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/nssg.h	2010-06-30 21:04:07.000000000 +0800
@@ -43,12 +43,15 @@
 void Curl_nss_cleanup(void);
 
 size_t Curl_nss_version(char *buffer, size_t size);
 int Curl_nss_check_cxn(struct connectdata *cxn);
 int Curl_nss_seed(struct SessionHandle *data);
 
+/* initialize NSS library if not already */
+CURLcode Curl_nss_force_init(struct SessionHandle *data);
+
 /* API setup for NSS */
 #define curlssl_init Curl_nss_init
 #define curlssl_cleanup Curl_nss_cleanup
 #define curlssl_connect Curl_nss_connect
 
 /* NSS has its own session ID cache */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/pingpong.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/pingpong.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/pingpong.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/pingpong.c	2010-08-03 00:53:34.000000000 +0800
@@ -319,13 +319,13 @@
        * because it would have been populated with something of size
        * int to begin with, even though its datatype may be larger
        * than an int.
        */
       DEBUGASSERT((ptr+pp->cache_size) <= (buf+BUFSIZE+1));
       memcpy(ptr, pp->cache, pp->cache_size);
-      gotbytes = pp->cache_size;
+      gotbytes = (ssize_t)pp->cache_size;
       free(pp->cache);    /* free the cache */
       pp->cache = NULL;   /* clear the pointer */
       pp->cache_size = 0; /* zero the size just in case */
     }
     else {
       int res;
@@ -383,14 +383,14 @@
 
           /* output debug output if that is requested */
 #if defined(HAVE_KRB4) || defined(HAVE_GSSAPI)
           if(!conn->sec_complete)
 #endif
             if(data->set.verbose)
-            Curl_debug(data, CURLINFO_HEADER_IN,
-                       pp->linestart_resp, (size_t)perline, conn);
+              Curl_debug(data, CURLINFO_HEADER_IN,
+                         pp->linestart_resp, (size_t)perline, conn);
 
           /*
            * We pass all response-lines to the callback function registered
            * for "headers". The response lines can be seen as a kind of
            * headers.
            */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/pingpong.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/pingpong.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/pingpong.h	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/pingpong.h	2010-07-18 06:48:50.000000000 +0800
@@ -4,13 +4,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2007, 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -53,13 +53,13 @@
                      server */
   size_t sendleft; /* number of bytes left to send from the sendthis buffer */
   size_t sendsize; /* total size of the sendthis buffer */
   struct timeval response; /* set to Curl_tvnow() when a command has been sent
                               off, used to time-out response reading */
   long response_time; /* When no timeout is given, this is the amount of
-                         seconds we await for a server response. */
+                         milliseconds we await for a server response. */
 
   struct connectdata *conn; /* points to the connectdata struct that this
                                belongs to */
 
   /* Function pointers the protocols MUST implement and provide for the
      pingpong layer to function */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/sendf.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/sendf.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/sendf.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/sendf.c	2010-06-19 06:02:11.000000000 +0800
@@ -251,14 +251,14 @@
   CURLcode curlcode = CURLE_OK;
   int num = (sockfd == conn->sock[SECONDARYSOCKET]);
 
   bytes_written = conn->send[num](conn, num, mem, len, &curlcode);
 
   *written = bytes_written;
-  if(-1 != bytes_written)
-    /* we completely ignore the curlcode value when -1 is not returned */
+  if(bytes_written >= 0)
+    /* we completely ignore the curlcode value when subzero is not returned */
     return CURLE_OK;
 
   /* handle CURLE_AGAIN or a send failure */
   switch(curlcode) {
   case CURLE_AGAIN:
     *written = 0;
@@ -574,13 +574,13 @@
                               conn->data->set.buffer_size ?
                               conn->data->set.buffer_size : BUFSIZE);
     buffertofill = buf;
   }
 
   nread = conn->recv[num](conn, num, buffertofill, bytesfromsocket, &curlcode);
-  if(nread == -1)
+  if(nread < 0)
     return curlcode;
 
   if(pipelining) {
     memcpy(buf, conn->master_buffer, nread);
     conn->buf_len = nread;
     conn->read_pos = nread;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/setup.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/setup.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/setup.h	2010-05-27 23:57:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/setup.h	2010-08-08 05:59:22.000000000 +0800
@@ -353,12 +353,24 @@
 #  endif
 #  ifndef SIZEOF_OFF_T
 #    define SIZEOF_OFF_T 4
 #  endif
 #endif
 
+/*
+ * Arg 2 type for gethostname in case it hasn't been defined in config file.
+ */
+
+#ifndef GETHOSTNAME_TYPE_ARG2
+#  ifdef USE_WINSOCK
+#    define GETHOSTNAME_TYPE_ARG2 int
+#  else
+#    define GETHOSTNAME_TYPE_ARG2 size_t
+#  endif
+#endif
+
 /* Below we define some functions. They should
 
    4. set the SIGALRM signal timeout
    5. set dir/file naming defines
    */
 
@@ -527,13 +539,13 @@
 
 #if defined(USE_GNUTLS) || defined(USE_SSLEAY) || defined(USE_NSS) || defined(USE_QSOSSL) || defined(USE_POLARSSL)
 #define USE_SSL    /* SSL support has been enabled */
 #endif
 
 #if !defined(CURL_DISABLE_HTTP) && !defined(CURL_DISABLE_NTLM)
-#if defined(USE_SSLEAY) || defined(USE_WINDOWS_SSPI) || defined(USE_GNUTLS)
+#if defined(USE_SSLEAY) || defined(USE_WINDOWS_SSPI) || defined(USE_GNUTLS) || defined(USE_NSS)
 #define USE_NTLM
 #endif
 #endif
 
 /* non-configure builds may define CURL_WANTS_CA_BUNDLE_ENV */
 #if defined(CURL_WANTS_CA_BUNDLE_ENV) && !defined(CURL_CA_BUNDLE)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/smtp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/smtp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/smtp.c	2010-06-01 23:55:26.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/smtp.c	2010-08-02 02:35:13.000000000 +0800
@@ -88,12 +88,13 @@
 #include "url.h"
 #include "rawstr.h"
 #include "strtoofft.h"
 #include "curl_base64.h"
 #include "curl_md5.h"
 #include "curl_hmac.h"
+#include "curl_gethostname.h"
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 
 #include "curl_memory.h"
 /* The last #include file should be: */
@@ -340,13 +341,13 @@
   size_t plen;
 
   ulen = strlen(conn->user);
   plen = strlen(conn->passwd);
 
   if(2 * ulen + plen + 2 > sizeof plainauth)
-    return -1;
+    return 0;
 
   memcpy(plainauth, conn->user, ulen);
   plainauth[ulen] = '\0';
   memcpy(plainauth + ulen + 1, conn->user, ulen);
   plainauth[2 * ulen + 1] = '\0';
   memcpy(plainauth + 2 * ulen + 2, conn->passwd, plen);
@@ -358,13 +359,13 @@
   size_t ulen;
 
   ulen = strlen(conn->user);
 
   if(!ulen) {
     *outptr = strdup("=");
-    return *outptr? 1: -1;
+    return *outptr? 1: 0;
   }
 
   return Curl_base64_encode(conn->data, conn->user, ulen, outptr);
 }
 
 static CURLcode smtp_authenticate(struct connectdata *conn)
@@ -409,16 +410,16 @@
       l = smtp_auth_login_user(conn, &initresp);
     }
     else
       result = CURLE_LOGIN_DENIED;      /* Other mechanisms not supported. */
 
     if(!result) {
-      if(l <= 0)
+      if(!l)
         result = CURLE_OUT_OF_MEMORY;
       else if(initresp &&
-       l + strlen(mech) <= 512 - 8) {   /* AUTH <mech> ...<crlf> */
+              l + strlen(mech) <= 512 - 8) {   /* AUTH <mech> ...<crlf> */
         result = Curl_pp_sendf(&smtpc->pp, "AUTH %s %s", mech, initresp);
         free(initresp);
 
         if(!result)
           state(conn, state2);
       }
@@ -540,13 +541,13 @@
     failf(data, "Access denied: %d", smtpcode);
     result = CURLE_LOGIN_DENIED;
   }
   else {
     l = smtp_auth_plain_data(conn, &plainauth);
 
-    if(l <= 0)
+    if(!l)
       result = CURLE_OUT_OF_MEMORY;
     else {
       result = Curl_pp_sendf(&conn->proto.smtpc.pp, "%s", plainauth);
       free(plainauth);
 
       if(!result)
@@ -573,13 +574,13 @@
     failf(data, "Access denied: %d", smtpcode);
     result = CURLE_LOGIN_DENIED;
   }
   else {
     l = smtp_auth_login_user(conn, &authuser);
 
-    if(l <= 0)
+    if(!l)
       result = CURLE_OUT_OF_MEMORY;
     else {
       result = Curl_pp_sendf(&conn->proto.smtpc.pp, "%s", authuser);
       free(authuser);
 
       if(!result)
@@ -596,13 +597,13 @@
                                            smtpstate instate)
 {
   CURLcode result = CURLE_OK;
   struct SessionHandle *data = conn->data;
   size_t plen;
   size_t l;
-  char * authpasswd;
+  char *authpasswd;
 
   (void)instate; /* no use for this yet */
 
   if(smtpcode != 334) {
     failf(data, "Access denied: %d", smtpcode);
     result = CURLE_LOGIN_DENIED;
@@ -612,13 +613,13 @@
 
     if(!plen)
       result = Curl_pp_sendf(&conn->proto.smtpc.pp, "=");
     else {
       l = Curl_base64_encode(data, conn->passwd, plen, &authpasswd);
 
-      if(l <= 0)
+      if(!l)
         result = CURLE_OUT_OF_MEMORY;
       else {
         result = Curl_pp_sendf(&conn->proto.smtpc.pp, "%s", authpasswd);
         free(authpasswd);
 
         if(!result)
@@ -703,13 +704,13 @@
    digest[6], digest[7], digest[8], digest[9], digest[10], digest[11],
    digest[12], digest[13], digest[14], digest[15]);
 
   /* Encode it to base64 and send it. */
   l = Curl_base64_encode(data, reply, 0, &rplyb64);
 
-  if(l <= 0)
+  if(!l)
     result = CURLE_OUT_OF_MEMORY;
   else {
     result = Curl_pp_sendf(&conn->proto.smtpc.pp, "%s", rplyb64);
     free(rplyb64);
 
     if(!result)
@@ -1038,16 +1039,13 @@
   CURLcode result;
   struct smtp_conn *smtpc = &conn->proto.smtpc;
   struct SessionHandle *data=conn->data;
   struct pingpong *pp=&smtpc->pp;
   const char *path = conn->data->state.path;
   int len;
-
-#ifdef HAVE_GETHOSTNAME
-    char localhost[1024 + 1];
-#endif
+  char localhost[1024 + 1];
 
   *done = FALSE; /* default to not done yet */
 
   /* If there already is a protocol-specific struct allocated for this
      sessionhandle, deal with it */
   Curl_reset_reqproto(conn);
@@ -1107,18 +1105,16 @@
   pp->response_time = RESP_TIMEOUT; /* set default response time-out */
   pp->statemach_act = smtp_statemach_act;
   pp->endofresp = smtp_endofresp;
   pp->conn = conn;
 
   if(!*path) {
-#ifdef HAVE_GETHOSTNAME
-    if(!gethostname(localhost, sizeof localhost))
+    if(!Curl_gethostname(localhost, sizeof localhost))
       path = localhost;
     else
-#endif
-    path = "localhost";
+      path = "localhost";
   }
 
   /* url decode the path and use it as domain with EHLO */
   smtpc->domain = curl_easy_unescape(conn->data, path, 0, &len);
   if(!smtpc->domain)
     return CURLE_OUT_OF_MEMORY;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ssh.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ssh.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ssh.c	2010-06-03 05:22:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ssh.c	2010-08-06 01:56:18.000000000 +0800
@@ -483,12 +483,23 @@
 #define SFTP_SEEK(x,y) libssh2_sftp_seek64(x, (libssh2_uint64_t)y)
 #else
 #define SFTP_SEEK(x,y) libssh2_sftp_seek(x, (size_t)y)
 #endif
 
 /*
+ * Earlier libssh2 versions didn't do SCP properly beyond 32bit sizes on 32bit
+ * architectures so we check of the necessary function is present.
+ */
+#ifndef HAVE_LIBSSH2_SCP_SEND64
+#define SCP_SEND(a,b,c,d) libssh2_scp_send_ex(a, b, (int)(c), (size_t)d, 0, 0)
+#else
+#define SCP_SEND(a,b,c,d) libssh2_scp_send64(a, b, (int)(c),            \
+                                             (libssh2_uint64_t)d, 0, 0)
+#endif
+
+/*
  * ssh_statemach_act() runs the SSH state machine as far as it can without
  * blocking and without reaching the end.  The data the pointer 'block' points
  * to will be set to TRUE if the libssh2 function returns LIBSSH2_ERROR_EAGAIN
  * meaning it wants to be called again when the socket is ready
  */
 
@@ -2080,15 +2091,14 @@
        * libssh2 requires that the destination path is a full path that
        * includes the destination file and name OR ends in a "/" .  If this is
        * not done the destination file will be named the same name as the last
        * directory in the path.
        */
       sshc->ssh_channel =
-        libssh2_scp_send_ex(sshc->ssh_session, sftp_scp->path,
-                            (int)(data->set.new_file_perms),
-                            (size_t)data->set.infilesize, 0, 0);
+        SCP_SEND(sshc->ssh_session, sftp_scp->path, data->set.new_file_perms,
+                 data->set.infilesize);
       if(!sshc->ssh_channel) {
         if(libssh2_session_last_errno(sshc->ssh_session) ==
            LIBSSH2_ERROR_EAGAIN) {
           rc = LIBSSH2_ERROR_EAGAIN;
           break;
         }
@@ -2441,13 +2451,13 @@
       }
       if (LIBSSH2_SESSION_BLOCK_OUTBOUND & dir) {
         fd_write = sock;
       }
       /* wait for the socket to become ready */
       Curl_socket_ready(fd_read, fd_write,
-                        left>1000?1000:left); /* ignore result */
+                        (int)(left>1000?1000:left)); /* ignore result */
     }
 #endif
 
   }
 
   return result;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ssh.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ssh.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ssh.h	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ssh.h	2010-08-06 01:56:18.000000000 +0800
@@ -4,13 +4,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -148,19 +148,23 @@
 
 #if !defined(LIBSSH2_VERSION_NUM) || (LIBSSH2_VERSION_NUM < 0x001000)
 #  error "SCP/SFTP protocols require libssh2 0.16 or later"
 #endif
 
 #if defined(LIBSSH2_VERSION_NUM) && (LIBSSH2_VERSION_NUM >= 0x010000)
-/* libssh2_sftp_seek64() has only ever been provided by libssh2 1.0 or
-   later */
 #  define HAVE_LIBSSH2_SFTP_SEEK64 1
 #else
 #  undef HAVE_LIBSSH2_SFTP_SEEK64
 #endif
 
+#if defined(LIBSSH2_VERSION_NUM) && (LIBSSH2_VERSION_NUM >= 0x010206)
+#  define HAVE_LIBSSH2_SCP_SEND64 1
+#else
+#  undef HAVE_LIBSSH2_SCP_SEND64
+#endif
+
 
 extern const struct Curl_handler Curl_handler_scp;
 extern const struct Curl_handler Curl_handler_sftp;
 
 #endif /* USE_LIBSSH2 */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ssluse.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ssluse.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/ssluse.c	2010-06-06 05:20:46.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/ssluse.c	2010-08-02 05:38:14.000000000 +0800
@@ -2427,21 +2427,20 @@
           return CURLE_OPERATION_TIMEDOUT;
         }
       }
       /* socket is readable or writable */
     }
 
-    /* Run transaction, and return to the caller if it failed or if
-     * this connection is part of a multi handle and this loop would
-     * execute again. This permits the owner of a multi handle to
-     * abort a connection attempt before step2 has completed while
-     * ensuring that a client using select() or epoll() will always
-     * have a valid fdset to wait on.
+    /* Run transaction, and return to the caller if it failed or if this
+     * connection is done nonblocking and this loop would execute again. This
+     * permits the owner of a multi handle to abort a connection attempt
+     * before step2 has completed while ensuring that a client using select()
+     * or epoll() will always have a valid fdset to wait on.
      */
     retcode = ossl_connect_step2(conn, sockindex);
-    if(retcode || (data->state.used_interface == Curl_if_multi &&
+    if(retcode || (nonblocking &&
                    (ssl_connect_2 == connssl->connecting_state ||
                     ssl_connect_2_reading == connssl->connecting_state ||
                     ssl_connect_2_writing == connssl->connecting_state)))
       return retcode;
 
   } /* repeat step2 until all transactions are done. */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/tftp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/tftp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/tftp.c	2010-06-10 01:01:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/tftp.c	2010-08-11 06:05:46.000000000 +0800
@@ -1168,23 +1168,24 @@
   time(&current);
   if(current > state->max_time) {
     DEBUGF(infof(conn->data, "timeout: %ld > %ld\n",
                  (long)current, (long)state->max_time));
     state->error = TFTP_ERR_TIMEOUT;
     state->state = TFTP_STATE_FIN;
-    return(0);
+    return 0;
   }
   else if (current > state->rx_time+state->retry_time) {
     if (event)
       *event = TFTP_EVENT_TIMEOUT;
     time(&state->rx_time); /* update even though we received nothing */
-    return(state->max_time-current);
-  }
-  else {
-    return(state->max_time-current);
   }
+
+  /* there's a typecast below here since 'time_t' may in fact be larger than
+     'long', but we estimate that a 'long' will still be able to hold number
+     of seconds even if "only" 32 bit */
+  return (long) state->max_time-current;
 }
 
 
 /**********************************************************
  *
  * tftp_easy_statemach
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/transfer.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/transfer.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/transfer.c	2010-06-08 16:14:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/transfer.c	2010-08-10 20:10:58.000000000 +0800
@@ -808,12 +808,15 @@
              We have sent off the full HTTP 1.1 request, and we shall now
              go into the Expect: 100 state and await such a header */
           k->exp100 = EXP100_AWAITING_CONTINUE; /* wait for the header */
           k->keepon &= ~KEEP_SEND;         /* disable writing */
           k->start100 = Curl_tvnow();       /* timeout count starts now */
           *didwhat &= ~KEEP_SEND;  /* we didn't write anything actually */
+
+          /* set a timeout for the multi interface */
+          Curl_expire(data, CURL_TIMEOUT_EXPECT_100);
           break;
         }
 
         if(conn->protocol&(PROT_HTTP|PROT_RTSP)) {
           if(data->state.proto.http->sending == HTTPSEND_REQUEST)
             /* We're sending the HTTP request headers, not the data.
@@ -2262,12 +2265,15 @@
       */
       if((data->state.expect100header) &&
          (data->state.proto.http->sending == HTTPSEND_BODY)) {
         /* wait with write until we either got 100-continue or a timeout */
         k->exp100 = EXP100_AWAITING_CONTINUE;
         k->start100 = k->start;
+
+        /* set a timeout for the multi interface */
+        Curl_expire(data, CURL_TIMEOUT_EXPECT_100);
       }
       else {
         if(data->state.expect100header)
           /* when we've sent off the rest of the headers, we must await a
              100-continue but first finish sending the request */
           k->exp100 = EXP100_SENDING_REQUEST;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/url.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/url.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/url.c	2010-06-07 23:02:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/url.c	2010-08-10 20:44:09.000000000 +0800
@@ -1401,25 +1401,12 @@
      * This sets a requested HTTP version to be used. The value is one of
      * the listed enums in curl/curl.h.
      */
     data->set.httpversion = va_arg(param, long);
     break;
 
-  case CURLOPT_CUSTOMREQUEST:
-    /*
-     * Set a custom string to use as request
-     */
-    result = setstropt(&data->set.str[STRING_CUSTOMREQUEST],
-                       va_arg(param, char *));
-
-    /* we don't set
-       data->set.httpreq = HTTPREQ_CUSTOM;
-       here, we continue as if we were using the already set type
-       and this just changes the actual request keyword */
-    break;
-
   case CURLOPT_HTTPAUTH:
     /*
      * Set HTTP Authentication type BITMASK.
      */
   {
     long auth = va_arg(param, long);
@@ -1445,12 +1432,27 @@
       return CURLE_FAILED_INIT; /* no supported types left! */
 
     data->set.httpauth = auth;
   }
   break;
 
+#endif   /* CURL_DISABLE_HTTP */
+
+  case CURLOPT_CUSTOMREQUEST:
+    /*
+     * Set a custom string to use as request
+     */
+    result = setstropt(&data->set.str[STRING_CUSTOMREQUEST],
+                       va_arg(param, char *));
+
+    /* we don't set
+       data->set.httpreq = HTTPREQ_CUSTOM;
+       here, we continue as if we were using the already set type
+       and this just changes the actual request keyword */
+    break;
+
 #ifndef CURL_DISABLE_PROXY
   case CURLOPT_HTTPPROXYTUNNEL:
     /*
      * Tunnel operations through the proxy instead of normal proxy use
      */
     data->set.tunnel_thru_httpproxy = (bool)(0 != va_arg(param, long));
@@ -1489,13 +1491,12 @@
     if(!auth)
       return CURLE_FAILED_INIT; /* no supported types left! */
 
     data->set.proxyauth = auth;
   }
   break;
-#endif   /* CURL_DISABLE_HTTP */
 
   case CURLOPT_PROXY:
     /*
      * Set proxy server:port to use as HTTP proxy.
      *
      * If the proxy is set to "" we explicitly say that we don't want to use a
@@ -1529,13 +1530,13 @@
     default:
       /* reserve other values for future use */
       result = CURLE_FAILED_INIT;
       break;
     }
     break;
-#endif
+#endif   /* CURL_DISABLE_PROXY */
 
 #if defined(HAVE_GSSAPI) || defined(USE_WINDOWS_SSPI)
   case CURLOPT_SOCKS5_GSSAPI_SERVICE:
     /*
      * Set gssapi service name
      */
@@ -3123,26 +3124,20 @@
   return i;
 }
 
 /* after a TCP connection to the proxy has been verified, this function does
    the next magic step.
 
-   Note: this function (and its sub-functions) calls failf()
+   Note: this function's sub-functions call failf()
 
 */
 CURLcode Curl_connected_proxy(struct connectdata *conn)
 {
   CURLcode result = CURLE_OK;
   struct SessionHandle *data = conn->data;
 
-  if(conn->bits.tcpconnect)
-    /* allow this to get called again from the multi interface when TCP is
-       found connected in the state machine, even though it has already been
-       called if the connection happened "instantly" */
-    return CURLE_OK;
-
   switch(data->set.proxytype) {
 #ifndef CURL_DISABLE_PROXY
   case CURLPROXY_SOCKS5:
   case CURLPROXY_SOCKS5_HOSTNAME:
     result = Curl_SOCKS5(conn->proxyuser, conn->proxypasswd,
                          conn->host.name, conn->remote_port,
@@ -4261,24 +4256,29 @@
     if(portptr)
       *portptr = '\0'; /* cut off the name there anyway - if there was a port
                       number - since the port number is to be ignored! */
     if(conn->bits.httpproxy) {
       /* we need to create new URL with the new port number */
       char *url;
-      /* FTPS connections have the FTP bit set too, so they match as well */
-      bool isftp = (bool)(0 != (conn->protocol & PROT_FTP));
+      char type[12]="";
+
+      if(conn->bits.type_set)
+        snprintf(type, sizeof(type), ";type=%c",
+                 data->set.prefer_ascii?'A':
+                 (data->set.ftp_list_only?'D':'I'));
 
       /*
-       * This synthesized URL isn't always right--suffixes like ;type=A
-       * are stripped off. It would be better to work directly from the
-       * original URL and simply replace the port part of it.
+       * This synthesized URL isn't always right--suffixes like ;type=A are
+       * stripped off. It would be better to work directly from the original
+       * URL and simply replace the port part of it.
        */
-      url = aprintf("%s://%s%s%s:%hu%s%s", conn->handler->scheme,
+      url = aprintf("%s://%s%s%s:%hu%s%s%s", conn->handler->scheme,
                     conn->bits.ipv6_ip?"[":"", conn->host.name,
                     conn->bits.ipv6_ip?"]":"", conn->remote_port,
-                    isftp?"/":"", data->state.path);
+                    data->state.slash_removed?"/":"", data->state.path,
+                    type);
       if(!url)
         return CURLE_OUT_OF_MEMORY;
 
       if(data->change.url_alloc)
         free(data->change.url);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/urldata.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/urldata.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/urldata.h	2010-06-05 06:30:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/urldata.h	2010-08-10 20:44:09.000000000 +0800
@@ -415,12 +415,13 @@
                               boundary */
   bool proxy_connect_closed; /* set true if a proxy disconnected the
                                 connection in a CONNECT request with auth, so
                                 that libcurl should reconnect and continue. */
   bool bound; /* set true if bind() has already been done on this socket/
                  connection */
+  bool type_set;  /* type= was used in the URL */
 };
 
 struct hostname {
   char *rawalloc; /* allocated "raw" version of the name */
   char *encalloc; /* allocated IDN-encoded version of the name */
   char *name;     /* name to use internally, might be encoded, might be raw */
@@ -1124,13 +1125,14 @@
   bool closed; /* set to TRUE when curl_easy_cleanup() has been called on this
                   handle, but it is kept around as mentioned for
                   shared_conn */
   char *pathbuffer;/* allocated buffer to store the URL's path part in */
   char *path;      /* path to use, points to somewhere within the pathbuffer
                       area */
-
+  bool slash_removed; /* set TRUE if the 'path' points to a path where the
+                         initial URL slash separator has been taken off */
   bool use_range;
   bool rangestringalloc; /* the range string is malloc()'ed */
 
   char *range; /* range, if used. See README for detailed specification on
                   this syntax. */
   curl_off_t resume_from; /* continue [ftp] transfer from here */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/vc6libcurl.dsp /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/vc6libcurl.dsp
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/lib/vc6libcurl.dsp	2010-06-16 19:49:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/lib/vc6libcurl.dsp	2010-08-12 05:36:12.000000000 +0800
@@ -171,12 +171,16 @@
 # Begin Source File
 
 SOURCE=.\curl_fnmatch.c
 # End Source File
 # Begin Source File
 
+SOURCE=.\curl_gethostname.c
+# End Source File
+# Begin Source File
+
 SOURCE=.\curl_memrchr.c
 # End Source File
 # Begin Source File
 
 SOURCE=.\curl_rand.c
 # End Source File
@@ -323,12 +327,16 @@
 # Begin Source File
 
 SOURCE=.\llist.c
 # End Source File
 # Begin Source File
 
+SOURCE=.\md4.c
+# End Source File
+# Begin Source File
+
 SOURCE=.\md5.c
 # End Source File
 # Begin Source File
 
 SOURCE=.\memdebug.c
 # End Source File
@@ -531,20 +539,28 @@
 # Begin Source File
 
 SOURCE=.\curl_fnmatch.h
 # End Source File
 # Begin Source File
 
+SOURCE=.\curl_gethostname.h
+# End Source File
+# Begin Source File
+
 SOURCE=.\curl_hmac.h
 # End Source File
 # Begin Source File
 
 SOURCE=.\curl_ldap.h
 # End Source File
 # Begin Source File
 
+SOURCE=.\curl_md4.h
+# End Source File
+# Begin Source File
+
 SOURCE=.\curl_md5.h
 # End Source File
 # Begin Source File
 
 SOURCE=.\curl_memory.h
 # End Source File
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/m4/curl-confopts.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/m4/curl-confopts.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/m4/curl-confopts.m4	2010-04-26 05:09:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/m4/curl-confopts.m4	2010-08-12 01:03:16.000000000 +0800
@@ -18,26 +18,26 @@
 # This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
 # KIND, either express or implied.
 #
 #***************************************************************************
 
 # File version for 'aclocal' use. Keep it a single number.
-# serial 12
+# serial 13
 
 dnl CURL_CHECK_OPTION_THREADED_RESOLVER
 dnl -------------------------------------------------
 dnl Verify if configure has been invoked with option
-dnl --enable-threaded-resolver or --disable-threaded-resover, and
+dnl --enable-threaded-resolver or --disable-threaded-resolver, and
 dnl set shell variable want_thres as appropriate.
 
 AC_DEFUN([CURL_CHECK_OPTION_THREADED_RESOLVER], [
   AC_MSG_CHECKING([whether to enable the threaded resolver])
   OPT_THRES="default"
   AC_ARG_ENABLE(threaded_resolver,
 AC_HELP_STRING([--enable-threaded-resolver],[Enable threaded resolver])
-AC_HELP_STRING([--disable-threaded-resover],[Disable threaded resolver]),
+AC_HELP_STRING([--disable-threaded-resolver],[Disable threaded resolver]),
   OPT_THRES=$enableval)
   case "$OPT_THRES" in
     yes)
       dnl --enable-threaded-resolver option used
       want_thres="yes"
       ;;
@@ -311,12 +311,13 @@
 dnl Verify if configure has been invoked with option
 dnl --enable-warnings or --disable-warnings, and set
 dnl shell variable want_warnings as appropriate.
 
 AC_DEFUN([CURL_CHECK_OPTION_WARNINGS], [
   AC_REQUIRE([CURL_CHECK_OPTION_DEBUG])dnl
+  AC_BEFORE([$0],[CURL_CHECK_OPTION_WERROR])dnl
   AC_BEFORE([$0],[CURL_CHECK_PROG_CC])dnl
   AC_MSG_CHECKING([whether to enable strict compiler warnings])
   OPT_COMPILER_WARNINGS="default"
   AC_ARG_ENABLE(warnings,
 AC_HELP_STRING([--enable-warnings],[Enable strict compiler warnings])
 AC_HELP_STRING([--disable-warnings],[Disable strict compiler warnings]),
@@ -336,12 +337,43 @@
       want_warnings="yes"
       ;;
   esac
   AC_MSG_RESULT([$want_warnings])
 ])
 
+dnl CURL_CHECK_OPTION_WERROR
+dnl -------------------------------------------------
+dnl Verify if configure has been invoked with option
+dnl --enable-werror or --disable-werror, and set
+dnl shell variable want_werror as appropriate.
+
+AC_DEFUN([CURL_CHECK_OPTION_WERROR], [
+  AC_BEFORE([$0],[CURL_CHECK_COMPILER])dnl
+  AC_MSG_CHECKING([whether to enable compiler warnings as errors])
+  OPT_COMPILER_WERROR="default"
+  AC_ARG_ENABLE(werror,
+AC_HELP_STRING([--enable-werror],[Enable compiler warnings as errors])
+AC_HELP_STRING([--disable-werror],[Disable compiler warnings as errors]),
+  OPT_COMPILER_WERROR=$enableval)
+  case "$OPT_COMPILER_WERROR" in
+    no)
+      dnl --disable-werror option used
+      want_werror="no"
+      ;;
+    default)
+      dnl configure option not specified
+      want_werror="no"
+      ;;
+    *)
+      dnl --enable-werror option used
+      want_werror="yes"
+      ;;
+  esac
+  AC_MSG_RESULT([$want_werror])
+])
+
 
 dnl CURL_CHECK_NONBLOCKING_SOCKET
 dnl -------------------------------------------------
 dnl Check for how to set a socket into non-blocking state.
 
 AC_DEFUN([CURL_CHECK_NONBLOCKING_SOCKET], [
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/Makefile /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/Makefile
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/Makefile	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/Makefile	2010-08-12 05:36:29.000000000 +0800
@@ -51,23 +51,29 @@
 borland-clean:
 	cd lib
 	make -f Makefile.b32 clean
 	cd ..\src
 	make -f Makefile.b32 clean
 
-watcom:
+watcom: .SYMBOLIC
 	cd lib
-	wmake -f Makefile.Watcom
+	wmake -u -f Makefile.Watcom
 	cd ..\src
-	wmake -f Makefile.Watcom
+	wmake -u -f Makefile.Watcom
 
-watcom-clean:
+watcom-clean: .SYMBOLIC
 	cd lib
-	wmake -f Makefile.Watcom clean
+	wmake -u -f Makefile.Watcom clean
 	cd ..\src
-	wmake -f Makefile.Watcom clean
+	wmake -u -f Makefile.Watcom clean
+
+watcom-vclean: .SYMBOLIC
+	cd lib
+	wmake -u -f Makefile.Watcom vclean
+	cd ..\src
+	wmake -u -f Makefile.Watcom vclean
 
 mingw32:
 	$(MAKE) -C lib -f Makefile.m32
 	$(MAKE) -C src -f Makefile.m32
 
 mingw32-zlib:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/Makefile.in	2010-06-16 19:49:32.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/Makefile.in	2010-08-12 05:35:55.000000000 +0800
@@ -123,23 +123,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -148,22 +151,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/maketgz /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/maketgz
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/maketgz	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/maketgz	2010-06-22 04:38:03.000000000 +0800
@@ -123,12 +123,15 @@
 make -s html
 
 # And the PDF versions
 echo "make pdf"
 make -s pdf
 
+echo "produce CHANGES"
+git log --pretty=fuller --no-color --date=short --decorate=full -1000 | ./log2changes.pl > CHANGES.dist
+
 ############################################################################
 #
 # Now run make dist to generate a tar.gz archive
 #
 
 echo "make dist"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/AIX/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/AIX/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/AIX/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/AIX/Makefile.in	2010-08-12 01:03:30.000000000 +0800
@@ -73,23 +73,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -98,22 +101,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/AIX/RPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/AIX/RPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/AIX/RPM/Makefile.in	2010-06-05 06:32:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/AIX/RPM/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -65,23 +65,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -90,22 +93,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/EPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/EPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/EPM/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/EPM/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -65,23 +65,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -90,22 +93,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Linux/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Linux/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Linux/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Linux/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -73,23 +73,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -98,22 +101,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Linux/RPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Linux/RPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Linux/RPM/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Linux/RPM/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -65,23 +65,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -90,22 +93,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -73,23 +73,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -98,22 +101,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Solaris/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Solaris/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Solaris/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Solaris/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -67,23 +67,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -92,22 +95,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Symbian/group/libcurl.mmp /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Symbian/group/libcurl.mmp
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Symbian/group/libcurl.mmp	2010-06-02 22:51:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Symbian/group/libcurl.mmp	2010-08-05 00:29:13.000000000 +0800
@@ -31,13 +31,14 @@
   http_negotiate.c http_ntlm.c inet_pton.c strtoofft.c strerror.c   \
   hostares.c hostasyn.c hostip4.c hostip6.c hostsyn.c hostthre.c    \
   inet_ntop.c parsedate.c select.c gtls.c sslgen.c tftp.c splay.c   \
   strdup.c socks.c ssh.c nss.c qssl.c rawstr.c curl_addrinfo.c      \
   socks_gssapi.c socks_sspi.c curl_sspi.c slist.c nonblock.c        \
   curl_memrchr.c imap.c pop3.c smtp.c pingpong.c rtsp.c warnless.c  \
-  curl_threads.c hmac.c polarssl.c curl_rtmp.c openldap.c
+  curl_threads.c hmac.c polarssl.c curl_rtmp.c openldap.c md4.c     \
+  curl_gethostname.c
 
 USERINCLUDE   ../../../lib ../../../include/curl
 #ifdef ENABLE_SSL
 SYSTEMINCLUDE /epoc32/include/osextensions/stdapis
 // Older versions of the SDK need this instead:
 //USERINCLUDE /epoc32/include/stdapis/openssl
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/TPF/curl.mak /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/TPF/curl.mak
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/TPF/curl.mak	2010-06-02 22:51:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/TPF/curl.mak	2010-08-05 00:29:13.000000000 +0800
@@ -33,12 +33,13 @@
 C_SRC := base64.c
 C_SRC += connect.c
 C_SRC += content_encoding.c
 C_SRC += cookie.c
 C_SRC += curl_addrinfo.c
 C_SRC += curl_fnmatch.c
+C_SRC += curl_gethostname.c
 C_SRC += curl_memrchr.c
 C_SRC += curl_rand.c
 C_SRC += curl_rtmp.c
 C_SRC += curl_sspi.c
 C_SRC += curl_threads.c
 C_SRC += dict.c
@@ -71,12 +72,13 @@
 C_SRC += inet_ntop.c
 C_SRC += inet_pton.c
 C_SRC += krb4.c
 C_SRC += krb5.c
 C_SRC += ldap.c
 C_SRC += llist.c
+C_SRC += md4.c
 C_SRC += md5.c
 C_SRC += memdebug.c
 C_SRC += mprintf.c
 C_SRC += multi.c
 C_SRC += netrc.c
 C_SRC += nonblock.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/vms/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/vms/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/vms/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/vms/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -64,23 +64,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -89,22 +92,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Win32/cygwin/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Win32/cygwin/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Win32/cygwin/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Win32/cygwin/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -64,23 +64,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -89,22 +92,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Win32/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Win32/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/packages/Win32/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/packages/Win32/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -73,23 +73,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -98,22 +101,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/RELEASE-NOTES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/RELEASE-NOTES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/RELEASE-NOTES	2010-06-06 05:40:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/RELEASE-NOTES	2010-08-12 05:31:48.000000000 +0800
@@ -1,56 +1,71 @@
-Curl and libcurl 7.21.0
+Curl and libcurl 7.21.1
 
- Public curl releases:         116
+ Public curl releases:         117
  Command line options:         138
  curl_easy_setopt() options:   180
  Public functions in libcurl:  58
  Known libcurl bindings:       39
- Contributors:                 794
+ Contributors:                 808
 
 This release includes the following changes:
 
- o added the --proto and -proto-redir options
- o new configure option --enable-threaded-resolver
- o improve TELNET ability with libcurl
- o added support for PolarSSL
- o added support for FTP wildcard matching and downloads
- o added support for RTMP
- o introducing new LDAP code for new enough OpenLDAP
- o OpenLDAP support enabled for cygwin builds
- o added CURLINFO_PRIMARY_PORT, CURLINFO_LOCAL_IP and CURLINFO_LOCAL_PORT
+ o maketgz: produce CHANGES automatically
+ o added support for NTLM authentication when compiled with NSS
+ o build: Enable configure --enable-werror
+ o curl-config: --built-shared returns shared info
 
 This release includes the following bugfixes:
 
- o prevent needless reverse name lookups
- o detect GSS on ancient Linux distros
- o GnuTLS: EOF caused error when it wasn't
- o GnuTLS: SSL handshake phase is non-blocking
- o -J/--remote-header-name strips CRLF
- o MSVC makefiles now use ws2_32.lib instead of wsock32.lib
- o -O crash on windows
- o SSL handshake timeout underflow in libcurl-NSS
- o multi interface missed storing connection time
- o broken CRL support in libcurl-NSS
- o ignore response-body on redirect even if compressed
- o OpenSSL handshake state-machine for multi interface
- o TFTP timeout option sent correctly
- o TFTP block id wrap
- o curl_multi_socket_action() timeout handles inaccuracy in timers better
- o SCP/SFTP failure to respect the timeout
- o spurious SSL connection aborts with OpenSSL
+ o configure: spell --disable-threaded-resolver correctly
+ o multi: call the progress callback in all states
+ o multi: unmark handle as used when no longer head of pipeline
+ o sendrecv: treat all negative values from send/recv as errors
+ o ftp-wildcard: avoid tight loop when used without any pattern
+ o multi_socket: re-use of same socket without notifying app
+ o ftp wildcard: FTP LIST parser FIX
+ o urlglobbing backslash escaping bug
+ o build: add enable IPV6 option for the VC makefiles
+ o multi: CURLINFO_LASTSOCKET doesn't work after remove_handle
+ o --libcurl: use *_LARGE options with typecasted constants
+ o --libcurl: hide setopt() calls setting default options
+ o curl: avoid setting libcurl options to its default
+ o --libcurl: list the tricky options instead of using [REMARK]
+ o http: don't enable chunked during authentication negotiations
+ o upload: warn users trying to upload from stdin with anyauth
+ o configure: allow environments variable to override internals
+ o threaded resolver: fix timeout issue
+ o multi: fix condition that remove timers before trigger
+ o examples: add curl_multi_timeout
+ o --retry: access violation with URL part sets continued
+ o ssh: Fix compile error on 64-bit systems.
+ o remote-header-name: chop filename at next semicolon
+ o ftp: response timeout bug in "quote" sending
+ o CUSTOMREQUEST: shouldn't be disabled when HTTP is disabled
+ o Watcom makefiles overhaul.
+ o NTLM tests: boost coverage by forcing the hostname
+ o multi: fix FTPS connecting the data connection with OpenSSL
+ o retry: consider retrying even if -f is used
+ o fix SOCKS problem when using multi interface
+ o typecheck-gcc: add checks for recently added options
+ o SCP: send large files properly with new enough libssh2
+ o multi_socket: set timeout for 100-continue
+ o ";type=" URL suffix over HTTP proxy
+ o acknowledge progress callback error returns during connect
+ o Watcom makefile fixes
+ o runtests: clear old setenv remainders before test
 
 This release includes the following known bugs:
 
  o see docs/KNOWN_BUGS (http://curl.haxx.se/docs/knownbugs.html)
 
 This release would not have looked like this without help, code, reports and
 advice from friends like these:
 
- Rainer Canavan, Paul Howarth, Jerome Vouillon, Ruslan Gazizov, Yang Tse,
- Kamil Dudka, Alex Bligh, Ben Greear, Hoi-Ho Chan, Howard Chu, Dirk Manske,
- Pavel Raiskup, John-Mark Bell, Eric Mertens, Tor Arntsen, Douglas Kilpatrick,
- Igor Novoseltsev, Jason McDonald, Dan Fandrich, Tanguy Fautre, Guenter Knauf,
- Julien Chaffraix, Kalle Vahlman, Frank Meier, Constantine Sapuntzakis
+ Dan Fandrich, Kamil Dudka, Krister Johansen, Pavel Raiskup, Jon Sargeant,
+ Pierre Joye, Tor Arntsen, Constantine Sapuntzakis, Sidney San Martin,
+ Jeff Pohlmeyer, Jan Van Boghout, Ben Greear, Guenter Knauf, Adam Light,
+ Georg Lippitsch, Mike Power, Robin Cornelius, Mikael Johansson,
+ Yang Tse, Ben Darnell
 
 
         Thanks! (and sorry if I forgot to mention someone)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/CMakeLists.txt /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/CMakeLists.txt
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/CMakeLists.txt	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/CMakeLists.txt	2010-08-03 00:53:33.000000000 +0800
@@ -18,13 +18,13 @@
 add_executable(
   ${EXE_NAME}
   ${curl_SOURCES}
   )
 
 source_group("cURLX source files" FILES ${CURLX_ONES})
-source_group("cURL source files" FILES ${CURL_SOURCES})
+source_group("cURL source files" FILES ${CURL_CFILES})
 source_group("cURL header files" FILES ${CURL_HFILES})
 
 include_directories(
   ${CURL_SOURCE_DIR}/lib                # To be able to reach "setup_once.h"
   ${CURL_BINARY_DIR}/lib                # To be able to reach "curl_config.h"
   ${CURL_BINARY_DIR}/include    # To be able to reach "curl/curlbuild.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/config-win32.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/config-win32.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/config-win32.h	2010-05-22 05:57:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/config-win32.h	2010-08-02 02:35:13.000000000 +0800
@@ -382,12 +382,16 @@
 #endif
 
 #if defined(__MINGW32__) && !defined(USE_WIN32_LARGE_FILES)
 #  define USE_WIN32_LARGE_FILES
 #endif
 
+#if defined(__WATCOMC__) && !defined(USE_WIN32_LARGE_FILES)
+#  define USE_WIN32_LARGE_FILES
+#endif
+
 #if defined(__POCC__)
 #  undef USE_WIN32_LARGE_FILES
 #endif
 
 #if !defined(USE_WIN32_LARGE_FILES) && !defined(USE_WIN32_SMALL_FILES)
 #  define USE_WIN32_SMALL_FILES
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/curl_config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/curl_config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/curl_config.h.in	2010-06-16 19:48:57.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/curl_config.h.in	2010-08-12 05:35:22.000000000 +0800
@@ -388,12 +388,15 @@
 /* Define to 1 if you have the <libssh2.h> header file. */
 #undef HAVE_LIBSSH2_H
 
 /* Define to 1 if you have the `libssh2_init' function. */
 #undef HAVE_LIBSSH2_INIT
 
+/* Define to 1 if you have the `libssh2_scp_send64' function. */
+#undef HAVE_LIBSSH2_SCP_SEND64
+
 /* Define to 1 if you have the `libssh2_version' function. */
 #undef HAVE_LIBSSH2_VERSION
 
 /* Define to 1 if you have the `ssl' library (-lssl). */
 #undef HAVE_LIBSSL
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/hugehelp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/hugehelp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/hugehelp.c	2010-05-28 04:35:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/hugehelp.c	2010-07-15 05:06:05.000000000 +0800
@@ -1,11 +1,11 @@
 #include "setup.h"
 #ifndef HAVE_LIBZ
 /*
  * NEVER EVER edit this manually, fix the mkhelp.pl script instead!
- * Generation time: Thu May 27 22:35:52 2010
+ * Generation time: Wed Jul 14 23:06:05 2010
  */
 #include "setup.h"
 #ifdef USE_MANUAL
 #include "hugehelp.h"
 #include <stdio.h>
 void hugehelp(void)
@@ -3591,13 +3591,13 @@
 , stdout) ;
 }
 #endif /* USE_MANUAL */
 #else
 /*
  * NEVER EVER edit this manually, fix the mkhelp.pl script instead!
- * Generation time: Thu May 27 22:35:52 2010
+ * Generation time: Wed Jul 14 23:06:05 2010
  */
 #include "setup.h"
 #ifdef USE_MANUAL
 #include "hugehelp.h"
 #include <stdio.h>
 #include <stdlib.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/main.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/main.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/main.c	2010-06-01 23:55:26.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/main.c	2010-08-02 06:07:19.000000000 +0800
@@ -3461,12 +3461,13 @@
    * it does not match then it fails with CURLE_WRITE_ERROR. So at this
    * point returning a value different from sz*nmemb indicates failure.
    */
   const size_t err_rc = (sz * nmemb) ? 0 : 1;
 
   if(!out->stream) {
+    out->bytes = 0; /* nothing written yet */
     if (!out->filename) {
       warnf(config, "Remote filename has no length!\n");
       return err_rc; /* Failure */
     }
 
     if (config->content_disposition) {
@@ -3488,16 +3489,15 @@
       return err_rc; /* failure */
     }
   }
 
   rc = fwrite(buffer, sz, nmemb, out->stream);
 
-  if((sz * nmemb) == rc) {
+  if((sz * nmemb) == rc)
     /* we added this amount of data to the output */
     out->bytes += (sz * nmemb);
-  }
 
   if(config->readbusy) {
     config->readbusy = FALSE;
     curl_easy_pause(config->easy, CURLPAUSE_CONT);
   }
 
@@ -4066,86 +4066,102 @@
 }
 
 #define my_setopt(x,y,z) _my_setopt(x, FALSE, config, #y, y, z)
 #define my_setopt_str(x,y,z) _my_setopt(x, TRUE, config, #y, y, z)
 
 static struct curl_slist *easycode;
+static struct curl_slist *easycode_remarks;
 
 static CURLcode _my_setopt(CURL *curl, bool str, struct Configurable *config,
                            const char *name, CURLoption tag, ...);
 
 static CURLcode _my_setopt(CURL *curl, bool str, struct Configurable *config,
                            const char *name, CURLoption tag, ...)
 {
   va_list arg;
   CURLcode ret;
   char *bufp;
   char value[256];
   bool remark=FALSE;
+  bool skip=FALSE;
 
   va_start(arg, tag);
 
   if(tag < CURLOPTTYPE_OBJECTPOINT) {
     long lval = va_arg(arg, long);
     snprintf(value, sizeof(value), "%ld", lval);
     ret = curl_easy_setopt(curl, tag, lval);
-
+    if(!lval)
+      skip = TRUE;
   }
   else if(tag < CURLOPTTYPE_OFF_T) {
     void *pval = va_arg(arg, void *);
     unsigned char *ptr = (unsigned char *)pval;
 
     /* function pointers are never printable */
     if (tag >= CURLOPTTYPE_FUNCTIONPOINT) {
       if (pval) {
-        snprintf(value, sizeof(value), "%p", pval);
+        strcpy(value, "functionpointer"); /* 'value' fits 256 bytes */
         remark = TRUE;
       }
       else
-        strcpy(value, "NULL");
+        skip = TRUE;
     }
 
     else if(pval && str)
       snprintf(value, sizeof(value), "\"%s\"", (char *)ptr);
     else if(pval) {
-      snprintf(value, sizeof(value), "%p", pval);
+      strcpy(value, "objectpointer"); /* 'value' fits 256 bytes */
       remark = TRUE;
     }
-    else {
-      strcpy(value, "NULL"); /* value fits more than 5 bytes */
-    }
+    else
+      skip = TRUE;
+
     ret = curl_easy_setopt(curl, tag, pval);
 
   }
   else {
     curl_off_t oval = va_arg(arg, curl_off_t);
-    snprintf(value, sizeof(value), "%" CURL_FORMAT_CURL_OFF_T, oval);
+    snprintf(value, sizeof(value),
+             "(curl_off_t)%" CURL_FORMAT_CURL_OFF_T, oval);
     ret = curl_easy_setopt(curl, tag, oval);
+
+    if(!oval)
+      skip = TRUE;
   }
 
-  if(config->libcurl) {
+  if(config->libcurl && !skip) {
     /* we only use this for real if --libcurl was used */
 
-    bufp = curlx_maprintf("%scurl_easy_setopt(hnd, %s, %s);%s",
-                          remark?"/* ":"", name, value,
-                          remark?" [REMARK] */":"");
+    if(remark)
+      bufp = curlx_maprintf("%s set to a %s", name, value);
+    else
+      bufp = curlx_maprintf("curl_easy_setopt(hnd, %s, %s);", name, value);
 
-    if (!bufp || !curl_slist_append(easycode, bufp))
+    if (!bufp)
       ret = CURLE_OUT_OF_MEMORY;
+    else {
+      struct curl_slist *list =
+        curl_slist_append(remark?easycode_remarks:easycode, bufp);
+
+      if(remark)
+        easycode_remarks = list;
+      else
+        easycode = list;
+    }
     if (bufp)
       curl_free(bufp);
   }
   va_end(arg);
 
   return ret;
 }
 
 static const char * const srchead[]={
   "/********* Sample code generated by the curl command line tool **********",
-  " * Lines with [REMARK] below might need to be modified to make this code ",
-  " * usable. Add error code checking where appropriate.",
+  " * Add error code checking where appropriate!",
   " * Compile this with a suitable header include path. Then link with ",
   " * libcurl.",
   " * If you use any *_LARGE options, make sure your compiler figure",
   " * out the correct size for the curl_off_t variable.",
   " * Read the details for all curl_easy_setopt() options online on:",
   " * http://curlm.haxx.se/libcurl/c/curl_easy_setopt.html",
@@ -4158,13 +4174,13 @@
   "  CURLcode ret;",
   NULL
 };
 
 static void dumpeasycode(struct Configurable *config)
 {
-  struct curl_slist *ptr = easycode;
+  struct curl_slist *ptr;
   char *o = config->libcurl;
 
   if(o) {
     FILE *out;
     bool fopened = FALSE;
     if(strcmp(o, "-")) {
@@ -4188,16 +4204,33 @@
 #endif
         }
         else
           fprintf(out, "%s\n", c);
       }
 
+      ptr = easycode;
       while(ptr) {
         fprintf(out, "  %s\n", ptr->data);
         ptr = ptr->next;
       }
+
+      ptr = easycode_remarks;
+      if(ptr) {
+        fprintf(out,
+                "\n  /* Here is a list of options the curl code"
+                " used that cannot get generated\n"
+                "     as source easily. You may select to either"
+                " not use them or implement\n     them yourself.\n"
+                "\n");
+        while(ptr) {
+          fprintf(out, "  %s\n", ptr->data);
+          ptr = ptr->next;
+        }
+        fprintf(out, "\n  */\n");
+      }
+
       fprintf(out,
               "  return (int)ret;\n"
               "}\n"
               "/**** End of sample code ****/\n");
       if(fopened)
         fclose(out);
@@ -4352,20 +4385,22 @@
 header_callback(void *ptr, size_t size, size_t nmemb, void *stream)
 {
   struct OutStruct* outs = (struct OutStruct*)stream;
   const char* str = (char*)ptr;
   const size_t cb = size*nmemb;
   const char* end = (char*)ptr + cb;
+  size_t len;
 
   if (cb > 20 && curlx_strnequal(str, "Content-disposition:", 20)) {
     char *p = (char*)str + 20;
 
     /* look for the 'filename=' parameter
        (encoded filenames (*=) are not supported) */
     for(;;) {
       char *filename;
+      char *semi;
 
       while (*p && (p < end) && !ISALPHA(*p))
         p++;
       if (p > end-9)
         break;
 
@@ -4373,13 +4408,19 @@
         /* no match, find next parameter */
         while ((p < end) && (*p != ';'))
           p++;
         continue;
       }
       p+=9;
-      filename = parse_filename(p, cb - (p - str));
+      semi = strchr(p, ';');
+
+      /* this expression below typecasts 'cb' only to avoid
+         warning: signed and unsigned type in conditional expression
+      */
+      len = semi ? (semi - p) : (ssize_t)cb - (p - str);
+      filename = parse_filename(p, len);
       if (filename) {
         outs->filename = filename;
         break;
       }
     }
   }
@@ -4828,12 +4869,13 @@
               res = CURLE_WRITE_ERROR;
               break;
             }
           }
           else {
             outs.stream = NULL; /* open when needed */
+            outs.bytes = 0;     /* reset byte counter */
           }
         }
         infdopen=FALSE;
         if(uploadfile && !stdin_upload(uploadfile)) {
           /*
            * We have specified a file to upload and it isn't "-".
@@ -4884,12 +4926,37 @@
           }
           infdopen=TRUE;
           uploadfilesize=fileinfo.st_size;
 
         }
         else if(uploadfile && stdin_upload(uploadfile)) {
+          /* count to see if there are more than one auth bit set
+             in the authtype field */
+          int authbits = 0;
+          int bitcheck = 0;
+          while(bitcheck < 32) {
+            if(config->authtype & (1 << bitcheck++)) {
+              authbits++;
+              if(authbits > 1) {
+                /* more than one, we're done! */
+                break;
+              }
+            }
+          }
+
+          /*
+           * If the user has also selected --anyauth or --proxy-anyauth
+           * we should warn him/her.
+           */
+          if(config->proxyanyauth || (authbits>1)) {
+            warnf(config,
+                  "Using --anyauth or --proxy-anyauth with upload from stdin"
+                  " involves a big risk of it not working. Use a temporary"
+                  " file or a fixed auth type instead!\n");
+          }
+
           SET_BINMODE(stdin);
           infd = STDIN_FILENO;
           if (curlx_strequal(uploadfile, ".")) {
             if (curlx_nonblock((curl_socket_t)infd, TRUE) < 0)
               warnf(config,
                     "fcntl failed on fd=%d: %s\n", infd, strerror(errno));
@@ -4999,13 +5066,14 @@
         if(config->recvpersecond)
           /* tell libcurl to use a smaller sized buffer as it allows us to
              make better sleeps! 7.9.9 stuff! */
           my_setopt(curl, CURLOPT_BUFFERSIZE, config->recvpersecond);
 
         /* size of uploaded file: */
-        my_setopt(curl, CURLOPT_INFILESIZE_LARGE, uploadfilesize);
+        if(uploadfilesize != -1)
+          my_setopt(curl, CURLOPT_INFILESIZE_LARGE, uploadfilesize);
         my_setopt_str(curl, CURLOPT_URL, url);     /* what to fetch */
         my_setopt_str(curl, CURLOPT_PROXY, config->proxy); /* proxy to use */
         if(config->proxy)
           my_setopt(curl, CURLOPT_PROXYTYPE, config->proxyver);
         my_setopt(curl, CURLOPT_NOPROGRESS, config->noprogress);
         if(config->no_body) {
@@ -5078,13 +5146,13 @@
          * not talking to who we think we should
          */
         my_setopt_str(curl, CURLOPT_SSH_HOST_PUBLIC_KEY_MD5,
                       config->hostpubmd5);
 
         /* default to strict verifyhost */
-        my_setopt(curl, CURLOPT_SSL_VERIFYHOST, 2);
+        /* my_setopt(curl, CURLOPT_SSL_VERIFYHOST, 2); */
         if(config->cacert || config->capath) {
           if (config->cacert)
             my_setopt_str(curl, CURLOPT_CAINFO, config->cacert);
 
           if (config->capath)
             my_setopt_str(curl, CURLOPT_CAPATH, config->capath);
@@ -5292,14 +5360,15 @@
 
         /* curl 7.15.5 */
         my_setopt_str(curl, CURLOPT_FTP_ALTERNATIVE_TO_USER,
                   config->ftp_alternative_to_user);
 
         /* curl 7.16.0 */
-        my_setopt(curl, CURLOPT_SSL_SESSIONID_CACHE,
-                  !config->disable_sessionid);
+        if(config->disable_sessionid)
+          my_setopt(curl, CURLOPT_SSL_SESSIONID_CACHE,
+                    !config->disable_sessionid);
 
         /* curl 7.16.2 */
         if(config->raw) {
           my_setopt(curl, CURLOPT_HTTP_CONTENT_DECODING, FALSE);
           my_setopt(curl, CURLOPT_HTTP_TRANSFER_DECODING, FALSE);
         }
@@ -5367,14 +5436,18 @@
               RETRY_LAST /* not used */
             } retry = RETRY_NO;
             long response;
             if(CURLE_OPERATION_TIMEDOUT == res)
               /* retry timeout always */
               retry = RETRY_TIMEOUT;
-            else if(CURLE_OK == res) {
-              /* Check for HTTP transient errors */
+            else if((CURLE_OK == res) ||
+                    (config->failonerror &&
+                     (CURLE_HTTP_RETURNED_ERROR == res))) {
+              /* If it returned OK. _or_ failonerror was enabled and it
+                 returned due to such an error, check for HTTP transient
+                 errors to retry on. */
               char *this_url=NULL;
               curl_easy_getinfo(curl, CURLINFO_EFFECTIVE_URL, &this_url);
               if(this_url &&
                  curlx_strnequal(this_url, "http", 4)) {
                 /* This was HTTP(S) */
                 curl_easy_getinfo(curl, CURLINFO_RESPONSE_CODE, &response);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.am	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.am	2010-08-02 02:35:13.000000000 +0800
@@ -43,12 +43,15 @@
            -I$(top_srcdir)/src
 
 bin_PROGRAMS = curl
 
 include Makefile.inc
 
+# This might hold -Werror
+CFLAGS += @CURL_CFLAG_EXTRAS@
+
 curl_LDADD = $(top_builddir)/lib/libcurl.la @CURL_LIBS@
 curl_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 BUILT_SOURCES = hugehelp.c
 CLEANFILES = hugehelp.c
 # Use the C locale to ensure that only ASCII characters appear in the
 # embedded text.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.b32 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.b32
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.b32	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.b32	2010-08-03 00:53:33.000000000 +0800
@@ -62,13 +62,13 @@
 .autodepend
 
 # Makefile.inc provides the CSOURCES and HHEADERS defines
 top_srcdir = ..
 !include Makefile.inc
 
-CSOURCES = $(CURL_SOURCES) $(CURLX_ONES)
+CSOURCES = $(CURL_CFILES) $(CURLX_ONES)
 OBJECTS  = $(CSOURCES:.c=.obj)
 
 .c.obj:
 	$(CXX) -c $(INCDIRS) $(CXXFLAGS) $(DEFINES) $<
 
 all:	$(PROGNAME)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/makefile.dj /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/makefile.dj
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/makefile.dj	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/makefile.dj	2010-08-03 00:53:33.000000000 +0800
@@ -9,13 +9,13 @@
 top_srcdir = ..
 TOPDIR = ..
 
 include ../packages/DOS/common.dj
 include Makefile.inc
 
-CSOURCES = $(CURL_SOURCES)
+CSOURCES = $(CURL_CFILES)
 
 ifeq ($(USE_SSL),1)
   EX_LIBS += $(OPENSSL_ROOT)/lib/libssl.a $(OPENSSL_ROOT)/lib/libcrypt.a
 endif
 
 ifeq ($(USE_ARES),1)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -12,12 +12,19 @@
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
 
 # ./src/Makefile.inc
+# Using the backslash as line continuation character might be problematic
+# with some make flavours, as Watcom's wmake showed us already. If we
+# ever want to change this in a portable manner then we should consider
+# this idea (posted to the libcurl list by Adam Kellas):
+# CSRC1 = file1.c file2.c file3.c
+# CSRC2 = file4.c file5.c file6.c
+# CSOURCES = $(CSRC1) $(CSRC2)
 
 srcdir = @srcdir@
 top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -92,23 +99,28 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
-CFLAGS = @CFLAGS@
+
+# This might hold -Werror
+CFLAGS = @CFLAGS@ @CURL_CFLAG_EXTRAS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -117,22 +129,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
@@ -312,20 +326,20 @@
 # the official API, but we re-use the code here to avoid duplication.
 CURLX_ONES = $(top_srcdir)/lib/strtoofft.c \
 	$(top_srcdir)/lib/strdup.c \
 	$(top_srcdir)/lib/rawstr.c \
 	$(top_srcdir)/lib/nonblock.c
 
-CURL_SOURCES = main.c hugehelp.c urlglob.c writeout.c writeenv.c \
+CURL_CFILES = main.c hugehelp.c urlglob.c writeout.c writeenv.c \
 	getpass.c homedir.c curlutil.c os-specific.c
 
 CURL_HFILES = hugehelp.h setup.h config-win32.h config-mac.h \
 	config-riscos.h urlglob.h version.h os-specific.h \
 	writeout.h writeenv.h getpass.h homedir.h curlutil.h
 
-curl_SOURCES = $(CURL_SOURCES) $(CURLX_ONES) $(CURL_HFILES)
+curl_SOURCES = $(CURL_CFILES) $(CURLX_ONES) $(CURL_HFILES)
 curl_LDADD = $(top_builddir)/lib/libcurl.la @CURL_LIBS@
 curl_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 BUILT_SOURCES = hugehelp.c
 CLEANFILES = hugehelp.c
 EXTRA_DIST = mkhelp.pl makefile.dj Makefile.vc6 Makefile.b32 Makefile.m32 \
 	Makefile.riscos curl_config.h.in macos/curl.mcp.xml.sit.hqx	  \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.inc	2010-03-26 06:21:50.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.inc	2010-08-03 00:53:33.000000000 +0800
@@ -1,19 +1,25 @@
 # ./src/Makefile.inc
+# Using the backslash as line continuation character might be problematic
+# with some make flavours, as Watcom's wmake showed us already. If we
+# ever want to change this in a portable manner then we should consider
+# this idea (posted to the libcurl list by Adam Kellas):
+# CSRC1 = file1.c file2.c file3.c
+# CSRC2 = file4.c file5.c file6.c
+# CSOURCES = $(CSRC1) $(CSRC2)
 
 # libcurl has sources that provide functions named curlx_* that aren't part of
 # the official API, but we re-use the code here to avoid duplication.
-CURLX_ONES =  $(top_srcdir)/lib/strtoofft.c \
+CURLX_ONES = $(top_srcdir)/lib/strtoofft.c \
 	$(top_srcdir)/lib/strdup.c \
 	$(top_srcdir)/lib/rawstr.c \
 	$(top_srcdir)/lib/nonblock.c
 
-CURL_SOURCES = main.c hugehelp.c urlglob.c writeout.c writeenv.c \
+CURL_CFILES = main.c hugehelp.c urlglob.c writeout.c writeenv.c \
 	getpass.c homedir.c curlutil.c os-specific.c
 
 CURL_HFILES = hugehelp.h setup.h config-win32.h config-mac.h \
 	config-riscos.h urlglob.h version.h os-specific.h \
 	writeout.h writeenv.h getpass.h homedir.h curlutil.h
 
-curl_SOURCES = $(CURL_SOURCES) $(CURLX_ONES) $(CURL_HFILES)
-
+curl_SOURCES = $(CURL_CFILES) $(CURLX_ONES) $(CURL_HFILES)
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.m32 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.m32
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.m32	2010-04-25 05:25:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.m32	2010-08-03 00:53:33.000000000 +0800
@@ -1,33 +1,33 @@
 #########################################################################
 #
 ## Makefile for building curl.exe with MingW32 (GCC-3.2 or later)
-## and optionally OpenSSL (0.9.8), libssh2 (1.1), zlib (1.2.3)
+## and optionally OpenSSL (0.9.8), libssh2 (1.2), zlib (1.2.5)
 ##
 ## Usage:
 ## mingw32-make -f Makefile.m32 [SSL=1] [SSH2=1] [ZLIB=1] [IDN=1] [SSPI=1] [IPV6=1] [LDAPS=1] [DYN=1]
 ##
 ## Hint: you can also set environment vars to control the build, f.e.:
-## set ZLIB_PATH=c:/zlib-1.2.3
+## set ZLIB_PATH=c:/zlib-1.2.5
 ## set ZLIB=1
 ##
 ## Comments to: Troy Engel <tengel@sonic.net> or
 ##              Joern Hartroth <hartroth@acm.org>
 #########################################################################
 
 # Edit the path below to point to the base of your Zlib sources.
 ifndef ZLIB_PATH
 ZLIB_PATH = ../../zlib-1.2.5
 endif
 # Edit the path below to point to the base of your OpenSSL package.
 ifndef OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8n
+OPENSSL_PATH = ../../openssl-0.9.8o
 endif
 # Edit the path below to point to the base of your LibSSH2 package.
 ifndef LIBSSH2_PATH
-LIBSSH2_PATH = ../../libssh2-1.2.5
+LIBSSH2_PATH = ../../libssh2-1.2.6
 endif
 # Edit the path below to point to the base of your libidn package.
 ifndef LIBIDN_PATH
 LIBIDN_PATH = ../../libidn-1.18
 endif
 # Edit the path below to point to the base of your Novell LDAP NDK.
@@ -118,13 +118,13 @@
 curl_LDADD += -lws2_32
 COMPILE = $(CC) $(INCLUDES) $(CFLAGS)
 
 # Makefile.inc provides the CSOURCES and HHEADERS defines
 include Makefile.inc
 
-curl_OBJECTS := $(patsubst %.c,%.o,$(strip $(CURL_SOURCES)))
+curl_OBJECTS := $(patsubst %.c,%.o,$(strip $(CURL_CFILES)))
 ifdef DYN
 curlx_OBJECTS := $(patsubst %.c,%.o,$(notdir $(strip $(CURLX_ONES))))
 curl_OBJECTS += $(curlx_OBJECTS)
 vpath %.c ../lib
 endif
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.netware /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.netware
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.netware	2010-04-25 05:25:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.netware	2010-08-03 00:53:33.000000000 +0800
@@ -16,18 +16,18 @@
 ifndef ZLIB_PATH
 ZLIB_PATH = ../../zlib-1.2.5
 endif
 
 # Edit the path below to point to the base of your OpenSSL package.
 ifndef OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8n
+OPENSSL_PATH = ../../openssl-0.9.8o
 endif
 
 # Edit the path below to point to the base of your LibSSH2 package.
 ifndef LIBSSH2_PATH
-LIBSSH2_PATH = ../../libssh2-1.2.5
+LIBSSH2_PATH = ../../libssh2-1.2.6
 endif
 
 # Edit the path below to point to the base of your libidn package.
 ifndef LIBIDN_PATH
 LIBIDN_PATH = ../../libidn-1.18
 endif
@@ -229,13 +229,16 @@
 endif
 
 # Makefile.inc provides the CSOURCES and HHEADERS defines
 include Makefile.inc
 
 OBJX	:= $(patsubst %.c,$(OBJDIR)/%.o,$(notdir $(strip $(CURLX_ONES))))
-OBJS	:= $(patsubst %.c,$(OBJDIR)/%.o,$(strip $(CURL_SOURCES))) $(OBJX)
+OBJS	:= $(patsubst %.c,$(OBJDIR)/%.o,$(strip $(CURL_CFILES)))
+ifndef LINK_STATIC
+OBJS	+= $(OBJX)
+endif
 
 vpath %.c $(CURL_LIB)
 
 all: prebuild $(TARGET).nlm
 
 prebuild: $(OBJDIR) $(OBJDIR)/version.inc curl_config.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.vc6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.vc6
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.vc6	2010-04-21 01:40:37.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.vc6	2010-08-10 17:19:27.000000000 +0800
@@ -11,18 +11,18 @@
 ## release-ssl added by Miklos Nemeth <mnemeth@kfkisystems.com>
 #
 #############################################################
 
 PROGRAM_NAME = curl.exe
 
-!IFNDEF ZLIB_PATH
-ZLIB_PATH = ../../zlib-1.2.3
+!IFNDEF OPENSSL_PATH
+OPENSSL_PATH = ../../openssl-0.9.8o
 !ENDIF
 
-!IFNDEF OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8g
+!IFNDEF ZLIB_PATH
+ZLIB_PATH = ../../zlib-1.2.5
 !ENDIF
 
 !IFNDEF MACHINE
 MACHINE  = X86
 !ENDIF
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.vc8 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.vc8
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.vc8	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.vc8	2010-08-12 05:36:29.000000000 +0800
@@ -11,18 +11,18 @@
 ## release-ssl added by Miklos Nemeth <mnemeth@kfkisystems.com>
 #
 #############################################################
 
 PROGRAM_NAME = curl.exe
 
-!IFNDEF ZLIB_PATH
-ZLIB_PATH = ../../zlib-1.2.3
+!IFNDEF OPENSSL_PATH
+OPENSSL_PATH = ../../openssl-0.9.8o
 !ENDIF
 
-!IFNDEF OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8g
+!IFNDEF ZLIB_PATH
+ZLIB_PATH = ../../zlib-1.2.5
 !ENDIF
 
 !IFNDEF MACHINE
 MACHINE  = X86
 !ENDIF
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.vc9 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.vc9
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.vc9	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.vc9	2010-08-12 05:36:29.000000000 +0800
@@ -11,18 +11,18 @@
 ## release-ssl added by Miklos Nemeth <mnemeth@kfkisystems.com>
 #
 #############################################################
 
 PROGRAM_NAME = curl.exe
 
-!IFNDEF ZLIB_PATH
-ZLIB_PATH = ../../zlib-1.2.3
+!IFNDEF OPENSSL_PATH
+OPENSSL_PATH = ../../openssl-0.9.8o
 !ENDIF
 
-!IFNDEF OPENSSL_PATH
-OPENSSL_PATH = ../../openssl-0.9.8g
+!IFNDEF ZLIB_PATH
+ZLIB_PATH = ../../zlib-1.2.5
 !ENDIF
 
 !IFNDEF MACHINE
 MACHINE  = X86
 !ENDIF
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.Watcom /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.Watcom
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/Makefile.Watcom	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/Makefile.Watcom	2010-08-12 01:03:16.000000000 +0800
@@ -1,129 +1,172 @@
 #
 #  Watcom / OpenWatcom / Win32 makefile for cURL.
 #  G. Vanem <gvanem@broadpark.no>
 #
 
-CC = wcc386
-
-CFLAGS = -3r -mf -d3 -hc -zff -zgf -zq -zm -s -fr=con -w2 -fpi -oilrtfm &
-         -bt=nt -d+ -dWIN32 -dHAVE_STRTOLL -dDEBUGBUILD -dENABLE_IPV6    &
-         -dHAVE_WINSOCK2_H -I..\include -I..\lib
-
-OBJ_DIR = WC_Win32.obj
+!ifndef %watcom
+!error WATCOM environment variable not set!
+!else
+SYS_INCL = -I$(%watcom)\h\nt -I$(%watcom)\h
+SYS_LIBS = $(%watcom)\lib386\nt;$(%watcom)\lib386
+!endif
+
+!ifdef %libname
+LIBNAME = $(%libname)
+!else
+LIBNAME = libcurl
+!endif
+TARGETS = $(LIBNAME).dll $(LIBNAME)_imp.lib $(LIBNAME).lib
 
-# Unfortunately, we can't include Makefile.inc here because wmake doesn't
-# use backslash as the line continuation character by default
-CURL_SOURCES = main.c hugehelp.c urlglob.c writeout.c writeenv.c &
-	getpass.c homedir.c curlutil.c os-specific.c
-
-CURLX_SOURCES = rawstr.c
+CC = wcc386
+LD = wlink
+AR = wlib
+RC = wrc
+
+!ifdef __LOADDLL__
+!  loaddll wcc386  wccd386
+!  loaddll wpp386  wppd386
+!  loaddll wlib    wlibd
+!  if $(__VERSION__) > 1270
+!    loaddll wlink   wlinkd
+!  else
+!    loaddll wlink   wlink
+!  endif
+!endif
+
+!if $(__VERSION__) < 1250
+RM = del /q /f >NUL 2>&1
+!else
+RM = rm -f
+!endif
+MD = mkdir
+RD = rmdir /q /s >NUL 2>&1
+CP = copy
+
+CFLAGS = -3r -mf -hc -zff -zgf -zq -zm -s -fr=con -w2 -fpi -oilrtfm &
+         -wcd=201 -bt=nt -bc -d+ -dWIN32 -dHAVE_STRTOLL             &
+         -I..\include -I..\lib $(SYS_INCL)
+
+!ifdef %debug
+DEBUG  = -dDEBUG=1 -dDEBUGBUILD
+CFLAGS += -d3 $(DEBUG)
+!else
+CFLAGS += -d0
+!endif
+
+!ifdef %use_ipv6
+CFLAGS += -d_WIN32_WINNT=0x0501 -dENABLE_IPV6
+!endif
 
-OBJS = $(CURL_SOURCES:.c=.obj) $(CURLX_SOURCES:.c=.obj)
+#
+# Change to suite.
+#
+!ifdef %zlib_root
+ZLIB_ROOT = $(%zlib_root)
+!else
+ZLIB_ROOT = ..\..\zlib-1.2.5
+!endif
+
+!ifdef %openssl_root
+OPENSSL_ROOT = $(%openssl_root)
+!else
+OPENSSL_ROOT = ..\..\openssl-0.9.8o
+!endif
+
+!ifdef %ares_root
+ARES_ROOT = $(%ares_root)
+!else
+ARES_ROOT = ..\ares
+!endif
+
+!ifdef %use_ssl
+CFLAGS += -wcd=138 -dUSE_OPENSSL -dUSE_SSLEAY -I$(OPENSSL_ROOT)\inc32
+!endif
+
+OBJ_DIR  = WC_Win32.obj
+LINK_ARG = $(OBJ_DIR)\wlink.arg
+
+# In order to process Makefile.inc wmake must be called with -u switch!
+!ifndef %MAKEFLAGS
+!error You MUST call wmake with the -u switch!
+!else
+!include Makefile.inc
+!endif
+# For now we still define the CURLX_ONES sources here unless we know how
+# to split off the prefixed path.
+CURLX_SOURCES = rawstr.c nonblock.c
+
+OBJS = $(CURL_CFILES:.c=.obj)
+!ifdef %curl_static
+CFLAGS += -DCURL_STATICLIB
+!else
+CFLAGS += -br
+OBJS += $(CURLX_SOURCES:.c=.obj)
+!endif
 OBJS = $OBJ_DIR\$(OBJS: = $OBJ_DIR\)
 
 RESOURCE = $(OBJ_DIR)\curl.res
 
 all: hugehelp.c $(OBJ_DIR) curl.exe .SYMBOLIC
 	@echo Welcome to cURL
 
-hugehelp.c: hugehelp.c.cvs
-	copy hugehelp.c.cvs hugehelp.c
+clean: .SYMBOLIC
+	-$(RM) $(OBJS)
+	-$(RM) $(RESOURCE) $(LINK_ARG)
 
-$(OBJ_DIR):
-	mkdir $(OBJ_DIR)
+vclean realclean: clean .SYMBOLIC
+	-$(RD) $(OBJ_DIR)
+	-$(RM) curl.exe curl.map curl.sym hugehelp.c
 
-curl.exe: $(OBJS) $(RESOURCE)
-	wlink name $@ system nt file { $(OBJS) }                   &
-	  option quiet, map, caseexact, eliminate, res=$(RESOURCE) &
-	  libpath $(%watcom)\lib386;$(%watcom)\lib386\nt           &
-	  library ..\lib\libcurl_wc_imp.lib, clib3r.lib, ws2_32.lib
+hugehelp.c: hugehelp.c.cvs
+	$(CP) $[@ $^@
 
-clean: .SYMBOLIC
-	- rm -f $(OBJS) $(RESOURCE)
+hugehelp.c.cvs: .EXISTSONLY
+	$(CP) hugehelp.c $^@
 
-vclean realclean: clean .SYMBOLIC
- 	- rm -f curl.exe curl.map hugehelp.c
-	- rmdir $(OBJ_DIR)
+$(OBJ_DIR):
+	-$(MD) $^@
+
+curl.exe: $(OBJS) $(RESOURCE) $(LINK_ARG)
+	$(LD) name $^@ @$]@
 
 $(RESOURCE): curl.rc
-	wrc -dDEBUGBUILD=1 -q -r -zm -I..\include -fo=$@ curl.rc
+	$(RC) $(DEBUG) -q -r -zm -I..\include $(SYS_INCL) $[@ -fo=$^@
 
-.ERASE
-.c{$(OBJ_DIR)}.obj:
-	$(CC) $[@ $(CFLAGS) -fo=$@
+# suffix search path - vpath-like hack
+.c: ..\lib
 
 .ERASE
-$(OBJ_DIR)\rawstr.obj: ..\lib\rawstr.c
-	$(CC) $[@ $(CFLAGS) -fo=$@
+.c{$(OBJ_DIR)}.obj:
+	$(CC) $(CFLAGS) $[@ -fo=$^@
 
-.ERASE
-$(OBJ_DIR)\nonblock.obj: ..\lib\nonblock.c
-	$(CC) $[@ $(CFLAGS) -fo=$@
+$(LINK_ARG): $(__MAKEFILES__)
+	%create $^@
+	@%append $^@ system nt
+	@%append $^@ file { $(OBJS) }
+!ifdef %debug
+	@%append $^@ debug all
+	@%append $^@ option symfile
+!endif
+	@%append $^@ option quiet, map, caseexact, eliminate,
+	@%append $^@ res=$(RESOURCE) libpath $(SYS_LIBS)
+!ifdef %curl_static
+	@%append $^@ library wldap32.lib
+	@%append $^@ library ..\lib\$(LIBNAME).lib
+!ifdef %use_zlib
+	@%append $^@ library $(ZLIB_ROOT)\zlib.lib
+!endif
+!ifdef %use_ssl
+	@%append $^@ library $(OPENSSL_ROOT)\out32\libeay32.lib, $(OPENSSL_ROOT)\out32\ssleay32.lib
+!endif
+!ifdef %use_ares
+	@%append $^@ library $(ARES_ROOT)\cares.lib
+!endif
+!else
+	@%append $^@ library ..\lib\$(LIBNAME)_imp.lib
+!endif
+!ifeq USE_WATT32 1
+	@%append $^@ library $(%watt_root)\lib\wattcpw_imp.lib
+!else
+	@%append $^@ library ws2_32.lib
+!endif
 
-#
-# Dependencies based on "gcc -MM .."
-#
-$(OBJ_DIR)\getpass.obj: getpass.c setup.h config-win32.h ..\lib\setup_once.h getpass.h &
-  ..\lib\memdebug.h ..\lib\setup.h ..\lib\config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h
-
-$(OBJ_DIR)\homedir.obj: homedir.c setup.h config-win32.h ..\lib\setup_once.h homedir.h &
-  ..\lib\memdebug.h ..\lib\setup.h ..\lib\config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlrules.h ..\include\curl\easy.h &
-  ..\include\curl\multi.h ..\include\curl\curl.h
-
-$(OBJ_DIR)\hugehelp.obj: hugehelp.c
-
-$(OBJ_DIR)\main.obj: main.c setup.h config-win32.h ..\lib\setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  urlglob.h writeout.h getpass.h homedir.h curlutil.h hugehelp.h &
-  version.h ..\include\curl\curlver.h ..\lib\curlx.h &
-  ..\include\curl\mprintf.h ..\lib\strequal.h ..\lib\strtoofft.h &
-  ..\lib\setup.h ..\lib\config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h ..\lib\timeval.h ..\lib\memdebug.h &
-  os-specific.h
-
-$(OBJ_DIR)\urlglob.obj: urlglob.c setup.h config-win32.h ..\lib\setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  ..\include\curl\mprintf.h urlglob.h ..\lib\memdebug.h ..\lib\setup.h &
-  ..\lib\config-win32.h ..\include\curl\curlbuild.h &
-  ..\include\curl\curlrules.h os-specific.h
-
-$(OBJ_DIR)\writeenv.obj: writeenv.c setup.h config-win32.h ..\lib\setup_once.h
-
-$(OBJ_DIR)\writeout.obj: writeout.c setup.h config-win32.h ..\lib\setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  ..\include\curl\mprintf.h writeout.h
-
-$(OBJ_DIR)\curlutil.obj: curlutil.c setup.h config-win32.h ..\lib\setup_once.h &
-  curlutil.h
-
-$(OBJ_DIR)\os-specific.obj: os-specific.c os-specific.h setup.h config-win32.h &
-  ..\lib\setup_once.h
-
-$(OBJ_DIR)\rawstr.obj: ..\lib\rawstr.c ..\lib\setup.h ..\lib\config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h ..\lib\setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  ..\lib\strerror.h ..\lib\urldata.h ..\lib\cookie.h ..\lib\formdata.h &
-  ..\lib\timeval.h ..\lib\http_chunks.h ..\lib\hostip.h ..\lib\hash.h &
-  ..\lib\llist.h ..\lib\splay.h ..\include\curl\mprintf.h
-
-$(OBJ_DIR)\nonblock.obj: ..\lib\nonblock.c ..\lib\setup.h ..\lib\config-win32.h &
-  ..\include\curl\curlbuild.h ..\include\curl\curlrules.h ..\lib\setup_once.h &
-  ..\include\curl\curl.h ..\include\curl\curlver.h ..\include\curl\curlrules.h &
-  ..\include\curl\easy.h ..\include\curl\multi.h ..\include\curl\curl.h &
-  ..\lib\strerror.h ..\lib\urldata.h ..\lib\cookie.h ..\lib\formdata.h &
-  ..\lib\timeval.h ..\lib\http_chunks.h ..\lib\hostip.h ..\lib\hash.h &
-  ..\lib\llist.h ..\lib\splay.h ..\include\curl\mprintf.h ..\lib\nonblock.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/urlglob.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/urlglob.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/urlglob.c	2010-05-25 06:23:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/urlglob.c	2010-06-29 06:08:34.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2010, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -72,14 +72,12 @@
   pat->content.Set.ptr_s = 0;
   /* FIXME: Here's a nasty zero size malloc */
   pat->content.Set.elements = (char**)malloc(0);
   ++glob->size;
 
   while (!done) {
-    bool skip;
-
     switch (*pattern) {
     case '\0':                  /* URL ended while set was still open */
       snprintf(glob->errormsg, sizeof(glob->errormsg),
                "unmatched brace at pos %zu\n", pos);
       return GLOB_ERROR;
 
@@ -124,30 +122,13 @@
     case ']':                           /* illegal closing bracket */
       snprintf(glob->errormsg, sizeof(glob->errormsg),
                "illegal pattern at pos %zu\n", pos);
       return GLOB_ERROR;
 
     case '\\':                          /* escaped character, skip '\' */
-      switch(pattern[1]) {
-      case '[':
-      case ']':
-      case '{':
-      case '}':
-      case ',':
-        skip = TRUE;
-        break;
-      default:
-        skip = FALSE;
-        break;
-      }
-      if(skip) {
-        if (*(buf+1) == '\0') {           /* but no escaping of '\0'! */
-          snprintf(glob->errormsg, sizeof(glob->errormsg),
-                   "illegal pattern at pos %zu\n", pos);
-          return GLOB_ERROR;
-        }
+      if(pattern[1]) {
         ++pattern;
         ++pos;
       }
       /* intentional fallthrough */
     default:
       *buf++ = *pattern++;              /* copy character to set element */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/version.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/version.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/src/version.h	2010-06-16 19:49:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/src/version.h	2010-08-12 05:36:29.000000000 +0800
@@ -23,13 +23,13 @@
  ***************************************************************************/
 
 #include <curl/curlver.h>
 
 #define CURL_NAME "curl"
 #define CURL_COPYRIGHT LIBCURL_COPYRIGHT
-#define CURL_VERSION "7.21.0"
+#define CURL_VERSION "7.21.1"
 #define CURL_VERSION_MAJOR LIBCURL_VERSION_MAJOR
 #define CURL_VERSION_MINOR LIBCURL_VERSION_MINOR
 #define CURL_VERSION_PATCH LIBCURL_VERSION_PATCH
 #define CURL_ID CURL_NAME " " CURL_VERSION " (" OS ") "
 
 #endif /* HEADER_CURL_VERSION_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/DISABLED /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/DISABLED
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/DISABLED	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/DISABLED	2010-08-10 17:19:27.000000000 +0800
@@ -1,6 +1,5 @@
 # This file can be used to specify test cases that should not run when all
 # test cases are run by runtests.pl. Just add the plain test case numbers, one
 # per line.
 # Lines starting with '#' letters are treated as comments.
-563
 564
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -64,23 +64,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -89,22 +92,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1008 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1008
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1008	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1008	2010-08-02 02:35:13.000000000 +0800
@@ -83,36 +83,40 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy CONNECT auth NTLM with chunked-encoded 407 response
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se:1008/path/10080002 --proxy http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-ntlm --proxytunnel
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol>
 CONNECT test.remote.haxx.se:1008 HTTP/1.1
 Host: test.remote.haxx.se:1008
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 Proxy-Connection: Keep-Alive
 
 CONNECT test.remote.haxx.se:1008 HTTP/1.1
 Host: test.remote.haxx.se:1008
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 Proxy-Connection: Keep-Alive
 
 GET /path/10080002 HTTP/1.1
 User-Agent: curl/7.12.3-CVS (i686-pc-linux-gnu) libcurl/7.12.3-CVS OpenSSL/0.9.6b zlib/1.1.4
 Host: test.remote.haxx.se:1008
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1021 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1021
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1021	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1021	2010-08-02 02:35:13.000000000 +0800
@@ -92,40 +92,44 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy CONNECT with any proxyauth and proxy offers NTLM and close
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se:1021/path/10210002 --proxy http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-anyauth --proxytunnel
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol>
 CONNECT test.remote.haxx.se:1021 HTTP/1.1
 Host: test.remote.haxx.se:1021
 Proxy-Connection: Keep-Alive
 
 CONNECT test.remote.haxx.se:1021 HTTP/1.1
 Host: test.remote.haxx.se:1021
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 Proxy-Connection: Keep-Alive
 
 CONNECT test.remote.haxx.se:1021 HTTP/1.1
 Host: test.remote.haxx.se:1021
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 Proxy-Connection: Keep-Alive
 
 GET /path/10210002 HTTP/1.1
 User-Agent: curl/7.12.3-CVS (i686-pc-linux-gnu) libcurl/7.12.3-CVS OpenSSL/0.9.6b zlib/1.1.4
 Host: test.remote.haxx.se:1021
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1084 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1084
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1084	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1084	2010-08-11 05:16:08.000000000 +0800
@@ -32,10 +32,10 @@
 </client>
 
 #
 # Verify data after the test has been "shot"
 <verify>
 <errorcode>
-7
+45
 </errorcode>
 </verify>
 </testcase>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1085 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1085
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1085	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1085	2010-08-11 05:16:08.000000000 +0800
@@ -39,10 +39,10 @@
 </client>
 
 #
 # Verify data after the test has been "shot"
 <verify>
 <errorcode>
-7
+45
 </errorcode>
 </verify>
 </testcase>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1100 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1100
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test1100	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test1100	2010-08-02 02:35:13.000000000 +0800
@@ -67,38 +67,42 @@
 <server>
 http
 </server>
  <name>
 HTTP POST with NTLM authorization and following a 302 redirect
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/1100 -u testuser:testpass --ntlm -L -d "stuff to send away" 
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 POST /1100 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST /1100 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Content-Length: 18
 Content-Type: application/x-www-form-urlencoded
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test150 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test150
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test150	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test150	2010-08-02 02:35:13.000000000 +0800
@@ -54,36 +54,40 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM authorization and --fail
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/150 -u testuser:testpass --ntlm --fail
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /150 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /150 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test155 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test155
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test155	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test155	2010-08-02 02:35:13.000000000 +0800
@@ -72,15 +72,24 @@
 <server>
 http
 </server>
  <name>
 HTTP PUT with --anyauth authorization (picking NTLM)
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/155 -T log/put155 -u testuser:testpass --anyauth
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 <file name="log/put155">
 This is data we upload with PUT
 a second line
 line three
 four is the number of lines
 </file>
@@ -88,17 +97,12 @@
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 PUT /155 HTTP/1.1
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Content-Length: 85
 Expect: 100-continue
@@ -108,13 +112,13 @@
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Content-Length: 0
 Expect: 100-continue
 
 PUT /155 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.5 (i686-pc-linux-gnu) libcurl/7.10.5 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Content-Length: 85
 Expect: 100-continue
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test159 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test159
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test159	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test159	2010-08-02 02:35:13.000000000 +0800
@@ -53,36 +53,40 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM authorization when talking HTTP/1.0
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/159 -u testuser:testpass --ntlm -0
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /159 HTTP/1.0
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /159 HTTP/1.0
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test169 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test169
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test169	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test169	2010-08-02 02:35:13.000000000 +0800
@@ -78,37 +78,41 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP with proxy-requiring-NTLM to site-requiring-Digest
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://data.from.server.requiring.digest.hohoho.com/169 --proxy http://%HOSTIP:%HTTPPORT --proxy-user foo:bar --proxy-ntlm --digest --user digest:alot
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAAAwADAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET http://data.from.server.requiring.digest.hohoho.com/169 HTTP/1.1
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.12.0-CVS (i686-pc-linux-gnu) libcurl/7.12.0-CVS OpenSSL/0.9.6b ipv6 zlib/1.1.4 GSS libidn/0.4.3
 Host: data.from.server.requiring.digest.hohoho.com
 Accept: */*
 Proxy-Connection: Keep-Alive
 
 GET http://data.from.server.requiring.digest.hohoho.com/169 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAAAwADAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAAAwADAHAAAAAIAAgAcwAAAAAAAAAAAAAABoKBAIP6B+XVQ6vQsx3DfDXUVhd9436GAxPu0IYcl2Z7LxHmNeOAWQ+vxUmhuCFJBUgXCWZvb2N1cmxob3N0
 User-Agent: curl/7.12.0-CVS (i686-pc-linux-gnu) libcurl/7.12.0-CVS OpenSSL/0.9.6b ipv6 zlib/1.1.4 GSS libidn/0.4.3
 Host: data.from.server.requiring.digest.hohoho.com
 Accept: */*
 Proxy-Connection: Keep-Alive
 
 GET http://data.from.server.requiring.digest.hohoho.com/169 HTTP/1.1
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test209 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test209
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test209	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test209	2010-08-02 02:35:13.000000000 +0800
@@ -76,36 +76,40 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy CONNECT auth NTLM
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se:209/path/2090002 --proxy http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-ntlm --proxytunnel
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol>
 CONNECT test.remote.haxx.se:209 HTTP/1.1
 Host: test.remote.haxx.se:209
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 Proxy-Connection: Keep-Alive
 
 CONNECT test.remote.haxx.se:209 HTTP/1.1
 Host: test.remote.haxx.se:209
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 Proxy-Connection: Keep-Alive
 
 GET /path/2090002 HTTP/1.1
 User-Agent: curl/7.12.3-CVS (i686-pc-linux-gnu) libcurl/7.12.3-CVS OpenSSL/0.9.6b zlib/1.1.4
 Host: test.remote.haxx.se:209
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test213 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test213
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test213	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test213	2010-08-02 02:35:13.000000000 +0800
@@ -76,36 +76,40 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP 1.0 proxy CONNECT auth NTLM and then POST
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se:213/path/2130002 --proxy1.0 http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-ntlm --proxytunnel -d "postit"
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol nonewline="yes">
 CONNECT test.remote.haxx.se:213 HTTP/1.0
 Host: test.remote.haxx.se:213
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 Proxy-Connection: Keep-Alive
 
 CONNECT test.remote.haxx.se:213 HTTP/1.0
 Host: test.remote.haxx.se:213
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 Proxy-Connection: Keep-Alive
 
 POST /path/2130002 HTTP/1.1
 User-Agent: curl/7.12.3-CVS (i686-pc-linux-gnu) libcurl/7.12.3-CVS OpenSSL/0.9.6b zlib/1.1.4
 Host: test.remote.haxx.se:213
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test239 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test239
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test239	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test239	2010-08-02 02:35:13.000000000 +0800
@@ -53,39 +53,43 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy-auth NTLM and then POST
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/239 --proxy http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-ntlm -d "postit"
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol nonewline="yes">
 POST http://%HOSTIP:%HTTPPORT/239 HTTP/1.1
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST http://%HOSTIP:%HTTPPORT/239 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 6
 Content-Type: application/x-www-form-urlencoded
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test243 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test243
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test243	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test243	2010-08-02 02:35:13.000000000 +0800
@@ -74,27 +74,31 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP POST with --proxy-anyauth, picking NTLM
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/243 --proxy http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-anyauth -d "postit"
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol nonewline="yes">
 POST http://%HOSTIP:%HTTPPORT/243 HTTP/1.1
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
@@ -108,13 +112,13 @@
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST http://%HOSTIP:%HTTPPORT/243 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 6
 Content-Type: application/x-www-form-urlencoded
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test265 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test265
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test265	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test265	2010-08-02 02:35:13.000000000 +0800
@@ -79,36 +79,40 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy CONNECT auth NTLM and then POST, response-body in the 407
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se:265/path/2650002 --proxy http://%HOSTIP:%HTTPPORT --proxy-user silly:person --proxy-ntlm --proxytunnel -d "postit"
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol nonewline="yes">
 CONNECT test.remote.haxx.se:265 HTTP/1.1
 Host: test.remote.haxx.se:265
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 Proxy-Connection: Keep-Alive
 
 CONNECT test.remote.haxx.se:265 HTTP/1.1
 Host: test.remote.haxx.se:265
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAKAeQjzKtCQ7ubW8S6MN7B59436GAxPu0CVROwwNBsgxML49gcbAXLT/bU+H5wrS9XNpbGx5Y3VybGhvc3Q=
 Proxy-Connection: Keep-Alive
 
 POST /path/2650002 HTTP/1.1
 User-Agent: curl/7.12.3-CVS (i686-pc-linux-gnu) libcurl/7.12.3-CVS OpenSSL/0.9.6b zlib/1.1.4
 Host: test.remote.haxx.se:265
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test267 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test267
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test267	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test267	2010-08-02 02:35:13.000000000 +0800
@@ -60,40 +60,44 @@
 <server>
 http
 </server>
  <name>
 HTTP POST with NTLM authorization and added custom headers
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/267 -u testuser:testpass --ntlm -d "data" -H "Header1: yes" -H "Header2: no"
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol nonewline="yes">
 POST /267 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Header1: yes
 Header2: no
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST /267 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Header1: yes
 Header2: no
 Content-Length: 4
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test547 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test547
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test547	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test547	2010-08-02 02:35:13.000000000 +0800
@@ -77,27 +77,31 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy auth NTLM with POST data from read callback
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se/path/547 http://%HOSTIP:%HTTPPORT s1lly:pers0n
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol>
 POST http://test.remote.haxx.se/path/547 HTTP/1.1
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: test.remote.haxx.se
 Accept: */*
 Proxy-Connection: Keep-Alive
@@ -112,13 +116,13 @@
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST http://test.remote.haxx.se/path/547 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAIYrD1xJmhNBNL9fLzuk9PV9436GAxPu0EKWzqQ/sZDVLXnp1JrySgl8A+cibE6z4HMxbGx5Y3VybGhvc3Q=
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: test.remote.haxx.se
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 36
 Content-Type: application/x-www-form-urlencoded
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test548 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test548
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test548	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test548	2010-08-02 02:35:13.000000000 +0800
@@ -77,27 +77,31 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy auth NTLM with POST data from CURLOPT_POSTFIELDS
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se/path/548 http://%HOSTIP:%HTTPPORT s1lly:pers0n
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol>
 POST http://test.remote.haxx.se/path/548 HTTP/1.1
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: test.remote.haxx.se
 Accept: */*
 Proxy-Connection: Keep-Alive
@@ -112,13 +116,13 @@
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST http://test.remote.haxx.se/path/548 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAIYrD1xJmhNBNL9fLzuk9PV9436GAxPu0EKWzqQ/sZDVLXnp1JrySgl8A+cibE6z4HMxbGx5Y3VybGhvc3Q=
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: test.remote.haxx.se
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 36
 Content-Type: application/x-www-form-urlencoded
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test551 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test551
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test551	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test551	2010-08-02 02:35:13.000000000 +0800
@@ -72,17 +72,12 @@
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
-</strippart>
 <protocol>
 POST http://test.remote.haxx.se/path/551 HTTP/1.1
 Host: test.remote.haxx.se
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 36
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test555 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test555
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test555	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test555	2010-08-02 02:35:13.000000000 +0800
@@ -82,26 +82,32 @@
 <features>
 NTLM
 </features>
  <name>
 HTTP proxy auth NTLM with POST data from read callback multi-if
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://test.remote.haxx.se/path/555 http://%HOSTIP:%HTTPPORT s1lly:pers0n
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent: curl/.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
 <strippart>
-s/^(Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA).*/$1/
 # remove CR that CURLOPT_TRANSFERTEXT added, when CharConv enabled:
 s/^(this is the blurb we want to upload)\r\n/$1\n/ if($has_charconv)
 </strippart>
 <protocol>
 POST http://test.remote.haxx.se/path/555 HTTP/1.1
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
@@ -119,13 +125,13 @@
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 0
 Content-Type: application/x-www-form-urlencoded
 
 POST http://test.remote.haxx.se/path/555 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAABQAFAHAAAAAIAAgAdQAAAAAAAAAAAAAABoKBAIYrD1xJmhNBNL9fLzuk9PV9436GAxPu0EKWzqQ/sZDVLXnp1JrySgl8A+cibE6z4HMxbGx5Y3VybGhvc3Q=
 User-Agent: curl/7.13.2-CVS (i686-pc-linux-gnu) libcurl/7.13.2-CVS OpenSSL/0.9.7e zlib/1.2.2 libidn/0.5.13
 Host: test.remote.haxx.se
 Accept: */*
 Proxy-Connection: Keep-Alive
 Content-Length: 36
 Content-Type: application/x-www-form-urlencoded
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test563 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test563
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test563	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test563	2010-08-10 17:19:27.000000000 +0800
@@ -44,13 +44,13 @@
 
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <protocol>
-GET ftp://%HOSTIP:%FTPPORT/563;type=A HTTP/1.1
+GET FTP://%HOSTIP:%FTPPORT/563;type=A HTTP/1.1
 Host: %HOSTIP:%FTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test67 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test67
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test67	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test67	2010-08-02 02:35:13.000000000 +0800
@@ -60,36 +60,40 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM authorization
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/67 -u testuser:testpass --ntlm
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /67 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /67 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test68 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test68
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test68	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test68	2010-08-02 02:35:13.000000000 +0800
@@ -59,36 +59,40 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM authorization and wrong password
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/68 -u testuser:testpass --ntlm
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /68 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /68 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test69 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test69
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test69	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test69	2010-08-02 02:35:13.000000000 +0800
@@ -76,27 +76,31 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM, Basic or Wild-and-crazy authorization
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/69 -u testuser:testpass --anyauth
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /69 HTTP/1.1
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
@@ -104,13 +108,13 @@
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /69 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test81 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test81
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test81	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test81	2010-08-02 02:35:13.000000000 +0800
@@ -59,37 +59,41 @@
 <server>
 http
 </server>
  <name>
 HTTP with proxy using NTLM authorization
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/81 --proxy-user testuser:testpass -x http://%HOSTIP:%HTTPPORT --proxy-ntlm
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET http://%HOSTIP:%HTTPPORT/81 HTTP/1.1
 Proxy-Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
 
 GET http://%HOSTIP:%HTTPPORT/81 HTTP/1.1
-Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Proxy-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 Proxy-Connection: Keep-Alive
 
 </protocol>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test89 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test89
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test89	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test89	2010-08-02 02:35:13.000000000 +0800
@@ -93,48 +93,52 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM and follow-location
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/89 -u testuser:testpass --ntlm -L
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /89 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /89 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /you/890010 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.8-pre1 (i686-pc-linux-gnu) libcurl/7.10.8-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3 GSS
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /you/890010 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.8-pre1 (i686-pc-linux-gnu) libcurl/7.10.8-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3 GSS
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test90 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test90
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test90	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test90	2010-08-02 02:35:13.000000000 +0800
@@ -131,40 +131,44 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM via --anyauth, and then follow-location with NTLM again
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/90 -u testuser:testpass --anyauth -L
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA).*/$1/
-</strippart>
 <protocol>
 GET /90 HTTP/1.1
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /90 HTTP/1.1
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /90 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /you/900010 HTTP/1.1
 Host: %HOSTIP:%HTTPPORT
@@ -174,13 +178,13 @@
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.8-pre1 (i686-pc-linux-gnu) libcurl/7.10.8-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3 GSS
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /you/900010 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAAAAABwAAAACAAIAHAAAAAIAAgAeAAAAAAAAAAAAAAABoKBAFpkQwKRCZFMhjj0tw47wEjKHRHlvzfxQamFcheMuv8v+xeqphEO5V41xRd7R9deOXRlc3R1c2VyY3VybGhvc3Q=
 User-Agent: curl/7.10.8-pre1 (i686-pc-linux-gnu) libcurl/7.10.8-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3 GSS
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test91 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test91
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/data/test91	2010-03-21 05:51:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/data/test91	2010-08-02 02:35:13.000000000 +0800
@@ -77,27 +77,31 @@
 <server>
 http
 </server>
  <name>
 HTTP with NTLM/Negotiate/Basic, anyauth and user with domain, with size 0
  </name>
+ <setenv>
+# we force our own host name, in order to make the test machine independent
+CURL_GETHOSTNAME=curlhost
+# we try to use the LD_PRELOAD hack, if not a debug build
+LD_PRELOAD=./libtest/.libs/libhostname.so
+ </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/91 --anyauth -u mydomain\\myself:secret
 </command>
+<precheck>
+chkhostname curlhost
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
 </strip>
-# We strip off a large chunk of the type-2 NTLM message since it depends on
-# the local host name and thus differs on different machines!
-<strippart>
-s/^(Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAgACABwAAAABgAGAHgAAAA).*/$1/
-</strippart>
 <protocol>
 GET /91 HTTP/1.1
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
@@ -105,13 +109,13 @@
 Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /91 HTTP/1.1
-Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAgACABwAAAABgAGAHgAAAA
+Authorization: NTLM TlRMTVNTUAADAAAAGAAYAEAAAAAYABgAWAAAAAgACABwAAAABgAGAHgAAAAIAAgAfgAAAAAAAAAAAAAABoKBAMIyJpR5mHpg2FZha5kRaFZ9436GAxPu0C5llxexSQ5QzVkiLSfkcpVyRgCXXqR+Am15ZG9tYWlubXlzZWxmY3VybGhvc3Q=
 User-Agent: curl/7.10.6-pre1 (i686-pc-linux-gnu) libcurl/7.10.6-pre1 OpenSSL/0.9.7a ipv6 zlib/1.1.3
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 </verify>
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest: chkhostname.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/lib575.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/lib575.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/lib575.c	2010-06-01 23:55:26.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/lib575.c	2010-06-18 02:00:34.000000000 +0800
@@ -68,38 +68,34 @@
   curl_multi_add_handle(mhandle, handle);
 
   while(CURLM_CALL_MULTI_PERFORM ==
         curl_multi_perform(mhandle, &still_running));
 
   while(still_running) {
-    struct timeval timeout;
+    static struct timeval timeout = /* 100 ms */ { 0, 100000L };
     int rc;
     fd_set fdread;
     fd_set fdwrite;
     fd_set fdexcep;
     int max_fdset = -1;
     FD_ZERO(&fdread);
     FD_ZERO(&fdwrite);
     FD_ZERO(&fdexcep);
-    timeout.tv_sec = 3;
-    timeout.tv_usec = 0;
 
     m = curl_multi_fdset(mhandle, &fdread, &fdwrite, &fdexcep, &max_fdset);
     if(m != CURLM_OK) {
       fprintf(stderr, "curl_multi_fdset() error\n");
       goto test_cleanup;
     }
+    /* We call select(max_fdset + 1, ...), specially in case of (maxfd == -1),
+     * we call select(0, ...), which is basically equal to sleep. */
     rc = select(max_fdset + 1, &fdread, &fdwrite, &fdexcep, &timeout);
     if(rc == -1) {
       fprintf(stderr, "select() error\n");
       goto test_cleanup;
     }
-    else if(rc == 0) {
-      fprintf(stderr, "select() timeout!\n");
-      goto test_cleanup;
-    }
     else {
       while(CURLM_CALL_MULTI_PERFORM ==
           curl_multi_perform(mhandle, &still_running));
     }
   }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/Makefile.am	2010-03-24 20:41:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/Makefile.am	2010-08-10 17:19:27.000000000 +0800
@@ -54,8 +54,30 @@
 test1022.pl Makefile.inc
 
 # Dependencies (may need to be overriden)
 LDADD = $(top_builddir)/lib/libcurl.la
 DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 
-# Makefile.inc provides the source defines (TESTUTIL, SUPPORTFILES, noinst_PROGRAMS, lib*_SOURCES, and lib*_CFLAGS)
+# Makefile.inc provides the source defines (TESTUTIL, SUPPORTFILES,
+# noinst_PROGRAMS, lib*_SOURCES, and lib*_CFLAGS)
 include Makefile.inc
+
+# Preloading of libhostname allows host name overriding,
+# this is used to make some tests machine independent.
+
+if BUILD_LIBHOSTNAME
+noinst_LTLIBRARIES = libhostname.la
+else
+noinst_LTLIBRARIES =
+endif
+
+if NO_UNDEFINED
+# The -no-undefined flag is crucial to build fine on some platforms
+UNDEF = -no-undefined
+endif
+
+libhostname_la_SOURCES = sethostname.c sethostname.h
+
+libhostname_la_LIBADD =
+libhostname_la_DEPENDENCIES =
+libhostname_la_LDFLAGS = -module -avoid-version $(UNDEF) -rpath /nowhere
+
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/Makefile.in	2010-06-05 06:32:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/Makefile.in	2010-08-12 01:03:32.000000000 +0800
@@ -56,13 +57,14 @@
 	lib552$(EXEEXT) lib553$(EXEEXT) lib554$(EXEEXT) \
 	lib555$(EXEEXT) lib556$(EXEEXT) lib539$(EXEEXT) \
 	lib557$(EXEEXT) lib558$(EXEEXT) lib559$(EXEEXT) \
 	lib560$(EXEEXT) lib562$(EXEEXT) lib564$(EXEEXT) \
 	lib565$(EXEEXT) lib566$(EXEEXT) lib567$(EXEEXT) \
 	lib568$(EXEEXT) lib569$(EXEEXT) lib570$(EXEEXT) \
-	lib571$(EXEEXT) lib572$(EXEEXT) lib573$(EXEEXT)
+	lib571$(EXEEXT) lib572$(EXEEXT) lib573$(EXEEXT) \
+	chkhostname$(EXEEXT)
 subdir = tests/libtest
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/curl-compilers.m4 \
 	$(top_srcdir)/m4/curl-confopts.m4 \
 	$(top_srcdir)/m4/curl-functions.m4 \
 	$(top_srcdir)/m4/curl-override.m4 \
@@ -75,13 +77,20 @@
 	$(ACLOCAL_M4)
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
 CONFIG_HEADER = $(top_builddir)/lib/curl_config.h \
 	$(top_builddir)/src/curl_config.h \
 	$(top_builddir)/include/curl/curlbuild.h
 CONFIG_CLEAN_FILES =
+LTLIBRARIES = $(noinst_LTLIBRARIES)
+am_libhostname_la_OBJECTS = sethostname.lo
+libhostname_la_OBJECTS = $(am_libhostname_la_OBJECTS)
+@BUILD_LIBHOSTNAME_TRUE@am_libhostname_la_rpath =
 PROGRAMS = $(noinst_PROGRAMS)
+am_chkhostname_OBJECTS = chkhostname-chkhostname.$(OBJEXT) \
+	chkhostname-curl_gethostname.$(OBJEXT)
+chkhostname_OBJECTS = $(am_chkhostname_OBJECTS)
 am__objects_1 = first.$(OBJEXT)
 am_lib500_OBJECTS = lib500.$(OBJEXT) $(am__objects_1)
 lib500_OBJECTS = $(am_lib500_OBJECTS)
 lib500_LDADD = $(LDADD)
 lib500_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib501_OBJECTS = lib501.$(OBJEXT) $(am__objects_1)
@@ -373,13 +382,14 @@
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-SOURCES = $(lib500_SOURCES) $(lib501_SOURCES) $(lib502_SOURCES) \
+SOURCES = $(libhostname_la_SOURCES) $(chkhostname_SOURCES) \
+	$(lib500_SOURCES) $(lib501_SOURCES) $(lib502_SOURCES) \
 	$(lib503_SOURCES) $(lib504_SOURCES) $(lib505_SOURCES) \
 	$(lib506_SOURCES) $(lib507_SOURCES) $(lib508_SOURCES) \
 	$(lib510_SOURCES) $(lib511_SOURCES) $(lib512_SOURCES) \
 	$(lib513_SOURCES) $(lib514_SOURCES) $(lib515_SOURCES) \
 	$(lib516_SOURCES) $(lib517_SOURCES) $(lib518_SOURCES) \
 	$(lib519_SOURCES) $(lib520_SOURCES) $(lib521_SOURCES) \
@@ -395,13 +405,14 @@
 	$(lib558_SOURCES) $(lib559_SOURCES) $(lib560_SOURCES) \
 	$(lib562_SOURCES) $(lib564_SOURCES) $(lib565_SOURCES) \
 	$(lib566_SOURCES) $(lib567_SOURCES) $(lib568_SOURCES) \
 	$(lib569_SOURCES) $(lib570_SOURCES) $(lib571_SOURCES) \
 	$(lib572_SOURCES) $(lib573_SOURCES) $(lib574_SOURCES) \
 	$(lib575_SOURCES) $(lib576_SOURCES) $(lib577_SOURCES)
-DIST_SOURCES = $(lib500_SOURCES) $(lib501_SOURCES) $(lib502_SOURCES) \
+DIST_SOURCES = $(libhostname_la_SOURCES) $(chkhostname_SOURCES) \
+	$(lib500_SOURCES) $(lib501_SOURCES) $(lib502_SOURCES) \
 	$(lib503_SOURCES) $(lib504_SOURCES) $(lib505_SOURCES) \
 	$(lib506_SOURCES) $(lib507_SOURCES) $(lib508_SOURCES) \
 	$(lib510_SOURCES) $(lib511_SOURCES) $(lib512_SOURCES) \
 	$(lib513_SOURCES) $(lib514_SOURCES) $(lib515_SOURCES) \
 	$(lib516_SOURCES) $(lib517_SOURCES) $(lib518_SOURCES) \
 	$(lib519_SOURCES) $(lib520_SOURCES) $(lib521_SOURCES) \
@@ -430,23 +441,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -455,22 +469,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
@@ -659,12 +675,16 @@
 
 # files used only in some libcurl test programs
 TESTUTIL = testutil.c testutil.h
 
 # these files are used in every single test program below
 SUPPORTFILES = first.c test.h
+chkhostname_SOURCES = chkhostname.c $(top_srcdir)/lib/curl_gethostname.c
+chkhostname_LDADD = @CURL_NETWORK_LIBS@
+chkhostname_DEPENDENCIES = 
+chkhostname_CFLAGS = $(AM_CFLAGS)
 lib500_SOURCES = lib500.c $(SUPPORTFILES)
 lib501_SOURCES = lib501.c $(SUPPORTFILES)
 lib502_SOURCES = lib502.c $(SUPPORTFILES) $(TESTUTIL)
 lib503_SOURCES = lib503.c $(SUPPORTFILES) $(TESTUTIL)
 lib504_SOURCES = lib504.c $(SUPPORTFILES) $(TESTUTIL)
 lib505_SOURCES = lib505.c $(SUPPORTFILES)
@@ -735,12 +755,27 @@
 lib568_SOURCES = lib568.c $(SUPPORTFILES)
 lib569_SOURCES = lib569.c $(SUPPORTFILES)
 lib570_SOURCES = lib570.c $(SUPPORTFILES)
 lib571_SOURCES = lib571.c $(SUPPORTFILES)
 lib572_SOURCES = lib572.c $(SUPPORTFILES)
 lib573_SOURCES = lib573.c $(SUPPORTFILES) $(TESTUTIL)
+@BUILD_LIBHOSTNAME_FALSE@noinst_LTLIBRARIES = 
+
+# Makefile.inc provides the source defines (TESTUTIL, SUPPORTFILES,
+# noinst_PROGRAMS, lib*_SOURCES, and lib*_CFLAGS)
+
+# Preloading of libhostname allows host name overriding,
+# this is used to make some tests machine independent.
+@BUILD_LIBHOSTNAME_TRUE@noinst_LTLIBRARIES = libhostname.la
+
+# The -no-undefined flag is crucial to build fine on some platforms
+@NO_UNDEFINED_TRUE@UNDEF = -no-undefined
+libhostname_la_SOURCES = sethostname.c sethostname.h
+libhostname_la_LIBADD = 
+libhostname_la_DEPENDENCIES = 
+libhostname_la_LDFLAGS = -module -avoid-version $(UNDEF) -rpath /nowhere
 all: all-am
 
 .SUFFIXES:
 .SUFFIXES: .c .lo .o .obj
 $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am $(srcdir)/Makefile.inc $(am__configure_deps)
 	@for dep in $?; do \
@@ -769,18 +804,32 @@
 
 $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)
 	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
 $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)
 	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
 
+clean-noinstLTLIBRARIES:
+	-test -z "$(noinst_LTLIBRARIES)" || rm -f $(noinst_LTLIBRARIES)
+	@list='$(noinst_LTLIBRARIES)'; for p in $$list; do \
+	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
+	  test "$$dir" != "$$p" || dir=.; \
+	  echo "rm -f \"$${dir}/so_locations\""; \
+	  rm -f "$${dir}/so_locations"; \
+	done
+libhostname.la: $(libhostname_la_OBJECTS) $(libhostname_la_DEPENDENCIES) 
+	$(LINK) $(am_libhostname_la_rpath) $(libhostname_la_LDFLAGS) $(libhostname_la_OBJECTS) $(libhostname_la_LIBADD) $(LIBS)
+
 clean-noinstPROGRAMS:
 	@list='$(noinst_PROGRAMS)'; for p in $$list; do \
 	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  echo " rm -f $$p $$f"; \
 	  rm -f $$p $$f ; \
 	done
+chkhostname$(EXEEXT): $(chkhostname_OBJECTS) $(chkhostname_DEPENDENCIES) 
+	@rm -f chkhostname$(EXEEXT)
+	$(LINK) $(chkhostname_LDFLAGS) $(chkhostname_OBJECTS) $(chkhostname_LDADD) $(LIBS)
 lib500$(EXEEXT): $(lib500_OBJECTS) $(lib500_DEPENDENCIES) 
 	@rm -f lib500$(EXEEXT)
 	$(LINK) $(lib500_LDFLAGS) $(lib500_OBJECTS) $(lib500_LDADD) $(LIBS)
 lib501$(EXEEXT): $(lib501_OBJECTS) $(lib501_DEPENDENCIES) 
 	@rm -f lib501$(EXEEXT)
 	$(LINK) $(lib501_LDFLAGS) $(lib501_OBJECTS) $(lib501_LDADD) $(LIBS)
@@ -980,12 +1029,14 @@
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
 
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/chkhostname-chkhostname.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/chkhostname-curl_gethostname.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/first.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib500.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib501.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib502.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib503.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib504.Po@am__quote@
@@ -1062,12 +1113,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib572.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib573.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib574.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib575.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib576.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib577.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sethostname.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/testutil.Po@am__quote@
 
 .c.o:
 @am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
@@ -1085,12 +1137,40 @@
 @am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
 
+chkhostname-chkhostname.o: chkhostname.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -MT chkhostname-chkhostname.o -MD -MP -MF "$(DEPDIR)/chkhostname-chkhostname.Tpo" -c -o chkhostname-chkhostname.o `test -f 'chkhostname.c' || echo '$(srcdir)/'`chkhostname.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/chkhostname-chkhostname.Tpo" "$(DEPDIR)/chkhostname-chkhostname.Po"; else rm -f "$(DEPDIR)/chkhostname-chkhostname.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='chkhostname.c' object='chkhostname-chkhostname.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -c -o chkhostname-chkhostname.o `test -f 'chkhostname.c' || echo '$(srcdir)/'`chkhostname.c
+
+chkhostname-chkhostname.obj: chkhostname.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -MT chkhostname-chkhostname.obj -MD -MP -MF "$(DEPDIR)/chkhostname-chkhostname.Tpo" -c -o chkhostname-chkhostname.obj `if test -f 'chkhostname.c'; then $(CYGPATH_W) 'chkhostname.c'; else $(CYGPATH_W) '$(srcdir)/chkhostname.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/chkhostname-chkhostname.Tpo" "$(DEPDIR)/chkhostname-chkhostname.Po"; else rm -f "$(DEPDIR)/chkhostname-chkhostname.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='chkhostname.c' object='chkhostname-chkhostname.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -c -o chkhostname-chkhostname.obj `if test -f 'chkhostname.c'; then $(CYGPATH_W) 'chkhostname.c'; else $(CYGPATH_W) '$(srcdir)/chkhostname.c'; fi`
+
+chkhostname-curl_gethostname.o: $(top_srcdir)/lib/curl_gethostname.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -MT chkhostname-curl_gethostname.o -MD -MP -MF "$(DEPDIR)/chkhostname-curl_gethostname.Tpo" -c -o chkhostname-curl_gethostname.o `test -f '$(top_srcdir)/lib/curl_gethostname.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/curl_gethostname.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/chkhostname-curl_gethostname.Tpo" "$(DEPDIR)/chkhostname-curl_gethostname.Po"; else rm -f "$(DEPDIR)/chkhostname-curl_gethostname.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/curl_gethostname.c' object='chkhostname-curl_gethostname.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -c -o chkhostname-curl_gethostname.o `test -f '$(top_srcdir)/lib/curl_gethostname.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/curl_gethostname.c
+
+chkhostname-curl_gethostname.obj: $(top_srcdir)/lib/curl_gethostname.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -MT chkhostname-curl_gethostname.obj -MD -MP -MF "$(DEPDIR)/chkhostname-curl_gethostname.Tpo" -c -o chkhostname-curl_gethostname.obj `if test -f '$(top_srcdir)/lib/curl_gethostname.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/curl_gethostname.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/curl_gethostname.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/chkhostname-curl_gethostname.Tpo" "$(DEPDIR)/chkhostname-curl_gethostname.Po"; else rm -f "$(DEPDIR)/chkhostname-curl_gethostname.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/curl_gethostname.c' object='chkhostname-curl_gethostname.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(chkhostname_CFLAGS) $(CFLAGS) -c -o chkhostname-curl_gethostname.obj `if test -f '$(top_srcdir)/lib/curl_gethostname.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/curl_gethostname.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/curl_gethostname.c'; fi`
+
 lib526-lib526.o: lib526.c
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib526_CFLAGS) $(CFLAGS) -MT lib526-lib526.o -MD -MP -MF "$(DEPDIR)/lib526-lib526.Tpo" -c -o lib526-lib526.o `test -f 'lib526.c' || echo '$(srcdir)/'`lib526.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib526-lib526.Tpo" "$(DEPDIR)/lib526-lib526.Po"; else rm -f "$(DEPDIR)/lib526-lib526.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='lib526.c' object='lib526-lib526.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib526_CFLAGS) $(CFLAGS) -c -o lib526-lib526.o `test -f 'lib526.c' || echo '$(srcdir)/'`lib526.c
@@ -1522,13 +1602,13 @@
 	    || cp -p $$d/$$file $(distdir)/$$file \
 	    || exit 1; \
 	  fi; \
 	done
 check-am: all-am
 check: check-am
-all-am: Makefile $(PROGRAMS)
+all-am: Makefile $(LTLIBRARIES) $(PROGRAMS)
 installdirs:
 install: install-am
 install-exec: install-exec-am
 install-data: install-data-am
 uninstall: uninstall-am
 
@@ -1550,14 +1630,14 @@
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
 	@echo "it deletes files that may require special tools to rebuild."
 clean: clean-am
 
-clean-am: clean-generic clean-libtool clean-noinstPROGRAMS \
-	mostlyclean-am
+clean-am: clean-generic clean-libtool clean-noinstLTLIBRARIES \
+	clean-noinstPROGRAMS mostlyclean-am
 
 distclean: distclean-am
 	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
 distclean-am: clean-am distclean-compile distclean-generic \
 	distclean-libtool distclean-tags
@@ -1600,22 +1680,20 @@
 
 ps-am:
 
 uninstall-am: uninstall-info-am
 
 .PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
-	clean-libtool clean-noinstPROGRAMS ctags distclean \
-	distclean-compile distclean-generic distclean-libtool \
-	distclean-tags distdir dvi dvi-am html html-am info info-am \
-	install install-am install-data install-data-am install-exec \
-	install-exec-am install-info install-info-am install-man \
-	install-strip installcheck installcheck-am installdirs \
-	maintainer-clean maintainer-clean-generic mostlyclean \
-	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
-	pdf pdf-am ps ps-am tags uninstall uninstall-am \
-	uninstall-info-am
-
+	clean-libtool clean-noinstLTLIBRARIES clean-noinstPROGRAMS \
+	ctags distclean distclean-compile distclean-generic \
+	distclean-libtool distclean-tags distdir dvi dvi-am html \
+	html-am info info-am install install-am install-data \
+	install-data-am install-exec install-exec-am install-info \
+	install-info-am install-man install-strip installcheck \
+	installcheck-am installdirs maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-compile \
+	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
+	tags uninstall uninstall-am uninstall-info-am
 
-# Makefile.inc provides the source defines (TESTUTIL, SUPPORTFILES, noinst_PROGRAMS, lib*_SOURCES, and lib*_CFLAGS)
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/libtest/Makefile.inc	2010-05-13 05:09:21.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest/Makefile.inc	2010-08-10 17:19:27.000000000 +0800
@@ -9,13 +9,18 @@
   lib507 lib508 lib510 lib511 lib512 lib513 lib514 lib515 lib516	\
   lib517 lib518 lib519 lib520 lib521 lib523 lib524 lib525 lib526 lib527	\
   lib574 lib575 lib576 lib577 \
   lib529 lib530 lib532 lib533 lib536 lib537 lib540 lib541 lib542 lib543 \
   lib544 lib545 lib547 lib548 lib549 lib552 lib553 lib554 lib555 lib556 \
   lib539 lib557 lib558 lib559 lib560 lib562 lib564 lib565 lib566 lib567 \
-  lib568 lib569 lib570 lib571 lib572 lib573
+  lib568 lib569 lib570 lib571 lib572 lib573 chkhostname
+
+chkhostname_SOURCES = chkhostname.c $(top_srcdir)/lib/curl_gethostname.c
+chkhostname_LDADD = @CURL_NETWORK_LIBS@
+chkhostname_DEPENDENCIES =
+chkhostname_CFLAGS = $(AM_CFLAGS)
 
 lib500_SOURCES = lib500.c $(SUPPORTFILES)
 
 lib501_SOURCES = lib501.c $(SUPPORTFILES)
 
 lib502_SOURCES = lib502.c $(SUPPORTFILES) $(TESTUTIL)
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest: sethostname.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/libtest: sethostname.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/Makefile.in	2010-06-05 06:32:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/Makefile.in	2010-08-12 01:03:31.000000000 +0800
@@ -95,23 +95,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -120,22 +123,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/runtests.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/runtests.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/runtests.pl	2010-05-06 00:13:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/runtests.pl	2010-08-12 05:11:24.000000000 +0800
@@ -145,12 +145,13 @@
 my $LIBDIR="./libtest";
 my $SERVERIN="$LOGDIR/server.input"; # what curl sent the server
 my $SERVER2IN="$LOGDIR/server2.input"; # what curl sent the second server
 my $CURLLOG="$LOGDIR/curl.log"; # all command lines run
 my $FTPDCMD="$LOGDIR/ftpserver.cmd"; # copy ftp server instructions here
 my $SERVERLOGS_LOCK="$LOGDIR/serverlogs.lock"; # server logs advisor read lock
+my $CURLCONFIG="../curl-config"; # curl-config from current build
 
 # Normally, all test cases should be run, but at times it is handy to
 # simply run a particular one:
 my $TESTCASES="all";
 
 # To run specific test cases, set them like:
@@ -201,12 +202,14 @@
 my $has_openssl; # built with a lib using an OpenSSL-like API
 my $has_gnutls;  # built with GnuTLS
 my $has_nss;     # built with NSS
 my $has_yassl;   # built with yassl
 my $has_polarssl;# built with polarssl
 
+my $has_shared;  # built shared
+
 my $ssllib;      # name of the lib we use (for human presentation)
 my $has_crypto;  # set if libcurl is built with cryptographic support
 my $has_textaware; # set if running on a system that has a text mode concept
   # on files. Windows for example
 my @protocols;   # array of supported protocols
 
@@ -232,12 +235,13 @@
 my %timetoolini; # timestamp for each test command run starting
 my %timetoolend; # timestamp for each test command run stopping
 my %timesrvrlog; # timestamp for each test server logs lock removal
 my %timevrfyend; # timestamp for each test result verification end
 
 my $testnumcheck; # test number, set in singletest sub.
+my %oldenv;
 
 #######################################################################
 # variables the command line options may set
 #
 
 my $short;
@@ -433,13 +437,14 @@
 #######################################################################
 # Check for a command in the PATH of the test server.
 #
 sub checkcmd {
     my ($cmd)=@_;
     my @paths=(split(":", $ENV{'PATH'}), "/usr/sbin", "/usr/local/sbin",
-               "/sbin", "/usr/bin", "/usr/local/bin" );
+               "/sbin", "/usr/bin", "/usr/local/bin",
+               "./libtest/.libs", "./libtest");
     for(@paths) {
         if( -x "$_/$cmd" && ! -d "$_/$cmd") {
             # executable bit but not a directory!
             return "$_/$cmd";
         }
     }
@@ -2039,12 +2044,15 @@
     }
 
     if(!$curl_debug && $torture) {
         die "can't run torture tests since curl was not built with curldebug";
     }
 
+    $has_shared = `sh $CURLCONFIG --built-shared`;
+    chomp $has_shared;
+
     # curl doesn't list cryptographic support separately, so assume it's
     # always available
     $has_crypto=1;
 
     my $hostname=join(' ', runclientoutput("hostname"));
     my $hosttype=join(' ', runclientoutput("uname -a"));
@@ -2061,14 +2069,15 @@
     logmsg sprintf("* debug build:  %8s", $debug_build?"ON ":"OFF");
     logmsg sprintf("  track memory: %s\n", $curl_debug?"ON ":"OFF");
     logmsg sprintf("* valgrind:     %8s", $valgrind?"ON ":"OFF");
     logmsg sprintf("  HTTP IPv6     %s\n", $http_ipv6?"ON ":"OFF");
     logmsg sprintf("* FTP IPv6      %8s", $ftp_ipv6?"ON ":"OFF");
     logmsg sprintf("  Libtool lib:  %s\n", $libtool?"ON ":"OFF");
+    logmsg sprintf("* Shared build:      %s\n", $has_shared);
     if($ssl_version) {
-        logmsg sprintf("* SSL library:       %s\n", $ssllib);
+        logmsg sprintf("* SSL library: %13s\n", $ssllib);
     }
 
     logmsg "* Ports:\n";
 
     logmsg sprintf("*   HTTP/%d ", $HTTPPORT);
     logmsg sprintf("FTP/%d ", $FTPPORT);
@@ -2347,19 +2356,77 @@
         $why = serverfortest($testnum);
     }
 
     # timestamp required servers verification end
     $timesrvrend{$testnum} = Time::HiRes::time() if($timestats);
 
+    # test definition may instruct to (un)set environment vars
+    # this is done this early, so that the precheck can use environment
+    # variables and still bail out fine on errors
+
+    # restore environment variables that were modified in a previous run
+    foreach my $var (keys %oldenv) {
+        if($oldenv{$var} eq 'notset') {
+            delete $ENV{$var} if($ENV{$var});
+        }
+        else {
+            $ENV{$var} = $oldenv{$var};
+        }
+        delete $oldenv{$var};
+    }
+
+    my @setenv = getpart("client", "setenv");
+    if(@setenv) {
+        foreach my $s (@setenv) {
+            chomp $s;
+            subVariables \$s;
+            if($s =~ /([^=]*)=(.*)/) {
+                my ($var, $content) = ($1, $2);
+                # remember current setting, to restore it once test runs
+                $oldenv{$var} = ($ENV{$var})?"$ENV{$var}":'notset';
+                # set new value
+                if(!$content) {
+                    delete $ENV{$var} if($ENV{$var});
+                }
+                else {
+                    if(($var =~ /^LD_PRELOAD/) &&
+                       ($debug_build || ($has_shared ne "yes"))) {
+                        # print "Skipping LD_PRELOAD due to no release shared build\n";
+                        next;
+                    }
+                    $ENV{$var} = "$content";
+                }
+            }
+        }
+    }
+
     if(!$why) {
+        # TODO:
+        # Add a precheck cache. If a precheck command was already invoked
+        # exactly like this, then use the previous result to speed up
+        # successive test invokes!
+
         my @precheck = getpart("client", "precheck");
         if(@precheck) {
             $cmd = $precheck[0];
             chomp $cmd;
             subVariables \$cmd;
             if($cmd) {
+                my @p = split(/ /, $cmd);
+                if($p[0] !~ /\//) {
+                    # the first word, the command, does not contain a slash so
+                    # we will scan the "improved" PATH to find the command to
+                    # be able to run it
+                    my $fullp = checktestcmd($p[0]);
+
+                    if($fullp) {
+                        $p[0] = $fullp;
+                    }
+                    $cmd = join(" ", @p);
+                }
+
                 my @o = `$cmd 2>/dev/null`;
                 if($o[0]) {
                     $why = $o[0];
                     chomp $why;
                 } elsif($?) {
                     $why = "precheck command error";
@@ -2450,34 +2517,12 @@
 
     if(@ftpservercmd) {
         # write the instructions to file
         writearray($FTPDCMD, \@ftpservercmd);
     }
 
-    # test definition may instruct to (un)set environment vars
-    my %oldenv;
-    my @setenv = getpart("client", "setenv");
-    if(@setenv) {
-        foreach my $s (@setenv) {
-            chomp $s;
-            subVariables \$s;
-            if($s =~ /([^=]*)=(.*)/) {
-                my ($var, $content) = ($1, $2);
-                # remember current setting, to restore it once test runs
-                $oldenv{$var} = ($ENV{$var})?"$ENV{$var}":'notset';
-                # set new value
-                if(!$content) {
-                    delete $ENV{$var} if($ENV{$var});
-                }
-                else {
-                    $ENV{$var} = "$content";
-                }
-            }
-        }
-    }
-
     # get the command line options to use
     my @blaha;
     ($cmd, @blaha)= getpart("client", "command");
 
     # make some nice replace operations
     $cmd =~ s/\n//g; # no newlines please
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/server/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/server/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/server/Makefile.in	2010-06-05 06:32:03.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/server/Makefile.in	2010-08-12 01:03:32.000000000 +0800
@@ -146,23 +146,26 @@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_LIBHOSTNAME_FALSE = @BUILD_LIBHOSTNAME_FALSE@
+BUILD_LIBHOSTNAME_TRUE = @BUILD_LIBHOSTNAME_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONFIGURE_OPTIONS = @CONFIGURE_OPTIONS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CROSSCOMPILING_FALSE = @CROSSCOMPILING_FALSE@
 CROSSCOMPILING_TRUE = @CROSSCOMPILING_TRUE@
 CURLDEBUG_FALSE = @CURLDEBUG_FALSE@
 CURLDEBUG_TRUE = @CURLDEBUG_TRUE@
 CURL_CA_BUNDLE = @CURL_CA_BUNDLE@
+CURL_CFLAG_EXTRAS = @CURL_CFLAG_EXTRAS@
 CURL_DISABLE_DICT = @CURL_DISABLE_DICT@
 CURL_DISABLE_FILE = @CURL_DISABLE_FILE@
 CURL_DISABLE_FTP = @CURL_DISABLE_FTP@
 CURL_DISABLE_HTTP = @CURL_DISABLE_HTTP@
 CURL_DISABLE_IMAP = @CURL_DISABLE_IMAP@
 CURL_DISABLE_LDAP = @CURL_DISABLE_LDAP@
@@ -171,22 +174,24 @@
 CURL_DISABLE_PROXY = @CURL_DISABLE_PROXY@
 CURL_DISABLE_RTSP = @CURL_DISABLE_RTSP@
 CURL_DISABLE_SMTP = @CURL_DISABLE_SMTP@
 CURL_DISABLE_TELNET = @CURL_DISABLE_TELNET@
 CURL_DISABLE_TFTP = @CURL_DISABLE_TFTP@
 CURL_LIBS = @CURL_LIBS@
+CURL_NETWORK_LIBS = @CURL_NETWORK_LIBS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
 DSYMUTIL = @DSYMUTIL@
 DUMPBIN = @DUMPBIN@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ENABLE_SHARED = @ENABLE_SHARED@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
 HAVE_LDAP_SSL = @HAVE_LDAP_SSL@
 HAVE_LIBZ = @HAVE_LIBZ@
 HAVE_LIBZ_FALSE = @HAVE_LIBZ_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/testcurl.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/testcurl.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.0/tests/testcurl.pl	2010-04-14 04:59:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.21.1/tests/testcurl.pl	2010-08-10 17:19:27.000000000 +0800
@@ -69,13 +69,13 @@
 
 use vars qw($name $email $desc $confopts $runtestopts $setupfile $mktarball
             $extvercmd $nogitpull $nobuildconf $crosscompile
             $timestamp);
 
 # version of this script
-$version='2010-04-13';
+$version='2010-10-10';
 $fixed=0;
 
 # Determine if we're running from git or a canned copy of curl,
 # or if we got a specific target option or setup file option.
 $CURLDIR="curl";
 if (-f ".git/config") {
@@ -137,13 +137,13 @@
 $libext = '.la'; # .la since both libcurl and libcares are made with libtool
 if ($^O eq 'MSWin32' || $targetos) {
   if (!$targetos) {
     # If no target defined on Win32 lets assume vc
     $targetos = 'vc';
   }
-  if ($targetos =~ /vc/ || $targetos =~ /borland/) {
+  if ($targetos =~ /vc/ || $targetos =~ /borland/ || $targetos =~ /watcom/) {
     $binext = '.exe';
     $libext = '.lib';
   }
   elsif ($targetos =~ /mingw/) {
     $binext = '.exe';
     if ($^O eq 'MSWin32') {
@@ -159,14 +159,15 @@
     else {
       $libext = '.a';
     }
   }
 }
 
-if (($^O eq 'MSWin32') &&
-    ($targetos =~ /vc/ || $targetos =~ /mingw32/ || $targetos =~ /borland/)) {
+if (($^O eq 'MSWin32' || $^O eq 'msys') &&
+    ($targetos =~ /vc/ || $targetos =~ /mingw32/ ||
+     $targetos =~ /borland/ || $targetos =~ /watcom/)) {
 
   # Set these things only when building ON Windows and for Win32 platform.
   # FOR Windows since we might be cross-compiling on another system. Non-
   # Windows builds still default to configure-style builds with no confsuffix.
 
   $configurebuild = 0;
@@ -494,12 +495,14 @@
 my $make = findinpath("gmake", "make", "nmake");
 if(!$make) {
     mydie "Couldn't find make in the PATH";
 }
 # force to 'nmake' for VC builds
 $make = "nmake" if ($targetos =~ /vc/);
+# force to 'wmake' for Watcom builds
+$make = "wmake" if ($targetos =~ /watcom/);
 logit "going with $make as make";
 
 # change to build dir
 chdir "$pwd/$build";
 
 if ($configurebuild) {
@@ -568,13 +571,13 @@
 open(F, "lib/curl_config$confsuffix.h") or die "lib/curl_config$confsuffix.h: $!";
 while (<F>) {
   print if /^ *#/;
 }
 close(F);
 
-if (grepfile("define USE_ARES", "lib/curl_config$confsuffix.h")) {
+if (grepfile("^#define USE_ARES", "lib/curl_config$confsuffix.h")) {
   print "\n";
   logit "setup to build ares";
 
   if(-f "./ares/libcares.pc") {
     logit_spaced  "display ares/libcares.pc";
     if(open(F, "<./ares/libcares.pc")) {
