diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/CHANGES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/CHANGES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/CHANGES	2012-10-11 04:00:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/CHANGES	2012-11-20 15:13:32.000000000 +0800
@@ -3,12 +3,571 @@
                              / __| | | | |_) | |
                             | (__| |_| |  _ <| |___
                              \___|\___/|_| \_\_____|
 
                                   Changelog
 
+Version 7.28.1 (20 Nov 2012)
+
+Daniel Stenberg (20 Nov 2012)
+- RELEASE-NOTES: synced with 52af6e69f079 / 7.28.1
+
+Kamil Dudka (20 Nov 2012)
+- [Anthony Bryan brought this change]
+
+  RELEASE-NOTES: NSS can be used for metalink hashing
+
+- [Fabian Keil brought this change]
+
+  Get test 2032 working when using valgrind
+  
+  If curl_multi_fdset() sets maxfd to -1, the socket detection
+  loop is skipped and thus !found_new_socket is no cause for alarm.
+
+- test2032: spurious failure caused by premature termination
+  
+  Bug: http://curl.haxx.se/mail/lib-2012-11/0095.html
+
+Daniel Stenberg (19 Nov 2012)
+- [Fabian Keil brought this change]
+
+  Fix comment typos in test 517
+
+- [Fabian Keil brought this change]
+
+  Test 92 and 194: normalize spaces in the Server headers
+  
+  It makes no difference from curl's point of view but
+  makes it more convenient to use the tests with a
+  lws-normalizing proxy between curl and the test server.
+
+- [Fabian Keil brought this change]
+
+  Add a HOSTIP precheck for tests 31 and 1105
+  
+  They currently only work for 127.0.0.1 which
+  is hardcoded and can't be easily changed.
+
+- [Fabian Keil brought this change]
+
+  Let test 8 work as long as %HOSTIP ends with ".0.0.1"
+  
+  .. and add a precheck to skip the test otherwise.
+
+- [Fabian Keil brought this change]
+
+  Add --resolve to the keywords and name of test 1318
+  
+  This makes it easier to skip it automatically when
+  the test suite is used with external proxies.
+
+- [Fabian Keil brought this change]
+
+  Add FTP keywords for a couple of currently keyword-less FTP tests
+
+- [Fabian Keil brought this change]
+
+  Add keywords for a couple of currently keyword-less HTTP tests
+
+- [Fabian Keil brought this change]
+
+  Use carriage returns in all headers in test 31
+  
+  Trailing spaces were left unmodifed, assuming they were intentional.
+
+- [Fabian Keil brought this change]
+
+  Do not mix CRLF and LF header endings in a couple of HTTP tests
+  
+  Consistently use CRLF instead. The mixed endings weren't
+  documented so I assume they were unintentional.
+  
+  This change doesn't matter for curl itself but makes using
+  the tests with a proxy between curl and the test server
+  more convenient.
+  
+  Tests that consistently use no carriage returns were
+  left unmodified as one can easily work around this.
+
+- fixed memory leak: CURLOPT_RESOLVE with multi interface
+  
+  DNS cache entries populated with CURLOPT_RESOLVE were not properly freed
+  again when done using the multi interface.
+  
+  Test case 1502 added to verify.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3575448
+  Reported by: Alex Gruz
+
+- RELEASE-NOTES: synced with ee588fe08807778
+  
+  4 more bug fixes and 4 more contributors
+
+- mem-include-scan: verify memory #includes
+  
+  If we use memory functions (malloc, free, strdup etc) in C sources in
+  libcurl and we fail to include curl_memory.h or memdebug.h we either
+  fail to properly support user-provided memory callbacks or the memory
+  leak system of the test suite fails.
+  
+  After Ajit's report of a failure in the first category in http_proxy.c,
+  I spotted a few in the second category as well. These problems are now
+  tested for by test 1132 which runs a perl program that scans for and
+  attempts to check that we use the correct include files if a memory
+  related function is used in the source code.
+  
+  Reported by: Ajit Dhumale
+  Bug: http://curl.haxx.se/mail/lib-2012-11/0125.html
+
+- tftp_rx: code style cleanup
+  
+  Fixed checksrc warnings
+
+- [Fabian Keil brought this change]
+
+  Fix the libauthretry changes from 7c0cbcf2f61
+  
+  They broke the NTLM tests from 2023 to 2031.
+
+- [Christian Vogt brought this change]
+
+  tftp_rx: handle resends
+  
+  Re-send ACK for block X in case we receive block X data again while
+  waiting for block X+1.
+  
+  Based on an earlier patch by Marcin Adamski.
+
+- autoconf: don't force-disable compiler debug option
+  
+  When nothing is told to configure, we should not enforce switching off
+  debug options with -g0 (or similar). We instead don't use -g at all in
+  that situaion and therefore allow the user's CFLAGS settings possibly
+  dictate what to do.
+
+- [Mark Snelling brought this change]
+
+  winbuild: Fix PDB file output
+  
+  And fix some newlines to be proper CRLF
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3586741
+
+- RELEASE-NOTES: synced with fa1ae0abcde
+
+- [Cristian Rodríguez brought this change]
+
+  OpenSSL: Disable SSL/TLS compression
+  
+  It either causes increased memory usage or exposes users
+  to the "CRIME attack" (CVE-2012-4929)
+
+- [Sebastian Rasmussen brought this change]
+
+  FILE: Make upload-writes unbuffered by not using FILE streams
+
+Kamil Dudka (13 Nov 2012)
+- tool_metalink: fix error detection of hash alg initialization
+  
+  The {MD5,SHA1,SHA256}_Init functions from OpenSSL are called directly
+  without any wrappers and they return 1 for success, 0 otherwise.  Hence,
+  we have to use the same approach in all the wrapper functions that are
+  used for the other crypto libraries.
+  
+  This commit fixes a regression introduced in commit dca8ae5f.
+
+Daniel Stenberg (13 Nov 2012)
+- RELEASE-NOTES: synced with 7c0cbcf2f617b
+
+- [Sergei Nikulov brought this change]
+
+  fixed Visual Studio 2010 compilation
+
+- [Anton Malov brought this change]
+
+  ftp: EPSV-disable fix over SOCKS
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3586338
+
+Patrick Monnerat (12 Nov 2012)
+- Merge branch 'master' of github.com:bagder/curl
+
+- OS400: upgrade wrappers for the 7.28.1 release.
+
+Daniel Stenberg (12 Nov 2012)
+- runtests: limit execessive logging/output
+
+- [Gabriel Sjoberg brought this change]
+
+  Digst: Add microseconds into nounce calculation
+  
+  When using only 1 second precision, curl doesn't create new cnonce
+  values quickly enough for all uses.
+  
+  For example, issuing the following command multiple times to a recent
+  Tomcat causes authentication failures:
+  
+  curl --digest -utest:test http://tomcat.test.com:8080/manager/list
+  
+  This is because curl uses the same cnonce for several seconds, but
+  doesn't increment the nonce counter.  Tomcat correctly interprets
+  this as a replay attack and rejects the request.
+  
+  When microsecond-precision is available, this commit causes curl to
+  change cnonce values much more frequently.
+  
+  With microsecond resolution, increasing the nounce length used in the
+  headers to 32 was made to further reduce the risk of duplication.
+
+- SCP/SFTP: improve error code used for send failures
+  
+  Instead of relying on the generic CURLE error for SCP or SFTP send
+  failures, try passing back a more suitable error if possible.
+
+- Curl_write: remove unneeded typecast
+
+Kamil Dudka (9 Nov 2012)
+- tool_metalink: allow to use hash algorithms provided by NSS
+  
+  Fixes bug #3578163:
+  http://sourceforge.net/tracker/?func=detail&atid=100976&aid=3578163&group_id=976
+
+- tool_metalink: allow to handle failure of hash alg initialization
+
+- tool_metalink: introduce metalink_cleanup() in the internal API
+  
+  ... to release resources allocated at global scope
+
+Daniel Stenberg (8 Nov 2012)
+- hostcheck: only build for the actual users
+  
+  and make local function static
+
+- [Oscar Koeroo brought this change]
+
+  SSL: Several SSL-backend related fixes
+  
+  axTLS:
+  
+  This will make the axTLS backend perform the RFC2818 checks, honoring
+  the VERIFYHOST setting similar to the OpenSSL backend.
+  
+  Generic for OpenSSL and axTLS:
+  
+  Move the hostcheck and cert_hostcheck functions from the lib/ssluse.c
+  files to make them genericly available for both the OpenSSL, axTLS and
+  other SSL backends. They are now in the new lib/hostcheck.c file.
+  
+  CyaSSL:
+  
+  CyaSSL now also has the RFC2818 checks enabled by default. There is a
+  limitation that the verifyhost can not be enabled exclusively on the
+  Subject CN field comparison. This SSL backend will thus behave like the
+  NSS and the GnuTLS (meaning: RFC2818 ok, or bust). In other words:
+  setting verifyhost to 0 or 1 will disable the Subject Alt Names checks
+  too.
+  
+  Schannel:
+  
+  Updated the schannel information messages: Split the IP address usage
+  message from the verifyhost setting and changed the message about
+  disabling SNI (Server Name Indication, used in HTTP virtual hosting)
+  into a message stating that the Subject Alternative Names checks are
+  being disabled when verifyhost is set to 0 or 1. As a side effect of
+  switching off the RFC2818 related servername checks with
+  SCH_CRED_NO_SERVERNAME_CHECK
+  (http://msdn.microsoft.com/en-us/library/aa923430.aspx) the SNI feature
+  is being disabled. This effect is not documented in MSDN, but Wireshark
+  output clearly shows the effect (details on the libcurl maillist).
+  
+  PolarSSL:
+  
+  Fix the prototype change in PolarSSL of ssl_set_session() and the move
+  of the peer_cert from the ssl_context to the ssl_session. Found this
+  change in the PolarSSL SVN between r1316 and r1317 where the
+  POLARSSL_VERSION_NUMBER was at 0x01010100. But to accommodate the Ubuntu
+  PolarSSL version 1.1.4 the check is to discriminate between lower then
+  PolarSSL version 1.2.0 and 1.2.0 and higher. Note: The PolarSSL SVN
+  trunk jumped from version 1.1.1 to 1.2.0.
+  
+  Generic:
+  
+  All the SSL backends are fixed and checked to work with the
+  ssl.verifyhost as a boolean, which is an internal API change.
+
+- libcurl: VERSIONINFO update
+  
+  Since we added the curl_multi_wait function, the VERSIONINFO needed
+  updating.
+  
+  Reported by: Patrick Monnerat
+
+Guenter Knauf (8 Nov 2012)
+- Added .def file to output.
+  
+  Requested by Johnny Luong on the libcurl list.
+
+- Added deps for static metalink-aware MinGW builds.
+
+Daniel Stenberg (8 Nov 2012)
+- [Fabian Keil brought this change]
+
+  Fix compilation of lib1501
+
+- Curl_readwrite: remove debug output
+  
+  The text "additional stuff not fine" text was added for debug purposes a
+  while ago, but it isn't really helping anyone and for some reason some
+  Linux distributions provide their libcurls built with debug info still
+  present and thus (far too many) users get to read this info.
+
+- RELEASE-NOTES: synced with 487538e87a3d5e
+  
+  6 new bugfixes and 3 more contributors...
+
+- http_perhapsrewind: consider NTLM over proxy too
+  
+  The logic previously checked for a started NTLM negotiation only for
+  host and not also with proxy, leading to problems doing POSTs over a
+  proxy NTLM that are larger than 2000 bytes. Now it includes proxy in the
+  check.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3582321
+  Reported by: John Suprock
+
+- [Lars Buitinck brought this change]
+
+  Curl_connecthost: friendlier "couldn't connect" message
+
+- test1413: verify redirects to URLs with fragments
+  
+  The bug report claimed it didn't work. This problem was probably fixed
+  in 473003fbdf.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3581898
+
+- URL parser: cut off '#' fragments from URLs (better)
+  
+  The existing logic only cut off the fragment from the separate 'path'
+  buffer which is used when sending HTTP to hosts. The buffer that held
+  the full URL used for proxies were not dealt with. It is now.
+  
+  Test case 5 was updated to use a fragment on a URL over a proxy.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3579813
+
+- OpenSSL/servercert: use correct buffer size, not size of pointer
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3579286
+
+- curl: set CURLOPT_SSL_VERIFYHOST to 0 to disable
+
+- test 2027/2030: take duplicate Digest requests into account
+  
+  With the reversion of ce8311c7e49eca and the new clear logic, this flaw
+  is present and we allow it.
+
+- Curl_pretransfer: clear out unwanted auth methods
+  
+  As a handle can be re-used after having done HTTP auth in a previous
+  request, it must make sure to clear out the HTTP types that aren't
+  wanted in this new request.
+
+- test1412: verify Digest with repeated URLs
+  
+  This test case verifies that bug 3582718 is fixed.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3582718
+  Reported by: Nick Zitzmann (originally)
+
+- Revert "Zero out auth structs before transfer"
+  
+  This reverts commit ce8311c7e49eca93c136b58efa6763853541ec97.
+  
+  The commit made test 2024 work but caused a regression with repeated
+  Digest authentication. We need to fix this differently.
+
+- CURLOPT_SSL_VERIFYHOST: stop supporting the 1 value
+  
+  After a research team wrote a document[1] that found several live source
+  codes out there in the wild that misused the CURLOPT_SSL_VERIFYHOST
+  option thinking it was a boolean, this change now bans 1 as a value and
+  will make libcurl return error for it.
+  
+  1 was never a sensible value to use in production but was introduced
+  back in the days to help debugging. It was always documented clearly
+  this way.
+  
+  1 was never supported by all SSL backends in libcurl, so this cleanup
+  makes the treatment of it unified.
+  
+  The report's list of mistakes for this option were all PHP code and
+  while there's a binding layer between libcurl and PHP, the PHP team has
+  decided that they have an as thin layer as possible on top of libcurl so
+  they will not alter or specifically filter a 'TRUE' value for this
+  particular option. I sympathize with that position.
+  
+  [1] = http://daniel.haxx.se/blog/2012/10/25/libcurl-claimed-to-be-dangerous/
+
+- gnutls: fix compiler warnings
+
+- [Alessandro Ghedini brought this change]
+
+  gnutls: print alerts during handshake
+
+- [Alessandro Ghedini brought this change]
+
+  gnutls: fix the error_is_fatal logic
+
+- RELEASE-NOTES: synced with fa6d78829fd30ad
+
+- httpcustomheader.c: free the headers after use
+
+- [Dave Reisner brought this change]
+
+  uniformly use AM_CPPFLAGS, avoid deprecated INCLUDES
+  
+  Since automake 1.12.4, the warnings are issued on running automake:
+  
+    warning: 'INCLUDES' is the old name for 'AM_CPPFLAGS' (or '*_CPPFLAGS')
+  
+  Avoid INCLUDES and roll these flags into AM_CPPFLAGS.
+  
+  Compile tested on:
+    Ubuntu 10.04 (automake 1:1.11.1-1)
+    Ubuntu 12.04 (automake 1:1.11.3-1ubuntu2)
+    Arch Linux (automake 1.12.4)
+
+- libauthretry.c: shorten lines to fit within 80 cols
+
+- ftp_readresp: fix build without krb4 support
+  
+  Oops, my previous commit broke builds with krb support.
+
+- test/README: mention the 1500 test number range
+
+- FTP: prevent the multi interface from blocking
+  
+  As pointed out in Bug report #3579064, curl_multi_perform() would
+  wrongly use a blocking mechanism internally for some commands which
+  could lead to for example a very long block if the LIST response never
+  showed.
+  
+  The solution was to make sure to properly continue to use the multi
+  interface non-blocking state machine.
+  
+  The new test 1501 verifies the fix.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3579064
+  Reported by: Guido Berhoerster
+
+Marc Hoersken (1 Nov 2012)
+- winbuild: Use machine type of development environment
+  
+  This patch restores the original behavior instead of always
+  falling back to x86 if no MACHINE-type was specified.
+
+- winbuild: Additional clean up
+
+- [Sapien2 brought this change]
+
+  Even more winbuild refactoring
+
+- [Sapien2 brought this change]
+
+  Minor winbuild refactoring
+
+- [Sapien2 brought this change]
+
+  Architecture selection for winbuild and minor makefiles refactoring
+
+Daniel Stenberg (1 Nov 2012)
+- BUGS: fix the bug tracker URL
+  
+  The URL we used before is the one that goes directly to 'add' a bug
+  report, but since you can only do that after first having logged in to
+  sourceforge, the link often doesn't work for visitors.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3582408
+  Reported by: Oscar Norlander
+
+- evhiperfifo: fix the pointer passed to WRITEDATA
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3582407
+  Reported by: Oscar Norlander
+
+Guenter Knauf (1 Nov 2012)
+- Fixed MSVC libssh2 static build.
+  
+  Since libssh2 supports now agent stuff it also depends on user32.lib.
+  Posted to the list by Jan Ehrhardt.
+
+Daniel Stenberg (23 Oct 2012)
+- tlsauthtype: deal with the string case insensitively
+  
+  When given a string as 'srp' it didn't work, but required 'SRP'.
+  Starting now, the check disregards casing.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3578418
+  Reported by: Jeff Connelly
+
+- asyn-ares: restore working with c-ares < 1.6.1
+  
+  Back in those days the public ares.h header didn't include the
+  ares_version.h header so it needs to be included here.
+  
+  Bug: http://curl.haxx.se/bug/view.cgi?id=3577710
+
+- [Nick Zitzmann brought this change]
+
+  metalink/md5: Use CommonCrypto on Apple operating systems
+  
+  Previously the Metalink code used Apple's CommonCrypto library only if
+  curl was built using the --with-darwinssl option. Now we use CommonCrypto
+  on all Apple operating systems including Tiger or later, or iOS 5 or
+  later, so you don't need to build --with-darwinssl anymore. Also rolled
+  out this change to libcurl's md5 code.
+
+- href_extractor.c: fix the URL
+
+- [Michał Kowalczyk brought this change]
+
+  href_extractor: example code extracting href elements
+  
+  It does so in a streaming manner using the "Streaming HTML parser".
+
+- [Nick Zitzmann brought this change]
+
+  darwinssl: un-broke iOS build, fix error on server disconnect
+  
+  The iOS build was broken by a reference to a function that only existed
+  under OS X; fixed. Also fixed a hard-to-reproduce problem where, if the
+  server disconnected before libcurl got the chance to hang up first and
+  SecureTransport was in use, then we'd raise an error instead of failing
+  gracefully.
+
+- [Alessandro Ghedini brought this change]
+
+  gnutls: put reset code into else block
+  
+  Bug: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=690551
+
+Guenter Knauf (13 Oct 2012)
+- Fix now broken libmetalink-aware OpenSSL build.
+
+- Revert c44e674; add OpenSSL includes/defines.
+  
+  The makefile is designed to build against a libmetalink devel package;
+  therefore is does not matter what will change inside libmetalink.
+  Add OpenSSL includes and defines for libmetalink-aware OpenSSL builds.
+
+Daniel Stenberg (10 Oct 2012)
+- version-bump: towards 7.28.1!
+
+- THANKS: 14 new contributors from 7.28.0
+
 Version 7.28.0 (10 Oct 2012)
 
 Daniel Stenberg (10 Oct 2012)
 - RELEASE-NOTES: synced with 8373ca3641
   
   One bug, one contributor. Getting ready for release.
@@ -5036,521 +5595,6 @@
     iptables -I INPUT \
              -s $(sed -n -e '/name/{s/.* //p;q}' /etc/resolv.conf)/32 \
              -j REJECT
   and then run a program which uses the multi-interface.
 
 - test 815: verify POP3 dot-first-on-line unescaping
-
-- [Steve Holme brought this change]
-
-  POP3: fixed escaped dot not being striped out
-  
-  Changed the eob detection to work across the whole of the buffer so that
-  lines that begin with a dot (which the server will have escaped) are
-  passed to the client application correctly.
-
-Yang Tse (30 Nov 2011)
-- buildconf: follow-up for commit 7e02f7fd
-
-- buildconf: fix libtool 1.5.x warnings triggered with autoconf 2.6x or later
-  
-  Using libtool 1.5.x (x < 26) with autoconf 2.6x or later generates warnings
-  due to some libtool variables not following naming convention for variables
-  that will be cached.
-  
-  This is addressed renaming a couple of variables to make these follow expected
-  naming convention.
-
-Daniel Stenberg (30 Nov 2011)
-- RELEASE-NOTES: synced with 1038d0aa1
-  
-  5 bugfixes and 1 new contributor
-
-Yang Tse (29 Nov 2011)
-- pop3.c: fix compiler warning
-
-- configure: avoid usage of macro PKG_CHECK_MODULES
-  
-  libidn option adjusted in order to use pkg-config info when available
-  in a similar way as we already do for other libraries.
-
-Daniel Stenberg (29 Nov 2011)
-- POP3: detect when LIST returns no mails
-  
-  By making sure the function can detect an "end of body" sequence
-  immediately on the first line, test 811 is now enabled.
-
-- ftpserver: output CRLF in logs
-  
-  Previously the log function would just filter out all CR and LF
-  occurances from the log to make it more readable. This had the downside
-  that it made it very hard to see CR LFs when they actually matters.
-  
-  Now, they're instead converted to "[CR]" and "[LR]" in the log to become
-  apparent to readers.
-
-- POP3: fix end of body detection
-  
-  Curl_pop3_write() now has a state machine that scans for the end of a
-  POP3 body so that the CR LF '.' CR LF sequence can come in everything
-  from one up to five subsequent packets.
-  
-  Test case 810 is modified to use SLOWDOWN which makes the server pause
-  between each single byte and thus makes the POP3 body get sent to curl
-  basically one byte at a time.
-
-- test: added POP3 test with dot-prefixed line
-  
-  Test 815 is disabled for now since libcurl currently doesn't unescape
-  such lines the way it should. See mail:
-  
-  http://curl.haxx.se/mail/lib-2011-11/0324.html
-
-- configure: fix to make older pkg-config play well
-  
-  configure.ac:1349: error: possibly undefined macro: PKG_CONFIG_LIBDIR
-  
-  Obviously this is not a problem with pkg-config 0.26 but older versions
-  seem to show this.
-  
-  Fix suggested by: Kamil Dudka
-  Reported by: Guenter
-  Bug: http://curl.haxx.se/mail/lib-2011-11/0298.html
-
-- test 1211: FTP test to repeat bug #3429299
-  
-  "Active FTP hangs if server does not open data connection"
-  
-  The server first sends a 150 and then when libcurl waits for the data
-  transfer, the server sends a 425.
-
-- [Mark Brand brought this change]
-
-  configure: add support for pkg-config detection of libidn
-
-- FTP tests 1206 - 1209: don't expect QUIT
-  
-  The protocol parts for these tests do not include QUIT simply because
-  the error is CURLE_OPERATION_TIMEDOUT (28) which is a generic timeout
-  error without specificly saying for which connection it concerns, and
-  for timeouts libcurl marks the control channel as "invalid". As this
-  test case times out for the data connection it could still use the
-  control channel.
-
-Yang Tse (25 Nov 2011)
-- CyaSSL 2.0+ library initialization adjustment
-
-Daniel Stenberg (25 Nov 2011)
-- [Jonas Schnelli brought this change]
-
-  rectify comment
-
-- SSLSESSION_SHARED: new macro to check if session is shared
-  
-  Added convenience macro to use to check if a handle is using a shared
-  SSL session, and fixed so that Curl_ssl_close_all() doesn't lock when
-  the session isn't shared.
-
-Yang Tse (25 Nov 2011)
-- telnet.c: fix MSVC compiler warning
-
-- tvdiff_secs(): sub-zero time difference adjustment
-  
-  Skip a floating point addition operation when integral part of time difference
-  is zero. This avoids potential floating point addition rounding problems while
-  preserving decimal part value.
-
-Daniel Stenberg (25 Nov 2011)
-- telnet: fix macros to allow proper semicolon use
-  
-  Macros that look like function calls need to be made so that we can use
-  semicolons properly for indentation and for reducing the risk for
-  mistakes when using them.
-
-- [Laurent Rabret brought this change]
-
-  TELNET: improved treatment of options
-  
-  1) enables the Window Size option
-  2) allows the server to enable the echo mode
-  3) allows an app using libcurl to disable the default binary mode
-  
-  Signed-off-by: Laurent Rabret
-
-- RELEASE-NOTES: synced with 2c905fd1f82
-
-- [Jonas Schnelli brought this change]
-
-  query-part: ignore the URI part for given protocols
-  
-  By setting PROTOPT_NOURLQUERY in the protocol handler struct, the
-  protocol will get the "query part" of the URL cut off before the data is
-  handled by the protocol-specific code. This makes libcurl adhere to
-  RFC3986 section 2.2.
-  
-  Test 1220 is added to verify a file:// URL with query-part.
-
-- symbols.pl: provide LIBCURL_HAS macro for apps
-  
-  Experience has shown that the symbols-in-versions file is very useful to
-  applications that want to build with a wide range of libcurl versions.
-  It is however easy to get it wrong and the source gets a bit messy with
-  all the fixed numerical comparisions.
-  
-  The point of this script is to provide an easy-to-use macro for libcurl-
-  using applications to do preprocessor checks for specific libcurl
-  defines, and yet make the code clearly show what the macro is used for.
-
-Yang Tse (24 Nov 2011)
-- lib573.c: fix double data type variable comparison with zero
-
-- getinfo.c: reset app connect time when clearing session-info time variables
-
-- Fix unreleased regression when using windows gnutls versions older than 2.8
-
-Daniel Stenberg (23 Nov 2011)
-- [Mark Brand brought this change]
-
-  gnutls: only translate winsock errors for old versions
-  
-  Bugfix: https handshake fails using gnutls 3 on windows
-  http://sourceforge.net/tracker/index.php?func=detail&aid=3441084&group_id=976&atid=100976
-  
-  New gnutls versions have an error handler that knows about Winsock
-  errors, which is why gnutls_transport_set_global_errno() was deprecated
-  and then removed.
-  
-  This is a correction of commit f5bb370 (blame me) which meant to
-  reimplement gnutls_transport_set_global_errno(), which is not necessary.
-
-- protocol_connect: show verbose connect and set connect time
-  
-  Regression: commit b998d95b (shipped first in release 7.22.0) made the
-  condition always equal false that should reset the TIMER_CONNECT timer
-  and call the Curl_verboseconnect() function.
-  
-  Reported by: "Captain Basil"
-  Bug: http://curl.haxx.se/mail/archive-2011-11/0035.html
-
-- -J -O: use -O name if no Content-Disposition header comes!
-  
-  A regression between 7.22.0 and 7.23.0 -- downloading a file with the
-  flags -O and -J results in the content being written to stdout if and
-  only if there was no Content-Disposition header in the http response. If
-  there is a C-D header with a filename attribute, the output is correctly
-  written.
-  
-  Reported by: Dave Reisner
-  Bug: http://curl.haxx.se/mail/archive-2011-11/0030.html
-
-- [Martin Storsjo brought this change]
-
-  Add support for using nettle instead of gcrypt as gnutls backend
-
-- [Jonas Schnelli brought this change]
-
-  test: SFTP quote commands with * prefix
-  
-  Related to the f64812ca63 commit
-
-- CURLOPT_QUOTE: SFTP supports the '*'-prefix now
-
-- [Jonas Schnelli brought this change]
-
-  SFTP: support '*' prefix for quote operations
-  
-  prefixing a command with '*' means it is allowed to fail without
-  aborting the chain actions
-
-- getsessionid: don't ever return while locked
-  
-  Also, check for the session sharing bit instead of comparing pointers
-
-- Curl_ssl_getsessionid: increase the value, not the pointer
-
-- THANKS: one new contributor in 7.23.1
-
-- [Alejandro Alvarez Ayllon brought this change]
-
-  SSL session share: move the age counter to the share object
-  
-  Previously the age counter would be counted individually in each easy
-  handle that shared SSL sessions!
-
-- [Alejandro Alvarez Ayllon brought this change]
-
-  libtest build: add the missing lib586
-
-- [Jason Glasgow brought this change]
-
-  CURLOPT_DNS_SERVERS: set name servers if possible
-
-- RELEASE-NOTES: correct the release and contributor numbers
-
-Version 7.23.1 (17 Nov 2011)
-
-Daniel Stenberg (17 Nov 2011)
-- FindWin32CACert: return OK even if CA cert isn't found
-  
-  Bug: http://curl.haxx.se/mail/lib-2011-11/0180.html
-  Reported by: Mark Brand
-
-Dan Fandrich (16 Nov 2011)
-- curl has been built on many Android versions
-
-Daniel Stenberg (15 Nov 2011)
-- 7.24.0: start the work
-
-- THANKS: added 18 new contributors from 7.23.0
-
-Version 7.23.0 (14 Nov 2011)
-
-Dan Fandrich (14 Nov 2011)
-- curl_easy_setopt arguments should be of type long in the examples
-
-Daniel Stenberg (12 Nov 2011)
-- RELEASE-NOTES: synced with 10120e6a
-  
-  one more bug fix and contributor
-
-- progress_cb: avoid buffer overflow
-  
-  The progress bar output function would blindly use the terminal width
-  without bounds checking. When using a very wide terminal that caused a
-  buffer overflow and segfault.
-  
-  We now limit the max bar with to 255 columns, and I simplified the code
-  to avoid an extra snprintf and buffer.
-  
-  Bug: http://curl.haxx.se/bug/view.cgi?id=3435710
-  Reported by: Alexey Zakhlestin
-
-Yang Tse (11 Nov 2011)
-- Active mode FTP test cases with server not establishing data connection
-  
-  591 -> FTP multi PORT and 425 on upload
-  592 -> FTP multi PORT and 421 on upload
-  593 -> FTP multi PORT upload, no data conn and no transient neg. reply
-  594 -> FTP multi PORT upload, no data conn and no positive prelim. reply
-  
-  1206 -> FTP PORT and 425 on download
-  1207 -> FTP PORT and 421 on download
-  1208 -> FTP PORT download, no data conn and no transient negative reply
-  1209 -> FTP PORT download, no data conn and no positive preliminary reply
-
-Guenter Knauf (8 Nov 2011)
-- Fix to skip untrusted certs.
-
-Daniel Stenberg (6 Nov 2011)
-- RELEASE-NOTES: synced with e3166df1bb3
-  
-  4 new bugfixes, 2 more contributors
-
-- ftp PORT: don't hang if bind() fails
-  
-  When the user requests PORT with a specific port or port range, the code
-  could lock up in an endless loop. There's now an extra conditional that
-  makes sure to special treat the error and try the local address only
-  once so a second failure will abort the loop correctly.
-  
-  Bug: http://curl.haxx.se/bug/view.cgi?id=3433968
-  Reported by: Gokhan Sengun
-
-- pingpong: change two comments wrongly referring "FTP"
-  
-  Just a sign of where the code originally was ripped out from. Now it is
-  generic "pingpong".
-
-- test 590: verify the bug fix in 4851dafcf1
-  
-  This test is created to verify Rene Bernhardt's patch which makes sure
-  libcurl properly _not_ deals with Negotiate if not asked to even if the
-  proxy says it can serve it.
-
-- [Rene Bernhardt brought this change]
-
-  HTTP auth: fix proxy Negotiate bug
-  
-  If a proxy offers several Authentication schemes where NTLM and
-  Negotiate are offered by the proxy and you tell libcurl not to use the
-  Negotiate scheme then the request never returns when the proxy answers
-  with its HTTP 407 reply.
-  
-  It is reproducible by the following steps:
-  
-  - Use a proxy that offers NTLM and Negotiate ( CURLOPT_PROXY and
-  CURLOPT_PROXYPORT )
-  
-  - Tell libcurl NOT to use Negotiate CURL_EASY_SETOPT(CURLOPT_PROXYAUTH,
-  CURLAUTH_BASIC | CURLAUTH_DIGEST | CURLAUTH_NTLM )
-  
-  - Start the request
-  
-  The call to CURL_EASY_PERFORM never returns. If you switch on debug
-  logging you can see that libcurl issues a new request As soon as it
-  received the 407 reply. Instead it should return and set the response
-  code to 407.
-  
-  Bug: http://curl.haxx.se/mail/lib-2011-10/0323.html
-
-Yang Tse (4 Nov 2011)
-- ssluse.c: fix calling of OpenSSL's ERR_remove_state(0)
-  
-  Move calling of ERR_remove_state(0) a.k.a ERR_remove_thread_state(NULL)
-  from Curl_ossl_close_all() to Curl_ossl_cleanup().
-  
-  In this way ERR_remove_state(0) is now only called in libcurl by
-  curl_global_cleanup(). Previously it would get called by functions
-  curl_easy_cleanup(), curl_multi_cleanup and potentially each time a
-  connection was removed from a connection cache leading to premature
-  destruction of OpenSSL's thread local state hash.
-  
-  Multi-threaded apps using OpenSSL enabled libcurl should still call
-  function ERR_remove_state(0) or ERR_remove_thread_state(NULL) at the
-  very end end of threads that do not call curl_global_cleanup().
-
-- tool_cb_wrt.c: disambiguate warning message
-
-- tool_cfgable.c: pending check done
-
-- url.c and file.c: fix OOM triggered segfault
-
-Daniel Stenberg (3 Nov 2011)
-- rename ftp_ssl: the struct field is used for many protocols
-  
-  Now called 'use_ssl' instead, which better matches the current CURLOPT
-  name and since the option is used for all pingpong protocols (at least)
-  it makes sense to not use 'ftp' in the name.
-
-Yang Tse (2 Nov 2011)
-- [Daniel Stenberg brought this change]
-
-  gtls_connect_step1: remove use of deprecated functions
-  
-  Use gnutls_priority_set_direct() instead of gnutls_protocol_set_priority().
-  
-  Remove the gnutls_certificate_type_set_priority() use since x509 is the
-  default certificate type anyway.
-  
-  Reported by: Vincent Torri
-
-- url.c and transfer.c: nullify connection pointer when free()'ed
-
-- FTP test server: NODATACONN commands follow-up
-  
-  Make NODATACONN425 and NODATACONN421 return a 150 positive preliminary reply
-  before 425 or 421.
-  
-  New NODATACONN150 returns 150 without further positive nor negative reply
-  
-  Now NODATACONN doesn't reply anything at all.
-
-- multi.c: OOM handling fix
-
-- FTP test server: NODATACONN commands follow-up
-  
-  Make NODATACONN custom commands apply to both active and passive FTP,
-  and ensure 425 and 421 are not returned unless data channel usage is
-  attempted.
-
-- tool_cb_see.h: fix compiler warning
-
-- setup.h: fix compiler warning
-
-- FTP test server: NODATACONN commands commit c761fcb0 follow-up
-  
-  Adjustments that make NODATACONN custom commands fully usable.
-
-Daniel Stenberg (30 Oct 2011)
-- [Dave Reisner brought this change]
-
-  doc/curl.1: fix sentence with ending for -# option
-  
-  Try to be a little more descriptive about the effect of this flag,
-  rather than parroting what was said in the paragraph just above.
-
-Yang Tse (30 Oct 2011)
-- FTP test server: fix server unresponsiveness
-  
-  Some torture tests left FTP test server in an unresponsive state, resulting
-  in torture tests that actually completed following unexpected code paths.
-  
-  Changes in this commit solely address this issue and some adjustments for
-  ftpserver.pl logging relative to data channel establishment and tear down.
-  Pending NODATACONN relative adjustments reserved for a further commit.
-
-- runtests.pl: running server checks - commit 4464583a follow-up
-  
-  Ensure verification takes place with no server commands file.
-  Ignore verbose setting for running server precheck.
-  Tweak unresponsive server message, to allow detection by haxx.se scripts.
-
-- gtls.c: gnutls_transport_set_global_errno() deprecated in version 2.12.3
-
-- runtests.pl: running server checks - commit 3676ec96 follow-up
-  
-  Fix called sub when checking TFTP server, and adjust message.
-
-- runtests.pl: running server checks - commit 4464583a follow-up
-  
-  Extended server checks to others in addition to pingpong when torture testing.
-
-- lib589.c: add CURLOPT_READDATA missing stuff
-
-- ftpserver.pl: three new custom FTP server commands to disable data channel
-  
-  NODATACONN421: applies only to active FTP mode, instructs server to not
-  establish data connection back to client and reply with FTP 421.
-  
-  NODATACONN425: applies only to active FTP mode, instructs server to not
-  establish data connection back to client and reply with FTP 425.
-  
-  NODATACONN: applies to both active and passive FTP modes, instructs server
-  to not establish nor accept a data channel and fool client into believing
-  that the data channel connection is possible.
-  
-  Some polishing probably required.
-
-- multi.c: OOM handling fix
-  
-  Fix curl_multi_cleanup() segfault when using weird cleanup sequence.
-
-Daniel Stenberg (27 Oct 2011)
-- multi: start ftp state machine when switching to DO_MORE
-  
-  This extends the fix from commit d7934b8bd491
-  
-  When the multi state is changed within the multi_runsingle from DOING to
-  DO_MORE, we didn't immediately start the FTP state machine again. That
-  then left the FTP state in FTP_STOP. When curl_multi_fdset() was
-  subsequently called, the ftp_domore_getsock() function would return the
-  wrong fd info.
-  
-  Reported by: Gokhan Sengun
-
-- libcurl-multi.3: update the list of areas still blocking
-
-Yang Tse (26 Oct 2011)
-- test 589: active FTP upload using multi timeout and EPRT disabled server
-
-- multi tests: OOM handling fixes - commit 629d2e34 follow-up
-
-Patrick Monnerat (26 Oct 2011)
-- - Prepare the ILE/RPG binding and OS400 documentation for the upcoming release
-
-Daniel Stenberg (25 Oct 2011)
-- RELEASE-NOTES: synced with 4464583a6ed
-  
-  5 more bug fixes, 4 additional contributors
-
-Yang Tse (25 Oct 2011)
-- runtests.pl: running server checks
-  
-  When running torture tests, verify before each test case that required
-  pingpong servers which are supposed to be alive are actually responsive.
-  If found not responsive then restart them.
-
-Daniel Stenberg (24 Oct 2011)
-- dist: add test 587
-  
-  I created test 587 in commit 840eff44f2b but forgot to add the file to
-  the tarball. Added now.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/configure	2012-09-09 04:39:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/configure	2012-11-16 20:02:39.000000000 +0800
@@ -14717,13 +14717,13 @@
     test "$curl_cv_have_def___DECC_VER" = "yes"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
     compiler_id="DEC_C"
     flags_dbg_all="-g -g0 -g1 -g2 -g3"
     flags_dbg_yes="-g2"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -O4"
     flags_opt_yes="-O1"
     flags_opt_off="-O0"
   else
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
@@ -14941,13 +14941,13 @@
   fi
 
     if test "$curl_cv_have_def___unix__" = "yes"; then
       compiler_id="INTEL_UNIX_C"
       flags_dbg_all="-g -g0"
       flags_dbg_yes="-g"
-      flags_dbg_off="-g0"
+      flags_dbg_off=""
       flags_opt_all="-O -O0 -O1 -O2 -O3 -Os"
       flags_opt_yes="-O2"
       flags_opt_off="-O0"
     else
       compiler_id="INTEL_WINDOWS_C"
       flags_dbg_all="/ZI /Zi /zI /zi /ZD /Zd /zD /zd /Z7 /z7 /Oy /Oy-"
@@ -15026,13 +15026,13 @@
     flags_dbg_all="$flags_dbg_all -gstabs+"
     flags_dbg_all="$flags_dbg_all -gcoff"
     flags_dbg_all="$flags_dbg_all -gxcoff"
     flags_dbg_all="$flags_dbg_all -gdwarf-2"
     flags_dbg_all="$flags_dbg_all -gvms"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -Os -O3 -O4"
     flags_opt_yes="-Os"
     flags_opt_off="-O0"
   else
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
@@ -15096,13 +15096,13 @@
     flags_dbg_all="$flags_dbg_all -gstabs+"
     flags_dbg_all="$flags_dbg_all -gcoff"
     flags_dbg_all="$flags_dbg_all -gxcoff"
     flags_dbg_all="$flags_dbg_all -gdwarf-2"
     flags_dbg_all="$flags_dbg_all -gvms"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -Os"
     flags_opt_yes="-O2"
     flags_opt_off="-O0"
 
       if test -z "$SED"; then
     as_fn_error "SED not set. Cannot continue without SED being set." "$LINENO" 5
@@ -15334,13 +15334,13 @@
      test "$curl_cv_have_def__COMPILER_VERSION" = "yes"); then
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
     compiler_id="SGI_MIPSPRO_C"
     flags_dbg_all="-g -g0 -g1 -g2 -g3"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -Ofast"
     flags_opt_yes="-O2"
     flags_opt_off="-O0"
   else
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
@@ -15434,13 +15434,13 @@
     test "$compiler_id" = "unknown"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
     compiler_id="SGI_MIPS_C"
     flags_dbg_all="-g -g0 -g1 -g2 -g3"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -Ofast"
     flags_opt_yes="-O2"
     flags_opt_off="-O0"
   else
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/BUGS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/BUGS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/BUGS	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/BUGS	2012-11-14 05:02:15.000000000 +0800
@@ -32,15 +32,17 @@
 
   If you can't fix a bug yourself and submit a fix for it, try to report an as
   detailed report as possible to a curl mailing list to allow one of us to
   have a go at a solution. You can optionally also post your bug/problem at
   curl's bug tracking system over at
 
-        http://sourceforge.net/bugs/?group_id=976
+        http://sourceforge.net/tracker/?group_id=976&atid=100976
 
-  (but please read the sections below first before doing that)
+  Please read the rest of this document below first before doing that! Also,
+  you need to login to your sourceforge account before being able to submit a
+  bug report (necessary evil done to avoid spam).
 
   If you feel you need to ask around first, find a suitable mailing list and
   post there. The lists are available on http://curl.haxx.se/mail/
 
 1.3 What to report
 
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/curl-config.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/curl-config.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/curl.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/curl.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/evhiperfifo.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/evhiperfifo.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/evhiperfifo.c	2011-11-05 06:32:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/evhiperfifo.c	2012-11-14 05:02:15.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -333,13 +333,13 @@
     exit(2);
   }
   conn->global = g;
   conn->url = strdup(url);
   curl_easy_setopt(conn->easy, CURLOPT_URL, conn->url);
   curl_easy_setopt(conn->easy, CURLOPT_WRITEFUNCTION, write_cb);
-  curl_easy_setopt(conn->easy, CURLOPT_WRITEDATA, &conn);
+  curl_easy_setopt(conn->easy, CURLOPT_WRITEDATA, conn);
   curl_easy_setopt(conn->easy, CURLOPT_VERBOSE, 1L);
   curl_easy_setopt(conn->easy, CURLOPT_ERRORBUFFER, conn->error);
   curl_easy_setopt(conn->easy, CURLOPT_PRIVATE, conn);
   curl_easy_setopt(conn->easy, CURLOPT_NOPROGRESS, 0L);
   curl_easy_setopt(conn->easy, CURLOPT_PROGRESSFUNCTION, prog_cb);
   curl_easy_setopt(conn->easy, CURLOPT_PROGRESSDATA, conn);
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples: href_extractor.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/httpcustomheader.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/httpcustomheader.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/httpcustomheader.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/httpcustomheader.c	2012-11-14 05:02:15.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -50,9 +50,12 @@
     if(res != CURLE_OK)
       fprintf(stderr, "curl_easy_perform() failed: %s\n",
               curl_easy_strerror(res));
 
     /* always cleanup */
     curl_easy_cleanup(curl);
+
+    /* free the custom headers */
+    curl_slist_free_all(chunk);
   }
   return 0;
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/Makefile.am	2012-04-25 23:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/Makefile.am	2012-11-14 05:02:15.000000000 +0800
@@ -31,20 +31,19 @@
 # might possibly already be installed in the system.
 #
 # $(top_builddir)/include/curl for generated curlbuild.h included from curl.h
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
 
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include \
+              -DCURL_NO_OLDIES
 
 LIBDIR = $(top_builddir)/lib
 
-AM_CPPFLAGS = -DCURL_NO_OLDIES
-
 # Mostly for Windows build targets, when using static libcurl
 if USE_CPPFLAG_CURL_STATICLIB
 AM_CPPFLAGS += -DCURL_STATICLIB
 endif
 
 # Dependencies
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/Makefile.in	2012-09-09 04:39:40.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/Makefile.in	2012-11-16 20:02:40.000000000 +0800
@@ -530,28 +530,25 @@
 # being currently built and tested are searched before the library which
 # might possibly already be installed in the system.
 #
 # $(top_builddir)/include/curl for generated curlbuild.h included from curl.h
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include
-
+AM_CPPFLAGS = -I$(top_builddir)/include/curl -I$(top_builddir)/include \
+	-I$(top_srcdir)/include -DCURL_NO_OLDIES $(am__append_1)
 LIBDIR = $(top_builddir)/lib
-AM_CPPFLAGS = -DCURL_NO_OLDIES $(am__append_1)
 
 # Dependencies
 LDADD = $(LIBDIR)/libcurl.la
 
 # These examples require external dependencies that may not be commonly
 # available on POSIX systems, so don't bother attempting to compile them here.
 COMPLICATED_EXAMPLES = curlgtk.c curlx.c htmltitle.cc cacertinmem.c	   \
   ftpuploadresume.c ghiper.c hiperfifo.c htmltidy.c multithread.c	   \
   opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c \
-  smooth-gtk-thread.c version-check.pl
+  smooth-gtk-thread.c version-check.pl href_extractor.c
 
 all: all-am
 
 .SUFFIXES:
 .SUFFIXES: .c .lo .o .obj
 $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am $(srcdir)/Makefile.inc $(am__configure_deps)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/examples/Makefile.inc	2012-09-09 04:39:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/examples/Makefile.inc	2012-11-14 05:02:15.000000000 +0800
@@ -9,7 +9,7 @@
 
 # These examples require external dependencies that may not be commonly
 # available on POSIX systems, so don't bother attempting to compile them here.
 COMPLICATED_EXAMPLES = curlgtk.c curlx.c htmltitle.cc cacertinmem.c	   \
   ftpuploadresume.c ghiper.c hiperfifo.c htmltidy.c multithread.c	   \
   opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c \
-  smooth-gtk-thread.c version-check.pl
+  smooth-gtk-thread.c version-check.pl href_extractor.c
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_duphandle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_duphandle.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_escape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_escape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_getinfo.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_getinfo.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_pause.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_pause.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_perform.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_perform.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_recv.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_recv.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_reset.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_reset.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_send.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_send.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_setopt.3 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_setopt.3
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_setopt.3	2012-09-09 20:46:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_setopt.3	2012-11-14 05:02:15.000000000 +0800
@@ -2320,14 +2320,15 @@
 fails.
 
 Curl considers the server the intended one when the Common Name field or a
 Subject Alternate Name field in the certificate matches the host name in the
 URL to which you told Curl to connect.
 
-When the value is 1, the certificate must contain a Common Name field, but it
-doesn't matter what name it says.  (This is not ordinarily a useful setting).
+When the value is 1, libcurl will return a failure. It was previously (in
+7.28.0 and earlier) a debug option of some sorts, but it is no longer
+supported due to frequently leading to programmer mistakes.
 
 When the value is 0, the connection succeeds regardless of the names in the
 certificate.
 
 The default value for this option is 2.
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_setopt.html /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_setopt.html
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_setopt.html	2012-10-11 04:00:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_setopt.html	2012-11-20 15:12:56.000000000 +0800
@@ -842,13 +842,13 @@
 <p class="level0"><a name="CURLOPTSSLVERIFYHOST"></a><span class="nroffip">CURLOPT_SSL_VERIFYHOST</span> 
 <p class="level1">Pass a long as parameter. 
 <p class="level1">This option determines whether libcurl verifies that the server cert is for the server it is known as. 
 <p class="level1">When negotiating a SSL connection, the server sends a certificate indicating its identity. 
 <p class="level1">When <a class="emphasis" href="#CURLOPTSSLVERIFYHOST">CURLOPT_SSL_VERIFYHOST</a> is 2, that certificate must indicate that the server is the server to which you meant to connect, or the connection fails. 
 <p class="level1">Curl considers the server the intended one when the Common Name field or a Subject Alternate Name field in the certificate matches the host name in the URL to which you told Curl to connect. 
-<p class="level1">When the value is 1, the certificate must contain a Common Name field, but it doesn't matter what name it says.  (This is not ordinarily a useful setting). 
+<p class="level1">When the value is 1, libcurl will return a failure. It was previously (in 7.28.0 and earlier) a debug option of some sorts, but it is no longer supported due to frequently leading to programmer mistakes. 
 <p class="level1">When the value is 0, the connection succeeds regardless of the names in the certificate. 
 <p class="level1">The default value for this option is 2. 
 <p class="level1">This option controls checking the server's certificate's claimed identity. The server could be lying.  To control lying, see <a class="emphasis" href="#CURLOPTSSLVERIFYPEER">CURLOPT_SSL_VERIFYPEER</a>.  If libcurl is built against NSS and <a class="emphasis" href="#CURLOPTSSLVERIFYPEER">CURLOPT_SSL_VERIFYPEER</a> is zero, <a class="emphasis" href="#CURLOPTSSLVERIFYHOST">CURLOPT_SSL_VERIFYHOST</a> is ignored. 
 <p class="level1">
 <p class="level0"><a name="CURLOPTCERTINFO"></a><span class="nroffip">CURLOPT_CERTINFO</span> 
 <p class="level1">Pass a long set to 1 to enable libcurl's certificate chain info gatherer. With this enabled, libcurl (if built with OpenSSL) will extract lots of information and data about the certificates in the certificate chain used in the SSL connection. This data is then possible to extract after a transfer using <a class="emphasis" href="./curl_easy_getinfo.html">curl_easy_getinfo(3)</a> and its option <span Class="emphasis">CURLINFO_CERTINFO</span>. (Added in 7.19.1) 
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_setopt.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_setopt.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_strerror.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_strerror.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_easy_unescape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_easy_unescape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_escape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_escape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_formadd.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_formadd.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_formfree.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_formfree.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_formget.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_formget.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_free.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_free.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_getdate.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_getdate.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_getenv.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_getenv.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_global_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_global_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_global_init_mem.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_global_init_mem.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_global_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_global_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_mprintf.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_mprintf.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_add_handle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_add_handle.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_assign.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_assign.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_fdset.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_fdset.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_info_read.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_info_read.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_perform.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_perform.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_remove_handle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_remove_handle.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_setopt.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_setopt.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_socket_action.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_socket_action.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_socket.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_socket.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_strerror.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_strerror.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_timeout.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_timeout.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_multi_wait.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_multi_wait.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_share_cleanup.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_share_cleanup.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_share_init.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_share_init.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_share_setopt.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_share_setopt.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_share_strerror.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_share_strerror.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_slist_append.pdf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_slist_append.pdf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_slist_append.pdf	2012-10-11 04:00:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_slist_append.pdf	2012-11-20 15:13:03.000000000 +0800
@@ -68,29 +68,29 @@
 <</Type/Metadata
 /Subtype/XML/Length 1344>>stream
 <?xpacket begin='﻿' id='W5M0MpCehiHzreSzNTczkc9d'?>
 <?adobe-xap-filters esc="CRLF"?>
 <x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
 <rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
-<rdf:Description rdf:about='uuid:aa7305f0-4b31-11ed-0000-56466e45d3dc' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 9.05'/>
-<rdf:Description rdf:about='uuid:aa7305f0-4b31-11ed-0000-56466e45d3dc' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2012-10-10T22:00:19+02:00</xmp:ModifyDate>
-<xmp:CreateDate>2012-10-10T22:00:19+02:00</xmp:CreateDate>
+<rdf:Description rdf:about='uuid:45cb2c83-6afe-11ed-0000-56466e45d3dc' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 9.05'/>
+<rdf:Description rdf:about='uuid:45cb2c83-6afe-11ed-0000-56466e45d3dc' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2012-11-20T08:13:03+01:00</xmp:ModifyDate>
+<xmp:CreateDate>2012-11-20T08:13:03+01:00</xmp:CreateDate>
 <xmp:CreatorTool>groff version 1.21</xmp:CreatorTool></rdf:Description>
-<rdf:Description rdf:about='uuid:aa7305f0-4b31-11ed-0000-56466e45d3dc' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='uuid:aa7305f0-4b31-11ed-0000-56466e45d3dc'/>
-<rdf:Description rdf:about='uuid:aa7305f0-4b31-11ed-0000-56466e45d3dc' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
+<rdf:Description rdf:about='uuid:45cb2c83-6afe-11ed-0000-56466e45d3dc' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='uuid:45cb2c83-6afe-11ed-0000-56466e45d3dc'/>
+<rdf:Description rdf:about='uuid:45cb2c83-6afe-11ed-0000-56466e45d3dc' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
 </rdf:RDF>
 </x:xmpmeta>
                                                                         
                                                                         
 <?xpacket end='w'?>
 endstream
 endobj
 2 0 obj
 <</Producer(GPL Ghostscript 9.05)
-/CreationDate(D:20121010220019+02'00')
-/ModDate(D:20121010220019+02'00')
+/CreationDate(D:20121120081303+01'00')
+/ModDate(D:20121120081303+01'00')
 /Creator(groff version 1.21)>>endobj
 xref
 0 15
 0000000000 65535 f 
 0000001329 00000 n 
 0000003207 00000 n 
@@ -105,11 +105,11 @@
 0000001435 00000 n 
 0000001465 00000 n 
 0000001730 00000 n 
 0000001786 00000 n 
 trailer
 << /Size 15 /Root 1 0 R /Info 2 0 R
-/ID [<7CD203899F8516708384494A03BB0979><7CD203899F8516708384494A03BB0979>]
+/ID [<9709D44003506DE970347A4DA3975767><9709D44003506DE970347A4DA3975767>]
 >>
 startxref
 3359
 %%EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_slist_free_all.pdf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_slist_free_all.pdf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_slist_free_all.pdf	2012-10-11 04:00:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_slist_free_all.pdf	2012-11-20 15:13:04.000000000 +0800
@@ -60,29 +60,29 @@
 <</Type/Metadata
 /Subtype/XML/Length 1344>>stream
 <?xpacket begin='﻿' id='W5M0MpCehiHzreSzNTczkc9d'?>
 <?adobe-xap-filters esc="CRLF"?>
 <x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
 <rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
-<rdf:Description rdf:about='uuid:ab0b9c70-4b31-11ed-0000-cca2e83eacbc' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 9.05'/>
-<rdf:Description rdf:about='uuid:ab0b9c70-4b31-11ed-0000-cca2e83eacbc' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2012-10-10T22:00:20+02:00</xmp:ModifyDate>
-<xmp:CreateDate>2012-10-10T22:00:20+02:00</xmp:CreateDate>
+<rdf:Description rdf:about='uuid:4663c303-6afe-11ed-0000-cca2e83eacbc' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='GPL Ghostscript 9.05'/>
+<rdf:Description rdf:about='uuid:4663c303-6afe-11ed-0000-cca2e83eacbc' xmlns:xmp='http://ns.adobe.com/xap/1.0/'><xmp:ModifyDate>2012-11-20T08:13:04+01:00</xmp:ModifyDate>
+<xmp:CreateDate>2012-11-20T08:13:04+01:00</xmp:CreateDate>
 <xmp:CreatorTool>groff version 1.21</xmp:CreatorTool></rdf:Description>
-<rdf:Description rdf:about='uuid:ab0b9c70-4b31-11ed-0000-cca2e83eacbc' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='uuid:ab0b9c70-4b31-11ed-0000-cca2e83eacbc'/>
-<rdf:Description rdf:about='uuid:ab0b9c70-4b31-11ed-0000-cca2e83eacbc' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
+<rdf:Description rdf:about='uuid:4663c303-6afe-11ed-0000-cca2e83eacbc' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='uuid:4663c303-6afe-11ed-0000-cca2e83eacbc'/>
+<rdf:Description rdf:about='uuid:4663c303-6afe-11ed-0000-cca2e83eacbc' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Untitled</rdf:li></rdf:Alt></dc:title></rdf:Description>
 </rdf:RDF>
 </x:xmpmeta>
                                                                         
                                                                         
 <?xpacket end='w'?>
 endstream
 endobj
 2 0 obj
 <</Producer(GPL Ghostscript 9.05)
-/CreationDate(D:20121010220020+02'00')
-/ModDate(D:20121010220020+02'00')
+/CreationDate(D:20121120081304+01'00')
+/ModDate(D:20121120081304+01'00')
 /Creator(groff version 1.21)>>endobj
 xref
 0 14
 0000000000 65535 f 
 0000000867 00000 n 
 0000002673 00000 n 
@@ -96,11 +96,11 @@
 0000001053 00000 n 
 0000000973 00000 n 
 0000001003 00000 n 
 0000001252 00000 n 
 trailer
 << /Size 14 /Root 1 0 R /Info 2 0 R
-/ID [<005F4348800A83F44446D2A12B397277><005F4348800A83F44446D2A12B397277>]
+/ID [<EACAF7D10ABAF59517AC4CC3832D1CCE><EACAF7D10ABAF59517AC4CC3832D1CCE>]
 >>
 startxref
 2825
 %%EOF
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_strequal.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_strequal.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_unescape.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_unescape.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_version_info.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_version_info.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/curl_version.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/curl_version.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/libcurl-easy.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/libcurl-easy.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/libcurl-errors.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/libcurl-errors.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/libcurl-multi.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/libcurl-multi.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/libcurl.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/libcurl.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/libcurl-share.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/libcurl-share.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/libcurl/libcurl-tutorial.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/libcurl/libcurl-tutorial.pdf differ
Binary files /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/mk-ca-bundle.pdf and /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/mk-ca-bundle.pdf differ
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/THANKS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/THANKS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/docs/THANKS	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/docs/THANKS	2012-11-14 05:02:15.000000000 +0800
@@ -204,12 +204,13 @@
 Dave Hamilton
 Dave May
 Dave Reisner
 Dave Vasilevsky
 David Bau
 David Binderman
+David Blaikie
 David Byron
 David Cohen
 David Eriksson
 David Houlder
 David Hull
 David J Meyer
@@ -260,12 +261,13 @@
 Dylan Ellicott
 Dylan Salisbury
 Early Ehlinger
 Ebenezer Ikonne
 Edin Kadribasic
 Eduard Bloch
+Edward Sheldrake
 Eelco Dolstra
 Eetu Ojanen
 Ellis Pritchard
 Emanuele Bovisio
 Emil Romanus
 Emiliano Ida
@@ -299,12 +301,13 @@
 Frank Hempel
 Frank Keeney
 Frank McGeough
 Frank Meier
 Frank Ticheler
 Frank Van Uffelen
+František Kučera
 Fred Machado
 Fred New
 Fred Noz
 Frederic Lepied
 Gabriel Kuri
 Garrett Holmstrom
@@ -357,12 +360,13 @@
 Heinrich Ko
 Hendrik Visage
 Henrik Storner
 Henry Ludemann
 Herve Amblard
 Hidemoto Nakada
+Ho-chi Chen
 Hoi-Ho Chan
 Hongli Lai
 Howard Chu
 Hzhijun
 Ian D Allen
 Ian Ford
@@ -394,12 +398,13 @@
 James Housley
 James MacMillan
 Jamie Lokier
 Jamie Newton
 Jamie Wilkinson
 Jan Ehrhardt
+Jan Koen Annot
 Jan Kunder
 Jan Schaumann
 Jan Van Boghout
 Jared Lundell
 Jari Sundell
 Jason Glasgow
@@ -425,19 +430,21 @@
 Jerome Muffat-Meridol
 Jerome Vouillon
 Jerry Wu
 Jes Badwal
 Jesper Jensen
 Jesse Noller
+Jie He
 Jim Drash
 Jim Freeman
 Jim Hollinger
 Jim Meyering
 Jocelyn Jaubert
 Joe Halpin
 Joe Malicki
+Joe Mason
 Joel Chen
 Jofell Gallardo
 Johan Anderson
 Johan Nilsson
 Johan van Selst
 Johannes Bauer
@@ -576,12 +583,13 @@
 Mark Davies
 Mark Eichin
 Mark Incley
 Mark Karpeles
 Mark Lentczner
 Mark Salisbury
+Mark Tully
 Markus Duft
 Markus Koetter
 Markus Moeller
 Markus Oberhumer
 Martijn Koster
 Martin C. Martin
@@ -609,12 +617,13 @@
 Maurice Barnum
 Mauro Iorio
 Max Katsev
 Maxim Ivanov
 Maxim Perenesenko
 Maxim Prohorov
+Maxime Larocque
 Mehmet Bozkurt
 Mekonikum
 Mettgut Jamalla
 Michael Benedict
 Michael Calmer
 Michael Cronenworth
@@ -677,12 +686,13 @@
 Norbert Frese
 Norbert Novotny
 Ofer
 Olaf Flebbe
 Olaf Stueben
 Olaf Stüben
+Olivier Berger
 Oren Tirosh
 Ori Avtalion
 P R Schaffner
 Paolo Piacentini
 Pascal Terjan
 Pasha Kuznetsov
@@ -820,19 +830,22 @@
 Samuel Listopad
 Samuel Thibault
 Sander Gates
 Sandor Feldi
 Santhana Todatry
 Saqib Ali
+Sara Golemon
 Saul good
+Scott Bailey
 Scott Barrett
 Scott Cantor
 Scott Davis
 Scott McCreary
 Sebastien Willemijns
 Senthil Raja Velu
+Sergei Nikulov
 Sergio Ballestrero
 Seshubabu Pasam
 Sh Diao
 Sharad Gupta
 Shard
 Shawn Poulson
@@ -910,12 +923,13 @@
 Tom Mattison
 Tom Moers
 Tom Mueller
 Tom Regner
 Tom Wright
 Tom Zerucha
+Tomas Mlcoch
 Tomas Pospisek
 Tomas Szepe
 Tomasz Lacki
 Tommie Gannert
 Tommy Tam
 Ton Voon
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/include/curl/curlver.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/include/curl/curlver.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/include/curl/curlver.h	2012-10-11 04:00:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/include/curl/curlver.h	2012-11-20 15:13:32.000000000 +0800
@@ -27,19 +27,19 @@
 
 /* This is the global package copyright */
 #define LIBCURL_COPYRIGHT "1996 - 2012 Daniel Stenberg, <daniel@haxx.se>."
 
 /* This is the version number of the libcurl package from which this header
    file origins: */
-#define LIBCURL_VERSION "7.28.0"
+#define LIBCURL_VERSION "7.28.1"
 
 /* The numeric version number is also available "in parts" by using these
    defines: */
 #define LIBCURL_VERSION_MAJOR 7
 #define LIBCURL_VERSION_MINOR 28
-#define LIBCURL_VERSION_PATCH 0
+#define LIBCURL_VERSION_PATCH 1
 
 /* This is the numeric version of the libcurl version number, meant for easier
    parsing and comparions by programs. The LIBCURL_VERSION_NUM define will
    always follow this syntax:
 
          0xXXYYZZ
@@ -50,20 +50,20 @@
    appears as "0x090b07".
 
    This 6-digit (24 bits) hexadecimal number does not show pre-release number,
    and it is always a greater number in a more recent release. It makes
    comparisons with greater than and less than work.
 */
-#define LIBCURL_VERSION_NUM 0x071c00
+#define LIBCURL_VERSION_NUM 0x071c01
 
 /*
  * This is the date and time when the full source package was created. The
  * timestamp is not stored in git, as the timestamp is properly set in the
  * tarballs by the maketgz script.
  *
  * The format of the date should follow this template:
  *
  * "Mon Feb 12 11:35:33 UTC 2007"
  */
-#define LIBCURL_TIMESTAMP "Wed Oct 10 19:59:18 UTC 2012"
+#define LIBCURL_TIMESTAMP "Tue Nov 20 07:12:05 UTC 2012"
 
 #endif /* __CURL_CURLVER_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/include/curl/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/include/curl/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/include/curl/Makefile.in	2012-09-09 04:39:40.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/include/curl/Makefile.in	2012-11-16 20:02:40.000000000 +0800
@@ -331,15 +331,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  include/curl/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  include/curl/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  include/curl/Makefile
+	  $(AUTOMAKE) --gnu  include/curl/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/asyn-ares.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/asyn-ares.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/asyn-ares.c	2012-04-25 23:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/asyn-ares.c	2012-11-14 05:02:15.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -80,12 +80,14 @@
 
 #  if defined(CURL_STATICLIB) && !defined(CARES_STATICLIB) && \
      (defined(WIN32) || defined(_WIN32) || defined(__SYMBIAN32__))
 #    define CARES_STATICLIB
 #  endif
 #  include <ares.h>
+#  include <ares_version.h> /* really old c-ares didn't include this by
+                               itself */
 
 #if ARES_VERSION >= 0x010500
 /* c-ares 1.5.0 or later, the callback proto is modified */
 #define HAVE_CARES_CALLBACK_TIMEOUTS 1
 #endif
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/axtls.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/axtls.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/axtls.c	2012-03-09 03:35:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/axtls.c	2012-11-14 05:02:15.000000000 +0800
@@ -44,12 +44,14 @@
 #include "select.h"
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 #include "curl_memory.h"
 /* The last #include file should be: */
 #include "memdebug.h"
+#include "hostcheck.h"
+
 
 /* SSL_read is opied from axTLS compat layer */
 static int SSL_read(SSL *ssl, void *buf, int num)
 {
   uint8_t *read_buf;
   int ret;
@@ -147,13 +149,17 @@
   SSL *ssl;
   int cert_types[] = {SSL_OBJ_X509_CERT, SSL_OBJ_PKCS12, 0};
   int key_types[] = {SSL_OBJ_RSA_KEY, SSL_OBJ_PKCS8, SSL_OBJ_PKCS12, 0};
   int i, ssl_fcn_return;
   const uint8_t *ssl_sessionid;
   size_t ssl_idsize;
-  const char *x509;
+  const char *peer_CN;
+  uint32_t dns_altname_index;
+  const char *dns_altname;
+  int8_t found_subject_alt_names = 0;
+  int8_t found_subject_alt_name_matching_conn = 0;
 
   /* Assuming users will not compile in custom key/cert to axTLS */
   uint32_t client_option = SSL_NO_DEFAULT_KEY|SSL_SERVER_VERIFY_LATER;
 
   if(conn->ssl[sockindex].state == ssl_connection_complete)
     /* to make us tolerant against being called more than once for the
@@ -293,25 +299,71 @@
   else
     infof(data, "\t server certificate verification SKIPPED\n");
 
   /* Here, gtls.c does issuer verification. axTLS has no straightforward
    * equivalent, so omitting for now.*/
 
-  /* See if common name was set in server certificate */
-  x509 = ssl_get_cert_dn(ssl, SSL_X509_CERT_COMMON_NAME);
-  if(x509 == NULL)
-    infof(data, "error fetching CN from cert\n");
-
   /* Here, gtls.c does the following
    * 1) x509 hostname checking per RFC2818.  axTLS doesn't support this, but
-   *    it seems useful.  Omitting for now.
+   *    it seems useful. This is now implemented, by Oscar Koeroo
    * 2) checks cert validity based on time.  axTLS does this in ssl_verify_cert
    * 3) displays a bunch of cert information.  axTLS doesn't support most of
    *    this, but a couple fields are available.
    */
 
+
+  /* There is no (DNS) Altnames count in the version 1.4.8 API. There is a
+     risk of an inifite loop */
+  for(dns_altname_index = 0; ; dns_altname_index++) {
+    dns_altname = ssl_get_cert_subject_alt_dnsname(ssl, dns_altname_index);
+    if(dns_altname == NULL) {
+      break;
+    }
+    found_subject_alt_names = 1;
+
+    infof(data, "\tComparing subject alt name DNS with hostname: %s <-> %s\n",
+          dns_altname, conn->host.name);
+    if(Curl_cert_hostcheck(dns_altname, conn->host.name)) {
+      found_subject_alt_name_matching_conn = 1;
+      break;
+    }
+  }
+
+  /* RFC2818 checks */
+  if(found_subject_alt_names && !found_subject_alt_name_matching_conn) {
+    /* Break connection ! */
+    Curl_axtls_close(conn, sockindex);
+    failf(data, "\tsubjectAltName(s) do not match %s\n", conn->host.dispname);
+    return CURLE_PEER_FAILED_VERIFICATION;
+  }
+  else if(found_subject_alt_names == 0) {
+    /* Per RFC2818, when no Subject Alt Names were available, examine the peer
+       CN as a legacy fallback */
+    peer_CN = ssl_get_cert_dn(ssl, SSL_X509_CERT_COMMON_NAME);
+    if(peer_CN == NULL) {
+      /* Similar behaviour to the OpenSSL interface */
+      Curl_axtls_close(conn, sockindex);
+      failf(data, "unable to obtain common name from peer certificate");
+      return CURLE_PEER_FAILED_VERIFICATION;
+    }
+    else {
+      if(!Curl_cert_hostcheck((const char *)peer_CN, conn->host.name)) {
+        if(data->set.ssl.verifyhost) {
+          /* Break connection ! */
+          Curl_axtls_close(conn, sockindex);
+          failf(data, "\tcommon name \"%s\" does not match \"%s\"\n",
+                peer_CN, conn->host.dispname);
+          return CURLE_PEER_FAILED_VERIFICATION;
+        }
+        else
+          infof(data, "\tcommon name \"%s\" does not match \"%s\"\n",
+                peer_CN, conn->host.dispname);
+      }
+    }
+  }
+
   /* General housekeeping */
   conn->ssl[sockindex].state = ssl_connection_complete;
   conn->ssl[sockindex].ssl = ssl;
   conn->ssl[sockindex].ssl_ctx = ssl_ctx;
   conn->recv[sockindex] = axtls_recv;
   conn->send[sockindex] = axtls_send;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/connect.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/connect.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/connect.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/connect.c	2012-11-14 05:02:15.000000000 +0800
@@ -1098,13 +1098,15 @@
   }  /* end of connect-to-each-address loop */
 
   *sockconn = sockfd;    /* the socket descriptor we've connected */
 
   if(sockfd == CURL_SOCKET_BAD) {
     /* no good connect was made */
-    failf(data, "couldn't connect to host");
+    failf(data, "couldn't connect to %s at %s:%d",
+          conn->bits.proxy?"proxy":"host",
+          conn->bits.proxy?conn->proxy.name:conn->host.name, conn->port);
     return CURLE_COULDNT_CONNECT;
   }
 
   /* leave the socket in non-blocking mode */
 
   /* store the address we use */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/curl_darwinssl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/curl_darwinssl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/curl_darwinssl.c	2012-09-09 04:39:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/curl_darwinssl.c	2012-11-14 05:02:15.000000000 +0800
@@ -263,12 +263,50 @@
     case SSL_FORTEZZA_DMS_WITH_NULL_SHA:
       return "SSL_FORTEZZA_DMS_WITH_NULL_SHA";
       break;
     case SSL_FORTEZZA_DMS_WITH_FORTEZZA_CBC_SHA:
       return "SSL_FORTEZZA_DMS_WITH_FORTEZZA_CBC_SHA";
       break;
+    /* TLS 1.0 with AES (RFC 3268)
+       (Apparently these are used in SSLv3 implementations as well.) */
+    case TLS_RSA_WITH_AES_128_CBC_SHA:
+      return "TLS_RSA_WITH_AES_128_CBC_SHA";
+      break;
+    case TLS_DH_DSS_WITH_AES_128_CBC_SHA:
+      return "TLS_DH_DSS_WITH_AES_128_CBC_SHA";
+      break;
+    case TLS_DH_RSA_WITH_AES_128_CBC_SHA:
+      return "TLS_DH_RSA_WITH_AES_128_CBC_SHA";
+      break;
+    case TLS_DHE_DSS_WITH_AES_128_CBC_SHA:
+      return "TLS_DHE_DSS_WITH_AES_128_CBC_SHA";
+      break;
+    case TLS_DHE_RSA_WITH_AES_128_CBC_SHA:
+      return "TLS_DHE_RSA_WITH_AES_128_CBC_SHA";
+      break;
+    case TLS_DH_anon_WITH_AES_128_CBC_SHA:
+      return "TLS_DH_anon_WITH_AES_128_CBC_SHA";
+      break;
+    case TLS_RSA_WITH_AES_256_CBC_SHA:
+      return "TLS_RSA_WITH_AES_256_CBC_SHA";
+      break;
+    case TLS_DH_DSS_WITH_AES_256_CBC_SHA:
+      return "TLS_DH_DSS_WITH_AES_256_CBC_SHA";
+      break;
+    case TLS_DH_RSA_WITH_AES_256_CBC_SHA:
+      return "TLS_DH_RSA_WITH_AES_256_CBC_SHA";
+      break;
+    case TLS_DHE_DSS_WITH_AES_256_CBC_SHA:
+      return "TLS_DHE_DSS_WITH_AES_256_CBC_SHA";
+      break;
+    case TLS_DHE_RSA_WITH_AES_256_CBC_SHA:
+      return "TLS_DHE_RSA_WITH_AES_256_CBC_SHA";
+      break;
+    case TLS_DH_anon_WITH_AES_256_CBC_SHA:
+      return "TLS_DH_anon_WITH_AES_256_CBC_SHA";
+      break;
     /* SSL version 2.0 */
     case SSL_RSA_WITH_RC2_CBC_MD5:
       return "SSL_RSA_WITH_RC2_CBC_MD5";
       break;
     case SSL_RSA_WITH_IDEA_CBC_MD5:
       return "SSL_RSA_WITH_IDEA_CBC_MD5";
@@ -591,13 +629,12 @@
 static CURLcode darwinssl_connect_step1(struct connectdata *conn,
                                         int sockindex)
 {
   struct SessionHandle *data = conn->data;
   curl_socket_t sockfd = conn->sock[sockindex];
   struct ssl_connect_data *connssl = &conn->ssl[sockindex];
-  bool sni = true;
 #ifdef ENABLE_IPV6
   struct in6_addr addr;
 #else
   struct in_addr addr;
 #endif
   /*SSLConnectionRef ssl_connection;*/
@@ -611,21 +648,22 @@
     if(!connssl->ssl_ctx) {
       failf(data, "SSL: couldn't create a context!");
       return CURLE_OUT_OF_MEMORY;
     }
   }
   else {
-#if TARGET_OS_EMBEDDED == 0 /* the older API does not exist on iOS */
+  /* The old ST API does not exist under iOS, so don't compile it: */
+#if (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE))
     if(connssl->ssl_ctx)
       (void)SSLDisposeContext(connssl->ssl_ctx);
     err = SSLNewContext(false, &(connssl->ssl_ctx));
     if(err != noErr) {
       failf(data, "SSL: couldn't create a context: OSStatus %d", err);
       return CURLE_OUT_OF_MEMORY;
     }
-#endif /* TARGET_OS_EMBEDDED == 0 */
+#endif /* (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE)) */
   }
 #else
   if(connssl->ssl_ctx)
     (void)SSLDisposeContext(connssl->ssl_ctx);
   err = SSLNewContext(false, &(connssl->ssl_ctx));
   if(err != noErr) {
@@ -653,13 +691,13 @@
       case CURL_SSLVERSION_SSLv2:
         (void)SSLSetProtocolVersionMin(connssl->ssl_ctx, kSSLProtocol2);
         (void)SSLSetProtocolVersionMax(connssl->ssl_ctx, kSSLProtocol2);
     }
   }
   else {
-#if TARGET_OS_EMBEDDED == 0
+#if (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE))
     (void)SSLSetProtocolVersionEnabled(connssl->ssl_ctx,
                                        kSSLProtocolAll,
                                        false);
     switch (data->set.ssl.version) {
       case CURL_SSLVERSION_DEFAULT: default:
         (void)SSLSetProtocolVersionEnabled(connssl->ssl_ctx,
@@ -694,13 +732,13 @@
       case CURL_SSLVERSION_SSLv2:
         (void)SSLSetProtocolVersionEnabled(connssl->ssl_ctx,
                                            kSSLProtocol2,
                                            true);
         break;
     }
-#endif  /* TARGET_OS_EMBEDDED == 0 */
+#endif  /* (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE)) */
   }
 #else
   (void)SSLSetProtocolVersionEnabled(connssl->ssl_ctx, kSSLProtocolAll, false);
   switch(data->set.ssl.version) {
     default:
     case CURL_SSLVERSION_DEFAULT:
@@ -744,36 +782,38 @@
     if(err != noErr) {
       failf(data, "SSL: SSLSetSessionOption() failed: OSStatus %d", err);
       return CURLE_SSL_CONNECT_ERROR;
     }
   }
   else {
-#if TARGET_OS_EMBEDDED == 0
+#if (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE))
     err = SSLSetEnableCertVerify(connssl->ssl_ctx,
                                  data->set.ssl.verifypeer?true:false);
     if(err != noErr) {
       failf(data, "SSL: SSLSetEnableCertVerify() failed: OSStatus %d", err);
       return CURLE_SSL_CONNECT_ERROR;
     }
-#endif /* TARGET_OS_EMBEDDED == 0 */
+#endif /* (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE)) */
   }
 #else
   err = SSLSetEnableCertVerify(connssl->ssl_ctx,
                                data->set.ssl.verifypeer?true:false);
   if(err != noErr) {
     failf(data, "SSL: SSLSetEnableCertVerify() failed: OSStatus %d", err);
     return CURLE_SSL_CONNECT_ERROR;
   }
 #endif /* defined(__MAC_10_6) || defined(__IPHONE_5_0) */
 
+  /* If this is a domain name and not an IP address, then configure SNI.
+   * Also: the verifyhost setting influences SNI usage */
   /* If this is a domain name and not an IP address, then configure SNI: */
   if((0 == Curl_inet_pton(AF_INET, conn->host.name, &addr)) &&
 #ifdef ENABLE_IPV6
      (0 == Curl_inet_pton(AF_INET6, conn->host.name, &addr)) &&
 #endif
-     sni) {
+     data->set.ssl.verifyhost) {
     err = SSLSetPeerDomainName(connssl->ssl_ctx, conn->host.name,
                                strlen(conn->host.name));
     if(err != noErr) {
       infof(data, "WARNING: SSL: SSLSetPeerDomainName() failed: OSStatus %d",
             err);
     }
@@ -821,31 +861,33 @@
   if(err != noErr) {
     switch (err) {
       case errSSLWouldBlock:  /* they're not done with us yet */
         connssl->connecting_state = connssl->ssl_direction ?
             ssl_connect_2_writing : ssl_connect_2_reading;
         return CURLE_OK;
-        break;
 
       case errSSLServerAuthCompleted:
         /* the documentation says we need to call SSLHandshake() again */
         return darwinssl_connect_step2(conn, sockindex);
 
       case errSSLXCertChainInvalid:
       case errSSLUnknownRootCert:
       case errSSLNoRootCert:
       case errSSLCertExpired:
         failf(data, "SSL certificate problem: OSStatus %d", err);
         return CURLE_SSL_CACERT;
-        break;
+
+      case errSSLHostNameMismatch:
+        failf(data, "SSL certificate peer verification failed, the "
+              "certificate did not match \"%s\"\n", conn->host.dispname);
+        return CURLE_PEER_FAILED_VERIFICATION;
 
       default:
         failf(data, "Unknown SSL protocol error in connection to %s:%d",
               conn->host.name, err);
         return CURLE_SSL_CONNECT_ERROR;
-        break;
     }
   }
   else {
     /* we have been connected fine, we're not waiting for anything else. */
     connssl->connecting_state = ssl_connect_3;
 
@@ -899,20 +941,47 @@
   SecTrustRef trust;
 
   /* There is no step 3!
    * Well, okay, if verbose mode is on, let's print the details of the
    * server certificates. */
 #if defined(__MAC_10_7) || defined(__IPHONE_5_0)
+#if (TARGET_OS_EMBEDDED || TARGET_OS_IPHONE)
+#pragma unused(server_certs)
+  err = SSLCopyPeerTrust(connssl->ssl_ctx, &trust);
+  if(err == noErr) {
+    count = SecTrustGetCertificateCount(trust);
+    for(i = 0L ; i < count ; i++) {
+      server_cert = SecTrustGetCertificateAtIndex(trust, i);
+      server_cert_summary = SecCertificateCopySubjectSummary(server_cert);
+      memset(server_cert_summary_c, 0, 128);
+      if(CFStringGetCString(server_cert_summary,
+                            server_cert_summary_c,
+                            128,
+                            kCFStringEncodingUTF8)) {
+        infof(data, "Server certificate: %s\n", server_cert_summary_c);
+      }
+      CFRelease(server_cert_summary);
+    }
+    CFRelease(trust);
+  }
+#else
+  /* SSLCopyPeerCertificates() is deprecated as of Mountain Lion.
+     The function SecTrustGetCertificateAtIndex() is officially present
+     in Lion, but it is unfortunately also present in Snow Leopard as
+     private API and doesn't work as expected. So we have to look for
+     a different symbol to make sure this code is only executed under
+     Lion or later. */
   if(SecTrustEvaluateAsync != NULL) {
 #pragma unused(server_certs)
     err = SSLCopyPeerTrust(connssl->ssl_ctx, &trust);
     if(err == noErr) {
       count = SecTrustGetCertificateCount(trust);
       for(i = 0L ; i < count ; i++) {
         server_cert = SecTrustGetCertificateAtIndex(trust, i);
-        server_cert_summary = SecCertificateCopySubjectSummary(server_cert);
+        server_cert_summary =
+          SecCertificateCopyLongDescription(NULL, server_cert, NULL);
         memset(server_cert_summary_c, 0, 128);
         if(CFStringGetCString(server_cert_summary,
                               server_cert_summary_c,
                               128,
                               kCFStringEncodingUTF8)) {
           infof(data, "Server certificate: %s\n", server_cert_summary_c);
@@ -920,13 +989,12 @@
         CFRelease(server_cert_summary);
       }
       CFRelease(trust);
     }
   }
   else {
-#if TARGET_OS_EMBEDDED == 0
     err = SSLCopyPeerCertificates(connssl->ssl_ctx, &server_certs);
     if(err == noErr) {
       count = CFArrayGetCount(server_certs);
       for(i = 0L ; i < count ; i++) {
         server_cert = (SecCertificateRef)CFArrayGetValueAtIndex(server_certs,
                                                                 i);
@@ -940,14 +1008,14 @@
           infof(data, "Server certificate: %s\n", server_cert_summary_c);
         }
         CFRelease(server_cert_summary);
       }
       CFRelease(server_certs);
     }
-#endif /* TARGET_OS_EMBEDDED == 0 */
   }
+#endif /* (TARGET_OS_EMBEDDED || TARGET_OS_IPHONE) */
 #else
 #pragma unused(trust)
   err = SSLCopyPeerCertificates(connssl->ssl_ctx, &server_certs);
   if(err == noErr) {
     count = CFArrayGetCount(server_certs);
     for(i = 0L ; i < count ; i++) {
@@ -1117,16 +1185,16 @@
 
   if(connssl->ssl_ctx) {
     (void)SSLClose(connssl->ssl_ctx);
 #if defined(__MAC_10_8) || defined(__IPHONE_5_0)
     if(SSLCreateContext != NULL)
       CFRelease(connssl->ssl_ctx);
-#if TARGET_OS_EMBEDDED == 0
+#if (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE))
     else
       (void)SSLDisposeContext(connssl->ssl_ctx);
-#endif  /* TARGET_OS_EMBEDDED == 0 */
+#endif  /* (TARGET_OS_MAC && !(TARGET_OS_EMBEDDED || TARGET_OS_IPHONE)) */
 #else
     (void)SSLDisposeContext(connssl->ssl_ctx);
 #endif /* defined(__MAC_10_8) || defined(__IPHONE_5_0) */
     connssl->ssl_ctx = NULL;
   }
   connssl->ssl_sockfd = 0;
@@ -1308,12 +1376,17 @@
     switch (err) {
       case errSSLWouldBlock:  /* we're not done yet; keep reading */
         *curlcode = CURLE_AGAIN;
         return -1;
         break;
 
+      case errSSLClosedGraceful: /* they're done; fail gracefully */
+        *curlcode = CURLE_OK;
+        return -1;
+        break;
+
       default:
         failf(conn->data, "SSLRead() return error %d", err);
         *curlcode = CURLE_RECV_ERROR;
         return -1;
         break;
     }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/curl_schannel.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/curl_schannel.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/curl_schannel.c	2012-10-08 19:36:33.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/curl_schannel.c	2012-11-14 05:02:15.000000000 +0800
@@ -153,20 +153,28 @@
       schannel_cred.dwFlags = SCH_CRED_MANUAL_CRED_VALIDATION |
                               SCH_CRED_IGNORE_NO_REVOCATION_CHECK |
                               SCH_CRED_IGNORE_REVOCATION_OFFLINE;
       infof(data, "schannel: disable server certificate revocation checks\n");
     }
 
-    if(Curl_inet_pton(AF_INET, conn->host.name, &addr) ||
+    if(Curl_inet_pton(AF_INET, conn->host.name, &addr)
 #ifdef ENABLE_IPV6
-       Curl_inet_pton(AF_INET6, conn->host.name, &addr6) ||
+       || Curl_inet_pton(AF_INET6, conn->host.name, &addr6)
 #endif
-       data->set.ssl.verifyhost < 2) {
+      ) {
       schannel_cred.dwFlags |= SCH_CRED_NO_SERVERNAME_CHECK;
-      infof(data, "schannel: using IP address, disable SNI servername "
-            "check\n");
+      infof(data, "schannel: using IP address, SNI is being disabled by "
+                  "disabling the servername check against the "
+                  "subject names in server certificates.\n");
+    }
+
+    if(!data->set.ssl.verifyhost) {
+      schannel_cred.dwFlags |= SCH_CRED_NO_SERVERNAME_CHECK;
+      infof(data, "schannel: verifyhost setting prevents Schannel from "
+                  "comparing the supplied target name with the subject "
+                  "names in server certificates. Also disables SNI.\n");
     }
 
     switch(data->set.ssl.version) {
       case CURL_SSLVERSION_TLSv1:
         schannel_cred.grbitEnabledProtocols = SP_PROT_TLS1_0_CLIENT |
                                               SP_PROT_TLS1_1_CLIENT |
@@ -1235,16 +1243,13 @@
         result = CURLE_PEER_FAILED_VERIFICATION;
       }
     }
   }
 
   if(result == CURLE_OK) {
-    if(data->set.ssl.verifyhost == 1) {
-      infof(data, "warning: ignoring unsupported value (1) ssl.verifyhost\n");
-    }
-    else if(data->set.ssl.verifyhost == 2) {
+    if(data->set.ssl.verifyhost) {
       TCHAR cert_hostname_buff[128];
       xcharp_u hostname;
       xcharp_u cert_hostname;
       DWORD len;
 
       cert_hostname.const_tchar_ptr = cert_hostname_buff;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/cyassl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/cyassl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/cyassl.c	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/cyassl.c	2012-11-14 05:02:15.000000000 +0800
@@ -50,12 +50,14 @@
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 #include "curl_memory.h"
 /* The last #include file should be: */
 #include "memdebug.h"
+#include <cyassl/ssl.h>
+#include <cyassl/error.h>
 
 
 static Curl_recv cyassl_recv;
 static Curl_send cyassl_send;
 
 
@@ -234,30 +236,65 @@
   infof(data, "CyaSSL: Connecting to %s:%d\n",
         conn->host.name, conn->remote_port);
 
   conn->recv[sockindex] = cyassl_recv;
   conn->send[sockindex] = cyassl_send;
 
+  /* Enable RFC2818 checks */
+  if(data->set.ssl.verifyhost) {
+    ret = CyaSSL_check_domain_name(conssl->handle, conn->host.name);
+    if(ret == SSL_FAILURE)
+      return CURLE_OUT_OF_MEMORY;
+  }
+
   ret = SSL_connect(conssl->handle);
   if(ret != 1) {
     char error_buffer[80];
     int  detail = SSL_get_error(conssl->handle, ret);
 
     if(SSL_ERROR_WANT_READ == detail) {
       conssl->connecting_state = ssl_connect_2_reading;
       return CURLE_OK;
     }
-
-    if(SSL_ERROR_WANT_WRITE == detail) {
+    else if(SSL_ERROR_WANT_WRITE == detail) {
       conssl->connecting_state = ssl_connect_2_writing;
       return CURLE_OK;
     }
-
-    failf(data, "SSL_connect failed with error %d: %s", detail,
+    /* There is no easy way to override only the CN matching.
+     * This will enable the override of both mismatching SubjectAltNames
+     * as also mismatching CN fields */
+    else if(DOMAIN_NAME_MISMATCH == detail) {
+#if 1
+      failf(data, "\tsubject alt name(s) or common name do not match \"%s\"\n",
+            conn->host.dispname);
+      return CURLE_PEER_FAILED_VERIFICATION;
+#else
+      /* When the CyaSSL_check_domain_name() is used and you desire to continue
+       * on a DOMAIN_NAME_MISMATCH, i.e. 'data->set.ssl.verifyhost == 0',
+       * CyaSSL version 2.4.0 will fail with an INCOMPLETE_DATA error. The only
+       * way to do this is currently to switch the CyaSSL_check_domain_name()
+       * in and out based on the 'data->set.ssl.verifyhost' value. */
+      if(data->set.ssl.verifyhost) {
+        failf(data,
+              "\tsubject alt name(s) or common name do not match \"%s\"\n",
+              conn->host.dispname);
+        return CURLE_PEER_FAILED_VERIFICATION;
+      }
+      else {
+        infof(data,
+              "\tsubject alt name(s) and/or common name do not match \"%s\"\n",
+              conn->host.dispname);
+        return CURLE_OK;
+      }
+#endif
+    }
+    else {
+      failf(data, "SSL_connect failed with error %d: %s", detail,
           ERR_error_string(detail, error_buffer));
-    return CURLE_SSL_CONNECT_ERROR;
+      return CURLE_SSL_CONNECT_ERROR;
+    }
   }
 
   conssl->connecting_state = ssl_connect_3;
   infof(data, "SSL connected\n");
 
   return CURLE_OK;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/dict.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/dict.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/dict.c	2012-03-09 03:35:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/dict.c	2012-11-17 20:58:46.000000000 +0800
@@ -64,16 +64,16 @@
 #include "dict.h"
 #include "rawstr.h"
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 
+#include "curl_memory.h"
 /* The last #include file should be: */
 #include "memdebug.h"
 
-
 /*
  * Forward declarations.
  */
 
 static CURLcode dict_do(struct connectdata *conn, bool *done);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/file.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/file.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/file.c	2012-10-09 06:35:45.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/file.c	2012-11-14 05:04:27.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -307,13 +307,14 @@
 #endif
 
 static CURLcode file_upload(struct connectdata *conn)
 {
   struct FILEPROTO *file = conn->data->state.proto.file;
   const char *dir = strchr(file->path, DIRSEP);
-  FILE *fp;
+  int fd;
+  int mode;
   CURLcode res=CURLE_OK;
   struct SessionHandle *data = conn->data;
   char *buf = data->state.buffer;
   size_t nread;
   size_t nwrite;
   curl_off_t bytecount = 0;
@@ -330,51 +331,39 @@
   conn->data->req.upload_fromhere = buf;
 
   if(!dir)
     return CURLE_FILE_COULDNT_READ_FILE; /* fix: better error code */
 
   if(!dir[1])
-     return CURLE_FILE_COULDNT_READ_FILE; /* fix: better error code */
-
-  if(data->state.resume_from)
-    fp = fopen( file->path, "ab" );
-  else {
-    int fd;
+    return CURLE_FILE_COULDNT_READ_FILE; /* fix: better error code */
 
-#ifdef DOS_FILESYSTEM
-    fd = open(file->path, O_WRONLY|O_CREAT|O_TRUNC|O_BINARY,
-              conn->data->set.new_file_perms);
-#else
-    fd = open(file->path, O_WRONLY|O_CREAT|O_TRUNC,
-              conn->data->set.new_file_perms);
-#endif
-    if(fd < 0) {
-      failf(data, "Can't open %s for writing", file->path);
-      return CURLE_WRITE_ERROR;
-    }
-#ifdef HAVE_FDOPEN
-    fp = fdopen(fd, "wb");
+#ifdef O_BINARY
+#define MODE_DEFAULT O_WRONLY|O_CREAT|O_BINARY
 #else
-    close(fd);
-    fp = fopen(file->path, "wb");
+#define MODE_DEFAULT O_WRONLY|O_CREAT
 #endif
-  }
 
-  if(!fp) {
+  if(data->state.resume_from)
+    mode = MODE_DEFAULT|O_APPEND;
+  else
+    mode = MODE_DEFAULT|O_TRUNC;
+
+  fd = open(file->path, mode, conn->data->set.new_file_perms);
+  if(fd < 0) {
     failf(data, "Can't open %s for writing", file->path);
     return CURLE_WRITE_ERROR;
   }
 
   if(-1 != data->set.infilesize)
     /* known size of data to "upload" */
     Curl_pgrsSetUploadSize(data, data->set.infilesize);
 
   /* treat the negative resume offset value as the case of "-" */
   if(data->state.resume_from < 0) {
-    if(fstat(fileno(fp), &file_stat)) {
-      fclose(fp);
+    if(fstat(fd, &file_stat)) {
+      close(fd);
       failf(data, "Can't get the size of %s", file->path);
       return CURLE_WRITE_ERROR;
     }
     else
       data->state.resume_from = (curl_off_t)file_stat.st_size;
   }
@@ -404,13 +393,13 @@
       }
     }
     else
       buf2 = buf;
 
     /* write the data to the target */
-    nwrite = fwrite(buf2, 1, nread, fp);
+    nwrite = write(fd, buf2, nread);
     if(nwrite != nread) {
       res = CURLE_SEND_ERROR;
       break;
     }
 
     bytecount += nread;
@@ -422,13 +411,13 @@
     else
       res = Curl_speedcheck(data, now);
   }
   if(!res && Curl_pgrsUpdate(conn))
     res = CURLE_ABORTED_BY_CALLBACK;
 
-  fclose(fp);
+  close(fd);
 
   return res;
 }
 
 /*
  * file_do() is the protocol-specific function for the do-phase, separated
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/ftp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/ftp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/ftp.c	2012-09-09 04:39:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/ftp.c	2012-11-14 05:02:16.000000000 +0800
@@ -629,14 +629,14 @@
 static CURLcode ftp_readresp(curl_socket_t sockfd,
                              struct pingpong *pp,
                              int *ftpcode, /* return the ftp-code if done */
                              size_t *size) /* size of the response */
 {
   struct connectdata *conn = pp->conn;
-#if defined(HAVE_KRB4) || defined(HAVE_GSSAPI)
   struct SessionHandle *data = conn->data;
+#if defined(HAVE_KRB4) || defined(HAVE_GSSAPI)
   char * const buf = data->state.buffer;
 #endif
   CURLcode result = CURLE_OK;
   int code;
 
   result = Curl_pp_readresp(sockfd, pp, &code, size);
@@ -658,22 +658,29 @@
     /* normal ftp stuff we pass through! */
     break;
   }
 #endif
 
   /* store the latest code for later retrieval */
-  conn->data->info.httpcode=code;
+  data->info.httpcode=code;
 
   if(ftpcode)
     *ftpcode = code;
 
-  if(421 == code)
+  if(421 == code) {
     /* 421 means "Service not available, closing control connection." and FTP
      * servers use it to signal that idle session timeout has been exceeded.
-     * If we ignored the response, it could end up hanging in some cases. */
+     * If we ignored the response, it could end up hanging in some cases.
+     *
+     * This response code can come at any point so having it treated
+     * generically is a good idea.
+     */
+    infof(data, "We got a 421 - timeout!\n");
+    state(conn, FTP_STOP);
     return CURLE_OPERATION_TIMEDOUT;
+  }
 
   return result;
 }
 
 /* --- parse FTP server responses --- */
 
@@ -1790,12 +1797,29 @@
     }
   }
 
   return result;
 }
 
+/* called from ftp_state_pasv_resp to switch to PASV in case of EPSV
+   problems */
+static CURLcode ftp_epsv_disable(struct connectdata *conn)
+{
+  CURLcode result = CURLE_OK;
+  infof(conn->data, "got positive EPSV response, but can't connect. "
+        "Disabling EPSV\n");
+  /* disable it for next transfer */
+  conn->bits.ftp_use_epsv = FALSE;
+  conn->data->state.errorbuf = FALSE; /* allow error message to get
+                                         rewritten */
+  PPSENDF(&conn->proto.ftpc.pp, "PASV", NULL);
+  conn->proto.ftpc.count1++;
+  /* remain in the FTP_PASV state */
+  return result;
+}
+
 static CURLcode ftp_state_pasv_resp(struct connectdata *conn,
                                     int ftpcode)
 {
   struct ftp_conn *ftpc = &conn->proto.ftpc;
   CURLcode result;
   struct SessionHandle *data=conn->data;
@@ -1972,26 +1996,18 @@
                             &conn->sock[SECONDARYSOCKET],
                             &conninfo,
                             &connected);
 
   Curl_resolv_unlock(data, addr); /* we're done using this address */
 
-  if(result && ftpc->count1 == 0 && ftpcode == 229) {
-    infof(data, "got positive EPSV response, but can't connect. "
-          "Disabling EPSV\n");
-    /* disable it for next transfer */
-    conn->bits.ftp_use_epsv = FALSE;
-    data->state.errorbuf = FALSE; /* allow error message to get rewritten */
-    PPSENDF(&ftpc->pp, "PASV", NULL);
-    ftpc->count1++;
-    /* remain in the FTP_PASV state */
-    return result;
- }
+  if(result) {
+    if(ftpc->count1 == 0 && ftpcode == 229)
+      return ftp_epsv_disable(conn);
 
-  if(result)
     return result;
+  }
 
   conn->bits.tcpconnect[SECONDARYSOCKET] = connected;
 
   /*
    * When this is used from the multi interface, this might've returned with
    * the 'connected' set to FALSE and thus we are now awaiting a non-blocking
@@ -2025,14 +2041,17 @@
   default:
     failf(data, "unknown proxytype option given");
     result = CURLE_COULDNT_CONNECT;
     break;
   }
 
-  if(result)
+  if(result) {
+    if(ftpc->count1 == 0 && ftpcode == 229)
+      return ftp_epsv_disable(conn);
     return result;
+  }
 
   if(conn->bits.tunnel_proxy && conn->bits.httpproxy) {
     /* FIX: this MUST wait for a proper connect first if 'connected' is
      * FALSE */
 
     /* BLOCKING */
@@ -2391,12 +2410,13 @@
 {
   CURLcode result = CURLE_OK;
   struct SessionHandle *data = conn->data;
 
   if(ftpcode>=400) {
     failf(data, "Failed FTP upload: %0d", ftpcode);
+    state(conn, FTP_STOP);
     /* oops, we never close the sockets! */
     return CURLE_UPLOAD_FAILED;
   }
 
   conn->proto.ftpc.state_saved = instate;
 
@@ -2408,15 +2428,12 @@
     if(result)
       return result;
 
     if(!connected) {
       struct ftp_conn *ftpc = &conn->proto.ftpc;
       infof(data, "Data conn was not available immediately\n");
-      /* as there's not necessarily an immediate action on the control
-         connection now, we halt the state machine */
-      state(conn, FTP_STOP);
       ftpc->wait_data_conn = TRUE;
     }
 
     return CURLE_OK;
   }
   else
@@ -3660,24 +3677,38 @@
   CURLcode result = CURLE_OK;
   bool connected = FALSE;
 
   /* the ftp struct is inited in ftp_connect() */
   struct FTP *ftp = data->state.proto.ftp;
 
+  *complete = FALSE;
+
   /* if the second connection isn't done yet, wait for it */
   if(!conn->bits.tcpconnect[SECONDARYSOCKET]) {
     result = Curl_is_connected(conn, SECONDARYSOCKET, &connected);
 
     /* Ready to do more? */
     if(connected) {
       DEBUGF(infof(data, "DO-MORE connected phase starts\n"));
     }
     else
       return result;
   }
 
+  if((data->state.used_interface == Curl_if_multi) &&
+     ftpc->state) {
+    /* multi interface and already in a state so skip the intial commands.
+       They are only done to kickstart the do_more state */
+    result = ftp_multi_statemach(conn, complete);
+
+    /* if we got an error or if we don't wait for a data connection return
+       immediately */
+    if(result || (ftpc->wait_data_conn != TRUE))
+      return result;
+  }
+
   if(ftp->transfer <= FTPTRANSFER_INFO) {
     /* a transfer is about to take place, or if not a file name was given
        so we'll do a SIZE on it later and then we need the right TYPE first */
 
     if(ftpc->wait_data_conn == TRUE) {
       bool serv_conned;
@@ -3725,13 +3756,19 @@
       else {
         result = ftp_nb_type(conn, data->set.prefer_ascii, FTP_RETR_TYPE);
         if(result)
           return result;
       }
     }
-    result = ftp_easy_statemach(conn);
+    if(data->state.used_interface == Curl_if_multi) {
+      result = ftp_multi_statemach(conn, complete);
+
+      return result;
+    }
+    else
+      result = ftp_easy_statemach(conn);
   }
 
   if((result == CURLE_OK) && (ftp->transfer != FTPTRANSFER_BODY))
     /* no data to transfer. FIX: it feels like a kludge to have this here
        too! */
     Curl_setup_transfer(conn, -1, -1, FALSE, NULL, -1, NULL);
@@ -4399,38 +4436,39 @@
 }
 
 /* call this when the DO phase has completed */
 static CURLcode ftp_dophase_done(struct connectdata *conn,
                                  bool connected)
 {
-  CURLcode result = CURLE_OK;
   struct FTP *ftp = conn->data->state.proto.ftp;
   struct ftp_conn *ftpc = &conn->proto.ftpc;
 
   if(connected) {
     bool completed;
-    result = ftp_do_more(conn, &completed);
-  }
+    CURLcode result = ftp_do_more(conn, &completed);
 
-  if(result && (conn->sock[SECONDARYSOCKET] != CURL_SOCKET_BAD)) {
-    /* Failure detected, close the second socket if it was created already */
-    Curl_closesocket(conn, conn->sock[SECONDARYSOCKET]);
-    conn->sock[SECONDARYSOCKET] = CURL_SOCKET_BAD;
-    return result;
+    if(result) {
+      if(conn->sock[SECONDARYSOCKET] != CURL_SOCKET_BAD) {
+        /* close the second socket if it was created already */
+        Curl_closesocket(conn, conn->sock[SECONDARYSOCKET]);
+        conn->sock[SECONDARYSOCKET] = CURL_SOCKET_BAD;
+      }
+      return result;
+    }
   }
 
   if(ftp->transfer != FTPTRANSFER_BODY)
     /* no data to transfer */
     Curl_setup_transfer(conn, -1, -1, FALSE, NULL, -1, NULL);
   else if(!connected)
     /* since we didn't connect now, we want do_more to get called */
     conn->bits.do_more = TRUE;
 
   ftpc->ctl_valid = TRUE; /* seems good */
 
-  return result;
+  return CURLE_OK;
 }
 
 /* called from multi.c while DOing */
 static CURLcode ftp_doing(struct connectdata *conn,
                           bool *dophase_done)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/gopher.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/gopher.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/gopher.c	2012-03-09 03:35:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/gopher.c	2012-11-17 20:58:46.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -67,16 +67,16 @@
 #include "url.h"
 #include "warnless.h"
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 
+#include "curl_memory.h"
 /* The last #include file should be: */
 #include "memdebug.h"
 
-
 /*
  * Forward declarations.
  */
 
 static CURLcode gopher_do(struct connectdata *conn, bool *done);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/gtls.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/gtls.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/gtls.c	2012-09-09 04:39:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/gtls.c	2012-11-14 05:02:16.000000000 +0800
@@ -296,20 +296,41 @@
     rc = gnutls_handshake(session);
 
     if((rc == GNUTLS_E_AGAIN) || (rc == GNUTLS_E_INTERRUPTED)) {
       connssl->connecting_state =
         gnutls_record_get_direction(session)?
         ssl_connect_2_writing:ssl_connect_2_reading;
+      continue;
       if(nonblocking)
         return CURLE_OK;
     }
-    else if((rc < 0) && gnutls_error_is_fatal(rc)) {
-      failf(data, "gnutls_handshake() warning: %s", gnutls_strerror(rc));
+    else if((rc < 0) && !gnutls_error_is_fatal(rc)) {
+      const char *strerr = NULL;
+
+      if(rc == GNUTLS_E_WARNING_ALERT_RECEIVED) {
+        int alert = gnutls_alert_get(session);
+        strerr = gnutls_alert_get_name(alert);
+      }
+
+      if(strerr == NULL)
+        strerr = gnutls_strerror(rc);
+
+      failf(data, "gnutls_handshake() warning: %s", strerr);
     }
     else if(rc < 0) {
-      failf(data, "gnutls_handshake() failed: %s", gnutls_strerror(rc));
+      const char *strerr = NULL;
+
+      if(rc == GNUTLS_E_FATAL_ALERT_RECEIVED) {
+        int alert = gnutls_alert_get(session);
+        strerr = gnutls_alert_get_name(alert);
+      }
+
+      if(strerr == NULL)
+        strerr = gnutls_strerror(rc);
+
+      failf(data, "gnutls_handshake() failed: %s", strerr);
       return CURLE_SSL_CONNECT_ERROR;
     }
 
     /* Reset our connect state machine */
     connssl->connecting_state = ssl_connect_1;
     return CURLE_OK;
@@ -657,13 +678,13 @@
      in RFC2818 (HTTPS), which takes into account wildcards, and the subject
      alternative name PKIX extension. Returns non zero on success, and zero on
      failure. */
   rc = gnutls_x509_crt_check_hostname(x509_cert, conn->host.name);
 
   if(!rc) {
-    if(data->set.ssl.verifyhost > 1) {
+    if(data->set.ssl.verifyhost) {
       failf(data, "SSL: certificate subject name (%s) does not match "
             "target host name '%s'", certbuf, conn->host.dispname);
       gnutls_x509_crt_deinit(x509_cert);
       return CURLE_PEER_FAILED_VERIFICATION;
     }
     else
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib: hostcheck.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib: hostcheck.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/hostip.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/hostip.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/hostip.c	2012-03-09 03:35:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/hostip.c	2012-11-19 17:56:58.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -737,20 +737,24 @@
   if(c->inuse == 1)
     Curl_resolv_unlock(data, c);
 
   return 1; /* free all entries */
 }
 
-void Curl_hostcache_destroy(struct SessionHandle *data)
+void Curl_hostcache_clean(struct SessionHandle *data)
 {
   /* Entries added to the hostcache with the CURLOPT_RESOLVE function are
    * still present in the cache with the inuse counter set to 1. Detect them
    * and cleanup!
    */
   Curl_hash_clean_with_criterium(data->dns.hostcache, data, hostcache_inuse);
+}
 
+void Curl_hostcache_destroy(struct SessionHandle *data)
+{
+  Curl_hostcache_clean(data);
   Curl_hash_destroy(data->dns.hostcache);
   data->dns.hostcachetype = HCACHE_NONE;
   data->dns.hostcache = NULL;
 }
 
 CURLcode Curl_loadhostpairs(struct SessionHandle *data)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/hostip.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/hostip.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/hostip.h	2012-03-09 03:35:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/hostip.h	2012-11-19 17:56:58.000000000 +0800
@@ -4,13 +4,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -198,13 +198,21 @@
 /*
  * Function provided by the resolver backend to set DNS servers to use.
  */
 CURLcode Curl_set_dns_servers(struct SessionHandle *data, char *servers);
 
 /*
+ * Clean off entries from the cache
+ */
+void Curl_hostcache_clean(struct SessionHandle *data);
+
+/*
  * Destroy the hostcache of this handle.
  */
 void Curl_hostcache_destroy(struct SessionHandle *data);
 
+/*
+ * Populate the cache with specified entries from CURLOPT_RESOLVE.
+ */
 CURLcode Curl_loadhostpairs(struct SessionHandle *data);
 
 #endif /* HEADER_CURL_HOSTIP_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/http.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/http.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/http.c	2012-09-09 20:46:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/http.c	2012-11-14 05:02:16.000000000 +0800
@@ -384,13 +384,14 @@
     /* There is still data left to send */
     if((data->state.authproxy.picked == CURLAUTH_NTLM) ||
        (data->state.authhost.picked == CURLAUTH_NTLM) ||
        (data->state.authproxy.picked == CURLAUTH_NTLM_WB) ||
        (data->state.authhost.picked == CURLAUTH_NTLM_WB)) {
       if(((expectsend - bytessent) < 2000) ||
-         (conn->ntlm.state != NTLMSTATE_NONE)) {
+         (conn->ntlm.state != NTLMSTATE_NONE) ||
+         (conn->proxyntlm.state != NTLMSTATE_NONE)) {
         /* The NTLM-negotiation has started *OR* there is just a little (<2K)
            data left to send, keep on sending. */
 
         /* rewind data when completely done sending! */
         if(!conn->bits.authneg) {
           conn->bits.rewindaftersend = TRUE;
@@ -404,13 +405,13 @@
         return CURLE_OK;
 
       infof(data, "NTLM send, close instead of sending %" FORMAT_OFF_T
             " bytes\n", (curl_off_t)(expectsend - bytessent));
     }
 
-    /* This is not NTLM or NTLM with many bytes left to send: close
+    /* This is not NTLM or many bytes left to send: close
      */
     conn->bits.close = TRUE;
     data->req.size = 0; /* don't download any more than 0 bytes */
 
     /* There still is data left to send, but this connection is marked for
        closure so we can safely do the rewind right now */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/http_digest.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/http_digest.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/http_digest.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/http_digest.c	2012-11-14 05:02:16.000000000 +0800
@@ -277,13 +277,13 @@
      section 3.2.2, */
   unsigned char md5buf[16]; /* 16 bytes/128 bits */
   unsigned char request_digest[33];
   unsigned char *md5this;
   unsigned char *ha1;
   unsigned char ha2[33];/* 32 digits and 1 zero byte */
-  char cnoncebuf[7];
+  char cnoncebuf[33];
   char *cnonce = NULL;
   size_t cnonce_sz = 0;
   char *tmp = NULL;
   struct timeval now;
 
   char **allocuserpwd;
@@ -341,13 +341,14 @@
   if(!d->nc)
     d->nc = 1;
 
   if(!d->cnonce) {
     /* Generate a cnonce */
     now = Curl_tvnow();
-    snprintf(cnoncebuf, sizeof(cnoncebuf), "%06ld", (long)now.tv_sec);
+    snprintf(cnoncebuf, sizeof(cnoncebuf), "%32ld",
+             (long)now.tv_sec + now.tv_usec);
 
     rc = Curl_base64_encode(data, cnoncebuf, strlen(cnoncebuf),
                             &cnonce, &cnonce_sz);
     if(rc)
       return rc;
     d->cnonce = cnonce;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/http_proxy.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/http_proxy.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/http_proxy.c	2012-09-09 20:46:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/http_proxy.c	2012-11-17 20:58:46.000000000 +0800
@@ -42,12 +42,13 @@
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 
 #include "curlx.h"
 
+#include "curl_memory.h"
 /* The last #include file should be: */
 #include "memdebug.h"
 
 CURLcode Curl_proxy_connect(struct connectdata *conn)
 {
   if(conn->bits.tunnel_proxy && conn->bits.httpproxy) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/idn_win32.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/idn_win32.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/idn_win32.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/idn_win32.c	2012-11-17 20:58:46.000000000 +0800
@@ -27,12 +27,16 @@
 #include "setup.h"
 
 #ifdef USE_WIN32_IDN
 
 #include "curl_multibyte.h"
 
+#include "curl_memory.h"
+/* The last #include file should be: */
+#include "memdebug.h"
+
 #ifdef WANT_IDN_PROTOTYPES
 WINBASEAPI int WINAPI IdnToAscii(DWORD, const WCHAR *, int, WCHAR *, int);
 WINBASEAPI int WINAPI IdnToUnicode(DWORD, const WCHAR *, int, WCHAR *, int);
 #endif
 
 #define IDN_MAX_LENGTH 255
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/libcurl.plist /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/libcurl.plist
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/libcurl.plist	2012-10-11 04:00:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/libcurl.plist	2012-11-20 15:13:32.000000000 +0800
@@ -12,24 +12,24 @@
 	<string>curl</string>
 
 	<key>CFBundleIdentifier</key>
 	<string>com.libcurl.libcurl</string>
 
 	<key>CFBundleVersion</key>
-	<string>7.28.0</string>
+	<string>7.28.1</string>
 
 	<key>CFBundleName</key>
 	<string>libcurl</string>
 
 	<key>CFBundlePackageType</key>
 	<string>FMWK</string>
 
 	<key>CFBundleSignature</key>
 	<string>????</string>
 
 	<key>CFBundleShortVersionString</key>
-	<string>libcurl 7.28.0</string>
+	<string>libcurl 7.28.1</string>
 
 	<key>CFBundleGetInfoString</key>
-	<string>libcurl.plist 7.28.0</string>
+	<string>libcurl.plist 7.28.1</string>
 </dict>
 </plist>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/libcurl.vcproj /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/libcurl.vcproj
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/libcurl.vcproj	2012-10-11 04:00:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/libcurl.vcproj	2012-11-20 15:13:17.000000000 +0800
@@ -141,12 +141,13 @@
 <File RelativePath="getinfo.c"></File>
 <File RelativePath="gopher.c"></File>
 <File RelativePath="gtls.c"></File>
 <File RelativePath="hash.c"></File>
 <File RelativePath="hmac.c"></File>
 <File RelativePath="hostasyn.c"></File>
+<File RelativePath="hostcheck.c"></File>
 <File RelativePath="hostip4.c"></File>
 <File RelativePath="hostip6.c"></File>
 <File RelativePath="hostip.c"></File>
 <File RelativePath="hostsyn.c"></File>
 <File RelativePath="http.c"></File>
 <File RelativePath="http_chunks.c"></File>
@@ -251,12 +252,13 @@
 <File RelativePath="ftp.h"></File>
 <File RelativePath="ftplistparser.h"></File>
 <File RelativePath="getinfo.h"></File>
 <File RelativePath="gopher.h"></File>
 <File RelativePath="gtls.h"></File>
 <File RelativePath="hash.h"></File>
+<File RelativePath="hostcheck.h"></File>
 <File RelativePath="hostip.h"></File>
 <File RelativePath="http_chunks.h"></File>
 <File RelativePath="http_digest.h"></File>
 <File RelativePath="http.h"></File>
 <File RelativePath="http_negotiate.h"></File>
 <File RelativePath="http_proxy.h"></File>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.am	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.am	2012-11-14 05:02:15.000000000 +0800
@@ -61,29 +61,27 @@
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "private" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
 
 if USE_EMBEDDED_ARES
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_builddir)/ares         \
-           -I$(top_srcdir)/ares
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib            \
+              -I$(top_builddir)/ares         \
+              -I$(top_srcdir)/ares
 else
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib
 endif
 
-AM_CPPFLAGS =
-
 # Mostly for Windows build targets, when building libcurl library
 if USE_CPPFLAG_BUILDING_LIBCURL
 AM_CPPFLAGS += -DBUILDING_LIBCURL
 endif
 
 # Mostly for Windows build targets, when building static libcurl
@@ -98,15 +96,15 @@
 # yet it is still necessary for a few rare situations. The configure script will
 # attempt to figure out these situations, and it can be forced to consider this
 # to be such a case! See README.curl_off_t for further details.
 #
 # This conditional soname bump SHOULD be removed at next "proper" bump.
 #
-VERSIONINFO=-version-info 7:0:2
+VERSIONINFO=-version-info 8:0:3
 else
-VERSIONINFO=-version-info 6:0:2
+VERSIONINFO=-version-info 7:0:3
 endif
 
 # This flag accepts an argument of the form current[:revision[:age]]. So,
 # passing -version-info 3:12:1 sets current to 3, revision to 12, and age to
 # 1.
 #
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.in	2012-11-16 20:02:41.000000000 +0800
@@ -127,13 +127,13 @@
 	libcurl_la-http_proxy.lo libcurl_la-non-ascii.lo \
 	libcurl_la-asyn-ares.lo libcurl_la-asyn-thread.lo \
 	libcurl_la-curl_gssapi.lo libcurl_la-curl_ntlm.lo \
 	libcurl_la-curl_ntlm_wb.lo libcurl_la-curl_ntlm_core.lo \
 	libcurl_la-curl_ntlm_msgs.lo libcurl_la-curl_sasl.lo \
 	libcurl_la-curl_schannel.lo libcurl_la-curl_multibyte.lo \
-	libcurl_la-curl_darwinssl.lo
+	libcurl_la-curl_darwinssl.lo libcurl_la-hostcheck.lo
 am__objects_2 =
 am_libcurl_la_OBJECTS = $(am__objects_1) $(am__objects_2)
 libcurl_la_OBJECTS = $(am_libcurl_la_OBJECTS)
 libcurlu_la_LIBADD =
 am__objects_3 = libcurlu_la-file.lo libcurlu_la-timeval.lo \
 	libcurlu_la-base64.lo libcurlu_la-hostip.lo \
@@ -182,13 +182,13 @@
 	libcurlu_la-http_proxy.lo libcurlu_la-non-ascii.lo \
 	libcurlu_la-asyn-ares.lo libcurlu_la-asyn-thread.lo \
 	libcurlu_la-curl_gssapi.lo libcurlu_la-curl_ntlm.lo \
 	libcurlu_la-curl_ntlm_wb.lo libcurlu_la-curl_ntlm_core.lo \
 	libcurlu_la-curl_ntlm_msgs.lo libcurlu_la-curl_sasl.lo \
 	libcurlu_la-curl_schannel.lo libcurlu_la-curl_multibyte.lo \
-	libcurlu_la-curl_darwinssl.lo
+	libcurlu_la-curl_darwinssl.lo libcurlu_la-hostcheck.lo
 am_libcurlu_la_OBJECTS = $(am__objects_3) $(am__objects_2)
 libcurlu_la_OBJECTS = $(am_libcurlu_la_OBJECTS)
 @BUILD_UNITTESTS_TRUE@am_libcurlu_la_rpath =
 DEFAULT_INCLUDES = 
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
@@ -453,18 +453,18 @@
  Makefile.Watcom config-tpf.h $(DOCS) $(VCPROJ) mk-ca-bundle.pl		\
  mk-ca-bundle.vbs firefox-db2pem.sh $(CMAKE_DIST) config-vxworks.h	\
  Makefile.vxworks config-vms.h checksrc.pl
 
 CLEANFILES = $(DSP) $(VCPROJ)
 lib_LTLIBRARIES = libcurl.la
-@USE_EMBEDDED_ARES_FALSE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/lib
-
+@USE_EMBEDDED_ARES_FALSE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_builddir)/include \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_srcdir)/include \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_builddir)/lib \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_srcdir)/lib $(am__append_1) \
+@USE_EMBEDDED_ARES_FALSE@	$(am__append_2)
 
 # Specify our include paths here, and do it relative to $(top_srcdir) and
 # $(top_builddir), to ensure that these paths which belong to the library
 # being currently built and tested are searched before the library which
 # might possibly already be installed in the system.
 #
@@ -472,33 +472,32 @@
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "private" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
-@USE_EMBEDDED_ARES_TRUE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/lib            \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/ares         \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/ares
-
-AM_CPPFLAGS = $(am__append_1) $(am__append_2)
-@SONAME_BUMP_FALSE@VERSIONINFO = -version-info 6:0:2
+@USE_EMBEDDED_ARES_TRUE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_builddir)/include \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/include \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_builddir)/lib \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/lib \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_builddir)/ares \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/ares $(am__append_1) \
+@USE_EMBEDDED_ARES_TRUE@	$(am__append_2)
+@SONAME_BUMP_FALSE@VERSIONINFO = -version-info 7:0:3
 
 #
 # Bumping of SONAME conditionally may seem like a weird thing to do, and yeah
 # it is. The problem is that we try to avoid the bump as hard as possible, but
 # yet it is still necessary for a few rare situations. The configure script will
 # attempt to figure out these situations, and it can be forced to consider this
 # to be such a case! See README.curl_off_t for further details.
 #
 # This conditional soname bump SHOULD be removed at next "proper" bump.
 #
-@SONAME_BUMP_TRUE@VERSIONINFO = -version-info 7:0:2
+@SONAME_BUMP_TRUE@VERSIONINFO = -version-info 8:0:3
 
 # This flag accepts an argument of the form current[:revision[:age]]. So,
 # passing -version-info 3:12:1 sets current to 3, revision to 12, and age to
 # 1.
 #
 # Here's the simplified rule guide on how to change -version-info:
@@ -543,13 +542,13 @@
   curl_sspi.c slist.c nonblock.c curl_memrchr.c imap.c pop3.c smtp.c	\
   pingpong.c rtsp.c curl_threads.c warnless.c hmac.c polarssl.c		\
   curl_rtmp.c openldap.c curl_gethostname.c gopher.c axtls.c		\
   idn_win32.c http_negotiate_sspi.c cyassl.c http_proxy.c non-ascii.c	\
   asyn-ares.c asyn-thread.c curl_gssapi.c curl_ntlm.c curl_ntlm_wb.c	\
   curl_ntlm_core.c curl_ntlm_msgs.c curl_sasl.c curl_schannel.c	\
-  curl_multibyte.c curl_darwinssl.c
+  curl_multibyte.c curl_darwinssl.c hostcheck.c
 
 HHEADERS = arpa_telnet.h netrc.h file.h timeval.h qssl.h hostip.h	\
   progress.h formdata.h cookie.h http.h sendf.h ftp.h url.h dict.h	\
   if2ip.h speedcheck.h urldata.h curl_ldap.h ssluse.h escape.h telnet.h	\
   getinfo.h strequal.h krb4.h memdebug.h http_chunks.h curl_rand.h	\
   curl_fnmatch.h wildcard.h fileinfo.h ftplistparser.h strtok.h		\
@@ -560,13 +559,14 @@
   tftp.h sockaddr.h splay.h strdup.h setup_once.h socks.h ssh.h nssg.h	\
   curl_base64.h rawstr.h curl_addrinfo.h curl_sspi.h slist.h nonblock.h	\
   curl_memrchr.h imap.h pop3.h smtp.h pingpong.h rtsp.h curl_threads.h	\
   warnless.h curl_hmac.h polarssl.h curl_rtmp.h curl_gethostname.h	\
   gopher.h axtls.h cyassl.h http_proxy.h non-ascii.h asyn.h curl_ntlm.h	\
   curl_gssapi.h curl_ntlm_wb.h curl_ntlm_core.h curl_ntlm_msgs.h	\
-  curl_sasl.h curl_schannel.h curl_multibyte.h curl_darwinssl.h
+  curl_sasl.h curl_schannel.h curl_multibyte.h curl_darwinssl.h	\
+  hostcheck.h
 
 
 # Makefile.inc provides the CSOURCES and HHEADERS defines
 libcurl_la_SOURCES = $(CSOURCES) $(HHEADERS)
 libcurlu_la_SOURCES = $(CSOURCES) $(HHEADERS)
 WIN32SOURCES = $(CSOURCES)
@@ -711,12 +711,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-getinfo.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-gopher.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-gtls.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hash.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hmac.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hostasyn.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hostcheck.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hostip.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hostip4.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hostip6.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-hostsyn.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-http.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurl_la-http_chunks.Plo@am__quote@
@@ -816,12 +817,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-getinfo.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-gopher.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-gtls.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hash.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hmac.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hostasyn.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hostcheck.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hostip.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hostip4.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hostip6.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-hostsyn.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-http.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libcurlu_la-http_chunks.Plo@am__quote@
@@ -1637,12 +1639,19 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurl_la_CPPFLAGS) $(CPPFLAGS) $(libcurl_la_CFLAGS) $(CFLAGS) -MT libcurl_la-curl_darwinssl.lo -MD -MP -MF "$(DEPDIR)/libcurl_la-curl_darwinssl.Tpo" -c -o libcurl_la-curl_darwinssl.lo `test -f 'curl_darwinssl.c' || echo '$(srcdir)/'`curl_darwinssl.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libcurl_la-curl_darwinssl.Tpo" "$(DEPDIR)/libcurl_la-curl_darwinssl.Plo"; else rm -f "$(DEPDIR)/libcurl_la-curl_darwinssl.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='curl_darwinssl.c' object='libcurl_la-curl_darwinssl.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurl_la_CPPFLAGS) $(CPPFLAGS) $(libcurl_la_CFLAGS) $(CFLAGS) -c -o libcurl_la-curl_darwinssl.lo `test -f 'curl_darwinssl.c' || echo '$(srcdir)/'`curl_darwinssl.c
 
+libcurl_la-hostcheck.lo: hostcheck.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurl_la_CPPFLAGS) $(CPPFLAGS) $(libcurl_la_CFLAGS) $(CFLAGS) -MT libcurl_la-hostcheck.lo -MD -MP -MF "$(DEPDIR)/libcurl_la-hostcheck.Tpo" -c -o libcurl_la-hostcheck.lo `test -f 'hostcheck.c' || echo '$(srcdir)/'`hostcheck.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libcurl_la-hostcheck.Tpo" "$(DEPDIR)/libcurl_la-hostcheck.Plo"; else rm -f "$(DEPDIR)/libcurl_la-hostcheck.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='hostcheck.c' object='libcurl_la-hostcheck.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurl_la_CPPFLAGS) $(CPPFLAGS) $(libcurl_la_CFLAGS) $(CFLAGS) -c -o libcurl_la-hostcheck.lo `test -f 'hostcheck.c' || echo '$(srcdir)/'`hostcheck.c
+
 libcurlu_la-file.lo: file.c
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurlu_la_CPPFLAGS) $(CPPFLAGS) $(libcurlu_la_CFLAGS) $(CFLAGS) -MT libcurlu_la-file.lo -MD -MP -MF "$(DEPDIR)/libcurlu_la-file.Tpo" -c -o libcurlu_la-file.lo `test -f 'file.c' || echo '$(srcdir)/'`file.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libcurlu_la-file.Tpo" "$(DEPDIR)/libcurlu_la-file.Plo"; else rm -f "$(DEPDIR)/libcurlu_la-file.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='file.c' object='libcurlu_la-file.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurlu_la_CPPFLAGS) $(CPPFLAGS) $(libcurlu_la_CFLAGS) $(CFLAGS) -c -o libcurlu_la-file.lo `test -f 'file.c' || echo '$(srcdir)/'`file.c
@@ -2372,12 +2381,19 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurlu_la_CPPFLAGS) $(CPPFLAGS) $(libcurlu_la_CFLAGS) $(CFLAGS) -MT libcurlu_la-curl_darwinssl.lo -MD -MP -MF "$(DEPDIR)/libcurlu_la-curl_darwinssl.Tpo" -c -o libcurlu_la-curl_darwinssl.lo `test -f 'curl_darwinssl.c' || echo '$(srcdir)/'`curl_darwinssl.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libcurlu_la-curl_darwinssl.Tpo" "$(DEPDIR)/libcurlu_la-curl_darwinssl.Plo"; else rm -f "$(DEPDIR)/libcurlu_la-curl_darwinssl.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='curl_darwinssl.c' object='libcurlu_la-curl_darwinssl.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurlu_la_CPPFLAGS) $(CPPFLAGS) $(libcurlu_la_CFLAGS) $(CFLAGS) -c -o libcurlu_la-curl_darwinssl.lo `test -f 'curl_darwinssl.c' || echo '$(srcdir)/'`curl_darwinssl.c
 
+libcurlu_la-hostcheck.lo: hostcheck.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurlu_la_CPPFLAGS) $(CPPFLAGS) $(libcurlu_la_CFLAGS) $(CFLAGS) -MT libcurlu_la-hostcheck.lo -MD -MP -MF "$(DEPDIR)/libcurlu_la-hostcheck.Tpo" -c -o libcurlu_la-hostcheck.lo `test -f 'hostcheck.c' || echo '$(srcdir)/'`hostcheck.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libcurlu_la-hostcheck.Tpo" "$(DEPDIR)/libcurlu_la-hostcheck.Plo"; else rm -f "$(DEPDIR)/libcurlu_la-hostcheck.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='hostcheck.c' object='libcurlu_la-hostcheck.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(libcurlu_la_CPPFLAGS) $(CPPFLAGS) $(libcurlu_la_CFLAGS) $(CFLAGS) -c -o libcurlu_la-hostcheck.lo `test -f 'hostcheck.c' || echo '$(srcdir)/'`hostcheck.c
+
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.inc	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.inc	2012-11-14 05:02:15.000000000 +0800
@@ -21,13 +21,13 @@
   curl_sspi.c slist.c nonblock.c curl_memrchr.c imap.c pop3.c smtp.c	\
   pingpong.c rtsp.c curl_threads.c warnless.c hmac.c polarssl.c		\
   curl_rtmp.c openldap.c curl_gethostname.c gopher.c axtls.c		\
   idn_win32.c http_negotiate_sspi.c cyassl.c http_proxy.c non-ascii.c	\
   asyn-ares.c asyn-thread.c curl_gssapi.c curl_ntlm.c curl_ntlm_wb.c	\
   curl_ntlm_core.c curl_ntlm_msgs.c curl_sasl.c curl_schannel.c	\
-  curl_multibyte.c curl_darwinssl.c
+  curl_multibyte.c curl_darwinssl.c hostcheck.c
 
 HHEADERS = arpa_telnet.h netrc.h file.h timeval.h qssl.h hostip.h	\
   progress.h formdata.h cookie.h http.h sendf.h ftp.h url.h dict.h	\
   if2ip.h speedcheck.h urldata.h curl_ldap.h ssluse.h escape.h telnet.h	\
   getinfo.h strequal.h krb4.h memdebug.h http_chunks.h curl_rand.h	\
   curl_fnmatch.h wildcard.h fileinfo.h ftplistparser.h strtok.h		\
@@ -38,7 +38,8 @@
   tftp.h sockaddr.h splay.h strdup.h setup_once.h socks.h ssh.h nssg.h	\
   curl_base64.h rawstr.h curl_addrinfo.h curl_sspi.h slist.h nonblock.h	\
   curl_memrchr.h imap.h pop3.h smtp.h pingpong.h rtsp.h curl_threads.h	\
   warnless.h curl_hmac.h polarssl.h curl_rtmp.h curl_gethostname.h	\
   gopher.h axtls.h cyassl.h http_proxy.h non-ascii.h asyn.h curl_ntlm.h	\
   curl_gssapi.h curl_ntlm_wb.h curl_ntlm_core.h curl_ntlm_msgs.h	\
-  curl_sasl.h curl_schannel.h curl_multibyte.h curl_darwinssl.h
+  curl_sasl.h curl_schannel.h curl_multibyte.h curl_darwinssl.h	\
+  hostcheck.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.m32 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.m32
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/Makefile.m32	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/Makefile.m32	2012-11-14 05:02:15.000000000 +0800
@@ -270,14 +270,15 @@
 	$(STRIP) $@
 
 # remove the last line above to keep debug info
 
 $(libcurl_dll_LIBRARY): $(libcurl_a_OBJECTS) $(RESOURCE) $(libcurl_dll_DEPENDENCIES)
 	@$(call DEL, $@)
-	$(CC) $(LDFLAGS) -shared -Wl,--out-implib,$(libcurl_dll_a_LIBRARY) \
-	  -o $@ $(libcurl_a_OBJECTS) $(RESOURCE) $(DLL_LIBS)
+	$(CC) $(LDFLAGS) -shared -o $@ \
+	  -Wl,--output-def,$(@:.dll=.def),--out-implib,$(libcurl_dll_a_LIBRARY) \
+	  $(libcurl_a_OBJECTS) $(RESOURCE) $(DLL_LIBS)
 
 %.o: %.c $(PROOT)/include/curl/curlbuild.h
 	$(CC) $(INCLUDES) $(CFLAGS) -c $<
 
 %.res: %.rc
 	$(RC) $(RCFLAGS) $< -o $@
@@ -286,13 +287,13 @@
 ifeq "$(wildcard $(PROOT)/include/curl/curlbuild.h.dist)" "$(PROOT)/include/curl/curlbuild.h.dist"
 	@$(call DEL, $(PROOT)/include/curl/curlbuild.h)
 endif
 	@$(call DEL, $(libcurl_a_OBJECTS) $(RESOURCE))
 
 distclean vclean: clean
-	@$(call DEL, $(libcurl_a_LIBRARY) $(libcurl_dll_LIBRARY) $(libcurl_dll_a_LIBRARY))
+	@$(call DEL, $(libcurl_a_LIBRARY) $(libcurl_dll_LIBRARY) $(libcurl_dll_LIBRARY:.dll=.def) $(libcurl_dll_a_LIBRARY))
 
 $(PROOT)/include/curl/curlbuild.h:
 	@echo Creating $@
 	@$(call COPY, $@.dist, $@)
 
 $(LIBCARES_PATH)/libcares.a:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/md5.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/md5.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/md5.c	2012-09-12 00:57:22.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/md5.c	2012-11-17 20:58:46.000000000 +0800
@@ -25,15 +25,19 @@
 #ifndef CURL_DISABLE_CRYPTO_AUTH
 
 #include "curl_md5.h"
 #include "curl_hmac.h"
 #include "warnless.h"
 
+#include "curl_memory.h"
+
 #if defined(USE_GNUTLS_NETTLE)
 
 #include <nettle/md5.h>
+/* The last #include file should be: */
+#include "memdebug.h"
 
 typedef struct md5_ctx MD5_CTX;
 
 static void MD5_Init(MD5_CTX * ctx)
 {
   md5_init(ctx);
@@ -51,12 +55,14 @@
   md5_digest(ctx, 16, digest);
 }
 
 #elif defined(USE_GNUTLS)
 
 #include <gcrypt.h>
+/* The last #include file should be: */
+#include "memdebug.h"
 
 typedef gcry_md_hd_t MD5_CTX;
 
 static void MD5_Init(MD5_CTX * ctx)
 {
   gcry_md_open(ctx, GCRY_MD_MD5, 0);
@@ -81,12 +87,23 @@
 #  ifdef USE_OPENSSL
 #    include <openssl/md5.h>
 #  else
 #    include <md5.h>
 #  endif
 
+#elif defined(__MAC_10_4) || defined(__IPHONE_5_0)
+
+/* For Apple operating systems: CommonCrypto has the functions we need.
+   The library's headers are even backward-compatible with OpenSSL's
+   headers as long as we define COMMON_DIGEST_FOR_OPENSSL first.
+
+   These functions are available on Tiger and later, as well as iOS 5.0
+   and later. If you're building for an older cat, well, sorry. */
+#  define COMMON_DIGEST_FOR_OPENSSL
+#  include <CommonCrypto/CommonDigest.h>
+
 #elif defined(_WIN32)
 
 #include <wincrypt.h>
 
 typedef struct {
   HCRYPTPROV hCryptProv;
@@ -422,12 +439,15 @@
     output[i] = ((UINT4)input[j]) | (((UINT4)input[j+1]) << 8) |
       (((UINT4)input[j+2]) << 16) | (((UINT4)input[j+3]) << 24);
 }
 
 #endif /* CRYPTO LIBS */
 
+/* The last #include file should be: */
+#include "memdebug.h"
+
 const HMAC_params Curl_HMAC_MD5[] = {
   {
     (HMAC_hinit_func) MD5_Init,           /* Hash initialization function. */
     (HMAC_hupdate_func) MD5_Update,       /* Hash update function. */
     (HMAC_hfinal_func) MD5_Final,         /* Hash computation end function. */
     sizeof(MD5_CTX),                      /* Size of hash context structure. */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/multi.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/multi.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/multi.c	2012-10-10 04:17:47.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/multi.c	2012-11-19 17:56:58.000000000 +0800
@@ -1786,18 +1786,12 @@
         result = CURLM_CALL_MULTI_PERFORM;
       }
     }
   } WHILE_FALSE; /* just to break out from! */
 
   if(CURLM_STATE_COMPLETED == easy->state) {
-    if(data->dns.hostcachetype == HCACHE_MULTI) {
-      /* clear out the usage of the shared DNS cache */
-      data->dns.hostcache = NULL;
-      data->dns.hostcachetype = HCACHE_NONE;
-    }
-
     /* now fill in the Curl_message with this info */
     msg = &easy->msg;
 
     msg->extmsg.msg = CURLMSG_DONE;
     msg->extmsg.easy_handle = data;
     msg->extmsg.data.result = easy->result;
@@ -1908,15 +1902,12 @@
         Curl_close(cl->easy_handle);
       n = cl->next;
       free(cl);
       cl= n;
     }
 
-    Curl_hash_destroy(multi->hostcache);
-    multi->hostcache = NULL;
-
     Curl_hash_destroy(multi->sockhash);
     multi->sockhash = NULL;
 
     Curl_rm_connc(multi->connc);
     multi->connc = NULL;
 
@@ -1927,12 +1918,13 @@
     /* remove all easy handles */
     easy = multi->easy.next;
     while(easy != &multi->easy) {
       nexteasy=easy->next;
       if(easy->easy_handle->dns.hostcachetype == HCACHE_MULTI) {
         /* clear out the usage of the shared DNS cache */
+        Curl_hostcache_clean(easy->easy_handle);
         easy->easy_handle->dns.hostcache = NULL;
         easy->easy_handle->dns.hostcachetype = HCACHE_NONE;
       }
 
       /* Clear the pointer to the connection cache */
       easy->easy_handle->state.connc = NULL;
@@ -1940,12 +1932,15 @@
       Curl_easy_addmulti(easy->easy_handle, NULL); /* clear the association */
 
       free(easy);
       easy = nexteasy;
     }
 
+    Curl_hash_destroy(multi->hostcache);
+    multi->hostcache = NULL;
+
     free(multi);
 
     return CURLM_OK;
   }
   else
     return CURLM_BAD_HANDLE;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/non-ascii.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/non-ascii.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/non-ascii.c	2011-11-05 06:32:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/non-ascii.c	2012-11-17 20:58:46.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -21,18 +21,22 @@
  ***************************************************************************/
 
 #include "setup.h"
 
 #ifdef CURL_DOES_CONVERSIONS
 
+#include <curl/curl.h>
+
 #include "non-ascii.h"
 #include "formdata.h"
 #include "sendf.h"
 #include "urldata.h"
 
-#include <curl/curl.h>
+#include "curl_memory.h"
+/* The last #include file should be: */
+#include "memdebug.h"
 
 #ifdef HAVE_ICONV
 #include <iconv.h>
 /* set default codesets for iconv */
 #ifndef CURL_ICONV_CODESET_OF_NETWORK
 #define CURL_ICONV_CODESET_OF_NETWORK "ISO8859-1"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/nss.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/nss.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/nss.c	2012-09-12 00:57:22.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/nss.c	2012-11-14 05:02:16.000000000 +0800
@@ -1313,14 +1313,12 @@
       goto error;
     }
   }
 
   if(!data->set.ssl.verifypeer && data->set.ssl.verifyhost)
     infof(data, "warning: ignoring value of ssl.verifyhost\n");
-  else if(data->set.ssl.verifyhost == 1)
-    infof(data, "warning: ignoring unsupported value (1) of ssl.verifyhost\n");
 
   /* bypass the default SSL_AuthCertificate() hook in case we do not want to
    * verify peer */
   if(SSL_AuthCertificateHook(model, nss_auth_cert_hook, conn) != SECSuccess)
     goto error;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/nwlib.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/nwlib.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/nwlib.c	2012-09-14 21:39:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/nwlib.c	2012-11-17 20:58:46.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2009, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -29,12 +29,15 @@
 #include <library.h>
 #include <netware.h>
 #include <screen.h>
 #include <nks/thread.h>
 #include <nks/synch.h>
 
+#include "curl_memory.h"
+/* The last #include file should be: */
+#include "memdebug.h"
 
 typedef struct
 {
   int     _errno;
   void    *twentybytes;
 } libthreaddata_t;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/pingpong.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/pingpong.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/pingpong.c	2012-03-09 03:35:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/pingpong.c	2012-11-14 05:02:16.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2011, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -421,12 +421,15 @@
         /* We found the end of the response lines, but we didn't parse the
            full chunk of data we have read from the server. We therefore need
            to store the rest of the data to be checked on the next invoke as
            it may actually contain another end of response already! */
         clipamount = gotbytes - i;
         restart = TRUE;
+        DEBUGF(infof(data, "Curl_pp_readresp_ %d bytes of trailing "
+                     "server response left\n",
+                     (int)clipamount));
       }
       else if(keepon) {
 
         if((perline == gotbytes) && (gotbytes > BUFSIZE/2)) {
           /* We got an excessive line without newlines and we need to deal
              with it. We keep the first bytes of the line then we throw
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/polarssl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/polarssl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/polarssl.c	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/polarssl.c	2012-11-14 05:02:16.000000000 +0800
@@ -209,14 +209,21 @@
 #endif
   if(!Curl_ssl_getsessionid(conn, &old_session, &old_session_size)) {
     memcpy(&connssl->ssn, old_session, old_session_size);
     infof(data, "PolarSSL re-using session\n");
   }
 
+/* PolarSSL SVN revision r1316 to r1317, matching <1.2.0 is to cover Ubuntu's
+   1.1.4 version and the like */
+#if POLARSSL_VERSION_NUMBER<0x01020000
   ssl_set_session(&connssl->ssl, 1, 600,
                   &connssl->ssn);
+#else
+  ssl_set_session(&connssl->ssl,
+                  &connssl->ssn);
+#endif
 
   ssl_set_ca_chain(&connssl->ssl,
                    &connssl->cacert,
                    &connssl->crl,
                    conn->host.name);
 
@@ -303,18 +310,31 @@
     if(ret & BADCERT_NOT_TRUSTED)
       failf(data, "Cert verify failed: BADCERT_NOT_TRUSTED");
 
     return CURLE_PEER_FAILED_VERIFICATION;
   }
 
+/* PolarSSL SVN revision r1316 to r1317, matching <1.2.0 is to cover Ubuntu's
+   1.1.4 version and the like */
+#if POLARSSL_VERSION_NUMBER<0x01020000
   if(conn->ssl[sockindex].ssl.peer_cert) {
+#else
+  if(ssl_get_peer_cert(&(connssl->ssl))) {
+#endif
     /* If the session was resumed, there will be no peer certs */
     memset(buffer, 0, sizeof(buffer));
 
+/* PolarSSL SVN revision r1316 to r1317, matching <1.2.0 is to cover Ubuntu's
+   1.1.4 version and the like */
+#if POLARSSL_VERSION_NUMBER<0x01020000
     if(x509parse_cert_info(buffer, sizeof(buffer), (char *)"* ",
                            conn->ssl[sockindex].ssl.peer_cert) != -1)
+#else
+    if(x509parse_cert_info(buffer, sizeof(buffer), (char *)"* ",
+                           ssl_get_peer_cert(&(connssl->ssl))) != -1)
+#endif
       infof(data, "Dumping cert info:\n%s\n", buffer);
   }
 
   connssl->connecting_state = ssl_connect_3;
   infof(data, "SSL connected\n");
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/sendf.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/sendf.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/sendf.c	2012-03-09 03:35:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/sendf.c	2012-11-14 05:02:16.000000000 +0800
@@ -261,13 +261,13 @@
   case CURLE_OK:
     /* general send failure */
     return CURLE_SEND_ERROR;
 
   default:
     /* we got a specific curlcode, forward it */
-    return (CURLcode)curlcode;
+    return curlcode;
   }
 }
 
 ssize_t Curl_send_plain(struct connectdata *conn, int num,
                         const void *mem, size_t len, CURLcode *code)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/ssh.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/ssh.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/ssh.c	2012-09-14 21:39:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/ssh.c	2012-11-14 05:02:16.000000000 +0800
@@ -2979,12 +2979,16 @@
   ssh_block2waitfor(conn, (nwrite == LIBSSH2_ERROR_EAGAIN)?TRUE:FALSE);
 
   if(nwrite == LIBSSH2_ERROR_EAGAIN) {
     *err = CURLE_AGAIN;
     nwrite = 0;
   }
+  else if(nwrite < LIBSSH2_ERROR_NONE) {
+    *err = libssh2_session_error_to_CURLE(nwrite);
+    nwrite = -1;
+  }
 
   return nwrite;
 }
 
 /*
  * If the read would block (EWOULDBLOCK) we return -1. Otherwise we return
@@ -3123,12 +3127,16 @@
   ssh_block2waitfor(conn, (nwrite == LIBSSH2_ERROR_EAGAIN)?TRUE:FALSE);
 
   if(nwrite == LIBSSH2_ERROR_EAGAIN) {
     *err = CURLE_AGAIN;
     nwrite = 0;
   }
+  else if(nwrite < LIBSSH2_ERROR_NONE) {
+    *err = libssh2_session_error_to_CURLE(nwrite);
+    nwrite = -1;
+  }
 
   return nwrite;
 }
 
 /*
  * Return number of received (decrypted) bytes
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/ssluse.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/ssluse.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/ssluse.c	2012-10-09 06:35:40.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/ssluse.c	2012-11-14 06:01:17.000000000 +0800
@@ -47,12 +47,13 @@
 #include "ssluse.h"
 #include "connect.h"
 #include "strequal.h"
 #include "select.h"
 #include "sslgen.h"
 #include "rawstr.h"
+#include "hostcheck.h"
 
 #define _MPRINTF_REPLACE /* use the internal *printf() functions */
 #include <curl/mprintf.h>
 
 #ifdef USE_SSLEAY
 
@@ -1036,77 +1037,12 @@
 
   return 0;
 }
 
 /* ====================================================== */
 
-/*
- * Match a hostname against a wildcard pattern.
- * E.g.
- *  "foo.host.com" matches "*.host.com".
- *
- * We use the matching rule described in RFC6125, section 6.4.3.
- * http://tools.ietf.org/html/rfc6125#section-6.4.3
- */
-#define HOST_NOMATCH 0
-#define HOST_MATCH   1
-
-static int hostmatch(const char *hostname, const char *pattern)
-{
-  const char *pattern_label_end, *pattern_wildcard, *hostname_label_end;
-  int wildcard_enabled;
-  size_t prefixlen, suffixlen;
-  pattern_wildcard = strchr(pattern, '*');
-  if(pattern_wildcard == NULL) {
-    return Curl_raw_equal(pattern, hostname) ? HOST_MATCH : HOST_NOMATCH;
-  }
-  /* We require at least 2 dots in pattern to avoid too wide wildcard
-     match. */
-  wildcard_enabled = 1;
-  pattern_label_end = strchr(pattern, '.');
-  if(pattern_label_end == NULL || strchr(pattern_label_end+1, '.') == NULL ||
-     pattern_wildcard > pattern_label_end ||
-     Curl_raw_nequal(pattern, "xn--", 4)) {
-    wildcard_enabled = 0;
-  }
-  if(!wildcard_enabled) {
-    return Curl_raw_equal(pattern, hostname) ? HOST_MATCH : HOST_NOMATCH;
-  }
-  hostname_label_end = strchr(hostname, '.');
-  if(hostname_label_end == NULL ||
-     !Curl_raw_equal(pattern_label_end, hostname_label_end)) {
-    return HOST_NOMATCH;
-  }
-  /* The wildcard must match at least one character, so the left-most
-     label of the hostname is at least as large as the left-most label
-     of the pattern. */
-  if(hostname_label_end - hostname < pattern_label_end - pattern) {
-    return HOST_NOMATCH;
-  }
-  prefixlen = pattern_wildcard - pattern;
-  suffixlen = pattern_label_end - (pattern_wildcard+1);
-  return Curl_raw_nequal(pattern, hostname, prefixlen) &&
-    Curl_raw_nequal(pattern_wildcard+1, hostname_label_end - suffixlen,
-                    suffixlen) ?
-    HOST_MATCH : HOST_NOMATCH;
-}
-
-static int
-cert_hostcheck(const char *match_pattern, const char *hostname)
-{
-  if(!match_pattern || !*match_pattern ||
-      !hostname || !*hostname) /* sanity check */
-    return 0;
-
-  if(Curl_raw_equal(hostname, match_pattern)) /* trivial case */
-    return 1;
-
-  if(hostmatch(hostname,match_pattern) == HOST_MATCH)
-    return 1;
-  return 0;
-}
 
 /* Quote from RFC2818 section 3.1 "Server Identity"
 
    If a subjectAltName extension of type dNSName is present, that MUST
    be used as the identity. Otherwise, the (most specific) Common Name
    field in the Subject field of the certificate MUST be used. Although
@@ -1189,13 +1125,13 @@
              "I checked the 0.9.6 and 0.9.8 sources before my patch and
              it always 0-terminates an IA5String."
           */
           if((altlen == strlen(altptr)) &&
              /* if this isn't true, there was an embedded zero in the name
                 string and we cannot match it. */
-             cert_hostcheck(altptr, conn->host.name))
+             Curl_cert_hostcheck(altptr, conn->host.name))
             matched = 1;
           else
             matched = 0;
           break;
 
         case GEN_IPADD: /* IP address comparison */
@@ -1288,21 +1224,16 @@
       ;
     else if(!peer_CN) {
       failf(data,
             "SSL: unable to obtain common name from peer certificate");
       res = CURLE_PEER_FAILED_VERIFICATION;
     }
-    else if(!cert_hostcheck((const char *)peer_CN, conn->host.name)) {
-      if(data->set.ssl.verifyhost > 1) {
-        failf(data, "SSL: certificate subject name '%s' does not match "
-              "target host name '%s'", peer_CN, conn->host.dispname);
-        res = CURLE_PEER_FAILED_VERIFICATION;
-      }
-      else
-        infof(data, "\t common name: %s (does not match '%s')\n",
-              peer_CN, conn->host.dispname);
+    else if(!Curl_cert_hostcheck((const char *)peer_CN, conn->host.name)) {
+      failf(data, "SSL: certificate subject name '%s' does not match "
+            "target host name '%s'", peer_CN, conn->host.dispname);
+      res = CURLE_PEER_FAILED_VERIFICATION;
     }
     else {
       infof(data, "\t common name: %s (matched)\n", peer_CN);
     }
     if(peer_CN)
       OPENSSL_free(peer_CN);
@@ -1567,12 +1498,16 @@
   ctx_options = SSL_OP_ALL;
 
 #ifdef SSL_OP_NO_TICKET
   ctx_options |= SSL_OP_NO_TICKET;
 #endif
 
+#ifdef SSL_OP_NO_COMPRESSION
+  ctx_options |= SSL_OP_NO_COMPRESSION;
+#endif
+
 #ifdef SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG
   /* mitigate CVE-2010-4180 */
   ctx_options &= ~SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG;
 #endif
 
 #ifdef SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS
@@ -2305,30 +2240,30 @@
     connssl->server_cert = NULL;
     return CURLE_SSL_CONNECT_ERROR;
   }
   infof(data, "\t subject: %s\n", buffer);
 
   certdate = X509_get_notBefore(connssl->server_cert);
-  asn1_output(certdate, buffer, sizeof(buffer));
+  asn1_output(certdate, buffer, BUFSIZE);
   infof(data, "\t start date: %s\n", buffer);
 
   certdate = X509_get_notAfter(connssl->server_cert);
-  asn1_output(certdate, buffer, sizeof(buffer));
+  asn1_output(certdate, buffer, BUFSIZE);
   infof(data, "\t expire date: %s\n", buffer);
 
   if(data->set.ssl.verifyhost) {
     retcode = verifyhost(conn, connssl->server_cert);
     if(retcode) {
       X509_free(connssl->server_cert);
       connssl->server_cert = NULL;
       return retcode;
     }
   }
 
   rc = x509_name_oneline(X509_get_issuer_name(connssl->server_cert),
-                         buffer, sizeof(buffer));
+                         buffer, BUFSIZE);
   if(rc) {
     if(strict)
       failf(data, "SSL: couldn't get X509-issuer name!");
     retcode = CURLE_SSL_CONNECT_ERROR;
   }
   else {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/strdup.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/strdup.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/strdup.c	2012-03-09 03:35:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/strdup.c	2012-11-17 20:58:46.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2008, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2012, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at http://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -16,13 +16,15 @@
  * furnished to do so, under the terms of the COPYING file.
  *
  * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
  * KIND, either express or implied.
  *
  ***************************************************************************/
-
+/*
+ * This file is 'mem-include-scan' clean. See test 1132.
+ */
 #include "setup.h"
 
 #include "strdup.h"
 
 #ifndef HAVE_STRDUP
 char *curlx_strdup(const char *str)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/strerror.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/strerror.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/strerror.c	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/strerror.c	2012-11-17 20:58:46.000000000 +0800
@@ -41,12 +41,15 @@
 
 #include "strerror.h"
 
 #define _MPRINTF_REPLACE /* use our functions only */
 #include <curl/mprintf.h>
 
+#include "curl_memory.h"
+/* The last #include file should be: */
+#include "memdebug.h"
 
 const char *
 curl_easy_strerror(CURLcode error)
 {
 #ifndef CURL_DISABLE_VERBOSE_STRINGS
   switch (error) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/tftp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/tftp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/tftp.c	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/tftp.c	2012-11-17 04:59:20.000000000 +0800
@@ -588,22 +588,31 @@
 
   switch(event) {
 
   case TFTP_EVENT_DATA:
     /* Is this the block we expect? */
     rblock = getrpacketblock(&state->rpacket);
-    if(NEXT_BLOCKNUM(state->block) != rblock) {
-      /* No, log it */
+    if(NEXT_BLOCKNUM(state->block) == rblock) {
+      /* This is the expected block.  Reset counters and ACK it. */
+      state->retries = 0;
+    }
+    else if(state->block == rblock) {
+      /* This is the last recently received block again. Log it and ACK it
+         again. */
+      infof(data, "Received last DATA packet block %d again.\n", rblock);
+    }
+    else {
+      /* totally unexpected, just log it */
       infof(data,
             "Received unexpected DATA packet block %d, expecting block %d\n",
             rblock, NEXT_BLOCKNUM(state->block));
       break;
     }
-    /* This is the expected block.  Reset counters and ACK it. */
+
+    /* ACK this block. */
     state->block = (unsigned short)rblock;
-    state->retries = 0;
     setpacketevent(&state->spacket, TFTP_EVENT_ACK);
     setpacketblock(&state->spacket, state->block);
     sbytes = sendto(state->sockfd, (void *)state->spacket.data,
                     4, SEND_4TH_ARG,
                     (struct sockaddr *)&state->remote_addr,
                     state->remote_addrlen);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/transfer.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/transfer.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/transfer.c	2012-09-27 04:59:40.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/transfer.c	2012-11-14 05:02:16.000000000 +0800
@@ -1027,18 +1027,12 @@
      ((select_res & CURL_CSELECT_IN) || conn->bits.stream_was_rewound)) {
 
     result = readwrite_data(data, conn, k, &didwhat, done);
     if(result || *done)
       return result;
   }
-  else if(k->keepon & KEEP_RECV) {
-    DEBUGF(infof(data, "additional stuff not fine %s:%d: %d %d\n",
-                 __FILE__, __LINE__,
-                 select_res & CURL_CSELECT_IN,
-                 conn->bits.stream_was_rewound));
-  }
 
   /* If we still have writing to do, we check if we have a writable socket. */
   if((k->keepon & KEEP_SEND) && (select_res & CURL_CSELECT_OUT)) {
     /* write */
 
     result = readwrite_upload(data, conn, k, &didwhat);
@@ -1430,16 +1424,12 @@
   data->state.this_is_a_follow = FALSE; /* reset this */
   data->state.errorbuf = FALSE; /* no error has occurred */
   data->state.httpversion = 0; /* don't assume any particular server version */
 
   data->state.ssl_connect_retry = FALSE;
 
-  /* zero out auth state */
-  memset(&data->state.authhost, 0, sizeof(struct auth));
-  memset(&data->state.authproxy, 0, sizeof(struct auth));
-
   data->state.authproblem = FALSE;
   data->state.authhost.want = data->set.httpauth;
   data->state.authproxy.want = data->set.proxyauth;
   Curl_safefree(data->info.wouldredirect);
   data->info.wouldredirect = NULL;
 
@@ -1470,12 +1460,18 @@
 
     if(data->set.timeout)
       Curl_expire(data, data->set.timeout);
 
     if(data->set.connecttimeout)
       Curl_expire(data, data->set.connecttimeout);
+
+    /* In case the handle is re-used and an authentication method was picked
+       in the session we need to make sure we only use the one(s) we now
+       consider to be fine */
+    data->state.authhost.picked &= data->state.authhost.want;
+    data->state.authproxy.picked &= data->state.authproxy.want;
   }
 
   return res;
 }
 
 /*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/url.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/url.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/url.c	2012-09-14 04:56:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/url.c	2012-11-18 22:08:45.000000000 +0800
@@ -705,13 +705,13 @@
 
   /*
    * libcurl 7.10 introduced SSL verification *by default*! This needs to be
    * switched off unless wanted.
    */
   set->ssl.verifypeer = TRUE;
-  set->ssl.verifyhost = 2;
+  set->ssl.verifyhost = TRUE;
 #ifdef USE_TLS_SRP
   set->ssl.authtype = CURL_TLSAUTH_NONE;
 #endif
   set->ssh_auth_types = CURLSSH_AUTH_DEFAULT; /* defaults to any auth
                                                       type */
   set->ssl.sessionid = TRUE; /* session ID caching enabled by default */
@@ -2046,19 +2046,31 @@
     data->set.gssapi_delegation = va_arg(param, long);
     break;
   case CURLOPT_SSL_VERIFYPEER:
     /*
      * Enable peer SSL verifying.
      */
-    data->set.ssl.verifypeer = va_arg(param, long);
+    data->set.ssl.verifypeer = (0 != va_arg(param, long))?TRUE:FALSE;
     break;
   case CURLOPT_SSL_VERIFYHOST:
     /*
-     * Enable verification of the CN contained in the peer certificate
+     * Enable verification of the host name in the peer certificate
      */
-    data->set.ssl.verifyhost = va_arg(param, long);
+    arg = va_arg(param, long);
+
+    /* Obviously people are not reading documentation and too many thought
+       this argument took a boolean when it wasn't and misused it. We thus ban
+       1 as a sensible input and we warn about its use. Then we only have the
+       2 action internally stored as TRUE. */
+
+    if(1 == arg) {
+      failf(data, "CURLOPT_SSL_VERIFYHOST no longer supports 1 as value!");
+      return CURLE_BAD_FUNCTION_ARGUMENT;
+    }
+
+    data->set.ssl.verifyhost = (0 != arg)?TRUE:FALSE;
     break;
 #ifdef USE_SSLEAY
     /* since these two options are only possible to use on an OpenSSL-
        powered libcurl we #ifdef them on this condition so that libcurls
        built against other SSL libs will return a proper error when trying
        to set this option! */
@@ -2586,13 +2598,13 @@
     result = setstropt(&data->set.str[STRING_TLSAUTH_PASSWORD],
                        va_arg(param, char *));
     if(data->set.str[STRING_TLSAUTH_USERNAME] && !data->set.ssl.authtype)
       data->set.ssl.authtype = CURL_TLSAUTH_SRP; /* default to SRP */
     break;
   case CURLOPT_TLSAUTH_TYPE:
-    if(strncmp((char *)va_arg(param, char *), "SRP", strlen("SRP")) == 0)
+    if(strnequal((char *)va_arg(param, char *), "SRP", strlen("SRP")))
       data->set.ssl.authtype = CURL_TLSAUTH_SRP;
     else
       data->set.ssl.authtype = CURL_TLSAUTH_NONE;
     break;
 #endif
   case CURLOPT_DNS_SERVERS:
@@ -3972,15 +3984,23 @@
     conn->scope = data->set.scope;
 
   /* Remove the fragment part of the path. Per RFC 2396, this is always the
      last part of the URI. We are looking for the first '#' so that we deal
      gracefully with non conformant URI such as http://example.com#foo#bar. */
   fragment = strchr(path, '#');
-  if(fragment)
+  if(fragment) {
     *fragment = 0;
 
+    /* we know the path part ended with a fragment, so we know the full URL
+       string does too and we need to cut it off from there so it isn't used
+       over proxy */
+    fragment = strchr(data->change.url, '#');
+    if(fragment)
+      *fragment = 0;
+  }
+
   /*
    * So if the URL was A://B/C#D,
    *   protop is A
    *   conn->host.name is B
    *   data->state.path is /C
    */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/urldata.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/urldata.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/urldata.h	2012-09-09 20:46:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/urldata.h	2012-11-14 05:02:16.000000000 +0800
@@ -329,16 +329,15 @@
 #endif /* USE_DARWINSSL */
 };
 
 struct ssl_config_data {
   long version;          /* what version the client wants to use */
   long certverifyresult; /* result from the certificate verification */
-  long verifypeer;       /* set TRUE if this is desired */
-  long verifyhost;       /* 0: no verify
-                            1: check that CN exists
-                            2: CN must match hostname */
+
+  bool verifypeer;       /* set TRUE if this is desired */
+  bool verifyhost;       /* set TRUE if CN/SAN must match hostname */
   char *CApath;          /* certificate dir (doesn't work on windows) */
   char *CAfile;          /* certificate to verify peer against */
   const char *CRLfile;   /* CRL to check certificate revocation */
   const char *issuercert;/* optional issuer certificate filename */
   char *random_file;     /* path to file containing "random" data */
   char *egdsocket;       /* path to file containing the EGD daemon socket */
@@ -991,14 +990,14 @@
   int waitfor;      /* current READ/WRITE bits to wait for */
 
 #if defined(HAVE_GSSAPI) || defined(USE_WINDOWS_SSPI)
   int socks5_gssapi_enctype;
 #endif
 
-  long verifypeer;
-  long verifyhost;
+  bool verifypeer;
+  bool verifyhost;
 
   /* When this connection is created, store the conditions for the local end
      bind. This is stored before the actual bind and before any connection is
      made and will serve the purpose of being used for comparison reasons so
      that subsequent bound-requested connections aren't accidentally re-using
      wrong connections. */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/vc6libcurl.dsp /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/vc6libcurl.dsp
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/lib/vc6libcurl.dsp	2012-10-11 04:00:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/lib/vc6libcurl.dsp	2012-11-20 15:13:17.000000000 +0800
@@ -311,12 +311,16 @@
 # Begin Source File
 
 SOURCE=.\hostasyn.c
 # End Source File
 # Begin Source File
 
+SOURCE=.\hostcheck.c
+# End Source File
+# Begin Source File
+
 SOURCE=.\hostip4.c
 # End Source File
 # Begin Source File
 
 SOURCE=.\hostip6.c
 # End Source File
@@ -751,12 +755,16 @@
 # Begin Source File
 
 SOURCE=.\hash.h
 # End Source File
 # Begin Source File
 
+SOURCE=.\hostcheck.h
+# End Source File
+# Begin Source File
+
 SOURCE=.\hostip.h
 # End Source File
 # Begin Source File
 
 SOURCE=.\http_chunks.h
 # End Source File
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/m4/curl-compilers.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/m4/curl-compilers.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/m4/curl-compilers.m4	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/m4/curl-compilers.m4	2012-11-16 20:02:23.000000000 +0800
@@ -94,13 +94,13 @@
     flags_dbg_all="$flags_dbg_all -gstabs+"
     flags_dbg_all="$flags_dbg_all -gcoff"
     flags_dbg_all="$flags_dbg_all -gxcoff"
     flags_dbg_all="$flags_dbg_all -gdwarf-2"
     flags_dbg_all="$flags_dbg_all -gvms"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -Os -O3 -O4"
     flags_opt_yes="-Os"
     flags_opt_off="-O0"
   else
     AC_MSG_RESULT([no])
   fi
@@ -118,13 +118,13 @@
   if test "$curl_cv_have_def___DECC" = "yes" &&
     test "$curl_cv_have_def___DECC_VER" = "yes"; then
     AC_MSG_RESULT([yes])
     compiler_id="DEC_C"
     flags_dbg_all="-g -g0 -g1 -g2 -g3"
     flags_dbg_yes="-g2"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -O4"
     flags_opt_yes="-O1"
     flags_opt_off="-O0"
   else
     AC_MSG_RESULT([no])
   fi
@@ -154,13 +154,13 @@
     flags_dbg_all="$flags_dbg_all -gstabs+"
     flags_dbg_all="$flags_dbg_all -gcoff"
     flags_dbg_all="$flags_dbg_all -gxcoff"
     flags_dbg_all="$flags_dbg_all -gdwarf-2"
     flags_dbg_all="$flags_dbg_all -gvms"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -Os"
     flags_opt_yes="-O2"
     flags_opt_off="-O0"
     CURL_CHECK_DEF([_WIN32], [], [silent])
   else
     AC_MSG_RESULT([no])
@@ -233,13 +233,13 @@
     compiler_num="$curl_cv_def___INTEL_COMPILER"
     CURL_CHECK_DEF([__unix__], [], [silent])
     if test "$curl_cv_have_def___unix__" = "yes"; then
       compiler_id="INTEL_UNIX_C"
       flags_dbg_all="-g -g0"
       flags_dbg_yes="-g"
-      flags_dbg_off="-g0"
+      flags_dbg_off=""
       flags_opt_all="-O -O0 -O1 -O2 -O3 -Os"
       flags_opt_yes="-O2"
       flags_opt_off="-O0"
     else
       compiler_id="INTEL_WINDOWS_C"
       flags_dbg_all="/ZI /Zi /zI /zi /ZD /Zd /zD /zd /Z7 /z7 /Oy /Oy-"
@@ -297,13 +297,13 @@
     test "$curl_cv_have_def___sgi" = "yes" &&
     test "$compiler_id" = "unknown"; then
     AC_MSG_RESULT([yes])
     compiler_id="SGI_MIPS_C"
     flags_dbg_all="-g -g0 -g1 -g2 -g3"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -Ofast"
     flags_opt_yes="-O2"
     flags_opt_off="-O0"
   else
     AC_MSG_RESULT([no])
   fi
@@ -324,13 +324,13 @@
     (test "$curl_cv_have_def__SGI_COMPILER_VERSION" = "yes" ||
      test "$curl_cv_have_def__COMPILER_VERSION" = "yes"); then
     AC_MSG_RESULT([yes])
     compiler_id="SGI_MIPSPRO_C"
     flags_dbg_all="-g -g0 -g1 -g2 -g3"
     flags_dbg_yes="-g"
-    flags_dbg_off="-g0"
+    flags_dbg_off=""
     flags_opt_all="-O -O0 -O1 -O2 -O3 -Ofast"
     flags_opt_yes="-O2"
     flags_opt_off="-O0"
   else
     AC_MSG_RESULT([no])
   fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/AIX/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/AIX/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/AIX/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/AIX/Makefile.in	2012-11-16 20:02:41.000000000 +0800
@@ -286,15 +286,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/AIX/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/AIX/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/AIX/Makefile
+	  $(AUTOMAKE) --gnu  packages/AIX/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/AIX/RPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/AIX/RPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/AIX/RPM/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/AIX/RPM/Makefile.in	2012-11-16 20:02:41.000000000 +0800
@@ -277,15 +277,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/AIX/RPM/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/AIX/RPM/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/AIX/RPM/Makefile
+	  $(AUTOMAKE) --gnu  packages/AIX/RPM/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Linux/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Linux/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Linux/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Linux/Makefile.in	2012-11-16 20:02:41.000000000 +0800
@@ -285,15 +285,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/Linux/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/Linux/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/Linux/Makefile
+	  $(AUTOMAKE) --gnu  packages/Linux/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Linux/RPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Linux/RPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Linux/RPM/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Linux/RPM/Makefile.in	2012-11-16 20:02:41.000000000 +0800
@@ -277,15 +277,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/Linux/RPM/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/Linux/RPM/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/Linux/RPM/Makefile
+	  $(AUTOMAKE) --gnu  packages/Linux/RPM/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Makefile.in	2012-11-16 20:02:42.000000000 +0800
@@ -316,15 +316,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/Makefile
+	  $(AUTOMAKE) --gnu  packages/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/ccsidcurl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/ccsidcurl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/ccsidcurl.c	2012-03-09 03:35:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/ccsidcurl.c	2012-11-14 05:02:16.000000000 +0800
@@ -1029,13 +1029,13 @@
   if (testwarn) {
     testwarn = 0;
 
 #ifdef USE_TLS_SRP
     if ((int) STRING_LAST != (int) STRING_TLSAUTH_PASSWORD + 1)
 #else
-    if ((int) STRING_LAST != (int) STRING_MAIL_FROM + 1)
+    if ((int) STRING_LAST != (int) STRING_MAIL_AUTH + 1)
 #endif
       curl_mfprintf(stderr,
        "*** WARNING: curl_easy_setopt_ccsid() should be reworked ***\n");
     }
 
   data = (struct SessionHandle *) curl;
@@ -1048,22 +1048,24 @@
   case CURLOPT_COOKIE:
   case CURLOPT_COOKIEFILE:
   case CURLOPT_COOKIEJAR:
   case CURLOPT_COOKIELIST:
   case CURLOPT_CRLFILE:
   case CURLOPT_CUSTOMREQUEST:
+  case CURLOPT_DNS_SERVERS:
   case CURLOPT_EGDSOCKET:
   case CURLOPT_ENCODING:
   case CURLOPT_FTP_ACCOUNT:
   case CURLOPT_FTP_ALTERNATIVE_TO_USER:
   case CURLOPT_FTPPORT:
   case CURLOPT_INTERFACE:
   case CURLOPT_ISSUERCERT:
   case CURLOPT_KEYPASSWD:
   case CURLOPT_KRBLEVEL:
   case CURLOPT_MAIL_FROM:
+  case CURLOPT_MAIL_AUTH:
   case CURLOPT_NETRC_FILE:
   case CURLOPT_NOPROXY:
   case CURLOPT_PASSWORD:
   case CURLOPT_PROXY:
   case CURLOPT_PROXYPASSWORD:
   case CURLOPT_PROXYUSERNAME:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/curl.inc.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/curl.inc.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/curl.inc.in	2012-03-09 03:35:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/curl.inc.in	2012-11-14 05:02:16.000000000 +0800
@@ -170,12 +170,14 @@
      d CURLSSH_AUTH_PASSWORD...
      d                 c                   X'00000002'
      d CURLSSH_AUTH_HOST...
      d                 c                   X'00000004'
      d CURLSSH_AUTH_KEYBOARD...
      d                 c                   X'00000008'
+     d CURLSSH_AUTH_AGENT...
+     d                 c                   X'00000010'
      d CURLSSH_AUTH_DEFAULT...
      d                 c                   X'7FFFFFFF'                          CURLSSH_AUTH_ANY
       *
      d CURLGSSAPI_DELEGATION_NONE...
      d                 c                   0
      d CURLGSSAPI_DELEGATION_POLICY_FLAG...
@@ -233,14 +235,16 @@
      d CURL_REDIR_GET_ALL...
      d                 c                   0
      d CURL_REDIR_POST_301...
      d                 c                   1
      d CURL_REDIR_POST_302...
      d                 c                   2
+     d CURL_REDIR_POST_303...
+     d                 c                   4
      d CURL_REDIR_POST_ALL...
-     d                 c                   3
+     d                 c                   7
       *
      d CURL_POLL_NONE  c                   0
      d CURL_POLL_IN    c                   1
      d CURL_POLL_OUT   c                   2
      d CURL_POLL_INOUT...
      d                 c                   3
@@ -296,12 +300,19 @@
      d                 c                   0
      d CURL_FNMATCHFUNC_NOMATCH...
      d                 c                   1
      d CURL_FNMATCHFUNC_FAIL...
      d                 c                   2
       *
+     d CURL_WAIT_POLLIN...
+     d                 c                   X'0001'
+     d CURL_WAIT_POLLPRI...
+     d                 c                   X'0002'
+     d CURL_WAIT_POLLOUT...
+     d                 c                   X'0004'
+      *
       **************************************************************************
       *                                Types
       **************************************************************************
       *
      d curl_socket_t   s             10i 0 based(######ptr######)
       *
@@ -324,17 +335,17 @@
      d  CURLE_COULDNT_CONNECT...
      d                 c                   7
      d  CURLE_FTP_WEIRD_SERVER_REPLY...
      d                 c                   8
      d  CURLE_REMOTE_ACCESS_DENIED...
      d                 c                   9
-     d  CURLE_OBSOLETE10...
+     d  CURLE_FTP_ACCEPT_FAILED...
      d                 c                   10
      d  CURLE_FTP_WEIRD_PASS_REPLY...
      d                 c                   11
-     d  CURLE_OBSOLETE12...
+     d  CURLE_FTP_ACCEPT_TIMEOUT...
      d                 c                   12
      d  CURLE_FTP_WEIRD_PASV_REPLY...
      d                 c                   13
      d  CURLE_FTP_WEIRD_227_FORMAT...
      d                 c                   14
      d  CURLE_FTP_CANT_GET_HOST...
@@ -638,12 +649,15 @@
      d                 c                   1
      d  CURLUSESSL_CONTROL...
      d                 c                   2
      d  CURLUSESSL_ALL...
      d                 c                   3
       *
+     d CURLSSLOPT_ALLOW_BEAST...
+     d                 c                   1
+      *
       /if not defined(CURL_NO_OLDIES)
      d curl_ftpssl     s                   like(curl_usessl)
      d                                     based(######ptr######)
      d  CURLFTPSSL_NONE...
      d                 c                   0
      d  CURLFTPSSL_TRY...
@@ -1121,12 +1135,26 @@
      d  CURLOPT_CLOSESOCKETFUNCTION...
      d                 c                   20208
      d  CURLOPT_CLOSESOCKETDATA...
      d                 c                   10209
      d  CURLOPT_GSSAPI_DELEGATION...
      d                 c                   00210
+     d  CURLOPT_DNS_SERVERS...
+     d                 c                   10211
+     d  CURLOPT_ACCEPTTIMEOUT_MS...
+     d                 c                   00212
+     d  CURLOPT_TCP_KEEPALIVE...
+     d                 c                   00213
+     d  CURLOPT_TCP_KEEPIDLE...
+     d                 c                   00214
+     d  CURLOPT_TCP_KEEPINTVL...
+     d                 c                   00215
+     d  CURLOPT_SSL_OPTIONS...
+     d                 c                   00216
+     d  CURLOPT_MAIL_AUTH...
+     d                 c                   10217
       *
       /if not defined(CURL_NO_OLDIES)
      d  CURLOPT_SSLKEYPASSWD...
      d                 c                   10026
      d  CURLOPT_SSLCERTPASSWD...
      d                 c                   10026
@@ -1382,12 +1410,14 @@
      d  CURLVERSION_NOW...
      d                 c                   3                                    CURLVERSION_FOURTH
       *
      d curlsocktype    s             10i 0 based(######ptr######)               Enum
      d  CURLSOCKTYPE_IPCXN...
      d                 c                   0
+     d  CURLSOCKTYPE_ACCEPT...
+     d                 c                   1
       *
      d  CURL_SOCKOPT_OK...
      d                 c                   0
      d  CURL_SOCKOPT_ERROR...
      d                 c                   1
      d  CURL_SOCKOPT_ALREADY_CONNECTED...
@@ -1468,12 +1498,19 @@
      d  msg                                like(CURLMSG)
      d  easy_handle                    *                                        CURL *
      d  data                           *
      d   whatever                      *   overlay(data)                        void *
      d   result                            overlay(data) like(CURLcode)
       *
+     d curl_waitfd...
+     d                 ds                  based(######ptr######)
+     d                                     qualified
+     d  fd                                 like(curl_socket_t)
+     d  events                        5i 0
+     d  revents                       5i 0
+      *
      d curl_http_post...
      d                 ds                  based(######ptr######)
      d                                     qualified
      d  next                           *                                        curl_httppost *
      d  name                           *                                        char *
      d  namelength                   10i 0                                      long
@@ -1913,12 +1950,21 @@
      d  multi_handle                   *   value                                CURLM *
      d  read_fd_set               65535    options(*varsize)                    fd_set
      d  write_fd_set              65535    options(*varsize)                    fd_set
      d  exc_fd_set                65535    options(*varsize)                    fd_set
      d  max_fd                       10i 0
       *
+     d curl_multi_wait...
+     d                 pr                  extproc('curl_multi_wait')
+     d                                     like(CURLMcode)
+     d  multi_handle                   *   value                                CURLM *
+     d  extra_fds                      *   value                                curl_waitfd *
+     d  extra_nfds                   10u 0 value
+     d  timeout_ms                   10i 0 value
+     d  ret                          10i 0 options(*omit)
+      *
      d curl_multi_perform...
      d                 pr                  extproc('curl_multi_perform')
      d                                     like(CURLMcode)
      d  multi_handle                   *   value                                CURLM *
      d  running_handles...
      d                               10i 0
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/initscript.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/initscript.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/initscript.sh	2012-04-25 23:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/initscript.sh	2012-11-14 05:02:16.000000000 +0800
@@ -154,17 +154,14 @@
 db2_name()
 
 {
         basename "${1}"                                                 |
         tr 'a-z-' 'A-Z_'                                                |
         sed -e 's/\..*//'                                               \
-            -e 's/\([^_]\)[^_]*_\(.*\)/\1\2/'                                \
-            -e 's/\([^_]\)\([^_]\)[^_]*_\(.*\)/\1\2\3/'                      \
-            -e 's/\([^_]\)\([^_]\)\([^_]\)[^_]*_\(.*\)/\1\2\3\4/'            \
-            -e 's/\([^_]\)\([^_]\)\([^_]\)\([^_]\)[^_]*_\(.*\)/\1\2\3\4\5/'  \
-            -e 's/^\(..........\).*/\1/'
+            -e 's/^CURL_*/C/'                                           \
+            -e 's/^\(.\).*\(.........\)$/\1\2/'
 }
 
 
 #       Copy IFS file replacing version info.
 
 versioned_copy()
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/make-lib.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/make-lib.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/make-lib.sh	2012-03-09 03:35:26.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/make-lib.sh	2012-11-14 05:02:16.000000000 +0800
@@ -10,13 +10,13 @@
 
 #      Create and compile the identification source file.
 
 echo '#pragma comment(user, "libcurl version '"${LIBCURL_VERSION}"'")' > os400.c
 echo '#pragma comment(user, __DATE__)' >> os400.c
 echo '#pragma comment(user, __TIME__)' >> os400.c
-echo '#pragma comment(copyright, "Copyright (C) 1998-2011 Daniel Stenberg et al. OS/400 version by P. Monnerat")' >> os400.c
+echo '#pragma comment(copyright, "Copyright (C) 1998-2012 Daniel Stenberg et al. OS/400 version by P. Monnerat")' >> os400.c
 make_module     OS400           os400.c
 LINK=                           # No need to rebuild service program yet.
 MODULES=
 
 
 #       Get source list.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/README.OS400 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/README.OS400
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/OS400/README.OS400	2012-03-09 03:35:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/OS400/README.OS400	2012-11-14 05:02:16.000000000 +0800
@@ -70,22 +70,24 @@
         CURLOPT_COOKIEFILE
         CURLOPT_COOKIEJAR
         CURLOPT_COOKIELIST
         CURLOPT_COPYPOSTFIELDS
         CURLOPT_CRLFILE
         CURLOPT_CUSTOMREQUEST
+        CURLOPT_DNS_SERVERS
         CURLOPT_EGDSOCKET
         CURLOPT_ENCODING
         CURLOPT_FTP_ACCOUNT
         CURLOPT_FTP_ALTERNATIVE_TO_USER
         CURLOPT_FTPPORT
         CURLOPT_INTERFACE
         CURLOPT_ISSUERCERT
         CURLOPT_KEYPASSWD
         CURLOPT_KRBLEVEL
         CURLOPT_MAIL_FROM
+        CURLOPT_MAIL_AUTH
         CURLOPT_NETRC_FILE
         CURLOPT_NOPROXY
         CURLOPT_PASSWORD
         CURLOPT_PROXY
         CURLOPT_PROXYPASSWORD
         CURLOPT_PROXYUSERNAME
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Solaris/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Solaris/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Solaris/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Solaris/Makefile.in	2012-11-16 20:02:42.000000000 +0800
@@ -283,15 +283,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/Solaris/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/Solaris/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/Solaris/Makefile
+	  $(AUTOMAKE) --gnu  packages/Solaris/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/vms/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/vms/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/vms/Makefile.in	2012-09-09 04:39:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/vms/Makefile.in	2012-11-16 20:02:42.000000000 +0800
@@ -292,15 +292,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/vms/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/vms/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/vms/Makefile
+	  $(AUTOMAKE) --gnu  packages/vms/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Win32/cygwin/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Win32/cygwin/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Win32/cygwin/Makefile.in	2012-09-09 04:39:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Win32/cygwin/Makefile.in	2012-11-16 20:02:42.000000000 +0800
@@ -293,15 +293,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/Win32/cygwin/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/Win32/cygwin/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/Win32/cygwin/Makefile
+	  $(AUTOMAKE) --gnu  packages/Win32/cygwin/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Win32/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Win32/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/packages/Win32/Makefile.in	2012-09-09 04:39:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/packages/Win32/Makefile.in	2012-11-16 20:02:42.000000000 +0800
@@ -286,15 +286,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  packages/Win32/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  packages/Win32/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  packages/Win32/Makefile
+	  $(AUTOMAKE) --gnu  packages/Win32/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/RELEASE-NOTES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/RELEASE-NOTES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/RELEASE-NOTES	2012-10-11 03:57:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/RELEASE-NOTES	2012-11-20 15:05:41.000000000 +0800
@@ -1,99 +1,87 @@
-Curl and libcurl 7.28.0
+Curl and libcurl 7.28.1
 
- Public curl releases:         129
+ Public curl releases:         130
  Command line options:         152
  curl_easy_setopt() options:   199
  Public functions in libcurl:  58
  Known libcurl bindings:       39
- Contributors:                 953
+ Contributors:                 979
 
 This release includes the following changes:
 
- o SSH: added agent based authentication
- o ftp: active conn, allow application to set sockopt after accept() call
-   with CURLSOCKTYPE_ACCEPT
- o multi: add curl_multi_wait() [12]
- o metalink: Added support for Microsoft Windows CryptoAPI
- o md5: Added support for Microsoft Windows CryptoAPI
- o parse_proxy: treat "socks://x" as a socks4 proxy [17]
- o socks: Added support for IPv6 connections through SOCKSv5 proxy
+ o metalink/md5: Use CommonCrypto on Apple operating systems
+ o href_extractor: new example code extracting href elements
+ o NSS can be used for metalink hashing [13]
 
 This release includes the following bugfixes:
 
- o WSAPoll disabled on Windows builds due to its bugs [8]
- o segfault on request retries [1]
- o curl-config: parentheses fix [2]
- o VC build: add define for openssl [3]
- o globbing: fix segfault when >9 globs were used [4]
- o fixed a few clang-analyzer warnings
- o metalink: change code order to build with gnutls-nettle [5]
- o gtls: fix build failure by including nettle-specific headers [5]
- o change preferred HTTP auth on a handle previously used for another auth [9]
- o file: use fdopen() to avoid race condition [6]
- o Added DWANT_IDN_PROTOTYPES define for MSVC too [7]
- o verbose: fixed (nil) output of hostnames in re-used connections [10]
- o metalink: Un-broke the build when building --with-darwinssl
- o curl man page cleanup
- o Avoid leak of local device string when reusing connection
- o Curl_socket_check: fix return code for timeout [11]
- o nss: do not print misleading NSS error codes
- o configure: remove the --enable/disable-nonblocking options
- o darwinssl: add TLS 1.1 and 1.2 support, replace deprecated functions
- o NTLM: re-use existing connection better
- o schannel crash on multi and easy handle cleanup
- o SOCKS: truly disable it if CURL_DISABLE_PROXY is defined [13]
- o mk-ca-bundle: detect start of trust section better [14]
- o gnutls: do not fail on non-fatal handshake errors [15]
- o SMTP: only send SIZE if supported [16]
- o ftpserver: respond with a 250 to SMTP EHLO
- o ssh: do not crash if MD5 fingerprint is not provided by libssh2
- o winbuild: Added support for building with SPNEGO enabled
- o metalink: Fixed validation of binary files containing EOF
- o setup.h: fixed for MS VC10 build [18]
- o cmake: use standard findxxx modules for cmake v2.8+
- o HTTP_ONLY: disable more protocols [19]
- o Curl_reconnect_request: clear pointer on failure [20]
- o https.c example: remember to call curl_global_init()
- o metalink: Filter resource URLs by type
- o multi interface: CURLOPT_LOW_SPEED_* fix during rate limitation [21]
- o curl_schannel: Removed buffer limit and optimized buffer strategy
+ o Fix broken libmetalink-aware OpenSSL build
+ o gnutls: fix the error is fatal logic [1]
+ o darwinssl: un-broke iOS build, fix error on server disconnect
+ o asyn-ares: restore functionality with c-ares < 1.6.1 [2]
+ o tlsauthtype: deal with the string case insensitively [3]
+ o Fixed MSVC libssh2 static build
+ o evhiperfifo: fix the pointer passed to WRITEDATA [6]
+ o BUGS: fix the bug tracker URL [4]
+ o winbuild: Use machine type of development environment
+ o FTP: prevent the multi interface from blocking [5]
+ o uniformly use AM_CPPFLAGS, avoid deprecated INCLUDES
+ o httpcustomheader.c: free the headers after use
+ o fix >2000 bytes POST over NTLM-using proxy [7]
+ o redirects to URLs with fragments [8]
+ o don't send '#' fragments when using proxy [9]
+ o OpenSSL: show full issuer string [10]
+ o fix HTTP auth regression [11]
+ o CURLOPT_SSL_VERIFYHOST: stop supporting the 1 value [12]
+ o ftp: EPSV-disable fix over SOCKS [14]
+ o Digest: Add microseconds into nounce calculation [15]
+ o SCP/SFTP: improve error code used for send failures
+ o SSL: Several SSL-backend related fixes
+ o removed the notorious "additional stuff not fine" debug output
+ o OpenSSL: Disable SSL/TLS compression - avoid the "CRIME" attack
+ o FILE: Make upload-writes unbuffered
+ o custom memory callbacks failure with HTTP proxy (and more) [16]
+ o TFTP: handle resends
+ o autoconf: don't force-disable compiler debug option
+ o winbuild: Fix PDB file output [17]
+ o test2032: spurious failure caused by premature termination [18]
+ o memory leak: CURLOPT_RESOLVE with multi interface [19]
 
 This release includes the following known bugs:
 
  o see docs/KNOWN_BUGS (http://curl.haxx.se/docs/knownbugs.html)
 
 This release would not have looked like this without help, code, reports and
 advice from friends like these:
 
- Guenter Knauf, Joe Mason, Kamil Dudka, Steve Holme, Anthony G. Basile,
- Edward Sheldrake, Jan Koen Annot, Maxime Larocque, Mike Crowe, Anthony Bryan,
- Nick Zitzmann, Gisle Vanem, Armel Asselin, Dan Fandrich, Dave Reisner,
- Gokhan Sengun, Sara Golemon, Olivier Berger, Marc Hoersken, David Blaikie,
- Alessandro Ghedini, František Kučera, Marcel Raad, Scott Bailey, Ho-chi Chen,
- Tomas Mlcoch, Jie He, Tatsuhiro Tsujikawa, Sergei Nikulov, Mark Tully
+ Guenter Knauf, Alessandro Ghedini, Nick Zitzmann, Michal Kowalczyk,
+ Jeff Connelly, Oscar Norlander, Guido Berhoerster, Marc Hoersken,
+ Dave Reisner, Jan Ehrhardt, John Suprock, Alessandro Ghedini,
+ Lars Buitinck, Anton Malov, Sergei Nikulov, Patrick Monnerat,
+ Gabriel Sjoberg, Oscar Koeroo, Fabian Keil, Johnny Luong, Cristian Rodríguez,
+ Sebastian Rasmussen, Mark Snelling, Christian Vogt, Marcin Adamski,
+ Ajit Dhumale, Alex Gruz
 
         Thanks! (and sorry if I forgot to mention someone)
 
 References to bug reports and discussions on issues:
 
- [1] = http://curl.haxx.se/bug/view.cgi?id=3544688
- [2] = http://curl.haxx.se/bug/view.cgi?id=3551460
- [3] = http://curl.haxx.se/bug/view.cgi?id=3552997
- [4] = http://curl.haxx.se/bug/view.cgi?id=3546353
- [5] = http://curl.haxx.se/bug/view.cgi?id=3554668
- [6] = https://bugzilla.redhat.com/844385
- [7] = http://curl.haxx.se/mail/lib-2012-07/0271.html
- [8] = http://curl.haxx.se/mail/lib-2012-07/0310.html
- [9] = http://curl.haxx.se/bug/view.cgi?id=3545398
- [10] = http://curl.haxx.se/mail/lib-2012-07/0111.html
- [11] = http://curl.haxx.se/mail/lib-2012-07/0122.html
- [12] = http://daniel.haxx.se/blog/2012/09/03/introducing-curl_multi_wait/
- [13] = http://curl.haxx.se/bug/view.cgi?id=3561305
- [14] = http://curl.haxx.se/mail/lib-2012-09/0019.html
- [15] = http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=685402
- [16] = http://curl.haxx.se/bug/view.cgi?id=3564114
- [17] = http://curl.haxx.se/bug/view.cgi?id=3566860
- [18] = http://curl.haxx.se/bug/view.cgi?id=3568327
- [19] = http://curl.haxx.se/mail/lib-2012-09/0127.html
- [20] = http://curl.haxx.se/mail/lib-2012-09/0188.html
- [21] = http://curl.haxx.se/mail/lib-2012-09/0081.html
+ [1] = http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=690551
+ [2] = http://curl.haxx.se/bug/view.cgi?id=3577710
+ [3] = http://curl.haxx.se/bug/view.cgi?id=3578418
+ [4] = http://curl.haxx.se/bug/view.cgi?id=3582408
+ [5] = http://curl.haxx.se/bug/view.cgi?id=3579064
+ [6] = http://curl.haxx.se/bug/view.cgi?id=3582407
+ [7] = http://curl.haxx.se/bug/view.cgi?id=3582321
+ [8] = http://curl.haxx.se/bug/view.cgi?id=3581898
+ [9] = http://curl.haxx.se/bug/view.cgi?id=3579813
+ [10] = http://curl.haxx.se/bug/view.cgi?id=3579286
+ [11] = http://curl.haxx.se/bug/view.cgi?id=3582718
+ [12] = http://daniel.haxx.se/blog/2012/10/25/libcurl-claimed-to-be-dangerous/
+ [13] = http://curl.haxx.se/bug/view.cgi?id=3578163
+ [14] = http://curl.haxx.se/bug/view.cgi?id=3586338
+ [15] = https://github.com/bagder/curl/pull/50
+ [16] = http://curl.haxx.se/mail/lib-2012-11/0125.html
+ [17] = http://curl.haxx.se/bug/view.cgi?id=3586741
+ [18] = http://curl.haxx.se/mail/lib-2012-11/0095.html
+ [19] = http://curl.haxx.se/bug/view.cgi?id=3575448
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/hugehelp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/hugehelp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/hugehelp.c	2012-09-10 05:18:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/hugehelp.c	2012-11-16 21:29:00.000000000 +0800
@@ -1,11 +1,11 @@
 #include "tool_setup.h"
 #ifndef HAVE_LIBZ
 /*
  * NEVER EVER edit this manually, fix the mkhelp.pl script instead!
- * Generation time: Sun Sep  9 23:18:09 2012
+ * Generation time: Fri Nov 16 14:29:00 2012
  */
 #ifdef USE_MANUAL
 #include "hugehelp.h"
 void hugehelp(void)
 {
    fputs(
@@ -3896,13 +3896,13 @@
 , stdout) ;
 }
 #endif /* USE_MANUAL */
 #else
 /*
  * NEVER EVER edit this manually, fix the mkhelp.pl script instead!
- * Generation time: Sun Sep  9 23:18:09 2012
+ * Generation time: Fri Nov 16 14:29:00 2012
  */
 #ifdef USE_MANUAL
 #include "hugehelp.h"
 #include <zlib.h>
 #include "memdebug.h" /* keep this as LAST include */
 static const unsigned char hugehelpgz[] = {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/Makefile.am	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/Makefile.am	2012-11-14 05:02:16.000000000 +0800
@@ -31,25 +31,25 @@
 # $(top_srcdir)/include is for libcurl's external include files
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_builddir)/src is for curl's generated src/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_srcdir)/src is for curl's src/tool_setup.h and "curl-private" files
 
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_builddir)/src          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_srcdir)/src
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_builddir)/src          \
+              -I$(top_srcdir)/lib            \
+              -I$(top_srcdir)/src
 
 bin_PROGRAMS = curl
 
 # Mostly for Windows build targets, when using static libcurl
 if USE_CPPFLAG_CURL_STATICLIB
-AM_CPPFLAGS = -DCURL_STATICLIB
+AM_CPPFLAGS += -DCURL_STATICLIB
 endif
 
 include Makefile.inc
 
 # This might hold -Werror
 CFLAGS += @CURL_CFLAG_EXTRAS@ @LIBMETALINK_CFLAGS@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/Makefile.in	2012-09-09 04:39:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/Makefile.in	2012-11-16 20:02:42.000000000 +0800
@@ -43,12 +43,15 @@
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
 bin_PROGRAMS = curl$(EXEEXT)
+
+# Mostly for Windows build targets, when using static libcurl
+@USE_CPPFLAG_CURL_STATICLIB_TRUE@am__append_1 = -DCURL_STATICLIB
 DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in \
 	$(srcdir)/Makefile.inc
 subdir = src
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/curl-compilers.m4 \
 	$(top_srcdir)/m4/curl-confopts.m4 \
@@ -355,23 +358,16 @@
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_builddir)/src is for curl's generated src/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_srcdir)/src is for curl's src/tool_setup.h and "curl-private" files
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_builddir)/src          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_srcdir)/src
-
-
-# Mostly for Windows build targets, when using static libcurl
-@USE_CPPFLAG_CURL_STATICLIB_TRUE@AM_CPPFLAGS = -DCURL_STATICLIB
+AM_CPPFLAGS = -I$(top_builddir)/include/curl -I$(top_builddir)/include \
+	-I$(top_srcdir)/include -I$(top_builddir)/lib \
+	-I$(top_builddir)/src -I$(top_srcdir)/lib -I$(top_srcdir)/src \
+	$(am__append_1)
 
 # libcurl has sources that provide functions named curlx_* that aren't part of
 # the official API, but we re-use the code here to avoid duplication.
 CURLX_ONES = $(top_srcdir)/lib/strtoofft.c \
 	$(top_srcdir)/lib/strdup.c \
 	$(top_srcdir)/lib/rawstr.c \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/Makefile.m32 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/Makefile.m32
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/Makefile.m32	2012-09-12 00:57:22.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/Makefile.m32	2012-11-14 05:02:16.000000000 +0800
@@ -29,12 +29,20 @@
 LIBRTMP_PATH = ../../librtmp-2.3
 endif
 # Edit the path below to point to the base of your libmetalink package.
 ifndef LIBMETALINK_PATH
 LIBMETALINK_PATH = ../../libmetalink-0.1.2
 endif
+# Edit the path below to point to the base of your libexpat package.
+ifndef LIBEXPAT_PATH
+LIBEXPAT_PATH = ../../expat-2.1.0
+endif
+# Edit the path below to point to the base of your libxml2 package.
+ifndef LIBXML2_PATH
+LIBXML2_PATH = ../../libxml2-2.9.0
+endif
 # Edit the path below to point to the base of your libidn package.
 ifndef LIBIDN_PATH
 LIBIDN_PATH = ../../libidn-1.18
 endif
 # Edit the path below to point to the base of your MS IDN package.
 # Microsoft Internationalized Domain Names (IDN) Mitigation APIs 1.1
@@ -64,12 +72,13 @@
 CFLAGS	+= -fno-strict-aliasing
 ifeq ($(ARCH),w64)
 CFLAGS	+= -D_AMD64_
 endif
 # comment LDFLAGS below to keep debug info
 LDFLAGS	= -s
+AR	= $(CROSSPREFIX)ar
 RC	= $(CROSSPREFIX)windres
 RCFLAGS	= --include-dir=$(PROOT)/include -O COFF -i
 
 # We may need these someday
 # PERL = perl
 # NROFF = nroff
@@ -177,12 +186,23 @@
 endif
 ifdef SSH2
   CFLAGS += -DUSE_LIBSSH2 -DHAVE_LIBSSH2_H
   curl_LDADD += -L"$(LIBSSH2_PATH)/win32" -lssh2
 endif
 ifdef SSL
+  ifndef OPENSSL_INCLUDE
+    ifeq "$(wildcard $(OPENSSL_PATH)/outinc)" "$(OPENSSL_PATH)/outinc"
+      OPENSSL_INCLUDE = $(OPENSSL_PATH)/outinc
+    endif
+    ifeq "$(wildcard $(OPENSSL_PATH)/include)" "$(OPENSSL_PATH)/include"
+      OPENSSL_INCLUDE = $(OPENSSL_PATH)/include
+    endif
+  endif
+  ifneq "$(wildcard $(OPENSSL_INCLUDE)/openssl/opensslv.h)" "$(OPENSSL_INCLUDE)/openssl/opensslv.h"
+  $(error Invalid path to OpenSSL package: $(OPENSSL_PATH))
+  endif
   ifndef OPENSSL_LIBPATH
     OPENSSL_LIBS = -lssl -lcrypto
     ifeq "$(wildcard $(OPENSSL_PATH)/out)" "$(OPENSSL_PATH)/out"
       OPENSSL_LIBPATH = $(OPENSSL_PATH)/out
       ifdef DYN
         OPENSSL_LIBS = -lssl32 -leay32
@@ -192,13 +212,14 @@
       OPENSSL_LIBPATH = $(OPENSSL_PATH)/lib
     endif
   endif
   ifndef DYN
     OPENSSL_LIBS += -lgdi32 -lcrypt32
   endif
-  CFLAGS += -DUSE_SSLEAY
+  INCLUDES += -I"$(OPENSSL_INCLUDE)"
+  CFLAGS += -DUSE_SSLEAY -DUSE_OPENSSL
   curl_LDADD += -L"$(OPENSSL_LIBPATH)" $(OPENSSL_LIBS)
 endif
 ifdef ZLIB
   INCLUDES += -I"$(ZLIB_PATH)"
   CFLAGS += -DHAVE_LIBZ -DHAVE_ZLIB_H
   curl_LDADD += -L"$(ZLIB_PATH)" -lz
@@ -210,15 +231,22 @@
 ifdef WINIDN
   CFLAGS += -DUSE_WIN32_IDN
   curl_LDADD += -L"$(WINIDN_PATH)" -lnormaliz
 endif
 endif
 ifdef METALINK
-  INCLUDES += -I"$(LIBMETALINK_PATH)/lib/includes"
+  INCLUDES += -I"$(LIBMETALINK_PATH)/include"
   CFLAGS += -DUSE_METALINK
-  curl_LDADD += -L"$(LIBMETALINK_PATH)/lib/.libs" -lmetalink.dll
+  curl_LDADD += -L"$(LIBMETALINK_PATH)/lib" -lmetalink
+  ifndef DYN
+    ifeq ($(findstring libexpat_metalink_parser.o,$(shell $(AR) t "$(LIBMETALINK_PATH)/lib/libmetalink.a")),libexpat_metalink_parser.o)
+      curl_LDADD += -L"$(LIBEXPAT_PATH)/lib" -lexpat
+    else
+      curl_LDADD += -L"$(LIBXML2_PATH)/lib" -lxml2
+    endif
+  endif
 endif
 ifdef SSPI
   CFLAGS += -DUSE_WINDOWS_SSPI
   ifdef WINSSL
     CFLAGS += -DUSE_SCHANNEL
   endif
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_metalink.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_metalink.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_metalink.c	2012-10-02 04:03:07.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_metalink.c	2012-11-14 05:02:16.000000000 +0800
@@ -49,16 +49,25 @@
 #  define SHA256_CTX struct sha256_ctx
 #elif defined(USE_GNUTLS)
 #  include <gcrypt.h>
 #  define MD5_CTX    gcry_md_hd_t
 #  define SHA_CTX    gcry_md_hd_t
 #  define SHA256_CTX gcry_md_hd_t
-#elif defined(USE_DARWINSSL)
-/* For darwinssl: CommonCrypto has the functions we need. The library's
-   headers are even backward-compatible with OpenSSL's headers as long as
-   we define COMMON_DIGEST_FOR_OPENSSL first.
+#elif defined(USE_NSS)
+#  include <nss.h>
+#  include <pk11pub.h>
+#  define MD5_CTX    void *
+#  define SHA_CTX    void *
+#  define SHA256_CTX void *
+#  ifdef HAVE_NSS_INITCONTEXT
+     static NSSInitContext *nss_context;
+#  endif
+#elif defined(__MAC_10_4) || defined(__IPHONE_5_0)
+/* For Apple operating systems: CommonCrypto has the functions we need.
+   The library's headers are even backward-compatible with OpenSSL's
+   headers as long as we define COMMON_DIGEST_FOR_OPENSSL first.
 
    These functions are available on Tiger and later, as well as iOS 5.0
    and later. If you're building for an older cat, well, sorry. */
 #  define COMMON_DIGEST_FOR_OPENSSL
 #  include <CommonCrypto/CommonDigest.h>
 #elif defined(_WIN32)
@@ -109,15 +118,16 @@
   if(!(val)) \
     return PARAM_NO_MEM; \
 } WHILE_FALSE
 
 #ifdef USE_GNUTLS_NETTLE
 
-static void MD5_Init(MD5_CTX *ctx)
+static int MD5_Init(MD5_CTX *ctx)
 {
   md5_init(ctx);
+  return 1;
 }
 
 static void MD5_Update(MD5_CTX *ctx,
                        const unsigned char *input,
                        unsigned int inputLen)
 {
@@ -126,15 +136,16 @@
 
 static void MD5_Final(unsigned char digest[16], MD5_CTX *ctx)
 {
   md5_digest(ctx, 16, digest);
 }
 
-static void SHA1_Init(SHA_CTX *ctx)
+static int SHA1_Init(SHA_CTX *ctx)
 {
   sha1_init(ctx);
+  return 1;
 }
 
 static void SHA1_Update(SHA_CTX *ctx,
                         const unsigned char *input,
                         unsigned int inputLen)
 {
@@ -143,15 +154,16 @@
 
 static void SHA1_Final(unsigned char digest[20], SHA_CTX *ctx)
 {
   sha1_digest(ctx, 20, digest);
 }
 
-static void SHA256_Init(SHA256_CTX *ctx)
+static int SHA256_Init(SHA256_CTX *ctx)
 {
   sha256_init(ctx);
+  return 1;
 }
 
 static void SHA256_Update(SHA256_CTX *ctx,
                           const unsigned char *input,
                           unsigned int inputLen)
 {
@@ -162,15 +174,16 @@
 {
   sha256_digest(ctx, 32, digest);
 }
 
 #elif defined(USE_GNUTLS)
 
-static void MD5_Init(MD5_CTX *ctx)
+static int MD5_Init(MD5_CTX *ctx)
 {
   gcry_md_open(ctx, GCRY_MD_MD5, 0);
+  return 1;
 }
 
 static void MD5_Update(MD5_CTX *ctx,
                        const unsigned char *input,
                        unsigned int inputLen)
 {
@@ -180,15 +193,16 @@
 static void MD5_Final(unsigned char digest[16], MD5_CTX *ctx)
 {
   memcpy(digest, gcry_md_read(*ctx, 0), 16);
   gcry_md_close(*ctx);
 }
 
-static void SHA1_Init(SHA_CTX *ctx)
+static int SHA1_Init(SHA_CTX *ctx)
 {
   gcry_md_open(ctx, GCRY_MD_SHA1, 0);
+  return 1;
 }
 
 static void SHA1_Update(SHA_CTX *ctx,
                         const unsigned char *input,
                         unsigned int inputLen)
 {
@@ -198,15 +212,16 @@
 static void SHA1_Final(unsigned char digest[20], SHA_CTX *ctx)
 {
   memcpy(digest, gcry_md_read(*ctx, 0), 20);
   gcry_md_close(*ctx);
 }
 
-static void SHA256_Init(SHA256_CTX *ctx)
+static int SHA256_Init(SHA256_CTX *ctx)
 {
   gcry_md_open(ctx, GCRY_MD_SHA256, 0);
+  return 1;
 }
 
 static void SHA256_Update(SHA256_CTX *ctx,
                           const unsigned char *input,
                           unsigned int inputLen)
 {
@@ -216,13 +231,102 @@
 static void SHA256_Final(unsigned char digest[32], SHA256_CTX *ctx)
 {
   memcpy(digest, gcry_md_read(*ctx, 0), 32);
   gcry_md_close(*ctx);
 }
 
-#elif defined(_WIN32)
+#elif defined(USE_NSS)
+
+static int nss_hash_init(void **pctx, SECOidTag hash_alg)
+{
+  PK11Context *ctx;
+
+  /* we have to initialize NSS if not initialized alraedy */
+#ifdef HAVE_NSS_INITCONTEXT
+  if(!NSS_IsInitialized() && !nss_context) {
+    static NSSInitParameters params;
+    params.length = sizeof params;
+    nss_context = NSS_InitContext("", "", "", "", &params, NSS_INIT_READONLY
+        | NSS_INIT_NOCERTDB   | NSS_INIT_NOMODDB       | NSS_INIT_FORCEOPEN
+        | NSS_INIT_NOROOTINIT | NSS_INIT_OPTIMIZESPACE | NSS_INIT_PK11RELOAD);
+  }
+#endif
+
+  ctx = PK11_CreateDigestContext(hash_alg);
+  if(!ctx)
+    return /* failure */ 0;
+
+  if(PK11_DigestBegin(ctx) != SECSuccess) {
+    PK11_DestroyContext(ctx, PR_TRUE);
+    return /* failure */ 0;
+  }
+
+  *pctx = ctx;
+  return /* success */ 1;
+}
+
+static void nss_hash_final(void **pctx, unsigned char *out, unsigned int len)
+{
+  PK11Context *ctx = *pctx;
+  unsigned int outlen;
+  PK11_DigestFinal(ctx, out, &outlen, len);
+  PK11_DestroyContext(ctx, PR_TRUE);
+}
+
+static int MD5_Init(MD5_CTX *pctx)
+{
+  return nss_hash_init(pctx, SEC_OID_MD5);
+}
+
+static void MD5_Update(MD5_CTX *pctx,
+                       const unsigned char *input,
+                       unsigned int input_len)
+{
+  PK11_DigestOp(*pctx, input, input_len);
+}
+
+static void MD5_Final(unsigned char digest[16], MD5_CTX *pctx)
+{
+  nss_hash_final(pctx, digest, 16);
+}
+
+static int SHA1_Init(SHA_CTX *pctx)
+{
+  return nss_hash_init(pctx, SEC_OID_SHA1);
+}
+
+static void SHA1_Update(SHA_CTX *pctx,
+                        const unsigned char *input,
+                        unsigned int input_len)
+{
+  PK11_DigestOp(*pctx, input, input_len);
+}
+
+static void SHA1_Final(unsigned char digest[20], SHA_CTX *pctx)
+{
+  nss_hash_final(pctx, digest, 20);
+}
+
+static int SHA256_Init(SHA256_CTX *pctx)
+{
+  return nss_hash_init(pctx, SEC_OID_SHA256);
+}
+
+static void SHA256_Update(SHA256_CTX *pctx,
+                          const unsigned char *input,
+                          unsigned int input_len)
+{
+  PK11_DigestOp(*pctx, input, input_len);
+}
+
+static void SHA256_Final(unsigned char digest[32], SHA256_CTX *pctx)
+{
+  nss_hash_final(pctx, digest, 32);
+}
+
+#elif defined(_WIN32) && !defined(USE_SSLEAY)
 
 static void win32_crypto_final(struct win32_crypto_hash *ctx,
                                unsigned char *digest,
                                unsigned int digestLen)
 {
   unsigned long length;
@@ -232,18 +336,19 @@
   if(ctx->hHash)
     CryptDestroyHash(ctx->hHash);
   if(ctx->hCryptProv)
     CryptReleaseContext(ctx->hCryptProv, 0);
 }
 
-static void MD5_Init(MD5_CTX *ctx)
+static int MD5_Init(MD5_CTX *ctx)
 {
   if(CryptAcquireContext(&ctx->hCryptProv, NULL, NULL,
                          PROV_RSA_FULL, CRYPT_VERIFYCONTEXT)) {
     CryptCreateHash(ctx->hCryptProv, CALG_MD5, 0, 0, &ctx->hHash);
   }
+  return 1;
 }
 
 static void MD5_Update(MD5_CTX *ctx,
                        const unsigned char *input,
                        unsigned int inputLen)
 {
@@ -252,18 +357,19 @@
 
 static void MD5_Final(unsigned char digest[16], MD5_CTX *ctx)
 {
   win32_crypto_final(ctx, digest, 16);
 }
 
-static void SHA1_Init(SHA_CTX *ctx)
+static int SHA1_Init(SHA_CTX *ctx)
 {
   if(CryptAcquireContext(&ctx->hCryptProv, NULL, NULL,
                          PROV_RSA_FULL, CRYPT_VERIFYCONTEXT)) {
     CryptCreateHash(ctx->hCryptProv, CALG_SHA1, 0, 0, &ctx->hHash);
   }
+  return 1;
 }
 
 static void SHA1_Update(SHA_CTX *ctx,
                         const unsigned char *input,
                         unsigned int inputLen)
 {
@@ -272,18 +378,19 @@
 
 static void SHA1_Final(unsigned char digest[20], SHA_CTX *ctx)
 {
   win32_crypto_final(ctx, digest, 20);
 }
 
-static void SHA256_Init(SHA256_CTX *ctx)
+static int SHA256_Init(SHA256_CTX *ctx)
 {
   if(CryptAcquireContext(&ctx->hCryptProv, NULL, NULL,
                          PROV_RSA_AES, CRYPT_VERIFYCONTEXT)) {
     CryptCreateHash(ctx->hCryptProv, CALG_SHA_256, 0, 0, &ctx->hHash);
   }
+  return 1;
 }
 
 static void SHA256_Update(SHA256_CTX *ctx,
                           const unsigned char *input,
                           unsigned int inputLen)
 {
@@ -371,13 +478,16 @@
     free(ctxt);
     return NULL;
   }
 
   ctxt->digest_hash = dparams;
 
-  dparams->digest_init(ctxt->digest_hashctx);
+  if(dparams->digest_init(ctxt->digest_hashctx) != 1) {
+    free(ctxt);
+    return NULL;
+  }
 
   return ctxt;
 }
 
 int Curl_digest_update(digest_context *context,
                        const unsigned char *data,
@@ -422,12 +532,14 @@
  * integers:
  *
  * 0:
  *   Checksum didn't match.
  * -1:
  *   Could not open file; or could not read data from file.
+ * -2:
+ *   Hash algorithm not available.
  */
 static int check_hash(const char *filename,
                       const metalink_digest_def *digest_def,
                       const unsigned char *digest, FILE *error)
 {
   unsigned char *result;
@@ -443,13 +555,21 @@
   fd = open(filename, flags);
   if(fd == -1) {
     fprintf(error, "Metalink: validating (%s) [%s] FAILED (%s)\n", filename,
             digest_def->hash_name, strerror(errno));
     return -1;
   }
+
   dctx = Curl_digest_init(digest_def->dparams);
+  if(!dctx) {
+    fprintf(error, "Metalink: validating (%s) [%s] FAILED (%s)\n", filename,
+            digest_def->hash_name, "failed to initialize hash algorithm");
+    close(fd);
+    return -2;
+  }
+
   result = malloc(digest_def->dparams->digest_resultlen);
   while(1) {
     unsigned char buf[4096];
     ssize_t len = read(fd, buf, sizeof(buf));
     if(len == 0) {
       break;
@@ -770,7 +890,17 @@
     config->metalinkfile_list = config->metalinkfile_list->next;
     delete_metalinkfile(mlfile);
   }
   config->metalinkfile_last = 0;
 }
 
+void metalink_cleanup(void)
+{
+#if defined(USE_NSS) && defined(HAVE_NSS_INITCONTEXT)
+  if(nss_context) {
+    NSS_ShutdownContext(nss_context);
+    nss_context = NULL;
+  }
+#endif
+}
+
 #endif /* USE_METALINK */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_metalink.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_metalink.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_metalink.h	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_metalink.h	2012-11-14 05:02:16.000000000 +0800
@@ -20,13 +20,15 @@
  * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
  * KIND, either express or implied.
  *
  ***************************************************************************/
 #include "tool_setup.h"
 
-typedef void (* Curl_digest_init_func)(void *context);
+/* returns 1 for success, 0 otherwise (we use OpenSSL *_Init fncs directly) */
+typedef int (* Curl_digest_init_func)(void *context);
+
 typedef void (* Curl_digest_update_func)(void *context,
                                          const unsigned char *data,
                                          unsigned int len);
 typedef void (* Curl_digest_final_func)(unsigned char *result, void *context);
 
 typedef struct {
@@ -134,19 +136,24 @@
  *
  * 0:
  *   Checksum didn't match.
  * -1:
  *   Could not open file; or could not read data from file.
  * -2:
- *   No checksum in Metalink supported; or Metalink does not contain
- *   checksum.
+ *   No checksum in Metalink supported, hash algorithm not available, or
+ *   Metalink does not contain checksum.
  */
 int metalink_check_hash(struct Configurable *config,
                         metalinkfile *mlfile,
                         const char *filename);
 
+/*
+ * Release resources allocated at global scope.
+ */
+void metalink_cleanup(void);
+
 #else /* USE_METALINK */
 
 #define count_next_metalink_resource(x)  0
 #define clean_metalink(x)  Curl_nop_stmt
 
 #endif /* USE_METALINK */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_operate.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_operate.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_operate.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_operate.c	2012-11-14 05:02:16.000000000 +0800
@@ -1048,13 +1048,13 @@
         if(config->crlfile)
           my_setopt_str(curl, CURLOPT_CRLFILE, config->crlfile);
 
         if(curlinfo->features & CURL_VERSION_SSL) {
           if(config->insecure_ok) {
             my_setopt(curl, CURLOPT_SSL_VERIFYPEER, 0L);
-            my_setopt(curl, CURLOPT_SSL_VERIFYHOST, 1L);
+            my_setopt(curl, CURLOPT_SSL_VERIFYHOST, 0L);
           }
           else {
             my_setopt(curl, CURLOPT_SSL_VERIFYPEER, 1L);
             /* libcurl default is strict verifyhost -> 2L   */
             /* my_setopt(curl, CURLOPT_SSL_VERIFYHOST, 2L); */
           }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_operhlp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_operhlp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_operhlp.c	2012-08-09 04:45:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_operhlp.c	2012-11-14 05:02:16.000000000 +0800
@@ -29,12 +29,17 @@
 
 #include "tool_cfgable.h"
 #include "tool_convert.h"
 #include "tool_operhlp.h"
 #include "tool_version.h"
 
+#ifdef USE_METALINK
+/* import the declaration of metalink_cleanup() */
+#  include "tool_metalink.h"
+#endif
+
 #include "memdebug.h" /* keep this as LAST include */
 
 /*
  * my_useragent: returns allocated string with default user agent
  */
 char *my_useragent(void)
@@ -212,12 +217,15 @@
  * _all_ libcurl usage is done.
  */
 void main_free(void)
 {
   curl_global_cleanup();
   convert_cleanup();
+#ifdef USE_METALINK
+  metalink_cleanup();
+#endif
 }
 
 #ifdef CURLDEBUG
 void memory_tracking_init(void)
 {
   char *env;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_version.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_version.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/src/tool_version.h	2012-10-11 04:00:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/src/tool_version.h	2012-11-20 15:13:32.000000000 +0800
@@ -22,13 +22,13 @@
  *
  ***************************************************************************/
 #include <curl/curlver.h>
 
 #define CURL_NAME "curl"
 #define CURL_COPYRIGHT LIBCURL_COPYRIGHT
-#define CURL_VERSION "7.28.0"
+#define CURL_VERSION "7.28.1"
 #define CURL_VERSION_MAJOR LIBCURL_VERSION_MAJOR
 #define CURL_VERSION_MINOR LIBCURL_VERSION_MINOR
 #define CURL_VERSION_PATCH LIBCURL_VERSION_PATCH
 #define CURL_ID CURL_NAME " " CURL_VERSION " (" OS ") "
 
 #endif /* HEADER_CURL_TOOL_VERSION_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/Makefile.am	2012-09-09 04:39:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/Makefile.am	2012-11-19 17:56:58.000000000 +0800
@@ -72,13 +72,13 @@
 test1078 test1079 test1080 test1081 test1082 test1083 test1084 test1085	\
 test1086 test1087 test1088 test1089 test1090 test1091 test1092 test1093	\
 test1094 test1095 test1096 test1097 test1098 test1099 test1100 test1101	\
 test1102 test1103 test1104 test1105 test1106 test1107 test1108 test1109	\
 test1110 test1111 test1112 test1113 test1114 test1115 test1116 test1117	\
 test1118 test1119 test1120 test1121 test1122 test1123 test1124 test1125	\
-test1126 test1127 test1128 test1129 test1130 test1131 \
+test1126 test1127 test1128 test1129 test1130 test1131 test1132 \
 test1200 test1201 test1202 test1203 test1204 test1205 test1206 test1207 \
 test1208 test1209 test1210 test1211 \
 test1220 \
 test1300 test1301 test1302 test1303 test1304 test1305	\
 test1306 test1307 test1308 test1309 test1310 test1311 test1312 test1313 \
 test1314 test1315 test1316 test1317 test1318 test1319 test1320 test1321 \
@@ -89,14 +89,14 @@
 test1355 test1356 test1357 test1358 test1359 test1360 test1361 test1362 \
 test1363 test1364 test1365 test1366 test1367 test1368 test1369 test1370 \
 test1371 test1372 test1373 test1374 test1375 test1376 test1377 test1378 \
 test1379 test1380 test1381 test1382 test1383 test1384 test1385 test1386 \
 test1387 test1388 test1389 test1390 test1391 test1392 test1393 \
 test1400 test1401 test1402 test1403 test1404 test1405 test1406 test1407 \
-test1408 test1409 test1410 test1411 \
-test1500 \
+test1408 test1409 test1410 test1411 test1412 test1413 \
+test1500 test1501 test1502 \
 test2000 test2001 test2002 test2003 test2004 test2005 test2006 test2007 \
 test2008 test2009 test2010 test2011 test2012 test2013 test2014 test2015 \
 test2016 test2017 test2018 test2019 test2020 test2021 test2022 \
 test2023 test2024 test2025 \
 test2026 test2027 test2028 \
 test2029 test2030 test2031 \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/Makefile.in	2012-09-09 04:39:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/Makefile.in	2012-11-19 17:59:10.000000000 +0800
@@ -337,13 +337,13 @@
 test1078 test1079 test1080 test1081 test1082 test1083 test1084 test1085	\
 test1086 test1087 test1088 test1089 test1090 test1091 test1092 test1093	\
 test1094 test1095 test1096 test1097 test1098 test1099 test1100 test1101	\
 test1102 test1103 test1104 test1105 test1106 test1107 test1108 test1109	\
 test1110 test1111 test1112 test1113 test1114 test1115 test1116 test1117	\
 test1118 test1119 test1120 test1121 test1122 test1123 test1124 test1125	\
-test1126 test1127 test1128 test1129 test1130 test1131 \
+test1126 test1127 test1128 test1129 test1130 test1131 test1132 \
 test1200 test1201 test1202 test1203 test1204 test1205 test1206 test1207 \
 test1208 test1209 test1210 test1211 \
 test1220 \
 test1300 test1301 test1302 test1303 test1304 test1305	\
 test1306 test1307 test1308 test1309 test1310 test1311 test1312 test1313 \
 test1314 test1315 test1316 test1317 test1318 test1319 test1320 test1321 \
@@ -354,14 +354,14 @@
 test1355 test1356 test1357 test1358 test1359 test1360 test1361 test1362 \
 test1363 test1364 test1365 test1366 test1367 test1368 test1369 test1370 \
 test1371 test1372 test1373 test1374 test1375 test1376 test1377 test1378 \
 test1379 test1380 test1381 test1382 test1383 test1384 test1385 test1386 \
 test1387 test1388 test1389 test1390 test1391 test1392 test1393 \
 test1400 test1401 test1402 test1403 test1404 test1405 test1406 test1407 \
-test1408 test1409 test1410 test1411 \
-test1500 \
+test1408 test1409 test1410 test1411 test1412 test1413 \
+test1500 test1501 test1502 \
 test2000 test2001 test2002 test2003 test2004 test2005 test2006 test2007 \
 test2008 test2009 test2010 test2011 test2012 test2013 test2014 test2015 \
 test2016 test2017 test2018 test2019 test2020 test2021 test2022 \
 test2023 test2024 test2025 \
 test2026 test2027 test2028 \
 test2029 test2030 test2031 \
@@ -377,15 +377,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  tests/data/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  tests/data/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  tests/data/Makefile
+	  $(AUTOMAKE) --gnu  tests/data/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1011 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1011
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1011	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1011	2012-11-19 18:49:15.000000000 +0800
@@ -14,30 +14,30 @@
 Location: moo.html&testcase=/10110002
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Content-Length: 0
 
 </data>
 <data2>
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </data2>
 <datacheck>
 HTTP/1.1 301 OK
 Location: moo.html&testcase=/10110002
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Content-Length: 0
 
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </datacheck>
 </reply>
 
 #
 # Client-side
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1012 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1012
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1012	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1012	2012-11-19 18:49:15.000000000 +0800
@@ -14,30 +14,30 @@
 Location: moo.html&testcase=/10120002
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
 </data>
 <data2>
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </data2>
 <datacheck>
 HTTP/1.1 301 OK swsclose
 Location: moo.html&testcase=/10120002
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </datacheck>
 </reply>
 
 #
 # Client-side
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1105 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1105
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1105	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1105	2012-11-19 18:49:15.000000000 +0800
@@ -31,12 +31,15 @@
  <name>
 HTTP with cookie parser and header recording
  </name>
  <command>
 "http://%HOSTIP:%HTTPPORT/we/want/1105?parm1=this*that/other/thing&parm2=foobar/1105" -c log/cookie1105.txt -d "userid=myname&password=mypassword"
 </command>
+<precheck>
+perl -e 'if ("%HOSTIP" !~ /127\.0\.0\.1$/) {print "Test only works for HOSTIP 127.0.0.1"; exit(1)}'
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data: test1132
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test13 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test13
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test13	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test13	2012-11-19 18:49:15.000000000 +0800
@@ -5,16 +5,16 @@
 HTTP custom request
 </keywords>
 </info>
 # Server-side
 <reply>
 <data>
-HTTP/1.1 200 Read you
+HTTP/1.1 200 Read you
 Content-Length: 29
-Deleted: suppose we got a header like this! ;-)
-
+Deleted: suppose we got a header like this! ;-)
+
 blabla custom request result
 </data>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1318 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1318
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1318	2012-03-09 03:35:27.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1318	2012-11-19 18:49:15.000000000 +0800
@@ -1,11 +1,12 @@
 <testcase>
 <info>
 <keywords>
 HTTP
 HTTP GET
+--resolve
 </keywords>
 </info>
 
 #
 # Server-side
 <reply>
@@ -29,13 +30,13 @@
 # Client-side
 <client>
 <server>
 http
 </server>
  <name>
-HTTP with same host name using different cases
+HTTP with --resolve and same host name using different cases
  </name>
  <command>
 --resolve MiXeDcAsE.cOm:%HTTPPORT:%HOSTIP http://MiXeDcAsE.cOm:%HTTPPORT/1318 http://mixedcase.com:%HTTPPORT/13180001
 </command>
 </client>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1325 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1325
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test1325	2012-03-09 03:35:27.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test1325	2012-11-19 18:49:15.000000000 +0800
@@ -16,30 +16,30 @@
 Location: 13250002
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
 </data>
 <data2>
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </data2>
 <datacheck>
 HTTP/1.1 308 OK swsclose
 Location: 13250002
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </datacheck>
 </reply>
 
 #
 # Client-side
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data: test1412
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data: test1413
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test147 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test147
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test147	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test147	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 foo
 </data>
 <servercmd>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test148 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test148
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test148	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test148	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 REPLY CWD 550 I won't allow this on my server
 REPLY MKD 550 We will have no such thing
 </servercmd>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test149 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test149
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test149	2011-03-19 23:17:15.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test149	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 </reply>
 
 # Client-side
 <client>
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data: test1501
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data: test1502
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test155 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test155
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test155	2011-03-19 23:17:15.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test155	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,14 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP PUT
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 auth_required
 </servercmd>
 <data>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test158 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test158
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test158	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test158	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,14 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP POST
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 HTTP/1.1 100 Continue swsclose
 Silly-header: yeeeees
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test174 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test174
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test174	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test174	2012-11-19 18:49:15.000000000 +0800
@@ -1,15 +1,22 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP POST
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 HTTP/1.1 200 beng swsclose
 Server: Microsoft-IIS/6.0
 Authentication-Info: Passport1.4 tname=MSPAuth,tname=MSPProf,tname=MSPConsent,tname=MSPSecAuth
 Content-Type: text/html; charset=iso-8859-1
-Content-Length: 26
+Content-Length: 26
 
 This is not the real page
 </data>
 </reply>
 
 # Client-side
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test175 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test175
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test175	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test175	2012-11-19 18:49:15.000000000 +0800
@@ -19,13 +19,13 @@
 </data>
 
 <data1>
 HTTP/1.1 200 moo swsclose
 Server: Microsoft-IIS/6.0
 Content-Type: text/html; charset=iso-8859-1
-Content-Length: 16
+Content-Length: 16
 
 content for you
 </data1>
 
 <datacheck>
 HTTP/1.1 200 beng swsclose swsbounce
@@ -33,13 +33,13 @@
 Authentication-Info: Passport1.4 tname=MSPAuth,tname=MSPProf,tname=MSPConsent,tname=MSPSecAuth
 Content-Type: text/html; charset=iso-8859-1
 
 HTTP/1.1 200 moo swsclose
 Server: Microsoft-IIS/6.0
 Content-Type: text/html; charset=iso-8859-1
-Content-Length: 16
+Content-Length: 16
 
 content for you
 </datacheck>
 
 </reply>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test176 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test176
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test176	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test176	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,14 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP POST
+</keywords>
+</info>
+
 # Server-side
 <reply>
 # the first request has NTLM type-1 included, and then the 1001 is returned
 <data1001>
 HTTP/1.1 200 beng swsclose swsbounce
 Server: Microsoft-IIS/6.0
@@ -12,13 +19,13 @@
 
 # the second request should be auth-less and then this is returned.
 <data>
 HTTP/1.1 200 moo swsclose
 Server: Microsoft-IIS/6.0
 Content-Type: text/html; charset=iso-8859-1
-Content-Length: 16
+Content-Length: 16
 
 content for you
 </data>
 
 <datacheck>
 HTTP/1.1 200 beng swsclose swsbounce
@@ -26,13 +33,13 @@
 Authentication-Info: Passport1.4 tname=MSPAuth,tname=MSPProf,tname=MSPConsent,tname=MSPSecAuth
 Content-Type: text/html; charset=iso-8859-1
 
 HTTP/1.1 200 moo swsclose
 Server: Microsoft-IIS/6.0
 Content-Type: text/html; charset=iso-8859-1
-Content-Length: 16
+Content-Length: 16
 
 content for you
 </datacheck>
 
 </reply>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test18 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test18
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test18	2011-03-19 22:59:05.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test18	2012-11-19 18:49:15.000000000 +0800
@@ -6,30 +6,30 @@
 {} list
 </keywords>
 </info>
 # Server-side
 <reply>
 <data nocheck="yes">
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 4
-
+
 moo
 </data>
 <data2>
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 4
-
+
 foo
 </data2>
 <data3>
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 4
-
+
 hoo
 </data3>
 </reply>
 
 # Client-side
 <client>
@@ -65,26 +65,26 @@
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 </protocol>
 <stdout>
 --_curl_--%HOSTIP:%HTTPPORT/18
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 4
-
+
 moo
 --_curl_--%HOSTIP:%HTTPPORT/180002
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 4
-
+
 foo
 --_curl_--%HOSTIP:%HTTPPORT/180003
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 4
-
+
 hoo
 </stdout>
 </verify>
 </testcase>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test182 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test182
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test182	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test182	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data sendzero="yes">
 </data>
 <size>
 0
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test190 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test190
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test190	2011-03-19 22:59:05.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test190	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 DELAY CWD 60
 </servercmd>
 </reply>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test191 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test191
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test191	2011-03-19 23:17:15.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test191	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 data in file
 </data>
 </reply>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test194 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test194
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test194	2011-03-19 23:17:15.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test194	2012-11-19 18:49:15.000000000 +0800
@@ -10,13 +10,13 @@
 
 # Server-side
 <reply>
 <data>
 HTTP/1.1 416 Requested Range Not Satisfiable swsclose
 Date: Fri, 24 Oct 2003 21:33:12 GMT
-Server: Apache/1.3.19 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.1 OpenSSL/0.9.6 PHP/4.3.1
+Server: Apache/1.3.19 (Unix) (Red-Hat/Linux) mod_ssl/2.8.1 OpenSSL/0.9.6 PHP/4.3.1
 Last-Modified: Fri, 24 Oct 2003 18:01:23 GMT
 ETag: "ab57a-507-3f9968f3"
 Accept-Ranges: bytes
 Content-Length: 4
 Content-Range: bytes */87
 Content-Type: image/gif
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test195 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test195
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test195	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test195	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 REPLY PASS 530 temporarily not available
 </servercmd>
 </reply>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test196 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test196
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test196	2011-03-19 23:16:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test196	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 REPLY PASS 430 temporarily not available
 </servercmd>
 </reply>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test197 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test197
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test197	2011-03-19 22:59:05.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test197	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP GET
+</keywords>
+</info>
 #
 # Server-side
 <reply>
 <data nocheck="yes">
 HTTP/1.1 503 OK swsbounce
 Date: Thu, 09 Nov 2010 14:49:00 GMT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test198 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test198
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test198	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test198	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP GET
+</keywords>
+</info>
 #
 # Server-side
 <reply>
 <data>
 HTTP/1.1 503 OK swsbounce
 Date: Thu, 09 Nov 2010 14:49:00 GMT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test199 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test199
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test199	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test199	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP GET
+</keywords>
+</info>
 #
 # Server-side
 <reply name="1">
 <data>
 HTTP/1.1 200 OK
 Date: Thu, 09 Nov 2010 14:49:00 GMT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test2027 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test2027
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test2027	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test2027	2012-11-14 05:02:16.000000000 +0800
@@ -6,12 +6,23 @@
 HTTP Digest auth
 </keywords>
 </info>
 # Server-side
 <reply>
 
+<!--
+
+ Explanation for the duplicate 400 requests:
+
+ libcurl doesn't detect that a given Digest password is wrong already on the
+ first 401 response (as the data400 gives). libcurl will instead consider the
+ new response just as a duplicate and it sends another and detects the auth
+ problem on the second 401 response!
+
+-->
+
 <!-- First request has Digest auth, wrong password -->
 <data100>
 HTTP/1.1 401 Need Digest auth
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 27
@@ -90,22 +101,12 @@
 WWW-Authenticate: Digest realm="testrealm", nonce="7"
 
 This is a bad password page!
 </data1400>
 
 <!-- Fifth request has Digest auth, right password -->
-<data500>
-HTTP/1.1 401 Need Digest auth (5)
-Server: Microsoft-IIS/5.0
-Content-Type: text/html; charset=iso-8859-1
-Content-Length: 27
-WWW-Authenticate: Digest realm="testrealm", nonce="8"
-
-This is not the real page!
-</data500>
-
 <data1500>
 HTTP/1.1 200 Things are fine in server land (2)
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 32
 
@@ -148,12 +149,18 @@
 HTTP/1.1 401 Sorry wrong password (3)
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 29
 WWW-Authenticate: Digest realm="testrealm", nonce="7"
 
+HTTP/1.1 401 Sorry wrong password (3)
+Server: Microsoft-IIS/5.0
+Content-Type: text/html; charset=iso-8859-1
+Content-Length: 29
+WWW-Authenticate: Digest realm="testrealm", nonce="7"
+
 This is a bad password page!
 HTTP/1.1 200 Things are fine in server land (2)
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 32
 
@@ -217,12 +224,17 @@
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /20270400 HTTP/1.1
 Authorization: Digest username="testuser", realm="testrealm", nonce="5", uri="/20270400", response="f5906785511fb60a2af8b1cd53008ead"
 Host: %HOSTIP:%HTTPPORT
+Accept: */*
+
+GET /20270400 HTTP/1.1
+Authorization: Digest username="testuser", realm="testrealm", nonce="5", uri="/20270400", response="f5906785511fb60a2af8b1cd53008ead"
+Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /20270500 HTTP/1.1
 Authorization: Digest username="testuser", realm="testrealm", nonce="7", uri="/20270500", response="8ef4d935fd964a46c3965c0863b52cf1"
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test2030 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test2030
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test2030	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test2030	2012-11-14 05:02:16.000000000 +0800
@@ -10,12 +10,24 @@
 # Server-side
 <reply>
 
 <!-- Alternate the order that Digest and NTLM headers appear in responses to
 ensure that the order doesn't matter. -->
 
+<!--
+
+ Explanation for the duplicate 400 requests:
+
+ libcurl doesn't detect that a given Digest password is wrong already on the
+ first 401 response (as the data400 gives). libcurl will instead consider the
+ new response just as a duplicate and it sends another and detects the auth
+ problem on the second 401 response!
+
+-->
+
+
 <!-- First request has NTLM auth, wrong password -->
 <data100>
 HTTP/1.1 401 Need Digest or NTLM auth
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 27
@@ -183,12 +195,19 @@
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 29
 WWW-Authenticate: NTLM
 WWW-Authenticate: Digest realm="testrealm", nonce="7"
 
+HTTP/1.1 401 Sorry wrong password (3)
+Server: Microsoft-IIS/5.0
+Content-Type: text/html; charset=iso-8859-1
+Content-Length: 29
+WWW-Authenticate: NTLM
+WWW-Authenticate: Digest realm="testrealm", nonce="7"
+
 This is a bad password page!
 HTTP/1.1 200 Things are fine in server land (2)
 Server: Microsoft-IIS/5.0
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 32
 
@@ -254,12 +273,17 @@
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /20300400 HTTP/1.1
 Authorization: Digest username="testuser", realm="testrealm", nonce="5", uri="/20300400", response="d6262e9147db08c62ff2f53b515861e8"
 Host: %HOSTIP:%HTTPPORT
+Accept: */*
+
+GET /20300400 HTTP/1.1
+Authorization: Digest username="testuser", realm="testrealm", nonce="5", uri="/20300400", response="d6262e9147db08c62ff2f53b515861e8"
+Host: %HOSTIP:%HTTPPORT
 Accept: */*
 
 GET /20300500 HTTP/1.1
 Authorization: Digest username="testuser", realm="testrealm", nonce="7", uri="/20300500", response="198757e61163a779cf24ed4c49c1ad7d"
 Host: %HOSTIP:%HTTPPORT
 Accept: */*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test207 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test207
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test207	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test207	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP GET
+</keywords>
+</info>
 #
 # Server-side
 <reply>
 <data>
 HTTP/1.1 200 funky chunky! swsclose
 Server: fakeit/0.9 fakeitbad/1.0
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test210 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test210
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test210	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test210	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 data blobb
 </data>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test211 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test211
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test211	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test211	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 data blobb
 </data>
 <servercmd>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test212 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test212
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test212	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test212	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <data>
 data blobb
 </data>
 <servercmd>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test214 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test214
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test214	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test214	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP GET
+</keywords>
+</info>
 #
 # Server-side
 <reply>
 <data>
 HTTP/1.1 200 OK
 Date: Thu, 09 Nov 2010 14:49:00 GMT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test215 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test215
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test215	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test215	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 # When doing LIST, we get the default list output hard-coded in the test
 # FTP server
 <datacheck>
 total 20
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test216 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test216
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test216	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test216	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test218 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test218
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test218	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test218	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP PUT
+</keywords>
+</info>
 #
 # Server-side
 <reply>
 <data>
 HTTP/1.0 200 OK
 Server: test-server/fake
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test22 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test22
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test22	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test22	2012-11-19 18:49:15.000000000 +0800
@@ -6,16 +6,16 @@
 long URL
 </keywords>
 </info>
 # Server-side
 <reply>
 <data>
-HTTP/1.1 200 OK
-Funny-head: yesyes
+HTTP/1.1 200 OK
+Funny-head: yesyes
 Content-Length: 27
-
+
 This is the proof it works
 </data>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test235 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test235
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test235	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test235	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test236 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test236
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test236	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test236	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,12 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
 
 # Server-side
 <reply>
 <servercmd>
 REPLY SIZE 550 access to this file is very much denied
 REPLY APPE 550 I said: access to this file is very much denied
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test237 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test237
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test237	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test237	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 REPLY PASV 227 Entering Passiv Mode (1216,256,2,127,127,127)
 </servercmd>
 </reply>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test238 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test238
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test238	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test238	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 <servercmd>
 REPLY EPSV 229 Entering Passiv Mode (|||1000000|)
 REPLY PASV 227 Entering Passiv Mode (1216,256,2,127,127,127)
 </servercmd>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test247 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test247
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test247	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test247	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 <reply>
 <mdtm>
 213 20030409102659
 </mdtm>
 </reply>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test248 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test248
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test248	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test248	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 <reply>
 <mdtm>
 213 20050409102659
 </mdtm>
 </reply>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test249 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test249
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test249	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test249	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+HTTP
+HTTP GET
+</keywords>
+</info>
 #
 # Server-side
 <reply>
 <data>
 HTTP/1.1 304 Not Modified swsclose
 Date: Thu, 09 Nov 2010 14:49:00 GMT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test250 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test250
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test250	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test250	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 #
 # Server-side
 <reply>
 # When doing LIST, we get the default list output hard-coded in the test
 # FTP server
 <datacheck>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test251 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test251
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test251	2011-03-19 22:59:06.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test251	2012-11-19 18:49:15.000000000 +0800
@@ -1,7 +1,13 @@
 <testcase>
+<info>
+<keywords>
+FTP
+</keywords>
+</info>
+
 # Server-side
 <reply>
 # When doing LIST, we get the default list output hard-coded in the test
 # FTP server
 <datacheck>
 total 20
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test273 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test273
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test273	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test273	2012-11-19 18:49:15.000000000 +0800
@@ -9,13 +9,13 @@
 # Server-side
 <reply>
 <data>
 HTTP/1.1 401 Authorization Required swsclose
 Server: Apache/1.3.27 (Darwin) PHP/4.1.2
 WWW-Authenticate: Digest realm="testrealm", nonce="1053604145"
-WWW-Authenticate: Digest realm="testrealm", nonce="1053604145"
+WWW-Authenticate: Digest realm="testrealm", nonce="1053604145"
 Content-Type: text/html; charset=iso-8859-1
 
 This is not the real page
 </data>
 
 # This is supposed to be returned when the server gets a
@@ -30,13 +30,13 @@
 </data1000>
 
 <datacheck>
 HTTP/1.1 401 Authorization Required swsclose
 Server: Apache/1.3.27 (Darwin) PHP/4.1.2
 WWW-Authenticate: Digest realm="testrealm", nonce="1053604145"
-WWW-Authenticate: Digest realm="testrealm", nonce="1053604145"
+WWW-Authenticate: Digest realm="testrealm", nonce="1053604145"
 Content-Type: text/html; charset=iso-8859-1
 
 HTTP/1.1 200 OK swsclose
 Server: Apache/1.3.27 (Darwin) PHP/4.1.2
 Content-Type: text/html; charset=iso-8859-1
 Content-Length: 23
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test31 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test31
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test31	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test31	2012-11-19 18:49:15.000000000 +0800
@@ -18,41 +18,41 @@
 Funny-head: yesyes
 Set-Cookie: foobar=name; domain=anything.com; path=/ ; secure
 Set-Cookie:ismatch=this  ; domain=127.0.0.1; path=/silly/
 Set-Cookie: sec1value=secure1  ; domain=127.0.0.1; path=/secure1/ ; secure
 Set-Cookie: sec2value=secure2  ; domain=127.0.0.1; path=/secure2/ ; secure=
 Set-Cookie: sec3value=secure3  ; domain=127.0.0.1; path=/secure3/ ; secure=
-Set-Cookie: sec4value=secure4  ; secure=; domain=127.0.0.1; path=/secure4/ ; 
-Set-Cookie: sec5value=secure5  ; secure; domain=127.0.0.1; path=/secure5/ ; 
-Set-Cookie: sec6value=secure6  ; secure ; domain=127.0.0.1; path=/secure6/ ; 
-Set-Cookie: sec7value=secure7  ; secure   ; domain=127.0.0.1; path=/secure7/ ; 
-Set-Cookie: sec8value=secure8  ; secure= ; domain=127.0.0.1; path=/secure8/ ; 
-Set-Cookie: secure=very1  ; secure=; domain=127.0.0.1; path=/secure9/; 
-Set-Cookie: httpo1=value1  ; domain=127.0.0.1; path=/p1/; httponly
-Set-Cookie: httpo2=value2  ; domain=127.0.0.1; path=/p2/; httponly=
-Set-Cookie: httpo3=value3  ; httponly; domain=127.0.0.1; path=/p3/;
-Set-Cookie: httpo4=value4  ; httponly=; domain=127.0.0.1; path=/p4/; 
-Set-Cookie: httponly=myvalue1  ; domain=127.0.0.1; path=/p4/; httponly
-Set-Cookie: httpandsec=myvalue2  ; domain=127.0.0.1; path=/p4/; httponly; secure
-Set-Cookie: httpandsec2=myvalue3; domain=127.0.0.1; path=/p4/; httponly=; secure
-Set-Cookie: httpandsec3=myvalue4  ; domain=127.0.0.1; path=/p4/; httponly; secure=
-Set-Cookie: httpandsec4=myvalue5  ; domain=127.0.0.1; path=/p4/; httponly=; secure=
-Set-Cookie: httpandsec5=myvalue6  ; domain=127.0.0.1; path=/p4/; secure; httponly=
-Set-Cookie: httpandsec6=myvalue7  ; domain=127.0.0.1; path=/p4/; secure=; httponly=
-Set-Cookie: httpandsec7=myvalue8  ; domain=127.0.0.1; path=/p4/; secure; httponly
+Set-Cookie: sec4value=secure4  ; secure=; domain=127.0.0.1; path=/secure4/ ; 
+Set-Cookie: sec5value=secure5  ; secure; domain=127.0.0.1; path=/secure5/ ; 
+Set-Cookie: sec6value=secure6  ; secure ; domain=127.0.0.1; path=/secure6/ ; 
+Set-Cookie: sec7value=secure7  ; secure   ; domain=127.0.0.1; path=/secure7/ ; 
+Set-Cookie: sec8value=secure8  ; secure= ; domain=127.0.0.1; path=/secure8/ ; 
+Set-Cookie: secure=very1  ; secure=; domain=127.0.0.1; path=/secure9/; 
+Set-Cookie: httpo1=value1  ; domain=127.0.0.1; path=/p1/; httponly
+Set-Cookie: httpo2=value2  ; domain=127.0.0.1; path=/p2/; httponly=
+Set-Cookie: httpo3=value3  ; httponly; domain=127.0.0.1; path=/p3/;
+Set-Cookie: httpo4=value4  ; httponly=; domain=127.0.0.1; path=/p4/; 
+Set-Cookie: httponly=myvalue1  ; domain=127.0.0.1; path=/p4/; httponly
+Set-Cookie: httpandsec=myvalue2  ; domain=127.0.0.1; path=/p4/; httponly; secure
+Set-Cookie: httpandsec2=myvalue3; domain=127.0.0.1; path=/p4/; httponly=; secure
+Set-Cookie: httpandsec3=myvalue4  ; domain=127.0.0.1; path=/p4/; httponly; secure=
+Set-Cookie: httpandsec4=myvalue5  ; domain=127.0.0.1; path=/p4/; httponly=; secure=
+Set-Cookie: httpandsec5=myvalue6  ; domain=127.0.0.1; path=/p4/; secure; httponly=
+Set-Cookie: httpandsec6=myvalue7  ; domain=127.0.0.1; path=/p4/; secure=; httponly=
+Set-Cookie: httpandsec7=myvalue8  ; domain=127.0.0.1; path=/p4/; secure; httponly
 Set-Cookie: httpandsec8=myvalue9; domain=127.0.0.1; path=/p4/; secure=; httponly
 Set-Cookie: partmatch=present; domain=127.0.0.1 ; path=/;
 Set-Cookie:eat=this; domain=moo.foo.moo;
 Set-Cookie: eat=this-too; domain=.foo.moo;
 Set-Cookie: nodomainnovalue
 Set-Cookie:   nodomain=value; expires=Fri Feb 2 11:56:27 GMT 2035
 Set-Cookie: novalue; domain=reallysilly
 Set-Cookie: test=yes; domain=foo.com; expires=Sat Feb 2 11:56:27 GMT 2030
 Set-Cookie: test2=yes; domain=se; expires=Sat Feb 2 11:56:27 GMT 2030
 Set-Cookie: magic=yessir; path=/silly/; HttpOnly
-Set-Cookie: blexp=yesyes; domain=.0.0.1; domain=.0.0.1; expiry=totally bad;
+Set-Cookie: blexp=yesyes; domain=.0.0.1; domain=.0.0.1; expiry=totally bad;
 
 boo
 </data>
 </reply>
 
 # Client-side
@@ -69,12 +69,15 @@
 <setenv>
 TZ=GMT
 </setenv>
  <command>
 http://%HOSTIP:%HTTPPORT/we/want/31 -b none -c log/jar31.txt
 </command>
+<precheck>
+perl -e 'if ("%HOSTIP" !~ /127\.0\.0\.1$/) {print "Test only works for HOSTIP 127.0.0.1"; exit(1)}'
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test39 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test39
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test39	2011-03-19 23:17:15.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test39	2012-11-19 18:49:15.000000000 +0800
@@ -5,17 +5,17 @@
 HTTP FORMPOST
 </keywords>
 </info>
 # Server-side
 <reply>
 <data>
-HTTP/1.1 200 OK
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Server: test-server/fake
+HTTP/1.1 200 OK
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Server: test-server/fake
 Content-Length: 10
-
+
 blablabla
 </data>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test40 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test40
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test40	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test40	2012-11-19 18:49:15.000000000 +0800
@@ -14,30 +14,30 @@
 Location: ../moo.html/?name=d a niel&testcase=/400002    
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
 </data>
 <data2>
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </data2>
 <datacheck>
 HTTP/1.1 302 OK swsclose
 Location: ../moo.html/?name=d a niel&testcase=/400002    
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </datacheck>
 </reply>
 
 #
 # Client-side
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test42 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test42
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test42	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test42	2012-11-19 18:49:15.000000000 +0800
@@ -14,30 +14,30 @@
 Location: ../m o o.html/420002    
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
 </data>
 <data2>
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </data2>
 <datacheck>
 HTTP/1.1 302 OK swsclose
 Location: ../m o o.html/420002    
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Connection: close
 
-HTTP/1.1 200 OK swsclose
-Location: this should be ignored
-Date: Thu, 09 Nov 2010 14:49:00 GMT
-Connection: close
-
+HTTP/1.1 200 OK swsclose
+Location: this should be ignored
+Date: Thu, 09 Nov 2010 14:49:00 GMT
+Connection: close
+
 body
 </datacheck>
 </reply>
 
 #
 # Client-side
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test46 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test46
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test46	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test46	2012-11-19 18:49:15.000000000 +0800
@@ -8,24 +8,24 @@
 </keywords>
 </info>
 
 # Server-side
 <reply>
 <data>
-HTTP/1.1 200 OK
-Server: Microsoft-IIS/4.0
-Date: Tue, 25 Sep 2001 19:37:44 GMT
-Content-Type: text/html
-Set-Cookie: ckyPersistent=permanent; expires=Fri, 02-Feb-2035 11:56:27 GMT; path=/
-Set-Cookie: ckySession=temporary; path=/
-Set-Cookie: ASPSESSIONIDQGGQQSJJ=GKNBDIFAAOFDPDAIEAKDIBKE; path=/
-Set-Cookie: justaname=; path=/;
-Set-Cookie: simplyhuge=zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
-Cache-control: private
+HTTP/1.1 200 OK
+Server: Microsoft-IIS/4.0
+Date: Tue, 25 Sep 2001 19:37:44 GMT
+Content-Type: text/html
+Set-Cookie: ckyPersistent=permanent; expires=Fri, 02-Feb-2035 11:56:27 GMT; path=/
+Set-Cookie: ckySession=temporary; path=/
+Set-Cookie: ASPSESSIONIDQGGQQSJJ=GKNBDIFAAOFDPDAIEAKDIBKE; path=/
+Set-Cookie: justaname=; path=/;
+Set-Cookie: simplyhuge=zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
+Cache-control: private
 Content-Length: 41
-
+
 This server reply is for testing cookies
 </data>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test5	2011-03-19 22:59:05.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test5	2012-11-14 05:02:16.000000000 +0800
@@ -26,13 +26,13 @@
 http
 </server>
  <name>
 HTTP over proxy
  </name>
  <command>
-http://%HOSTIP:%HTTPPORT/we/want/that/page/5 -x %HOSTIP:%HTTPPORT
+http://%HOSTIP:%HTTPPORT/we/want/that/page/5#5 -x %HOSTIP:%HTTPPORT
 </command>
 </client>
 
 #
 # Verify data after the test has been "shot"
 <verify>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test517 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test517
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test517	2012-03-09 03:35:27.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test517	2012-11-19 18:49:15.000000000 +0800
@@ -109,15 +109,15 @@
 80: 20110623 56:34:56 => -1
 81: 20111323 12:34:56 => -1
 82: 20110623 12:34:79 => -1
 83: Wed, 31 Dec 2008 23:59:60 GMT => 1230768000
 </stdout>
 
-# This test case previously testes an overflow case ("2094 Nov 6 =>
+# This test case previously tested an overflow case ("2094 Nov 6 =>
 # 2147483647") for 32bit time_t, but since some systems have 64bit time_t and
 # handles this (returning 3939840000), and some 64bit-time_t systems don't
-# handle this and returns -1 for this, it turned very tricky to write a fine
+# handle this and return -1 for this, it turned very tricky to write a fine
 # test case and thus it is now removed until we have a way to write test cases
 # for this kind of things.
 
 </verify>
 </testcase>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test53 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test53
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test53	2011-03-19 22:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test53	2012-11-19 18:49:15.000000000 +0800
@@ -6,19 +6,19 @@
 cookies
 </keywords>
 </info>
 # Server-side
 <reply>
 <data>
-HTTP/1.1 200 OK
-Server: Microsoft-IIS/4.0
-Date: Tue, 25 Sep 2001 19:37:44 GMT
-Content-Type: text/html
-Connection: close
+HTTP/1.1 200 OK
+Server: Microsoft-IIS/4.0
+Date: Tue, 25 Sep 2001 19:37:44 GMT
+Content-Type: text/html
+Connection: close
 Content-Length: 21
-
+
 This server says moo
 </data>
 </reply>
 
 # Client-side
 <client>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test591 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test591
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test591	2012-03-09 03:35:27.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test591	2012-11-14 05:02:16.000000000 +0800
@@ -60,13 +60,14 @@
 EPRT |1|
 PORT
 TYPE I
 STOR 591
 QUIT
 </protocol>
+# CURLE_UPLOAD_FAILED = 25
 <errorcode>
-10
+25
 </errorcode>
 <upload>
 </upload>
 </verify>
 </testcase>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test592 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test592
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test592	2012-03-09 03:35:27.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test592	2012-11-14 05:02:16.000000000 +0800
@@ -49,24 +49,25 @@
 <verify>
 # Strip off parts of the PORT and EPRT commands that might differ
 <strippart>
 s/^PORT (.*)/PORT/
 s/^EPRT \|1\|(.*)/EPRT \|1\|/
 </strippart>
+# a 421 response must prevent further commands from being sent
 <protocol>
 USER anonymous
 PASS ftp@example.com
 PWD
 CWD path
 EPRT |1|
 PORT
 TYPE I
 STOR 592
-QUIT
 </protocol>
+# 28 == CURLE_OPERATION_TIMEDOUT
 <errorcode>
-10
+28
 </errorcode>
 <upload>
 </upload>
 </verify>
 </testcase>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test8 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test8
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test8	2011-03-19 23:16:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test8	2012-11-19 18:49:15.000000000 +0800
@@ -32,22 +32,25 @@
 <file name="log/heads8.txt">
 HTTP/1.1 200 OK
 Date: Thu, 09 Nov 2010 14:49:00 GMT
 Server: test-server/fake
 Content-Type: text/html
 Funny-head: yesyes
-Set-Cookie: foobar=name; domain=127.0.0.1; path=/;
-Set-Cookie: mismatch=this; domain=127.0.0.1; path="/silly/";
+Set-Cookie: foobar=name; domain=%HOSTIP; path=/;
+Set-Cookie: mismatch=this; domain=%HOSTIP; path="/silly/";
 Set-Cookie: partmatch=present; domain=.0.0.1; path=/w;
 Set-Cookie: duplicate=test; domain=.0.0.1; domain=.0.0.1; path=/donkey;
 Set-Cookie: cookie=yes; path=/we;
 Set-Cookie: cookie=perhaps; path=/we/want;
 Set-Cookie: nocookie=yes; path=/WE;
 Set-Cookie: blexp=yesyes; domain=.0.0.1; domain=.0.0.1; expiry=totally bad;
 
 </file>
+<precheck>
+perl -e 'if ("%HOSTIP" !~ /\.0\.0\.1$/) {print "Test only works for HOSTIPs ending with .0.0.1"; exit(1)}'
+</precheck>
 </client>
 
 # Verify data after the test has been "shot"
 <verify>
 <strip>
 ^User-Agent:.*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test92 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test92
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/data/test92	2011-03-19 23:17:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/data/test92	2012-11-19 18:49:15.000000000 +0800
@@ -10,13 +10,13 @@
 
 # Server-side
 <reply>
 <data>
 HTTP/1.1 416 Requested Range Not Satisfiable
 Date: Fri, 24 Oct 2003 21:33:12 GMT
-Server: Apache/1.3.19 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.1 OpenSSL/0.9.6 PHP/4.3.1
+Server: Apache/1.3.19 (Unix) (Red-Hat/Linux) mod_ssl/2.8.1 OpenSSL/0.9.6 PHP/4.3.1
 Last-Modified: Fri, 24 Oct 2003 18:01:23 GMT
 ETag: "ab57a-507-3f9968f3"
 Accept-Ranges: bytes
 Content-Length: 4
 Content-Range: bytes */87
 Content-Type: image/gif
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest: lib1501.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest: lib1502.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/lib582.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/lib582.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/lib582.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/lib582.c	2012-11-14 05:02:16.000000000 +0800
@@ -130,13 +130,13 @@
 static int curlTimerCallback(CURLM *multi, long timeout_ms, void *userp)
 {
   struct timeval* timeout = userp;
 
   (void)multi; /* unused */
   if (timeout_ms != -1) {
-    gettimeofday(timeout, 0);
+    *timeout = tutil_tvnow();
     timeout->tv_usec += timeout_ms * 1000;
   }
   else {
     timeout->tv_sec = -1;
   }
   return 0;
@@ -170,14 +170,13 @@
 }
 
 static int getMicroSecondTimeout(struct timeval* timeout)
 {
   struct timeval now;
   ssize_t result;
-
-  gettimeofday(&now, 0);
+  now = tutil_tvnow();
   result = (timeout->tv_sec - now.tv_sec) * 1000000 +
     timeout->tv_usec - now.tv_usec;
   if (result < 0)
     result = 0;
 
   return curlx_sztosi(result);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/libauthretry.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/libauthretry.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/libauthretry.c	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/libauthretry.c	2012-11-17 03:09:02.000000000 +0800
@@ -22,60 +22,64 @@
 /* argv1 = URL
  * argv2 = main auth type
  * argv3 = second auth type
  */
 
 #include "test.h"
-
+#include "strequal.h"
 #include "memdebug.h"
 
-static int send_request(CURL *curl, const char *url, int seq, long auth_scheme, const char *userpwd)
+static int send_request(CURL *curl, const char *url, int seq,
+                        long auth_scheme, const char *userpwd)
 {
   CURLcode res;
   char* full_url = malloc(strlen(url) + 4 + 1);
   if (!full_url) {
     fprintf(stderr, "Not enough memory for full url\n");
     res = CURLE_OUT_OF_MEMORY;
     goto test_cleanup;
   }
 
   sprintf(full_url, "%s%04d", url, seq);
-  fprintf(stderr, "Sending new request %d to %s with credential %s (auth %ld)\n", seq, full_url, userpwd, auth_scheme);
+  fprintf(stderr, "Sending new request %d to %s with credential %s "
+          "(auth %ld)\n", seq, full_url, userpwd, auth_scheme);
   test_setopt(curl, CURLOPT_URL, full_url);
   test_setopt(curl, CURLOPT_VERBOSE, 1L);
   test_setopt(curl, CURLOPT_HEADER, 1L);
   test_setopt(curl, CURLOPT_HTTPGET, 1L);
   test_setopt(curl, CURLOPT_USERPWD, userpwd);
   test_setopt(curl, CURLOPT_HTTPAUTH, auth_scheme);
 
   res = curl_easy_perform(curl);
 
 test_cleanup:
-  free(full_url); 
+  free(full_url);
   return res;
 }
 
-static int send_wrong_password(CURL *curl, const char *url, int seq, long auth_scheme)
+static int send_wrong_password(CURL *curl, const char *url, int seq,
+                               long auth_scheme)
 {
     return send_request(curl, url, seq, auth_scheme, "testuser:wrongpass");
 }
 
-static int send_right_password(CURL *curl, const char *url, int seq, long auth_scheme)
+static int send_right_password(CURL *curl, const char *url, int seq,
+                               long auth_scheme)
 {
     return send_request(curl, url, seq, auth_scheme, "testuser:testpass");
 }
 
 static long parse_auth_name(const char *arg)
 {
   if (!arg)
     return CURLAUTH_NONE;
-  if (strcasecmp(arg, "basic") == 0)
+  if (strequal(arg, "basic"))
     return CURLAUTH_BASIC;
-  if (strcasecmp(arg, "digest") == 0)
+  if (strequal(arg, "digest"))
     return CURLAUTH_DIGEST;
-  if (strcasecmp(arg, "ntlm") == 0)
+  if (strequal(arg, "ntlm"))
     return CURLAUTH_NTLM;
   return CURLAUTH_NONE;
 }
 
 int test(char *url)
 {
@@ -84,13 +88,13 @@
   bool curl_is_init = FALSE;
 
   long main_auth_scheme = parse_auth_name(libtest_arg2);
   long fallback_auth_scheme = parse_auth_name(libtest_arg3);
 
   if (main_auth_scheme == CURLAUTH_NONE ||
-   fallback_auth_scheme == CURLAUTH_NONE) {
+      fallback_auth_scheme == CURLAUTH_NONE) {
     fprintf(stderr, "auth schemes not found on commandline\n");
     res = TEST_ERR_MAJOR_BAD;
     goto test_cleanup;
   }
 
   if (curl_global_init(CURL_GLOBAL_ALL) != CURLE_OK) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/libntlmconnect.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/libntlmconnect.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/libntlmconnect.c	2012-09-12 00:57:22.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/libntlmconnect.c	2012-11-19 20:57:45.000000000 +0800
@@ -204,13 +204,13 @@
         found_new_socket = TRUE;
         /* continue to make sure there's only one new handle */
       }
     }
 
     if (state == NeedSocketForNewHandle) {
-      if (found_new_socket) {
+      if(maxfd != -1 && !found_new_socket) {
         fprintf(stderr, "Warning: socket did not open immediately for new "
                 "handle (trying again)\n");
         continue;
       }
       state = num_handles < MAX_EASY_HANDLES ? ReadyForNewHandle
                                              : NoMoreHandles;
@@ -231,13 +231,13 @@
       interval.tv_sec = TEST_HANG_TIMEOUT/1000+1;
       interval.tv_usec = 0;
 
       /* if there's no timeout and we get here on the last handle, we may
          already have read the last part of the stream so waiting makes no
          sense */
-      if(num_handles == MAX_EASY_HANDLES) {
+      if(!running && num_handles == MAX_EASY_HANDLES) {
         break;
       }
     }
 
     select_test(maxfd+1, &fdread, &fdwrite, &fdexcep, &interval);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/Makefile.am	2012-08-09 04:45:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/Makefile.am	2012-11-14 05:02:16.000000000 +0800
@@ -32,25 +32,25 @@
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
 
 if USE_EMBEDDED_ARES
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_builddir)/ares         \
-           -I$(top_srcdir)/ares
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib            \
+              -I$(top_builddir)/ares         \
+              -I$(top_srcdir)/ares
 else
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib
 endif
 
 EXTRA_DIST = test75.pl test307.pl test610.pl test613.pl test1013.pl	\
 test1022.pl Makefile.inc notexists.pl
 
 CFLAG_CURL_SYMBOL_HIDING = @CFLAG_CURL_SYMBOL_HIDING@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/Makefile.in	2012-09-09 04:39:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/Makefile.in	2012-11-19 17:59:19.000000000 +0800
@@ -62,13 +62,13 @@
 	lib568$(EXEEXT) lib569$(EXEEXT) lib570$(EXEEXT) \
 	lib571$(EXEEXT) lib572$(EXEEXT) lib573$(EXEEXT) \
 	lib582$(EXEEXT) lib583$(EXEEXT) lib585$(EXEEXT) \
 	lib586$(EXEEXT) lib587$(EXEEXT) lib590$(EXEEXT) \
 	lib591$(EXEEXT) lib597$(EXEEXT) lib598$(EXEEXT) \
 	lib599$(EXEEXT) libauthretry$(EXEEXT) libntlmconnect$(EXEEXT) \
-	lib1500$(EXEEXT)
+	lib1500$(EXEEXT) lib1501$(EXEEXT) lib1502$(EXEEXT)
 subdir = tests/libtest
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/curl-compilers.m4 \
 	$(top_srcdir)/m4/curl-confopts.m4 \
 	$(top_srcdir)/m4/curl-functions.m4 \
 	$(top_srcdir)/m4/curl-openssl.m4 \
@@ -98,48 +98,57 @@
 am__objects_2 = testutil.$(OBJEXT)
 am_lib1500_OBJECTS = lib1500.$(OBJEXT) $(am__objects_1) \
 	$(am__objects_2)
 lib1500_OBJECTS = $(am_lib1500_OBJECTS)
 lib1500_LDADD = $(LDADD)
 lib1500_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
-am__objects_3 = testtrace.$(OBJEXT)
+am__objects_3 = warnless.$(OBJEXT)
+am_lib1501_OBJECTS = lib1501.$(OBJEXT) $(am__objects_1) \
+	$(am__objects_2) $(am__objects_3)
+lib1501_OBJECTS = $(am_lib1501_OBJECTS)
+lib1501_LDADD = $(LDADD)
+lib1501_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
+am_lib1502_OBJECTS = lib1502.$(OBJEXT) $(am__objects_1)
+lib1502_OBJECTS = $(am_lib1502_OBJECTS)
+lib1502_LDADD = $(LDADD)
+lib1502_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
+am__objects_4 = testtrace.$(OBJEXT)
 am_lib500_OBJECTS = lib500.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_3)
+	$(am__objects_4)
 lib500_OBJECTS = $(am_lib500_OBJECTS)
 lib500_LDADD = $(LDADD)
 lib500_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib501_OBJECTS = lib501.$(OBJEXT) $(am__objects_1)
 lib501_OBJECTS = $(am_lib501_OBJECTS)
 lib501_LDADD = $(LDADD)
 lib501_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
-am__objects_4 = warnless.$(OBJEXT)
 am_lib502_OBJECTS = lib502.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib502_OBJECTS = $(am_lib502_OBJECTS)
 lib502_LDADD = $(LDADD)
 lib502_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib503_OBJECTS = lib503.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib503_OBJECTS = $(am_lib503_OBJECTS)
 lib503_LDADD = $(LDADD)
 lib503_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib504_OBJECTS = lib504.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib504_OBJECTS = $(am_lib504_OBJECTS)
 lib504_LDADD = $(LDADD)
 lib504_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib505_OBJECTS = lib505.$(OBJEXT) $(am__objects_1)
 lib505_OBJECTS = $(am_lib505_OBJECTS)
 lib505_LDADD = $(LDADD)
 lib505_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib506_OBJECTS = lib506.$(OBJEXT) $(am__objects_1)
 lib506_OBJECTS = $(am_lib506_OBJECTS)
 lib506_LDADD = $(LDADD)
 lib506_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib507_OBJECTS = lib507.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib507_OBJECTS = $(am_lib507_OBJECTS)
 lib507_LDADD = $(LDADD)
 lib507_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib508_OBJECTS = lib508.$(OBJEXT) $(am__objects_1)
 lib508_OBJECTS = $(am_lib508_OBJECTS)
 lib508_LDADD = $(LDADD)
@@ -173,13 +182,13 @@
 lib516_LDADD = $(LDADD)
 lib516_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib517_OBJECTS = lib517.$(OBJEXT) $(am__objects_1)
 lib517_OBJECTS = $(am_lib517_OBJECTS)
 lib517_LDADD = $(LDADD)
 lib517_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
-am_lib518_OBJECTS = lib518.$(OBJEXT) $(am__objects_1) $(am__objects_4)
+am_lib518_OBJECTS = lib518.$(OBJEXT) $(am__objects_1) $(am__objects_3)
 lib518_OBJECTS = $(am_lib518_OBJECTS)
 lib518_LDADD = $(LDADD)
 lib518_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib519_OBJECTS = lib519.$(OBJEXT) $(am__objects_1)
 lib519_OBJECTS = $(am_lib519_OBJECTS)
 lib519_LDADD = $(LDADD)
@@ -198,13 +207,13 @@
 lib523_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib524_OBJECTS = lib524.$(OBJEXT) $(am__objects_1)
 lib524_OBJECTS = $(am_lib524_OBJECTS)
 lib524_LDADD = $(LDADD)
 lib524_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib525_OBJECTS = lib525.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib525_OBJECTS = $(am_lib525_OBJECTS)
 lib525_LDADD = $(LDADD)
 lib525_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am__objects_5 = lib526-first.$(OBJEXT)
 am__objects_6 = lib526-testutil.$(OBJEXT)
 am__objects_7 = lib526-warnless.$(OBJEXT)
@@ -243,31 +252,31 @@
 am_lib532_OBJECTS = lib532-lib526.$(OBJEXT) $(am__objects_17) \
 	$(am__objects_18) $(am__objects_19)
 lib532_OBJECTS = $(am_lib532_OBJECTS)
 lib532_LDADD = $(LDADD)
 lib532_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib533_OBJECTS = lib533.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib533_OBJECTS = $(am_lib533_OBJECTS)
 lib533_LDADD = $(LDADD)
 lib533_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib536_OBJECTS = lib536.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib536_OBJECTS = $(am_lib536_OBJECTS)
 lib536_LDADD = $(LDADD)
 lib536_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
-am_lib537_OBJECTS = lib537.$(OBJEXT) $(am__objects_1) $(am__objects_4)
+am_lib537_OBJECTS = lib537.$(OBJEXT) $(am__objects_1) $(am__objects_3)
 lib537_OBJECTS = $(am_lib537_OBJECTS)
 lib537_LDADD = $(LDADD)
 lib537_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib539_OBJECTS = lib539.$(OBJEXT) $(am__objects_1)
 lib539_OBJECTS = $(am_lib539_OBJECTS)
 lib539_LDADD = $(LDADD)
 lib539_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib540_OBJECTS = lib540.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib540_OBJECTS = $(am_lib540_OBJECTS)
 lib540_LDADD = $(LDADD)
 lib540_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib541_OBJECTS = lib541.$(OBJEXT) $(am__objects_1)
 lib541_OBJECTS = $(am_lib541_OBJECTS)
 lib541_LDADD = $(LDADD)
@@ -299,48 +308,48 @@
 lib548_LDADD = $(LDADD)
 lib548_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib549_OBJECTS = lib549.$(OBJEXT) $(am__objects_1)
 lib549_OBJECTS = $(am_lib549_OBJECTS)
 lib549_LDADD = $(LDADD)
 lib549_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
-am_lib552_OBJECTS = lib552.$(OBJEXT) $(am__objects_1) $(am__objects_4)
+am_lib552_OBJECTS = lib552.$(OBJEXT) $(am__objects_1) $(am__objects_3)
 lib552_OBJECTS = $(am_lib552_OBJECTS)
 lib552_LDADD = $(LDADD)
 lib552_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib553_OBJECTS = lib553.$(OBJEXT) $(am__objects_1)
 lib553_OBJECTS = $(am_lib553_OBJECTS)
 lib553_LDADD = $(LDADD)
 lib553_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib554_OBJECTS = lib554.$(OBJEXT) $(am__objects_1)
 lib554_OBJECTS = $(am_lib554_OBJECTS)
 lib554_LDADD = $(LDADD)
 lib554_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib555_OBJECTS = lib555.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib555_OBJECTS = $(am_lib555_OBJECTS)
 lib555_LDADD = $(LDADD)
 lib555_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib556_OBJECTS = lib556.$(OBJEXT) $(am__objects_1)
 lib556_OBJECTS = $(am_lib556_OBJECTS)
 lib556_LDADD = $(LDADD)
 lib556_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib557_OBJECTS = lib557.$(OBJEXT) $(am__objects_1)
 lib557_OBJECTS = $(am_lib557_OBJECTS)
 lib557_LDADD = $(LDADD)
 lib557_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib560_OBJECTS = lib560.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib560_OBJECTS = $(am_lib560_OBJECTS)
 lib560_LDADD = $(LDADD)
 lib560_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib562_OBJECTS = lib562.$(OBJEXT) $(am__objects_1)
 lib562_OBJECTS = $(am_lib562_OBJECTS)
 lib562_LDADD = $(LDADD)
 lib562_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib564_OBJECTS = lib564.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib564_OBJECTS = $(am_lib564_OBJECTS)
 lib564_LDADD = $(LDADD)
 lib564_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am__objects_22 = lib565-first.$(OBJEXT)
 am_lib565_OBJECTS = lib565-lib510.$(OBJEXT) $(am__objects_22)
 lib565_OBJECTS = $(am_lib565_OBJECTS)
@@ -363,31 +372,31 @@
 lib569_LDADD = $(LDADD)
 lib569_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib570_OBJECTS = lib570.$(OBJEXT) $(am__objects_1)
 lib570_OBJECTS = $(am_lib570_OBJECTS)
 lib570_LDADD = $(LDADD)
 lib570_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
-am_lib571_OBJECTS = lib571.$(OBJEXT) $(am__objects_1) $(am__objects_4)
+am_lib571_OBJECTS = lib571.$(OBJEXT) $(am__objects_1) $(am__objects_3)
 lib571_OBJECTS = $(am_lib571_OBJECTS)
 lib571_LDADD = $(LDADD)
 lib571_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib572_OBJECTS = lib572.$(OBJEXT) $(am__objects_1)
 lib572_OBJECTS = $(am_lib572_OBJECTS)
 lib572_LDADD = $(LDADD)
 lib572_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib573_OBJECTS = lib573.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4) $(am__objects_3)
+	$(am__objects_3) $(am__objects_4)
 lib573_OBJECTS = $(am_lib573_OBJECTS)
 lib573_LDADD = $(LDADD)
 lib573_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib574_OBJECTS = lib574.$(OBJEXT) $(am__objects_1)
 lib574_OBJECTS = $(am_lib574_OBJECTS)
 lib574_LDADD = $(LDADD)
 lib574_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib575_OBJECTS = lib575.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib575_OBJECTS = $(am_lib575_OBJECTS)
 lib575_LDADD = $(LDADD)
 lib575_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib576_OBJECTS = lib576.$(OBJEXT) $(am__objects_1)
 lib576_OBJECTS = $(am_lib576_OBJECTS)
 lib576_LDADD = $(LDADD)
@@ -398,13 +407,13 @@
 lib578_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib579_OBJECTS = lib579.$(OBJEXT) $(am__objects_1)
 lib579_OBJECTS = $(am_lib579_OBJECTS)
 lib579_LDADD = $(LDADD)
 lib579_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib582_OBJECTS = lib582.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib582_OBJECTS = $(am_lib582_OBJECTS)
 lib582_LDADD = $(LDADD)
 lib582_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib583_OBJECTS = lib583.$(OBJEXT) $(am__objects_1)
 lib583_OBJECTS = $(am_lib583_OBJECTS)
 lib583_LDADD = $(LDADD)
@@ -428,18 +437,18 @@
 lib587_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib590_OBJECTS = lib590.$(OBJEXT) $(am__objects_1)
 lib590_OBJECTS = $(am_lib590_OBJECTS)
 lib590_LDADD = $(LDADD)
 lib590_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib591_OBJECTS = lib591.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib591_OBJECTS = $(am_lib591_OBJECTS)
 lib591_LDADD = $(LDADD)
 lib591_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib597_OBJECTS = lib597.$(OBJEXT) $(am__objects_1) $(am__objects_2) \
-	$(am__objects_4)
+	$(am__objects_3)
 lib597_OBJECTS = $(am_lib597_OBJECTS)
 lib597_LDADD = $(LDADD)
 lib597_DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 am_lib598_OBJECTS = lib598.$(OBJEXT) $(am__objects_1)
 lib598_OBJECTS = $(am_lib598_OBJECTS)
 lib598_LDADD = $(LDADD)
@@ -466,67 +475,67 @@
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = $(libhostname_la_SOURCES) $(chkhostname_SOURCES) \
-	$(lib1500_SOURCES) $(lib500_SOURCES) $(lib501_SOURCES) \
-	$(lib502_SOURCES) $(lib503_SOURCES) $(lib504_SOURCES) \
-	$(lib505_SOURCES) $(lib506_SOURCES) $(lib507_SOURCES) \
-	$(lib508_SOURCES) $(lib510_SOURCES) $(lib511_SOURCES) \
-	$(lib512_SOURCES) $(lib513_SOURCES) $(lib514_SOURCES) \
-	$(lib515_SOURCES) $(lib516_SOURCES) $(lib517_SOURCES) \
-	$(lib518_SOURCES) $(lib519_SOURCES) $(lib520_SOURCES) \
-	$(lib521_SOURCES) $(lib523_SOURCES) $(lib524_SOURCES) \
-	$(lib525_SOURCES) $(lib526_SOURCES) $(lib527_SOURCES) \
-	$(lib529_SOURCES) $(lib530_SOURCES) $(lib532_SOURCES) \
-	$(lib533_SOURCES) $(lib536_SOURCES) $(lib537_SOURCES) \
-	$(lib539_SOURCES) $(lib540_SOURCES) $(lib541_SOURCES) \
-	$(lib542_SOURCES) $(lib543_SOURCES) $(lib544_SOURCES) \
-	$(lib545_SOURCES) $(lib547_SOURCES) $(lib548_SOURCES) \
-	$(lib549_SOURCES) $(lib552_SOURCES) $(lib553_SOURCES) \
-	$(lib554_SOURCES) $(lib555_SOURCES) $(lib556_SOURCES) \
-	$(lib557_SOURCES) $(lib560_SOURCES) $(lib562_SOURCES) \
-	$(lib564_SOURCES) $(lib565_SOURCES) $(lib566_SOURCES) \
-	$(lib567_SOURCES) $(lib568_SOURCES) $(lib569_SOURCES) \
-	$(lib570_SOURCES) $(lib571_SOURCES) $(lib572_SOURCES) \
-	$(lib573_SOURCES) $(lib574_SOURCES) $(lib575_SOURCES) \
-	$(lib576_SOURCES) $(lib578_SOURCES) $(lib579_SOURCES) \
-	$(lib582_SOURCES) $(lib583_SOURCES) $(lib585_SOURCES) \
-	$(lib586_SOURCES) $(lib587_SOURCES) $(lib590_SOURCES) \
-	$(lib591_SOURCES) $(lib597_SOURCES) $(lib598_SOURCES) \
-	$(lib599_SOURCES) $(libauthretry_SOURCES) \
-	$(libntlmconnect_SOURCES)
+	$(lib1500_SOURCES) $(lib1501_SOURCES) $(lib1502_SOURCES) \
+	$(lib500_SOURCES) $(lib501_SOURCES) $(lib502_SOURCES) \
+	$(lib503_SOURCES) $(lib504_SOURCES) $(lib505_SOURCES) \
+	$(lib506_SOURCES) $(lib507_SOURCES) $(lib508_SOURCES) \
+	$(lib510_SOURCES) $(lib511_SOURCES) $(lib512_SOURCES) \
+	$(lib513_SOURCES) $(lib514_SOURCES) $(lib515_SOURCES) \
+	$(lib516_SOURCES) $(lib517_SOURCES) $(lib518_SOURCES) \
+	$(lib519_SOURCES) $(lib520_SOURCES) $(lib521_SOURCES) \
+	$(lib523_SOURCES) $(lib524_SOURCES) $(lib525_SOURCES) \
+	$(lib526_SOURCES) $(lib527_SOURCES) $(lib529_SOURCES) \
+	$(lib530_SOURCES) $(lib532_SOURCES) $(lib533_SOURCES) \
+	$(lib536_SOURCES) $(lib537_SOURCES) $(lib539_SOURCES) \
+	$(lib540_SOURCES) $(lib541_SOURCES) $(lib542_SOURCES) \
+	$(lib543_SOURCES) $(lib544_SOURCES) $(lib545_SOURCES) \
+	$(lib547_SOURCES) $(lib548_SOURCES) $(lib549_SOURCES) \
+	$(lib552_SOURCES) $(lib553_SOURCES) $(lib554_SOURCES) \
+	$(lib555_SOURCES) $(lib556_SOURCES) $(lib557_SOURCES) \
+	$(lib560_SOURCES) $(lib562_SOURCES) $(lib564_SOURCES) \
+	$(lib565_SOURCES) $(lib566_SOURCES) $(lib567_SOURCES) \
+	$(lib568_SOURCES) $(lib569_SOURCES) $(lib570_SOURCES) \
+	$(lib571_SOURCES) $(lib572_SOURCES) $(lib573_SOURCES) \
+	$(lib574_SOURCES) $(lib575_SOURCES) $(lib576_SOURCES) \
+	$(lib578_SOURCES) $(lib579_SOURCES) $(lib582_SOURCES) \
+	$(lib583_SOURCES) $(lib585_SOURCES) $(lib586_SOURCES) \
+	$(lib587_SOURCES) $(lib590_SOURCES) $(lib591_SOURCES) \
+	$(lib597_SOURCES) $(lib598_SOURCES) $(lib599_SOURCES) \
+	$(libauthretry_SOURCES) $(libntlmconnect_SOURCES)
 DIST_SOURCES = $(libhostname_la_SOURCES) $(chkhostname_SOURCES) \
-	$(lib1500_SOURCES) $(lib500_SOURCES) $(lib501_SOURCES) \
-	$(lib502_SOURCES) $(lib503_SOURCES) $(lib504_SOURCES) \
-	$(lib505_SOURCES) $(lib506_SOURCES) $(lib507_SOURCES) \
-	$(lib508_SOURCES) $(lib510_SOURCES) $(lib511_SOURCES) \
-	$(lib512_SOURCES) $(lib513_SOURCES) $(lib514_SOURCES) \
-	$(lib515_SOURCES) $(lib516_SOURCES) $(lib517_SOURCES) \
-	$(lib518_SOURCES) $(lib519_SOURCES) $(lib520_SOURCES) \
-	$(lib521_SOURCES) $(lib523_SOURCES) $(lib524_SOURCES) \
-	$(lib525_SOURCES) $(lib526_SOURCES) $(lib527_SOURCES) \
-	$(lib529_SOURCES) $(lib530_SOURCES) $(lib532_SOURCES) \
-	$(lib533_SOURCES) $(lib536_SOURCES) $(lib537_SOURCES) \
-	$(lib539_SOURCES) $(lib540_SOURCES) $(lib541_SOURCES) \
-	$(lib542_SOURCES) $(lib543_SOURCES) $(lib544_SOURCES) \
-	$(lib545_SOURCES) $(lib547_SOURCES) $(lib548_SOURCES) \
-	$(lib549_SOURCES) $(lib552_SOURCES) $(lib553_SOURCES) \
-	$(lib554_SOURCES) $(lib555_SOURCES) $(lib556_SOURCES) \
-	$(lib557_SOURCES) $(lib560_SOURCES) $(lib562_SOURCES) \
-	$(lib564_SOURCES) $(lib565_SOURCES) $(lib566_SOURCES) \
-	$(lib567_SOURCES) $(lib568_SOURCES) $(lib569_SOURCES) \
-	$(lib570_SOURCES) $(lib571_SOURCES) $(lib572_SOURCES) \
-	$(lib573_SOURCES) $(lib574_SOURCES) $(lib575_SOURCES) \
-	$(lib576_SOURCES) $(lib578_SOURCES) $(lib579_SOURCES) \
-	$(lib582_SOURCES) $(lib583_SOURCES) $(lib585_SOURCES) \
-	$(lib586_SOURCES) $(lib587_SOURCES) $(lib590_SOURCES) \
-	$(lib591_SOURCES) $(lib597_SOURCES) $(lib598_SOURCES) \
-	$(lib599_SOURCES) $(libauthretry_SOURCES) \
-	$(libntlmconnect_SOURCES)
+	$(lib1500_SOURCES) $(lib1501_SOURCES) $(lib1502_SOURCES) \
+	$(lib500_SOURCES) $(lib501_SOURCES) $(lib502_SOURCES) \
+	$(lib503_SOURCES) $(lib504_SOURCES) $(lib505_SOURCES) \
+	$(lib506_SOURCES) $(lib507_SOURCES) $(lib508_SOURCES) \
+	$(lib510_SOURCES) $(lib511_SOURCES) $(lib512_SOURCES) \
+	$(lib513_SOURCES) $(lib514_SOURCES) $(lib515_SOURCES) \
+	$(lib516_SOURCES) $(lib517_SOURCES) $(lib518_SOURCES) \
+	$(lib519_SOURCES) $(lib520_SOURCES) $(lib521_SOURCES) \
+	$(lib523_SOURCES) $(lib524_SOURCES) $(lib525_SOURCES) \
+	$(lib526_SOURCES) $(lib527_SOURCES) $(lib529_SOURCES) \
+	$(lib530_SOURCES) $(lib532_SOURCES) $(lib533_SOURCES) \
+	$(lib536_SOURCES) $(lib537_SOURCES) $(lib539_SOURCES) \
+	$(lib540_SOURCES) $(lib541_SOURCES) $(lib542_SOURCES) \
+	$(lib543_SOURCES) $(lib544_SOURCES) $(lib545_SOURCES) \
+	$(lib547_SOURCES) $(lib548_SOURCES) $(lib549_SOURCES) \
+	$(lib552_SOURCES) $(lib553_SOURCES) $(lib554_SOURCES) \
+	$(lib555_SOURCES) $(lib556_SOURCES) $(lib557_SOURCES) \
+	$(lib560_SOURCES) $(lib562_SOURCES) $(lib564_SOURCES) \
+	$(lib565_SOURCES) $(lib566_SOURCES) $(lib567_SOURCES) \
+	$(lib568_SOURCES) $(lib569_SOURCES) $(lib570_SOURCES) \
+	$(lib571_SOURCES) $(lib572_SOURCES) $(lib573_SOURCES) \
+	$(lib574_SOURCES) $(lib575_SOURCES) $(lib576_SOURCES) \
+	$(lib578_SOURCES) $(lib579_SOURCES) $(lib582_SOURCES) \
+	$(lib583_SOURCES) $(lib585_SOURCES) $(lib586_SOURCES) \
+	$(lib587_SOURCES) $(lib590_SOURCES) $(lib591_SOURCES) \
+	$(lib597_SOURCES) $(lib598_SOURCES) $(lib599_SOURCES) \
+	$(libauthretry_SOURCES) $(libntlmconnect_SOURCES)
 ETAGS = etags
 CTAGS = ctags
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
 AMDEP_FALSE = @AMDEP_FALSE@
 AMDEP_TRUE = @AMDEP_TRUE@
@@ -754,17 +763,20 @@
 #
 # This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
 # KIND, either express or implied.
 #
 ###########################################################################
 AUTOMAKE_OPTIONS = foreign nostdinc
-@USE_EMBEDDED_ARES_FALSE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/lib
+
+# Mostly for Windows build targets, when using static libcurl
+@USE_CPPFLAG_CURL_STATICLIB_TRUE@AM_CPPFLAGS = -DCURL_STATICLIB
+@USE_EMBEDDED_ARES_FALSE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_builddir)/include      \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_srcdir)/include        \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_builddir)/lib          \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_srcdir)/lib
 
 
 # Specify our include paths here, and do it relative to $(top_srcdir) and
 # $(top_builddir), to ensure that these paths which belong to the library
 # being currently built and tested are searched before the library which
 # might possibly already be installed in the system.
@@ -773,31 +785,28 @@
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
-@USE_EMBEDDED_ARES_TRUE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/lib            \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/ares         \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/ares
+@USE_EMBEDDED_ARES_TRUE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_builddir)/include      \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_srcdir)/include        \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_builddir)/lib          \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_srcdir)/lib            \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_builddir)/ares         \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_srcdir)/ares
 
 EXTRA_DIST = test75.pl test307.pl test610.pl test613.pl test1013.pl	\
 test1022.pl Makefile.inc notexists.pl
 
 
 # Dependencies (may need to be overriden)
 LDADD = $(top_builddir)/lib/libcurl.la @CURL_LIBS@
 DEPENDENCIES = $(top_builddir)/lib/libcurl.la
 
-# Mostly for Windows build targets, when using static libcurl
-@USE_CPPFLAG_CURL_STATICLIB_TRUE@AM_CPPFLAGS = -DCURL_STATICLIB
-
 # files used only in some libcurl test programs
 TESTUTIL = testutil.c testutil.h
 
 # files used only in some libcurl test programs
 TSTTRACE = testtrace.c testtrace.h
 
@@ -893,12 +902,14 @@
 lib590_SOURCES = lib590.c $(SUPPORTFILES)
 lib591_SOURCES = lib591.c $(SUPPORTFILES) $(TESTUTIL) $(WARNLESS)
 lib597_SOURCES = lib597.c $(SUPPORTFILES) $(TESTUTIL) $(WARNLESS)
 lib598_SOURCES = lib598.c $(SUPPORTFILES)
 lib599_SOURCES = lib599.c $(SUPPORTFILES)
 lib1500_SOURCES = lib1500.c $(SUPPORTFILES) $(TESTUTIL)
+lib1501_SOURCES = lib1501.c $(SUPPORTFILES) $(TESTUTIL) $(WARNLESS)
+lib1502_SOURCES = lib1502.c $(SUPPORTFILES)
 libauthretry_SOURCES = libauthretry.c $(SUPPORTFILES)
 libntlmconnect_SOURCES = libntlmconnect.c $(SUPPORTFILES) $(TESTUTIL)
 @BUILD_LIBHOSTNAME_FALSE@noinst_LTLIBRARIES = 
 
 # Makefile.inc provides the source defines (TESTUTIL, SUPPORTFILES,
 # noinst_PROGRAMS, lib*_SOURCES, and lib*_CFLAGS)
@@ -971,12 +982,18 @@
 chkhostname$(EXEEXT): $(chkhostname_OBJECTS) $(chkhostname_DEPENDENCIES) 
 	@rm -f chkhostname$(EXEEXT)
 	$(LINK) $(chkhostname_LDFLAGS) $(chkhostname_OBJECTS) $(chkhostname_LDADD) $(LIBS)
 lib1500$(EXEEXT): $(lib1500_OBJECTS) $(lib1500_DEPENDENCIES) 
 	@rm -f lib1500$(EXEEXT)
 	$(LINK) $(lib1500_LDFLAGS) $(lib1500_OBJECTS) $(lib1500_LDADD) $(LIBS)
+lib1501$(EXEEXT): $(lib1501_OBJECTS) $(lib1501_DEPENDENCIES) 
+	@rm -f lib1501$(EXEEXT)
+	$(LINK) $(lib1501_LDFLAGS) $(lib1501_OBJECTS) $(lib1501_LDADD) $(LIBS)
+lib1502$(EXEEXT): $(lib1502_OBJECTS) $(lib1502_DEPENDENCIES) 
+	@rm -f lib1502$(EXEEXT)
+	$(LINK) $(lib1502_LDFLAGS) $(lib1502_OBJECTS) $(lib1502_LDADD) $(LIBS)
 lib500$(EXEEXT): $(lib500_OBJECTS) $(lib500_DEPENDENCIES) 
 	@rm -f lib500$(EXEEXT)
 	$(LINK) $(lib500_LDFLAGS) $(lib500_OBJECTS) $(lib500_LDADD) $(LIBS)
 lib501$(EXEEXT): $(lib501_OBJECTS) $(lib501_DEPENDENCIES) 
 	@rm -f lib501$(EXEEXT)
 	$(LINK) $(lib501_LDFLAGS) $(lib501_OBJECTS) $(lib501_LDADD) $(LIBS)
@@ -1213,12 +1230,14 @@
 	-rm -f *.tab.c
 
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/chkhostname-chkhostname.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/chkhostname-curl_gethostname.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/first.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib1500.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib1501.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib1502.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib500.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib501.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib502.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib503.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib504.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib505.Po@am__quote@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/Makefile.inc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/Makefile.inc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/Makefile.inc	2012-09-09 04:39:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/Makefile.inc	2012-11-19 17:56:58.000000000 +0800
@@ -17,13 +17,13 @@
   lib521 lib523 lib524 lib525 lib526 lib527 lib574 lib575 lib576 lib578	\
   lib579 lib529 lib530 lib532 lib533 lib536 lib537 lib540 lib541 lib542	\
   lib543 lib544 lib545 lib547 lib548 lib549 lib552 lib553 lib554 lib555	\
   lib556 lib539 lib557 lib560 lib562 lib564 lib565 lib566 lib567 lib568	\
   lib569 lib570 lib571 lib572 lib573 lib582 lib583 lib585 lib586 lib587 \
   lib590 lib591 lib597 lib598 lib599 libauthretry libntlmconnect \
-  lib1500
+  lib1500 lib1501 lib1502
 
 chkhostname_SOURCES = chkhostname.c $(top_srcdir)/lib/curl_gethostname.c
 chkhostname_LDADD = @CURL_NETWORK_LIBS@
 chkhostname_DEPENDENCIES =
 chkhostname_CFLAGS = $(AM_CFLAGS)
 
@@ -186,9 +186,13 @@
 lib598_SOURCES = lib598.c $(SUPPORTFILES)
 
 lib599_SOURCES = lib599.c $(SUPPORTFILES)
 
 lib1500_SOURCES = lib1500.c $(SUPPORTFILES) $(TESTUTIL)
 
+lib1501_SOURCES = lib1501.c $(SUPPORTFILES) $(TESTUTIL) $(WARNLESS)
+
+lib1502_SOURCES = lib1502.c $(SUPPORTFILES)
+
 libauthretry_SOURCES = libauthretry.c $(SUPPORTFILES)
 
 libntlmconnect_SOURCES = libntlmconnect.c $(SUPPORTFILES) $(TESTUTIL)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/testtrace.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/testtrace.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/libtest/testtrace.c	2012-04-25 23:29:21.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/libtest/testtrace.c	2012-11-14 05:02:16.000000000 +0800
@@ -19,12 +19,15 @@
  * KIND, either express or implied.
  *
  ***************************************************************************/
 
 #include "test.h"
 
+#define _MPRINTF_REPLACE /* use our functions only */
+#include <curl/mprintf.h>
+
 #include "testutil.h"
 #include "testtrace.h"
 #include "memdebug.h"
 
 struct libtest_trace_cfg libtest_debug_config;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/Makefile.am	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/Makefile.am	2012-11-17 20:58:46.000000000 +0800
@@ -25,13 +25,13 @@
 
 EXTRA_DIST = ftpserver.pl httpserver.pl secureserver.pl runtests.pl getpart.pm \
  FILEFORMAT README stunnel.pem memanalyze.pl testcurl.pl valgrind.pm ftp.pm   \
  sshserver.pl sshhelp.pm testcurl.1 runtests.1 $(HTMLPAGES) $(PDFPAGES) \
  CMakeLists.txt certs/scripts/*.sh certs/Server* certs/EdelCurlRoot* \
  serverhelp.pm tftpserver.pl rtspserver.pl directories.pm symbol-scan.pl \
- certs/srp-verifier-conf certs/srp-verifier-db
+ certs/srp-verifier-conf certs/srp-verifier-db mem-include-scan.pl
 
 # we have two variables here to make sure DIST_SUBDIRS won't get 'unit'
 # added twice as then targets such as 'distclean' misbehave and try to
 # do things twice in that subdir at times (and thus fails).
 if BUILD_UNITTESTS
 BUILD_UNIT = unit
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/Makefile.in	2012-09-09 04:39:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/Makefile.in	2012-11-18 22:50:45.000000000 +0800
@@ -300,13 +300,13 @@
 PDFPAGES = testcurl.pdf runtests.pdf
 EXTRA_DIST = ftpserver.pl httpserver.pl secureserver.pl runtests.pl getpart.pm \
  FILEFORMAT README stunnel.pem memanalyze.pl testcurl.pl valgrind.pm ftp.pm   \
  sshserver.pl sshhelp.pm testcurl.1 runtests.1 $(HTMLPAGES) $(PDFPAGES) \
  CMakeLists.txt certs/scripts/*.sh certs/Server* certs/EdelCurlRoot* \
  serverhelp.pm tftpserver.pl rtspserver.pl directories.pm symbol-scan.pl \
- certs/srp-verifier-conf certs/srp-verifier-db
+ certs/srp-verifier-conf certs/srp-verifier-db mem-include-scan.pl
 
 @BUILD_UNITTESTS_FALSE@BUILD_UNIT = 
 
 # we have two variables here to make sure DIST_SUBDIRS won't get 'unit'
 # added twice as then targets such as 'distclean' misbehave and try to
 # do things twice in that subdir at times (and thus fails).
@@ -336,15 +336,15 @@
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign  tests/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  tests/Makefile'; \
 	cd $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign  tests/Makefile
+	  $(AUTOMAKE) --gnu  tests/Makefile
 .PRECIOUS: Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests: mem-include-scan.pl
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/README	2012-03-09 03:35:26.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/README	2012-11-14 05:02:16.000000000 +0800
@@ -204,13 +204,15 @@
      500 - 599   libcurl source code tests, not using the curl command tool
      600 - 699   SCP/SFTP
      700 - 799   SOCKS4 (even numbers) and SOCK5 (odd numbers)
      800 - 899   POP3, IMAP, SMTP
      1000 - 1299 miscellaneous*
      1300 - 1399 unit tests*
-     1400 - 1999 miscellaneous*
+     1400 - 1499 miscellaneous*
+     1500 - 1599 libcurl source code tests, not using the curl command tool
+                 (same as 5xx)
      2000 - x    multiple sequential protocols per test case*
 
   Since 30-apr-2003, there's nothing in the system that requires us to keep
   within these number series, and those sections marked with * actually
   contain tests for a variety of protocols. Each test case now specifies its
   own server requirements, independent of test number.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/runtests.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/runtests.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/runtests.pl	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/runtests.pl	2012-11-14 05:02:16.000000000 +0800
@@ -2862,13 +2862,16 @@
         # there's a problem, count it as "skipped"
         $skipped++;
         $skipped{$why}++;
         $teststat[$testnum]=$why; # store reason for this test case
 
         if(!$short) {
-            logmsg sprintf("test %03d SKIPPED: $why\n", $testnum);
+            if($skipped{$why} <= 3) {
+                # show only the first three skips for each reason
+                logmsg sprintf("test %03d SKIPPED: $why\n", $testnum);
+            }
         }
 
         timestampskippedevents($testnum);
         return -1;
     }
     logmsg sprintf("test %03d...", $testnum);
@@ -4735,20 +4738,26 @@
         my $r = $_;
         printf "TESTINFO: \"%s\" %d times (", $r, $skipped{$_};
 
         # now show all test case numbers that had this reason for being
         # skipped
         my $c=0;
+        my $max = 9;
         for(0 .. scalar @teststat) {
             my $t = $_;
             if($teststat[$_] && ($teststat[$_] eq $r)) {
-                logmsg ", " if($c);
-                logmsg $_;
+                if($c < $max) {
+                    logmsg ", " if($c);
+                    logmsg $_;
+                }
                 $c++;
             }
         }
+        if($c > $max) {
+            logmsg " and ".($c-$max)." more";
+        }
         logmsg ")\n";
     }
 }
 
 if($total && ($ok != $total)) {
     exit 1;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/server/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/server/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/server/Makefile.am	2012-04-25 23:29:21.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/server/Makefile.am	2012-11-14 05:02:16.000000000 +0800
@@ -32,25 +32,25 @@
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
 
 if USE_EMBEDDED_ARES
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_builddir)/ares         \
-           -I$(top_srcdir)/ares
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib            \
+              -I$(top_builddir)/ares         \
+              -I$(top_srcdir)/ares
 else
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib
 endif
 
 if DOING_NATIVE_WINDOWS
 AM_CPPFLAGS = -DCURL_STATICLIB
 endif
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/server/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/server/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/server/Makefile.in	2012-09-09 04:39:45.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/server/Makefile.in	2012-11-16 20:02:43.000000000 +0800
@@ -383,17 +383,18 @@
 #
 # This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
 # KIND, either express or implied.
 #
 ###########################################################################
 AUTOMAKE_OPTIONS = foreign nostdinc
-@USE_EMBEDDED_ARES_FALSE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/lib
+@DOING_NATIVE_WINDOWS_TRUE@AM_CPPFLAGS = -DCURL_STATICLIB
+@USE_EMBEDDED_ARES_FALSE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_builddir)/include      \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_srcdir)/include        \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_builddir)/lib          \
+@USE_EMBEDDED_ARES_FALSE@              -I$(top_srcdir)/lib
 
 
 # Specify our include paths here, and do it relative to $(top_srcdir) and
 # $(top_builddir), to ensure that these paths which belong to the library
 # being currently built and tested are searched before the library which
 # might possibly already be installed in the system.
@@ -402,21 +403,20 @@
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
-@USE_EMBEDDED_ARES_TRUE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/lib            \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/ares         \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/ares
+@USE_EMBEDDED_ARES_TRUE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_builddir)/include      \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_srcdir)/include        \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_builddir)/lib          \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_srcdir)/lib            \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_builddir)/ares         \
+@USE_EMBEDDED_ARES_TRUE@              -I$(top_srcdir)/ares
 
-@DOING_NATIVE_WINDOWS_TRUE@AM_CPPFLAGS = -DCURL_STATICLIB
 CURLX_SRCS = \
  $(top_srcdir)/lib/mprintf.c \
  $(top_srcdir)/lib/nonblock.c \
  $(top_srcdir)/lib/strequal.c \
  $(top_srcdir)/lib/strtoofft.c \
  $(top_srcdir)/lib/timeval.c \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/unit/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/unit/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/unit/Makefile.am	2012-04-25 23:29:21.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/unit/Makefile.am	2012-11-14 05:02:16.000000000 +0800
@@ -32,34 +32,34 @@
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
 
 if USE_EMBEDDED_ARES
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_srcdir)/tests/libtest  \
-           -I$(top_builddir)/ares         \
-           -I$(top_srcdir)/ares
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib            \
+              -I$(top_srcdir)/tests/libtest  \
+              -I$(top_builddir)/ares         \
+              -I$(top_srcdir)/ares
 else
-INCLUDES = -I$(top_builddir)/include/curl \
-           -I$(top_builddir)/include      \
-           -I$(top_srcdir)/include        \
-           -I$(top_builddir)/lib          \
-           -I$(top_srcdir)/lib            \
-           -I$(top_srcdir)/tests/libtest
+AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+              -I$(top_builddir)/include      \
+              -I$(top_srcdir)/include        \
+              -I$(top_builddir)/lib          \
+              -I$(top_srcdir)/lib            \
+              -I$(top_srcdir)/tests/libtest
 endif
 
 EXTRA_DIST = Makefile.inc
 
 LDADD = $(top_builddir)/lib/libcurlu.la @LDFLAGS@ @LIBCURL_LIBS@ @LIBS@
 DEPENDENCIES = $(top_builddir)/lib/libcurlu.la
-AM_CPPFLAGS = -DUNITTESTS
+AM_CPPFLAGS += -DUNITTESTS
 
 # Mostly for Windows build targets, when using static libcurl
 if USE_CPPFLAG_CURL_STATICLIB
 AM_CPPFLAGS += -DCURL_STATICLIB
 endif
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/unit/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/unit/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/tests/unit/Makefile.in	2012-09-09 04:39:45.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/tests/unit/Makefile.in	2012-11-16 20:02:43.000000000 +0800
@@ -353,19 +353,19 @@
 #
 # This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
 # KIND, either express or implied.
 #
 ###########################################################################
 AUTOMAKE_OPTIONS = foreign nostdinc
-@USE_EMBEDDED_ARES_FALSE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/lib            \
-@USE_EMBEDDED_ARES_FALSE@           -I$(top_srcdir)/tests/libtest
-
+@USE_EMBEDDED_ARES_FALSE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_builddir)/include \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_srcdir)/include \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_builddir)/lib \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_srcdir)/lib \
+@USE_EMBEDDED_ARES_FALSE@	-I$(top_srcdir)/tests/libtest \
+@USE_EMBEDDED_ARES_FALSE@	-DUNITTESTS $(am__append_1)
 
 # Specify our include paths here, and do it relative to $(top_srcdir) and
 # $(top_builddir), to ensure that these paths which belong to the library
 # being currently built and tested are searched before the library which
 # might possibly already be installed in the system.
 #
@@ -373,25 +373,24 @@
 # $(top_builddir)/include for generated curlbuild.h included from lib/setup.h
 # $(top_srcdir)/include is for libcurl's external include files
 # $(top_builddir)/lib is for libcurl's generated lib/curl_config.h file
 # $(top_srcdir)/lib is for libcurl's lib/setup.h and other "borrowed" files
 # $(top_builddir)/ares is for in-tree c-ares's generated ares_build.h file
 # $(top_srcdir)/ares is for in-tree c-ares's external include files
-@USE_EMBEDDED_ARES_TRUE@INCLUDES = -I$(top_builddir)/include/curl \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/include      \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/include        \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/lib          \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/lib            \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/tests/libtest  \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_builddir)/ares         \
-@USE_EMBEDDED_ARES_TRUE@           -I$(top_srcdir)/ares
-
+@USE_EMBEDDED_ARES_TRUE@AM_CPPFLAGS = -I$(top_builddir)/include/curl \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_builddir)/include \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/include \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_builddir)/lib \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/lib \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/tests/libtest \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_builddir)/ares \
+@USE_EMBEDDED_ARES_TRUE@	-I$(top_srcdir)/ares -DUNITTESTS \
+@USE_EMBEDDED_ARES_TRUE@	$(am__append_1)
 EXTRA_DIST = Makefile.inc
 LDADD = $(top_builddir)/lib/libcurlu.la @LDFLAGS@ @LIBCURL_LIBS@ @LIBS@
 DEPENDENCIES = $(top_builddir)/lib/libcurlu.la
-AM_CPPFLAGS = -DUNITTESTS $(am__append_1)
 UNITFILES = curlcheck.h \
  $(top_srcdir)/tests/libtest/test.h \
  $(top_srcdir)/tests/libtest/first.c
 
 
 # These are all unit test programs
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/BUILD.WINDOWS.txt /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/BUILD.WINDOWS.txt
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/BUILD.WINDOWS.txt	2012-08-09 05:38:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/BUILD.WINDOWS.txt	2012-11-14 05:02:16.000000000 +0800
@@ -65,6 +65,7 @@
   ENABLE_IDN=<yes or no>       - Enable use of Windows IDN APIs, defaults to yes
                                  Requires Windows Vista or later, or installation from:
                                  http://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815
   ENABLE_WINSSL=<yes or no>    - Enable native Windows SSL support, defaults to yes
   GEN_PDB=<yes or no>          - Generate Program Database (debug symbols for release build)
   DEBUG=<yes or no>            - Debug builds
+  MACHINE=<x86 or x64>         - Target architecture (default is x86)
\ No newline at end of file
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/gen_resp_file.bat /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/gen_resp_file.bat
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/gen_resp_file.bat	2012-04-25 23:29:21.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/gen_resp_file.bat	2012-11-14 05:02:16.000000000 +0800
@@ -1,6 +1,6 @@
 @echo OFF
 @del %OUTFILE%
 @echo %MACRO_NAME% = \> %OUTFILE%
-@for %%i in (%*) do @echo		%LIBCURL_DIROBJ%/%%i \>>  %OUTFILE%
+@for %%i in (%*) do @echo		%DIROBJ%/%%i \>>  %OUTFILE%
 @echo. >>  %OUTFILE%
 :END
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/MakefileBuild.vc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/MakefileBuild.vc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/MakefileBuild.vc	2012-10-05 01:58:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/MakefileBuild.vc	2012-11-15 06:22:14.000000000 +0800
@@ -63,18 +63,30 @@
 
 CFLAGS_PDB = /Zi
 LFLAGS_PDB = /incremental:no /opt:ref,icf
 
 CFLAGS_LIBCURL_STATIC  = /DCURL_STATICLIB
 
-LIB_NAME_STATIC        = libcurl_a.lib
-LIB_NAME_STATIC_DEBUG  = libcurl_a_debug.lib
-LIB_NAME_DLL           = libcurl.dll
-LIB_NAME_IMP           = libcurl.lib
-LIB_NAME_DLL_DEBUG     = libcurl_debug.dll
-LIB_NAME_IMP_DEBUG     = libcurl_debug.lib
+WIN_LIBS    = ws2_32.lib wldap32.lib advapi32.lib
+
+BASE_NAME              = libcurl
+BASE_NAME_DEBUG        = $(BASE_NAME)_debug
+BASE_NAME_STATIC       = $(BASE_NAME)_a
+BASE_NAME_STATIC_DEBUG = $(BASE_NAME_STATIC)_debug
+
+LIB_NAME_STATIC        = $(BASE_NAME_STATIC).lib
+LIB_NAME_STATIC_DEBUG  = $(BASE_NAME_STATIC_DEBUG).lib
+LIB_NAME_DLL           = $(BASE_NAME).dll
+LIB_NAME_IMP           = $(BASE_NAME).lib
+LIB_NAME_DLL_DEBUG     = $(BASE_NAME_DEBUG).dll
+LIB_NAME_IMP_DEBUG     = $(BASE_NAME_DEBUG).lib
+
+PDB_NAME_STATIC        = $(BASE_NAME_STATIC).pdb
+PDB_NAME_STATIC_DEBUG  = $(BASE_NAME_STATIC_DEBUG).pdb
+PDB_NAME_DLL           = $(BASE_NAME).pdb
+PDB_NAME_DLL_DEBUG     = $(BASE_NAME_DEBUG).pdb
 
 # CURL Command section
 PROGRAM_NAME = curl.exe
 CURL_CFLAGS   =  /I../lib /I../include /nologo /W3 /EHsc /DWIN32 /FD /c
 CURL_LFLAGS   = /nologo /out:$(DIRDIST)\bin\$(PROGRAM_NAME) /subsystem:console /machine:$(MACHINE)
 CURL_RESFLAGS = /i../include
@@ -109,18 +121,16 @@
 SSL_CFLAGS   = /DUSE_SSLEAY /I"$(DEVEL_INCLUDE)/openssl"
 !ENDIF
 
 
 !IF "$(WITH_ZLIB)"=="dll"
 ZLIB_LIBS   = zlib.lib
-ZLIB_CFLAGS = /DHAVE_ZLIB_H /DHAVE_ZLIB /DHAVE_LIBZ
 USE_ZLIB    = true
 ZLIB        = dll
 !ELSEIF "$(WITH_ZLIB)"=="static"
 ZLIB_LIBS   = zlib_a.lib
-ZLIB_CFLAGS = /DHAVE_ZLIB_H /DHAVE_ZLIB /DHAVE_LIBZ
 USE_ZLIB    = true
 ZLIB        = static
 !ENDIF
 
 !IFDEF USE_ZLIB
 ZLIB_CFLAGS = /DHAVE_ZLIB_H /DHAVE_ZLIB /DHAVE_LIBZ
@@ -129,13 +139,13 @@
 
 !IF "$(WITH_SSH2)"=="dll"
 SSH2_LIBS   = libssh2.lib
 USE_SSH2    = true
 SSH2        = dll
 !ELSEIF "$(WITH_SSH2)"=="static"
-SSH2_LIBS   = libssh2_a_debug.lib
+SSH2_LIBS   = libssh2_a.lib user32.lib
 USE_SSH2    = true
 SSH2        = static
 !ENDIF
 
 !IFDEF USE_SSH2
 SSH2_CFLAGS = /DHAVE_LIBSSH2 /DHAVE_LIBSSH2_H /DLIBSSH2_WIN32 /DLIBSSH2_LIBRARY /DUSE_LIBSSH2
@@ -147,14 +157,14 @@
 USE_IDN   = true
 !ELSEIF "$(USE_IDN)"=="yes"
 USE_IDN   = true
 !ENDIF
 
 !IF "$(USE_IDN)"=="true"
-CFLAGS    = $(CFLAGS) /DUSE_WIN32_IDN /DWANT_IDN_PROTOTYPES
-LFLAGS    = $(LFLAGS) Normaliz.lib
+IDN_CFLAGS = $(IDN_CFLAGS) /DUSE_WIN32_IDN /DWANT_IDN_PROTOTYPES
+WIN_LIBS   = $(WIN_LIBS) Normaliz.lib
 !ENDIF
 
 
 !IFNDEF USE_IPV6
 USE_IPV6  = true
 !ELSEIF "$(USE_IPV6)"=="yes"
@@ -195,28 +205,25 @@
 USE_WINSSL  = $(USE_SSPI)
 !ENDIF
 !ELSEIF "$(USE_WINSSL)"=="yes"
 USE_WINSSL  = true
 !ENDIF
 
+
 !IF "$(USE_WINSSL)"=="true"
 !IF "$(USE_SSPI)"!="true"
 !ERROR cannot build with WinSSL without SSPI
 !ENDIF
 SSPI_CFLAGS = $(SSPI_CFLAGS) /DUSE_SCHANNEL
 !ENDIF
 
 
-
 !IF "$(GEN_PDB)"=="yes"
 GEN_PDB = true
 !ENDIF
 
-!IFNDEF MACHINE
-MACHINE = X86
-!ENDIF
 
 !IFDEF EMBEND_MANIFEST
 MANIFESTTOOL = mt -manifest $(DIRDIST)\$(PROGRAM_NAME).manifest -outputresource:$(DIRDIST)\$(PROGRAM_NAME);1
 !ENDIF
 
 # Runtime library configuration
@@ -237,108 +244,101 @@
 TARGET = $(LIB_NAME_DLL)
 CURL_LIBCURL_LIBNAME=$(LIB_NAME_IMP)
 AS_DLL = true
 CFGSET = true
 !ENDIF
 
-WIN_LIBS    = ws2_32.lib wldap32.lib advapi32.lib
 !IF "$(CFGSET)" == "FALSE"
 !ERROR please choose a valid mode
 !ENDIF
 
-CONFIG_NAME_LIB = libcurl
+
 
 # CURL_XX macros are for the curl.exe command
 
 !IF "$(DEBUG)"=="yes"
 RC_FLAGS = /dDEBUGBUILD=1 /Fo $@ $(LIBCURL_SRC_DIR)\libcurl.rc
 CC              = $(CC_DEBUG) $(RTLIB_DEBUG)
 
 CURL_CC         = $(CC)
 CURL_RC_FLAGS = /i../include /dDEBUGBUILD=1 /Fo $@ $(CURL_SRC_DIR)\curl.rc
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-debug
 !ELSE
 RC_FLAGS = /dDEBUGBUILD=0 /Fo $@ $(LIBCURL_SRC_DIR)\libcurl.rc
 CC              = $(CC_NODEBUG) $(RTLIB)
 
 CURL_CC         = $(CC)
 CURL_RC_FLAGS = /i../include /dDEBUGBUILD=0 /Fo $@ $(CURL_SRC_DIR)\curl.rc
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-release
 !ENDIF
 
 CURL_CC = $(CURL_CC) $(CURL_CFLAGS)
 
 !IF "$(AS_DLL)" == "true"
 
-LNK      = $(LNKDLL) $(WIN_LIBS) /out:$(LIB_DIROBJ)\$(TARGET)
+LNK       = $(LNKDLL) $(WIN_LIBS) /out:$(LIB_DIROBJ)\$(TARGET)
 !IF "$(DEBUG)"=="yes"
 TARGET    = $(LIB_NAME_DLL_DEBUG)
 LNK       = $(LNK) /DEBUG /IMPLIB:$(LIB_DIROBJ)\$(LIB_NAME_IMP_DEBUG)
+PDB       = $(PDB_NAME_DLL_DEBUG)
 CURL_LIBS = /IMPLIB:$(LIB_DIROBJ)\$(LIB_NAME_IMP_DEBUG)
 !ELSE
 TARGET    = $(LIB_NAME_DLL)
 LNK       = $(LNK)  /IMPLIB:$(LIB_DIROBJ)\$(LIB_NAME_IMP)
+PDB       = $(PDB_NAME_DLL)
 CURL_LIBS = /IMPLIB:$(LIB_DIROBJ)\$(LIB_NAME_IMP)
 !ENDIF
-RESOURCE = $(LIB_DIROBJ)\libcurl.res
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-dll
+RESOURCE  = $(LIB_DIROBJ)\libcurl.res
 
 # AS_DLL
 !ELSE
 
 !IF "$(DEBUG)"=="yes"
 TARGET   = $(LIB_NAME_STATIC_DEBUG)
+PDB      = $(PDB_NAME_STATIC_DEBUG)
 !ELSE
 TARGET   = $(LIB_NAME_STATIC)
+PDB      = $(PDB_NAME_STATIC)
 !ENDIF
 LNK      = $(LNKLIB) $(WIN_LIBS) /out:$(LIB_DIROBJ)\$(TARGET)
 CC       = $(CC) $(CFLAGS_LIBCURL_STATIC)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-static
 
 # AS_DLL
 !ENDIF
 
 !IF "$(USE_SSL)"=="true"
 CFLAGS = $(CFLAGS) $(SSL_CFLAGS)
 LFLAGS = $(LFLAGS) $(SSL_LFLAGS) $(SSL_LIBS)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ssl-$(SSL)
 !ENDIF
 
 !IF "$(USE_ZLIB)"=="true"
 CFLAGS = $(CFLAGS) $(ZLIB_CFLAGS)
 LFLAGS = $(LFLAGS) $(ZLIB_LFLAGS) $(ZLIB_LIBS)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-zlib-$(ZLIB)
 !ENDIF
 
 !IF "$(USE_SSH2)"=="true"
 CFLAGS = $(CFLAGS) $(SSH2_CFLAGS)
 LFLAGS = $(LFLAGS) $(SSH2_LFLAGS) $(SSH2_LIBS)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ssh2-$(SSH2)
+!ENDIF
+
+!IF "$(USE_IDN)"=="true"
+CFLAGS = $(CFLAGS) $(IDN_CFLAGS)
 !ENDIF
 
 !IF "$(USE_IPV6)"=="true"
 CFLAGS = $(CFLAGS) $(IPV6_CFLAGS)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-ipv6
 !ENDIF
 
 !IF "$(USE_SSPI)"=="true"
 CFLAGS = $(CFLAGS) $(SSPI_CFLAGS)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-sspi
 !ENDIF
 
 !IF "$(USE_SPNEGO)"=="true"
 CFLAGS = $(CFLAGS) $(SPNEGO_CFLAGS)
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-spnego
-!ENDIF
-
-!IF "$(USE_WINSSL)"=="true"
-CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-winssl
 !ENDIF
 
 !IF "$(GEN_PDB)"=="true"
-CFLAGS = $(CFLAGS) $(CFLAGS_PDB)
+CFLAGS = $(CFLAGS) $(CFLAGS_PDB) /Fd"$(LIB_DIROBJ)\$(PDB)"
 LFLAGS = $(LFLAGS) $(LFLAGS_PDB)
 !ENDIF
 
 LIB_DIROBJ = ..\builds\$(CONFIG_NAME_LIB)-obj-lib
 CURL_DIROBJ = ..\builds\$(CONFIG_NAME_LIB)-obj-curl
 DIRDIST = ..\builds\$(CONFIG_NAME_LIB)\
@@ -394,12 +394,13 @@
 	@echo Using SPNEGO: $(USE_SPNEGO)
 	@echo Using WinSSL: $(USE_WINSSL)
 	@echo CFLAGS:     $(CFLAGS)
 	@echo LFLAGS:     $(LFLAGS)
 	@echo GenPDB:     $(GEN_PDB)
 	@echo Debug:      $(DEBUG)
+	@echo Machine:    $(MACHINE)
 	$(LNK) $(LFLAGS) $(LIB_OBJS)
 	@echo Copying libs...
 	@if exist $(LIB_DIROBJ)\$(LIB_NAME_DLL) copy $(LIB_DIROBJ)\$(LIB_NAME_DLL)       $(DIRDIST)\bin\ /y >nul 2<&1
 	@if exist $(LIB_DIROBJ)\$(LIB_NAME_STATIC) copy $(LIB_DIROBJ)\$(LIB_NAME_STATIC)    $(DIRDIST)\lib\ /y >nul 2<&1
 	@if exist $(LIB_DIROBJ)\$(LIB_NAME_DLL_DEBUG) copy $(LIB_DIROBJ)\$(LIB_NAME_DLL_DEBUG) $(DIRDIST)\bin\ /y >nul 2<&1
 	@if exist $(LIB_DIROBJ)\$(LIB_NAME_STATIC_DEBUG) copy $(LIB_DIROBJ)\$(LIB_NAME_STATIC_DEBUG) $(DIRDIST)\lib\ /y >nul 2<&1
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/Makefile.vc /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/Makefile.vc
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.0/winbuild/Makefile.vc	2012-09-11 06:39:22.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.28.1/winbuild/Makefile.vc	2012-11-15 06:22:14.000000000 +0800
@@ -29,12 +29,13 @@
 !MESSAGE   ENABLE_IPV6=<yes or no>      - Enable IPv6, defaults to yes
 !MESSAGE   ENABLE_SSPI=<yes or no>      - Enable SSPI support, defaults to yes
 !MESSAGE   ENABLE_SPNEGO=<yes or no>    - Enable Simple and Protected GSSAPI Negotiation Mechanism, defaults to yes
 !MESSAGE   ENABLE_WINSSL=<yes or no>    - Enable native Windows SSL support, defaults to yes
 !MESSAGE   GEN_PDB=<yes or no>          - Generate Program Database (debug symbols for release build)
 !MESSAGE   DEBUG=<yes or no>            - Debug builds
+!MESSAGE   MACHINE=<x86 or x64>         - Target architecture (default x64 on AMD64, x86 on others)
 !ERROR please choose a valid mode
 
 !ENDIF
 
 !INCLUDE "../lib/Makefile.inc"
 LIBCURL_OBJS=$(CSOURCES:.c=.obj)
@@ -51,12 +52,20 @@
 # backwards compatible check for USE_SSPI
 !IFDEF USE_SSPI
 ENABLE_SSPI = $(USE_SSPI)
 !ENDIF
 
 # default options
+!IFNDEF MACHINE
+!IF "$(PROCESSOR_ARCHITECTURE)"=="AMD64"
+MACHINE = x64
+!ELSE
+MACHINE = x86
+!ENDIF
+!ENDIF
+
 !IFNDEF ENABLE_IDN
 USE_IDN = true
 !ELSEIF "$(ENABLE_IDN)"=="yes"
 USE_IDN = true
 !ELSEIF "$(ENABLE_IDN)"=="no"
 USE_IDN = false
@@ -117,12 +126,14 @@
 SSH2     = dll
 !ELSEIF "$(WITH_SSH2)"=="static"
 USE_SSH2 = true
 SSH2     = static
 !ENDIF
 
+CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-vc$(VC)-$(MACHINE)
+
 !IF "$(DEBUG)"=="yes"
 CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-debug
 !ELSE
 CONFIG_NAME_LIB = $(CONFIG_NAME_LIB)-release
 !ENDIF
 
@@ -165,20 +176,24 @@
 BUILD_DIR=../builds/$(CONFIG_NAME_LIB)
 LIBCURL_DIROBJ = ..\builds\$(CONFIG_NAME_LIB)-obj-lib
 CURL_DIROBJ = ..\builds\$(CONFIG_NAME_LIB)-obj-curl
 DIRDIST = ..\builds\$(CONFIG_NAME_LIB)\
 
 $(MODE):
-	@SET LIBCURL_DIROBJ=$(LIBCURL_DIROBJ)
+	@SET DIROBJ=$(LIBCURL_DIROBJ)
 	@SET MACRO_NAME=LIBCURL_OBJS
 	@SET OUTFILE=LIBCURL_OBJS.inc
 	@gen_resp_file.bat $(LIBCURL_OBJS)
-	@SET LIBCURL_DIROBJ=$(CURL_DIROBJ)
+
+	@SET DIROBJ=$(CURL_DIROBJ)
 	@SET MACRO_NAME=CURL_OBJS
 	@SET OUTFILE=CURL_OBJS.inc
 	@gen_resp_file.bat $(CURL_OBJS)
+
+	@SET CONFIG_NAME_LIB=$(CONFIG_NAME_LIB)
+	@SET MACHINE=$(MACHINE)
 	@SET USE_IDN=$(USE_IDN)
 	@SET USE_IPV6=$(USE_IPV6)
 	@SET USE_SSPI=$(USE_SSPI)
 	@SET USE_SPNEGO=$(USE_SPNEGO)
 	@SET USE_WINSSL=$(USE_WINSSL)
 	@$(MAKE) /NOLOGO /F MakefileBuild.vc
