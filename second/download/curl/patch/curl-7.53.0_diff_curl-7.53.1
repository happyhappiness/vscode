diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/CHANGES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/CHANGES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/CHANGES	2017-02-22 07:24:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/CHANGES	2017-02-24 15:50:05.000000000 +0800
@@ -3,12 +3,116 @@
                              / __| | | | |_) | |
                             | (__| |_| |  _ <| |___
                              \___|\___/|_| \_\_____|
 
                                   Changelog
 
+Version 7.53.1 (24 Feb 2017)
+
+Daniel Stenberg (24 Feb 2017)
+- release: 7.53.1
+
+- Revert "tests: use consistent environment variables for setting charset"
+  
+  This reverts commit ecd1d020abdae3c3ce3643ddab3106501e62e7c0.
+  
+  That commit caused test failures on my Debian Linux machine for all
+  changed test cases. We need to reconsider how that should get done.
+
+Dan Fandrich (23 Feb 2017)
+- tests: use consistent environment variables for setting charset
+  
+  Character set in POSIX is set by the locale defined (in decreasing order
+  of precedence) by the LC_ALL, LC_CTYPE and LANG environment variables (I
+  believe CHARSET is only historic). LC_ALL is cleared to ensure that
+  LC_CTYPE takes effect, but LC_ALL is not used to set the locale to
+  ensure that other parts of the locale aren't overriden, if set.  Since
+  there doesn't seem to be a cross-platform way of specifying a UTF-8
+  locale, and not all systems may support UTF-8, a <precheck> is used
+  (where relevant) to skip the test if UTF-8 isn't in use.  Test 1035 was
+  also converted to UTF-8 for consistency, as the actual character set
+  used there is irrelevant to the test.
+
+Jay Satiro (23 Feb 2017)
+- url: Default the CA proxy bundle location to CURL_CA_BUNDLE
+  
+  If the compile-time CURL_CA_BUNDLE location is defined use it as the
+  default value for the proxy CA bundle location, which is the same as
+  what we already do for the regular CA bundle location.
+  
+  Ref: https://github.com/curl/curl/pull/1257
+
+Daniel Stenberg (23 Feb 2017)
+- [Sergii Pylypenko brought this change]
+
+  rand: added missing #ifdef HAVE_FCNTL_H around fcntl.h header
+  
+  Closes #1285
+
+- TODO: "OPTIONS *"
+  
+  Closes #1280
+
+- RELEASE-NOTES: synced with 443e5b03a7d441
+
+- THANKS-filter: shachaf
+
+- [İsmail Dönmez brought this change]
+
+  tests: Set CHARSET & LANG to UTF-8 in 1035, 2046 and 2047
+  
+  Closes #1283
+  Fixes #1277
+
+- bump: 7.53.1 coming up
+  
+  synced with df665f4df0f7a352
+
+- formdata: check for EOF when reading from stdin
+  
+  Reported-by: shachaf@users.noreply.github.com
+  
+  Fixes #1281
+
+Jay Satiro (22 Feb 2017)
+- docs: gitignore curl.1
+  
+  curl.1 is generated by the cmdline-opts script since 4c49b83.
+
+Daniel Stenberg (22 Feb 2017)
+- TODO: HTTP Digest using SHA-256
+
+- TODO: brotli is deployed widely now
+
+Jay Satiro (21 Feb 2017)
+- [Viktor Szakats brought this change]
+
+  urldata: include curl_sspi.h when Windows SSPI is enabled
+  
+  f77dabe broke builds in Windows using Windows SSPI but not Windows SSL.
+  
+  Bug: https://github.com/curl/curl/issues/1276
+  Reported-by: jveazey@users.noreply.github.com
+
+- url: Improve CURLOPT_PROXY_CAPATH error handling
+  
+  - Change CURLOPT_PROXY_CAPATH to return CURLE_NOT_BUILT_IN if the option
+    is not supported, which is the same as what we already do for
+    CURLOPT_CAPATH.
+  
+  - Change the curl tool to handle CURLOPT_PROXY_CAPATH error
+    CURLE_NOT_BUILT_IN as a warning instead of as an error, which is the
+    same as what we already do for CURLOPT_CAPATH.
+  
+  - Fix CAPATH docs to show that CURLE_NOT_BUILT_IN is returned when the
+    respective CAPATH option is not supported by the SSL library.
+  
+  Ref: https://github.com/curl/curl/pull/1257
+
+- cyassl: fix typo
+
 Version 7.53.0 (22 Feb 2017)
 
 Daniel Stenberg (22 Feb 2017)
 - release: 7.53.0
 
 - cookie: fix declaration of 'dup' shadows a global declaration
@@ -5948,49 +6052,6 @@
 - checksrc.bat: Added support for the examples
 
 Daniel Stenberg (3 Apr 2016)
 - lib/src: fix the checksrc invoke
   
   ... now works correctly when invoke from the root makefile
-
-- nw: please the stricter checksrc
-
-Steve Holme (3 Apr 2016)
-- checksrc.bat: Re-enabled the tests directory by default
-  
-  Following the recent changes to the source in the tests directory,
-  re-enabled tests for the default scan.
-
-- checksrc.bat: Added tests/server directory support
-  
-  In addition to commit 83b174b3f0 and following the recent changes.
-
-- tests: Fixed header files to comply with our code style
-
-Daniel Stenberg (3 Apr 2016)
-- make checksrc: run it in docs/examples too by default
-
-- docs/examples: remove spurious white spaces all over
-  
-  ... to please the new, slightly picker, checksrc.pl
-
-- tests: fix make checksrc in servers/
-
-- tests: 'make checksrc' now checks server/ too
-
-- root/make: have checksrc run in include/curl too
-
-- tests/server: comply with our code style
-
-- code: style updates
-
-- checksrc: check for more malplaced spaces
-
-- unit: make unit test source code checksrc compliant
-
-- checksrc: run checksrc in tests when 'make checksrc' in root
-
-- checksrc: remove debug crap
-
-- lib557: allow too long lines
-
-- checksrc: allow ignore of specific warnings within a file (section)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/libcurl/opts/CURLOPT_CAPATH.3 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/libcurl/opts/CURLOPT_CAPATH.3
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/libcurl/opts/CURLOPT_CAPATH.3	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/libcurl/opts/CURLOPT_CAPATH.3	2017-02-24 06:14:58.000000000 +0800
@@ -46,11 +46,16 @@
 .SH EXAMPLE
 TODO
 .SH AVAILABILITY
 This option is supported by the OpenSSL, GnuTLS and PolarSSL backends. The NSS
 backend provides the option only for backward compatibility.
 .SH RETURN VALUE
-Returns CURLE_OK if TLS enabled, and CURLE_UNKNOWN_OPTION if not, or
-CURLE_OUT_OF_MEMORY if there was insufficient heap space.
+CURLE_OK if supported; or an error such as:
+
+CURLE_NOT_BUILT_IN - Not supported by the SSL backend
+
+CURLE_UNKNOWN_OPTION
+
+CURLE_OUT_OF_MEMORY
 .SH "SEE ALSO"
 .BR CURLOPT_CAINFO "(3), "
 .BR CURLOPT_STDERR "(3), " CURLOPT_DEBUGFUNCTION "(3), "
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/libcurl/opts/CURLOPT_PROXY_CAPATH.3 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/libcurl/opts/CURLOPT_PROXY_CAPATH.3
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/libcurl/opts/CURLOPT_PROXY_CAPATH.3	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/libcurl/opts/CURLOPT_PROXY_CAPATH.3	2017-02-24 06:14:58.000000000 +0800
@@ -45,11 +45,16 @@
 .SH AVAILABILITY
 Added in 7.52.0
 
 This option is supported by the OpenSSL, GnuTLS and PolarSSL backends. The NSS
 backend provides the option only for backward compatibility.
 .SH RETURN VALUE
-Returns CURLE_OK if TLS enabled, and CURLE_UNKNOWN_OPTION if not, or
-CURLE_OUT_OF_MEMORY if there was insufficient heap space.
+CURLE_OK if supported; or an error such as:
+
+CURLE_NOT_BUILT_IN - Not supported by the SSL backend
+
+CURLE_UNKNOWN_OPTION
+
+CURLE_OUT_OF_MEMORY
 .SH "SEE ALSO"
 .BR CURLOPT_CAINFO "(3), "
 .BR CURLOPT_STDERR "(3), " CURLOPT_DEBUGFUNCTION "(3), "
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/THANKS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/THANKS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/THANKS	2017-02-22 07:23:38.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/THANKS	2017-02-24 15:49:07.000000000 +0800
@@ -1266,17 +1266,19 @@
 Sebastian Pohlschmidt
 Sebastian Rasmussen
 Senthil Raja Velu
 Sergei Kuzmin
 Sergei Nikulov
 Sergey Tatarincev
+Sergii Pylypenko
 Sergio Ballestrero
 Serj Kalichev
 Seshubabu Pasam
 Seth Mos
 Sh Diao
+Shachaf Ben-Kiki
 Shao Shuchao
 Sharad Gupta
 Shard
 Shawn Landden
 Shawn Poulson
 Shine Fan
@@ -1503,8 +1505,9 @@
 swalkaus at yahoo.com
 tarek112 on github
 tommink[at]post.pl
 vanillajonathan on github
 wmsch on github
 zelinchen on github
+İsmail Dönmez
 Štefan Kremeň
 Никита Дорохин
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/TODO /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/TODO
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/docs/TODO	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/docs/TODO	2017-02-24 06:14:58.000000000 +0800
@@ -60,20 +60,21 @@
  4.7 STAT for LIST without data connection
 
  5. HTTP
  5.1 Better persistency for HTTP 1.0
  5.2 support FF3 sqlite cookie files
  5.3 Rearrange request header order
+ 5.4 HTTP Digest using SHA-256
  5.5 auth= in URLs
  5.6 Refuse "downgrade" redirects
  5.7 Brotli compression
  5.8 QUIC
  5.9 Improve formpost API
  5.10 Leave secure cookies alone
  5.11 Chunked transfer multipart formpost
-
+ 5.12 OPTIONS *
 
  6. TELNET
  6.1 ditch stdin
  6.2 ditch telnet-specific select
  6.3 feature negotiation debug data
  6.4 send data in chunks
@@ -523,12 +524,21 @@
  the order of the request headers. I propose that we introduce a new option in
  which you give headers a value, and then when the HTTP request is built it
  sorts the headers based on that number. We could then have internally created
  headers use a default value so only headers that need to be moved have to be
  specified.
 
+5.4 HTTP Digest using SHA-256
+
+ RFC 7616 introduces an update to the HTTP Digest authentication
+ specification, which amongst other thing defines how new digest algorithms
+ can be used instead of MD5 which is considered old and not recommanded.
+
+ See https://tools.ietf.org/html/rfc7616 and
+ https://github.com/curl/curl/issues/1018
+
 5.5 auth= in URLs
 
  Add the ability to specify the preferred authentication mechanism to use by
  using ;auth=<mech> in the login part of the URL.
 
  For example:
@@ -544,17 +554,15 @@
 
  Consider a way to tell curl to refuse to "downgrade" protocol with a redirect
  and/or possibly a bit that refuses redirect to change protocol completely.
 
 5.7 Brotli compression
 
- Compression algorithms that perform better than gzip are being considered for
- use and inclusion in existing browsers. For example 'brotli'. If servers
- follow along it is a good reason for us to also allow users to take advantage
- of this. The algorithm: https://github.com/google/brotli The Firefox bug:
- https://bugzilla.mozilla.org/show_bug.cgi?id=366559
+ Brotli compression performs better than gzip and is being implemented by
+ browsers and servers widely. The algorithm: https://github.com/google/brotli
+ The Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=366559
 
 5.8 QUIC
 
  The standardization process of QUIC has been taken to the IETF and can be
  followed on the [IETF QUIC Mailing
  list](https://www.ietf.org/mailman/listinfo/quic). I'd like us to get on the
@@ -583,12 +591,29 @@
  (like passed on stdin to the curl tool), we cannot know the size before-hand
  and we rather not read the entire thing into memory before it can start the
  upload.
 
  https://github.com/curl/curl/issues/1139
 
+5.12 OPTIONS *
+
+ HTTP defines an OPTIONS method that can be sent with an asterisk option like
+ "OPTIONS *" to ask about options from the server and not a specific URL
+ resource. https://tools.ietf.org/html/rfc7230#section-5.3.4
+
+ libcurl as it currently works will always sent HTTP methods with a path that
+ starts with a slash so there's no way for an application to send a proper
+ "OPTIONS *" using libcurl. This should be fixed.
+
+ I can't think of any other non-slash paths we should support so it will
+ probably make sense to add a new boolean option for issuign an "OPTIONS *"
+ request. CURLOPT_OPTIONSASTERISK perhaps (and a corresponding command line
+ option)?
+
+ See https://github.com/curl/curl/issues/1280
+
 
 6. TELNET
 
 6.1 ditch stdin
 
 Reading input (to send to the remote server) on stdin is a crappy solution for
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/include/curl/curlver.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/include/curl/curlver.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/include/curl/curlver.h	2017-02-22 07:24:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/include/curl/curlver.h	2017-02-24 15:50:05.000000000 +0800
@@ -27,19 +27,19 @@
 
 /* This is the global package copyright */
 #define LIBCURL_COPYRIGHT "1996 - 2017 Daniel Stenberg, <daniel@haxx.se>."
 
 /* This is the version number of the libcurl package from which this header
    file origins: */
-#define LIBCURL_VERSION "7.53.0"
+#define LIBCURL_VERSION "7.53.1"
 
 /* The numeric version number is also available "in parts" by using these
    defines: */
 #define LIBCURL_VERSION_MAJOR 7
 #define LIBCURL_VERSION_MINOR 53
-#define LIBCURL_VERSION_PATCH 0
+#define LIBCURL_VERSION_PATCH 1
 
 /* This is the numeric version of the libcurl version number, meant for easier
    parsing and comparions by programs. The LIBCURL_VERSION_NUM define will
    always follow this syntax:
 
          0xXXYYZZ
@@ -54,24 +54,24 @@
    comparisons with greater than and less than work.
 
    Note: This define is the full hex number and _does not_ use the
    CURL_VERSION_BITS() macro since curl's own configure script greps for it
    and needs it to contain the full number.
 */
-#define LIBCURL_VERSION_NUM 0x073500
+#define LIBCURL_VERSION_NUM 0x073501
 
 /*
  * This is the date and time when the full source package was created. The
  * timestamp is not stored in git, as the timestamp is properly set in the
  * tarballs by the maketgz script.
  *
  * The format of the date should follow this template:
  *
  * "Mon Feb 12 11:35:33 UTC 2007"
  */
-#define LIBCURL_TIMESTAMP "Tue Feb 21 23:24:18 UTC 2017"
+#define LIBCURL_TIMESTAMP "Fri Feb 24 07:49:42 UTC 2017"
 
 #define CURL_VERSION_BITS(x,y,z) ((x)<<16|(y)<<8|z)
 #define CURL_AT_LEAST_VERSION(x,y,z) \
   (LIBCURL_VERSION_NUM >= CURL_VERSION_BITS(x, y, z))
 
 #endif /* __CURL_CURLVER_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/include/curl/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/include/curl/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/include/curl/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/include/curl/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -428,15 +428,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign include/curl/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu include/curl/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign include/curl/Makefile
+	  $(AUTOMAKE) --gnu include/curl/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/formdata.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/formdata.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/formdata.c	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/formdata.c	2017-02-24 06:14:58.000000000 +0800
@@ -2,13 +2,13 @@
  *                                  _   _ ____  _
  *  Project                     ___| | | |  _ \| |
  *                             / __| | | | |_) | |
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2016, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2017, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
  * are also available at https://curl.haxx.se/docs/copyright.html.
  *
  * You may opt to use, copy, modify, merge, publish, distribute and/or sell
@@ -1329,13 +1329,13 @@
              * can't be sure we work with such a server.
              */
             size_t nread;
             char buffer[512];
             while((nread = fread(buffer, 1, sizeof(buffer), fileread)) != 0) {
               result = AddFormData(&form, FORM_CONTENT, buffer, nread, &size);
-              if(result)
+              if(result || feof(fileread) || ferror(fileread))
                 break;
             }
           }
         }
         else {
           if(data)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/libcurl.plist /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/libcurl.plist
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/libcurl.plist	2017-02-22 07:24:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/libcurl.plist	2017-02-24 15:50:05.000000000 +0800
@@ -12,24 +12,24 @@
 	<string>curl</string>
 
 	<key>CFBundleIdentifier</key>
 	<string>se.haxx.curl.libcurl</string>
 
 	<key>CFBundleVersion</key>
-	<string>7.53.0</string>
+	<string>7.53.1</string>
 
 	<key>CFBundleName</key>
 	<string>libcurl</string>
 
 	<key>CFBundlePackageType</key>
 	<string>FMWK</string>
 
 	<key>CFBundleSignature</key>
 	<string>????</string>
 
 	<key>CFBundleShortVersionString</key>
-	<string>libcurl 7.53.0</string>
+	<string>libcurl 7.53.1</string>
 
 	<key>CFBundleGetInfoString</key>
-	<string>libcurl.plist 7.53.0</string>
+	<string>libcurl.plist 7.53.1</string>
 </dict>
 </plist>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/rand.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/rand.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/rand.c	2017-01-13 17:55:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/rand.c	2017-02-24 06:14:58.000000000 +0800
@@ -19,13 +19,15 @@
  * KIND, either express or implied.
  *
  ***************************************************************************/
 
 #include "curl_setup.h"
 
+#ifdef HAVE_FCNTL_H
 #include <fcntl.h>
+#endif
 
 #include <curl/curl.h>
 #include "vtls/vtls.h"
 #include "sendf.h"
 #include "rand.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/url.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/url.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/url.c	2017-02-21 16:09:46.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/url.c	2017-02-24 06:14:58.000000000 +0800
@@ -574,20 +574,25 @@
 
   /* This is our preferred CA cert bundle/path since install time */
 #if defined(CURL_CA_BUNDLE)
   result = setstropt(&set->str[STRING_SSL_CAFILE_ORIG], CURL_CA_BUNDLE);
   if(result)
     return result;
+
+  result = setstropt(&set->str[STRING_SSL_CAFILE_PROXY], CURL_CA_BUNDLE);
+  if(result)
+    return result;
 #endif
 #if defined(CURL_CA_PATH)
   result = setstropt(&set->str[STRING_SSL_CAPATH_ORIG], CURL_CA_PATH);
   if(result)
     return result;
 
-  result = setstropt(&set->str[STRING_SSL_CAPATH_PROXY],
-                     (char *) CURL_CA_PATH);
+  result = setstropt(&set->str[STRING_SSL_CAPATH_PROXY], CURL_CA_PATH);
+  if(result)
+    return result;
 #endif
 
   set->wildcardmatch  = FALSE;
   set->chunk_bgn      = ZERO_NULL;
   set->chunk_end      = ZERO_NULL;
 
@@ -2222,14 +2227,18 @@
      * Set CA path info for SSL connection. Specify directory name of the CA
      * certificates which have been prepared using openssl c_rehash utility.
      */
     /* This does not work on windows. */
     result = setstropt(&data->set.str[STRING_SSL_CAPATH_ORIG],
                        va_arg(param, char *));
+#else
+    result = CURLE_NOT_BUILT_IN;
+#endif
     break;
   case CURLOPT_PROXY_CAPATH:
+#ifdef have_curlssl_ca_path /* not supported by all backends */
     /*
      * Set CA path info for SSL connection proxy. Specify directory name of the
      * CA certificates which have been prepared using openssl c_rehash utility.
      */
     /* This does not work on windows. */
     result = setstropt(&data->set.str[STRING_SSL_CAPATH_PROXY],
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/urldata.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/urldata.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/urldata.h	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/urldata.h	2017-02-24 06:14:58.000000000 +0800
@@ -133,14 +133,16 @@
 #include <axTLS/ssl.h>
 #undef malloc
 #undef calloc
 #undef realloc
 #endif /* USE_AXTLS */
 
-#ifdef USE_SCHANNEL
+#if defined(USE_SCHANNEL) || defined(USE_WINDOWS_SSPI)
 #include "curl_sspi.h"
+#endif
+#ifdef USE_SCHANNEL
 #include <schnlsp.h>
 #include <schannel.h>
 #endif
 
 #ifdef USE_DARWINSSL
 #include <Security/Security.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/vtls/cyassl.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/vtls/cyassl.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/lib/vtls/cyassl.h	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/lib/vtls/cyassl.h	2017-02-24 06:14:58.000000000 +0800
@@ -56,13 +56,13 @@
                             size_t length);
 void Curl_cyassl_sha256sum(const unsigned char *tmp, /* input */
                      size_t tmplen,
                      unsigned char *sha256sum, /* output */
                      size_t unused);
 
-/* Set the API backend definition to Schannel */
+/* Set the API backend definition to CyaSSL */
 #define CURL_SSL_BACKEND CURLSSLBACKEND_CYASSL
 
 /* this backend supports CURLOPT_SSL_CTX_* */
 #define have_curlssl_ssl_ctx 1
 
 #ifdef KEEP_PEER_CERT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/AIX/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/AIX/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/AIX/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/AIX/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -397,15 +397,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/AIX/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/AIX/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/AIX/Makefile
+	  $(AUTOMAKE) --gnu packages/AIX/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/AIX/RPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/AIX/RPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/AIX/RPM/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/AIX/RPM/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -336,15 +336,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/AIX/RPM/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/AIX/RPM/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/AIX/RPM/Makefile
+	  $(AUTOMAKE) --gnu packages/AIX/RPM/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Linux/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Linux/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Linux/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Linux/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -396,15 +396,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/Linux/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/Linux/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/Linux/Makefile
+	  $(AUTOMAKE) --gnu packages/Linux/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Linux/RPM/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Linux/RPM/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Linux/RPM/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Linux/RPM/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -337,15 +337,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/Linux/RPM/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/Linux/RPM/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/Linux/RPM/Makefile
+	  $(AUTOMAKE) --gnu packages/Linux/RPM/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -428,15 +428,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/Makefile
+	  $(AUTOMAKE) --gnu packages/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Solaris/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Solaris/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Solaris/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Solaris/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -343,15 +343,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/Solaris/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/Solaris/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/Solaris/Makefile
+	  $(AUTOMAKE) --gnu packages/Solaris/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/vms/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/vms/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/vms/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/vms/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -372,15 +372,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/vms/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/vms/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/vms/Makefile
+	  $(AUTOMAKE) --gnu packages/vms/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Win32/cygwin/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Win32/cygwin/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Win32/cygwin/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Win32/cygwin/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -353,15 +353,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/Win32/cygwin/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/Win32/cygwin/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/Win32/cygwin/Makefile
+	  $(AUTOMAKE) --gnu packages/Win32/cygwin/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Win32/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Win32/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/packages/Win32/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/packages/Win32/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -397,15 +397,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign packages/Win32/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu packages/Win32/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign packages/Win32/Makefile
+	  $(AUTOMAKE) --gnu packages/Win32/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/RELEASE-NOTES /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/RELEASE-NOTES
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/RELEASE-NOTES	2017-02-22 07:23:38.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/RELEASE-NOTES	2017-02-24 15:49:07.000000000 +0800
@@ -1,200 +1,39 @@
-Curl and libcurl 7.53.0
+Curl and libcurl 7.53.1
 
- Public curl releases:         163
+ Public curl releases:         164
  Command line options:         205
  curl_easy_setopt() options:   244
  Public functions in libcurl:  61
- Contributors:                 1506
-
-This release includes the following changes:
-
- o unix_socket: added --abstract-unix-socket and CURLOPT_ABSTRACT_UNIX_SOCKET [25]
- o CURLOPT_BUFFERSIZE: support enlarging receive buffer [29]
+ Contributors:                 1507
 
 This release includes the following bugfixes:
 
- o CVE-2017-2629: make SSL_VERIFYSTATUS work again [64]
- o gnutls-random: check return code for failed random
- o openssl-random: check return code when asking for random
- o http: remove "Curl_http_done: called premature" message
- o cyassl: use time_t instead of long for timeout
- o build-wolfssl: Sync config with wolfSSL 3.10
- o ftp-gss: check for init before use
- o configure: accept --with-libidn2 instead [1]
- o ftp: failure to resolve proxy should return that error code
- o curl.1: add three more exit codes
- o docs/ciphers: link to our own new page about ciphers
- o vtls: s/SSLEAY/OPENSSL - fixes multi_socket timeouts with openssl [2]
- o darwinssl: fix iOS build [3]
- o darwinssl: fix CFArrayRef leak [4]
- o cmake: use crypt32.lib when building with OpenSSL on windows [5]
- o curl_formadd.3: CURLFORM_CONTENTSLENGTH not needed when chunked [6]
- o digest_sspi: copy terminating NUL as well [7]
- o curl: fix --remote-time incorrect times on Windows [8]
- o curl.1: several updates and corrections [11]
- o content_encoding: change return code on a failure
- o curl.h: CURLE_FUNCTION_NOT_FOUND is no longer in use
- o docs: TCP_KEEPALIVE start and interval default to 60 [9]
- o darwinssl: --insecure overrides --cacert if both settings are in use [10]
- o TheArtOfHttpScripting: grammar
- o CIPHERS.md: document GSKit ciphers
- o wolfssl: support setting cipher list
- o wolfssl: display negotiated SSL version and cipher
- o lib506: fix build for Open Watcom [12]
- o asiohiper: improved socket handling [13]
- o examples: make the C++ examples follow our code style too
- o tests/sws: retry send() on EWOULDBLOCK [14]
- o cmake: Fix passing _WINSOCKAPI_ macro to compiler [15]
- o smtp: Fix STARTTLS denied error message
- o imap/pop3: don't print response character in STARTTLS denied messages [16]
- o rand: make it work without TLS backing [17]
- o url: fix parsing for when 'file' is the default protocol [18]
- o url: allow file://X:/path URLs on windows again [19]
- o gnutls: check for alpn and ocsp in configure [20]
- o IDN: Use TR46 'non-transitional' for toASCII translations [21]
- o url: Fix NO_PROXY env var to work properly with --proxy option [22]
- o CURLOPT_PREQUOTE.3: takes a struct curl_slist*, not a char* [23]
- o docs: Add note about libcurl copying strings to CURLOPT_* manpages [24]
- o curl: reset the easy handle at --next
- o --next docs: --trace and --trace-ascii are also global
- o --write-out docs: 'time_total' is not always shown with ms precision
- o http: print correct HTTP string in verbose output when using HTTP/2
- o docs: improved language in README.md HISTORY.md CONTRIBUTE.md [26]
- o http2: disable server push if not requested [27]
- o nss: use the correct lock in nss_find_slot_by_name()
- o usercertinmem.c: improve the short description
- o CURLOPT_CONNECT_TO: Fix compile warnings
- o docs: non-blocking SSL handshake is now supported with NSS
- o *.rc: escape non-ASCII/non-UTF-8 character for clarity [28]
- o mbedTLS: fix multi interface non-blocking handshake [30]
- o PolarSSL: fix multi interface non-blocking handshake [31]
- o VC: remove the makefile.vc6 build infra [32]
- o telnet: fix windows compiler warnings [33]
- o cookies: do not assume a valid domain has a dot
- o polarssl: fix hangs
- o gnutls: disable TLS session tickets [34]
- o mbedtls: disable TLS session tickets [35]
- o mbedtls: implement CTR-DRBG and HAVEGE random generators [36]
- o openssl: Don't use certificate after transferring ownership [37]
- o cmake: Support curl --xattr when built with cmake [38]
- o OS400: Fix symbols [39]
- o docs: Add more HTTPS proxy documentation [40]
- o docs: use more HTTPS links [41]
- o cmdline-opts: Fixed build and test in out of source tree builds
- o CHANGES.0: removed
- o schannel: Remove incorrect SNI disabled message [42]
- o darwinssl: Avoid parsing certificates when not in verbose mode [43]
- o test552: Fix typos [44]
- o telnet: Fix typos [45]
- o transfer: only retry nobody-requests for HTTP [46]
- o http2: reset push header counter fixes crash [47]
- o nss: make FTPS work with --proxytunnel [48]
- o test1139: Added the --manual keyword since the manual is required
- o polarssl, mbedtls: Fix detection of pending data [49]
- o http_proxy: Fix tiny memory leak upon edge case connecting to proxy [50]
- o URL: only accept ";options" in SMTP/POP3/IMAP URL schemes [51]
- o curl.1: ftp.sunet.se is no longer an FTP mirror
- o tool_operate: Show HTTPS-Proxy options on CURLE_SSL_CACERT [52]
- o http2: fix memory-leak when denying push streams [53]
- o configure: Allow disabling pthreads, fall back on Win32 threads [54]
- o curl: fix typo in time condition warning message [55]
- o axtls: adapt to API changes [56]
- o tool_urlglob: Allow a glob range with the same start and stop [57]
- o winbuild: add note on auto-detection of MACHINE in Makefile.vc [58]
- o http: fix missing 'Content-Length: 0' while negotiating auth [59]
- o proxy: fix hostname resolution and IDN conversion [60]
- o docs: fix timeout handling in multi-uv example
- o digest_sspi: Fix nonce-count generation in HTTP digest [61]
- o sftp: improved checks for create dir failures [62]
- o smb: use getpid replacement for windows UWP builds [63]
- o digest_sspi: Handle 'stale=TRUE' directive in HTTP digest [65]
+ o cyassl: fix typo
+ o url: Improve CURLOPT_PROXY_CAPATH error handling [1]
+ o urldata: include curl_sspi.h when Windows SSPI is enabled [2]
+ o formdata: check for EOF when reading from stdin [3]
+ o tests: Set CHARSET & LANG to UTF-8 in 1035, 2046 and 2047 [4]
+ o url: Default the proxy CA bundle location to CURL_CA_BUNDLE [5]
+ o rand: added missing #ifdef HAVE_FCNTL_H around fcntl.h header [6]
 
 This release includes the following known bugs:
 
  o see docs/KNOWN_BUGS (https://curl.haxx.se/docs/knownbugs.html)
 
 This release would not have looked like this without help, code, reports and
 advice from friends like these:
 
-  Adam Langley, Alessandro Ghedini, Anatol Belski, Andreas Roth,
-  Antoine Aubert, Cameron MacMinn, Chris Araman, Christian Weisgerber,
-  Chungtsun Li, Dan Fandrich, Daniel Gustafsson, Daniel Romero,
-  Daniel Stenberg, Dan Jacobson, Dominik Hölzl, Eramoto Masaya,
-  Fahim Chandurwala, Frank Gevaerts, Gisle Vanem, Isaac Boukris,
-  Jean Gressmann, Jiří Malák, Joel Depooter, John Kohl, jonrumsey on github,
-  Kamil Dudka, Kim Minjoong, Kyselgov E.N, Marcus Hoffmann, Markus Westerlind,
-  Max Khon, Michael Kaufmann, Mingliang Zhu, Nick Draffen, Nick Zitzmann,
-  Patrick Monnerat, Peter Wu, Praveen Pvs, Ray Satiro, R. Dennis Steed,
-  Richy Kim, Sean Burford, Simon Warta, tarek112 on github, Tim Rühsen,
-  Viktor Szakáts, zelinchen on github,
-  (47 contributors)
+  Dan Fandrich, Daniel Stenberg, İsmail Dönmez, jveazey on github, Ray Satiro,
+  Sergii Pylypenko, Shachaf Ben-Kiki, Viktor Szakáts,
+  (8 contributors)
 
         Thanks! (and sorry if I forgot to mention someone)
 
 References to bug reports and discussions on issues:
 
- [1] = https://curl.haxx.se/mail/lib-2016-12/0110.html
- [2] = https://curl.haxx.se/bug/?i=1174
- [3] = https://curl.haxx.se/bug/?i=1172
- [4] = https://curl.haxx.se/bug/?i=1173
- [5] = https://curl.haxx.se/bug/?i=1147
- [6] = https://curl.haxx.se/bug/?i=1013
- [7] = https://curl.haxx.se/bug/?i=1180
- [8] = https://curl.haxx.se/bug/?i=1121
- [9] = https://curl.haxx.se/mail/lib-2017-01/0000.html
- [10] = https://curl.haxx.se/bug/?i=1184
- [11] = https://curl.haxx.se/bug/?i=1190
- [12] = https://curl.haxx.se/bug/?i=1196
- [13] = https://curl.haxx.se/bug/?i=1191
- [14] = https://curl.haxx.se/mail/lib-2017-01/0009.html
- [15] = https://curl.haxx.se/bug/?i=1195
- [16] = https://curl.haxx.se/bug/?i=1203
- [17] = https://curl.haxx.se/mail/lib-2017-01/0055.html
- [18] = https://curl.haxx.se/bug/?i=1124
- [19] = https://curl.haxx.se/bug/?i=1187
- [20] = https://curl.haxx.se/bug/?i=1204
- [21] = https://curl.haxx.se/bug/?i=1207
- [22] = https://curl.haxx.se/bug/?i=1140
- [23] = https://curl.haxx.se/bug/?i=1169
- [24] = https://curl.haxx.se/bug/?i=1169
- [25] = https://curl.haxx.se/bug/?i=1197
- [26] = https://curl.haxx.se/bug/?i=1211
- [27] = https://curl.haxx.se/bug/?i=1160
- [28] = https://curl.haxx.se/bug/?i=1217
- [29] = https://curl.haxx.se/bug/?i=1222
- [30] = https://curl.haxx.se/bug/?i=1223
- [31] = https://github.com/curl/curl/issues/1174#issuecomment-274018791
- [32] = https://curl.haxx.se/bug/?i=1215
- [33] = https://curl.haxx.se/bug/?i=1225
- [34] = https://curl.haxx.se/bug/?i=1109
- [35] = https://curl.haxx.se/bug/?i=1109
- [36] = https://curl.haxx.se/bug/?i=1227
- [37] = https://curl.haxx.se/bug/?i=1236
- [38] = https://curl.haxx.se/bug/?i=1176
- [39] = https://curl.haxx.se/bug/?i=1237
- [40] = https://github.com/curl/curl/commit/cb4e2be
- [41] = https://curl.haxx.se/bug/?i=1247
- [42] = https://curl.haxx.se/bug/?i=1240
- [43] = https://curl.haxx.se/bug/?i=1246
- [44] = https://curl.haxx.se/bug/?i=1245
- [45] = https://curl.haxx.se/bug/?i=1245
- [46] = https://curl.haxx.se/bug/?i=1243
- [47] = https://curl.haxx.se/bug/?i=1249
- [48] = https://bugzilla.redhat.com/1420327
- [49] = https://curl.haxx.se/mail/lib-2017-02/0032.html
- [50] = https://curl.haxx.se/bug/?i=1255
- [51] = https://curl.haxx.se/bug/?i=1252
- [52] = https://curl.haxx.se/bug/?i=1258
- [53] = https://curl.haxx.se/bug/?i=1229
- [54] = https://curl.haxx.se/bug/?i=1260
- [55] = https://curl.haxx.se/bug/?i=1263
- [56] = https://curl.haxx.se/bug/?i=1220
- [57] = https://curl.haxx.se/bug/?i=1238
- [58] = https://curl.haxx.se/bug/?i=1265
- [59] = https://curl.haxx.se/bug/?i=1242
- [60] = https://curl.haxx.se/bug/?i=1248
- [61] = https://curl.haxx.se/bug/?i=1251
- [62] = https://curl.haxx.se/bug/?i=1269
- [63] = https://github.com/Microsoft/vcpkg/blob/7676b8780db1e1e591c4fc7eba4f96f73c428cb4/ports/curl/0002_fix_uwp.patch
- [64] = https://curl.haxx.se/docs/adv_20170222.html
- [65] = https://github.com/curl/curl/issues/928
+ [1] = https://curl.haxx.se/bug/?i=1257
+ [2] = https://curl.haxx.se/bug/?i=1276
+ [3] = https://curl.haxx.se/bug/?i=1281
+ [4] = https://curl.haxx.se/bug/?i=1277
+ [5] = https://curl.haxx.se/bug/?i=1257
+ [6] = https://curl.haxx.se/bug/?i=1285
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/scripts/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/scripts/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/scripts/Makefile.in	2017-02-21 15:09:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/scripts/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -358,15 +358,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign scripts/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu scripts/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign scripts/Makefile
+	  $(AUTOMAKE) --gnu scripts/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/src/tool_operate.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/src/tool_operate.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/src/tool_operate.c	2017-02-21 15:09:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/src/tool_operate.c	2017-02-24 06:14:58.000000000 +0800
@@ -1021,16 +1022,28 @@
                   capath_from_env?
                   "SSL_CERT_DIR environment variable":"--capath");
           }
           else if(result)
             goto show_error;
         }
-        if(config->proxy_capath)
-          my_setopt_str(curl, CURLOPT_PROXY_CAPATH, config->proxy_capath);
-        else if(config->capath) /* CURLOPT_PROXY_CAPATH default is capath */
-          my_setopt_str(curl, CURLOPT_PROXY_CAPATH, config->capath);
+        /* For the time being if --proxy-capath is not set then we use the
+           --capath value for it, if any. See #1257 */
+        if(config->proxy_capath || config->capath) {
+          result = res_setopt_str(curl, CURLOPT_PROXY_CAPATH,
+                                  (config->proxy_capath ?
+                                   config->proxy_capath :
+                                   config->capath));
+          if(result == CURLE_NOT_BUILT_IN) {
+            if(config->proxy_capath) {
+              warnf(config->global,
+                    "ignoring --proxy-capath, not supported by libcurl\n");
+            }
+          }
+          else if(result)
+            goto show_error;
+        }
 
         if(config->crlfile)
           my_setopt_str(curl, CURLOPT_CRLFILE, config->crlfile);
         if(config->proxy_crlfile)
           my_setopt_str(curl, CURLOPT_PROXY_CRLFILE, config->proxy_crlfile);
         else if(config->crlfile) /* CURLOPT_PROXY_CRLFILE default is crlfile */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/src/tool_version.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/src/tool_version.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/src/tool_version.h	2017-02-22 07:24:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/src/tool_version.h	2017-02-24 15:50:05.000000000 +0800
@@ -22,13 +22,13 @@
  *
  ***************************************************************************/
 #include <curl/curlver.h>
 
 #define CURL_NAME "curl"
 #define CURL_COPYRIGHT LIBCURL_COPYRIGHT
-#define CURL_VERSION "7.53.0"
+#define CURL_VERSION "7.53.1"
 #define CURL_VERSION_MAJOR LIBCURL_VERSION_MAJOR
 #define CURL_VERSION_MINOR LIBCURL_VERSION_MINOR
 #define CURL_VERSION_PATCH LIBCURL_VERSION_PATCH
 #define CURL_ID CURL_NAME " " CURL_VERSION " (" OS ") "
 
 #endif /* HEADER_CURL_TOOL_VERSION_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/Makefile.in	2017-02-21 15:09:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/Makefile.in	2017-02-23 17:52:03.000000000 +0800
@@ -519,15 +519,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign tests/data/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu tests/data/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign tests/data/Makefile
+	  $(AUTOMAKE) --gnu tests/data/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/test1035 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/test1035
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/test1035	2016-11-07 17:18:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/test1035	2017-02-24 15:41:36.000000000 +0800
@@ -29,13 +29,14 @@
 http
 </server>
 <features>
 idn
 </features>
 <setenv>
-CHARSET=ISO8859-1
+CHARSET=UTF-8
+LANG=en_US.UTF-8
 </setenv>
  <name>
 HTTP over proxy with too long IDN host name
  </name>
  <command>
 http://too-long-IDN-name-crl-rles-la-la-la-dee-da-flooby-nooby.local/page/1035 -x %HOSTIP:%HTTPPORT
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/test2046 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/test2046
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/test2046	2016-11-07 17:18:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/test2046	2017-02-24 15:41:36.000000000 +0800
@@ -39,12 +39,13 @@
 </server>
 <features>
 idn
 </features>
 <setenv>
 CHARSET=UTF-8
+LANG=en_US.UTF-8
 </setenv>
  <name>
 Connection re-use with IDN host name
  </name>
 
  <command>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/test2047 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/test2047
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/data/test2047	2016-11-07 17:18:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/data/test2047	2017-02-24 15:41:36.000000000 +0800
@@ -40,12 +40,13 @@
 </server>
 <features>
 idn
 </features>
 <setenv>
 CHARSET=UTF-8
+LANG=en_US.UTF-8
 </setenv>
  <name>
 Connection re-use with IDN host name over HTTP proxy
  </name>
 
  <command>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.0/tests/Makefile.in	2017-02-21 15:09:25.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/repos/curl-7.53.1/tests/Makefile.in	2017-02-23 17:52:02.000000000 +0800
@@ -447,15 +447,15 @@
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
 	      exit 1;; \
 	  esac; \
 	done; \
-	echo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign tests/Makefile'; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu tests/Makefile'; \
 	$(am__cd) $(top_srcdir) && \
-	  $(AUTOMAKE) --foreign tests/Makefile
+	  $(AUTOMAKE) --gnu tests/Makefile
 Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
 	@case '$?' in \
 	  *config.status*) \
 	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
 	  *) \
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
