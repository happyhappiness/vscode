<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="0.9.5" language="C++" filename="usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/gumtree/curl_repos_function_145.cpp" pos:tabs="8"><function><type><name pos:line="1" pos:column="1">CURLcode<pos:position pos:line="1" pos:column="9"/></name></type> <name pos:line="1" pos:column="10">file<pos:position pos:line="1" pos:column="14"/></name><parameter_list pos:line="1" pos:column="14">(<parameter><decl><type><name><name pos:line="1" pos:column="15">struct<pos:position pos:line="1" pos:column="21"/></name> <name pos:line="1" pos:column="22">connectdata<pos:position pos:line="1" pos:column="33"/></name></name> <modifier pos:line="1" pos:column="34">*<pos:position pos:line="1" pos:column="35"/></modifier></type><name pos:line="1" pos:column="35">conn<pos:position pos:line="1" pos:column="39"/></name></decl></parameter>)<pos:position pos:line="1" pos:column="40"/></parameter_list>
<block pos:line="2" pos:column="1">{
  <comment type="block" pos:line="3" pos:column="3">/* This implementation ignores the host name in conformance with 
     RFC 1738. Only local files (reachable via the standard file system)
     are supported. This means that files on remotely mounted directories
     (via NFS, Samba, NT sharing) can be accessed through a file:// URL
  */</comment>
  <decl_stmt><decl><type><name pos:line="8" pos:column="3">CURLcode<pos:position pos:line="8" pos:column="11"/></name></type> <name pos:line="8" pos:column="12">res<pos:position pos:line="8" pos:column="15"/></name> <init pos:line="8" pos:column="16">= <expr><name pos:line="8" pos:column="18">CURLE_OK<pos:position pos:line="8" pos:column="26"/></name></expr></init></decl>;<pos:position pos:line="8" pos:column="27"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="9" pos:column="3">char<pos:position pos:line="9" pos:column="7"/></name> <modifier pos:line="9" pos:column="8">*<pos:position pos:line="9" pos:column="9"/></modifier></type><name pos:line="9" pos:column="9">path<pos:position pos:line="9" pos:column="13"/></name> <init pos:line="9" pos:column="14">= <expr><name><name pos:line="9" pos:column="16">conn<pos:position pos:line="9" pos:column="20"/></name><operator pos:line="9" pos:column="20">-&gt;<pos:position pos:line="9" pos:column="25"/></operator><name pos:line="9" pos:column="22">path<pos:position pos:line="9" pos:column="26"/></name></name></expr></init></decl>;<pos:position pos:line="9" pos:column="27"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="10" pos:column="3">struct<pos:position pos:line="10" pos:column="9"/></name> <name pos:line="10" pos:column="10">stat<pos:position pos:line="10" pos:column="14"/></name></name></type> <name pos:line="10" pos:column="15">statbuf<pos:position pos:line="10" pos:column="22"/></name></decl>;<pos:position pos:line="10" pos:column="23"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="11" pos:column="3">size_t<pos:position pos:line="11" pos:column="9"/></name></type> <name pos:line="11" pos:column="10">expected_size<pos:position pos:line="11" pos:column="23"/></name><init pos:line="11" pos:column="23">=<expr><operator pos:line="11" pos:column="24">-<pos:position pos:line="11" pos:column="25"/></operator><literal type="number" pos:line="11" pos:column="25">1<pos:position pos:line="11" pos:column="26"/></literal></expr></init></decl>;<pos:position pos:line="11" pos:column="27"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="12" pos:column="3">size_t<pos:position pos:line="12" pos:column="9"/></name></type> <name pos:line="12" pos:column="10">nread<pos:position pos:line="12" pos:column="15"/></name></decl>;<pos:position pos:line="12" pos:column="16"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="13" pos:column="3">struct<pos:position pos:line="13" pos:column="9"/></name> <name pos:line="13" pos:column="10">UrlData<pos:position pos:line="13" pos:column="17"/></name></name> <modifier pos:line="13" pos:column="18">*<pos:position pos:line="13" pos:column="19"/></modifier></type><name pos:line="13" pos:column="19">data<pos:position pos:line="13" pos:column="23"/></name> <init pos:line="13" pos:column="24">= <expr><name><name pos:line="13" pos:column="26">conn<pos:position pos:line="13" pos:column="30"/></name><operator pos:line="13" pos:column="30">-&gt;<pos:position pos:line="13" pos:column="35"/></operator><name pos:line="13" pos:column="32">data<pos:position pos:line="13" pos:column="36"/></name></name></expr></init></decl>;<pos:position pos:line="13" pos:column="37"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="14" pos:column="3">char<pos:position pos:line="14" pos:column="7"/></name> <modifier pos:line="14" pos:column="8">*<pos:position pos:line="14" pos:column="9"/></modifier></type><name pos:line="14" pos:column="9">buf<pos:position pos:line="14" pos:column="12"/></name> <init pos:line="14" pos:column="13">= <expr><name><name pos:line="14" pos:column="15">data<pos:position pos:line="14" pos:column="19"/></name><operator pos:line="14" pos:column="19">-&gt;<pos:position pos:line="14" pos:column="24"/></operator><name pos:line="14" pos:column="21">buffer<pos:position pos:line="14" pos:column="27"/></name></name></expr></init></decl>;<pos:position pos:line="14" pos:column="28"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="15" pos:column="3">int<pos:position pos:line="15" pos:column="6"/></name></type> <name pos:line="15" pos:column="7">bytecount<pos:position pos:line="15" pos:column="16"/></name> <init pos:line="15" pos:column="17">= <expr><literal type="number" pos:line="15" pos:column="19">0<pos:position pos:line="15" pos:column="20"/></literal></expr></init></decl>;<pos:position pos:line="15" pos:column="21"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="16" pos:column="3">struct<pos:position pos:line="16" pos:column="9"/></name> <name pos:line="16" pos:column="10">timeval<pos:position pos:line="16" pos:column="17"/></name></name></type> <name pos:line="16" pos:column="18">start<pos:position pos:line="16" pos:column="23"/></name> <init pos:line="16" pos:column="24">= <expr><call><name pos:line="16" pos:column="26">tvnow<pos:position pos:line="16" pos:column="31"/></name><argument_list pos:line="16" pos:column="31">()<pos:position pos:line="16" pos:column="33"/></argument_list></call></expr></init></decl>;<pos:position pos:line="16" pos:column="34"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="17" pos:column="3">struct<pos:position pos:line="17" pos:column="9"/></name> <name pos:line="17" pos:column="10">timeval<pos:position pos:line="17" pos:column="17"/></name></name></type> <name pos:line="17" pos:column="18">now<pos:position pos:line="17" pos:column="21"/></name> <init pos:line="17" pos:column="22">= <expr><name pos:line="17" pos:column="24">start<pos:position pos:line="17" pos:column="29"/></name></expr></init></decl>;<pos:position pos:line="17" pos:column="30"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="18" pos:column="3">int<pos:position pos:line="18" pos:column="6"/></name></type> <name pos:line="18" pos:column="7">fd<pos:position pos:line="18" pos:column="9"/></name></decl>;<pos:position pos:line="18" pos:column="10"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="19" pos:column="3">char<pos:position pos:line="19" pos:column="7"/></name> <modifier pos:line="19" pos:column="8">*<pos:position pos:line="19" pos:column="9"/></modifier></type><name pos:line="19" pos:column="9">actual_path<pos:position pos:line="19" pos:column="20"/></name> <init pos:line="19" pos:column="21">= <expr><call><name pos:line="19" pos:column="23">curl_unescape<pos:position pos:line="19" pos:column="36"/></name><argument_list pos:line="19" pos:column="36">(<argument><expr><name pos:line="19" pos:column="37">path<pos:position pos:line="19" pos:column="41"/></name></expr></argument>, <argument><expr><literal type="number" pos:line="19" pos:column="43">0<pos:position pos:line="19" pos:column="44"/></literal></expr></argument>)<pos:position pos:line="19" pos:column="45"/></argument_list></call></expr></init></decl>;<pos:position pos:line="19" pos:column="46"/></decl_stmt>

<cpp:if pos:line="21" pos:column="1">#<cpp:directive pos:line="21" pos:column="2">if<pos:position pos:line="21" pos:column="4"/></cpp:directive> <expr><call><name pos:line="21" pos:column="5">defined<pos:position pos:line="21" pos:column="12"/></name><argument_list pos:line="21" pos:column="12">(<argument><expr><name pos:line="21" pos:column="13">WIN32<pos:position pos:line="21" pos:column="18"/></name></expr></argument>)<pos:position pos:line="21" pos:column="19"/></argument_list></call> <operator pos:line="21" pos:column="20">||<pos:position pos:line="21" pos:column="22"/></operator> <call><name pos:line="21" pos:column="23">defined<pos:position pos:line="21" pos:column="30"/></name><argument_list pos:line="21" pos:column="30">(<argument><expr><name pos:line="21" pos:column="31">__EMX__<pos:position pos:line="21" pos:column="38"/></name></expr></argument>)<pos:position pos:line="21" pos:column="39"/></argument_list></call></expr></cpp:if>
  <decl_stmt><decl><type><name pos:line="22" pos:column="3">int<pos:position pos:line="22" pos:column="6"/></name></type> <name pos:line="22" pos:column="7">i<pos:position pos:line="22" pos:column="8"/></name></decl>;<pos:position pos:line="22" pos:column="9"/></decl_stmt>

  <comment type="block" pos:line="24" pos:column="3">/* change path separators from '/' to '\\' for Windows and OS/2 */</comment>
  <for pos:line="25" pos:column="3">for <control pos:line="25" pos:column="7">(<init><expr><name pos:line="25" pos:column="8">i<pos:position pos:line="25" pos:column="9"/></name><operator pos:line="25" pos:column="9">=<pos:position pos:line="25" pos:column="10"/></operator><literal type="number" pos:line="25" pos:column="10">0<pos:position pos:line="25" pos:column="11"/></literal></expr>;<pos:position pos:line="25" pos:column="12"/></init> <condition><expr><name><name pos:line="25" pos:column="13">actual_path<pos:position pos:line="25" pos:column="24"/></name><index pos:line="25" pos:column="24">[<expr><name pos:line="25" pos:column="25">i<pos:position pos:line="25" pos:column="26"/></name></expr>]<pos:position pos:line="25" pos:column="27"/></index></name> <operator pos:line="25" pos:column="28">!=<pos:position pos:line="25" pos:column="30"/></operator> <literal type="char" pos:line="25" pos:column="31">'\0'<pos:position pos:line="25" pos:column="35"/></literal></expr>;<pos:position pos:line="25" pos:column="36"/></condition> <incr><expr><operator pos:line="25" pos:column="37">++<pos:position pos:line="25" pos:column="39"/></operator><name pos:line="25" pos:column="39">i<pos:position pos:line="25" pos:column="40"/></name></expr></incr>)<pos:position pos:line="25" pos:column="41"/></control>
    <block type="pseudo"><if pos:line="26" pos:column="5">if <condition pos:line="26" pos:column="8">(<expr><name><name pos:line="26" pos:column="9">actual_path<pos:position pos:line="26" pos:column="20"/></name><index pos:line="26" pos:column="20">[<expr><name pos:line="26" pos:column="21">i<pos:position pos:line="26" pos:column="22"/></name></expr>]<pos:position pos:line="26" pos:column="23"/></index></name> <operator pos:line="26" pos:column="24">==<pos:position pos:line="26" pos:column="26"/></operator> <literal type="char" pos:line="26" pos:column="27">'/'<pos:position pos:line="26" pos:column="30"/></literal></expr>)<pos:position pos:line="26" pos:column="31"/></condition><then pos:line="26" pos:column="31">
      <block type="pseudo"><expr_stmt><expr><name><name pos:line="27" pos:column="7">actual_path<pos:position pos:line="27" pos:column="18"/></name><index pos:line="27" pos:column="18">[<expr><name pos:line="27" pos:column="19">i<pos:position pos:line="27" pos:column="20"/></name></expr>]<pos:position pos:line="27" pos:column="21"/></index></name> <operator pos:line="27" pos:column="22">=<pos:position pos:line="27" pos:column="23"/></operator> <literal type="char" pos:line="27" pos:column="24">'\\'<pos:position pos:line="27" pos:column="28"/></literal></expr>;<pos:position pos:line="27" pos:column="29"/></expr_stmt></block></then></if></block></for>

  <expr_stmt><expr><name pos:line="29" pos:column="3">fd<pos:position pos:line="29" pos:column="5"/></name> <operator pos:line="29" pos:column="6">=<pos:position pos:line="29" pos:column="7"/></operator> <call><name pos:line="29" pos:column="8">open<pos:position pos:line="29" pos:column="12"/></name><argument_list pos:line="29" pos:column="12">(<argument><expr><name pos:line="29" pos:column="13">actual_path<pos:position pos:line="29" pos:column="24"/></name></expr></argument>, <argument><expr><name pos:line="29" pos:column="26">O_RDONLY<pos:position pos:line="29" pos:column="34"/></name> <operator pos:line="29" pos:column="35">|<pos:position pos:line="29" pos:column="36"/></operator> <name pos:line="29" pos:column="37">O_BINARY<pos:position pos:line="29" pos:column="45"/></name></expr></argument>)<pos:position pos:line="29" pos:column="46"/></argument_list></call></expr>;<pos:position pos:line="29" pos:column="47"/></expr_stmt>	<comment type="block" pos:line="29" pos:column="49">/* no CR/LF translation! */</comment>
<cpp:else pos:line="30" pos:column="1">#<cpp:directive pos:line="30" pos:column="2">else<pos:position pos:line="30" pos:column="6"/></cpp:directive></cpp:else>
  <expr_stmt><expr><name pos:line="31" pos:column="3">fd<pos:position pos:line="31" pos:column="5"/></name> <operator pos:line="31" pos:column="6">=<pos:position pos:line="31" pos:column="7"/></operator> <call><name pos:line="31" pos:column="8">open<pos:position pos:line="31" pos:column="12"/></name><argument_list pos:line="31" pos:column="12">(<argument><expr><name pos:line="31" pos:column="13">actual_path<pos:position pos:line="31" pos:column="24"/></name></expr></argument>, <argument><expr><name pos:line="31" pos:column="26">O_RDONLY<pos:position pos:line="31" pos:column="34"/></name></expr></argument>)<pos:position pos:line="31" pos:column="35"/></argument_list></call></expr>;<pos:position pos:line="31" pos:column="36"/></expr_stmt>
<cpp:endif pos:line="32" pos:column="1">#<cpp:directive pos:line="32" pos:column="2">endif<pos:position pos:line="32" pos:column="7"/></cpp:directive></cpp:endif>
  <expr_stmt><expr><call><name pos:line="33" pos:column="3">free<pos:position pos:line="33" pos:column="7"/></name><argument_list pos:line="33" pos:column="7">(<argument><expr><name pos:line="33" pos:column="8">actual_path<pos:position pos:line="33" pos:column="19"/></name></expr></argument>)<pos:position pos:line="33" pos:column="20"/></argument_list></call></expr>;<pos:position pos:line="33" pos:column="21"/></expr_stmt>

  <if pos:line="35" pos:column="3">if<condition pos:line="35" pos:column="5">(<expr><name pos:line="35" pos:column="6">fd<pos:position pos:line="35" pos:column="8"/></name> <operator pos:line="35" pos:column="9">==<pos:position pos:line="35" pos:column="11"/></operator> <operator pos:line="35" pos:column="12">-<pos:position pos:line="35" pos:column="13"/></operator><literal type="number" pos:line="35" pos:column="13">1<pos:position pos:line="35" pos:column="14"/></literal></expr>)<pos:position pos:line="35" pos:column="15"/></condition><then pos:line="35" pos:column="15"> <block pos:line="35" pos:column="16">{
    <expr_stmt><expr><call><name pos:line="36" pos:column="5">failf<pos:position pos:line="36" pos:column="10"/></name><argument_list pos:line="36" pos:column="10">(<argument><expr><name pos:line="36" pos:column="11">data<pos:position pos:line="36" pos:column="15"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="36" pos:column="17">"Couldn't open file %s"<pos:position pos:line="36" pos:column="40"/></literal></expr></argument>, <argument><expr><name pos:line="36" pos:column="42">path<pos:position pos:line="36" pos:column="46"/></name></expr></argument>)<pos:position pos:line="36" pos:column="47"/></argument_list></call></expr>;<pos:position pos:line="36" pos:column="48"/></expr_stmt>
    <return pos:line="37" pos:column="5">return <expr><name pos:line="37" pos:column="12">CURLE_FILE_COULDNT_READ_FILE<pos:position pos:line="37" pos:column="40"/></name></expr>;<pos:position pos:line="37" pos:column="41"/></return>
  }<pos:position pos:line="38" pos:column="4"/></block></then></if>
  <if pos:line="39" pos:column="3">if<condition pos:line="39" pos:column="5">( <expr><operator pos:line="39" pos:column="7">-<pos:position pos:line="39" pos:column="8"/></operator><literal type="number" pos:line="39" pos:column="8">1<pos:position pos:line="39" pos:column="9"/></literal> <operator pos:line="39" pos:column="10">!=<pos:position pos:line="39" pos:column="12"/></operator> <call><name pos:line="39" pos:column="13">fstat<pos:position pos:line="39" pos:column="18"/></name><argument_list pos:line="39" pos:column="18">(<argument><expr><name pos:line="39" pos:column="19">fd<pos:position pos:line="39" pos:column="21"/></name></expr></argument>, <argument><expr><operator pos:line="39" pos:column="23">&amp;<pos:position pos:line="39" pos:column="28"/></operator><name pos:line="39" pos:column="24">statbuf<pos:position pos:line="39" pos:column="31"/></name></expr></argument>)<pos:position pos:line="39" pos:column="32"/></argument_list></call></expr>)<pos:position pos:line="39" pos:column="33"/></condition><then pos:line="39" pos:column="33"> <block pos:line="39" pos:column="34">{
    <comment type="block" pos:line="40" pos:column="5">/* we could stat it, then read out the size */</comment>
    <expr_stmt><expr><name pos:line="41" pos:column="5">expected_size<pos:position pos:line="41" pos:column="18"/></name> <operator pos:line="41" pos:column="19">=<pos:position pos:line="41" pos:column="20"/></operator> <name><name pos:line="41" pos:column="21">statbuf<pos:position pos:line="41" pos:column="28"/></name><operator pos:line="41" pos:column="28">.<pos:position pos:line="41" pos:column="29"/></operator><name pos:line="41" pos:column="29">st_size<pos:position pos:line="41" pos:column="36"/></name></name></expr>;<pos:position pos:line="41" pos:column="37"/></expr_stmt>
  }<pos:position pos:line="42" pos:column="4"/></block></then></if>

  <comment type="block" pos:line="44" pos:column="3">/* The following is a shortcut implementation of file reading
     this is both more efficient than the former call to download() and
     it avoids problems with select() and recv() on file descriptors
     in Winsock */</comment>
<cpp:if pos:line="48" pos:column="1">#<cpp:directive pos:line="48" pos:column="2">if<pos:position pos:line="48" pos:column="4"/></cpp:directive> <expr><literal type="number" pos:line="48" pos:column="5">0<pos:position pos:line="48" pos:column="6"/></literal></expr></cpp:if>
  ProgressInit (data, expected_size);
<cpp:endif pos:line="50" pos:column="1">#<cpp:directive pos:line="50" pos:column="2">endif<pos:position pos:line="50" pos:column="7"/></cpp:directive></cpp:endif>
  <if pos:line="51" pos:column="3">if<condition pos:line="51" pos:column="5">(<expr><name pos:line="51" pos:column="6">expected_size<pos:position pos:line="51" pos:column="19"/></name> <operator pos:line="51" pos:column="20">!=<pos:position pos:line="51" pos:column="22"/></operator> <operator pos:line="51" pos:column="23">-<pos:position pos:line="51" pos:column="24"/></operator><literal type="number" pos:line="51" pos:column="24">1<pos:position pos:line="51" pos:column="25"/></literal></expr>)<pos:position pos:line="51" pos:column="26"/></condition><then pos:line="51" pos:column="26">
    <block type="pseudo"><expr_stmt><expr><call><name pos:line="52" pos:column="5">pgrsSetDownloadSize<pos:position pos:line="52" pos:column="24"/></name><argument_list pos:line="52" pos:column="24">(<argument><expr><name pos:line="52" pos:column="25">data<pos:position pos:line="52" pos:column="29"/></name></expr></argument>, <argument><expr><name pos:line="52" pos:column="31">expected_size<pos:position pos:line="52" pos:column="44"/></name></expr></argument>)<pos:position pos:line="52" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="52" pos:column="46"/></expr_stmt></block></then></if>

  <while pos:line="54" pos:column="3">while <condition pos:line="54" pos:column="9">(<expr><name pos:line="54" pos:column="10">res<pos:position pos:line="54" pos:column="13"/></name> <operator pos:line="54" pos:column="14">==<pos:position pos:line="54" pos:column="16"/></operator> <name pos:line="54" pos:column="17">CURLE_OK<pos:position pos:line="54" pos:column="25"/></name></expr>)<pos:position pos:line="54" pos:column="26"/></condition> <block pos:line="54" pos:column="27">{
    <expr_stmt><expr><name pos:line="55" pos:column="5">nread<pos:position pos:line="55" pos:column="10"/></name> <operator pos:line="55" pos:column="11">=<pos:position pos:line="55" pos:column="12"/></operator> <call><name pos:line="55" pos:column="13">read<pos:position pos:line="55" pos:column="17"/></name><argument_list pos:line="55" pos:column="17">(<argument><expr><name pos:line="55" pos:column="18">fd<pos:position pos:line="55" pos:column="20"/></name></expr></argument>, <argument><expr><name pos:line="55" pos:column="22">buf<pos:position pos:line="55" pos:column="25"/></name></expr></argument>, <argument><expr><name pos:line="55" pos:column="27">BUFSIZE<pos:position pos:line="55" pos:column="34"/></name><operator pos:line="55" pos:column="34">-<pos:position pos:line="55" pos:column="35"/></operator><literal type="number" pos:line="55" pos:column="35">1<pos:position pos:line="55" pos:column="36"/></literal></expr></argument>)<pos:position pos:line="55" pos:column="37"/></argument_list></call></expr>;<pos:position pos:line="55" pos:column="38"/></expr_stmt>

    <if pos:line="57" pos:column="5">if <condition pos:line="57" pos:column="8">(<expr><literal type="number" pos:line="57" pos:column="9">0<pos:position pos:line="57" pos:column="10"/></literal> <operator pos:line="57" pos:column="11">&lt;=<pos:position pos:line="57" pos:column="16"/></operator> <name pos:line="57" pos:column="14">nread<pos:position pos:line="57" pos:column="19"/></name></expr>)<pos:position pos:line="57" pos:column="20"/></condition><then pos:line="57" pos:column="20">
      <block type="pseudo"><expr_stmt><expr><name><name pos:line="58" pos:column="7">buf<pos:position pos:line="58" pos:column="10"/></name><index pos:line="58" pos:column="10">[<expr><name pos:line="58" pos:column="11">nread<pos:position pos:line="58" pos:column="16"/></name></expr>]<pos:position pos:line="58" pos:column="17"/></index></name> <operator pos:line="58" pos:column="18">=<pos:position pos:line="58" pos:column="19"/></operator> <literal type="number" pos:line="58" pos:column="20">0<pos:position pos:line="58" pos:column="21"/></literal></expr>;<pos:position pos:line="58" pos:column="22"/></expr_stmt></block></then></if>

    <if pos:line="60" pos:column="5">if <condition pos:line="60" pos:column="8">(<expr><name pos:line="60" pos:column="9">nread<pos:position pos:line="60" pos:column="14"/></name> <operator pos:line="60" pos:column="15">&lt;=<pos:position pos:line="60" pos:column="20"/></operator> <literal type="number" pos:line="60" pos:column="18">0<pos:position pos:line="60" pos:column="19"/></literal></expr>)<pos:position pos:line="60" pos:column="20"/></condition><then pos:line="60" pos:column="20">
      <block type="pseudo"><break pos:line="61" pos:column="7">break;<pos:position pos:line="61" pos:column="13"/></break></block></then></if>
    <expr_stmt><expr><name pos:line="62" pos:column="5">bytecount<pos:position pos:line="62" pos:column="14"/></name> <operator pos:line="62" pos:column="15">+=<pos:position pos:line="62" pos:column="17"/></operator> <name pos:line="62" pos:column="18">nread<pos:position pos:line="62" pos:column="23"/></name></expr>;<pos:position pos:line="62" pos:column="24"/></expr_stmt>
    <comment type="block" pos:line="63" pos:column="5">/* NOTE: The following call to fwrite does CR/LF translation on
       Windows systems if the target is stdout. Use -O or -o parameters
       to prevent CR/LF translation (this then goes to a binary mode
       file descriptor). */</comment>
    <if pos:line="67" pos:column="5">if<condition pos:line="67" pos:column="7">(<expr><name pos:line="67" pos:column="8">nread<pos:position pos:line="67" pos:column="13"/></name> <operator pos:line="67" pos:column="14">!=<pos:position pos:line="67" pos:column="16"/></operator> <call><name><name pos:line="67" pos:column="17">data<pos:position pos:line="67" pos:column="21"/></name><operator pos:line="67" pos:column="21">-&gt;<pos:position pos:line="67" pos:column="26"/></operator><name pos:line="67" pos:column="23">fwrite<pos:position pos:line="67" pos:column="29"/></name></name> <argument_list pos:line="67" pos:column="30">(<argument><expr><name pos:line="67" pos:column="31">buf<pos:position pos:line="67" pos:column="34"/></name></expr></argument>, <argument><expr><literal type="number" pos:line="67" pos:column="36">1<pos:position pos:line="67" pos:column="37"/></literal></expr></argument>, <argument><expr><name pos:line="67" pos:column="39">nread<pos:position pos:line="67" pos:column="44"/></name></expr></argument>, <argument><expr><name><name pos:line="67" pos:column="46">data<pos:position pos:line="67" pos:column="50"/></name><operator pos:line="67" pos:column="50">-&gt;<pos:position pos:line="67" pos:column="55"/></operator><name pos:line="67" pos:column="52">out<pos:position pos:line="67" pos:column="55"/></name></name></expr></argument>)<pos:position pos:line="67" pos:column="56"/></argument_list></call></expr>)<pos:position pos:line="67" pos:column="57"/></condition><then pos:line="67" pos:column="57"> <block pos:line="67" pos:column="58">{
      <expr_stmt><expr><call><name pos:line="68" pos:column="7">failf<pos:position pos:line="68" pos:column="12"/></name> <argument_list pos:line="68" pos:column="13">(<argument><expr><name pos:line="68" pos:column="14">data<pos:position pos:line="68" pos:column="18"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="68" pos:column="20">"Failed writing output"<pos:position pos:line="68" pos:column="43"/></literal></expr></argument>)<pos:position pos:line="68" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="68" pos:column="45"/></expr_stmt>
      <return pos:line="69" pos:column="7">return <expr><name pos:line="69" pos:column="14">CURLE_WRITE_ERROR<pos:position pos:line="69" pos:column="31"/></name></expr>;<pos:position pos:line="69" pos:column="32"/></return>
    }<pos:position pos:line="70" pos:column="6"/></block></then></if>
    <expr_stmt><expr><name pos:line="71" pos:column="5">now<pos:position pos:line="71" pos:column="8"/></name> <operator pos:line="71" pos:column="9">=<pos:position pos:line="71" pos:column="10"/></operator> <call><name pos:line="71" pos:column="11">tvnow<pos:position pos:line="71" pos:column="16"/></name><argument_list pos:line="71" pos:column="16">()<pos:position pos:line="71" pos:column="18"/></argument_list></call></expr>;<pos:position pos:line="71" pos:column="19"/></expr_stmt>
    <if pos:line="72" pos:column="5">if<condition pos:line="72" pos:column="7">(<expr><call><name pos:line="72" pos:column="8">pgrsUpdate<pos:position pos:line="72" pos:column="18"/></name><argument_list pos:line="72" pos:column="18">(<argument><expr><name pos:line="72" pos:column="19">data<pos:position pos:line="72" pos:column="23"/></name></expr></argument>)<pos:position pos:line="72" pos:column="24"/></argument_list></call></expr>)<pos:position pos:line="72" pos:column="25"/></condition><then pos:line="72" pos:column="25">
      <block type="pseudo"><expr_stmt><expr><name pos:line="73" pos:column="7">res<pos:position pos:line="73" pos:column="10"/></name> <operator pos:line="73" pos:column="11">=<pos:position pos:line="73" pos:column="12"/></operator> <name pos:line="73" pos:column="13">CURLE_ABORTED_BY_CALLBACK<pos:position pos:line="73" pos:column="38"/></name></expr>;<pos:position pos:line="73" pos:column="39"/></expr_stmt></block></then></if>
  }<pos:position pos:line="74" pos:column="4"/></block></while>
  <expr_stmt><expr><name pos:line="75" pos:column="3">now<pos:position pos:line="75" pos:column="6"/></name> <operator pos:line="75" pos:column="7">=<pos:position pos:line="75" pos:column="8"/></operator> <call><name pos:line="75" pos:column="9">tvnow<pos:position pos:line="75" pos:column="14"/></name><argument_list pos:line="75" pos:column="14">()<pos:position pos:line="75" pos:column="16"/></argument_list></call></expr>;<pos:position pos:line="75" pos:column="17"/></expr_stmt>
  <if pos:line="76" pos:column="3">if<condition pos:line="76" pos:column="5">(<expr><call><name pos:line="76" pos:column="6">pgrsUpdate<pos:position pos:line="76" pos:column="16"/></name><argument_list pos:line="76" pos:column="16">(<argument><expr><name pos:line="76" pos:column="17">data<pos:position pos:line="76" pos:column="21"/></name></expr></argument>)<pos:position pos:line="76" pos:column="22"/></argument_list></call></expr>)<pos:position pos:line="76" pos:column="23"/></condition><then pos:line="76" pos:column="23">
    <block type="pseudo"><expr_stmt><expr><name pos:line="77" pos:column="5">res<pos:position pos:line="77" pos:column="8"/></name> <operator pos:line="77" pos:column="9">=<pos:position pos:line="77" pos:column="10"/></operator> <name pos:line="77" pos:column="11">CURLE_ABORTED_BY_CALLBACK<pos:position pos:line="77" pos:column="36"/></name></expr>;<pos:position pos:line="77" pos:column="37"/></expr_stmt></block></then></if>

  <expr_stmt><expr><call><name pos:line="79" pos:column="3">close<pos:position pos:line="79" pos:column="8"/></name><argument_list pos:line="79" pos:column="8">(<argument><expr><name pos:line="79" pos:column="9">fd<pos:position pos:line="79" pos:column="11"/></name></expr></argument>)<pos:position pos:line="79" pos:column="12"/></argument_list></call></expr>;<pos:position pos:line="79" pos:column="13"/></expr_stmt>

  <expr_stmt><expr><call><name pos:line="81" pos:column="3">free<pos:position pos:line="81" pos:column="7"/></name><argument_list pos:line="81" pos:column="7">(<argument><expr><name pos:line="81" pos:column="8">actual_path<pos:position pos:line="81" pos:column="19"/></name></expr></argument>)<pos:position pos:line="81" pos:column="20"/></argument_list></call></expr>;<pos:position pos:line="81" pos:column="21"/></expr_stmt>

  <return pos:line="83" pos:column="3">return <expr><name pos:line="83" pos:column="10">res<pos:position pos:line="83" pos:column="13"/></name></expr>;<pos:position pos:line="83" pos:column="14"/></return>
}<pos:position pos:line="84" pos:column="2"/></block></function></unit>
