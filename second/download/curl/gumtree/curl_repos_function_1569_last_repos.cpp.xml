<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="0.9.5" language="C++" filename="usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/gumtree/curl_repos_function_1569_last_repos.cpp" pos:tabs="8"><function><specifier pos:line="1" pos:column="1">static<pos:position pos:line="1" pos:column="7"/></specifier> <type><name pos:line="1" pos:column="8">CURLcode<pos:position pos:line="1" pos:column="16"/></name></type> <name pos:line="1" pos:column="17">CONNECT<pos:position pos:line="1" pos:column="24"/></name><parameter_list pos:line="1" pos:column="24">(<parameter><decl><type><name><name pos:line="1" pos:column="25">struct<pos:position pos:line="1" pos:column="31"/></name> <name pos:line="1" pos:column="32">connectdata<pos:position pos:line="1" pos:column="43"/></name></name> <modifier pos:line="1" pos:column="44">*<pos:position pos:line="1" pos:column="45"/></modifier></type><name pos:line="1" pos:column="45">conn<pos:position pos:line="1" pos:column="49"/></name></decl></parameter>,
                        <parameter><decl><type><name pos:line="2" pos:column="25">int<pos:position pos:line="2" pos:column="28"/></name></type> <name pos:line="2" pos:column="29">sockindex<pos:position pos:line="2" pos:column="38"/></name></decl></parameter>,
                        <parameter><decl><type><specifier pos:line="3" pos:column="25">const<pos:position pos:line="3" pos:column="30"/></specifier> <name pos:line="3" pos:column="31">char<pos:position pos:line="3" pos:column="35"/></name> <modifier pos:line="3" pos:column="36">*<pos:position pos:line="3" pos:column="37"/></modifier></type><name pos:line="3" pos:column="37">hostname<pos:position pos:line="3" pos:column="45"/></name></decl></parameter>,
                        <parameter><decl><type><name pos:line="4" pos:column="25">int<pos:position pos:line="4" pos:column="28"/></name></type> <name pos:line="4" pos:column="29">remote_port<pos:position pos:line="4" pos:column="40"/></name></decl></parameter>)<pos:position pos:line="4" pos:column="41"/></parameter_list>
<block pos:line="5" pos:column="1">{
  <decl_stmt><decl><type><name pos:line="6" pos:column="3">int<pos:position pos:line="6" pos:column="6"/></name></type> <name pos:line="6" pos:column="7">subversion<pos:position pos:line="6" pos:column="17"/></name> <init pos:line="6" pos:column="18">= <expr><literal type="number" pos:line="6" pos:column="20">0<pos:position pos:line="6" pos:column="21"/></literal></expr></init></decl>;<pos:position pos:line="6" pos:column="22"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="7" pos:column="3">struct<pos:position pos:line="7" pos:column="9"/></name> <name pos:line="7" pos:column="10">Curl_easy<pos:position pos:line="7" pos:column="19"/></name></name> <modifier pos:line="7" pos:column="20">*<pos:position pos:line="7" pos:column="21"/></modifier></type><name pos:line="7" pos:column="21">data<pos:position pos:line="7" pos:column="25"/></name> <init pos:line="7" pos:column="26">= <expr><name><name pos:line="7" pos:column="28">conn<pos:position pos:line="7" pos:column="32"/></name><operator pos:line="7" pos:column="32">-&gt;<pos:position pos:line="7" pos:column="37"/></operator><name pos:line="7" pos:column="34">data<pos:position pos:line="7" pos:column="38"/></name></name></expr></init></decl>;<pos:position pos:line="7" pos:column="39"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="8" pos:column="3">struct<pos:position pos:line="8" pos:column="9"/></name> <name pos:line="8" pos:column="10">SingleRequest<pos:position pos:line="8" pos:column="23"/></name></name> <modifier pos:line="8" pos:column="24">*<pos:position pos:line="8" pos:column="25"/></modifier></type><name pos:line="8" pos:column="25">k<pos:position pos:line="8" pos:column="26"/></name> <init pos:line="8" pos:column="27">= <expr><operator pos:line="8" pos:column="29">&amp;<pos:position pos:line="8" pos:column="34"/></operator><name><name pos:line="8" pos:column="30">data<pos:position pos:line="8" pos:column="34"/></name><operator pos:line="8" pos:column="34">-&gt;<pos:position pos:line="8" pos:column="39"/></operator><name pos:line="8" pos:column="36">req<pos:position pos:line="8" pos:column="39"/></name></name></expr></init></decl>;<pos:position pos:line="8" pos:column="40"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="9" pos:column="3">CURLcode<pos:position pos:line="9" pos:column="11"/></name></type> <name pos:line="9" pos:column="12">result<pos:position pos:line="9" pos:column="18"/></name></decl>;<pos:position pos:line="9" pos:column="19"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="10" pos:column="3">curl_socket_t<pos:position pos:line="10" pos:column="16"/></name></type> <name pos:line="10" pos:column="17">tunnelsocket<pos:position pos:line="10" pos:column="29"/></name> <init pos:line="10" pos:column="30">= <expr><name><name pos:line="10" pos:column="32">conn<pos:position pos:line="10" pos:column="36"/></name><operator pos:line="10" pos:column="36">-&gt;<pos:position pos:line="10" pos:column="41"/></operator><name pos:line="10" pos:column="38">sock<pos:position pos:line="10" pos:column="42"/></name><index pos:line="10" pos:column="42">[<expr><name pos:line="10" pos:column="43">sockindex<pos:position pos:line="10" pos:column="52"/></name></expr>]<pos:position pos:line="10" pos:column="53"/></index></name></expr></init></decl>;<pos:position pos:line="10" pos:column="54"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="11" pos:column="3">bool<pos:position pos:line="11" pos:column="7"/></name></type> <name pos:line="11" pos:column="8">closeConnection<pos:position pos:line="11" pos:column="23"/></name> <init pos:line="11" pos:column="24">= <expr><name pos:line="11" pos:column="26">FALSE<pos:position pos:line="11" pos:column="31"/></name></expr></init></decl>;<pos:position pos:line="11" pos:column="32"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="12" pos:column="3">time_t<pos:position pos:line="12" pos:column="9"/></name></type> <name pos:line="12" pos:column="10">check<pos:position pos:line="12" pos:column="15"/></name></decl>;<pos:position pos:line="12" pos:column="16"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="13" pos:column="3">struct<pos:position pos:line="13" pos:column="9"/></name> <name pos:line="13" pos:column="10">http_connect_state<pos:position pos:line="13" pos:column="28"/></name></name> <modifier pos:line="13" pos:column="29">*<pos:position pos:line="13" pos:column="30"/></modifier></type><name pos:line="13" pos:column="30">s<pos:position pos:line="13" pos:column="31"/></name> <init pos:line="13" pos:column="32">= <expr><name><name pos:line="13" pos:column="34">conn<pos:position pos:line="13" pos:column="38"/></name><operator pos:line="13" pos:column="38">-&gt;<pos:position pos:line="13" pos:column="43"/></operator><name pos:line="13" pos:column="40">connect_state<pos:position pos:line="13" pos:column="53"/></name></name></expr></init></decl>;<pos:position pos:line="13" pos:column="54"/></decl_stmt>

<cpp:define pos:line="15" pos:column="1">#<cpp:directive pos:line="15" pos:column="2">define<pos:position pos:line="15" pos:column="8"/></cpp:directive> <cpp:macro><name pos:line="15" pos:column="9">SELECT_OK<pos:position pos:line="15" pos:column="18"/></name></cpp:macro>      <cpp:value pos:line="15" pos:column="24">0<pos:position pos:line="15" pos:column="25"/></cpp:value></cpp:define>
<cpp:define pos:line="16" pos:column="1">#<cpp:directive pos:line="16" pos:column="2">define<pos:position pos:line="16" pos:column="8"/></cpp:directive> <cpp:macro><name pos:line="16" pos:column="9">SELECT_ERROR<pos:position pos:line="16" pos:column="21"/></name></cpp:macro>   <cpp:value pos:line="16" pos:column="24">1<pos:position pos:line="16" pos:column="25"/></cpp:value></cpp:define>
<cpp:define pos:line="17" pos:column="1">#<cpp:directive pos:line="17" pos:column="2">define<pos:position pos:line="17" pos:column="8"/></cpp:directive> <cpp:macro><name pos:line="17" pos:column="9">SELECT_TIMEOUT<pos:position pos:line="17" pos:column="23"/></name></cpp:macro> <cpp:value pos:line="17" pos:column="24">2<pos:position pos:line="17" pos:column="25"/></cpp:value></cpp:define>

  <if pos:line="19" pos:column="3">if<condition pos:line="19" pos:column="5">(<expr><call><name pos:line="19" pos:column="6">Curl_connect_complete<pos:position pos:line="19" pos:column="27"/></name><argument_list pos:line="19" pos:column="27">(<argument><expr><name pos:line="19" pos:column="28">conn<pos:position pos:line="19" pos:column="32"/></name></expr></argument>)<pos:position pos:line="19" pos:column="33"/></argument_list></call></expr>)<pos:position pos:line="19" pos:column="34"/></condition><then pos:line="19" pos:column="34">
    <block type="pseudo"><return pos:line="20" pos:column="5">return <expr><name pos:line="20" pos:column="12">CURLE_OK<pos:position pos:line="20" pos:column="20"/></name></expr>;<pos:position pos:line="20" pos:column="21"/></return></block></then></if> <comment type="block" pos:line="20" pos:column="22">/* CONNECT is already completed */</comment>

  <expr_stmt><expr><name><name pos:line="22" pos:column="3">conn<pos:position pos:line="22" pos:column="7"/></name><operator pos:line="22" pos:column="7">-&gt;<pos:position pos:line="22" pos:column="12"/></operator><name pos:line="22" pos:column="9">bits<pos:position pos:line="22" pos:column="13"/></name><operator pos:line="22" pos:column="13">.<pos:position pos:line="22" pos:column="14"/></operator><name pos:line="22" pos:column="14">proxy_connect_closed<pos:position pos:line="22" pos:column="34"/></name></name> <operator pos:line="22" pos:column="35">=<pos:position pos:line="22" pos:column="36"/></operator> <name pos:line="22" pos:column="37">FALSE<pos:position pos:line="22" pos:column="42"/></name></expr>;<pos:position pos:line="22" pos:column="43"/></expr_stmt>

  <do pos:line="24" pos:column="3">do <block pos:line="24" pos:column="6">{
    <if pos:line="25" pos:column="5">if<condition pos:line="25" pos:column="7">(<expr><name pos:line="25" pos:column="8">TUNNEL_INIT<pos:position pos:line="25" pos:column="19"/></name> <operator pos:line="25" pos:column="20">==<pos:position pos:line="25" pos:column="22"/></operator> <name><name pos:line="25" pos:column="23">s<pos:position pos:line="25" pos:column="24"/></name><operator pos:line="25" pos:column="24">-&gt;<pos:position pos:line="25" pos:column="29"/></operator><name pos:line="25" pos:column="26">tunnel_state<pos:position pos:line="25" pos:column="38"/></name></name></expr>)<pos:position pos:line="25" pos:column="39"/></condition><then pos:line="25" pos:column="39"> <block pos:line="25" pos:column="40">{
      <comment type="block" pos:line="26" pos:column="7">/* BEGIN CONNECT PHASE */</comment>
      <decl_stmt><decl><type><name pos:line="27" pos:column="7">char<pos:position pos:line="27" pos:column="11"/></name> <modifier pos:line="27" pos:column="12">*<pos:position pos:line="27" pos:column="13"/></modifier></type><name pos:line="27" pos:column="13">host_port<pos:position pos:line="27" pos:column="22"/></name></decl>;<pos:position pos:line="27" pos:column="23"/></decl_stmt>
      <decl_stmt><decl><type><name pos:line="28" pos:column="7">Curl_send_buffer<pos:position pos:line="28" pos:column="23"/></name> <modifier pos:line="28" pos:column="24">*<pos:position pos:line="28" pos:column="25"/></modifier></type><name pos:line="28" pos:column="25">req_buffer<pos:position pos:line="28" pos:column="35"/></name></decl>;<pos:position pos:line="28" pos:column="36"/></decl_stmt>

      <expr_stmt><expr><call><name pos:line="30" pos:column="7">infof<pos:position pos:line="30" pos:column="12"/></name><argument_list pos:line="30" pos:column="12">(<argument><expr><name pos:line="30" pos:column="13">data<pos:position pos:line="30" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="30" pos:column="19">"Establish HTTP proxy tunnel to %s:%hu\n"<pos:position pos:line="30" pos:column="60"/></literal></expr></argument>,
            <argument><expr><name pos:line="31" pos:column="13">hostname<pos:position pos:line="31" pos:column="21"/></name></expr></argument>, <argument><expr><name pos:line="31" pos:column="23">remote_port<pos:position pos:line="31" pos:column="34"/></name></expr></argument>)<pos:position pos:line="31" pos:column="35"/></argument_list></call></expr>;<pos:position pos:line="31" pos:column="36"/></expr_stmt>

        <comment type="block" pos:line="33" pos:column="9">/* This only happens if we've looped here due to authentication
           reasons, and we don't really use the newly cloned URL here
           then. Just free() it. */</comment>
      <expr_stmt><expr><call><name pos:line="36" pos:column="7">free<pos:position pos:line="36" pos:column="11"/></name><argument_list pos:line="36" pos:column="11">(<argument><expr><name><name pos:line="36" pos:column="12">data<pos:position pos:line="36" pos:column="16"/></name><operator pos:line="36" pos:column="16">-&gt;<pos:position pos:line="36" pos:column="21"/></operator><name pos:line="36" pos:column="18">req<pos:position pos:line="36" pos:column="21"/></name><operator pos:line="36" pos:column="21">.<pos:position pos:line="36" pos:column="22"/></operator><name pos:line="36" pos:column="22">newurl<pos:position pos:line="36" pos:column="28"/></name></name></expr></argument>)<pos:position pos:line="36" pos:column="29"/></argument_list></call></expr>;<pos:position pos:line="36" pos:column="30"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="37" pos:column="7">data<pos:position pos:line="37" pos:column="11"/></name><operator pos:line="37" pos:column="11">-&gt;<pos:position pos:line="37" pos:column="16"/></operator><name pos:line="37" pos:column="13">req<pos:position pos:line="37" pos:column="16"/></name><operator pos:line="37" pos:column="16">.<pos:position pos:line="37" pos:column="17"/></operator><name pos:line="37" pos:column="17">newurl<pos:position pos:line="37" pos:column="23"/></name></name> <operator pos:line="37" pos:column="24">=<pos:position pos:line="37" pos:column="25"/></operator> <name pos:line="37" pos:column="26">NULL<pos:position pos:line="37" pos:column="30"/></name></expr>;<pos:position pos:line="37" pos:column="31"/></expr_stmt>

      <comment type="block" pos:line="39" pos:column="7">/* initialize a dynamic send-buffer */</comment>
      <expr_stmt><expr><name pos:line="40" pos:column="7">req_buffer<pos:position pos:line="40" pos:column="17"/></name> <operator pos:line="40" pos:column="18">=<pos:position pos:line="40" pos:column="19"/></operator> <call><name pos:line="40" pos:column="20">Curl_add_buffer_init<pos:position pos:line="40" pos:column="40"/></name><argument_list pos:line="40" pos:column="40">()<pos:position pos:line="40" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="40" pos:column="43"/></expr_stmt>

      <if pos:line="42" pos:column="7">if<condition pos:line="42" pos:column="9">(<expr><operator pos:line="42" pos:column="10">!<pos:position pos:line="42" pos:column="11"/></operator><name pos:line="42" pos:column="11">req_buffer<pos:position pos:line="42" pos:column="21"/></name></expr>)<pos:position pos:line="42" pos:column="22"/></condition><then pos:line="42" pos:column="22">
        <block type="pseudo"><return pos:line="43" pos:column="9">return <expr><name pos:line="43" pos:column="16">CURLE_OUT_OF_MEMORY<pos:position pos:line="43" pos:column="35"/></name></expr>;<pos:position pos:line="43" pos:column="36"/></return></block></then></if>

      <expr_stmt><expr><name pos:line="45" pos:column="7">host_port<pos:position pos:line="45" pos:column="16"/></name> <operator pos:line="45" pos:column="17">=<pos:position pos:line="45" pos:column="18"/></operator> <call><name pos:line="45" pos:column="19">aprintf<pos:position pos:line="45" pos:column="26"/></name><argument_list pos:line="45" pos:column="26">(<argument><expr><literal type="string" pos:line="45" pos:column="27">"%s:%hu"<pos:position pos:line="45" pos:column="35"/></literal></expr></argument>, <argument><expr><name pos:line="45" pos:column="37">hostname<pos:position pos:line="45" pos:column="45"/></name></expr></argument>, <argument><expr><name pos:line="45" pos:column="47">remote_port<pos:position pos:line="45" pos:column="58"/></name></expr></argument>)<pos:position pos:line="45" pos:column="59"/></argument_list></call></expr>;<pos:position pos:line="45" pos:column="60"/></expr_stmt>
      <if pos:line="46" pos:column="7">if<condition pos:line="46" pos:column="9">(<expr><operator pos:line="46" pos:column="10">!<pos:position pos:line="46" pos:column="11"/></operator><name pos:line="46" pos:column="11">host_port<pos:position pos:line="46" pos:column="20"/></name></expr>)<pos:position pos:line="46" pos:column="21"/></condition><then pos:line="46" pos:column="21"> <block pos:line="46" pos:column="22">{
        <expr_stmt><expr><call><name pos:line="47" pos:column="9">Curl_add_buffer_free<pos:position pos:line="47" pos:column="29"/></name><argument_list pos:line="47" pos:column="29">(<argument><expr><name pos:line="47" pos:column="30">req_buffer<pos:position pos:line="47" pos:column="40"/></name></expr></argument>)<pos:position pos:line="47" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="47" pos:column="42"/></expr_stmt>
        <return pos:line="48" pos:column="9">return <expr><name pos:line="48" pos:column="16">CURLE_OUT_OF_MEMORY<pos:position pos:line="48" pos:column="35"/></name></expr>;<pos:position pos:line="48" pos:column="36"/></return>
      }<pos:position pos:line="49" pos:column="8"/></block></then></if>

      <comment type="block" pos:line="51" pos:column="7">/* Setup the proxy-authorization header, if any */</comment>
      <expr_stmt><expr><name pos:line="52" pos:column="7">result<pos:position pos:line="52" pos:column="13"/></name> <operator pos:line="52" pos:column="14">=<pos:position pos:line="52" pos:column="15"/></operator> <call><name pos:line="52" pos:column="16">Curl_http_output_auth<pos:position pos:line="52" pos:column="37"/></name><argument_list pos:line="52" pos:column="37">(<argument><expr><name pos:line="52" pos:column="38">conn<pos:position pos:line="52" pos:column="42"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="52" pos:column="44">"CONNECT"<pos:position pos:line="52" pos:column="53"/></literal></expr></argument>, <argument><expr><name pos:line="52" pos:column="55">host_port<pos:position pos:line="52" pos:column="64"/></name></expr></argument>, <argument><expr><name pos:line="52" pos:column="66">TRUE<pos:position pos:line="52" pos:column="70"/></name></expr></argument>)<pos:position pos:line="52" pos:column="71"/></argument_list></call></expr>;<pos:position pos:line="52" pos:column="72"/></expr_stmt>

      <expr_stmt><expr><call><name pos:line="54" pos:column="7">free<pos:position pos:line="54" pos:column="11"/></name><argument_list pos:line="54" pos:column="11">(<argument><expr><name pos:line="54" pos:column="12">host_port<pos:position pos:line="54" pos:column="21"/></name></expr></argument>)<pos:position pos:line="54" pos:column="22"/></argument_list></call></expr>;<pos:position pos:line="54" pos:column="23"/></expr_stmt>

      <if pos:line="56" pos:column="7">if<condition pos:line="56" pos:column="9">(<expr><operator pos:line="56" pos:column="10">!<pos:position pos:line="56" pos:column="11"/></operator><name pos:line="56" pos:column="11">result<pos:position pos:line="56" pos:column="17"/></name></expr>)<pos:position pos:line="56" pos:column="18"/></condition><then pos:line="56" pos:column="18"> <block pos:line="56" pos:column="19">{
        <decl_stmt><decl><type><name pos:line="57" pos:column="9">char<pos:position pos:line="57" pos:column="13"/></name> <modifier pos:line="57" pos:column="14">*<pos:position pos:line="57" pos:column="15"/></modifier></type><name pos:line="57" pos:column="15">host<pos:position pos:line="57" pos:column="19"/></name> <init pos:line="57" pos:column="20">= <expr><name pos:line="57" pos:column="22">NULL<pos:position pos:line="57" pos:column="26"/></name></expr></init></decl>;<pos:position pos:line="57" pos:column="27"/></decl_stmt>
        <decl_stmt><decl><type><specifier pos:line="58" pos:column="9">const<pos:position pos:line="58" pos:column="14"/></specifier> <name pos:line="58" pos:column="15">char<pos:position pos:line="58" pos:column="19"/></name> <modifier pos:line="58" pos:column="20">*<pos:position pos:line="58" pos:column="21"/></modifier></type><name pos:line="58" pos:column="21">proxyconn<pos:position pos:line="58" pos:column="30"/></name> <init pos:line="58" pos:column="31">= <expr><literal type="string" pos:line="58" pos:column="33">""<pos:position pos:line="58" pos:column="35"/></literal></expr></init></decl>;<pos:position pos:line="58" pos:column="36"/></decl_stmt>
        <decl_stmt><decl><type><specifier pos:line="59" pos:column="9">const<pos:position pos:line="59" pos:column="14"/></specifier> <name pos:line="59" pos:column="15">char<pos:position pos:line="59" pos:column="19"/></name> <modifier pos:line="59" pos:column="20">*<pos:position pos:line="59" pos:column="21"/></modifier></type><name pos:line="59" pos:column="21">useragent<pos:position pos:line="59" pos:column="30"/></name> <init pos:line="59" pos:column="31">= <expr><literal type="string" pos:line="59" pos:column="33">""<pos:position pos:line="59" pos:column="35"/></literal></expr></init></decl>;<pos:position pos:line="59" pos:column="36"/></decl_stmt>
        <decl_stmt><decl><type><specifier pos:line="60" pos:column="9">const<pos:position pos:line="60" pos:column="14"/></specifier> <name pos:line="60" pos:column="15">char<pos:position pos:line="60" pos:column="19"/></name> <modifier pos:line="60" pos:column="20">*<pos:position pos:line="60" pos:column="21"/></modifier></type><name pos:line="60" pos:column="21">http<pos:position pos:line="60" pos:column="25"/></name> <init pos:line="60" pos:column="26">= <expr><ternary><condition><expr><operator pos:line="60" pos:column="28">(<pos:position pos:line="60" pos:column="29"/></operator><name><name pos:line="60" pos:column="29">conn<pos:position pos:line="60" pos:column="33"/></name><operator pos:line="60" pos:column="33">-&gt;<pos:position pos:line="60" pos:column="38"/></operator><name pos:line="60" pos:column="35">http_proxy<pos:position pos:line="60" pos:column="45"/></name><operator pos:line="60" pos:column="45">.<pos:position pos:line="60" pos:column="46"/></operator><name pos:line="60" pos:column="46">proxytype<pos:position pos:line="60" pos:column="55"/></name></name> <operator pos:line="60" pos:column="56">==<pos:position pos:line="60" pos:column="58"/></operator> <name pos:line="60" pos:column="59">CURLPROXY_HTTP_1_0<pos:position pos:line="60" pos:column="77"/></name><operator pos:line="60" pos:column="77">)<pos:position pos:line="60" pos:column="78"/></operator></expr> ?<pos:position pos:line="60" pos:column="80"/></condition><then pos:line="60" pos:column="80">
          <expr><literal type="string" pos:line="61" pos:column="11">"1.0"<pos:position pos:line="61" pos:column="16"/></literal></expr> <pos:position pos:line="61" pos:column="17"/></then><else pos:line="61" pos:column="17">: <expr><literal type="string" pos:line="61" pos:column="19">"1.1"<pos:position pos:line="61" pos:column="24"/></literal></expr></else></ternary></expr></init></decl>;<pos:position pos:line="61" pos:column="25"/></decl_stmt>
        <decl_stmt><decl><type><name pos:line="62" pos:column="9">bool<pos:position pos:line="62" pos:column="13"/></name></type> <name pos:line="62" pos:column="14">ipv6_ip<pos:position pos:line="62" pos:column="21"/></name> <init pos:line="62" pos:column="22">= <expr><name><name pos:line="62" pos:column="24">conn<pos:position pos:line="62" pos:column="28"/></name><operator pos:line="62" pos:column="28">-&gt;<pos:position pos:line="62" pos:column="33"/></operator><name pos:line="62" pos:column="30">bits<pos:position pos:line="62" pos:column="34"/></name><operator pos:line="62" pos:column="34">.<pos:position pos:line="62" pos:column="35"/></operator><name pos:line="62" pos:column="35">ipv6_ip<pos:position pos:line="62" pos:column="42"/></name></name></expr></init></decl>;<pos:position pos:line="62" pos:column="43"/></decl_stmt>
        <decl_stmt><decl><type><name pos:line="63" pos:column="9">char<pos:position pos:line="63" pos:column="13"/></name> <modifier pos:line="63" pos:column="14">*<pos:position pos:line="63" pos:column="15"/></modifier></type><name pos:line="63" pos:column="15">hostheader<pos:position pos:line="63" pos:column="25"/></name></decl>;<pos:position pos:line="63" pos:column="26"/></decl_stmt>

        <comment type="block" pos:line="65" pos:column="9">/* the hostname may be different */</comment>
        <if pos:line="66" pos:column="9">if<condition pos:line="66" pos:column="11">(<expr><name pos:line="66" pos:column="12">hostname<pos:position pos:line="66" pos:column="20"/></name> <operator pos:line="66" pos:column="21">!=<pos:position pos:line="66" pos:column="23"/></operator> <name><name pos:line="66" pos:column="24">conn<pos:position pos:line="66" pos:column="28"/></name><operator pos:line="66" pos:column="28">-&gt;<pos:position pos:line="66" pos:column="33"/></operator><name pos:line="66" pos:column="30">host<pos:position pos:line="66" pos:column="34"/></name><operator pos:line="66" pos:column="34">.<pos:position pos:line="66" pos:column="35"/></operator><name pos:line="66" pos:column="35">name<pos:position pos:line="66" pos:column="39"/></name></name></expr>)<pos:position pos:line="66" pos:column="40"/></condition><then pos:line="66" pos:column="40">
          <block type="pseudo"><expr_stmt><expr><name pos:line="67" pos:column="11">ipv6_ip<pos:position pos:line="67" pos:column="18"/></name> <operator pos:line="67" pos:column="19">=<pos:position pos:line="67" pos:column="20"/></operator> <operator pos:line="67" pos:column="21">(<pos:position pos:line="67" pos:column="22"/></operator><call><name pos:line="67" pos:column="22">strchr<pos:position pos:line="67" pos:column="28"/></name><argument_list pos:line="67" pos:column="28">(<argument><expr><name pos:line="67" pos:column="29">hostname<pos:position pos:line="67" pos:column="37"/></name></expr></argument>, <argument><expr><literal type="char" pos:line="67" pos:column="39">':'<pos:position pos:line="67" pos:column="42"/></literal></expr></argument>)<pos:position pos:line="67" pos:column="43"/></argument_list></call> <operator pos:line="67" pos:column="44">!=<pos:position pos:line="67" pos:column="46"/></operator> <name pos:line="67" pos:column="47">NULL<pos:position pos:line="67" pos:column="51"/></name><operator pos:line="67" pos:column="51">)<pos:position pos:line="67" pos:column="52"/></operator></expr>;<pos:position pos:line="67" pos:column="53"/></expr_stmt></block></then></if>
        <expr_stmt><expr><name pos:line="68" pos:column="9">hostheader<pos:position pos:line="68" pos:column="19"/></name> <operator pos:line="68" pos:column="20">=<pos:position pos:line="68" pos:column="21"/></operator> <comment type="block" pos:line="68" pos:column="22">/* host:port with IPv6 support */</comment>
          <call><name pos:line="69" pos:column="11">aprintf<pos:position pos:line="69" pos:column="18"/></name><argument_list pos:line="69" pos:column="18">(<argument><expr><literal type="string" pos:line="69" pos:column="19">"%s%s%s:%hu"<pos:position pos:line="69" pos:column="31"/></literal></expr></argument>, <argument><expr><ternary><condition><expr><name pos:line="69" pos:column="33">ipv6_ip<pos:position pos:line="69" pos:column="40"/></name></expr>?<pos:position pos:line="69" pos:column="41"/></condition><then><expr><literal type="string" pos:line="69" pos:column="41">"["<pos:position pos:line="69" pos:column="44"/></literal></expr></then><else pos:line="69" pos:column="44">:<expr><literal type="string" pos:line="69" pos:column="45">""<pos:position pos:line="69" pos:column="47"/></literal></expr></else></ternary></expr></argument>, <argument><expr><name pos:line="69" pos:column="49">hostname<pos:position pos:line="69" pos:column="57"/></name></expr></argument>, <argument><expr><ternary><condition><expr><name pos:line="69" pos:column="59">ipv6_ip<pos:position pos:line="69" pos:column="66"/></name></expr>?<pos:position pos:line="69" pos:column="67"/></condition><then><expr><literal type="string" pos:line="69" pos:column="67">"]"<pos:position pos:line="69" pos:column="70"/></literal></expr></then><else pos:line="69" pos:column="70">:<expr><literal type="string" pos:line="69" pos:column="71">""<pos:position pos:line="69" pos:column="73"/></literal></expr></else></ternary></expr></argument>,
                  <argument><expr><name pos:line="70" pos:column="19">remote_port<pos:position pos:line="70" pos:column="30"/></name></expr></argument>)<pos:position pos:line="70" pos:column="31"/></argument_list></call></expr>;<pos:position pos:line="70" pos:column="32"/></expr_stmt>
        <if pos:line="71" pos:column="9">if<condition pos:line="71" pos:column="11">(<expr><operator pos:line="71" pos:column="12">!<pos:position pos:line="71" pos:column="13"/></operator><name pos:line="71" pos:column="13">hostheader<pos:position pos:line="71" pos:column="23"/></name></expr>)<pos:position pos:line="71" pos:column="24"/></condition><then pos:line="71" pos:column="24"> <block pos:line="71" pos:column="25">{
          <expr_stmt><expr><call><name pos:line="72" pos:column="11">Curl_add_buffer_free<pos:position pos:line="72" pos:column="31"/></name><argument_list pos:line="72" pos:column="31">(<argument><expr><name pos:line="72" pos:column="32">req_buffer<pos:position pos:line="72" pos:column="42"/></name></expr></argument>)<pos:position pos:line="72" pos:column="43"/></argument_list></call></expr>;<pos:position pos:line="72" pos:column="44"/></expr_stmt>
          <return pos:line="73" pos:column="11">return <expr><name pos:line="73" pos:column="18">CURLE_OUT_OF_MEMORY<pos:position pos:line="73" pos:column="37"/></name></expr>;<pos:position pos:line="73" pos:column="38"/></return>
        }<pos:position pos:line="74" pos:column="10"/></block></then></if>

        <if pos:line="76" pos:column="9">if<condition pos:line="76" pos:column="11">(<expr><operator pos:line="76" pos:column="12">!<pos:position pos:line="76" pos:column="13"/></operator><call><name pos:line="76" pos:column="13">Curl_checkProxyheaders<pos:position pos:line="76" pos:column="35"/></name><argument_list pos:line="76" pos:column="35">(<argument><expr><name pos:line="76" pos:column="36">conn<pos:position pos:line="76" pos:column="40"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="76" pos:column="42">"Host:"<pos:position pos:line="76" pos:column="49"/></literal></expr></argument>)<pos:position pos:line="76" pos:column="50"/></argument_list></call></expr>)<pos:position pos:line="76" pos:column="51"/></condition><then pos:line="76" pos:column="51"> <block pos:line="76" pos:column="52">{
          <expr_stmt><expr><name pos:line="77" pos:column="11">host<pos:position pos:line="77" pos:column="15"/></name> <operator pos:line="77" pos:column="16">=<pos:position pos:line="77" pos:column="17"/></operator> <call><name pos:line="77" pos:column="18">aprintf<pos:position pos:line="77" pos:column="25"/></name><argument_list pos:line="77" pos:column="25">(<argument><expr><literal type="string" pos:line="77" pos:column="26">"Host: %s\r\n"<pos:position pos:line="77" pos:column="40"/></literal></expr></argument>, <argument><expr><name pos:line="77" pos:column="42">hostheader<pos:position pos:line="77" pos:column="52"/></name></expr></argument>)<pos:position pos:line="77" pos:column="53"/></argument_list></call></expr>;<pos:position pos:line="77" pos:column="54"/></expr_stmt>
          <if pos:line="78" pos:column="11">if<condition pos:line="78" pos:column="13">(<expr><operator pos:line="78" pos:column="14">!<pos:position pos:line="78" pos:column="15"/></operator><name pos:line="78" pos:column="15">host<pos:position pos:line="78" pos:column="19"/></name></expr>)<pos:position pos:line="78" pos:column="20"/></condition><then pos:line="78" pos:column="20"> <block pos:line="78" pos:column="21">{
            <expr_stmt><expr><call><name pos:line="79" pos:column="13">free<pos:position pos:line="79" pos:column="17"/></name><argument_list pos:line="79" pos:column="17">(<argument><expr><name pos:line="79" pos:column="18">hostheader<pos:position pos:line="79" pos:column="28"/></name></expr></argument>)<pos:position pos:line="79" pos:column="29"/></argument_list></call></expr>;<pos:position pos:line="79" pos:column="30"/></expr_stmt>
            <expr_stmt><expr><call><name pos:line="80" pos:column="13">Curl_add_buffer_free<pos:position pos:line="80" pos:column="33"/></name><argument_list pos:line="80" pos:column="33">(<argument><expr><name pos:line="80" pos:column="34">req_buffer<pos:position pos:line="80" pos:column="44"/></name></expr></argument>)<pos:position pos:line="80" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="80" pos:column="46"/></expr_stmt>
            <return pos:line="81" pos:column="13">return <expr><name pos:line="81" pos:column="20">CURLE_OUT_OF_MEMORY<pos:position pos:line="81" pos:column="39"/></name></expr>;<pos:position pos:line="81" pos:column="40"/></return>
          }<pos:position pos:line="82" pos:column="12"/></block></then></if>
        }<pos:position pos:line="83" pos:column="10"/></block></then></if>
        <if pos:line="84" pos:column="9">if<condition pos:line="84" pos:column="11">(<expr><operator pos:line="84" pos:column="12">!<pos:position pos:line="84" pos:column="13"/></operator><call><name pos:line="84" pos:column="13">Curl_checkProxyheaders<pos:position pos:line="84" pos:column="35"/></name><argument_list pos:line="84" pos:column="35">(<argument><expr><name pos:line="84" pos:column="36">conn<pos:position pos:line="84" pos:column="40"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="84" pos:column="42">"Proxy-Connection:"<pos:position pos:line="84" pos:column="61"/></literal></expr></argument>)<pos:position pos:line="84" pos:column="62"/></argument_list></call></expr>)<pos:position pos:line="84" pos:column="63"/></condition><then pos:line="84" pos:column="63">
          <block type="pseudo"><expr_stmt><expr><name pos:line="85" pos:column="11">proxyconn<pos:position pos:line="85" pos:column="20"/></name> <operator pos:line="85" pos:column="21">=<pos:position pos:line="85" pos:column="22"/></operator> <literal type="string" pos:line="85" pos:column="23">"Proxy-Connection: Keep-Alive\r\n"<pos:position pos:line="85" pos:column="57"/></literal></expr>;<pos:position pos:line="85" pos:column="58"/></expr_stmt></block></then></if>

        <if pos:line="87" pos:column="9">if<condition pos:line="87" pos:column="11">(<expr><operator pos:line="87" pos:column="12">!<pos:position pos:line="87" pos:column="13"/></operator><call><name pos:line="87" pos:column="13">Curl_checkProxyheaders<pos:position pos:line="87" pos:column="35"/></name><argument_list pos:line="87" pos:column="35">(<argument><expr><name pos:line="87" pos:column="36">conn<pos:position pos:line="87" pos:column="40"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="87" pos:column="42">"User-Agent:"<pos:position pos:line="87" pos:column="55"/></literal></expr></argument>)<pos:position pos:line="87" pos:column="56"/></argument_list></call> <operator pos:line="87" pos:column="57">&amp;&amp;<pos:position pos:line="87" pos:column="67"/></operator>
           <name><name pos:line="88" pos:column="12">data<pos:position pos:line="88" pos:column="16"/></name><operator pos:line="88" pos:column="16">-&gt;<pos:position pos:line="88" pos:column="21"/></operator><name pos:line="88" pos:column="18">set<pos:position pos:line="88" pos:column="21"/></name><operator pos:line="88" pos:column="21">.<pos:position pos:line="88" pos:column="22"/></operator><name pos:line="88" pos:column="22">str<pos:position pos:line="88" pos:column="25"/></name><index pos:line="88" pos:column="25">[<expr><name pos:line="88" pos:column="26">STRING_USERAGENT<pos:position pos:line="88" pos:column="42"/></name></expr>]<pos:position pos:line="88" pos:column="43"/></index></name></expr>)<pos:position pos:line="88" pos:column="44"/></condition><then pos:line="88" pos:column="44">
          <block type="pseudo"><expr_stmt><expr><name pos:line="89" pos:column="11">useragent<pos:position pos:line="89" pos:column="20"/></name> <operator pos:line="89" pos:column="21">=<pos:position pos:line="89" pos:column="22"/></operator> <name><name pos:line="89" pos:column="23">conn<pos:position pos:line="89" pos:column="27"/></name><operator pos:line="89" pos:column="27">-&gt;<pos:position pos:line="89" pos:column="32"/></operator><name pos:line="89" pos:column="29">allocptr<pos:position pos:line="89" pos:column="37"/></name><operator pos:line="89" pos:column="37">.<pos:position pos:line="89" pos:column="38"/></operator><name pos:line="89" pos:column="38">uagent<pos:position pos:line="89" pos:column="44"/></name></name></expr>;<pos:position pos:line="89" pos:column="45"/></expr_stmt></block></then></if>

        <expr_stmt><expr><name pos:line="91" pos:column="9">result<pos:position pos:line="91" pos:column="15"/></name> <operator pos:line="91" pos:column="16">=<pos:position pos:line="91" pos:column="17"/></operator>
          <call><name pos:line="92" pos:column="11">Curl_add_bufferf<pos:position pos:line="92" pos:column="27"/></name><argument_list pos:line="92" pos:column="27">(<argument><expr><name pos:line="92" pos:column="28">req_buffer<pos:position pos:line="92" pos:column="38"/></name></expr></argument>,
                           <argument><expr><literal type="string" pos:line="93" pos:column="28">"CONNECT %s HTTP/%s\r\n"<pos:position pos:line="93" pos:column="52"/></literal>
                           <literal type="string" pos:line="94" pos:column="28">"%s"<pos:position pos:line="94" pos:column="32"/></literal>  <comment type="block" pos:line="94" pos:column="34">/* Host: */</comment>
                           <literal type="string" pos:line="95" pos:column="28">"%s"<pos:position pos:line="95" pos:column="32"/></literal>  <comment type="block" pos:line="95" pos:column="34">/* Proxy-Authorization */</comment>
                           <literal type="string" pos:line="96" pos:column="28">"%s"<pos:position pos:line="96" pos:column="32"/></literal>  <comment type="block" pos:line="96" pos:column="34">/* User-Agent */</comment>
                           <literal type="string" pos:line="97" pos:column="28">"%s"<pos:position pos:line="97" pos:column="32"/></literal></expr></argument>, <comment type="block" pos:line="97" pos:column="34">/* Proxy-Connection */</comment>
                           <argument><expr><name pos:line="98" pos:column="28">hostheader<pos:position pos:line="98" pos:column="38"/></name></expr></argument>,
                           <argument><expr><name pos:line="99" pos:column="28">http<pos:position pos:line="99" pos:column="32"/></name></expr></argument>,
                           <argument><expr><ternary><condition><expr><name pos:line="100" pos:column="28">host<pos:position pos:line="100" pos:column="32"/></name></expr>?<pos:position pos:line="100" pos:column="33"/></condition><then><expr><name pos:line="100" pos:column="33">host<pos:position pos:line="100" pos:column="37"/></name></expr></then><else pos:line="100" pos:column="37">:<expr><literal type="string" pos:line="100" pos:column="38">""<pos:position pos:line="100" pos:column="40"/></literal></expr></else></ternary></expr></argument>,
                           <argument><expr><ternary><condition><expr><name><name pos:line="101" pos:column="28">conn<pos:position pos:line="101" pos:column="32"/></name><operator pos:line="101" pos:column="32">-&gt;<pos:position pos:line="101" pos:column="37"/></operator><name pos:line="101" pos:column="34">allocptr<pos:position pos:line="101" pos:column="42"/></name><operator pos:line="101" pos:column="42">.<pos:position pos:line="101" pos:column="43"/></operator><name pos:line="101" pos:column="43">proxyuserpwd<pos:position pos:line="101" pos:column="55"/></name></name></expr>?<pos:position pos:line="101" pos:column="56"/></condition><then pos:line="101" pos:column="56">
                           <expr><name><name pos:line="102" pos:column="28">conn<pos:position pos:line="102" pos:column="32"/></name><operator pos:line="102" pos:column="32">-&gt;<pos:position pos:line="102" pos:column="37"/></operator><name pos:line="102" pos:column="34">allocptr<pos:position pos:line="102" pos:column="42"/></name><operator pos:line="102" pos:column="42">.<pos:position pos:line="102" pos:column="43"/></operator><name pos:line="102" pos:column="43">proxyuserpwd<pos:position pos:line="102" pos:column="55"/></name></name></expr></then><else pos:line="102" pos:column="55">:<expr><literal type="string" pos:line="102" pos:column="56">""<pos:position pos:line="102" pos:column="58"/></literal></expr></else></ternary></expr></argument>,
                           <argument><expr><name pos:line="103" pos:column="28">useragent<pos:position pos:line="103" pos:column="37"/></name></expr></argument>,
                           <argument><expr><name pos:line="104" pos:column="28">proxyconn<pos:position pos:line="104" pos:column="37"/></name></expr></argument>)<pos:position pos:line="104" pos:column="38"/></argument_list></call></expr>;<pos:position pos:line="104" pos:column="39"/></expr_stmt>

        <if pos:line="106" pos:column="9">if<condition pos:line="106" pos:column="11">(<expr><name pos:line="106" pos:column="12">host<pos:position pos:line="106" pos:column="16"/></name></expr>)<pos:position pos:line="106" pos:column="17"/></condition><then pos:line="106" pos:column="17">
          <block type="pseudo"><expr_stmt><expr><call><name pos:line="107" pos:column="11">free<pos:position pos:line="107" pos:column="15"/></name><argument_list pos:line="107" pos:column="15">(<argument><expr><name pos:line="107" pos:column="16">host<pos:position pos:line="107" pos:column="20"/></name></expr></argument>)<pos:position pos:line="107" pos:column="21"/></argument_list></call></expr>;<pos:position pos:line="107" pos:column="22"/></expr_stmt></block></then></if>
        <expr_stmt><expr><call><name pos:line="108" pos:column="9">free<pos:position pos:line="108" pos:column="13"/></name><argument_list pos:line="108" pos:column="13">(<argument><expr><name pos:line="108" pos:column="14">hostheader<pos:position pos:line="108" pos:column="24"/></name></expr></argument>)<pos:position pos:line="108" pos:column="25"/></argument_list></call></expr>;<pos:position pos:line="108" pos:column="26"/></expr_stmt>

        <if pos:line="110" pos:column="9">if<condition pos:line="110" pos:column="11">(<expr><operator pos:line="110" pos:column="12">!<pos:position pos:line="110" pos:column="13"/></operator><name pos:line="110" pos:column="13">result<pos:position pos:line="110" pos:column="19"/></name></expr>)<pos:position pos:line="110" pos:column="20"/></condition><then pos:line="110" pos:column="20">
          <block type="pseudo"><expr_stmt><expr><name pos:line="111" pos:column="11">result<pos:position pos:line="111" pos:column="17"/></name> <operator pos:line="111" pos:column="18">=<pos:position pos:line="111" pos:column="19"/></operator> <call><name pos:line="111" pos:column="20">Curl_add_custom_headers<pos:position pos:line="111" pos:column="43"/></name><argument_list pos:line="111" pos:column="43">(<argument><expr><name pos:line="111" pos:column="44">conn<pos:position pos:line="111" pos:column="48"/></name></expr></argument>, <argument><expr><name pos:line="111" pos:column="50">TRUE<pos:position pos:line="111" pos:column="54"/></name></expr></argument>, <argument><expr><name pos:line="111" pos:column="56">req_buffer<pos:position pos:line="111" pos:column="66"/></name></expr></argument>)<pos:position pos:line="111" pos:column="67"/></argument_list></call></expr>;<pos:position pos:line="111" pos:column="68"/></expr_stmt></block></then></if>

        <if pos:line="113" pos:column="9">if<condition pos:line="113" pos:column="11">(<expr><operator pos:line="113" pos:column="12">!<pos:position pos:line="113" pos:column="13"/></operator><name pos:line="113" pos:column="13">result<pos:position pos:line="113" pos:column="19"/></name></expr>)<pos:position pos:line="113" pos:column="20"/></condition><then pos:line="113" pos:column="20">
          <comment type="block" pos:line="114" pos:column="11">/* CRLF terminate the request */</comment>
          <block type="pseudo"><expr_stmt><expr><name pos:line="115" pos:column="11">result<pos:position pos:line="115" pos:column="17"/></name> <operator pos:line="115" pos:column="18">=<pos:position pos:line="115" pos:column="19"/></operator> <call><name pos:line="115" pos:column="20">Curl_add_bufferf<pos:position pos:line="115" pos:column="36"/></name><argument_list pos:line="115" pos:column="36">(<argument><expr><name pos:line="115" pos:column="37">req_buffer<pos:position pos:line="115" pos:column="47"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="115" pos:column="49">"\r\n"<pos:position pos:line="115" pos:column="55"/></literal></expr></argument>)<pos:position pos:line="115" pos:column="56"/></argument_list></call></expr>;<pos:position pos:line="115" pos:column="57"/></expr_stmt></block></then></if>

        <if pos:line="117" pos:column="9">if<condition pos:line="117" pos:column="11">(<expr><operator pos:line="117" pos:column="12">!<pos:position pos:line="117" pos:column="13"/></operator><name pos:line="117" pos:column="13">result<pos:position pos:line="117" pos:column="19"/></name></expr>)<pos:position pos:line="117" pos:column="20"/></condition><then pos:line="117" pos:column="20"> <block pos:line="117" pos:column="21">{
          <comment type="block" pos:line="118" pos:column="11">/* Send the connect request to the proxy */</comment>
          <comment type="block" pos:line="119" pos:column="11">/* BLOCKING */</comment>
          <expr_stmt><expr><name pos:line="120" pos:column="11">result<pos:position pos:line="120" pos:column="17"/></name> <operator pos:line="120" pos:column="18">=<pos:position pos:line="120" pos:column="19"/></operator>
            <call><name pos:line="121" pos:column="13">Curl_add_buffer_send<pos:position pos:line="121" pos:column="33"/></name><argument_list pos:line="121" pos:column="33">(<argument><expr><name pos:line="121" pos:column="34">req_buffer<pos:position pos:line="121" pos:column="44"/></name></expr></argument>, <argument><expr><name pos:line="121" pos:column="46">conn<pos:position pos:line="121" pos:column="50"/></name></expr></argument>,
                                 <argument><expr><operator pos:line="122" pos:column="34">&amp;<pos:position pos:line="122" pos:column="39"/></operator><name><name pos:line="122" pos:column="35">data<pos:position pos:line="122" pos:column="39"/></name><operator pos:line="122" pos:column="39">-&gt;<pos:position pos:line="122" pos:column="44"/></operator><name pos:line="122" pos:column="41">info<pos:position pos:line="122" pos:column="45"/></name><operator pos:line="122" pos:column="45">.<pos:position pos:line="122" pos:column="46"/></operator><name pos:line="122" pos:column="46">request_size<pos:position pos:line="122" pos:column="58"/></name></name></expr></argument>, <argument><expr><literal type="number" pos:line="122" pos:column="60">0<pos:position pos:line="122" pos:column="61"/></literal></expr></argument>, <argument><expr><name pos:line="122" pos:column="63">sockindex<pos:position pos:line="122" pos:column="72"/></name></expr></argument>)<pos:position pos:line="122" pos:column="73"/></argument_list></call></expr>;<pos:position pos:line="122" pos:column="74"/></expr_stmt>
        }<pos:position pos:line="123" pos:column="10"/></block></then></if>
        <expr_stmt><expr><name pos:line="124" pos:column="9">req_buffer<pos:position pos:line="124" pos:column="19"/></name> <operator pos:line="124" pos:column="20">=<pos:position pos:line="124" pos:column="21"/></operator> <name pos:line="124" pos:column="22">NULL<pos:position pos:line="124" pos:column="26"/></name></expr>;<pos:position pos:line="124" pos:column="27"/></expr_stmt>
        <if pos:line="125" pos:column="9">if<condition pos:line="125" pos:column="11">(<expr><name pos:line="125" pos:column="12">result<pos:position pos:line="125" pos:column="18"/></name></expr>)<pos:position pos:line="125" pos:column="19"/></condition><then pos:line="125" pos:column="19">
          <block type="pseudo"><expr_stmt><expr><call><name pos:line="126" pos:column="11">failf<pos:position pos:line="126" pos:column="16"/></name><argument_list pos:line="126" pos:column="16">(<argument><expr><name pos:line="126" pos:column="17">data<pos:position pos:line="126" pos:column="21"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="126" pos:column="23">"Failed sending CONNECT to proxy"<pos:position pos:line="126" pos:column="56"/></literal></expr></argument>)<pos:position pos:line="126" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="126" pos:column="58"/></expr_stmt></block></then></if>
      }<pos:position pos:line="127" pos:column="8"/></block></then></if>

      <expr_stmt><expr><call><name pos:line="129" pos:column="7">Curl_add_buffer_free<pos:position pos:line="129" pos:column="27"/></name><argument_list pos:line="129" pos:column="27">(<argument><expr><name pos:line="129" pos:column="28">req_buffer<pos:position pos:line="129" pos:column="38"/></name></expr></argument>)<pos:position pos:line="129" pos:column="39"/></argument_list></call></expr>;<pos:position pos:line="129" pos:column="40"/></expr_stmt>
      <if pos:line="130" pos:column="7">if<condition pos:line="130" pos:column="9">(<expr><name pos:line="130" pos:column="10">result<pos:position pos:line="130" pos:column="16"/></name></expr>)<pos:position pos:line="130" pos:column="17"/></condition><then pos:line="130" pos:column="17">
        <block type="pseudo"><return pos:line="131" pos:column="9">return <expr><name pos:line="131" pos:column="16">result<pos:position pos:line="131" pos:column="22"/></name></expr>;<pos:position pos:line="131" pos:column="23"/></return></block></then></if>

      <expr_stmt><expr><name><name pos:line="133" pos:column="7">s<pos:position pos:line="133" pos:column="8"/></name><operator pos:line="133" pos:column="8">-&gt;<pos:position pos:line="133" pos:column="13"/></operator><name pos:line="133" pos:column="10">tunnel_state<pos:position pos:line="133" pos:column="22"/></name></name> <operator pos:line="133" pos:column="23">=<pos:position pos:line="133" pos:column="24"/></operator> <name pos:line="133" pos:column="25">TUNNEL_CONNECT<pos:position pos:line="133" pos:column="39"/></name></expr>;<pos:position pos:line="133" pos:column="40"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="134" pos:column="7">s<pos:position pos:line="134" pos:column="8"/></name><operator pos:line="134" pos:column="8">-&gt;<pos:position pos:line="134" pos:column="13"/></operator><name pos:line="134" pos:column="10">perline<pos:position pos:line="134" pos:column="17"/></name></name> <operator pos:line="134" pos:column="18">=<pos:position pos:line="134" pos:column="19"/></operator> <literal type="number" pos:line="134" pos:column="20">0<pos:position pos:line="134" pos:column="21"/></literal></expr>;<pos:position pos:line="134" pos:column="22"/></expr_stmt>
    }<pos:position pos:line="135" pos:column="6"/></block></then></if> <comment type="block" pos:line="135" pos:column="7">/* END CONNECT PHASE */</comment>

    <expr_stmt><expr><name pos:line="137" pos:column="5">check<pos:position pos:line="137" pos:column="10"/></name> <operator pos:line="137" pos:column="11">=<pos:position pos:line="137" pos:column="12"/></operator> <call><name pos:line="137" pos:column="13">Curl_timeleft<pos:position pos:line="137" pos:column="26"/></name><argument_list pos:line="137" pos:column="26">(<argument><expr><name pos:line="137" pos:column="27">data<pos:position pos:line="137" pos:column="31"/></name></expr></argument>, <argument><expr><name pos:line="137" pos:column="33">NULL<pos:position pos:line="137" pos:column="37"/></name></expr></argument>, <argument><expr><name pos:line="137" pos:column="39">TRUE<pos:position pos:line="137" pos:column="43"/></name></expr></argument>)<pos:position pos:line="137" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="137" pos:column="45"/></expr_stmt>
    <if pos:line="138" pos:column="5">if<condition pos:line="138" pos:column="7">(<expr><name pos:line="138" pos:column="8">check<pos:position pos:line="138" pos:column="13"/></name> <operator pos:line="138" pos:column="14">&lt;=<pos:position pos:line="138" pos:column="19"/></operator> <literal type="number" pos:line="138" pos:column="17">0<pos:position pos:line="138" pos:column="18"/></literal></expr>)<pos:position pos:line="138" pos:column="19"/></condition><then pos:line="138" pos:column="19"> <block pos:line="138" pos:column="20">{
      <expr_stmt><expr><call><name pos:line="139" pos:column="7">failf<pos:position pos:line="139" pos:column="12"/></name><argument_list pos:line="139" pos:column="12">(<argument><expr><name pos:line="139" pos:column="13">data<pos:position pos:line="139" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="139" pos:column="19">"Proxy CONNECT aborted due to timeout"<pos:position pos:line="139" pos:column="57"/></literal></expr></argument>)<pos:position pos:line="139" pos:column="58"/></argument_list></call></expr>;<pos:position pos:line="139" pos:column="59"/></expr_stmt>
      <return pos:line="140" pos:column="7">return <expr><name pos:line="140" pos:column="14">CURLE_OPERATION_TIMEDOUT<pos:position pos:line="140" pos:column="38"/></name></expr>;<pos:position pos:line="140" pos:column="39"/></return>
    }<pos:position pos:line="141" pos:column="6"/></block></then></if>

    <if pos:line="143" pos:column="5">if<condition pos:line="143" pos:column="7">(<expr><operator pos:line="143" pos:column="8">!<pos:position pos:line="143" pos:column="9"/></operator><call><name pos:line="143" pos:column="9">Curl_conn_data_pending<pos:position pos:line="143" pos:column="31"/></name><argument_list pos:line="143" pos:column="31">(<argument><expr><name pos:line="143" pos:column="32">conn<pos:position pos:line="143" pos:column="36"/></name></expr></argument>, <argument><expr><name pos:line="143" pos:column="38">sockindex<pos:position pos:line="143" pos:column="47"/></name></expr></argument>)<pos:position pos:line="143" pos:column="48"/></argument_list></call></expr>)<pos:position pos:line="143" pos:column="49"/></condition><then pos:line="143" pos:column="49">
      <comment type="block" pos:line="144" pos:column="7">/* return so we'll be called again polling-style */</comment>
      <block type="pseudo"><return pos:line="145" pos:column="7">return <expr><name pos:line="145" pos:column="14">CURLE_OK<pos:position pos:line="145" pos:column="22"/></name></expr>;<pos:position pos:line="145" pos:column="23"/></return></block></then></if>

    <comment type="block" pos:line="147" pos:column="5">/* at this point, the tunnel_connecting phase is over. */</comment>

    <block pos:line="149" pos:column="5">{ <comment type="block" pos:line="149" pos:column="7">/* READING RESPONSE PHASE */</comment>
      <decl_stmt><decl><type><name pos:line="150" pos:column="7">int<pos:position pos:line="150" pos:column="10"/></name></type> <name pos:line="150" pos:column="11">error<pos:position pos:line="150" pos:column="16"/></name> <init pos:line="150" pos:column="17">= <expr><name pos:line="150" pos:column="19">SELECT_OK<pos:position pos:line="150" pos:column="28"/></name></expr></init></decl>;<pos:position pos:line="150" pos:column="29"/></decl_stmt>

      <while pos:line="152" pos:column="7">while<condition pos:line="152" pos:column="12">(<expr><name><name pos:line="152" pos:column="13">s<pos:position pos:line="152" pos:column="14"/></name><operator pos:line="152" pos:column="14">-&gt;<pos:position pos:line="152" pos:column="19"/></operator><name pos:line="152" pos:column="16">keepon<pos:position pos:line="152" pos:column="22"/></name></name> <operator pos:line="152" pos:column="23">&amp;&amp;<pos:position pos:line="152" pos:column="33"/></operator> <operator pos:line="152" pos:column="26">!<pos:position pos:line="152" pos:column="27"/></operator><name pos:line="152" pos:column="27">error<pos:position pos:line="152" pos:column="32"/></name></expr>)<pos:position pos:line="152" pos:column="33"/></condition> <block pos:line="152" pos:column="34">{
        <decl_stmt><decl><type><name pos:line="153" pos:column="9">ssize_t<pos:position pos:line="153" pos:column="16"/></name></type> <name pos:line="153" pos:column="17">gotbytes<pos:position pos:line="153" pos:column="25"/></name></decl>;<pos:position pos:line="153" pos:column="26"/></decl_stmt>

        <comment type="block" pos:line="155" pos:column="9">/* make sure we have space to read more data */</comment>
        <if pos:line="156" pos:column="9">if<condition pos:line="156" pos:column="11">(<expr><name><name pos:line="156" pos:column="12">s<pos:position pos:line="156" pos:column="13"/></name><operator pos:line="156" pos:column="13">-&gt;<pos:position pos:line="156" pos:column="18"/></operator><name pos:line="156" pos:column="15">ptr<pos:position pos:line="156" pos:column="18"/></name></name> <operator pos:line="156" pos:column="19">&gt;=<pos:position pos:line="156" pos:column="24"/></operator> <operator pos:line="156" pos:column="22">&amp;<pos:position pos:line="156" pos:column="27"/></operator><name><name pos:line="156" pos:column="23">s<pos:position pos:line="156" pos:column="24"/></name><operator pos:line="156" pos:column="24">-&gt;<pos:position pos:line="156" pos:column="29"/></operator><name pos:line="156" pos:column="26">connect_buffer<pos:position pos:line="156" pos:column="40"/></name><index pos:line="156" pos:column="40">[<expr><name pos:line="156" pos:column="41">CONNECT_BUFFER_SIZE<pos:position pos:line="156" pos:column="60"/></name></expr>]<pos:position pos:line="156" pos:column="61"/></index></name></expr>)<pos:position pos:line="156" pos:column="62"/></condition><then pos:line="156" pos:column="62"> <block pos:line="156" pos:column="63">{
          <expr_stmt><expr><call><name pos:line="157" pos:column="11">failf<pos:position pos:line="157" pos:column="16"/></name><argument_list pos:line="157" pos:column="16">(<argument><expr><name pos:line="157" pos:column="17">data<pos:position pos:line="157" pos:column="21"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="157" pos:column="23">"CONNECT response too large!"<pos:position pos:line="157" pos:column="52"/></literal></expr></argument>)<pos:position pos:line="157" pos:column="53"/></argument_list></call></expr>;<pos:position pos:line="157" pos:column="54"/></expr_stmt>
          <return pos:line="158" pos:column="11">return <expr><name pos:line="158" pos:column="18">CURLE_RECV_ERROR<pos:position pos:line="158" pos:column="34"/></name></expr>;<pos:position pos:line="158" pos:column="35"/></return>
        }<pos:position pos:line="159" pos:column="10"/></block></then></if>

        <comment type="block" pos:line="161" pos:column="9">/* Read one byte at a time to avoid a race condition. Wait at most one
           second before looping to ensure continuous pgrsUpdates. */</comment>
        <expr_stmt><expr><name pos:line="163" pos:column="9">result<pos:position pos:line="163" pos:column="15"/></name> <operator pos:line="163" pos:column="16">=<pos:position pos:line="163" pos:column="17"/></operator> <call><name pos:line="163" pos:column="18">Curl_read<pos:position pos:line="163" pos:column="27"/></name><argument_list pos:line="163" pos:column="27">(<argument><expr><name pos:line="163" pos:column="28">conn<pos:position pos:line="163" pos:column="32"/></name></expr></argument>, <argument><expr><name pos:line="163" pos:column="34">tunnelsocket<pos:position pos:line="163" pos:column="46"/></name></expr></argument>, <argument><expr><name><name pos:line="163" pos:column="48">s<pos:position pos:line="163" pos:column="49"/></name><operator pos:line="163" pos:column="49">-&gt;<pos:position pos:line="163" pos:column="54"/></operator><name pos:line="163" pos:column="51">ptr<pos:position pos:line="163" pos:column="54"/></name></name></expr></argument>, <argument><expr><literal type="number" pos:line="163" pos:column="56">1<pos:position pos:line="163" pos:column="57"/></literal></expr></argument>, <argument><expr><operator pos:line="163" pos:column="59">&amp;<pos:position pos:line="163" pos:column="64"/></operator><name pos:line="163" pos:column="60">gotbytes<pos:position pos:line="163" pos:column="68"/></name></expr></argument>)<pos:position pos:line="163" pos:column="69"/></argument_list></call></expr>;<pos:position pos:line="163" pos:column="70"/></expr_stmt>
        <if pos:line="164" pos:column="9">if<condition pos:line="164" pos:column="11">(<expr><name pos:line="164" pos:column="12">result<pos:position pos:line="164" pos:column="18"/></name> <operator pos:line="164" pos:column="19">==<pos:position pos:line="164" pos:column="21"/></operator> <name pos:line="164" pos:column="22">CURLE_AGAIN<pos:position pos:line="164" pos:column="33"/></name></expr>)<pos:position pos:line="164" pos:column="34"/></condition><then pos:line="164" pos:column="34">
          <comment type="block" pos:line="165" pos:column="11">/* socket buffer drained, return */</comment>
          <block type="pseudo"><return pos:line="166" pos:column="11">return <expr><name pos:line="166" pos:column="18">CURLE_OK<pos:position pos:line="166" pos:column="26"/></name></expr>;<pos:position pos:line="166" pos:column="27"/></return></block></then></if>

        <if pos:line="168" pos:column="9">if<condition pos:line="168" pos:column="11">(<expr><call><name pos:line="168" pos:column="12">Curl_pgrsUpdate<pos:position pos:line="168" pos:column="27"/></name><argument_list pos:line="168" pos:column="27">(<argument><expr><name pos:line="168" pos:column="28">conn<pos:position pos:line="168" pos:column="32"/></name></expr></argument>)<pos:position pos:line="168" pos:column="33"/></argument_list></call></expr>)<pos:position pos:line="168" pos:column="34"/></condition><then pos:line="168" pos:column="34">
          <block type="pseudo"><return pos:line="169" pos:column="11">return <expr><name pos:line="169" pos:column="18">CURLE_ABORTED_BY_CALLBACK<pos:position pos:line="169" pos:column="43"/></name></expr>;<pos:position pos:line="169" pos:column="44"/></return></block></then></if>

        <if pos:line="171" pos:column="9">if<condition pos:line="171" pos:column="11">(<expr><name pos:line="171" pos:column="12">result<pos:position pos:line="171" pos:column="18"/></name></expr>)<pos:position pos:line="171" pos:column="19"/></condition><then pos:line="171" pos:column="19"> <block pos:line="171" pos:column="20">{
          <expr_stmt><expr><name><name pos:line="172" pos:column="11">s<pos:position pos:line="172" pos:column="12"/></name><operator pos:line="172" pos:column="12">-&gt;<pos:position pos:line="172" pos:column="17"/></operator><name pos:line="172" pos:column="14">keepon<pos:position pos:line="172" pos:column="20"/></name></name> <operator pos:line="172" pos:column="21">=<pos:position pos:line="172" pos:column="22"/></operator> <name pos:line="172" pos:column="23">FALSE<pos:position pos:line="172" pos:column="28"/></name></expr>;<pos:position pos:line="172" pos:column="29"/></expr_stmt>
          <break pos:line="173" pos:column="11">break;<pos:position pos:line="173" pos:column="17"/></break>
        }<pos:position pos:line="174" pos:column="10"/></block></then>
        <elseif pos:line="175" pos:column="9">else <if pos:line="175" pos:column="14">if<condition pos:line="175" pos:column="16">(<expr><name pos:line="175" pos:column="17">gotbytes<pos:position pos:line="175" pos:column="25"/></name> <operator pos:line="175" pos:column="26">&lt;=<pos:position pos:line="175" pos:column="31"/></operator> <literal type="number" pos:line="175" pos:column="29">0<pos:position pos:line="175" pos:column="30"/></literal></expr>)<pos:position pos:line="175" pos:column="31"/></condition><then pos:line="175" pos:column="31"> <block pos:line="175" pos:column="32">{
          <if pos:line="176" pos:column="11">if<condition pos:line="176" pos:column="13">(<expr><name><name pos:line="176" pos:column="14">data<pos:position pos:line="176" pos:column="18"/></name><operator pos:line="176" pos:column="18">-&gt;<pos:position pos:line="176" pos:column="23"/></operator><name pos:line="176" pos:column="20">set<pos:position pos:line="176" pos:column="23"/></name><operator pos:line="176" pos:column="23">.<pos:position pos:line="176" pos:column="24"/></operator><name pos:line="176" pos:column="24">proxyauth<pos:position pos:line="176" pos:column="33"/></name></name> <operator pos:line="176" pos:column="34">&amp;&amp;<pos:position pos:line="176" pos:column="44"/></operator> <name><name pos:line="176" pos:column="37">data<pos:position pos:line="176" pos:column="41"/></name><operator pos:line="176" pos:column="41">-&gt;<pos:position pos:line="176" pos:column="46"/></operator><name pos:line="176" pos:column="43">state<pos:position pos:line="176" pos:column="48"/></name><operator pos:line="176" pos:column="48">.<pos:position pos:line="176" pos:column="49"/></operator><name pos:line="176" pos:column="49">authproxy<pos:position pos:line="176" pos:column="58"/></name><operator pos:line="176" pos:column="58">.<pos:position pos:line="176" pos:column="59"/></operator><name pos:line="176" pos:column="59">avail<pos:position pos:line="176" pos:column="64"/></name></name></expr>)<pos:position pos:line="176" pos:column="65"/></condition><then pos:line="176" pos:column="65"> <block pos:line="176" pos:column="66">{
            <comment type="block" pos:line="177" pos:column="13">/* proxy auth was requested and there was proxy auth available,
               then deem this as "mere" proxy disconnect */</comment>
            <expr_stmt><expr><name><name pos:line="179" pos:column="13">conn<pos:position pos:line="179" pos:column="17"/></name><operator pos:line="179" pos:column="17">-&gt;<pos:position pos:line="179" pos:column="22"/></operator><name pos:line="179" pos:column="19">bits<pos:position pos:line="179" pos:column="23"/></name><operator pos:line="179" pos:column="23">.<pos:position pos:line="179" pos:column="24"/></operator><name pos:line="179" pos:column="24">proxy_connect_closed<pos:position pos:line="179" pos:column="44"/></name></name> <operator pos:line="179" pos:column="45">=<pos:position pos:line="179" pos:column="46"/></operator> <name pos:line="179" pos:column="47">TRUE<pos:position pos:line="179" pos:column="51"/></name></expr>;<pos:position pos:line="179" pos:column="52"/></expr_stmt>
            <expr_stmt><expr><call><name pos:line="180" pos:column="13">infof<pos:position pos:line="180" pos:column="18"/></name><argument_list pos:line="180" pos:column="18">(<argument><expr><name pos:line="180" pos:column="19">data<pos:position pos:line="180" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="180" pos:column="25">"Proxy CONNECT connection closed\n"<pos:position pos:line="180" pos:column="60"/></literal></expr></argument>)<pos:position pos:line="180" pos:column="61"/></argument_list></call></expr>;<pos:position pos:line="180" pos:column="62"/></expr_stmt>
          }<pos:position pos:line="181" pos:column="12"/></block></then>
          <else pos:line="182" pos:column="11">else <block pos:line="182" pos:column="16">{
            <expr_stmt><expr><name pos:line="183" pos:column="13">error<pos:position pos:line="183" pos:column="18"/></name> <operator pos:line="183" pos:column="19">=<pos:position pos:line="183" pos:column="20"/></operator> <name pos:line="183" pos:column="21">SELECT_ERROR<pos:position pos:line="183" pos:column="33"/></name></expr>;<pos:position pos:line="183" pos:column="34"/></expr_stmt>
            <expr_stmt><expr><call><name pos:line="184" pos:column="13">failf<pos:position pos:line="184" pos:column="18"/></name><argument_list pos:line="184" pos:column="18">(<argument><expr><name pos:line="184" pos:column="19">data<pos:position pos:line="184" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="184" pos:column="25">"Proxy CONNECT aborted"<pos:position pos:line="184" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="184" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="184" pos:column="50"/></expr_stmt>
          }<pos:position pos:line="185" pos:column="12"/></block></else></if>
          <expr_stmt><expr><name><name pos:line="186" pos:column="11">s<pos:position pos:line="186" pos:column="12"/></name><operator pos:line="186" pos:column="12">-&gt;<pos:position pos:line="186" pos:column="17"/></operator><name pos:line="186" pos:column="14">keepon<pos:position pos:line="186" pos:column="20"/></name></name> <operator pos:line="186" pos:column="21">=<pos:position pos:line="186" pos:column="22"/></operator> <name pos:line="186" pos:column="23">FALSE<pos:position pos:line="186" pos:column="28"/></name></expr>;<pos:position pos:line="186" pos:column="29"/></expr_stmt>
          <break pos:line="187" pos:column="11">break;<pos:position pos:line="187" pos:column="17"/></break>
        }<pos:position pos:line="188" pos:column="10"/></block></then></if></elseif></if>


        <if pos:line="191" pos:column="9">if<condition pos:line="191" pos:column="11">(<expr><name><name pos:line="191" pos:column="12">s<pos:position pos:line="191" pos:column="13"/></name><operator pos:line="191" pos:column="13">-&gt;<pos:position pos:line="191" pos:column="18"/></operator><name pos:line="191" pos:column="15">keepon<pos:position pos:line="191" pos:column="21"/></name></name> <operator pos:line="191" pos:column="22">&gt;<pos:position pos:line="191" pos:column="26"/></operator> <name pos:line="191" pos:column="24">TRUE<pos:position pos:line="191" pos:column="28"/></name></expr>)<pos:position pos:line="191" pos:column="29"/></condition><then pos:line="191" pos:column="29"> <block pos:line="191" pos:column="30">{
          <comment type="block" pos:line="192" pos:column="11">/* This means we are currently ignoring a response-body */</comment>

          <expr_stmt><expr><name><name pos:line="194" pos:column="11">s<pos:position pos:line="194" pos:column="12"/></name><operator pos:line="194" pos:column="12">-&gt;<pos:position pos:line="194" pos:column="17"/></operator><name pos:line="194" pos:column="14">ptr<pos:position pos:line="194" pos:column="17"/></name></name> <operator pos:line="194" pos:column="18">=<pos:position pos:line="194" pos:column="19"/></operator> <name><name pos:line="194" pos:column="20">s<pos:position pos:line="194" pos:column="21"/></name><operator pos:line="194" pos:column="21">-&gt;<pos:position pos:line="194" pos:column="26"/></operator><name pos:line="194" pos:column="23">connect_buffer<pos:position pos:line="194" pos:column="37"/></name></name></expr>;<pos:position pos:line="194" pos:column="38"/></expr_stmt>
          <if pos:line="195" pos:column="11">if<condition pos:line="195" pos:column="13">(<expr><name><name pos:line="195" pos:column="14">s<pos:position pos:line="195" pos:column="15"/></name><operator pos:line="195" pos:column="15">-&gt;<pos:position pos:line="195" pos:column="20"/></operator><name pos:line="195" pos:column="17">cl<pos:position pos:line="195" pos:column="19"/></name></name></expr>)<pos:position pos:line="195" pos:column="20"/></condition><then pos:line="195" pos:column="20"> <block pos:line="195" pos:column="21">{
            <comment type="block" pos:line="196" pos:column="13">/* A Content-Length based body: simply count down the counter
               and make sure to break out of the loop when we're done! */</comment>
            <expr_stmt><expr><name><name pos:line="198" pos:column="13">s<pos:position pos:line="198" pos:column="14"/></name><operator pos:line="198" pos:column="14">-&gt;<pos:position pos:line="198" pos:column="19"/></operator><name pos:line="198" pos:column="16">cl<pos:position pos:line="198" pos:column="18"/></name></name><operator pos:line="198" pos:column="18">--<pos:position pos:line="198" pos:column="20"/></operator></expr>;<pos:position pos:line="198" pos:column="21"/></expr_stmt>
            <if pos:line="199" pos:column="13">if<condition pos:line="199" pos:column="15">(<expr><name><name pos:line="199" pos:column="16">s<pos:position pos:line="199" pos:column="17"/></name><operator pos:line="199" pos:column="17">-&gt;<pos:position pos:line="199" pos:column="22"/></operator><name pos:line="199" pos:column="19">cl<pos:position pos:line="199" pos:column="21"/></name></name> <operator pos:line="199" pos:column="22">&lt;=<pos:position pos:line="199" pos:column="27"/></operator> <literal type="number" pos:line="199" pos:column="25">0<pos:position pos:line="199" pos:column="26"/></literal></expr>)<pos:position pos:line="199" pos:column="27"/></condition><then pos:line="199" pos:column="27"> <block pos:line="199" pos:column="28">{
              <expr_stmt><expr><name><name pos:line="200" pos:column="15">s<pos:position pos:line="200" pos:column="16"/></name><operator pos:line="200" pos:column="16">-&gt;<pos:position pos:line="200" pos:column="21"/></operator><name pos:line="200" pos:column="18">keepon<pos:position pos:line="200" pos:column="24"/></name></name> <operator pos:line="200" pos:column="25">=<pos:position pos:line="200" pos:column="26"/></operator> <name pos:line="200" pos:column="27">FALSE<pos:position pos:line="200" pos:column="32"/></name></expr>;<pos:position pos:line="200" pos:column="33"/></expr_stmt>
              <expr_stmt><expr><name><name pos:line="201" pos:column="15">s<pos:position pos:line="201" pos:column="16"/></name><operator pos:line="201" pos:column="16">-&gt;<pos:position pos:line="201" pos:column="21"/></operator><name pos:line="201" pos:column="18">tunnel_state<pos:position pos:line="201" pos:column="30"/></name></name> <operator pos:line="201" pos:column="31">=<pos:position pos:line="201" pos:column="32"/></operator> <name pos:line="201" pos:column="33">TUNNEL_COMPLETE<pos:position pos:line="201" pos:column="48"/></name></expr>;<pos:position pos:line="201" pos:column="49"/></expr_stmt>
              <break pos:line="202" pos:column="15">break;<pos:position pos:line="202" pos:column="21"/></break>
            }<pos:position pos:line="203" pos:column="14"/></block></then></if>
          }<pos:position pos:line="204" pos:column="12"/></block></then>
          <else pos:line="205" pos:column="11">else <block pos:line="205" pos:column="16">{
            <comment type="block" pos:line="206" pos:column="13">/* chunked-encoded body, so we need to do the chunked dance
               properly to know when the end of the body is reached */</comment>
            <decl_stmt><decl><type><name pos:line="208" pos:column="13">CHUNKcode<pos:position pos:line="208" pos:column="22"/></name></type> <name pos:line="208" pos:column="23">r<pos:position pos:line="208" pos:column="24"/></name></decl>;<pos:position pos:line="208" pos:column="25"/></decl_stmt>
            <decl_stmt><decl><type><name pos:line="209" pos:column="13">ssize_t<pos:position pos:line="209" pos:column="20"/></name></type> <name pos:line="209" pos:column="21">tookcareof<pos:position pos:line="209" pos:column="31"/></name> <init pos:line="209" pos:column="32">= <expr><literal type="number" pos:line="209" pos:column="34">0<pos:position pos:line="209" pos:column="35"/></literal></expr></init></decl>;<pos:position pos:line="209" pos:column="36"/></decl_stmt>

            <comment type="block" pos:line="211" pos:column="13">/* now parse the chunked piece of data so that we can
               properly tell when the stream ends */</comment>
            <expr_stmt><expr><name pos:line="213" pos:column="13">r<pos:position pos:line="213" pos:column="14"/></name> <operator pos:line="213" pos:column="15">=<pos:position pos:line="213" pos:column="16"/></operator> <call><name pos:line="213" pos:column="17">Curl_httpchunk_read<pos:position pos:line="213" pos:column="36"/></name><argument_list pos:line="213" pos:column="36">(<argument><expr><name pos:line="213" pos:column="37">conn<pos:position pos:line="213" pos:column="41"/></name></expr></argument>, <argument><expr><name><name pos:line="213" pos:column="43">s<pos:position pos:line="213" pos:column="44"/></name><operator pos:line="213" pos:column="44">-&gt;<pos:position pos:line="213" pos:column="49"/></operator><name pos:line="213" pos:column="46">ptr<pos:position pos:line="213" pos:column="49"/></name></name></expr></argument>, <argument><expr><literal type="number" pos:line="213" pos:column="51">1<pos:position pos:line="213" pos:column="52"/></literal></expr></argument>, <argument><expr><operator pos:line="213" pos:column="54">&amp;<pos:position pos:line="213" pos:column="59"/></operator><name pos:line="213" pos:column="55">tookcareof<pos:position pos:line="213" pos:column="65"/></name></expr></argument>)<pos:position pos:line="213" pos:column="66"/></argument_list></call></expr>;<pos:position pos:line="213" pos:column="67"/></expr_stmt>
            <if pos:line="214" pos:column="13">if<condition pos:line="214" pos:column="15">(<expr><name pos:line="214" pos:column="16">r<pos:position pos:line="214" pos:column="17"/></name> <operator pos:line="214" pos:column="18">==<pos:position pos:line="214" pos:column="20"/></operator> <name pos:line="214" pos:column="21">CHUNKE_STOP<pos:position pos:line="214" pos:column="32"/></name></expr>)<pos:position pos:line="214" pos:column="33"/></condition><then pos:line="214" pos:column="33"> <block pos:line="214" pos:column="34">{
              <comment type="block" pos:line="215" pos:column="15">/* we're done reading chunks! */</comment>
              <expr_stmt><expr><call><name pos:line="216" pos:column="15">infof<pos:position pos:line="216" pos:column="20"/></name><argument_list pos:line="216" pos:column="20">(<argument><expr><name pos:line="216" pos:column="21">data<pos:position pos:line="216" pos:column="25"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="216" pos:column="27">"chunk reading DONE\n"<pos:position pos:line="216" pos:column="49"/></literal></expr></argument>)<pos:position pos:line="216" pos:column="50"/></argument_list></call></expr>;<pos:position pos:line="216" pos:column="51"/></expr_stmt>
              <expr_stmt><expr><name><name pos:line="217" pos:column="15">s<pos:position pos:line="217" pos:column="16"/></name><operator pos:line="217" pos:column="16">-&gt;<pos:position pos:line="217" pos:column="21"/></operator><name pos:line="217" pos:column="18">keepon<pos:position pos:line="217" pos:column="24"/></name></name> <operator pos:line="217" pos:column="25">=<pos:position pos:line="217" pos:column="26"/></operator> <name pos:line="217" pos:column="27">FALSE<pos:position pos:line="217" pos:column="32"/></name></expr>;<pos:position pos:line="217" pos:column="33"/></expr_stmt>
              <comment type="block" pos:line="218" pos:column="15">/* we did the full CONNECT treatment, go COMPLETE */</comment>
              <expr_stmt><expr><name><name pos:line="219" pos:column="15">s<pos:position pos:line="219" pos:column="16"/></name><operator pos:line="219" pos:column="16">-&gt;<pos:position pos:line="219" pos:column="21"/></operator><name pos:line="219" pos:column="18">tunnel_state<pos:position pos:line="219" pos:column="30"/></name></name> <operator pos:line="219" pos:column="31">=<pos:position pos:line="219" pos:column="32"/></operator> <name pos:line="219" pos:column="33">TUNNEL_COMPLETE<pos:position pos:line="219" pos:column="48"/></name></expr>;<pos:position pos:line="219" pos:column="49"/></expr_stmt>
            }<pos:position pos:line="220" pos:column="14"/></block></then></if>
          }<pos:position pos:line="221" pos:column="12"/></block></else></if>
          <continue pos:line="222" pos:column="11">continue;<pos:position pos:line="222" pos:column="20"/></continue>
        }<pos:position pos:line="223" pos:column="10"/></block></then></if>

        <expr_stmt><expr><name><name pos:line="225" pos:column="9">s<pos:position pos:line="225" pos:column="10"/></name><operator pos:line="225" pos:column="10">-&gt;<pos:position pos:line="225" pos:column="15"/></operator><name pos:line="225" pos:column="12">perline<pos:position pos:line="225" pos:column="19"/></name></name><operator pos:line="225" pos:column="19">++<pos:position pos:line="225" pos:column="21"/></operator></expr>;<pos:position pos:line="225" pos:column="22"/></expr_stmt> <comment type="block" pos:line="225" pos:column="23">/* amount of bytes in this line so far */</comment>

        <comment type="block" pos:line="227" pos:column="9">/* if this is not the end of a header line then continue */</comment>
        <if pos:line="228" pos:column="9">if<condition pos:line="228" pos:column="11">(<expr><operator pos:line="228" pos:column="12">*<pos:position pos:line="228" pos:column="13"/></operator><name><name pos:line="228" pos:column="13">s<pos:position pos:line="228" pos:column="14"/></name><operator pos:line="228" pos:column="14">-&gt;<pos:position pos:line="228" pos:column="19"/></operator><name pos:line="228" pos:column="16">ptr<pos:position pos:line="228" pos:column="19"/></name></name> <operator pos:line="228" pos:column="20">!=<pos:position pos:line="228" pos:column="22"/></operator> <literal type="number" pos:line="228" pos:column="23">0x0a<pos:position pos:line="228" pos:column="27"/></literal></expr>)<pos:position pos:line="228" pos:column="28"/></condition><then pos:line="228" pos:column="28"> <block pos:line="228" pos:column="29">{
          <expr_stmt><expr><name><name pos:line="229" pos:column="11">s<pos:position pos:line="229" pos:column="12"/></name><operator pos:line="229" pos:column="12">-&gt;<pos:position pos:line="229" pos:column="17"/></operator><name pos:line="229" pos:column="14">ptr<pos:position pos:line="229" pos:column="17"/></name></name><operator pos:line="229" pos:column="17">++<pos:position pos:line="229" pos:column="19"/></operator></expr>;<pos:position pos:line="229" pos:column="20"/></expr_stmt>
          <continue pos:line="230" pos:column="11">continue;<pos:position pos:line="230" pos:column="20"/></continue>
        }<pos:position pos:line="231" pos:column="10"/></block></then></if>

        <comment type="block" pos:line="233" pos:column="9">/* convert from the network encoding */</comment>
        <expr_stmt><expr><name pos:line="234" pos:column="9">result<pos:position pos:line="234" pos:column="15"/></name> <operator pos:line="234" pos:column="16">=<pos:position pos:line="234" pos:column="17"/></operator> <call><name pos:line="234" pos:column="18">Curl_convert_from_network<pos:position pos:line="234" pos:column="43"/></name><argument_list pos:line="234" pos:column="43">(<argument><expr><name pos:line="234" pos:column="44">data<pos:position pos:line="234" pos:column="48"/></name></expr></argument>, <argument><expr><name><name pos:line="234" pos:column="50">s<pos:position pos:line="234" pos:column="51"/></name><operator pos:line="234" pos:column="51">-&gt;<pos:position pos:line="234" pos:column="56"/></operator><name pos:line="234" pos:column="53">line_start<pos:position pos:line="234" pos:column="63"/></name></name></expr></argument>,
                                           <argument><expr><operator pos:line="235" pos:column="44">(<pos:position pos:line="235" pos:column="45"/></operator><name pos:line="235" pos:column="45">size_t<pos:position pos:line="235" pos:column="51"/></name><operator pos:line="235" pos:column="51">)<pos:position pos:line="235" pos:column="52"/></operator><name><name pos:line="235" pos:column="52">s<pos:position pos:line="235" pos:column="53"/></name><operator pos:line="235" pos:column="53">-&gt;<pos:position pos:line="235" pos:column="58"/></operator><name pos:line="235" pos:column="55">perline<pos:position pos:line="235" pos:column="62"/></name></name></expr></argument>)<pos:position pos:line="235" pos:column="63"/></argument_list></call></expr>;<pos:position pos:line="235" pos:column="64"/></expr_stmt>
        <comment type="block" pos:line="236" pos:column="9">/* Curl_convert_from_network calls failf if unsuccessful */</comment>
        <if pos:line="237" pos:column="9">if<condition pos:line="237" pos:column="11">(<expr><name pos:line="237" pos:column="12">result<pos:position pos:line="237" pos:column="18"/></name></expr>)<pos:position pos:line="237" pos:column="19"/></condition><then pos:line="237" pos:column="19">
          <block type="pseudo"><return pos:line="238" pos:column="11">return <expr><name pos:line="238" pos:column="18">result<pos:position pos:line="238" pos:column="24"/></name></expr>;<pos:position pos:line="238" pos:column="25"/></return></block></then></if>

        <comment type="block" pos:line="240" pos:column="9">/* output debug if that is requested */</comment>
        <if pos:line="241" pos:column="9">if<condition pos:line="241" pos:column="11">(<expr><name><name pos:line="241" pos:column="12">data<pos:position pos:line="241" pos:column="16"/></name><operator pos:line="241" pos:column="16">-&gt;<pos:position pos:line="241" pos:column="21"/></operator><name pos:line="241" pos:column="18">set<pos:position pos:line="241" pos:column="21"/></name><operator pos:line="241" pos:column="21">.<pos:position pos:line="241" pos:column="22"/></operator><name pos:line="241" pos:column="22">verbose<pos:position pos:line="241" pos:column="29"/></name></name></expr>)<pos:position pos:line="241" pos:column="30"/></condition><then pos:line="241" pos:column="30">
          <block type="pseudo"><expr_stmt><expr><call><name pos:line="242" pos:column="11">Curl_debug<pos:position pos:line="242" pos:column="21"/></name><argument_list pos:line="242" pos:column="21">(<argument><expr><name pos:line="242" pos:column="22">data<pos:position pos:line="242" pos:column="26"/></name></expr></argument>, <argument><expr><name pos:line="242" pos:column="28">CURLINFO_HEADER_IN<pos:position pos:line="242" pos:column="46"/></name></expr></argument>,
                     <argument><expr><name><name pos:line="243" pos:column="22">s<pos:position pos:line="243" pos:column="23"/></name><operator pos:line="243" pos:column="23">-&gt;<pos:position pos:line="243" pos:column="28"/></operator><name pos:line="243" pos:column="25">line_start<pos:position pos:line="243" pos:column="35"/></name></name></expr></argument>, <argument><expr><operator pos:line="243" pos:column="37">(<pos:position pos:line="243" pos:column="38"/></operator><name pos:line="243" pos:column="38">size_t<pos:position pos:line="243" pos:column="44"/></name><operator pos:line="243" pos:column="44">)<pos:position pos:line="243" pos:column="45"/></operator><name><name pos:line="243" pos:column="45">s<pos:position pos:line="243" pos:column="46"/></name><operator pos:line="243" pos:column="46">-&gt;<pos:position pos:line="243" pos:column="51"/></operator><name pos:line="243" pos:column="48">perline<pos:position pos:line="243" pos:column="55"/></name></name></expr></argument>, <argument><expr><name pos:line="243" pos:column="57">conn<pos:position pos:line="243" pos:column="61"/></name></expr></argument>)<pos:position pos:line="243" pos:column="62"/></argument_list></call></expr>;<pos:position pos:line="243" pos:column="63"/></expr_stmt></block></then></if>

        <if pos:line="245" pos:column="9">if<condition pos:line="245" pos:column="11">(<expr><operator pos:line="245" pos:column="12">!<pos:position pos:line="245" pos:column="13"/></operator><name><name pos:line="245" pos:column="13">data<pos:position pos:line="245" pos:column="17"/></name><operator pos:line="245" pos:column="17">-&gt;<pos:position pos:line="245" pos:column="22"/></operator><name pos:line="245" pos:column="19">set<pos:position pos:line="245" pos:column="22"/></name><operator pos:line="245" pos:column="22">.<pos:position pos:line="245" pos:column="23"/></operator><name pos:line="245" pos:column="23">suppress_connect_headers<pos:position pos:line="245" pos:column="47"/></name></name></expr>)<pos:position pos:line="245" pos:column="48"/></condition><then pos:line="245" pos:column="48"> <block pos:line="245" pos:column="49">{
          <comment type="block" pos:line="246" pos:column="11">/* send the header to the callback */</comment>
          <decl_stmt><decl><type><name pos:line="247" pos:column="11">int<pos:position pos:line="247" pos:column="14"/></name></type> <name pos:line="247" pos:column="15">writetype<pos:position pos:line="247" pos:column="24"/></name> <init pos:line="247" pos:column="25">= <expr><name pos:line="247" pos:column="27">CLIENTWRITE_HEADER<pos:position pos:line="247" pos:column="45"/></name></expr></init></decl>;<pos:position pos:line="247" pos:column="46"/></decl_stmt>
          <if pos:line="248" pos:column="11">if<condition pos:line="248" pos:column="13">(<expr><name><name pos:line="248" pos:column="14">data<pos:position pos:line="248" pos:column="18"/></name><operator pos:line="248" pos:column="18">-&gt;<pos:position pos:line="248" pos:column="23"/></operator><name pos:line="248" pos:column="20">set<pos:position pos:line="248" pos:column="23"/></name><operator pos:line="248" pos:column="23">.<pos:position pos:line="248" pos:column="24"/></operator><name pos:line="248" pos:column="24">include_header<pos:position pos:line="248" pos:column="38"/></name></name></expr>)<pos:position pos:line="248" pos:column="39"/></condition><then pos:line="248" pos:column="39">
            <block type="pseudo"><expr_stmt><expr><name pos:line="249" pos:column="13">writetype<pos:position pos:line="249" pos:column="22"/></name> <operator pos:line="249" pos:column="23">|=<pos:position pos:line="249" pos:column="25"/></operator> <name pos:line="249" pos:column="26">CLIENTWRITE_BODY<pos:position pos:line="249" pos:column="42"/></name></expr>;<pos:position pos:line="249" pos:column="43"/></expr_stmt></block></then></if>

          <expr_stmt><expr><name pos:line="251" pos:column="11">result<pos:position pos:line="251" pos:column="17"/></name> <operator pos:line="251" pos:column="18">=<pos:position pos:line="251" pos:column="19"/></operator> <call><name pos:line="251" pos:column="20">Curl_client_write<pos:position pos:line="251" pos:column="37"/></name><argument_list pos:line="251" pos:column="37">(<argument><expr><name pos:line="251" pos:column="38">conn<pos:position pos:line="251" pos:column="42"/></name></expr></argument>, <argument><expr><name pos:line="251" pos:column="44">writetype<pos:position pos:line="251" pos:column="53"/></name></expr></argument>,
                                     <argument><expr><name><name pos:line="252" pos:column="38">s<pos:position pos:line="252" pos:column="39"/></name><operator pos:line="252" pos:column="39">-&gt;<pos:position pos:line="252" pos:column="44"/></operator><name pos:line="252" pos:column="41">line_start<pos:position pos:line="252" pos:column="51"/></name></name></expr></argument>, <argument><expr><name><name pos:line="252" pos:column="53">s<pos:position pos:line="252" pos:column="54"/></name><operator pos:line="252" pos:column="54">-&gt;<pos:position pos:line="252" pos:column="59"/></operator><name pos:line="252" pos:column="56">perline<pos:position pos:line="252" pos:column="63"/></name></name></expr></argument>)<pos:position pos:line="252" pos:column="64"/></argument_list></call></expr>;<pos:position pos:line="252" pos:column="65"/></expr_stmt>
          <if pos:line="253" pos:column="11">if<condition pos:line="253" pos:column="13">(<expr><name pos:line="253" pos:column="14">result<pos:position pos:line="253" pos:column="20"/></name></expr>)<pos:position pos:line="253" pos:column="21"/></condition><then pos:line="253" pos:column="21">
            <block type="pseudo"><return pos:line="254" pos:column="13">return <expr><name pos:line="254" pos:column="20">result<pos:position pos:line="254" pos:column="26"/></name></expr>;<pos:position pos:line="254" pos:column="27"/></return></block></then></if>
        }<pos:position pos:line="255" pos:column="10"/></block></then></if>

        <expr_stmt><expr><name><name pos:line="257" pos:column="9">data<pos:position pos:line="257" pos:column="13"/></name><operator pos:line="257" pos:column="13">-&gt;<pos:position pos:line="257" pos:column="18"/></operator><name pos:line="257" pos:column="15">info<pos:position pos:line="257" pos:column="19"/></name><operator pos:line="257" pos:column="19">.<pos:position pos:line="257" pos:column="20"/></operator><name pos:line="257" pos:column="20">header_size<pos:position pos:line="257" pos:column="31"/></name></name> <operator pos:line="257" pos:column="32">+=<pos:position pos:line="257" pos:column="34"/></operator> <operator pos:line="257" pos:column="35">(<pos:position pos:line="257" pos:column="36"/></operator><name pos:line="257" pos:column="36">long<pos:position pos:line="257" pos:column="40"/></name><operator pos:line="257" pos:column="40">)<pos:position pos:line="257" pos:column="41"/></operator><name><name pos:line="257" pos:column="41">s<pos:position pos:line="257" pos:column="42"/></name><operator pos:line="257" pos:column="42">-&gt;<pos:position pos:line="257" pos:column="47"/></operator><name pos:line="257" pos:column="44">perline<pos:position pos:line="257" pos:column="51"/></name></name></expr>;<pos:position pos:line="257" pos:column="52"/></expr_stmt>
        <expr_stmt><expr><name><name pos:line="258" pos:column="9">data<pos:position pos:line="258" pos:column="13"/></name><operator pos:line="258" pos:column="13">-&gt;<pos:position pos:line="258" pos:column="18"/></operator><name pos:line="258" pos:column="15">req<pos:position pos:line="258" pos:column="18"/></name><operator pos:line="258" pos:column="18">.<pos:position pos:line="258" pos:column="19"/></operator><name pos:line="258" pos:column="19">headerbytecount<pos:position pos:line="258" pos:column="34"/></name></name> <operator pos:line="258" pos:column="35">+=<pos:position pos:line="258" pos:column="37"/></operator> <operator pos:line="258" pos:column="38">(<pos:position pos:line="258" pos:column="39"/></operator><name pos:line="258" pos:column="39">long<pos:position pos:line="258" pos:column="43"/></name><operator pos:line="258" pos:column="43">)<pos:position pos:line="258" pos:column="44"/></operator><name><name pos:line="258" pos:column="44">s<pos:position pos:line="258" pos:column="45"/></name><operator pos:line="258" pos:column="45">-&gt;<pos:position pos:line="258" pos:column="50"/></operator><name pos:line="258" pos:column="47">perline<pos:position pos:line="258" pos:column="54"/></name></name></expr>;<pos:position pos:line="258" pos:column="55"/></expr_stmt>

        <comment type="block" pos:line="260" pos:column="9">/* Newlines are CRLF, so the CR is ignored as the line isn't
           really terminated until the LF comes. Treat a following CR
           as end-of-headers as well.*/</comment>

        <if pos:line="264" pos:column="9">if<condition pos:line="264" pos:column="11">(<expr><operator pos:line="264" pos:column="12">(<pos:position pos:line="264" pos:column="13"/></operator><literal type="char" pos:line="264" pos:column="13">'\r'<pos:position pos:line="264" pos:column="17"/></literal> <operator pos:line="264" pos:column="18">==<pos:position pos:line="264" pos:column="20"/></operator> <name><name pos:line="264" pos:column="21">s<pos:position pos:line="264" pos:column="22"/></name><operator pos:line="264" pos:column="22">-&gt;<pos:position pos:line="264" pos:column="27"/></operator><name pos:line="264" pos:column="24">line_start<pos:position pos:line="264" pos:column="34"/></name><index pos:line="264" pos:column="34">[<expr><literal type="number" pos:line="264" pos:column="35">0<pos:position pos:line="264" pos:column="36"/></literal></expr>]<pos:position pos:line="264" pos:column="37"/></index></name><operator pos:line="264" pos:column="37">)<pos:position pos:line="264" pos:column="38"/></operator> <operator pos:line="264" pos:column="39">||<pos:position pos:line="264" pos:column="41"/></operator>
           <operator pos:line="265" pos:column="12">(<pos:position pos:line="265" pos:column="13"/></operator><literal type="char" pos:line="265" pos:column="13">'\n'<pos:position pos:line="265" pos:column="17"/></literal> <operator pos:line="265" pos:column="18">==<pos:position pos:line="265" pos:column="20"/></operator> <name><name pos:line="265" pos:column="21">s<pos:position pos:line="265" pos:column="22"/></name><operator pos:line="265" pos:column="22">-&gt;<pos:position pos:line="265" pos:column="27"/></operator><name pos:line="265" pos:column="24">line_start<pos:position pos:line="265" pos:column="34"/></name><index pos:line="265" pos:column="34">[<expr><literal type="number" pos:line="265" pos:column="35">0<pos:position pos:line="265" pos:column="36"/></literal></expr>]<pos:position pos:line="265" pos:column="37"/></index></name><operator pos:line="265" pos:column="37">)<pos:position pos:line="265" pos:column="38"/></operator></expr>)<pos:position pos:line="265" pos:column="39"/></condition><then pos:line="265" pos:column="39"> <block pos:line="265" pos:column="40">{
          <comment type="block" pos:line="266" pos:column="11">/* end of response-headers from the proxy */</comment>
          <expr_stmt><expr><name><name pos:line="267" pos:column="11">s<pos:position pos:line="267" pos:column="12"/></name><operator pos:line="267" pos:column="12">-&gt;<pos:position pos:line="267" pos:column="17"/></operator><name pos:line="267" pos:column="14">ptr<pos:position pos:line="267" pos:column="17"/></name></name> <operator pos:line="267" pos:column="18">=<pos:position pos:line="267" pos:column="19"/></operator> <name><name pos:line="267" pos:column="20">s<pos:position pos:line="267" pos:column="21"/></name><operator pos:line="267" pos:column="21">-&gt;<pos:position pos:line="267" pos:column="26"/></operator><name pos:line="267" pos:column="23">connect_buffer<pos:position pos:line="267" pos:column="37"/></name></name></expr>;<pos:position pos:line="267" pos:column="38"/></expr_stmt>
          <if pos:line="268" pos:column="11">if<condition pos:line="268" pos:column="13">(<expr><operator pos:line="268" pos:column="14">(<pos:position pos:line="268" pos:column="15"/></operator><literal type="number" pos:line="268" pos:column="15">407<pos:position pos:line="268" pos:column="18"/></literal> <operator pos:line="268" pos:column="19">==<pos:position pos:line="268" pos:column="21"/></operator> <name><name pos:line="268" pos:column="22">k<pos:position pos:line="268" pos:column="23"/></name><operator pos:line="268" pos:column="23">-&gt;<pos:position pos:line="268" pos:column="28"/></operator><name pos:line="268" pos:column="25">httpcode<pos:position pos:line="268" pos:column="33"/></name></name><operator pos:line="268" pos:column="33">)<pos:position pos:line="268" pos:column="34"/></operator> <operator pos:line="268" pos:column="35">&amp;&amp;<pos:position pos:line="268" pos:column="45"/></operator> <operator pos:line="268" pos:column="38">!<pos:position pos:line="268" pos:column="39"/></operator><name><name pos:line="268" pos:column="39">data<pos:position pos:line="268" pos:column="43"/></name><operator pos:line="268" pos:column="43">-&gt;<pos:position pos:line="268" pos:column="48"/></operator><name pos:line="268" pos:column="45">state<pos:position pos:line="268" pos:column="50"/></name><operator pos:line="268" pos:column="50">.<pos:position pos:line="268" pos:column="51"/></operator><name pos:line="268" pos:column="51">authproblem<pos:position pos:line="268" pos:column="62"/></name></name></expr>)<pos:position pos:line="268" pos:column="63"/></condition><then pos:line="268" pos:column="63"> <block pos:line="268" pos:column="64">{
            <comment type="block" pos:line="269" pos:column="13">/* If we get a 407 response code with content length
               when we have no auth problem, we must ignore the
               whole response-body */</comment>
            <expr_stmt><expr><name><name pos:line="272" pos:column="13">s<pos:position pos:line="272" pos:column="14"/></name><operator pos:line="272" pos:column="14">-&gt;<pos:position pos:line="272" pos:column="19"/></operator><name pos:line="272" pos:column="16">keepon<pos:position pos:line="272" pos:column="22"/></name></name> <operator pos:line="272" pos:column="23">=<pos:position pos:line="272" pos:column="24"/></operator> <literal type="number" pos:line="272" pos:column="25">2<pos:position pos:line="272" pos:column="26"/></literal></expr>;<pos:position pos:line="272" pos:column="27"/></expr_stmt>

            <if pos:line="274" pos:column="13">if<condition pos:line="274" pos:column="15">(<expr><name><name pos:line="274" pos:column="16">s<pos:position pos:line="274" pos:column="17"/></name><operator pos:line="274" pos:column="17">-&gt;<pos:position pos:line="274" pos:column="22"/></operator><name pos:line="274" pos:column="19">cl<pos:position pos:line="274" pos:column="21"/></name></name></expr>)<pos:position pos:line="274" pos:column="22"/></condition><then pos:line="274" pos:column="22"> <block pos:line="274" pos:column="23">{
              <expr_stmt><expr><call><name pos:line="275" pos:column="15">infof<pos:position pos:line="275" pos:column="20"/></name><argument_list pos:line="275" pos:column="20">(<argument><expr><name pos:line="275" pos:column="21">data<pos:position pos:line="275" pos:column="25"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="275" pos:column="27">"Ignore %"<pos:position pos:line="275" pos:column="37"/></literal> <name pos:line="275" pos:column="38">CURL_FORMAT_CURL_OFF_T<pos:position pos:line="275" pos:column="60"/></name>
                    <literal type="string" pos:line="276" pos:column="21">" bytes of response-body\n"<pos:position pos:line="276" pos:column="48"/></literal></expr></argument>, <argument><expr><name><name pos:line="276" pos:column="50">s<pos:position pos:line="276" pos:column="51"/></name><operator pos:line="276" pos:column="51">-&gt;<pos:position pos:line="276" pos:column="56"/></operator><name pos:line="276" pos:column="53">cl<pos:position pos:line="276" pos:column="55"/></name></name></expr></argument>)<pos:position pos:line="276" pos:column="56"/></argument_list></call></expr>;<pos:position pos:line="276" pos:column="57"/></expr_stmt>
            }<pos:position pos:line="277" pos:column="14"/></block></then>
            <elseif pos:line="278" pos:column="13">else <if pos:line="278" pos:column="18">if<condition pos:line="278" pos:column="20">(<expr><name><name pos:line="278" pos:column="21">s<pos:position pos:line="278" pos:column="22"/></name><operator pos:line="278" pos:column="22">-&gt;<pos:position pos:line="278" pos:column="27"/></operator><name pos:line="278" pos:column="24">chunked_encoding<pos:position pos:line="278" pos:column="40"/></name></name></expr>)<pos:position pos:line="278" pos:column="41"/></condition><then pos:line="278" pos:column="41"> <block pos:line="278" pos:column="42">{
              <decl_stmt><decl><type><name pos:line="279" pos:column="15">CHUNKcode<pos:position pos:line="279" pos:column="24"/></name></type> <name pos:line="279" pos:column="25">r<pos:position pos:line="279" pos:column="26"/></name></decl>;<pos:position pos:line="279" pos:column="27"/></decl_stmt>

              <expr_stmt><expr><call><name pos:line="281" pos:column="15">infof<pos:position pos:line="281" pos:column="20"/></name><argument_list pos:line="281" pos:column="20">(<argument><expr><name pos:line="281" pos:column="21">data<pos:position pos:line="281" pos:column="25"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="281" pos:column="27">"Ignore chunked response-body\n"<pos:position pos:line="281" pos:column="59"/></literal></expr></argument>)<pos:position pos:line="281" pos:column="60"/></argument_list></call></expr>;<pos:position pos:line="281" pos:column="61"/></expr_stmt>

              <comment type="block" pos:line="283" pos:column="15">/* We set ignorebody true here since the chunked
                 decoder function will acknowledge that. Pay
                 attention so that this is cleared again when this
                 function returns! */</comment>
              <expr_stmt><expr><name><name pos:line="287" pos:column="15">k<pos:position pos:line="287" pos:column="16"/></name><operator pos:line="287" pos:column="16">-&gt;<pos:position pos:line="287" pos:column="21"/></operator><name pos:line="287" pos:column="18">ignorebody<pos:position pos:line="287" pos:column="28"/></name></name> <operator pos:line="287" pos:column="29">=<pos:position pos:line="287" pos:column="30"/></operator> <name pos:line="287" pos:column="31">TRUE<pos:position pos:line="287" pos:column="35"/></name></expr>;<pos:position pos:line="287" pos:column="36"/></expr_stmt>

              <if pos:line="289" pos:column="15">if<condition pos:line="289" pos:column="17">(<expr><name><name pos:line="289" pos:column="18">s<pos:position pos:line="289" pos:column="19"/></name><operator pos:line="289" pos:column="19">-&gt;<pos:position pos:line="289" pos:column="24"/></operator><name pos:line="289" pos:column="21">line_start<pos:position pos:line="289" pos:column="31"/></name><index pos:line="289" pos:column="31">[<expr><literal type="number" pos:line="289" pos:column="32">1<pos:position pos:line="289" pos:column="33"/></literal></expr>]<pos:position pos:line="289" pos:column="34"/></index></name> <operator pos:line="289" pos:column="35">==<pos:position pos:line="289" pos:column="37"/></operator> <literal type="char" pos:line="289" pos:column="38">'\n'<pos:position pos:line="289" pos:column="42"/></literal></expr>)<pos:position pos:line="289" pos:column="43"/></condition><then pos:line="289" pos:column="43"> <block pos:line="289" pos:column="44">{
                <comment type="block" pos:line="290" pos:column="17">/* this can only be a LF if the letter at index 0
                   was a CR */</comment>
                <expr_stmt><expr><name><name pos:line="292" pos:column="17">s<pos:position pos:line="292" pos:column="18"/></name><operator pos:line="292" pos:column="18">-&gt;<pos:position pos:line="292" pos:column="23"/></operator><name pos:line="292" pos:column="20">line_start<pos:position pos:line="292" pos:column="30"/></name></name><operator pos:line="292" pos:column="30">++<pos:position pos:line="292" pos:column="32"/></operator></expr>;<pos:position pos:line="292" pos:column="33"/></expr_stmt>
              }<pos:position pos:line="293" pos:column="16"/></block></then></if>

              <comment type="block" pos:line="295" pos:column="15">/* now parse the chunked piece of data so that we can
                 properly tell when the stream ends */</comment>
              <expr_stmt><expr><name pos:line="297" pos:column="15">r<pos:position pos:line="297" pos:column="16"/></name> <operator pos:line="297" pos:column="17">=<pos:position pos:line="297" pos:column="18"/></operator> <call><name pos:line="297" pos:column="19">Curl_httpchunk_read<pos:position pos:line="297" pos:column="38"/></name><argument_list pos:line="297" pos:column="38">(<argument><expr><name pos:line="297" pos:column="39">conn<pos:position pos:line="297" pos:column="43"/></name></expr></argument>, <argument><expr><name><name pos:line="297" pos:column="45">s<pos:position pos:line="297" pos:column="46"/></name><operator pos:line="297" pos:column="46">-&gt;<pos:position pos:line="297" pos:column="51"/></operator><name pos:line="297" pos:column="48">line_start<pos:position pos:line="297" pos:column="58"/></name></name> <operator pos:line="297" pos:column="59">+<pos:position pos:line="297" pos:column="60"/></operator> <literal type="number" pos:line="297" pos:column="61">1<pos:position pos:line="297" pos:column="62"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="297" pos:column="64">1<pos:position pos:line="297" pos:column="65"/></literal></expr></argument>, <argument><expr><operator pos:line="297" pos:column="67">&amp;<pos:position pos:line="297" pos:column="72"/></operator><name pos:line="297" pos:column="68">gotbytes<pos:position pos:line="297" pos:column="76"/></name></expr></argument>)<pos:position pos:line="297" pos:column="77"/></argument_list></call></expr>;<pos:position pos:line="297" pos:column="78"/></expr_stmt>
              <if pos:line="298" pos:column="15">if<condition pos:line="298" pos:column="17">(<expr><name pos:line="298" pos:column="18">r<pos:position pos:line="298" pos:column="19"/></name> <operator pos:line="298" pos:column="20">==<pos:position pos:line="298" pos:column="22"/></operator> <name pos:line="298" pos:column="23">CHUNKE_STOP<pos:position pos:line="298" pos:column="34"/></name></expr>)<pos:position pos:line="298" pos:column="35"/></condition><then pos:line="298" pos:column="35"> <block pos:line="298" pos:column="36">{
                <comment type="block" pos:line="299" pos:column="17">/* we're done reading chunks! */</comment>
                <expr_stmt><expr><call><name pos:line="300" pos:column="17">infof<pos:position pos:line="300" pos:column="22"/></name><argument_list pos:line="300" pos:column="22">(<argument><expr><name pos:line="300" pos:column="23">data<pos:position pos:line="300" pos:column="27"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="300" pos:column="29">"chunk reading DONE\n"<pos:position pos:line="300" pos:column="51"/></literal></expr></argument>)<pos:position pos:line="300" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="300" pos:column="53"/></expr_stmt>
                <expr_stmt><expr><name><name pos:line="301" pos:column="17">s<pos:position pos:line="301" pos:column="18"/></name><operator pos:line="301" pos:column="18">-&gt;<pos:position pos:line="301" pos:column="23"/></operator><name pos:line="301" pos:column="20">keepon<pos:position pos:line="301" pos:column="26"/></name></name> <operator pos:line="301" pos:column="27">=<pos:position pos:line="301" pos:column="28"/></operator> <name pos:line="301" pos:column="29">FALSE<pos:position pos:line="301" pos:column="34"/></name></expr>;<pos:position pos:line="301" pos:column="35"/></expr_stmt>
                <comment type="block" pos:line="302" pos:column="17">/* we did the full CONNECT treatment, go to COMPLETE */</comment>
                <expr_stmt><expr><name><name pos:line="303" pos:column="17">s<pos:position pos:line="303" pos:column="18"/></name><operator pos:line="303" pos:column="18">-&gt;<pos:position pos:line="303" pos:column="23"/></operator><name pos:line="303" pos:column="20">tunnel_state<pos:position pos:line="303" pos:column="32"/></name></name> <operator pos:line="303" pos:column="33">=<pos:position pos:line="303" pos:column="34"/></operator> <name pos:line="303" pos:column="35">TUNNEL_COMPLETE<pos:position pos:line="303" pos:column="50"/></name></expr>;<pos:position pos:line="303" pos:column="51"/></expr_stmt>
              }<pos:position pos:line="304" pos:column="16"/></block></then></if>
            }<pos:position pos:line="305" pos:column="14"/></block></then></if></elseif>
            <else pos:line="306" pos:column="13">else <block pos:line="306" pos:column="18">{
              <comment type="block" pos:line="307" pos:column="15">/* without content-length or chunked encoding, we
                 can't keep the connection alive since the close is
                 the end signal so we bail out at once instead */</comment>
              <expr_stmt><expr><name><name pos:line="310" pos:column="15">s<pos:position pos:line="310" pos:column="16"/></name><operator pos:line="310" pos:column="16">-&gt;<pos:position pos:line="310" pos:column="21"/></operator><name pos:line="310" pos:column="18">keepon<pos:position pos:line="310" pos:column="24"/></name></name> <operator pos:line="310" pos:column="25">=<pos:position pos:line="310" pos:column="26"/></operator> <name pos:line="310" pos:column="27">FALSE<pos:position pos:line="310" pos:column="32"/></name></expr>;<pos:position pos:line="310" pos:column="33"/></expr_stmt>
            }<pos:position pos:line="311" pos:column="14"/></block></else></if>
          }<pos:position pos:line="312" pos:column="12"/></block></then>
          <else pos:line="313" pos:column="11">else
            <block type="pseudo"><expr_stmt><expr><name><name pos:line="314" pos:column="13">s<pos:position pos:line="314" pos:column="14"/></name><operator pos:line="314" pos:column="14">-&gt;<pos:position pos:line="314" pos:column="19"/></operator><name pos:line="314" pos:column="16">keepon<pos:position pos:line="314" pos:column="22"/></name></name> <operator pos:line="314" pos:column="23">=<pos:position pos:line="314" pos:column="24"/></operator> <name pos:line="314" pos:column="25">FALSE<pos:position pos:line="314" pos:column="30"/></name></expr>;<pos:position pos:line="314" pos:column="31"/></expr_stmt></block></else></if>
          <if pos:line="315" pos:column="11">if<condition pos:line="315" pos:column="13">(<expr><operator pos:line="315" pos:column="14">!<pos:position pos:line="315" pos:column="15"/></operator><name><name pos:line="315" pos:column="15">s<pos:position pos:line="315" pos:column="16"/></name><operator pos:line="315" pos:column="16">-&gt;<pos:position pos:line="315" pos:column="21"/></operator><name pos:line="315" pos:column="18">cl<pos:position pos:line="315" pos:column="20"/></name></name></expr>)<pos:position pos:line="315" pos:column="21"/></condition><then pos:line="315" pos:column="21">
            <comment type="block" pos:line="316" pos:column="13">/* we did the full CONNECT treatment, go to COMPLETE */</comment>
            <block type="pseudo"><expr_stmt><expr><name><name pos:line="317" pos:column="13">s<pos:position pos:line="317" pos:column="14"/></name><operator pos:line="317" pos:column="14">-&gt;<pos:position pos:line="317" pos:column="19"/></operator><name pos:line="317" pos:column="16">tunnel_state<pos:position pos:line="317" pos:column="28"/></name></name> <operator pos:line="317" pos:column="29">=<pos:position pos:line="317" pos:column="30"/></operator> <name pos:line="317" pos:column="31">TUNNEL_COMPLETE<pos:position pos:line="317" pos:column="46"/></name></expr>;<pos:position pos:line="317" pos:column="47"/></expr_stmt></block></then></if>
          <continue pos:line="318" pos:column="11">continue;<pos:position pos:line="318" pos:column="20"/></continue>
        }<pos:position pos:line="319" pos:column="10"/></block></then></if>

        <expr_stmt><expr><name><name pos:line="321" pos:column="9">s<pos:position pos:line="321" pos:column="10"/></name><operator pos:line="321" pos:column="10">-&gt;<pos:position pos:line="321" pos:column="15"/></operator><name pos:line="321" pos:column="12">line_start<pos:position pos:line="321" pos:column="22"/></name><index pos:line="321" pos:column="22">[<expr><name><name pos:line="321" pos:column="23">s<pos:position pos:line="321" pos:column="24"/></name><operator pos:line="321" pos:column="24">-&gt;<pos:position pos:line="321" pos:column="29"/></operator><name pos:line="321" pos:column="26">perline<pos:position pos:line="321" pos:column="33"/></name></name></expr>]<pos:position pos:line="321" pos:column="34"/></index></name> <operator pos:line="321" pos:column="35">=<pos:position pos:line="321" pos:column="36"/></operator> <literal type="number" pos:line="321" pos:column="37">0<pos:position pos:line="321" pos:column="38"/></literal></expr>;<pos:position pos:line="321" pos:column="39"/></expr_stmt> <comment type="block" pos:line="321" pos:column="40">/* zero terminate the buffer */</comment>
        <if pos:line="322" pos:column="9">if<condition pos:line="322" pos:column="11">(<expr><operator pos:line="322" pos:column="12">(<pos:position pos:line="322" pos:column="13"/></operator><call><name pos:line="322" pos:column="13">checkprefix<pos:position pos:line="322" pos:column="24"/></name><argument_list pos:line="322" pos:column="24">(<argument><expr><literal type="string" pos:line="322" pos:column="25">"WWW-Authenticate:"<pos:position pos:line="322" pos:column="44"/></literal></expr></argument>, <argument><expr><name><name pos:line="322" pos:column="46">s<pos:position pos:line="322" pos:column="47"/></name><operator pos:line="322" pos:column="47">-&gt;<pos:position pos:line="322" pos:column="52"/></operator><name pos:line="322" pos:column="49">line_start<pos:position pos:line="322" pos:column="59"/></name></name></expr></argument>)<pos:position pos:line="322" pos:column="60"/></argument_list></call> <operator pos:line="322" pos:column="61">&amp;&amp;<pos:position pos:line="322" pos:column="71"/></operator>
            <operator pos:line="323" pos:column="13">(<pos:position pos:line="323" pos:column="14"/></operator><literal type="number" pos:line="323" pos:column="14">401<pos:position pos:line="323" pos:column="17"/></literal> <operator pos:line="323" pos:column="18">==<pos:position pos:line="323" pos:column="20"/></operator> <name><name pos:line="323" pos:column="21">k<pos:position pos:line="323" pos:column="22"/></name><operator pos:line="323" pos:column="22">-&gt;<pos:position pos:line="323" pos:column="27"/></operator><name pos:line="323" pos:column="24">httpcode<pos:position pos:line="323" pos:column="32"/></name></name><operator pos:line="323" pos:column="32">)<pos:position pos:line="323" pos:column="33"/></operator><operator pos:line="323" pos:column="33">)<pos:position pos:line="323" pos:column="34"/></operator> <operator pos:line="323" pos:column="35">||<pos:position pos:line="323" pos:column="37"/></operator>
           <operator pos:line="324" pos:column="12">(<pos:position pos:line="324" pos:column="13"/></operator><call><name pos:line="324" pos:column="13">checkprefix<pos:position pos:line="324" pos:column="24"/></name><argument_list pos:line="324" pos:column="24">(<argument><expr><literal type="string" pos:line="324" pos:column="25">"Proxy-authenticate:"<pos:position pos:line="324" pos:column="46"/></literal></expr></argument>, <argument><expr><name><name pos:line="324" pos:column="48">s<pos:position pos:line="324" pos:column="49"/></name><operator pos:line="324" pos:column="49">-&gt;<pos:position pos:line="324" pos:column="54"/></operator><name pos:line="324" pos:column="51">line_start<pos:position pos:line="324" pos:column="61"/></name></name></expr></argument>)<pos:position pos:line="324" pos:column="62"/></argument_list></call> <operator pos:line="324" pos:column="63">&amp;&amp;<pos:position pos:line="324" pos:column="73"/></operator>
            <operator pos:line="325" pos:column="13">(<pos:position pos:line="325" pos:column="14"/></operator><literal type="number" pos:line="325" pos:column="14">407<pos:position pos:line="325" pos:column="17"/></literal> <operator pos:line="325" pos:column="18">==<pos:position pos:line="325" pos:column="20"/></operator> <name><name pos:line="325" pos:column="21">k<pos:position pos:line="325" pos:column="22"/></name><operator pos:line="325" pos:column="22">-&gt;<pos:position pos:line="325" pos:column="27"/></operator><name pos:line="325" pos:column="24">httpcode<pos:position pos:line="325" pos:column="32"/></name></name><operator pos:line="325" pos:column="32">)<pos:position pos:line="325" pos:column="33"/></operator><operator pos:line="325" pos:column="33">)<pos:position pos:line="325" pos:column="34"/></operator></expr>)<pos:position pos:line="325" pos:column="35"/></condition><then pos:line="325" pos:column="35"> <block pos:line="325" pos:column="36">{

          <decl_stmt><decl><type><name pos:line="327" pos:column="11">bool<pos:position pos:line="327" pos:column="15"/></name></type> <name pos:line="327" pos:column="16">proxy<pos:position pos:line="327" pos:column="21"/></name> <init pos:line="327" pos:column="22">= <expr><ternary><condition><expr><operator pos:line="327" pos:column="24">(<pos:position pos:line="327" pos:column="25"/></operator><name><name pos:line="327" pos:column="25">k<pos:position pos:line="327" pos:column="26"/></name><operator pos:line="327" pos:column="26">-&gt;<pos:position pos:line="327" pos:column="31"/></operator><name pos:line="327" pos:column="28">httpcode<pos:position pos:line="327" pos:column="36"/></name></name> <operator pos:line="327" pos:column="37">==<pos:position pos:line="327" pos:column="39"/></operator> <literal type="number" pos:line="327" pos:column="40">407<pos:position pos:line="327" pos:column="43"/></literal><operator pos:line="327" pos:column="43">)<pos:position pos:line="327" pos:column="44"/></operator></expr> ?<pos:position pos:line="327" pos:column="46"/></condition><then pos:line="327" pos:column="46"> <expr><name pos:line="327" pos:column="47">TRUE<pos:position pos:line="327" pos:column="51"/></name></expr> <pos:position pos:line="327" pos:column="52"/></then><else pos:line="327" pos:column="52">: <expr><name pos:line="327" pos:column="54">FALSE<pos:position pos:line="327" pos:column="59"/></name></expr></else></ternary></expr></init></decl>;<pos:position pos:line="327" pos:column="60"/></decl_stmt>
          <decl_stmt><decl><type><name pos:line="328" pos:column="11">char<pos:position pos:line="328" pos:column="15"/></name> <modifier pos:line="328" pos:column="16">*<pos:position pos:line="328" pos:column="17"/></modifier></type><name pos:line="328" pos:column="17">auth<pos:position pos:line="328" pos:column="21"/></name> <init pos:line="328" pos:column="22">= <expr><call><name pos:line="328" pos:column="24">Curl_copy_header_value<pos:position pos:line="328" pos:column="46"/></name><argument_list pos:line="328" pos:column="46">(<argument><expr><name><name pos:line="328" pos:column="47">s<pos:position pos:line="328" pos:column="48"/></name><operator pos:line="328" pos:column="48">-&gt;<pos:position pos:line="328" pos:column="53"/></operator><name pos:line="328" pos:column="50">line_start<pos:position pos:line="328" pos:column="60"/></name></name></expr></argument>)<pos:position pos:line="328" pos:column="61"/></argument_list></call></expr></init></decl>;<pos:position pos:line="328" pos:column="62"/></decl_stmt>
          <if pos:line="329" pos:column="11">if<condition pos:line="329" pos:column="13">(<expr><operator pos:line="329" pos:column="14">!<pos:position pos:line="329" pos:column="15"/></operator><name pos:line="329" pos:column="15">auth<pos:position pos:line="329" pos:column="19"/></name></expr>)<pos:position pos:line="329" pos:column="20"/></condition><then pos:line="329" pos:column="20">
            <block type="pseudo"><return pos:line="330" pos:column="13">return <expr><name pos:line="330" pos:column="20">CURLE_OUT_OF_MEMORY<pos:position pos:line="330" pos:column="39"/></name></expr>;<pos:position pos:line="330" pos:column="40"/></return></block></then></if>

          <expr_stmt><expr><name pos:line="332" pos:column="11">result<pos:position pos:line="332" pos:column="17"/></name> <operator pos:line="332" pos:column="18">=<pos:position pos:line="332" pos:column="19"/></operator> <call><name pos:line="332" pos:column="20">Curl_http_input_auth<pos:position pos:line="332" pos:column="40"/></name><argument_list pos:line="332" pos:column="40">(<argument><expr><name pos:line="332" pos:column="41">conn<pos:position pos:line="332" pos:column="45"/></name></expr></argument>, <argument><expr><name pos:line="332" pos:column="47">proxy<pos:position pos:line="332" pos:column="52"/></name></expr></argument>, <argument><expr><name pos:line="332" pos:column="54">auth<pos:position pos:line="332" pos:column="58"/></name></expr></argument>)<pos:position pos:line="332" pos:column="59"/></argument_list></call></expr>;<pos:position pos:line="332" pos:column="60"/></expr_stmt>

          <expr_stmt><expr><call><name pos:line="334" pos:column="11">free<pos:position pos:line="334" pos:column="15"/></name><argument_list pos:line="334" pos:column="15">(<argument><expr><name pos:line="334" pos:column="16">auth<pos:position pos:line="334" pos:column="20"/></name></expr></argument>)<pos:position pos:line="334" pos:column="21"/></argument_list></call></expr>;<pos:position pos:line="334" pos:column="22"/></expr_stmt>

          <if pos:line="336" pos:column="11">if<condition pos:line="336" pos:column="13">(<expr><name pos:line="336" pos:column="14">result<pos:position pos:line="336" pos:column="20"/></name></expr>)<pos:position pos:line="336" pos:column="21"/></condition><then pos:line="336" pos:column="21">
            <block type="pseudo"><return pos:line="337" pos:column="13">return <expr><name pos:line="337" pos:column="20">result<pos:position pos:line="337" pos:column="26"/></name></expr>;<pos:position pos:line="337" pos:column="27"/></return></block></then></if>
        }<pos:position pos:line="338" pos:column="10"/></block></then>
        <elseif pos:line="339" pos:column="9">else <if pos:line="339" pos:column="14">if<condition pos:line="339" pos:column="16">(<expr><call><name pos:line="339" pos:column="17">checkprefix<pos:position pos:line="339" pos:column="28"/></name><argument_list pos:line="339" pos:column="28">(<argument><expr><literal type="string" pos:line="339" pos:column="29">"Content-Length:"<pos:position pos:line="339" pos:column="46"/></literal></expr></argument>, <argument><expr><name><name pos:line="339" pos:column="48">s<pos:position pos:line="339" pos:column="49"/></name><operator pos:line="339" pos:column="49">-&gt;<pos:position pos:line="339" pos:column="54"/></operator><name pos:line="339" pos:column="51">line_start<pos:position pos:line="339" pos:column="61"/></name></name></expr></argument>)<pos:position pos:line="339" pos:column="62"/></argument_list></call></expr>)<pos:position pos:line="339" pos:column="63"/></condition><then pos:line="339" pos:column="63"> <block pos:line="339" pos:column="64">{
          <if pos:line="340" pos:column="11">if<condition pos:line="340" pos:column="13">(<expr><name><name pos:line="340" pos:column="14">k<pos:position pos:line="340" pos:column="15"/></name><operator pos:line="340" pos:column="15">-&gt;<pos:position pos:line="340" pos:column="20"/></operator><name pos:line="340" pos:column="17">httpcode<pos:position pos:line="340" pos:column="25"/></name></name><operator pos:line="340" pos:column="25">/<pos:position pos:line="340" pos:column="26"/></operator><literal type="number" pos:line="340" pos:column="26">100<pos:position pos:line="340" pos:column="29"/></literal> <operator pos:line="340" pos:column="30">==<pos:position pos:line="340" pos:column="32"/></operator> <literal type="number" pos:line="340" pos:column="33">2<pos:position pos:line="340" pos:column="34"/></literal></expr>)<pos:position pos:line="340" pos:column="35"/></condition><then pos:line="340" pos:column="35"> <block pos:line="340" pos:column="36">{
            <comment type="block" pos:line="341" pos:column="13">/* A client MUST ignore any Content-Length or Transfer-Encoding
               header fields received in a successful response to CONNECT.
               "Successful" described as: 2xx (Successful). RFC 7231 4.3.6 */</comment>
            <expr_stmt><expr><call><name pos:line="344" pos:column="13">infof<pos:position pos:line="344" pos:column="18"/></name><argument_list pos:line="344" pos:column="18">(<argument><expr><name pos:line="344" pos:column="19">data<pos:position pos:line="344" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="344" pos:column="25">"Ignoring Content-Length in CONNECT %03d response\n"<pos:position pos:line="344" pos:column="77"/></literal></expr></argument>,
                  <argument><expr><name><name pos:line="345" pos:column="19">k<pos:position pos:line="345" pos:column="20"/></name><operator pos:line="345" pos:column="20">-&gt;<pos:position pos:line="345" pos:column="25"/></operator><name pos:line="345" pos:column="22">httpcode<pos:position pos:line="345" pos:column="30"/></name></name></expr></argument>)<pos:position pos:line="345" pos:column="31"/></argument_list></call></expr>;<pos:position pos:line="345" pos:column="32"/></expr_stmt>
          }<pos:position pos:line="346" pos:column="12"/></block></then>
          <else pos:line="347" pos:column="11">else <block pos:line="347" pos:column="16">{
            <expr_stmt><expr><operator pos:line="348" pos:column="13">(<pos:position pos:line="348" pos:column="14"/></operator><name pos:line="348" pos:column="14">void<pos:position pos:line="348" pos:column="18"/></name><operator pos:line="348" pos:column="18">)<pos:position pos:line="348" pos:column="19"/></operator><call><name pos:line="348" pos:column="19">curlx_strtoofft<pos:position pos:line="348" pos:column="34"/></name><argument_list pos:line="348" pos:column="34">(<argument><expr><name><name pos:line="348" pos:column="35">s<pos:position pos:line="348" pos:column="36"/></name><operator pos:line="348" pos:column="36">-&gt;<pos:position pos:line="348" pos:column="41"/></operator><name pos:line="348" pos:column="38">line_start<pos:position pos:line="348" pos:column="48"/></name></name> <operator pos:line="348" pos:column="49">+<pos:position pos:line="348" pos:column="50"/></operator>
                                  <call><name pos:line="349" pos:column="35">strlen<pos:position pos:line="349" pos:column="41"/></name><argument_list pos:line="349" pos:column="41">(<argument><expr><literal type="string" pos:line="349" pos:column="42">"Content-Length:"<pos:position pos:line="349" pos:column="59"/></literal></expr></argument>)<pos:position pos:line="349" pos:column="60"/></argument_list></call></expr></argument>, <argument><expr><name pos:line="349" pos:column="62">NULL<pos:position pos:line="349" pos:column="66"/></name></expr></argument>, <argument><expr><literal type="number" pos:line="349" pos:column="68">10<pos:position pos:line="349" pos:column="70"/></literal></expr></argument>, <argument><expr><operator pos:line="349" pos:column="72">&amp;<pos:position pos:line="349" pos:column="77"/></operator><name><name pos:line="349" pos:column="73">s<pos:position pos:line="349" pos:column="74"/></name><operator pos:line="349" pos:column="74">-&gt;<pos:position pos:line="349" pos:column="79"/></operator><name pos:line="349" pos:column="76">cl<pos:position pos:line="349" pos:column="78"/></name></name></expr></argument>)<pos:position pos:line="349" pos:column="79"/></argument_list></call></expr>;<pos:position pos:line="349" pos:column="80"/></expr_stmt>
          }<pos:position pos:line="350" pos:column="12"/></block></else></if>
        }<pos:position pos:line="351" pos:column="10"/></block></then></if></elseif>
        <elseif pos:line="352" pos:column="9">else <if pos:line="352" pos:column="14">if<condition pos:line="352" pos:column="16">(<expr><call><name pos:line="352" pos:column="17">Curl_compareheader<pos:position pos:line="352" pos:column="35"/></name><argument_list pos:line="352" pos:column="35">(<argument><expr><name><name pos:line="352" pos:column="36">s<pos:position pos:line="352" pos:column="37"/></name><operator pos:line="352" pos:column="37">-&gt;<pos:position pos:line="352" pos:column="42"/></operator><name pos:line="352" pos:column="39">line_start<pos:position pos:line="352" pos:column="49"/></name></name></expr></argument>, <argument><expr><literal type="string" pos:line="352" pos:column="51">"Connection:"<pos:position pos:line="352" pos:column="64"/></literal></expr></argument>, <argument><expr><literal type="string" pos:line="352" pos:column="66">"close"<pos:position pos:line="352" pos:column="73"/></literal></expr></argument>)<pos:position pos:line="352" pos:column="74"/></argument_list></call></expr>)<pos:position pos:line="352" pos:column="75"/></condition><then pos:line="352" pos:column="75">
          <block type="pseudo"><expr_stmt><expr><name pos:line="353" pos:column="11">closeConnection<pos:position pos:line="353" pos:column="26"/></name> <operator pos:line="353" pos:column="27">=<pos:position pos:line="353" pos:column="28"/></operator> <name pos:line="353" pos:column="29">TRUE<pos:position pos:line="353" pos:column="33"/></name></expr>;<pos:position pos:line="353" pos:column="34"/></expr_stmt></block></then></if></elseif>
        <elseif pos:line="354" pos:column="9">else <if pos:line="354" pos:column="14">if<condition pos:line="354" pos:column="16">(<expr><call><name pos:line="354" pos:column="17">checkprefix<pos:position pos:line="354" pos:column="28"/></name><argument_list pos:line="354" pos:column="28">(<argument><expr><literal type="string" pos:line="354" pos:column="29">"Transfer-Encoding:"<pos:position pos:line="354" pos:column="49"/></literal></expr></argument>, <argument><expr><name><name pos:line="354" pos:column="51">s<pos:position pos:line="354" pos:column="52"/></name><operator pos:line="354" pos:column="52">-&gt;<pos:position pos:line="354" pos:column="57"/></operator><name pos:line="354" pos:column="54">line_start<pos:position pos:line="354" pos:column="64"/></name></name></expr></argument>)<pos:position pos:line="354" pos:column="65"/></argument_list></call></expr>)<pos:position pos:line="354" pos:column="66"/></condition><then pos:line="354" pos:column="66"> <block pos:line="354" pos:column="67">{
          <if pos:line="355" pos:column="11">if<condition pos:line="355" pos:column="13">(<expr><name><name pos:line="355" pos:column="14">k<pos:position pos:line="355" pos:column="15"/></name><operator pos:line="355" pos:column="15">-&gt;<pos:position pos:line="355" pos:column="20"/></operator><name pos:line="355" pos:column="17">httpcode<pos:position pos:line="355" pos:column="25"/></name></name><operator pos:line="355" pos:column="25">/<pos:position pos:line="355" pos:column="26"/></operator><literal type="number" pos:line="355" pos:column="26">100<pos:position pos:line="355" pos:column="29"/></literal> <operator pos:line="355" pos:column="30">==<pos:position pos:line="355" pos:column="32"/></operator> <literal type="number" pos:line="355" pos:column="33">2<pos:position pos:line="355" pos:column="34"/></literal></expr>)<pos:position pos:line="355" pos:column="35"/></condition><then pos:line="355" pos:column="35"> <block pos:line="355" pos:column="36">{
            <comment type="block" pos:line="356" pos:column="13">/* A client MUST ignore any Content-Length or Transfer-Encoding
               header fields received in a successful response to CONNECT.
               "Successful" described as: 2xx (Successful). RFC 7231 4.3.6 */</comment>
            <expr_stmt><expr><call><name pos:line="359" pos:column="13">infof<pos:position pos:line="359" pos:column="18"/></name><argument_list pos:line="359" pos:column="18">(<argument><expr><name pos:line="359" pos:column="19">data<pos:position pos:line="359" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="359" pos:column="25">"Ignoring Transfer-Encoding in "<pos:position pos:line="359" pos:column="57"/></literal>
                  <literal type="string" pos:line="360" pos:column="19">"CONNECT %03d response\n"<pos:position pos:line="360" pos:column="44"/></literal></expr></argument>, <argument><expr><name><name pos:line="360" pos:column="46">k<pos:position pos:line="360" pos:column="47"/></name><operator pos:line="360" pos:column="47">-&gt;<pos:position pos:line="360" pos:column="52"/></operator><name pos:line="360" pos:column="49">httpcode<pos:position pos:line="360" pos:column="57"/></name></name></expr></argument>)<pos:position pos:line="360" pos:column="58"/></argument_list></call></expr>;<pos:position pos:line="360" pos:column="59"/></expr_stmt>
          }<pos:position pos:line="361" pos:column="12"/></block></then>
          <elseif pos:line="362" pos:column="11">else <if pos:line="362" pos:column="16">if<condition pos:line="362" pos:column="18">(<expr><call><name pos:line="362" pos:column="19">Curl_compareheader<pos:position pos:line="362" pos:column="37"/></name><argument_list pos:line="362" pos:column="37">(<argument><expr><name><name pos:line="362" pos:column="38">s<pos:position pos:line="362" pos:column="39"/></name><operator pos:line="362" pos:column="39">-&gt;<pos:position pos:line="362" pos:column="44"/></operator><name pos:line="362" pos:column="41">line_start<pos:position pos:line="362" pos:column="51"/></name></name></expr></argument>,
                                     <argument><expr><literal type="string" pos:line="363" pos:column="38">"Transfer-Encoding:"<pos:position pos:line="363" pos:column="58"/></literal></expr></argument>, <argument><expr><literal type="string" pos:line="363" pos:column="60">"chunked"<pos:position pos:line="363" pos:column="69"/></literal></expr></argument>)<pos:position pos:line="363" pos:column="70"/></argument_list></call></expr>)<pos:position pos:line="363" pos:column="71"/></condition><then pos:line="363" pos:column="71"> <block pos:line="363" pos:column="72">{
            <expr_stmt><expr><call><name pos:line="364" pos:column="13">infof<pos:position pos:line="364" pos:column="18"/></name><argument_list pos:line="364" pos:column="18">(<argument><expr><name pos:line="364" pos:column="19">data<pos:position pos:line="364" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="364" pos:column="25">"CONNECT responded chunked\n"<pos:position pos:line="364" pos:column="54"/></literal></expr></argument>)<pos:position pos:line="364" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="364" pos:column="56"/></expr_stmt>
            <expr_stmt><expr><name><name pos:line="365" pos:column="13">s<pos:position pos:line="365" pos:column="14"/></name><operator pos:line="365" pos:column="14">-&gt;<pos:position pos:line="365" pos:column="19"/></operator><name pos:line="365" pos:column="16">chunked_encoding<pos:position pos:line="365" pos:column="32"/></name></name> <operator pos:line="365" pos:column="33">=<pos:position pos:line="365" pos:column="34"/></operator> <name pos:line="365" pos:column="35">TRUE<pos:position pos:line="365" pos:column="39"/></name></expr>;<pos:position pos:line="365" pos:column="40"/></expr_stmt>
            <comment type="block" pos:line="366" pos:column="13">/* init our chunky engine */</comment>
            <expr_stmt><expr><call><name pos:line="367" pos:column="13">Curl_httpchunk_init<pos:position pos:line="367" pos:column="32"/></name><argument_list pos:line="367" pos:column="32">(<argument><expr><name pos:line="367" pos:column="33">conn<pos:position pos:line="367" pos:column="37"/></name></expr></argument>)<pos:position pos:line="367" pos:column="38"/></argument_list></call></expr>;<pos:position pos:line="367" pos:column="39"/></expr_stmt>
          }<pos:position pos:line="368" pos:column="12"/></block></then></if></elseif></if>
        }<pos:position pos:line="369" pos:column="10"/></block></then></if></elseif>
        <elseif pos:line="370" pos:column="9">else <if pos:line="370" pos:column="14">if<condition pos:line="370" pos:column="16">(<expr><call><name pos:line="370" pos:column="17">Curl_compareheader<pos:position pos:line="370" pos:column="35"/></name><argument_list pos:line="370" pos:column="35">(<argument><expr><name><name pos:line="370" pos:column="36">s<pos:position pos:line="370" pos:column="37"/></name><operator pos:line="370" pos:column="37">-&gt;<pos:position pos:line="370" pos:column="42"/></operator><name pos:line="370" pos:column="39">line_start<pos:position pos:line="370" pos:column="49"/></name></name></expr></argument>,
                                   <argument><expr><literal type="string" pos:line="371" pos:column="36">"Proxy-Connection:"<pos:position pos:line="371" pos:column="55"/></literal></expr></argument>, <argument><expr><literal type="string" pos:line="371" pos:column="57">"close"<pos:position pos:line="371" pos:column="64"/></literal></expr></argument>)<pos:position pos:line="371" pos:column="65"/></argument_list></call></expr>)<pos:position pos:line="371" pos:column="66"/></condition><then pos:line="371" pos:column="66">
          <block type="pseudo"><expr_stmt><expr><name pos:line="372" pos:column="11">closeConnection<pos:position pos:line="372" pos:column="26"/></name> <operator pos:line="372" pos:column="27">=<pos:position pos:line="372" pos:column="28"/></operator> <name pos:line="372" pos:column="29">TRUE<pos:position pos:line="372" pos:column="33"/></name></expr>;<pos:position pos:line="372" pos:column="34"/></expr_stmt></block></then></if></elseif>
        <elseif pos:line="373" pos:column="9">else <if pos:line="373" pos:column="14">if<condition pos:line="373" pos:column="16">(<expr><literal type="number" pos:line="373" pos:column="17">2<pos:position pos:line="373" pos:column="18"/></literal> <operator pos:line="373" pos:column="19">==<pos:position pos:line="373" pos:column="21"/></operator> <call><name pos:line="373" pos:column="22">sscanf<pos:position pos:line="373" pos:column="28"/></name><argument_list pos:line="373" pos:column="28">(<argument><expr><name><name pos:line="373" pos:column="29">s<pos:position pos:line="373" pos:column="30"/></name><operator pos:line="373" pos:column="30">-&gt;<pos:position pos:line="373" pos:column="35"/></operator><name pos:line="373" pos:column="32">line_start<pos:position pos:line="373" pos:column="42"/></name></name></expr></argument>, <argument><expr><literal type="string" pos:line="373" pos:column="44">"HTTP/1.%d %d"<pos:position pos:line="373" pos:column="58"/></literal></expr></argument>,
                            <argument><expr><operator pos:line="374" pos:column="29">&amp;<pos:position pos:line="374" pos:column="34"/></operator><name pos:line="374" pos:column="30">subversion<pos:position pos:line="374" pos:column="40"/></name></expr></argument>,
                            <argument><expr><operator pos:line="375" pos:column="29">&amp;<pos:position pos:line="375" pos:column="34"/></operator><name><name pos:line="375" pos:column="30">k<pos:position pos:line="375" pos:column="31"/></name><operator pos:line="375" pos:column="31">-&gt;<pos:position pos:line="375" pos:column="36"/></operator><name pos:line="375" pos:column="33">httpcode<pos:position pos:line="375" pos:column="41"/></name></name></expr></argument>)<pos:position pos:line="375" pos:column="42"/></argument_list></call></expr>)<pos:position pos:line="375" pos:column="43"/></condition><then pos:line="375" pos:column="43"> <block pos:line="375" pos:column="44">{
          <comment type="block" pos:line="376" pos:column="11">/* store the HTTP code from the proxy */</comment>
          <expr_stmt><expr><name><name pos:line="377" pos:column="11">data<pos:position pos:line="377" pos:column="15"/></name><operator pos:line="377" pos:column="15">-&gt;<pos:position pos:line="377" pos:column="20"/></operator><name pos:line="377" pos:column="17">info<pos:position pos:line="377" pos:column="21"/></name><operator pos:line="377" pos:column="21">.<pos:position pos:line="377" pos:column="22"/></operator><name pos:line="377" pos:column="22">httpproxycode<pos:position pos:line="377" pos:column="35"/></name></name> <operator pos:line="377" pos:column="36">=<pos:position pos:line="377" pos:column="37"/></operator> <name><name pos:line="377" pos:column="38">k<pos:position pos:line="377" pos:column="39"/></name><operator pos:line="377" pos:column="39">-&gt;<pos:position pos:line="377" pos:column="44"/></operator><name pos:line="377" pos:column="41">httpcode<pos:position pos:line="377" pos:column="49"/></name></name></expr>;<pos:position pos:line="377" pos:column="50"/></expr_stmt>
        }<pos:position pos:line="378" pos:column="10"/></block></then></if></elseif></if>

        <expr_stmt><expr><name><name pos:line="380" pos:column="9">s<pos:position pos:line="380" pos:column="10"/></name><operator pos:line="380" pos:column="10">-&gt;<pos:position pos:line="380" pos:column="15"/></operator><name pos:line="380" pos:column="12">perline<pos:position pos:line="380" pos:column="19"/></name></name> <operator pos:line="380" pos:column="20">=<pos:position pos:line="380" pos:column="21"/></operator> <literal type="number" pos:line="380" pos:column="22">0<pos:position pos:line="380" pos:column="23"/></literal></expr>;<pos:position pos:line="380" pos:column="24"/></expr_stmt> <comment type="block" pos:line="380" pos:column="25">/* line starts over here */</comment>
        <expr_stmt><expr><name><name pos:line="381" pos:column="9">s<pos:position pos:line="381" pos:column="10"/></name><operator pos:line="381" pos:column="10">-&gt;<pos:position pos:line="381" pos:column="15"/></operator><name pos:line="381" pos:column="12">ptr<pos:position pos:line="381" pos:column="15"/></name></name> <operator pos:line="381" pos:column="16">=<pos:position pos:line="381" pos:column="17"/></operator> <name><name pos:line="381" pos:column="18">s<pos:position pos:line="381" pos:column="19"/></name><operator pos:line="381" pos:column="19">-&gt;<pos:position pos:line="381" pos:column="24"/></operator><name pos:line="381" pos:column="21">connect_buffer<pos:position pos:line="381" pos:column="35"/></name></name></expr>;<pos:position pos:line="381" pos:column="36"/></expr_stmt>
        <expr_stmt><expr><name><name pos:line="382" pos:column="9">s<pos:position pos:line="382" pos:column="10"/></name><operator pos:line="382" pos:column="10">-&gt;<pos:position pos:line="382" pos:column="15"/></operator><name pos:line="382" pos:column="12">line_start<pos:position pos:line="382" pos:column="22"/></name></name> <operator pos:line="382" pos:column="23">=<pos:position pos:line="382" pos:column="24"/></operator> <name><name pos:line="382" pos:column="25">s<pos:position pos:line="382" pos:column="26"/></name><operator pos:line="382" pos:column="26">-&gt;<pos:position pos:line="382" pos:column="31"/></operator><name pos:line="382" pos:column="28">ptr<pos:position pos:line="382" pos:column="31"/></name></name></expr>;<pos:position pos:line="382" pos:column="32"/></expr_stmt>
      }<pos:position pos:line="383" pos:column="8"/></block></while> <comment type="block" pos:line="383" pos:column="9">/* while there's buffer left and loop is requested */</comment>

      <if pos:line="385" pos:column="7">if<condition pos:line="385" pos:column="9">(<expr><call><name pos:line="385" pos:column="10">Curl_pgrsUpdate<pos:position pos:line="385" pos:column="25"/></name><argument_list pos:line="385" pos:column="25">(<argument><expr><name pos:line="385" pos:column="26">conn<pos:position pos:line="385" pos:column="30"/></name></expr></argument>)<pos:position pos:line="385" pos:column="31"/></argument_list></call></expr>)<pos:position pos:line="385" pos:column="32"/></condition><then pos:line="385" pos:column="32">
        <block type="pseudo"><return pos:line="386" pos:column="9">return <expr><name pos:line="386" pos:column="16">CURLE_ABORTED_BY_CALLBACK<pos:position pos:line="386" pos:column="41"/></name></expr>;<pos:position pos:line="386" pos:column="42"/></return></block></then></if>

      <if pos:line="388" pos:column="7">if<condition pos:line="388" pos:column="9">(<expr><name pos:line="388" pos:column="10">error<pos:position pos:line="388" pos:column="15"/></name></expr>)<pos:position pos:line="388" pos:column="16"/></condition><then pos:line="388" pos:column="16">
        <block type="pseudo"><return pos:line="389" pos:column="9">return <expr><name pos:line="389" pos:column="16">CURLE_RECV_ERROR<pos:position pos:line="389" pos:column="32"/></name></expr>;<pos:position pos:line="389" pos:column="33"/></return></block></then></if>

      <if pos:line="391" pos:column="7">if<condition pos:line="391" pos:column="9">(<expr><name><name pos:line="391" pos:column="10">data<pos:position pos:line="391" pos:column="14"/></name><operator pos:line="391" pos:column="14">-&gt;<pos:position pos:line="391" pos:column="19"/></operator><name pos:line="391" pos:column="16">info<pos:position pos:line="391" pos:column="20"/></name><operator pos:line="391" pos:column="20">.<pos:position pos:line="391" pos:column="21"/></operator><name pos:line="391" pos:column="21">httpproxycode<pos:position pos:line="391" pos:column="34"/></name></name><operator pos:line="391" pos:column="34">/<pos:position pos:line="391" pos:column="35"/></operator><literal type="number" pos:line="391" pos:column="35">100<pos:position pos:line="391" pos:column="38"/></literal> <operator pos:line="391" pos:column="39">!=<pos:position pos:line="391" pos:column="41"/></operator> <literal type="number" pos:line="391" pos:column="42">2<pos:position pos:line="391" pos:column="43"/></literal></expr>)<pos:position pos:line="391" pos:column="44"/></condition><then pos:line="391" pos:column="44"> <block pos:line="391" pos:column="45">{
        <comment type="block" pos:line="392" pos:column="9">/* Deal with the possibly already received authenticate
           headers. 'newurl' is set to a new URL if we must loop. */</comment>
        <expr_stmt><expr><name pos:line="394" pos:column="9">result<pos:position pos:line="394" pos:column="15"/></name> <operator pos:line="394" pos:column="16">=<pos:position pos:line="394" pos:column="17"/></operator> <call><name pos:line="394" pos:column="18">Curl_http_auth_act<pos:position pos:line="394" pos:column="36"/></name><argument_list pos:line="394" pos:column="36">(<argument><expr><name pos:line="394" pos:column="37">conn<pos:position pos:line="394" pos:column="41"/></name></expr></argument>)<pos:position pos:line="394" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="394" pos:column="43"/></expr_stmt>
        <if pos:line="395" pos:column="9">if<condition pos:line="395" pos:column="11">(<expr><name pos:line="395" pos:column="12">result<pos:position pos:line="395" pos:column="18"/></name></expr>)<pos:position pos:line="395" pos:column="19"/></condition><then pos:line="395" pos:column="19">
          <block type="pseudo"><return pos:line="396" pos:column="11">return <expr><name pos:line="396" pos:column="18">result<pos:position pos:line="396" pos:column="24"/></name></expr>;<pos:position pos:line="396" pos:column="25"/></return></block></then></if>

        <if pos:line="398" pos:column="9">if<condition pos:line="398" pos:column="11">(<expr><name><name pos:line="398" pos:column="12">conn<pos:position pos:line="398" pos:column="16"/></name><operator pos:line="398" pos:column="16">-&gt;<pos:position pos:line="398" pos:column="21"/></operator><name pos:line="398" pos:column="18">bits<pos:position pos:line="398" pos:column="22"/></name><operator pos:line="398" pos:column="22">.<pos:position pos:line="398" pos:column="23"/></operator><name pos:line="398" pos:column="23">close<pos:position pos:line="398" pos:column="28"/></name></name></expr>)<pos:position pos:line="398" pos:column="29"/></condition><then pos:line="398" pos:column="29">
          <comment type="block" pos:line="399" pos:column="11">/* the connection has been marked for closure, most likely in the
             Curl_http_auth_act() function and thus we can kill it at once
             below */</comment>
          <block type="pseudo"><expr_stmt><expr><name pos:line="402" pos:column="11">closeConnection<pos:position pos:line="402" pos:column="26"/></name> <operator pos:line="402" pos:column="27">=<pos:position pos:line="402" pos:column="28"/></operator> <name pos:line="402" pos:column="29">TRUE<pos:position pos:line="402" pos:column="33"/></name></expr>;<pos:position pos:line="402" pos:column="34"/></expr_stmt></block></then></if>
      }<pos:position pos:line="403" pos:column="8"/></block></then></if>

      <if pos:line="405" pos:column="7">if<condition pos:line="405" pos:column="9">(<expr><name pos:line="405" pos:column="10">closeConnection<pos:position pos:line="405" pos:column="25"/></name> <operator pos:line="405" pos:column="26">&amp;&amp;<pos:position pos:line="405" pos:column="36"/></operator> <name><name pos:line="405" pos:column="29">data<pos:position pos:line="405" pos:column="33"/></name><operator pos:line="405" pos:column="33">-&gt;<pos:position pos:line="405" pos:column="38"/></operator><name pos:line="405" pos:column="35">req<pos:position pos:line="405" pos:column="38"/></name><operator pos:line="405" pos:column="38">.<pos:position pos:line="405" pos:column="39"/></operator><name pos:line="405" pos:column="39">newurl<pos:position pos:line="405" pos:column="45"/></name></name></expr>)<pos:position pos:line="405" pos:column="46"/></condition><then pos:line="405" pos:column="46"> <block pos:line="405" pos:column="47">{
        <comment type="block" pos:line="406" pos:column="9">/* Connection closed by server. Don't use it anymore */</comment>
        <expr_stmt><expr><call><name pos:line="407" pos:column="9">Curl_closesocket<pos:position pos:line="407" pos:column="25"/></name><argument_list pos:line="407" pos:column="25">(<argument><expr><name pos:line="407" pos:column="26">conn<pos:position pos:line="407" pos:column="30"/></name></expr></argument>, <argument><expr><name><name pos:line="407" pos:column="32">conn<pos:position pos:line="407" pos:column="36"/></name><operator pos:line="407" pos:column="36">-&gt;<pos:position pos:line="407" pos:column="41"/></operator><name pos:line="407" pos:column="38">sock<pos:position pos:line="407" pos:column="42"/></name><index pos:line="407" pos:column="42">[<expr><name pos:line="407" pos:column="43">sockindex<pos:position pos:line="407" pos:column="52"/></name></expr>]<pos:position pos:line="407" pos:column="53"/></index></name></expr></argument>)<pos:position pos:line="407" pos:column="54"/></argument_list></call></expr>;<pos:position pos:line="407" pos:column="55"/></expr_stmt>
        <expr_stmt><expr><name><name pos:line="408" pos:column="9">conn<pos:position pos:line="408" pos:column="13"/></name><operator pos:line="408" pos:column="13">-&gt;<pos:position pos:line="408" pos:column="18"/></operator><name pos:line="408" pos:column="15">sock<pos:position pos:line="408" pos:column="19"/></name><index pos:line="408" pos:column="19">[<expr><name pos:line="408" pos:column="20">sockindex<pos:position pos:line="408" pos:column="29"/></name></expr>]<pos:position pos:line="408" pos:column="30"/></index></name> <operator pos:line="408" pos:column="31">=<pos:position pos:line="408" pos:column="32"/></operator> <name pos:line="408" pos:column="33">CURL_SOCKET_BAD<pos:position pos:line="408" pos:column="48"/></name></expr>;<pos:position pos:line="408" pos:column="49"/></expr_stmt>
        <break pos:line="409" pos:column="9">break;<pos:position pos:line="409" pos:column="15"/></break>
      }<pos:position pos:line="410" pos:column="8"/></block></then></if>
    }<pos:position pos:line="411" pos:column="6"/></block> <comment type="block" pos:line="411" pos:column="7">/* END READING RESPONSE PHASE */</comment>

    <comment type="block" pos:line="413" pos:column="5">/* If we are supposed to continue and request a new URL, which basically
     * means the HTTP authentication is still going on so if the tunnel
     * is complete we start over in INIT state */</comment>
    <if pos:line="416" pos:column="5">if<condition pos:line="416" pos:column="7">(<expr><name><name pos:line="416" pos:column="8">data<pos:position pos:line="416" pos:column="12"/></name><operator pos:line="416" pos:column="12">-&gt;<pos:position pos:line="416" pos:column="17"/></operator><name pos:line="416" pos:column="14">req<pos:position pos:line="416" pos:column="17"/></name><operator pos:line="416" pos:column="17">.<pos:position pos:line="416" pos:column="18"/></operator><name pos:line="416" pos:column="18">newurl<pos:position pos:line="416" pos:column="24"/></name></name> <operator pos:line="416" pos:column="25">&amp;&amp;<pos:position pos:line="416" pos:column="35"/></operator> <operator pos:line="416" pos:column="28">(<pos:position pos:line="416" pos:column="29"/></operator><name pos:line="416" pos:column="29">TUNNEL_COMPLETE<pos:position pos:line="416" pos:column="44"/></name> <operator pos:line="416" pos:column="45">==<pos:position pos:line="416" pos:column="47"/></operator> <name><name pos:line="416" pos:column="48">s<pos:position pos:line="416" pos:column="49"/></name><operator pos:line="416" pos:column="49">-&gt;<pos:position pos:line="416" pos:column="54"/></operator><name pos:line="416" pos:column="51">tunnel_state<pos:position pos:line="416" pos:column="63"/></name></name><operator pos:line="416" pos:column="63">)<pos:position pos:line="416" pos:column="64"/></operator></expr>)<pos:position pos:line="416" pos:column="65"/></condition><then pos:line="416" pos:column="65"> <block pos:line="416" pos:column="66">{
      <expr_stmt><expr><call><name pos:line="417" pos:column="7">connect_init<pos:position pos:line="417" pos:column="19"/></name><argument_list pos:line="417" pos:column="19">(<argument><expr><name pos:line="417" pos:column="20">conn<pos:position pos:line="417" pos:column="24"/></name></expr></argument>, <argument><expr><name pos:line="417" pos:column="26">TRUE<pos:position pos:line="417" pos:column="30"/></name></expr></argument>)<pos:position pos:line="417" pos:column="31"/></argument_list></call></expr>;<pos:position pos:line="417" pos:column="32"/></expr_stmt> <comment type="block" pos:line="417" pos:column="33">/* reinit */</comment>
    }<pos:position pos:line="418" pos:column="6"/></block></then></if>

  }<pos:position pos:line="420" pos:column="4"/></block> while<condition pos:line="420" pos:column="10">(<expr><name><name pos:line="420" pos:column="11">data<pos:position pos:line="420" pos:column="15"/></name><operator pos:line="420" pos:column="15">-&gt;<pos:position pos:line="420" pos:column="20"/></operator><name pos:line="420" pos:column="17">req<pos:position pos:line="420" pos:column="20"/></name><operator pos:line="420" pos:column="20">.<pos:position pos:line="420" pos:column="21"/></operator><name pos:line="420" pos:column="21">newurl<pos:position pos:line="420" pos:column="27"/></name></name></expr>)<pos:position pos:line="420" pos:column="28"/></condition>;<pos:position pos:line="420" pos:column="29"/></do>

  <if pos:line="422" pos:column="3">if<condition pos:line="422" pos:column="5">(<expr><name><name pos:line="422" pos:column="6">data<pos:position pos:line="422" pos:column="10"/></name><operator pos:line="422" pos:column="10">-&gt;<pos:position pos:line="422" pos:column="15"/></operator><name pos:line="422" pos:column="12">info<pos:position pos:line="422" pos:column="16"/></name><operator pos:line="422" pos:column="16">.<pos:position pos:line="422" pos:column="17"/></operator><name pos:line="422" pos:column="17">httpproxycode<pos:position pos:line="422" pos:column="30"/></name></name><operator pos:line="422" pos:column="30">/<pos:position pos:line="422" pos:column="31"/></operator><literal type="number" pos:line="422" pos:column="31">100<pos:position pos:line="422" pos:column="34"/></literal> <operator pos:line="422" pos:column="35">!=<pos:position pos:line="422" pos:column="37"/></operator> <literal type="number" pos:line="422" pos:column="38">2<pos:position pos:line="422" pos:column="39"/></literal></expr>)<pos:position pos:line="422" pos:column="40"/></condition><then pos:line="422" pos:column="40"> <block pos:line="422" pos:column="41">{
    <if pos:line="423" pos:column="5">if<condition pos:line="423" pos:column="7">(<expr><name pos:line="423" pos:column="8">closeConnection<pos:position pos:line="423" pos:column="23"/></name> <operator pos:line="423" pos:column="24">&amp;&amp;<pos:position pos:line="423" pos:column="34"/></operator> <name><name pos:line="423" pos:column="27">data<pos:position pos:line="423" pos:column="31"/></name><operator pos:line="423" pos:column="31">-&gt;<pos:position pos:line="423" pos:column="36"/></operator><name pos:line="423" pos:column="33">req<pos:position pos:line="423" pos:column="36"/></name><operator pos:line="423" pos:column="36">.<pos:position pos:line="423" pos:column="37"/></operator><name pos:line="423" pos:column="37">newurl<pos:position pos:line="423" pos:column="43"/></name></name></expr>)<pos:position pos:line="423" pos:column="44"/></condition><then pos:line="423" pos:column="44"> <block pos:line="423" pos:column="45">{
      <expr_stmt><expr><name><name pos:line="424" pos:column="7">conn<pos:position pos:line="424" pos:column="11"/></name><operator pos:line="424" pos:column="11">-&gt;<pos:position pos:line="424" pos:column="16"/></operator><name pos:line="424" pos:column="13">bits<pos:position pos:line="424" pos:column="17"/></name><operator pos:line="424" pos:column="17">.<pos:position pos:line="424" pos:column="18"/></operator><name pos:line="424" pos:column="18">proxy_connect_closed<pos:position pos:line="424" pos:column="38"/></name></name> <operator pos:line="424" pos:column="39">=<pos:position pos:line="424" pos:column="40"/></operator> <name pos:line="424" pos:column="41">TRUE<pos:position pos:line="424" pos:column="45"/></name></expr>;<pos:position pos:line="424" pos:column="46"/></expr_stmt>
      <expr_stmt><expr><call><name pos:line="425" pos:column="7">infof<pos:position pos:line="425" pos:column="12"/></name><argument_list pos:line="425" pos:column="12">(<argument><expr><name pos:line="425" pos:column="13">data<pos:position pos:line="425" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="425" pos:column="19">"Connect me again please\n"<pos:position pos:line="425" pos:column="46"/></literal></expr></argument>)<pos:position pos:line="425" pos:column="47"/></argument_list></call></expr>;<pos:position pos:line="425" pos:column="48"/></expr_stmt>
      <expr_stmt><expr><call><name pos:line="426" pos:column="7">connect_done<pos:position pos:line="426" pos:column="19"/></name><argument_list pos:line="426" pos:column="19">(<argument><expr><name pos:line="426" pos:column="20">conn<pos:position pos:line="426" pos:column="24"/></name></expr></argument>)<pos:position pos:line="426" pos:column="25"/></argument_list></call></expr>;<pos:position pos:line="426" pos:column="26"/></expr_stmt>
    }<pos:position pos:line="427" pos:column="6"/></block></then>
    <else pos:line="428" pos:column="5">else <block pos:line="428" pos:column="10">{
      <expr_stmt><expr><call><name pos:line="429" pos:column="7">free<pos:position pos:line="429" pos:column="11"/></name><argument_list pos:line="429" pos:column="11">(<argument><expr><name><name pos:line="429" pos:column="12">data<pos:position pos:line="429" pos:column="16"/></name><operator pos:line="429" pos:column="16">-&gt;<pos:position pos:line="429" pos:column="21"/></operator><name pos:line="429" pos:column="18">req<pos:position pos:line="429" pos:column="21"/></name><operator pos:line="429" pos:column="21">.<pos:position pos:line="429" pos:column="22"/></operator><name pos:line="429" pos:column="22">newurl<pos:position pos:line="429" pos:column="28"/></name></name></expr></argument>)<pos:position pos:line="429" pos:column="29"/></argument_list></call></expr>;<pos:position pos:line="429" pos:column="30"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="430" pos:column="7">data<pos:position pos:line="430" pos:column="11"/></name><operator pos:line="430" pos:column="11">-&gt;<pos:position pos:line="430" pos:column="16"/></operator><name pos:line="430" pos:column="13">req<pos:position pos:line="430" pos:column="16"/></name><operator pos:line="430" pos:column="16">.<pos:position pos:line="430" pos:column="17"/></operator><name pos:line="430" pos:column="17">newurl<pos:position pos:line="430" pos:column="23"/></name></name> <operator pos:line="430" pos:column="24">=<pos:position pos:line="430" pos:column="25"/></operator> <name pos:line="430" pos:column="26">NULL<pos:position pos:line="430" pos:column="30"/></name></expr>;<pos:position pos:line="430" pos:column="31"/></expr_stmt>
      <comment type="block" pos:line="431" pos:column="7">/* failure, close this connection to avoid re-use */</comment>
      <expr_stmt><expr><call><name pos:line="432" pos:column="7">streamclose<pos:position pos:line="432" pos:column="18"/></name><argument_list pos:line="432" pos:column="18">(<argument><expr><name pos:line="432" pos:column="19">conn<pos:position pos:line="432" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="432" pos:column="25">"proxy CONNECT failure"<pos:position pos:line="432" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="432" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="432" pos:column="50"/></expr_stmt>
      <expr_stmt><expr><call><name pos:line="433" pos:column="7">Curl_closesocket<pos:position pos:line="433" pos:column="23"/></name><argument_list pos:line="433" pos:column="23">(<argument><expr><name pos:line="433" pos:column="24">conn<pos:position pos:line="433" pos:column="28"/></name></expr></argument>, <argument><expr><name><name pos:line="433" pos:column="30">conn<pos:position pos:line="433" pos:column="34"/></name><operator pos:line="433" pos:column="34">-&gt;<pos:position pos:line="433" pos:column="39"/></operator><name pos:line="433" pos:column="36">sock<pos:position pos:line="433" pos:column="40"/></name><index pos:line="433" pos:column="40">[<expr><name pos:line="433" pos:column="41">sockindex<pos:position pos:line="433" pos:column="50"/></name></expr>]<pos:position pos:line="433" pos:column="51"/></index></name></expr></argument>)<pos:position pos:line="433" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="433" pos:column="53"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="434" pos:column="7">conn<pos:position pos:line="434" pos:column="11"/></name><operator pos:line="434" pos:column="11">-&gt;<pos:position pos:line="434" pos:column="16"/></operator><name pos:line="434" pos:column="13">sock<pos:position pos:line="434" pos:column="17"/></name><index pos:line="434" pos:column="17">[<expr><name pos:line="434" pos:column="18">sockindex<pos:position pos:line="434" pos:column="27"/></name></expr>]<pos:position pos:line="434" pos:column="28"/></index></name> <operator pos:line="434" pos:column="29">=<pos:position pos:line="434" pos:column="30"/></operator> <name pos:line="434" pos:column="31">CURL_SOCKET_BAD<pos:position pos:line="434" pos:column="46"/></name></expr>;<pos:position pos:line="434" pos:column="47"/></expr_stmt>
    }<pos:position pos:line="435" pos:column="6"/></block></else></if>

    <comment type="block" pos:line="437" pos:column="5">/* to back to init state */</comment>
    <expr_stmt><expr><name><name pos:line="438" pos:column="5">s<pos:position pos:line="438" pos:column="6"/></name><operator pos:line="438" pos:column="6">-&gt;<pos:position pos:line="438" pos:column="11"/></operator><name pos:line="438" pos:column="8">tunnel_state<pos:position pos:line="438" pos:column="20"/></name></name> <operator pos:line="438" pos:column="21">=<pos:position pos:line="438" pos:column="22"/></operator> <name pos:line="438" pos:column="23">TUNNEL_INIT<pos:position pos:line="438" pos:column="34"/></name></expr>;<pos:position pos:line="438" pos:column="35"/></expr_stmt>

    <if pos:line="440" pos:column="5">if<condition pos:line="440" pos:column="7">(<expr><name><name pos:line="440" pos:column="8">conn<pos:position pos:line="440" pos:column="12"/></name><operator pos:line="440" pos:column="12">-&gt;<pos:position pos:line="440" pos:column="17"/></operator><name pos:line="440" pos:column="14">bits<pos:position pos:line="440" pos:column="18"/></name><operator pos:line="440" pos:column="18">.<pos:position pos:line="440" pos:column="19"/></operator><name pos:line="440" pos:column="19">proxy_connect_closed<pos:position pos:line="440" pos:column="39"/></name></name></expr>)<pos:position pos:line="440" pos:column="40"/></condition><then pos:line="440" pos:column="40">
      <comment type="block" pos:line="441" pos:column="7">/* this is not an error, just part of the connection negotiation */</comment>
      <block type="pseudo"><return pos:line="442" pos:column="7">return <expr><name pos:line="442" pos:column="14">CURLE_OK<pos:position pos:line="442" pos:column="22"/></name></expr>;<pos:position pos:line="442" pos:column="23"/></return></block></then></if>
    <expr_stmt><expr><call><name pos:line="443" pos:column="5">failf<pos:position pos:line="443" pos:column="10"/></name><argument_list pos:line="443" pos:column="10">(<argument><expr><name pos:line="443" pos:column="11">data<pos:position pos:line="443" pos:column="15"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="443" pos:column="17">"Received HTTP code %d from proxy after CONNECT"<pos:position pos:line="443" pos:column="65"/></literal></expr></argument>,
          <argument><expr><name><name pos:line="444" pos:column="11">data<pos:position pos:line="444" pos:column="15"/></name><operator pos:line="444" pos:column="15">-&gt;<pos:position pos:line="444" pos:column="20"/></operator><name pos:line="444" pos:column="17">req<pos:position pos:line="444" pos:column="20"/></name><operator pos:line="444" pos:column="20">.<pos:position pos:line="444" pos:column="21"/></operator><name pos:line="444" pos:column="21">httpcode<pos:position pos:line="444" pos:column="29"/></name></name></expr></argument>)<pos:position pos:line="444" pos:column="30"/></argument_list></call></expr>;<pos:position pos:line="444" pos:column="31"/></expr_stmt>
    <return pos:line="445" pos:column="5">return <expr><name pos:line="445" pos:column="12">CURLE_RECV_ERROR<pos:position pos:line="445" pos:column="28"/></name></expr>;<pos:position pos:line="445" pos:column="29"/></return>
  }<pos:position pos:line="446" pos:column="4"/></block></then></if>

  <expr_stmt><expr><name><name pos:line="448" pos:column="3">s<pos:position pos:line="448" pos:column="4"/></name><operator pos:line="448" pos:column="4">-&gt;<pos:position pos:line="448" pos:column="9"/></operator><name pos:line="448" pos:column="6">tunnel_state<pos:position pos:line="448" pos:column="18"/></name></name> <operator pos:line="448" pos:column="19">=<pos:position pos:line="448" pos:column="20"/></operator> <name pos:line="448" pos:column="21">TUNNEL_COMPLETE<pos:position pos:line="448" pos:column="36"/></name></expr>;<pos:position pos:line="448" pos:column="37"/></expr_stmt>

  <comment type="block" pos:line="450" pos:column="3">/* If a proxy-authorization header was used for the proxy, then we should
     make sure that it isn't accidentally used for the document request
     after we've connected. So let's free and clear it here. */</comment>
  <expr_stmt><expr><call><name pos:line="453" pos:column="3">Curl_safefree<pos:position pos:line="453" pos:column="16"/></name><argument_list pos:line="453" pos:column="16">(<argument><expr><name><name pos:line="453" pos:column="17">conn<pos:position pos:line="453" pos:column="21"/></name><operator pos:line="453" pos:column="21">-&gt;<pos:position pos:line="453" pos:column="26"/></operator><name pos:line="453" pos:column="23">allocptr<pos:position pos:line="453" pos:column="31"/></name><operator pos:line="453" pos:column="31">.<pos:position pos:line="453" pos:column="32"/></operator><name pos:line="453" pos:column="32">proxyuserpwd<pos:position pos:line="453" pos:column="44"/></name></name></expr></argument>)<pos:position pos:line="453" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="453" pos:column="46"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="454" pos:column="3">conn<pos:position pos:line="454" pos:column="7"/></name><operator pos:line="454" pos:column="7">-&gt;<pos:position pos:line="454" pos:column="12"/></operator><name pos:line="454" pos:column="9">allocptr<pos:position pos:line="454" pos:column="17"/></name><operator pos:line="454" pos:column="17">.<pos:position pos:line="454" pos:column="18"/></operator><name pos:line="454" pos:column="18">proxyuserpwd<pos:position pos:line="454" pos:column="30"/></name></name> <operator pos:line="454" pos:column="31">=<pos:position pos:line="454" pos:column="32"/></operator> <name pos:line="454" pos:column="33">NULL<pos:position pos:line="454" pos:column="37"/></name></expr>;<pos:position pos:line="454" pos:column="38"/></expr_stmt>

  <expr_stmt><expr><name><name pos:line="456" pos:column="3">data<pos:position pos:line="456" pos:column="7"/></name><operator pos:line="456" pos:column="7">-&gt;<pos:position pos:line="456" pos:column="12"/></operator><name pos:line="456" pos:column="9">state<pos:position pos:line="456" pos:column="14"/></name><operator pos:line="456" pos:column="14">.<pos:position pos:line="456" pos:column="15"/></operator><name pos:line="456" pos:column="15">authproxy<pos:position pos:line="456" pos:column="24"/></name><operator pos:line="456" pos:column="24">.<pos:position pos:line="456" pos:column="25"/></operator><name pos:line="456" pos:column="25">done<pos:position pos:line="456" pos:column="29"/></name></name> <operator pos:line="456" pos:column="30">=<pos:position pos:line="456" pos:column="31"/></operator> <name pos:line="456" pos:column="32">TRUE<pos:position pos:line="456" pos:column="36"/></name></expr>;<pos:position pos:line="456" pos:column="37"/></expr_stmt>

  <expr_stmt><expr><call><name pos:line="458" pos:column="3">infof<pos:position pos:line="458" pos:column="8"/></name><argument_list pos:line="458" pos:column="8">(<argument><expr><name pos:line="458" pos:column="9">data<pos:position pos:line="458" pos:column="13"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="458" pos:column="15">"Proxy replied %d to CONNECT request\n"<pos:position pos:line="458" pos:column="54"/></literal></expr></argument>,
        <argument><expr><name><name pos:line="459" pos:column="9">data<pos:position pos:line="459" pos:column="13"/></name><operator pos:line="459" pos:column="13">-&gt;<pos:position pos:line="459" pos:column="18"/></operator><name pos:line="459" pos:column="15">info<pos:position pos:line="459" pos:column="19"/></name><operator pos:line="459" pos:column="19">.<pos:position pos:line="459" pos:column="20"/></operator><name pos:line="459" pos:column="20">httpproxycode<pos:position pos:line="459" pos:column="33"/></name></name></expr></argument>)<pos:position pos:line="459" pos:column="34"/></argument_list></call></expr>;<pos:position pos:line="459" pos:column="35"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="460" pos:column="3">data<pos:position pos:line="460" pos:column="7"/></name><operator pos:line="460" pos:column="7">-&gt;<pos:position pos:line="460" pos:column="12"/></operator><name pos:line="460" pos:column="9">req<pos:position pos:line="460" pos:column="12"/></name><operator pos:line="460" pos:column="12">.<pos:position pos:line="460" pos:column="13"/></operator><name pos:line="460" pos:column="13">ignorebody<pos:position pos:line="460" pos:column="23"/></name></name> <operator pos:line="460" pos:column="24">=<pos:position pos:line="460" pos:column="25"/></operator> <name pos:line="460" pos:column="26">FALSE<pos:position pos:line="460" pos:column="31"/></name></expr>;<pos:position pos:line="460" pos:column="32"/></expr_stmt> <comment type="block" pos:line="460" pos:column="33">/* put it (back) to non-ignore state */</comment>
  <expr_stmt><expr><name><name pos:line="461" pos:column="3">conn<pos:position pos:line="461" pos:column="7"/></name><operator pos:line="461" pos:column="7">-&gt;<pos:position pos:line="461" pos:column="12"/></operator><name pos:line="461" pos:column="9">bits<pos:position pos:line="461" pos:column="13"/></name><operator pos:line="461" pos:column="13">.<pos:position pos:line="461" pos:column="14"/></operator><name pos:line="461" pos:column="14">rewindaftersend<pos:position pos:line="461" pos:column="29"/></name></name> <operator pos:line="461" pos:column="30">=<pos:position pos:line="461" pos:column="31"/></operator> <name pos:line="461" pos:column="32">FALSE<pos:position pos:line="461" pos:column="37"/></name></expr>;<pos:position pos:line="461" pos:column="38"/></expr_stmt> <comment type="block" pos:line="461" pos:column="39">/* make sure this isn't set for the
                                         document request  */</comment>
  <return pos:line="463" pos:column="3">return <expr><name pos:line="463" pos:column="10">CURLE_OK<pos:position pos:line="463" pos:column="18"/></name></expr>;<pos:position pos:line="463" pos:column="19"/></return>
}<pos:position pos:line="464" pos:column="2"/></block></function></unit>
