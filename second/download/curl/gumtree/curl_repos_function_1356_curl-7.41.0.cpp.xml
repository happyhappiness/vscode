<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="0.9.5" language="C++" filename="usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/gumtree/curl_repos_function_1356_curl-7.41.0.cpp" pos:tabs="8"><function><specifier pos:line="1" pos:column="1">static<pos:position pos:line="1" pos:column="7"/></specifier> <type><name pos:line="1" pos:column="8">CURLcode<pos:position pos:line="1" pos:column="16"/></name></type> <name pos:line="1" pos:column="17">create_conn<pos:position pos:line="1" pos:column="28"/></name><parameter_list pos:line="1" pos:column="28">(<parameter><decl><type><name><name pos:line="1" pos:column="29">struct<pos:position pos:line="1" pos:column="35"/></name> <name pos:line="1" pos:column="36">SessionHandle<pos:position pos:line="1" pos:column="49"/></name></name> <modifier pos:line="1" pos:column="50">*<pos:position pos:line="1" pos:column="51"/></modifier></type><name pos:line="1" pos:column="51">data<pos:position pos:line="1" pos:column="55"/></name></decl></parameter>,
                            <parameter><decl><type><name><name pos:line="2" pos:column="29">struct<pos:position pos:line="2" pos:column="35"/></name> <name pos:line="2" pos:column="36">connectdata<pos:position pos:line="2" pos:column="47"/></name></name> <modifier pos:line="2" pos:column="48">*<pos:position pos:line="2" pos:column="49"/></modifier><modifier pos:line="2" pos:column="49">*<pos:position pos:line="2" pos:column="50"/></modifier></type><name pos:line="2" pos:column="50">in_connect<pos:position pos:line="2" pos:column="60"/></name></decl></parameter>,
                            <parameter><decl><type><name pos:line="3" pos:column="29">bool<pos:position pos:line="3" pos:column="33"/></name> <modifier pos:line="3" pos:column="34">*<pos:position pos:line="3" pos:column="35"/></modifier></type><name pos:line="3" pos:column="35">async<pos:position pos:line="3" pos:column="40"/></name></decl></parameter>)<pos:position pos:line="3" pos:column="41"/></parameter_list>
<block pos:line="4" pos:column="1">{
  <decl_stmt><decl><type><name pos:line="5" pos:column="3">CURLcode<pos:position pos:line="5" pos:column="11"/></name></type> <name pos:line="5" pos:column="12">result<pos:position pos:line="5" pos:column="18"/></name> <init pos:line="5" pos:column="19">= <expr><name pos:line="5" pos:column="21">CURLE_OK<pos:position pos:line="5" pos:column="29"/></name></expr></init></decl>;<pos:position pos:line="5" pos:column="30"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="6" pos:column="3">struct<pos:position pos:line="6" pos:column="9"/></name> <name pos:line="6" pos:column="10">connectdata<pos:position pos:line="6" pos:column="21"/></name></name> <modifier pos:line="6" pos:column="22">*<pos:position pos:line="6" pos:column="23"/></modifier></type><name pos:line="6" pos:column="23">conn<pos:position pos:line="6" pos:column="27"/></name></decl>;<pos:position pos:line="6" pos:column="28"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="7" pos:column="3">struct<pos:position pos:line="7" pos:column="9"/></name> <name pos:line="7" pos:column="10">connectdata<pos:position pos:line="7" pos:column="21"/></name></name> <modifier pos:line="7" pos:column="22">*<pos:position pos:line="7" pos:column="23"/></modifier></type><name pos:line="7" pos:column="23">conn_temp<pos:position pos:line="7" pos:column="32"/></name> <init pos:line="7" pos:column="33">= <expr><name pos:line="7" pos:column="35">NULL<pos:position pos:line="7" pos:column="39"/></name></expr></init></decl>;<pos:position pos:line="7" pos:column="40"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="8" pos:column="3">size_t<pos:position pos:line="8" pos:column="9"/></name></type> <name pos:line="8" pos:column="10">urllen<pos:position pos:line="8" pos:column="16"/></name></decl>;<pos:position pos:line="8" pos:column="17"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="9" pos:column="3">char<pos:position pos:line="9" pos:column="7"/></name> <modifier pos:line="9" pos:column="8">*<pos:position pos:line="9" pos:column="9"/></modifier></type><name pos:line="9" pos:column="9">user<pos:position pos:line="9" pos:column="13"/></name> <init pos:line="9" pos:column="14">= <expr><name pos:line="9" pos:column="16">NULL<pos:position pos:line="9" pos:column="20"/></name></expr></init></decl>;<pos:position pos:line="9" pos:column="21"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="10" pos:column="3">char<pos:position pos:line="10" pos:column="7"/></name> <modifier pos:line="10" pos:column="8">*<pos:position pos:line="10" pos:column="9"/></modifier></type><name pos:line="10" pos:column="9">passwd<pos:position pos:line="10" pos:column="15"/></name> <init pos:line="10" pos:column="16">= <expr><name pos:line="10" pos:column="18">NULL<pos:position pos:line="10" pos:column="22"/></name></expr></init></decl>;<pos:position pos:line="10" pos:column="23"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="11" pos:column="3">char<pos:position pos:line="11" pos:column="7"/></name> <modifier pos:line="11" pos:column="8">*<pos:position pos:line="11" pos:column="9"/></modifier></type><name pos:line="11" pos:column="9">options<pos:position pos:line="11" pos:column="16"/></name> <init pos:line="11" pos:column="17">= <expr><name pos:line="11" pos:column="19">NULL<pos:position pos:line="11" pos:column="23"/></name></expr></init></decl>;<pos:position pos:line="11" pos:column="24"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="12" pos:column="3">bool<pos:position pos:line="12" pos:column="7"/></name></type> <name pos:line="12" pos:column="8">reuse<pos:position pos:line="12" pos:column="13"/></name></decl>;<pos:position pos:line="12" pos:column="14"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="13" pos:column="3">char<pos:position pos:line="13" pos:column="7"/></name> <modifier pos:line="13" pos:column="8">*<pos:position pos:line="13" pos:column="9"/></modifier></type><name pos:line="13" pos:column="9">proxy<pos:position pos:line="13" pos:column="14"/></name> <init pos:line="13" pos:column="15">= <expr><name pos:line="13" pos:column="17">NULL<pos:position pos:line="13" pos:column="21"/></name></expr></init></decl>;<pos:position pos:line="13" pos:column="22"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="14" pos:column="3">bool<pos:position pos:line="14" pos:column="7"/></name></type> <name pos:line="14" pos:column="8">prot_missing<pos:position pos:line="14" pos:column="20"/></name> <init pos:line="14" pos:column="21">= <expr><name pos:line="14" pos:column="23">FALSE<pos:position pos:line="14" pos:column="28"/></name></expr></init></decl>;<pos:position pos:line="14" pos:column="29"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="15" pos:column="3">bool<pos:position pos:line="15" pos:column="7"/></name></type> <name pos:line="15" pos:column="8">no_connections_available<pos:position pos:line="15" pos:column="32"/></name> <init pos:line="15" pos:column="33">= <expr><name pos:line="15" pos:column="35">FALSE<pos:position pos:line="15" pos:column="40"/></name></expr></init></decl>;<pos:position pos:line="15" pos:column="41"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="16" pos:column="3">bool<pos:position pos:line="16" pos:column="7"/></name></type> <name pos:line="16" pos:column="8">force_reuse<pos:position pos:line="16" pos:column="19"/></name> <init pos:line="16" pos:column="20">= <expr><name pos:line="16" pos:column="22">FALSE<pos:position pos:line="16" pos:column="27"/></name></expr></init></decl>;<pos:position pos:line="16" pos:column="28"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="17" pos:column="3">size_t<pos:position pos:line="17" pos:column="9"/></name></type> <name pos:line="17" pos:column="10">max_host_connections<pos:position pos:line="17" pos:column="30"/></name> <init pos:line="17" pos:column="31">= <expr><call><name pos:line="17" pos:column="33">Curl_multi_max_host_connections<pos:position pos:line="17" pos:column="64"/></name><argument_list pos:line="17" pos:column="64">(<argument><expr><name><name pos:line="17" pos:column="65">data<pos:position pos:line="17" pos:column="69"/></name><operator pos:line="17" pos:column="69">-&gt;<pos:position pos:line="17" pos:column="74"/></operator><name pos:line="17" pos:column="71">multi<pos:position pos:line="17" pos:column="76"/></name></name></expr></argument>)<pos:position pos:line="17" pos:column="77"/></argument_list></call></expr></init></decl>;<pos:position pos:line="17" pos:column="78"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="18" pos:column="3">size_t<pos:position pos:line="18" pos:column="9"/></name></type> <name pos:line="18" pos:column="10">max_total_connections<pos:position pos:line="18" pos:column="31"/></name> <init pos:line="18" pos:column="32">= <expr><call><name pos:line="18" pos:column="34">Curl_multi_max_total_connections<pos:position pos:line="18" pos:column="66"/></name><argument_list pos:line="18" pos:column="66">(<argument><expr><name><name pos:line="18" pos:column="67">data<pos:position pos:line="18" pos:column="71"/></name><operator pos:line="18" pos:column="71">-&gt;<pos:position pos:line="18" pos:column="76"/></operator><name pos:line="18" pos:column="73">multi<pos:position pos:line="18" pos:column="78"/></name></name></expr></argument>)<pos:position pos:line="18" pos:column="79"/></argument_list></call></expr></init></decl>;<pos:position pos:line="18" pos:column="80"/></decl_stmt>

  <expr_stmt><expr><operator pos:line="20" pos:column="3">*<pos:position pos:line="20" pos:column="4"/></operator><name pos:line="20" pos:column="4">async<pos:position pos:line="20" pos:column="9"/></name> <operator pos:line="20" pos:column="10">=<pos:position pos:line="20" pos:column="11"/></operator> <name pos:line="20" pos:column="12">FALSE<pos:position pos:line="20" pos:column="17"/></name></expr>;<pos:position pos:line="20" pos:column="18"/></expr_stmt>

  <comment type="block" format="doxygen" pos:line="22" pos:column="3">/*************************************************************
   * Check input data
   *************************************************************/</comment>

  <if pos:line="26" pos:column="3">if<condition pos:line="26" pos:column="5">(<expr><operator pos:line="26" pos:column="6">!<pos:position pos:line="26" pos:column="7"/></operator><name><name pos:line="26" pos:column="7">data<pos:position pos:line="26" pos:column="11"/></name><operator pos:line="26" pos:column="11">-&gt;<pos:position pos:line="26" pos:column="16"/></operator><name pos:line="26" pos:column="13">change<pos:position pos:line="26" pos:column="19"/></name><operator pos:line="26" pos:column="19">.<pos:position pos:line="26" pos:column="20"/></operator><name pos:line="26" pos:column="20">url<pos:position pos:line="26" pos:column="23"/></name></name></expr>)<pos:position pos:line="26" pos:column="24"/></condition><then pos:line="26" pos:column="24"> <block pos:line="26" pos:column="25">{
    <expr_stmt><expr><name pos:line="27" pos:column="5">result<pos:position pos:line="27" pos:column="11"/></name> <operator pos:line="27" pos:column="12">=<pos:position pos:line="27" pos:column="13"/></operator> <name pos:line="27" pos:column="14">CURLE_URL_MALFORMAT<pos:position pos:line="27" pos:column="33"/></name></expr>;<pos:position pos:line="27" pos:column="34"/></expr_stmt>
    <goto pos:line="28" pos:column="5">goto <name pos:line="28" pos:column="10">out<pos:position pos:line="28" pos:column="13"/></name>;<pos:position pos:line="28" pos:column="14"/></goto>
  }<pos:position pos:line="29" pos:column="4"/></block></then></if>

  <comment type="block" pos:line="31" pos:column="3">/* First, split up the current URL in parts so that we can use the
     parts for checking against the already present connections. In order
     to not have to modify everything at once, we allocate a temporary
     connection data struct and fill in for comparison purposes. */</comment>
  <expr_stmt><expr><name pos:line="35" pos:column="3">conn<pos:position pos:line="35" pos:column="7"/></name> <operator pos:line="35" pos:column="8">=<pos:position pos:line="35" pos:column="9"/></operator> <call><name pos:line="35" pos:column="10">allocate_conn<pos:position pos:line="35" pos:column="23"/></name><argument_list pos:line="35" pos:column="23">(<argument><expr><name pos:line="35" pos:column="24">data<pos:position pos:line="35" pos:column="28"/></name></expr></argument>)<pos:position pos:line="35" pos:column="29"/></argument_list></call></expr>;<pos:position pos:line="35" pos:column="30"/></expr_stmt>

  <if pos:line="37" pos:column="3">if<condition pos:line="37" pos:column="5">(<expr><operator pos:line="37" pos:column="6">!<pos:position pos:line="37" pos:column="7"/></operator><name pos:line="37" pos:column="7">conn<pos:position pos:line="37" pos:column="11"/></name></expr>)<pos:position pos:line="37" pos:column="12"/></condition><then pos:line="37" pos:column="12"> <block pos:line="37" pos:column="13">{
    <expr_stmt><expr><name pos:line="38" pos:column="5">result<pos:position pos:line="38" pos:column="11"/></name> <operator pos:line="38" pos:column="12">=<pos:position pos:line="38" pos:column="13"/></operator> <name pos:line="38" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="38" pos:column="33"/></name></expr>;<pos:position pos:line="38" pos:column="34"/></expr_stmt>
    <goto pos:line="39" pos:column="5">goto <name pos:line="39" pos:column="10">out<pos:position pos:line="39" pos:column="13"/></name>;<pos:position pos:line="39" pos:column="14"/></goto>
  }<pos:position pos:line="40" pos:column="4"/></block></then></if>

  <comment type="block" pos:line="42" pos:column="3">/* We must set the return variable as soon as possible, so that our
     parent can cleanup any possible allocs we may have done before
     any failure */</comment>
  <expr_stmt><expr><operator pos:line="45" pos:column="3">*<pos:position pos:line="45" pos:column="4"/></operator><name pos:line="45" pos:column="4">in_connect<pos:position pos:line="45" pos:column="14"/></name> <operator pos:line="45" pos:column="15">=<pos:position pos:line="45" pos:column="16"/></operator> <name pos:line="45" pos:column="17">conn<pos:position pos:line="45" pos:column="21"/></name></expr>;<pos:position pos:line="45" pos:column="22"/></expr_stmt>

  <comment type="block" pos:line="47" pos:column="3">/* This initing continues below, see the comment "Continue connectdata
   * initialization here" */</comment>

  <comment type="block" format="doxygen" pos:line="50" pos:column="3">/***********************************************************
   * We need to allocate memory to store the path in. We get the size of the
   * full URL to be sure, and we need to make it at least 256 bytes since
   * other parts of the code will rely on this fact
   ***********************************************************/</comment>
<cpp:define pos:line="55" pos:column="1">#<cpp:directive pos:line="55" pos:column="2">define<pos:position pos:line="55" pos:column="8"/></cpp:directive> <cpp:macro><name pos:line="55" pos:column="9">LEAST_PATH_ALLOC<pos:position pos:line="55" pos:column="25"/></name></cpp:macro> <cpp:value pos:line="55" pos:column="26">256<pos:position pos:line="55" pos:column="29"/></cpp:value></cpp:define>
  <expr_stmt><expr><name pos:line="56" pos:column="3">urllen<pos:position pos:line="56" pos:column="9"/></name><operator pos:line="56" pos:column="9">=<pos:position pos:line="56" pos:column="10"/></operator><call><name pos:line="56" pos:column="10">strlen<pos:position pos:line="56" pos:column="16"/></name><argument_list pos:line="56" pos:column="16">(<argument><expr><name><name pos:line="56" pos:column="17">data<pos:position pos:line="56" pos:column="21"/></name><operator pos:line="56" pos:column="21">-&gt;<pos:position pos:line="56" pos:column="26"/></operator><name pos:line="56" pos:column="23">change<pos:position pos:line="56" pos:column="29"/></name><operator pos:line="56" pos:column="29">.<pos:position pos:line="56" pos:column="30"/></operator><name pos:line="56" pos:column="30">url<pos:position pos:line="56" pos:column="33"/></name></name></expr></argument>)<pos:position pos:line="56" pos:column="34"/></argument_list></call></expr>;<pos:position pos:line="56" pos:column="35"/></expr_stmt>
  <if pos:line="57" pos:column="3">if<condition pos:line="57" pos:column="5">(<expr><name pos:line="57" pos:column="6">urllen<pos:position pos:line="57" pos:column="12"/></name> <operator pos:line="57" pos:column="13">&lt;<pos:position pos:line="57" pos:column="17"/></operator> <name pos:line="57" pos:column="15">LEAST_PATH_ALLOC<pos:position pos:line="57" pos:column="31"/></name></expr>)<pos:position pos:line="57" pos:column="32"/></condition><then pos:line="57" pos:column="32">
    <block type="pseudo"><expr_stmt><expr><name pos:line="58" pos:column="5">urllen<pos:position pos:line="58" pos:column="11"/></name><operator pos:line="58" pos:column="11">=<pos:position pos:line="58" pos:column="12"/></operator><name pos:line="58" pos:column="12">LEAST_PATH_ALLOC<pos:position pos:line="58" pos:column="28"/></name></expr>;<pos:position pos:line="58" pos:column="29"/></expr_stmt></block></then></if>

  <comment type="block" pos:line="60" pos:column="3">/*
   * We malloc() the buffers below urllen+2 to make room for 2 possibilities:
   * 1 - an extra terminating zero
   * 2 - an extra slash (in case a syntax like "www.host.com?moo" is used)
   */</comment>

  <expr_stmt><expr><call><name pos:line="66" pos:column="3">Curl_safefree<pos:position pos:line="66" pos:column="16"/></name><argument_list pos:line="66" pos:column="16">(<argument><expr><name><name pos:line="66" pos:column="17">data<pos:position pos:line="66" pos:column="21"/></name><operator pos:line="66" pos:column="21">-&gt;<pos:position pos:line="66" pos:column="26"/></operator><name pos:line="66" pos:column="23">state<pos:position pos:line="66" pos:column="28"/></name><operator pos:line="66" pos:column="28">.<pos:position pos:line="66" pos:column="29"/></operator><name pos:line="66" pos:column="29">pathbuffer<pos:position pos:line="66" pos:column="39"/></name></name></expr></argument>)<pos:position pos:line="66" pos:column="40"/></argument_list></call></expr>;<pos:position pos:line="66" pos:column="41"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="67" pos:column="3">data<pos:position pos:line="67" pos:column="7"/></name><operator pos:line="67" pos:column="7">-&gt;<pos:position pos:line="67" pos:column="12"/></operator><name pos:line="67" pos:column="9">state<pos:position pos:line="67" pos:column="14"/></name><operator pos:line="67" pos:column="14">.<pos:position pos:line="67" pos:column="15"/></operator><name pos:line="67" pos:column="15">path<pos:position pos:line="67" pos:column="19"/></name></name> <operator pos:line="67" pos:column="20">=<pos:position pos:line="67" pos:column="21"/></operator> <name pos:line="67" pos:column="22">NULL<pos:position pos:line="67" pos:column="26"/></name></expr>;<pos:position pos:line="67" pos:column="27"/></expr_stmt>

  <expr_stmt><expr><name><name pos:line="69" pos:column="3">data<pos:position pos:line="69" pos:column="7"/></name><operator pos:line="69" pos:column="7">-&gt;<pos:position pos:line="69" pos:column="12"/></operator><name pos:line="69" pos:column="9">state<pos:position pos:line="69" pos:column="14"/></name><operator pos:line="69" pos:column="14">.<pos:position pos:line="69" pos:column="15"/></operator><name pos:line="69" pos:column="15">pathbuffer<pos:position pos:line="69" pos:column="25"/></name></name> <operator pos:line="69" pos:column="26">=<pos:position pos:line="69" pos:column="27"/></operator> <call><name pos:line="69" pos:column="28">malloc<pos:position pos:line="69" pos:column="34"/></name><argument_list pos:line="69" pos:column="34">(<argument><expr><name pos:line="69" pos:column="35">urllen<pos:position pos:line="69" pos:column="41"/></name><operator pos:line="69" pos:column="41">+<pos:position pos:line="69" pos:column="42"/></operator><literal type="number" pos:line="69" pos:column="42">2<pos:position pos:line="69" pos:column="43"/></literal></expr></argument>)<pos:position pos:line="69" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="69" pos:column="45"/></expr_stmt>
  <if pos:line="70" pos:column="3">if<condition pos:line="70" pos:column="5">(<expr><name pos:line="70" pos:column="6">NULL<pos:position pos:line="70" pos:column="10"/></name> <operator pos:line="70" pos:column="11">==<pos:position pos:line="70" pos:column="13"/></operator> <name><name pos:line="70" pos:column="14">data<pos:position pos:line="70" pos:column="18"/></name><operator pos:line="70" pos:column="18">-&gt;<pos:position pos:line="70" pos:column="23"/></operator><name pos:line="70" pos:column="20">state<pos:position pos:line="70" pos:column="25"/></name><operator pos:line="70" pos:column="25">.<pos:position pos:line="70" pos:column="26"/></operator><name pos:line="70" pos:column="26">pathbuffer<pos:position pos:line="70" pos:column="36"/></name></name></expr>)<pos:position pos:line="70" pos:column="37"/></condition><then pos:line="70" pos:column="37"> <block pos:line="70" pos:column="38">{
    <expr_stmt><expr><name pos:line="71" pos:column="5">result<pos:position pos:line="71" pos:column="11"/></name> <operator pos:line="71" pos:column="12">=<pos:position pos:line="71" pos:column="13"/></operator> <name pos:line="71" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="71" pos:column="33"/></name></expr>;<pos:position pos:line="71" pos:column="34"/></expr_stmt> <comment type="block" pos:line="71" pos:column="35">/* really bad error */</comment>
    <goto pos:line="72" pos:column="5">goto <name pos:line="72" pos:column="10">out<pos:position pos:line="72" pos:column="13"/></name>;<pos:position pos:line="72" pos:column="14"/></goto>
  }<pos:position pos:line="73" pos:column="4"/></block></then></if>
  <expr_stmt><expr><name><name pos:line="74" pos:column="3">data<pos:position pos:line="74" pos:column="7"/></name><operator pos:line="74" pos:column="7">-&gt;<pos:position pos:line="74" pos:column="12"/></operator><name pos:line="74" pos:column="9">state<pos:position pos:line="74" pos:column="14"/></name><operator pos:line="74" pos:column="14">.<pos:position pos:line="74" pos:column="15"/></operator><name pos:line="74" pos:column="15">path<pos:position pos:line="74" pos:column="19"/></name></name> <operator pos:line="74" pos:column="20">=<pos:position pos:line="74" pos:column="21"/></operator> <name><name pos:line="74" pos:column="22">data<pos:position pos:line="74" pos:column="26"/></name><operator pos:line="74" pos:column="26">-&gt;<pos:position pos:line="74" pos:column="31"/></operator><name pos:line="74" pos:column="28">state<pos:position pos:line="74" pos:column="33"/></name><operator pos:line="74" pos:column="33">.<pos:position pos:line="74" pos:column="34"/></operator><name pos:line="74" pos:column="34">pathbuffer<pos:position pos:line="74" pos:column="44"/></name></name></expr>;<pos:position pos:line="74" pos:column="45"/></expr_stmt>

  <expr_stmt><expr><name><name pos:line="76" pos:column="3">conn<pos:position pos:line="76" pos:column="7"/></name><operator pos:line="76" pos:column="7">-&gt;<pos:position pos:line="76" pos:column="12"/></operator><name pos:line="76" pos:column="9">host<pos:position pos:line="76" pos:column="13"/></name><operator pos:line="76" pos:column="13">.<pos:position pos:line="76" pos:column="14"/></operator><name pos:line="76" pos:column="14">rawalloc<pos:position pos:line="76" pos:column="22"/></name></name> <operator pos:line="76" pos:column="23">=<pos:position pos:line="76" pos:column="24"/></operator> <call><name pos:line="76" pos:column="25">malloc<pos:position pos:line="76" pos:column="31"/></name><argument_list pos:line="76" pos:column="31">(<argument><expr><name pos:line="76" pos:column="32">urllen<pos:position pos:line="76" pos:column="38"/></name><operator pos:line="76" pos:column="38">+<pos:position pos:line="76" pos:column="39"/></operator><literal type="number" pos:line="76" pos:column="39">2<pos:position pos:line="76" pos:column="40"/></literal></expr></argument>)<pos:position pos:line="76" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="76" pos:column="42"/></expr_stmt>
  <if pos:line="77" pos:column="3">if<condition pos:line="77" pos:column="5">(<expr><name pos:line="77" pos:column="6">NULL<pos:position pos:line="77" pos:column="10"/></name> <operator pos:line="77" pos:column="11">==<pos:position pos:line="77" pos:column="13"/></operator> <name><name pos:line="77" pos:column="14">conn<pos:position pos:line="77" pos:column="18"/></name><operator pos:line="77" pos:column="18">-&gt;<pos:position pos:line="77" pos:column="23"/></operator><name pos:line="77" pos:column="20">host<pos:position pos:line="77" pos:column="24"/></name><operator pos:line="77" pos:column="24">.<pos:position pos:line="77" pos:column="25"/></operator><name pos:line="77" pos:column="25">rawalloc<pos:position pos:line="77" pos:column="33"/></name></name></expr>)<pos:position pos:line="77" pos:column="34"/></condition><then pos:line="77" pos:column="34"> <block pos:line="77" pos:column="35">{
    <expr_stmt><expr><call><name pos:line="78" pos:column="5">Curl_safefree<pos:position pos:line="78" pos:column="18"/></name><argument_list pos:line="78" pos:column="18">(<argument><expr><name><name pos:line="78" pos:column="19">data<pos:position pos:line="78" pos:column="23"/></name><operator pos:line="78" pos:column="23">-&gt;<pos:position pos:line="78" pos:column="28"/></operator><name pos:line="78" pos:column="25">state<pos:position pos:line="78" pos:column="30"/></name><operator pos:line="78" pos:column="30">.<pos:position pos:line="78" pos:column="31"/></operator><name pos:line="78" pos:column="31">pathbuffer<pos:position pos:line="78" pos:column="41"/></name></name></expr></argument>)<pos:position pos:line="78" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="78" pos:column="43"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="79" pos:column="5">data<pos:position pos:line="79" pos:column="9"/></name><operator pos:line="79" pos:column="9">-&gt;<pos:position pos:line="79" pos:column="14"/></operator><name pos:line="79" pos:column="11">state<pos:position pos:line="79" pos:column="16"/></name><operator pos:line="79" pos:column="16">.<pos:position pos:line="79" pos:column="17"/></operator><name pos:line="79" pos:column="17">path<pos:position pos:line="79" pos:column="21"/></name></name> <operator pos:line="79" pos:column="22">=<pos:position pos:line="79" pos:column="23"/></operator> <name pos:line="79" pos:column="24">NULL<pos:position pos:line="79" pos:column="28"/></name></expr>;<pos:position pos:line="79" pos:column="29"/></expr_stmt>
    <expr_stmt><expr><name pos:line="80" pos:column="5">result<pos:position pos:line="80" pos:column="11"/></name> <operator pos:line="80" pos:column="12">=<pos:position pos:line="80" pos:column="13"/></operator> <name pos:line="80" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="80" pos:column="33"/></name></expr>;<pos:position pos:line="80" pos:column="34"/></expr_stmt>
    <goto pos:line="81" pos:column="5">goto <name pos:line="81" pos:column="10">out<pos:position pos:line="81" pos:column="13"/></name>;<pos:position pos:line="81" pos:column="14"/></goto>
  }<pos:position pos:line="82" pos:column="4"/></block></then></if>

  <expr_stmt><expr><name><name pos:line="84" pos:column="3">conn<pos:position pos:line="84" pos:column="7"/></name><operator pos:line="84" pos:column="7">-&gt;<pos:position pos:line="84" pos:column="12"/></operator><name pos:line="84" pos:column="9">host<pos:position pos:line="84" pos:column="13"/></name><operator pos:line="84" pos:column="13">.<pos:position pos:line="84" pos:column="14"/></operator><name pos:line="84" pos:column="14">name<pos:position pos:line="84" pos:column="18"/></name></name> <operator pos:line="84" pos:column="19">=<pos:position pos:line="84" pos:column="20"/></operator> <name><name pos:line="84" pos:column="21">conn<pos:position pos:line="84" pos:column="25"/></name><operator pos:line="84" pos:column="25">-&gt;<pos:position pos:line="84" pos:column="30"/></operator><name pos:line="84" pos:column="27">host<pos:position pos:line="84" pos:column="31"/></name><operator pos:line="84" pos:column="31">.<pos:position pos:line="84" pos:column="32"/></operator><name pos:line="84" pos:column="32">rawalloc<pos:position pos:line="84" pos:column="40"/></name></name></expr>;<pos:position pos:line="84" pos:column="41"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="85" pos:column="3">conn<pos:position pos:line="85" pos:column="7"/></name><operator pos:line="85" pos:column="7">-&gt;<pos:position pos:line="85" pos:column="12"/></operator><name pos:line="85" pos:column="9">host<pos:position pos:line="85" pos:column="13"/></name><operator pos:line="85" pos:column="13">.<pos:position pos:line="85" pos:column="14"/></operator><name pos:line="85" pos:column="14">name<pos:position pos:line="85" pos:column="18"/></name><index pos:line="85" pos:column="18">[<expr><literal type="number" pos:line="85" pos:column="19">0<pos:position pos:line="85" pos:column="20"/></literal></expr>]<pos:position pos:line="85" pos:column="21"/></index></name> <operator pos:line="85" pos:column="22">=<pos:position pos:line="85" pos:column="23"/></operator> <literal type="number" pos:line="85" pos:column="24">0<pos:position pos:line="85" pos:column="25"/></literal></expr>;<pos:position pos:line="85" pos:column="26"/></expr_stmt>

  <expr_stmt><expr><name pos:line="87" pos:column="3">user<pos:position pos:line="87" pos:column="7"/></name> <operator pos:line="87" pos:column="8">=<pos:position pos:line="87" pos:column="9"/></operator> <call><name pos:line="87" pos:column="10">strdup<pos:position pos:line="87" pos:column="16"/></name><argument_list pos:line="87" pos:column="16">(<argument><expr><literal type="string" pos:line="87" pos:column="17">""<pos:position pos:line="87" pos:column="19"/></literal></expr></argument>)<pos:position pos:line="87" pos:column="20"/></argument_list></call></expr>;<pos:position pos:line="87" pos:column="21"/></expr_stmt>
  <expr_stmt><expr><name pos:line="88" pos:column="3">passwd<pos:position pos:line="88" pos:column="9"/></name> <operator pos:line="88" pos:column="10">=<pos:position pos:line="88" pos:column="11"/></operator> <call><name pos:line="88" pos:column="12">strdup<pos:position pos:line="88" pos:column="18"/></name><argument_list pos:line="88" pos:column="18">(<argument><expr><literal type="string" pos:line="88" pos:column="19">""<pos:position pos:line="88" pos:column="21"/></literal></expr></argument>)<pos:position pos:line="88" pos:column="22"/></argument_list></call></expr>;<pos:position pos:line="88" pos:column="23"/></expr_stmt>
  <expr_stmt><expr><name pos:line="89" pos:column="3">options<pos:position pos:line="89" pos:column="10"/></name> <operator pos:line="89" pos:column="11">=<pos:position pos:line="89" pos:column="12"/></operator> <call><name pos:line="89" pos:column="13">strdup<pos:position pos:line="89" pos:column="19"/></name><argument_list pos:line="89" pos:column="19">(<argument><expr><literal type="string" pos:line="89" pos:column="20">""<pos:position pos:line="89" pos:column="22"/></literal></expr></argument>)<pos:position pos:line="89" pos:column="23"/></argument_list></call></expr>;<pos:position pos:line="89" pos:column="24"/></expr_stmt>
  <if pos:line="90" pos:column="3">if<condition pos:line="90" pos:column="5">(<expr><operator pos:line="90" pos:column="6">!<pos:position pos:line="90" pos:column="7"/></operator><name pos:line="90" pos:column="7">user<pos:position pos:line="90" pos:column="11"/></name> <operator pos:line="90" pos:column="12">||<pos:position pos:line="90" pos:column="14"/></operator> <operator pos:line="90" pos:column="15">!<pos:position pos:line="90" pos:column="16"/></operator><name pos:line="90" pos:column="16">passwd<pos:position pos:line="90" pos:column="22"/></name> <operator pos:line="90" pos:column="23">||<pos:position pos:line="90" pos:column="25"/></operator> <operator pos:line="90" pos:column="26">!<pos:position pos:line="90" pos:column="27"/></operator><name pos:line="90" pos:column="27">options<pos:position pos:line="90" pos:column="34"/></name></expr>)<pos:position pos:line="90" pos:column="35"/></condition><then pos:line="90" pos:column="35"> <block pos:line="90" pos:column="36">{
    <expr_stmt><expr><name pos:line="91" pos:column="5">result<pos:position pos:line="91" pos:column="11"/></name> <operator pos:line="91" pos:column="12">=<pos:position pos:line="91" pos:column="13"/></operator> <name pos:line="91" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="91" pos:column="33"/></name></expr>;<pos:position pos:line="91" pos:column="34"/></expr_stmt>
    <goto pos:line="92" pos:column="5">goto <name pos:line="92" pos:column="10">out<pos:position pos:line="92" pos:column="13"/></name>;<pos:position pos:line="92" pos:column="14"/></goto>
  }<pos:position pos:line="93" pos:column="4"/></block></then></if>

  <expr_stmt><expr><name pos:line="95" pos:column="3">result<pos:position pos:line="95" pos:column="9"/></name> <operator pos:line="95" pos:column="10">=<pos:position pos:line="95" pos:column="11"/></operator> <call><name pos:line="95" pos:column="12">parseurlandfillconn<pos:position pos:line="95" pos:column="31"/></name><argument_list pos:line="95" pos:column="31">(<argument><expr><name pos:line="95" pos:column="32">data<pos:position pos:line="95" pos:column="36"/></name></expr></argument>, <argument><expr><name pos:line="95" pos:column="38">conn<pos:position pos:line="95" pos:column="42"/></name></expr></argument>, <argument><expr><operator pos:line="95" pos:column="44">&amp;<pos:position pos:line="95" pos:column="49"/></operator><name pos:line="95" pos:column="45">prot_missing<pos:position pos:line="95" pos:column="57"/></name></expr></argument>, <argument><expr><operator pos:line="95" pos:column="59">&amp;<pos:position pos:line="95" pos:column="64"/></operator><name pos:line="95" pos:column="60">user<pos:position pos:line="95" pos:column="64"/></name></expr></argument>, <argument><expr><operator pos:line="95" pos:column="66">&amp;<pos:position pos:line="95" pos:column="71"/></operator><name pos:line="95" pos:column="67">passwd<pos:position pos:line="95" pos:column="73"/></name></expr></argument>,
                               <argument><expr><operator pos:line="96" pos:column="32">&amp;<pos:position pos:line="96" pos:column="37"/></operator><name pos:line="96" pos:column="33">options<pos:position pos:line="96" pos:column="40"/></name></expr></argument>)<pos:position pos:line="96" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="96" pos:column="42"/></expr_stmt>
  <if pos:line="97" pos:column="3">if<condition pos:line="97" pos:column="5">(<expr><name pos:line="97" pos:column="6">result<pos:position pos:line="97" pos:column="12"/></name></expr>)<pos:position pos:line="97" pos:column="13"/></condition><then pos:line="97" pos:column="13">
    <block type="pseudo"><goto pos:line="98" pos:column="5">goto <name pos:line="98" pos:column="10">out<pos:position pos:line="98" pos:column="13"/></name>;<pos:position pos:line="98" pos:column="14"/></goto></block></then></if>

  <comment type="block" format="doxygen" pos:line="100" pos:column="3">/*************************************************************
   * No protocol part in URL was used, add it!
   *************************************************************/</comment>
  <if pos:line="103" pos:column="3">if<condition pos:line="103" pos:column="5">(<expr><name pos:line="103" pos:column="6">prot_missing<pos:position pos:line="103" pos:column="18"/></name></expr>)<pos:position pos:line="103" pos:column="19"/></condition><then pos:line="103" pos:column="19"> <block pos:line="103" pos:column="20">{
    <comment type="block" pos:line="104" pos:column="5">/* We're guessing prefixes here and if we're told to use a proxy or if
       we're gonna follow a Location: later or... then we need the protocol
       part added so that we have a valid URL. */</comment>
    <decl_stmt><decl><type><name pos:line="107" pos:column="5">char<pos:position pos:line="107" pos:column="9"/></name> <modifier pos:line="107" pos:column="10">*<pos:position pos:line="107" pos:column="11"/></modifier></type><name pos:line="107" pos:column="11">reurl<pos:position pos:line="107" pos:column="16"/></name></decl>;<pos:position pos:line="107" pos:column="17"/></decl_stmt>

    <expr_stmt><expr><name pos:line="109" pos:column="5">reurl<pos:position pos:line="109" pos:column="10"/></name> <operator pos:line="109" pos:column="11">=<pos:position pos:line="109" pos:column="12"/></operator> <call><name pos:line="109" pos:column="13">aprintf<pos:position pos:line="109" pos:column="20"/></name><argument_list pos:line="109" pos:column="20">(<argument><expr><literal type="string" pos:line="109" pos:column="21">"%s://%s"<pos:position pos:line="109" pos:column="30"/></literal></expr></argument>, <argument><expr><name><name pos:line="109" pos:column="32">conn<pos:position pos:line="109" pos:column="36"/></name><operator pos:line="109" pos:column="36">-&gt;<pos:position pos:line="109" pos:column="41"/></operator><name pos:line="109" pos:column="38">handler<pos:position pos:line="109" pos:column="45"/></name><operator pos:line="109" pos:column="45">-&gt;<pos:position pos:line="109" pos:column="50"/></operator><name pos:line="109" pos:column="47">scheme<pos:position pos:line="109" pos:column="53"/></name></name></expr></argument>, <argument><expr><name><name pos:line="109" pos:column="55">data<pos:position pos:line="109" pos:column="59"/></name><operator pos:line="109" pos:column="59">-&gt;<pos:position pos:line="109" pos:column="64"/></operator><name pos:line="109" pos:column="61">change<pos:position pos:line="109" pos:column="67"/></name><operator pos:line="109" pos:column="67">.<pos:position pos:line="109" pos:column="68"/></operator><name pos:line="109" pos:column="68">url<pos:position pos:line="109" pos:column="71"/></name></name></expr></argument>)<pos:position pos:line="109" pos:column="72"/></argument_list></call></expr>;<pos:position pos:line="109" pos:column="73"/></expr_stmt>

    <if pos:line="111" pos:column="5">if<condition pos:line="111" pos:column="7">(<expr><operator pos:line="111" pos:column="8">!<pos:position pos:line="111" pos:column="9"/></operator><name pos:line="111" pos:column="9">reurl<pos:position pos:line="111" pos:column="14"/></name></expr>)<pos:position pos:line="111" pos:column="15"/></condition><then pos:line="111" pos:column="15"> <block pos:line="111" pos:column="16">{
      <expr_stmt><expr><name pos:line="112" pos:column="7">result<pos:position pos:line="112" pos:column="13"/></name> <operator pos:line="112" pos:column="14">=<pos:position pos:line="112" pos:column="15"/></operator> <name pos:line="112" pos:column="16">CURLE_OUT_OF_MEMORY<pos:position pos:line="112" pos:column="35"/></name></expr>;<pos:position pos:line="112" pos:column="36"/></expr_stmt>
      <goto pos:line="113" pos:column="7">goto <name pos:line="113" pos:column="12">out<pos:position pos:line="113" pos:column="15"/></name>;<pos:position pos:line="113" pos:column="16"/></goto>
    }<pos:position pos:line="114" pos:column="6"/></block></then></if>

    <if pos:line="116" pos:column="5">if<condition pos:line="116" pos:column="7">(<expr><name><name pos:line="116" pos:column="8">data<pos:position pos:line="116" pos:column="12"/></name><operator pos:line="116" pos:column="12">-&gt;<pos:position pos:line="116" pos:column="17"/></operator><name pos:line="116" pos:column="14">change<pos:position pos:line="116" pos:column="20"/></name><operator pos:line="116" pos:column="20">.<pos:position pos:line="116" pos:column="21"/></operator><name pos:line="116" pos:column="21">url_alloc<pos:position pos:line="116" pos:column="30"/></name></name></expr>)<pos:position pos:line="116" pos:column="31"/></condition><then pos:line="116" pos:column="31"> <block pos:line="116" pos:column="32">{
      <expr_stmt><expr><call><name pos:line="117" pos:column="7">Curl_safefree<pos:position pos:line="117" pos:column="20"/></name><argument_list pos:line="117" pos:column="20">(<argument><expr><name><name pos:line="117" pos:column="21">data<pos:position pos:line="117" pos:column="25"/></name><operator pos:line="117" pos:column="25">-&gt;<pos:position pos:line="117" pos:column="30"/></operator><name pos:line="117" pos:column="27">change<pos:position pos:line="117" pos:column="33"/></name><operator pos:line="117" pos:column="33">.<pos:position pos:line="117" pos:column="34"/></operator><name pos:line="117" pos:column="34">url<pos:position pos:line="117" pos:column="37"/></name></name></expr></argument>)<pos:position pos:line="117" pos:column="38"/></argument_list></call></expr>;<pos:position pos:line="117" pos:column="39"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="118" pos:column="7">data<pos:position pos:line="118" pos:column="11"/></name><operator pos:line="118" pos:column="11">-&gt;<pos:position pos:line="118" pos:column="16"/></operator><name pos:line="118" pos:column="13">change<pos:position pos:line="118" pos:column="19"/></name><operator pos:line="118" pos:column="19">.<pos:position pos:line="118" pos:column="20"/></operator><name pos:line="118" pos:column="20">url_alloc<pos:position pos:line="118" pos:column="29"/></name></name> <operator pos:line="118" pos:column="30">=<pos:position pos:line="118" pos:column="31"/></operator> <name pos:line="118" pos:column="32">FALSE<pos:position pos:line="118" pos:column="37"/></name></expr>;<pos:position pos:line="118" pos:column="38"/></expr_stmt>
    }<pos:position pos:line="119" pos:column="6"/></block></then></if>

    <expr_stmt><expr><name><name pos:line="121" pos:column="5">data<pos:position pos:line="121" pos:column="9"/></name><operator pos:line="121" pos:column="9">-&gt;<pos:position pos:line="121" pos:column="14"/></operator><name pos:line="121" pos:column="11">change<pos:position pos:line="121" pos:column="17"/></name><operator pos:line="121" pos:column="17">.<pos:position pos:line="121" pos:column="18"/></operator><name pos:line="121" pos:column="18">url<pos:position pos:line="121" pos:column="21"/></name></name> <operator pos:line="121" pos:column="22">=<pos:position pos:line="121" pos:column="23"/></operator> <name pos:line="121" pos:column="24">reurl<pos:position pos:line="121" pos:column="29"/></name></expr>;<pos:position pos:line="121" pos:column="30"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="122" pos:column="5">data<pos:position pos:line="122" pos:column="9"/></name><operator pos:line="122" pos:column="9">-&gt;<pos:position pos:line="122" pos:column="14"/></operator><name pos:line="122" pos:column="11">change<pos:position pos:line="122" pos:column="17"/></name><operator pos:line="122" pos:column="17">.<pos:position pos:line="122" pos:column="18"/></operator><name pos:line="122" pos:column="18">url_alloc<pos:position pos:line="122" pos:column="27"/></name></name> <operator pos:line="122" pos:column="28">=<pos:position pos:line="122" pos:column="29"/></operator> <name pos:line="122" pos:column="30">TRUE<pos:position pos:line="122" pos:column="34"/></name></expr>;<pos:position pos:line="122" pos:column="35"/></expr_stmt> <comment type="block" pos:line="122" pos:column="36">/* free this later */</comment>
  }<pos:position pos:line="123" pos:column="4"/></block></then></if>

  <comment type="block" format="doxygen" pos:line="125" pos:column="3">/*************************************************************
   * If the protocol can't handle url query strings, then cut
   * off the unhandable part
   *************************************************************/</comment>
  <if pos:line="129" pos:column="3">if<condition pos:line="129" pos:column="5">(<expr><operator pos:line="129" pos:column="6">(<pos:position pos:line="129" pos:column="7"/></operator><name><name pos:line="129" pos:column="7">conn<pos:position pos:line="129" pos:column="11"/></name><operator pos:line="129" pos:column="11">-&gt;<pos:position pos:line="129" pos:column="16"/></operator><name pos:line="129" pos:column="13">given<pos:position pos:line="129" pos:column="18"/></name><operator pos:line="129" pos:column="18">-&gt;<pos:position pos:line="129" pos:column="23"/></operator><name pos:line="129" pos:column="20">flags<pos:position pos:line="129" pos:column="25"/></name></name><operator pos:line="129" pos:column="25">&amp;<pos:position pos:line="129" pos:column="30"/></operator><name pos:line="129" pos:column="26">PROTOPT_NOURLQUERY<pos:position pos:line="129" pos:column="44"/></name><operator pos:line="129" pos:column="44">)<pos:position pos:line="129" pos:column="45"/></operator></expr>)<pos:position pos:line="129" pos:column="46"/></condition><then pos:line="129" pos:column="46"> <block pos:line="129" pos:column="47">{
    <decl_stmt><decl><type><name pos:line="130" pos:column="5">char<pos:position pos:line="130" pos:column="9"/></name> <modifier pos:line="130" pos:column="10">*<pos:position pos:line="130" pos:column="11"/></modifier></type><name pos:line="130" pos:column="11">path_q_sep<pos:position pos:line="130" pos:column="21"/></name> <init pos:line="130" pos:column="22">= <expr><call><name pos:line="130" pos:column="24">strchr<pos:position pos:line="130" pos:column="30"/></name><argument_list pos:line="130" pos:column="30">(<argument><expr><name><name pos:line="130" pos:column="31">conn<pos:position pos:line="130" pos:column="35"/></name><operator pos:line="130" pos:column="35">-&gt;<pos:position pos:line="130" pos:column="40"/></operator><name pos:line="130" pos:column="37">data<pos:position pos:line="130" pos:column="41"/></name><operator pos:line="130" pos:column="41">-&gt;<pos:position pos:line="130" pos:column="46"/></operator><name pos:line="130" pos:column="43">state<pos:position pos:line="130" pos:column="48"/></name><operator pos:line="130" pos:column="48">.<pos:position pos:line="130" pos:column="49"/></operator><name pos:line="130" pos:column="49">path<pos:position pos:line="130" pos:column="53"/></name></name></expr></argument>, <argument><expr><literal type="char" pos:line="130" pos:column="55">'?'<pos:position pos:line="130" pos:column="58"/></literal></expr></argument>)<pos:position pos:line="130" pos:column="59"/></argument_list></call></expr></init></decl>;<pos:position pos:line="130" pos:column="60"/></decl_stmt>
    <if pos:line="131" pos:column="5">if<condition pos:line="131" pos:column="7">(<expr><name pos:line="131" pos:column="8">path_q_sep<pos:position pos:line="131" pos:column="18"/></name></expr>)<pos:position pos:line="131" pos:column="19"/></condition><then pos:line="131" pos:column="19"> <block pos:line="131" pos:column="20">{
      <comment type="block" pos:line="132" pos:column="7">/* according to rfc3986, allow the query (?foo=bar)
         also on protocols that can't handle it.

         cut the string-part after '?'
      */</comment>

      <comment type="block" pos:line="138" pos:column="7">/* terminate the string */</comment>
      <expr_stmt><expr><name><name pos:line="139" pos:column="7">path_q_sep<pos:position pos:line="139" pos:column="17"/></name><index pos:line="139" pos:column="17">[<expr><literal type="number" pos:line="139" pos:column="18">0<pos:position pos:line="139" pos:column="19"/></literal></expr>]<pos:position pos:line="139" pos:column="20"/></index></name> <operator pos:line="139" pos:column="21">=<pos:position pos:line="139" pos:column="22"/></operator> <literal type="number" pos:line="139" pos:column="23">0<pos:position pos:line="139" pos:column="24"/></literal></expr>;<pos:position pos:line="139" pos:column="25"/></expr_stmt>
    }<pos:position pos:line="140" pos:column="6"/></block></then></if>
  }<pos:position pos:line="141" pos:column="4"/></block></then></if>

  <if pos:line="143" pos:column="3">if<condition pos:line="143" pos:column="5">(<expr><name><name pos:line="143" pos:column="6">data<pos:position pos:line="143" pos:column="10"/></name><operator pos:line="143" pos:column="10">-&gt;<pos:position pos:line="143" pos:column="15"/></operator><name pos:line="143" pos:column="12">set<pos:position pos:line="143" pos:column="15"/></name><operator pos:line="143" pos:column="15">.<pos:position pos:line="143" pos:column="16"/></operator><name pos:line="143" pos:column="16">str<pos:position pos:line="143" pos:column="19"/></name><index pos:line="143" pos:column="19">[<expr><name pos:line="143" pos:column="20">STRING_BEARER<pos:position pos:line="143" pos:column="33"/></name></expr>]<pos:position pos:line="143" pos:column="34"/></index></name></expr>)<pos:position pos:line="143" pos:column="35"/></condition><then pos:line="143" pos:column="35"> <block pos:line="143" pos:column="36">{
    <expr_stmt><expr><name><name pos:line="144" pos:column="5">conn<pos:position pos:line="144" pos:column="9"/></name><operator pos:line="144" pos:column="9">-&gt;<pos:position pos:line="144" pos:column="14"/></operator><name pos:line="144" pos:column="11">xoauth2_bearer<pos:position pos:line="144" pos:column="25"/></name></name> <operator pos:line="144" pos:column="26">=<pos:position pos:line="144" pos:column="27"/></operator> <call><name pos:line="144" pos:column="28">strdup<pos:position pos:line="144" pos:column="34"/></name><argument_list pos:line="144" pos:column="34">(<argument><expr><name><name pos:line="144" pos:column="35">data<pos:position pos:line="144" pos:column="39"/></name><operator pos:line="144" pos:column="39">-&gt;<pos:position pos:line="144" pos:column="44"/></operator><name pos:line="144" pos:column="41">set<pos:position pos:line="144" pos:column="44"/></name><operator pos:line="144" pos:column="44">.<pos:position pos:line="144" pos:column="45"/></operator><name pos:line="144" pos:column="45">str<pos:position pos:line="144" pos:column="48"/></name><index pos:line="144" pos:column="48">[<expr><name pos:line="144" pos:column="49">STRING_BEARER<pos:position pos:line="144" pos:column="62"/></name></expr>]<pos:position pos:line="144" pos:column="63"/></index></name></expr></argument>)<pos:position pos:line="144" pos:column="64"/></argument_list></call></expr>;<pos:position pos:line="144" pos:column="65"/></expr_stmt>
    <if pos:line="145" pos:column="5">if<condition pos:line="145" pos:column="7">(<expr><operator pos:line="145" pos:column="8">!<pos:position pos:line="145" pos:column="9"/></operator><name><name pos:line="145" pos:column="9">conn<pos:position pos:line="145" pos:column="13"/></name><operator pos:line="145" pos:column="13">-&gt;<pos:position pos:line="145" pos:column="18"/></operator><name pos:line="145" pos:column="15">xoauth2_bearer<pos:position pos:line="145" pos:column="29"/></name></name></expr>)<pos:position pos:line="145" pos:column="30"/></condition><then pos:line="145" pos:column="30"> <block pos:line="145" pos:column="31">{
      <expr_stmt><expr><name pos:line="146" pos:column="7">result<pos:position pos:line="146" pos:column="13"/></name> <operator pos:line="146" pos:column="14">=<pos:position pos:line="146" pos:column="15"/></operator> <name pos:line="146" pos:column="16">CURLE_OUT_OF_MEMORY<pos:position pos:line="146" pos:column="35"/></name></expr>;<pos:position pos:line="146" pos:column="36"/></expr_stmt>
      <goto pos:line="147" pos:column="7">goto <name pos:line="147" pos:column="12">out<pos:position pos:line="147" pos:column="15"/></name>;<pos:position pos:line="147" pos:column="16"/></goto>
    }<pos:position pos:line="148" pos:column="6"/></block></then></if>
  }<pos:position pos:line="149" pos:column="4"/></block></then></if>

<cpp:ifndef pos:line="151" pos:column="1">#<cpp:directive pos:line="151" pos:column="2">ifndef<pos:position pos:line="151" pos:column="8"/></cpp:directive> <name pos:line="151" pos:column="9">CURL_DISABLE_PROXY<pos:position pos:line="151" pos:column="27"/></name></cpp:ifndef>
  <comment type="block" format="doxygen" pos:line="152" pos:column="3">/*************************************************************
   * Extract the user and password from the authentication string
   *************************************************************/</comment>
  <if pos:line="155" pos:column="3">if<condition pos:line="155" pos:column="5">(<expr><name><name pos:line="155" pos:column="6">conn<pos:position pos:line="155" pos:column="10"/></name><operator pos:line="155" pos:column="10">-&gt;<pos:position pos:line="155" pos:column="15"/></operator><name pos:line="155" pos:column="12">bits<pos:position pos:line="155" pos:column="16"/></name><operator pos:line="155" pos:column="16">.<pos:position pos:line="155" pos:column="17"/></operator><name pos:line="155" pos:column="17">proxy_user_passwd<pos:position pos:line="155" pos:column="34"/></name></name></expr>)<pos:position pos:line="155" pos:column="35"/></condition><then pos:line="155" pos:column="35"> <block pos:line="155" pos:column="36">{
    <expr_stmt><expr><name pos:line="156" pos:column="5">result<pos:position pos:line="156" pos:column="11"/></name> <operator pos:line="156" pos:column="12">=<pos:position pos:line="156" pos:column="13"/></operator> <call><name pos:line="156" pos:column="14">parse_proxy_auth<pos:position pos:line="156" pos:column="30"/></name><argument_list pos:line="156" pos:column="30">(<argument><expr><name pos:line="156" pos:column="31">data<pos:position pos:line="156" pos:column="35"/></name></expr></argument>, <argument><expr><name pos:line="156" pos:column="37">conn<pos:position pos:line="156" pos:column="41"/></name></expr></argument>)<pos:position pos:line="156" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="156" pos:column="43"/></expr_stmt>
    <if pos:line="157" pos:column="5">if<condition pos:line="157" pos:column="7">(<expr><name pos:line="157" pos:column="8">result<pos:position pos:line="157" pos:column="14"/></name></expr>)<pos:position pos:line="157" pos:column="15"/></condition><then pos:line="157" pos:column="15">
      <block type="pseudo"><goto pos:line="158" pos:column="7">goto <name pos:line="158" pos:column="12">out<pos:position pos:line="158" pos:column="15"/></name>;<pos:position pos:line="158" pos:column="16"/></goto></block></then></if>
  }<pos:position pos:line="159" pos:column="4"/></block></then></if>

  <comment type="block" format="doxygen" pos:line="161" pos:column="3">/*************************************************************
   * Detect what (if any) proxy to use
   *************************************************************/</comment>
  <if pos:line="164" pos:column="3">if<condition pos:line="164" pos:column="5">(<expr><name><name pos:line="164" pos:column="6">data<pos:position pos:line="164" pos:column="10"/></name><operator pos:line="164" pos:column="10">-&gt;<pos:position pos:line="164" pos:column="15"/></operator><name pos:line="164" pos:column="12">set<pos:position pos:line="164" pos:column="15"/></name><operator pos:line="164" pos:column="15">.<pos:position pos:line="164" pos:column="16"/></operator><name pos:line="164" pos:column="16">str<pos:position pos:line="164" pos:column="19"/></name><index pos:line="164" pos:column="19">[<expr><name pos:line="164" pos:column="20">STRING_PROXY<pos:position pos:line="164" pos:column="32"/></name></expr>]<pos:position pos:line="164" pos:column="33"/></index></name></expr>)<pos:position pos:line="164" pos:column="34"/></condition><then pos:line="164" pos:column="34"> <block pos:line="164" pos:column="35">{
    <expr_stmt><expr><name pos:line="165" pos:column="5">proxy<pos:position pos:line="165" pos:column="10"/></name> <operator pos:line="165" pos:column="11">=<pos:position pos:line="165" pos:column="12"/></operator> <call><name pos:line="165" pos:column="13">strdup<pos:position pos:line="165" pos:column="19"/></name><argument_list pos:line="165" pos:column="19">(<argument><expr><name><name pos:line="165" pos:column="20">data<pos:position pos:line="165" pos:column="24"/></name><operator pos:line="165" pos:column="24">-&gt;<pos:position pos:line="165" pos:column="29"/></operator><name pos:line="165" pos:column="26">set<pos:position pos:line="165" pos:column="29"/></name><operator pos:line="165" pos:column="29">.<pos:position pos:line="165" pos:column="30"/></operator><name pos:line="165" pos:column="30">str<pos:position pos:line="165" pos:column="33"/></name><index pos:line="165" pos:column="33">[<expr><name pos:line="165" pos:column="34">STRING_PROXY<pos:position pos:line="165" pos:column="46"/></name></expr>]<pos:position pos:line="165" pos:column="47"/></index></name></expr></argument>)<pos:position pos:line="165" pos:column="48"/></argument_list></call></expr>;<pos:position pos:line="165" pos:column="49"/></expr_stmt>
    <comment type="block" pos:line="166" pos:column="5">/* if global proxy is set, this is it */</comment>
    <if pos:line="167" pos:column="5">if<condition pos:line="167" pos:column="7">(<expr><name pos:line="167" pos:column="8">NULL<pos:position pos:line="167" pos:column="12"/></name> <operator pos:line="167" pos:column="13">==<pos:position pos:line="167" pos:column="15"/></operator> <name pos:line="167" pos:column="16">proxy<pos:position pos:line="167" pos:column="21"/></name></expr>)<pos:position pos:line="167" pos:column="22"/></condition><then pos:line="167" pos:column="22"> <block pos:line="167" pos:column="23">{
      <expr_stmt><expr><call><name pos:line="168" pos:column="7">failf<pos:position pos:line="168" pos:column="12"/></name><argument_list pos:line="168" pos:column="12">(<argument><expr><name pos:line="168" pos:column="13">data<pos:position pos:line="168" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="168" pos:column="19">"memory shortage"<pos:position pos:line="168" pos:column="36"/></literal></expr></argument>)<pos:position pos:line="168" pos:column="37"/></argument_list></call></expr>;<pos:position pos:line="168" pos:column="38"/></expr_stmt>
      <expr_stmt><expr><name pos:line="169" pos:column="7">result<pos:position pos:line="169" pos:column="13"/></name> <operator pos:line="169" pos:column="14">=<pos:position pos:line="169" pos:column="15"/></operator> <name pos:line="169" pos:column="16">CURLE_OUT_OF_MEMORY<pos:position pos:line="169" pos:column="35"/></name></expr>;<pos:position pos:line="169" pos:column="36"/></expr_stmt>
      <goto pos:line="170" pos:column="7">goto <name pos:line="170" pos:column="12">out<pos:position pos:line="170" pos:column="15"/></name>;<pos:position pos:line="170" pos:column="16"/></goto>
    }<pos:position pos:line="171" pos:column="6"/></block></then></if>
  }<pos:position pos:line="172" pos:column="4"/></block></then></if>

  <if pos:line="174" pos:column="3">if<condition pos:line="174" pos:column="5">(<expr><name><name pos:line="174" pos:column="6">data<pos:position pos:line="174" pos:column="10"/></name><operator pos:line="174" pos:column="10">-&gt;<pos:position pos:line="174" pos:column="15"/></operator><name pos:line="174" pos:column="12">set<pos:position pos:line="174" pos:column="15"/></name><operator pos:line="174" pos:column="15">.<pos:position pos:line="174" pos:column="16"/></operator><name pos:line="174" pos:column="16">str<pos:position pos:line="174" pos:column="19"/></name><index pos:line="174" pos:column="19">[<expr><name pos:line="174" pos:column="20">STRING_NOPROXY<pos:position pos:line="174" pos:column="34"/></name></expr>]<pos:position pos:line="174" pos:column="35"/></index></name> <operator pos:line="174" pos:column="36">&amp;&amp;<pos:position pos:line="174" pos:column="46"/></operator>
     <call><name pos:line="175" pos:column="6">check_noproxy<pos:position pos:line="175" pos:column="19"/></name><argument_list pos:line="175" pos:column="19">(<argument><expr><name><name pos:line="175" pos:column="20">conn<pos:position pos:line="175" pos:column="24"/></name><operator pos:line="175" pos:column="24">-&gt;<pos:position pos:line="175" pos:column="29"/></operator><name pos:line="175" pos:column="26">host<pos:position pos:line="175" pos:column="30"/></name><operator pos:line="175" pos:column="30">.<pos:position pos:line="175" pos:column="31"/></operator><name pos:line="175" pos:column="31">name<pos:position pos:line="175" pos:column="35"/></name></name></expr></argument>, <argument><expr><name><name pos:line="175" pos:column="37">data<pos:position pos:line="175" pos:column="41"/></name><operator pos:line="175" pos:column="41">-&gt;<pos:position pos:line="175" pos:column="46"/></operator><name pos:line="175" pos:column="43">set<pos:position pos:line="175" pos:column="46"/></name><operator pos:line="175" pos:column="46">.<pos:position pos:line="175" pos:column="47"/></operator><name pos:line="175" pos:column="47">str<pos:position pos:line="175" pos:column="50"/></name><index pos:line="175" pos:column="50">[<expr><name pos:line="175" pos:column="51">STRING_NOPROXY<pos:position pos:line="175" pos:column="65"/></name></expr>]<pos:position pos:line="175" pos:column="66"/></index></name></expr></argument>)<pos:position pos:line="175" pos:column="67"/></argument_list></call></expr>)<pos:position pos:line="175" pos:column="68"/></condition><then pos:line="175" pos:column="68"> <block pos:line="175" pos:column="69">{
    <if pos:line="176" pos:column="5">if<condition pos:line="176" pos:column="7">(<expr><name pos:line="176" pos:column="8">proxy<pos:position pos:line="176" pos:column="13"/></name></expr>)<pos:position pos:line="176" pos:column="14"/></condition><then pos:line="176" pos:column="14"> <block pos:line="176" pos:column="15">{
      <expr_stmt><expr><call><name pos:line="177" pos:column="7">free<pos:position pos:line="177" pos:column="11"/></name><argument_list pos:line="177" pos:column="11">(<argument><expr><name pos:line="177" pos:column="12">proxy<pos:position pos:line="177" pos:column="17"/></name></expr></argument>)<pos:position pos:line="177" pos:column="18"/></argument_list></call></expr>;<pos:position pos:line="177" pos:column="19"/></expr_stmt>  <comment type="block" pos:line="177" pos:column="21">/* proxy is in exception list */</comment>
      <expr_stmt><expr><name pos:line="178" pos:column="7">proxy<pos:position pos:line="178" pos:column="12"/></name> <operator pos:line="178" pos:column="13">=<pos:position pos:line="178" pos:column="14"/></operator> <name pos:line="178" pos:column="15">NULL<pos:position pos:line="178" pos:column="19"/></name></expr>;<pos:position pos:line="178" pos:column="20"/></expr_stmt>
    }<pos:position pos:line="179" pos:column="6"/></block></then></if>
  }<pos:position pos:line="180" pos:column="4"/></block></then>
  <elseif pos:line="181" pos:column="3">else <if pos:line="181" pos:column="8">if<condition pos:line="181" pos:column="10">(<expr><operator pos:line="181" pos:column="11">!<pos:position pos:line="181" pos:column="12"/></operator><name pos:line="181" pos:column="12">proxy<pos:position pos:line="181" pos:column="17"/></name></expr>)<pos:position pos:line="181" pos:column="18"/></condition><then pos:line="181" pos:column="18">
    <block type="pseudo"><expr_stmt><expr><name pos:line="182" pos:column="5">proxy<pos:position pos:line="182" pos:column="10"/></name> <operator pos:line="182" pos:column="11">=<pos:position pos:line="182" pos:column="12"/></operator> <call><name pos:line="182" pos:column="13">detect_proxy<pos:position pos:line="182" pos:column="25"/></name><argument_list pos:line="182" pos:column="25">(<argument><expr><name pos:line="182" pos:column="26">conn<pos:position pos:line="182" pos:column="30"/></name></expr></argument>)<pos:position pos:line="182" pos:column="31"/></argument_list></call></expr>;<pos:position pos:line="182" pos:column="32"/></expr_stmt></block></then></if></elseif></if>

<cpp:ifdef pos:line="184" pos:column="1">#<cpp:directive pos:line="184" pos:column="2">ifdef<pos:position pos:line="184" pos:column="7"/></cpp:directive> <name pos:line="184" pos:column="8">USE_UNIX_SOCKETS<pos:position pos:line="184" pos:column="24"/></name></cpp:ifdef>
  <if pos:line="185" pos:column="3">if<condition pos:line="185" pos:column="5">(<expr><name pos:line="185" pos:column="6">proxy<pos:position pos:line="185" pos:column="11"/></name> <operator pos:line="185" pos:column="12">&amp;&amp;<pos:position pos:line="185" pos:column="22"/></operator> <name><name pos:line="185" pos:column="15">data<pos:position pos:line="185" pos:column="19"/></name><operator pos:line="185" pos:column="19">-&gt;<pos:position pos:line="185" pos:column="24"/></operator><name pos:line="185" pos:column="21">set<pos:position pos:line="185" pos:column="24"/></name><operator pos:line="185" pos:column="24">.<pos:position pos:line="185" pos:column="25"/></operator><name pos:line="185" pos:column="25">str<pos:position pos:line="185" pos:column="28"/></name><index pos:line="185" pos:column="28">[<expr><name pos:line="185" pos:column="29">STRING_UNIX_SOCKET_PATH<pos:position pos:line="185" pos:column="52"/></name></expr>]<pos:position pos:line="185" pos:column="53"/></index></name></expr>)<pos:position pos:line="185" pos:column="54"/></condition><then pos:line="185" pos:column="54"> <block pos:line="185" pos:column="55">{
    <expr_stmt><expr><call><name pos:line="186" pos:column="5">free<pos:position pos:line="186" pos:column="9"/></name><argument_list pos:line="186" pos:column="9">(<argument><expr><name pos:line="186" pos:column="10">proxy<pos:position pos:line="186" pos:column="15"/></name></expr></argument>)<pos:position pos:line="186" pos:column="16"/></argument_list></call></expr>;<pos:position pos:line="186" pos:column="17"/></expr_stmt>  <comment type="block" pos:line="186" pos:column="19">/* Unix domain sockets cannot be proxied, so disable it */</comment>
    <expr_stmt><expr><name pos:line="187" pos:column="5">proxy<pos:position pos:line="187" pos:column="10"/></name> <operator pos:line="187" pos:column="11">=<pos:position pos:line="187" pos:column="12"/></operator> <name pos:line="187" pos:column="13">NULL<pos:position pos:line="187" pos:column="17"/></name></expr>;<pos:position pos:line="187" pos:column="18"/></expr_stmt>
  }<pos:position pos:line="188" pos:column="4"/></block></then></if>
<cpp:endif pos:line="189" pos:column="1">#<cpp:directive pos:line="189" pos:column="2">endif<pos:position pos:line="189" pos:column="7"/></cpp:directive></cpp:endif>

  <if pos:line="191" pos:column="3">if<condition pos:line="191" pos:column="5">(<expr><name pos:line="191" pos:column="6">proxy<pos:position pos:line="191" pos:column="11"/></name> <operator pos:line="191" pos:column="12">&amp;&amp;<pos:position pos:line="191" pos:column="22"/></operator> <operator pos:line="191" pos:column="15">(<pos:position pos:line="191" pos:column="16"/></operator><operator pos:line="191" pos:column="16">!<pos:position pos:line="191" pos:column="17"/></operator><operator pos:line="191" pos:column="17">*<pos:position pos:line="191" pos:column="18"/></operator><name pos:line="191" pos:column="18">proxy<pos:position pos:line="191" pos:column="23"/></name> <operator pos:line="191" pos:column="24">||<pos:position pos:line="191" pos:column="26"/></operator> <operator pos:line="191" pos:column="27">(<pos:position pos:line="191" pos:column="28"/></operator><name><name pos:line="191" pos:column="28">conn<pos:position pos:line="191" pos:column="32"/></name><operator pos:line="191" pos:column="32">-&gt;<pos:position pos:line="191" pos:column="37"/></operator><name pos:line="191" pos:column="34">handler<pos:position pos:line="191" pos:column="41"/></name><operator pos:line="191" pos:column="41">-&gt;<pos:position pos:line="191" pos:column="46"/></operator><name pos:line="191" pos:column="43">flags<pos:position pos:line="191" pos:column="48"/></name></name> <operator pos:line="191" pos:column="49">&amp;<pos:position pos:line="191" pos:column="54"/></operator> <name pos:line="191" pos:column="51">PROTOPT_NONETWORK<pos:position pos:line="191" pos:column="68"/></name><operator pos:line="191" pos:column="68">)<pos:position pos:line="191" pos:column="69"/></operator><operator pos:line="191" pos:column="69">)<pos:position pos:line="191" pos:column="70"/></operator></expr>)<pos:position pos:line="191" pos:column="71"/></condition><then pos:line="191" pos:column="71"> <block pos:line="191" pos:column="72">{
    <expr_stmt><expr><call><name pos:line="192" pos:column="5">free<pos:position pos:line="192" pos:column="9"/></name><argument_list pos:line="192" pos:column="9">(<argument><expr><name pos:line="192" pos:column="10">proxy<pos:position pos:line="192" pos:column="15"/></name></expr></argument>)<pos:position pos:line="192" pos:column="16"/></argument_list></call></expr>;<pos:position pos:line="192" pos:column="17"/></expr_stmt>  <comment type="block" pos:line="192" pos:column="19">/* Don't bother with an empty proxy string or if the
                     protocol doesn't work with network */</comment>
    <expr_stmt><expr><name pos:line="194" pos:column="5">proxy<pos:position pos:line="194" pos:column="10"/></name> <operator pos:line="194" pos:column="11">=<pos:position pos:line="194" pos:column="12"/></operator> <name pos:line="194" pos:column="13">NULL<pos:position pos:line="194" pos:column="17"/></name></expr>;<pos:position pos:line="194" pos:column="18"/></expr_stmt>
  }<pos:position pos:line="195" pos:column="4"/></block></then></if>

  <comment type="block" format="doxygen" pos:line="197" pos:column="3">/***********************************************************************
   * If this is supposed to use a proxy, we need to figure out the proxy host
   * name, proxy type and port number, so that we can re-use an existing
   * connection that may exist registered to the same proxy host.
   ***********************************************************************/</comment>
  <if pos:line="202" pos:column="3">if<condition pos:line="202" pos:column="5">(<expr><name pos:line="202" pos:column="6">proxy<pos:position pos:line="202" pos:column="11"/></name></expr>)<pos:position pos:line="202" pos:column="12"/></condition><then pos:line="202" pos:column="12"> <block pos:line="202" pos:column="13">{
    <expr_stmt><expr><name pos:line="203" pos:column="5">result<pos:position pos:line="203" pos:column="11"/></name> <operator pos:line="203" pos:column="12">=<pos:position pos:line="203" pos:column="13"/></operator> <call><name pos:line="203" pos:column="14">parse_proxy<pos:position pos:line="203" pos:column="25"/></name><argument_list pos:line="203" pos:column="25">(<argument><expr><name pos:line="203" pos:column="26">data<pos:position pos:line="203" pos:column="30"/></name></expr></argument>, <argument><expr><name pos:line="203" pos:column="32">conn<pos:position pos:line="203" pos:column="36"/></name></expr></argument>, <argument><expr><name pos:line="203" pos:column="38">proxy<pos:position pos:line="203" pos:column="43"/></name></expr></argument>)<pos:position pos:line="203" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="203" pos:column="45"/></expr_stmt>

    <expr_stmt><expr><call><name pos:line="205" pos:column="5">Curl_safefree<pos:position pos:line="205" pos:column="18"/></name><argument_list pos:line="205" pos:column="18">(<argument><expr><name pos:line="205" pos:column="19">proxy<pos:position pos:line="205" pos:column="24"/></name></expr></argument>)<pos:position pos:line="205" pos:column="25"/></argument_list></call></expr>;<pos:position pos:line="205" pos:column="26"/></expr_stmt> <comment type="block" pos:line="205" pos:column="27">/* parse_proxy copies the proxy string */</comment>

    <if pos:line="207" pos:column="5">if<condition pos:line="207" pos:column="7">(<expr><name pos:line="207" pos:column="8">result<pos:position pos:line="207" pos:column="14"/></name></expr>)<pos:position pos:line="207" pos:column="15"/></condition><then pos:line="207" pos:column="15">
      <block type="pseudo"><goto pos:line="208" pos:column="7">goto <name pos:line="208" pos:column="12">out<pos:position pos:line="208" pos:column="15"/></name>;<pos:position pos:line="208" pos:column="16"/></goto></block></then></if>

    <if pos:line="210" pos:column="5">if<condition pos:line="210" pos:column="7">(<expr><operator pos:line="210" pos:column="8">(<pos:position pos:line="210" pos:column="9"/></operator><name><name pos:line="210" pos:column="9">conn<pos:position pos:line="210" pos:column="13"/></name><operator pos:line="210" pos:column="13">-&gt;<pos:position pos:line="210" pos:column="18"/></operator><name pos:line="210" pos:column="15">proxytype<pos:position pos:line="210" pos:column="24"/></name></name> <operator pos:line="210" pos:column="25">==<pos:position pos:line="210" pos:column="27"/></operator> <name pos:line="210" pos:column="28">CURLPROXY_HTTP<pos:position pos:line="210" pos:column="42"/></name><operator pos:line="210" pos:column="42">)<pos:position pos:line="210" pos:column="43"/></operator> <operator pos:line="210" pos:column="44">||<pos:position pos:line="210" pos:column="46"/></operator>
       <operator pos:line="211" pos:column="8">(<pos:position pos:line="211" pos:column="9"/></operator><name><name pos:line="211" pos:column="9">conn<pos:position pos:line="211" pos:column="13"/></name><operator pos:line="211" pos:column="13">-&gt;<pos:position pos:line="211" pos:column="18"/></operator><name pos:line="211" pos:column="15">proxytype<pos:position pos:line="211" pos:column="24"/></name></name> <operator pos:line="211" pos:column="25">==<pos:position pos:line="211" pos:column="27"/></operator> <name pos:line="211" pos:column="28">CURLPROXY_HTTP_1_0<pos:position pos:line="211" pos:column="46"/></name><operator pos:line="211" pos:column="46">)<pos:position pos:line="211" pos:column="47"/></operator></expr>)<pos:position pos:line="211" pos:column="48"/></condition><then pos:line="211" pos:column="48"> <block pos:line="211" pos:column="49">{
<cpp:ifdef pos:line="212" pos:column="1">#<cpp:directive pos:line="212" pos:column="2">ifdef<pos:position pos:line="212" pos:column="7"/></cpp:directive> <name pos:line="212" pos:column="8">CURL_DISABLE_HTTP<pos:position pos:line="212" pos:column="25"/></name></cpp:ifdef>
      <comment type="block" pos:line="213" pos:column="7">/* asking for a HTTP proxy is a bit funny when HTTP is disabled... */</comment>
      <expr_stmt><expr><name pos:line="214" pos:column="7">result<pos:position pos:line="214" pos:column="13"/></name> <operator pos:line="214" pos:column="14">=<pos:position pos:line="214" pos:column="15"/></operator> <name pos:line="214" pos:column="16">CURLE_UNSUPPORTED_PROTOCOL<pos:position pos:line="214" pos:column="42"/></name></expr>;<pos:position pos:line="214" pos:column="43"/></expr_stmt>
      <goto pos:line="215" pos:column="7">goto <name pos:line="215" pos:column="12">out<pos:position pos:line="215" pos:column="15"/></name>;<pos:position pos:line="215" pos:column="16"/></goto>
<cpp:else pos:line="216" pos:column="1">#<cpp:directive pos:line="216" pos:column="2">else<pos:position pos:line="216" pos:column="6"/></cpp:directive></cpp:else>
      <comment type="block" pos:line="217" pos:column="7">/* force this connection's protocol to become HTTP if not already
         compatible - if it isn't tunneling through */</comment>
      <if pos:line="219" pos:column="7">if<condition pos:line="219" pos:column="9">(<expr><operator pos:line="219" pos:column="10">!<pos:position pos:line="219" pos:column="11"/></operator><operator pos:line="219" pos:column="11">(<pos:position pos:line="219" pos:column="12"/></operator><name><name pos:line="219" pos:column="12">conn<pos:position pos:line="219" pos:column="16"/></name><operator pos:line="219" pos:column="16">-&gt;<pos:position pos:line="219" pos:column="21"/></operator><name pos:line="219" pos:column="18">handler<pos:position pos:line="219" pos:column="25"/></name><operator pos:line="219" pos:column="25">-&gt;<pos:position pos:line="219" pos:column="30"/></operator><name pos:line="219" pos:column="27">protocol<pos:position pos:line="219" pos:column="35"/></name></name> <operator pos:line="219" pos:column="36">&amp;<pos:position pos:line="219" pos:column="41"/></operator> <name pos:line="219" pos:column="38">PROTO_FAMILY_HTTP<pos:position pos:line="219" pos:column="55"/></name><operator pos:line="219" pos:column="55">)<pos:position pos:line="219" pos:column="56"/></operator> <operator pos:line="219" pos:column="57">&amp;&amp;<pos:position pos:line="219" pos:column="67"/></operator>
         <operator pos:line="220" pos:column="10">!<pos:position pos:line="220" pos:column="11"/></operator><name><name pos:line="220" pos:column="11">conn<pos:position pos:line="220" pos:column="15"/></name><operator pos:line="220" pos:column="15">-&gt;<pos:position pos:line="220" pos:column="20"/></operator><name pos:line="220" pos:column="17">bits<pos:position pos:line="220" pos:column="21"/></name><operator pos:line="220" pos:column="21">.<pos:position pos:line="220" pos:column="22"/></operator><name pos:line="220" pos:column="22">tunnel_proxy<pos:position pos:line="220" pos:column="34"/></name></name></expr>)<pos:position pos:line="220" pos:column="35"/></condition><then pos:line="220" pos:column="35">
        <block type="pseudo"><expr_stmt><expr><name><name pos:line="221" pos:column="9">conn<pos:position pos:line="221" pos:column="13"/></name><operator pos:line="221" pos:column="13">-&gt;<pos:position pos:line="221" pos:column="18"/></operator><name pos:line="221" pos:column="15">handler<pos:position pos:line="221" pos:column="22"/></name></name> <operator pos:line="221" pos:column="23">=<pos:position pos:line="221" pos:column="24"/></operator> <operator pos:line="221" pos:column="25">&amp;<pos:position pos:line="221" pos:column="30"/></operator><name pos:line="221" pos:column="26">Curl_handler_http<pos:position pos:line="221" pos:column="43"/></name></expr>;<pos:position pos:line="221" pos:column="44"/></expr_stmt></block></then></if>

      <expr_stmt><expr><name><name pos:line="223" pos:column="7">conn<pos:position pos:line="223" pos:column="11"/></name><operator pos:line="223" pos:column="11">-&gt;<pos:position pos:line="223" pos:column="16"/></operator><name pos:line="223" pos:column="13">bits<pos:position pos:line="223" pos:column="17"/></name><operator pos:line="223" pos:column="17">.<pos:position pos:line="223" pos:column="18"/></operator><name pos:line="223" pos:column="18">httpproxy<pos:position pos:line="223" pos:column="27"/></name></name> <operator pos:line="223" pos:column="28">=<pos:position pos:line="223" pos:column="29"/></operator> <name pos:line="223" pos:column="30">TRUE<pos:position pos:line="223" pos:column="34"/></name></expr>;<pos:position pos:line="223" pos:column="35"/></expr_stmt>
<cpp:endif pos:line="224" pos:column="1">#<cpp:directive pos:line="224" pos:column="2">endif<pos:position pos:line="224" pos:column="7"/></cpp:directive></cpp:endif>
    }<pos:position pos:line="225" pos:column="6"/></block></then>
    <else pos:line="226" pos:column="5">else
      <block type="pseudo"><expr_stmt><expr><name><name pos:line="227" pos:column="7">conn<pos:position pos:line="227" pos:column="11"/></name><operator pos:line="227" pos:column="11">-&gt;<pos:position pos:line="227" pos:column="16"/></operator><name pos:line="227" pos:column="13">bits<pos:position pos:line="227" pos:column="17"/></name><operator pos:line="227" pos:column="17">.<pos:position pos:line="227" pos:column="18"/></operator><name pos:line="227" pos:column="18">httpproxy<pos:position pos:line="227" pos:column="27"/></name></name> <operator pos:line="227" pos:column="28">=<pos:position pos:line="227" pos:column="29"/></operator> <name pos:line="227" pos:column="30">FALSE<pos:position pos:line="227" pos:column="35"/></name></expr>;<pos:position pos:line="227" pos:column="36"/></expr_stmt></block></else></if> <comment type="block" pos:line="227" pos:column="37">/* not a HTTP proxy */</comment>
    <expr_stmt><expr><name><name pos:line="228" pos:column="5">conn<pos:position pos:line="228" pos:column="9"/></name><operator pos:line="228" pos:column="9">-&gt;<pos:position pos:line="228" pos:column="14"/></operator><name pos:line="228" pos:column="11">bits<pos:position pos:line="228" pos:column="15"/></name><operator pos:line="228" pos:column="15">.<pos:position pos:line="228" pos:column="16"/></operator><name pos:line="228" pos:column="16">proxy<pos:position pos:line="228" pos:column="21"/></name></name> <operator pos:line="228" pos:column="22">=<pos:position pos:line="228" pos:column="23"/></operator> <name pos:line="228" pos:column="24">TRUE<pos:position pos:line="228" pos:column="28"/></name></expr>;<pos:position pos:line="228" pos:column="29"/></expr_stmt>
  }<pos:position pos:line="229" pos:column="4"/></block></then>
  <else pos:line="230" pos:column="3">else <block pos:line="230" pos:column="8">{
    <comment type="block" pos:line="231" pos:column="5">/* we aren't using the proxy after all... */</comment>
    <expr_stmt><expr><name><name pos:line="232" pos:column="5">conn<pos:position pos:line="232" pos:column="9"/></name><operator pos:line="232" pos:column="9">-&gt;<pos:position pos:line="232" pos:column="14"/></operator><name pos:line="232" pos:column="11">bits<pos:position pos:line="232" pos:column="15"/></name><operator pos:line="232" pos:column="15">.<pos:position pos:line="232" pos:column="16"/></operator><name pos:line="232" pos:column="16">proxy<pos:position pos:line="232" pos:column="21"/></name></name> <operator pos:line="232" pos:column="22">=<pos:position pos:line="232" pos:column="23"/></operator> <name pos:line="232" pos:column="24">FALSE<pos:position pos:line="232" pos:column="29"/></name></expr>;<pos:position pos:line="232" pos:column="30"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="233" pos:column="5">conn<pos:position pos:line="233" pos:column="9"/></name><operator pos:line="233" pos:column="9">-&gt;<pos:position pos:line="233" pos:column="14"/></operator><name pos:line="233" pos:column="11">bits<pos:position pos:line="233" pos:column="15"/></name><operator pos:line="233" pos:column="15">.<pos:position pos:line="233" pos:column="16"/></operator><name pos:line="233" pos:column="16">httpproxy<pos:position pos:line="233" pos:column="25"/></name></name> <operator pos:line="233" pos:column="26">=<pos:position pos:line="233" pos:column="27"/></operator> <name pos:line="233" pos:column="28">FALSE<pos:position pos:line="233" pos:column="33"/></name></expr>;<pos:position pos:line="233" pos:column="34"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="234" pos:column="5">conn<pos:position pos:line="234" pos:column="9"/></name><operator pos:line="234" pos:column="9">-&gt;<pos:position pos:line="234" pos:column="14"/></operator><name pos:line="234" pos:column="11">bits<pos:position pos:line="234" pos:column="15"/></name><operator pos:line="234" pos:column="15">.<pos:position pos:line="234" pos:column="16"/></operator><name pos:line="234" pos:column="16">proxy_user_passwd<pos:position pos:line="234" pos:column="33"/></name></name> <operator pos:line="234" pos:column="34">=<pos:position pos:line="234" pos:column="35"/></operator> <name pos:line="234" pos:column="36">FALSE<pos:position pos:line="234" pos:column="41"/></name></expr>;<pos:position pos:line="234" pos:column="42"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="235" pos:column="5">conn<pos:position pos:line="235" pos:column="9"/></name><operator pos:line="235" pos:column="9">-&gt;<pos:position pos:line="235" pos:column="14"/></operator><name pos:line="235" pos:column="11">bits<pos:position pos:line="235" pos:column="15"/></name><operator pos:line="235" pos:column="15">.<pos:position pos:line="235" pos:column="16"/></operator><name pos:line="235" pos:column="16">tunnel_proxy<pos:position pos:line="235" pos:column="28"/></name></name> <operator pos:line="235" pos:column="29">=<pos:position pos:line="235" pos:column="30"/></operator> <name pos:line="235" pos:column="31">FALSE<pos:position pos:line="235" pos:column="36"/></name></expr>;<pos:position pos:line="235" pos:column="37"/></expr_stmt>
  }<pos:position pos:line="236" pos:column="4"/></block></else></if>

<cpp:endif pos:line="238" pos:column="1">#<cpp:directive pos:line="238" pos:column="2">endif<pos:position pos:line="238" pos:column="7"/></cpp:directive></cpp:endif> <comment type="block" pos:line="238" pos:column="8">/* CURL_DISABLE_PROXY */</comment>

  <comment type="block" format="doxygen" pos:line="240" pos:column="3">/*************************************************************
   * If the protocol is using SSL and HTTP proxy is used, we set
   * the tunnel_proxy bit.
   *************************************************************/</comment>
  <if pos:line="244" pos:column="3">if<condition pos:line="244" pos:column="5">(<expr><operator pos:line="244" pos:column="6">(<pos:position pos:line="244" pos:column="7"/></operator><name><name pos:line="244" pos:column="7">conn<pos:position pos:line="244" pos:column="11"/></name><operator pos:line="244" pos:column="11">-&gt;<pos:position pos:line="244" pos:column="16"/></operator><name pos:line="244" pos:column="13">given<pos:position pos:line="244" pos:column="18"/></name><operator pos:line="244" pos:column="18">-&gt;<pos:position pos:line="244" pos:column="23"/></operator><name pos:line="244" pos:column="20">flags<pos:position pos:line="244" pos:column="25"/></name></name><operator pos:line="244" pos:column="25">&amp;<pos:position pos:line="244" pos:column="30"/></operator><name pos:line="244" pos:column="26">PROTOPT_SSL<pos:position pos:line="244" pos:column="37"/></name><operator pos:line="244" pos:column="37">)<pos:position pos:line="244" pos:column="38"/></operator> <operator pos:line="244" pos:column="39">&amp;&amp;<pos:position pos:line="244" pos:column="49"/></operator> <name><name pos:line="244" pos:column="42">conn<pos:position pos:line="244" pos:column="46"/></name><operator pos:line="244" pos:column="46">-&gt;<pos:position pos:line="244" pos:column="51"/></operator><name pos:line="244" pos:column="48">bits<pos:position pos:line="244" pos:column="52"/></name><operator pos:line="244" pos:column="52">.<pos:position pos:line="244" pos:column="53"/></operator><name pos:line="244" pos:column="53">httpproxy<pos:position pos:line="244" pos:column="62"/></name></name></expr>)<pos:position pos:line="244" pos:column="63"/></condition><then pos:line="244" pos:column="63">
    <block type="pseudo"><expr_stmt><expr><name><name pos:line="245" pos:column="5">conn<pos:position pos:line="245" pos:column="9"/></name><operator pos:line="245" pos:column="9">-&gt;<pos:position pos:line="245" pos:column="14"/></operator><name pos:line="245" pos:column="11">bits<pos:position pos:line="245" pos:column="15"/></name><operator pos:line="245" pos:column="15">.<pos:position pos:line="245" pos:column="16"/></operator><name pos:line="245" pos:column="16">tunnel_proxy<pos:position pos:line="245" pos:column="28"/></name></name> <operator pos:line="245" pos:column="29">=<pos:position pos:line="245" pos:column="30"/></operator> <name pos:line="245" pos:column="31">TRUE<pos:position pos:line="245" pos:column="35"/></name></expr>;<pos:position pos:line="245" pos:column="36"/></expr_stmt></block></then></if>

  <comment type="block" format="doxygen" pos:line="247" pos:column="3">/*************************************************************
   * Figure out the remote port number and fix it in the URL
   *************************************************************/</comment>
  <expr_stmt><expr><name pos:line="250" pos:column="3">result<pos:position pos:line="250" pos:column="9"/></name> <operator pos:line="250" pos:column="10">=<pos:position pos:line="250" pos:column="11"/></operator> <call><name pos:line="250" pos:column="12">parse_remote_port<pos:position pos:line="250" pos:column="29"/></name><argument_list pos:line="250" pos:column="29">(<argument><expr><name pos:line="250" pos:column="30">data<pos:position pos:line="250" pos:column="34"/></name></expr></argument>, <argument><expr><name pos:line="250" pos:column="36">conn<pos:position pos:line="250" pos:column="40"/></name></expr></argument>)<pos:position pos:line="250" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="250" pos:column="42"/></expr_stmt>
  <if pos:line="251" pos:column="3">if<condition pos:line="251" pos:column="5">(<expr><name pos:line="251" pos:column="6">result<pos:position pos:line="251" pos:column="12"/></name></expr>)<pos:position pos:line="251" pos:column="13"/></condition><then pos:line="251" pos:column="13">
    <block type="pseudo"><goto pos:line="252" pos:column="5">goto <name pos:line="252" pos:column="10">out<pos:position pos:line="252" pos:column="13"/></name>;<pos:position pos:line="252" pos:column="14"/></goto></block></then></if>

  <comment type="block" pos:line="254" pos:column="3">/* Check for overridden login details and set them accordingly so they
     they are known when protocol-&gt;setup_connection is called! */</comment>
  <expr_stmt><expr><name pos:line="256" pos:column="3">result<pos:position pos:line="256" pos:column="9"/></name> <operator pos:line="256" pos:column="10">=<pos:position pos:line="256" pos:column="11"/></operator> <call><name pos:line="256" pos:column="12">override_login<pos:position pos:line="256" pos:column="26"/></name><argument_list pos:line="256" pos:column="26">(<argument><expr><name pos:line="256" pos:column="27">data<pos:position pos:line="256" pos:column="31"/></name></expr></argument>, <argument><expr><name pos:line="256" pos:column="33">conn<pos:position pos:line="256" pos:column="37"/></name></expr></argument>, <argument><expr><operator pos:line="256" pos:column="39">&amp;<pos:position pos:line="256" pos:column="44"/></operator><name pos:line="256" pos:column="40">user<pos:position pos:line="256" pos:column="44"/></name></expr></argument>, <argument><expr><operator pos:line="256" pos:column="46">&amp;<pos:position pos:line="256" pos:column="51"/></operator><name pos:line="256" pos:column="47">passwd<pos:position pos:line="256" pos:column="53"/></name></expr></argument>, <argument><expr><operator pos:line="256" pos:column="55">&amp;<pos:position pos:line="256" pos:column="60"/></operator><name pos:line="256" pos:column="56">options<pos:position pos:line="256" pos:column="63"/></name></expr></argument>)<pos:position pos:line="256" pos:column="64"/></argument_list></call></expr>;<pos:position pos:line="256" pos:column="65"/></expr_stmt>
  <if pos:line="257" pos:column="3">if<condition pos:line="257" pos:column="5">(<expr><name pos:line="257" pos:column="6">result<pos:position pos:line="257" pos:column="12"/></name></expr>)<pos:position pos:line="257" pos:column="13"/></condition><then pos:line="257" pos:column="13">
    <block type="pseudo"><goto pos:line="258" pos:column="5">goto <name pos:line="258" pos:column="10">out<pos:position pos:line="258" pos:column="13"/></name>;<pos:position pos:line="258" pos:column="14"/></goto></block></then></if>
  <expr_stmt><expr><name pos:line="259" pos:column="3">result<pos:position pos:line="259" pos:column="9"/></name> <operator pos:line="259" pos:column="10">=<pos:position pos:line="259" pos:column="11"/></operator> <call><name pos:line="259" pos:column="12">set_login<pos:position pos:line="259" pos:column="21"/></name><argument_list pos:line="259" pos:column="21">(<argument><expr><name pos:line="259" pos:column="22">conn<pos:position pos:line="259" pos:column="26"/></name></expr></argument>, <argument><expr><name pos:line="259" pos:column="28">user<pos:position pos:line="259" pos:column="32"/></name></expr></argument>, <argument><expr><name pos:line="259" pos:column="34">passwd<pos:position pos:line="259" pos:column="40"/></name></expr></argument>, <argument><expr><name pos:line="259" pos:column="42">options<pos:position pos:line="259" pos:column="49"/></name></expr></argument>)<pos:position pos:line="259" pos:column="50"/></argument_list></call></expr>;<pos:position pos:line="259" pos:column="51"/></expr_stmt>
  <if pos:line="260" pos:column="3">if<condition pos:line="260" pos:column="5">(<expr><name pos:line="260" pos:column="6">result<pos:position pos:line="260" pos:column="12"/></name></expr>)<pos:position pos:line="260" pos:column="13"/></condition><then pos:line="260" pos:column="13">
    <block type="pseudo"><goto pos:line="261" pos:column="5">goto <name pos:line="261" pos:column="10">out<pos:position pos:line="261" pos:column="13"/></name>;<pos:position pos:line="261" pos:column="14"/></goto></block></then></if>

  <comment type="block" format="doxygen" pos:line="263" pos:column="3">/*************************************************************
   * Setup internals depending on protocol. Needs to be done after
   * we figured out what/if proxy to use.
   *************************************************************/</comment>
  <expr_stmt><expr><name pos:line="267" pos:column="3">result<pos:position pos:line="267" pos:column="9"/></name> <operator pos:line="267" pos:column="10">=<pos:position pos:line="267" pos:column="11"/></operator> <call><name pos:line="267" pos:column="12">setup_connection_internals<pos:position pos:line="267" pos:column="38"/></name><argument_list pos:line="267" pos:column="38">(<argument><expr><name pos:line="267" pos:column="39">conn<pos:position pos:line="267" pos:column="43"/></name></expr></argument>)<pos:position pos:line="267" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="267" pos:column="45"/></expr_stmt>
  <if pos:line="268" pos:column="3">if<condition pos:line="268" pos:column="5">(<expr><name pos:line="268" pos:column="6">result<pos:position pos:line="268" pos:column="12"/></name></expr>)<pos:position pos:line="268" pos:column="13"/></condition><then pos:line="268" pos:column="13">
    <block type="pseudo"><goto pos:line="269" pos:column="5">goto <name pos:line="269" pos:column="10">out<pos:position pos:line="269" pos:column="13"/></name>;<pos:position pos:line="269" pos:column="14"/></goto></block></then></if>

  <expr_stmt><expr><name><name pos:line="271" pos:column="3">conn<pos:position pos:line="271" pos:column="7"/></name><operator pos:line="271" pos:column="7">-&gt;<pos:position pos:line="271" pos:column="12"/></operator><name pos:line="271" pos:column="9">recv<pos:position pos:line="271" pos:column="13"/></name><index pos:line="271" pos:column="13">[<expr><name pos:line="271" pos:column="14">FIRSTSOCKET<pos:position pos:line="271" pos:column="25"/></name></expr>]<pos:position pos:line="271" pos:column="26"/></index></name> <operator pos:line="271" pos:column="27">=<pos:position pos:line="271" pos:column="28"/></operator> <name pos:line="271" pos:column="29">Curl_recv_plain<pos:position pos:line="271" pos:column="44"/></name></expr>;<pos:position pos:line="271" pos:column="45"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="272" pos:column="3">conn<pos:position pos:line="272" pos:column="7"/></name><operator pos:line="272" pos:column="7">-&gt;<pos:position pos:line="272" pos:column="12"/></operator><name pos:line="272" pos:column="9">send<pos:position pos:line="272" pos:column="13"/></name><index pos:line="272" pos:column="13">[<expr><name pos:line="272" pos:column="14">FIRSTSOCKET<pos:position pos:line="272" pos:column="25"/></name></expr>]<pos:position pos:line="272" pos:column="26"/></index></name> <operator pos:line="272" pos:column="27">=<pos:position pos:line="272" pos:column="28"/></operator> <name pos:line="272" pos:column="29">Curl_send_plain<pos:position pos:line="272" pos:column="44"/></name></expr>;<pos:position pos:line="272" pos:column="45"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="273" pos:column="3">conn<pos:position pos:line="273" pos:column="7"/></name><operator pos:line="273" pos:column="7">-&gt;<pos:position pos:line="273" pos:column="12"/></operator><name pos:line="273" pos:column="9">recv<pos:position pos:line="273" pos:column="13"/></name><index pos:line="273" pos:column="13">[<expr><name pos:line="273" pos:column="14">SECONDARYSOCKET<pos:position pos:line="273" pos:column="29"/></name></expr>]<pos:position pos:line="273" pos:column="30"/></index></name> <operator pos:line="273" pos:column="31">=<pos:position pos:line="273" pos:column="32"/></operator> <name pos:line="273" pos:column="33">Curl_recv_plain<pos:position pos:line="273" pos:column="48"/></name></expr>;<pos:position pos:line="273" pos:column="49"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="274" pos:column="3">conn<pos:position pos:line="274" pos:column="7"/></name><operator pos:line="274" pos:column="7">-&gt;<pos:position pos:line="274" pos:column="12"/></operator><name pos:line="274" pos:column="9">send<pos:position pos:line="274" pos:column="13"/></name><index pos:line="274" pos:column="13">[<expr><name pos:line="274" pos:column="14">SECONDARYSOCKET<pos:position pos:line="274" pos:column="29"/></name></expr>]<pos:position pos:line="274" pos:column="30"/></index></name> <operator pos:line="274" pos:column="31">=<pos:position pos:line="274" pos:column="32"/></operator> <name pos:line="274" pos:column="33">Curl_send_plain<pos:position pos:line="274" pos:column="48"/></name></expr>;<pos:position pos:line="274" pos:column="49"/></expr_stmt>

  <comment type="block" format="doxygen" pos:line="276" pos:column="3">/***********************************************************************
   * file: is a special case in that it doesn't need a network connection
   ***********************************************************************/</comment>
<cpp:ifndef pos:line="279" pos:column="1">#<cpp:directive pos:line="279" pos:column="2">ifndef<pos:position pos:line="279" pos:column="8"/></cpp:directive> <name pos:line="279" pos:column="9">CURL_DISABLE_FILE<pos:position pos:line="279" pos:column="26"/></name></cpp:ifndef>
  <if pos:line="280" pos:column="3">if<condition pos:line="280" pos:column="5">(<expr><name><name pos:line="280" pos:column="6">conn<pos:position pos:line="280" pos:column="10"/></name><operator pos:line="280" pos:column="10">-&gt;<pos:position pos:line="280" pos:column="15"/></operator><name pos:line="280" pos:column="12">handler<pos:position pos:line="280" pos:column="19"/></name><operator pos:line="280" pos:column="19">-&gt;<pos:position pos:line="280" pos:column="24"/></operator><name pos:line="280" pos:column="21">flags<pos:position pos:line="280" pos:column="26"/></name></name> <operator pos:line="280" pos:column="27">&amp;<pos:position pos:line="280" pos:column="32"/></operator> <name pos:line="280" pos:column="29">PROTOPT_NONETWORK<pos:position pos:line="280" pos:column="46"/></name></expr>)<pos:position pos:line="280" pos:column="47"/></condition><then pos:line="280" pos:column="47"> <block pos:line="280" pos:column="48">{
    <decl_stmt><decl><type><name pos:line="281" pos:column="5">bool<pos:position pos:line="281" pos:column="9"/></name></type> <name pos:line="281" pos:column="10">done<pos:position pos:line="281" pos:column="14"/></name></decl>;<pos:position pos:line="281" pos:column="15"/></decl_stmt>
    <comment type="block" pos:line="282" pos:column="5">/* this is supposed to be the connect function so we better at least check
       that the file is present here! */</comment>
    <expr_stmt><expr><call><name pos:line="284" pos:column="5">DEBUGASSERT<pos:position pos:line="284" pos:column="16"/></name><argument_list pos:line="284" pos:column="16">(<argument><expr><name><name pos:line="284" pos:column="17">conn<pos:position pos:line="284" pos:column="21"/></name><operator pos:line="284" pos:column="21">-&gt;<pos:position pos:line="284" pos:column="26"/></operator><name pos:line="284" pos:column="23">handler<pos:position pos:line="284" pos:column="30"/></name><operator pos:line="284" pos:column="30">-&gt;<pos:position pos:line="284" pos:column="35"/></operator><name pos:line="284" pos:column="32">connect_it<pos:position pos:line="284" pos:column="42"/></name></name></expr></argument>)<pos:position pos:line="284" pos:column="43"/></argument_list></call></expr>;<pos:position pos:line="284" pos:column="44"/></expr_stmt>
    <expr_stmt><expr><name pos:line="285" pos:column="5">result<pos:position pos:line="285" pos:column="11"/></name> <operator pos:line="285" pos:column="12">=<pos:position pos:line="285" pos:column="13"/></operator> <call><name><name pos:line="285" pos:column="14">conn<pos:position pos:line="285" pos:column="18"/></name><operator pos:line="285" pos:column="18">-&gt;<pos:position pos:line="285" pos:column="23"/></operator><name pos:line="285" pos:column="20">handler<pos:position pos:line="285" pos:column="27"/></name><operator pos:line="285" pos:column="27">-&gt;<pos:position pos:line="285" pos:column="32"/></operator><name pos:line="285" pos:column="29">connect_it<pos:position pos:line="285" pos:column="39"/></name></name><argument_list pos:line="285" pos:column="39">(<argument><expr><name pos:line="285" pos:column="40">conn<pos:position pos:line="285" pos:column="44"/></name></expr></argument>, <argument><expr><operator pos:line="285" pos:column="46">&amp;<pos:position pos:line="285" pos:column="51"/></operator><name pos:line="285" pos:column="47">done<pos:position pos:line="285" pos:column="51"/></name></expr></argument>)<pos:position pos:line="285" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="285" pos:column="53"/></expr_stmt>

    <comment type="block" pos:line="287" pos:column="5">/* Setup a "faked" transfer that'll do nothing */</comment>
    <if pos:line="288" pos:column="5">if<condition pos:line="288" pos:column="7">(<expr><operator pos:line="288" pos:column="8">!<pos:position pos:line="288" pos:column="9"/></operator><name pos:line="288" pos:column="9">result<pos:position pos:line="288" pos:column="15"/></name></expr>)<pos:position pos:line="288" pos:column="16"/></condition><then pos:line="288" pos:column="16"> <block pos:line="288" pos:column="17">{
      <expr_stmt><expr><name><name pos:line="289" pos:column="7">conn<pos:position pos:line="289" pos:column="11"/></name><operator pos:line="289" pos:column="11">-&gt;<pos:position pos:line="289" pos:column="16"/></operator><name pos:line="289" pos:column="13">data<pos:position pos:line="289" pos:column="17"/></name></name> <operator pos:line="289" pos:column="18">=<pos:position pos:line="289" pos:column="19"/></operator> <name pos:line="289" pos:column="20">data<pos:position pos:line="289" pos:column="24"/></name></expr>;<pos:position pos:line="289" pos:column="25"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="290" pos:column="7">conn<pos:position pos:line="290" pos:column="11"/></name><operator pos:line="290" pos:column="11">-&gt;<pos:position pos:line="290" pos:column="16"/></operator><name pos:line="290" pos:column="13">bits<pos:position pos:line="290" pos:column="17"/></name><operator pos:line="290" pos:column="17">.<pos:position pos:line="290" pos:column="18"/></operator><name pos:line="290" pos:column="18">tcpconnect<pos:position pos:line="290" pos:column="28"/></name><index pos:line="290" pos:column="28">[<expr><name pos:line="290" pos:column="29">FIRSTSOCKET<pos:position pos:line="290" pos:column="40"/></name></expr>]<pos:position pos:line="290" pos:column="41"/></index></name> <operator pos:line="290" pos:column="42">=<pos:position pos:line="290" pos:column="43"/></operator> <name pos:line="290" pos:column="44">TRUE<pos:position pos:line="290" pos:column="48"/></name></expr>;<pos:position pos:line="290" pos:column="49"/></expr_stmt> <comment type="block" pos:line="290" pos:column="50">/* we are "connected */</comment>

      <expr_stmt><expr><call><name pos:line="292" pos:column="7">ConnectionStore<pos:position pos:line="292" pos:column="22"/></name><argument_list pos:line="292" pos:column="22">(<argument><expr><name pos:line="292" pos:column="23">data<pos:position pos:line="292" pos:column="27"/></name></expr></argument>, <argument><expr><name pos:line="292" pos:column="29">conn<pos:position pos:line="292" pos:column="33"/></name></expr></argument>)<pos:position pos:line="292" pos:column="34"/></argument_list></call></expr>;<pos:position pos:line="292" pos:column="35"/></expr_stmt>

      <comment type="block" pos:line="294" pos:column="7">/*
       * Setup whatever necessary for a resumed transfer
       */</comment>
      <expr_stmt><expr><name pos:line="297" pos:column="7">result<pos:position pos:line="297" pos:column="13"/></name> <operator pos:line="297" pos:column="14">=<pos:position pos:line="297" pos:column="15"/></operator> <call><name pos:line="297" pos:column="16">setup_range<pos:position pos:line="297" pos:column="27"/></name><argument_list pos:line="297" pos:column="27">(<argument><expr><name pos:line="297" pos:column="28">data<pos:position pos:line="297" pos:column="32"/></name></expr></argument>)<pos:position pos:line="297" pos:column="33"/></argument_list></call></expr>;<pos:position pos:line="297" pos:column="34"/></expr_stmt>
      <if pos:line="298" pos:column="7">if<condition pos:line="298" pos:column="9">(<expr><name pos:line="298" pos:column="10">result<pos:position pos:line="298" pos:column="16"/></name></expr>)<pos:position pos:line="298" pos:column="17"/></condition><then pos:line="298" pos:column="17"> <block pos:line="298" pos:column="18">{
        <expr_stmt><expr><call><name pos:line="299" pos:column="9">DEBUGASSERT<pos:position pos:line="299" pos:column="20"/></name><argument_list pos:line="299" pos:column="20">(<argument><expr><name><name pos:line="299" pos:column="21">conn<pos:position pos:line="299" pos:column="25"/></name><operator pos:line="299" pos:column="25">-&gt;<pos:position pos:line="299" pos:column="30"/></operator><name pos:line="299" pos:column="27">handler<pos:position pos:line="299" pos:column="34"/></name><operator pos:line="299" pos:column="34">-&gt;<pos:position pos:line="299" pos:column="39"/></operator><name pos:line="299" pos:column="36">done<pos:position pos:line="299" pos:column="40"/></name></name></expr></argument>)<pos:position pos:line="299" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="299" pos:column="42"/></expr_stmt>
        <comment type="block" pos:line="300" pos:column="9">/* we ignore the return code for the protocol-specific DONE */</comment>
        <expr_stmt><expr><operator pos:line="301" pos:column="9">(<pos:position pos:line="301" pos:column="10"/></operator><name pos:line="301" pos:column="10">void<pos:position pos:line="301" pos:column="14"/></name><operator pos:line="301" pos:column="14">)<pos:position pos:line="301" pos:column="15"/></operator><call><name><name pos:line="301" pos:column="15">conn<pos:position pos:line="301" pos:column="19"/></name><operator pos:line="301" pos:column="19">-&gt;<pos:position pos:line="301" pos:column="24"/></operator><name pos:line="301" pos:column="21">handler<pos:position pos:line="301" pos:column="28"/></name><operator pos:line="301" pos:column="28">-&gt;<pos:position pos:line="301" pos:column="33"/></operator><name pos:line="301" pos:column="30">done<pos:position pos:line="301" pos:column="34"/></name></name><argument_list pos:line="301" pos:column="34">(<argument><expr><name pos:line="301" pos:column="35">conn<pos:position pos:line="301" pos:column="39"/></name></expr></argument>, <argument><expr><name pos:line="301" pos:column="41">result<pos:position pos:line="301" pos:column="47"/></name></expr></argument>, <argument><expr><name pos:line="301" pos:column="49">FALSE<pos:position pos:line="301" pos:column="54"/></name></expr></argument>)<pos:position pos:line="301" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="301" pos:column="56"/></expr_stmt>
        <goto pos:line="302" pos:column="9">goto <name pos:line="302" pos:column="14">out<pos:position pos:line="302" pos:column="17"/></name>;<pos:position pos:line="302" pos:column="18"/></goto>
      }<pos:position pos:line="303" pos:column="8"/></block></then></if>

      <expr_stmt><expr><call><name pos:line="305" pos:column="7">Curl_setup_transfer<pos:position pos:line="305" pos:column="26"/></name><argument_list pos:line="305" pos:column="26">(<argument><expr><name pos:line="305" pos:column="27">conn<pos:position pos:line="305" pos:column="31"/></name></expr></argument>, <argument><expr><operator pos:line="305" pos:column="33">-<pos:position pos:line="305" pos:column="34"/></operator><literal type="number" pos:line="305" pos:column="34">1<pos:position pos:line="305" pos:column="35"/></literal></expr></argument>, <argument><expr><operator pos:line="305" pos:column="37">-<pos:position pos:line="305" pos:column="38"/></operator><literal type="number" pos:line="305" pos:column="38">1<pos:position pos:line="305" pos:column="39"/></literal></expr></argument>, <argument><expr><name pos:line="305" pos:column="41">FALSE<pos:position pos:line="305" pos:column="46"/></name></expr></argument>, <argument><expr><name pos:line="305" pos:column="48">NULL<pos:position pos:line="305" pos:column="52"/></name></expr></argument>, <comment type="block" pos:line="305" pos:column="54">/* no download */</comment>
                          <argument><expr><operator pos:line="306" pos:column="27">-<pos:position pos:line="306" pos:column="28"/></operator><literal type="number" pos:line="306" pos:column="28">1<pos:position pos:line="306" pos:column="29"/></literal></expr></argument>, <argument><expr><name pos:line="306" pos:column="31">NULL<pos:position pos:line="306" pos:column="35"/></name></expr></argument>)<pos:position pos:line="306" pos:column="36"/></argument_list></call></expr>;<pos:position pos:line="306" pos:column="37"/></expr_stmt> <comment type="block" pos:line="306" pos:column="38">/* no upload */</comment>
    }<pos:position pos:line="307" pos:column="6"/></block></then></if>

    <comment type="block" pos:line="309" pos:column="5">/* since we skip do_init() */</comment>
    <expr_stmt><expr><call><name pos:line="310" pos:column="5">do_init<pos:position pos:line="310" pos:column="12"/></name><argument_list pos:line="310" pos:column="12">(<argument><expr><name pos:line="310" pos:column="13">conn<pos:position pos:line="310" pos:column="17"/></name></expr></argument>)<pos:position pos:line="310" pos:column="18"/></argument_list></call></expr>;<pos:position pos:line="310" pos:column="19"/></expr_stmt>

    <goto pos:line="312" pos:column="5">goto <name pos:line="312" pos:column="10">out<pos:position pos:line="312" pos:column="13"/></name>;<pos:position pos:line="312" pos:column="14"/></goto>
  }<pos:position pos:line="313" pos:column="4"/></block></then></if>
<cpp:endif pos:line="314" pos:column="1">#<cpp:directive pos:line="314" pos:column="2">endif<pos:position pos:line="314" pos:column="7"/></cpp:directive></cpp:endif>

  <comment type="block" pos:line="316" pos:column="3">/* Get a cloned copy of the SSL config situation stored in the
     connection struct. But to get this going nicely, we must first make
     sure that the strings in the master copy are pointing to the correct
     strings in the session handle strings array!

     Keep in mind that the pointers in the master copy are pointing to strings
     that will be freed as part of the SessionHandle struct, but all cloned
     copies will be separately allocated.
  */</comment>
  <expr_stmt><expr><name><name pos:line="325" pos:column="3">data<pos:position pos:line="325" pos:column="7"/></name><operator pos:line="325" pos:column="7">-&gt;<pos:position pos:line="325" pos:column="12"/></operator><name pos:line="325" pos:column="9">set<pos:position pos:line="325" pos:column="12"/></name><operator pos:line="325" pos:column="12">.<pos:position pos:line="325" pos:column="13"/></operator><name pos:line="325" pos:column="13">ssl<pos:position pos:line="325" pos:column="16"/></name><operator pos:line="325" pos:column="16">.<pos:position pos:line="325" pos:column="17"/></operator><name pos:line="325" pos:column="17">CApath<pos:position pos:line="325" pos:column="23"/></name></name> <operator pos:line="325" pos:column="24">=<pos:position pos:line="325" pos:column="25"/></operator> <name><name pos:line="325" pos:column="26">data<pos:position pos:line="325" pos:column="30"/></name><operator pos:line="325" pos:column="30">-&gt;<pos:position pos:line="325" pos:column="35"/></operator><name pos:line="325" pos:column="32">set<pos:position pos:line="325" pos:column="35"/></name><operator pos:line="325" pos:column="35">.<pos:position pos:line="325" pos:column="36"/></operator><name pos:line="325" pos:column="36">str<pos:position pos:line="325" pos:column="39"/></name><index pos:line="325" pos:column="39">[<expr><name pos:line="325" pos:column="40">STRING_SSL_CAPATH<pos:position pos:line="325" pos:column="57"/></name></expr>]<pos:position pos:line="325" pos:column="58"/></index></name></expr>;<pos:position pos:line="325" pos:column="59"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="326" pos:column="3">data<pos:position pos:line="326" pos:column="7"/></name><operator pos:line="326" pos:column="7">-&gt;<pos:position pos:line="326" pos:column="12"/></operator><name pos:line="326" pos:column="9">set<pos:position pos:line="326" pos:column="12"/></name><operator pos:line="326" pos:column="12">.<pos:position pos:line="326" pos:column="13"/></operator><name pos:line="326" pos:column="13">ssl<pos:position pos:line="326" pos:column="16"/></name><operator pos:line="326" pos:column="16">.<pos:position pos:line="326" pos:column="17"/></operator><name pos:line="326" pos:column="17">CAfile<pos:position pos:line="326" pos:column="23"/></name></name> <operator pos:line="326" pos:column="24">=<pos:position pos:line="326" pos:column="25"/></operator> <name><name pos:line="326" pos:column="26">data<pos:position pos:line="326" pos:column="30"/></name><operator pos:line="326" pos:column="30">-&gt;<pos:position pos:line="326" pos:column="35"/></operator><name pos:line="326" pos:column="32">set<pos:position pos:line="326" pos:column="35"/></name><operator pos:line="326" pos:column="35">.<pos:position pos:line="326" pos:column="36"/></operator><name pos:line="326" pos:column="36">str<pos:position pos:line="326" pos:column="39"/></name><index pos:line="326" pos:column="39">[<expr><name pos:line="326" pos:column="40">STRING_SSL_CAFILE<pos:position pos:line="326" pos:column="57"/></name></expr>]<pos:position pos:line="326" pos:column="58"/></index></name></expr>;<pos:position pos:line="326" pos:column="59"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="327" pos:column="3">data<pos:position pos:line="327" pos:column="7"/></name><operator pos:line="327" pos:column="7">-&gt;<pos:position pos:line="327" pos:column="12"/></operator><name pos:line="327" pos:column="9">set<pos:position pos:line="327" pos:column="12"/></name><operator pos:line="327" pos:column="12">.<pos:position pos:line="327" pos:column="13"/></operator><name pos:line="327" pos:column="13">ssl<pos:position pos:line="327" pos:column="16"/></name><operator pos:line="327" pos:column="16">.<pos:position pos:line="327" pos:column="17"/></operator><name pos:line="327" pos:column="17">CRLfile<pos:position pos:line="327" pos:column="24"/></name></name> <operator pos:line="327" pos:column="25">=<pos:position pos:line="327" pos:column="26"/></operator> <name><name pos:line="327" pos:column="27">data<pos:position pos:line="327" pos:column="31"/></name><operator pos:line="327" pos:column="31">-&gt;<pos:position pos:line="327" pos:column="36"/></operator><name pos:line="327" pos:column="33">set<pos:position pos:line="327" pos:column="36"/></name><operator pos:line="327" pos:column="36">.<pos:position pos:line="327" pos:column="37"/></operator><name pos:line="327" pos:column="37">str<pos:position pos:line="327" pos:column="40"/></name><index pos:line="327" pos:column="40">[<expr><name pos:line="327" pos:column="41">STRING_SSL_CRLFILE<pos:position pos:line="327" pos:column="59"/></name></expr>]<pos:position pos:line="327" pos:column="60"/></index></name></expr>;<pos:position pos:line="327" pos:column="61"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="328" pos:column="3">data<pos:position pos:line="328" pos:column="7"/></name><operator pos:line="328" pos:column="7">-&gt;<pos:position pos:line="328" pos:column="12"/></operator><name pos:line="328" pos:column="9">set<pos:position pos:line="328" pos:column="12"/></name><operator pos:line="328" pos:column="12">.<pos:position pos:line="328" pos:column="13"/></operator><name pos:line="328" pos:column="13">ssl<pos:position pos:line="328" pos:column="16"/></name><operator pos:line="328" pos:column="16">.<pos:position pos:line="328" pos:column="17"/></operator><name pos:line="328" pos:column="17">issuercert<pos:position pos:line="328" pos:column="27"/></name></name> <operator pos:line="328" pos:column="28">=<pos:position pos:line="328" pos:column="29"/></operator> <name><name pos:line="328" pos:column="30">data<pos:position pos:line="328" pos:column="34"/></name><operator pos:line="328" pos:column="34">-&gt;<pos:position pos:line="328" pos:column="39"/></operator><name pos:line="328" pos:column="36">set<pos:position pos:line="328" pos:column="39"/></name><operator pos:line="328" pos:column="39">.<pos:position pos:line="328" pos:column="40"/></operator><name pos:line="328" pos:column="40">str<pos:position pos:line="328" pos:column="43"/></name><index pos:line="328" pos:column="43">[<expr><name pos:line="328" pos:column="44">STRING_SSL_ISSUERCERT<pos:position pos:line="328" pos:column="65"/></name></expr>]<pos:position pos:line="328" pos:column="66"/></index></name></expr>;<pos:position pos:line="328" pos:column="67"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="329" pos:column="3">data<pos:position pos:line="329" pos:column="7"/></name><operator pos:line="329" pos:column="7">-&gt;<pos:position pos:line="329" pos:column="12"/></operator><name pos:line="329" pos:column="9">set<pos:position pos:line="329" pos:column="12"/></name><operator pos:line="329" pos:column="12">.<pos:position pos:line="329" pos:column="13"/></operator><name pos:line="329" pos:column="13">ssl<pos:position pos:line="329" pos:column="16"/></name><operator pos:line="329" pos:column="16">.<pos:position pos:line="329" pos:column="17"/></operator><name pos:line="329" pos:column="17">random_file<pos:position pos:line="329" pos:column="28"/></name></name> <operator pos:line="329" pos:column="29">=<pos:position pos:line="329" pos:column="30"/></operator> <name><name pos:line="329" pos:column="31">data<pos:position pos:line="329" pos:column="35"/></name><operator pos:line="329" pos:column="35">-&gt;<pos:position pos:line="329" pos:column="40"/></operator><name pos:line="329" pos:column="37">set<pos:position pos:line="329" pos:column="40"/></name><operator pos:line="329" pos:column="40">.<pos:position pos:line="329" pos:column="41"/></operator><name pos:line="329" pos:column="41">str<pos:position pos:line="329" pos:column="44"/></name><index pos:line="329" pos:column="44">[<expr><name pos:line="329" pos:column="45">STRING_SSL_RANDOM_FILE<pos:position pos:line="329" pos:column="67"/></name></expr>]<pos:position pos:line="329" pos:column="68"/></index></name></expr>;<pos:position pos:line="329" pos:column="69"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="330" pos:column="3">data<pos:position pos:line="330" pos:column="7"/></name><operator pos:line="330" pos:column="7">-&gt;<pos:position pos:line="330" pos:column="12"/></operator><name pos:line="330" pos:column="9">set<pos:position pos:line="330" pos:column="12"/></name><operator pos:line="330" pos:column="12">.<pos:position pos:line="330" pos:column="13"/></operator><name pos:line="330" pos:column="13">ssl<pos:position pos:line="330" pos:column="16"/></name><operator pos:line="330" pos:column="16">.<pos:position pos:line="330" pos:column="17"/></operator><name pos:line="330" pos:column="17">egdsocket<pos:position pos:line="330" pos:column="26"/></name></name> <operator pos:line="330" pos:column="27">=<pos:position pos:line="330" pos:column="28"/></operator> <name><name pos:line="330" pos:column="29">data<pos:position pos:line="330" pos:column="33"/></name><operator pos:line="330" pos:column="33">-&gt;<pos:position pos:line="330" pos:column="38"/></operator><name pos:line="330" pos:column="35">set<pos:position pos:line="330" pos:column="38"/></name><operator pos:line="330" pos:column="38">.<pos:position pos:line="330" pos:column="39"/></operator><name pos:line="330" pos:column="39">str<pos:position pos:line="330" pos:column="42"/></name><index pos:line="330" pos:column="42">[<expr><name pos:line="330" pos:column="43">STRING_SSL_EGDSOCKET<pos:position pos:line="330" pos:column="63"/></name></expr>]<pos:position pos:line="330" pos:column="64"/></index></name></expr>;<pos:position pos:line="330" pos:column="65"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="331" pos:column="3">data<pos:position pos:line="331" pos:column="7"/></name><operator pos:line="331" pos:column="7">-&gt;<pos:position pos:line="331" pos:column="12"/></operator><name pos:line="331" pos:column="9">set<pos:position pos:line="331" pos:column="12"/></name><operator pos:line="331" pos:column="12">.<pos:position pos:line="331" pos:column="13"/></operator><name pos:line="331" pos:column="13">ssl<pos:position pos:line="331" pos:column="16"/></name><operator pos:line="331" pos:column="16">.<pos:position pos:line="331" pos:column="17"/></operator><name pos:line="331" pos:column="17">cipher_list<pos:position pos:line="331" pos:column="28"/></name></name> <operator pos:line="331" pos:column="29">=<pos:position pos:line="331" pos:column="30"/></operator> <name><name pos:line="331" pos:column="31">data<pos:position pos:line="331" pos:column="35"/></name><operator pos:line="331" pos:column="35">-&gt;<pos:position pos:line="331" pos:column="40"/></operator><name pos:line="331" pos:column="37">set<pos:position pos:line="331" pos:column="40"/></name><operator pos:line="331" pos:column="40">.<pos:position pos:line="331" pos:column="41"/></operator><name pos:line="331" pos:column="41">str<pos:position pos:line="331" pos:column="44"/></name><index pos:line="331" pos:column="44">[<expr><name pos:line="331" pos:column="45">STRING_SSL_CIPHER_LIST<pos:position pos:line="331" pos:column="67"/></name></expr>]<pos:position pos:line="331" pos:column="68"/></index></name></expr>;<pos:position pos:line="331" pos:column="69"/></expr_stmt>
<cpp:ifdef pos:line="332" pos:column="1">#<cpp:directive pos:line="332" pos:column="2">ifdef<pos:position pos:line="332" pos:column="7"/></cpp:directive> <name pos:line="332" pos:column="8">USE_TLS_SRP<pos:position pos:line="332" pos:column="19"/></name></cpp:ifdef>
  <expr_stmt><expr><name><name pos:line="333" pos:column="3">data<pos:position pos:line="333" pos:column="7"/></name><operator pos:line="333" pos:column="7">-&gt;<pos:position pos:line="333" pos:column="12"/></operator><name pos:line="333" pos:column="9">set<pos:position pos:line="333" pos:column="12"/></name><operator pos:line="333" pos:column="12">.<pos:position pos:line="333" pos:column="13"/></operator><name pos:line="333" pos:column="13">ssl<pos:position pos:line="333" pos:column="16"/></name><operator pos:line="333" pos:column="16">.<pos:position pos:line="333" pos:column="17"/></operator><name pos:line="333" pos:column="17">username<pos:position pos:line="333" pos:column="25"/></name></name> <operator pos:line="333" pos:column="26">=<pos:position pos:line="333" pos:column="27"/></operator> <name><name pos:line="333" pos:column="28">data<pos:position pos:line="333" pos:column="32"/></name><operator pos:line="333" pos:column="32">-&gt;<pos:position pos:line="333" pos:column="37"/></operator><name pos:line="333" pos:column="34">set<pos:position pos:line="333" pos:column="37"/></name><operator pos:line="333" pos:column="37">.<pos:position pos:line="333" pos:column="38"/></operator><name pos:line="333" pos:column="38">str<pos:position pos:line="333" pos:column="41"/></name><index pos:line="333" pos:column="41">[<expr><name pos:line="333" pos:column="42">STRING_TLSAUTH_USERNAME<pos:position pos:line="333" pos:column="65"/></name></expr>]<pos:position pos:line="333" pos:column="66"/></index></name></expr>;<pos:position pos:line="333" pos:column="67"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="334" pos:column="3">data<pos:position pos:line="334" pos:column="7"/></name><operator pos:line="334" pos:column="7">-&gt;<pos:position pos:line="334" pos:column="12"/></operator><name pos:line="334" pos:column="9">set<pos:position pos:line="334" pos:column="12"/></name><operator pos:line="334" pos:column="12">.<pos:position pos:line="334" pos:column="13"/></operator><name pos:line="334" pos:column="13">ssl<pos:position pos:line="334" pos:column="16"/></name><operator pos:line="334" pos:column="16">.<pos:position pos:line="334" pos:column="17"/></operator><name pos:line="334" pos:column="17">password<pos:position pos:line="334" pos:column="25"/></name></name> <operator pos:line="334" pos:column="26">=<pos:position pos:line="334" pos:column="27"/></operator> <name><name pos:line="334" pos:column="28">data<pos:position pos:line="334" pos:column="32"/></name><operator pos:line="334" pos:column="32">-&gt;<pos:position pos:line="334" pos:column="37"/></operator><name pos:line="334" pos:column="34">set<pos:position pos:line="334" pos:column="37"/></name><operator pos:line="334" pos:column="37">.<pos:position pos:line="334" pos:column="38"/></operator><name pos:line="334" pos:column="38">str<pos:position pos:line="334" pos:column="41"/></name><index pos:line="334" pos:column="41">[<expr><name pos:line="334" pos:column="42">STRING_TLSAUTH_PASSWORD<pos:position pos:line="334" pos:column="65"/></name></expr>]<pos:position pos:line="334" pos:column="66"/></index></name></expr>;<pos:position pos:line="334" pos:column="67"/></expr_stmt>
<cpp:endif pos:line="335" pos:column="1">#<cpp:directive pos:line="335" pos:column="2">endif<pos:position pos:line="335" pos:column="7"/></cpp:directive></cpp:endif>

  <if pos:line="337" pos:column="3">if<condition pos:line="337" pos:column="5">(<expr><operator pos:line="337" pos:column="6">!<pos:position pos:line="337" pos:column="7"/></operator><call><name pos:line="337" pos:column="7">Curl_clone_ssl_config<pos:position pos:line="337" pos:column="28"/></name><argument_list pos:line="337" pos:column="28">(<argument><expr><operator pos:line="337" pos:column="29">&amp;<pos:position pos:line="337" pos:column="34"/></operator><name><name pos:line="337" pos:column="30">data<pos:position pos:line="337" pos:column="34"/></name><operator pos:line="337" pos:column="34">-&gt;<pos:position pos:line="337" pos:column="39"/></operator><name pos:line="337" pos:column="36">set<pos:position pos:line="337" pos:column="39"/></name><operator pos:line="337" pos:column="39">.<pos:position pos:line="337" pos:column="40"/></operator><name pos:line="337" pos:column="40">ssl<pos:position pos:line="337" pos:column="43"/></name></name></expr></argument>, <argument><expr><operator pos:line="337" pos:column="45">&amp;<pos:position pos:line="337" pos:column="50"/></operator><name><name pos:line="337" pos:column="46">conn<pos:position pos:line="337" pos:column="50"/></name><operator pos:line="337" pos:column="50">-&gt;<pos:position pos:line="337" pos:column="55"/></operator><name pos:line="337" pos:column="52">ssl_config<pos:position pos:line="337" pos:column="62"/></name></name></expr></argument>)<pos:position pos:line="337" pos:column="63"/></argument_list></call></expr>)<pos:position pos:line="337" pos:column="64"/></condition><then pos:line="337" pos:column="64"> <block pos:line="337" pos:column="65">{
    <expr_stmt><expr><name pos:line="338" pos:column="5">result<pos:position pos:line="338" pos:column="11"/></name> <operator pos:line="338" pos:column="12">=<pos:position pos:line="338" pos:column="13"/></operator> <name pos:line="338" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="338" pos:column="33"/></name></expr>;<pos:position pos:line="338" pos:column="34"/></expr_stmt>
    <goto pos:line="339" pos:column="5">goto <name pos:line="339" pos:column="10">out<pos:position pos:line="339" pos:column="13"/></name>;<pos:position pos:line="339" pos:column="14"/></goto>
  }<pos:position pos:line="340" pos:column="4"/></block></then></if>

  <expr_stmt><expr><call><name pos:line="342" pos:column="3">prune_dead_connections<pos:position pos:line="342" pos:column="25"/></name><argument_list pos:line="342" pos:column="25">(<argument><expr><name pos:line="342" pos:column="26">data<pos:position pos:line="342" pos:column="30"/></name></expr></argument>)<pos:position pos:line="342" pos:column="31"/></argument_list></call></expr>;<pos:position pos:line="342" pos:column="32"/></expr_stmt>

  <comment type="block" format="doxygen" pos:line="344" pos:column="3">/*************************************************************
   * Check the current list of connections to see if we can
   * re-use an already existing one or if we have to create a
   * new one.
   *************************************************************/</comment>

  <comment type="block" pos:line="350" pos:column="3">/* reuse_fresh is TRUE if we are told to use a new connection by force, but
     we only acknowledge this option if this is not a re-used connection
     already (which happens due to follow-location or during a HTTP
     authentication phase). */</comment>
  <if pos:line="354" pos:column="3">if<condition pos:line="354" pos:column="5">(<expr><name><name pos:line="354" pos:column="6">data<pos:position pos:line="354" pos:column="10"/></name><operator pos:line="354" pos:column="10">-&gt;<pos:position pos:line="354" pos:column="15"/></operator><name pos:line="354" pos:column="12">set<pos:position pos:line="354" pos:column="15"/></name><operator pos:line="354" pos:column="15">.<pos:position pos:line="354" pos:column="16"/></operator><name pos:line="354" pos:column="16">reuse_fresh<pos:position pos:line="354" pos:column="27"/></name></name> <operator pos:line="354" pos:column="28">&amp;&amp;<pos:position pos:line="354" pos:column="38"/></operator> <operator pos:line="354" pos:column="31">!<pos:position pos:line="354" pos:column="32"/></operator><name><name pos:line="354" pos:column="32">data<pos:position pos:line="354" pos:column="36"/></name><operator pos:line="354" pos:column="36">-&gt;<pos:position pos:line="354" pos:column="41"/></operator><name pos:line="354" pos:column="38">state<pos:position pos:line="354" pos:column="43"/></name><operator pos:line="354" pos:column="43">.<pos:position pos:line="354" pos:column="44"/></operator><name pos:line="354" pos:column="44">this_is_a_follow<pos:position pos:line="354" pos:column="60"/></name></name></expr>)<pos:position pos:line="354" pos:column="61"/></condition><then pos:line="354" pos:column="61">
    <block type="pseudo"><expr_stmt><expr><name pos:line="355" pos:column="5">reuse<pos:position pos:line="355" pos:column="10"/></name> <operator pos:line="355" pos:column="11">=<pos:position pos:line="355" pos:column="12"/></operator> <name pos:line="355" pos:column="13">FALSE<pos:position pos:line="355" pos:column="18"/></name></expr>;<pos:position pos:line="355" pos:column="19"/></expr_stmt></block></then>
  <else pos:line="356" pos:column="3">else
    <block type="pseudo"><expr_stmt><expr><name pos:line="357" pos:column="5">reuse<pos:position pos:line="357" pos:column="10"/></name> <operator pos:line="357" pos:column="11">=<pos:position pos:line="357" pos:column="12"/></operator> <call><name pos:line="357" pos:column="13">ConnectionExists<pos:position pos:line="357" pos:column="29"/></name><argument_list pos:line="357" pos:column="29">(<argument><expr><name pos:line="357" pos:column="30">data<pos:position pos:line="357" pos:column="34"/></name></expr></argument>, <argument><expr><name pos:line="357" pos:column="36">conn<pos:position pos:line="357" pos:column="40"/></name></expr></argument>, <argument><expr><operator pos:line="357" pos:column="42">&amp;<pos:position pos:line="357" pos:column="47"/></operator><name pos:line="357" pos:column="43">conn_temp<pos:position pos:line="357" pos:column="52"/></name></expr></argument>, <argument><expr><operator pos:line="357" pos:column="54">&amp;<pos:position pos:line="357" pos:column="59"/></operator><name pos:line="357" pos:column="55">force_reuse<pos:position pos:line="357" pos:column="66"/></name></expr></argument>)<pos:position pos:line="357" pos:column="67"/></argument_list></call></expr>;<pos:position pos:line="357" pos:column="68"/></expr_stmt></block></else></if>

  <comment type="block" pos:line="359" pos:column="3">/* If we found a reusable connection, we may still want to
     open a new connection if we are pipelining. */</comment>
  <if pos:line="361" pos:column="3">if<condition pos:line="361" pos:column="5">(<expr><name pos:line="361" pos:column="6">reuse<pos:position pos:line="361" pos:column="11"/></name> <operator pos:line="361" pos:column="12">&amp;&amp;<pos:position pos:line="361" pos:column="22"/></operator> <operator pos:line="361" pos:column="15">!<pos:position pos:line="361" pos:column="16"/></operator><name pos:line="361" pos:column="16">force_reuse<pos:position pos:line="361" pos:column="27"/></name> <operator pos:line="361" pos:column="28">&amp;&amp;<pos:position pos:line="361" pos:column="38"/></operator> <call><name pos:line="361" pos:column="31">IsPipeliningPossible<pos:position pos:line="361" pos:column="51"/></name><argument_list pos:line="361" pos:column="51">(<argument><expr><name pos:line="361" pos:column="52">data<pos:position pos:line="361" pos:column="56"/></name></expr></argument>, <argument><expr><name pos:line="361" pos:column="58">conn_temp<pos:position pos:line="361" pos:column="67"/></name></expr></argument>)<pos:position pos:line="361" pos:column="68"/></argument_list></call></expr>)<pos:position pos:line="361" pos:column="69"/></condition><then pos:line="361" pos:column="69"> <block pos:line="361" pos:column="70">{
    <decl_stmt><decl><type><name pos:line="362" pos:column="5">size_t<pos:position pos:line="362" pos:column="11"/></name></type> <name pos:line="362" pos:column="12">pipelen<pos:position pos:line="362" pos:column="19"/></name> <init pos:line="362" pos:column="20">= <expr><name><name pos:line="362" pos:column="22">conn_temp<pos:position pos:line="362" pos:column="31"/></name><operator pos:line="362" pos:column="31">-&gt;<pos:position pos:line="362" pos:column="36"/></operator><name pos:line="362" pos:column="33">send_pipe<pos:position pos:line="362" pos:column="42"/></name><operator pos:line="362" pos:column="42">-&gt;<pos:position pos:line="362" pos:column="47"/></operator><name pos:line="362" pos:column="44">size<pos:position pos:line="362" pos:column="48"/></name></name> <operator pos:line="362" pos:column="49">+<pos:position pos:line="362" pos:column="50"/></operator> <name><name pos:line="362" pos:column="51">conn_temp<pos:position pos:line="362" pos:column="60"/></name><operator pos:line="362" pos:column="60">-&gt;<pos:position pos:line="362" pos:column="65"/></operator><name pos:line="362" pos:column="62">recv_pipe<pos:position pos:line="362" pos:column="71"/></name><operator pos:line="362" pos:column="71">-&gt;<pos:position pos:line="362" pos:column="76"/></operator><name pos:line="362" pos:column="73">size<pos:position pos:line="362" pos:column="77"/></name></name></expr></init></decl>;<pos:position pos:line="362" pos:column="78"/></decl_stmt>
    <if pos:line="363" pos:column="5">if<condition pos:line="363" pos:column="7">(<expr><name pos:line="363" pos:column="8">pipelen<pos:position pos:line="363" pos:column="15"/></name> <operator pos:line="363" pos:column="16">&gt;<pos:position pos:line="363" pos:column="20"/></operator> <literal type="number" pos:line="363" pos:column="18">0<pos:position pos:line="363" pos:column="19"/></literal></expr>)<pos:position pos:line="363" pos:column="20"/></condition><then pos:line="363" pos:column="20"> <block pos:line="363" pos:column="21">{
      <expr_stmt><expr><call><name pos:line="364" pos:column="7">infof<pos:position pos:line="364" pos:column="12"/></name><argument_list pos:line="364" pos:column="12">(<argument><expr><name pos:line="364" pos:column="13">data<pos:position pos:line="364" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="364" pos:column="19">"Found connection %ld, with requests in the pipe (%zu)\n"<pos:position pos:line="364" pos:column="76"/></literal></expr></argument>,
            <argument><expr><name><name pos:line="365" pos:column="13">conn_temp<pos:position pos:line="365" pos:column="22"/></name><operator pos:line="365" pos:column="22">-&gt;<pos:position pos:line="365" pos:column="27"/></operator><name pos:line="365" pos:column="24">connection_id<pos:position pos:line="365" pos:column="37"/></name></name></expr></argument>, <argument><expr><name pos:line="365" pos:column="39">pipelen<pos:position pos:line="365" pos:column="46"/></name></expr></argument>)<pos:position pos:line="365" pos:column="47"/></argument_list></call></expr>;<pos:position pos:line="365" pos:column="48"/></expr_stmt>

      <if pos:line="367" pos:column="7">if<condition pos:line="367" pos:column="9">(<expr><name><name pos:line="367" pos:column="10">conn_temp<pos:position pos:line="367" pos:column="19"/></name><operator pos:line="367" pos:column="19">-&gt;<pos:position pos:line="367" pos:column="24"/></operator><name pos:line="367" pos:column="21">bundle<pos:position pos:line="367" pos:column="27"/></name><operator pos:line="367" pos:column="27">-&gt;<pos:position pos:line="367" pos:column="32"/></operator><name pos:line="367" pos:column="29">num_connections<pos:position pos:line="367" pos:column="44"/></name></name> <operator pos:line="367" pos:column="45">&lt;<pos:position pos:line="367" pos:column="49"/></operator> <name pos:line="367" pos:column="47">max_host_connections<pos:position pos:line="367" pos:column="67"/></name> <operator pos:line="367" pos:column="68">&amp;&amp;<pos:position pos:line="367" pos:column="78"/></operator>
         <name><name pos:line="368" pos:column="10">data<pos:position pos:line="368" pos:column="14"/></name><operator pos:line="368" pos:column="14">-&gt;<pos:position pos:line="368" pos:column="19"/></operator><name pos:line="368" pos:column="16">state<pos:position pos:line="368" pos:column="21"/></name><operator pos:line="368" pos:column="21">.<pos:position pos:line="368" pos:column="22"/></operator><name pos:line="368" pos:column="22">conn_cache<pos:position pos:line="368" pos:column="32"/></name><operator pos:line="368" pos:column="32">-&gt;<pos:position pos:line="368" pos:column="37"/></operator><name pos:line="368" pos:column="34">num_connections<pos:position pos:line="368" pos:column="49"/></name></name> <operator pos:line="368" pos:column="50">&lt;<pos:position pos:line="368" pos:column="54"/></operator> <name pos:line="368" pos:column="52">max_total_connections<pos:position pos:line="368" pos:column="73"/></name></expr>)<pos:position pos:line="368" pos:column="74"/></condition><then pos:line="368" pos:column="74"> <block pos:line="368" pos:column="75">{
        <comment type="block" pos:line="369" pos:column="9">/* We want a new connection anyway */</comment>
        <expr_stmt><expr><name pos:line="370" pos:column="9">reuse<pos:position pos:line="370" pos:column="14"/></name> <operator pos:line="370" pos:column="15">=<pos:position pos:line="370" pos:column="16"/></operator> <name pos:line="370" pos:column="17">FALSE<pos:position pos:line="370" pos:column="22"/></name></expr>;<pos:position pos:line="370" pos:column="23"/></expr_stmt>

        <expr_stmt><expr><call><name pos:line="372" pos:column="9">infof<pos:position pos:line="372" pos:column="14"/></name><argument_list pos:line="372" pos:column="14">(<argument><expr><name pos:line="372" pos:column="15">data<pos:position pos:line="372" pos:column="19"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="372" pos:column="21">"We can reuse, but we want a new connection anyway\n"<pos:position pos:line="372" pos:column="74"/></literal></expr></argument>)<pos:position pos:line="372" pos:column="75"/></argument_list></call></expr>;<pos:position pos:line="372" pos:column="76"/></expr_stmt>
      }<pos:position pos:line="373" pos:column="8"/></block></then></if>
    }<pos:position pos:line="374" pos:column="6"/></block></then></if>
  }<pos:position pos:line="375" pos:column="4"/></block></then></if>

  <if pos:line="377" pos:column="3">if<condition pos:line="377" pos:column="5">(<expr><name pos:line="377" pos:column="6">reuse<pos:position pos:line="377" pos:column="11"/></name></expr>)<pos:position pos:line="377" pos:column="12"/></condition><then pos:line="377" pos:column="12"> <block pos:line="377" pos:column="13">{
    <comment type="block" pos:line="378" pos:column="5">/*
     * We already have a connection for this, we got the former connection
     * in the conn_temp variable and thus we need to cleanup the one we
     * just allocated before we can move along and use the previously
     * existing one.
     */</comment>
    <expr_stmt><expr><name><name pos:line="384" pos:column="5">conn_temp<pos:position pos:line="384" pos:column="14"/></name><operator pos:line="384" pos:column="14">-&gt;<pos:position pos:line="384" pos:column="19"/></operator><name pos:line="384" pos:column="16">inuse<pos:position pos:line="384" pos:column="21"/></name></name> <operator pos:line="384" pos:column="22">=<pos:position pos:line="384" pos:column="23"/></operator> <name pos:line="384" pos:column="24">TRUE<pos:position pos:line="384" pos:column="28"/></name></expr>;<pos:position pos:line="384" pos:column="29"/></expr_stmt> <comment type="block" pos:line="384" pos:column="30">/* mark this as being in use so that no other
                                handle in a multi stack may nick it */</comment>
    <expr_stmt><expr><call><name pos:line="386" pos:column="5">reuse_conn<pos:position pos:line="386" pos:column="15"/></name><argument_list pos:line="386" pos:column="15">(<argument><expr><name pos:line="386" pos:column="16">conn<pos:position pos:line="386" pos:column="20"/></name></expr></argument>, <argument><expr><name pos:line="386" pos:column="22">conn_temp<pos:position pos:line="386" pos:column="31"/></name></expr></argument>)<pos:position pos:line="386" pos:column="32"/></argument_list></call></expr>;<pos:position pos:line="386" pos:column="33"/></expr_stmt>
    <expr_stmt><expr><call><name pos:line="387" pos:column="5">free<pos:position pos:line="387" pos:column="9"/></name><argument_list pos:line="387" pos:column="9">(<argument><expr><name pos:line="387" pos:column="10">conn<pos:position pos:line="387" pos:column="14"/></name></expr></argument>)<pos:position pos:line="387" pos:column="15"/></argument_list></call></expr>;<pos:position pos:line="387" pos:column="16"/></expr_stmt>          <comment type="block" pos:line="387" pos:column="26">/* we don't need this anymore */</comment>
    <expr_stmt><expr><name pos:line="388" pos:column="5">conn<pos:position pos:line="388" pos:column="9"/></name> <operator pos:line="388" pos:column="10">=<pos:position pos:line="388" pos:column="11"/></operator> <name pos:line="388" pos:column="12">conn_temp<pos:position pos:line="388" pos:column="21"/></name></expr>;<pos:position pos:line="388" pos:column="22"/></expr_stmt>
    <expr_stmt><expr><operator pos:line="389" pos:column="5">*<pos:position pos:line="389" pos:column="6"/></operator><name pos:line="389" pos:column="6">in_connect<pos:position pos:line="389" pos:column="16"/></name> <operator pos:line="389" pos:column="17">=<pos:position pos:line="389" pos:column="18"/></operator> <name pos:line="389" pos:column="19">conn<pos:position pos:line="389" pos:column="23"/></name></expr>;<pos:position pos:line="389" pos:column="24"/></expr_stmt>

    <comment type="block" pos:line="391" pos:column="5">/* set a pointer to the hostname we display */</comment>
    <expr_stmt><expr><call><name pos:line="392" pos:column="5">fix_hostname<pos:position pos:line="392" pos:column="17"/></name><argument_list pos:line="392" pos:column="17">(<argument><expr><name pos:line="392" pos:column="18">data<pos:position pos:line="392" pos:column="22"/></name></expr></argument>, <argument><expr><name pos:line="392" pos:column="24">conn<pos:position pos:line="392" pos:column="28"/></name></expr></argument>, <argument><expr><operator pos:line="392" pos:column="30">&amp;<pos:position pos:line="392" pos:column="35"/></operator><name><name pos:line="392" pos:column="31">conn<pos:position pos:line="392" pos:column="35"/></name><operator pos:line="392" pos:column="35">-&gt;<pos:position pos:line="392" pos:column="40"/></operator><name pos:line="392" pos:column="37">host<pos:position pos:line="392" pos:column="41"/></name></name></expr></argument>)<pos:position pos:line="392" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="392" pos:column="43"/></expr_stmt>

    <expr_stmt><expr><call><name pos:line="394" pos:column="5">infof<pos:position pos:line="394" pos:column="10"/></name><argument_list pos:line="394" pos:column="10">(<argument><expr><name pos:line="394" pos:column="11">data<pos:position pos:line="394" pos:column="15"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="394" pos:column="17">"Re-using existing connection! (#%ld) with host %s\n"<pos:position pos:line="394" pos:column="70"/></literal></expr></argument>,
          <argument><expr><name><name pos:line="395" pos:column="11">conn<pos:position pos:line="395" pos:column="15"/></name><operator pos:line="395" pos:column="15">-&gt;<pos:position pos:line="395" pos:column="20"/></operator><name pos:line="395" pos:column="17">connection_id<pos:position pos:line="395" pos:column="30"/></name></name></expr></argument>,
          <argument><expr><ternary><condition><expr><name><name pos:line="396" pos:column="11">conn<pos:position pos:line="396" pos:column="15"/></name><operator pos:line="396" pos:column="15">-&gt;<pos:position pos:line="396" pos:column="20"/></operator><name pos:line="396" pos:column="17">proxy<pos:position pos:line="396" pos:column="22"/></name><operator pos:line="396" pos:column="22">.<pos:position pos:line="396" pos:column="23"/></operator><name pos:line="396" pos:column="23">name<pos:position pos:line="396" pos:column="27"/></name></name></expr>?<pos:position pos:line="396" pos:column="28"/></condition><then><expr><name><name pos:line="396" pos:column="28">conn<pos:position pos:line="396" pos:column="32"/></name><operator pos:line="396" pos:column="32">-&gt;<pos:position pos:line="396" pos:column="37"/></operator><name pos:line="396" pos:column="34">proxy<pos:position pos:line="396" pos:column="39"/></name><operator pos:line="396" pos:column="39">.<pos:position pos:line="396" pos:column="40"/></operator><name pos:line="396" pos:column="40">dispname<pos:position pos:line="396" pos:column="48"/></name></name></expr></then><else pos:line="396" pos:column="48">:<expr><name><name pos:line="396" pos:column="49">conn<pos:position pos:line="396" pos:column="53"/></name><operator pos:line="396" pos:column="53">-&gt;<pos:position pos:line="396" pos:column="58"/></operator><name pos:line="396" pos:column="55">host<pos:position pos:line="396" pos:column="59"/></name><operator pos:line="396" pos:column="59">.<pos:position pos:line="396" pos:column="60"/></operator><name pos:line="396" pos:column="60">dispname<pos:position pos:line="396" pos:column="68"/></name></name></expr></else></ternary></expr></argument>)<pos:position pos:line="396" pos:column="69"/></argument_list></call></expr>;<pos:position pos:line="396" pos:column="70"/></expr_stmt>
  }<pos:position pos:line="397" pos:column="4"/></block></then>
  <else pos:line="398" pos:column="3">else <block pos:line="398" pos:column="8">{
    <comment type="block" pos:line="399" pos:column="5">/* We have decided that we want a new connection. However, we may not
       be able to do that if we have reached the limit of how many
       connections we are allowed to open. */</comment>
    <decl_stmt><decl><type><name><name pos:line="402" pos:column="5">struct<pos:position pos:line="402" pos:column="11"/></name> <name pos:line="402" pos:column="12">connectbundle<pos:position pos:line="402" pos:column="25"/></name></name> <modifier pos:line="402" pos:column="26">*<pos:position pos:line="402" pos:column="27"/></modifier></type><name pos:line="402" pos:column="27">bundle<pos:position pos:line="402" pos:column="33"/></name></decl>;<pos:position pos:line="402" pos:column="34"/></decl_stmt>

    <expr_stmt><expr><name pos:line="404" pos:column="5">bundle<pos:position pos:line="404" pos:column="11"/></name> <operator pos:line="404" pos:column="12">=<pos:position pos:line="404" pos:column="13"/></operator> <call><name pos:line="404" pos:column="14">Curl_conncache_find_bundle<pos:position pos:line="404" pos:column="40"/></name><argument_list pos:line="404" pos:column="40">(<argument><expr><name><name pos:line="404" pos:column="41">data<pos:position pos:line="404" pos:column="45"/></name><operator pos:line="404" pos:column="45">-&gt;<pos:position pos:line="404" pos:column="50"/></operator><name pos:line="404" pos:column="47">state<pos:position pos:line="404" pos:column="52"/></name><operator pos:line="404" pos:column="52">.<pos:position pos:line="404" pos:column="53"/></operator><name pos:line="404" pos:column="53">conn_cache<pos:position pos:line="404" pos:column="63"/></name></name></expr></argument>,
                                        <argument><expr><name><name pos:line="405" pos:column="41">conn<pos:position pos:line="405" pos:column="45"/></name><operator pos:line="405" pos:column="45">-&gt;<pos:position pos:line="405" pos:column="50"/></operator><name pos:line="405" pos:column="47">host<pos:position pos:line="405" pos:column="51"/></name><operator pos:line="405" pos:column="51">.<pos:position pos:line="405" pos:column="52"/></operator><name pos:line="405" pos:column="52">name<pos:position pos:line="405" pos:column="56"/></name></name></expr></argument>)<pos:position pos:line="405" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="405" pos:column="58"/></expr_stmt>
    <if pos:line="406" pos:column="5">if<condition pos:line="406" pos:column="7">(<expr><name pos:line="406" pos:column="8">max_host_connections<pos:position pos:line="406" pos:column="28"/></name> <operator pos:line="406" pos:column="29">&gt;<pos:position pos:line="406" pos:column="33"/></operator> <literal type="number" pos:line="406" pos:column="31">0<pos:position pos:line="406" pos:column="32"/></literal> <operator pos:line="406" pos:column="33">&amp;&amp;<pos:position pos:line="406" pos:column="43"/></operator> <name pos:line="406" pos:column="36">bundle<pos:position pos:line="406" pos:column="42"/></name> <operator pos:line="406" pos:column="43">&amp;&amp;<pos:position pos:line="406" pos:column="53"/></operator>
       <operator pos:line="407" pos:column="8">(<pos:position pos:line="407" pos:column="9"/></operator><name><name pos:line="407" pos:column="9">bundle<pos:position pos:line="407" pos:column="15"/></name><operator pos:line="407" pos:column="15">-&gt;<pos:position pos:line="407" pos:column="20"/></operator><name pos:line="407" pos:column="17">num_connections<pos:position pos:line="407" pos:column="32"/></name></name> <operator pos:line="407" pos:column="33">&gt;=<pos:position pos:line="407" pos:column="38"/></operator> <name pos:line="407" pos:column="36">max_host_connections<pos:position pos:line="407" pos:column="56"/></name><operator pos:line="407" pos:column="56">)<pos:position pos:line="407" pos:column="57"/></operator></expr>)<pos:position pos:line="407" pos:column="58"/></condition><then pos:line="407" pos:column="58"> <block pos:line="407" pos:column="59">{
      <decl_stmt><decl><type><name><name pos:line="408" pos:column="7">struct<pos:position pos:line="408" pos:column="13"/></name> <name pos:line="408" pos:column="14">connectdata<pos:position pos:line="408" pos:column="25"/></name></name> <modifier pos:line="408" pos:column="26">*<pos:position pos:line="408" pos:column="27"/></modifier></type><name pos:line="408" pos:column="27">conn_candidate<pos:position pos:line="408" pos:column="41"/></name></decl>;<pos:position pos:line="408" pos:column="42"/></decl_stmt>

      <comment type="block" pos:line="410" pos:column="7">/* The bundle is full. Let's see if we can kill a connection. */</comment>
      <expr_stmt><expr><name pos:line="411" pos:column="7">conn_candidate<pos:position pos:line="411" pos:column="21"/></name> <operator pos:line="411" pos:column="22">=<pos:position pos:line="411" pos:column="23"/></operator> <call><name pos:line="411" pos:column="24">find_oldest_idle_connection_in_bundle<pos:position pos:line="411" pos:column="61"/></name><argument_list pos:line="411" pos:column="61">(<argument><expr><name pos:line="411" pos:column="62">data<pos:position pos:line="411" pos:column="66"/></name></expr></argument>, <argument><expr><name pos:line="411" pos:column="68">bundle<pos:position pos:line="411" pos:column="74"/></name></expr></argument>)<pos:position pos:line="411" pos:column="75"/></argument_list></call></expr>;<pos:position pos:line="411" pos:column="76"/></expr_stmt>

      <if pos:line="413" pos:column="7">if<condition pos:line="413" pos:column="9">(<expr><name pos:line="413" pos:column="10">conn_candidate<pos:position pos:line="413" pos:column="24"/></name></expr>)<pos:position pos:line="413" pos:column="25"/></condition><then pos:line="413" pos:column="25"> <block pos:line="413" pos:column="26">{
        <comment type="block" pos:line="414" pos:column="9">/* Set the connection's owner correctly, then kill it */</comment>
        <expr_stmt><expr><name><name pos:line="415" pos:column="9">conn_candidate<pos:position pos:line="415" pos:column="23"/></name><operator pos:line="415" pos:column="23">-&gt;<pos:position pos:line="415" pos:column="28"/></operator><name pos:line="415" pos:column="25">data<pos:position pos:line="415" pos:column="29"/></name></name> <operator pos:line="415" pos:column="30">=<pos:position pos:line="415" pos:column="31"/></operator> <name pos:line="415" pos:column="32">data<pos:position pos:line="415" pos:column="36"/></name></expr>;<pos:position pos:line="415" pos:column="37"/></expr_stmt>
        <expr_stmt><expr><operator pos:line="416" pos:column="9">(<pos:position pos:line="416" pos:column="10"/></operator><name pos:line="416" pos:column="10">void<pos:position pos:line="416" pos:column="14"/></name><operator pos:line="416" pos:column="14">)<pos:position pos:line="416" pos:column="15"/></operator><call><name pos:line="416" pos:column="15">Curl_disconnect<pos:position pos:line="416" pos:column="30"/></name><argument_list pos:line="416" pos:column="30">(<argument><expr><name pos:line="416" pos:column="31">conn_candidate<pos:position pos:line="416" pos:column="45"/></name></expr></argument>, <comment type="block" pos:line="416" pos:column="47">/* dead_connection */</comment> <argument><expr><name pos:line="416" pos:column="69">FALSE<pos:position pos:line="416" pos:column="74"/></name></expr></argument>)<pos:position pos:line="416" pos:column="75"/></argument_list></call></expr>;<pos:position pos:line="416" pos:column="76"/></expr_stmt>
      }<pos:position pos:line="417" pos:column="8"/></block></then>
      <else pos:line="418" pos:column="7">else
        <block type="pseudo"><expr_stmt><expr><name pos:line="419" pos:column="9">no_connections_available<pos:position pos:line="419" pos:column="33"/></name> <operator pos:line="419" pos:column="34">=<pos:position pos:line="419" pos:column="35"/></operator> <name pos:line="419" pos:column="36">TRUE<pos:position pos:line="419" pos:column="40"/></name></expr>;<pos:position pos:line="419" pos:column="41"/></expr_stmt></block></else></if>
    }<pos:position pos:line="420" pos:column="6"/></block></then></if>

    <if pos:line="422" pos:column="5">if<condition pos:line="422" pos:column="7">(<expr><name pos:line="422" pos:column="8">max_total_connections<pos:position pos:line="422" pos:column="29"/></name> <operator pos:line="422" pos:column="30">&gt;<pos:position pos:line="422" pos:column="34"/></operator> <literal type="number" pos:line="422" pos:column="32">0<pos:position pos:line="422" pos:column="33"/></literal> <operator pos:line="422" pos:column="34">&amp;&amp;<pos:position pos:line="422" pos:column="44"/></operator>
       <operator pos:line="423" pos:column="8">(<pos:position pos:line="423" pos:column="9"/></operator><name><name pos:line="423" pos:column="9">data<pos:position pos:line="423" pos:column="13"/></name><operator pos:line="423" pos:column="13">-&gt;<pos:position pos:line="423" pos:column="18"/></operator><name pos:line="423" pos:column="15">state<pos:position pos:line="423" pos:column="20"/></name><operator pos:line="423" pos:column="20">.<pos:position pos:line="423" pos:column="21"/></operator><name pos:line="423" pos:column="21">conn_cache<pos:position pos:line="423" pos:column="31"/></name><operator pos:line="423" pos:column="31">-&gt;<pos:position pos:line="423" pos:column="36"/></operator><name pos:line="423" pos:column="33">num_connections<pos:position pos:line="423" pos:column="48"/></name></name> <operator pos:line="423" pos:column="49">&gt;=<pos:position pos:line="423" pos:column="54"/></operator> <name pos:line="423" pos:column="52">max_total_connections<pos:position pos:line="423" pos:column="73"/></name><operator pos:line="423" pos:column="73">)<pos:position pos:line="423" pos:column="74"/></operator></expr>)<pos:position pos:line="423" pos:column="75"/></condition><then pos:line="423" pos:column="75"> <block pos:line="423" pos:column="76">{
      <decl_stmt><decl><type><name><name pos:line="424" pos:column="7">struct<pos:position pos:line="424" pos:column="13"/></name> <name pos:line="424" pos:column="14">connectdata<pos:position pos:line="424" pos:column="25"/></name></name> <modifier pos:line="424" pos:column="26">*<pos:position pos:line="424" pos:column="27"/></modifier></type><name pos:line="424" pos:column="27">conn_candidate<pos:position pos:line="424" pos:column="41"/></name></decl>;<pos:position pos:line="424" pos:column="42"/></decl_stmt>

      <comment type="block" pos:line="426" pos:column="7">/* The cache is full. Let's see if we can kill a connection. */</comment>
      <expr_stmt><expr><name pos:line="427" pos:column="7">conn_candidate<pos:position pos:line="427" pos:column="21"/></name> <operator pos:line="427" pos:column="22">=<pos:position pos:line="427" pos:column="23"/></operator> <call><name pos:line="427" pos:column="24">find_oldest_idle_connection<pos:position pos:line="427" pos:column="51"/></name><argument_list pos:line="427" pos:column="51">(<argument><expr><name pos:line="427" pos:column="52">data<pos:position pos:line="427" pos:column="56"/></name></expr></argument>)<pos:position pos:line="427" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="427" pos:column="58"/></expr_stmt>

      <if pos:line="429" pos:column="7">if<condition pos:line="429" pos:column="9">(<expr><name pos:line="429" pos:column="10">conn_candidate<pos:position pos:line="429" pos:column="24"/></name></expr>)<pos:position pos:line="429" pos:column="25"/></condition><then pos:line="429" pos:column="25"> <block pos:line="429" pos:column="26">{
        <comment type="block" pos:line="430" pos:column="9">/* Set the connection's owner correctly, then kill it */</comment>
        <expr_stmt><expr><name><name pos:line="431" pos:column="9">conn_candidate<pos:position pos:line="431" pos:column="23"/></name><operator pos:line="431" pos:column="23">-&gt;<pos:position pos:line="431" pos:column="28"/></operator><name pos:line="431" pos:column="25">data<pos:position pos:line="431" pos:column="29"/></name></name> <operator pos:line="431" pos:column="30">=<pos:position pos:line="431" pos:column="31"/></operator> <name pos:line="431" pos:column="32">data<pos:position pos:line="431" pos:column="36"/></name></expr>;<pos:position pos:line="431" pos:column="37"/></expr_stmt>
        <expr_stmt><expr><operator pos:line="432" pos:column="9">(<pos:position pos:line="432" pos:column="10"/></operator><name pos:line="432" pos:column="10">void<pos:position pos:line="432" pos:column="14"/></name><operator pos:line="432" pos:column="14">)<pos:position pos:line="432" pos:column="15"/></operator><call><name pos:line="432" pos:column="15">Curl_disconnect<pos:position pos:line="432" pos:column="30"/></name><argument_list pos:line="432" pos:column="30">(<argument><expr><name pos:line="432" pos:column="31">conn_candidate<pos:position pos:line="432" pos:column="45"/></name></expr></argument>, <comment type="block" pos:line="432" pos:column="47">/* dead_connection */</comment> <argument><expr><name pos:line="432" pos:column="69">FALSE<pos:position pos:line="432" pos:column="74"/></name></expr></argument>)<pos:position pos:line="432" pos:column="75"/></argument_list></call></expr>;<pos:position pos:line="432" pos:column="76"/></expr_stmt>
      }<pos:position pos:line="433" pos:column="8"/></block></then>
      <else pos:line="434" pos:column="7">else
        <block type="pseudo"><expr_stmt><expr><name pos:line="435" pos:column="9">no_connections_available<pos:position pos:line="435" pos:column="33"/></name> <operator pos:line="435" pos:column="34">=<pos:position pos:line="435" pos:column="35"/></operator> <name pos:line="435" pos:column="36">TRUE<pos:position pos:line="435" pos:column="40"/></name></expr>;<pos:position pos:line="435" pos:column="41"/></expr_stmt></block></else></if>
    }<pos:position pos:line="436" pos:column="6"/></block></then></if>


    <if pos:line="439" pos:column="5">if<condition pos:line="439" pos:column="7">(<expr><name pos:line="439" pos:column="8">no_connections_available<pos:position pos:line="439" pos:column="32"/></name></expr>)<pos:position pos:line="439" pos:column="33"/></condition><then pos:line="439" pos:column="33"> <block pos:line="439" pos:column="34">{
      <expr_stmt><expr><call><name pos:line="440" pos:column="7">infof<pos:position pos:line="440" pos:column="12"/></name><argument_list pos:line="440" pos:column="12">(<argument><expr><name pos:line="440" pos:column="13">data<pos:position pos:line="440" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="440" pos:column="19">"No connections available.\n"<pos:position pos:line="440" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="440" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="440" pos:column="50"/></expr_stmt>

      <expr_stmt><expr><call><name pos:line="442" pos:column="7">conn_free<pos:position pos:line="442" pos:column="16"/></name><argument_list pos:line="442" pos:column="16">(<argument><expr><name pos:line="442" pos:column="17">conn<pos:position pos:line="442" pos:column="21"/></name></expr></argument>)<pos:position pos:line="442" pos:column="22"/></argument_list></call></expr>;<pos:position pos:line="442" pos:column="23"/></expr_stmt>
      <expr_stmt><expr><operator pos:line="443" pos:column="7">*<pos:position pos:line="443" pos:column="8"/></operator><name pos:line="443" pos:column="8">in_connect<pos:position pos:line="443" pos:column="18"/></name> <operator pos:line="443" pos:column="19">=<pos:position pos:line="443" pos:column="20"/></operator> <name pos:line="443" pos:column="21">NULL<pos:position pos:line="443" pos:column="25"/></name></expr>;<pos:position pos:line="443" pos:column="26"/></expr_stmt>

      <expr_stmt><expr><name pos:line="445" pos:column="7">result<pos:position pos:line="445" pos:column="13"/></name> <operator pos:line="445" pos:column="14">=<pos:position pos:line="445" pos:column="15"/></operator> <name pos:line="445" pos:column="16">CURLE_NO_CONNECTION_AVAILABLE<pos:position pos:line="445" pos:column="45"/></name></expr>;<pos:position pos:line="445" pos:column="46"/></expr_stmt>
      <goto pos:line="446" pos:column="7">goto <name pos:line="446" pos:column="12">out<pos:position pos:line="446" pos:column="15"/></name>;<pos:position pos:line="446" pos:column="16"/></goto>
    }<pos:position pos:line="447" pos:column="6"/></block></then>
    <else pos:line="448" pos:column="5">else <block pos:line="448" pos:column="10">{
      <comment type="block" pos:line="449" pos:column="7">/*
       * This is a brand new connection, so let's store it in the connection
       * cache of ours!
       */</comment>
      <expr_stmt><expr><call><name pos:line="453" pos:column="7">ConnectionStore<pos:position pos:line="453" pos:column="22"/></name><argument_list pos:line="453" pos:column="22">(<argument><expr><name pos:line="453" pos:column="23">data<pos:position pos:line="453" pos:column="27"/></name></expr></argument>, <argument><expr><name pos:line="453" pos:column="29">conn<pos:position pos:line="453" pos:column="33"/></name></expr></argument>)<pos:position pos:line="453" pos:column="34"/></argument_list></call></expr>;<pos:position pos:line="453" pos:column="35"/></expr_stmt>
    }<pos:position pos:line="454" pos:column="6"/></block></else></if>

<cpp:if pos:line="456" pos:column="1">#<cpp:directive pos:line="456" pos:column="2">if<pos:position pos:line="456" pos:column="4"/></cpp:directive> <expr><call><name pos:line="456" pos:column="5">defined<pos:position pos:line="456" pos:column="12"/></name><argument_list pos:line="456" pos:column="12">(<argument><expr><name pos:line="456" pos:column="13">USE_NTLM<pos:position pos:line="456" pos:column="21"/></name></expr></argument>)<pos:position pos:line="456" pos:column="22"/></argument_list></call></expr></cpp:if>
    <comment type="block" pos:line="457" pos:column="5">/* If NTLM is requested in a part of this connection, make sure we don't
       assume the state is fine as this is a fresh connection and NTLM is
       connection based. */</comment>
    <if pos:line="460" pos:column="5">if<condition pos:line="460" pos:column="7">(<expr><operator pos:line="460" pos:column="8">(<pos:position pos:line="460" pos:column="9"/></operator><name><name pos:line="460" pos:column="9">data<pos:position pos:line="460" pos:column="13"/></name><operator pos:line="460" pos:column="13">-&gt;<pos:position pos:line="460" pos:column="18"/></operator><name pos:line="460" pos:column="15">state<pos:position pos:line="460" pos:column="20"/></name><operator pos:line="460" pos:column="20">.<pos:position pos:line="460" pos:column="21"/></operator><name pos:line="460" pos:column="21">authhost<pos:position pos:line="460" pos:column="29"/></name><operator pos:line="460" pos:column="29">.<pos:position pos:line="460" pos:column="30"/></operator><name pos:line="460" pos:column="30">picked<pos:position pos:line="460" pos:column="36"/></name></name> <operator pos:line="460" pos:column="37">&amp;<pos:position pos:line="460" pos:column="42"/></operator> <operator pos:line="460" pos:column="39">(<pos:position pos:line="460" pos:column="40"/></operator><name pos:line="460" pos:column="40">CURLAUTH_NTLM<pos:position pos:line="460" pos:column="53"/></name> <operator pos:line="460" pos:column="54">|<pos:position pos:line="460" pos:column="55"/></operator> <name pos:line="460" pos:column="56">CURLAUTH_NTLM_WB<pos:position pos:line="460" pos:column="72"/></name><operator pos:line="460" pos:column="72">)<pos:position pos:line="460" pos:column="73"/></operator><operator pos:line="460" pos:column="73">)<pos:position pos:line="460" pos:column="74"/></operator> <operator pos:line="460" pos:column="75">&amp;&amp;<pos:position pos:line="460" pos:column="85"/></operator>
       <name><name pos:line="461" pos:column="8">data<pos:position pos:line="461" pos:column="12"/></name><operator pos:line="461" pos:column="12">-&gt;<pos:position pos:line="461" pos:column="17"/></operator><name pos:line="461" pos:column="14">state<pos:position pos:line="461" pos:column="19"/></name><operator pos:line="461" pos:column="19">.<pos:position pos:line="461" pos:column="20"/></operator><name pos:line="461" pos:column="20">authhost<pos:position pos:line="461" pos:column="28"/></name><operator pos:line="461" pos:column="28">.<pos:position pos:line="461" pos:column="29"/></operator><name pos:line="461" pos:column="29">done<pos:position pos:line="461" pos:column="33"/></name></name></expr>)<pos:position pos:line="461" pos:column="34"/></condition><then pos:line="461" pos:column="34"> <block pos:line="461" pos:column="35">{
      <expr_stmt><expr><call><name pos:line="462" pos:column="7">infof<pos:position pos:line="462" pos:column="12"/></name><argument_list pos:line="462" pos:column="12">(<argument><expr><name pos:line="462" pos:column="13">data<pos:position pos:line="462" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="462" pos:column="19">"NTLM picked AND auth done set, clear picked!\n"<pos:position pos:line="462" pos:column="67"/></literal></expr></argument>)<pos:position pos:line="462" pos:column="68"/></argument_list></call></expr>;<pos:position pos:line="462" pos:column="69"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="463" pos:column="7">data<pos:position pos:line="463" pos:column="11"/></name><operator pos:line="463" pos:column="11">-&gt;<pos:position pos:line="463" pos:column="16"/></operator><name pos:line="463" pos:column="13">state<pos:position pos:line="463" pos:column="18"/></name><operator pos:line="463" pos:column="18">.<pos:position pos:line="463" pos:column="19"/></operator><name pos:line="463" pos:column="19">authhost<pos:position pos:line="463" pos:column="27"/></name><operator pos:line="463" pos:column="27">.<pos:position pos:line="463" pos:column="28"/></operator><name pos:line="463" pos:column="28">picked<pos:position pos:line="463" pos:column="34"/></name></name> <operator pos:line="463" pos:column="35">=<pos:position pos:line="463" pos:column="36"/></operator> <name pos:line="463" pos:column="37">CURLAUTH_NONE<pos:position pos:line="463" pos:column="50"/></name></expr>;<pos:position pos:line="463" pos:column="51"/></expr_stmt>
    }<pos:position pos:line="464" pos:column="6"/></block></then></if>

    <if pos:line="466" pos:column="5">if<condition pos:line="466" pos:column="7">(<expr><operator pos:line="466" pos:column="8">(<pos:position pos:line="466" pos:column="9"/></operator><name><name pos:line="466" pos:column="9">data<pos:position pos:line="466" pos:column="13"/></name><operator pos:line="466" pos:column="13">-&gt;<pos:position pos:line="466" pos:column="18"/></operator><name pos:line="466" pos:column="15">state<pos:position pos:line="466" pos:column="20"/></name><operator pos:line="466" pos:column="20">.<pos:position pos:line="466" pos:column="21"/></operator><name pos:line="466" pos:column="21">authproxy<pos:position pos:line="466" pos:column="30"/></name><operator pos:line="466" pos:column="30">.<pos:position pos:line="466" pos:column="31"/></operator><name pos:line="466" pos:column="31">picked<pos:position pos:line="466" pos:column="37"/></name></name> <operator pos:line="466" pos:column="38">&amp;<pos:position pos:line="466" pos:column="43"/></operator> <operator pos:line="466" pos:column="40">(<pos:position pos:line="466" pos:column="41"/></operator><name pos:line="466" pos:column="41">CURLAUTH_NTLM<pos:position pos:line="466" pos:column="54"/></name> <operator pos:line="466" pos:column="55">|<pos:position pos:line="466" pos:column="56"/></operator> <name pos:line="466" pos:column="57">CURLAUTH_NTLM_WB<pos:position pos:line="466" pos:column="73"/></name><operator pos:line="466" pos:column="73">)<pos:position pos:line="466" pos:column="74"/></operator><operator pos:line="466" pos:column="74">)<pos:position pos:line="466" pos:column="75"/></operator> <operator pos:line="466" pos:column="76">&amp;&amp;<pos:position pos:line="466" pos:column="86"/></operator>
       <name><name pos:line="467" pos:column="8">data<pos:position pos:line="467" pos:column="12"/></name><operator pos:line="467" pos:column="12">-&gt;<pos:position pos:line="467" pos:column="17"/></operator><name pos:line="467" pos:column="14">state<pos:position pos:line="467" pos:column="19"/></name><operator pos:line="467" pos:column="19">.<pos:position pos:line="467" pos:column="20"/></operator><name pos:line="467" pos:column="20">authproxy<pos:position pos:line="467" pos:column="29"/></name><operator pos:line="467" pos:column="29">.<pos:position pos:line="467" pos:column="30"/></operator><name pos:line="467" pos:column="30">done<pos:position pos:line="467" pos:column="34"/></name></name></expr>)<pos:position pos:line="467" pos:column="35"/></condition><then pos:line="467" pos:column="35"> <block pos:line="467" pos:column="36">{
      <expr_stmt><expr><call><name pos:line="468" pos:column="7">infof<pos:position pos:line="468" pos:column="12"/></name><argument_list pos:line="468" pos:column="12">(<argument><expr><name pos:line="468" pos:column="13">data<pos:position pos:line="468" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="468" pos:column="19">"NTLM-proxy picked AND auth done set, clear picked!\n"<pos:position pos:line="468" pos:column="73"/></literal></expr></argument>)<pos:position pos:line="468" pos:column="74"/></argument_list></call></expr>;<pos:position pos:line="468" pos:column="75"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="469" pos:column="7">data<pos:position pos:line="469" pos:column="11"/></name><operator pos:line="469" pos:column="11">-&gt;<pos:position pos:line="469" pos:column="16"/></operator><name pos:line="469" pos:column="13">state<pos:position pos:line="469" pos:column="18"/></name><operator pos:line="469" pos:column="18">.<pos:position pos:line="469" pos:column="19"/></operator><name pos:line="469" pos:column="19">authproxy<pos:position pos:line="469" pos:column="28"/></name><operator pos:line="469" pos:column="28">.<pos:position pos:line="469" pos:column="29"/></operator><name pos:line="469" pos:column="29">picked<pos:position pos:line="469" pos:column="35"/></name></name> <operator pos:line="469" pos:column="36">=<pos:position pos:line="469" pos:column="37"/></operator> <name pos:line="469" pos:column="38">CURLAUTH_NONE<pos:position pos:line="469" pos:column="51"/></name></expr>;<pos:position pos:line="469" pos:column="52"/></expr_stmt>
    }<pos:position pos:line="470" pos:column="6"/></block></then></if>
<cpp:endif pos:line="471" pos:column="1">#<cpp:directive pos:line="471" pos:column="2">endif<pos:position pos:line="471" pos:column="7"/></cpp:directive></cpp:endif>
  }<pos:position pos:line="472" pos:column="4"/></block></else></if>

  <comment type="block" pos:line="474" pos:column="3">/* Mark the connection as used */</comment>
  <expr_stmt><expr><name><name pos:line="475" pos:column="3">conn<pos:position pos:line="475" pos:column="7"/></name><operator pos:line="475" pos:column="7">-&gt;<pos:position pos:line="475" pos:column="12"/></operator><name pos:line="475" pos:column="9">inuse<pos:position pos:line="475" pos:column="14"/></name></name> <operator pos:line="475" pos:column="15">=<pos:position pos:line="475" pos:column="16"/></operator> <name pos:line="475" pos:column="17">TRUE<pos:position pos:line="475" pos:column="21"/></name></expr>;<pos:position pos:line="475" pos:column="22"/></expr_stmt>

  <comment type="block" pos:line="477" pos:column="3">/* Setup and init stuff before DO starts, in preparing for the transfer. */</comment>
  <expr_stmt><expr><call><name pos:line="478" pos:column="3">do_init<pos:position pos:line="478" pos:column="10"/></name><argument_list pos:line="478" pos:column="10">(<argument><expr><name pos:line="478" pos:column="11">conn<pos:position pos:line="478" pos:column="15"/></name></expr></argument>)<pos:position pos:line="478" pos:column="16"/></argument_list></call></expr>;<pos:position pos:line="478" pos:column="17"/></expr_stmt>

  <comment type="block" pos:line="480" pos:column="3">/*
   * Setup whatever necessary for a resumed transfer
   */</comment>
  <expr_stmt><expr><name pos:line="483" pos:column="3">result<pos:position pos:line="483" pos:column="9"/></name> <operator pos:line="483" pos:column="10">=<pos:position pos:line="483" pos:column="11"/></operator> <call><name pos:line="483" pos:column="12">setup_range<pos:position pos:line="483" pos:column="23"/></name><argument_list pos:line="483" pos:column="23">(<argument><expr><name pos:line="483" pos:column="24">data<pos:position pos:line="483" pos:column="28"/></name></expr></argument>)<pos:position pos:line="483" pos:column="29"/></argument_list></call></expr>;<pos:position pos:line="483" pos:column="30"/></expr_stmt>
  <if pos:line="484" pos:column="3">if<condition pos:line="484" pos:column="5">(<expr><name pos:line="484" pos:column="6">result<pos:position pos:line="484" pos:column="12"/></name></expr>)<pos:position pos:line="484" pos:column="13"/></condition><then pos:line="484" pos:column="13">
    <block type="pseudo"><goto pos:line="485" pos:column="5">goto <name pos:line="485" pos:column="10">out<pos:position pos:line="485" pos:column="13"/></name>;<pos:position pos:line="485" pos:column="14"/></goto></block></then></if>

  <comment type="block" pos:line="487" pos:column="3">/* Continue connectdata initialization here. */</comment>

  <comment type="block" pos:line="489" pos:column="3">/*
   * Inherit the proper values from the urldata struct AFTER we have arranged
   * the persistent connection stuff
   */</comment>
  <expr_stmt><expr><name><name pos:line="493" pos:column="3">conn<pos:position pos:line="493" pos:column="7"/></name><operator pos:line="493" pos:column="7">-&gt;<pos:position pos:line="493" pos:column="12"/></operator><name pos:line="493" pos:column="9">fread_func<pos:position pos:line="493" pos:column="19"/></name></name> <operator pos:line="493" pos:column="20">=<pos:position pos:line="493" pos:column="21"/></operator> <name><name pos:line="493" pos:column="22">data<pos:position pos:line="493" pos:column="26"/></name><operator pos:line="493" pos:column="26">-&gt;<pos:position pos:line="493" pos:column="31"/></operator><name pos:line="493" pos:column="28">set<pos:position pos:line="493" pos:column="31"/></name><operator pos:line="493" pos:column="31">.<pos:position pos:line="493" pos:column="32"/></operator><name pos:line="493" pos:column="32">fread_func<pos:position pos:line="493" pos:column="42"/></name></name></expr>;<pos:position pos:line="493" pos:column="43"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="494" pos:column="3">conn<pos:position pos:line="494" pos:column="7"/></name><operator pos:line="494" pos:column="7">-&gt;<pos:position pos:line="494" pos:column="12"/></operator><name pos:line="494" pos:column="9">fread_in<pos:position pos:line="494" pos:column="17"/></name></name> <operator pos:line="494" pos:column="18">=<pos:position pos:line="494" pos:column="19"/></operator> <name><name pos:line="494" pos:column="20">data<pos:position pos:line="494" pos:column="24"/></name><operator pos:line="494" pos:column="24">-&gt;<pos:position pos:line="494" pos:column="29"/></operator><name pos:line="494" pos:column="26">set<pos:position pos:line="494" pos:column="29"/></name><operator pos:line="494" pos:column="29">.<pos:position pos:line="494" pos:column="30"/></operator><name pos:line="494" pos:column="30">in<pos:position pos:line="494" pos:column="32"/></name></name></expr>;<pos:position pos:line="494" pos:column="33"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="495" pos:column="3">conn<pos:position pos:line="495" pos:column="7"/></name><operator pos:line="495" pos:column="7">-&gt;<pos:position pos:line="495" pos:column="12"/></operator><name pos:line="495" pos:column="9">seek_func<pos:position pos:line="495" pos:column="18"/></name></name> <operator pos:line="495" pos:column="19">=<pos:position pos:line="495" pos:column="20"/></operator> <name><name pos:line="495" pos:column="21">data<pos:position pos:line="495" pos:column="25"/></name><operator pos:line="495" pos:column="25">-&gt;<pos:position pos:line="495" pos:column="30"/></operator><name pos:line="495" pos:column="27">set<pos:position pos:line="495" pos:column="30"/></name><operator pos:line="495" pos:column="30">.<pos:position pos:line="495" pos:column="31"/></operator><name pos:line="495" pos:column="31">seek_func<pos:position pos:line="495" pos:column="40"/></name></name></expr>;<pos:position pos:line="495" pos:column="41"/></expr_stmt>
  <expr_stmt><expr><name><name pos:line="496" pos:column="3">conn<pos:position pos:line="496" pos:column="7"/></name><operator pos:line="496" pos:column="7">-&gt;<pos:position pos:line="496" pos:column="12"/></operator><name pos:line="496" pos:column="9">seek_client<pos:position pos:line="496" pos:column="20"/></name></name> <operator pos:line="496" pos:column="21">=<pos:position pos:line="496" pos:column="22"/></operator> <name><name pos:line="496" pos:column="23">data<pos:position pos:line="496" pos:column="27"/></name><operator pos:line="496" pos:column="27">-&gt;<pos:position pos:line="496" pos:column="32"/></operator><name pos:line="496" pos:column="29">set<pos:position pos:line="496" pos:column="32"/></name><operator pos:line="496" pos:column="32">.<pos:position pos:line="496" pos:column="33"/></operator><name pos:line="496" pos:column="33">seek_client<pos:position pos:line="496" pos:column="44"/></name></name></expr>;<pos:position pos:line="496" pos:column="45"/></expr_stmt>

  <comment type="block" format="doxygen" pos:line="498" pos:column="3">/*************************************************************
   * Resolve the address of the server or proxy
   *************************************************************/</comment>
  <expr_stmt><expr><name pos:line="501" pos:column="3">result<pos:position pos:line="501" pos:column="9"/></name> <operator pos:line="501" pos:column="10">=<pos:position pos:line="501" pos:column="11"/></operator> <call><name pos:line="501" pos:column="12">resolve_server<pos:position pos:line="501" pos:column="26"/></name><argument_list pos:line="501" pos:column="26">(<argument><expr><name pos:line="501" pos:column="27">data<pos:position pos:line="501" pos:column="31"/></name></expr></argument>, <argument><expr><name pos:line="501" pos:column="33">conn<pos:position pos:line="501" pos:column="37"/></name></expr></argument>, <argument><expr><name pos:line="501" pos:column="39">async<pos:position pos:line="501" pos:column="44"/></name></expr></argument>)<pos:position pos:line="501" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="501" pos:column="46"/></expr_stmt>

  <label><name pos:line="503" pos:column="3">out<pos:position pos:line="503" pos:column="6"/></name>:<pos:position pos:line="503" pos:column="7"/></label>

  <expr_stmt><expr><call><name pos:line="505" pos:column="3">Curl_safefree<pos:position pos:line="505" pos:column="16"/></name><argument_list pos:line="505" pos:column="16">(<argument><expr><name pos:line="505" pos:column="17">options<pos:position pos:line="505" pos:column="24"/></name></expr></argument>)<pos:position pos:line="505" pos:column="25"/></argument_list></call></expr>;<pos:position pos:line="505" pos:column="26"/></expr_stmt>
  <expr_stmt><expr><call><name pos:line="506" pos:column="3">Curl_safefree<pos:position pos:line="506" pos:column="16"/></name><argument_list pos:line="506" pos:column="16">(<argument><expr><name pos:line="506" pos:column="17">passwd<pos:position pos:line="506" pos:column="23"/></name></expr></argument>)<pos:position pos:line="506" pos:column="24"/></argument_list></call></expr>;<pos:position pos:line="506" pos:column="25"/></expr_stmt>
  <expr_stmt><expr><call><name pos:line="507" pos:column="3">Curl_safefree<pos:position pos:line="507" pos:column="16"/></name><argument_list pos:line="507" pos:column="16">(<argument><expr><name pos:line="507" pos:column="17">user<pos:position pos:line="507" pos:column="21"/></name></expr></argument>)<pos:position pos:line="507" pos:column="22"/></argument_list></call></expr>;<pos:position pos:line="507" pos:column="23"/></expr_stmt>
  <expr_stmt><expr><call><name pos:line="508" pos:column="3">Curl_safefree<pos:position pos:line="508" pos:column="16"/></name><argument_list pos:line="508" pos:column="16">(<argument><expr><name pos:line="508" pos:column="17">proxy<pos:position pos:line="508" pos:column="22"/></name></expr></argument>)<pos:position pos:line="508" pos:column="23"/></argument_list></call></expr>;<pos:position pos:line="508" pos:column="24"/></expr_stmt>
  <return pos:line="509" pos:column="3">return <expr><name pos:line="509" pos:column="10">result<pos:position pos:line="509" pos:column="16"/></name></expr>;<pos:position pos:line="509" pos:column="17"/></return>
}<pos:position pos:line="510" pos:column="2"/></block></function></unit>
