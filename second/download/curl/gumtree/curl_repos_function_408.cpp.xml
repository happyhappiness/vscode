<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="0.9.5" language="C++" filename="usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/gumtree/curl_repos_function_408.cpp" pos:tabs="8"><function><type><name pos:line="1" pos:column="1">CURLcode<pos:position pos:line="1" pos:column="9"/></name></type> <name pos:line="1" pos:column="10">Curl_http<pos:position pos:line="1" pos:column="19"/></name><parameter_list pos:line="1" pos:column="19">(<parameter><decl><type><name><name pos:line="1" pos:column="20">struct<pos:position pos:line="1" pos:column="26"/></name> <name pos:line="1" pos:column="27">connectdata<pos:position pos:line="1" pos:column="38"/></name></name> <modifier pos:line="1" pos:column="39">*<pos:position pos:line="1" pos:column="40"/></modifier></type><name pos:line="1" pos:column="40">conn<pos:position pos:line="1" pos:column="44"/></name></decl></parameter>, <parameter><decl><type><name pos:line="1" pos:column="46">bool<pos:position pos:line="1" pos:column="50"/></name> <modifier pos:line="1" pos:column="51">*<pos:position pos:line="1" pos:column="52"/></modifier></type><name pos:line="1" pos:column="52">done<pos:position pos:line="1" pos:column="56"/></name></decl></parameter>)<pos:position pos:line="1" pos:column="57"/></parameter_list>
<block pos:line="2" pos:column="1">{
  <decl_stmt><decl><type><name><name pos:line="3" pos:column="3">struct<pos:position pos:line="3" pos:column="9"/></name> <name pos:line="3" pos:column="10">SessionHandle<pos:position pos:line="3" pos:column="23"/></name></name> <modifier pos:line="3" pos:column="24">*<pos:position pos:line="3" pos:column="25"/></modifier></type><name pos:line="3" pos:column="25">data<pos:position pos:line="3" pos:column="29"/></name><init pos:line="3" pos:column="29">=<expr><name><name pos:line="3" pos:column="30">conn<pos:position pos:line="3" pos:column="34"/></name><operator pos:line="3" pos:column="34">-&gt;<pos:position pos:line="3" pos:column="39"/></operator><name pos:line="3" pos:column="36">data<pos:position pos:line="3" pos:column="40"/></name></name></expr></init></decl>;<pos:position pos:line="3" pos:column="41"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="4" pos:column="3">char<pos:position pos:line="4" pos:column="7"/></name> <modifier pos:line="4" pos:column="8">*<pos:position pos:line="4" pos:column="9"/></modifier></type><name pos:line="4" pos:column="9">buf<pos:position pos:line="4" pos:column="12"/></name> <init pos:line="4" pos:column="13">= <expr><name><name pos:line="4" pos:column="15">data<pos:position pos:line="4" pos:column="19"/></name><operator pos:line="4" pos:column="19">-&gt;<pos:position pos:line="4" pos:column="24"/></operator><name pos:line="4" pos:column="21">state<pos:position pos:line="4" pos:column="26"/></name><operator pos:line="4" pos:column="26">.<pos:position pos:line="4" pos:column="27"/></operator><name pos:line="4" pos:column="27">buffer<pos:position pos:line="4" pos:column="33"/></name></name></expr></init></decl>;<pos:position pos:line="4" pos:column="34"/></decl_stmt> <comment type="block" pos:line="4" pos:column="35">/* this is a short cut to the buffer */</comment>
  <decl_stmt><decl><type><name pos:line="5" pos:column="3">CURLcode<pos:position pos:line="5" pos:column="11"/></name></type> <name pos:line="5" pos:column="12">result<pos:position pos:line="5" pos:column="18"/></name><init pos:line="5" pos:column="18">=<expr><name pos:line="5" pos:column="19">CURLE_OK<pos:position pos:line="5" pos:column="27"/></name></expr></init></decl>;<pos:position pos:line="5" pos:column="28"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="6" pos:column="3">struct<pos:position pos:line="6" pos:column="9"/></name> <name pos:line="6" pos:column="10">HTTP<pos:position pos:line="6" pos:column="14"/></name></name> <modifier pos:line="6" pos:column="15">*<pos:position pos:line="6" pos:column="16"/></modifier></type><name pos:line="6" pos:column="16">http<pos:position pos:line="6" pos:column="20"/></name></decl>;<pos:position pos:line="6" pos:column="21"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="7" pos:column="3">char<pos:position pos:line="7" pos:column="7"/></name> <modifier pos:line="7" pos:column="8">*<pos:position pos:line="7" pos:column="9"/></modifier></type><name pos:line="7" pos:column="9">ppath<pos:position pos:line="7" pos:column="14"/></name> <init pos:line="7" pos:column="15">= <expr><name><name pos:line="7" pos:column="17">conn<pos:position pos:line="7" pos:column="21"/></name><operator pos:line="7" pos:column="21">-&gt;<pos:position pos:line="7" pos:column="26"/></operator><name pos:line="7" pos:column="23">path<pos:position pos:line="7" pos:column="27"/></name></name></expr></init></decl>;<pos:position pos:line="7" pos:column="28"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="8" pos:column="3">char<pos:position pos:line="8" pos:column="7"/></name> <modifier pos:line="8" pos:column="8">*<pos:position pos:line="8" pos:column="9"/></modifier></type><name pos:line="8" pos:column="9">host<pos:position pos:line="8" pos:column="13"/></name> <init pos:line="8" pos:column="14">= <expr><name><name pos:line="8" pos:column="16">conn<pos:position pos:line="8" pos:column="20"/></name><operator pos:line="8" pos:column="20">-&gt;<pos:position pos:line="8" pos:column="25"/></operator><name pos:line="8" pos:column="22">host<pos:position pos:line="8" pos:column="26"/></name><operator pos:line="8" pos:column="26">.<pos:position pos:line="8" pos:column="27"/></operator><name pos:line="8" pos:column="27">name<pos:position pos:line="8" pos:column="31"/></name></name></expr></init></decl>;<pos:position pos:line="8" pos:column="32"/></decl_stmt>
  <decl_stmt><decl><type><specifier pos:line="9" pos:column="3">const<pos:position pos:line="9" pos:column="8"/></specifier> <name pos:line="9" pos:column="9">char<pos:position pos:line="9" pos:column="13"/></name> <modifier pos:line="9" pos:column="14">*<pos:position pos:line="9" pos:column="15"/></modifier></type><name pos:line="9" pos:column="15">te<pos:position pos:line="9" pos:column="17"/></name> <init pos:line="9" pos:column="18">= <expr><literal type="string" pos:line="9" pos:column="20">""<pos:position pos:line="9" pos:column="22"/></literal></expr></init></decl>;<pos:position pos:line="9" pos:column="23"/></decl_stmt> <comment type="block" pos:line="9" pos:column="24">/* tranfer-encoding */</comment>
  <decl_stmt><decl><type><name pos:line="10" pos:column="3">char<pos:position pos:line="10" pos:column="7"/></name> <modifier pos:line="10" pos:column="8">*<pos:position pos:line="10" pos:column="9"/></modifier></type><name pos:line="10" pos:column="9">ptr<pos:position pos:line="10" pos:column="12"/></name></decl>;<pos:position pos:line="10" pos:column="13"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="11" pos:column="3">char<pos:position pos:line="11" pos:column="7"/></name> <modifier pos:line="11" pos:column="8">*<pos:position pos:line="11" pos:column="9"/></modifier></type><name pos:line="11" pos:column="9">request<pos:position pos:line="11" pos:column="16"/></name></decl>;<pos:position pos:line="11" pos:column="17"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="12" pos:column="3">Curl_HttpReq<pos:position pos:line="12" pos:column="15"/></name></type> <name pos:line="12" pos:column="16">httpreq<pos:position pos:line="12" pos:column="23"/></name> <init pos:line="12" pos:column="24">= <expr><name><name pos:line="12" pos:column="26">data<pos:position pos:line="12" pos:column="30"/></name><operator pos:line="12" pos:column="30">-&gt;<pos:position pos:line="12" pos:column="35"/></operator><name pos:line="12" pos:column="32">set<pos:position pos:line="12" pos:column="35"/></name><operator pos:line="12" pos:column="35">.<pos:position pos:line="12" pos:column="36"/></operator><name pos:line="12" pos:column="36">httpreq<pos:position pos:line="12" pos:column="43"/></name></name></expr></init></decl>;<pos:position pos:line="12" pos:column="44"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="13" pos:column="3">char<pos:position pos:line="13" pos:column="7"/></name> <modifier pos:line="13" pos:column="8">*<pos:position pos:line="13" pos:column="9"/></modifier></type><name pos:line="13" pos:column="9">addcookies<pos:position pos:line="13" pos:column="19"/></name> <init pos:line="13" pos:column="20">= <expr><name pos:line="13" pos:column="22">NULL<pos:position pos:line="13" pos:column="26"/></name></expr></init></decl>;<pos:position pos:line="13" pos:column="27"/></decl_stmt>

  <comment type="block" pos:line="15" pos:column="3">/* Always consider the DO phase done after this function call, even if there
     may be parts of the request that is not yet sent, since we can deal with
     the rest of the request in the PERFORM phase. */</comment>
  <expr_stmt><expr><operator pos:line="18" pos:column="3">*<pos:position pos:line="18" pos:column="4"/></operator><name pos:line="18" pos:column="4">done<pos:position pos:line="18" pos:column="8"/></name> <operator pos:line="18" pos:column="9">=<pos:position pos:line="18" pos:column="10"/></operator> <name pos:line="18" pos:column="11">TRUE<pos:position pos:line="18" pos:column="15"/></name></expr>;<pos:position pos:line="18" pos:column="16"/></expr_stmt>

  <if pos:line="20" pos:column="3">if<condition pos:line="20" pos:column="5">(<expr><operator pos:line="20" pos:column="6">!<pos:position pos:line="20" pos:column="7"/></operator><name><name pos:line="20" pos:column="7">conn<pos:position pos:line="20" pos:column="11"/></name><operator pos:line="20" pos:column="11">-&gt;<pos:position pos:line="20" pos:column="16"/></operator><name pos:line="20" pos:column="13">proto<pos:position pos:line="20" pos:column="18"/></name><operator pos:line="20" pos:column="18">.<pos:position pos:line="20" pos:column="19"/></operator><name pos:line="20" pos:column="19">http<pos:position pos:line="20" pos:column="23"/></name></name></expr>)<pos:position pos:line="20" pos:column="24"/></condition><then pos:line="20" pos:column="24"> <block pos:line="20" pos:column="25">{
    <comment type="block" pos:line="21" pos:column="5">/* Only allocate this struct if we don't already have it! */</comment>

    <expr_stmt><expr><name pos:line="23" pos:column="5">http<pos:position pos:line="23" pos:column="9"/></name> <operator pos:line="23" pos:column="10">=<pos:position pos:line="23" pos:column="11"/></operator> <operator pos:line="23" pos:column="12">(<pos:position pos:line="23" pos:column="13"/></operator>struct <name pos:line="23" pos:column="20">HTTP<pos:position pos:line="23" pos:column="24"/></name> <operator pos:line="23" pos:column="25">*<pos:position pos:line="23" pos:column="26"/></operator><operator pos:line="23" pos:column="26">)<pos:position pos:line="23" pos:column="27"/></operator><call><name pos:line="23" pos:column="27">malloc<pos:position pos:line="23" pos:column="33"/></name><argument_list pos:line="23" pos:column="33">(<argument><expr><sizeof pos:line="23" pos:column="34">sizeof<argument_list pos:line="23" pos:column="40">(<argument><expr pos:line="23" pos:column="41">struct <name pos:line="23" pos:column="48">HTTP<pos:position pos:line="23" pos:column="52"/></name></expr></argument>)<pos:position pos:line="23" pos:column="53"/></argument_list></sizeof></expr></argument>)<pos:position pos:line="23" pos:column="54"/></argument_list></call></expr>;<pos:position pos:line="23" pos:column="55"/></expr_stmt>
    <if pos:line="24" pos:column="5">if<condition pos:line="24" pos:column="7">(<expr><operator pos:line="24" pos:column="8">!<pos:position pos:line="24" pos:column="9"/></operator><name pos:line="24" pos:column="9">http<pos:position pos:line="24" pos:column="13"/></name></expr>)<pos:position pos:line="24" pos:column="14"/></condition><then pos:line="24" pos:column="14">
      <block type="pseudo"><return pos:line="25" pos:column="7">return <expr><name pos:line="25" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="25" pos:column="33"/></name></expr>;<pos:position pos:line="25" pos:column="34"/></return></block></then></if>
    <expr_stmt><expr><call><name pos:line="26" pos:column="5">memset<pos:position pos:line="26" pos:column="11"/></name><argument_list pos:line="26" pos:column="11">(<argument><expr><name pos:line="26" pos:column="12">http<pos:position pos:line="26" pos:column="16"/></name></expr></argument>, <argument><expr><literal type="number" pos:line="26" pos:column="18">0<pos:position pos:line="26" pos:column="19"/></literal></expr></argument>, <argument><expr><sizeof pos:line="26" pos:column="21">sizeof<argument_list pos:line="26" pos:column="27">(<argument><expr pos:line="26" pos:column="28">struct <name pos:line="26" pos:column="35">HTTP<pos:position pos:line="26" pos:column="39"/></name></expr></argument>)<pos:position pos:line="26" pos:column="40"/></argument_list></sizeof></expr></argument>)<pos:position pos:line="26" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="26" pos:column="42"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="27" pos:column="5">conn<pos:position pos:line="27" pos:column="9"/></name><operator pos:line="27" pos:column="9">-&gt;<pos:position pos:line="27" pos:column="14"/></operator><name pos:line="27" pos:column="11">proto<pos:position pos:line="27" pos:column="16"/></name><operator pos:line="27" pos:column="16">.<pos:position pos:line="27" pos:column="17"/></operator><name pos:line="27" pos:column="17">http<pos:position pos:line="27" pos:column="21"/></name></name> <operator pos:line="27" pos:column="22">=<pos:position pos:line="27" pos:column="23"/></operator> <name pos:line="27" pos:column="24">http<pos:position pos:line="27" pos:column="28"/></name></expr>;<pos:position pos:line="27" pos:column="29"/></expr_stmt>
  }<pos:position pos:line="28" pos:column="4"/></block></then>
  <else pos:line="29" pos:column="3">else
    <block type="pseudo"><expr_stmt><expr><name pos:line="30" pos:column="5">http<pos:position pos:line="30" pos:column="9"/></name> <operator pos:line="30" pos:column="10">=<pos:position pos:line="30" pos:column="11"/></operator> <name><name pos:line="30" pos:column="12">conn<pos:position pos:line="30" pos:column="16"/></name><operator pos:line="30" pos:column="16">-&gt;<pos:position pos:line="30" pos:column="21"/></operator><name pos:line="30" pos:column="18">proto<pos:position pos:line="30" pos:column="23"/></name><operator pos:line="30" pos:column="23">.<pos:position pos:line="30" pos:column="24"/></operator><name pos:line="30" pos:column="24">http<pos:position pos:line="30" pos:column="28"/></name></name></expr>;<pos:position pos:line="30" pos:column="29"/></expr_stmt></block></else></if>

  <comment type="block" pos:line="32" pos:column="3">/* We default to persistant connections */</comment>
  <expr_stmt><expr><name><name pos:line="33" pos:column="3">conn<pos:position pos:line="33" pos:column="7"/></name><operator pos:line="33" pos:column="7">-&gt;<pos:position pos:line="33" pos:column="12"/></operator><name pos:line="33" pos:column="9">bits<pos:position pos:line="33" pos:column="13"/></name><operator pos:line="33" pos:column="13">.<pos:position pos:line="33" pos:column="14"/></operator><name pos:line="33" pos:column="14">close<pos:position pos:line="33" pos:column="19"/></name></name> <operator pos:line="33" pos:column="20">=<pos:position pos:line="33" pos:column="21"/></operator> <name pos:line="33" pos:column="22">FALSE<pos:position pos:line="33" pos:column="27"/></name></expr>;<pos:position pos:line="33" pos:column="28"/></expr_stmt>

  <if pos:line="35" pos:column="3">if <condition pos:line="35" pos:column="6">( <expr><operator pos:line="35" pos:column="8">(<pos:position pos:line="35" pos:column="9"/></operator><name><name pos:line="35" pos:column="9">conn<pos:position pos:line="35" pos:column="13"/></name><operator pos:line="35" pos:column="13">-&gt;<pos:position pos:line="35" pos:column="18"/></operator><name pos:line="35" pos:column="15">protocol<pos:position pos:line="35" pos:column="23"/></name></name><operator pos:line="35" pos:column="23">&amp;<pos:position pos:line="35" pos:column="28"/></operator><operator pos:line="35" pos:column="24">(<pos:position pos:line="35" pos:column="25"/></operator><name pos:line="35" pos:column="25">PROT_HTTP<pos:position pos:line="35" pos:column="34"/></name><operator pos:line="35" pos:column="34">|<pos:position pos:line="35" pos:column="35"/></operator><name pos:line="35" pos:column="35">PROT_FTP<pos:position pos:line="35" pos:column="43"/></name><operator pos:line="35" pos:column="43">)<pos:position pos:line="35" pos:column="44"/></operator><operator pos:line="35" pos:column="44">)<pos:position pos:line="35" pos:column="45"/></operator> <operator pos:line="35" pos:column="46">&amp;&amp;<pos:position pos:line="35" pos:column="56"/></operator>
       <name><name pos:line="36" pos:column="8">data<pos:position pos:line="36" pos:column="12"/></name><operator pos:line="36" pos:column="12">-&gt;<pos:position pos:line="36" pos:column="17"/></operator><name pos:line="36" pos:column="14">set<pos:position pos:line="36" pos:column="17"/></name><operator pos:line="36" pos:column="17">.<pos:position pos:line="36" pos:column="18"/></operator><name pos:line="36" pos:column="18">upload<pos:position pos:line="36" pos:column="24"/></name></name></expr>)<pos:position pos:line="36" pos:column="25"/></condition><then pos:line="36" pos:column="25"> <block pos:line="36" pos:column="26">{
    <expr_stmt><expr><name pos:line="37" pos:column="5">httpreq<pos:position pos:line="37" pos:column="12"/></name> <operator pos:line="37" pos:column="13">=<pos:position pos:line="37" pos:column="14"/></operator> <name pos:line="37" pos:column="15">HTTPREQ_PUT<pos:position pos:line="37" pos:column="26"/></name></expr>;<pos:position pos:line="37" pos:column="27"/></expr_stmt>
  }<pos:position pos:line="38" pos:column="4"/></block></then></if>

  <comment type="block" pos:line="40" pos:column="3">/* Now set the 'request' pointer to the proper request string */</comment>
  <if pos:line="41" pos:column="3">if<condition pos:line="41" pos:column="5">(<expr><name><name pos:line="41" pos:column="6">data<pos:position pos:line="41" pos:column="10"/></name><operator pos:line="41" pos:column="10">-&gt;<pos:position pos:line="41" pos:column="15"/></operator><name pos:line="41" pos:column="12">set<pos:position pos:line="41" pos:column="15"/></name><operator pos:line="41" pos:column="15">.<pos:position pos:line="41" pos:column="16"/></operator><name pos:line="41" pos:column="16">customrequest<pos:position pos:line="41" pos:column="29"/></name></name></expr>)<pos:position pos:line="41" pos:column="30"/></condition><then pos:line="41" pos:column="30">
    <block type="pseudo"><expr_stmt><expr><name pos:line="42" pos:column="5">request<pos:position pos:line="42" pos:column="12"/></name> <operator pos:line="42" pos:column="13">=<pos:position pos:line="42" pos:column="14"/></operator> <name><name pos:line="42" pos:column="15">data<pos:position pos:line="42" pos:column="19"/></name><operator pos:line="42" pos:column="19">-&gt;<pos:position pos:line="42" pos:column="24"/></operator><name pos:line="42" pos:column="21">set<pos:position pos:line="42" pos:column="24"/></name><operator pos:line="42" pos:column="24">.<pos:position pos:line="42" pos:column="25"/></operator><name pos:line="42" pos:column="25">customrequest<pos:position pos:line="42" pos:column="38"/></name></name></expr>;<pos:position pos:line="42" pos:column="39"/></expr_stmt></block></then>
  <else pos:line="43" pos:column="3">else <block pos:line="43" pos:column="8">{
    <if pos:line="44" pos:column="5">if<condition pos:line="44" pos:column="7">(<expr><name><name pos:line="44" pos:column="8">conn<pos:position pos:line="44" pos:column="12"/></name><operator pos:line="44" pos:column="12">-&gt;<pos:position pos:line="44" pos:column="17"/></operator><name pos:line="44" pos:column="14">bits<pos:position pos:line="44" pos:column="18"/></name><operator pos:line="44" pos:column="18">.<pos:position pos:line="44" pos:column="19"/></operator><name pos:line="44" pos:column="19">no_body<pos:position pos:line="44" pos:column="26"/></name></name></expr>)<pos:position pos:line="44" pos:column="27"/></condition><then pos:line="44" pos:column="27">
      <block type="pseudo"><expr_stmt><expr><name pos:line="45" pos:column="7">request<pos:position pos:line="45" pos:column="14"/></name> <operator pos:line="45" pos:column="15">=<pos:position pos:line="45" pos:column="16"/></operator> <operator pos:line="45" pos:column="17">(<pos:position pos:line="45" pos:column="18"/></operator><name pos:line="45" pos:column="18">char<pos:position pos:line="45" pos:column="22"/></name> <operator pos:line="45" pos:column="23">*<pos:position pos:line="45" pos:column="24"/></operator><operator pos:line="45" pos:column="24">)<pos:position pos:line="45" pos:column="25"/></operator><literal type="string" pos:line="45" pos:column="25">"HEAD"<pos:position pos:line="45" pos:column="31"/></literal></expr>;<pos:position pos:line="45" pos:column="32"/></expr_stmt></block></then>
    <else pos:line="46" pos:column="5">else <block pos:line="46" pos:column="10">{
      <expr_stmt><expr><call><name pos:line="47" pos:column="7">curlassert<pos:position pos:line="47" pos:column="17"/></name><argument_list pos:line="47" pos:column="17">(<argument><expr><operator pos:line="47" pos:column="18">(<pos:position pos:line="47" pos:column="19"/></operator><name pos:line="47" pos:column="19">httpreq<pos:position pos:line="47" pos:column="26"/></name> <operator pos:line="47" pos:column="27">&gt;<pos:position pos:line="47" pos:column="31"/></operator> <name pos:line="47" pos:column="29">HTTPREQ_NONE<pos:position pos:line="47" pos:column="41"/></name><operator pos:line="47" pos:column="41">)<pos:position pos:line="47" pos:column="42"/></operator> <operator pos:line="47" pos:column="43">&amp;&amp;<pos:position pos:line="47" pos:column="53"/></operator> <operator pos:line="47" pos:column="46">(<pos:position pos:line="47" pos:column="47"/></operator><name pos:line="47" pos:column="47">httpreq<pos:position pos:line="47" pos:column="54"/></name> <operator pos:line="47" pos:column="55">&lt;<pos:position pos:line="47" pos:column="59"/></operator> <name pos:line="47" pos:column="57">HTTPREQ_LAST<pos:position pos:line="47" pos:column="69"/></name><operator pos:line="47" pos:column="69">)<pos:position pos:line="47" pos:column="70"/></operator></expr></argument>)<pos:position pos:line="47" pos:column="71"/></argument_list></call></expr>;<pos:position pos:line="47" pos:column="72"/></expr_stmt>
      <switch pos:line="48" pos:column="7">switch<condition pos:line="48" pos:column="13">(<expr><name pos:line="48" pos:column="14">httpreq<pos:position pos:line="48" pos:column="21"/></name></expr>)<pos:position pos:line="48" pos:column="22"/></condition> <block pos:line="48" pos:column="23">{
      <case pos:line="49" pos:column="7">case <expr><name pos:line="49" pos:column="12">HTTPREQ_POST<pos:position pos:line="49" pos:column="24"/></name></expr>:<pos:position pos:line="49" pos:column="25"/></case>
      <case pos:line="50" pos:column="7">case <expr><name pos:line="50" pos:column="12">HTTPREQ_POST_FORM<pos:position pos:line="50" pos:column="29"/></name></expr>:<pos:position pos:line="50" pos:column="30"/></case>
        <expr_stmt><expr><name pos:line="51" pos:column="9">request<pos:position pos:line="51" pos:column="16"/></name> <operator pos:line="51" pos:column="17">=<pos:position pos:line="51" pos:column="18"/></operator> <operator pos:line="51" pos:column="19">(<pos:position pos:line="51" pos:column="20"/></operator><name pos:line="51" pos:column="20">char<pos:position pos:line="51" pos:column="24"/></name> <operator pos:line="51" pos:column="25">*<pos:position pos:line="51" pos:column="26"/></operator><operator pos:line="51" pos:column="26">)<pos:position pos:line="51" pos:column="27"/></operator><literal type="string" pos:line="51" pos:column="27">"POST"<pos:position pos:line="51" pos:column="33"/></literal></expr>;<pos:position pos:line="51" pos:column="34"/></expr_stmt>
        <break pos:line="52" pos:column="9">break;<pos:position pos:line="52" pos:column="15"/></break>
      <case pos:line="53" pos:column="7">case <expr><name pos:line="53" pos:column="12">HTTPREQ_PUT<pos:position pos:line="53" pos:column="23"/></name></expr>:<pos:position pos:line="53" pos:column="24"/></case>
        <expr_stmt><expr><name pos:line="54" pos:column="9">request<pos:position pos:line="54" pos:column="16"/></name> <operator pos:line="54" pos:column="17">=<pos:position pos:line="54" pos:column="18"/></operator> <operator pos:line="54" pos:column="19">(<pos:position pos:line="54" pos:column="20"/></operator><name pos:line="54" pos:column="20">char<pos:position pos:line="54" pos:column="24"/></name> <operator pos:line="54" pos:column="25">*<pos:position pos:line="54" pos:column="26"/></operator><operator pos:line="54" pos:column="26">)<pos:position pos:line="54" pos:column="27"/></operator><literal type="string" pos:line="54" pos:column="27">"PUT"<pos:position pos:line="54" pos:column="32"/></literal></expr>;<pos:position pos:line="54" pos:column="33"/></expr_stmt>
        <break pos:line="55" pos:column="9">break;<pos:position pos:line="55" pos:column="15"/></break>
      <default pos:line="56" pos:column="7">default:<pos:position pos:line="56" pos:column="15"/></default> <comment type="block" pos:line="56" pos:column="16">/* this should never happen */</comment>
      <case pos:line="57" pos:column="7">case <expr><name pos:line="57" pos:column="12">HTTPREQ_GET<pos:position pos:line="57" pos:column="23"/></name></expr>:<pos:position pos:line="57" pos:column="24"/></case>
        <expr_stmt><expr><name pos:line="58" pos:column="9">request<pos:position pos:line="58" pos:column="16"/></name> <operator pos:line="58" pos:column="17">=<pos:position pos:line="58" pos:column="18"/></operator> <operator pos:line="58" pos:column="19">(<pos:position pos:line="58" pos:column="20"/></operator><name pos:line="58" pos:column="20">char<pos:position pos:line="58" pos:column="24"/></name> <operator pos:line="58" pos:column="25">*<pos:position pos:line="58" pos:column="26"/></operator><operator pos:line="58" pos:column="26">)<pos:position pos:line="58" pos:column="27"/></operator><literal type="string" pos:line="58" pos:column="27">"GET"<pos:position pos:line="58" pos:column="32"/></literal></expr>;<pos:position pos:line="58" pos:column="33"/></expr_stmt>
        <break pos:line="59" pos:column="9">break;<pos:position pos:line="59" pos:column="15"/></break>
      <case pos:line="60" pos:column="7">case <expr><name pos:line="60" pos:column="12">HTTPREQ_HEAD<pos:position pos:line="60" pos:column="24"/></name></expr>:<pos:position pos:line="60" pos:column="25"/></case>
        <expr_stmt><expr><name pos:line="61" pos:column="9">request<pos:position pos:line="61" pos:column="16"/></name> <operator pos:line="61" pos:column="17">=<pos:position pos:line="61" pos:column="18"/></operator> <operator pos:line="61" pos:column="19">(<pos:position pos:line="61" pos:column="20"/></operator><name pos:line="61" pos:column="20">char<pos:position pos:line="61" pos:column="24"/></name> <operator pos:line="61" pos:column="25">*<pos:position pos:line="61" pos:column="26"/></operator><operator pos:line="61" pos:column="26">)<pos:position pos:line="61" pos:column="27"/></operator><literal type="string" pos:line="61" pos:column="27">"HEAD"<pos:position pos:line="61" pos:column="33"/></literal></expr>;<pos:position pos:line="61" pos:column="34"/></expr_stmt>
        <break pos:line="62" pos:column="9">break;<pos:position pos:line="62" pos:column="15"/></break>
      }<pos:position pos:line="63" pos:column="8"/></block></switch>
    }<pos:position pos:line="64" pos:column="6"/></block></else></if>
  }<pos:position pos:line="65" pos:column="4"/></block></else></if>

  <comment type="block" pos:line="67" pos:column="3">/* The User-Agent string might have been allocated in url.c already, because
     it might have been used in the proxy connect, but if we have got a header
     with the user-agent string specified, we erase the previously made string
     here. */</comment>
  <if pos:line="71" pos:column="3">if<condition pos:line="71" pos:column="5">(<expr><call><name pos:line="71" pos:column="6">checkheaders<pos:position pos:line="71" pos:column="18"/></name><argument_list pos:line="71" pos:column="18">(<argument><expr><name pos:line="71" pos:column="19">data<pos:position pos:line="71" pos:column="23"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="71" pos:column="25">"User-Agent:"<pos:position pos:line="71" pos:column="38"/></literal></expr></argument>)<pos:position pos:line="71" pos:column="39"/></argument_list></call> <operator pos:line="71" pos:column="40">&amp;&amp;<pos:position pos:line="71" pos:column="50"/></operator> <name><name pos:line="71" pos:column="43">conn<pos:position pos:line="71" pos:column="47"/></name><operator pos:line="71" pos:column="47">-&gt;<pos:position pos:line="71" pos:column="52"/></operator><name pos:line="71" pos:column="49">allocptr<pos:position pos:line="71" pos:column="57"/></name><operator pos:line="71" pos:column="57">.<pos:position pos:line="71" pos:column="58"/></operator><name pos:line="71" pos:column="58">uagent<pos:position pos:line="71" pos:column="64"/></name></name></expr>)<pos:position pos:line="71" pos:column="65"/></condition><then pos:line="71" pos:column="65"> <block pos:line="71" pos:column="66">{
    <expr_stmt><expr><call><name pos:line="72" pos:column="5">free<pos:position pos:line="72" pos:column="9"/></name><argument_list pos:line="72" pos:column="9">(<argument><expr><name><name pos:line="72" pos:column="10">conn<pos:position pos:line="72" pos:column="14"/></name><operator pos:line="72" pos:column="14">-&gt;<pos:position pos:line="72" pos:column="19"/></operator><name pos:line="72" pos:column="16">allocptr<pos:position pos:line="72" pos:column="24"/></name><operator pos:line="72" pos:column="24">.<pos:position pos:line="72" pos:column="25"/></operator><name pos:line="72" pos:column="25">uagent<pos:position pos:line="72" pos:column="31"/></name></name></expr></argument>)<pos:position pos:line="72" pos:column="32"/></argument_list></call></expr>;<pos:position pos:line="72" pos:column="33"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="73" pos:column="5">conn<pos:position pos:line="73" pos:column="9"/></name><operator pos:line="73" pos:column="9">-&gt;<pos:position pos:line="73" pos:column="14"/></operator><name pos:line="73" pos:column="11">allocptr<pos:position pos:line="73" pos:column="19"/></name><operator pos:line="73" pos:column="19">.<pos:position pos:line="73" pos:column="20"/></operator><name pos:line="73" pos:column="20">uagent<pos:position pos:line="73" pos:column="26"/></name></name><operator pos:line="73" pos:column="26">=<pos:position pos:line="73" pos:column="27"/></operator><name pos:line="73" pos:column="27">NULL<pos:position pos:line="73" pos:column="31"/></name></expr>;<pos:position pos:line="73" pos:column="32"/></expr_stmt>
  }<pos:position pos:line="74" pos:column="4"/></block></then></if>

  <comment type="block" pos:line="76" pos:column="3">/* setup the authentication headers */</comment>
  <expr_stmt><expr><name pos:line="77" pos:column="3">result<pos:position pos:line="77" pos:column="9"/></name> <operator pos:line="77" pos:column="10">=<pos:position pos:line="77" pos:column="11"/></operator> <call><name pos:line="77" pos:column="12">Curl_http_output_auth<pos:position pos:line="77" pos:column="33"/></name><argument_list pos:line="77" pos:column="33">(<argument><expr><name pos:line="77" pos:column="34">conn<pos:position pos:line="77" pos:column="38"/></name></expr></argument>, <argument><expr><name pos:line="77" pos:column="40">request<pos:position pos:line="77" pos:column="47"/></name></expr></argument>, <argument><expr><name pos:line="77" pos:column="49">ppath<pos:position pos:line="77" pos:column="54"/></name></expr></argument>, <argument><expr><name pos:line="77" pos:column="56">FALSE<pos:position pos:line="77" pos:column="61"/></name></expr></argument>)<pos:position pos:line="77" pos:column="62"/></argument_list></call></expr>;<pos:position pos:line="77" pos:column="63"/></expr_stmt>
  <if pos:line="78" pos:column="3">if<condition pos:line="78" pos:column="5">(<expr><name pos:line="78" pos:column="6">result<pos:position pos:line="78" pos:column="12"/></name></expr>)<pos:position pos:line="78" pos:column="13"/></condition><then pos:line="78" pos:column="13">
    <block type="pseudo"><return pos:line="79" pos:column="5">return <expr><name pos:line="79" pos:column="12">result<pos:position pos:line="79" pos:column="18"/></name></expr>;<pos:position pos:line="79" pos:column="19"/></return></block></then></if>

  <if pos:line="81" pos:column="3">if<condition pos:line="81" pos:column="5">(<expr><operator pos:line="81" pos:column="6">(<pos:position pos:line="81" pos:column="7"/></operator><name><name pos:line="81" pos:column="7">data<pos:position pos:line="81" pos:column="11"/></name><operator pos:line="81" pos:column="11">-&gt;<pos:position pos:line="81" pos:column="16"/></operator><name pos:line="81" pos:column="13">state<pos:position pos:line="81" pos:column="18"/></name><operator pos:line="81" pos:column="18">.<pos:position pos:line="81" pos:column="19"/></operator><name pos:line="81" pos:column="19">authhost<pos:position pos:line="81" pos:column="27"/></name><operator pos:line="81" pos:column="27">.<pos:position pos:line="81" pos:column="28"/></operator><name pos:line="81" pos:column="28">multi<pos:position pos:line="81" pos:column="33"/></name></name> <operator pos:line="81" pos:column="34">||<pos:position pos:line="81" pos:column="36"/></operator> <name><name pos:line="81" pos:column="37">data<pos:position pos:line="81" pos:column="41"/></name><operator pos:line="81" pos:column="41">-&gt;<pos:position pos:line="81" pos:column="46"/></operator><name pos:line="81" pos:column="43">state<pos:position pos:line="81" pos:column="48"/></name><operator pos:line="81" pos:column="48">.<pos:position pos:line="81" pos:column="49"/></operator><name pos:line="81" pos:column="49">authproxy<pos:position pos:line="81" pos:column="58"/></name><operator pos:line="81" pos:column="58">.<pos:position pos:line="81" pos:column="59"/></operator><name pos:line="81" pos:column="59">multi<pos:position pos:line="81" pos:column="64"/></name></name><operator pos:line="81" pos:column="64">)<pos:position pos:line="81" pos:column="65"/></operator> <operator pos:line="81" pos:column="66">&amp;&amp;<pos:position pos:line="81" pos:column="76"/></operator>
     <operator pos:line="82" pos:column="6">(<pos:position pos:line="82" pos:column="7"/></operator><name pos:line="82" pos:column="7">httpreq<pos:position pos:line="82" pos:column="14"/></name> <operator pos:line="82" pos:column="15">!=<pos:position pos:line="82" pos:column="17"/></operator> <name pos:line="82" pos:column="18">HTTPREQ_GET<pos:position pos:line="82" pos:column="29"/></name><operator pos:line="82" pos:column="29">)<pos:position pos:line="82" pos:column="30"/></operator> <operator pos:line="82" pos:column="31">&amp;&amp;<pos:position pos:line="82" pos:column="41"/></operator>
     <operator pos:line="83" pos:column="6">(<pos:position pos:line="83" pos:column="7"/></operator><name pos:line="83" pos:column="7">httpreq<pos:position pos:line="83" pos:column="14"/></name> <operator pos:line="83" pos:column="15">!=<pos:position pos:line="83" pos:column="17"/></operator> <name pos:line="83" pos:column="18">HTTPREQ_HEAD<pos:position pos:line="83" pos:column="30"/></name><operator pos:line="83" pos:column="30">)<pos:position pos:line="83" pos:column="31"/></operator></expr>)<pos:position pos:line="83" pos:column="32"/></condition><then pos:line="83" pos:column="32"> <block pos:line="83" pos:column="33">{
    <comment type="block" pos:line="84" pos:column="5">/* Auth is required and we are not authenticated yet. Make a PUT or POST
       with content-length zero as a "probe". */</comment>
    <expr_stmt><expr><name><name pos:line="86" pos:column="5">conn<pos:position pos:line="86" pos:column="9"/></name><operator pos:line="86" pos:column="9">-&gt;<pos:position pos:line="86" pos:column="14"/></operator><name pos:line="86" pos:column="11">bits<pos:position pos:line="86" pos:column="15"/></name><operator pos:line="86" pos:column="15">.<pos:position pos:line="86" pos:column="16"/></operator><name pos:line="86" pos:column="16">authneg<pos:position pos:line="86" pos:column="23"/></name></name> <operator pos:line="86" pos:column="24">=<pos:position pos:line="86" pos:column="25"/></operator> <name pos:line="86" pos:column="26">TRUE<pos:position pos:line="86" pos:column="30"/></name></expr>;<pos:position pos:line="86" pos:column="31"/></expr_stmt>
  }<pos:position pos:line="87" pos:column="4"/></block></then>
  <else pos:line="88" pos:column="3">else
    <block type="pseudo"><expr_stmt><expr><name><name pos:line="89" pos:column="5">conn<pos:position pos:line="89" pos:column="9"/></name><operator pos:line="89" pos:column="9">-&gt;<pos:position pos:line="89" pos:column="14"/></operator><name pos:line="89" pos:column="11">bits<pos:position pos:line="89" pos:column="15"/></name><operator pos:line="89" pos:column="15">.<pos:position pos:line="89" pos:column="16"/></operator><name pos:line="89" pos:column="16">authneg<pos:position pos:line="89" pos:column="23"/></name></name> <operator pos:line="89" pos:column="24">=<pos:position pos:line="89" pos:column="25"/></operator> <name pos:line="89" pos:column="26">FALSE<pos:position pos:line="89" pos:column="31"/></name></expr>;<pos:position pos:line="89" pos:column="32"/></expr_stmt></block></else></if>

  <expr_stmt><expr><call><name pos:line="91" pos:column="3">Curl_safefree<pos:position pos:line="91" pos:column="16"/></name><argument_list pos:line="91" pos:column="16">(<argument><expr><name><name pos:line="91" pos:column="17">conn<pos:position pos:line="91" pos:column="21"/></name><operator pos:line="91" pos:column="21">-&gt;<pos:position pos:line="91" pos:column="26"/></operator><name pos:line="91" pos:column="23">allocptr<pos:position pos:line="91" pos:column="31"/></name><operator pos:line="91" pos:column="31">.<pos:position pos:line="91" pos:column="32"/></operator><name pos:line="91" pos:column="32">ref<pos:position pos:line="91" pos:column="35"/></name></name></expr></argument>)<pos:position pos:line="91" pos:column="36"/></argument_list></call></expr>;<pos:position pos:line="91" pos:column="37"/></expr_stmt>
  <if pos:line="92" pos:column="3">if<condition pos:line="92" pos:column="5">(<expr><name><name pos:line="92" pos:column="6">data<pos:position pos:line="92" pos:column="10"/></name><operator pos:line="92" pos:column="10">-&gt;<pos:position pos:line="92" pos:column="15"/></operator><name pos:line="92" pos:column="12">change<pos:position pos:line="92" pos:column="18"/></name><operator pos:line="92" pos:column="18">.<pos:position pos:line="92" pos:column="19"/></operator><name pos:line="92" pos:column="19">referer<pos:position pos:line="92" pos:column="26"/></name></name> <operator pos:line="92" pos:column="27">&amp;&amp;<pos:position pos:line="92" pos:column="37"/></operator> <operator pos:line="92" pos:column="30">!<pos:position pos:line="92" pos:column="31"/></operator><call><name pos:line="92" pos:column="31">checkheaders<pos:position pos:line="92" pos:column="43"/></name><argument_list pos:line="92" pos:column="43">(<argument><expr><name pos:line="92" pos:column="44">data<pos:position pos:line="92" pos:column="48"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="92" pos:column="50">"Referer:"<pos:position pos:line="92" pos:column="60"/></literal></expr></argument>)<pos:position pos:line="92" pos:column="61"/></argument_list></call></expr>)<pos:position pos:line="92" pos:column="62"/></condition><then pos:line="92" pos:column="62">
    <block type="pseudo"><expr_stmt><expr><name><name pos:line="93" pos:column="5">conn<pos:position pos:line="93" pos:column="9"/></name><operator pos:line="93" pos:column="9">-&gt;<pos:position pos:line="93" pos:column="14"/></operator><name pos:line="93" pos:column="11">allocptr<pos:position pos:line="93" pos:column="19"/></name><operator pos:line="93" pos:column="19">.<pos:position pos:line="93" pos:column="20"/></operator><name pos:line="93" pos:column="20">ref<pos:position pos:line="93" pos:column="23"/></name></name> <operator pos:line="93" pos:column="24">=<pos:position pos:line="93" pos:column="25"/></operator> <call><name pos:line="93" pos:column="26">aprintf<pos:position pos:line="93" pos:column="33"/></name><argument_list pos:line="93" pos:column="33">(<argument><expr><literal type="string" pos:line="93" pos:column="34">"Referer: %s\015\012"<pos:position pos:line="93" pos:column="55"/></literal></expr></argument>, <argument><expr><name><name pos:line="93" pos:column="57">data<pos:position pos:line="93" pos:column="61"/></name><operator pos:line="93" pos:column="61">-&gt;<pos:position pos:line="93" pos:column="66"/></operator><name pos:line="93" pos:column="63">change<pos:position pos:line="93" pos:column="69"/></name><operator pos:line="93" pos:column="69">.<pos:position pos:line="93" pos:column="70"/></operator><name pos:line="93" pos:column="70">referer<pos:position pos:line="93" pos:column="77"/></name></name></expr></argument>)<pos:position pos:line="93" pos:column="78"/></argument_list></call></expr>;<pos:position pos:line="93" pos:column="79"/></expr_stmt></block></then>
  <else pos:line="94" pos:column="3">else
    <block type="pseudo"><expr_stmt><expr><name><name pos:line="95" pos:column="5">conn<pos:position pos:line="95" pos:column="9"/></name><operator pos:line="95" pos:column="9">-&gt;<pos:position pos:line="95" pos:column="14"/></operator><name pos:line="95" pos:column="11">allocptr<pos:position pos:line="95" pos:column="19"/></name><operator pos:line="95" pos:column="19">.<pos:position pos:line="95" pos:column="20"/></operator><name pos:line="95" pos:column="20">ref<pos:position pos:line="95" pos:column="23"/></name></name> <operator pos:line="95" pos:column="24">=<pos:position pos:line="95" pos:column="25"/></operator> <name pos:line="95" pos:column="26">NULL<pos:position pos:line="95" pos:column="30"/></name></expr>;<pos:position pos:line="95" pos:column="31"/></expr_stmt></block></else></if>

  <if pos:line="97" pos:column="3">if<condition pos:line="97" pos:column="5">(<expr><name><name pos:line="97" pos:column="6">data<pos:position pos:line="97" pos:column="10"/></name><operator pos:line="97" pos:column="10">-&gt;<pos:position pos:line="97" pos:column="15"/></operator><name pos:line="97" pos:column="12">set<pos:position pos:line="97" pos:column="15"/></name><operator pos:line="97" pos:column="15">.<pos:position pos:line="97" pos:column="16"/></operator><name pos:line="97" pos:column="16">cookie<pos:position pos:line="97" pos:column="22"/></name></name> <operator pos:line="97" pos:column="23">&amp;&amp;<pos:position pos:line="97" pos:column="33"/></operator> <operator pos:line="97" pos:column="26">!<pos:position pos:line="97" pos:column="27"/></operator><call><name pos:line="97" pos:column="27">checkheaders<pos:position pos:line="97" pos:column="39"/></name><argument_list pos:line="97" pos:column="39">(<argument><expr><name pos:line="97" pos:column="40">data<pos:position pos:line="97" pos:column="44"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="97" pos:column="46">"Cookie:"<pos:position pos:line="97" pos:column="55"/></literal></expr></argument>)<pos:position pos:line="97" pos:column="56"/></argument_list></call></expr>)<pos:position pos:line="97" pos:column="57"/></condition><then pos:line="97" pos:column="57">
    <block type="pseudo"><expr_stmt><expr><name pos:line="98" pos:column="5">addcookies<pos:position pos:line="98" pos:column="15"/></name> <operator pos:line="98" pos:column="16">=<pos:position pos:line="98" pos:column="17"/></operator> <name><name pos:line="98" pos:column="18">data<pos:position pos:line="98" pos:column="22"/></name><operator pos:line="98" pos:column="22">-&gt;<pos:position pos:line="98" pos:column="27"/></operator><name pos:line="98" pos:column="24">set<pos:position pos:line="98" pos:column="27"/></name><operator pos:line="98" pos:column="27">.<pos:position pos:line="98" pos:column="28"/></operator><name pos:line="98" pos:column="28">cookie<pos:position pos:line="98" pos:column="34"/></name></name></expr>;<pos:position pos:line="98" pos:column="35"/></expr_stmt></block></then></if>

  <if pos:line="100" pos:column="3">if<condition pos:line="100" pos:column="5">(<expr><operator pos:line="100" pos:column="6">!<pos:position pos:line="100" pos:column="7"/></operator><call><name pos:line="100" pos:column="7">checkheaders<pos:position pos:line="100" pos:column="19"/></name><argument_list pos:line="100" pos:column="19">(<argument><expr><name pos:line="100" pos:column="20">data<pos:position pos:line="100" pos:column="24"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="100" pos:column="26">"Accept-Encoding:"<pos:position pos:line="100" pos:column="44"/></literal></expr></argument>)<pos:position pos:line="100" pos:column="45"/></argument_list></call> <operator pos:line="100" pos:column="46">&amp;&amp;<pos:position pos:line="100" pos:column="56"/></operator>
     <name><name pos:line="101" pos:column="6">data<pos:position pos:line="101" pos:column="10"/></name><operator pos:line="101" pos:column="10">-&gt;<pos:position pos:line="101" pos:column="15"/></operator><name pos:line="101" pos:column="12">set<pos:position pos:line="101" pos:column="15"/></name><operator pos:line="101" pos:column="15">.<pos:position pos:line="101" pos:column="16"/></operator><name pos:line="101" pos:column="16">encoding<pos:position pos:line="101" pos:column="24"/></name></name></expr>)<pos:position pos:line="101" pos:column="25"/></condition><then pos:line="101" pos:column="25"> <block pos:line="101" pos:column="26">{
    <expr_stmt><expr><call><name pos:line="102" pos:column="5">Curl_safefree<pos:position pos:line="102" pos:column="18"/></name><argument_list pos:line="102" pos:column="18">(<argument><expr><name><name pos:line="102" pos:column="19">conn<pos:position pos:line="102" pos:column="23"/></name><operator pos:line="102" pos:column="23">-&gt;<pos:position pos:line="102" pos:column="28"/></operator><name pos:line="102" pos:column="25">allocptr<pos:position pos:line="102" pos:column="33"/></name><operator pos:line="102" pos:column="33">.<pos:position pos:line="102" pos:column="34"/></operator><name pos:line="102" pos:column="34">accept_encoding<pos:position pos:line="102" pos:column="49"/></name></name></expr></argument>)<pos:position pos:line="102" pos:column="50"/></argument_list></call></expr>;<pos:position pos:line="102" pos:column="51"/></expr_stmt>
    <expr_stmt><expr><name><name pos:line="103" pos:column="5">conn<pos:position pos:line="103" pos:column="9"/></name><operator pos:line="103" pos:column="9">-&gt;<pos:position pos:line="103" pos:column="14"/></operator><name pos:line="103" pos:column="11">allocptr<pos:position pos:line="103" pos:column="19"/></name><operator pos:line="103" pos:column="19">.<pos:position pos:line="103" pos:column="20"/></operator><name pos:line="103" pos:column="20">accept_encoding<pos:position pos:line="103" pos:column="35"/></name></name> <operator pos:line="103" pos:column="36">=<pos:position pos:line="103" pos:column="37"/></operator>
      <call><name pos:line="104" pos:column="7">aprintf<pos:position pos:line="104" pos:column="14"/></name><argument_list pos:line="104" pos:column="14">(<argument><expr><literal type="string" pos:line="104" pos:column="15">"Accept-Encoding: %s\015\012"<pos:position pos:line="104" pos:column="44"/></literal></expr></argument>, <argument><expr><name><name pos:line="104" pos:column="46">data<pos:position pos:line="104" pos:column="50"/></name><operator pos:line="104" pos:column="50">-&gt;<pos:position pos:line="104" pos:column="55"/></operator><name pos:line="104" pos:column="52">set<pos:position pos:line="104" pos:column="55"/></name><operator pos:line="104" pos:column="55">.<pos:position pos:line="104" pos:column="56"/></operator><name pos:line="104" pos:column="56">encoding<pos:position pos:line="104" pos:column="64"/></name></name></expr></argument>)<pos:position pos:line="104" pos:column="65"/></argument_list></call></expr>;<pos:position pos:line="104" pos:column="66"/></expr_stmt>
    <if pos:line="105" pos:column="5">if<condition pos:line="105" pos:column="7">(<expr><operator pos:line="105" pos:column="8">!<pos:position pos:line="105" pos:column="9"/></operator><name><name pos:line="105" pos:column="9">conn<pos:position pos:line="105" pos:column="13"/></name><operator pos:line="105" pos:column="13">-&gt;<pos:position pos:line="105" pos:column="18"/></operator><name pos:line="105" pos:column="15">allocptr<pos:position pos:line="105" pos:column="23"/></name><operator pos:line="105" pos:column="23">.<pos:position pos:line="105" pos:column="24"/></operator><name pos:line="105" pos:column="24">accept_encoding<pos:position pos:line="105" pos:column="39"/></name></name></expr>)<pos:position pos:line="105" pos:column="40"/></condition><then pos:line="105" pos:column="40">
      <block type="pseudo"><return pos:line="106" pos:column="7">return <expr><name pos:line="106" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="106" pos:column="33"/></name></expr>;<pos:position pos:line="106" pos:column="34"/></return></block></then></if>
  }<pos:position pos:line="107" pos:column="4"/></block></then></if>

  <if pos:line="109" pos:column="3">if<condition pos:line="109" pos:column="5">(<expr><operator pos:line="109" pos:column="6">!<pos:position pos:line="109" pos:column="7"/></operator><name><name pos:line="109" pos:column="7">conn<pos:position pos:line="109" pos:column="11"/></name><operator pos:line="109" pos:column="11">-&gt;<pos:position pos:line="109" pos:column="16"/></operator><name pos:line="109" pos:column="13">bits<pos:position pos:line="109" pos:column="17"/></name><operator pos:line="109" pos:column="17">.<pos:position pos:line="109" pos:column="18"/></operator><name pos:line="109" pos:column="18">upload_chunky<pos:position pos:line="109" pos:column="31"/></name></name> <operator pos:line="109" pos:column="32">&amp;&amp;<pos:position pos:line="109" pos:column="42"/></operator> <operator pos:line="109" pos:column="35">(<pos:position pos:line="109" pos:column="36"/></operator><name pos:line="109" pos:column="36">httpreq<pos:position pos:line="109" pos:column="43"/></name> <operator pos:line="109" pos:column="44">!=<pos:position pos:line="109" pos:column="46"/></operator> <name pos:line="109" pos:column="47">HTTPREQ_GET<pos:position pos:line="109" pos:column="58"/></name><operator pos:line="109" pos:column="58">)<pos:position pos:line="109" pos:column="59"/></operator></expr>)<pos:position pos:line="109" pos:column="60"/></condition><then pos:line="109" pos:column="60"> <block pos:line="109" pos:column="61">{
    <comment type="block" pos:line="110" pos:column="5">/* not a chunky transfer yet, but data is to be sent */</comment>
    <expr_stmt><expr><name pos:line="111" pos:column="5">ptr<pos:position pos:line="111" pos:column="8"/></name> <operator pos:line="111" pos:column="9">=<pos:position pos:line="111" pos:column="10"/></operator> <call><name pos:line="111" pos:column="11">checkheaders<pos:position pos:line="111" pos:column="23"/></name><argument_list pos:line="111" pos:column="23">(<argument><expr><name pos:line="111" pos:column="24">data<pos:position pos:line="111" pos:column="28"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="111" pos:column="30">"Transfer-Encoding:"<pos:position pos:line="111" pos:column="50"/></literal></expr></argument>)<pos:position pos:line="111" pos:column="51"/></argument_list></call></expr>;<pos:position pos:line="111" pos:column="52"/></expr_stmt>
    <if pos:line="112" pos:column="5">if<condition pos:line="112" pos:column="7">(<expr><name pos:line="112" pos:column="8">ptr<pos:position pos:line="112" pos:column="11"/></name></expr>)<pos:position pos:line="112" pos:column="12"/></condition><then pos:line="112" pos:column="12"> <block pos:line="112" pos:column="13">{
      <comment type="block" pos:line="113" pos:column="7">/* Some kind of TE is requested, check if 'chunked' is chosen */</comment>
      <expr_stmt><expr><name><name pos:line="114" pos:column="7">conn<pos:position pos:line="114" pos:column="11"/></name><operator pos:line="114" pos:column="11">-&gt;<pos:position pos:line="114" pos:column="16"/></operator><name pos:line="114" pos:column="13">bits<pos:position pos:line="114" pos:column="17"/></name><operator pos:line="114" pos:column="17">.<pos:position pos:line="114" pos:column="18"/></operator><name pos:line="114" pos:column="18">upload_chunky<pos:position pos:line="114" pos:column="31"/></name></name> <operator pos:line="114" pos:column="32">=<pos:position pos:line="114" pos:column="33"/></operator>
        <call><name pos:line="115" pos:column="9">Curl_compareheader<pos:position pos:line="115" pos:column="27"/></name><argument_list pos:line="115" pos:column="27">(<argument><expr><name pos:line="115" pos:column="28">ptr<pos:position pos:line="115" pos:column="31"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="115" pos:column="33">"Transfer-Encoding:"<pos:position pos:line="115" pos:column="53"/></literal></expr></argument>, <argument><expr><literal type="string" pos:line="115" pos:column="55">"chunked"<pos:position pos:line="115" pos:column="64"/></literal></expr></argument>)<pos:position pos:line="115" pos:column="65"/></argument_list></call></expr>;<pos:position pos:line="115" pos:column="66"/></expr_stmt>
      <expr_stmt><expr><name pos:line="116" pos:column="7">te<pos:position pos:line="116" pos:column="9"/></name> <operator pos:line="116" pos:column="10">=<pos:position pos:line="116" pos:column="11"/></operator> <literal type="string" pos:line="116" pos:column="12">""<pos:position pos:line="116" pos:column="14"/></literal></expr>;<pos:position pos:line="116" pos:column="15"/></expr_stmt>
    }<pos:position pos:line="117" pos:column="6"/></block></then></if>
  }<pos:position pos:line="118" pos:column="4"/></block></then>
  <elseif pos:line="119" pos:column="3">else <if pos:line="119" pos:column="8">if<condition pos:line="119" pos:column="10">(<expr><name><name pos:line="119" pos:column="11">conn<pos:position pos:line="119" pos:column="15"/></name><operator pos:line="119" pos:column="15">-&gt;<pos:position pos:line="119" pos:column="20"/></operator><name pos:line="119" pos:column="17">bits<pos:position pos:line="119" pos:column="21"/></name><operator pos:line="119" pos:column="21">.<pos:position pos:line="119" pos:column="22"/></operator><name pos:line="119" pos:column="22">upload_chunky<pos:position pos:line="119" pos:column="35"/></name></name></expr>)<pos:position pos:line="119" pos:column="36"/></condition><then pos:line="119" pos:column="36"> <block pos:line="119" pos:column="37">{
    <comment type="block" pos:line="120" pos:column="5">/* RFC2616 section 4.4:
       Messages MUST NOT include both a Content-Length header field and a
       non-identity transfer-coding. If the message does include a non-
       identity transfer-coding, the Content-Length MUST be ignored. */</comment>

    <if pos:line="125" pos:column="5">if<condition pos:line="125" pos:column="7">(<expr><operator pos:line="125" pos:column="8">!<pos:position pos:line="125" pos:column="9"/></operator><call><name pos:line="125" pos:column="9">checkheaders<pos:position pos:line="125" pos:column="21"/></name><argument_list pos:line="125" pos:column="21">(<argument><expr><name pos:line="125" pos:column="22">data<pos:position pos:line="125" pos:column="26"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="125" pos:column="28">"Transfer-Encoding:"<pos:position pos:line="125" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="125" pos:column="49"/></argument_list></call></expr>)<pos:position pos:line="125" pos:column="50"/></condition><then pos:line="125" pos:column="50"> <block pos:line="125" pos:column="51">{
      <expr_stmt><expr><name pos:line="126" pos:column="7">te<pos:position pos:line="126" pos:column="9"/></name> <operator pos:line="126" pos:column="10">=<pos:position pos:line="126" pos:column="11"/></operator> <literal type="string" pos:line="126" pos:column="12">"Transfer-Encoding: chunked\r\n"<pos:position pos:line="126" pos:column="44"/></literal></expr>;<pos:position pos:line="126" pos:column="45"/></expr_stmt>
    }<pos:position pos:line="127" pos:column="6"/></block></then>
    <else pos:line="128" pos:column="5">else <block pos:line="128" pos:column="10">{
      <expr_stmt><expr><name pos:line="129" pos:column="7">te<pos:position pos:line="129" pos:column="9"/></name> <operator pos:line="129" pos:column="10">=<pos:position pos:line="129" pos:column="11"/></operator> <literal type="string" pos:line="129" pos:column="12">""<pos:position pos:line="129" pos:column="14"/></literal></expr>;<pos:position pos:line="129" pos:column="15"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="130" pos:column="7">conn<pos:position pos:line="130" pos:column="11"/></name><operator pos:line="130" pos:column="11">-&gt;<pos:position pos:line="130" pos:column="16"/></operator><name pos:line="130" pos:column="13">bits<pos:position pos:line="130" pos:column="17"/></name><operator pos:line="130" pos:column="17">.<pos:position pos:line="130" pos:column="18"/></operator><name pos:line="130" pos:column="18">upload_chunky<pos:position pos:line="130" pos:column="31"/></name></name> <operator pos:line="130" pos:column="32">=<pos:position pos:line="130" pos:column="33"/></operator> <name pos:line="130" pos:column="34">FALSE<pos:position pos:line="130" pos:column="39"/></name></expr>;<pos:position pos:line="130" pos:column="40"/></expr_stmt> <comment type="block" pos:line="130" pos:column="41">/* transfer-encoding was disabled,
                                           so don't chunkify this! */</comment>
    }<pos:position pos:line="132" pos:column="6"/></block></else></if>
  }<pos:position pos:line="133" pos:column="4"/></block></then></if></elseif></if>

  <expr_stmt><expr><call><name pos:line="135" pos:column="3">Curl_safefree<pos:position pos:line="135" pos:column="16"/></name><argument_list pos:line="135" pos:column="16">(<argument><expr><name><name pos:line="135" pos:column="17">conn<pos:position pos:line="135" pos:column="21"/></name><operator pos:line="135" pos:column="21">-&gt;<pos:position pos:line="135" pos:column="26"/></operator><name pos:line="135" pos:column="23">allocptr<pos:position pos:line="135" pos:column="31"/></name><operator pos:line="135" pos:column="31">.<pos:position pos:line="135" pos:column="32"/></operator><name pos:line="135" pos:column="32">host<pos:position pos:line="135" pos:column="36"/></name></name></expr></argument>)<pos:position pos:line="135" pos:column="37"/></argument_list></call></expr>;<pos:position pos:line="135" pos:column="38"/></expr_stmt>

  <expr_stmt><expr><name pos:line="137" pos:column="3">ptr<pos:position pos:line="137" pos:column="6"/></name> <operator pos:line="137" pos:column="7">=<pos:position pos:line="137" pos:column="8"/></operator> <call><name pos:line="137" pos:column="9">checkheaders<pos:position pos:line="137" pos:column="21"/></name><argument_list pos:line="137" pos:column="21">(<argument><expr><name pos:line="137" pos:column="22">data<pos:position pos:line="137" pos:column="26"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="137" pos:column="28">"Host:"<pos:position pos:line="137" pos:column="35"/></literal></expr></argument>)<pos:position pos:line="137" pos:column="36"/></argument_list></call></expr>;<pos:position pos:line="137" pos:column="37"/></expr_stmt>
  <if pos:line="138" pos:column="3">if<condition pos:line="138" pos:column="5">(<expr><name pos:line="138" pos:column="6">ptr<pos:position pos:line="138" pos:column="9"/></name> <operator pos:line="138" pos:column="10">&amp;&amp;<pos:position pos:line="138" pos:column="20"/></operator> <operator pos:line="138" pos:column="13">(<pos:position pos:line="138" pos:column="14"/></operator><operator pos:line="138" pos:column="14">!<pos:position pos:line="138" pos:column="15"/></operator><name><name pos:line="138" pos:column="15">data<pos:position pos:line="138" pos:column="19"/></name><operator pos:line="138" pos:column="19">-&gt;<pos:position pos:line="138" pos:column="24"/></operator><name pos:line="138" pos:column="21">state<pos:position pos:line="138" pos:column="26"/></name><operator pos:line="138" pos:column="26">.<pos:position pos:line="138" pos:column="27"/></operator><name pos:line="138" pos:column="27">this_is_a_follow<pos:position pos:line="138" pos:column="43"/></name></name> <operator pos:line="138" pos:column="44">||<pos:position pos:line="138" pos:column="46"/></operator>
             <call><name pos:line="139" pos:column="14">curl_strequal<pos:position pos:line="139" pos:column="27"/></name><argument_list pos:line="139" pos:column="27">(<argument><expr><name><name pos:line="139" pos:column="28">data<pos:position pos:line="139" pos:column="32"/></name><operator pos:line="139" pos:column="32">-&gt;<pos:position pos:line="139" pos:column="37"/></operator><name pos:line="139" pos:column="34">state<pos:position pos:line="139" pos:column="39"/></name><operator pos:line="139" pos:column="39">.<pos:position pos:line="139" pos:column="40"/></operator><name pos:line="139" pos:column="40">first_host<pos:position pos:line="139" pos:column="50"/></name></name></expr></argument>, <argument><expr><name><name pos:line="139" pos:column="52">conn<pos:position pos:line="139" pos:column="56"/></name><operator pos:line="139" pos:column="56">-&gt;<pos:position pos:line="139" pos:column="61"/></operator><name pos:line="139" pos:column="58">host<pos:position pos:line="139" pos:column="62"/></name><operator pos:line="139" pos:column="62">.<pos:position pos:line="139" pos:column="63"/></operator><name pos:line="139" pos:column="63">name<pos:position pos:line="139" pos:column="67"/></name></name></expr></argument>)<pos:position pos:line="139" pos:column="68"/></argument_list></call><operator pos:line="139" pos:column="68">)<pos:position pos:line="139" pos:column="69"/></operator></expr>)<pos:position pos:line="139" pos:column="70"/></condition><then pos:line="139" pos:column="70"> <block pos:line="139" pos:column="71">{
<cpp:if pos:line="140" pos:column="1">#<cpp:directive pos:line="140" pos:column="2">if<pos:position pos:line="140" pos:column="4"/></cpp:directive> <expr><operator pos:line="140" pos:column="5">!<pos:position pos:line="140" pos:column="6"/></operator><call><name pos:line="140" pos:column="6">defined<pos:position pos:line="140" pos:column="13"/></name><argument_list pos:line="140" pos:column="13">(<argument><expr><name pos:line="140" pos:column="14">CURL_DISABLE_COOKIES<pos:position pos:line="140" pos:column="34"/></name></expr></argument>)<pos:position pos:line="140" pos:column="35"/></argument_list></call></expr></cpp:if>
    <comment type="block" pos:line="141" pos:column="5">/* If we have a given custom Host: header, we extract the host name in
       order to possibly use it for cookie reasons later on. We only allow the
       custom Host: header if this is NOT a redirect, as setting Host: in the
       redirected request is being out on thin ice. Except if the host name
       is the same as the first one! */</comment>
    <decl_stmt><decl><type><name pos:line="146" pos:column="5">char<pos:position pos:line="146" pos:column="9"/></name> <modifier pos:line="146" pos:column="10">*<pos:position pos:line="146" pos:column="11"/></modifier></type><name pos:line="146" pos:column="11">start<pos:position pos:line="146" pos:column="16"/></name> <init pos:line="146" pos:column="17">= <expr><name pos:line="146" pos:column="19">ptr<pos:position pos:line="146" pos:column="22"/></name><operator pos:line="146" pos:column="22">+<pos:position pos:line="146" pos:column="23"/></operator><call><name pos:line="146" pos:column="23">strlen<pos:position pos:line="146" pos:column="29"/></name><argument_list pos:line="146" pos:column="29">(<argument><expr><literal type="string" pos:line="146" pos:column="30">"Host:"<pos:position pos:line="146" pos:column="37"/></literal></expr></argument>)<pos:position pos:line="146" pos:column="38"/></argument_list></call></expr></init></decl>;<pos:position pos:line="146" pos:column="39"/></decl_stmt>
    <while pos:line="147" pos:column="5">while<condition pos:line="147" pos:column="10">(<expr><operator pos:line="147" pos:column="11">*<pos:position pos:line="147" pos:column="12"/></operator><name pos:line="147" pos:column="12">start<pos:position pos:line="147" pos:column="17"/></name> <operator pos:line="147" pos:column="18">&amp;&amp;<pos:position pos:line="147" pos:column="28"/></operator> <call><name pos:line="147" pos:column="21">isspace<pos:position pos:line="147" pos:column="28"/></name><argument_list pos:line="147" pos:column="28">(<argument><expr><operator pos:line="147" pos:column="29">(<pos:position pos:line="147" pos:column="30"/></operator><name pos:line="147" pos:column="30">int<pos:position pos:line="147" pos:column="33"/></name><operator pos:line="147" pos:column="33">)<pos:position pos:line="147" pos:column="34"/></operator><operator pos:line="147" pos:column="34">*<pos:position pos:line="147" pos:column="35"/></operator><name pos:line="147" pos:column="35">start<pos:position pos:line="147" pos:column="40"/></name></expr></argument> )<pos:position pos:line="147" pos:column="42"/></argument_list></call></expr>)<pos:position pos:line="147" pos:column="43"/></condition>
      <block type="pseudo"><expr_stmt><expr><name pos:line="148" pos:column="7">start<pos:position pos:line="148" pos:column="12"/></name><operator pos:line="148" pos:column="12">++<pos:position pos:line="148" pos:column="14"/></operator></expr>;<pos:position pos:line="148" pos:column="15"/></expr_stmt></block></while>
    <expr_stmt><expr><name pos:line="149" pos:column="5">ptr<pos:position pos:line="149" pos:column="8"/></name> <operator pos:line="149" pos:column="9">=<pos:position pos:line="149" pos:column="10"/></operator> <name pos:line="149" pos:column="11">start<pos:position pos:line="149" pos:column="16"/></name></expr>;<pos:position pos:line="149" pos:column="17"/></expr_stmt> <comment type="block" pos:line="149" pos:column="18">/* start host-scanning here */</comment>

    <comment type="block" pos:line="151" pos:column="5">/* scan through the string to find the end (space or colon) */</comment>
    <while pos:line="152" pos:column="5">while<condition pos:line="152" pos:column="10">(<expr><operator pos:line="152" pos:column="11">*<pos:position pos:line="152" pos:column="12"/></operator><name pos:line="152" pos:column="12">ptr<pos:position pos:line="152" pos:column="15"/></name> <operator pos:line="152" pos:column="16">&amp;&amp;<pos:position pos:line="152" pos:column="26"/></operator> <operator pos:line="152" pos:column="19">!<pos:position pos:line="152" pos:column="20"/></operator><call><name pos:line="152" pos:column="20">isspace<pos:position pos:line="152" pos:column="27"/></name><argument_list pos:line="152" pos:column="27">(<argument><expr><operator pos:line="152" pos:column="28">(<pos:position pos:line="152" pos:column="29"/></operator><name pos:line="152" pos:column="29">int<pos:position pos:line="152" pos:column="32"/></name><operator pos:line="152" pos:column="32">)<pos:position pos:line="152" pos:column="33"/></operator><operator pos:line="152" pos:column="33">*<pos:position pos:line="152" pos:column="34"/></operator><name pos:line="152" pos:column="34">ptr<pos:position pos:line="152" pos:column="37"/></name></expr></argument>)<pos:position pos:line="152" pos:column="38"/></argument_list></call> <operator pos:line="152" pos:column="39">&amp;&amp;<pos:position pos:line="152" pos:column="49"/></operator> <operator pos:line="152" pos:column="42">!<pos:position pos:line="152" pos:column="43"/></operator><operator pos:line="152" pos:column="43">(<pos:position pos:line="152" pos:column="44"/></operator><literal type="char" pos:line="152" pos:column="44">':'<pos:position pos:line="152" pos:column="47"/></literal><operator pos:line="152" pos:column="47">==<pos:position pos:line="152" pos:column="49"/></operator><operator pos:line="152" pos:column="49">*<pos:position pos:line="152" pos:column="50"/></operator><name pos:line="152" pos:column="50">ptr<pos:position pos:line="152" pos:column="53"/></name><operator pos:line="152" pos:column="53">)<pos:position pos:line="152" pos:column="54"/></operator></expr>)<pos:position pos:line="152" pos:column="55"/></condition>
      <block type="pseudo"><expr_stmt><expr><name pos:line="153" pos:column="7">ptr<pos:position pos:line="153" pos:column="10"/></name><operator pos:line="153" pos:column="10">++<pos:position pos:line="153" pos:column="12"/></operator></expr>;<pos:position pos:line="153" pos:column="13"/></expr_stmt></block></while>

    <if pos:line="155" pos:column="5">if<condition pos:line="155" pos:column="7">(<expr><name pos:line="155" pos:column="8">ptr<pos:position pos:line="155" pos:column="11"/></name> <operator pos:line="155" pos:column="12">!=<pos:position pos:line="155" pos:column="14"/></operator> <name pos:line="155" pos:column="15">start<pos:position pos:line="155" pos:column="20"/></name></expr>)<pos:position pos:line="155" pos:column="21"/></condition><then pos:line="155" pos:column="21"> <block pos:line="155" pos:column="22">{
      <decl_stmt><decl><type><name pos:line="156" pos:column="7">size_t<pos:position pos:line="156" pos:column="13"/></name></type> <name pos:line="156" pos:column="14">len<pos:position pos:line="156" pos:column="17"/></name><init pos:line="156" pos:column="17">=<expr><name pos:line="156" pos:column="18">ptr<pos:position pos:line="156" pos:column="21"/></name><operator pos:line="156" pos:column="21">-<pos:position pos:line="156" pos:column="22"/></operator><name pos:line="156" pos:column="22">start<pos:position pos:line="156" pos:column="27"/></name></expr></init></decl>;<pos:position pos:line="156" pos:column="28"/></decl_stmt>
      <expr_stmt><expr><call><name pos:line="157" pos:column="7">Curl_safefree<pos:position pos:line="157" pos:column="20"/></name><argument_list pos:line="157" pos:column="20">(<argument><expr><name><name pos:line="157" pos:column="21">conn<pos:position pos:line="157" pos:column="25"/></name><operator pos:line="157" pos:column="25">-&gt;<pos:position pos:line="157" pos:column="30"/></operator><name pos:line="157" pos:column="27">allocptr<pos:position pos:line="157" pos:column="35"/></name><operator pos:line="157" pos:column="35">.<pos:position pos:line="157" pos:column="36"/></operator><name pos:line="157" pos:column="36">cookiehost<pos:position pos:line="157" pos:column="46"/></name></name></expr></argument>)<pos:position pos:line="157" pos:column="47"/></argument_list></call></expr>;<pos:position pos:line="157" pos:column="48"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="158" pos:column="7">conn<pos:position pos:line="158" pos:column="11"/></name><operator pos:line="158" pos:column="11">-&gt;<pos:position pos:line="158" pos:column="16"/></operator><name pos:line="158" pos:column="13">allocptr<pos:position pos:line="158" pos:column="21"/></name><operator pos:line="158" pos:column="21">.<pos:position pos:line="158" pos:column="22"/></operator><name pos:line="158" pos:column="22">cookiehost<pos:position pos:line="158" pos:column="32"/></name></name> <operator pos:line="158" pos:column="33">=<pos:position pos:line="158" pos:column="34"/></operator> <call><name pos:line="158" pos:column="35">malloc<pos:position pos:line="158" pos:column="41"/></name><argument_list pos:line="158" pos:column="41">(<argument><expr><name pos:line="158" pos:column="42">len<pos:position pos:line="158" pos:column="45"/></name><operator pos:line="158" pos:column="45">+<pos:position pos:line="158" pos:column="46"/></operator><literal type="number" pos:line="158" pos:column="46">1<pos:position pos:line="158" pos:column="47"/></literal></expr></argument>)<pos:position pos:line="158" pos:column="48"/></argument_list></call></expr>;<pos:position pos:line="158" pos:column="49"/></expr_stmt>
      <if pos:line="159" pos:column="7">if<condition pos:line="159" pos:column="9">(<expr><operator pos:line="159" pos:column="10">!<pos:position pos:line="159" pos:column="11"/></operator><name><name pos:line="159" pos:column="11">conn<pos:position pos:line="159" pos:column="15"/></name><operator pos:line="159" pos:column="15">-&gt;<pos:position pos:line="159" pos:column="20"/></operator><name pos:line="159" pos:column="17">allocptr<pos:position pos:line="159" pos:column="25"/></name><operator pos:line="159" pos:column="25">.<pos:position pos:line="159" pos:column="26"/></operator><name pos:line="159" pos:column="26">cookiehost<pos:position pos:line="159" pos:column="36"/></name></name></expr>)<pos:position pos:line="159" pos:column="37"/></condition><then pos:line="159" pos:column="37">
        <block type="pseudo"><return pos:line="160" pos:column="9">return <expr><name pos:line="160" pos:column="16">CURLE_OUT_OF_MEMORY<pos:position pos:line="160" pos:column="35"/></name></expr>;<pos:position pos:line="160" pos:column="36"/></return></block></then></if>
      <expr_stmt><expr><call><name pos:line="161" pos:column="7">memcpy<pos:position pos:line="161" pos:column="13"/></name><argument_list pos:line="161" pos:column="13">(<argument><expr><name><name pos:line="161" pos:column="14">conn<pos:position pos:line="161" pos:column="18"/></name><operator pos:line="161" pos:column="18">-&gt;<pos:position pos:line="161" pos:column="23"/></operator><name pos:line="161" pos:column="20">allocptr<pos:position pos:line="161" pos:column="28"/></name><operator pos:line="161" pos:column="28">.<pos:position pos:line="161" pos:column="29"/></operator><name pos:line="161" pos:column="29">cookiehost<pos:position pos:line="161" pos:column="39"/></name></name></expr></argument>, <argument><expr><name pos:line="161" pos:column="41">start<pos:position pos:line="161" pos:column="46"/></name></expr></argument>, <argument><expr><name pos:line="161" pos:column="48">len<pos:position pos:line="161" pos:column="51"/></name></expr></argument>)<pos:position pos:line="161" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="161" pos:column="53"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="162" pos:column="7">conn<pos:position pos:line="162" pos:column="11"/></name><operator pos:line="162" pos:column="11">-&gt;<pos:position pos:line="162" pos:column="16"/></operator><name pos:line="162" pos:column="13">allocptr<pos:position pos:line="162" pos:column="21"/></name><operator pos:line="162" pos:column="21">.<pos:position pos:line="162" pos:column="22"/></operator><name pos:line="162" pos:column="22">cookiehost<pos:position pos:line="162" pos:column="32"/></name><index pos:line="162" pos:column="32">[<expr><name pos:line="162" pos:column="33">len<pos:position pos:line="162" pos:column="36"/></name></expr>]<pos:position pos:line="162" pos:column="37"/></index></name><operator pos:line="162" pos:column="37">=<pos:position pos:line="162" pos:column="38"/></operator><literal type="number" pos:line="162" pos:column="38">0<pos:position pos:line="162" pos:column="39"/></literal></expr>;<pos:position pos:line="162" pos:column="40"/></expr_stmt>
    }<pos:position pos:line="163" pos:column="6"/></block></then></if>
<cpp:endif pos:line="164" pos:column="1">#<cpp:directive pos:line="164" pos:column="2">endif<pos:position pos:line="164" pos:column="7"/></cpp:directive></cpp:endif>

    <expr_stmt><expr><name><name pos:line="166" pos:column="5">conn<pos:position pos:line="166" pos:column="9"/></name><operator pos:line="166" pos:column="9">-&gt;<pos:position pos:line="166" pos:column="14"/></operator><name pos:line="166" pos:column="11">allocptr<pos:position pos:line="166" pos:column="19"/></name><operator pos:line="166" pos:column="19">.<pos:position pos:line="166" pos:column="20"/></operator><name pos:line="166" pos:column="20">host<pos:position pos:line="166" pos:column="24"/></name></name> <operator pos:line="166" pos:column="25">=<pos:position pos:line="166" pos:column="26"/></operator> <name pos:line="166" pos:column="27">NULL<pos:position pos:line="166" pos:column="31"/></name></expr>;<pos:position pos:line="166" pos:column="32"/></expr_stmt>
  }<pos:position pos:line="167" pos:column="4"/></block></then>
  <else pos:line="168" pos:column="3">else <block pos:line="168" pos:column="8">{
    <comment type="block" pos:line="169" pos:column="5">/* When building Host: headers, we must put the host name within
       [brackets] if the host name is a plain IPv6-address. RFC2732-style. */</comment>

    <if pos:line="172" pos:column="5">if<condition pos:line="172" pos:column="7">(<expr><operator pos:line="172" pos:column="8">(<pos:position pos:line="172" pos:column="9"/></operator><operator pos:line="172" pos:column="9">(<pos:position pos:line="172" pos:column="10"/></operator><name><name pos:line="172" pos:column="10">conn<pos:position pos:line="172" pos:column="14"/></name><operator pos:line="172" pos:column="14">-&gt;<pos:position pos:line="172" pos:column="19"/></operator><name pos:line="172" pos:column="16">protocol<pos:position pos:line="172" pos:column="24"/></name></name><operator pos:line="172" pos:column="24">&amp;<pos:position pos:line="172" pos:column="29"/></operator><name pos:line="172" pos:column="25">PROT_HTTPS<pos:position pos:line="172" pos:column="35"/></name><operator pos:line="172" pos:column="35">)<pos:position pos:line="172" pos:column="36"/></operator> <operator pos:line="172" pos:column="37">&amp;&amp;<pos:position pos:line="172" pos:column="47"/></operator> <operator pos:line="172" pos:column="40">(<pos:position pos:line="172" pos:column="41"/></operator><name><name pos:line="172" pos:column="41">conn<pos:position pos:line="172" pos:column="45"/></name><operator pos:line="172" pos:column="45">-&gt;<pos:position pos:line="172" pos:column="50"/></operator><name pos:line="172" pos:column="47">remote_port<pos:position pos:line="172" pos:column="58"/></name></name> <operator pos:line="172" pos:column="59">==<pos:position pos:line="172" pos:column="61"/></operator> <name pos:line="172" pos:column="62">PORT_HTTPS<pos:position pos:line="172" pos:column="72"/></name><operator pos:line="172" pos:column="72">)<pos:position pos:line="172" pos:column="73"/></operator><operator pos:line="172" pos:column="73">)<pos:position pos:line="172" pos:column="74"/></operator> <operator pos:line="172" pos:column="75">||<pos:position pos:line="172" pos:column="77"/></operator>
       <operator pos:line="173" pos:column="8">(<pos:position pos:line="173" pos:column="9"/></operator><operator pos:line="173" pos:column="9">!<pos:position pos:line="173" pos:column="10"/></operator><operator pos:line="173" pos:column="10">(<pos:position pos:line="173" pos:column="11"/></operator><name><name pos:line="173" pos:column="11">conn<pos:position pos:line="173" pos:column="15"/></name><operator pos:line="173" pos:column="15">-&gt;<pos:position pos:line="173" pos:column="20"/></operator><name pos:line="173" pos:column="17">protocol<pos:position pos:line="173" pos:column="25"/></name></name><operator pos:line="173" pos:column="25">&amp;<pos:position pos:line="173" pos:column="30"/></operator><name pos:line="173" pos:column="26">PROT_HTTPS<pos:position pos:line="173" pos:column="36"/></name><operator pos:line="173" pos:column="36">)<pos:position pos:line="173" pos:column="37"/></operator> <operator pos:line="173" pos:column="38">&amp;&amp;<pos:position pos:line="173" pos:column="48"/></operator> <operator pos:line="173" pos:column="41">(<pos:position pos:line="173" pos:column="42"/></operator><name><name pos:line="173" pos:column="42">conn<pos:position pos:line="173" pos:column="46"/></name><operator pos:line="173" pos:column="46">-&gt;<pos:position pos:line="173" pos:column="51"/></operator><name pos:line="173" pos:column="48">remote_port<pos:position pos:line="173" pos:column="59"/></name></name> <operator pos:line="173" pos:column="60">==<pos:position pos:line="173" pos:column="62"/></operator> <name pos:line="173" pos:column="63">PORT_HTTP<pos:position pos:line="173" pos:column="72"/></name><operator pos:line="173" pos:column="72">)<pos:position pos:line="173" pos:column="73"/></operator><operator pos:line="173" pos:column="73">)<pos:position pos:line="173" pos:column="74"/></operator></expr> )<pos:position pos:line="173" pos:column="76"/></condition><then pos:line="173" pos:column="76">
      <comment type="block" pos:line="174" pos:column="7">/* If (HTTPS on port 443) OR (non-HTTPS on port 80) then don't include
         the port number in the host string */</comment>
      <block type="pseudo"><expr_stmt><expr><name><name pos:line="176" pos:column="7">conn<pos:position pos:line="176" pos:column="11"/></name><operator pos:line="176" pos:column="11">-&gt;<pos:position pos:line="176" pos:column="16"/></operator><name pos:line="176" pos:column="13">allocptr<pos:position pos:line="176" pos:column="21"/></name><operator pos:line="176" pos:column="21">.<pos:position pos:line="176" pos:column="22"/></operator><name pos:line="176" pos:column="22">host<pos:position pos:line="176" pos:column="26"/></name></name> <operator pos:line="176" pos:column="27">=<pos:position pos:line="176" pos:column="28"/></operator> <call><name pos:line="176" pos:column="29">aprintf<pos:position pos:line="176" pos:column="36"/></name><argument_list pos:line="176" pos:column="36">(<argument><expr><literal type="string" pos:line="176" pos:column="37">"Host: %s%s%s\r\n"<pos:position pos:line="176" pos:column="55"/></literal></expr></argument>,
                                    <argument><expr><ternary><condition><expr><name><name pos:line="177" pos:column="37">conn<pos:position pos:line="177" pos:column="41"/></name><operator pos:line="177" pos:column="41">-&gt;<pos:position pos:line="177" pos:column="46"/></operator><name pos:line="177" pos:column="43">bits<pos:position pos:line="177" pos:column="47"/></name><operator pos:line="177" pos:column="47">.<pos:position pos:line="177" pos:column="48"/></operator><name pos:line="177" pos:column="48">ipv6_ip<pos:position pos:line="177" pos:column="55"/></name></name></expr>?<pos:position pos:line="177" pos:column="56"/></condition><then><expr><literal type="string" pos:line="177" pos:column="56">"["<pos:position pos:line="177" pos:column="59"/></literal></expr></then><else pos:line="177" pos:column="59">:<expr><literal type="string" pos:line="177" pos:column="60">""<pos:position pos:line="177" pos:column="62"/></literal></expr></else></ternary></expr></argument>,
                                    <argument><expr><name pos:line="178" pos:column="37">host<pos:position pos:line="178" pos:column="41"/></name></expr></argument>,
                                    <argument><expr><ternary><condition><expr><name><name pos:line="179" pos:column="37">conn<pos:position pos:line="179" pos:column="41"/></name><operator pos:line="179" pos:column="41">-&gt;<pos:position pos:line="179" pos:column="46"/></operator><name pos:line="179" pos:column="43">bits<pos:position pos:line="179" pos:column="47"/></name><operator pos:line="179" pos:column="47">.<pos:position pos:line="179" pos:column="48"/></operator><name pos:line="179" pos:column="48">ipv6_ip<pos:position pos:line="179" pos:column="55"/></name></name></expr>?<pos:position pos:line="179" pos:column="56"/></condition><then><expr><literal type="string" pos:line="179" pos:column="56">"]"<pos:position pos:line="179" pos:column="59"/></literal></expr></then><else pos:line="179" pos:column="59">:<expr><literal type="string" pos:line="179" pos:column="60">""<pos:position pos:line="179" pos:column="62"/></literal></expr></else></ternary></expr></argument>)<pos:position pos:line="179" pos:column="63"/></argument_list></call></expr>;<pos:position pos:line="179" pos:column="64"/></expr_stmt></block></then>
    <else pos:line="180" pos:column="5">else
      <block type="pseudo"><expr_stmt><expr><name><name pos:line="181" pos:column="7">conn<pos:position pos:line="181" pos:column="11"/></name><operator pos:line="181" pos:column="11">-&gt;<pos:position pos:line="181" pos:column="16"/></operator><name pos:line="181" pos:column="13">allocptr<pos:position pos:line="181" pos:column="21"/></name><operator pos:line="181" pos:column="21">.<pos:position pos:line="181" pos:column="22"/></operator><name pos:line="181" pos:column="22">host<pos:position pos:line="181" pos:column="26"/></name></name> <operator pos:line="181" pos:column="27">=<pos:position pos:line="181" pos:column="28"/></operator> <call><name pos:line="181" pos:column="29">aprintf<pos:position pos:line="181" pos:column="36"/></name><argument_list pos:line="181" pos:column="36">(<argument><expr><literal type="string" pos:line="181" pos:column="37">"Host: %s%s%s:%d\r\n"<pos:position pos:line="181" pos:column="58"/></literal></expr></argument>,
                                    <argument><expr><ternary><condition><expr><name><name pos:line="182" pos:column="37">conn<pos:position pos:line="182" pos:column="41"/></name><operator pos:line="182" pos:column="41">-&gt;<pos:position pos:line="182" pos:column="46"/></operator><name pos:line="182" pos:column="43">bits<pos:position pos:line="182" pos:column="47"/></name><operator pos:line="182" pos:column="47">.<pos:position pos:line="182" pos:column="48"/></operator><name pos:line="182" pos:column="48">ipv6_ip<pos:position pos:line="182" pos:column="55"/></name></name></expr>?<pos:position pos:line="182" pos:column="56"/></condition><then><expr><literal type="string" pos:line="182" pos:column="56">"["<pos:position pos:line="182" pos:column="59"/></literal></expr></then><else pos:line="182" pos:column="59">:<expr><literal type="string" pos:line="182" pos:column="60">""<pos:position pos:line="182" pos:column="62"/></literal></expr></else></ternary></expr></argument>,
                                    <argument><expr><name pos:line="183" pos:column="37">host<pos:position pos:line="183" pos:column="41"/></name></expr></argument>,
                                    <argument><expr><ternary><condition><expr><name><name pos:line="184" pos:column="37">conn<pos:position pos:line="184" pos:column="41"/></name><operator pos:line="184" pos:column="41">-&gt;<pos:position pos:line="184" pos:column="46"/></operator><name pos:line="184" pos:column="43">bits<pos:position pos:line="184" pos:column="47"/></name><operator pos:line="184" pos:column="47">.<pos:position pos:line="184" pos:column="48"/></operator><name pos:line="184" pos:column="48">ipv6_ip<pos:position pos:line="184" pos:column="55"/></name></name></expr>?<pos:position pos:line="184" pos:column="56"/></condition><then><expr><literal type="string" pos:line="184" pos:column="56">"]"<pos:position pos:line="184" pos:column="59"/></literal></expr></then><else pos:line="184" pos:column="59">:<expr><literal type="string" pos:line="184" pos:column="60">""<pos:position pos:line="184" pos:column="62"/></literal></expr></else></ternary></expr></argument>,
                                    <argument><expr><name><name pos:line="185" pos:column="37">conn<pos:position pos:line="185" pos:column="41"/></name><operator pos:line="185" pos:column="41">-&gt;<pos:position pos:line="185" pos:column="46"/></operator><name pos:line="185" pos:column="43">remote_port<pos:position pos:line="185" pos:column="54"/></name></name></expr></argument>)<pos:position pos:line="185" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="185" pos:column="56"/></expr_stmt></block></else></if>

    <if pos:line="187" pos:column="5">if<condition pos:line="187" pos:column="7">(<expr><operator pos:line="187" pos:column="8">!<pos:position pos:line="187" pos:column="9"/></operator><name><name pos:line="187" pos:column="9">conn<pos:position pos:line="187" pos:column="13"/></name><operator pos:line="187" pos:column="13">-&gt;<pos:position pos:line="187" pos:column="18"/></operator><name pos:line="187" pos:column="15">allocptr<pos:position pos:line="187" pos:column="23"/></name><operator pos:line="187" pos:column="23">.<pos:position pos:line="187" pos:column="24"/></operator><name pos:line="187" pos:column="24">host<pos:position pos:line="187" pos:column="28"/></name></name></expr>)<pos:position pos:line="187" pos:column="29"/></condition><then pos:line="187" pos:column="29">
      <comment type="block" pos:line="188" pos:column="7">/* without Host: we can't make a nice request */</comment>
      <block type="pseudo"><return pos:line="189" pos:column="7">return <expr><name pos:line="189" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="189" pos:column="33"/></name></expr>;<pos:position pos:line="189" pos:column="34"/></return></block></then></if>
  }<pos:position pos:line="190" pos:column="4"/></block></else></if>

  <if pos:line="192" pos:column="3">if <condition pos:line="192" pos:column="6">(<expr><name><name pos:line="192" pos:column="7">conn<pos:position pos:line="192" pos:column="11"/></name><operator pos:line="192" pos:column="11">-&gt;<pos:position pos:line="192" pos:column="16"/></operator><name pos:line="192" pos:column="13">bits<pos:position pos:line="192" pos:column="17"/></name><operator pos:line="192" pos:column="17">.<pos:position pos:line="192" pos:column="18"/></operator><name pos:line="192" pos:column="18">httpproxy<pos:position pos:line="192" pos:column="27"/></name></name> <operator pos:line="192" pos:column="28">&amp;&amp;<pos:position pos:line="192" pos:column="38"/></operator> <operator pos:line="192" pos:column="31">!<pos:position pos:line="192" pos:column="32"/></operator><name><name pos:line="192" pos:column="32">conn<pos:position pos:line="192" pos:column="36"/></name><operator pos:line="192" pos:column="36">-&gt;<pos:position pos:line="192" pos:column="41"/></operator><name pos:line="192" pos:column="38">bits<pos:position pos:line="192" pos:column="42"/></name><operator pos:line="192" pos:column="42">.<pos:position pos:line="192" pos:column="43"/></operator><name pos:line="192" pos:column="43">tunnel_proxy<pos:position pos:line="192" pos:column="55"/></name></name></expr>)<pos:position pos:line="192" pos:column="56"/></condition><then pos:line="192" pos:column="56">  <block pos:line="192" pos:column="58">{
    <comment type="block" pos:line="193" pos:column="5">/* Using a proxy but does not tunnel through it */</comment>

    <comment type="block" pos:line="195" pos:column="5">/* The path sent to the proxy is in fact the entire URL. But if the remote
       host is a IDN-name, we must make sure that the request we produce only
       uses the encoded host name! */</comment>
    <if pos:line="198" pos:column="5">if<condition pos:line="198" pos:column="7">(<expr><name><name pos:line="198" pos:column="8">conn<pos:position pos:line="198" pos:column="12"/></name><operator pos:line="198" pos:column="12">-&gt;<pos:position pos:line="198" pos:column="17"/></operator><name pos:line="198" pos:column="14">host<pos:position pos:line="198" pos:column="18"/></name><operator pos:line="198" pos:column="18">.<pos:position pos:line="198" pos:column="19"/></operator><name pos:line="198" pos:column="19">dispname<pos:position pos:line="198" pos:column="27"/></name></name> <operator pos:line="198" pos:column="28">!=<pos:position pos:line="198" pos:column="30"/></operator> <name><name pos:line="198" pos:column="31">conn<pos:position pos:line="198" pos:column="35"/></name><operator pos:line="198" pos:column="35">-&gt;<pos:position pos:line="198" pos:column="40"/></operator><name pos:line="198" pos:column="37">host<pos:position pos:line="198" pos:column="41"/></name><operator pos:line="198" pos:column="41">.<pos:position pos:line="198" pos:column="42"/></operator><name pos:line="198" pos:column="42">name<pos:position pos:line="198" pos:column="46"/></name></name></expr>)<pos:position pos:line="198" pos:column="47"/></condition><then pos:line="198" pos:column="47"> <block pos:line="198" pos:column="48">{
      <decl_stmt><decl><type><name pos:line="199" pos:column="7">char<pos:position pos:line="199" pos:column="11"/></name> <modifier pos:line="199" pos:column="12">*<pos:position pos:line="199" pos:column="13"/></modifier></type><name pos:line="199" pos:column="13">url<pos:position pos:line="199" pos:column="16"/></name> <init pos:line="199" pos:column="17">= <expr><name><name pos:line="199" pos:column="19">data<pos:position pos:line="199" pos:column="23"/></name><operator pos:line="199" pos:column="23">-&gt;<pos:position pos:line="199" pos:column="28"/></operator><name pos:line="199" pos:column="25">change<pos:position pos:line="199" pos:column="31"/></name><operator pos:line="199" pos:column="31">.<pos:position pos:line="199" pos:column="32"/></operator><name pos:line="199" pos:column="32">url<pos:position pos:line="199" pos:column="35"/></name></name></expr></init></decl>;<pos:position pos:line="199" pos:column="36"/></decl_stmt>
      <decl_stmt><decl><type><name pos:line="200" pos:column="7">char<pos:position pos:line="200" pos:column="11"/></name> <modifier pos:line="200" pos:column="12">*<pos:position pos:line="200" pos:column="13"/></modifier></type><name pos:line="200" pos:column="13">ptr<pos:position pos:line="200" pos:column="16"/></name> <init pos:line="200" pos:column="17">= <expr><call><name pos:line="200" pos:column="19">strstr<pos:position pos:line="200" pos:column="25"/></name><argument_list pos:line="200" pos:column="25">(<argument><expr><name pos:line="200" pos:column="26">url<pos:position pos:line="200" pos:column="29"/></name></expr></argument>, <argument><expr><name><name pos:line="200" pos:column="31">conn<pos:position pos:line="200" pos:column="35"/></name><operator pos:line="200" pos:column="35">-&gt;<pos:position pos:line="200" pos:column="40"/></operator><name pos:line="200" pos:column="37">host<pos:position pos:line="200" pos:column="41"/></name><operator pos:line="200" pos:column="41">.<pos:position pos:line="200" pos:column="42"/></operator><name pos:line="200" pos:column="42">dispname<pos:position pos:line="200" pos:column="50"/></name></name></expr></argument>)<pos:position pos:line="200" pos:column="51"/></argument_list></call></expr></init></decl>;<pos:position pos:line="200" pos:column="52"/></decl_stmt>
      <if pos:line="201" pos:column="7">if<condition pos:line="201" pos:column="9">(<expr><name pos:line="201" pos:column="10">ptr<pos:position pos:line="201" pos:column="13"/></name></expr>)<pos:position pos:line="201" pos:column="14"/></condition><then pos:line="201" pos:column="14"> <block pos:line="201" pos:column="15">{
        <comment type="block" pos:line="202" pos:column="9">/* This is where the display name starts in the URL, now replace this
           part with the encoded name. TODO: This method of replacing the host
           name is rather crude as I believe there's a slight risk that the
           user has entered a user name or password that contain the host name
           string. */</comment>
        <decl_stmt><decl><type><name pos:line="207" pos:column="9">size_t<pos:position pos:line="207" pos:column="15"/></name></type> <name pos:line="207" pos:column="16">currlen<pos:position pos:line="207" pos:column="23"/></name> <init pos:line="207" pos:column="24">= <expr><call><name pos:line="207" pos:column="26">strlen<pos:position pos:line="207" pos:column="32"/></name><argument_list pos:line="207" pos:column="32">(<argument><expr><name><name pos:line="207" pos:column="33">conn<pos:position pos:line="207" pos:column="37"/></name><operator pos:line="207" pos:column="37">-&gt;<pos:position pos:line="207" pos:column="42"/></operator><name pos:line="207" pos:column="39">host<pos:position pos:line="207" pos:column="43"/></name><operator pos:line="207" pos:column="43">.<pos:position pos:line="207" pos:column="44"/></operator><name pos:line="207" pos:column="44">dispname<pos:position pos:line="207" pos:column="52"/></name></name></expr></argument>)<pos:position pos:line="207" pos:column="53"/></argument_list></call></expr></init></decl>;<pos:position pos:line="207" pos:column="54"/></decl_stmt>
        <decl_stmt><decl><type><name pos:line="208" pos:column="9">size_t<pos:position pos:line="208" pos:column="15"/></name></type> <name pos:line="208" pos:column="16">newlen<pos:position pos:line="208" pos:column="22"/></name> <init pos:line="208" pos:column="23">= <expr><call><name pos:line="208" pos:column="25">strlen<pos:position pos:line="208" pos:column="31"/></name><argument_list pos:line="208" pos:column="31">(<argument><expr><name><name pos:line="208" pos:column="32">conn<pos:position pos:line="208" pos:column="36"/></name><operator pos:line="208" pos:column="36">-&gt;<pos:position pos:line="208" pos:column="41"/></operator><name pos:line="208" pos:column="38">host<pos:position pos:line="208" pos:column="42"/></name><operator pos:line="208" pos:column="42">.<pos:position pos:line="208" pos:column="43"/></operator><name pos:line="208" pos:column="43">name<pos:position pos:line="208" pos:column="47"/></name></name></expr></argument>)<pos:position pos:line="208" pos:column="48"/></argument_list></call></expr></init></decl>;<pos:position pos:line="208" pos:column="49"/></decl_stmt>
        <decl_stmt><decl><type><name pos:line="209" pos:column="9">size_t<pos:position pos:line="209" pos:column="15"/></name></type> <name pos:line="209" pos:column="16">urllen<pos:position pos:line="209" pos:column="22"/></name> <init pos:line="209" pos:column="23">= <expr><call><name pos:line="209" pos:column="25">strlen<pos:position pos:line="209" pos:column="31"/></name><argument_list pos:line="209" pos:column="31">(<argument><expr><name pos:line="209" pos:column="32">url<pos:position pos:line="209" pos:column="35"/></name></expr></argument>)<pos:position pos:line="209" pos:column="36"/></argument_list></call></expr></init></decl>;<pos:position pos:line="209" pos:column="37"/></decl_stmt>

        <decl_stmt><decl><type><name pos:line="211" pos:column="9">char<pos:position pos:line="211" pos:column="13"/></name> <modifier pos:line="211" pos:column="14">*<pos:position pos:line="211" pos:column="15"/></modifier></type><name pos:line="211" pos:column="15">newurl<pos:position pos:line="211" pos:column="21"/></name></decl>;<pos:position pos:line="211" pos:column="22"/></decl_stmt>

        <expr_stmt><expr><name pos:line="213" pos:column="9">newurl<pos:position pos:line="213" pos:column="15"/></name> <operator pos:line="213" pos:column="16">=<pos:position pos:line="213" pos:column="17"/></operator> <call><name pos:line="213" pos:column="18">malloc<pos:position pos:line="213" pos:column="24"/></name><argument_list pos:line="213" pos:column="24">(<argument><expr><name pos:line="213" pos:column="25">urllen<pos:position pos:line="213" pos:column="31"/></name> <operator pos:line="213" pos:column="32">+<pos:position pos:line="213" pos:column="33"/></operator> <name pos:line="213" pos:column="34">newlen<pos:position pos:line="213" pos:column="40"/></name> <operator pos:line="213" pos:column="41">-<pos:position pos:line="213" pos:column="42"/></operator> <name pos:line="213" pos:column="43">currlen<pos:position pos:line="213" pos:column="50"/></name> <operator pos:line="213" pos:column="51">+<pos:position pos:line="213" pos:column="52"/></operator> <literal type="number" pos:line="213" pos:column="53">1<pos:position pos:line="213" pos:column="54"/></literal></expr></argument>)<pos:position pos:line="213" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="213" pos:column="56"/></expr_stmt>
        <if pos:line="214" pos:column="9">if<condition pos:line="214" pos:column="11">(<expr><name pos:line="214" pos:column="12">newurl<pos:position pos:line="214" pos:column="18"/></name></expr>)<pos:position pos:line="214" pos:column="19"/></condition><then pos:line="214" pos:column="19"> <block pos:line="214" pos:column="20">{
          <comment type="block" pos:line="215" pos:column="11">/* copy the part before the host name */</comment>
          <expr_stmt><expr><call><name pos:line="216" pos:column="11">memcpy<pos:position pos:line="216" pos:column="17"/></name><argument_list pos:line="216" pos:column="17">(<argument><expr><name pos:line="216" pos:column="18">newurl<pos:position pos:line="216" pos:column="24"/></name></expr></argument>, <argument><expr><name pos:line="216" pos:column="26">url<pos:position pos:line="216" pos:column="29"/></name></expr></argument>, <argument><expr><name pos:line="216" pos:column="31">ptr<pos:position pos:line="216" pos:column="34"/></name> <operator pos:line="216" pos:column="35">-<pos:position pos:line="216" pos:column="36"/></operator> <name pos:line="216" pos:column="37">url<pos:position pos:line="216" pos:column="40"/></name></expr></argument>)<pos:position pos:line="216" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="216" pos:column="42"/></expr_stmt>
          <comment type="block" pos:line="217" pos:column="11">/* append the new host name instead of the old */</comment>
          <expr_stmt><expr><call><name pos:line="218" pos:column="11">memcpy<pos:position pos:line="218" pos:column="17"/></name><argument_list pos:line="218" pos:column="17">(<argument><expr><name pos:line="218" pos:column="18">newurl<pos:position pos:line="218" pos:column="24"/></name> <operator pos:line="218" pos:column="25">+<pos:position pos:line="218" pos:column="26"/></operator> <operator pos:line="218" pos:column="27">(<pos:position pos:line="218" pos:column="28"/></operator><name pos:line="218" pos:column="28">ptr<pos:position pos:line="218" pos:column="31"/></name> <operator pos:line="218" pos:column="32">-<pos:position pos:line="218" pos:column="33"/></operator> <name pos:line="218" pos:column="34">url<pos:position pos:line="218" pos:column="37"/></name><operator pos:line="218" pos:column="37">)<pos:position pos:line="218" pos:column="38"/></operator></expr></argument>, <argument><expr><name><name pos:line="218" pos:column="40">conn<pos:position pos:line="218" pos:column="44"/></name><operator pos:line="218" pos:column="44">-&gt;<pos:position pos:line="218" pos:column="49"/></operator><name pos:line="218" pos:column="46">host<pos:position pos:line="218" pos:column="50"/></name><operator pos:line="218" pos:column="50">.<pos:position pos:line="218" pos:column="51"/></operator><name pos:line="218" pos:column="51">name<pos:position pos:line="218" pos:column="55"/></name></name></expr></argument>, <argument><expr><name pos:line="218" pos:column="57">newlen<pos:position pos:line="218" pos:column="63"/></name></expr></argument>)<pos:position pos:line="218" pos:column="64"/></argument_list></call></expr>;<pos:position pos:line="218" pos:column="65"/></expr_stmt>
          <comment type="block" pos:line="219" pos:column="11">/* append the piece after the host name */</comment>
          <expr_stmt><expr><call><name pos:line="220" pos:column="11">memcpy<pos:position pos:line="220" pos:column="17"/></name><argument_list pos:line="220" pos:column="17">(<argument><expr><name pos:line="220" pos:column="18">newurl<pos:position pos:line="220" pos:column="24"/></name> <operator pos:line="220" pos:column="25">+<pos:position pos:line="220" pos:column="26"/></operator> <name pos:line="220" pos:column="27">newlen<pos:position pos:line="220" pos:column="33"/></name> <operator pos:line="220" pos:column="34">+<pos:position pos:line="220" pos:column="35"/></operator> <operator pos:line="220" pos:column="36">(<pos:position pos:line="220" pos:column="37"/></operator><name pos:line="220" pos:column="37">ptr<pos:position pos:line="220" pos:column="40"/></name> <operator pos:line="220" pos:column="41">-<pos:position pos:line="220" pos:column="42"/></operator> <name pos:line="220" pos:column="43">url<pos:position pos:line="220" pos:column="46"/></name><operator pos:line="220" pos:column="46">)<pos:position pos:line="220" pos:column="47"/></operator></expr></argument>,
                 <argument><expr><name pos:line="221" pos:column="18">ptr<pos:position pos:line="221" pos:column="21"/></name> <operator pos:line="221" pos:column="22">+<pos:position pos:line="221" pos:column="23"/></operator> <name pos:line="221" pos:column="24">currlen<pos:position pos:line="221" pos:column="31"/></name></expr></argument>, <comment type="block" pos:line="221" pos:column="33">/* copy the trailing zero byte too */</comment>
                 <argument><expr><name pos:line="222" pos:column="18">urllen<pos:position pos:line="222" pos:column="24"/></name> <operator pos:line="222" pos:column="25">-<pos:position pos:line="222" pos:column="26"/></operator> <operator pos:line="222" pos:column="27">(<pos:position pos:line="222" pos:column="28"/></operator><name pos:line="222" pos:column="28">ptr<pos:position pos:line="222" pos:column="31"/></name><operator pos:line="222" pos:column="31">-<pos:position pos:line="222" pos:column="32"/></operator><name pos:line="222" pos:column="32">url<pos:position pos:line="222" pos:column="35"/></name><operator pos:line="222" pos:column="35">)<pos:position pos:line="222" pos:column="36"/></operator> <operator pos:line="222" pos:column="37">-<pos:position pos:line="222" pos:column="38"/></operator> <name pos:line="222" pos:column="39">currlen<pos:position pos:line="222" pos:column="46"/></name> <operator pos:line="222" pos:column="47">+<pos:position pos:line="222" pos:column="48"/></operator> <literal type="number" pos:line="222" pos:column="49">1<pos:position pos:line="222" pos:column="50"/></literal></expr></argument>)<pos:position pos:line="222" pos:column="51"/></argument_list></call></expr>;<pos:position pos:line="222" pos:column="52"/></expr_stmt>
          <if pos:line="223" pos:column="11">if<condition pos:line="223" pos:column="13">(<expr><name><name pos:line="223" pos:column="14">data<pos:position pos:line="223" pos:column="18"/></name><operator pos:line="223" pos:column="18">-&gt;<pos:position pos:line="223" pos:column="23"/></operator><name pos:line="223" pos:column="20">change<pos:position pos:line="223" pos:column="26"/></name><operator pos:line="223" pos:column="26">.<pos:position pos:line="223" pos:column="27"/></operator><name pos:line="223" pos:column="27">url_alloc<pos:position pos:line="223" pos:column="36"/></name></name></expr>)<pos:position pos:line="223" pos:column="37"/></condition><then pos:line="223" pos:column="37">
            <block type="pseudo"><expr_stmt><expr><call><name pos:line="224" pos:column="13">free<pos:position pos:line="224" pos:column="17"/></name><argument_list pos:line="224" pos:column="17">(<argument><expr><name><name pos:line="224" pos:column="18">data<pos:position pos:line="224" pos:column="22"/></name><operator pos:line="224" pos:column="22">-&gt;<pos:position pos:line="224" pos:column="27"/></operator><name pos:line="224" pos:column="24">change<pos:position pos:line="224" pos:column="30"/></name><operator pos:line="224" pos:column="30">.<pos:position pos:line="224" pos:column="31"/></operator><name pos:line="224" pos:column="31">url<pos:position pos:line="224" pos:column="34"/></name></name></expr></argument>)<pos:position pos:line="224" pos:column="35"/></argument_list></call></expr>;<pos:position pos:line="224" pos:column="36"/></expr_stmt></block></then></if>
          <expr_stmt><expr><name><name pos:line="225" pos:column="11">data<pos:position pos:line="225" pos:column="15"/></name><operator pos:line="225" pos:column="15">-&gt;<pos:position pos:line="225" pos:column="20"/></operator><name pos:line="225" pos:column="17">change<pos:position pos:line="225" pos:column="23"/></name><operator pos:line="225" pos:column="23">.<pos:position pos:line="225" pos:column="24"/></operator><name pos:line="225" pos:column="24">url<pos:position pos:line="225" pos:column="27"/></name></name> <operator pos:line="225" pos:column="28">=<pos:position pos:line="225" pos:column="29"/></operator> <name pos:line="225" pos:column="30">newurl<pos:position pos:line="225" pos:column="36"/></name></expr>;<pos:position pos:line="225" pos:column="37"/></expr_stmt>
          <expr_stmt><expr><name><name pos:line="226" pos:column="11">data<pos:position pos:line="226" pos:column="15"/></name><operator pos:line="226" pos:column="15">-&gt;<pos:position pos:line="226" pos:column="20"/></operator><name pos:line="226" pos:column="17">change<pos:position pos:line="226" pos:column="23"/></name><operator pos:line="226" pos:column="23">.<pos:position pos:line="226" pos:column="24"/></operator><name pos:line="226" pos:column="24">url_alloc<pos:position pos:line="226" pos:column="33"/></name></name> <operator pos:line="226" pos:column="34">=<pos:position pos:line="226" pos:column="35"/></operator> <name pos:line="226" pos:column="36">TRUE<pos:position pos:line="226" pos:column="40"/></name></expr>;<pos:position pos:line="226" pos:column="41"/></expr_stmt>
        }<pos:position pos:line="227" pos:column="10"/></block></then>
        <else pos:line="228" pos:column="9">else
          <block type="pseudo"><return pos:line="229" pos:column="11">return <expr><name pos:line="229" pos:column="18">CURLE_OUT_OF_MEMORY<pos:position pos:line="229" pos:column="37"/></name></expr>;<pos:position pos:line="229" pos:column="38"/></return></block></else></if>
      }<pos:position pos:line="230" pos:column="8"/></block></then></if>
    }<pos:position pos:line="231" pos:column="6"/></block></then></if>
    <expr_stmt><expr><name pos:line="232" pos:column="5">ppath<pos:position pos:line="232" pos:column="10"/></name> <operator pos:line="232" pos:column="11">=<pos:position pos:line="232" pos:column="12"/></operator> <name><name pos:line="232" pos:column="13">data<pos:position pos:line="232" pos:column="17"/></name><operator pos:line="232" pos:column="17">-&gt;<pos:position pos:line="232" pos:column="22"/></operator><name pos:line="232" pos:column="19">change<pos:position pos:line="232" pos:column="25"/></name><operator pos:line="232" pos:column="25">.<pos:position pos:line="232" pos:column="26"/></operator><name pos:line="232" pos:column="26">url<pos:position pos:line="232" pos:column="29"/></name></name></expr>;<pos:position pos:line="232" pos:column="30"/></expr_stmt>
  }<pos:position pos:line="233" pos:column="4"/></block></then></if>
  <if pos:line="234" pos:column="3">if<condition pos:line="234" pos:column="5">(<expr><name pos:line="234" pos:column="6">HTTPREQ_POST_FORM<pos:position pos:line="234" pos:column="23"/></name> <operator pos:line="234" pos:column="24">==<pos:position pos:line="234" pos:column="26"/></operator> <name pos:line="234" pos:column="27">httpreq<pos:position pos:line="234" pos:column="34"/></name></expr>)<pos:position pos:line="234" pos:column="35"/></condition><then pos:line="234" pos:column="35"> <block pos:line="234" pos:column="36">{
    <comment type="block" pos:line="235" pos:column="5">/* we must build the whole darned post sequence first, so that we have
       a size of the whole shebang before we start to send it */</comment>
     <expr_stmt><expr><name pos:line="237" pos:column="6">result<pos:position pos:line="237" pos:column="12"/></name> <operator pos:line="237" pos:column="13">=<pos:position pos:line="237" pos:column="14"/></operator> <call><name pos:line="237" pos:column="15">Curl_getFormData<pos:position pos:line="237" pos:column="31"/></name><argument_list pos:line="237" pos:column="31">(<argument><expr><operator pos:line="237" pos:column="32">&amp;<pos:position pos:line="237" pos:column="37"/></operator><name><name pos:line="237" pos:column="33">http<pos:position pos:line="237" pos:column="37"/></name><operator pos:line="237" pos:column="37">-&gt;<pos:position pos:line="237" pos:column="42"/></operator><name pos:line="237" pos:column="39">sendit<pos:position pos:line="237" pos:column="45"/></name></name></expr></argument>, <argument><expr><name><name pos:line="237" pos:column="47">data<pos:position pos:line="237" pos:column="51"/></name><operator pos:line="237" pos:column="51">-&gt;<pos:position pos:line="237" pos:column="56"/></operator><name pos:line="237" pos:column="53">set<pos:position pos:line="237" pos:column="56"/></name><operator pos:line="237" pos:column="56">.<pos:position pos:line="237" pos:column="57"/></operator><name pos:line="237" pos:column="57">httppost<pos:position pos:line="237" pos:column="65"/></name></name></expr></argument>,
                               <argument><expr><operator pos:line="238" pos:column="32">&amp;<pos:position pos:line="238" pos:column="37"/></operator><name><name pos:line="238" pos:column="33">http<pos:position pos:line="238" pos:column="37"/></name><operator pos:line="238" pos:column="37">-&gt;<pos:position pos:line="238" pos:column="42"/></operator><name pos:line="238" pos:column="39">postsize<pos:position pos:line="238" pos:column="47"/></name></name></expr></argument>)<pos:position pos:line="238" pos:column="48"/></argument_list></call></expr>;<pos:position pos:line="238" pos:column="49"/></expr_stmt>
     <if pos:line="239" pos:column="6">if<condition pos:line="239" pos:column="8">(<expr><name pos:line="239" pos:column="9">CURLE_OK<pos:position pos:line="239" pos:column="17"/></name> <operator pos:line="239" pos:column="18">!=<pos:position pos:line="239" pos:column="20"/></operator> <name pos:line="239" pos:column="21">result<pos:position pos:line="239" pos:column="27"/></name></expr>)<pos:position pos:line="239" pos:column="28"/></condition><then pos:line="239" pos:column="28"> <block pos:line="239" pos:column="29">{
       <comment type="block" pos:line="240" pos:column="8">/* Curl_getFormData() doesn't use failf() */</comment>
       <expr_stmt><expr><call><name pos:line="241" pos:column="8">failf<pos:position pos:line="241" pos:column="13"/></name><argument_list pos:line="241" pos:column="13">(<argument><expr><name pos:line="241" pos:column="14">data<pos:position pos:line="241" pos:column="18"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="241" pos:column="20">"failed creating formpost data"<pos:position pos:line="241" pos:column="51"/></literal></expr></argument>)<pos:position pos:line="241" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="241" pos:column="53"/></expr_stmt>
       <return pos:line="242" pos:column="8">return <expr><name pos:line="242" pos:column="15">result<pos:position pos:line="242" pos:column="21"/></name></expr>;<pos:position pos:line="242" pos:column="22"/></return>
     }<pos:position pos:line="243" pos:column="7"/></block></then></if>
  }<pos:position pos:line="244" pos:column="4"/></block></then></if>


  <expr_stmt><expr><name><name pos:line="247" pos:column="3">http<pos:position pos:line="247" pos:column="7"/></name><operator pos:line="247" pos:column="7">-&gt;<pos:position pos:line="247" pos:column="12"/></operator><name pos:line="247" pos:column="9">p_pragma<pos:position pos:line="247" pos:column="17"/></name></name> <operator pos:line="247" pos:column="18">=<pos:position pos:line="247" pos:column="19"/></operator>
    <ternary><condition><expr><operator pos:line="248" pos:column="5">(<pos:position pos:line="248" pos:column="6"/></operator><operator pos:line="248" pos:column="6">!<pos:position pos:line="248" pos:column="7"/></operator><call><name pos:line="248" pos:column="7">checkheaders<pos:position pos:line="248" pos:column="19"/></name><argument_list pos:line="248" pos:column="19">(<argument><expr><name pos:line="248" pos:column="20">data<pos:position pos:line="248" pos:column="24"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="248" pos:column="26">"Pragma:"<pos:position pos:line="248" pos:column="35"/></literal></expr></argument>)<pos:position pos:line="248" pos:column="36"/></argument_list></call> <operator pos:line="248" pos:column="37">&amp;&amp;<pos:position pos:line="248" pos:column="47"/></operator>
     <operator pos:line="249" pos:column="6">(<pos:position pos:line="249" pos:column="7"/></operator><name><name pos:line="249" pos:column="7">conn<pos:position pos:line="249" pos:column="11"/></name><operator pos:line="249" pos:column="11">-&gt;<pos:position pos:line="249" pos:column="16"/></operator><name pos:line="249" pos:column="13">bits<pos:position pos:line="249" pos:column="17"/></name><operator pos:line="249" pos:column="17">.<pos:position pos:line="249" pos:column="18"/></operator><name pos:line="249" pos:column="18">httpproxy<pos:position pos:line="249" pos:column="27"/></name></name> <operator pos:line="249" pos:column="28">&amp;&amp;<pos:position pos:line="249" pos:column="38"/></operator> <operator pos:line="249" pos:column="31">!<pos:position pos:line="249" pos:column="32"/></operator><name><name pos:line="249" pos:column="32">conn<pos:position pos:line="249" pos:column="36"/></name><operator pos:line="249" pos:column="36">-&gt;<pos:position pos:line="249" pos:column="41"/></operator><name pos:line="249" pos:column="38">bits<pos:position pos:line="249" pos:column="42"/></name><operator pos:line="249" pos:column="42">.<pos:position pos:line="249" pos:column="43"/></operator><name pos:line="249" pos:column="43">tunnel_proxy<pos:position pos:line="249" pos:column="55"/></name></name><operator pos:line="249" pos:column="55">)<pos:position pos:line="249" pos:column="56"/></operator> <operator pos:line="249" pos:column="57">)<pos:position pos:line="249" pos:column="58"/></operator></expr>?<pos:position pos:line="249" pos:column="59"/></condition><then pos:line="249" pos:column="59">
    <expr><literal type="string" pos:line="250" pos:column="5">"Pragma: no-cache\r\n"<pos:position pos:line="250" pos:column="27"/></literal></expr></then><else pos:line="250" pos:column="27">:<expr><name pos:line="250" pos:column="28">NULL<pos:position pos:line="250" pos:column="32"/></name></expr></else></ternary></expr>;<pos:position pos:line="250" pos:column="33"/></expr_stmt>

  <if pos:line="252" pos:column="3">if<condition pos:line="252" pos:column="5">(<expr><operator pos:line="252" pos:column="6">!<pos:position pos:line="252" pos:column="7"/></operator><call><name pos:line="252" pos:column="7">checkheaders<pos:position pos:line="252" pos:column="19"/></name><argument_list pos:line="252" pos:column="19">(<argument><expr><name pos:line="252" pos:column="20">data<pos:position pos:line="252" pos:column="24"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="252" pos:column="26">"Accept:"<pos:position pos:line="252" pos:column="35"/></literal></expr></argument>)<pos:position pos:line="252" pos:column="36"/></argument_list></call></expr>)<pos:position pos:line="252" pos:column="37"/></condition><then pos:line="252" pos:column="37">
    <block type="pseudo"><expr_stmt><expr><name><name pos:line="253" pos:column="5">http<pos:position pos:line="253" pos:column="9"/></name><operator pos:line="253" pos:column="9">-&gt;<pos:position pos:line="253" pos:column="14"/></operator><name pos:line="253" pos:column="11">p_accept<pos:position pos:line="253" pos:column="19"/></name></name> <operator pos:line="253" pos:column="20">=<pos:position pos:line="253" pos:column="21"/></operator> <literal type="string" pos:line="253" pos:column="22">"Accept: */*\r\n"<pos:position pos:line="253" pos:column="39"/></literal></expr>;<pos:position pos:line="253" pos:column="40"/></expr_stmt></block></then></if>

  <if pos:line="255" pos:column="3">if<condition pos:line="255" pos:column="5">(<expr><operator pos:line="255" pos:column="6">(<pos:position pos:line="255" pos:column="7"/></operator> <operator pos:line="255" pos:column="8">(<pos:position pos:line="255" pos:column="9"/></operator><name pos:line="255" pos:column="9">HTTPREQ_POST<pos:position pos:line="255" pos:column="21"/></name> <operator pos:line="255" pos:column="22">==<pos:position pos:line="255" pos:column="24"/></operator> <name pos:line="255" pos:column="25">httpreq<pos:position pos:line="255" pos:column="32"/></name><operator pos:line="255" pos:column="32">)<pos:position pos:line="255" pos:column="33"/></operator> <operator pos:line="255" pos:column="34">||<pos:position pos:line="255" pos:column="36"/></operator>
       <operator pos:line="256" pos:column="8">(<pos:position pos:line="256" pos:column="9"/></operator><name pos:line="256" pos:column="9">HTTPREQ_POST_FORM<pos:position pos:line="256" pos:column="26"/></name> <operator pos:line="256" pos:column="27">==<pos:position pos:line="256" pos:column="29"/></operator> <name pos:line="256" pos:column="30">httpreq<pos:position pos:line="256" pos:column="37"/></name><operator pos:line="256" pos:column="37">)<pos:position pos:line="256" pos:column="38"/></operator> <operator pos:line="256" pos:column="39">||<pos:position pos:line="256" pos:column="41"/></operator>
       <operator pos:line="257" pos:column="8">(<pos:position pos:line="257" pos:column="9"/></operator><name pos:line="257" pos:column="9">HTTPREQ_PUT<pos:position pos:line="257" pos:column="20"/></name> <operator pos:line="257" pos:column="21">==<pos:position pos:line="257" pos:column="23"/></operator> <name pos:line="257" pos:column="24">httpreq<pos:position pos:line="257" pos:column="31"/></name><operator pos:line="257" pos:column="31">)<pos:position pos:line="257" pos:column="32"/></operator> <operator pos:line="257" pos:column="33">)<pos:position pos:line="257" pos:column="34"/></operator> <operator pos:line="257" pos:column="35">&amp;&amp;<pos:position pos:line="257" pos:column="45"/></operator>
     <name><name pos:line="258" pos:column="6">conn<pos:position pos:line="258" pos:column="10"/></name><operator pos:line="258" pos:column="10">-&gt;<pos:position pos:line="258" pos:column="15"/></operator><name pos:line="258" pos:column="12">resume_from<pos:position pos:line="258" pos:column="23"/></name></name></expr>)<pos:position pos:line="258" pos:column="24"/></condition><then pos:line="258" pos:column="24"> <block pos:line="258" pos:column="25">{
    <comment type="block" format="doxygen" pos:line="259" pos:column="5">/**********************************************************************
     * Resuming upload in HTTP means that we PUT or POST and that we have
     * got a resume_from value set. The resume value has already created
     * a Range: header that will be passed along. We need to "fast forward"
     * the file the given number of bytes and decrease the assume upload
     * file size before we continue this venture in the dark lands of HTTP.
     *********************************************************************/</comment>

    <if pos:line="267" pos:column="5">if<condition pos:line="267" pos:column="7">(<expr><name><name pos:line="267" pos:column="8">conn<pos:position pos:line="267" pos:column="12"/></name><operator pos:line="267" pos:column="12">-&gt;<pos:position pos:line="267" pos:column="17"/></operator><name pos:line="267" pos:column="14">resume_from<pos:position pos:line="267" pos:column="25"/></name></name> <operator pos:line="267" pos:column="26">&lt;<pos:position pos:line="267" pos:column="30"/></operator> <literal type="number" pos:line="267" pos:column="28">0<pos:position pos:line="267" pos:column="29"/></literal></expr> )<pos:position pos:line="267" pos:column="31"/></condition><then pos:line="267" pos:column="31"> <block pos:line="267" pos:column="32">{
      <comment type="block" pos:line="268" pos:column="7">/*
       * This is meant to get the size of the present remote-file by itself.
       * We don't support this now. Bail out!
       */</comment>
       <expr_stmt><expr><name><name pos:line="272" pos:column="8">conn<pos:position pos:line="272" pos:column="12"/></name><operator pos:line="272" pos:column="12">-&gt;<pos:position pos:line="272" pos:column="17"/></operator><name pos:line="272" pos:column="14">resume_from<pos:position pos:line="272" pos:column="25"/></name></name> <operator pos:line="272" pos:column="26">=<pos:position pos:line="272" pos:column="27"/></operator> <literal type="number" pos:line="272" pos:column="28">0<pos:position pos:line="272" pos:column="29"/></literal></expr>;<pos:position pos:line="272" pos:column="30"/></expr_stmt>
    }<pos:position pos:line="273" pos:column="6"/></block></then></if>

    <if pos:line="275" pos:column="5">if<condition pos:line="275" pos:column="7">(<expr><name><name pos:line="275" pos:column="8">conn<pos:position pos:line="275" pos:column="12"/></name><operator pos:line="275" pos:column="12">-&gt;<pos:position pos:line="275" pos:column="17"/></operator><name pos:line="275" pos:column="14">resume_from<pos:position pos:line="275" pos:column="25"/></name></name></expr>)<pos:position pos:line="275" pos:column="26"/></condition><then pos:line="275" pos:column="26"> <block pos:line="275" pos:column="27">{
      <comment type="block" pos:line="276" pos:column="7">/* do we still game? */</comment>
      <decl_stmt><decl><type><name pos:line="277" pos:column="7">curl_off_t<pos:position pos:line="277" pos:column="17"/></name></type> <name pos:line="277" pos:column="18">passed<pos:position pos:line="277" pos:column="24"/></name><init pos:line="277" pos:column="24">=<expr><literal type="number" pos:line="277" pos:column="25">0<pos:position pos:line="277" pos:column="26"/></literal></expr></init></decl>;<pos:position pos:line="277" pos:column="27"/></decl_stmt>

      <comment type="block" pos:line="279" pos:column="7">/* Now, let's read off the proper amount of bytes from the
         input. If we knew it was a proper file we could've just
         fseek()ed but we only have a stream here */</comment>
      <do pos:line="282" pos:column="7">do <block pos:line="282" pos:column="10">{
        <decl_stmt><decl><type><name pos:line="283" pos:column="9">size_t<pos:position pos:line="283" pos:column="15"/></name></type> <name pos:line="283" pos:column="16">readthisamountnow<pos:position pos:line="283" pos:column="33"/></name> <init pos:line="283" pos:column="34">= <expr><call pos:line="283" pos:column="36">(<name pos:line="283" pos:column="37">size_t<pos:position pos:line="283" pos:column="43"/></name>)<argument_list pos:line="283" pos:column="44">(<argument><expr><name><name pos:line="283" pos:column="45">conn<pos:position pos:line="283" pos:column="49"/></name><operator pos:line="283" pos:column="49">-&gt;<pos:position pos:line="283" pos:column="54"/></operator><name pos:line="283" pos:column="51">resume_from<pos:position pos:line="283" pos:column="62"/></name></name> <operator pos:line="283" pos:column="63">-<pos:position pos:line="283" pos:column="64"/></operator> <name pos:line="283" pos:column="65">passed<pos:position pos:line="283" pos:column="71"/></name></expr></argument>)<pos:position pos:line="283" pos:column="72"/></argument_list></call></expr></init></decl>;<pos:position pos:line="283" pos:column="73"/></decl_stmt>
        <decl_stmt><decl><type><name pos:line="284" pos:column="9">size_t<pos:position pos:line="284" pos:column="15"/></name></type> <name pos:line="284" pos:column="16">actuallyread<pos:position pos:line="284" pos:column="28"/></name></decl>;<pos:position pos:line="284" pos:column="29"/></decl_stmt>

        <if pos:line="286" pos:column="9">if<condition pos:line="286" pos:column="11">(<expr><name pos:line="286" pos:column="12">readthisamountnow<pos:position pos:line="286" pos:column="29"/></name> <operator pos:line="286" pos:column="30">&gt;<pos:position pos:line="286" pos:column="34"/></operator> <name pos:line="286" pos:column="32">BUFSIZE<pos:position pos:line="286" pos:column="39"/></name></expr>)<pos:position pos:line="286" pos:column="40"/></condition><then pos:line="286" pos:column="40">
          <block type="pseudo"><expr_stmt><expr><name pos:line="287" pos:column="11">readthisamountnow<pos:position pos:line="287" pos:column="28"/></name> <operator pos:line="287" pos:column="29">=<pos:position pos:line="287" pos:column="30"/></operator> <name pos:line="287" pos:column="31">BUFSIZE<pos:position pos:line="287" pos:column="38"/></name></expr>;<pos:position pos:line="287" pos:column="39"/></expr_stmt></block></then></if>

        <expr_stmt><expr><name pos:line="289" pos:column="9">actuallyread<pos:position pos:line="289" pos:column="21"/></name> <operator pos:line="289" pos:column="22">=<pos:position pos:line="289" pos:column="23"/></operator>
          <call><name><name pos:line="290" pos:column="11">data<pos:position pos:line="290" pos:column="15"/></name><operator pos:line="290" pos:column="15">-&gt;<pos:position pos:line="290" pos:column="20"/></operator><name pos:line="290" pos:column="17">set<pos:position pos:line="290" pos:column="20"/></name><operator pos:line="290" pos:column="20">.<pos:position pos:line="290" pos:column="21"/></operator><name pos:line="290" pos:column="21">fread<pos:position pos:line="290" pos:column="26"/></name></name><argument_list pos:line="290" pos:column="26">(<argument><expr><name><name pos:line="290" pos:column="27">data<pos:position pos:line="290" pos:column="31"/></name><operator pos:line="290" pos:column="31">-&gt;<pos:position pos:line="290" pos:column="36"/></operator><name pos:line="290" pos:column="33">state<pos:position pos:line="290" pos:column="38"/></name><operator pos:line="290" pos:column="38">.<pos:position pos:line="290" pos:column="39"/></operator><name pos:line="290" pos:column="39">buffer<pos:position pos:line="290" pos:column="45"/></name></name></expr></argument>, <argument><expr><literal type="number" pos:line="290" pos:column="47">1<pos:position pos:line="290" pos:column="48"/></literal></expr></argument>, <argument><expr><operator pos:line="290" pos:column="50">(<pos:position pos:line="290" pos:column="51"/></operator><name pos:line="290" pos:column="51">size_t<pos:position pos:line="290" pos:column="57"/></name><operator pos:line="290" pos:column="57">)<pos:position pos:line="290" pos:column="58"/></operator><name pos:line="290" pos:column="58">readthisamountnow<pos:position pos:line="290" pos:column="75"/></name></expr></argument>,
                          <argument><expr><name><name pos:line="291" pos:column="27">data<pos:position pos:line="291" pos:column="31"/></name><operator pos:line="291" pos:column="31">-&gt;<pos:position pos:line="291" pos:column="36"/></operator><name pos:line="291" pos:column="33">set<pos:position pos:line="291" pos:column="36"/></name><operator pos:line="291" pos:column="36">.<pos:position pos:line="291" pos:column="37"/></operator><name pos:line="291" pos:column="37">in<pos:position pos:line="291" pos:column="39"/></name></name></expr></argument>)<pos:position pos:line="291" pos:column="40"/></argument_list></call></expr>;<pos:position pos:line="291" pos:column="41"/></expr_stmt>

        <expr_stmt><expr><name pos:line="293" pos:column="9">passed<pos:position pos:line="293" pos:column="15"/></name> <operator pos:line="293" pos:column="16">+=<pos:position pos:line="293" pos:column="18"/></operator> <name pos:line="293" pos:column="19">actuallyread<pos:position pos:line="293" pos:column="31"/></name></expr>;<pos:position pos:line="293" pos:column="32"/></expr_stmt>
        <if pos:line="294" pos:column="9">if<condition pos:line="294" pos:column="11">(<expr><name pos:line="294" pos:column="12">actuallyread<pos:position pos:line="294" pos:column="24"/></name> <operator pos:line="294" pos:column="25">!=<pos:position pos:line="294" pos:column="27"/></operator> <name pos:line="294" pos:column="28">readthisamountnow<pos:position pos:line="294" pos:column="45"/></name></expr>)<pos:position pos:line="294" pos:column="46"/></condition><then pos:line="294" pos:column="46"> <block pos:line="294" pos:column="47">{
          <expr_stmt><expr><call><name pos:line="295" pos:column="11">failf<pos:position pos:line="295" pos:column="16"/></name><argument_list pos:line="295" pos:column="16">(<argument><expr><name pos:line="295" pos:column="17">data<pos:position pos:line="295" pos:column="21"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="295" pos:column="23">"Could only read %"<pos:position pos:line="295" pos:column="42"/></literal> <name pos:line="295" pos:column="43">FORMAT_OFF_T<pos:position pos:line="295" pos:column="55"/></name>
                <literal type="string" pos:line="296" pos:column="17">" bytes from the input"<pos:position pos:line="296" pos:column="40"/></literal></expr></argument>,
                <argument><expr><name pos:line="297" pos:column="17">passed<pos:position pos:line="297" pos:column="23"/></name></expr></argument>)<pos:position pos:line="297" pos:column="24"/></argument_list></call></expr>;<pos:position pos:line="297" pos:column="25"/></expr_stmt>
          <return pos:line="298" pos:column="11">return <expr><name pos:line="298" pos:column="18">CURLE_READ_ERROR<pos:position pos:line="298" pos:column="34"/></name></expr>;<pos:position pos:line="298" pos:column="35"/></return>
        }<pos:position pos:line="299" pos:column="10"/></block></then></if>
      }<pos:position pos:line="300" pos:column="8"/></block> while<condition pos:line="300" pos:column="14">(<expr><name pos:line="300" pos:column="15">passed<pos:position pos:line="300" pos:column="21"/></name> <operator pos:line="300" pos:column="22">!=<pos:position pos:line="300" pos:column="24"/></operator> <name><name pos:line="300" pos:column="25">conn<pos:position pos:line="300" pos:column="29"/></name><operator pos:line="300" pos:column="29">-&gt;<pos:position pos:line="300" pos:column="34"/></operator><name pos:line="300" pos:column="31">resume_from<pos:position pos:line="300" pos:column="42"/></name></name></expr>)<pos:position pos:line="300" pos:column="43"/></condition>;<pos:position pos:line="300" pos:column="44"/></do> <comment type="block" pos:line="300" pos:column="45">/* loop until done */</comment>

      <comment type="block" pos:line="302" pos:column="7">/* now, decrease the size of the read */</comment>
      <if pos:line="303" pos:column="7">if<condition pos:line="303" pos:column="9">(<expr><name><name pos:line="303" pos:column="10">data<pos:position pos:line="303" pos:column="14"/></name><operator pos:line="303" pos:column="14">-&gt;<pos:position pos:line="303" pos:column="19"/></operator><name pos:line="303" pos:column="16">set<pos:position pos:line="303" pos:column="19"/></name><operator pos:line="303" pos:column="19">.<pos:position pos:line="303" pos:column="20"/></operator><name pos:line="303" pos:column="20">infilesize<pos:position pos:line="303" pos:column="30"/></name></name><operator pos:line="303" pos:column="30">&gt;<pos:position pos:line="303" pos:column="34"/></operator><literal type="number" pos:line="303" pos:column="31">0<pos:position pos:line="303" pos:column="32"/></literal></expr>)<pos:position pos:line="303" pos:column="33"/></condition><then pos:line="303" pos:column="33"> <block pos:line="303" pos:column="34">{
        <expr_stmt><expr><name><name pos:line="304" pos:column="9">data<pos:position pos:line="304" pos:column="13"/></name><operator pos:line="304" pos:column="13">-&gt;<pos:position pos:line="304" pos:column="18"/></operator><name pos:line="304" pos:column="15">set<pos:position pos:line="304" pos:column="18"/></name><operator pos:line="304" pos:column="18">.<pos:position pos:line="304" pos:column="19"/></operator><name pos:line="304" pos:column="19">infilesize<pos:position pos:line="304" pos:column="29"/></name></name> <operator pos:line="304" pos:column="30">-=<pos:position pos:line="304" pos:column="32"/></operator> <name><name pos:line="304" pos:column="33">conn<pos:position pos:line="304" pos:column="37"/></name><operator pos:line="304" pos:column="37">-&gt;<pos:position pos:line="304" pos:column="42"/></operator><name pos:line="304" pos:column="39">resume_from<pos:position pos:line="304" pos:column="50"/></name></name></expr>;<pos:position pos:line="304" pos:column="51"/></expr_stmt>

        <if pos:line="306" pos:column="9">if<condition pos:line="306" pos:column="11">(<expr><name><name pos:line="306" pos:column="12">data<pos:position pos:line="306" pos:column="16"/></name><operator pos:line="306" pos:column="16">-&gt;<pos:position pos:line="306" pos:column="21"/></operator><name pos:line="306" pos:column="18">set<pos:position pos:line="306" pos:column="21"/></name><operator pos:line="306" pos:column="21">.<pos:position pos:line="306" pos:column="22"/></operator><name pos:line="306" pos:column="22">infilesize<pos:position pos:line="306" pos:column="32"/></name></name> <operator pos:line="306" pos:column="33">&lt;=<pos:position pos:line="306" pos:column="38"/></operator> <literal type="number" pos:line="306" pos:column="36">0<pos:position pos:line="306" pos:column="37"/></literal></expr>)<pos:position pos:line="306" pos:column="38"/></condition><then pos:line="306" pos:column="38"> <block pos:line="306" pos:column="39">{
          <expr_stmt><expr><call><name pos:line="307" pos:column="11">failf<pos:position pos:line="307" pos:column="16"/></name><argument_list pos:line="307" pos:column="16">(<argument><expr><name pos:line="307" pos:column="17">data<pos:position pos:line="307" pos:column="21"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="307" pos:column="23">"File already completely uploaded"<pos:position pos:line="307" pos:column="57"/></literal></expr></argument>)<pos:position pos:line="307" pos:column="58"/></argument_list></call></expr>;<pos:position pos:line="307" pos:column="59"/></expr_stmt>
          <return pos:line="308" pos:column="11">return <expr><name pos:line="308" pos:column="18">CURLE_PARTIAL_FILE<pos:position pos:line="308" pos:column="36"/></name></expr>;<pos:position pos:line="308" pos:column="37"/></return>
        }<pos:position pos:line="309" pos:column="10"/></block></then></if>
      }<pos:position pos:line="310" pos:column="8"/></block></then></if>
      <comment type="block" pos:line="311" pos:column="7">/* we've passed, proceed as normal */</comment>
    }<pos:position pos:line="312" pos:column="6"/></block></then></if>
  }<pos:position pos:line="313" pos:column="4"/></block></then></if>
  <if pos:line="314" pos:column="3">if<condition pos:line="314" pos:column="5">(<expr><name><name pos:line="314" pos:column="6">conn<pos:position pos:line="314" pos:column="10"/></name><operator pos:line="314" pos:column="10">-&gt;<pos:position pos:line="314" pos:column="15"/></operator><name pos:line="314" pos:column="12">bits<pos:position pos:line="314" pos:column="16"/></name><operator pos:line="314" pos:column="16">.<pos:position pos:line="314" pos:column="17"/></operator><name pos:line="314" pos:column="17">use_range<pos:position pos:line="314" pos:column="26"/></name></name></expr>)<pos:position pos:line="314" pos:column="27"/></condition><then pos:line="314" pos:column="27"> <block pos:line="314" pos:column="28">{
    <comment type="block" pos:line="315" pos:column="5">/*
     * A range is selected. We use different headers whether we're downloading
     * or uploading and we always let customized headers override our internal
     * ones if any such are specified.
     */</comment>
    <if pos:line="320" pos:column="5">if<condition pos:line="320" pos:column="7">(<expr><operator pos:line="320" pos:column="8">(<pos:position pos:line="320" pos:column="9"/></operator><name pos:line="320" pos:column="9">httpreq<pos:position pos:line="320" pos:column="16"/></name> <operator pos:line="320" pos:column="17">==<pos:position pos:line="320" pos:column="19"/></operator> <name pos:line="320" pos:column="20">HTTPREQ_GET<pos:position pos:line="320" pos:column="31"/></name><operator pos:line="320" pos:column="31">)<pos:position pos:line="320" pos:column="32"/></operator> <operator pos:line="320" pos:column="33">&amp;&amp;<pos:position pos:line="320" pos:column="43"/></operator>
       <operator pos:line="321" pos:column="8">!<pos:position pos:line="321" pos:column="9"/></operator><call><name pos:line="321" pos:column="9">checkheaders<pos:position pos:line="321" pos:column="21"/></name><argument_list pos:line="321" pos:column="21">(<argument><expr><name pos:line="321" pos:column="22">data<pos:position pos:line="321" pos:column="26"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="321" pos:column="28">"Range:"<pos:position pos:line="321" pos:column="36"/></literal></expr></argument>)<pos:position pos:line="321" pos:column="37"/></argument_list></call></expr>)<pos:position pos:line="321" pos:column="38"/></condition><then pos:line="321" pos:column="38"> <block pos:line="321" pos:column="39">{
      <comment type="block" pos:line="322" pos:column="7">/* if a line like this was already allocated, free the previous one */</comment>
      <if pos:line="323" pos:column="7">if<condition pos:line="323" pos:column="9">(<expr><name><name pos:line="323" pos:column="10">conn<pos:position pos:line="323" pos:column="14"/></name><operator pos:line="323" pos:column="14">-&gt;<pos:position pos:line="323" pos:column="19"/></operator><name pos:line="323" pos:column="16">allocptr<pos:position pos:line="323" pos:column="24"/></name><operator pos:line="323" pos:column="24">.<pos:position pos:line="323" pos:column="25"/></operator><name pos:line="323" pos:column="25">rangeline<pos:position pos:line="323" pos:column="34"/></name></name></expr>)<pos:position pos:line="323" pos:column="35"/></condition><then pos:line="323" pos:column="35">
        <block type="pseudo"><expr_stmt><expr><call><name pos:line="324" pos:column="9">free<pos:position pos:line="324" pos:column="13"/></name><argument_list pos:line="324" pos:column="13">(<argument><expr><name><name pos:line="324" pos:column="14">conn<pos:position pos:line="324" pos:column="18"/></name><operator pos:line="324" pos:column="18">-&gt;<pos:position pos:line="324" pos:column="23"/></operator><name pos:line="324" pos:column="20">allocptr<pos:position pos:line="324" pos:column="28"/></name><operator pos:line="324" pos:column="28">.<pos:position pos:line="324" pos:column="29"/></operator><name pos:line="324" pos:column="29">rangeline<pos:position pos:line="324" pos:column="38"/></name></name></expr></argument>)<pos:position pos:line="324" pos:column="39"/></argument_list></call></expr>;<pos:position pos:line="324" pos:column="40"/></expr_stmt></block></then></if>
      <expr_stmt><expr><name><name pos:line="325" pos:column="7">conn<pos:position pos:line="325" pos:column="11"/></name><operator pos:line="325" pos:column="11">-&gt;<pos:position pos:line="325" pos:column="16"/></operator><name pos:line="325" pos:column="13">allocptr<pos:position pos:line="325" pos:column="21"/></name><operator pos:line="325" pos:column="21">.<pos:position pos:line="325" pos:column="22"/></operator><name pos:line="325" pos:column="22">rangeline<pos:position pos:line="325" pos:column="31"/></name></name> <operator pos:line="325" pos:column="32">=<pos:position pos:line="325" pos:column="33"/></operator> <call><name pos:line="325" pos:column="34">aprintf<pos:position pos:line="325" pos:column="41"/></name><argument_list pos:line="325" pos:column="41">(<argument><expr><literal type="string" pos:line="325" pos:column="42">"Range: bytes=%s\r\n"<pos:position pos:line="325" pos:column="63"/></literal></expr></argument>, <argument><expr><name><name pos:line="325" pos:column="65">conn<pos:position pos:line="325" pos:column="69"/></name><operator pos:line="325" pos:column="69">-&gt;<pos:position pos:line="325" pos:column="74"/></operator><name pos:line="325" pos:column="71">range<pos:position pos:line="325" pos:column="76"/></name></name></expr></argument>)<pos:position pos:line="325" pos:column="77"/></argument_list></call></expr>;<pos:position pos:line="325" pos:column="78"/></expr_stmt>
    }<pos:position pos:line="326" pos:column="6"/></block></then>
    <elseif pos:line="327" pos:column="5">else <if pos:line="327" pos:column="10">if<condition pos:line="327" pos:column="12">(<expr><operator pos:line="327" pos:column="13">(<pos:position pos:line="327" pos:column="14"/></operator><name pos:line="327" pos:column="14">httpreq<pos:position pos:line="327" pos:column="21"/></name> <operator pos:line="327" pos:column="22">!=<pos:position pos:line="327" pos:column="24"/></operator> <name pos:line="327" pos:column="25">HTTPREQ_GET<pos:position pos:line="327" pos:column="36"/></name><operator pos:line="327" pos:column="36">)<pos:position pos:line="327" pos:column="37"/></operator> <operator pos:line="327" pos:column="38">&amp;&amp;<pos:position pos:line="327" pos:column="48"/></operator>
            <operator pos:line="328" pos:column="13">!<pos:position pos:line="328" pos:column="14"/></operator><call><name pos:line="328" pos:column="14">checkheaders<pos:position pos:line="328" pos:column="26"/></name><argument_list pos:line="328" pos:column="26">(<argument><expr><name pos:line="328" pos:column="27">data<pos:position pos:line="328" pos:column="31"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="328" pos:column="33">"Content-Range:"<pos:position pos:line="328" pos:column="49"/></literal></expr></argument>)<pos:position pos:line="328" pos:column="50"/></argument_list></call></expr>)<pos:position pos:line="328" pos:column="51"/></condition><then pos:line="328" pos:column="51"> <block pos:line="328" pos:column="52">{

      <if pos:line="330" pos:column="7">if<condition pos:line="330" pos:column="9">(<expr><name><name pos:line="330" pos:column="10">conn<pos:position pos:line="330" pos:column="14"/></name><operator pos:line="330" pos:column="14">-&gt;<pos:position pos:line="330" pos:column="19"/></operator><name pos:line="330" pos:column="16">resume_from<pos:position pos:line="330" pos:column="27"/></name></name></expr>)<pos:position pos:line="330" pos:column="28"/></condition><then pos:line="330" pos:column="28"> <block pos:line="330" pos:column="29">{
        <comment type="block" pos:line="331" pos:column="9">/* This is because "resume" was selected */</comment>
        <decl_stmt><decl><type><name pos:line="332" pos:column="9">curl_off_t<pos:position pos:line="332" pos:column="19"/></name></type> <name pos:line="332" pos:column="20">total_expected_size<pos:position pos:line="332" pos:column="39"/></name><init pos:line="332" pos:column="39">=
          <expr><name><name pos:line="333" pos:column="11">conn<pos:position pos:line="333" pos:column="15"/></name><operator pos:line="333" pos:column="15">-&gt;<pos:position pos:line="333" pos:column="20"/></operator><name pos:line="333" pos:column="17">resume_from<pos:position pos:line="333" pos:column="28"/></name></name> <operator pos:line="333" pos:column="29">+<pos:position pos:line="333" pos:column="30"/></operator> <name><name pos:line="333" pos:column="31">data<pos:position pos:line="333" pos:column="35"/></name><operator pos:line="333" pos:column="35">-&gt;<pos:position pos:line="333" pos:column="40"/></operator><name pos:line="333" pos:column="37">set<pos:position pos:line="333" pos:column="40"/></name><operator pos:line="333" pos:column="40">.<pos:position pos:line="333" pos:column="41"/></operator><name pos:line="333" pos:column="41">infilesize<pos:position pos:line="333" pos:column="51"/></name></name></expr></init></decl>;<pos:position pos:line="333" pos:column="52"/></decl_stmt>
        <expr_stmt><expr><name><name pos:line="334" pos:column="9">conn<pos:position pos:line="334" pos:column="13"/></name><operator pos:line="334" pos:column="13">-&gt;<pos:position pos:line="334" pos:column="18"/></operator><name pos:line="334" pos:column="15">allocptr<pos:position pos:line="334" pos:column="23"/></name><operator pos:line="334" pos:column="23">.<pos:position pos:line="334" pos:column="24"/></operator><name pos:line="334" pos:column="24">rangeline<pos:position pos:line="334" pos:column="33"/></name></name> <operator pos:line="334" pos:column="34">=<pos:position pos:line="334" pos:column="35"/></operator>
            <call><name pos:line="335" pos:column="13">aprintf<pos:position pos:line="335" pos:column="20"/></name><argument_list pos:line="335" pos:column="20">(<argument><expr><literal type="string" pos:line="335" pos:column="21">"Content-Range: bytes %s%"<pos:position pos:line="335" pos:column="47"/></literal> <name pos:line="335" pos:column="48">FORMAT_OFF_T<pos:position pos:line="335" pos:column="60"/></name>
                    <literal type="string" pos:line="336" pos:column="21">"/%"<pos:position pos:line="336" pos:column="25"/></literal> <name pos:line="336" pos:column="26">FORMAT_OFF_T<pos:position pos:line="336" pos:column="38"/></name> <literal type="string" pos:line="336" pos:column="39">"\r\n"<pos:position pos:line="336" pos:column="45"/></literal></expr></argument>,
                    <argument><expr><name><name pos:line="337" pos:column="21">conn<pos:position pos:line="337" pos:column="25"/></name><operator pos:line="337" pos:column="25">-&gt;<pos:position pos:line="337" pos:column="30"/></operator><name pos:line="337" pos:column="27">range<pos:position pos:line="337" pos:column="32"/></name></name></expr></argument>, <argument><expr><name pos:line="337" pos:column="34">total_expected_size<pos:position pos:line="337" pos:column="53"/></name><operator pos:line="337" pos:column="53">-<pos:position pos:line="337" pos:column="54"/></operator><literal type="number" pos:line="337" pos:column="54">1<pos:position pos:line="337" pos:column="55"/></literal></expr></argument>,
                    <argument><expr><name pos:line="338" pos:column="21">total_expected_size<pos:position pos:line="338" pos:column="40"/></name></expr></argument>)<pos:position pos:line="338" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="338" pos:column="42"/></expr_stmt>
      }<pos:position pos:line="339" pos:column="8"/></block></then>
      <else pos:line="340" pos:column="7">else <block pos:line="340" pos:column="12">{
        <comment type="block" pos:line="341" pos:column="9">/* Range was selected and then we just pass the incoming range and
           append total size */</comment>
        <expr_stmt><expr><name><name pos:line="343" pos:column="9">conn<pos:position pos:line="343" pos:column="13"/></name><operator pos:line="343" pos:column="13">-&gt;<pos:position pos:line="343" pos:column="18"/></operator><name pos:line="343" pos:column="15">allocptr<pos:position pos:line="343" pos:column="23"/></name><operator pos:line="343" pos:column="23">.<pos:position pos:line="343" pos:column="24"/></operator><name pos:line="343" pos:column="24">rangeline<pos:position pos:line="343" pos:column="33"/></name></name> <operator pos:line="343" pos:column="34">=<pos:position pos:line="343" pos:column="35"/></operator>
            <call><name pos:line="344" pos:column="13">aprintf<pos:position pos:line="344" pos:column="20"/></name><argument_list pos:line="344" pos:column="20">(<argument><expr><literal type="string" pos:line="344" pos:column="21">"Content-Range: bytes %s/%"<pos:position pos:line="344" pos:column="48"/></literal> <name pos:line="344" pos:column="49">FORMAT_OFF_T<pos:position pos:line="344" pos:column="61"/></name> <literal type="string" pos:line="344" pos:column="62">"\r\n"<pos:position pos:line="344" pos:column="68"/></literal></expr></argument>,
                    <argument><expr><name><name pos:line="345" pos:column="21">conn<pos:position pos:line="345" pos:column="25"/></name><operator pos:line="345" pos:column="25">-&gt;<pos:position pos:line="345" pos:column="30"/></operator><name pos:line="345" pos:column="27">range<pos:position pos:line="345" pos:column="32"/></name></name></expr></argument>, <argument><expr><name><name pos:line="345" pos:column="34">data<pos:position pos:line="345" pos:column="38"/></name><operator pos:line="345" pos:column="38">-&gt;<pos:position pos:line="345" pos:column="43"/></operator><name pos:line="345" pos:column="40">set<pos:position pos:line="345" pos:column="43"/></name><operator pos:line="345" pos:column="43">.<pos:position pos:line="345" pos:column="44"/></operator><name pos:line="345" pos:column="44">infilesize<pos:position pos:line="345" pos:column="54"/></name></name></expr></argument>)<pos:position pos:line="345" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="345" pos:column="56"/></expr_stmt>
      }<pos:position pos:line="346" pos:column="8"/></block></else></if>
    }<pos:position pos:line="347" pos:column="6"/></block></then></if></elseif></if>
  }<pos:position pos:line="348" pos:column="4"/></block></then></if>

  <block pos:line="350" pos:column="3">{
    <comment type="block" pos:line="351" pos:column="5">/* Use 1.1 unless the use specificly asked for 1.0 */</comment>
    <decl_stmt><decl><type><specifier pos:line="352" pos:column="5">const<pos:position pos:line="352" pos:column="10"/></specifier> <name pos:line="352" pos:column="11">char<pos:position pos:line="352" pos:column="15"/></name> <modifier pos:line="352" pos:column="16">*<pos:position pos:line="352" pos:column="17"/></modifier></type><name pos:line="352" pos:column="17">httpstring<pos:position pos:line="352" pos:column="27"/></name><init pos:line="352" pos:column="27">=
      <expr><ternary><condition><expr><name><name pos:line="353" pos:column="7">data<pos:position pos:line="353" pos:column="11"/></name><operator pos:line="353" pos:column="11">-&gt;<pos:position pos:line="353" pos:column="16"/></operator><name pos:line="353" pos:column="13">set<pos:position pos:line="353" pos:column="16"/></name><operator pos:line="353" pos:column="16">.<pos:position pos:line="353" pos:column="17"/></operator><name pos:line="353" pos:column="17">httpversion<pos:position pos:line="353" pos:column="28"/></name></name><operator pos:line="353" pos:column="28">==<pos:position pos:line="353" pos:column="30"/></operator><name pos:line="353" pos:column="30">CURL_HTTP_VERSION_1_0<pos:position pos:line="353" pos:column="51"/></name></expr>?<pos:position pos:line="353" pos:column="52"/></condition><then><expr><literal type="string" pos:line="353" pos:column="52">"1.0"<pos:position pos:line="353" pos:column="57"/></literal></expr></then><else pos:line="353" pos:column="57">:<expr><literal type="string" pos:line="353" pos:column="58">"1.1"<pos:position pos:line="353" pos:column="63"/></literal></expr></else></ternary></expr></init></decl>;<pos:position pos:line="353" pos:column="64"/></decl_stmt>

    <decl_stmt><decl><type><name pos:line="355" pos:column="5">send_buffer<pos:position pos:line="355" pos:column="16"/></name> <modifier pos:line="355" pos:column="17">*<pos:position pos:line="355" pos:column="18"/></modifier></type><name pos:line="355" pos:column="18">req_buffer<pos:position pos:line="355" pos:column="28"/></name></decl>;<pos:position pos:line="355" pos:column="29"/></decl_stmt>
    <decl_stmt><decl><type><name pos:line="356" pos:column="5">curl_off_t<pos:position pos:line="356" pos:column="15"/></name></type> <name pos:line="356" pos:column="16">postsize<pos:position pos:line="356" pos:column="24"/></name></decl>;<pos:position pos:line="356" pos:column="25"/></decl_stmt> <comment type="block" pos:line="356" pos:column="26">/* off_t type to be able to hold a large file size */</comment>

    <comment type="block" pos:line="358" pos:column="5">/* initialize a dynamic send-buffer */</comment>
    <expr_stmt><expr><name pos:line="359" pos:column="5">req_buffer<pos:position pos:line="359" pos:column="15"/></name> <operator pos:line="359" pos:column="16">=<pos:position pos:line="359" pos:column="17"/></operator> <call><name pos:line="359" pos:column="18">add_buffer_init<pos:position pos:line="359" pos:column="33"/></name><argument_list pos:line="359" pos:column="33">()<pos:position pos:line="359" pos:column="35"/></argument_list></call></expr>;<pos:position pos:line="359" pos:column="36"/></expr_stmt>

    <if pos:line="361" pos:column="5">if<condition pos:line="361" pos:column="7">(<expr><operator pos:line="361" pos:column="8">!<pos:position pos:line="361" pos:column="9"/></operator><name pos:line="361" pos:column="9">req_buffer<pos:position pos:line="361" pos:column="19"/></name></expr>)<pos:position pos:line="361" pos:column="20"/></condition><then pos:line="361" pos:column="20">
      <block type="pseudo"><return pos:line="362" pos:column="7">return <expr><name pos:line="362" pos:column="14">CURLE_OUT_OF_MEMORY<pos:position pos:line="362" pos:column="33"/></name></expr>;<pos:position pos:line="362" pos:column="34"/></return></block></then></if>

    <comment type="block" pos:line="364" pos:column="5">/* add the main request stuff */</comment>
    <expr_stmt><expr><name pos:line="365" pos:column="5">result<pos:position pos:line="365" pos:column="11"/></name> <operator pos:line="365" pos:column="12">=<pos:position pos:line="365" pos:column="13"/></operator>
      <call><name pos:line="366" pos:column="7">add_bufferf<pos:position pos:line="366" pos:column="18"/></name><argument_list pos:line="366" pos:column="18">(<argument><expr><name pos:line="366" pos:column="19">req_buffer<pos:position pos:line="366" pos:column="29"/></name></expr></argument>,
                  <argument><expr><literal type="string" pos:line="367" pos:column="19">"%s "<pos:position pos:line="367" pos:column="24"/></literal> <comment type="block" pos:line="367" pos:column="25">/* GET/HEAD/POST/PUT */</comment>
                  <literal type="string" pos:line="368" pos:column="19">"%s HTTP/%s\r\n"<pos:position pos:line="368" pos:column="35"/></literal> <comment type="block" pos:line="368" pos:column="36">/* path + HTTP version */</comment>
                  <literal type="string" pos:line="369" pos:column="19">"%s"<pos:position pos:line="369" pos:column="23"/></literal> <comment type="block" pos:line="369" pos:column="24">/* proxyuserpwd */</comment>
                  <literal type="string" pos:line="370" pos:column="19">"%s"<pos:position pos:line="370" pos:column="23"/></literal> <comment type="block" pos:line="370" pos:column="24">/* userpwd */</comment>
                  <literal type="string" pos:line="371" pos:column="19">"%s"<pos:position pos:line="371" pos:column="23"/></literal> <comment type="block" pos:line="371" pos:column="24">/* range */</comment>
                  <literal type="string" pos:line="372" pos:column="19">"%s"<pos:position pos:line="372" pos:column="23"/></literal> <comment type="block" pos:line="372" pos:column="24">/* user agent */</comment>
                  <literal type="string" pos:line="373" pos:column="19">"%s"<pos:position pos:line="373" pos:column="23"/></literal> <comment type="block" pos:line="373" pos:column="24">/* host */</comment>
                  <literal type="string" pos:line="374" pos:column="19">"%s"<pos:position pos:line="374" pos:column="23"/></literal> <comment type="block" pos:line="374" pos:column="24">/* pragma */</comment>
                  <literal type="string" pos:line="375" pos:column="19">"%s"<pos:position pos:line="375" pos:column="23"/></literal> <comment type="block" pos:line="375" pos:column="24">/* accept */</comment>
                  <literal type="string" pos:line="376" pos:column="19">"%s"<pos:position pos:line="376" pos:column="23"/></literal> <comment type="block" pos:line="376" pos:column="24">/* accept-encoding */</comment>
                  <literal type="string" pos:line="377" pos:column="19">"%s"<pos:position pos:line="377" pos:column="23"/></literal> <comment type="block" pos:line="377" pos:column="24">/* referer */</comment>
                  <literal type="string" pos:line="378" pos:column="19">"%s"<pos:position pos:line="378" pos:column="23"/></literal> <comment type="block" pos:line="378" pos:column="24">/* Proxy-Connection */</comment>
                  <literal type="string" pos:line="379" pos:column="19">"%s"<pos:position pos:line="379" pos:column="23"/></literal></expr></argument>,<comment type="block" pos:line="379" pos:column="24">/* transfer-encoding */</comment>

                <argument><expr><name pos:line="381" pos:column="17">request<pos:position pos:line="381" pos:column="24"/></name></expr></argument>,
                <argument><expr><name pos:line="382" pos:column="17">ppath<pos:position pos:line="382" pos:column="22"/></name></expr></argument>,
                <argument><expr><name pos:line="383" pos:column="17">httpstring<pos:position pos:line="383" pos:column="27"/></name></expr></argument>,
                <argument><expr><ternary><condition><expr><name><name pos:line="384" pos:column="17">conn<pos:position pos:line="384" pos:column="21"/></name><operator pos:line="384" pos:column="21">-&gt;<pos:position pos:line="384" pos:column="26"/></operator><name pos:line="384" pos:column="23">allocptr<pos:position pos:line="384" pos:column="31"/></name><operator pos:line="384" pos:column="31">.<pos:position pos:line="384" pos:column="32"/></operator><name pos:line="384" pos:column="32">proxyuserpwd<pos:position pos:line="384" pos:column="44"/></name></name></expr>?<pos:position pos:line="384" pos:column="45"/></condition><then pos:line="384" pos:column="45">
                <expr><name><name pos:line="385" pos:column="17">conn<pos:position pos:line="385" pos:column="21"/></name><operator pos:line="385" pos:column="21">-&gt;<pos:position pos:line="385" pos:column="26"/></operator><name pos:line="385" pos:column="23">allocptr<pos:position pos:line="385" pos:column="31"/></name><operator pos:line="385" pos:column="31">.<pos:position pos:line="385" pos:column="32"/></operator><name pos:line="385" pos:column="32">proxyuserpwd<pos:position pos:line="385" pos:column="44"/></name></name></expr></then><else pos:line="385" pos:column="44">:<expr><literal type="string" pos:line="385" pos:column="45">""<pos:position pos:line="385" pos:column="47"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><ternary><condition><expr><name><name pos:line="386" pos:column="17">conn<pos:position pos:line="386" pos:column="21"/></name><operator pos:line="386" pos:column="21">-&gt;<pos:position pos:line="386" pos:column="26"/></operator><name pos:line="386" pos:column="23">allocptr<pos:position pos:line="386" pos:column="31"/></name><operator pos:line="386" pos:column="31">.<pos:position pos:line="386" pos:column="32"/></operator><name pos:line="386" pos:column="32">userpwd<pos:position pos:line="386" pos:column="39"/></name></name></expr>?<pos:position pos:line="386" pos:column="40"/></condition><then><expr><name><name pos:line="386" pos:column="40">conn<pos:position pos:line="386" pos:column="44"/></name><operator pos:line="386" pos:column="44">-&gt;<pos:position pos:line="386" pos:column="49"/></operator><name pos:line="386" pos:column="46">allocptr<pos:position pos:line="386" pos:column="54"/></name><operator pos:line="386" pos:column="54">.<pos:position pos:line="386" pos:column="55"/></operator><name pos:line="386" pos:column="55">userpwd<pos:position pos:line="386" pos:column="62"/></name></name></expr></then><else pos:line="386" pos:column="62">:<expr><literal type="string" pos:line="386" pos:column="63">""<pos:position pos:line="386" pos:column="65"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><ternary><condition><expr><operator pos:line="387" pos:column="17">(<pos:position pos:line="387" pos:column="18"/></operator><name><name pos:line="387" pos:column="18">conn<pos:position pos:line="387" pos:column="22"/></name><operator pos:line="387" pos:column="22">-&gt;<pos:position pos:line="387" pos:column="27"/></operator><name pos:line="387" pos:column="24">bits<pos:position pos:line="387" pos:column="28"/></name><operator pos:line="387" pos:column="28">.<pos:position pos:line="387" pos:column="29"/></operator><name pos:line="387" pos:column="29">use_range<pos:position pos:line="387" pos:column="38"/></name></name> <operator pos:line="387" pos:column="39">&amp;&amp;<pos:position pos:line="387" pos:column="49"/></operator> <name><name pos:line="387" pos:column="42">conn<pos:position pos:line="387" pos:column="46"/></name><operator pos:line="387" pos:column="46">-&gt;<pos:position pos:line="387" pos:column="51"/></operator><name pos:line="387" pos:column="48">allocptr<pos:position pos:line="387" pos:column="56"/></name><operator pos:line="387" pos:column="56">.<pos:position pos:line="387" pos:column="57"/></operator><name pos:line="387" pos:column="57">rangeline<pos:position pos:line="387" pos:column="66"/></name></name><operator pos:line="387" pos:column="66">)<pos:position pos:line="387" pos:column="67"/></operator></expr>?<pos:position pos:line="387" pos:column="68"/></condition><then pos:line="387" pos:column="68">
                <expr><name><name pos:line="388" pos:column="17">conn<pos:position pos:line="388" pos:column="21"/></name><operator pos:line="388" pos:column="21">-&gt;<pos:position pos:line="388" pos:column="26"/></operator><name pos:line="388" pos:column="23">allocptr<pos:position pos:line="388" pos:column="31"/></name><operator pos:line="388" pos:column="31">.<pos:position pos:line="388" pos:column="32"/></operator><name pos:line="388" pos:column="32">rangeline<pos:position pos:line="388" pos:column="41"/></name></name></expr></then><else pos:line="388" pos:column="41">:<expr><literal type="string" pos:line="388" pos:column="42">""<pos:position pos:line="388" pos:column="44"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><ternary><condition><expr><operator pos:line="389" pos:column="17">(<pos:position pos:line="389" pos:column="18"/></operator><name><name pos:line="389" pos:column="18">data<pos:position pos:line="389" pos:column="22"/></name><operator pos:line="389" pos:column="22">-&gt;<pos:position pos:line="389" pos:column="27"/></operator><name pos:line="389" pos:column="24">set<pos:position pos:line="389" pos:column="27"/></name><operator pos:line="389" pos:column="27">.<pos:position pos:line="389" pos:column="28"/></operator><name pos:line="389" pos:column="28">useragent<pos:position pos:line="389" pos:column="37"/></name></name> <operator pos:line="389" pos:column="38">&amp;&amp;<pos:position pos:line="389" pos:column="48"/></operator> <operator pos:line="389" pos:column="41">*<pos:position pos:line="389" pos:column="42"/></operator><name><name pos:line="389" pos:column="42">data<pos:position pos:line="389" pos:column="46"/></name><operator pos:line="389" pos:column="46">-&gt;<pos:position pos:line="389" pos:column="51"/></operator><name pos:line="389" pos:column="48">set<pos:position pos:line="389" pos:column="51"/></name><operator pos:line="389" pos:column="51">.<pos:position pos:line="389" pos:column="52"/></operator><name pos:line="389" pos:column="52">useragent<pos:position pos:line="389" pos:column="61"/></name></name> <operator pos:line="389" pos:column="62">&amp;&amp;<pos:position pos:line="389" pos:column="72"/></operator> <name><name pos:line="389" pos:column="65">conn<pos:position pos:line="389" pos:column="69"/></name><operator pos:line="389" pos:column="69">-&gt;<pos:position pos:line="389" pos:column="74"/></operator><name pos:line="389" pos:column="71">allocptr<pos:position pos:line="389" pos:column="79"/></name><operator pos:line="389" pos:column="79">.<pos:position pos:line="389" pos:column="80"/></operator><name pos:line="389" pos:column="80">uagent<pos:position pos:line="389" pos:column="86"/></name></name><operator pos:line="389" pos:column="86">)<pos:position pos:line="389" pos:column="87"/></operator></expr>?<pos:position pos:line="389" pos:column="88"/></condition><then pos:line="389" pos:column="88">
                <expr><name><name pos:line="390" pos:column="17">conn<pos:position pos:line="390" pos:column="21"/></name><operator pos:line="390" pos:column="21">-&gt;<pos:position pos:line="390" pos:column="26"/></operator><name pos:line="390" pos:column="23">allocptr<pos:position pos:line="390" pos:column="31"/></name><operator pos:line="390" pos:column="31">.<pos:position pos:line="390" pos:column="32"/></operator><name pos:line="390" pos:column="32">uagent<pos:position pos:line="390" pos:column="38"/></name></name></expr></then><else pos:line="390" pos:column="38">:<expr><literal type="string" pos:line="390" pos:column="39">""<pos:position pos:line="390" pos:column="41"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><operator pos:line="391" pos:column="17">(<pos:position pos:line="391" pos:column="18"/></operator><ternary><condition><expr><name><name pos:line="391" pos:column="18">conn<pos:position pos:line="391" pos:column="22"/></name><operator pos:line="391" pos:column="22">-&gt;<pos:position pos:line="391" pos:column="27"/></operator><name pos:line="391" pos:column="24">allocptr<pos:position pos:line="391" pos:column="32"/></name><operator pos:line="391" pos:column="32">.<pos:position pos:line="391" pos:column="33"/></operator><name pos:line="391" pos:column="33">host<pos:position pos:line="391" pos:column="37"/></name></name></expr>?<pos:position pos:line="391" pos:column="38"/></condition><then><expr><name><name pos:line="391" pos:column="38">conn<pos:position pos:line="391" pos:column="42"/></name><operator pos:line="391" pos:column="42">-&gt;<pos:position pos:line="391" pos:column="47"/></operator><name pos:line="391" pos:column="44">allocptr<pos:position pos:line="391" pos:column="52"/></name><operator pos:line="391" pos:column="52">.<pos:position pos:line="391" pos:column="53"/></operator><name pos:line="391" pos:column="53">host<pos:position pos:line="391" pos:column="57"/></name></name></expr></then><else pos:line="391" pos:column="57">:<expr><literal type="string" pos:line="391" pos:column="58">""<pos:position pos:line="391" pos:column="60"/></literal></expr></else></ternary><operator pos:line="391" pos:column="60">)<pos:position pos:line="391" pos:column="61"/></operator></expr></argument>, <comment type="block" pos:line="391" pos:column="63">/* Host: host */</comment>
                <argument><expr><ternary><condition><expr><name><name pos:line="392" pos:column="17">http<pos:position pos:line="392" pos:column="21"/></name><operator pos:line="392" pos:column="21">-&gt;<pos:position pos:line="392" pos:column="26"/></operator><name pos:line="392" pos:column="23">p_pragma<pos:position pos:line="392" pos:column="31"/></name></name></expr>?<pos:position pos:line="392" pos:column="32"/></condition><then><expr><name><name pos:line="392" pos:column="32">http<pos:position pos:line="392" pos:column="36"/></name><operator pos:line="392" pos:column="36">-&gt;<pos:position pos:line="392" pos:column="41"/></operator><name pos:line="392" pos:column="38">p_pragma<pos:position pos:line="392" pos:column="46"/></name></name></expr></then><else pos:line="392" pos:column="46">:<expr><literal type="string" pos:line="392" pos:column="47">""<pos:position pos:line="392" pos:column="49"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><ternary><condition><expr><name><name pos:line="393" pos:column="17">http<pos:position pos:line="393" pos:column="21"/></name><operator pos:line="393" pos:column="21">-&gt;<pos:position pos:line="393" pos:column="26"/></operator><name pos:line="393" pos:column="23">p_accept<pos:position pos:line="393" pos:column="31"/></name></name></expr>?<pos:position pos:line="393" pos:column="32"/></condition><then><expr><name><name pos:line="393" pos:column="32">http<pos:position pos:line="393" pos:column="36"/></name><operator pos:line="393" pos:column="36">-&gt;<pos:position pos:line="393" pos:column="41"/></operator><name pos:line="393" pos:column="38">p_accept<pos:position pos:line="393" pos:column="46"/></name></name></expr></then><else pos:line="393" pos:column="46">:<expr><literal type="string" pos:line="393" pos:column="47">""<pos:position pos:line="393" pos:column="49"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><ternary><condition><expr><operator pos:line="394" pos:column="17">(<pos:position pos:line="394" pos:column="18"/></operator><name><name pos:line="394" pos:column="18">data<pos:position pos:line="394" pos:column="22"/></name><operator pos:line="394" pos:column="22">-&gt;<pos:position pos:line="394" pos:column="27"/></operator><name pos:line="394" pos:column="24">set<pos:position pos:line="394" pos:column="27"/></name><operator pos:line="394" pos:column="27">.<pos:position pos:line="394" pos:column="28"/></operator><name pos:line="394" pos:column="28">encoding<pos:position pos:line="394" pos:column="36"/></name></name> <operator pos:line="394" pos:column="37">&amp;&amp;<pos:position pos:line="394" pos:column="47"/></operator> <operator pos:line="394" pos:column="40">*<pos:position pos:line="394" pos:column="41"/></operator><name><name pos:line="394" pos:column="41">data<pos:position pos:line="394" pos:column="45"/></name><operator pos:line="394" pos:column="45">-&gt;<pos:position pos:line="394" pos:column="50"/></operator><name pos:line="394" pos:column="47">set<pos:position pos:line="394" pos:column="50"/></name><operator pos:line="394" pos:column="50">.<pos:position pos:line="394" pos:column="51"/></operator><name pos:line="394" pos:column="51">encoding<pos:position pos:line="394" pos:column="59"/></name></name> <operator pos:line="394" pos:column="60">&amp;&amp;<pos:position pos:line="394" pos:column="70"/></operator> <name><name pos:line="394" pos:column="63">conn<pos:position pos:line="394" pos:column="67"/></name><operator pos:line="394" pos:column="67">-&gt;<pos:position pos:line="394" pos:column="72"/></operator><name pos:line="394" pos:column="69">allocptr<pos:position pos:line="394" pos:column="77"/></name><operator pos:line="394" pos:column="77">.<pos:position pos:line="394" pos:column="78"/></operator><name pos:line="394" pos:column="78">accept_encoding<pos:position pos:line="394" pos:column="93"/></name></name><operator pos:line="394" pos:column="93">)<pos:position pos:line="394" pos:column="94"/></operator></expr>?<pos:position pos:line="394" pos:column="95"/></condition><then pos:line="394" pos:column="95">
                <expr><name><name pos:line="395" pos:column="17">conn<pos:position pos:line="395" pos:column="21"/></name><operator pos:line="395" pos:column="21">-&gt;<pos:position pos:line="395" pos:column="26"/></operator><name pos:line="395" pos:column="23">allocptr<pos:position pos:line="395" pos:column="31"/></name><operator pos:line="395" pos:column="31">.<pos:position pos:line="395" pos:column="32"/></operator><name pos:line="395" pos:column="32">accept_encoding<pos:position pos:line="395" pos:column="47"/></name></name></expr></then><else pos:line="395" pos:column="47">:<expr><literal type="string" pos:line="395" pos:column="48">""<pos:position pos:line="395" pos:column="50"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><ternary><condition><expr><operator pos:line="396" pos:column="17">(<pos:position pos:line="396" pos:column="18"/></operator><name><name pos:line="396" pos:column="18">data<pos:position pos:line="396" pos:column="22"/></name><operator pos:line="396" pos:column="22">-&gt;<pos:position pos:line="396" pos:column="27"/></operator><name pos:line="396" pos:column="24">change<pos:position pos:line="396" pos:column="30"/></name><operator pos:line="396" pos:column="30">.<pos:position pos:line="396" pos:column="31"/></operator><name pos:line="396" pos:column="31">referer<pos:position pos:line="396" pos:column="38"/></name></name> <operator pos:line="396" pos:column="39">&amp;&amp;<pos:position pos:line="396" pos:column="49"/></operator> <name><name pos:line="396" pos:column="42">conn<pos:position pos:line="396" pos:column="46"/></name><operator pos:line="396" pos:column="46">-&gt;<pos:position pos:line="396" pos:column="51"/></operator><name pos:line="396" pos:column="48">allocptr<pos:position pos:line="396" pos:column="56"/></name><operator pos:line="396" pos:column="56">.<pos:position pos:line="396" pos:column="57"/></operator><name pos:line="396" pos:column="57">ref<pos:position pos:line="396" pos:column="60"/></name></name><operator pos:line="396" pos:column="60">)<pos:position pos:line="396" pos:column="61"/></operator></expr>?<pos:position pos:line="396" pos:column="62"/></condition><then><expr><name><name pos:line="396" pos:column="62">conn<pos:position pos:line="396" pos:column="66"/></name><operator pos:line="396" pos:column="66">-&gt;<pos:position pos:line="396" pos:column="71"/></operator><name pos:line="396" pos:column="68">allocptr<pos:position pos:line="396" pos:column="76"/></name><operator pos:line="396" pos:column="76">.<pos:position pos:line="396" pos:column="77"/></operator><name pos:line="396" pos:column="77">ref<pos:position pos:line="396" pos:column="80"/></name></name></expr></then><else pos:line="396" pos:column="80">:<expr><literal type="string" pos:line="396" pos:column="81">""<pos:position pos:line="396" pos:column="83"/></literal></expr></else></ternary></expr></argument> <comment type="block" pos:line="396" pos:column="84">/* Referer: &lt;data&gt; */</comment>,
                <argument><expr><ternary><condition><expr><operator pos:line="397" pos:column="17">(<pos:position pos:line="397" pos:column="18"/></operator><name><name pos:line="397" pos:column="18">conn<pos:position pos:line="397" pos:column="22"/></name><operator pos:line="397" pos:column="22">-&gt;<pos:position pos:line="397" pos:column="27"/></operator><name pos:line="397" pos:column="24">bits<pos:position pos:line="397" pos:column="28"/></name><operator pos:line="397" pos:column="28">.<pos:position pos:line="397" pos:column="29"/></operator><name pos:line="397" pos:column="29">httpproxy<pos:position pos:line="397" pos:column="38"/></name></name> <operator pos:line="397" pos:column="39">&amp;&amp;<pos:position pos:line="397" pos:column="49"/></operator> <operator pos:line="397" pos:column="42">!<pos:position pos:line="397" pos:column="43"/></operator><name><name pos:line="397" pos:column="43">conn<pos:position pos:line="397" pos:column="47"/></name><operator pos:line="397" pos:column="47">-&gt;<pos:position pos:line="397" pos:column="52"/></operator><name pos:line="397" pos:column="49">bits<pos:position pos:line="397" pos:column="53"/></name><operator pos:line="397" pos:column="53">.<pos:position pos:line="397" pos:column="54"/></operator><name pos:line="397" pos:column="54">tunnel_proxy<pos:position pos:line="397" pos:column="66"/></name></name><operator pos:line="397" pos:column="66">)<pos:position pos:line="397" pos:column="67"/></operator></expr>?<pos:position pos:line="397" pos:column="68"/></condition><then pos:line="397" pos:column="68">
                  <expr><literal type="string" pos:line="398" pos:column="19">"Proxy-Connection: Keep-Alive\r\n"<pos:position pos:line="398" pos:column="53"/></literal></expr></then><else pos:line="398" pos:column="53">:<expr><literal type="string" pos:line="398" pos:column="54">""<pos:position pos:line="398" pos:column="56"/></literal></expr></else></ternary></expr></argument>,
                <argument><expr><name pos:line="399" pos:column="17">te<pos:position pos:line="399" pos:column="19"/></name></expr></argument>
                )<pos:position pos:line="400" pos:column="18"/></argument_list></call></expr>;<pos:position pos:line="400" pos:column="19"/></expr_stmt>

    <if pos:line="402" pos:column="5">if<condition pos:line="402" pos:column="7">(<expr><name pos:line="402" pos:column="8">result<pos:position pos:line="402" pos:column="14"/></name></expr>)<pos:position pos:line="402" pos:column="15"/></condition><then pos:line="402" pos:column="15">
      <block type="pseudo"><return pos:line="403" pos:column="7">return <expr><name pos:line="403" pos:column="14">result<pos:position pos:line="403" pos:column="20"/></name></expr>;<pos:position pos:line="403" pos:column="21"/></return></block></then></if>

<cpp:if pos:line="405" pos:column="1">#<cpp:directive pos:line="405" pos:column="2">if<pos:position pos:line="405" pos:column="4"/></cpp:directive> <expr><operator pos:line="405" pos:column="5">!<pos:position pos:line="405" pos:column="6"/></operator><call><name pos:line="405" pos:column="6">defined<pos:position pos:line="405" pos:column="13"/></name><argument_list pos:line="405" pos:column="13">(<argument><expr><name pos:line="405" pos:column="14">CURL_DISABLE_COOKIES<pos:position pos:line="405" pos:column="34"/></name></expr></argument>)<pos:position pos:line="405" pos:column="35"/></argument_list></call></expr></cpp:if>
    <if pos:line="406" pos:column="5">if<condition pos:line="406" pos:column="7">(<expr><name><name pos:line="406" pos:column="8">data<pos:position pos:line="406" pos:column="12"/></name><operator pos:line="406" pos:column="12">-&gt;<pos:position pos:line="406" pos:column="17"/></operator><name pos:line="406" pos:column="14">cookies<pos:position pos:line="406" pos:column="21"/></name></name> <operator pos:line="406" pos:column="22">||<pos:position pos:line="406" pos:column="24"/></operator> <name pos:line="406" pos:column="25">addcookies<pos:position pos:line="406" pos:column="35"/></name></expr>)<pos:position pos:line="406" pos:column="36"/></condition><then pos:line="406" pos:column="36"> <block pos:line="406" pos:column="37">{
      <decl_stmt><decl><type><name><name pos:line="407" pos:column="7">struct<pos:position pos:line="407" pos:column="13"/></name> <name pos:line="407" pos:column="14">Cookie<pos:position pos:line="407" pos:column="20"/></name></name> <modifier pos:line="407" pos:column="21">*<pos:position pos:line="407" pos:column="22"/></modifier></type><name pos:line="407" pos:column="22">co<pos:position pos:line="407" pos:column="24"/></name><init pos:line="407" pos:column="24">=<expr><name pos:line="407" pos:column="25">NULL<pos:position pos:line="407" pos:column="29"/></name></expr></init></decl>;<pos:position pos:line="407" pos:column="30"/></decl_stmt> <comment type="block" pos:line="407" pos:column="31">/* no cookies from start */</comment>
      <decl_stmt><decl><type><name pos:line="408" pos:column="7">int<pos:position pos:line="408" pos:column="10"/></name></type> <name pos:line="408" pos:column="11">count<pos:position pos:line="408" pos:column="16"/></name><init pos:line="408" pos:column="16">=<expr><literal type="number" pos:line="408" pos:column="17">0<pos:position pos:line="408" pos:column="18"/></literal></expr></init></decl>;<pos:position pos:line="408" pos:column="19"/></decl_stmt>

      <if pos:line="410" pos:column="7">if<condition pos:line="410" pos:column="9">(<expr><name><name pos:line="410" pos:column="10">data<pos:position pos:line="410" pos:column="14"/></name><operator pos:line="410" pos:column="14">-&gt;<pos:position pos:line="410" pos:column="19"/></operator><name pos:line="410" pos:column="16">cookies<pos:position pos:line="410" pos:column="23"/></name></name></expr>)<pos:position pos:line="410" pos:column="24"/></condition><then pos:line="410" pos:column="24"> <block pos:line="410" pos:column="25">{
        <expr_stmt><expr><call><name pos:line="411" pos:column="9">Curl_share_lock<pos:position pos:line="411" pos:column="24"/></name><argument_list pos:line="411" pos:column="24">(<argument><expr><name pos:line="411" pos:column="25">data<pos:position pos:line="411" pos:column="29"/></name></expr></argument>, <argument><expr><name pos:line="411" pos:column="31">CURL_LOCK_DATA_COOKIE<pos:position pos:line="411" pos:column="52"/></name></expr></argument>, <argument><expr><name pos:line="411" pos:column="54">CURL_LOCK_ACCESS_SINGLE<pos:position pos:line="411" pos:column="77"/></name></expr></argument>)<pos:position pos:line="411" pos:column="78"/></argument_list></call></expr>;<pos:position pos:line="411" pos:column="79"/></expr_stmt>
        <expr_stmt><expr><name pos:line="412" pos:column="9">co<pos:position pos:line="412" pos:column="11"/></name> <operator pos:line="412" pos:column="12">=<pos:position pos:line="412" pos:column="13"/></operator> <call><name pos:line="412" pos:column="14">Curl_cookie_getlist<pos:position pos:line="412" pos:column="33"/></name><argument_list pos:line="412" pos:column="33">(<argument><expr><name><name pos:line="412" pos:column="34">data<pos:position pos:line="412" pos:column="38"/></name><operator pos:line="412" pos:column="38">-&gt;<pos:position pos:line="412" pos:column="43"/></operator><name pos:line="412" pos:column="40">cookies<pos:position pos:line="412" pos:column="47"/></name></name></expr></argument>,
                                 <argument><expr><ternary><condition><expr><name><name pos:line="413" pos:column="34">conn<pos:position pos:line="413" pos:column="38"/></name><operator pos:line="413" pos:column="38">-&gt;<pos:position pos:line="413" pos:column="43"/></operator><name pos:line="413" pos:column="40">allocptr<pos:position pos:line="413" pos:column="48"/></name><operator pos:line="413" pos:column="48">.<pos:position pos:line="413" pos:column="49"/></operator><name pos:line="413" pos:column="49">cookiehost<pos:position pos:line="413" pos:column="59"/></name></name></expr>?<pos:position pos:line="413" pos:column="60"/></condition><then pos:line="413" pos:column="60">
                                 <expr><name><name pos:line="414" pos:column="34">conn<pos:position pos:line="414" pos:column="38"/></name><operator pos:line="414" pos:column="38">-&gt;<pos:position pos:line="414" pos:column="43"/></operator><name pos:line="414" pos:column="40">allocptr<pos:position pos:line="414" pos:column="48"/></name><operator pos:line="414" pos:column="48">.<pos:position pos:line="414" pos:column="49"/></operator><name pos:line="414" pos:column="49">cookiehost<pos:position pos:line="414" pos:column="59"/></name></name></expr></then><else pos:line="414" pos:column="59">:<expr><name pos:line="414" pos:column="60">host<pos:position pos:line="414" pos:column="64"/></name></expr></else></ternary></expr></argument>, <argument><expr><name><name pos:line="414" pos:column="66">conn<pos:position pos:line="414" pos:column="70"/></name><operator pos:line="414" pos:column="70">-&gt;<pos:position pos:line="414" pos:column="75"/></operator><name pos:line="414" pos:column="72">path<pos:position pos:line="414" pos:column="76"/></name></name></expr></argument>,
                                 <argument><expr><call pos:line="415" pos:column="34">(<name pos:line="415" pos:column="35">bool<pos:position pos:line="415" pos:column="39"/></name>)<argument_list pos:line="415" pos:column="40">(<argument><expr><ternary><condition><expr><name><name pos:line="415" pos:column="41">conn<pos:position pos:line="415" pos:column="45"/></name><operator pos:line="415" pos:column="45">-&gt;<pos:position pos:line="415" pos:column="50"/></operator><name pos:line="415" pos:column="47">protocol<pos:position pos:line="415" pos:column="55"/></name></name><operator pos:line="415" pos:column="55">&amp;<pos:position pos:line="415" pos:column="60"/></operator><name pos:line="415" pos:column="56">PROT_HTTPS<pos:position pos:line="415" pos:column="66"/></name></expr>?<pos:position pos:line="415" pos:column="67"/></condition><then><expr><name pos:line="415" pos:column="67">TRUE<pos:position pos:line="415" pos:column="71"/></name></expr></then><else pos:line="415" pos:column="71">:<expr><name pos:line="415" pos:column="72">FALSE<pos:position pos:line="415" pos:column="77"/></name></expr></else></ternary></expr></argument>)<pos:position pos:line="415" pos:column="78"/></argument_list></call></expr></argument>)<pos:position pos:line="415" pos:column="79"/></argument_list></call></expr>;<pos:position pos:line="415" pos:column="80"/></expr_stmt>
        <expr_stmt><expr><call><name pos:line="416" pos:column="9">Curl_share_unlock<pos:position pos:line="416" pos:column="26"/></name><argument_list pos:line="416" pos:column="26">(<argument><expr><name pos:line="416" pos:column="27">data<pos:position pos:line="416" pos:column="31"/></name></expr></argument>, <argument><expr><name pos:line="416" pos:column="33">CURL_LOCK_DATA_COOKIE<pos:position pos:line="416" pos:column="54"/></name></expr></argument>)<pos:position pos:line="416" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="416" pos:column="56"/></expr_stmt>
      }<pos:position pos:line="417" pos:column="8"/></block></then></if>
      <if pos:line="418" pos:column="7">if<condition pos:line="418" pos:column="9">(<expr><name pos:line="418" pos:column="10">co<pos:position pos:line="418" pos:column="12"/></name></expr>)<pos:position pos:line="418" pos:column="13"/></condition><then pos:line="418" pos:column="13"> <block pos:line="418" pos:column="14">{
        <decl_stmt><decl><type><name><name pos:line="419" pos:column="9">struct<pos:position pos:line="419" pos:column="15"/></name> <name pos:line="419" pos:column="16">Cookie<pos:position pos:line="419" pos:column="22"/></name></name> <modifier pos:line="419" pos:column="23">*<pos:position pos:line="419" pos:column="24"/></modifier></type><name pos:line="419" pos:column="24">store<pos:position pos:line="419" pos:column="29"/></name><init pos:line="419" pos:column="29">=<expr><name pos:line="419" pos:column="30">co<pos:position pos:line="419" pos:column="32"/></name></expr></init></decl>;<pos:position pos:line="419" pos:column="33"/></decl_stmt>
        <comment type="block" pos:line="420" pos:column="9">/* now loop through all cookies that matched */</comment>
        <while pos:line="421" pos:column="9">while<condition pos:line="421" pos:column="14">(<expr><name pos:line="421" pos:column="15">co<pos:position pos:line="421" pos:column="17"/></name></expr>)<pos:position pos:line="421" pos:column="18"/></condition> <block pos:line="421" pos:column="19">{
          <if pos:line="422" pos:column="11">if<condition pos:line="422" pos:column="13">(<expr><name><name pos:line="422" pos:column="14">co<pos:position pos:line="422" pos:column="16"/></name><operator pos:line="422" pos:column="16">-&gt;<pos:position pos:line="422" pos:column="21"/></operator><name pos:line="422" pos:column="18">value<pos:position pos:line="422" pos:column="23"/></name></name></expr>)<pos:position pos:line="422" pos:column="24"/></condition><then pos:line="422" pos:column="24"> <block pos:line="422" pos:column="25">{
            <if pos:line="423" pos:column="13">if<condition pos:line="423" pos:column="15">(<expr><literal type="number" pos:line="423" pos:column="16">0<pos:position pos:line="423" pos:column="17"/></literal> <operator pos:line="423" pos:column="18">==<pos:position pos:line="423" pos:column="20"/></operator> <name pos:line="423" pos:column="21">count<pos:position pos:line="423" pos:column="26"/></name></expr>)<pos:position pos:line="423" pos:column="27"/></condition><then pos:line="423" pos:column="27"> <block pos:line="423" pos:column="28">{
              <expr_stmt><expr><name pos:line="424" pos:column="15">result<pos:position pos:line="424" pos:column="21"/></name> <operator pos:line="424" pos:column="22">=<pos:position pos:line="424" pos:column="23"/></operator> <call><name pos:line="424" pos:column="24">add_bufferf<pos:position pos:line="424" pos:column="35"/></name><argument_list pos:line="424" pos:column="35">(<argument><expr><name pos:line="424" pos:column="36">req_buffer<pos:position pos:line="424" pos:column="46"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="424" pos:column="48">"Cookie: "<pos:position pos:line="424" pos:column="58"/></literal></expr></argument>)<pos:position pos:line="424" pos:column="59"/></argument_list></call></expr>;<pos:position pos:line="424" pos:column="60"/></expr_stmt>
              <if pos:line="425" pos:column="15">if<condition pos:line="425" pos:column="17">(<expr><name pos:line="425" pos:column="18">result<pos:position pos:line="425" pos:column="24"/></name></expr>)<pos:position pos:line="425" pos:column="25"/></condition><then pos:line="425" pos:column="25">
                <block type="pseudo"><break pos:line="426" pos:column="17">break;<pos:position pos:line="426" pos:column="23"/></break></block></then></if>
            }<pos:position pos:line="427" pos:column="14"/></block></then></if>
            <expr_stmt><expr><name pos:line="428" pos:column="13">result<pos:position pos:line="428" pos:column="19"/></name> <operator pos:line="428" pos:column="20">=<pos:position pos:line="428" pos:column="21"/></operator> <call><name pos:line="428" pos:column="22">add_bufferf<pos:position pos:line="428" pos:column="33"/></name><argument_list pos:line="428" pos:column="33">(<argument><expr><name pos:line="428" pos:column="34">req_buffer<pos:position pos:line="428" pos:column="44"/></name></expr></argument>,
                                 <argument><expr><literal type="string" pos:line="429" pos:column="34">"%s%s=%s"<pos:position pos:line="429" pos:column="43"/></literal></expr></argument>, <argument><expr><ternary><condition><expr><name pos:line="429" pos:column="45">count<pos:position pos:line="429" pos:column="50"/></name></expr>?<pos:position pos:line="429" pos:column="51"/></condition><then><expr><literal type="string" pos:line="429" pos:column="51">"; "<pos:position pos:line="429" pos:column="55"/></literal></expr></then><else pos:line="429" pos:column="55">:<expr><literal type="string" pos:line="429" pos:column="56">""<pos:position pos:line="429" pos:column="58"/></literal></expr></else></ternary></expr></argument>,
                                 <argument><expr><name><name pos:line="430" pos:column="34">co<pos:position pos:line="430" pos:column="36"/></name><operator pos:line="430" pos:column="36">-&gt;<pos:position pos:line="430" pos:column="41"/></operator><name pos:line="430" pos:column="38">name<pos:position pos:line="430" pos:column="42"/></name></name></expr></argument>, <argument><expr><name><name pos:line="430" pos:column="44">co<pos:position pos:line="430" pos:column="46"/></name><operator pos:line="430" pos:column="46">-&gt;<pos:position pos:line="430" pos:column="51"/></operator><name pos:line="430" pos:column="48">value<pos:position pos:line="430" pos:column="53"/></name></name></expr></argument>)<pos:position pos:line="430" pos:column="54"/></argument_list></call></expr>;<pos:position pos:line="430" pos:column="55"/></expr_stmt>
            <if pos:line="431" pos:column="13">if<condition pos:line="431" pos:column="15">(<expr><name pos:line="431" pos:column="16">result<pos:position pos:line="431" pos:column="22"/></name></expr>)<pos:position pos:line="431" pos:column="23"/></condition><then pos:line="431" pos:column="23">
              <block type="pseudo"><break pos:line="432" pos:column="15">break;<pos:position pos:line="432" pos:column="21"/></break></block></then></if>
            <expr_stmt><expr><name pos:line="433" pos:column="13">count<pos:position pos:line="433" pos:column="18"/></name><operator pos:line="433" pos:column="18">++<pos:position pos:line="433" pos:column="20"/></operator></expr>;<pos:position pos:line="433" pos:column="21"/></expr_stmt>
          }<pos:position pos:line="434" pos:column="12"/></block></then></if>
          <expr_stmt><expr><name pos:line="435" pos:column="11">co<pos:position pos:line="435" pos:column="13"/></name> <operator pos:line="435" pos:column="14">=<pos:position pos:line="435" pos:column="15"/></operator> <name><name pos:line="435" pos:column="16">co<pos:position pos:line="435" pos:column="18"/></name><operator pos:line="435" pos:column="18">-&gt;<pos:position pos:line="435" pos:column="23"/></operator><name pos:line="435" pos:column="20">next<pos:position pos:line="435" pos:column="24"/></name></name></expr>;<pos:position pos:line="435" pos:column="25"/></expr_stmt> <comment type="block" pos:line="435" pos:column="26">/* next cookie please */</comment>
        }<pos:position pos:line="436" pos:column="10"/></block></while>
        <expr_stmt><expr><call><name pos:line="437" pos:column="9">Curl_cookie_freelist<pos:position pos:line="437" pos:column="29"/></name><argument_list pos:line="437" pos:column="29">(<argument><expr><name pos:line="437" pos:column="30">store<pos:position pos:line="437" pos:column="35"/></name></expr></argument>)<pos:position pos:line="437" pos:column="36"/></argument_list></call></expr>;<pos:position pos:line="437" pos:column="37"/></expr_stmt> <comment type="block" pos:line="437" pos:column="38">/* free the cookie list */</comment>
      }<pos:position pos:line="438" pos:column="8"/></block></then></if>
      <if pos:line="439" pos:column="7">if<condition pos:line="439" pos:column="9">(<expr><name pos:line="439" pos:column="10">addcookies<pos:position pos:line="439" pos:column="20"/></name> <operator pos:line="439" pos:column="21">&amp;&amp;<pos:position pos:line="439" pos:column="31"/></operator> <operator pos:line="439" pos:column="24">(<pos:position pos:line="439" pos:column="25"/></operator><name pos:line="439" pos:column="25">CURLE_OK<pos:position pos:line="439" pos:column="33"/></name> <operator pos:line="439" pos:column="34">==<pos:position pos:line="439" pos:column="36"/></operator> <name pos:line="439" pos:column="37">result<pos:position pos:line="439" pos:column="43"/></name><operator pos:line="439" pos:column="43">)<pos:position pos:line="439" pos:column="44"/></operator></expr>)<pos:position pos:line="439" pos:column="45"/></condition><then pos:line="439" pos:column="45"> <block pos:line="439" pos:column="46">{
        <if pos:line="440" pos:column="9">if<condition pos:line="440" pos:column="11">(<expr><operator pos:line="440" pos:column="12">!<pos:position pos:line="440" pos:column="13"/></operator><name pos:line="440" pos:column="13">count<pos:position pos:line="440" pos:column="18"/></name></expr>)<pos:position pos:line="440" pos:column="19"/></condition><then pos:line="440" pos:column="19">
          <block type="pseudo"><expr_stmt><expr><name pos:line="441" pos:column="11">result<pos:position pos:line="441" pos:column="17"/></name> <operator pos:line="441" pos:column="18">=<pos:position pos:line="441" pos:column="19"/></operator> <call><name pos:line="441" pos:column="20">add_bufferf<pos:position pos:line="441" pos:column="31"/></name><argument_list pos:line="441" pos:column="31">(<argument><expr><name pos:line="441" pos:column="32">req_buffer<pos:position pos:line="441" pos:column="42"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="441" pos:column="44">"Cookie: "<pos:position pos:line="441" pos:column="54"/></literal></expr></argument>)<pos:position pos:line="441" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="441" pos:column="56"/></expr_stmt></block></then></if>
        <if pos:line="442" pos:column="9">if<condition pos:line="442" pos:column="11">(<expr><name pos:line="442" pos:column="12">CURLE_OK<pos:position pos:line="442" pos:column="20"/></name> <operator pos:line="442" pos:column="21">==<pos:position pos:line="442" pos:column="23"/></operator> <name pos:line="442" pos:column="24">result<pos:position pos:line="442" pos:column="30"/></name></expr>)<pos:position pos:line="442" pos:column="31"/></condition><then pos:line="442" pos:column="31"> <block pos:line="442" pos:column="32">{
          <expr_stmt><expr><name pos:line="443" pos:column="11">result<pos:position pos:line="443" pos:column="17"/></name> <operator pos:line="443" pos:column="18">=<pos:position pos:line="443" pos:column="19"/></operator> <call><name pos:line="443" pos:column="20">add_bufferf<pos:position pos:line="443" pos:column="31"/></name><argument_list pos:line="443" pos:column="31">(<argument><expr><name pos:line="443" pos:column="32">req_buffer<pos:position pos:line="443" pos:column="42"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="443" pos:column="44">"%s%s"<pos:position pos:line="443" pos:column="50"/></literal></expr></argument>,
                               <argument><expr><ternary><condition><expr><name pos:line="444" pos:column="32">count<pos:position pos:line="444" pos:column="37"/></name></expr>?<pos:position pos:line="444" pos:column="38"/></condition><then><expr><literal type="string" pos:line="444" pos:column="38">"; "<pos:position pos:line="444" pos:column="42"/></literal></expr></then><else pos:line="444" pos:column="42">:<expr><literal type="string" pos:line="444" pos:column="43">""<pos:position pos:line="444" pos:column="45"/></literal></expr></else></ternary></expr></argument>,
                               <argument><expr><name pos:line="445" pos:column="32">addcookies<pos:position pos:line="445" pos:column="42"/></name></expr></argument>)<pos:position pos:line="445" pos:column="43"/></argument_list></call></expr>;<pos:position pos:line="445" pos:column="44"/></expr_stmt>
          <expr_stmt><expr><name pos:line="446" pos:column="11">count<pos:position pos:line="446" pos:column="16"/></name><operator pos:line="446" pos:column="16">++<pos:position pos:line="446" pos:column="18"/></operator></expr>;<pos:position pos:line="446" pos:column="19"/></expr_stmt>
        }<pos:position pos:line="447" pos:column="10"/></block></then></if>
      }<pos:position pos:line="448" pos:column="8"/></block></then></if>
      <if pos:line="449" pos:column="7">if<condition pos:line="449" pos:column="9">(<expr><name pos:line="449" pos:column="10">count<pos:position pos:line="449" pos:column="15"/></name> <operator pos:line="449" pos:column="16">&amp;&amp;<pos:position pos:line="449" pos:column="26"/></operator> <operator pos:line="449" pos:column="19">(<pos:position pos:line="449" pos:column="20"/></operator><name pos:line="449" pos:column="20">CURLE_OK<pos:position pos:line="449" pos:column="28"/></name> <operator pos:line="449" pos:column="29">==<pos:position pos:line="449" pos:column="31"/></operator> <name pos:line="449" pos:column="32">result<pos:position pos:line="449" pos:column="38"/></name><operator pos:line="449" pos:column="38">)<pos:position pos:line="449" pos:column="39"/></operator></expr>)<pos:position pos:line="449" pos:column="40"/></condition><then pos:line="449" pos:column="40">
        <block type="pseudo"><expr_stmt><expr><name pos:line="450" pos:column="9">result<pos:position pos:line="450" pos:column="15"/></name> <operator pos:line="450" pos:column="16">=<pos:position pos:line="450" pos:column="17"/></operator> <call><name pos:line="450" pos:column="18">add_buffer<pos:position pos:line="450" pos:column="28"/></name><argument_list pos:line="450" pos:column="28">(<argument><expr><name pos:line="450" pos:column="29">req_buffer<pos:position pos:line="450" pos:column="39"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="450" pos:column="41">"\r\n"<pos:position pos:line="450" pos:column="47"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="450" pos:column="49">2<pos:position pos:line="450" pos:column="50"/></literal></expr></argument>)<pos:position pos:line="450" pos:column="51"/></argument_list></call></expr>;<pos:position pos:line="450" pos:column="52"/></expr_stmt></block></then></if>

      <if pos:line="452" pos:column="7">if<condition pos:line="452" pos:column="9">(<expr><name pos:line="452" pos:column="10">result<pos:position pos:line="452" pos:column="16"/></name></expr>)<pos:position pos:line="452" pos:column="17"/></condition><then pos:line="452" pos:column="17">
        <block type="pseudo"><return pos:line="453" pos:column="9">return <expr><name pos:line="453" pos:column="16">result<pos:position pos:line="453" pos:column="22"/></name></expr>;<pos:position pos:line="453" pos:column="23"/></return></block></then></if>
    }<pos:position pos:line="454" pos:column="6"/></block></then></if>
<cpp:endif pos:line="455" pos:column="1">#<cpp:directive pos:line="455" pos:column="2">endif<pos:position pos:line="455" pos:column="7"/></cpp:directive></cpp:endif>

    <if pos:line="457" pos:column="5">if<condition pos:line="457" pos:column="7">(<expr><name><name pos:line="457" pos:column="8">data<pos:position pos:line="457" pos:column="12"/></name><operator pos:line="457" pos:column="12">-&gt;<pos:position pos:line="457" pos:column="17"/></operator><name pos:line="457" pos:column="14">set<pos:position pos:line="457" pos:column="17"/></name><operator pos:line="457" pos:column="17">.<pos:position pos:line="457" pos:column="18"/></operator><name pos:line="457" pos:column="18">timecondition<pos:position pos:line="457" pos:column="31"/></name></name></expr>)<pos:position pos:line="457" pos:column="32"/></condition><then pos:line="457" pos:column="32"> <block pos:line="457" pos:column="33">{
      <decl_stmt><decl><type><name><name pos:line="458" pos:column="7">struct<pos:position pos:line="458" pos:column="13"/></name> <name pos:line="458" pos:column="14">tm<pos:position pos:line="458" pos:column="16"/></name></name> <modifier pos:line="458" pos:column="17">*<pos:position pos:line="458" pos:column="18"/></modifier></type><name pos:line="458" pos:column="18">tm<pos:position pos:line="458" pos:column="20"/></name></decl>;<pos:position pos:line="458" pos:column="21"/></decl_stmt>

      <comment type="block" pos:line="460" pos:column="7">/* Phil Karn (Fri, 13 Apr 2001) pointed out that the If-Modified-Since
       * header family should have their times set in GMT as RFC2616 defines:
       * "All HTTP date/time stamps MUST be represented in Greenwich Mean Time
       * (GMT), without exception. For the purposes of HTTP, GMT is exactly
       * equal to UTC (Coordinated Universal Time)." (see page 20 of RFC2616).
       */</comment>

<cpp:ifdef pos:line="467" pos:column="1">#<cpp:directive pos:line="467" pos:column="2">ifdef<pos:position pos:line="467" pos:column="7"/></cpp:directive> <name pos:line="467" pos:column="8">HAVE_GMTIME_R<pos:position pos:line="467" pos:column="21"/></name></cpp:ifdef>
      <comment type="block" pos:line="468" pos:column="7">/* thread-safe version */</comment>
      <decl_stmt><decl><type><name><name pos:line="469" pos:column="7">struct<pos:position pos:line="469" pos:column="13"/></name> <name pos:line="469" pos:column="14">tm<pos:position pos:line="469" pos:column="16"/></name></name></type> <name pos:line="469" pos:column="17">keeptime<pos:position pos:line="469" pos:column="25"/></name></decl>;<pos:position pos:line="469" pos:column="26"/></decl_stmt>
      <expr_stmt><expr><name pos:line="470" pos:column="7">tm<pos:position pos:line="470" pos:column="9"/></name> <operator pos:line="470" pos:column="10">=<pos:position pos:line="470" pos:column="11"/></operator> <operator pos:line="470" pos:column="12">(<pos:position pos:line="470" pos:column="13"/></operator>struct <name pos:line="470" pos:column="20">tm<pos:position pos:line="470" pos:column="22"/></name> <operator pos:line="470" pos:column="23">*<pos:position pos:line="470" pos:column="24"/></operator><operator pos:line="470" pos:column="24">)<pos:position pos:line="470" pos:column="25"/></operator><call><name pos:line="470" pos:column="25">gmtime_r<pos:position pos:line="470" pos:column="33"/></name><argument_list pos:line="470" pos:column="33">(<argument><expr><operator pos:line="470" pos:column="34">&amp;<pos:position pos:line="470" pos:column="39"/></operator><name><name pos:line="470" pos:column="35">data<pos:position pos:line="470" pos:column="39"/></name><operator pos:line="470" pos:column="39">-&gt;<pos:position pos:line="470" pos:column="44"/></operator><name pos:line="470" pos:column="41">set<pos:position pos:line="470" pos:column="44"/></name><operator pos:line="470" pos:column="44">.<pos:position pos:line="470" pos:column="45"/></operator><name pos:line="470" pos:column="45">timevalue<pos:position pos:line="470" pos:column="54"/></name></name></expr></argument>, <argument><expr><operator pos:line="470" pos:column="56">&amp;<pos:position pos:line="470" pos:column="61"/></operator><name pos:line="470" pos:column="57">keeptime<pos:position pos:line="470" pos:column="65"/></name></expr></argument>)<pos:position pos:line="470" pos:column="66"/></argument_list></call></expr>;<pos:position pos:line="470" pos:column="67"/></expr_stmt>
<cpp:else pos:line="471" pos:column="1">#<cpp:directive pos:line="471" pos:column="2">else<pos:position pos:line="471" pos:column="6"/></cpp:directive></cpp:else>
      <expr_stmt><expr><name pos:line="472" pos:column="7">tm<pos:position pos:line="472" pos:column="9"/></name> <operator pos:line="472" pos:column="10">=<pos:position pos:line="472" pos:column="11"/></operator> <call><name pos:line="472" pos:column="12">gmtime<pos:position pos:line="472" pos:column="18"/></name><argument_list pos:line="472" pos:column="18">(<argument><expr><operator pos:line="472" pos:column="19">&amp;<pos:position pos:line="472" pos:column="24"/></operator><name><name pos:line="472" pos:column="20">data<pos:position pos:line="472" pos:column="24"/></name><operator pos:line="472" pos:column="24">-&gt;<pos:position pos:line="472" pos:column="29"/></operator><name pos:line="472" pos:column="26">set<pos:position pos:line="472" pos:column="29"/></name><operator pos:line="472" pos:column="29">.<pos:position pos:line="472" pos:column="30"/></operator><name pos:line="472" pos:column="30">timevalue<pos:position pos:line="472" pos:column="39"/></name></name></expr></argument>)<pos:position pos:line="472" pos:column="40"/></argument_list></call></expr>;<pos:position pos:line="472" pos:column="41"/></expr_stmt>
<cpp:endif pos:line="473" pos:column="1">#<cpp:directive pos:line="473" pos:column="2">endif<pos:position pos:line="473" pos:column="7"/></cpp:directive></cpp:endif>

      <comment type="block" pos:line="475" pos:column="7">/* format: "Tue, 15 Nov 1994 12:45:26 GMT" */</comment>
      <expr_stmt><expr><call><name pos:line="476" pos:column="7">snprintf<pos:position pos:line="476" pos:column="15"/></name><argument_list pos:line="476" pos:column="15">(<argument><expr><name pos:line="476" pos:column="16">buf<pos:position pos:line="476" pos:column="19"/></name></expr></argument>, <argument><expr><name pos:line="476" pos:column="21">BUFSIZE<pos:position pos:line="476" pos:column="28"/></name><operator pos:line="476" pos:column="28">-<pos:position pos:line="476" pos:column="29"/></operator><literal type="number" pos:line="476" pos:column="29">1<pos:position pos:line="476" pos:column="30"/></literal></expr></argument>,
               <argument><expr><literal type="string" pos:line="477" pos:column="16">"%s, %02d %s %4d %02d:%02d:%02d GMT"<pos:position pos:line="477" pos:column="52"/></literal></expr></argument>,
               <argument><expr><name><name pos:line="478" pos:column="16">Curl_wkday<pos:position pos:line="478" pos:column="26"/></name><index pos:line="478" pos:column="26">[<expr><ternary><condition><expr><name><name pos:line="478" pos:column="27">tm<pos:position pos:line="478" pos:column="29"/></name><operator pos:line="478" pos:column="29">-&gt;<pos:position pos:line="478" pos:column="34"/></operator><name pos:line="478" pos:column="31">tm_wday<pos:position pos:line="478" pos:column="38"/></name></name></expr>?<pos:position pos:line="478" pos:column="39"/></condition><then><expr><name><name pos:line="478" pos:column="39">tm<pos:position pos:line="478" pos:column="41"/></name><operator pos:line="478" pos:column="41">-&gt;<pos:position pos:line="478" pos:column="46"/></operator><name pos:line="478" pos:column="43">tm_wday<pos:position pos:line="478" pos:column="50"/></name></name><operator pos:line="478" pos:column="50">-<pos:position pos:line="478" pos:column="51"/></operator><literal type="number" pos:line="478" pos:column="51">1<pos:position pos:line="478" pos:column="52"/></literal></expr></then><else pos:line="478" pos:column="52">:<expr><literal type="number" pos:line="478" pos:column="53">6<pos:position pos:line="478" pos:column="54"/></literal></expr></else></ternary></expr>]<pos:position pos:line="478" pos:column="55"/></index></name></expr></argument>,
               <argument><expr><name><name pos:line="479" pos:column="16">tm<pos:position pos:line="479" pos:column="18"/></name><operator pos:line="479" pos:column="18">-&gt;<pos:position pos:line="479" pos:column="23"/></operator><name pos:line="479" pos:column="20">tm_mday<pos:position pos:line="479" pos:column="27"/></name></name></expr></argument>,
               <argument><expr><name><name pos:line="480" pos:column="16">Curl_month<pos:position pos:line="480" pos:column="26"/></name><index pos:line="480" pos:column="26">[<expr><name><name pos:line="480" pos:column="27">tm<pos:position pos:line="480" pos:column="29"/></name><operator pos:line="480" pos:column="29">-&gt;<pos:position pos:line="480" pos:column="34"/></operator><name pos:line="480" pos:column="31">tm_mon<pos:position pos:line="480" pos:column="37"/></name></name></expr>]<pos:position pos:line="480" pos:column="38"/></index></name></expr></argument>,
               <argument><expr><name><name pos:line="481" pos:column="16">tm<pos:position pos:line="481" pos:column="18"/></name><operator pos:line="481" pos:column="18">-&gt;<pos:position pos:line="481" pos:column="23"/></operator><name pos:line="481" pos:column="20">tm_year<pos:position pos:line="481" pos:column="27"/></name></name> <operator pos:line="481" pos:column="28">+<pos:position pos:line="481" pos:column="29"/></operator> <literal type="number" pos:line="481" pos:column="30">1900<pos:position pos:line="481" pos:column="34"/></literal></expr></argument>,
               <argument><expr><name><name pos:line="482" pos:column="16">tm<pos:position pos:line="482" pos:column="18"/></name><operator pos:line="482" pos:column="18">-&gt;<pos:position pos:line="482" pos:column="23"/></operator><name pos:line="482" pos:column="20">tm_hour<pos:position pos:line="482" pos:column="27"/></name></name></expr></argument>,
               <argument><expr><name><name pos:line="483" pos:column="16">tm<pos:position pos:line="483" pos:column="18"/></name><operator pos:line="483" pos:column="18">-&gt;<pos:position pos:line="483" pos:column="23"/></operator><name pos:line="483" pos:column="20">tm_min<pos:position pos:line="483" pos:column="26"/></name></name></expr></argument>,
               <argument><expr><name><name pos:line="484" pos:column="16">tm<pos:position pos:line="484" pos:column="18"/></name><operator pos:line="484" pos:column="18">-&gt;<pos:position pos:line="484" pos:column="23"/></operator><name pos:line="484" pos:column="20">tm_sec<pos:position pos:line="484" pos:column="26"/></name></name></expr></argument>)<pos:position pos:line="484" pos:column="27"/></argument_list></call></expr>;<pos:position pos:line="484" pos:column="28"/></expr_stmt>

      <switch pos:line="486" pos:column="7">switch<condition pos:line="486" pos:column="13">(<expr><name><name pos:line="486" pos:column="14">data<pos:position pos:line="486" pos:column="18"/></name><operator pos:line="486" pos:column="18">-&gt;<pos:position pos:line="486" pos:column="23"/></operator><name pos:line="486" pos:column="20">set<pos:position pos:line="486" pos:column="23"/></name><operator pos:line="486" pos:column="23">.<pos:position pos:line="486" pos:column="24"/></operator><name pos:line="486" pos:column="24">timecondition<pos:position pos:line="486" pos:column="37"/></name></name></expr>)<pos:position pos:line="486" pos:column="38"/></condition> <block pos:line="486" pos:column="39">{
      <case pos:line="487" pos:column="7">case <expr><name pos:line="487" pos:column="12">CURL_TIMECOND_IFMODSINCE<pos:position pos:line="487" pos:column="36"/></name></expr>:<pos:position pos:line="487" pos:column="37"/></case>
      <default pos:line="488" pos:column="7">default:<pos:position pos:line="488" pos:column="15"/></default>
        <expr_stmt><expr><name pos:line="489" pos:column="9">result<pos:position pos:line="489" pos:column="15"/></name> <operator pos:line="489" pos:column="16">=<pos:position pos:line="489" pos:column="17"/></operator> <call><name pos:line="489" pos:column="18">add_bufferf<pos:position pos:line="489" pos:column="29"/></name><argument_list pos:line="489" pos:column="29">(<argument><expr><name pos:line="489" pos:column="30">req_buffer<pos:position pos:line="489" pos:column="40"/></name></expr></argument>,
                             <argument><expr><literal type="string" pos:line="490" pos:column="30">"If-Modified-Since: %s\r\n"<pos:position pos:line="490" pos:column="57"/></literal></expr></argument>, <argument><expr><name pos:line="490" pos:column="59">buf<pos:position pos:line="490" pos:column="62"/></name></expr></argument>)<pos:position pos:line="490" pos:column="63"/></argument_list></call></expr>;<pos:position pos:line="490" pos:column="64"/></expr_stmt>
        <break pos:line="491" pos:column="9">break;<pos:position pos:line="491" pos:column="15"/></break>
      <case pos:line="492" pos:column="7">case <expr><name pos:line="492" pos:column="12">CURL_TIMECOND_IFUNMODSINCE<pos:position pos:line="492" pos:column="38"/></name></expr>:<pos:position pos:line="492" pos:column="39"/></case>
        <expr_stmt><expr><name pos:line="493" pos:column="9">result<pos:position pos:line="493" pos:column="15"/></name> <operator pos:line="493" pos:column="16">=<pos:position pos:line="493" pos:column="17"/></operator> <call><name pos:line="493" pos:column="18">add_bufferf<pos:position pos:line="493" pos:column="29"/></name><argument_list pos:line="493" pos:column="29">(<argument><expr><name pos:line="493" pos:column="30">req_buffer<pos:position pos:line="493" pos:column="40"/></name></expr></argument>,
                             <argument><expr><literal type="string" pos:line="494" pos:column="30">"If-Unmodified-Since: %s\r\n"<pos:position pos:line="494" pos:column="59"/></literal></expr></argument>, <argument><expr><name pos:line="494" pos:column="61">buf<pos:position pos:line="494" pos:column="64"/></name></expr></argument>)<pos:position pos:line="494" pos:column="65"/></argument_list></call></expr>;<pos:position pos:line="494" pos:column="66"/></expr_stmt>
        <break pos:line="495" pos:column="9">break;<pos:position pos:line="495" pos:column="15"/></break>
      <case pos:line="496" pos:column="7">case <expr><name pos:line="496" pos:column="12">CURL_TIMECOND_LASTMOD<pos:position pos:line="496" pos:column="33"/></name></expr>:<pos:position pos:line="496" pos:column="34"/></case>
        <expr_stmt><expr><name pos:line="497" pos:column="9">result<pos:position pos:line="497" pos:column="15"/></name> <operator pos:line="497" pos:column="16">=<pos:position pos:line="497" pos:column="17"/></operator> <call><name pos:line="497" pos:column="18">add_bufferf<pos:position pos:line="497" pos:column="29"/></name><argument_list pos:line="497" pos:column="29">(<argument><expr><name pos:line="497" pos:column="30">req_buffer<pos:position pos:line="497" pos:column="40"/></name></expr></argument>,
                             <argument><expr><literal type="string" pos:line="498" pos:column="30">"Last-Modified: %s\r\n"<pos:position pos:line="498" pos:column="53"/></literal></expr></argument>, <argument><expr><name pos:line="498" pos:column="55">buf<pos:position pos:line="498" pos:column="58"/></name></expr></argument>)<pos:position pos:line="498" pos:column="59"/></argument_list></call></expr>;<pos:position pos:line="498" pos:column="60"/></expr_stmt>
        <break pos:line="499" pos:column="9">break;<pos:position pos:line="499" pos:column="15"/></break>
      }<pos:position pos:line="500" pos:column="8"/></block></switch>
      <if pos:line="501" pos:column="7">if<condition pos:line="501" pos:column="9">(<expr><name pos:line="501" pos:column="10">result<pos:position pos:line="501" pos:column="16"/></name></expr>)<pos:position pos:line="501" pos:column="17"/></condition><then pos:line="501" pos:column="17">
        <block type="pseudo"><return pos:line="502" pos:column="9">return <expr><name pos:line="502" pos:column="16">result<pos:position pos:line="502" pos:column="22"/></name></expr>;<pos:position pos:line="502" pos:column="23"/></return></block></then></if>
    }<pos:position pos:line="503" pos:column="6"/></block></then></if>

    <expr_stmt><expr><name pos:line="505" pos:column="5">result<pos:position pos:line="505" pos:column="11"/></name> <operator pos:line="505" pos:column="12">=<pos:position pos:line="505" pos:column="13"/></operator> <call><name pos:line="505" pos:column="14">add_custom_headers<pos:position pos:line="505" pos:column="32"/></name><argument_list pos:line="505" pos:column="32">(<argument><expr><name pos:line="505" pos:column="33">conn<pos:position pos:line="505" pos:column="37"/></name></expr></argument>, <argument><expr><name pos:line="505" pos:column="39">req_buffer<pos:position pos:line="505" pos:column="49"/></name></expr></argument>)<pos:position pos:line="505" pos:column="50"/></argument_list></call></expr>;<pos:position pos:line="505" pos:column="51"/></expr_stmt>
    <if pos:line="506" pos:column="5">if<condition pos:line="506" pos:column="7">(<expr><name pos:line="506" pos:column="8">result<pos:position pos:line="506" pos:column="14"/></name></expr>)<pos:position pos:line="506" pos:column="15"/></condition><then pos:line="506" pos:column="15">
      <block type="pseudo"><return pos:line="507" pos:column="7">return <expr><name pos:line="507" pos:column="14">result<pos:position pos:line="507" pos:column="20"/></name></expr>;<pos:position pos:line="507" pos:column="21"/></return></block></then></if>

    <expr_stmt><expr><name><name pos:line="509" pos:column="5">http<pos:position pos:line="509" pos:column="9"/></name><operator pos:line="509" pos:column="9">-&gt;<pos:position pos:line="509" pos:column="14"/></operator><name pos:line="509" pos:column="11">postdata<pos:position pos:line="509" pos:column="19"/></name></name> <operator pos:line="509" pos:column="20">=<pos:position pos:line="509" pos:column="21"/></operator> <name pos:line="509" pos:column="22">NULL<pos:position pos:line="509" pos:column="26"/></name></expr>;<pos:position pos:line="509" pos:column="27"/></expr_stmt>  <comment type="block" pos:line="509" pos:column="29">/* nothing to post at this point */</comment>
    <expr_stmt><expr><call><name pos:line="510" pos:column="5">Curl_pgrsSetUploadSize<pos:position pos:line="510" pos:column="27"/></name><argument_list pos:line="510" pos:column="27">(<argument><expr><name pos:line="510" pos:column="28">data<pos:position pos:line="510" pos:column="32"/></name></expr></argument>, <argument><expr><literal type="number" pos:line="510" pos:column="34">0<pos:position pos:line="510" pos:column="35"/></literal></expr></argument>)<pos:position pos:line="510" pos:column="36"/></argument_list></call></expr>;<pos:position pos:line="510" pos:column="37"/></expr_stmt> <comment type="block" pos:line="510" pos:column="38">/* upload size is 0 atm */</comment>

    <comment type="block" pos:line="512" pos:column="5">/* If 'authdone' is FALSE, we must not set the write socket index to the
       Curl_transfer() call below, as we're not ready to actually upload any
       data yet. */</comment>

    <switch pos:line="516" pos:column="5">switch<condition pos:line="516" pos:column="11">(<expr><name pos:line="516" pos:column="12">httpreq<pos:position pos:line="516" pos:column="19"/></name></expr>)<pos:position pos:line="516" pos:column="20"/></condition> <block pos:line="516" pos:column="21">{

    <case pos:line="518" pos:column="5">case <expr><name pos:line="518" pos:column="10">HTTPREQ_POST_FORM<pos:position pos:line="518" pos:column="27"/></name></expr>:<pos:position pos:line="518" pos:column="28"/></case>
      <if pos:line="519" pos:column="7">if<condition pos:line="519" pos:column="9">(<expr><operator pos:line="519" pos:column="10">!<pos:position pos:line="519" pos:column="11"/></operator><name><name pos:line="519" pos:column="11">http<pos:position pos:line="519" pos:column="15"/></name><operator pos:line="519" pos:column="15">-&gt;<pos:position pos:line="519" pos:column="20"/></operator><name pos:line="519" pos:column="17">sendit<pos:position pos:line="519" pos:column="23"/></name></name> <operator pos:line="519" pos:column="24">||<pos:position pos:line="519" pos:column="26"/></operator> <name><name pos:line="519" pos:column="27">conn<pos:position pos:line="519" pos:column="31"/></name><operator pos:line="519" pos:column="31">-&gt;<pos:position pos:line="519" pos:column="36"/></operator><name pos:line="519" pos:column="33">bits<pos:position pos:line="519" pos:column="37"/></name><operator pos:line="519" pos:column="37">.<pos:position pos:line="519" pos:column="38"/></operator><name pos:line="519" pos:column="38">authneg<pos:position pos:line="519" pos:column="45"/></name></name></expr>)<pos:position pos:line="519" pos:column="46"/></condition><then pos:line="519" pos:column="46"> <block pos:line="519" pos:column="47">{
        <comment type="block" pos:line="520" pos:column="9">/* nothing to post! */</comment>
        <expr_stmt><expr><name pos:line="521" pos:column="9">result<pos:position pos:line="521" pos:column="15"/></name> <operator pos:line="521" pos:column="16">=<pos:position pos:line="521" pos:column="17"/></operator> <call><name pos:line="521" pos:column="18">add_bufferf<pos:position pos:line="521" pos:column="29"/></name><argument_list pos:line="521" pos:column="29">(<argument><expr><name pos:line="521" pos:column="30">req_buffer<pos:position pos:line="521" pos:column="40"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="521" pos:column="42">"Content-Length: 0\r\n\r\n"<pos:position pos:line="521" pos:column="69"/></literal></expr></argument>)<pos:position pos:line="521" pos:column="70"/></argument_list></call></expr>;<pos:position pos:line="521" pos:column="71"/></expr_stmt>
        <if pos:line="522" pos:column="9">if<condition pos:line="522" pos:column="11">(<expr><name pos:line="522" pos:column="12">result<pos:position pos:line="522" pos:column="18"/></name></expr>)<pos:position pos:line="522" pos:column="19"/></condition><then pos:line="522" pos:column="19">
          <block type="pseudo"><return pos:line="523" pos:column="11">return <expr><name pos:line="523" pos:column="18">result<pos:position pos:line="523" pos:column="24"/></name></expr>;<pos:position pos:line="523" pos:column="25"/></return></block></then></if>

        <expr_stmt><expr><name pos:line="525" pos:column="9">result<pos:position pos:line="525" pos:column="15"/></name> <operator pos:line="525" pos:column="16">=<pos:position pos:line="525" pos:column="17"/></operator> <call><name pos:line="525" pos:column="18">add_buffer_send<pos:position pos:line="525" pos:column="33"/></name><argument_list pos:line="525" pos:column="33">(<argument><expr><name pos:line="525" pos:column="34">req_buffer<pos:position pos:line="525" pos:column="44"/></name></expr></argument>, <argument><expr><name pos:line="525" pos:column="46">conn<pos:position pos:line="525" pos:column="50"/></name></expr></argument>,
                                 <argument><expr><operator pos:line="526" pos:column="34">&amp;<pos:position pos:line="526" pos:column="39"/></operator><name><name pos:line="526" pos:column="35">data<pos:position pos:line="526" pos:column="39"/></name><operator pos:line="526" pos:column="39">-&gt;<pos:position pos:line="526" pos:column="44"/></operator><name pos:line="526" pos:column="41">info<pos:position pos:line="526" pos:column="45"/></name><operator pos:line="526" pos:column="45">.<pos:position pos:line="526" pos:column="46"/></operator><name pos:line="526" pos:column="46">request_size<pos:position pos:line="526" pos:column="58"/></name></name></expr></argument>)<pos:position pos:line="526" pos:column="59"/></argument_list></call></expr>;<pos:position pos:line="526" pos:column="60"/></expr_stmt>
        <if pos:line="527" pos:column="9">if<condition pos:line="527" pos:column="11">(<expr><name pos:line="527" pos:column="12">result<pos:position pos:line="527" pos:column="18"/></name></expr>)<pos:position pos:line="527" pos:column="19"/></condition><then pos:line="527" pos:column="19">
          <block type="pseudo"><expr_stmt><expr><call><name pos:line="528" pos:column="11">failf<pos:position pos:line="528" pos:column="16"/></name><argument_list pos:line="528" pos:column="16">(<argument><expr><name pos:line="528" pos:column="17">data<pos:position pos:line="528" pos:column="21"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="528" pos:column="23">"Failed sending POST request"<pos:position pos:line="528" pos:column="52"/></literal></expr></argument>)<pos:position pos:line="528" pos:column="53"/></argument_list></call></expr>;<pos:position pos:line="528" pos:column="54"/></expr_stmt></block></then>
        <else pos:line="529" pos:column="9">else
          <comment type="block" pos:line="530" pos:column="11">/* setup variables for the upcoming transfer */</comment>
          <block type="pseudo"><expr_stmt><expr><name pos:line="531" pos:column="11">result<pos:position pos:line="531" pos:column="17"/></name> <operator pos:line="531" pos:column="18">=<pos:position pos:line="531" pos:column="19"/></operator> <call><name pos:line="531" pos:column="20">Curl_Transfer<pos:position pos:line="531" pos:column="33"/></name><argument_list pos:line="531" pos:column="33">(<argument><expr><name pos:line="531" pos:column="34">conn<pos:position pos:line="531" pos:column="38"/></name></expr></argument>, <argument><expr><name pos:line="531" pos:column="40">FIRSTSOCKET<pos:position pos:line="531" pos:column="51"/></name></expr></argument>, <argument><expr><operator pos:line="531" pos:column="53">-<pos:position pos:line="531" pos:column="54"/></operator><literal type="number" pos:line="531" pos:column="54">1<pos:position pos:line="531" pos:column="55"/></literal></expr></argument>, <argument><expr><name pos:line="531" pos:column="57">TRUE<pos:position pos:line="531" pos:column="61"/></name></expr></argument>,
                                 <argument><expr><operator pos:line="532" pos:column="34">&amp;<pos:position pos:line="532" pos:column="39"/></operator><name><name pos:line="532" pos:column="35">http<pos:position pos:line="532" pos:column="39"/></name><operator pos:line="532" pos:column="39">-&gt;<pos:position pos:line="532" pos:column="44"/></operator><name pos:line="532" pos:column="41">readbytecount<pos:position pos:line="532" pos:column="54"/></name></name></expr></argument>,
                                 <argument><expr><operator pos:line="533" pos:column="34">-<pos:position pos:line="533" pos:column="35"/></operator><literal type="number" pos:line="533" pos:column="35">1<pos:position pos:line="533" pos:column="36"/></literal></expr></argument>, <argument><expr><name pos:line="533" pos:column="38">NULL<pos:position pos:line="533" pos:column="42"/></name></expr></argument>)<pos:position pos:line="533" pos:column="43"/></argument_list></call></expr>;<pos:position pos:line="533" pos:column="44"/></expr_stmt></block></else></if>
        <break pos:line="534" pos:column="9">break;<pos:position pos:line="534" pos:column="15"/></break>
      }<pos:position pos:line="535" pos:column="8"/></block></then></if>

      <if pos:line="537" pos:column="7">if<condition pos:line="537" pos:column="9">(<expr><call><name pos:line="537" pos:column="10">Curl_FormInit<pos:position pos:line="537" pos:column="23"/></name><argument_list pos:line="537" pos:column="23">(<argument><expr><operator pos:line="537" pos:column="24">&amp;<pos:position pos:line="537" pos:column="29"/></operator><name><name pos:line="537" pos:column="25">http<pos:position pos:line="537" pos:column="29"/></name><operator pos:line="537" pos:column="29">-&gt;<pos:position pos:line="537" pos:column="34"/></operator><name pos:line="537" pos:column="31">form<pos:position pos:line="537" pos:column="35"/></name></name></expr></argument>, <argument><expr><name><name pos:line="537" pos:column="37">http<pos:position pos:line="537" pos:column="41"/></name><operator pos:line="537" pos:column="41">-&gt;<pos:position pos:line="537" pos:column="46"/></operator><name pos:line="537" pos:column="43">sendit<pos:position pos:line="537" pos:column="49"/></name></name></expr></argument>)<pos:position pos:line="537" pos:column="50"/></argument_list></call></expr>)<pos:position pos:line="537" pos:column="51"/></condition><then pos:line="537" pos:column="51"> <block pos:line="537" pos:column="52">{
        <expr_stmt><expr><call><name pos:line="538" pos:column="9">failf<pos:position pos:line="538" pos:column="14"/></name><argument_list pos:line="538" pos:column="14">(<argument><expr><name pos:line="538" pos:column="15">data<pos:position pos:line="538" pos:column="19"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="538" pos:column="21">"Internal HTTP POST error!"<pos:position pos:line="538" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="538" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="538" pos:column="50"/></expr_stmt>
        <return pos:line="539" pos:column="9">return <expr><name pos:line="539" pos:column="16">CURLE_HTTP_POST_ERROR<pos:position pos:line="539" pos:column="37"/></name></expr>;<pos:position pos:line="539" pos:column="38"/></return>
      }<pos:position pos:line="540" pos:column="8"/></block></then></if>

      <comment type="block" pos:line="542" pos:column="7">/* set the read function to read from the generated form data */</comment>
      <expr_stmt><expr><name><name pos:line="543" pos:column="7">conn<pos:position pos:line="543" pos:column="11"/></name><operator pos:line="543" pos:column="11">-&gt;<pos:position pos:line="543" pos:column="16"/></operator><name pos:line="543" pos:column="13">fread<pos:position pos:line="543" pos:column="18"/></name></name> <operator pos:line="543" pos:column="19">=<pos:position pos:line="543" pos:column="20"/></operator> <operator pos:line="543" pos:column="21">(<pos:position pos:line="543" pos:column="22"/></operator><name pos:line="543" pos:column="22">curl_read_callback<pos:position pos:line="543" pos:column="40"/></name><operator pos:line="543" pos:column="40">)<pos:position pos:line="543" pos:column="41"/></operator><name pos:line="543" pos:column="41">Curl_FormReader<pos:position pos:line="543" pos:column="56"/></name></expr>;<pos:position pos:line="543" pos:column="57"/></expr_stmt>
      <expr_stmt><expr><name><name pos:line="544" pos:column="7">conn<pos:position pos:line="544" pos:column="11"/></name><operator pos:line="544" pos:column="11">-&gt;<pos:position pos:line="544" pos:column="16"/></operator><name pos:line="544" pos:column="13">fread_in<pos:position pos:line="544" pos:column="21"/></name></name> <operator pos:line="544" pos:column="22">=<pos:position pos:line="544" pos:column="23"/></operator> <operator pos:line="544" pos:column="24">&amp;<pos:position pos:line="544" pos:column="29"/></operator><name><name pos:line="544" pos:column="25">http<pos:position pos:line="544" pos:column="29"/></name><operator pos:line="544" pos:column="29">-&gt;<pos:position pos:line="544" pos:column="34"/></operator><name pos:line="544" pos:column="31">form<pos:position pos:line="544" pos:column="35"/></name></name></expr>;<pos:position pos:line="544" pos:column="36"/></expr_stmt>

      <expr_stmt><expr><name><name pos:line="546" pos:column="7">http<pos:position pos:line="546" pos:column="11"/></name><operator pos:line="546" pos:column="11">-&gt;<pos:position pos:line="546" pos:column="16"/></operator><name pos:line="546" pos:column="13">sending<pos:position pos:line="546" pos:column="20"/></name></name> <operator pos:line="546" pos:column="21">=<pos:position pos:line="546" pos:column="22"/></operator> <name pos:line="546" pos:column="23">HTTPSEND_BODY<pos:position pos:line="546" pos:column="36"/></name></expr>;<pos:position pos:line="546" pos:column="37"/></expr_stmt>

      <if pos:line="548" pos:column="7">if<condition pos:line="548" pos:column="9">(<expr><operator pos:line="548" pos:column="10">!<pos:position pos:line="548" pos:column="11"/></operator><name><name pos:line="548" pos:column="11">conn<pos:position pos:line="548" pos:column="15"/></name><operator pos:line="548" pos:column="15">-&gt;<pos:position pos:line="548" pos:column="20"/></operator><name pos:line="548" pos:column="17">bits<pos:position pos:line="548" pos:column="21"/></name><operator pos:line="548" pos:column="21">.<pos:position pos:line="548" pos:column="22"/></operator><name pos:line="548" pos:column="22">upload_chunky<pos:position pos:line="548" pos:column="35"/></name></name></expr>)<pos:position pos:line="548" pos:column="36"/></condition><then pos:line="548" pos:column="36"> <block pos:line="548" pos:column="37">{
        <comment type="block" pos:line="549" pos:column="9">/* only add Content-Length if not uploading chunked */</comment>
        <expr_stmt><expr><name pos:line="550" pos:column="9">result<pos:position pos:line="550" pos:column="15"/></name> <operator pos:line="550" pos:column="16">=<pos:position pos:line="550" pos:column="17"/></operator> <call><name pos:line="550" pos:column="18">add_bufferf<pos:position pos:line="550" pos:column="29"/></name><argument_list pos:line="550" pos:column="29">(<argument><expr><name pos:line="550" pos:column="30">req_buffer<pos:position pos:line="550" pos:column="40"/></name></expr></argument>,
                             <argument><expr><literal type="string" pos:line="551" pos:column="30">"Content-Length: %"<pos:position pos:line="551" pos:column="49"/></literal> <name pos:line="551" pos:column="50">FORMAT_OFF_T<pos:position pos:line="551" pos:column="62"/></name> <literal type="string" pos:line="551" pos:column="63">"\r\n"<pos:position pos:line="551" pos:column="69"/></literal></expr></argument>,
                             <argument><expr><name><name pos:line="552" pos:column="30">http<pos:position pos:line="552" pos:column="34"/></name><operator pos:line="552" pos:column="34">-&gt;<pos:position pos:line="552" pos:column="39"/></operator><name pos:line="552" pos:column="36">postsize<pos:position pos:line="552" pos:column="44"/></name></name></expr></argument>)<pos:position pos:line="552" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="552" pos:column="46"/></expr_stmt>
        <if pos:line="553" pos:column="9">if<condition pos:line="553" pos:column="11">(<expr><name pos:line="553" pos:column="12">result<pos:position pos:line="553" pos:column="18"/></name></expr>)<pos:position pos:line="553" pos:column="19"/></condition><then pos:line="553" pos:column="19">
          <block type="pseudo"><return pos:line="554" pos:column="11">return <expr><name pos:line="554" pos:column="18">result<pos:position pos:line="554" pos:column="24"/></name></expr>;<pos:position pos:line="554" pos:column="25"/></return></block></then></if>
      }<pos:position pos:line="555" pos:column="8"/></block></then></if>

      <expr_stmt><expr><name pos:line="557" pos:column="7">result<pos:position pos:line="557" pos:column="13"/></name> <operator pos:line="557" pos:column="14">=<pos:position pos:line="557" pos:column="15"/></operator> <call><name pos:line="557" pos:column="16">expect100<pos:position pos:line="557" pos:column="25"/></name><argument_list pos:line="557" pos:column="25">(<argument><expr><name pos:line="557" pos:column="26">data<pos:position pos:line="557" pos:column="30"/></name></expr></argument>, <argument><expr><name pos:line="557" pos:column="32">req_buffer<pos:position pos:line="557" pos:column="42"/></name></expr></argument>)<pos:position pos:line="557" pos:column="43"/></argument_list></call></expr>;<pos:position pos:line="557" pos:column="44"/></expr_stmt>
      <if pos:line="558" pos:column="7">if<condition pos:line="558" pos:column="9">(<expr><name pos:line="558" pos:column="10">result<pos:position pos:line="558" pos:column="16"/></name></expr>)<pos:position pos:line="558" pos:column="17"/></condition><then pos:line="558" pos:column="17">
        <block type="pseudo"><return pos:line="559" pos:column="9">return <expr><name pos:line="559" pos:column="16">result<pos:position pos:line="559" pos:column="22"/></name></expr>;<pos:position pos:line="559" pos:column="23"/></return></block></then></if>

      <if pos:line="561" pos:column="7">if<condition pos:line="561" pos:column="9">(<expr><operator pos:line="561" pos:column="10">!<pos:position pos:line="561" pos:column="11"/></operator><call><name pos:line="561" pos:column="11">checkheaders<pos:position pos:line="561" pos:column="23"/></name><argument_list pos:line="561" pos:column="23">(<argument><expr><name pos:line="561" pos:column="24">data<pos:position pos:line="561" pos:column="28"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="561" pos:column="30">"Content-Type:"<pos:position pos:line="561" pos:column="45"/></literal></expr></argument>)<pos:position pos:line="561" pos:column="46"/></argument_list></call></expr>)<pos:position pos:line="561" pos:column="47"/></condition><then pos:line="561" pos:column="47"> <block pos:line="561" pos:column="48">{
        <comment type="block" pos:line="562" pos:column="9">/* Get Content-Type: line from Curl_formpostheader.

           The Content-Type header line also contains the MIME boundary
           string etc why disabling this header is likely to not make things
           work, but we support disabling it anyway.
        */</comment>
        <decl_stmt><decl><type><name pos:line="568" pos:column="9">char<pos:position pos:line="568" pos:column="13"/></name> <modifier pos:line="568" pos:column="14">*<pos:position pos:line="568" pos:column="15"/></modifier></type><name pos:line="568" pos:column="15">contentType<pos:position pos:line="568" pos:column="26"/></name></decl>;<pos:position pos:line="568" pos:column="27"/></decl_stmt>
        <decl_stmt><decl><type><name pos:line="569" pos:column="9">size_t<pos:position pos:line="569" pos:column="15"/></name></type> <name pos:line="569" pos:column="16">linelength<pos:position pos:line="569" pos:column="26"/></name><init pos:line="569" pos:column="26">=<expr><literal type="number" pos:line="569" pos:column="27">0<pos:position pos:line="569" pos:column="28"/></literal></expr></init></decl>;<pos:position pos:line="569" pos:column="29"/></decl_stmt>
        <expr_stmt><expr><name pos:line="570" pos:column="9">contentType<pos:position pos:line="570" pos:column="20"/></name> <operator pos:line="570" pos:column="21">=<pos:position pos:line="570" pos:column="22"/></operator> <call><name pos:line="570" pos:column="23">Curl_formpostheader<pos:position pos:line="570" pos:column="42"/></name><argument_list pos:line="570" pos:column="42">(<argument><expr><operator pos:line="570" pos:column="43">(<pos:position pos:line="570" pos:column="44"/></operator><name pos:line="570" pos:column="44">void<pos:position pos:line="570" pos:column="48"/></name> <operator pos:line="570" pos:column="49">*<pos:position pos:line="570" pos:column="50"/></operator><operator pos:line="570" pos:column="50">)<pos:position pos:line="570" pos:column="51"/></operator><operator pos:line="570" pos:column="51">&amp;<pos:position pos:line="570" pos:column="56"/></operator><name><name pos:line="570" pos:column="52">http<pos:position pos:line="570" pos:column="56"/></name><operator pos:line="570" pos:column="56">-&gt;<pos:position pos:line="570" pos:column="61"/></operator><name pos:line="570" pos:column="58">form<pos:position pos:line="570" pos:column="62"/></name></name></expr></argument>,
                                          <argument><expr><operator pos:line="571" pos:column="43">&amp;<pos:position pos:line="571" pos:column="48"/></operator><name pos:line="571" pos:column="44">linelength<pos:position pos:line="571" pos:column="54"/></name></expr></argument>)<pos:position pos:line="571" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="571" pos:column="56"/></expr_stmt>
        <if pos:line="572" pos:column="9">if<condition pos:line="572" pos:column="11">(<expr><operator pos:line="572" pos:column="12">!<pos:position pos:line="572" pos:column="13"/></operator><name pos:line="572" pos:column="13">contentType<pos:position pos:line="572" pos:column="24"/></name></expr>)<pos:position pos:line="572" pos:column="25"/></condition><then pos:line="572" pos:column="25"> <block pos:line="572" pos:column="26">{
          <expr_stmt><expr><call><name pos:line="573" pos:column="11">failf<pos:position pos:line="573" pos:column="16"/></name><argument_list pos:line="573" pos:column="16">(<argument><expr><name pos:line="573" pos:column="17">data<pos:position pos:line="573" pos:column="21"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="573" pos:column="23">"Could not get Content-Type header line!"<pos:position pos:line="573" pos:column="64"/></literal></expr></argument>)<pos:position pos:line="573" pos:column="65"/></argument_list></call></expr>;<pos:position pos:line="573" pos:column="66"/></expr_stmt>
          <return pos:line="574" pos:column="11">return <expr><name pos:line="574" pos:column="18">CURLE_HTTP_POST_ERROR<pos:position pos:line="574" pos:column="39"/></name></expr>;<pos:position pos:line="574" pos:column="40"/></return>
        }<pos:position pos:line="575" pos:column="10"/></block></then></if>
        <expr_stmt><expr><name pos:line="576" pos:column="9">result<pos:position pos:line="576" pos:column="15"/></name> <operator pos:line="576" pos:column="16">=<pos:position pos:line="576" pos:column="17"/></operator> <call><name pos:line="576" pos:column="18">add_buffer<pos:position pos:line="576" pos:column="28"/></name><argument_list pos:line="576" pos:column="28">(<argument><expr><name pos:line="576" pos:column="29">req_buffer<pos:position pos:line="576" pos:column="39"/></name></expr></argument>, <argument><expr><name pos:line="576" pos:column="41">contentType<pos:position pos:line="576" pos:column="52"/></name></expr></argument>, <argument><expr><name pos:line="576" pos:column="54">linelength<pos:position pos:line="576" pos:column="64"/></name></expr></argument>)<pos:position pos:line="576" pos:column="65"/></argument_list></call></expr>;<pos:position pos:line="576" pos:column="66"/></expr_stmt>
        <if pos:line="577" pos:column="9">if<condition pos:line="577" pos:column="11">(<expr><name pos:line="577" pos:column="12">result<pos:position pos:line="577" pos:column="18"/></name></expr>)<pos:position pos:line="577" pos:column="19"/></condition><then pos:line="577" pos:column="19">
          <block type="pseudo"><return pos:line="578" pos:column="11">return <expr><name pos:line="578" pos:column="18">result<pos:position pos:line="578" pos:column="24"/></name></expr>;<pos:position pos:line="578" pos:column="25"/></return></block></then></if>
      }<pos:position pos:line="579" pos:column="8"/></block></then></if>

      <comment type="block" pos:line="581" pos:column="7">/* make the request end in a true CRLF */</comment>
      <expr_stmt><expr><name pos:line="582" pos:column="7">result<pos:position pos:line="582" pos:column="13"/></name> <operator pos:line="582" pos:column="14">=<pos:position pos:line="582" pos:column="15"/></operator> <call><name pos:line="582" pos:column="16">add_buffer<pos:position pos:line="582" pos:column="26"/></name><argument_list pos:line="582" pos:column="26">(<argument><expr><name pos:line="582" pos:column="27">req_buffer<pos:position pos:line="582" pos:column="37"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="582" pos:column="39">"\r\n"<pos:position pos:line="582" pos:column="45"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="582" pos:column="47">2<pos:position pos:line="582" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="582" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="582" pos:column="50"/></expr_stmt>
      <if pos:line="583" pos:column="7">if<condition pos:line="583" pos:column="9">(<expr><name pos:line="583" pos:column="10">result<pos:position pos:line="583" pos:column="16"/></name></expr>)<pos:position pos:line="583" pos:column="17"/></condition><then pos:line="583" pos:column="17">
        <block type="pseudo"><return pos:line="584" pos:column="9">return <expr><name pos:line="584" pos:column="16">result<pos:position pos:line="584" pos:column="22"/></name></expr>;<pos:position pos:line="584" pos:column="23"/></return></block></then></if>

      <comment type="block" pos:line="586" pos:column="7">/* set upload size to the progress meter */</comment>
      <expr_stmt><expr><call><name pos:line="587" pos:column="7">Curl_pgrsSetUploadSize<pos:position pos:line="587" pos:column="29"/></name><argument_list pos:line="587" pos:column="29">(<argument><expr><name pos:line="587" pos:column="30">data<pos:position pos:line="587" pos:column="34"/></name></expr></argument>, <argument><expr><name><name pos:line="587" pos:column="36">http<pos:position pos:line="587" pos:column="40"/></name><operator pos:line="587" pos:column="40">-&gt;<pos:position pos:line="587" pos:column="45"/></operator><name pos:line="587" pos:column="42">postsize<pos:position pos:line="587" pos:column="50"/></name></name></expr></argument>)<pos:position pos:line="587" pos:column="51"/></argument_list></call></expr>;<pos:position pos:line="587" pos:column="52"/></expr_stmt>

      <comment type="block" pos:line="589" pos:column="7">/* fire away the whole request to the server */</comment>
      <expr_stmt><expr><name pos:line="590" pos:column="7">result<pos:position pos:line="590" pos:column="13"/></name> <operator pos:line="590" pos:column="14">=<pos:position pos:line="590" pos:column="15"/></operator> <call><name pos:line="590" pos:column="16">add_buffer_send<pos:position pos:line="590" pos:column="31"/></name><argument_list pos:line="590" pos:column="31">(<argument><expr><name pos:line="590" pos:column="32">req_buffer<pos:position pos:line="590" pos:column="42"/></name></expr></argument>, <argument><expr><name pos:line="590" pos:column="44">conn<pos:position pos:line="590" pos:column="48"/></name></expr></argument>,
                               <argument><expr><operator pos:line="591" pos:column="32">&amp;<pos:position pos:line="591" pos:column="37"/></operator><name><name pos:line="591" pos:column="33">data<pos:position pos:line="591" pos:column="37"/></name><operator pos:line="591" pos:column="37">-&gt;<pos:position pos:line="591" pos:column="42"/></operator><name pos:line="591" pos:column="39">info<pos:position pos:line="591" pos:column="43"/></name><operator pos:line="591" pos:column="43">.<pos:position pos:line="591" pos:column="44"/></operator><name pos:line="591" pos:column="44">request_size<pos:position pos:line="591" pos:column="56"/></name></name></expr></argument>)<pos:position pos:line="591" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="591" pos:column="58"/></expr_stmt>
      <if pos:line="592" pos:column="7">if<condition pos:line="592" pos:column="9">(<expr><name pos:line="592" pos:column="10">result<pos:position pos:line="592" pos:column="16"/></name></expr>)<pos:position pos:line="592" pos:column="17"/></condition><then pos:line="592" pos:column="17">
        <block type="pseudo"><expr_stmt><expr><call><name pos:line="593" pos:column="9">failf<pos:position pos:line="593" pos:column="14"/></name><argument_list pos:line="593" pos:column="14">(<argument><expr><name pos:line="593" pos:column="15">data<pos:position pos:line="593" pos:column="19"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="593" pos:column="21">"Failed sending POST request"<pos:position pos:line="593" pos:column="50"/></literal></expr></argument>)<pos:position pos:line="593" pos:column="51"/></argument_list></call></expr>;<pos:position pos:line="593" pos:column="52"/></expr_stmt></block></then>
      <else pos:line="594" pos:column="7">else
        <comment type="block" pos:line="595" pos:column="9">/* setup variables for the upcoming transfer */</comment>
        <block type="pseudo"><expr_stmt><expr><name pos:line="596" pos:column="9">result<pos:position pos:line="596" pos:column="15"/></name> <operator pos:line="596" pos:column="16">=<pos:position pos:line="596" pos:column="17"/></operator> <call><name pos:line="596" pos:column="18">Curl_Transfer<pos:position pos:line="596" pos:column="31"/></name><argument_list pos:line="596" pos:column="31">(<argument><expr><name pos:line="596" pos:column="32">conn<pos:position pos:line="596" pos:column="36"/></name></expr></argument>, <argument><expr><name pos:line="596" pos:column="38">FIRSTSOCKET<pos:position pos:line="596" pos:column="49"/></name></expr></argument>, <argument><expr><operator pos:line="596" pos:column="51">-<pos:position pos:line="596" pos:column="52"/></operator><literal type="number" pos:line="596" pos:column="52">1<pos:position pos:line="596" pos:column="53"/></literal></expr></argument>, <argument><expr><name pos:line="596" pos:column="55">TRUE<pos:position pos:line="596" pos:column="59"/></name></expr></argument>,
                               <argument><expr><operator pos:line="597" pos:column="32">&amp;<pos:position pos:line="597" pos:column="37"/></operator><name><name pos:line="597" pos:column="33">http<pos:position pos:line="597" pos:column="37"/></name><operator pos:line="597" pos:column="37">-&gt;<pos:position pos:line="597" pos:column="42"/></operator><name pos:line="597" pos:column="39">readbytecount<pos:position pos:line="597" pos:column="52"/></name></name></expr></argument>,
                               <argument><expr><name pos:line="598" pos:column="32">FIRSTSOCKET<pos:position pos:line="598" pos:column="43"/></name></expr></argument>,
                               <argument><expr><operator pos:line="599" pos:column="32">&amp;<pos:position pos:line="599" pos:column="37"/></operator><name><name pos:line="599" pos:column="33">http<pos:position pos:line="599" pos:column="37"/></name><operator pos:line="599" pos:column="37">-&gt;<pos:position pos:line="599" pos:column="42"/></operator><name pos:line="599" pos:column="39">writebytecount<pos:position pos:line="599" pos:column="53"/></name></name></expr></argument>)<pos:position pos:line="599" pos:column="54"/></argument_list></call></expr>;<pos:position pos:line="599" pos:column="55"/></expr_stmt></block></else></if>
      <if pos:line="600" pos:column="7">if<condition pos:line="600" pos:column="9">(<expr><name pos:line="600" pos:column="10">result<pos:position pos:line="600" pos:column="16"/></name></expr>)<pos:position pos:line="600" pos:column="17"/></condition><then pos:line="600" pos:column="17"> <block pos:line="600" pos:column="18">{
        <expr_stmt><expr><call><name pos:line="601" pos:column="9">Curl_formclean<pos:position pos:line="601" pos:column="23"/></name><argument_list pos:line="601" pos:column="23">(<argument><expr><name><name pos:line="601" pos:column="24">http<pos:position pos:line="601" pos:column="28"/></name><operator pos:line="601" pos:column="28">-&gt;<pos:position pos:line="601" pos:column="33"/></operator><name pos:line="601" pos:column="30">sendit<pos:position pos:line="601" pos:column="36"/></name></name></expr></argument>)<pos:position pos:line="601" pos:column="37"/></argument_list></call></expr>;<pos:position pos:line="601" pos:column="38"/></expr_stmt> <comment type="block" pos:line="601" pos:column="39">/* free that whole lot */</comment>
        <return pos:line="602" pos:column="9">return <expr><name pos:line="602" pos:column="16">result<pos:position pos:line="602" pos:column="22"/></name></expr>;<pos:position pos:line="602" pos:column="23"/></return>
      }<pos:position pos:line="603" pos:column="8"/></block></then></if>
      <break pos:line="604" pos:column="7">break;<pos:position pos:line="604" pos:column="13"/></break>

    <case pos:line="606" pos:column="5">case <expr><name pos:line="606" pos:column="10">HTTPREQ_PUT<pos:position pos:line="606" pos:column="21"/></name></expr>:<pos:position pos:line="606" pos:column="22"/></case> <comment type="block" pos:line="606" pos:column="23">/* Let's PUT the data to the server! */</comment>

      <if pos:line="608" pos:column="7">if<condition pos:line="608" pos:column="9">(<expr><name><name pos:line="608" pos:column="10">conn<pos:position pos:line="608" pos:column="14"/></name><operator pos:line="608" pos:column="14">-&gt;<pos:position pos:line="608" pos:column="19"/></operator><name pos:line="608" pos:column="16">bits<pos:position pos:line="608" pos:column="20"/></name><operator pos:line="608" pos:column="20">.<pos:position pos:line="608" pos:column="21"/></operator><name pos:line="608" pos:column="21">authneg<pos:position pos:line="608" pos:column="28"/></name></name></expr>)<pos:position pos:line="608" pos:column="29"/></condition><then pos:line="608" pos:column="29">
        <block type="pseudo"><expr_stmt><expr><name pos:line="609" pos:column="9">postsize<pos:position pos:line="609" pos:column="17"/></name> <operator pos:line="609" pos:column="18">=<pos:position pos:line="609" pos:column="19"/></operator> <literal type="number" pos:line="609" pos:column="20">0<pos:position pos:line="609" pos:column="21"/></literal></expr>;<pos:position pos:line="609" pos:column="22"/></expr_stmt></block></then>
      <else pos:line="610" pos:column="7">else
        <block type="pseudo"><expr_stmt><expr><name pos:line="611" pos:column="9">postsize<pos:position pos:line="611" pos:column="17"/></name> <operator pos:line="611" pos:column="18">=<pos:position pos:line="611" pos:column="19"/></operator> <name><name pos:line="611" pos:column="20">data<pos:position pos:line="611" pos:column="24"/></name><operator pos:line="611" pos:column="24">-&gt;<pos:position pos:line="611" pos:column="29"/></operator><name pos:line="611" pos:column="26">set<pos:position pos:line="611" pos:column="29"/></name><operator pos:line="611" pos:column="29">.<pos:position pos:line="611" pos:column="30"/></operator><name pos:line="611" pos:column="30">infilesize<pos:position pos:line="611" pos:column="40"/></name></name></expr>;<pos:position pos:line="611" pos:column="41"/></expr_stmt></block></else></if>

      <if pos:line="613" pos:column="7">if<condition pos:line="613" pos:column="9">(<expr><operator pos:line="613" pos:column="10">(<pos:position pos:line="613" pos:column="11"/></operator><name pos:line="613" pos:column="11">postsize<pos:position pos:line="613" pos:column="19"/></name> <operator pos:line="613" pos:column="20">!=<pos:position pos:line="613" pos:column="22"/></operator> <operator pos:line="613" pos:column="23">-<pos:position pos:line="613" pos:column="24"/></operator><literal type="number" pos:line="613" pos:column="24">1<pos:position pos:line="613" pos:column="25"/></literal><operator pos:line="613" pos:column="25">)<pos:position pos:line="613" pos:column="26"/></operator> <operator pos:line="613" pos:column="27">&amp;&amp;<pos:position pos:line="613" pos:column="37"/></operator> <operator pos:line="613" pos:column="30">!<pos:position pos:line="613" pos:column="31"/></operator><name><name pos:line="613" pos:column="31">conn<pos:position pos:line="613" pos:column="35"/></name><operator pos:line="613" pos:column="35">-&gt;<pos:position pos:line="613" pos:column="40"/></operator><name pos:line="613" pos:column="37">bits<pos:position pos:line="613" pos:column="41"/></name><operator pos:line="613" pos:column="41">.<pos:position pos:line="613" pos:column="42"/></operator><name pos:line="613" pos:column="42">upload_chunky<pos:position pos:line="613" pos:column="55"/></name></name></expr>)<pos:position pos:line="613" pos:column="56"/></condition><then pos:line="613" pos:column="56"> <block pos:line="613" pos:column="57">{
        <comment type="block" pos:line="614" pos:column="9">/* only add Content-Length if not uploading chunked */</comment>
        <expr_stmt><expr><name pos:line="615" pos:column="9">result<pos:position pos:line="615" pos:column="15"/></name> <operator pos:line="615" pos:column="16">=<pos:position pos:line="615" pos:column="17"/></operator> <call><name pos:line="615" pos:column="18">add_bufferf<pos:position pos:line="615" pos:column="29"/></name><argument_list pos:line="615" pos:column="29">(<argument><expr><name pos:line="615" pos:column="30">req_buffer<pos:position pos:line="615" pos:column="40"/></name></expr></argument>,
                             <argument><expr><literal type="string" pos:line="616" pos:column="30">"Content-Length: %"<pos:position pos:line="616" pos:column="49"/></literal> <name pos:line="616" pos:column="50">FORMAT_OFF_T<pos:position pos:line="616" pos:column="62"/></name> <literal type="string" pos:line="616" pos:column="63">"\r\n"<pos:position pos:line="616" pos:column="69"/></literal></expr></argument>,
                             <argument><expr><name pos:line="617" pos:column="30">postsize<pos:position pos:line="617" pos:column="38"/></name></expr></argument> )<pos:position pos:line="617" pos:column="40"/></argument_list></call></expr>;<pos:position pos:line="617" pos:column="41"/></expr_stmt>
        <if pos:line="618" pos:column="9">if<condition pos:line="618" pos:column="11">(<expr><name pos:line="618" pos:column="12">result<pos:position pos:line="618" pos:column="18"/></name></expr>)<pos:position pos:line="618" pos:column="19"/></condition><then pos:line="618" pos:column="19">
          <block type="pseudo"><return pos:line="619" pos:column="11">return <expr><name pos:line="619" pos:column="18">result<pos:position pos:line="619" pos:column="24"/></name></expr>;<pos:position pos:line="619" pos:column="25"/></return></block></then></if>
      }<pos:position pos:line="620" pos:column="8"/></block></then></if>

      <expr_stmt><expr><name pos:line="622" pos:column="7">result<pos:position pos:line="622" pos:column="13"/></name> <operator pos:line="622" pos:column="14">=<pos:position pos:line="622" pos:column="15"/></operator> <call><name pos:line="622" pos:column="16">expect100<pos:position pos:line="622" pos:column="25"/></name><argument_list pos:line="622" pos:column="25">(<argument><expr><name pos:line="622" pos:column="26">data<pos:position pos:line="622" pos:column="30"/></name></expr></argument>, <argument><expr><name pos:line="622" pos:column="32">req_buffer<pos:position pos:line="622" pos:column="42"/></name></expr></argument>)<pos:position pos:line="622" pos:column="43"/></argument_list></call></expr>;<pos:position pos:line="622" pos:column="44"/></expr_stmt>
      <if pos:line="623" pos:column="7">if<condition pos:line="623" pos:column="9">(<expr><name pos:line="623" pos:column="10">result<pos:position pos:line="623" pos:column="16"/></name></expr>)<pos:position pos:line="623" pos:column="17"/></condition><then pos:line="623" pos:column="17">
        <block type="pseudo"><return pos:line="624" pos:column="9">return <expr><name pos:line="624" pos:column="16">result<pos:position pos:line="624" pos:column="22"/></name></expr>;<pos:position pos:line="624" pos:column="23"/></return></block></then></if>

      <expr_stmt><expr><name pos:line="626" pos:column="7">result<pos:position pos:line="626" pos:column="13"/></name> <operator pos:line="626" pos:column="14">=<pos:position pos:line="626" pos:column="15"/></operator> <call><name pos:line="626" pos:column="16">add_buffer<pos:position pos:line="626" pos:column="26"/></name><argument_list pos:line="626" pos:column="26">(<argument><expr><name pos:line="626" pos:column="27">req_buffer<pos:position pos:line="626" pos:column="37"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="626" pos:column="39">"\r\n"<pos:position pos:line="626" pos:column="45"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="626" pos:column="47">2<pos:position pos:line="626" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="626" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="626" pos:column="50"/></expr_stmt> <comment type="block" pos:line="626" pos:column="51">/* end of headers */</comment>
      <if pos:line="627" pos:column="7">if<condition pos:line="627" pos:column="9">(<expr><name pos:line="627" pos:column="10">result<pos:position pos:line="627" pos:column="16"/></name></expr>)<pos:position pos:line="627" pos:column="17"/></condition><then pos:line="627" pos:column="17">
        <block type="pseudo"><return pos:line="628" pos:column="9">return <expr><name pos:line="628" pos:column="16">result<pos:position pos:line="628" pos:column="22"/></name></expr>;<pos:position pos:line="628" pos:column="23"/></return></block></then></if>

      <comment type="block" pos:line="630" pos:column="7">/* set the upload size to the progress meter */</comment>
      <expr_stmt><expr><call><name pos:line="631" pos:column="7">Curl_pgrsSetUploadSize<pos:position pos:line="631" pos:column="29"/></name><argument_list pos:line="631" pos:column="29">(<argument><expr><name pos:line="631" pos:column="30">data<pos:position pos:line="631" pos:column="34"/></name></expr></argument>, <argument><expr><name pos:line="631" pos:column="36">postsize<pos:position pos:line="631" pos:column="44"/></name></expr></argument>)<pos:position pos:line="631" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="631" pos:column="46"/></expr_stmt>

      <comment type="block" pos:line="633" pos:column="7">/* this sends the buffer and frees all the buffer resources */</comment>
      <expr_stmt><expr><name pos:line="634" pos:column="7">result<pos:position pos:line="634" pos:column="13"/></name> <operator pos:line="634" pos:column="14">=<pos:position pos:line="634" pos:column="15"/></operator> <call><name pos:line="634" pos:column="16">add_buffer_send<pos:position pos:line="634" pos:column="31"/></name><argument_list pos:line="634" pos:column="31">(<argument><expr><name pos:line="634" pos:column="32">req_buffer<pos:position pos:line="634" pos:column="42"/></name></expr></argument>, <argument><expr><name pos:line="634" pos:column="44">conn<pos:position pos:line="634" pos:column="48"/></name></expr></argument>,
                               <argument><expr><operator pos:line="635" pos:column="32">&amp;<pos:position pos:line="635" pos:column="37"/></operator><name><name pos:line="635" pos:column="33">data<pos:position pos:line="635" pos:column="37"/></name><operator pos:line="635" pos:column="37">-&gt;<pos:position pos:line="635" pos:column="42"/></operator><name pos:line="635" pos:column="39">info<pos:position pos:line="635" pos:column="43"/></name><operator pos:line="635" pos:column="43">.<pos:position pos:line="635" pos:column="44"/></operator><name pos:line="635" pos:column="44">request_size<pos:position pos:line="635" pos:column="56"/></name></name></expr></argument>)<pos:position pos:line="635" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="635" pos:column="58"/></expr_stmt>
      <if pos:line="636" pos:column="7">if<condition pos:line="636" pos:column="9">(<expr><name pos:line="636" pos:column="10">result<pos:position pos:line="636" pos:column="16"/></name></expr>)<pos:position pos:line="636" pos:column="17"/></condition><then pos:line="636" pos:column="17">
        <block type="pseudo"><expr_stmt><expr><call><name pos:line="637" pos:column="9">failf<pos:position pos:line="637" pos:column="14"/></name><argument_list pos:line="637" pos:column="14">(<argument><expr><name pos:line="637" pos:column="15">data<pos:position pos:line="637" pos:column="19"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="637" pos:column="21">"Failed sending PUT request"<pos:position pos:line="637" pos:column="49"/></literal></expr></argument>)<pos:position pos:line="637" pos:column="50"/></argument_list></call></expr>;<pos:position pos:line="637" pos:column="51"/></expr_stmt></block></then>
      <else pos:line="638" pos:column="7">else
        <comment type="block" pos:line="639" pos:column="9">/* prepare for transfer */</comment>
        <block type="pseudo"><expr_stmt><expr><name pos:line="640" pos:column="9">result<pos:position pos:line="640" pos:column="15"/></name> <operator pos:line="640" pos:column="16">=<pos:position pos:line="640" pos:column="17"/></operator> <call><name pos:line="640" pos:column="18">Curl_Transfer<pos:position pos:line="640" pos:column="31"/></name><argument_list pos:line="640" pos:column="31">(<argument><expr><name pos:line="640" pos:column="32">conn<pos:position pos:line="640" pos:column="36"/></name></expr></argument>, <argument><expr><name pos:line="640" pos:column="38">FIRSTSOCKET<pos:position pos:line="640" pos:column="49"/></name></expr></argument>, <argument><expr><operator pos:line="640" pos:column="51">-<pos:position pos:line="640" pos:column="52"/></operator><literal type="number" pos:line="640" pos:column="52">1<pos:position pos:line="640" pos:column="53"/></literal></expr></argument>, <argument><expr><name pos:line="640" pos:column="55">TRUE<pos:position pos:line="640" pos:column="59"/></name></expr></argument>,
                               <argument><expr><operator pos:line="641" pos:column="32">&amp;<pos:position pos:line="641" pos:column="37"/></operator><name><name pos:line="641" pos:column="33">http<pos:position pos:line="641" pos:column="37"/></name><operator pos:line="641" pos:column="37">-&gt;<pos:position pos:line="641" pos:column="42"/></operator><name pos:line="641" pos:column="39">readbytecount<pos:position pos:line="641" pos:column="52"/></name></name></expr></argument>,
                               <argument><expr><ternary><condition><expr><name pos:line="642" pos:column="32">postsize<pos:position pos:line="642" pos:column="40"/></name></expr>?<pos:position pos:line="642" pos:column="41"/></condition><then><expr><name pos:line="642" pos:column="41">FIRSTSOCKET<pos:position pos:line="642" pos:column="52"/></name></expr></then><else pos:line="642" pos:column="52">:<expr><operator pos:line="642" pos:column="53">-<pos:position pos:line="642" pos:column="54"/></operator><literal type="number" pos:line="642" pos:column="54">1<pos:position pos:line="642" pos:column="55"/></literal></expr></else></ternary></expr></argument>,
                               <argument><expr><ternary><condition><expr><name pos:line="643" pos:column="32">postsize<pos:position pos:line="643" pos:column="40"/></name></expr>?<pos:position pos:line="643" pos:column="41"/></condition><then><expr><operator pos:line="643" pos:column="41">&amp;<pos:position pos:line="643" pos:column="46"/></operator><name><name pos:line="643" pos:column="42">http<pos:position pos:line="643" pos:column="46"/></name><operator pos:line="643" pos:column="46">-&gt;<pos:position pos:line="643" pos:column="51"/></operator><name pos:line="643" pos:column="48">writebytecount<pos:position pos:line="643" pos:column="62"/></name></name></expr></then><else pos:line="643" pos:column="62">:<expr><name pos:line="643" pos:column="63">NULL<pos:position pos:line="643" pos:column="67"/></name></expr></else></ternary></expr></argument>)<pos:position pos:line="643" pos:column="68"/></argument_list></call></expr>;<pos:position pos:line="643" pos:column="69"/></expr_stmt></block></else></if>
      <if pos:line="644" pos:column="7">if<condition pos:line="644" pos:column="9">(<expr><name pos:line="644" pos:column="10">result<pos:position pos:line="644" pos:column="16"/></name></expr>)<pos:position pos:line="644" pos:column="17"/></condition><then pos:line="644" pos:column="17">
        <block type="pseudo"><return pos:line="645" pos:column="9">return <expr><name pos:line="645" pos:column="16">result<pos:position pos:line="645" pos:column="22"/></name></expr>;<pos:position pos:line="645" pos:column="23"/></return></block></then></if>
      <break pos:line="646" pos:column="7">break;<pos:position pos:line="646" pos:column="13"/></break>

    <case pos:line="648" pos:column="5">case <expr><name pos:line="648" pos:column="10">HTTPREQ_POST<pos:position pos:line="648" pos:column="22"/></name></expr>:<pos:position pos:line="648" pos:column="23"/></case>
      <comment type="block" pos:line="649" pos:column="7">/* this is the simple POST, using x-www-form-urlencoded style */</comment>

      <if pos:line="651" pos:column="7">if<condition pos:line="651" pos:column="9">(<expr><name><name pos:line="651" pos:column="10">conn<pos:position pos:line="651" pos:column="14"/></name><operator pos:line="651" pos:column="14">-&gt;<pos:position pos:line="651" pos:column="19"/></operator><name pos:line="651" pos:column="16">bits<pos:position pos:line="651" pos:column="20"/></name><operator pos:line="651" pos:column="20">.<pos:position pos:line="651" pos:column="21"/></operator><name pos:line="651" pos:column="21">authneg<pos:position pos:line="651" pos:column="28"/></name></name></expr>)<pos:position pos:line="651" pos:column="29"/></condition><then pos:line="651" pos:column="29">
        <block type="pseudo"><expr_stmt><expr><name pos:line="652" pos:column="9">postsize<pos:position pos:line="652" pos:column="17"/></name> <operator pos:line="652" pos:column="18">=<pos:position pos:line="652" pos:column="19"/></operator> <literal type="number" pos:line="652" pos:column="20">0<pos:position pos:line="652" pos:column="21"/></literal></expr>;<pos:position pos:line="652" pos:column="22"/></expr_stmt></block></then>
      <else pos:line="653" pos:column="7">else
        <comment type="block" pos:line="654" pos:column="9">/* figure out the size of the postfields */</comment>
        <block type="pseudo"><expr_stmt><expr><name pos:line="655" pos:column="9">postsize<pos:position pos:line="655" pos:column="17"/></name> <operator pos:line="655" pos:column="18">=<pos:position pos:line="655" pos:column="19"/></operator> <ternary><condition><expr><operator pos:line="655" pos:column="20">(<pos:position pos:line="655" pos:column="21"/></operator><name><name pos:line="655" pos:column="21">data<pos:position pos:line="655" pos:column="25"/></name><operator pos:line="655" pos:column="25">-&gt;<pos:position pos:line="655" pos:column="30"/></operator><name pos:line="655" pos:column="27">set<pos:position pos:line="655" pos:column="30"/></name><operator pos:line="655" pos:column="30">.<pos:position pos:line="655" pos:column="31"/></operator><name pos:line="655" pos:column="31">postfieldsize<pos:position pos:line="655" pos:column="44"/></name></name> <operator pos:line="655" pos:column="45">!=<pos:position pos:line="655" pos:column="47"/></operator> <operator pos:line="655" pos:column="48">-<pos:position pos:line="655" pos:column="49"/></operator><literal type="number" pos:line="655" pos:column="49">1<pos:position pos:line="655" pos:column="50"/></literal><operator pos:line="655" pos:column="50">)<pos:position pos:line="655" pos:column="51"/></operator></expr>?<pos:position pos:line="655" pos:column="52"/></condition><then pos:line="655" pos:column="52">
          <expr><name><name pos:line="656" pos:column="11">data<pos:position pos:line="656" pos:column="15"/></name><operator pos:line="656" pos:column="15">-&gt;<pos:position pos:line="656" pos:column="20"/></operator><name pos:line="656" pos:column="17">set<pos:position pos:line="656" pos:column="20"/></name><operator pos:line="656" pos:column="20">.<pos:position pos:line="656" pos:column="21"/></operator><name pos:line="656" pos:column="21">postfieldsize<pos:position pos:line="656" pos:column="34"/></name></name></expr></then><else pos:line="656" pos:column="34">:
          <expr><operator pos:line="657" pos:column="11">(<pos:position pos:line="657" pos:column="12"/></operator><ternary><condition><expr><name><name pos:line="657" pos:column="12">data<pos:position pos:line="657" pos:column="16"/></name><operator pos:line="657" pos:column="16">-&gt;<pos:position pos:line="657" pos:column="21"/></operator><name pos:line="657" pos:column="18">set<pos:position pos:line="657" pos:column="21"/></name><operator pos:line="657" pos:column="21">.<pos:position pos:line="657" pos:column="22"/></operator><name pos:line="657" pos:column="22">postfields<pos:position pos:line="657" pos:column="32"/></name></name></expr>?<pos:position pos:line="657" pos:column="33"/></condition><then><expr><operator pos:line="657" pos:column="33">(<pos:position pos:line="657" pos:column="34"/></operator><name pos:line="657" pos:column="34">curl_off_t<pos:position pos:line="657" pos:column="44"/></name><operator pos:line="657" pos:column="44">)<pos:position pos:line="657" pos:column="45"/></operator><call><name pos:line="657" pos:column="45">strlen<pos:position pos:line="657" pos:column="51"/></name><argument_list pos:line="657" pos:column="51">(<argument><expr><name><name pos:line="657" pos:column="52">data<pos:position pos:line="657" pos:column="56"/></name><operator pos:line="657" pos:column="56">-&gt;<pos:position pos:line="657" pos:column="61"/></operator><name pos:line="657" pos:column="58">set<pos:position pos:line="657" pos:column="61"/></name><operator pos:line="657" pos:column="61">.<pos:position pos:line="657" pos:column="62"/></operator><name pos:line="657" pos:column="62">postfields<pos:position pos:line="657" pos:column="72"/></name></name></expr></argument>)<pos:position pos:line="657" pos:column="73"/></argument_list></call></expr></then><else pos:line="657" pos:column="73">:<expr><literal type="number" pos:line="657" pos:column="74">0<pos:position pos:line="657" pos:column="75"/></literal></expr></else></ternary><operator pos:line="657" pos:column="75">)<pos:position pos:line="657" pos:column="76"/></operator></expr></else></ternary></expr>;<pos:position pos:line="657" pos:column="77"/></expr_stmt></block></else></if>

      <if pos:line="659" pos:column="7">if<condition pos:line="659" pos:column="9">(<expr><operator pos:line="659" pos:column="10">!<pos:position pos:line="659" pos:column="11"/></operator><name><name pos:line="659" pos:column="11">conn<pos:position pos:line="659" pos:column="15"/></name><operator pos:line="659" pos:column="15">-&gt;<pos:position pos:line="659" pos:column="20"/></operator><name pos:line="659" pos:column="17">bits<pos:position pos:line="659" pos:column="21"/></name><operator pos:line="659" pos:column="21">.<pos:position pos:line="659" pos:column="22"/></operator><name pos:line="659" pos:column="22">upload_chunky<pos:position pos:line="659" pos:column="35"/></name></name></expr>)<pos:position pos:line="659" pos:column="36"/></condition><then pos:line="659" pos:column="36"> <block pos:line="659" pos:column="37">{
        <comment type="block" pos:line="660" pos:column="9">/* We only set Content-Length and allow a custom Content-Length if
           we don't upload data chunked, as RFC2616 forbids us to set both
           kinds of headers (Transfer-Encoding: chunked and Content-Length) */</comment>

        <if pos:line="664" pos:column="9">if<condition pos:line="664" pos:column="11">(<expr><operator pos:line="664" pos:column="12">!<pos:position pos:line="664" pos:column="13"/></operator><call><name pos:line="664" pos:column="13">checkheaders<pos:position pos:line="664" pos:column="25"/></name><argument_list pos:line="664" pos:column="25">(<argument><expr><name pos:line="664" pos:column="26">data<pos:position pos:line="664" pos:column="30"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="664" pos:column="32">"Content-Length:"<pos:position pos:line="664" pos:column="49"/></literal></expr></argument>)<pos:position pos:line="664" pos:column="50"/></argument_list></call></expr>)<pos:position pos:line="664" pos:column="51"/></condition><then pos:line="664" pos:column="51"> <block pos:line="664" pos:column="52">{
          <comment type="block" pos:line="665" pos:column="11">/* we allow replacing this header, although it isn't very wise to
             actually set your own */</comment>
          <expr_stmt><expr><name pos:line="667" pos:column="11">result<pos:position pos:line="667" pos:column="17"/></name> <operator pos:line="667" pos:column="18">=<pos:position pos:line="667" pos:column="19"/></operator> <call><name pos:line="667" pos:column="20">add_bufferf<pos:position pos:line="667" pos:column="31"/></name><argument_list pos:line="667" pos:column="31">(<argument><expr><name pos:line="667" pos:column="32">req_buffer<pos:position pos:line="667" pos:column="42"/></name></expr></argument>,
                               <argument><expr><literal type="string" pos:line="668" pos:column="32">"Content-Length: %"<pos:position pos:line="668" pos:column="51"/></literal> <name pos:line="668" pos:column="52">FORMAT_OFF_T<pos:position pos:line="668" pos:column="64"/></name><literal type="string" pos:line="668" pos:column="64">"\r\n"<pos:position pos:line="668" pos:column="70"/></literal></expr></argument>,
                               <argument><expr><name pos:line="669" pos:column="32">postsize<pos:position pos:line="669" pos:column="40"/></name></expr></argument>)<pos:position pos:line="669" pos:column="41"/></argument_list></call></expr>;<pos:position pos:line="669" pos:column="42"/></expr_stmt>
          <if pos:line="670" pos:column="11">if<condition pos:line="670" pos:column="13">(<expr><name pos:line="670" pos:column="14">result<pos:position pos:line="670" pos:column="20"/></name></expr>)<pos:position pos:line="670" pos:column="21"/></condition><then pos:line="670" pos:column="21">
            <block type="pseudo"><return pos:line="671" pos:column="13">return <expr><name pos:line="671" pos:column="20">result<pos:position pos:line="671" pos:column="26"/></name></expr>;<pos:position pos:line="671" pos:column="27"/></return></block></then></if>
        }<pos:position pos:line="672" pos:column="10"/></block></then></if>
      }<pos:position pos:line="673" pos:column="8"/></block></then></if>

      <if pos:line="675" pos:column="7">if<condition pos:line="675" pos:column="9">(<expr><operator pos:line="675" pos:column="10">!<pos:position pos:line="675" pos:column="11"/></operator><call><name pos:line="675" pos:column="11">checkheaders<pos:position pos:line="675" pos:column="23"/></name><argument_list pos:line="675" pos:column="23">(<argument><expr><name pos:line="675" pos:column="24">data<pos:position pos:line="675" pos:column="28"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="675" pos:column="30">"Content-Type:"<pos:position pos:line="675" pos:column="45"/></literal></expr></argument>)<pos:position pos:line="675" pos:column="46"/></argument_list></call></expr>)<pos:position pos:line="675" pos:column="47"/></condition><then pos:line="675" pos:column="47"> <block pos:line="675" pos:column="48">{
        <expr_stmt><expr><name pos:line="676" pos:column="9">result<pos:position pos:line="676" pos:column="15"/></name> <operator pos:line="676" pos:column="16">=<pos:position pos:line="676" pos:column="17"/></operator> <call><name pos:line="676" pos:column="18">add_bufferf<pos:position pos:line="676" pos:column="29"/></name><argument_list pos:line="676" pos:column="29">(<argument><expr><name pos:line="676" pos:column="30">req_buffer<pos:position pos:line="676" pos:column="40"/></name></expr></argument>,
                             <argument><expr><literal type="string" pos:line="677" pos:column="30">"Content-Type: application/x-www-form-urlencoded\r\n"<pos:position pos:line="677" pos:column="83"/></literal></expr></argument>)<pos:position pos:line="677" pos:column="84"/></argument_list></call></expr>;<pos:position pos:line="677" pos:column="85"/></expr_stmt>
        <if pos:line="678" pos:column="9">if<condition pos:line="678" pos:column="11">(<expr><name pos:line="678" pos:column="12">result<pos:position pos:line="678" pos:column="18"/></name></expr>)<pos:position pos:line="678" pos:column="19"/></condition><then pos:line="678" pos:column="19">
          <block type="pseudo"><return pos:line="679" pos:column="11">return <expr><name pos:line="679" pos:column="18">result<pos:position pos:line="679" pos:column="24"/></name></expr>;<pos:position pos:line="679" pos:column="25"/></return></block></then></if>
      }<pos:position pos:line="680" pos:column="8"/></block></then></if>

      <if pos:line="682" pos:column="7">if<condition pos:line="682" pos:column="9">(<expr><name><name pos:line="682" pos:column="10">data<pos:position pos:line="682" pos:column="14"/></name><operator pos:line="682" pos:column="14">-&gt;<pos:position pos:line="682" pos:column="19"/></operator><name pos:line="682" pos:column="16">set<pos:position pos:line="682" pos:column="19"/></name><operator pos:line="682" pos:column="19">.<pos:position pos:line="682" pos:column="20"/></operator><name pos:line="682" pos:column="20">postfields<pos:position pos:line="682" pos:column="30"/></name></name></expr>)<pos:position pos:line="682" pos:column="31"/></condition><then pos:line="682" pos:column="31"> <block pos:line="682" pos:column="32">{

        <if pos:line="684" pos:column="9">if<condition pos:line="684" pos:column="11">(<expr><operator pos:line="684" pos:column="12">(<pos:position pos:line="684" pos:column="13"/></operator><name><name pos:line="684" pos:column="13">data<pos:position pos:line="684" pos:column="17"/></name><operator pos:line="684" pos:column="17">-&gt;<pos:position pos:line="684" pos:column="22"/></operator><name pos:line="684" pos:column="19">state<pos:position pos:line="684" pos:column="24"/></name><operator pos:line="684" pos:column="24">.<pos:position pos:line="684" pos:column="25"/></operator><name pos:line="684" pos:column="25">authhost<pos:position pos:line="684" pos:column="33"/></name><operator pos:line="684" pos:column="33">.<pos:position pos:line="684" pos:column="34"/></operator><name pos:line="684" pos:column="34">done<pos:position pos:line="684" pos:column="38"/></name></name> <operator pos:line="684" pos:column="39">||<pos:position pos:line="684" pos:column="41"/></operator> <name><name pos:line="684" pos:column="42">data<pos:position pos:line="684" pos:column="46"/></name><operator pos:line="684" pos:column="46">-&gt;<pos:position pos:line="684" pos:column="51"/></operator><name pos:line="684" pos:column="48">state<pos:position pos:line="684" pos:column="53"/></name><operator pos:line="684" pos:column="53">.<pos:position pos:line="684" pos:column="54"/></operator><name pos:line="684" pos:column="54">authproxy<pos:position pos:line="684" pos:column="63"/></name><operator pos:line="684" pos:column="63">.<pos:position pos:line="684" pos:column="64"/></operator><name pos:line="684" pos:column="64">done<pos:position pos:line="684" pos:column="68"/></name></name> <operator pos:line="684" pos:column="69">)<pos:position pos:line="684" pos:column="70"/></operator>
           <operator pos:line="685" pos:column="12">&amp;&amp;<pos:position pos:line="685" pos:column="22"/></operator> <operator pos:line="685" pos:column="15">(<pos:position pos:line="685" pos:column="16"/></operator><name pos:line="685" pos:column="16">postsize<pos:position pos:line="685" pos:column="24"/></name> <operator pos:line="685" pos:column="25">&lt;<pos:position pos:line="685" pos:column="29"/></operator> <name pos:line="685" pos:column="27">MAX_INITIAL_POST_SIZE<pos:position pos:line="685" pos:column="48"/></name><operator pos:line="685" pos:column="48">)<pos:position pos:line="685" pos:column="49"/></operator></expr>)<pos:position pos:line="685" pos:column="50"/></condition><then pos:line="685" pos:column="50"> <block pos:line="685" pos:column="51">{
          <comment type="block" pos:line="686" pos:column="11">/* If we're not done with the authentication phase, we don't expect
             to actually send off any data yet. Hence, we delay the sending of
             the body until we receive that friendly 100-continue response */</comment>

          <comment type="block" pos:line="690" pos:column="11">/* The post data is less than MAX_INITIAL_PORT_SIZE, then append it
             to the header. This limit is no magic limit but only set to
             prevent really huge POSTs to get the data duplicated with
             malloc() and family. */</comment>

          <expr_stmt><expr><name pos:line="695" pos:column="11">result<pos:position pos:line="695" pos:column="17"/></name> <operator pos:line="695" pos:column="18">=<pos:position pos:line="695" pos:column="19"/></operator> <call><name pos:line="695" pos:column="20">add_buffer<pos:position pos:line="695" pos:column="30"/></name><argument_list pos:line="695" pos:column="30">(<argument><expr><name pos:line="695" pos:column="31">req_buffer<pos:position pos:line="695" pos:column="41"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="695" pos:column="43">"\r\n"<pos:position pos:line="695" pos:column="49"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="695" pos:column="51">2<pos:position pos:line="695" pos:column="52"/></literal></expr></argument>)<pos:position pos:line="695" pos:column="53"/></argument_list></call></expr>;<pos:position pos:line="695" pos:column="54"/></expr_stmt> <comment type="block" pos:line="695" pos:column="55">/* end of headers! */</comment>
          <if pos:line="696" pos:column="11">if<condition pos:line="696" pos:column="13">(<expr><name pos:line="696" pos:column="14">result<pos:position pos:line="696" pos:column="20"/></name></expr>)<pos:position pos:line="696" pos:column="21"/></condition><then pos:line="696" pos:column="21">
            <block type="pseudo"><return pos:line="697" pos:column="13">return <expr><name pos:line="697" pos:column="20">result<pos:position pos:line="697" pos:column="26"/></name></expr>;<pos:position pos:line="697" pos:column="27"/></return></block></then></if>

          <if pos:line="699" pos:column="11">if<condition pos:line="699" pos:column="13">(<expr><operator pos:line="699" pos:column="14">!<pos:position pos:line="699" pos:column="15"/></operator><name><name pos:line="699" pos:column="15">conn<pos:position pos:line="699" pos:column="19"/></name><operator pos:line="699" pos:column="19">-&gt;<pos:position pos:line="699" pos:column="24"/></operator><name pos:line="699" pos:column="21">bits<pos:position pos:line="699" pos:column="25"/></name><operator pos:line="699" pos:column="25">.<pos:position pos:line="699" pos:column="26"/></operator><name pos:line="699" pos:column="26">upload_chunky<pos:position pos:line="699" pos:column="39"/></name></name></expr>)<pos:position pos:line="699" pos:column="40"/></condition><then pos:line="699" pos:column="40"> <block pos:line="699" pos:column="41">{
            <comment type="block" pos:line="700" pos:column="13">/* We're not sending it 'chunked', append it to the request
               already now to reduce the number if send() calls */</comment>
            <expr_stmt><expr><name pos:line="702" pos:column="13">result<pos:position pos:line="702" pos:column="19"/></name> <operator pos:line="702" pos:column="20">=<pos:position pos:line="702" pos:column="21"/></operator> <call><name pos:line="702" pos:column="22">add_buffer<pos:position pos:line="702" pos:column="32"/></name><argument_list pos:line="702" pos:column="32">(<argument><expr><name pos:line="702" pos:column="33">req_buffer<pos:position pos:line="702" pos:column="43"/></name></expr></argument>, <argument><expr><name><name pos:line="702" pos:column="45">data<pos:position pos:line="702" pos:column="49"/></name><operator pos:line="702" pos:column="49">-&gt;<pos:position pos:line="702" pos:column="54"/></operator><name pos:line="702" pos:column="51">set<pos:position pos:line="702" pos:column="54"/></name><operator pos:line="702" pos:column="54">.<pos:position pos:line="702" pos:column="55"/></operator><name pos:line="702" pos:column="55">postfields<pos:position pos:line="702" pos:column="65"/></name></name></expr></argument>,
                                <argument><expr><operator pos:line="703" pos:column="33">(<pos:position pos:line="703" pos:column="34"/></operator><name pos:line="703" pos:column="34">size_t<pos:position pos:line="703" pos:column="40"/></name><operator pos:line="703" pos:column="40">)<pos:position pos:line="703" pos:column="41"/></operator><name pos:line="703" pos:column="41">postsize<pos:position pos:line="703" pos:column="49"/></name></expr></argument>)<pos:position pos:line="703" pos:column="50"/></argument_list></call></expr>;<pos:position pos:line="703" pos:column="51"/></expr_stmt>
          }<pos:position pos:line="704" pos:column="12"/></block></then>
          <else pos:line="705" pos:column="11">else <block pos:line="705" pos:column="16">{
            <comment type="block" pos:line="706" pos:column="13">/* Append the POST data chunky-style */</comment>
            <expr_stmt><expr><name pos:line="707" pos:column="13">result<pos:position pos:line="707" pos:column="19"/></name> <operator pos:line="707" pos:column="20">=<pos:position pos:line="707" pos:column="21"/></operator> <call><name pos:line="707" pos:column="22">add_bufferf<pos:position pos:line="707" pos:column="33"/></name><argument_list pos:line="707" pos:column="33">(<argument><expr><name pos:line="707" pos:column="34">req_buffer<pos:position pos:line="707" pos:column="44"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="707" pos:column="46">"%x\r\n"<pos:position pos:line="707" pos:column="54"/></literal></expr></argument>, <argument><expr><operator pos:line="707" pos:column="56">(<pos:position pos:line="707" pos:column="57"/></operator><name pos:line="707" pos:column="57">int<pos:position pos:line="707" pos:column="60"/></name><operator pos:line="707" pos:column="60">)<pos:position pos:line="707" pos:column="61"/></operator><name pos:line="707" pos:column="61">postsize<pos:position pos:line="707" pos:column="69"/></name></expr></argument>)<pos:position pos:line="707" pos:column="70"/></argument_list></call></expr>;<pos:position pos:line="707" pos:column="71"/></expr_stmt>
            <if pos:line="708" pos:column="13">if<condition pos:line="708" pos:column="15">(<expr><name pos:line="708" pos:column="16">CURLE_OK<pos:position pos:line="708" pos:column="24"/></name> <operator pos:line="708" pos:column="25">==<pos:position pos:line="708" pos:column="27"/></operator> <name pos:line="708" pos:column="28">result<pos:position pos:line="708" pos:column="34"/></name></expr>)<pos:position pos:line="708" pos:column="35"/></condition><then pos:line="708" pos:column="35">
              <block type="pseudo"><expr_stmt><expr><name pos:line="709" pos:column="15">result<pos:position pos:line="709" pos:column="21"/></name> <operator pos:line="709" pos:column="22">=<pos:position pos:line="709" pos:column="23"/></operator> <call><name pos:line="709" pos:column="24">add_buffer<pos:position pos:line="709" pos:column="34"/></name><argument_list pos:line="709" pos:column="34">(<argument><expr><name pos:line="709" pos:column="35">req_buffer<pos:position pos:line="709" pos:column="45"/></name></expr></argument>, <argument><expr><name><name pos:line="709" pos:column="47">data<pos:position pos:line="709" pos:column="51"/></name><operator pos:line="709" pos:column="51">-&gt;<pos:position pos:line="709" pos:column="56"/></operator><name pos:line="709" pos:column="53">set<pos:position pos:line="709" pos:column="56"/></name><operator pos:line="709" pos:column="56">.<pos:position pos:line="709" pos:column="57"/></operator><name pos:line="709" pos:column="57">postfields<pos:position pos:line="709" pos:column="67"/></name></name></expr></argument>,
                                  <argument><expr><operator pos:line="710" pos:column="35">(<pos:position pos:line="710" pos:column="36"/></operator><name pos:line="710" pos:column="36">size_t<pos:position pos:line="710" pos:column="42"/></name><operator pos:line="710" pos:column="42">)<pos:position pos:line="710" pos:column="43"/></operator><name pos:line="710" pos:column="43">postsize<pos:position pos:line="710" pos:column="51"/></name></expr></argument>)<pos:position pos:line="710" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="710" pos:column="53"/></expr_stmt></block></then></if>
            <if pos:line="711" pos:column="13">if<condition pos:line="711" pos:column="15">(<expr><name pos:line="711" pos:column="16">CURLE_OK<pos:position pos:line="711" pos:column="24"/></name> <operator pos:line="711" pos:column="25">==<pos:position pos:line="711" pos:column="27"/></operator> <name pos:line="711" pos:column="28">result<pos:position pos:line="711" pos:column="34"/></name></expr>)<pos:position pos:line="711" pos:column="35"/></condition><then pos:line="711" pos:column="35">
              <block type="pseudo"><expr_stmt><expr><name pos:line="712" pos:column="15">result<pos:position pos:line="712" pos:column="21"/></name> <operator pos:line="712" pos:column="22">=<pos:position pos:line="712" pos:column="23"/></operator> <call><name pos:line="712" pos:column="24">add_buffer<pos:position pos:line="712" pos:column="34"/></name><argument_list pos:line="712" pos:column="34">(<argument><expr><name pos:line="712" pos:column="35">req_buffer<pos:position pos:line="712" pos:column="45"/></name></expr></argument>,
                                  <argument><expr><literal type="string" pos:line="713" pos:column="35">"\r\n0\r\n\r\n"<pos:position pos:line="713" pos:column="50"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="713" pos:column="52">7<pos:position pos:line="713" pos:column="53"/></literal></expr></argument>)<pos:position pos:line="713" pos:column="54"/></argument_list></call></expr>;<pos:position pos:line="713" pos:column="55"/></expr_stmt></block></then></if> <comment type="block" pos:line="713" pos:column="56">/* end of a chunked
                                                          transfer stream */</comment>
          }<pos:position pos:line="715" pos:column="12"/></block></else></if>
          <if pos:line="716" pos:column="11">if<condition pos:line="716" pos:column="13">(<expr><name pos:line="716" pos:column="14">result<pos:position pos:line="716" pos:column="20"/></name></expr>)<pos:position pos:line="716" pos:column="21"/></condition><then pos:line="716" pos:column="21">
            <block type="pseudo"><return pos:line="717" pos:column="13">return <expr><name pos:line="717" pos:column="20">result<pos:position pos:line="717" pos:column="26"/></name></expr>;<pos:position pos:line="717" pos:column="27"/></return></block></then></if>
        }<pos:position pos:line="718" pos:column="10"/></block></then>
        <else pos:line="719" pos:column="9">else <block pos:line="719" pos:column="14">{
          <comment type="block" pos:line="720" pos:column="11">/* A huge POST coming up, do data separate from the request */</comment>
          <expr_stmt><expr><name><name pos:line="721" pos:column="11">http<pos:position pos:line="721" pos:column="15"/></name><operator pos:line="721" pos:column="15">-&gt;<pos:position pos:line="721" pos:column="20"/></operator><name pos:line="721" pos:column="17">postsize<pos:position pos:line="721" pos:column="25"/></name></name> <operator pos:line="721" pos:column="26">=<pos:position pos:line="721" pos:column="27"/></operator> <name pos:line="721" pos:column="28">postsize<pos:position pos:line="721" pos:column="36"/></name></expr>;<pos:position pos:line="721" pos:column="37"/></expr_stmt>
          <expr_stmt><expr><name><name pos:line="722" pos:column="11">http<pos:position pos:line="722" pos:column="15"/></name><operator pos:line="722" pos:column="15">-&gt;<pos:position pos:line="722" pos:column="20"/></operator><name pos:line="722" pos:column="17">postdata<pos:position pos:line="722" pos:column="25"/></name></name> <operator pos:line="722" pos:column="26">=<pos:position pos:line="722" pos:column="27"/></operator> <name><name pos:line="722" pos:column="28">data<pos:position pos:line="722" pos:column="32"/></name><operator pos:line="722" pos:column="32">-&gt;<pos:position pos:line="722" pos:column="37"/></operator><name pos:line="722" pos:column="34">set<pos:position pos:line="722" pos:column="37"/></name><operator pos:line="722" pos:column="37">.<pos:position pos:line="722" pos:column="38"/></operator><name pos:line="722" pos:column="38">postfields<pos:position pos:line="722" pos:column="48"/></name></name></expr>;<pos:position pos:line="722" pos:column="49"/></expr_stmt>

          <expr_stmt><expr><name><name pos:line="724" pos:column="11">http<pos:position pos:line="724" pos:column="15"/></name><operator pos:line="724" pos:column="15">-&gt;<pos:position pos:line="724" pos:column="20"/></operator><name pos:line="724" pos:column="17">sending<pos:position pos:line="724" pos:column="24"/></name></name> <operator pos:line="724" pos:column="25">=<pos:position pos:line="724" pos:column="26"/></operator> <name pos:line="724" pos:column="27">HTTPSEND_BODY<pos:position pos:line="724" pos:column="40"/></name></expr>;<pos:position pos:line="724" pos:column="41"/></expr_stmt>

          <expr_stmt><expr><name><name pos:line="726" pos:column="11">conn<pos:position pos:line="726" pos:column="15"/></name><operator pos:line="726" pos:column="15">-&gt;<pos:position pos:line="726" pos:column="20"/></operator><name pos:line="726" pos:column="17">fread<pos:position pos:line="726" pos:column="22"/></name></name> <operator pos:line="726" pos:column="23">=<pos:position pos:line="726" pos:column="24"/></operator> <operator pos:line="726" pos:column="25">(<pos:position pos:line="726" pos:column="26"/></operator><name pos:line="726" pos:column="26">curl_read_callback<pos:position pos:line="726" pos:column="44"/></name><operator pos:line="726" pos:column="44">)<pos:position pos:line="726" pos:column="45"/></operator><name pos:line="726" pos:column="45">readmoredata<pos:position pos:line="726" pos:column="57"/></name></expr>;<pos:position pos:line="726" pos:column="58"/></expr_stmt>
          <expr_stmt><expr><name><name pos:line="727" pos:column="11">conn<pos:position pos:line="727" pos:column="15"/></name><operator pos:line="727" pos:column="15">-&gt;<pos:position pos:line="727" pos:column="20"/></operator><name pos:line="727" pos:column="17">fread_in<pos:position pos:line="727" pos:column="25"/></name></name> <operator pos:line="727" pos:column="26">=<pos:position pos:line="727" pos:column="27"/></operator> <operator pos:line="727" pos:column="28">(<pos:position pos:line="727" pos:column="29"/></operator><name pos:line="727" pos:column="29">void<pos:position pos:line="727" pos:column="33"/></name> <operator pos:line="727" pos:column="34">*<pos:position pos:line="727" pos:column="35"/></operator><operator pos:line="727" pos:column="35">)<pos:position pos:line="727" pos:column="36"/></operator><name pos:line="727" pos:column="36">conn<pos:position pos:line="727" pos:column="40"/></name></expr>;<pos:position pos:line="727" pos:column="41"/></expr_stmt>

          <comment type="block" pos:line="729" pos:column="11">/* set the upload size to the progress meter */</comment>
          <expr_stmt><expr><call><name pos:line="730" pos:column="11">Curl_pgrsSetUploadSize<pos:position pos:line="730" pos:column="33"/></name><argument_list pos:line="730" pos:column="33">(<argument><expr><name pos:line="730" pos:column="34">data<pos:position pos:line="730" pos:column="38"/></name></expr></argument>, <argument><expr><name><name pos:line="730" pos:column="40">http<pos:position pos:line="730" pos:column="44"/></name><operator pos:line="730" pos:column="44">-&gt;<pos:position pos:line="730" pos:column="49"/></operator><name pos:line="730" pos:column="46">postsize<pos:position pos:line="730" pos:column="54"/></name></name></expr></argument>)<pos:position pos:line="730" pos:column="55"/></argument_list></call></expr>;<pos:position pos:line="730" pos:column="56"/></expr_stmt>

          <expr_stmt><expr><name pos:line="732" pos:column="11">result<pos:position pos:line="732" pos:column="17"/></name> <operator pos:line="732" pos:column="18">=<pos:position pos:line="732" pos:column="19"/></operator> <call><name pos:line="732" pos:column="20">expect100<pos:position pos:line="732" pos:column="29"/></name><argument_list pos:line="732" pos:column="29">(<argument><expr><name pos:line="732" pos:column="30">data<pos:position pos:line="732" pos:column="34"/></name></expr></argument>, <argument><expr><name pos:line="732" pos:column="36">req_buffer<pos:position pos:line="732" pos:column="46"/></name></expr></argument>)<pos:position pos:line="732" pos:column="47"/></argument_list></call></expr>;<pos:position pos:line="732" pos:column="48"/></expr_stmt>
          <if pos:line="733" pos:column="11">if<condition pos:line="733" pos:column="13">(<expr><name pos:line="733" pos:column="14">result<pos:position pos:line="733" pos:column="20"/></name></expr>)<pos:position pos:line="733" pos:column="21"/></condition><then pos:line="733" pos:column="21">
            <block type="pseudo"><return pos:line="734" pos:column="13">return <expr><name pos:line="734" pos:column="20">result<pos:position pos:line="734" pos:column="26"/></name></expr>;<pos:position pos:line="734" pos:column="27"/></return></block></then></if>

          <expr_stmt><expr><call><name pos:line="736" pos:column="11">add_buffer<pos:position pos:line="736" pos:column="21"/></name><argument_list pos:line="736" pos:column="21">(<argument><expr><name pos:line="736" pos:column="22">req_buffer<pos:position pos:line="736" pos:column="32"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="736" pos:column="34">"\r\n"<pos:position pos:line="736" pos:column="40"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="736" pos:column="42">2<pos:position pos:line="736" pos:column="43"/></literal></expr></argument>)<pos:position pos:line="736" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="736" pos:column="45"/></expr_stmt> <comment type="block" pos:line="736" pos:column="46">/* end of headers! */</comment>
        }<pos:position pos:line="737" pos:column="10"/></block></else></if>
      }<pos:position pos:line="738" pos:column="8"/></block></then>
      <else pos:line="739" pos:column="7">else <block pos:line="739" pos:column="12">{
        <expr_stmt><expr><name pos:line="740" pos:column="9">result<pos:position pos:line="740" pos:column="15"/></name> <operator pos:line="740" pos:column="16">=<pos:position pos:line="740" pos:column="17"/></operator> <call><name pos:line="740" pos:column="18">expect100<pos:position pos:line="740" pos:column="27"/></name><argument_list pos:line="740" pos:column="27">(<argument><expr><name pos:line="740" pos:column="28">data<pos:position pos:line="740" pos:column="32"/></name></expr></argument>, <argument><expr><name pos:line="740" pos:column="34">req_buffer<pos:position pos:line="740" pos:column="44"/></name></expr></argument>)<pos:position pos:line="740" pos:column="45"/></argument_list></call></expr>;<pos:position pos:line="740" pos:column="46"/></expr_stmt>
        <if pos:line="741" pos:column="9">if<condition pos:line="741" pos:column="11">(<expr><name pos:line="741" pos:column="12">result<pos:position pos:line="741" pos:column="18"/></name></expr>)<pos:position pos:line="741" pos:column="19"/></condition><then pos:line="741" pos:column="19">
          <block type="pseudo"><return pos:line="742" pos:column="11">return <expr><name pos:line="742" pos:column="18">result<pos:position pos:line="742" pos:column="24"/></name></expr>;<pos:position pos:line="742" pos:column="25"/></return></block></then></if>

        <expr_stmt><expr><call><name pos:line="744" pos:column="9">add_buffer<pos:position pos:line="744" pos:column="19"/></name><argument_list pos:line="744" pos:column="19">(<argument><expr><name pos:line="744" pos:column="20">req_buffer<pos:position pos:line="744" pos:column="30"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="744" pos:column="32">"\r\n"<pos:position pos:line="744" pos:column="38"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="744" pos:column="40">2<pos:position pos:line="744" pos:column="41"/></literal></expr></argument>)<pos:position pos:line="744" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="744" pos:column="43"/></expr_stmt> <comment type="block" pos:line="744" pos:column="44">/* end of headers! */</comment>

        <if pos:line="746" pos:column="9">if<condition pos:line="746" pos:column="11">(<expr><name><name pos:line="746" pos:column="12">data<pos:position pos:line="746" pos:column="16"/></name><operator pos:line="746" pos:column="16">-&gt;<pos:position pos:line="746" pos:column="21"/></operator><name pos:line="746" pos:column="18">set<pos:position pos:line="746" pos:column="21"/></name><operator pos:line="746" pos:column="21">.<pos:position pos:line="746" pos:column="22"/></operator><name pos:line="746" pos:column="22">postfieldsize<pos:position pos:line="746" pos:column="35"/></name></name></expr>)<pos:position pos:line="746" pos:column="36"/></condition><then pos:line="746" pos:column="36"> <block pos:line="746" pos:column="37">{
          <comment type="block" pos:line="747" pos:column="11">/* set the upload size to the progress meter */</comment>
          <expr_stmt><expr><call><name pos:line="748" pos:column="11">Curl_pgrsSetUploadSize<pos:position pos:line="748" pos:column="33"/></name><argument_list pos:line="748" pos:column="33">(<argument><expr><name pos:line="748" pos:column="34">data<pos:position pos:line="748" pos:column="38"/></name></expr></argument>, <argument><expr><ternary><condition><expr><name pos:line="748" pos:column="40">postsize<pos:position pos:line="748" pos:column="48"/></name></expr>?<pos:position pos:line="748" pos:column="49"/></condition><then><expr><name pos:line="748" pos:column="49">postsize<pos:position pos:line="748" pos:column="57"/></name></expr></then><else pos:line="748" pos:column="57">:<expr><operator pos:line="748" pos:column="58">-<pos:position pos:line="748" pos:column="59"/></operator><literal type="number" pos:line="748" pos:column="59">1<pos:position pos:line="748" pos:column="60"/></literal></expr></else></ternary></expr></argument>)<pos:position pos:line="748" pos:column="61"/></argument_list></call></expr>;<pos:position pos:line="748" pos:column="62"/></expr_stmt>

          <comment type="block" pos:line="750" pos:column="11">/* set the pointer to mark that we will send the post body using
             the read callback */</comment>
          <expr_stmt><expr><name><name pos:line="752" pos:column="11">http<pos:position pos:line="752" pos:column="15"/></name><operator pos:line="752" pos:column="15">-&gt;<pos:position pos:line="752" pos:column="20"/></operator><name pos:line="752" pos:column="17">postdata<pos:position pos:line="752" pos:column="25"/></name></name> <operator pos:line="752" pos:column="26">=<pos:position pos:line="752" pos:column="27"/></operator> <operator pos:line="752" pos:column="28">(<pos:position pos:line="752" pos:column="29"/></operator><name pos:line="752" pos:column="29">char<pos:position pos:line="752" pos:column="33"/></name> <operator pos:line="752" pos:column="34">*<pos:position pos:line="752" pos:column="35"/></operator><operator pos:line="752" pos:column="35">)<pos:position pos:line="752" pos:column="36"/></operator><operator pos:line="752" pos:column="36">&amp;<pos:position pos:line="752" pos:column="41"/></operator><name><name pos:line="752" pos:column="37">http<pos:position pos:line="752" pos:column="41"/></name><operator pos:line="752" pos:column="41">-&gt;<pos:position pos:line="752" pos:column="46"/></operator><name pos:line="752" pos:column="43">postdata<pos:position pos:line="752" pos:column="51"/></name></name></expr>;<pos:position pos:line="752" pos:column="52"/></expr_stmt>
        }<pos:position pos:line="753" pos:column="10"/></block></then></if>
      }<pos:position pos:line="754" pos:column="8"/></block></else></if>
      <comment type="block" pos:line="755" pos:column="7">/* issue the request */</comment>
      <expr_stmt><expr><name pos:line="756" pos:column="7">result<pos:position pos:line="756" pos:column="13"/></name> <operator pos:line="756" pos:column="14">=<pos:position pos:line="756" pos:column="15"/></operator> <call><name pos:line="756" pos:column="16">add_buffer_send<pos:position pos:line="756" pos:column="31"/></name><argument_list pos:line="756" pos:column="31">(<argument><expr><name pos:line="756" pos:column="32">req_buffer<pos:position pos:line="756" pos:column="42"/></name></expr></argument>, <argument><expr><name pos:line="756" pos:column="44">conn<pos:position pos:line="756" pos:column="48"/></name></expr></argument>,
                               <argument><expr><operator pos:line="757" pos:column="32">&amp;<pos:position pos:line="757" pos:column="37"/></operator><name><name pos:line="757" pos:column="33">data<pos:position pos:line="757" pos:column="37"/></name><operator pos:line="757" pos:column="37">-&gt;<pos:position pos:line="757" pos:column="42"/></operator><name pos:line="757" pos:column="39">info<pos:position pos:line="757" pos:column="43"/></name><operator pos:line="757" pos:column="43">.<pos:position pos:line="757" pos:column="44"/></operator><name pos:line="757" pos:column="44">request_size<pos:position pos:line="757" pos:column="56"/></name></name></expr></argument>)<pos:position pos:line="757" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="757" pos:column="58"/></expr_stmt>

      <if pos:line="759" pos:column="7">if<condition pos:line="759" pos:column="9">(<expr><name pos:line="759" pos:column="10">result<pos:position pos:line="759" pos:column="16"/></name></expr>)<pos:position pos:line="759" pos:column="17"/></condition><then pos:line="759" pos:column="17">
        <block type="pseudo"><expr_stmt><expr><call><name pos:line="760" pos:column="9">failf<pos:position pos:line="760" pos:column="14"/></name><argument_list pos:line="760" pos:column="14">(<argument><expr><name pos:line="760" pos:column="15">data<pos:position pos:line="760" pos:column="19"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="760" pos:column="21">"Failed sending HTTP POST request"<pos:position pos:line="760" pos:column="55"/></literal></expr></argument>)<pos:position pos:line="760" pos:column="56"/></argument_list></call></expr>;<pos:position pos:line="760" pos:column="57"/></expr_stmt></block></then>
      <else pos:line="761" pos:column="7">else
        <block type="pseudo"><expr_stmt><expr><name pos:line="762" pos:column="9">result<pos:position pos:line="762" pos:column="15"/></name> <operator pos:line="762" pos:column="16">=<pos:position pos:line="762" pos:column="17"/></operator>
          <call><name pos:line="763" pos:column="11">Curl_Transfer<pos:position pos:line="763" pos:column="24"/></name><argument_list pos:line="763" pos:column="24">(<argument><expr><name pos:line="763" pos:column="25">conn<pos:position pos:line="763" pos:column="29"/></name></expr></argument>, <argument><expr><name pos:line="763" pos:column="31">FIRSTSOCKET<pos:position pos:line="763" pos:column="42"/></name></expr></argument>, <argument><expr><operator pos:line="763" pos:column="44">-<pos:position pos:line="763" pos:column="45"/></operator><literal type="number" pos:line="763" pos:column="45">1<pos:position pos:line="763" pos:column="46"/></literal></expr></argument>, <argument><expr><name pos:line="763" pos:column="48">TRUE<pos:position pos:line="763" pos:column="52"/></name></expr></argument>,
                        <argument><expr><operator pos:line="764" pos:column="25">&amp;<pos:position pos:line="764" pos:column="30"/></operator><name><name pos:line="764" pos:column="26">http<pos:position pos:line="764" pos:column="30"/></name><operator pos:line="764" pos:column="30">-&gt;<pos:position pos:line="764" pos:column="35"/></operator><name pos:line="764" pos:column="32">readbytecount<pos:position pos:line="764" pos:column="45"/></name></name></expr></argument>,
                        <argument><expr><ternary><condition><expr><name><name pos:line="765" pos:column="25">http<pos:position pos:line="765" pos:column="29"/></name><operator pos:line="765" pos:column="29">-&gt;<pos:position pos:line="765" pos:column="34"/></operator><name pos:line="765" pos:column="31">postdata<pos:position pos:line="765" pos:column="39"/></name></name></expr>?<pos:position pos:line="765" pos:column="40"/></condition><then><expr><name pos:line="765" pos:column="40">FIRSTSOCKET<pos:position pos:line="765" pos:column="51"/></name></expr></then><else pos:line="765" pos:column="51">:<expr><operator pos:line="765" pos:column="52">-<pos:position pos:line="765" pos:column="53"/></operator><literal type="number" pos:line="765" pos:column="53">1<pos:position pos:line="765" pos:column="54"/></literal></expr></else></ternary></expr></argument>,
                        <argument><expr><ternary><condition><expr><name><name pos:line="766" pos:column="25">http<pos:position pos:line="766" pos:column="29"/></name><operator pos:line="766" pos:column="29">-&gt;<pos:position pos:line="766" pos:column="34"/></operator><name pos:line="766" pos:column="31">postdata<pos:position pos:line="766" pos:column="39"/></name></name></expr>?<pos:position pos:line="766" pos:column="40"/></condition><then><expr><operator pos:line="766" pos:column="40">&amp;<pos:position pos:line="766" pos:column="45"/></operator><name><name pos:line="766" pos:column="41">http<pos:position pos:line="766" pos:column="45"/></name><operator pos:line="766" pos:column="45">-&gt;<pos:position pos:line="766" pos:column="50"/></operator><name pos:line="766" pos:column="47">writebytecount<pos:position pos:line="766" pos:column="61"/></name></name></expr></then><else pos:line="766" pos:column="61">:<expr><name pos:line="766" pos:column="62">NULL<pos:position pos:line="766" pos:column="66"/></name></expr></else></ternary></expr></argument>)<pos:position pos:line="766" pos:column="67"/></argument_list></call></expr>;<pos:position pos:line="766" pos:column="68"/></expr_stmt></block></else></if>
      <break pos:line="767" pos:column="7">break;<pos:position pos:line="767" pos:column="13"/></break>

    <default pos:line="769" pos:column="5">default:<pos:position pos:line="769" pos:column="13"/></default>
      <expr_stmt><expr><call><name pos:line="770" pos:column="7">add_buffer<pos:position pos:line="770" pos:column="17"/></name><argument_list pos:line="770" pos:column="17">(<argument><expr><name pos:line="770" pos:column="18">req_buffer<pos:position pos:line="770" pos:column="28"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="770" pos:column="30">"\r\n"<pos:position pos:line="770" pos:column="36"/></literal></expr></argument>, <argument><expr><literal type="number" pos:line="770" pos:column="38">2<pos:position pos:line="770" pos:column="39"/></literal></expr></argument>)<pos:position pos:line="770" pos:column="40"/></argument_list></call></expr>;<pos:position pos:line="770" pos:column="41"/></expr_stmt>

      <comment type="block" pos:line="772" pos:column="7">/* issue the request */</comment>
      <expr_stmt><expr><name pos:line="773" pos:column="7">result<pos:position pos:line="773" pos:column="13"/></name> <operator pos:line="773" pos:column="14">=<pos:position pos:line="773" pos:column="15"/></operator> <call><name pos:line="773" pos:column="16">add_buffer_send<pos:position pos:line="773" pos:column="31"/></name><argument_list pos:line="773" pos:column="31">(<argument><expr><name pos:line="773" pos:column="32">req_buffer<pos:position pos:line="773" pos:column="42"/></name></expr></argument>, <argument><expr><name pos:line="773" pos:column="44">conn<pos:position pos:line="773" pos:column="48"/></name></expr></argument>,
                               <argument><expr><operator pos:line="774" pos:column="32">&amp;<pos:position pos:line="774" pos:column="37"/></operator><name><name pos:line="774" pos:column="33">data<pos:position pos:line="774" pos:column="37"/></name><operator pos:line="774" pos:column="37">-&gt;<pos:position pos:line="774" pos:column="42"/></operator><name pos:line="774" pos:column="39">info<pos:position pos:line="774" pos:column="43"/></name><operator pos:line="774" pos:column="43">.<pos:position pos:line="774" pos:column="44"/></operator><name pos:line="774" pos:column="44">request_size<pos:position pos:line="774" pos:column="56"/></name></name></expr></argument>)<pos:position pos:line="774" pos:column="57"/></argument_list></call></expr>;<pos:position pos:line="774" pos:column="58"/></expr_stmt>

      <if pos:line="776" pos:column="7">if<condition pos:line="776" pos:column="9">(<expr><name pos:line="776" pos:column="10">result<pos:position pos:line="776" pos:column="16"/></name></expr>)<pos:position pos:line="776" pos:column="17"/></condition><then pos:line="776" pos:column="17">
        <block type="pseudo"><expr_stmt><expr><call><name pos:line="777" pos:column="9">failf<pos:position pos:line="777" pos:column="14"/></name><argument_list pos:line="777" pos:column="14">(<argument><expr><name pos:line="777" pos:column="15">data<pos:position pos:line="777" pos:column="19"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="777" pos:column="21">"Failed sending HTTP request"<pos:position pos:line="777" pos:column="50"/></literal></expr></argument>)<pos:position pos:line="777" pos:column="51"/></argument_list></call></expr>;<pos:position pos:line="777" pos:column="52"/></expr_stmt></block></then>
      <else pos:line="778" pos:column="7">else
        <comment type="block" pos:line="779" pos:column="9">/* HTTP GET/HEAD download: */</comment>
        <block type="pseudo"><expr_stmt><expr><name pos:line="780" pos:column="9">result<pos:position pos:line="780" pos:column="15"/></name> <operator pos:line="780" pos:column="16">=<pos:position pos:line="780" pos:column="17"/></operator> <call><name pos:line="780" pos:column="18">Curl_Transfer<pos:position pos:line="780" pos:column="31"/></name><argument_list pos:line="780" pos:column="31">(<argument><expr><name pos:line="780" pos:column="32">conn<pos:position pos:line="780" pos:column="36"/></name></expr></argument>, <argument><expr><name pos:line="780" pos:column="38">FIRSTSOCKET<pos:position pos:line="780" pos:column="49"/></name></expr></argument>, <argument><expr><operator pos:line="780" pos:column="51">-<pos:position pos:line="780" pos:column="52"/></operator><literal type="number" pos:line="780" pos:column="52">1<pos:position pos:line="780" pos:column="53"/></literal></expr></argument>, <argument><expr><name pos:line="780" pos:column="55">TRUE<pos:position pos:line="780" pos:column="59"/></name></expr></argument>,
                               <argument><expr><operator pos:line="781" pos:column="32">&amp;<pos:position pos:line="781" pos:column="37"/></operator><name><name pos:line="781" pos:column="33">http<pos:position pos:line="781" pos:column="37"/></name><operator pos:line="781" pos:column="37">-&gt;<pos:position pos:line="781" pos:column="42"/></operator><name pos:line="781" pos:column="39">readbytecount<pos:position pos:line="781" pos:column="52"/></name></name></expr></argument>,
                               <argument><expr><ternary><condition><expr><name><name pos:line="782" pos:column="32">http<pos:position pos:line="782" pos:column="36"/></name><operator pos:line="782" pos:column="36">-&gt;<pos:position pos:line="782" pos:column="41"/></operator><name pos:line="782" pos:column="38">postdata<pos:position pos:line="782" pos:column="46"/></name></name></expr>?<pos:position pos:line="782" pos:column="47"/></condition><then><expr><name pos:line="782" pos:column="47">FIRSTSOCKET<pos:position pos:line="782" pos:column="58"/></name></expr></then><else pos:line="782" pos:column="58">:<expr><operator pos:line="782" pos:column="59">-<pos:position pos:line="782" pos:column="60"/></operator><literal type="number" pos:line="782" pos:column="60">1<pos:position pos:line="782" pos:column="61"/></literal></expr></else></ternary></expr></argument>,
                               <argument><expr><ternary><condition><expr><name><name pos:line="783" pos:column="32">http<pos:position pos:line="783" pos:column="36"/></name><operator pos:line="783" pos:column="36">-&gt;<pos:position pos:line="783" pos:column="41"/></operator><name pos:line="783" pos:column="38">postdata<pos:position pos:line="783" pos:column="46"/></name></name></expr>?<pos:position pos:line="783" pos:column="47"/></condition><then><expr><operator pos:line="783" pos:column="47">&amp;<pos:position pos:line="783" pos:column="52"/></operator><name><name pos:line="783" pos:column="48">http<pos:position pos:line="783" pos:column="52"/></name><operator pos:line="783" pos:column="52">-&gt;<pos:position pos:line="783" pos:column="57"/></operator><name pos:line="783" pos:column="54">writebytecount<pos:position pos:line="783" pos:column="68"/></name></name></expr></then><else pos:line="783" pos:column="68">:<expr><name pos:line="783" pos:column="69">NULL<pos:position pos:line="783" pos:column="73"/></name></expr></else></ternary></expr></argument>)<pos:position pos:line="783" pos:column="74"/></argument_list></call></expr>;<pos:position pos:line="783" pos:column="75"/></expr_stmt></block></else></if>
    }<pos:position pos:line="784" pos:column="6"/></block></switch>
    <if pos:line="785" pos:column="5">if<condition pos:line="785" pos:column="7">(<expr><name pos:line="785" pos:column="8">result<pos:position pos:line="785" pos:column="14"/></name></expr>)<pos:position pos:line="785" pos:column="15"/></condition><then pos:line="785" pos:column="15">
      <block type="pseudo"><return pos:line="786" pos:column="7">return <expr><name pos:line="786" pos:column="14">result<pos:position pos:line="786" pos:column="20"/></name></expr>;<pos:position pos:line="786" pos:column="21"/></return></block></then></if>
  }<pos:position pos:line="787" pos:column="4"/></block>

  <return pos:line="789" pos:column="3">return <expr><name pos:line="789" pos:column="10">CURLE_OK<pos:position pos:line="789" pos:column="18"/></name></expr>;<pos:position pos:line="789" pos:column="19"/></return>
}<pos:position pos:line="790" pos:column="2"/></block></function></unit>
