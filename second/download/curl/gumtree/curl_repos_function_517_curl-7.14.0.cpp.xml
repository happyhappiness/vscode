<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="0.9.5" language="C++" filename="usr/info/code/cpp/LogMonitor/LogMonitor/second/download/curl/gumtree/curl_repos_function_517_curl-7.14.0.cpp" pos:tabs="8"><function><specifier pos:line="1" pos:column="1">static<pos:position pos:line="1" pos:column="7"/></specifier> <type><name pos:line="1" pos:column="8">CURLcode<pos:position pos:line="1" pos:column="16"/></name></type> <name pos:line="1" pos:column="17">ftp_readresp<pos:position pos:line="1" pos:column="29"/></name><parameter_list pos:line="1" pos:column="29">(<parameter><decl><type><name pos:line="1" pos:column="30">curl_socket_t<pos:position pos:line="1" pos:column="43"/></name></type> <name pos:line="1" pos:column="44">sockfd<pos:position pos:line="1" pos:column="50"/></name></decl></parameter>,
                             <parameter><decl><type><name><name pos:line="2" pos:column="30">struct<pos:position pos:line="2" pos:column="36"/></name> <name pos:line="2" pos:column="37">connectdata<pos:position pos:line="2" pos:column="48"/></name></name> <modifier pos:line="2" pos:column="49">*<pos:position pos:line="2" pos:column="50"/></modifier></type><name pos:line="2" pos:column="50">conn<pos:position pos:line="2" pos:column="54"/></name></decl></parameter>,
                             <parameter><decl><type><name pos:line="3" pos:column="30">int<pos:position pos:line="3" pos:column="33"/></name> <modifier pos:line="3" pos:column="34">*<pos:position pos:line="3" pos:column="35"/></modifier></type><name pos:line="3" pos:column="35">ftpcode<pos:position pos:line="3" pos:column="42"/></name></decl></parameter>, <comment type="block" pos:line="3" pos:column="44">/* return the ftp-code if done */</comment>
                             <parameter><decl><type><name pos:line="4" pos:column="30">size_t<pos:position pos:line="4" pos:column="36"/></name> <modifier pos:line="4" pos:column="37">*<pos:position pos:line="4" pos:column="38"/></modifier></type><name pos:line="4" pos:column="38">size<pos:position pos:line="4" pos:column="42"/></name></decl></parameter>)<pos:position pos:line="4" pos:column="43"/></parameter_list> <comment type="block" pos:line="4" pos:column="44">/* size of the response */</comment>
<block pos:line="5" pos:column="1">{
  <decl_stmt><decl><type><name pos:line="6" pos:column="3">int<pos:position pos:line="6" pos:column="6"/></name></type> <name pos:line="6" pos:column="7">perline<pos:position pos:line="6" pos:column="14"/></name></decl>;<pos:position pos:line="6" pos:column="15"/></decl_stmt> <comment type="block" pos:line="6" pos:column="16">/* count bytes per line */</comment>
  <decl_stmt><decl><type><name pos:line="7" pos:column="3">bool<pos:position pos:line="7" pos:column="7"/></name></type> <name pos:line="7" pos:column="8">keepon<pos:position pos:line="7" pos:column="14"/></name><init pos:line="7" pos:column="14">=<expr><name pos:line="7" pos:column="15">TRUE<pos:position pos:line="7" pos:column="19"/></name></expr></init></decl>;<pos:position pos:line="7" pos:column="20"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="8" pos:column="3">ssize_t<pos:position pos:line="8" pos:column="10"/></name></type> <name pos:line="8" pos:column="11">gotbytes<pos:position pos:line="8" pos:column="19"/></name></decl>;<pos:position pos:line="8" pos:column="20"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="9" pos:column="3">char<pos:position pos:line="9" pos:column="7"/></name> <modifier pos:line="9" pos:column="8">*<pos:position pos:line="9" pos:column="9"/></modifier></type><name pos:line="9" pos:column="9">ptr<pos:position pos:line="9" pos:column="12"/></name></decl>;<pos:position pos:line="9" pos:column="13"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="10" pos:column="3">struct<pos:position pos:line="10" pos:column="9"/></name> <name pos:line="10" pos:column="10">SessionHandle<pos:position pos:line="10" pos:column="23"/></name></name> <modifier pos:line="10" pos:column="24">*<pos:position pos:line="10" pos:column="25"/></modifier></type><name pos:line="10" pos:column="25">data<pos:position pos:line="10" pos:column="29"/></name> <init pos:line="10" pos:column="30">= <expr><name><name pos:line="10" pos:column="32">conn<pos:position pos:line="10" pos:column="36"/></name><operator pos:line="10" pos:column="36">-&gt;<pos:position pos:line="10" pos:column="41"/></operator><name pos:line="10" pos:column="38">data<pos:position pos:line="10" pos:column="42"/></name></name></expr></init></decl>;<pos:position pos:line="10" pos:column="43"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="11" pos:column="3">char<pos:position pos:line="11" pos:column="7"/></name> <modifier pos:line="11" pos:column="8">*<pos:position pos:line="11" pos:column="9"/></modifier></type><name pos:line="11" pos:column="9">buf<pos:position pos:line="11" pos:column="12"/></name> <init pos:line="11" pos:column="13">= <expr><name><name pos:line="11" pos:column="15">data<pos:position pos:line="11" pos:column="19"/></name><operator pos:line="11" pos:column="19">-&gt;<pos:position pos:line="11" pos:column="24"/></operator><name pos:line="11" pos:column="21">state<pos:position pos:line="11" pos:column="26"/></name><operator pos:line="11" pos:column="26">.<pos:position pos:line="11" pos:column="27"/></operator><name pos:line="11" pos:column="27">buffer<pos:position pos:line="11" pos:column="33"/></name></name></expr></init></decl>;<pos:position pos:line="11" pos:column="34"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="12" pos:column="3">CURLcode<pos:position pos:line="12" pos:column="11"/></name></type> <name pos:line="12" pos:column="12">result<pos:position pos:line="12" pos:column="18"/></name> <init pos:line="12" pos:column="19">= <expr><name pos:line="12" pos:column="21">CURLE_OK<pos:position pos:line="12" pos:column="29"/></name></expr></init></decl>;<pos:position pos:line="12" pos:column="30"/></decl_stmt>
  <decl_stmt><decl><type><name><name pos:line="13" pos:column="3">struct<pos:position pos:line="13" pos:column="9"/></name> <name pos:line="13" pos:column="10">FTP<pos:position pos:line="13" pos:column="13"/></name></name> <modifier pos:line="13" pos:column="14">*<pos:position pos:line="13" pos:column="15"/></modifier></type><name pos:line="13" pos:column="15">ftp<pos:position pos:line="13" pos:column="18"/></name> <init pos:line="13" pos:column="19">= <expr><name><name pos:line="13" pos:column="21">conn<pos:position pos:line="13" pos:column="25"/></name><operator pos:line="13" pos:column="25">-&gt;<pos:position pos:line="13" pos:column="30"/></operator><name pos:line="13" pos:column="27">proto<pos:position pos:line="13" pos:column="32"/></name><operator pos:line="13" pos:column="32">.<pos:position pos:line="13" pos:column="33"/></operator><name pos:line="13" pos:column="33">ftp<pos:position pos:line="13" pos:column="36"/></name></name></expr></init></decl>;<pos:position pos:line="13" pos:column="37"/></decl_stmt>
  <decl_stmt><decl><type><name pos:line="14" pos:column="3">int<pos:position pos:line="14" pos:column="6"/></name></type> <name pos:line="14" pos:column="7">code<pos:position pos:line="14" pos:column="11"/></name> <init pos:line="14" pos:column="12">= <expr><literal type="number" pos:line="14" pos:column="14">0<pos:position pos:line="14" pos:column="15"/></literal></expr></init></decl>;<pos:position pos:line="14" pos:column="16"/></decl_stmt>

  <if pos:line="16" pos:column="3">if <condition pos:line="16" pos:column="6">(<expr><name pos:line="16" pos:column="7">ftpcode<pos:position pos:line="16" pos:column="14"/></name></expr>)<pos:position pos:line="16" pos:column="15"/></condition><then pos:line="16" pos:column="15">
    <block type="pseudo"><expr_stmt><expr><operator pos:line="17" pos:column="5">*<pos:position pos:line="17" pos:column="6"/></operator><name pos:line="17" pos:column="6">ftpcode<pos:position pos:line="17" pos:column="13"/></name> <operator pos:line="17" pos:column="14">=<pos:position pos:line="17" pos:column="15"/></operator> <literal type="number" pos:line="17" pos:column="16">0<pos:position pos:line="17" pos:column="17"/></literal></expr>;<pos:position pos:line="17" pos:column="18"/></expr_stmt></block></then></if> <comment type="block" pos:line="17" pos:column="19">/* 0 for errors or not done */</comment>

  <expr_stmt><expr><name pos:line="19" pos:column="3">ptr<pos:position pos:line="19" pos:column="6"/></name><operator pos:line="19" pos:column="6">=<pos:position pos:line="19" pos:column="7"/></operator><name pos:line="19" pos:column="7">buf<pos:position pos:line="19" pos:column="10"/></name> <operator pos:line="19" pos:column="11">+<pos:position pos:line="19" pos:column="12"/></operator> <name><name pos:line="19" pos:column="13">ftp<pos:position pos:line="19" pos:column="16"/></name><operator pos:line="19" pos:column="16">-&gt;<pos:position pos:line="19" pos:column="21"/></operator><name pos:line="19" pos:column="18">nread_resp<pos:position pos:line="19" pos:column="28"/></name></name></expr>;<pos:position pos:line="19" pos:column="29"/></expr_stmt>

  <expr_stmt><expr><name pos:line="21" pos:column="3">perline<pos:position pos:line="21" pos:column="10"/></name><operator pos:line="21" pos:column="10">=<pos:position pos:line="21" pos:column="11"/></operator> <call pos:line="21" pos:column="12">(<name pos:line="21" pos:column="13">int<pos:position pos:line="21" pos:column="16"/></name>)<argument_list pos:line="21" pos:column="17">(<argument><expr><name pos:line="21" pos:column="18">ptr<pos:position pos:line="21" pos:column="21"/></name><operator pos:line="21" pos:column="21">-<pos:position pos:line="21" pos:column="22"/></operator><name><name pos:line="21" pos:column="22">ftp<pos:position pos:line="21" pos:column="25"/></name><operator pos:line="21" pos:column="25">-&gt;<pos:position pos:line="21" pos:column="30"/></operator><name pos:line="21" pos:column="27">linestart_resp<pos:position pos:line="21" pos:column="41"/></name></name></expr></argument>)<pos:position pos:line="21" pos:column="42"/></argument_list></call></expr>;<pos:position pos:line="21" pos:column="43"/></expr_stmt> <comment type="block" pos:line="21" pos:column="44">/* number of bytes in the current
                                              line, so far */</comment>
  <expr_stmt><expr><name pos:line="23" pos:column="3">keepon<pos:position pos:line="23" pos:column="9"/></name><operator pos:line="23" pos:column="9">=<pos:position pos:line="23" pos:column="10"/></operator><name pos:line="23" pos:column="10">TRUE<pos:position pos:line="23" pos:column="14"/></name></expr>;<pos:position pos:line="23" pos:column="15"/></expr_stmt>

  <while pos:line="25" pos:column="3">while<condition pos:line="25" pos:column="8">(<expr><operator pos:line="25" pos:column="9">(<pos:position pos:line="25" pos:column="10"/></operator><name><name pos:line="25" pos:column="10">ftp<pos:position pos:line="25" pos:column="13"/></name><operator pos:line="25" pos:column="13">-&gt;<pos:position pos:line="25" pos:column="18"/></operator><name pos:line="25" pos:column="15">nread_resp<pos:position pos:line="25" pos:column="25"/></name></name><operator pos:line="25" pos:column="25">&lt;<pos:position pos:line="25" pos:column="29"/></operator><name pos:line="25" pos:column="26">BUFSIZE<pos:position pos:line="25" pos:column="33"/></name><operator pos:line="25" pos:column="33">)<pos:position pos:line="25" pos:column="34"/></operator> <operator pos:line="25" pos:column="35">&amp;&amp;<pos:position pos:line="25" pos:column="45"/></operator> <operator pos:line="25" pos:column="38">(<pos:position pos:line="25" pos:column="39"/></operator><name pos:line="25" pos:column="39">keepon<pos:position pos:line="25" pos:column="45"/></name> <operator pos:line="25" pos:column="46">&amp;&amp;<pos:position pos:line="25" pos:column="56"/></operator> <operator pos:line="25" pos:column="49">!<pos:position pos:line="25" pos:column="50"/></operator><name pos:line="25" pos:column="50">result<pos:position pos:line="25" pos:column="56"/></name><operator pos:line="25" pos:column="56">)<pos:position pos:line="25" pos:column="57"/></operator></expr>)<pos:position pos:line="25" pos:column="58"/></condition> <block pos:line="25" pos:column="59">{

    <if pos:line="27" pos:column="5">if<condition pos:line="27" pos:column="7">(<expr><name><name pos:line="27" pos:column="8">ftp<pos:position pos:line="27" pos:column="11"/></name><operator pos:line="27" pos:column="11">-&gt;<pos:position pos:line="27" pos:column="16"/></operator><name pos:line="27" pos:column="13">cache<pos:position pos:line="27" pos:column="18"/></name></name></expr>)<pos:position pos:line="27" pos:column="19"/></condition><then pos:line="27" pos:column="19"> <block pos:line="27" pos:column="20">{
      <comment type="block" pos:line="28" pos:column="7">/* we had data in the "cache", copy that instead of doing an actual
       * read
       *
       * ftp-&gt;cache_size is cast to int here.  This should be safe,
       * because it would have been populated with something of size
       * int to begin with, even though its datatype may be larger
       * than an int.
       */</comment>
      <expr_stmt><expr><call><name pos:line="36" pos:column="7">memcpy<pos:position pos:line="36" pos:column="13"/></name><argument_list pos:line="36" pos:column="13">(<argument><expr><name pos:line="36" pos:column="14">ptr<pos:position pos:line="36" pos:column="17"/></name></expr></argument>, <argument><expr><name><name pos:line="36" pos:column="19">ftp<pos:position pos:line="36" pos:column="22"/></name><operator pos:line="36" pos:column="22">-&gt;<pos:position pos:line="36" pos:column="27"/></operator><name pos:line="36" pos:column="24">cache<pos:position pos:line="36" pos:column="29"/></name></name></expr></argument>, <argument><expr><operator pos:line="36" pos:column="31">(<pos:position pos:line="36" pos:column="32"/></operator><name pos:line="36" pos:column="32">int<pos:position pos:line="36" pos:column="35"/></name><operator pos:line="36" pos:column="35">)<pos:position pos:line="36" pos:column="36"/></operator><name><name pos:line="36" pos:column="36">ftp<pos:position pos:line="36" pos:column="39"/></name><operator pos:line="36" pos:column="39">-&gt;<pos:position pos:line="36" pos:column="44"/></operator><name pos:line="36" pos:column="41">cache_size<pos:position pos:line="36" pos:column="51"/></name></name></expr></argument>)<pos:position pos:line="36" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="36" pos:column="53"/></expr_stmt>
      <expr_stmt><expr><name pos:line="37" pos:column="7">gotbytes<pos:position pos:line="37" pos:column="15"/></name> <operator pos:line="37" pos:column="16">=<pos:position pos:line="37" pos:column="17"/></operator> <operator pos:line="37" pos:column="18">(<pos:position pos:line="37" pos:column="19"/></operator><name pos:line="37" pos:column="19">int<pos:position pos:line="37" pos:column="22"/></name><operator pos:line="37" pos:column="22">)<pos:position pos:line="37" pos:column="23"/></operator><name><name pos:line="37" pos:column="23">ftp<pos:position pos:line="37" pos:column="26"/></name><operator pos:line="37" pos:column="26">-&gt;<pos:position pos:line="37" pos:column="31"/></operator><name pos:line="37" pos:column="28">cache_size<pos:position pos:line="37" pos:column="38"/></name></name></expr>;<pos:position pos:line="37" pos:column="39"/></expr_stmt>
      <expr_stmt><expr><call><name pos:line="38" pos:column="7">free<pos:position pos:line="38" pos:column="11"/></name><argument_list pos:line="38" pos:column="11">(<argument><expr><name><name pos:line="38" pos:column="12">ftp<pos:position pos:line="38" pos:column="15"/></name><operator pos:line="38" pos:column="15">-&gt;<pos:position pos:line="38" pos:column="20"/></operator><name pos:line="38" pos:column="17">cache<pos:position pos:line="38" pos:column="22"/></name></name></expr></argument>)<pos:position pos:line="38" pos:column="23"/></argument_list></call></expr>;<pos:position pos:line="38" pos:column="24"/></expr_stmt>    <comment type="block" pos:line="38" pos:column="28">/* free the cache */</comment>
      <expr_stmt><expr><name><name pos:line="39" pos:column="7">ftp<pos:position pos:line="39" pos:column="10"/></name><operator pos:line="39" pos:column="10">-&gt;<pos:position pos:line="39" pos:column="15"/></operator><name pos:line="39" pos:column="12">cache<pos:position pos:line="39" pos:column="17"/></name></name> <operator pos:line="39" pos:column="18">=<pos:position pos:line="39" pos:column="19"/></operator> <name pos:line="39" pos:column="20">NULL<pos:position pos:line="39" pos:column="24"/></name></expr>;<pos:position pos:line="39" pos:column="25"/></expr_stmt>   <comment type="block" pos:line="39" pos:column="28">/* clear the pointer */</comment>
      <expr_stmt><expr><name><name pos:line="40" pos:column="7">ftp<pos:position pos:line="40" pos:column="10"/></name><operator pos:line="40" pos:column="10">-&gt;<pos:position pos:line="40" pos:column="15"/></operator><name pos:line="40" pos:column="12">cache_size<pos:position pos:line="40" pos:column="22"/></name></name> <operator pos:line="40" pos:column="23">=<pos:position pos:line="40" pos:column="24"/></operator> <literal type="number" pos:line="40" pos:column="25">0<pos:position pos:line="40" pos:column="26"/></literal></expr>;<pos:position pos:line="40" pos:column="27"/></expr_stmt> <comment type="block" pos:line="40" pos:column="28">/* zero the size just in case */</comment>
    }<pos:position pos:line="41" pos:column="6"/></block></then>
    <else pos:line="42" pos:column="5">else <block pos:line="42" pos:column="10">{
      <decl_stmt><decl><type><name pos:line="43" pos:column="7">int<pos:position pos:line="43" pos:column="10"/></name></type> <name pos:line="43" pos:column="11">res<pos:position pos:line="43" pos:column="14"/></name> <init pos:line="43" pos:column="15">= <expr><call><name pos:line="43" pos:column="17">Curl_read<pos:position pos:line="43" pos:column="26"/></name><argument_list pos:line="43" pos:column="26">(<argument><expr><name pos:line="43" pos:column="27">conn<pos:position pos:line="43" pos:column="31"/></name></expr></argument>, <argument><expr><name pos:line="43" pos:column="33">sockfd<pos:position pos:line="43" pos:column="39"/></name></expr></argument>, <argument><expr><name pos:line="43" pos:column="41">ptr<pos:position pos:line="43" pos:column="44"/></name></expr></argument>, <argument><expr><name pos:line="43" pos:column="46">BUFSIZE<pos:position pos:line="43" pos:column="53"/></name><operator pos:line="43" pos:column="53">-<pos:position pos:line="43" pos:column="54"/></operator><name><name pos:line="43" pos:column="54">ftp<pos:position pos:line="43" pos:column="57"/></name><operator pos:line="43" pos:column="57">-&gt;<pos:position pos:line="43" pos:column="62"/></operator><name pos:line="43" pos:column="59">nread_resp<pos:position pos:line="43" pos:column="69"/></name></name></expr></argument>,
                          <argument><expr><operator pos:line="44" pos:column="27">&amp;<pos:position pos:line="44" pos:column="32"/></operator><name pos:line="44" pos:column="28">gotbytes<pos:position pos:line="44" pos:column="36"/></name></expr></argument>)<pos:position pos:line="44" pos:column="37"/></argument_list></call></expr></init></decl>;<pos:position pos:line="44" pos:column="38"/></decl_stmt>
      <if pos:line="45" pos:column="7">if<condition pos:line="45" pos:column="9">(<expr><name pos:line="45" pos:column="10">res<pos:position pos:line="45" pos:column="13"/></name> <operator pos:line="45" pos:column="14">&lt;<pos:position pos:line="45" pos:column="18"/></operator> <literal type="number" pos:line="45" pos:column="16">0<pos:position pos:line="45" pos:column="17"/></literal></expr>)<pos:position pos:line="45" pos:column="18"/></condition><then pos:line="45" pos:column="18">
        <comment type="block" pos:line="46" pos:column="9">/* EWOULDBLOCK */</comment>
        <block type="pseudo"><return pos:line="47" pos:column="9">return <expr><name pos:line="47" pos:column="16">CURLE_OK<pos:position pos:line="47" pos:column="24"/></name></expr>;<pos:position pos:line="47" pos:column="25"/></return></block></then></if> <comment type="block" pos:line="47" pos:column="26">/* return */</comment>

      <if pos:line="49" pos:column="7">if<condition pos:line="49" pos:column="9">(<expr><name pos:line="49" pos:column="10">CURLE_OK<pos:position pos:line="49" pos:column="18"/></name> <operator pos:line="49" pos:column="19">!=<pos:position pos:line="49" pos:column="21"/></operator> <name pos:line="49" pos:column="22">res<pos:position pos:line="49" pos:column="25"/></name></expr>)<pos:position pos:line="49" pos:column="26"/></condition><then pos:line="49" pos:column="26">
        <block type="pseudo"><expr_stmt><expr><name pos:line="50" pos:column="9">keepon<pos:position pos:line="50" pos:column="15"/></name> <operator pos:line="50" pos:column="16">=<pos:position pos:line="50" pos:column="17"/></operator> <name pos:line="50" pos:column="18">FALSE<pos:position pos:line="50" pos:column="23"/></name></expr>;<pos:position pos:line="50" pos:column="24"/></expr_stmt></block></then></if>
    }<pos:position pos:line="51" pos:column="6"/></block></else></if>

    <if pos:line="53" pos:column="5">if<condition pos:line="53" pos:column="7">(<expr><operator pos:line="53" pos:column="8">!<pos:position pos:line="53" pos:column="9"/></operator><name pos:line="53" pos:column="9">keepon<pos:position pos:line="53" pos:column="15"/></name></expr>)<pos:position pos:line="53" pos:column="16"/></condition><then pos:line="53" pos:column="16">
      <block type="pseudo"><empty_stmt pos:line="54" pos:column="7">;<pos:position pos:line="54" pos:column="8"/></empty_stmt></block></then>
    <elseif pos:line="55" pos:column="5">else <if pos:line="55" pos:column="10">if<condition pos:line="55" pos:column="12">(<expr><name pos:line="55" pos:column="13">gotbytes<pos:position pos:line="55" pos:column="21"/></name> <operator pos:line="55" pos:column="22">&lt;=<pos:position pos:line="55" pos:column="27"/></operator> <literal type="number" pos:line="55" pos:column="25">0<pos:position pos:line="55" pos:column="26"/></literal></expr>)<pos:position pos:line="55" pos:column="27"/></condition><then pos:line="55" pos:column="27"> <block pos:line="55" pos:column="28">{
      <expr_stmt><expr><name pos:line="56" pos:column="7">keepon<pos:position pos:line="56" pos:column="13"/></name> <operator pos:line="56" pos:column="14">=<pos:position pos:line="56" pos:column="15"/></operator> <name pos:line="56" pos:column="16">FALSE<pos:position pos:line="56" pos:column="21"/></name></expr>;<pos:position pos:line="56" pos:column="22"/></expr_stmt>
      <expr_stmt><expr><name pos:line="57" pos:column="7">result<pos:position pos:line="57" pos:column="13"/></name> <operator pos:line="57" pos:column="14">=<pos:position pos:line="57" pos:column="15"/></operator> <name pos:line="57" pos:column="16">CURLE_RECV_ERROR<pos:position pos:line="57" pos:column="32"/></name></expr>;<pos:position pos:line="57" pos:column="33"/></expr_stmt>
      <expr_stmt><expr><call><name pos:line="58" pos:column="7">failf<pos:position pos:line="58" pos:column="12"/></name><argument_list pos:line="58" pos:column="12">(<argument><expr><name pos:line="58" pos:column="13">data<pos:position pos:line="58" pos:column="17"/></name></expr></argument>, <argument><expr><literal type="string" pos:line="58" pos:column="19">"FTP response reading failed"<pos:position pos:line="58" pos:column="48"/></literal></expr></argument>)<pos:position pos:line="58" pos:column="49"/></argument_list></call></expr>;<pos:position pos:line="58" pos:column="50"/></expr_stmt>
    }<pos:position pos:line="59" pos:column="6"/></block></then></if></elseif>
    <else pos:line="60" pos:column="5">else <block pos:line="60" pos:column="10">{
      <comment type="block" pos:line="61" pos:column="7">/* we got a whole chunk of data, which can be anything from one
       * byte to a set of lines and possible just a piece of the last
       * line */</comment>
      <decl_stmt><decl><type><name pos:line="64" pos:column="7">int<pos:position pos:line="64" pos:column="10"/></name></type> <name pos:line="64" pos:column="11">i<pos:position pos:line="64" pos:column="12"/></name></decl>;<pos:position pos:line="64" pos:column="13"/></decl_stmt>

      <expr_stmt><expr><name><name pos:line="66" pos:column="7">conn<pos:position pos:line="66" pos:column="11"/></name><operator pos:line="66" pos:column="11">-&gt;<pos:position pos:line="66" pos:column="16"/></operator><name pos:line="66" pos:column="13">headerbytecount<pos:position pos:line="66" pos:column="28"/></name></name> <operator pos:line="66" pos:column="29">+=<pos:position pos:line="66" pos:column="31"/></operator> <name pos:line="66" pos:column="32">gotbytes<pos:position pos:line="66" pos:column="40"/></name></expr>;<pos:position pos:line="66" pos:column="41"/></expr_stmt>

      <expr_stmt><expr><name><name pos:line="68" pos:column="7">ftp<pos:position pos:line="68" pos:column="10"/></name><operator pos:line="68" pos:column="10">-&gt;<pos:position pos:line="68" pos:column="15"/></operator><name pos:line="68" pos:column="12">nread_resp<pos:position pos:line="68" pos:column="22"/></name></name> <operator pos:line="68" pos:column="23">+=<pos:position pos:line="68" pos:column="25"/></operator> <name pos:line="68" pos:column="26">gotbytes<pos:position pos:line="68" pos:column="34"/></name></expr>;<pos:position pos:line="68" pos:column="35"/></expr_stmt>
      <for pos:line="69" pos:column="7">for<control pos:line="69" pos:column="10">(<init><expr><name pos:line="69" pos:column="11">i<pos:position pos:line="69" pos:column="12"/></name> <operator pos:line="69" pos:column="13">=<pos:position pos:line="69" pos:column="14"/></operator> <literal type="number" pos:line="69" pos:column="15">0<pos:position pos:line="69" pos:column="16"/></literal></expr>;<pos:position pos:line="69" pos:column="17"/></init> <condition><expr><name pos:line="69" pos:column="18">i<pos:position pos:line="69" pos:column="19"/></name> <operator pos:line="69" pos:column="20">&lt;<pos:position pos:line="69" pos:column="24"/></operator> <name pos:line="69" pos:column="22">gotbytes<pos:position pos:line="69" pos:column="30"/></name></expr>;<pos:position pos:line="69" pos:column="31"/></condition> <incr><expr><name pos:line="69" pos:column="32">ptr<pos:position pos:line="69" pos:column="35"/></name><operator pos:line="69" pos:column="35">++<pos:position pos:line="69" pos:column="37"/></operator></expr><operator pos:line="69" pos:column="37">,<pos:position pos:line="69" pos:column="38"/></operator> <expr><name pos:line="69" pos:column="39">i<pos:position pos:line="69" pos:column="40"/></name><operator pos:line="69" pos:column="40">++<pos:position pos:line="69" pos:column="42"/></operator></expr></incr>)<pos:position pos:line="69" pos:column="43"/></control> <block pos:line="69" pos:column="44">{
        <expr_stmt><expr><name pos:line="70" pos:column="9">perline<pos:position pos:line="70" pos:column="16"/></name><operator pos:line="70" pos:column="16">++<pos:position pos:line="70" pos:column="18"/></operator></expr>;<pos:position pos:line="70" pos:column="19"/></expr_stmt>
        <if pos:line="71" pos:column="9">if<condition pos:line="71" pos:column="11">(<expr><operator pos:line="71" pos:column="12">*<pos:position pos:line="71" pos:column="13"/></operator><name pos:line="71" pos:column="13">ptr<pos:position pos:line="71" pos:column="16"/></name><operator pos:line="71" pos:column="16">==<pos:position pos:line="71" pos:column="18"/></operator><literal type="char" pos:line="71" pos:column="18">'\n'<pos:position pos:line="71" pos:column="22"/></literal></expr>)<pos:position pos:line="71" pos:column="23"/></condition><then pos:line="71" pos:column="23"> <block pos:line="71" pos:column="24">{
          <comment type="block" pos:line="72" pos:column="11">/* a newline is CRLF in ftp-talk, so the CR is ignored as
             the line isn't really terminated until the LF comes */</comment>

          <comment type="block" pos:line="75" pos:column="11">/* output debug output if that is requested */</comment>
          <if pos:line="76" pos:column="11">if<condition pos:line="76" pos:column="13">(<expr><name><name pos:line="76" pos:column="14">data<pos:position pos:line="76" pos:column="18"/></name><operator pos:line="76" pos:column="18">-&gt;<pos:position pos:line="76" pos:column="23"/></operator><name pos:line="76" pos:column="20">set<pos:position pos:line="76" pos:column="23"/></name><operator pos:line="76" pos:column="23">.<pos:position pos:line="76" pos:column="24"/></operator><name pos:line="76" pos:column="24">verbose<pos:position pos:line="76" pos:column="31"/></name></name></expr>)<pos:position pos:line="76" pos:column="32"/></condition><then pos:line="76" pos:column="32">
            <block type="pseudo"><expr_stmt><expr><call><name pos:line="77" pos:column="13">Curl_debug<pos:position pos:line="77" pos:column="23"/></name><argument_list pos:line="77" pos:column="23">(<argument><expr><name pos:line="77" pos:column="24">data<pos:position pos:line="77" pos:column="28"/></name></expr></argument>, <argument><expr><name pos:line="77" pos:column="30">CURLINFO_HEADER_IN<pos:position pos:line="77" pos:column="48"/></name></expr></argument>,
                       <argument><expr><name><name pos:line="78" pos:column="24">ftp<pos:position pos:line="78" pos:column="27"/></name><operator pos:line="78" pos:column="27">-&gt;<pos:position pos:line="78" pos:column="32"/></operator><name pos:line="78" pos:column="29">linestart_resp<pos:position pos:line="78" pos:column="43"/></name></name></expr></argument>, <argument><expr><name pos:line="78" pos:column="45">perline<pos:position pos:line="78" pos:column="52"/></name></expr></argument>, <argument><expr><name pos:line="78" pos:column="54">conn<pos:position pos:line="78" pos:column="58"/></name></expr></argument>)<pos:position pos:line="78" pos:column="59"/></argument_list></call></expr>;<pos:position pos:line="78" pos:column="60"/></expr_stmt></block></then></if>

          <comment type="block" pos:line="80" pos:column="11">/*
           * We pass all response-lines to the callback function registered
           * for "headers". The response lines can be seen as a kind of
           * headers.
           */</comment>
          <expr_stmt><expr><name pos:line="85" pos:column="11">result<pos:position pos:line="85" pos:column="17"/></name> <operator pos:line="85" pos:column="18">=<pos:position pos:line="85" pos:column="19"/></operator> <call><name pos:line="85" pos:column="20">Curl_client_write<pos:position pos:line="85" pos:column="37"/></name><argument_list pos:line="85" pos:column="37">(<argument><expr><name pos:line="85" pos:column="38">data<pos:position pos:line="85" pos:column="42"/></name></expr></argument>, <argument><expr><name pos:line="85" pos:column="44">CLIENTWRITE_HEADER<pos:position pos:line="85" pos:column="62"/></name></expr></argument>,
                                     <argument><expr><name><name pos:line="86" pos:column="38">ftp<pos:position pos:line="86" pos:column="41"/></name><operator pos:line="86" pos:column="41">-&gt;<pos:position pos:line="86" pos:column="46"/></operator><name pos:line="86" pos:column="43">linestart_resp<pos:position pos:line="86" pos:column="57"/></name></name></expr></argument>, <argument><expr><name pos:line="86" pos:column="59">perline<pos:position pos:line="86" pos:column="66"/></name></expr></argument>)<pos:position pos:line="86" pos:column="67"/></argument_list></call></expr>;<pos:position pos:line="86" pos:column="68"/></expr_stmt>
          <if pos:line="87" pos:column="11">if<condition pos:line="87" pos:column="13">(<expr><name pos:line="87" pos:column="14">result<pos:position pos:line="87" pos:column="20"/></name></expr>)<pos:position pos:line="87" pos:column="21"/></condition><then pos:line="87" pos:column="21">
            <block type="pseudo"><return pos:line="88" pos:column="13">return <expr><name pos:line="88" pos:column="20">result<pos:position pos:line="88" pos:column="26"/></name></expr>;<pos:position pos:line="88" pos:column="27"/></return></block></then></if>

          <if pos:line="90" pos:column="11">if<condition pos:line="90" pos:column="13">(<expr><name pos:line="90" pos:column="14">perline<pos:position pos:line="90" pos:column="21"/></name><operator pos:line="90" pos:column="21">&gt;<pos:position pos:line="90" pos:column="25"/></operator><literal type="number" pos:line="90" pos:column="22">3<pos:position pos:line="90" pos:column="23"/></literal> <operator pos:line="90" pos:column="24">&amp;&amp;<pos:position pos:line="90" pos:column="34"/></operator> <call><name pos:line="90" pos:column="27">lastline<pos:position pos:line="90" pos:column="35"/></name><argument_list pos:line="90" pos:column="35">(<argument><expr><name><name pos:line="90" pos:column="36">ftp<pos:position pos:line="90" pos:column="39"/></name><operator pos:line="90" pos:column="39">-&gt;<pos:position pos:line="90" pos:column="44"/></operator><name pos:line="90" pos:column="41">linestart_resp<pos:position pos:line="90" pos:column="55"/></name></name></expr></argument>)<pos:position pos:line="90" pos:column="56"/></argument_list></call></expr>)<pos:position pos:line="90" pos:column="57"/></condition><then pos:line="90" pos:column="57"> <block pos:line="90" pos:column="58">{
            <comment type="block" pos:line="91" pos:column="13">/* This is the end of the last line, copy the last line to the
               start of the buffer and zero terminate, for old times sake (and
               krb4)! */</comment>
            <decl_stmt><decl><type><name pos:line="94" pos:column="13">char<pos:position pos:line="94" pos:column="17"/></name> <modifier pos:line="94" pos:column="18">*<pos:position pos:line="94" pos:column="19"/></modifier></type><name pos:line="94" pos:column="19">meow<pos:position pos:line="94" pos:column="23"/></name></decl>;<pos:position pos:line="94" pos:column="24"/></decl_stmt>
            <decl_stmt><decl><type><name pos:line="95" pos:column="13">int<pos:position pos:line="95" pos:column="16"/></name></type> <name pos:line="95" pos:column="17">n<pos:position pos:line="95" pos:column="18"/></name></decl>;<pos:position pos:line="95" pos:column="19"/></decl_stmt>
            <for pos:line="96" pos:column="13">for<control pos:line="96" pos:column="16">(<init><expr><name pos:line="96" pos:column="17">meow<pos:position pos:line="96" pos:column="21"/></name><operator pos:line="96" pos:column="21">=<pos:position pos:line="96" pos:column="22"/></operator><name><name pos:line="96" pos:column="22">ftp<pos:position pos:line="96" pos:column="25"/></name><operator pos:line="96" pos:column="25">-&gt;<pos:position pos:line="96" pos:column="30"/></operator><name pos:line="96" pos:column="27">linestart_resp<pos:position pos:line="96" pos:column="41"/></name></name></expr><operator pos:line="96" pos:column="41">,<pos:position pos:line="96" pos:column="42"/></operator> <expr><name pos:line="96" pos:column="43">n<pos:position pos:line="96" pos:column="44"/></name><operator pos:line="96" pos:column="44">=<pos:position pos:line="96" pos:column="45"/></operator><literal type="number" pos:line="96" pos:column="45">0<pos:position pos:line="96" pos:column="46"/></literal></expr>;<pos:position pos:line="96" pos:column="47"/></init> <condition><expr><name pos:line="96" pos:column="48">meow<pos:position pos:line="96" pos:column="52"/></name><operator pos:line="96" pos:column="52">&lt;<pos:position pos:line="96" pos:column="56"/></operator><name pos:line="96" pos:column="53">ptr<pos:position pos:line="96" pos:column="56"/></name></expr>;<pos:position pos:line="96" pos:column="57"/></condition> <incr><expr><name pos:line="96" pos:column="58">meow<pos:position pos:line="96" pos:column="62"/></name><operator pos:line="96" pos:column="62">++<pos:position pos:line="96" pos:column="64"/></operator></expr><operator pos:line="96" pos:column="64">,<pos:position pos:line="96" pos:column="65"/></operator> <expr><name pos:line="96" pos:column="66">n<pos:position pos:line="96" pos:column="67"/></name><operator pos:line="96" pos:column="67">++<pos:position pos:line="96" pos:column="69"/></operator></expr></incr>)<pos:position pos:line="96" pos:column="70"/></control>
              <block type="pseudo"><expr_stmt><expr><name><name pos:line="97" pos:column="15">buf<pos:position pos:line="97" pos:column="18"/></name><index pos:line="97" pos:column="18">[<expr><name pos:line="97" pos:column="19">n<pos:position pos:line="97" pos:column="20"/></name></expr>]<pos:position pos:line="97" pos:column="21"/></index></name> <operator pos:line="97" pos:column="22">=<pos:position pos:line="97" pos:column="23"/></operator> <operator pos:line="97" pos:column="24">*<pos:position pos:line="97" pos:column="25"/></operator><name pos:line="97" pos:column="25">meow<pos:position pos:line="97" pos:column="29"/></name></expr>;<pos:position pos:line="97" pos:column="30"/></expr_stmt></block></for>
            <expr_stmt><expr><operator pos:line="98" pos:column="13">*<pos:position pos:line="98" pos:column="14"/></operator><name pos:line="98" pos:column="14">meow<pos:position pos:line="98" pos:column="18"/></name><operator pos:line="98" pos:column="18">=<pos:position pos:line="98" pos:column="19"/></operator><literal type="number" pos:line="98" pos:column="19">0<pos:position pos:line="98" pos:column="20"/></literal></expr>;<pos:position pos:line="98" pos:column="21"/></expr_stmt> <comment type="block" pos:line="98" pos:column="22">/* zero terminate */</comment>
            <expr_stmt><expr><name pos:line="99" pos:column="13">keepon<pos:position pos:line="99" pos:column="19"/></name><operator pos:line="99" pos:column="19">=<pos:position pos:line="99" pos:column="20"/></operator><name pos:line="99" pos:column="20">FALSE<pos:position pos:line="99" pos:column="25"/></name></expr>;<pos:position pos:line="99" pos:column="26"/></expr_stmt>
            <expr_stmt><expr><name><name pos:line="100" pos:column="13">ftp<pos:position pos:line="100" pos:column="16"/></name><operator pos:line="100" pos:column="16">-&gt;<pos:position pos:line="100" pos:column="21"/></operator><name pos:line="100" pos:column="18">linestart_resp<pos:position pos:line="100" pos:column="32"/></name></name> <operator pos:line="100" pos:column="33">=<pos:position pos:line="100" pos:column="34"/></operator> <name pos:line="100" pos:column="35">ptr<pos:position pos:line="100" pos:column="38"/></name><operator pos:line="100" pos:column="38">+<pos:position pos:line="100" pos:column="39"/></operator><literal type="number" pos:line="100" pos:column="39">1<pos:position pos:line="100" pos:column="40"/></literal></expr>;<pos:position pos:line="100" pos:column="41"/></expr_stmt> <comment type="block" pos:line="100" pos:column="42">/* advance pointer */</comment>
            <expr_stmt><expr><name pos:line="101" pos:column="13">i<pos:position pos:line="101" pos:column="14"/></name><operator pos:line="101" pos:column="14">++<pos:position pos:line="101" pos:column="16"/></operator></expr>;<pos:position pos:line="101" pos:column="17"/></expr_stmt> <comment type="block" pos:line="101" pos:column="18">/* skip this before getting out */</comment>

            <expr_stmt><expr><operator pos:line="103" pos:column="13">*<pos:position pos:line="103" pos:column="14"/></operator><name pos:line="103" pos:column="14">size<pos:position pos:line="103" pos:column="18"/></name> <operator pos:line="103" pos:column="19">=<pos:position pos:line="103" pos:column="20"/></operator> <name><name pos:line="103" pos:column="21">ftp<pos:position pos:line="103" pos:column="24"/></name><operator pos:line="103" pos:column="24">-&gt;<pos:position pos:line="103" pos:column="29"/></operator><name pos:line="103" pos:column="26">nread_resp<pos:position pos:line="103" pos:column="36"/></name></name></expr>;<pos:position pos:line="103" pos:column="37"/></expr_stmt> <comment type="block" pos:line="103" pos:column="38">/* size of the response */</comment>
            <expr_stmt><expr><name><name pos:line="104" pos:column="13">ftp<pos:position pos:line="104" pos:column="16"/></name><operator pos:line="104" pos:column="16">-&gt;<pos:position pos:line="104" pos:column="21"/></operator><name pos:line="104" pos:column="18">nread_resp<pos:position pos:line="104" pos:column="28"/></name></name> <operator pos:line="104" pos:column="29">=<pos:position pos:line="104" pos:column="30"/></operator> <literal type="number" pos:line="104" pos:column="31">0<pos:position pos:line="104" pos:column="32"/></literal></expr>;<pos:position pos:line="104" pos:column="33"/></expr_stmt> <comment type="block" pos:line="104" pos:column="34">/* restart */</comment>
            <break pos:line="105" pos:column="13">break;<pos:position pos:line="105" pos:column="19"/></break>
          }<pos:position pos:line="106" pos:column="12"/></block></then></if>
          <expr_stmt><expr><name pos:line="107" pos:column="11">perline<pos:position pos:line="107" pos:column="18"/></name><operator pos:line="107" pos:column="18">=<pos:position pos:line="107" pos:column="19"/></operator><literal type="number" pos:line="107" pos:column="19">0<pos:position pos:line="107" pos:column="20"/></literal></expr>;<pos:position pos:line="107" pos:column="21"/></expr_stmt> <comment type="block" pos:line="107" pos:column="22">/* line starts over here */</comment>
          <expr_stmt><expr><name><name pos:line="108" pos:column="11">ftp<pos:position pos:line="108" pos:column="14"/></name><operator pos:line="108" pos:column="14">-&gt;<pos:position pos:line="108" pos:column="19"/></operator><name pos:line="108" pos:column="16">linestart_resp<pos:position pos:line="108" pos:column="30"/></name></name> <operator pos:line="108" pos:column="31">=<pos:position pos:line="108" pos:column="32"/></operator> <name pos:line="108" pos:column="33">ptr<pos:position pos:line="108" pos:column="36"/></name><operator pos:line="108" pos:column="36">+<pos:position pos:line="108" pos:column="37"/></operator><literal type="number" pos:line="108" pos:column="37">1<pos:position pos:line="108" pos:column="38"/></literal></expr>;<pos:position pos:line="108" pos:column="39"/></expr_stmt>
        }<pos:position pos:line="109" pos:column="10"/></block></then></if>
      }<pos:position pos:line="110" pos:column="8"/></block></for>
      <if pos:line="111" pos:column="7">if<condition pos:line="111" pos:column="9">(<expr><operator pos:line="111" pos:column="10">!<pos:position pos:line="111" pos:column="11"/></operator><name pos:line="111" pos:column="11">keepon<pos:position pos:line="111" pos:column="17"/></name> <operator pos:line="111" pos:column="18">&amp;&amp;<pos:position pos:line="111" pos:column="28"/></operator> <operator pos:line="111" pos:column="21">(<pos:position pos:line="111" pos:column="22"/></operator><name pos:line="111" pos:column="22">i<pos:position pos:line="111" pos:column="23"/></name> <operator pos:line="111" pos:column="24">!=<pos:position pos:line="111" pos:column="26"/></operator> <name pos:line="111" pos:column="27">gotbytes<pos:position pos:line="111" pos:column="35"/></name><operator pos:line="111" pos:column="35">)<pos:position pos:line="111" pos:column="36"/></operator></expr>)<pos:position pos:line="111" pos:column="37"/></condition><then pos:line="111" pos:column="37"> <block pos:line="111" pos:column="38">{
        <comment type="block" pos:line="112" pos:column="9">/* We found the end of the response lines, but we didn't parse the
           full chunk of data we have read from the server. We therefore need
           to store the rest of the data to be checked on the next invoke as
           it may actually contain another end of response already! */</comment>
        <expr_stmt><expr><name><name pos:line="116" pos:column="9">ftp<pos:position pos:line="116" pos:column="12"/></name><operator pos:line="116" pos:column="12">-&gt;<pos:position pos:line="116" pos:column="17"/></operator><name pos:line="116" pos:column="14">cache_size<pos:position pos:line="116" pos:column="24"/></name></name> <operator pos:line="116" pos:column="25">=<pos:position pos:line="116" pos:column="26"/></operator> <name pos:line="116" pos:column="27">gotbytes<pos:position pos:line="116" pos:column="35"/></name> <operator pos:line="116" pos:column="36">-<pos:position pos:line="116" pos:column="37"/></operator> <name pos:line="116" pos:column="38">i<pos:position pos:line="116" pos:column="39"/></name></expr>;<pos:position pos:line="116" pos:column="40"/></expr_stmt>
        <expr_stmt><expr><name><name pos:line="117" pos:column="9">ftp<pos:position pos:line="117" pos:column="12"/></name><operator pos:line="117" pos:column="12">-&gt;<pos:position pos:line="117" pos:column="17"/></operator><name pos:line="117" pos:column="14">cache<pos:position pos:line="117" pos:column="19"/></name></name> <operator pos:line="117" pos:column="20">=<pos:position pos:line="117" pos:column="21"/></operator> <operator pos:line="117" pos:column="22">(<pos:position pos:line="117" pos:column="23"/></operator><name pos:line="117" pos:column="23">char<pos:position pos:line="117" pos:column="27"/></name> <operator pos:line="117" pos:column="28">*<pos:position pos:line="117" pos:column="29"/></operator><operator pos:line="117" pos:column="29">)<pos:position pos:line="117" pos:column="30"/></operator><call><name pos:line="117" pos:column="30">malloc<pos:position pos:line="117" pos:column="36"/></name><argument_list pos:line="117" pos:column="36">(<argument><expr><operator pos:line="117" pos:column="37">(<pos:position pos:line="117" pos:column="38"/></operator><name pos:line="117" pos:column="38">int<pos:position pos:line="117" pos:column="41"/></name><operator pos:line="117" pos:column="41">)<pos:position pos:line="117" pos:column="42"/></operator><name><name pos:line="117" pos:column="42">ftp<pos:position pos:line="117" pos:column="45"/></name><operator pos:line="117" pos:column="45">-&gt;<pos:position pos:line="117" pos:column="50"/></operator><name pos:line="117" pos:column="47">cache_size<pos:position pos:line="117" pos:column="57"/></name></name></expr></argument>)<pos:position pos:line="117" pos:column="58"/></argument_list></call></expr>;<pos:position pos:line="117" pos:column="59"/></expr_stmt>
        <if pos:line="118" pos:column="9">if<condition pos:line="118" pos:column="11">(<expr><name><name pos:line="118" pos:column="12">ftp<pos:position pos:line="118" pos:column="15"/></name><operator pos:line="118" pos:column="15">-&gt;<pos:position pos:line="118" pos:column="20"/></operator><name pos:line="118" pos:column="17">cache<pos:position pos:line="118" pos:column="22"/></name></name></expr>)<pos:position pos:line="118" pos:column="23"/></condition><then pos:line="118" pos:column="23">
          <block type="pseudo"><expr_stmt><expr><call><name pos:line="119" pos:column="11">memcpy<pos:position pos:line="119" pos:column="17"/></name><argument_list pos:line="119" pos:column="17">(<argument><expr><name><name pos:line="119" pos:column="18">ftp<pos:position pos:line="119" pos:column="21"/></name><operator pos:line="119" pos:column="21">-&gt;<pos:position pos:line="119" pos:column="26"/></operator><name pos:line="119" pos:column="23">cache<pos:position pos:line="119" pos:column="28"/></name></name></expr></argument>, <argument><expr><name><name pos:line="119" pos:column="30">ftp<pos:position pos:line="119" pos:column="33"/></name><operator pos:line="119" pos:column="33">-&gt;<pos:position pos:line="119" pos:column="38"/></operator><name pos:line="119" pos:column="35">linestart_resp<pos:position pos:line="119" pos:column="49"/></name></name></expr></argument>, <argument><expr><operator pos:line="119" pos:column="51">(<pos:position pos:line="119" pos:column="52"/></operator><name pos:line="119" pos:column="52">int<pos:position pos:line="119" pos:column="55"/></name><operator pos:line="119" pos:column="55">)<pos:position pos:line="119" pos:column="56"/></operator><name><name pos:line="119" pos:column="56">ftp<pos:position pos:line="119" pos:column="59"/></name><operator pos:line="119" pos:column="59">-&gt;<pos:position pos:line="119" pos:column="64"/></operator><name pos:line="119" pos:column="61">cache_size<pos:position pos:line="119" pos:column="71"/></name></name></expr></argument>)<pos:position pos:line="119" pos:column="72"/></argument_list></call></expr>;<pos:position pos:line="119" pos:column="73"/></expr_stmt></block></then>
        <else pos:line="120" pos:column="9">else
          <block type="pseudo"><return pos:line="121" pos:column="11">return <expr><name pos:line="121" pos:column="18">CURLE_OUT_OF_MEMORY<pos:position pos:line="121" pos:column="37"/></name></expr>;<pos:position pos:line="121" pos:column="38"/></return></block></else></if> <comment type="block" format="doxygen" pos:line="121" pos:column="39">/**BANG**/</comment>
      }<pos:position pos:line="122" pos:column="8"/></block></then></if>
    }<pos:position pos:line="123" pos:column="6"/></block></else></if> <comment type="block" pos:line="123" pos:column="7">/* there was data */</comment>

  }<pos:position pos:line="125" pos:column="4"/></block></while> <comment type="block" pos:line="125" pos:column="5">/* while there's buffer left and loop is requested */</comment>

  <if pos:line="127" pos:column="3">if<condition pos:line="127" pos:column="5">(<expr><operator pos:line="127" pos:column="6">!<pos:position pos:line="127" pos:column="7"/></operator><name pos:line="127" pos:column="7">result<pos:position pos:line="127" pos:column="13"/></name></expr>)<pos:position pos:line="127" pos:column="14"/></condition><then pos:line="127" pos:column="14">
    <block type="pseudo"><expr_stmt><expr><name pos:line="128" pos:column="5">code<pos:position pos:line="128" pos:column="9"/></name> <operator pos:line="128" pos:column="10">=<pos:position pos:line="128" pos:column="11"/></operator> <call><name pos:line="128" pos:column="12">atoi<pos:position pos:line="128" pos:column="16"/></name><argument_list pos:line="128" pos:column="16">(<argument><expr><name pos:line="128" pos:column="17">buf<pos:position pos:line="128" pos:column="20"/></name></expr></argument>)<pos:position pos:line="128" pos:column="21"/></argument_list></call></expr>;<pos:position pos:line="128" pos:column="22"/></expr_stmt></block></then></if>

<cpp:ifdef pos:line="130" pos:column="1">#<cpp:directive pos:line="130" pos:column="2">ifdef<pos:position pos:line="130" pos:column="7"/></cpp:directive> <name pos:line="130" pos:column="8">HAVE_KRB4<pos:position pos:line="130" pos:column="17"/></name></cpp:ifdef>
  <comment type="block" pos:line="131" pos:column="3">/* handle the security-oriented responses 6xx ***/</comment>
  <comment type="block" pos:line="132" pos:column="3">/* FIXME: some errorchecking perhaps... ***/</comment>
  <switch pos:line="133" pos:column="3">switch<condition pos:line="133" pos:column="9">(<expr><name pos:line="133" pos:column="10">code<pos:position pos:line="133" pos:column="14"/></name></expr>)<pos:position pos:line="133" pos:column="15"/></condition> <block pos:line="133" pos:column="16">{
  <case pos:line="134" pos:column="3">case <expr><literal type="number" pos:line="134" pos:column="8">631<pos:position pos:line="134" pos:column="11"/></literal></expr>:<pos:position pos:line="134" pos:column="12"/></case>
    <expr_stmt><expr><call><name pos:line="135" pos:column="5">Curl_sec_read_msg<pos:position pos:line="135" pos:column="22"/></name><argument_list pos:line="135" pos:column="22">(<argument><expr><name pos:line="135" pos:column="23">conn<pos:position pos:line="135" pos:column="27"/></name></expr></argument>, <argument><expr><name pos:line="135" pos:column="29">buf<pos:position pos:line="135" pos:column="32"/></name></expr></argument>, <argument><expr><name pos:line="135" pos:column="34">prot_safe<pos:position pos:line="135" pos:column="43"/></name></expr></argument>)<pos:position pos:line="135" pos:column="44"/></argument_list></call></expr>;<pos:position pos:line="135" pos:column="45"/></expr_stmt>
    <break pos:line="136" pos:column="5">break;<pos:position pos:line="136" pos:column="11"/></break>
  <case pos:line="137" pos:column="3">case <expr><literal type="number" pos:line="137" pos:column="8">632<pos:position pos:line="137" pos:column="11"/></literal></expr>:<pos:position pos:line="137" pos:column="12"/></case>
    <expr_stmt><expr><call><name pos:line="138" pos:column="5">Curl_sec_read_msg<pos:position pos:line="138" pos:column="22"/></name><argument_list pos:line="138" pos:column="22">(<argument><expr><name pos:line="138" pos:column="23">conn<pos:position pos:line="138" pos:column="27"/></name></expr></argument>, <argument><expr><name pos:line="138" pos:column="29">buf<pos:position pos:line="138" pos:column="32"/></name></expr></argument>, <argument><expr><name pos:line="138" pos:column="34">prot_private<pos:position pos:line="138" pos:column="46"/></name></expr></argument>)<pos:position pos:line="138" pos:column="47"/></argument_list></call></expr>;<pos:position pos:line="138" pos:column="48"/></expr_stmt>
    <break pos:line="139" pos:column="5">break;<pos:position pos:line="139" pos:column="11"/></break>
  <case pos:line="140" pos:column="3">case <expr><literal type="number" pos:line="140" pos:column="8">633<pos:position pos:line="140" pos:column="11"/></literal></expr>:<pos:position pos:line="140" pos:column="12"/></case>
    <expr_stmt><expr><call><name pos:line="141" pos:column="5">Curl_sec_read_msg<pos:position pos:line="141" pos:column="22"/></name><argument_list pos:line="141" pos:column="22">(<argument><expr><name pos:line="141" pos:column="23">conn<pos:position pos:line="141" pos:column="27"/></name></expr></argument>, <argument><expr><name pos:line="141" pos:column="29">buf<pos:position pos:line="141" pos:column="32"/></name></expr></argument>, <argument><expr><name pos:line="141" pos:column="34">prot_confidential<pos:position pos:line="141" pos:column="51"/></name></expr></argument>)<pos:position pos:line="141" pos:column="52"/></argument_list></call></expr>;<pos:position pos:line="141" pos:column="53"/></expr_stmt>
    <break pos:line="142" pos:column="5">break;<pos:position pos:line="142" pos:column="11"/></break>
  <default pos:line="143" pos:column="3">default:<pos:position pos:line="143" pos:column="11"/></default>
    <comment type="block" pos:line="144" pos:column="5">/* normal ftp stuff we pass through! */</comment>
    <break pos:line="145" pos:column="5">break;<pos:position pos:line="145" pos:column="11"/></break>
  }<pos:position pos:line="146" pos:column="4"/></block></switch>
<cpp:endif pos:line="147" pos:column="1">#<cpp:directive pos:line="147" pos:column="2">endif<pos:position pos:line="147" pos:column="7"/></cpp:directive></cpp:endif>

  <expr_stmt><expr><operator pos:line="149" pos:column="3">*<pos:position pos:line="149" pos:column="4"/></operator><name pos:line="149" pos:column="4">ftpcode<pos:position pos:line="149" pos:column="11"/></name><operator pos:line="149" pos:column="11">=<pos:position pos:line="149" pos:column="12"/></operator><name pos:line="149" pos:column="12">code<pos:position pos:line="149" pos:column="16"/></name></expr>;<pos:position pos:line="149" pos:column="17"/></expr_stmt> <comment type="block" pos:line="149" pos:column="18">/* return the initial number like this */</comment>


  <comment type="block" pos:line="152" pos:column="3">/* store the latest code for later retrieval */</comment>
  <expr_stmt><expr><name><name pos:line="153" pos:column="3">conn<pos:position pos:line="153" pos:column="7"/></name><operator pos:line="153" pos:column="7">-&gt;<pos:position pos:line="153" pos:column="12"/></operator><name pos:line="153" pos:column="9">data<pos:position pos:line="153" pos:column="13"/></name><operator pos:line="153" pos:column="13">-&gt;<pos:position pos:line="153" pos:column="18"/></operator><name pos:line="153" pos:column="15">info<pos:position pos:line="153" pos:column="19"/></name><operator pos:line="153" pos:column="19">.<pos:position pos:line="153" pos:column="20"/></operator><name pos:line="153" pos:column="20">httpcode<pos:position pos:line="153" pos:column="28"/></name></name><operator pos:line="153" pos:column="28">=<pos:position pos:line="153" pos:column="29"/></operator><name pos:line="153" pos:column="29">code<pos:position pos:line="153" pos:column="33"/></name></expr>;<pos:position pos:line="153" pos:column="34"/></expr_stmt>

  <return pos:line="155" pos:column="3">return <expr><name pos:line="155" pos:column="10">result<pos:position pos:line="155" pos:column="16"/></name></expr>;<pos:position pos:line="155" pos:column="17"/></return>
}<pos:position pos:line="156" pos:column="2"/></block></function></unit>
