void write_byte(int f,unsigned char c);
void write_flush(int f);
int do_cmd(char *cmd,char *machine,char *user,char *path,int *f_in,int *f_out);
void do_server_sender(int argc,char *argv[]);
void do_server_recv(int argc,char *argv[]);
int main(int argc,char *argv[]);
void match_sums(int f,struct sum_struct *s,char *buf,off_t len);
void match_report(void);
void recv_generator(char *fname,struct file_list *flist,int i,int f_out);
void exit_cleanup(int code);
void sig_int(void);
int recv_files(int f_in,struct file_list *flist,char *local_name);
off_t send_files(struct file_list *flist,int f_out,int f_in);
void generate_files(int f,struct file_list *flist,char *local_name);
int num_waiting(int fd);
char *map_file(int fd,off_t len);
char *map_ptr(char *buf,off_t offset,int len);
void unmap_file(char *buf,off_t len);
int piped_child(char **command,int *f_in,int *f_out);
void out_of_memory(char *str);
int set_modtime(char *fname,time_t modtime);
int set_blocking(int fd, int set);
