diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/aclocal.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/aclocal.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/aclocal.m4	2008-04-23 19:53:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/aclocal.m4	2008-02-20 03:27:55.000000000 +0800
@@ -1,30 +1,22 @@
-# generated automatically by aclocal 1.10.1 -*- Autoconf -*-
+# generated automatically by aclocal 1.9.6 -*- Autoconf -*-
 
 # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
-# 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2005  Free Software Foundation, Inc.
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
-m4_ifndef([AC_AUTOCONF_VERSION],
-  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-m4_if(AC_AUTOCONF_VERSION, [2.61],,
-[m4_warning([this file was generated for autoconf 2.61.
-You have another version of autoconf.  It may work, but is not guaranteed to.
-If you have problems, you may need to regenerate the build system entirely.
-To do so, use the procedure documented by the package, typically `autoreconf'.])])
-
 # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
 
-# serial 52 Debian 1.5.26-1 AC_PROG_LIBTOOL
+# serial 51 Debian 1.5.24-2 AC_PROG_LIBTOOL
 
 
 # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
 # -----------------------------------------------------------
 # If this macro is not defined by Autoconf, define it here.
 m4_ifdef([AC_PROVIDE_IFELSE],
@@ -207,14 +200,12 @@
   if test "$file_magic_cmd" = '$MAGIC_CMD'; then
     AC_PATH_MAGIC
   fi
   ;;
 esac
 
-_LT_REQUIRED_DARWIN_CHECKS
-
 AC_PROVIDE_IFELSE([AC_LIBTOOL_DLOPEN], enable_dlopen=yes, enable_dlopen=no)
 AC_PROVIDE_IFELSE([AC_LIBTOOL_WIN32_DLL],
 enable_win32_dll=yes, enable_win32_dll=no)
 
 AC_ARG_ENABLE([libtool-lock],
     [AC_HELP_STRING([--disable-libtool-lock],
@@ -288,86 +279,15 @@
 AC_DEFUN([_LT_LINKER_BOILERPLATE],
 [AC_REQUIRE([LT_AC_PROG_SED])dnl
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 ])# _LT_LINKER_BOILERPLATE
 
-# _LT_REQUIRED_DARWIN_CHECKS
-# --------------------------
-# Check for some things on darwin
-AC_DEFUN([_LT_REQUIRED_DARWIN_CHECKS],[
-  case $host_os in
-    rhapsody* | darwin*)
-    AC_CHECK_TOOL([DSYMUTIL], [dsymutil], [:])
-    AC_CHECK_TOOL([NMEDIT], [nmedit], [:])
-
-    AC_CACHE_CHECK([for -single_module linker flag],[lt_cv_apple_cc_single_mod],
-      [lt_cv_apple_cc_single_mod=no
-      if test -z "${LT_MULTI_MODULE}"; then
-   # By default we will add the -single_module flag. You can override
-   # by either setting the environment variable LT_MULTI_MODULE
-   # non-empty at configure time, or by adding -multi_module to the
-   # link flags.
-   echo "int foo(void){return 1;}" > conftest.c
-   $LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \
-     -dynamiclib ${wl}-single_module conftest.c
-   if test -f libconftest.dylib; then
-     lt_cv_apple_cc_single_mod=yes
-     rm -rf libconftest.dylib*
-   fi
-   rm conftest.c
-      fi])
-    AC_CACHE_CHECK([for -exported_symbols_list linker flag],
-      [lt_cv_ld_exported_symbols_list],
-      [lt_cv_ld_exported_symbols_list=no
-      save_LDFLAGS=$LDFLAGS
-      echo "_main" > conftest.sym
-      LDFLAGS="$LDFLAGS -Wl,-exported_symbols_list,conftest.sym"
-      AC_LINK_IFELSE([AC_LANG_PROGRAM([],[])],
-   [lt_cv_ld_exported_symbols_list=yes],
-   [lt_cv_ld_exported_symbols_list=no])
-   LDFLAGS="$save_LDFLAGS"
-    ])
-    case $host_os in
-    rhapsody* | darwin1.[[0123]])
-      _lt_dar_allow_undefined='${wl}-undefined ${wl}suppress' ;;
-    darwin1.*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-    darwin*)
-      # if running on 10.5 or later, the deployment target defaults
-      # to the OS version, if on x86, and 10.4, the deployment
-      # target defaults to 10.4. Don't you love it?
-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in
-   10.0,*86*-darwin8*|10.0,*-darwin[[91]]*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-   10.[[012]]*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-   10.*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-      esac
-    ;;
-  esac
-    if test "$lt_cv_apple_cc_single_mod" = "yes"; then
-      _lt_dar_single_mod='$single_module'
-    fi
-    if test "$lt_cv_ld_exported_symbols_list" = "yes"; then
-      _lt_dar_export_syms=' ${wl}-exported_symbols_list,$output_objdir/${libname}-symbols.expsym'
-    else
-      _lt_dar_export_syms="~$NMEDIT -s \$output_objdir/\${libname}-symbols.expsym \${lib}"
-    fi
-    if test "$DSYMUTIL" != ":"; then
-      _lt_dsymutil="~$DSYMUTIL \$lib || :"
-    else
-      _lt_dsymutil=
-    fi
-    ;;
-  esac
-])
 
 # _LT_AC_SYS_LIBPATH_AIX
 # ----------------------
 # Links a minimal program and checks the executable
 # for the system default hardcoded library path. In most cases,
 # this is /usr/lib:/lib, but when the MPI compilers are used
@@ -686,17 +606,13 @@
   echo 'int i;' > conftest.$ac_ext
   if AC_TRY_EVAL(ac_compile); then
     case `/usr/bin/file conftest.o` in
     *64-bit*)
       case $lt_cv_prog_gnu_ld in
       yes*) LD="${LD-ld} -m elf64_sparc" ;;
-      *)
-        if ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then
-	  LD="${LD-ld} -64"
-	fi
-	;;
+      *)    LD="${LD-ld} -64" ;;
       esac
       ;;
     esac
   fi
   rm -rf conftest*
   ;;
@@ -783,13 +699,13 @@
          $2=yes
        fi
      else
        $2=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 ])
 
 if test x"[$]$2" = xyes; then
     ifelse([$4], , :, [$4])
 else
@@ -1054,21 +970,21 @@
    ;;
 
   *)
     AC_CHECK_FUNC([shl_load],
 	  [lt_cv_dlopen="shl_load"],
       [AC_CHECK_LIB([dld], [shl_load],
-	    [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"],
+	    [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"],
 	[AC_CHECK_FUNC([dlopen],
 	      [lt_cv_dlopen="dlopen"],
 	  [AC_CHECK_LIB([dl], [dlopen],
 		[lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
 	    [AC_CHECK_LIB([svld], [dlopen],
 		  [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
 	      [AC_CHECK_LIB([dld], [dld_link],
-		    [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"])
+		    [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"])
 	      ])
 	    ])
 	  ])
 	])
       ])
     ;;
@@ -1379,13 +1295,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[[4-9]]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -1912,19 +1828,12 @@
   dynamic_linker=no
   ;;
 esac
 AC_MSG_RESULT([$dynamic_linker])
 test "$dynamic_linker" = no && can_build_shared=no
 
-AC_CACHE_VAL([lt_cv_sys_lib_search_path_spec],
-[lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"])
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-AC_CACHE_VAL([lt_cv_sys_lib_dlsearch_path_spec],
-[lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"])
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 ])# AC_LIBTOOL_SYS_DYNAMIC_LINKER
 
@@ -2418,13 +2327,13 @@
 # 'file_magic [[regex]]' -- check by looking for files in library path
 # which responds to the $file_magic_cmd with a given extended regex.
 # If you have `file' or equivalent on your system and you're not sure
 # whether `pass_all' will *always* work, you probably want this one.
 
 case $host_os in
-aix[[4-9]]*)
+aix4* | aix5*)
   lt_cv_deplibs_check_method=pass_all
   ;;
 
 beos*)
   lt_cv_deplibs_check_method=pass_all
   ;;
@@ -2854,13 +2763,13 @@
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
 
-aix[[4-9]]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
     ;;
 esac
 AC_MSG_RESULT([$enable_shared])
@@ -2911,13 +2820,12 @@
 # Dependencies to place before and after the object being linked:
 _LT_AC_TAGVAR(predep_objects, $1)=
 _LT_AC_TAGVAR(postdep_objects, $1)=
 _LT_AC_TAGVAR(predeps, $1)=
 _LT_AC_TAGVAR(postdeps, $1)=
 _LT_AC_TAGVAR(compiler_lib_search_path, $1)=
-_LT_AC_TAGVAR(compiler_lib_search_dirs, $1)=
 
 # Source file extension for C++ test sources.
 ac_ext=cpp
 
 # Object file extension for compiled C++ test sources.
 objext=o
@@ -3021,26 +2929,26 @@
 _LT_AC_TAGVAR(ld_shlibs, $1)=yes
 case $host_os in
   aix3*)
     # FIXME: insert proper C++ library support
     _LT_AC_TAGVAR(ld_shlibs, $1)=no
     ;;
-  aix[[4-9]]*)
+  aix4* | aix5*)
     if test "$host_cpu" = ia64; then
       # On IA64, the linker does run time linking by default, so we don't
       # have to do anything special.
       aix_use_runtimelinking=no
       exp_sym_flag='-Bexport'
       no_entry_flag=""
     else
       aix_use_runtimelinking=no
 
       # Test if we are trying to use run time linking or normal
       # AIX style linking. If -brtl is somewhere in LDFLAGS, we
       # need to do runtime linking.
-      case $host_os in aix4.[[23]]|aix4.[[23]].*|aix[[5-9]]*)
+      case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
 	for ld_flag in $LDFLAGS; do
 	  case $ld_flag in
 	  *-brtl*)
 	    aix_use_runtimelinking=yes
 	    break
 	    ;;
@@ -3180,29 +3088,57 @@
       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
     else
       _LT_AC_TAGVAR(ld_shlibs, $1)=no
     fi
   ;;
       darwin* | rhapsody*)
+        case $host_os in
+        rhapsody* | darwin1.[[012]])
+         _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
+         ;;
+       *) # Darwin 1.3 on
+         if test -z ${MACOSX_DEPLOYMENT_TARGET} ; then
+           _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+         else
+           case ${MACOSX_DEPLOYMENT_TARGET} in
+             10.[[012]])
+               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+               ;;
+             10.*)
+               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}dynamic_lookup'
+               ;;
+           esac
+         fi
+         ;;
+        esac
       _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
       _LT_AC_TAGVAR(hardcode_direct, $1)=no
       _LT_AC_TAGVAR(hardcode_automatic, $1)=yes
       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
       _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
       _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
-      _LT_AC_TAGVAR(allow_undefined_flag, $1)="$_lt_dar_allow_undefined"
-      if test "$GXX" = yes ; then
+
+    if test "$GXX" = yes ; then
+      lt_int_apple_cc_single_mod=no
       output_verbose_link_cmd='echo'
-      _LT_AC_TAGVAR(archive_cmds, $1)="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-      _LT_AC_TAGVAR(module_cmds, $1)="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-      _LT_AC_TAGVAR(archive_expsym_cmds, $1)="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-      _LT_AC_TAGVAR(module_expsym_cmds, $1)="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
-      if test "$lt_cv_apple_cc_single_mod" != "yes"; then
-        _LT_AC_TAGVAR(archive_cmds, $1)="\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dsymutil}"
-        _LT_AC_TAGVAR(archive_expsym_cmds, $1)="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dar_export_syms}${_lt_dsymutil}"
+      if $CC -dumpspecs 2>&1 | $EGREP 'single_module' >/dev/null ; then
+       lt_int_apple_cc_single_mod=yes
       fi
+      if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      else
+          _LT_AC_TAGVAR(archive_cmds, $1)='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+        fi
+        _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+        # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+          if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          else
+            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          fi
+            _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
       else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
           _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
           _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -3447,13 +3383,13 @@
 	esac
 	_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
 	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
 	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive$convenience ${wl}--no-whole-archive'
 	;;
-      pgCC* | pgcpp*)
+      pgCC*)
         # Portland Group C++ compiler
 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
 
 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
 	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
@@ -3882,14 +3818,13 @@
 # AC_LIBTOOL_POSTDEP_PREDEP([TAGNAME])
 # ------------------------------------
 # Figure out "hidden" library dependencies from verbose
 # compiler output when linking a shared library.
 # Parse the compiler output and extract the necessary
 # objects, libraries and library flags.
-AC_DEFUN([AC_LIBTOOL_POSTDEP_PREDEP],
-[AC_REQUIRE([LT_AC_PROG_SED])dnl
+AC_DEFUN([AC_LIBTOOL_POSTDEP_PREDEP],[
 dnl we can't use the lt_simple_compile_test_code here,
 dnl because it contains code intended for an executable,
 dnl not a library.  It's possible we should let each
 dnl tag define a new lt_????_link_test_code variable,
 dnl but it's only used here...
 ifelse([$1],[],[cat > conftest.$ac_ext <<EOF
@@ -4008,17 +3943,12 @@
 else
   echo "libtool.m4: error: problem compiling $1 test program"
 fi
 
 $rm -f confest.$objext
 
-_LT_AC_TAGVAR(compiler_lib_search_dirs, $1)=
-if test -n "$_LT_AC_TAGVAR(compiler_lib_search_path, $1)"; then
-  _LT_AC_TAGVAR(compiler_lib_search_dirs, $1)=`echo " ${_LT_AC_TAGVAR(compiler_lib_search_path, $1)}" | ${SED} -e 's! -L! !g' -e 's!^ !!'`
-fi
-
 # PORTME: override above test on systems where it is broken
 ifelse([$1],[CXX],
 [case $host_os in
 interix[[3-9]]*)
   # Interix 3.5 installs completely hosed .la files for C++, so rather than
   # hack all around it, let's just trust "g++" to DTRT.
@@ -4153,13 +4084,13 @@
   test "$enable_shared" = yes && enable_static=no
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
-aix[[4-9]]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
   ;;
 esac
 AC_MSG_RESULT([$enable_shared])
@@ -4330,13 +4261,12 @@
     _LT_AC_TAGVAR(old_archive_from_new_cmds, $1) \
     _LT_AC_TAGVAR(predep_objects, $1) \
     _LT_AC_TAGVAR(postdep_objects, $1) \
     _LT_AC_TAGVAR(predeps, $1) \
     _LT_AC_TAGVAR(postdeps, $1) \
     _LT_AC_TAGVAR(compiler_lib_search_path, $1) \
-    _LT_AC_TAGVAR(compiler_lib_search_dirs, $1) \
     _LT_AC_TAGVAR(archive_cmds, $1) \
     _LT_AC_TAGVAR(archive_expsym_cmds, $1) \
     _LT_AC_TAGVAR(postinstall_cmds, $1) \
     _LT_AC_TAGVAR(postuninstall_cmds, $1) \
     _LT_AC_TAGVAR(old_archive_from_expsyms_cmds, $1) \
     _LT_AC_TAGVAR(allow_undefined_flag, $1) \
@@ -4393,13 +4323,13 @@
 [#! $SHELL
 
 # `$echo "$cfgfile" | sed 's%^.*/%%'` - Provide generalized library-building support services.
 # Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
 # NOTE: Changes made to this file will be lost: look at ltmain.sh.
 #
-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007
 # Free Software Foundation, Inc.
 #
 # This file is part of GNU Libtool:
 # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 # This program is free software; you can redistribute it and/or modify
@@ -4630,16 +4560,12 @@
 predeps=$lt_[]_LT_AC_TAGVAR(predeps, $1)
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_[]_LT_AC_TAGVAR(postdeps, $1)
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_dirs, $1)
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1)
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -4983,13 +4909,13 @@
       echo "cannot run $lt_cv_sys_global_symbol_pipe" >&AS_MESSAGE_LOG_FD
     fi
   else
     echo "$progname: failed program was:" >&AS_MESSAGE_LOG_FD
     cat conftest.$ac_ext >&5
   fi
-  rm -rf conftest* conftst*
+  rm -f conftest* conftst*
 
   # Do not use the global_symbol_pipe unless it works.
   if test "$pipe_works" = yes; then
     break
   else
     lt_cv_sys_global_symbol_pipe=
@@ -5040,14 +4966,13 @@
       ;;
     mingw* | cygwin* | os2* | pw32*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
       # (--disable-auto-import) libraries
-      m4_if([$1], [GCJ], [],
-	[_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'])
+      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
       ;;
     darwin* | rhapsody*)
       # PIC is the default on this platform
       # Common symbols not allowed in MH_DYLIB files
       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
       ;;
@@ -5078,13 +5003,13 @@
     *)
       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
       ;;
     esac
   else
     case $host_os in
-      aix[[4-9]]*)
+      aix4* | aix5*)
 	# All AIX code is PIC.
 	if test "$host_cpu" = ia64; then
 	  # AIX 5 now supports IA64 processor
 	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
 	else
 	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-bnso -bI:/lib/syscalls.exp'
@@ -5174,13 +5099,13 @@
 	  icpc* | ecpc*)
 	    # Intel C++
 	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
 	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
 	    ;;
-	  pgCC* | pgcpp*)
+	  pgCC*)
 	    # Portland Group C++ compiler.
 	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
 	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
 	    ;;
 	  cxx*)
@@ -5325,14 +5250,13 @@
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
       # (--disable-auto-import) libraries
-      m4_if([$1], [GCJ], [],
-	[_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'])
+      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
       ;;
 
     darwin* | rhapsody*)
       # PIC is the default on this platform
       # Common symbols not allowed in MH_DYLIB files
       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
@@ -5396,14 +5320,13 @@
        esac
        ;;
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
-      m4_if([$1], [GCJ], [],
-	[_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'])
+      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
       ;;
 
     hpux9* | hpux10* | hpux11*)
       _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
       # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
       # not for PA HP-UX.
@@ -5534,13 +5457,13 @@
 
 #
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)"; then
   AC_LIBTOOL_COMPILER_OPTION([if $compiler PIC flag $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1) works],
-    _LT_AC_TAGVAR(lt_cv_prog_compiler_pic_works, $1),
+    _LT_AC_TAGVAR(lt_prog_compiler_pic_works, $1),
     [$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)ifelse([$1],[],[ -DPIC],[ifelse([$1],[CXX],[ -DPIC],[])])], [],
     [case $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1) in
      "" | " "*) ;;
      *) _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=" $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)" ;;
      esac],
     [_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
@@ -5558,13 +5481,13 @@
 
 #
 # Check to make sure the static flag actually works.
 #
 wl=$_LT_AC_TAGVAR(lt_prog_compiler_wl, $1) eval lt_tmp_static_flag=\"$_LT_AC_TAGVAR(lt_prog_compiler_static, $1)\"
 AC_LIBTOOL_LINKER_OPTION([if $compiler static flag $lt_tmp_static_flag works],
-  _LT_AC_TAGVAR(lt_cv_prog_compiler_static_works, $1),
+  _LT_AC_TAGVAR(lt_prog_compiler_static_works, $1),
   $lt_tmp_static_flag,
   [],
   [_LT_AC_TAGVAR(lt_prog_compiler_static, $1)=])
 ])
 
 
@@ -5574,13 +5497,13 @@
 AC_DEFUN([AC_LIBTOOL_PROG_LD_SHLIBS],
 [AC_REQUIRE([LT_AC_PROG_SED])dnl
 AC_MSG_CHECKING([whether the $compiler linker ($LD) supports shared libraries])
 ifelse([$1],[CXX],[
   _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   case $host_os in
-  aix[[4-9]]*)
+  aix4* | aix5*)
     # If we're using GNU nm, then we don't want the "-C" option.
     # -C means demangle to AIX nm, but means don't demangle with GNU nm
     if $NM -V 2>&1 | grep 'GNU' > /dev/null; then
       _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\[$]2 == "T") || (\[$]2 == "D") || (\[$]2 == "B")) && ([substr](\[$]3,1,1) != ".")) { print \[$]3 } }'\'' | sort -u > $export_symbols'
     else
       _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\[$]2 == "T") || (\[$]2 == "D") || (\[$]2 == "B")) && ([substr](\[$]3,1,1) != ".")) { print \[$]3 } }'\'' | sort -u > $export_symbols'
@@ -5596,13 +5519,12 @@
     _LT_AC_TAGVAR(link_all_deplibs, $1)=no
   ;;
   *)
     _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   ;;
   esac
-  _LT_AC_TAGVAR(exclude_expsyms, $1)=['_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*']
 ],[
   runpath_var=
   _LT_AC_TAGVAR(allow_undefined_flag, $1)=
   _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=no
   _LT_AC_TAGVAR(archive_cmds, $1)=
   _LT_AC_TAGVAR(archive_expsym_cmds, $1)=
@@ -5627,20 +5549,18 @@
   # included in the symbol list
   _LT_AC_TAGVAR(include_expsyms, $1)=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  _LT_AC_TAGVAR(exclude_expsyms, $1)=['_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*']
+  _LT_AC_TAGVAR(exclude_expsyms, $1)="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
-dnl Note also adjust exclude_expsyms for C++ above.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   _LT_CC_BASENAME([$compiler])
   case $host_os in
   cygwin* | mingw* | pw32*)
     # FIXME: the MSVC++ port hasn't been tested in a loooong time
@@ -5684,13 +5604,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[[3-9]]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	_LT_AC_TAGVAR(ld_shlibs, $1)=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -5904,13 +5824,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	_LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
       fi
       ;;
 
-    aix[[4-9]]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -5924,13 +5844,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[[23]]|aix4.[[23]].*|aix[[5-9]]*)
+	case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -6084,16 +6004,17 @@
       _LT_AC_TAGVAR(hardcode_automatic, $1)=yes
       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
       _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
       _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        _LT_AC_TAGVAR(archive_cmds, $1)="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        _LT_AC_TAGVAR(module_cmds, $1)="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        _LT_AC_TAGVAR(archive_expsym_cmds, $1)="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        _LT_AC_TAGVAR(module_expsym_cmds, $1)="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -6668,47 +6589,188 @@
 ])
 SED=$lt_cv_path_SED
 AC_SUBST([SED])
 AC_MSG_RESULT([$SED])
 ])
 
-# Copyright (C) 2002, 2003, 2005, 2006, 2007  Free Software Foundation, Inc.
+# pkg.m4 - Macros to locate and utilise pkg-config.            -*- Autoconf -*-
+# 
+# Copyright © 2004 Scott James Remnant <scott@netsplit.com>.
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+# General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#
+# As a special exception to the GNU General Public License, if you
+# distribute this file as part of a program that contains a
+# configuration script generated by Autoconf, you may include it under
+# the same distribution terms that you use for the rest of that program.
+
+# PKG_PROG_PKG_CONFIG([MIN-VERSION])
+# ----------------------------------
+AC_DEFUN([PKG_PROG_PKG_CONFIG],
+[m4_pattern_forbid([^_?PKG_[A-Z_]+$])
+m4_pattern_allow([^PKG_CONFIG(_PATH)?$])
+AC_ARG_VAR([PKG_CONFIG], [path to pkg-config utility])dnl
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	AC_PATH_TOOL([PKG_CONFIG], [pkg-config])
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=m4_default([$1], [0.9.0])
+	AC_MSG_CHECKING([pkg-config is at least version $_pkg_min_version])
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		AC_MSG_RESULT([yes])
+	else
+		AC_MSG_RESULT([no])
+		PKG_CONFIG=""
+	fi
+		
+fi[]dnl
+])# PKG_PROG_PKG_CONFIG
+
+# PKG_CHECK_EXISTS(MODULES, [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])
+#
+# Check to see whether a particular set of modules exists.  Similar
+# to PKG_CHECK_MODULES(), but does not set variables or print errors.
+#
+#
+# Similar to PKG_CHECK_MODULES, make sure that the first instance of
+# this or PKG_CHECK_MODULES is called, or make sure to call
+# PKG_CHECK_EXISTS manually
+# --------------------------------------------------------------
+AC_DEFUN([PKG_CHECK_EXISTS],
+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl
+if test -n "$PKG_CONFIG" && \
+    AC_RUN_LOG([$PKG_CONFIG --exists --print-errors "$1"]); then
+  m4_ifval([$2], [$2], [:])
+m4_ifvaln([$3], [else
+  $3])dnl
+fi])
+
+
+# _PKG_CONFIG([VARIABLE], [COMMAND], [MODULES])
+# ---------------------------------------------
+m4_define([_PKG_CONFIG],
+[if test -n "$PKG_CONFIG"; then
+    if test -n "$$1"; then
+        pkg_cv_[]$1="$$1"
+    else
+        PKG_CHECK_EXISTS([$3],
+                         [pkg_cv_[]$1=`$PKG_CONFIG --[]$2 "$3" 2>/dev/null`],
+			 [pkg_failed=yes])
+    fi
+else
+	pkg_failed=untried
+fi[]dnl
+])# _PKG_CONFIG
+
+# _PKG_SHORT_ERRORS_SUPPORTED
+# -----------------------------
+AC_DEFUN([_PKG_SHORT_ERRORS_SUPPORTED],
+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])
+if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
+        _pkg_short_errors_supported=yes
+else
+        _pkg_short_errors_supported=no
+fi[]dnl
+])# _PKG_SHORT_ERRORS_SUPPORTED
+
+
+# PKG_CHECK_MODULES(VARIABLE-PREFIX, MODULES, [ACTION-IF-FOUND],
+# [ACTION-IF-NOT-FOUND])
+#
+#
+# Note that if there is a possibility the first call to
+# PKG_CHECK_MODULES might not happen, you should be sure to include an
+# explicit call to PKG_PROG_PKG_CONFIG in your configure.ac
+#
+#
+# --------------------------------------------------------------
+AC_DEFUN([PKG_CHECK_MODULES],
+[AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl
+AC_ARG_VAR([$1][_CFLAGS], [C compiler flags for $1, overriding pkg-config])dnl
+AC_ARG_VAR([$1][_LIBS], [linker flags for $1, overriding pkg-config])dnl
+
+pkg_failed=no
+AC_MSG_CHECKING([for $1])
+
+_PKG_CONFIG([$1][_CFLAGS], [cflags], [$2])
+_PKG_CONFIG([$1][_LIBS], [libs], [$2])
+
+m4_define([_PKG_TEXT], [Alternatively, you may set the environment variables $1[]_CFLAGS
+and $1[]_LIBS to avoid the need to call pkg-config.
+See the pkg-config man page for more details.])
+
+if test $pkg_failed = yes; then
+        _PKG_SHORT_ERRORS_SUPPORTED
+        if test $_pkg_short_errors_supported = yes; then
+	        $1[]_PKG_ERRORS=`$PKG_CONFIG --short-errors --errors-to-stdout --print-errors "$2"`
+        else 
+	        $1[]_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "$2"`
+        fi
+	# Put the nasty error message in config.log where it belongs
+	echo "$$1[]_PKG_ERRORS" >&AS_MESSAGE_LOG_FD
+
+	ifelse([$4], , [AC_MSG_ERROR(dnl
+[Package requirements ($2) were not met:
+
+$$1_PKG_ERRORS
+
+Consider adjusting the PKG_CONFIG_PATH environment variable if you
+installed software in a non-standard prefix.
+
+_PKG_TEXT
+])],
+		[AC_MSG_RESULT([no])
+                $4])
+elif test $pkg_failed = untried; then
+	ifelse([$4], , [AC_MSG_FAILURE(dnl
+[The pkg-config script could not be found or is too old.  Make sure it
+is in your PATH or set the PKG_CONFIG environment variable to the full
+path to pkg-config.
+
+_PKG_TEXT
+
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.])],
+		[$4])
+else
+	$1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS
+	$1[]_LIBS=$pkg_cv_[]$1[]_LIBS
+        AC_MSG_RESULT([yes])
+	ifelse([$3], , :, [$3])
+fi[]dnl
+])# PKG_CHECK_MODULES
+
+# Copyright (C) 2002, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # AM_AUTOMAKE_VERSION(VERSION)
 # ----------------------------
 # Automake X.Y traces this macro to ensure aclocal.m4 has been
 # generated from the m4 files accompanying Automake X.Y.
-# (This private macro should not be called outside this file.)
-AC_DEFUN([AM_AUTOMAKE_VERSION],
-[am__api_version='1.10'
-dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
-dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.10.1], [],
-      [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
-])
-
-# _AM_AUTOCONF_VERSION(VERSION)
-# -----------------------------
-# aclocal traces this macro to find the Autoconf version.
-# This is a private macro too.  Using m4_define simplifies
-# the logic in aclocal, which can simply ignore this definition.
-m4_define([_AM_AUTOCONF_VERSION], [])
+AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version="1.9"])
 
 # AM_SET_CURRENT_AUTOMAKE_VERSION
 # -------------------------------
-# Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
+# Call AM_AUTOMAKE_VERSION so it can be traced.
 # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.10.1])dnl
-m4_ifndef([AC_AUTOCONF_VERSION],
-  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-_AM_AUTOCONF_VERSION(AC_AUTOCONF_VERSION)])
+	 [AM_AUTOMAKE_VERSION([1.9.6])])
 
 # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
 
 # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
@@ -6759,32 +6821,30 @@
 # expand $ac_aux_dir to an absolute path
 am_aux_dir=`cd $ac_aux_dir && pwd`
 ])
 
 # AM_CONDITIONAL                                            -*- Autoconf -*-
 
-# Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005, 2006
+# Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005
 # Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 8
+# serial 7
 
 # AM_CONDITIONAL(NAME, SHELL-CONDITION)
 # -------------------------------------
 # Define a conditional.
 AC_DEFUN([AM_CONDITIONAL],
 [AC_PREREQ(2.52)dnl
  ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],
 	[$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl
-AC_SUBST([$1_TRUE])dnl
-AC_SUBST([$1_FALSE])dnl
-_AM_SUBST_NOTMAKE([$1_TRUE])dnl
-_AM_SUBST_NOTMAKE([$1_FALSE])dnl
+AC_SUBST([$1_TRUE])
+AC_SUBST([$1_FALSE])
 if $2; then
   $1_TRUE=
   $1_FALSE='#'
 else
   $1_TRUE='#'
   $1_FALSE=
@@ -6792,20 +6852,21 @@
 AC_CONFIG_COMMANDS_PRE(
 [if test -z "${$1_TRUE}" && test -z "${$1_FALSE}"; then
   AC_MSG_ERROR([[conditional "$1" was never defined.
 Usually this means the macro was only invoked conditionally.]])
 fi])])
 
-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006
+
+# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
 # Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 9
+# serial 8
 
 # There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
 # written in clear, in which case automake, when reading aclocal.m4,
 # will think it sees a *use*, and therefore will trigger all it's
 # C support machinery.  Also note that it means that autoscan, seeing
 # CC etc. in the Makefile, will ask for an AC_PROG_CC use...
@@ -6827,13 +6888,12 @@
 AC_REQUIRE([AM_MAKE_INCLUDE])dnl
 AC_REQUIRE([AM_DEP_TRACK])dnl
 
 ifelse([$1], CC,   [depcc="$CC"   am_compiler_list=],
        [$1], CXX,  [depcc="$CXX"  am_compiler_list=],
        [$1], OBJC, [depcc="$OBJC" am_compiler_list='gcc3 gcc'],
-       [$1], UPC,  [depcc="$UPC"  am_compiler_list=],
        [$1], GCJ,  [depcc="$GCJ"  am_compiler_list='gcc3 gcc'],
                    [depcc="$$1"   am_compiler_list=])
 
 AC_CACHE_CHECK([dependency style of $depcc],
                [am_cv_$1_dependencies_compiler_type],
 [if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
@@ -6893,13 +6953,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -6946,14 +7005,13 @@
   --enable-dependency-tracking   do not reject slow dependency extractors])
 if test "x$enable_dependency_tracking" != xno; then
   am_depcomp="$ac_aux_dir/depcomp"
   AMDEPBACKSLASH='\'
 fi
 AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
-AC_SUBST([AMDEPBACKSLASH])dnl
-_AM_SUBST_NOTMAKE([AMDEPBACKSLASH])dnl
+AC_SUBST([AMDEPBACKSLASH])
 ])
 
 # Generate code to set up dependency tracking.              -*- Autoconf -*-
 
 # Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
 # Free Software Foundation, Inc.
@@ -6972,15 +7030,14 @@
   mf=`echo "$mf" | sed -e 's/:.*$//'`
   # Check whether this is an Automake generated Makefile or not.
   # We used to match only the files named `Makefile.in', but
   # some people rename them; so instead we look at the file content.
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
-  # Grep'ing the whole file is not good either: AIX grep has a line
-  # limit of 2048, but all sed's we know have understand at least 4000.
-  if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
+  # So let's grep whole file.
+  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
     dirpart=`AS_DIRNAME("$mf")`
   else
     continue
   fi
   # Extract the definition of DEPDIR, am__include, and am__quote
   # from the Makefile without running `make'.
@@ -7021,20 +7078,20 @@
      [test x"$AMDEP_TRUE" != x"" || _AM_OUTPUT_DEPENDENCY_COMMANDS],
      [AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"])
 ])
 
 # Do all the work for Automake.                             -*- Autoconf -*-
 
-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
-# 2005, 2006, 2008 Free Software Foundation, Inc.
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
+# Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 13
+# serial 12
 
 # This macro actually does too much.  Some checks are only needed if
 # your package does certain things.  But this isn't really a big deal.
 
 # AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])
 # AM_INIT_AUTOMAKE([OPTIONS])
@@ -7045,26 +7102,22 @@
 # the call to AM_INIT_AUTOMAKE.
 # We support both call styles for the transition.  After
 # the next Automake release, Autoconf can make the AC_INIT
 # arguments mandatory, and then we can depend on a new Autoconf
 # release and drop the old call support.
 AC_DEFUN([AM_INIT_AUTOMAKE],
-[AC_PREREQ([2.60])dnl
+[AC_PREREQ([2.58])dnl
 dnl Autoconf wants to disallow AM_ names.  We explicitly allow
 dnl the ones we care about.
 m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl
 AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
 AC_REQUIRE([AC_PROG_INSTALL])dnl
-if test "`cd $srcdir && pwd`" != "`pwd`"; then
-  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
-  # is not polluted with repeated "-I."
-  AC_SUBST([am__isrc], [' -I$(srcdir)'])_AM_SUBST_NOTMAKE([am__isrc])dnl
-  # test to see if srcdir already configured
-  if test -f $srcdir/config.status; then
-    AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
-  fi
+# test to see if srcdir already configured
+if test "`cd $srcdir && pwd`" != "`pwd`" &&
+   test -f $srcdir/config.status; then
+  AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
 fi
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
   if (cygpath --version) >/dev/null 2>/dev/null; then
     CYGPATH_W='cygpath -w'
@@ -7078,15 +7131,12 @@
 dnl Distinguish between old-style and new-style calls.
 m4_ifval([$2],
 [m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl
  AC_SUBST([PACKAGE], [$1])dnl
  AC_SUBST([VERSION], [$2])],
 [_AM_SET_OPTIONS([$1])dnl
-dnl Diagnose old-style AC_INIT with new-style AM_AUTOMAKE_INIT.
-m4_if(m4_ifdef([AC_PACKAGE_NAME], 1)m4_ifdef([AC_PACKAGE_VERSION], 1), 11,,
-  [m4_fatal([AC_INIT should be called with package and version arguments])])dnl
  AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl
  AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl
 
 _AM_IF_OPTION([no-define],,
 [AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
  AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])dnl
@@ -7116,16 +7166,12 @@
                   [define([AC_PROG_CC],
                           defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
 AC_PROVIDE_IFELSE([AC_PROG_CXX],
                   [_AM_DEPENDENCIES(CXX)],
                   [define([AC_PROG_CXX],
                           defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
-AC_PROVIDE_IFELSE([AC_PROG_OBJC],
-                  [_AM_DEPENDENCIES(OBJC)],
-                  [define([AC_PROG_OBJC],
-                          defn([AC_PROG_OBJC])[_AM_DEPENDENCIES(OBJC)])])dnl
 ])
 ])
 
 
 # When config.status generates a header, we must update the stamp-h file.
 # This file resides in the same directory as the config header
@@ -7133,36 +7179,35 @@
 
 # Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the
 # loop where config.status creates the headers, so we can generate
 # our stamp files there.
 AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],
 [# Compute $1's index in $config_headers.
-_am_arg=$1
 _am_stamp_count=1
 for _am_header in $config_headers :; do
   case $_am_header in
-    $_am_arg | $_am_arg:* )
+    $1 | $1:* )
       break ;;
     * )
       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
   esac
 done
-echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
+echo "timestamp for $1" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])
 
 # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # AM_PROG_INSTALL_SH
 # ------------------
 # Define $install_sh.
 AC_DEFUN([AM_PROG_INSTALL_SH],
 [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
-install_sh=${install_sh-"\$(SHELL) $am_aux_dir/install-sh"}
+install_sh=${install_sh-"$am_aux_dir/install-sh"}
 AC_SUBST(install_sh)])
 
 # Copyright (C) 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -7232,22 +7277,50 @@
 AC_SUBST([am__include])
 AC_SUBST([am__quote])
 AC_MSG_RESULT([$_am_result])
 rm -f confinc confmf
 ])
 
+# Copyright (C) 1999, 2000, 2001, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 3
+
+# AM_PROG_CC_C_O
+# --------------
+# Like AC_PROG_CC_C_O, but changed for automake.
+AC_DEFUN([AM_PROG_CC_C_O],
+[AC_REQUIRE([AC_PROG_CC_C_O])dnl
+AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
+# FIXME: we rely on the cache variable name because
+# there is no other way.
+set dummy $CC
+ac_cc=`echo $[2] | sed ['s/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/']`
+if eval "test \"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\" != yes"; then
+   # Losing compiler, so override with the script.
+   # FIXME: It is wrong to rewrite CC.
+   # But if we don't then we get into trouble of one sort or another.
+   # A longer-term fix would be to have automake use am__CC in this case,
+   # and then we could set am__CC="\$(top_srcdir)/compile \$(CC)"
+   CC="$am_aux_dir/compile $CC"
+fi
+])
+
 # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
 
-# Copyright (C) 1997, 1999, 2000, 2001, 2003, 2004, 2005
+# Copyright (C) 1997, 1999, 2000, 2001, 2003, 2005
 # Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 5
+# serial 4
 
 # AM_MISSING_PROG(NAME, PROGRAM)
 # ------------------------------
 AC_DEFUN([AM_MISSING_PROG],
 [AC_REQUIRE([AM_MISSING_HAS_RUN])
 $1=${$1-"${am_missing_run}$2"}
@@ -7257,48 +7330,84 @@
 # AM_MISSING_HAS_RUN
 # ------------------
 # Define MISSING if not defined so far and test if it supports --run.
 # If it does, set am_missing_run to use it, otherwise, to nothing.
 AC_DEFUN([AM_MISSING_HAS_RUN],
 [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
-AC_REQUIRE_AUX_FILE([missing])dnl
 test x"${MISSING+set}" = xset || MISSING="\${SHELL} $am_aux_dir/missing"
 # Use eval to expand $SHELL
 if eval "$MISSING --run true"; then
   am_missing_run="$MISSING --run "
 else
   am_missing_run=
   AC_MSG_WARN([`missing' script is too old or missing])
 fi
 ])
 
-# Copyright (C) 2003, 2004, 2005, 2006  Free Software Foundation, Inc.
+# Copyright (C) 2003, 2004, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # AM_PROG_MKDIR_P
 # ---------------
-# Check for `mkdir -p'.
+# Check whether `mkdir -p' is supported, fallback to mkinstalldirs otherwise.
+#
+# Automake 1.8 used `mkdir -m 0755 -p --' to ensure that directories
+# created by `make install' are always world readable, even if the
+# installer happens to have an overly restrictive umask (e.g. 077).
+# This was a mistake.  There are at least two reasons why we must not
+# use `-m 0755':
+#   - it causes special bits like SGID to be ignored,
+#   - it may be too restrictive (some setups expect 775 directories).
+#
+# Do not use -m 0755 and let people choose whatever they expect by
+# setting umask.
+#
+# We cannot accept any implementation of `mkdir' that recognizes `-p'.
+# Some implementations (such as Solaris 8's) are not thread-safe: if a
+# parallel make tries to run `mkdir -p a/b' and `mkdir -p a/c'
+# concurrently, both version can detect that a/ is missing, but only
+# one can create it and the other will error out.  Consequently we
+# restrict ourselves to GNU make (using the --version option ensures
+# this.)
 AC_DEFUN([AM_PROG_MKDIR_P],
-[AC_PREREQ([2.60])dnl
-AC_REQUIRE([AC_PROG_MKDIR_P])dnl
-dnl Automake 1.8 to 1.9.6 used to define mkdir_p.  We now use MKDIR_P,
-dnl while keeping a definition of mkdir_p for backward compatibility.
-dnl @MKDIR_P@ is magic: AC_OUTPUT adjusts its value for each Makefile.
-dnl However we cannot define mkdir_p as $(MKDIR_P) for the sake of
-dnl Makefile.ins that do not define MKDIR_P, so we do our own
-dnl adjustment using top_builddir (which is defined more often than
-dnl MKDIR_P).
-AC_SUBST([mkdir_p], ["$MKDIR_P"])dnl
-case $mkdir_p in
-  [[\\/$]]* | ?:[[\\/]]*) ;;
-  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
-esac
-])
+[if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+  # We used to keeping the `.' as first argument, in order to
+  # allow $(mkdir_p) to be used without argument.  As in
+  #   $(mkdir_p) $(somedir)
+  # where $(somedir) is conditionally defined.  However this is wrong
+  # for two reasons:
+  #  1. if the package is installed by a user who cannot write `.'
+  #     make install will fail,
+  #  2. the above comment should most certainly read
+  #     $(mkdir_p) $(DESTDIR)$(somedir)
+  #     so it does not work when $(somedir) is undefined and
+  #     $(DESTDIR) is not.
+  #  To support the latter case, we have to write
+  #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+  #  so the `.' trick is pointless.
+  mkdir_p='mkdir -p --'
+else
+  # On NextStep and OpenStep, the `mkdir' command does not
+  # recognize any option.  It will interpret all options as
+  # directories to create, and then abort because `.' already
+  # exists.
+  for d in ./-p ./--version;
+  do
+    test -d $d && rmdir $d
+  done
+  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+  if test -f "$ac_aux_dir/mkinstalldirs"; then
+    mkdir_p='$(mkinstalldirs)'
+  else
+    mkdir_p='$(install_sh) -d'
+  fi
+fi
+AC_SUBST([mkdir_p])])
 
 # Helper functions for option handling.                     -*- Autoconf -*-
 
 # Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
@@ -7404,27 +7513,15 @@
 # tool to use in cross-compilation environments, therefore Automake
 # will honor the `STRIP' environment variable to overrule this program.
 dnl Don't test for $cross_compiling = yes, because it might be `maybe'.
 if test "$cross_compiling" != no; then
   AC_CHECK_TOOL([STRIP], [strip], :)
 fi
-INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
+INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
 AC_SUBST([INSTALL_STRIP_PROGRAM])])
 
-# Copyright (C) 2006  Free Software Foundation, Inc.
-#
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-
-# _AM_SUBST_NOTMAKE(VARIABLE)
-# ---------------------------
-# Prevent Automake from outputting VARIABLE = @VARIABLE@ in Makefile.in.
-# This macro is traced by Automake.
-AC_DEFUN([_AM_SUBST_NOTMAKE])
-
 # Check how to create a tarball.                            -*- Autoconf -*-
 
 # Copyright (C) 2004, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/AUTHORS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/AUTHORS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/AUTHORS	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/AUTHORS	2008-02-19 03:57:18.000000000 +0800
@@ -10,12 +10,16 @@
 hddtemp module by:
   Vincent Stehlé <vincent.stehle at free.fr>
 
 iptables module by:
   Sjoerd van der Berg <harekiet at gmail.com>
 
+libvirt and uuid plugins by:
+  Richard Jones <rjones at redhat.com>
+  of Red Hat's Emerging Technology group
+
 mbmon plugin by:
   Flavio Stanchina <flavio at stanchina.net>
 
 memcached plugin by:
   Antony Dovgal <tony at daylessday.org>
 
@@ -57,10 +61,17 @@
   Christophe Kalt <collectd at klb.taranis.org>
 
 Much time and effort to find a nasty bug in the ntpd-plugin has been
 contributed by:
   Luboš Staněk <lubek at users.sourceforge.net>
 
+uuid module by:
+  Dan Berrange <berrange@redhat.com>
+  Richard W.M. Jones <rjones@redhat.com>
+
+Libvirt integration by:
+  Richard Jones <rjones@redhat.com>
+
 collectd is available at:
   <http://collectd.org/>
 
 Enjoy :)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/Makefile.am	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/Makefile.am	2008-02-19 03:57:18.000000000 +0800
@@ -1,20 +1,22 @@
-EXTRA_DIST = perl/Collectd.pm perl/Makefile.PL perl/Collectd/Makefile.PL perl/Collectd/Unixsock.pm
+EXTRA_DIST = perl/Collectd.pm perl/Makefile.PL perl/Collectd/Makefile.PL \
+		perl/Collectd/Unixsock.pm
 
 all-local: @PERL_BINDINGS@
 
 install-exec-local:
 	[ ! -f perl/Makefile ] || ( cd perl && $(MAKE) install )
 
 clean-local:
 	[ ! -f perl/Makefile ] || ( cd perl && $(MAKE) realclean )
 
 perl: perl/Makefile
 	cd perl && $(MAKE)
 
-perl/Makefile: .perl-directory-stamp perl/Makefile.PL perl/Collectd/Makefile.PL
+perl/Makefile: .perl-directory-stamp perl/Makefile.PL \
+	perl/Collectd/Makefile.PL $(top_builddir)/config.status
 	cd perl && @PERL@ Makefile.PL PREFIX=$(prefix) @PERL_BINDINGS_OPTIONS@
 
 .perl-directory-stamp:
 	if test ! -d perl; then \
 	  mkdir -p perl/Collectd; \
 	  cp $(srcdir)/perl/Collectd.pm perl/; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/Makefile.in	2008-04-23 20:10:10.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/Makefile.in	2008-02-20 03:37:44.000000000 +0800
@@ -1,26 +1,30 @@
-# Makefile.in generated by automake 1.10.1 from Makefile.am.
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2003, 2004, 2005  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ..
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
 install_sh_PROGRAM = $(install_sh) -c
 install_sh_SCRIPT = $(install_sh) -c
 INSTALL_HEADER = $(INSTALL_DATA)
 transform = $(program_transform_name)
 NORMAL_INSTALL = :
@@ -41,57 +45,215 @@
 CONFIG_HEADER = $(top_builddir)/src/config.h
 CONFIG_CLEAN_FILES =
 SOURCES =
 DIST_SOURCES =
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
+BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
+BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LIBVIRT_FALSE = @BUILD_PLUGIN_LIBVIRT_FALSE@
+BUILD_PLUGIN_LIBVIRT_TRUE = @BUILD_PLUGIN_LIBVIRT_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_UUID_FALSE = @BUILD_PLUGIN_UUID_FALSE@
+BUILD_PLUGIN_UUID_TRUE = @BUILD_PLUGIN_UUID_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
+BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
+BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
+BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
+BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
+BUILD_WITH_LIBDEVSTAT_FALSE = @BUILD_WITH_LIBDEVSTAT_FALSE@
+BUILD_WITH_LIBDEVSTAT_TRUE = @BUILD_WITH_LIBDEVSTAT_TRUE@
+BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
+BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBIOKIT_FALSE = @BUILD_WITH_LIBIOKIT_FALSE@
+BUILD_WITH_LIBIOKIT_TRUE = @BUILD_WITH_LIBIOKIT_TRUE@
+BUILD_WITH_LIBIPTC_FALSE = @BUILD_WITH_LIBIPTC_FALSE@
+BUILD_WITH_LIBIPTC_TRUE = @BUILD_WITH_LIBIPTC_TRUE@
+BUILD_WITH_LIBKSTAT_FALSE = @BUILD_WITH_LIBKSTAT_FALSE@
+BUILD_WITH_LIBKSTAT_TRUE = @BUILD_WITH_LIBKSTAT_TRUE@
+BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
+BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
 BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
+BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
+BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
+BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
+BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
+BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
+BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
+BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
+BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
+BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
+BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
+BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
+BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
+BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
+BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
+BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
+BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
+BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
+BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
+COMPILER_IS_GCC_FALSE = @COMPILER_IS_GCC_FALSE@
+COMPILER_IS_GCC_TRUE = @COMPILER_IS_GCC_TRUE@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
 CXXCPP = @CXXCPP@
 CXXDEPMODE = @CXXDEPMODE@
 CXXFLAGS = @CXXFLAGS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
-DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
 EXEEXT = @EXEEXT@
 F77 = @F77@
 FFLAGS = @FFLAGS@
 GREP = @GREP@
-INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
@@ -102,14 +264,12 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTDLINCL = @LTDLINCL@
 LTLIBOBJS = @LTLIBOBJS@
 MAKEINFO = @MAKEINFO@
-MKDIR_P = @MKDIR_P@
-NMEDIT = @NMEDIT@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
@@ -117,39 +277,39 @@
 PATH_SEPARATOR = @PATH_SEPARATOR@
 PERL = @PERL@
 PERL_BINDINGS = @PERL_BINDINGS@
 PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
+PKG_CONFIG = @PKG_CONFIG@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
 YFLAGS = @YFLAGS@
-abs_builddir = @abs_builddir@
-abs_srcdir = @abs_srcdir@
-abs_top_builddir = @abs_top_builddir@
-abs_top_srcdir = @abs_top_srcdir@
 ac_ct_CC = @ac_ct_CC@
 ac_ct_CXX = @ac_ct_CXX@
 ac_ct_F77 = @ac_ct_F77@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
 am__tar = @am__tar@
 am__untar = @am__untar@
 bindir = @bindir@
 build = @build@
 build_alias = @build_alias@
 build_cpu = @build_cpu@
 build_os = @build_os@
 build_vendor = @build_vendor@
-builddir = @builddir@
 datadir = @datadir@
 datarootdir = @datarootdir@
 docdir = @docdir@
 dvidir = @dvidir@
 exec_prefix = @exec_prefix@
 host = @host@
@@ -171,19 +331,18 @@
 pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
-srcdir = @srcdir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-top_builddir = @top_builddir@
-top_srcdir = @top_srcdir@
-EXTRA_DIST = perl/Collectd.pm perl/Makefile.PL perl/Collectd/Makefile.PL perl/Collectd/Unixsock.pm
+EXTRA_DIST = perl/Collectd.pm perl/Makefile.PL perl/Collectd/Makefile.PL \
+		perl/Collectd/Unixsock.pm
+
 all: all-am
 
 .SUFFIXES:
 $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
 	@for dep in $?; do \
 	  case '$(am__configure_deps)' in \
@@ -216,35 +375,41 @@
 
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
 tags: TAGS
 TAGS:
 
 ctags: CTAGS
 CTAGS:
 
 
 distdir: $(DISTFILES)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	list='$(DISTFILES)'; \
-	  dist_files=`for file in $$list; do echo $$file; done | \
-	  sed -e "s|^$$srcdirstrip/||;t" \
-	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
-	case $$dist_files in \
-	  */*) $(MKDIR_P) `echo "$$dist_files" | \
-			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
-			   sort -u` ;; \
-	esac; \
-	for file in $$dist_files; do \
+	$(mkdir_p) $(distdir)/perl $(distdir)/perl/Collectd
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
 	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
 	  if test -d $$d/$$file; then \
-	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
 	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
 	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
 	    fi; \
 	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
 	  else \
 	    test -f $(distdir)/$$file \
@@ -283,13 +448,13 @@
 clean: clean-am
 
 clean-am: clean-generic clean-libtool clean-local mostlyclean-am
 
 distclean: distclean-am
 	-rm -f Makefile
-distclean-am: clean-am distclean-generic
+distclean-am: clean-am distclean-generic distclean-libtool
 
 dvi: dvi-am
 
 dvi-am:
 
 html: html-am
@@ -297,26 +462,18 @@
 info: info-am
 
 info-am:
 
 install-data-am:
 
-install-dvi: install-dvi-am
-
 install-exec-am: install-exec-local
 
-install-html: install-html-am
-
 install-info: install-info-am
 
 install-man:
 
-install-pdf: install-pdf-am
-
-install-ps: install-ps-am
-
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
 
@@ -329,27 +486,24 @@
 pdf-am:
 
 ps: ps-am
 
 ps-am:
 
-uninstall-am:
-
-.MAKE: install-am install-strip
+uninstall-am: uninstall-info-am
 
 .PHONY: all all-am all-local check check-am clean clean-generic \
 	clean-libtool clean-local distclean distclean-generic \
 	distclean-libtool distdir dvi dvi-am html html-am info info-am \
-	install install-am install-data install-data-am install-dvi \
-	install-dvi-am install-exec install-exec-am install-exec-local \
-	install-html install-html-am install-info install-info-am \
-	install-man install-pdf install-pdf-am install-ps \
-	install-ps-am install-strip installcheck installcheck-am \
-	installdirs maintainer-clean maintainer-clean-generic \
-	mostlyclean mostlyclean-generic mostlyclean-libtool pdf pdf-am \
-	ps ps-am uninstall uninstall-am
+	install install-am install-data install-data-am install-exec \
+	install-exec-am install-exec-local install-info \
+	install-info-am install-man install-strip installcheck \
+	installcheck-am installdirs maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-generic \
+	mostlyclean-libtool pdf pdf-am ps ps-am uninstall uninstall-am \
+	uninstall-info-am
 
 
 all-local: @PERL_BINDINGS@
 
 install-exec-local:
 	[ ! -f perl/Makefile ] || ( cd perl && $(MAKE) install )
@@ -357,13 +511,14 @@
 clean-local:
 	[ ! -f perl/Makefile ] || ( cd perl && $(MAKE) realclean )
 
 perl: perl/Makefile
 	cd perl && $(MAKE)
 
-perl/Makefile: .perl-directory-stamp perl/Makefile.PL perl/Collectd/Makefile.PL
+perl/Makefile: .perl-directory-stamp perl/Makefile.PL \
+	perl/Collectd/Makefile.PL $(top_builddir)/config.status
 	cd perl && @PERL@ Makefile.PL PREFIX=$(prefix) @PERL_BINDINGS_OPTIONS@
 
 .perl-directory-stamp:
 	if test ! -d perl; then \
 	  mkdir -p perl/Collectd; \
 	  cp $(srcdir)/perl/Collectd.pm perl/; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/perl/Collectd/Unixsock.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/perl/Collectd/Unixsock.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/perl/Collectd/Unixsock.pm	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/perl/Collectd/Unixsock.pm	2008-02-19 03:57:18.000000000 +0800
@@ -1,11 +1,33 @@
+#
+# collectd - Collectd::Unixsock
+# Copyright (C) 2007,2008  Florian octo Forster
+#
+# This program is free software; you can redistribute it and/or modify it
+# under the terms of the GNU General Public License as published by the
+# Free Software Foundation; only version 2 of the License is applicable.
+#
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+# General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License along
+# with this program; if not, write to the Free Software Foundation, Inc.,
+# 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+#
+# Author:
+#   Florian octo Forster <octo at verplant.org>
+#
+
 package Collectd::Unixsock;
 
 =head1 NAME
 
-Collectd::Unixsock - Abstraction layer for accessing the functionality by collectd's unixsock plugin.
+Collectd::Unixsock - Abstraction layer for accessing the functionality by
+collectd's unixsock plugin.
 
 =head1 SYNOPSIS
 
   use Collectd::Unixsock ();
 
   my $sock = Collectd::Unixsock->new ($path);
@@ -26,12 +48,14 @@
 
 =cut
 
 use strict;
 use warnings;
 
+#use constant { NOTIF_FAILURE => 1, NOTIF_WARNING => 2, NOTIF_OKAY => 4 };
+
 use Carp (qw(cluck confess));
 use IO::Socket::UNIX;
 use Regexp::Common (qw(number));
 
 return (1);
 
@@ -187,13 +211,13 @@
 		}
 	}
 
 	return ($ret);
 } # getval
 
-=item I<$obj>-E<gt>B<putval> (I<%identifier>, B<time> => I<$time>, B<values> => [...]);
+=item I<$obj>-E<gt>B<putval> (I<%identifier>, B<time> =E<gt> I<$time>, B<values> =E<gt> [...]);
 
 Submits a value-list to the daemon. If the B<time> argument is omitted
 C<time()> is used. The requierd argument B<values> is a reference to an array
 of values that is to be submitted. The number of values must match the number
 of values expected for the given B<type> (see L<VALUE IDENTIFIER>), though this
 is checked by the daemon, not the Perl module. Also, gauge data-sources
@@ -287,12 +311,98 @@
 		push (@ret, $ident);
 	} # for (i = 0 .. $status)
 
 	return (@ret);
 } # listval
 
+=item I<$res> = I<$obj>-E<gt>B<putnotif> (B<severity> =E<gt> I<$severity>, B<message> =E<gt> I<$message>, ...);
+
+Submits a notification to the daemon.
+
+Valid options are:
+
+=over 4
+
+=item B<severity>
+
+Sets the severity of the notification. The value must be one of the following
+strings: C<failure>, C<warning>, or C<okay>. Case does not matter. This option
+is mandatory.
+
+=item B<message>
+
+Sets the message of the notification. This option is mandatory.
+
+=item B<time>
+
+Sets the time. If omitted, C<time()> is used.
+
+=item I<Value identifier>
+
+All the other fields of the value identifiers, B<host>, B<plugin>,
+B<plugin_instance>, B<type>, and B<type_instance>, are optional. When given,
+the notification is associated with the performance data of that identifier.
+For more details, please see L<collectd-unixsock(5)>.
+
+=back
+
+=cut
+
+sub putnotif
+{
+	my $obj = shift;
+	my %args = @_;
+
+	my $status;
+	my $fh = $obj->{'sock'} or confess;
+
+	my $msg; # message sent to the socket
+	my $opt_msg; # message of the notification
+	
+	if (!$args{'message'})
+	{
+		cluck ("Need argument `message'");
+		return;
+	}
+	if (!$args{'severity'})
+	{
+		cluck ("Need argument `severity'");
+		return;
+	}
+	$args{'severity'} = lc ($args{'severity'});
+	if (($args{'severity'} ne 'failure')
+		&& ($args{'severity'} ne 'warning')
+		&& ($args{'severity'} ne 'okay'))
+	{
+		cluck ("Invalid `severity: " . $args{'severity'});
+		return;
+	}
+
+	if (!$args{'time'})
+	{
+		$args{'time'} = time ();
+	}
+	
+	$opt_msg = $args{'message'};
+	delete ($args{'message'});
+
+	$msg = 'PUTNOTIF '
+	. join (' ', map { $_ . '=' . $args{$_} } (keys %args))
+	. " message=$opt_msg\n";
+
+	send ($fh, $msg, 0) or confess ("send: $!");
+	$msg = undef;
+	recv ($fh, $msg, 1024, 0) or confess ("recv: $!");
+
+	($status, $msg) = split (' ', $msg, 2);
+	return (1) if ($status == 0);
+
+	$obj->{'error'} = $msg;
+	return;
+} # putnotif
+
 =item I<$obj>-E<gt>destroy ();
 
 Closes the socket before the object is destroyed. This function is also
 automatically called then the object goes out of scope.
 
 =back
@@ -312,11 +422,17 @@
 sub DESTROY
 {
 	my $obj = shift;
 	$obj->destroy ();
 }
 
+=head1 SEE ALSO
+
+L<collectd(1)>,
+L<collectd.conf(5)>,
+L<collectd-unixsock(5)>
+
 =head1 AUTHOR
 
 Florian octo Forster E<lt>octo@verplant.orgE<gt>
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/perl/Collectd.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/perl/Collectd.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/bindings/perl/Collectd.pm	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/bindings/perl/Collectd.pm	2008-02-19 03:57:18.000000000 +0800
@@ -19,29 +19,42 @@
 
 package Collectd;
 
 use strict;
 use warnings;
 
+use Config;
+
+use threads;
+use threads::shared;
+
+BEGIN {
+	if (! $Config{'useithreads'}) {
+		die "Perl does not support ithreads!";
+	}
+}
+
 require Exporter;
 
 our @ISA = qw( Exporter );
 
 our %EXPORT_TAGS = (
 	'plugin' => [ qw(
 			plugin_register
 			plugin_unregister
 			plugin_dispatch_values
+			plugin_dispatch_notification
 			plugin_log
 	) ],
 	'types' => [ qw(
 			TYPE_INIT
 			TYPE_READ
 			TYPE_WRITE
 			TYPE_SHUTDOWN
 			TYPE_LOG
+			TYPE_NOTIF
 			TYPE_DATASET
 	) ],
 	'ds_types' => [ qw(
 			DS_TYPE_COUNTER
 			DS_TYPE_GAUGE
 	) ],
@@ -54,35 +67,48 @@
 			LOG_ERR
 			LOG_WARNING
 			LOG_NOTICE
 			LOG_INFO
 			LOG_DEBUG
 	) ],
+	'notif' => [ qw(
+			NOTIF_FAILURE
+			NOTIF_WARNING
+			NOTIF_OKAY
+	) ],
+	'globals' => [ qw(
+			$hostname_g
+			$interval_g
+	) ],
 );
 
 {
 	my %seen;
 	push @{$EXPORT_TAGS{'all'}}, grep {! $seen{$_}++ } @{$EXPORT_TAGS{$_}}
 		foreach keys %EXPORT_TAGS;
 }
 
+# global variables
+our $hostname_g;
+our $interval_g;
+
 Exporter::export_ok_tags ('all');
 
-my @plugins  = ();
-my @datasets = ();
+my @plugins : shared = ();
 
 my %types = (
 	TYPE_INIT,     "init",
 	TYPE_READ,     "read",
 	TYPE_WRITE,    "write",
 	TYPE_SHUTDOWN, "shutdown",
-	TYPE_LOG,      "log"
+	TYPE_LOG,      "log",
+	TYPE_NOTIF,    "notify"
 );
 
 foreach my $type (keys %types) {
-	$plugins[$type] = {};
+	$plugins[$type] = &share ({});
 }
 
 sub _log {
 	my $caller = shift;
 	my $lvl    = shift;
 	my $msg    = shift;
@@ -99,12 +125,14 @@
 sub INFO    { _log (scalar caller, LOG_INFO,    shift); }
 sub DEBUG   { _log (scalar caller, LOG_DEBUG,   shift); }
 
 sub plugin_call_all {
 	my $type = shift;
 
+	our $cb_name = undef;
+
 	if (! defined $type) {
 		return;
 	}
 
 	if (TYPE_LOG != $type) {
 		DEBUG ("Collectd::plugin_call: type = \"$type\", args=\"@_\"");
@@ -112,44 +140,70 @@
 
 	if (! defined $plugins[$type]) {
 		ERROR ("Collectd::plugin_call: unknown type \"$type\"");
 		return;
 	}
 
+	lock @plugins;
 	foreach my $plugin (keys %{$plugins[$type]}) {
 		my $p = $plugins[$type]->{$plugin};
 
+		my $status = 0;
+
 		if ($p->{'wait_left'} > 0) {
-			# TODO: use interval_g
-			$p->{'wait_left'} -= 10;
+			$p->{'wait_left'} -= $interval_g;
 		}
 
 		next if ($p->{'wait_left'} > 0);
 
-		if (my $status = $p->{'code'}->(@_)) {
+		$cb_name = $p->{'cb_name'};
+		$status = call_by_name (@_);
+
+		if (! $status) {
+			my $err = undef;
+
+			if ($@) {
+				$err = $@;
+			}
+			else {
+				$err = "callback returned false";
+			}
+
+			if (TYPE_LOG != $type) {
+				ERROR ("Execution of callback \"$cb_name\" failed: $err");
+			}
+
+			$status = 0;
+		}
+
+		if ($status) {
 			$p->{'wait_left'} = 0;
-			$p->{'wait_time'} = 10;
+			$p->{'wait_time'} = $interval_g;
 		}
 		elsif (TYPE_READ == $type) {
+			if ($p->{'wait_time'} < $interval_g) {
+				$p->{'wait_time'} = $interval_g;
+			}
+
 			$p->{'wait_left'} = $p->{'wait_time'};
 			$p->{'wait_time'} *= 2;
 
 			if ($p->{'wait_time'} > 86400) {
 				$p->{'wait_time'} = 86400;
 			}
 
 			WARNING ("${plugin}->read() failed with status $status. "
 				. "Will suspend it for $p->{'wait_left'} seconds.");
 		}
 		elsif (TYPE_INIT == $type) {
+			ERROR ("${plugin}->init() failed with status $status. "
+				. "Plugin will be disabled.");
+
 			foreach my $type (keys %types) {
 				plugin_unregister ($type, $plugin);
 			}
-
-			ERROR ("${plugin}->init() failed with status $status. "
-				. "Plugin will be disabled.");
 		}
 		elsif (TYPE_LOG != $type) {
 			WARNING ("${plugin}->$types{$type}() failed with status $status.");
 		}
 	}
 	return 1;
@@ -184,19 +238,29 @@
 		return;
 	}
 
 	if ((TYPE_DATASET == $type) && ("ARRAY" eq ref $data)) {
 		return plugin_register_data_set ($name, $data);
 	}
-	elsif ("CODE" eq ref $data) {
-		# TODO: make interval_g available at configuration time
-		$plugins[$type]->{$name} = {
-				wait_time => 10,
-				wait_left => 0,
-				code      => $data,
-		};
+	elsif ((TYPE_DATASET != $type) && (! ref $data)) {
+		my $pkg = scalar caller;
+
+		my %p : shared;
+
+		if ($data !~ m/^$pkg/) {
+			$data = $pkg . "::" . $data;
+		}
+
+		%p = (
+			wait_time => $interval_g,
+			wait_left => 0,
+			cb_name   => $data,
+		);
+
+		lock @plugins;
+		$plugins[$type]->{$name} = \%p;
 	}
 	else {
 		ERROR ("Collectd::plugin_register: Invalid data.");
 		return;
 	}
 	return 1;
@@ -214,12 +278,13 @@
 	}
 
 	if (TYPE_DATASET == $type) {
 		return plugin_unregister_data_set ($name);
 	}
 	elsif (defined $plugins[$type]) {
+		lock @plugins;
 		delete $plugins[$type]->{$name};
 	}
 	else {
 		ERROR ("Collectd::plugin_unregister: Invalid type.");
 		return;
 	}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/ChangeLog	2008-04-23 00:01:03.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/ChangeLog	2008-02-20 03:26:43.000000000 +0800
@@ -1,43 +1,46 @@
-2008-04-22, Version 4.2.7
-	* build system: Improved detection of several libraries, especially if
-	  they are in non-standard paths.
-	* build system: Portability fixes: Automatically define "_REENTRANT"
-	  if the libc expects it.
-	* collectd: Error and warning messages have been improved.
-	* collectd: Check for the BYTE_ORDER and BIG_ENDIAN defines before
-	  using them.
-	* apache plugin: Allocate new memory when reading a webpage instead of
-	  using a buffer of static size.
-	* exec plugin: Close (almost) all filedescriptors before exec(2)ing
-	  the program.
-	* hddtemp plugin: Error and warning messages have been improved.
-	* sensors plugin: Fix sensor collection for some chip types.
-
-2008-03-29, Version 4.2.6
-	* collectd: Improved error messages when parsing the configuration.
-	* sensors plugin: Fix temperature collection with libsensors4.
-	* unixsock plugin: Fix mixed input and output operation on streams.
-	* wireless plugin: Fix reading noise value.
-
-2008-03-04, Version 4.2.5
-	* apache plugin: Improved initialization and error messages.
-	* exec plugin: Set supplementary group IDs.
-	* network plugin:
-	  + Create separate threads for reading from the socket and parsing
-	    and dispatching incoming packets. Versions prior to this may have
-	    problems in high-load situations, where the socket receive buffers
-	    overflows, resulting in gaps in the data.
-	  + Use `memcpy' when constructing/parsing a package to avoid
-	    alignment problems on weird architectures, such as Sparc.
-	  + Translate doubles to/from the x86 byte representation to ensure
-	    cross-platform compatibility.
-	* ping plugin: Correct the handling of the `TTL' setting.
-	* rrdtool plugin: Ensure correct handling of the `RRATimespan' option.
-	* swap plugin: Reapply a patch for Solaris.
-	* tcpconns plugin: Portability improvements.
+2008-02-18, Version 4.3.0
+	* collectd: Notifications have been added to the daemon. Notifications
+	  are status messages that may be associated with a data instance.
+	* collectd: Threshold checking has been added to the daemon. This
+	  means that you can configure threshold values for each data
+	  instance. If this threshold is exceeded a notification will be
+	  created.
+	* collectd: The new `FQDNLookup' option tells the daemon to use the
+	  full qualified domain name as the hostname, not just the host part
+	  es returned by `gethostname(2)'.
+	* collectd: Support for more than one `TypesDB' file has been added.
+	  This is useful when one such file is included in a package but one
+	  wants to add custom type definitions.
+	* collectd: The `Include' config option has been expanded to handle
+	  entire directories and shell wildcards.
+	* collectdmon: The new `collectdmon' binary detects when collectd
+	  terminates and automatically restarts it again.
+	* csv plugin: The CSV plugin is now able to store counter values as a
+	  rate, using the `StoreRates' configuration option.
+	* exec plugin: Handling of notifications has been added and the
+	  ability to pass arguments to the executed programs has been added.
+	* hddtemp plugin: The new `TranslateDevicename' option lets you
+	  disable the translation from device names to major-minor-numbers.
+	* logfile plugin: Handling of notifications has been added.
+	* ntpd plugin: The new `ReverseLookups' can be used to disable reverse
+	  domain name lookups in this plugin.
+	* perl plugin: Many internal changes added support for handling multiple
+	  threads making the plugin reasonably usable inside collectd. The API has
+	  been extended to support notifications and export global variables to
+	  Perl plugins; callbacks now have to be identified by name rather than a
+	  pointer to a subroutine. The plugin is no longer experimental.
+	* uuid plugin: The new UUID plugin sets the hostname to an unique
+	  identifier for this host. This is meant for setups where each client
+	  may migrate to another physical host, possibly going through one or
+	  more name changes in the process. Thanks to Richard Jones from
+	  Red Hat's Emerging Technology group for this plugin.
+	* libvirt: The new libvirt plugin uses the `libvirt' library to query
+	  CPU, disk and network statistics about guest systems on the same
+	  physical server. Thanks to Richard Jones from Red Hat's Emerging
+	  Technology group for this plugin.
 
 2008-01-21, Version 4.2.4
 	* unixsock plugin: A bug in the unixsock plugin caused it not to set
 	  the permission on the socket as documented in the manpage. Thanks to
 	  Evgeny Chukreev for fixing this issue.
 	* collectd: The documentation has been improved.
@@ -90,13 +93,13 @@
 	* unixsock plugin: A bug in the unixsock plugin caused it not to set
 	  the permission on the socket as documented in the manpage. Thanks to
 	  Evgeny Chukreev for fixing this issue.
 	* collectd: The documentation has been improved.
 
 2007-12-27, Version 4.1.5
-	* rrdtool plugin: Fix a memory leak that only occurred in very-low-
+	* rrdtool plugin: Fix a memory leak that only occured in very-low-
 	  memory situations.
 	* sensors plugin: Updated the plugin to build and work with version 3
 	  of the libsensors library.
 
 2007-11-08, Version 4.1.4
 	* Build system: Improve detection of the rrd library, especially if
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/config.guess /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/config.guess
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/config.guess	2008-02-18 04:10:30.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/config.guess	2007-08-17 11:14:13.000000000 +0800
@@ -1,13 +1,13 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
-#   Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,
+#   Inc.
 
-timestamp='2008-01-23'
+timestamp='2007-07-22'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
 # (at your option) any later version.
 #
@@ -53,14 +53,14 @@
 Report bugs and patches to <config-patches@gnu.org>."
 
 version="\
 GNU config.guess ($timestamp)
 
 Originally written by Per Bothner.
-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
-2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
+Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
 
 help="
 Try \`$me --help' for more information."
@@ -529,13 +529,13 @@
 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
 		echo rs6000-ibm-aix3.2.4
 	else
 		echo rs6000-ibm-aix3.2
 	fi
 	exit ;;
-    *:AIX:*:[456])
+    *:AIX:*:[45])
 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
 	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
 		IBM_ARCH=rs6000
 	else
 		IBM_ARCH=powerpc
 	fi
@@ -796,15 +796,12 @@
 	    x86)
 		echo i586-pc-interix${UNAME_RELEASE}
 		exit ;;
 	    EM64T | authenticamd)
 		echo x86_64-unknown-interix${UNAME_RELEASE}
 		exit ;;
-	    IA64)
-		echo ia64-unknown-interix${UNAME_RELEASE}
-		exit ;;
 	esac ;;
     [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
 	echo i${UNAME_MACHINE}-pc-mks
 	exit ;;
     i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
 	# How do we know it's Interix rather than the generic POSIX subsystem?
@@ -833,20 +830,13 @@
 	echo ${UNAME_MACHINE}-unknown-`echo ${UNAME_SYSTEM} | sed 's,^[^/]*/,,' | tr '[A-Z]' '[a-z]'``echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`-gnu
 	exit ;;
     i*86:Minix:*:*)
 	echo ${UNAME_MACHINE}-pc-minix
 	exit ;;
     arm*:Linux:*:*)
-	eval $set_cc_for_build
-	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
-	    | grep -q __ARM_EABI__
-	then
-	    echo ${UNAME_MACHINE}-unknown-linux-gnu
-	else
-	    echo ${UNAME_MACHINE}-unknown-linux-gnueabi
-	fi
+	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     avr32*:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
     cris:Linux:*:*)
 	echo cris-axis-linux-gnu
@@ -961,14 +951,14 @@
     vax:Linux:*:*)
 	echo ${UNAME_MACHINE}-dec-linux-gnu
 	exit ;;
     x86_64:Linux:*:*)
 	echo x86_64-unknown-linux-gnu
 	exit ;;
-    xtensa*:Linux:*:*)
-    	echo ${UNAME_MACHINE}-unknown-linux-gnu
+    xtensa:Linux:*:*)
+    	echo xtensa-unknown-linux-gnu
 	exit ;;
     i*86:Linux:*:*)
 	# The BFD linker knows what the default object file format is, so
 	# first see if it will tell us. cd to the root directory to prevent
 	# problems with other programs or directories called `ld' in the path.
 	# Set LC_ALL=C to ensure ld outputs messages in English.
@@ -1481,15 +1471,15 @@
 $0: unable to guess system type
 
 This script, last modified $timestamp, has failed to recognize
 the operating system you are using. It is advised that you
 download the most up to date version of the config scripts from
 
-  http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD
+  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.guess
 and
-  http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD
+  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.sub
 
 If the version you run ($0) is already up to date, please
 send the following data and any information you think might be
 pertinent to <config-patches@gnu.org> in order to provide the needed
 information to handle your system.
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/config.sub /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/config.sub
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/config.sub	2008-02-18 04:10:30.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/config.sub	2007-08-17 11:14:13.000000000 +0800
@@ -1,13 +1,13 @@
 #! /bin/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
-#   Free Software Foundation, Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,
+#   Inc.
 
-timestamp='2008-01-16'
+timestamp='2007-06-28'
 
 # This file is (in principle) common to ALL GNU software.
 # The presence of a machine in this file suggests that SOME GNU software
 # can handle that machine.  It does not imply ALL GNU software can.
 #
 # This file is free software; you can redistribute it and/or modify
@@ -69,14 +69,14 @@
 
 Report bugs and patches to <config-patches@gnu.org>."
 
 version="\
 GNU config.sub ($timestamp)
 
-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
-2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
+Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
 
 help="
 Try \`$me --help' for more information."
@@ -366,20 +366,16 @@
 	| tahoe-* | thumb-* \
 	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
 	| tron-* \
 	| v850-* | v850e-* | vax-* \
 	| we32k-* \
 	| x86-* | x86_64-* | xc16x-* | xps100-* | xscale-* | xscalee[bl]-* \
-	| xstormy16-* | xtensa*-* \
+	| xstormy16-* | xtensa-* \
 	| ymp-* \
 	| z8k-*)
 		;;
-	# Recognize the basic CPU types without company name, with glob match.
-	xtensa*)
-		basic_machine=$basic_machine-unknown
-		;;
 	# Recognize the various machine names and aliases which stand
 	# for a CPU type and a company and sometimes even an OS.
 	386bsd)
 		basic_machine=i386-unknown
 		os=-bsd
 		;;
@@ -444,20 +440,12 @@
 		os=-aux
 		;;
 	balance)
 		basic_machine=ns32k-sequent
 		os=-dynix
 		;;
-	blackfin)
-		basic_machine=bfin-unknown
-		os=-linux
-		;;
-	blackfin-*)
-		basic_machine=bfin-`echo $basic_machine | sed 's/^[^-]*-//'`
-		os=-linux
-		;;
 	c90)
 		basic_machine=c90-cray
 		os=-unicos
 		;;
 	convex-c1)
 		basic_machine=c1-convex
@@ -677,20 +665,12 @@
 		esac
 		;;
 	isi68 | isi)
 		basic_machine=m68k-isi
 		os=-sysv
 		;;
-	m68knommu)
-		basic_machine=m68k-unknown
-		os=-linux
-		;;
-	m68knommu-*)
-		basic_machine=m68k-`echo $basic_machine | sed 's/^[^-]*-//'`
-		os=-linux
-		;;
 	m88k-omron*)
 		basic_machine=m88k-omron
 		;;
 	magnum | m3230)
 		basic_machine=mips-mips
 		os=-sysv
@@ -830,20 +810,12 @@
 		os=-hiuxwe2
 		;;
 	paragon)
 		basic_machine=i860-intel
 		os=-osf
 		;;
-	parisc)
-		basic_machine=hppa-unknown
-		os=-linux
-		;;
-	parisc-*)
-		basic_machine=hppa-`echo $basic_machine | sed 's/^[^-]*-//'`
-		os=-linux
-		;;
 	pbd)
 		basic_machine=sparc-tti
 		;;
 	pbb)
 		basic_machine=m68k-tti
 		;;
@@ -1046,16 +1018,12 @@
 		os=-coff
 		;;
 	tic6x | c6x*)
 		basic_machine=tic6x-unknown
 		os=-coff
 		;;
-	tile*)
-		basic_machine=tile-unknown
-		os=-linux-gnu
-		;;
 	tx39)
 		basic_machine=mipstx39-unknown
 		;;
 	tx39el)
 		basic_machine=mipstx39el-unknown
 		;;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/configure	2008-04-23 19:53:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/configure	2008-02-20 03:28:09.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.61 for collectd 4.2.7.
+# Generated by GNU Autoconf 2.61 for collectd 4.3.0.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -723,14 +723,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='4.2.7'
-PACKAGE_STRING='collectd 4.2.7'
+PACKAGE_VERSION='4.3.0'
+PACKAGE_STRING='collectd 4.3.0'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -805,13 +805,12 @@
 build_alias
 host_alias
 target_alias
 INSTALL_PROGRAM
 INSTALL_SCRIPT
 INSTALL_DATA
-am__isrc
 CYGPATH_W
 PACKAGE
 VERSION
 ACLOCAL
 AUTOCONF
 AUTOMAKE
@@ -860,14 +859,12 @@
 SED
 GREP
 EGREP
 ECHO
 AR
 RANLIB
-DSYMUTIL
-NMEDIT
 CXX
 CXXFLAGS
 ac_ct_CXX
 CXXDEPMODE
 am__fastdepCXX_TRUE
 am__fastdepCXX_FALSE
@@ -885,12 +882,15 @@
 BUILD_WITH_LIBSOCKET_TRUE
 BUILD_WITH_LIBSOCKET_FALSE
 BUILD_WITH_LIBRT_TRUE
 BUILD_WITH_LIBRT_FALSE
 BUILD_WITH_LIBRESOLV_TRUE
 BUILD_WITH_LIBRESOLV_FALSE
+PKG_CONFIG
+BUILD_WITH_LIBHAL_CFLAGS
+BUILD_WITH_LIBHAL_LIBS
 BUILD_WITH_LIBRRD_CFLAGS
 BUILD_WITH_LIBRRD_LDFLAGS
 BUILD_WITH_LIBPTHREAD_TRUE
 BUILD_WITH_LIBPTHREAD_FALSE
 BUILD_WITH_LIBKSTAT_TRUE
 BUILD_WITH_LIBKSTAT_FALSE
@@ -944,12 +944,16 @@
 BUILD_WITH_LIBXMMS_TRUE
 BUILD_WITH_LIBXMMS_FALSE
 BUILD_WITH_LIBNETLINK_CFLAGS
 BUILD_WITH_LIBNETLINK_LIBS
 BUILD_WITH_LIBNETLINK_TRUE
 BUILD_WITH_LIBNETLINK_FALSE
+BUILD_WITH_LIBXML2_CFLAGS
+BUILD_WITH_LIBXML2_LIBS
+BUILD_WITH_LIBVIRT_CFLAGS
+BUILD_WITH_LIBVIRT_LIBS
 BUILD_FEATURE_DEBUG_TRUE
 BUILD_FEATURE_DEBUG_FALSE
 BUILD_FEATURE_DAEMON_TRUE
 BUILD_FEATURE_DAEMON_FALSE
 BUILD_FEATURE_GETIFADDRS_TRUE
 BUILD_FEATURE_GETIFADDRS_FALSE
@@ -986,12 +990,14 @@
 BUILD_PLUGIN_IPTABLES_TRUE
 BUILD_PLUGIN_IPTABLES_FALSE
 BUILD_PLUGIN_IPVS_TRUE
 BUILD_PLUGIN_IPVS_FALSE
 BUILD_PLUGIN_IRQ_TRUE
 BUILD_PLUGIN_IRQ_FALSE
+BUILD_PLUGIN_LIBVIRT_TRUE
+BUILD_PLUGIN_LIBVIRT_FALSE
 BUILD_PLUGIN_LOAD_TRUE
 BUILD_PLUGIN_LOAD_FALSE
 BUILD_PLUGIN_LOGFILE_TRUE
 BUILD_PLUGIN_LOGFILE_FALSE
 BUILD_PLUGIN_MBMON_TRUE
 BUILD_PLUGIN_MBMON_FALSE
@@ -1038,12 +1044,14 @@
 BUILD_PLUGIN_TCPCONNS_TRUE
 BUILD_PLUGIN_TCPCONNS_FALSE
 BUILD_PLUGIN_UNIXSOCK_TRUE
 BUILD_PLUGIN_UNIXSOCK_FALSE
 BUILD_PLUGIN_USERS_TRUE
 BUILD_PLUGIN_USERS_FALSE
+BUILD_PLUGIN_UUID_TRUE
+BUILD_PLUGIN_UUID_FALSE
 BUILD_PLUGIN_VSERVER_TRUE
 BUILD_PLUGIN_VSERVER_FALSE
 BUILD_PLUGIN_WIRELESS_TRUE
 BUILD_PLUGIN_WIRELESS_FALSE
 BUILD_PLUGIN_XMMS_TRUE
 BUILD_PLUGIN_XMMS_FALSE
@@ -1065,13 +1073,14 @@
 CXXFLAGS
 CCC
 CXXCPP
 F77
 FFLAGS
 YACC
-YFLAGS'
+YFLAGS
+PKG_CONFIG'
 ac_subdirs_all='libltdl'
 
 # Initialize some variables set by options.
 ac_init_help=
 ac_init_version=false
 # The variables have the same names as the options, with
@@ -1568,13 +1577,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 4.2.7 to adapt to many kinds of systems.
+\`configure' configures collectd 4.3.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1638,13 +1647,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 4.2.7:";;
+     short | recursive ) echo "Configuration of collectd 4.3.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1678,12 +1687,13 @@
   --enable-exec           Execution of external programs
   --enable-hddtemp        Query hddtempd
   --enable-interface      Interface traffic statistics
   --enable-iptables       IPTables rule counters
   --enable-ipvs           IPVS connection statistics
   --enable-irq            IRQ statistics
+  --enable-libvirt        Virtual machine statistics
   --enable-load           System load
   --enable-logfile        File logging plugin
   --enable-mbmon          Query mbmond
   --enable-memcached      memcached statistics
   --enable-memory         Memory usage
   --enable-multimeter     Read multimeter values
@@ -1704,26 +1714,25 @@
   --enable-swap           Swap usage statistics
   --enable-syslog         Syslog logging plugin
   --enable-tape           Tape drive statistics
   --enable-tcpconns       TCP connection statistics
   --enable-unixsock       Unixsock communication plugin
   --enable-users          User statistics
+  --enable-uuid           UUID as hostname plugin
   --enable-vserver        Linux VServer statistics
   --enable-wireless       Wireless statistics
   --enable-xmms           XMMS statistics
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]
   --with-pic              try to use only PIC/non-PIC objects [default=use
                           both]
   --with-tags[=TAGS]      include additional configurations [automatic]
   --with-nan-emulation    use emulated NAN. For crosscompiling only.
-  --with-fp-layout        set the memory layout of doubles. For crosscompiling
-                          only.
 
 collectd additional packages:
   --with-rrdtool[=PREFIX] Path to rrdtool.
   --with-libpthread=[=PREFIX]
                           Path to libpthread.
   --with-libcurl[=PREFIX] Path to libcurl.
@@ -1766,12 +1775,13 @@
   FFLAGS      Fortran 77 compiler flags
   YACC        The `Yet Another C Compiler' implementation to use. Defaults to
               the first program found out of: `bison -y', `byacc', `yacc'.
   YFLAGS      The list of arguments that will be passed by default to $YACC.
               This script will default YFLAGS to the empty string to avoid a
               default value of `-d' given by some make applications.
+  PKG_CONFIG  path to pkg-config utility
 
 Use these variables to override the choices made by `configure' or to help
 it to find libraries and programs with nonstandard names/locations.
 
 _ACEOF
 ac_status=$?
@@ -1830,13 +1840,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 4.2.7
+collectd configure 4.3.0
 generated by GNU Autoconf 2.61
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1844,13 +1854,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 4.2.7, which was
+It was created by collectd $as_me 4.3.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2200,14 +2210,13 @@
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
 ac_config_headers="$ac_config_headers src/config.h"
 
-am__api_version='1.10'
-
+am__api_version="1.9"
 ac_aux_dir=
 for ac_dir in "$srcdir" "$srcdir/.." "$srcdir/../.."; do
   if test -f "$ac_dir/install-sh"; then
     ac_aux_dir=$ac_dir
     ac_install_sh="$ac_aux_dir/install-sh -c"
     break
@@ -2384,59 +2393,44 @@
 else
   am_missing_run=
   { echo "$as_me:$LINENO: WARNING: \`missing' script is too old or missing" >&5
 echo "$as_me: WARNING: \`missing' script is too old or missing" >&2;}
 fi
 
-{ echo "$as_me:$LINENO: checking for a thread-safe mkdir -p" >&5
-echo $ECHO_N "checking for a thread-safe mkdir -p... $ECHO_C" >&6; }
-if test -z "$MKDIR_P"; then
-  if test "${ac_cv_path_mkdir+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_prog in mkdir gmkdir; do
-	 for ac_exec_ext in '' $ac_executable_extensions; do
-	   { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; } || continue
-	   case `"$as_dir/$ac_prog$ac_exec_ext" --version 2>&1` in #(
-	     'mkdir (GNU coreutils) '* | \
-	     'mkdir (coreutils) '* | \
-	     'mkdir (fileutils) '4.1*)
-	       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext
-	       break 3;;
-	   esac
-	 done
-       done
-done
-IFS=$as_save_IFS
-
-fi
-
-  if test "${ac_cv_path_mkdir+set}" = set; then
-    MKDIR_P="$ac_cv_path_mkdir -p"
+if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+  # We used to keeping the `.' as first argument, in order to
+  # allow $(mkdir_p) to be used without argument.  As in
+  #   $(mkdir_p) $(somedir)
+  # where $(somedir) is conditionally defined.  However this is wrong
+  # for two reasons:
+  #  1. if the package is installed by a user who cannot write `.'
+  #     make install will fail,
+  #  2. the above comment should most certainly read
+  #     $(mkdir_p) $(DESTDIR)$(somedir)
+  #     so it does not work when $(somedir) is undefined and
+  #     $(DESTDIR) is not.
+  #  To support the latter case, we have to write
+  #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+  #  so the `.' trick is pointless.
+  mkdir_p='mkdir -p --'
+else
+  # On NextStep and OpenStep, the `mkdir' command does not
+  # recognize any option.  It will interpret all options as
+  # directories to create, and then abort because `.' already
+  # exists.
+  for d in ./-p ./--version;
+  do
+    test -d $d && rmdir $d
+  done
+  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+  if test -f "$ac_aux_dir/mkinstalldirs"; then
+    mkdir_p='$(mkinstalldirs)'
   else
-    # As a last resort, use the slow shell script.  Don't cache a
-    # value for MKDIR_P within a source directory, because that will
-    # break other packages using the cache if that directory is
-    # removed, or if the value is a relative name.
-    test -d ./--version && rmdir ./--version
-    MKDIR_P="$ac_install_sh -d"
+    mkdir_p='$(install_sh) -d'
   fi
 fi
-{ echo "$as_me:$LINENO: result: $MKDIR_P" >&5
-echo "${ECHO_T}$MKDIR_P" >&6; }
-
-mkdir_p="$MKDIR_P"
-case $mkdir_p in
-  [\\/$]* | ?:[\\/]*) ;;
-  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
-esac
 
 for ac_prog in gawk mawk nawk awk
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
 { echo "$as_me:$LINENO: checking for $ac_word" >&5
@@ -2513,22 +2507,18 @@
   am__leading_dot=.
 else
   am__leading_dot=_
 fi
 rmdir .tst 2>/dev/null
 
-if test "`cd $srcdir && pwd`" != "`pwd`"; then
-  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
-  # is not polluted with repeated "-I."
-  am__isrc=' -I$(srcdir)'
-  # test to see if srcdir already configured
-  if test -f $srcdir/config.status; then
-    { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
+# test to see if srcdir already configured
+if test "`cd $srcdir && pwd`" != "`pwd`" &&
+   test -f $srcdir/config.status; then
+  { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
 echo "$as_me: error: source directory already configured; run \"make distclean\" there first" >&2;}
    { (exit 1); exit 1; }; }
-  fi
 fi
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
   if (cygpath --version) >/dev/null 2>/dev/null; then
     CYGPATH_W='cygpath -w'
@@ -2537,13 +2527,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='4.2.7'
+ VERSION='4.3.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -2565,13 +2555,13 @@
 
 AUTOHEADER=${AUTOHEADER-"${am_missing_run}autoheader"}
 
 
 MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}
 
-install_sh=${install_sh-"\$(SHELL) $am_aux_dir/install-sh"}
+install_sh=${install_sh-"$am_aux_dir/install-sh"}
 
 # Installed binaries are usually stripped using `strip' when the user
 # run `make install-strip'.  However `strip' might not be the right
 # tool to use in cross-compilation environments, therefore Automake
 # will honor the `STRIP' environment variable to overrule this program.
 if test "$cross_compiling" != no; then
@@ -2669,13 +2659,13 @@
   fi
 else
   STRIP="$ac_cv_prog_STRIP"
 fi
 
 fi
-INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
+INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
 
 # We need awk for the "check" target.  The system "awk" is bad on
 # some platforms.
 # Always define AMTAR for backward compatibility.
 
 AMTAR=${AMTAR-"${am_missing_run}tar"}
@@ -2745,13 +2735,15 @@
 fi
 
 if test "x$enable_dependency_tracking" != xno; then
   am_depcomp="$ac_aux_dir/depcomp"
   AMDEPBACKSLASH='\'
 fi
- if test "x$enable_dependency_tracking" != xno; then
+
+
+if test "x$enable_dependency_tracking" != xno; then
   AMDEP_TRUE=
   AMDEP_FALSE='#'
 else
   AMDEP_TRUE='#'
   AMDEP_FALSE=
 fi
@@ -3740,13 +3733,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -3770,13 +3762,15 @@
 
 fi
 { echo "$as_me:$LINENO: result: $am_cv_CC_dependencies_compiler_type" >&5
 echo "${ECHO_T}$am_cv_CC_dependencies_compiler_type" >&6; }
 CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type
 
- if
+
+
+if
   test "x$enable_dependency_tracking" != xno \
   && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
   am__fastdepCC_TRUE=
   am__fastdepCC_FALSE='#'
 else
   am__fastdepCC_TRUE='#'
@@ -4879,13 +4873,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -4909,13 +4902,15 @@
 
 fi
 { echo "$as_me:$LINENO: result: $am_cv_CC_dependencies_compiler_type" >&5
 echo "${ECHO_T}$am_cv_CC_dependencies_compiler_type" >&6; }
 CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type
 
- if
+
+
+if
   test "x$enable_dependency_tracking" != xno \
   && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
   am__fastdepCC_TRUE=
   am__fastdepCC_FALSE='#'
 else
   am__fastdepCC_TRUE='#'
@@ -5271,13 +5266,140 @@
 else
   { echo "$as_me:$LINENO: result: no" >&5
 echo "${ECHO_T}no" >&6; }
   SET_MAKE="MAKE=${MAKE-make}"
 fi
 
- if test "x$GCC" = "xyes"; then
+if test "x$CC" != xcc; then
+  { echo "$as_me:$LINENO: checking whether $CC and cc understand -c and -o together" >&5
+echo $ECHO_N "checking whether $CC and cc understand -c and -o together... $ECHO_C" >&6; }
+else
+  { echo "$as_me:$LINENO: checking whether cc understands -c and -o together" >&5
+echo $ECHO_N "checking whether cc understands -c and -o together... $ECHO_C" >&6; }
+fi
+set dummy $CC; ac_cc=`echo $2 |
+		      sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
+if { as_var=ac_cv_prog_cc_${ac_cc}_c_o; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+# Make sure it works both with $CC and with simple cc.
+# We do the test twice because some compilers refuse to overwrite an
+# existing .o file with -o, though they will create one.
+ac_try='$CC -c conftest.$ac_ext -o conftest2.$ac_objext >&5'
+rm -f conftest2.*
+if { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+   test -f conftest2.$ac_objext && { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); };
+then
+  eval ac_cv_prog_cc_${ac_cc}_c_o=yes
+  if test "x$CC" != xcc; then
+    # Test first that cc exists at all.
+    if { ac_try='cc -c conftest.$ac_ext >&5'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+      ac_try='cc -c conftest.$ac_ext -o conftest2.$ac_objext >&5'
+      rm -f conftest2.*
+      if { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 test -f conftest2.$ac_objext && { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); };
+      then
+	# cc works too.
+	:
+      else
+	# cc exists but doesn't like -o.
+	eval ac_cv_prog_cc_${ac_cc}_c_o=no
+      fi
+    fi
+  fi
+else
+  eval ac_cv_prog_cc_${ac_cc}_c_o=no
+fi
+rm -f core conftest*
+
+fi
+if eval test \$ac_cv_prog_cc_${ac_cc}_c_o = yes; then
+  { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+
+cat >>confdefs.h <<\_ACEOF
+#define NO_MINUS_C_MINUS_O 1
+_ACEOF
+
+fi
+
+# FIXME: we rely on the cache variable name because
+# there is no other way.
+set dummy $CC
+ac_cc=`echo $2 | sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
+if eval "test \"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\" != yes"; then
+   # Losing compiler, so override with the script.
+   # FIXME: It is wrong to rewrite CC.
+   # But if we don't then we get into trouble of one sort or another.
+   # A longer-term fix would be to have automake use am__CC in this case,
+   # and then we could set am__CC="\$(top_srcdir)/compile \$(CC)"
+   CC="$am_aux_dir/compile $CC"
+fi
+
+
+
+if test "x$GCC" = "xyes"; then
   COMPILER_IS_GCC_TRUE=
   COMPILER_IS_GCC_FALSE='#'
 else
   COMPILER_IS_GCC_TRUE='#'
   COMPILER_IS_GCC_FALSE=
 fi
@@ -5878,13 +6000,13 @@
 # 'file_magic [[regex]]' -- check by looking for files in library path
 # which responds to the $file_magic_cmd with a given extended regex.
 # If you have `file' or equivalent on your system and you're not sure
 # whether `pass_all' will *always* work, you probably want this one.
 
 case $host_os in
-aix[4-9]*)
+aix4* | aix5*)
   lt_cv_deplibs_check_method=pass_all
   ;;
 
 beos*)
   lt_cv_deplibs_check_method=pass_all
   ;;
@@ -6093,13 +6215,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 6099 "configure"' > conftest.$ac_ext
+  echo '#line 6221 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -6265,17 +6387,13 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
     case `/usr/bin/file conftest.o` in
     *64-bit*)
       case $lt_cv_prog_gnu_ld in
       yes*) LD="${LD-ld} -m elf64_sparc" ;;
-      *)
-        if ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then
-	  LD="${LD-ld} -64"
-	fi
-	;;
+      *)    LD="${LD-ld} -64" ;;
       esac
       ;;
     esac
   fi
   rm -rf conftest*
   ;;
@@ -7098,13 +7216,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -7128,13 +7245,15 @@
 
 fi
 { echo "$as_me:$LINENO: result: $am_cv_CXX_dependencies_compiler_type" >&5
 echo "${ECHO_T}$am_cv_CXX_dependencies_compiler_type" >&6; }
 CXXDEPMODE=depmode=$am_cv_CXX_dependencies_compiler_type
 
- if
+
+
+if
   test "x$enable_dependency_tracking" != xno \
   && test "$am_cv_CXX_dependencies_compiler_type" = gcc3; then
   am__fastdepCXX_TRUE=
   am__fastdepCXX_FALSE='#'
 else
   am__fastdepCXX_TRUE='#'
@@ -7950,13 +8070,13 @@
       echo "cannot run $lt_cv_sys_global_symbol_pipe" >&5
     fi
   else
     echo "$progname: failed program was:" >&5
     cat conftest.$ac_ext >&5
   fi
-  rm -rf conftest* conftst*
+  rm -f conftest* conftst*
 
   # Do not use the global_symbol_pipe unless it works.
   if test "$pipe_works" = yes; then
     break
   else
     lt_cv_sys_global_symbol_pipe=
@@ -8510,324 +8630,12 @@
 fi
 
   fi
   ;;
 esac
 
-
-  case $host_os in
-    rhapsody* | darwin*)
-    if test -n "$ac_tool_prefix"; then
-  # Extract the first word of "${ac_tool_prefix}dsymutil", so it can be a program name with args.
-set dummy ${ac_tool_prefix}dsymutil; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_DSYMUTIL+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$DSYMUTIL"; then
-  ac_cv_prog_DSYMUTIL="$DSYMUTIL" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_DSYMUTIL="${ac_tool_prefix}dsymutil"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-DSYMUTIL=$ac_cv_prog_DSYMUTIL
-if test -n "$DSYMUTIL"; then
-  { echo "$as_me:$LINENO: result: $DSYMUTIL" >&5
-echo "${ECHO_T}$DSYMUTIL" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-
-fi
-if test -z "$ac_cv_prog_DSYMUTIL"; then
-  ac_ct_DSYMUTIL=$DSYMUTIL
-  # Extract the first word of "dsymutil", so it can be a program name with args.
-set dummy dsymutil; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_ac_ct_DSYMUTIL+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$ac_ct_DSYMUTIL"; then
-  ac_cv_prog_ac_ct_DSYMUTIL="$ac_ct_DSYMUTIL" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_ac_ct_DSYMUTIL="dsymutil"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-ac_ct_DSYMUTIL=$ac_cv_prog_ac_ct_DSYMUTIL
-if test -n "$ac_ct_DSYMUTIL"; then
-  { echo "$as_me:$LINENO: result: $ac_ct_DSYMUTIL" >&5
-echo "${ECHO_T}$ac_ct_DSYMUTIL" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-  if test "x$ac_ct_DSYMUTIL" = x; then
-    DSYMUTIL=":"
-  else
-    case $cross_compiling:$ac_tool_warned in
-yes:)
-{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&5
-echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&2;}
-ac_tool_warned=yes ;;
-esac
-    DSYMUTIL=$ac_ct_DSYMUTIL
-  fi
-else
-  DSYMUTIL="$ac_cv_prog_DSYMUTIL"
-fi
-
-    if test -n "$ac_tool_prefix"; then
-  # Extract the first word of "${ac_tool_prefix}nmedit", so it can be a program name with args.
-set dummy ${ac_tool_prefix}nmedit; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_NMEDIT+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$NMEDIT"; then
-  ac_cv_prog_NMEDIT="$NMEDIT" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_NMEDIT="${ac_tool_prefix}nmedit"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-NMEDIT=$ac_cv_prog_NMEDIT
-if test -n "$NMEDIT"; then
-  { echo "$as_me:$LINENO: result: $NMEDIT" >&5
-echo "${ECHO_T}$NMEDIT" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-
-fi
-if test -z "$ac_cv_prog_NMEDIT"; then
-  ac_ct_NMEDIT=$NMEDIT
-  # Extract the first word of "nmedit", so it can be a program name with args.
-set dummy nmedit; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_ac_ct_NMEDIT+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$ac_ct_NMEDIT"; then
-  ac_cv_prog_ac_ct_NMEDIT="$ac_ct_NMEDIT" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_ac_ct_NMEDIT="nmedit"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-ac_ct_NMEDIT=$ac_cv_prog_ac_ct_NMEDIT
-if test -n "$ac_ct_NMEDIT"; then
-  { echo "$as_me:$LINENO: result: $ac_ct_NMEDIT" >&5
-echo "${ECHO_T}$ac_ct_NMEDIT" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-  if test "x$ac_ct_NMEDIT" = x; then
-    NMEDIT=":"
-  else
-    case $cross_compiling:$ac_tool_warned in
-yes:)
-{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&5
-echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&2;}
-ac_tool_warned=yes ;;
-esac
-    NMEDIT=$ac_ct_NMEDIT
-  fi
-else
-  NMEDIT="$ac_cv_prog_NMEDIT"
-fi
-
-
-    { echo "$as_me:$LINENO: checking for -single_module linker flag" >&5
-echo $ECHO_N "checking for -single_module linker flag... $ECHO_C" >&6; }
-if test "${lt_cv_apple_cc_single_mod+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_apple_cc_single_mod=no
-      if test -z "${LT_MULTI_MODULE}"; then
-   # By default we will add the -single_module flag. You can override
-   # by either setting the environment variable LT_MULTI_MODULE
-   # non-empty at configure time, or by adding -multi_module to the
-   # link flags.
-   echo "int foo(void){return 1;}" > conftest.c
-   $LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \
-     -dynamiclib ${wl}-single_module conftest.c
-   if test -f libconftest.dylib; then
-     lt_cv_apple_cc_single_mod=yes
-     rm -rf libconftest.dylib*
-   fi
-   rm conftest.c
-      fi
-fi
-{ echo "$as_me:$LINENO: result: $lt_cv_apple_cc_single_mod" >&5
-echo "${ECHO_T}$lt_cv_apple_cc_single_mod" >&6; }
-    { echo "$as_me:$LINENO: checking for -exported_symbols_list linker flag" >&5
-echo $ECHO_N "checking for -exported_symbols_list linker flag... $ECHO_C" >&6; }
-if test "${lt_cv_ld_exported_symbols_list+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_ld_exported_symbols_list=no
-      save_LDFLAGS=$LDFLAGS
-      echo "_main" > conftest.sym
-      LDFLAGS="$LDFLAGS -Wl,-exported_symbols_list,conftest.sym"
-      cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-int
-main ()
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  lt_cv_ld_exported_symbols_list=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	lt_cv_ld_exported_symbols_list=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-   LDFLAGS="$save_LDFLAGS"
-
-fi
-{ echo "$as_me:$LINENO: result: $lt_cv_ld_exported_symbols_list" >&5
-echo "${ECHO_T}$lt_cv_ld_exported_symbols_list" >&6; }
-    case $host_os in
-    rhapsody* | darwin1.[0123])
-      _lt_dar_allow_undefined='${wl}-undefined ${wl}suppress' ;;
-    darwin1.*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-    darwin*)
-      # if running on 10.5 or later, the deployment target defaults
-      # to the OS version, if on x86, and 10.4, the deployment
-      # target defaults to 10.4. Don't you love it?
-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in
-   10.0,*86*-darwin8*|10.0,*-darwin[91]*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-   10.[012]*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-   10.*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-      esac
-    ;;
-  esac
-    if test "$lt_cv_apple_cc_single_mod" = "yes"; then
-      _lt_dar_single_mod='$single_module'
-    fi
-    if test "$lt_cv_ld_exported_symbols_list" = "yes"; then
-      _lt_dar_export_syms=' ${wl}-exported_symbols_list,$output_objdir/${libname}-symbols.expsym'
-    else
-      _lt_dar_export_syms="~$NMEDIT -s \$output_objdir/\${libname}-symbols.expsym \${lib}"
-    fi
-    if test "$DSYMUTIL" != ":"; then
-      _lt_dsymutil="~$DSYMUTIL \$lib || :"
-    else
-      _lt_dsymutil=
-    fi
-    ;;
-  esac
-
-
 enable_dlopen=yes
 enable_win32_dll=no
 
 # Check whether --enable-libtool-lock was given.
 if test "${enable_libtool_lock+set}" = set; then
   enableval=$enable_libtool_lock;
@@ -8887,13 +8695,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 
 lt_prog_compiler_no_builtin_flag=
 
 if test "$GCC" = yes; then
@@ -8915,17 +8723,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8921: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8729: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8925: \$? = $ac_status" >&5
+   echo "$as_me:8733: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -9189,49 +8997,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works+set}" = set; then
+if test "${lt_prog_compiler_pic_works+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works=no
+  lt_prog_compiler_pic_works=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic -DPIC"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9211: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9019: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:9215: \$? = $ac_status" >&5
+   echo "$as_me:9023: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works=yes
+       lt_prog_compiler_pic_works=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works" = xyes; then
+if test x"$lt_prog_compiler_pic_works" = xyes; then
     case $lt_prog_compiler_pic in
      "" | " "*) ;;
      *) lt_prog_compiler_pic=" $lt_prog_compiler_pic" ;;
      esac
 else
     lt_prog_compiler_pic=
@@ -9252,42 +9060,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl eval lt_tmp_static_flag=\"$lt_prog_compiler_static\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works+set}" = set; then
+if test "${lt_prog_compiler_static_works+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works=no
+  lt_prog_compiler_static_works=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works=yes
+         lt_prog_compiler_static_works=yes
        fi
      else
-       lt_cv_prog_compiler_static_works=yes
+       lt_prog_compiler_static_works=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works" = xyes; then
+if test x"$lt_prog_compiler_static_works" = xyes; then
     :
 else
     lt_prog_compiler_static=
 fi
 
 
@@ -9309,17 +9117,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9315: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9123: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:9319: \$? = $ac_status" >&5
+   echo "$as_me:9127: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -9393,19 +9201,18 @@
   # included in the symbol list
   include_expsyms=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  exclude_expsyms='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
+  exclude_expsyms="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   for cc_temp in $compiler""; do
   case $cc_temp in
     compile | *[\\/]compile | ccache | *[\\/]ccache ) ;;
     distcc | *[\\/]distcc | purify | *[\\/]purify ) ;;
@@ -9458,13 +9265,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[3-9]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	ld_shlibs=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -9678,13 +9485,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	hardcode_direct=unsupported
       fi
       ;;
 
-    aix[4-9]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -9698,13 +9505,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+	case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -9970,16 +9777,17 @@
       hardcode_automatic=yes
       hardcode_shlibpath_var=unsupported
       whole_archive_flag_spec=''
       link_all_deplibs=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        archive_cmds="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        module_cmds="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        archive_expsym_cmds="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        module_expsym_cmds="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        archive_cmds='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      archive_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      module_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          archive_cmds='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -10493,13 +10301,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -11027,27 +10835,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -11361,13 +11154,13 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
 echo "${ECHO_T}$ac_cv_lib_dld_shl_load" >&6; }
 if test $ac_cv_lib_dld_shl_load = yes; then
-  lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"
+  lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"
 else
   { echo "$as_me:$LINENO: checking for dlopen" >&5
 echo $ECHO_N "checking for dlopen... $ECHO_C" >&6; }
 if test "${ac_cv_func_dlopen+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11637,13 +11430,13 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link" >&5
 echo "${ECHO_T}$ac_cv_lib_dld_dld_link" >&6; }
 if test $ac_cv_lib_dld_dld_link = yes; then
-  lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"
+  lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"
 fi
 
 
 fi
 
 
@@ -11686,13 +11479,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11692 "configure"
+#line 11485 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11786,13 +11579,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11792 "configure"
+#line 11585 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11913,13 +11706,13 @@
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
     ;;
 esac
 { echo "$as_me:$LINENO: result: $enable_shared" >&5
@@ -11969,13 +11762,12 @@
     old_archive_from_new_cmds \
     predep_objects \
     postdep_objects \
     predeps \
     postdeps \
     compiler_lib_search_path \
-    compiler_lib_search_dirs \
     archive_cmds \
     archive_expsym_cmds \
     postinstall_cmds \
     postuninstall_cmds \
     old_archive_from_expsyms_cmds \
     allow_undefined_flag \
@@ -12030,13 +11822,13 @@
 #! $SHELL
 
 # `$echo "$cfgfile" | sed 's%^.*/%%'` - Provide generalized library-building support services.
 # Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
 # NOTE: Changes made to this file will be lost: look at ltmain.sh.
 #
-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007
 # Free Software Foundation, Inc.
 #
 # This file is part of GNU Libtool:
 # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 # This program is free software; you can redistribute it and/or modify
@@ -12266,16 +12058,12 @@
 predeps=$lt_predeps
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -12518,13 +12306,12 @@
 # Dependencies to place before and after the object being linked:
 predep_objects_CXX=
 postdep_objects_CXX=
 predeps_CXX=
 postdeps_CXX=
 compiler_lib_search_path_CXX=
-compiler_lib_search_dirs_CXX=
 
 # Source file extension for C++ test sources.
 ac_ext=cpp
 
 # Object file extension for compiled C++ test sources.
 objext=o
@@ -12556,13 +12343,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC=$CC
 lt_save_LD=$LD
 lt_save_GCC=$GCC
@@ -12763,26 +12550,26 @@
 ld_shlibs_CXX=yes
 case $host_os in
   aix3*)
     # FIXME: insert proper C++ library support
     ld_shlibs_CXX=no
     ;;
-  aix[4-9]*)
+  aix4* | aix5*)
     if test "$host_cpu" = ia64; then
       # On IA64, the linker does run time linking by default, so we don't
       # have to do anything special.
       aix_use_runtimelinking=no
       exp_sym_flag='-Bexport'
       no_entry_flag=""
     else
       aix_use_runtimelinking=no
 
       # Test if we are trying to use run time linking or normal
       # AIX style linking. If -brtl is somewhere in LDFLAGS, we
       # need to do runtime linking.
-      case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+      case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	for ld_flag in $LDFLAGS; do
 	  case $ld_flag in
 	  *-brtl*)
 	    aix_use_runtimelinking=yes
 	    break
 	    ;;
@@ -13034,29 +12821,57 @@
       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
     else
       ld_shlibs_CXX=no
     fi
   ;;
       darwin* | rhapsody*)
+        case $host_os in
+        rhapsody* | darwin1.[012])
+         allow_undefined_flag_CXX='${wl}-undefined ${wl}suppress'
+         ;;
+       *) # Darwin 1.3 on
+         if test -z ${MACOSX_DEPLOYMENT_TARGET} ; then
+           allow_undefined_flag_CXX='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+         else
+           case ${MACOSX_DEPLOYMENT_TARGET} in
+             10.[012])
+               allow_undefined_flag_CXX='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+               ;;
+             10.*)
+               allow_undefined_flag_CXX='${wl}-undefined ${wl}dynamic_lookup'
+               ;;
+           esac
+         fi
+         ;;
+        esac
       archive_cmds_need_lc_CXX=no
       hardcode_direct_CXX=no
       hardcode_automatic_CXX=yes
       hardcode_shlibpath_var_CXX=unsupported
       whole_archive_flag_spec_CXX=''
       link_all_deplibs_CXX=yes
-      allow_undefined_flag_CXX="$_lt_dar_allow_undefined"
-      if test "$GXX" = yes ; then
+
+    if test "$GXX" = yes ; then
+      lt_int_apple_cc_single_mod=no
       output_verbose_link_cmd='echo'
-      archive_cmds_CXX="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-      module_cmds_CXX="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-      archive_expsym_cmds_CXX="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-      module_expsym_cmds_CXX="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
-      if test "$lt_cv_apple_cc_single_mod" != "yes"; then
-        archive_cmds_CXX="\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dsymutil}"
-        archive_expsym_cmds_CXX="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dar_export_syms}${_lt_dsymutil}"
+      if $CC -dumpspecs 2>&1 | $EGREP 'single_module' >/dev/null ; then
+       lt_int_apple_cc_single_mod=yes
       fi
+      if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+       archive_cmds_CXX='$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      else
+          archive_cmds_CXX='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+        fi
+        module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+        # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+          if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+            archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          else
+            archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          fi
+            module_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
       else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
           archive_cmds_CXX='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
           module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -13301,13 +13116,13 @@
 	esac
 	archive_cmds_need_lc_CXX=no
 	hardcode_libdir_flag_spec_CXX='${wl}-rpath,$libdir'
 	export_dynamic_flag_spec_CXX='${wl}--export-dynamic'
 	whole_archive_flag_spec_CXX='${wl}--whole-archive$convenience ${wl}--no-whole-archive'
 	;;
-      pgCC* | pgcpp*)
+      pgCC*)
         # Portland Group C++ compiler
 	archive_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
   	archive_expsym_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
 
 	hardcode_libdir_flag_spec_CXX='${wl}--rpath ${wl}$libdir'
 	export_dynamic_flag_spec_CXX='${wl}--export-dynamic'
@@ -13809,17 +13625,12 @@
 else
   echo "libtool.m4: error: problem compiling CXX test program"
 fi
 
 $rm -f confest.$objext
 
-compiler_lib_search_dirs_CXX=
-if test -n "$compiler_lib_search_path_CXX"; then
-  compiler_lib_search_dirs_CXX=`echo " ${compiler_lib_search_path_CXX}" | ${SED} -e 's! -L! !g' -e 's!^ !!'`
-fi
-
 # PORTME: override above test on systems where it is broken
 case $host_os in
 interix[3-9]*)
   # Interix 3.5 installs completely hosed .la files for C++, so rather than
   # hack all around it, let's just trust "g++" to DTRT.
   predep_objects_CXX=
@@ -13944,13 +13756,13 @@
     *)
       lt_prog_compiler_pic_CXX='-fPIC'
       ;;
     esac
   else
     case $host_os in
-      aix[4-9]*)
+      aix4* | aix5*)
 	# All AIX code is PIC.
 	if test "$host_cpu" = ia64; then
 	  # AIX 5 now supports IA64 processor
 	  lt_prog_compiler_static_CXX='-Bstatic'
 	else
 	  lt_prog_compiler_static_CXX='-bnso -bI:/lib/syscalls.exp'
@@ -14040,13 +13852,13 @@
 	  icpc* | ecpc*)
 	    # Intel C++
 	    lt_prog_compiler_wl_CXX='-Wl,'
 	    lt_prog_compiler_pic_CXX='-KPIC'
 	    lt_prog_compiler_static_CXX='-static'
 	    ;;
-	  pgCC* | pgcpp*)
+	  pgCC*)
 	    # Portland Group C++ compiler.
 	    lt_prog_compiler_wl_CXX='-Wl,'
 	    lt_prog_compiler_pic_CXX='-fpic'
 	    lt_prog_compiler_static_CXX='-Bstatic'
 	    ;;
 	  cxx*)
@@ -14171,49 +13983,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic_CXX"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic_CXX works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic_CXX works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works_CXX+set}" = set; then
+if test "${lt_prog_compiler_pic_works_CXX+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works_CXX=no
+  lt_prog_compiler_pic_works_CXX=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic_CXX -DPIC"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14193: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14005: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:14197: \$? = $ac_status" >&5
+   echo "$as_me:14009: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works_CXX=yes
+       lt_prog_compiler_pic_works_CXX=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works_CXX" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works_CXX" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works_CXX" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works_CXX" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works_CXX" = xyes; then
+if test x"$lt_prog_compiler_pic_works_CXX" = xyes; then
     case $lt_prog_compiler_pic_CXX in
      "" | " "*) ;;
      *) lt_prog_compiler_pic_CXX=" $lt_prog_compiler_pic_CXX" ;;
      esac
 else
     lt_prog_compiler_pic_CXX=
@@ -14234,42 +14046,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl_CXX eval lt_tmp_static_flag=\"$lt_prog_compiler_static_CXX\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works_CXX+set}" = set; then
+if test "${lt_prog_compiler_static_works_CXX+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works_CXX=no
+  lt_prog_compiler_static_works_CXX=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works_CXX=yes
+         lt_prog_compiler_static_works_CXX=yes
        fi
      else
-       lt_cv_prog_compiler_static_works_CXX=yes
+       lt_prog_compiler_static_works_CXX=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works_CXX" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works_CXX" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_CXX" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works_CXX" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works_CXX" = xyes; then
+if test x"$lt_prog_compiler_static_works_CXX" = xyes; then
     :
 else
     lt_prog_compiler_static_CXX=
 fi
 
 
@@ -14291,17 +14103,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14297: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14109: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:14301: \$? = $ac_status" >&5
+   echo "$as_me:14113: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -14348,13 +14160,13 @@
 
 { echo "$as_me:$LINENO: checking whether the $compiler linker ($LD) supports shared libraries" >&5
 echo $ECHO_N "checking whether the $compiler linker ($LD) supports shared libraries... $ECHO_C" >&6; }
 
   export_symbols_cmds_CXX='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   case $host_os in
-  aix[4-9]*)
+  aix4* | aix5*)
     # If we're using GNU nm, then we don't want the "-C" option.
     # -C means demangle to AIX nm, but means don't demangle with GNU nm
     if $NM -V 2>&1 | grep 'GNU' > /dev/null; then
       export_symbols_cmds_CXX='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\$2 == "T") || (\$2 == "D") || (\$2 == "B")) && (substr(\$3,1,1) != ".")) { print \$3 } }'\'' | sort -u > $export_symbols'
     else
       export_symbols_cmds_CXX='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\$2 == "T") || (\$2 == "D") || (\$2 == "B")) && (substr(\$3,1,1) != ".")) { print \$3 } }'\'' | sort -u > $export_symbols'
@@ -14370,13 +14182,12 @@
     link_all_deplibs_CXX=no
   ;;
   *)
     export_symbols_cmds_CXX='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   ;;
   esac
-  exclude_expsyms_CXX='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
 
 { echo "$as_me:$LINENO: result: $ld_shlibs_CXX" >&5
 echo "${ECHO_T}$ld_shlibs_CXX" >&6; }
 test "$ld_shlibs_CXX" = no && can_build_shared=no
 
 #
@@ -14472,13 +14283,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -15005,27 +14816,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -15103,13 +14899,12 @@
     old_archive_from_new_cmds_CXX \
     predep_objects_CXX \
     postdep_objects_CXX \
     predeps_CXX \
     postdeps_CXX \
     compiler_lib_search_path_CXX \
-    compiler_lib_search_dirs_CXX \
     archive_cmds_CXX \
     archive_expsym_cmds_CXX \
     postinstall_cmds_CXX \
     postuninstall_cmds_CXX \
     old_archive_from_expsyms_cmds_CXX \
     allow_undefined_flag_CXX \
@@ -15352,16 +15147,12 @@
 predeps=$lt_predeps_CXX
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_CXX
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_CXX
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_CXX
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -15570,13 +15361,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC="$CC"
 CC=${F77-"f77"}
 compiler=$CC
@@ -15608,13 +15399,13 @@
   test "$enable_shared" = yes && enable_static=no
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
-aix[4-9]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
   ;;
 esac
 { echo "$as_me:$LINENO: result: $enable_shared" >&5
@@ -15873,49 +15664,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic_F77"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic_F77 works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic_F77 works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works_F77+set}" = set; then
+if test "${lt_prog_compiler_pic_works_F77+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works_F77=no
+  lt_prog_compiler_pic_works_F77=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic_F77"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15895: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15686: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:15899: \$? = $ac_status" >&5
+   echo "$as_me:15690: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works_F77=yes
+       lt_prog_compiler_pic_works_F77=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works_F77" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works_F77" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works_F77" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works_F77" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works_F77" = xyes; then
+if test x"$lt_prog_compiler_pic_works_F77" = xyes; then
     case $lt_prog_compiler_pic_F77 in
      "" | " "*) ;;
      *) lt_prog_compiler_pic_F77=" $lt_prog_compiler_pic_F77" ;;
      esac
 else
     lt_prog_compiler_pic_F77=
@@ -15936,42 +15727,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl_F77 eval lt_tmp_static_flag=\"$lt_prog_compiler_static_F77\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works_F77+set}" = set; then
+if test "${lt_prog_compiler_static_works_F77+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works_F77=no
+  lt_prog_compiler_static_works_F77=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works_F77=yes
+         lt_prog_compiler_static_works_F77=yes
        fi
      else
-       lt_cv_prog_compiler_static_works_F77=yes
+       lt_prog_compiler_static_works_F77=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works_F77" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works_F77" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_F77" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works_F77" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works_F77" = xyes; then
+if test x"$lt_prog_compiler_static_works_F77" = xyes; then
     :
 else
     lt_prog_compiler_static_F77=
 fi
 
 
@@ -15993,17 +15784,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15999: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15790: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:16003: \$? = $ac_status" >&5
+   echo "$as_me:15794: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -16077,19 +15868,18 @@
   # included in the symbol list
   include_expsyms_F77=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  exclude_expsyms_F77='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
+  exclude_expsyms_F77="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   for cc_temp in $compiler""; do
   case $cc_temp in
     compile | *[\\/]compile | ccache | *[\\/]ccache ) ;;
     distcc | *[\\/]distcc | purify | *[\\/]purify ) ;;
@@ -16142,13 +15932,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[3-9]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	ld_shlibs_F77=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -16362,13 +16152,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	hardcode_direct_F77=unsupported
       fi
       ;;
 
-    aix[4-9]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -16382,13 +16172,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+	case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -16634,16 +16424,17 @@
       hardcode_automatic_F77=yes
       hardcode_shlibpath_var_F77=unsupported
       whole_archive_flag_spec_F77=''
       link_all_deplibs_F77=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        archive_cmds_F77="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        module_cmds_F77="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        archive_expsym_cmds_F77="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        module_expsym_cmds_F77="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        archive_cmds_F77='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      archive_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      module_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          archive_cmds_F77='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -17106,13 +16897,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -17639,27 +17430,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -17737,13 +17513,12 @@
     old_archive_from_new_cmds_F77 \
     predep_objects_F77 \
     postdep_objects_F77 \
     predeps_F77 \
     postdeps_F77 \
     compiler_lib_search_path_F77 \
-    compiler_lib_search_dirs_F77 \
     archive_cmds_F77 \
     archive_expsym_cmds_F77 \
     postinstall_cmds_F77 \
     postuninstall_cmds_F77 \
     old_archive_from_expsyms_cmds_F77 \
     allow_undefined_flag_F77 \
@@ -17986,16 +17761,12 @@
 predeps=$lt_predeps_F77
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_F77
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_F77
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_F77
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -18164,13 +17935,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC="$CC"
 CC=${GCJ-"gcj"}
 compiler=$CC
@@ -18213,17 +17984,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18219: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17990: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18223: \$? = $ac_status" >&5
+   echo "$as_me:17994: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18277,13 +18048,13 @@
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
       # (--disable-auto-import) libraries
-
+      lt_prog_compiler_pic_GCJ='-DDLL_EXPORT'
       ;;
 
     darwin* | rhapsody*)
       # PIC is the default on this platform
       # Common symbols not allowed in MH_DYLIB files
       lt_prog_compiler_pic_GCJ='-fno-common'
@@ -18347,13 +18118,13 @@
        esac
        ;;
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
-
+      lt_prog_compiler_pic_GCJ='-DDLL_EXPORT'
       ;;
 
     hpux9* | hpux10* | hpux11*)
       lt_prog_compiler_wl_GCJ='-Wl,'
       # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
       # not for PA HP-UX.
@@ -18487,49 +18258,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic_GCJ"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic_GCJ works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic_GCJ works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works_GCJ+set}" = set; then
+if test "${lt_prog_compiler_pic_works_GCJ+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works_GCJ=no
+  lt_prog_compiler_pic_works_GCJ=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic_GCJ"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18509: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18280: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18513: \$? = $ac_status" >&5
+   echo "$as_me:18284: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works_GCJ=yes
+       lt_prog_compiler_pic_works_GCJ=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works_GCJ" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works_GCJ" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works_GCJ" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works_GCJ" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works_GCJ" = xyes; then
+if test x"$lt_prog_compiler_pic_works_GCJ" = xyes; then
     case $lt_prog_compiler_pic_GCJ in
      "" | " "*) ;;
      *) lt_prog_compiler_pic_GCJ=" $lt_prog_compiler_pic_GCJ" ;;
      esac
 else
     lt_prog_compiler_pic_GCJ=
@@ -18550,42 +18321,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl_GCJ eval lt_tmp_static_flag=\"$lt_prog_compiler_static_GCJ\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works_GCJ+set}" = set; then
+if test "${lt_prog_compiler_static_works_GCJ+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works_GCJ=no
+  lt_prog_compiler_static_works_GCJ=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works_GCJ=yes
+         lt_prog_compiler_static_works_GCJ=yes
        fi
      else
-       lt_cv_prog_compiler_static_works_GCJ=yes
+       lt_prog_compiler_static_works_GCJ=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works_GCJ" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works_GCJ" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_GCJ" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works_GCJ" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works_GCJ" = xyes; then
+if test x"$lt_prog_compiler_static_works_GCJ" = xyes; then
     :
 else
     lt_prog_compiler_static_GCJ=
 fi
 
 
@@ -18607,17 +18378,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18613: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18384: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18617: \$? = $ac_status" >&5
+   echo "$as_me:18388: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -18691,19 +18462,18 @@
   # included in the symbol list
   include_expsyms_GCJ=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  exclude_expsyms_GCJ='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
+  exclude_expsyms_GCJ="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   for cc_temp in $compiler""; do
   case $cc_temp in
     compile | *[\\/]compile | ccache | *[\\/]ccache ) ;;
     distcc | *[\\/]distcc | purify | *[\\/]purify ) ;;
@@ -18756,13 +18526,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[3-9]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	ld_shlibs_GCJ=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -18976,13 +18746,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	hardcode_direct_GCJ=unsupported
       fi
       ;;
 
-    aix[4-9]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -18996,13 +18766,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+	case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -19268,16 +19038,17 @@
       hardcode_automatic_GCJ=yes
       hardcode_shlibpath_var_GCJ=unsupported
       whole_archive_flag_spec_GCJ=''
       link_all_deplibs_GCJ=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        archive_cmds_GCJ="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        module_cmds_GCJ="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        archive_expsym_cmds_GCJ="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        module_expsym_cmds_GCJ="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        archive_cmds_GCJ='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      archive_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      module_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          archive_cmds_GCJ='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -19740,13 +19511,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -20273,27 +20044,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -20371,13 +20127,12 @@
     old_archive_from_new_cmds_GCJ \
     predep_objects_GCJ \
     postdep_objects_GCJ \
     predeps_GCJ \
     postdeps_GCJ \
     compiler_lib_search_path_GCJ \
-    compiler_lib_search_dirs_GCJ \
     archive_cmds_GCJ \
     archive_expsym_cmds_GCJ \
     postinstall_cmds_GCJ \
     postuninstall_cmds_GCJ \
     old_archive_from_expsyms_cmds_GCJ \
     allow_undefined_flag_GCJ \
@@ -20620,16 +20375,12 @@
 predeps=$lt_predeps_GCJ
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_GCJ
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_GCJ
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_GCJ
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -20797,13 +20548,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC="$CC"
 CC=${RC-"windres"}
 compiler=$CC
@@ -20857,13 +20608,12 @@
     old_archive_from_new_cmds_RC \
     predep_objects_RC \
     postdep_objects_RC \
     predeps_RC \
     postdeps_RC \
     compiler_lib_search_path_RC \
-    compiler_lib_search_dirs_RC \
     archive_cmds_RC \
     archive_expsym_cmds_RC \
     postinstall_cmds_RC \
     postuninstall_cmds_RC \
     old_archive_from_expsyms_cmds_RC \
     allow_undefined_flag_RC \
@@ -21106,16 +20856,12 @@
 predeps=$lt_predeps_RC
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_RC
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_RC
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_RC
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -22081,14 +21827,13 @@
 
 
 
 
 
 
-
-for ac_header in stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h endian.h
+for ac_header in stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -24641,13 +24386,14 @@
 
 
 
 
 
 
-for ac_header in pwd.h grp.h sys/un.h ctype.h limits.h sys/quota.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h kvm.h
+
+for ac_header in pwd.h grp.h sys/un.h ctype.h limits.h sys/quota.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h kvm.h wordexp.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -26252,45 +25998,62 @@
 #define STRERROR_R_CHAR_P 1
 _ACEOF
 
 fi
 
 
-{ echo "$as_me:$LINENO: checking for strtok_r" >&5
-echo $ECHO_N "checking for strtok_r... $ECHO_C" >&6; }
-if test "${have_strtok_r_default+set}" = set; then
+
+for ac_func in getpwnam_r
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
 
-#include <stdlib.h>
-#include <stdio.h>
-#include <string.h>
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
 
 int
 main ()
 {
-
-      char buffer[] = "foo,bar,baz";
-      char *token;
-      char *dummy;
-      char *saveptr;
-
-      dummy = buffer;
-      saveptr = NULL;
-      while ((token = strtok_r (dummy, ",", &saveptr)) != NULL)
-      {
-	dummy = NULL;
-        printf ("token = %s;\n", token);
-      }
-
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -26307,66 +26070,84 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-  have_strtok_r_default="yes"
+  eval "$as_ac_var=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	have_strtok_r_default="no"
-
+	eval "$as_ac_var=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
 
 fi
-{ echo "$as_me:$LINENO: result: $have_strtok_r_default" >&5
-echo "${ECHO_T}$have_strtok_r_default" >&6; }
+done
 
-if test "x$have_strtok_r_default" = "xno"
-then
-  SAVE_CFLAGS="$CFLAGS"
-  CFLAGS="$CFLAGS -D_REENTRANT=1"
 
-  { echo "$as_me:$LINENO: checking if strtok_r needs _REENTRANT" >&5
-echo $ECHO_N "checking if strtok_r needs _REENTRANT... $ECHO_C" >&6; }
-if test "${have_strtok_r_reentrant+set}" = set; then
+for ac_func in getgrnam_r
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
 
-#include <stdlib.h>
-#include <stdio.h>
-#include <string.h>
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
 
 int
 main ()
 {
-
-        char buffer[] = "foo,bar,baz";
-        char *token;
-        char *dummy;
-        char *saveptr;
-
-        dummy = buffer;
-        saveptr = NULL;
-        while ((token = strtok_r (dummy, ",", &saveptr)) != NULL)
-        {
-	  dummy = NULL;
-          printf ("token = %s;\n", token);
-        }
-
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -26383,117 +26164,18 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-  have_strtok_r_reentrant="yes"
+  eval "$as_ac_var=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	{ { echo "$as_me:$LINENO: error: strtok_r isn't available. Please file a bugreport!
-See \`config.log' for more details." >&5
-echo "$as_me: error: strtok_r isn't available. Please file a bugreport!
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-
-fi
-{ echo "$as_me:$LINENO: result: $have_strtok_r_reentrant" >&5
-echo "${ECHO_T}$have_strtok_r_reentrant" >&6; }
-fi
-
-
-
-
-
-
-
-
-for ac_func in getpwnam_r getgrnam_r setgroups regcomp regerror regexec regfree
-do
-as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
-if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
-#define $ac_func innocuous_$ac_func
-
-/* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char $ac_func (); below.
-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
-    <limits.h> exists even on freestanding compilers.  */
-
-#ifdef __STDC__
-# include <limits.h>
-#else
-# include <assert.h>
-#endif
-
-#undef $ac_func
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char $ac_func ();
-/* The GNU C library defines this for functions which it implements
-    to always fail with ENOSYS.  Some functions are actually named
-    something starting with __ and the normal name is an alias.  */
-#if defined __stub_$ac_func || defined __stub___$ac_func
-choke me
-#endif
-
-int
-main ()
-{
-return $ac_func ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  eval "$as_ac_var=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_var=no"
+	eval "$as_ac_var=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_var'}'`
@@ -26670,13 +26352,15 @@
    { (exit 1); exit 1; }; }
 fi
 
 fi
 done
 
- if test "x$socket_needs_socket" = "xyes"; then
+
+
+if test "x$socket_needs_socket" = "xyes"; then
   BUILD_WITH_LIBSOCKET_TRUE=
   BUILD_WITH_LIBSOCKET_FALSE='#'
 else
   BUILD_WITH_LIBSOCKET_TRUE='#'
   BUILD_WITH_LIBSOCKET_FALSE=
 fi
@@ -26844,22 +26528,122 @@
    { (exit 1); exit 1; }; }
 fi
 
 fi
 done
 
- if test "x$nanosleep_needs_rt" = "xyes"; then
+
+
+if test "x$nanosleep_needs_rt" = "xyes"; then
   BUILD_WITH_LIBRT_TRUE=
   BUILD_WITH_LIBRT_FALSE='#'
 else
   BUILD_WITH_LIBRT_TRUE='#'
   BUILD_WITH_LIBRT_FALSE=
 fi
 
 
 
+
+
+
+for ac_func in regcomp regerror regexec regfree
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
+
+int
+main ()
+{
+return $ac_func ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  eval "$as_ac_var=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_var=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+done
+
+
+
 for ac_func in sysctlbyname
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -28174,349 +27958,14 @@
 else
   { { echo "$as_me:$LINENO: error: Didn't find out how to statically initialize variables to NAN. Sorry." >&5
 echo "$as_me: error: Didn't find out how to statically initialize variables to NAN. Sorry." >&2;}
    { (exit 1); exit 1; }; }
 fi; fi; fi
 
-
-# Check whether --with-fp-layout was given.
-if test "${with_fp_layout+set}" = set; then
-  withval=$with_fp_layout;
- if test "x$withval" = "xnothing"; then
- 	fp_layout_type="nothing"
- else if test "x$withval" = "xendianflip"; then
- 	fp_layout_type="endianflip"
- else if test "x$withval" = "xintswap"; then
- 	fp_layout_type="intswap"
- else
- 	{ { echo "$as_me:$LINENO: error: Invalid argument for --with-fp-layout. Valid arguments are: nothing, endianflip, intswap" >&5
-echo "$as_me: error: Invalid argument for --with-fp-layout. Valid arguments are: nothing, endianflip, intswap" >&2;}
-   { (exit 1); exit 1; }; };
-fi; fi; fi
-
-else
-  fp_layout_type="unknown"
-fi
-
-
-if test "x$fp_layout_type" = "xunknown"; then
-  { echo "$as_me:$LINENO: checking if doubles are stored in x86 representation" >&5
-echo $ECHO_N "checking if doubles are stored in x86 representation... $ECHO_C" >&6; }
-if test "${fp_layout_need_nothing+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#include <stdlib.h>
-#include <stdio.h>
-#include <stdint.h>
-#include <string.h>
-
-int
-main ()
-{
-
-	uint64_t i0;
-	uint64_t i1;
-	uint8_t c[8];
-	double d;
-
-	d = 8.642135e130;
-	memcpy ((void *) &i0, (void *) &d, 8);
-
-	i1 = i0;
-	memcpy ((void *) c, (void *) &i1, 8);
-
-	if ((c[0] == 0x2f) && (c[1] == 0x25)
-			&& (c[2] == 0xc0) && (c[3] == 0xc7)
-			&& (c[4] == 0x43) && (c[5] == 0x2b)
-			&& (c[6] == 0x1f) && (c[7] == 0x5b))
-		return (0);
-	else
-		return (1);
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_try") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  fp_layout_need_nothing="yes"
-else
-  echo "$as_me: program exited with status $ac_status" >&5
-echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-( exit $ac_status )
-fp_layout_need_nothing="no"
-
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-
-
-
-fi
-{ echo "$as_me:$LINENO: result: $fp_layout_need_nothing" >&5
-echo "${ECHO_T}$fp_layout_need_nothing" >&6; }
-  if test "x$fp_layout_need_nothing" = "xyes"; then
-    fp_layout_type="nothing"
-  fi
-fi
-if test "x$fp_layout_type" = "xunknown"; then
-  { echo "$as_me:$LINENO: checking if endianflip converts to x86 representation" >&5
-echo $ECHO_N "checking if endianflip converts to x86 representation... $ECHO_C" >&6; }
-if test "${fp_layout_need_endianflip+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#include <stdlib.h>
-#include <stdio.h>
-#include <stdint.h>
-#include <string.h>
-#define endianflip(A) ((((uint64_t)(A) & 0xff00000000000000LL) >> 56) | \
-                       (((uint64_t)(A) & 0x00ff000000000000LL) >> 40) | \
-                       (((uint64_t)(A) & 0x0000ff0000000000LL) >> 24) | \
-                       (((uint64_t)(A) & 0x000000ff00000000LL) >> 8)  | \
-                       (((uint64_t)(A) & 0x00000000ff000000LL) << 8)  | \
-                       (((uint64_t)(A) & 0x0000000000ff0000LL) << 24) | \
-                       (((uint64_t)(A) & 0x000000000000ff00LL) << 40) | \
-                       (((uint64_t)(A) & 0x00000000000000ffLL) << 56))
-
-int
-main ()
-{
-
-	uint64_t i0;
-	uint64_t i1;
-	uint8_t c[8];
-	double d;
-
-	d = 8.642135e130;
-	memcpy ((void *) &i0, (void *) &d, 8);
-
-	i1 = endianflip (i0);
-	memcpy ((void *) c, (void *) &i1, 8);
-
-	if ((c[0] == 0x2f) && (c[1] == 0x25)
-			&& (c[2] == 0xc0) && (c[3] == 0xc7)
-			&& (c[4] == 0x43) && (c[5] == 0x2b)
-			&& (c[6] == 0x1f) && (c[7] == 0x5b))
-		return (0);
-	else
-		return (1);
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_try") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  fp_layout_need_endianflip="yes"
-else
-  echo "$as_me: program exited with status $ac_status" >&5
-echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-( exit $ac_status )
-fp_layout_need_endianflip="no"
-
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-
-
-
-fi
-{ echo "$as_me:$LINENO: result: $fp_layout_need_endianflip" >&5
-echo "${ECHO_T}$fp_layout_need_endianflip" >&6; }
-  if test "x$fp_layout_need_endianflip" = "xyes"; then
-    fp_layout_type="endianflip"
-  fi
-fi
-if test "x$fp_layout_type" = "xunknown"; then
-  { echo "$as_me:$LINENO: checking if intswap converts to x86 representation" >&5
-echo $ECHO_N "checking if intswap converts to x86 representation... $ECHO_C" >&6; }
-if test "${fp_layout_need_intswap+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#include <stdlib.h>
-#include <stdio.h>
-#include <stdint.h>
-#include <string.h>
-#define intswap(A)    ((((uint64_t)(A) & 0xffffffff00000000LL) >> 32) | \
-                       (((uint64_t)(A) & 0x00000000ffffffffLL) << 32))
-
-int
-main ()
-{
-
-	uint64_t i0;
-	uint64_t i1;
-	uint8_t c[8];
-	double d;
-
-	d = 8.642135e130;
-	memcpy ((void *) &i0, (void *) &d, 8);
-
-	i1 = intswap (i0);
-	memcpy ((void *) c, (void *) &i1, 8);
-
-	if ((c[0] == 0x2f) && (c[1] == 0x25)
-			&& (c[2] == 0xc0) && (c[3] == 0xc7)
-			&& (c[4] == 0x43) && (c[5] == 0x2b)
-			&& (c[6] == 0x1f) && (c[7] == 0x5b))
-		return (0);
-	else
-		return (1);
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_try") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  fp_layout_need_intswap="yes"
-else
-  echo "$as_me: program exited with status $ac_status" >&5
-echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-( exit $ac_status )
-fp_layout_need_intswap="no"
-
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-
-
-
-fi
-{ echo "$as_me:$LINENO: result: $fp_layout_need_intswap" >&5
-echo "${ECHO_T}$fp_layout_need_intswap" >&6; }
-  if test "x$fp_layout_need_intswap" = "xyes"; then
-    fp_layout_type="intswap"
-  fi
-fi
-
-if test "x$fp_layout_type" = "xnothing"; then
-
-cat >>confdefs.h <<\_ACEOF
-#define FP_LAYOUT_NEED_NOTHING 1
-_ACEOF
-
-else if test "x$fp_layout_type" = "xendianflip"; then
-
-cat >>confdefs.h <<\_ACEOF
-#define FP_LAYOUT_NEED_ENDIANFLIP 1
-_ACEOF
-
-else if test "x$fp_layout_type" = "xintswap"; then
-
-cat >>confdefs.h <<\_ACEOF
-#define FP_LAYOUT_NEED_INTSWAP 1
-_ACEOF
-
-else
-  { { echo "$as_me:$LINENO: error: Didn't find out how doubles are stored in memory. Sorry." >&5
-echo "$as_me: error: Didn't find out how doubles are stored in memory. Sorry." >&2;}
-   { (exit 1); exit 1; }; }
-fi; fi; fi
+# For mount interface
+#AC_CHECK_FUNCS(getfsent getvfsent)
 
 have_getfsstat="no"
 
 for ac_func in getfsstat
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
@@ -31036,122 +30485,326 @@
 
 
 else
   with_libresolv="no"
 fi
 
- if test "x$with_libresolv" = "xyes"; then
+
+
+if test "x$with_libresolv" = "xyes"; then
   BUILD_WITH_LIBRESOLV_TRUE=
   BUILD_WITH_LIBRESOLV_FALSE='#'
 else
   BUILD_WITH_LIBRESOLV_TRUE='#'
   BUILD_WITH_LIBRESOLV_FALSE=
 fi
 
 
-
-
-
-# AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
-librrd_cflags=""
-librrd_ldflags=""
-librrd_threadsafe="yes"
-
-# Check whether --with-rrdtool was given.
-if test "${with_rrdtool+set}" = set; then
-  withval=$with_rrdtool; 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
-	then
-		librrd_cflags="-I$withval/include"
-		librrd_ldflags="-L$withval/lib"
-		with_rrdtool="yes"
-	fi
-
-else
-  with_rrdtool="yes"
-fi
-
-if test "x$with_rrdtool" = "xyes"
-then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	SAVE_LDFLAGS="$LDFLAGS"
-
-	CPPFLAGS="$CPPFLAGS $librrd_cflags"
-	LDFLAGS="$LDFLAGS $librrd_ldflags"
-
-
-for ac_header in rrd.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+with_libhal="yes"
+{ echo "$as_me:$LINENO: checking for libhal_device_property_exists in -lhal" >&5
+echo $ECHO_N "checking for libhal_device_property_exists in -lhal... $ECHO_C" >&6; }
+if test "${ac_cv_lib_hal_libhal_device_property_exists+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lhal  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char libhal_device_property_exists ();
+int
+main ()
+{
+return libhal_device_property_exists ();
+  ;
+  return 0;
+}
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_hal_libhal_device_property_exists=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	ac_cv_lib_hal_libhal_device_property_exists=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_hal_libhal_device_property_exists" >&5
+echo "${ECHO_T}$ac_cv_lib_hal_libhal_device_property_exists" >&6; }
+if test $ac_cv_lib_hal_libhal_device_property_exists = yes; then
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBHAL 1
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+
+else
+  with_libhal="no"
+fi
+
+if test "x$with_libhal" = "xyes"; then
+
+
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PKG_CONFIG=$ac_cv_path_PKG_CONFIG
+if test -n "$PKG_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $PKG_CONFIG" >&5
+echo "${ECHO_T}$PKG_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_path_PKG_CONFIG"; then
+  ac_pt_PKG_CONFIG=$PKG_CONFIG
+  # Extract the first word of "pkg-config", so it can be a program name with args.
+set dummy pkg-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_ac_pt_PKG_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $ac_pt_PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_ac_pt_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
+if test -n "$ac_pt_PKG_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $ac_pt_PKG_CONFIG" >&5
+echo "${ECHO_T}$ac_pt_PKG_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_pt_PKG_CONFIG" = x; then
+    PKG_CONFIG=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    PKG_CONFIG=$ac_pt_PKG_CONFIG
+  fi
+else
+  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
+fi
+
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=0.9.0
+	{ echo "$as_me:$LINENO: checking pkg-config is at least version $_pkg_min_version" >&5
+echo $ECHO_N "checking pkg-config is at least version $_pkg_min_version... $ECHO_C" >&6; }
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		{ echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+	else
+		{ echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+		PKG_CONFIG=""
+	fi
+
+fi
+	if test "x$PKG_CONFIG" != "x"; then
+		BUILD_WITH_LIBHAL_CFLAGS="`pkg-config --cflags hal`"
+		BUILD_WITH_LIBHAL_LIBS="`pkg-config --libs hal`"
+
+
+	fi
+fi
+
+
+
+# AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
+librrd_cflags=""
+librrd_ldflags=""
+librrd_threadsafe="yes"
+
+# Check whether --with-rrdtool was given.
+if test "${with_rrdtool+set}" = set; then
+  withval=$with_rrdtool; 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		librrd_cflags="-I$withval/include"
+		librrd_ldflags="-L$withval/lib"
+		with_rrdtool="yes"
+	else
+		with_rrdtool="$withval"
+	fi
+
+else
+  with_rrdtool="yes"
+fi
+
+if test "x$with_rrdtool" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+
+	CPPFLAGS="$CPPFLAGS $librrd_cflags"
+	LDFLAGS="$LDFLAGS $librrd_ldflags"
+
+
+for ac_header in rrd.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
   (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
@@ -31234,13 +30887,13 @@
 	{ echo "$as_me:$LINENO: checking for rrd_update_r in -lrrd_th" >&5
 echo $ECHO_N "checking for rrd_update_r in -lrrd_th... $ECHO_C" >&6; }
 if test "${ac_cv_lib_rrd_th_rrd_update_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd_th -lm $LIBS"
+LIBS="-lrrd_th  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
@@ -31365,12 +31018,13 @@
 
 else
   with_rrdtool="no (symbol 'rrd_update' not found)"
 fi
 
 
+	-lm
 fi
 
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 	LDFLAGS="$SAVE_LDFLAGS"
 fi
@@ -31632,13 +31286,15 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBPTHREAD $collect_pthread
 _ACEOF
 
- if test "x$with_libpthread" = "xyes"; then
+
+
+if test "x$with_libpthread" = "xyes"; then
   BUILD_WITH_LIBPTHREAD_TRUE=
   BUILD_WITH_LIBPTHREAD_FALSE='#'
 else
   BUILD_WITH_LIBPTHREAD_TRUE='#'
   BUILD_WITH_LIBPTHREAD_FALSE=
 fi
@@ -31940,21 +31596,25 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBKSTAT 1
 _ACEOF
 
 fi
- if test "x$with_kstat" = "xyes"; then
+
+
+if test "x$with_kstat" = "xyes"; then
   BUILD_WITH_LIBKSTAT_TRUE=
   BUILD_WITH_LIBKSTAT_FALSE='#'
 else
   BUILD_WITH_LIBKSTAT_TRUE='#'
   BUILD_WITH_LIBKSTAT_FALSE=
 fi
 
- if test "x$with_devinfo" = "xyes"; then
+
+
+if test "x$with_devinfo" = "xyes"; then
   BUILD_WITH_LIBDEVINFO_TRUE=
   BUILD_WITH_LIBDEVINFO_FALSE='#'
 else
   BUILD_WITH_LIBDEVINFO_TRUE='#'
   BUILD_WITH_LIBDEVINFO_FALSE=
 fi
@@ -31999,14 +31659,14 @@
 	curl_config_status=$?
 
 	if test $curl_config_status -ne 0
 	then
 		with_libcurl="no ($with_curl_config failed)"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_curl_cflags"
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_curl_cflags"
 
 
 for ac_header in curl/curl.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -32145,13 +31805,13 @@
   with_libcurl="no (curl/curl.h not found)"
 fi
 
 done
 
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
+		CFLAGS="$SAVE_CFLAGS"
 	fi
 fi
 if test "x$with_libcurl" = "xyes"
 then
 	with_curl_libs=`$with_curl_config --libs 2>/dev/null`
 	curl_config_status=$?
@@ -32233,13 +31893,15 @@
 then
 	BUILD_WITH_LIBCURL_CFLAGS="$with_curl_cflags"
 	BUILD_WITH_LIBCURL_LIBS="$with_curl_libs"
 
 
 fi
- if test "x$with_libcurl" = "xyes"; then
+
+
+if test "x$with_libcurl" = "xyes"; then
   BUILD_WITH_LIBCURL_TRUE=
   BUILD_WITH_LIBCURL_FALSE='#'
 else
   BUILD_WITH_LIBCURL_TRUE='#'
   BUILD_WITH_LIBCURL_FALSE=
 fi
@@ -32323,30 +31985,36 @@
 
 
 cat >>confdefs.h <<_ACEOF
 #define COLLECT_LIBIOKIT $collect_libiokit
 _ACEOF
 
- if test "x$with_libiokit" = "xyes"; then
+
+
+if test "x$with_libiokit" = "xyes"; then
   BUILD_WITH_LIBIOKIT_TRUE=
   BUILD_WITH_LIBIOKIT_FALSE='#'
 else
   BUILD_WITH_LIBIOKIT_TRUE='#'
   BUILD_WITH_LIBIOKIT_FALSE=
 fi
 
 
+with_libstatgrab="yes"
+with_libdevstat="no"
 
 # Check whether --with-libstatgrab was given.
 if test "${with_libstatgrab+set}" = set; then
   withval=$with_libstatgrab;
 	if test "x$withval" != "xno" -a "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libstatgrab="yes"
+	else
+		with_libstatgrab="$withval"
 	fi
 
 else
 
 	if test "x$ac_system" == "xunknown"
 	then
@@ -32650,21 +32318,25 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define COLLECT_LIBSTATGRAB $collect_libstatgrab
 _ACEOF
 
- if test "x$with_libstatgrab" = "xyes"; then
+
+
+if test "x$with_libstatgrab" = "xyes"; then
   BUILD_WITH_LIBSTATGRAB_TRUE=
   BUILD_WITH_LIBSTATGRAB_FALSE='#'
 else
   BUILD_WITH_LIBSTATGRAB_TRUE='#'
   BUILD_WITH_LIBSTATGRAB_FALSE=
 fi
 
- if test "x$with_libdevstat"  = "xyes"; then
+
+
+if test "x$with_libdevstat"  = "xyes"; then
   BUILD_WITH_LIBDEVSTAT_TRUE=
   BUILD_WITH_LIBDEVSTAT_FALSE='#'
 else
   BUILD_WITH_LIBDEVSTAT_TRUE='#'
   BUILD_WITH_LIBDEVSTAT_FALSE=
 fi
@@ -32742,13 +32414,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBKVM 1
 _ACEOF
 
 fi
- if test "x$with_libkvm" = "xyes"; then
+
+
+if test "x$with_libkvm" = "xyes"; then
   BUILD_WITH_LIBKVM_TRUE=
   BUILD_WITH_LIBKVM_FALSE='#'
 else
   BUILD_WITH_LIBKVM_TRUE='#'
   BUILD_WITH_LIBKVM_FALSE=
 fi
@@ -33027,13 +32701,15 @@
 then
 	BUILD_WITH_LIBSENSORS_CFLAGS="$with_sensors_cflags"
 	BUILD_WITH_LIBSENSORS_LDFLAGS="$with_sensors_ldflags"
 
 
 fi
- if test "x$with_lm_sensors" = "xyes"; then
+
+
+if test "x$with_lm_sensors" = "xyes"; then
   BUILD_WITH_LM_SENSORS_TRUE=
   BUILD_WITH_LM_SENSORS_FALSE='#'
 else
   BUILD_WITH_LM_SENSORS_TRUE='#'
   BUILD_WITH_LM_SENSORS_FALSE=
 fi
@@ -33075,14 +32751,14 @@
 	mysql_config_status=$?
 
 	if test $mysql_config_status -ne 0
 	then
 		with_libmysql="no"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_mysql_cflags"
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_mysql_cflags"
 
 
 for ac_header in mysql/mysql.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -33221,13 +32897,13 @@
   with_libmysql="no (mysql/mysql.h not found)"
 fi
 
 done
 
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
+		CFLAGS="$SAVE_CFLAGS"
 	fi
 fi
 if test "x$with_libmysql" = "xyes"
 then
 	with_mysql_libs=`$with_mysql_config --libs 2>/dev/null`
 	mysql_config_status=$?
@@ -33309,13 +32985,15 @@
 then
 	BUILD_WITH_LIBMYSQL_CFLAGS="$with_mysql_cflags"
 	BUILD_WITH_LIBMYSQL_LIBS="$with_mysql_libs"
 
 
 fi
- if test "x$with_libmysql" = "xyes"; then
+
+
+if test "x$with_libmysql" = "xyes"; then
   BUILD_WITH_LIBMYSQL_TRUE=
   BUILD_WITH_LIBMYSQL_FALSE='#'
 else
   BUILD_WITH_LIBMYSQL_TRUE='#'
   BUILD_WITH_LIBMYSQL_FALSE=
 fi
@@ -33430,13 +33108,15 @@
 	LDFLAGS="$save_LDFLAGS"
 	CPPFLAGS="$save_CPPFLAGS"
 
 fi
 
 
- if test "x$with_own_liboconfig" = "xyes"; then
+
+
+if test "x$with_own_liboconfig" = "xyes"; then
   BUILD_WITH_OWN_LIBOCONFIG_TRUE=
   BUILD_WITH_OWN_LIBOCONFIG_FALSE='#'
 else
   BUILD_WITH_OWN_LIBOCONFIG_TRUE='#'
   BUILD_WITH_OWN_LIBOCONFIG_FALSE=
 fi
@@ -33466,17 +33146,19 @@
 		fi
 	fi
 	if test "x$withval" = "xno"
 	then
 		with_liboping="no"
 		with_own_liboping="no"
-	fi
+	else if test "x$withval" = "xyes"
+	then
+		with_liboping="yes"
+	fi; fi
 
 else
 
- 	#753
 	with_liboping="yes"
 
 fi
 
 
 if test "x$with_liboping" = "xyes"
@@ -33558,21 +33240,25 @@
 		LDFLAGS="$save_LDFLAGS"
 		CPPFLAGS="$save_CPPFLAGS"
 
 fi
 
 fi
- if test "x$with_liboping" = "xyes"; then
+
+
+if test "x$with_liboping" = "xyes"; then
   BUILD_WITH_LIBOPING_TRUE=
   BUILD_WITH_LIBOPING_FALSE='#'
 else
   BUILD_WITH_LIBOPING_TRUE='#'
   BUILD_WITH_LIBOPING_FALSE=
 fi
 
- if test "x$with_own_liboping" = "xyes"; then
+
+
+if test "x$with_own_liboping" = "xyes"; then
   BUILD_WITH_OWN_LIBOPING_TRUE=
   BUILD_WITH_OWN_LIBOPING_FALSE='#'
 else
   BUILD_WITH_OWN_LIBOPING_TRUE='#'
   BUILD_WITH_OWN_LIBOPING_FALSE=
 fi
@@ -33584,12 +33270,14 @@
   withval=$with_libpcap;
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libpcap="yes"
+	else
+		with_libpcap="$withval"
 	fi
 
 else
 
 	with_libpcap="yes"
 
@@ -33830,13 +33518,15 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define COLLECT_LIBPCAP $collect_libpcap
 _ACEOF
 
- if test "x$with_libpcap" = "xyes"; then
+
+
+if test "x$with_libpcap" = "xyes"; then
   BUILD_WITH_LIBPCAP_TRUE=
   BUILD_WITH_LIBPCAP_FALSE='#'
 else
   BUILD_WITH_LIBPCAP_TRUE='#'
   BUILD_WITH_LIBPCAP_FALSE=
 fi
@@ -33850,38 +33540,27 @@
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		perl_interpreter="$withval/bin/perl"
 		with_libperl="yes"
+	else
+		with_libperl="$withval"
 	fi
 
 else
 
 	with_libperl="yes"
 
 fi
 
 
-{ echo "$as_me:$LINENO: checking for perl" >&5
-echo $ECHO_N "checking for perl... $ECHO_C" >&6; }
-perl_interpreter=`which "$perl_interpreter" 2> /dev/null`
-if test -x "$perl_interpreter"
-then
-	{ echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6; }
-else
-	perl_interpreter=""
-	{ echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
 PERL="$perl_interpreter"
 
 
-if test "x$with_libperl" = "xyes" -a -n "$perl_interpreter"
+if test "x$with_libperl" = "xyes"
 then
   SAVE_CFLAGS=$CFLAGS
   SAVE_LDFLAGS=$LDFLAGS
   PERL_CFLAGS=`$perl_interpreter -MExtUtils::Embed -e ccopts`
   PERL_LDFLAGS=`$perl_interpreter -MExtUtils::Embed -e ldopts`
   CFLAGS="$CFLAGS $PERL_CFLAGS"
@@ -33962,34 +33641,117 @@
   else
 	  with_libperl="no"
   fi
 
   CFLAGS=$SAVE_CFLAGS
   LDFLAGS=$SAVE_LDFLAGS
-else if test -z "$perl_interpreter"; then
-  with_libperl="no (no perl interpreter found)"
-  have_libperl="no"
-fi; fi
- if test "x$with_libperl" = "xyes"; then
+fi
+
+
+if test "x$with_libperl" = "xyes"; then
   BUILD_WITH_LIBPERL_TRUE=
   BUILD_WITH_LIBPERL_FALSE='#'
 else
   BUILD_WITH_LIBPERL_TRUE='#'
   BUILD_WITH_LIBPERL_FALSE=
 fi
 
 
+if test "x$with_libperl" = "xyes"
+then
+	SAVE_CFLAGS=$CFLAGS
+	SAVE_LDFLAGS=$LDFLAGS
+	CFLAGS="$CFLAGS $PERL_CFLAGS"
+	LDFLAGS="$LDFLAGS $PERL_LDFLAGS"
+
+	{ echo "$as_me:$LINENO: checking if perl supports ithreads" >&5
+echo $ECHO_N "checking if perl supports ithreads... $ECHO_C" >&6; }
+if test "${have_perl_ithreads+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#include <EXTERN.h>
+#include <perl.h>
+#include <XSUB.h>
+
+#if !defined(USE_ITHREADS)
+# error "Perl does not support ithreads!"
+#endif /* !defined(USE_ITHREADS) */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  have_perl_ithreads="yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	have_perl_ithreads="no"
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+
+fi
+{ echo "$as_me:$LINENO: result: $have_perl_ithreads" >&5
+echo "${ECHO_T}$have_perl_ithreads" >&6; }
+
+	if test "x$have_perl_ithreads" = "xyes"
+	then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PERL_ITHREADS 1
+_ACEOF
+
+	fi
+
+	CFLAGS=$SAVE_CFLAGS
+	LDFLAGS=$SAVE_LDFLAGS
+fi
+
 
 # Check whether --with-libiptc was given.
 if test "${with_libiptc+set}" = set; then
   withval=$with_libiptc;
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libiptc="yes"
+	else
+		with_libiptc="$withval"
 	fi
 
 else
 
  	if test "x$ac_system" = "xLinux"
 	then
@@ -34230,13 +33992,15 @@
 if test "x$with_libiptc" = "xyes"
 then
 	collect_libiptc=1
 else
 	collect_libiptc=0
 fi
- if test "x$with_libiptc" = "xyes"; then
+
+
+if test "x$with_libiptc" = "xyes"; then
   BUILD_WITH_LIBIPTC_TRUE=
   BUILD_WITH_LIBIPTC_FALSE='#'
 else
   BUILD_WITH_LIBIPTC_TRUE='#'
   BUILD_WITH_LIBIPTC_FALSE=
 fi
@@ -34276,14 +34040,14 @@
 	snmp_config_status=$?
 
 	if test $snmp_config_status -ne 0
 	then
 		with_libnetsnmp="no ($with_snmp_config failed)"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_snmp_cflags"
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_snmp_cflags"
 
 
 for ac_header in net-snmp/net-snmp-config.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -34422,13 +34186,13 @@
   with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"
 fi
 
 done
 
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
+		CFLAGS="$SAVE_CFLAGS"
 	fi
 fi
 if test "x$with_libnetsnmp" = "xyes"
 then
 	with_snmp_libs=`$with_snmp_config --libs 2>/dev/null`
 	snmp_config_status=$?
@@ -34510,13 +34274,15 @@
 then
 	BUILD_WITH_LIBSNMP_CFLAGS="$with_snmp_cflags"
 	BUILD_WITH_LIBSNMP_LIBS="$with_snmp_libs"
 
 
 fi
- if test "x$with_libnetsnmp" = "xyes"; then
+
+
+if test "x$with_libnetsnmp" = "xyes"; then
   BUILD_WITH_LIBNETSNMP_TRUE=
   BUILD_WITH_LIBNETSNMP_FALSE='#'
 else
   BUILD_WITH_LIBNETSNMP_TRUE='#'
   BUILD_WITH_LIBNETSNMP_FALSE=
 fi
@@ -34560,14 +34326,14 @@
 	then
 		with_libupsclient="no ($with_upsclient_config failed)"
 	fi
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
+	SAVE_CFLAGS="$CFLAGS"
+	CFLAGS="$CFLAGS $with_upsclient_cflags"
 
 
 for ac_header in upsclient.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -34706,13 +34472,13 @@
   with_libupsclient="no (upsclient.h not found)"
 fi
 
 done
 
 
-	CPPFLAGS="$SAVE_CPPFLAGS"
+	CFLAGS="$SAVE_CFLAGS"
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	with_upsclient_libs=`$with_upsclient_config --libs 2>/dev/null`
 	upsclient_config_status=$?
 
@@ -34797,15 +34563,12 @@
 
 fi
 
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
-
 	{ echo "$as_me:$LINENO: checking for UPSCONN_t" >&5
 echo $ECHO_N "checking for UPSCONN_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_UPSCONN_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -34929,16 +34692,16 @@
 #define HAVE_UPSCONN 1
 _ACEOF
 
 
 fi
 
-
-	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
- if test "x$with_libupsclient" = "xyes"; then
+
+
+if test "x$with_libupsclient" = "xyes"; then
   BUILD_WITH_LIBUPSCLIENT_TRUE=
   BUILD_WITH_LIBUPSCLIENT_FALSE='#'
 else
   BUILD_WITH_LIBUPSCLIENT_TRUE='#'
   BUILD_WITH_LIBUPSCLIENT_FALSE=
 fi
@@ -35079,13 +34842,15 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBXMMS $with_libxmms_numeric
 _ACEOF
 
- if test "x$with_libxmms" = "xyes"; then
+
+
+if test "x$with_libxmms" = "xyes"; then
   BUILD_WITH_LIBXMMS_TRUE=
   BUILD_WITH_LIBXMMS_FALSE='#'
 else
   BUILD_WITH_LIBXMMS_TRUE='#'
   BUILD_WITH_LIBXMMS_FALSE=
 fi
@@ -35150,139 +34915,743 @@
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <stdio.h>
-#include <sys/types.h>
-#include <asm/types.h>
-#include <sys/socket.h>
-#include <linux/netlink.h>
-#include <linux/rtnetlink.h>
-
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+	 with_libnetlink="yes"
+	 break
+
+fi
+
+done
+
+
+
+for ac_header in linux/gen_stats.h linux/pkt_sched.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+	cat >conftest.$ac_ext <<_ACEOF
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+int main (void)
+{
+	int retval = TCA_STATS2;
+	return (retval);
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_TCA_STATS2 1
+_ACEOF
+
+
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext;
+
+	cat >conftest.$ac_ext <<_ACEOF
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+int main (void)
+{
+	int retval = TCA_STATS;
+	return (retval);
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_TCA_STATS 1
+_ACEOF
+
+
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext;
+
+	CFLAGS="$SAVE_CFLAGS"
+fi
+if test "x$with_libnetlink" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for rtnl_open in -lnetlink" >&5
+echo $ECHO_N "checking for rtnl_open in -lnetlink... $ECHO_C" >&6; }
+if test "${ac_cv_lib_netlink_rtnl_open+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lnetlink $with_libnetlink_libs $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rtnl_open ();
+int
+main ()
+{
+return rtnl_open ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_netlink_rtnl_open=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_netlink_rtnl_open=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_netlink_rtnl_open" >&5
+echo "${ECHO_T}$ac_cv_lib_netlink_rtnl_open" >&6; }
+if test $ac_cv_lib_netlink_rtnl_open = yes; then
+  with_libnetlink="yes"
+else
+  with_libnetlink="no (symbol 'rtnl_open' not found)"
+fi
+
+fi
+if test "x$with_libnetlink" = "xyes"
+then
+	BUILD_WITH_LIBNETLINK_CFLAGS="$with_libnetlink_cflags"
+	BUILD_WITH_LIBNETLINK_LIBS="$with_libnetlink_libs"
+
+
+fi
+
+
+if test "x$with_libnetlink" = "xyes"; then
+  BUILD_WITH_LIBNETLINK_TRUE=
+  BUILD_WITH_LIBNETLINK_FALSE='#'
+else
+  BUILD_WITH_LIBNETLINK_TRUE='#'
+  BUILD_WITH_LIBNETLINK_FALSE=
+fi
+
+
+with_libxml2="no (pkg-config isn't available)"
+with_libxml2_cflags=""
+with_libxml2_ldflags=""
+with_libvirt="no (pkg-config isn't available)"
+with_libvirt_cflags=""
+with_libvirt_ldflags=""
+
+
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PKG_CONFIG=$ac_cv_path_PKG_CONFIG
+if test -n "$PKG_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $PKG_CONFIG" >&5
+echo "${ECHO_T}$PKG_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_path_PKG_CONFIG"; then
+  ac_pt_PKG_CONFIG=$PKG_CONFIG
+  # Extract the first word of "pkg-config", so it can be a program name with args.
+set dummy pkg-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_ac_pt_PKG_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $ac_pt_PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_ac_pt_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
+if test -n "$ac_pt_PKG_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $ac_pt_PKG_CONFIG" >&5
+echo "${ECHO_T}$ac_pt_PKG_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_pt_PKG_CONFIG" = x; then
+    PKG_CONFIG=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    PKG_CONFIG=$ac_pt_PKG_CONFIG
+  fi
+else
+  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
+fi
+
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=0.9.0
+	{ echo "$as_me:$LINENO: checking pkg-config is at least version $_pkg_min_version" >&5
+echo $ECHO_N "checking pkg-config is at least version $_pkg_min_version... $ECHO_C" >&6; }
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		{ echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+	else
+		{ echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+		PKG_CONFIG=""
+	fi
+
+fi
+if test "x$PKG_CONFIG" != "x"
+then
+	pkg-config --exists 'libxml-2.0' 2>/dev/null
+	if test "$?" = "0"
+	then
+		with_libxml2="yes"
+	else
+		with_libxml2="no (pkg-config doesn't know library)"
+	fi
+
+	pkg-config --exists libvirt 2>/dev/null
+	if test "$?" = "0"
+	then
+		with_libvirt="yes"
+	else
+		with_libvirt="no (pkg-config doesn't know library)"
+	fi
+fi
+if test "x$with_libxml2" = "xyes"
+then
+	with_libxml2_cflags="`pkg-config --cflags libxml-2.0`"
+	if test $? -ne 0
+	then
+		with_libxml2="no"
+	fi
+	with_libxml2_ldflags="`pkg-config --libs libxml-2.0`"
+	if test $? -ne 0
+	then
+		with_libxml2="no"
+	fi
+fi
+if test "x$with_libxml2" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libxml2_cflags"
+
+
+for ac_header in libxml/parser.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+if { (ac_try="$ac_cpp conftest.$ac_ext"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
+  (exit $ac_status); } >/dev/null && {
+	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
+       }; then
+  ac_header_preproc=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	eval "$as_ac_Header=no"
+  ac_header_preproc=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
+
+fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
-	 with_libnetlink="yes"
-	 break
-
+else
+  with_libxml2="no (libxml/parser.h not found)"
 fi
 
 done
 
 
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libxml2" = "xyes"
+then
+	SAVE_CFLAGS="$CFLAGS"
+	SAVE_LD_FLAGS="$LDFLAGS"
+
+	CFLAGS="$CFLAGS $with_libxml2_cflags"
+	LDFLAGS="$LDFLAGS $with_libxml2_ldflags"
 
-for ac_header in linux/gen_stats.h linux/pkt_sched.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+	{ echo "$as_me:$LINENO: checking for xmlXPathEval in -lxml2" >&5
+echo $ECHO_N "checking for xmlXPathEval in -lxml2... $ECHO_C" >&6; }
+if test "${ac_cv_lib_xml2_xmlXPathEval+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  cat >conftest.$ac_ext <<_ACEOF
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lxml2  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <stdio.h>
-#include <sys/types.h>
-#include <asm/types.h>
-#include <sys/socket.h>
 
-#include <$ac_header>
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char xmlXPathEval ();
+int
+main ()
+{
+return xmlXPathEval ();
+  ;
+  return 0;
+}
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_xml2_xmlXPathEval=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	eval "$as_ac_Header=no"
+	ac_cv_lib_xml2_xmlXPathEval=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_xml2_xmlXPathEval" >&5
+echo "${ECHO_T}$ac_cv_lib_xml2_xmlXPathEval" >&6; }
+if test $ac_cv_lib_xml2_xmlXPathEval = yes; then
+  with_libxml2="yes"
+else
+  with_libxml2="no (symbol xmlXPathEval not found)"
 fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
 
+
+	CFLAGS="$SAVE_CFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
 fi
+if test "x$with_libxml2" = "xyes"; then
+	BUILD_WITH_LIBXML2_CFLAGS="$with_libxml2_cflags"
+	BUILD_WITH_LIBXML2_LIBS="$with_libxml2_ldflags"
 
-done
 
+fi
+if test "x$with_libvirt" = "xyes"
+then
+	with_libvirt_cflags="`pkg-config --cflags libvirt`"
+	if test $? -ne 0
+	then
+		with_libvirt="no"
+	fi
+	with_libvirt_ldflags="`pkg-config --libs libvirt`"
+	if test $? -ne 0
+	then
+		with_libvirt="no"
+	fi
+fi
+if test "x$with_libvirt" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libvirt_cflags"
 
-	cat >conftest.$ac_ext <<_ACEOF
-#include <stdio.h>
-#include <sys/types.h>
-#include <asm/types.h>
-#include <sys/socket.h>
-#include <linux/netlink.h>
-#include <linux/rtnetlink.h>
 
-int main (void)
-{
-	int retval = TCA_STATS2;
-	return (retval);
-}
+for ac_header in libvirt/libvirt.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
@@ -35295,84 +35664,129 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_TCA_STATS2 1
-_ACEOF
-
-
+  ac_header_compiler=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-
+	ac_header_compiler=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext;
-
-	cat >conftest.$ac_ext <<_ACEOF
-#include <stdio.h>
-#include <sys/types.h>
-#include <asm/types.h>
-#include <sys/socket.h>
-#include <linux/netlink.h>
-#include <linux/rtnetlink.h>
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
-int main (void)
-{
-	int retval = TCA_STATS;
-	return (retval);
-}
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
+  (exit $ac_status); } >/dev/null && {
+	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
+       }; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
 
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_TCA_STATS 1
-_ACEOF
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
 
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
+else
+  with_libvirt="no (libvirt/libvirt.h not found)"
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext;
+done
 
-	CFLAGS="$SAVE_CFLAGS"
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
-if test "x$with_libnetlink" = "xyes"
+if test "x$with_libvirt" = "xyes"
 then
-	{ echo "$as_me:$LINENO: checking for rtnl_open in -lnetlink" >&5
-echo $ECHO_N "checking for rtnl_open in -lnetlink... $ECHO_C" >&6; }
-if test "${ac_cv_lib_netlink_rtnl_open+set}" = set; then
+	SAVE_CFLAGS="$CFLAGS"
+	SAVE_LD_FLAGS="$LDFLAGS"
+
+	CFLAGS="$CFLAGS $with_libvirt_cflags"
+	LDFLAGS="$LDFLAGS $with_libvirt_ldflags"
+
+	{ echo "$as_me:$LINENO: checking for virDomainBlockStats in -lvirt" >&5
+echo $ECHO_N "checking for virDomainBlockStats in -lvirt... $ECHO_C" >&6; }
+if test "${ac_cv_lib_virt_virDomainBlockStats+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lnetlink $with_libnetlink_libs $LIBS"
+LIBS="-lvirt  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
@@ -35380,17 +35794,17 @@
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char rtnl_open ();
+char virDomainBlockStats ();
 int
 main ()
 {
-return rtnl_open ();
+return virDomainBlockStats ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -35407,47 +35821,42 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_netlink_rtnl_open=yes
+  ac_cv_lib_virt_virDomainBlockStats=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_lib_netlink_rtnl_open=no
+	ac_cv_lib_virt_virDomainBlockStats=no
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_netlink_rtnl_open" >&5
-echo "${ECHO_T}$ac_cv_lib_netlink_rtnl_open" >&6; }
-if test $ac_cv_lib_netlink_rtnl_open = yes; then
-  with_libnetlink="yes"
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_virt_virDomainBlockStats" >&5
+echo "${ECHO_T}$ac_cv_lib_virt_virDomainBlockStats" >&6; }
+if test $ac_cv_lib_virt_virDomainBlockStats = yes; then
+  with_libvirt="yes"
 else
-  with_libnetlink="no (symbol 'rtnl_open' not found)"
+  with_libvirt="no (symbol virDomainBlockStats not found)"
 fi
 
+
+	CFLAGS="$SAVE_CFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
 fi
-if test "x$with_libnetlink" = "xyes"
-then
-	BUILD_WITH_LIBNETLINK_CFLAGS="$with_libnetlink_cflags"
-	BUILD_WITH_LIBNETLINK_LIBS="$with_libnetlink_libs"
+if test "x$with_libvirt" = "xyes"; then
+	BUILD_WITH_LIBVIRT_CFLAGS="$with_libvirt_cflags"
+	BUILD_WITH_LIBVIRT_LIBS="$with_libvirt_ldflags"
 
 
 fi
- if test "x$with_libnetlink" = "xyes"; then
-  BUILD_WITH_LIBNETLINK_TRUE=
-  BUILD_WITH_LIBNETLINK_FALSE='#'
-else
-  BUILD_WITH_LIBNETLINK_TRUE='#'
-  BUILD_WITH_LIBNETLINK_FALSE=
-fi
 
 
 # Check for enabled/disabled features
 #
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
@@ -35485,13 +35894,15 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define COLLECT_DEBUG $collectd_debug
 _ACEOF
 
-	 if test "x$enable_debug" = "xyes"; then
+
+
+if test "x$enable_debug" = "xyes"; then
   BUILD_FEATURE_DEBUG_TRUE=
   BUILD_FEATURE_DEBUG_FALSE='#'
 else
   BUILD_FEATURE_DEBUG_TRUE='#'
   BUILD_FEATURE_DEBUG_FALSE=
 fi
@@ -35520,13 +35931,15 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define COLLECT_DAEMON $collectd_daemon
 _ACEOF
 
-	 if test "x$enable_daemon" = "xyes"; then
+
+
+if test "x$enable_daemon" = "xyes"; then
   BUILD_FEATURE_DAEMON_TRUE=
   BUILD_FEATURE_DAEMON_FALSE='#'
 else
   BUILD_FEATURE_DAEMON_TRUE='#'
   BUILD_FEATURE_DAEMON_FALSE=
 fi
@@ -35555,13 +35968,15 @@
 fi
 
 cat >>confdefs.h <<_ACEOF
 #define COLLECT_GETIFADDRS $collectd_getifaddrs
 _ACEOF
 
-	 if test "x$enable_getifaddrs" = "xyes"; then
+
+
+if test "x$enable_getifaddrs" = "xyes"; then
   BUILD_FEATURE_GETIFADDRS_TRUE=
   BUILD_FEATURE_GETIFADDRS_FALSE='#'
 else
   BUILD_FEATURE_GETIFADDRS_TRUE='#'
   BUILD_FEATURE_GETIFADDRS_FALSE=
 fi
@@ -35573,16 +35988,18 @@
 plugin_df="no"
 plugin_disk="no"
 plugin_entropy="no"
 plugin_interface="no"
 plugin_ipvs="no"
 plugin_irq="no"
+plugin_libvirt="no"
 plugin_load="no"
 plugin_memory="no"
 plugin_multimeter="no"
 plugin_nfs="no"
+plugin_perl="no"
 plugin_processes="no"
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
 plugin_tcpconns="no"
 plugin_users="no"
@@ -35664,17 +36081,27 @@
 
 if test "x$have_getifaddrs" = "xyes"
 then
 	plugin_interface="yes"
 fi
 
+if test "x$with_libxml2" = "xyes" && test "x$with_libvirt" = "xyes"
+then
+	plugin_libvirt="yes"
+fi
+
 if test "x$have_getloadavg" = "xyes"
 then
 	plugin_load="yes"
 fi
 
+if test "x$have_libperl$have_perl_ithreads" = "xyesyes"
+then
+	plugin_perl="yes"
+fi
+
 # Mac OS X memory interface
 if test "x$have_host_statistics" = "xyes"
 then
 	plugin_memory="yes"
 fi
 
@@ -35734,13 +36161,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_APACHE 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_APACHE_TRUE=
   BUILD_PLUGIN_APACHE_FALSE='#'
 else
   BUILD_PLUGIN_APACHE_TRUE='#'
   BUILD_PLUGIN_APACHE_FALSE=
 fi
@@ -35776,13 +36205,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_APCUPS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_APCUPS_TRUE=
   BUILD_PLUGIN_APCUPS_FALSE='#'
 else
   BUILD_PLUGIN_APCUPS_TRUE='#'
   BUILD_PLUGIN_APCUPS_FALSE=
 fi
@@ -35818,13 +36249,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_APPLE_SENSORS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_APPLE_SENSORS_TRUE=
   BUILD_PLUGIN_APPLE_SENSORS_FALSE='#'
 else
   BUILD_PLUGIN_APPLE_SENSORS_TRUE='#'
   BUILD_PLUGIN_APPLE_SENSORS_FALSE=
 fi
@@ -35860,13 +36293,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_BATTERY 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_BATTERY_TRUE=
   BUILD_PLUGIN_BATTERY_FALSE='#'
 else
   BUILD_PLUGIN_BATTERY_TRUE='#'
   BUILD_PLUGIN_BATTERY_FALSE=
 fi
@@ -35902,13 +36337,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_CPU 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_CPU_TRUE=
   BUILD_PLUGIN_CPU_FALSE='#'
 else
   BUILD_PLUGIN_CPU_TRUE='#'
   BUILD_PLUGIN_CPU_FALSE=
 fi
@@ -35944,13 +36381,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_CPUFREQ 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_CPUFREQ_TRUE=
   BUILD_PLUGIN_CPUFREQ_FALSE='#'
 else
   BUILD_PLUGIN_CPUFREQ_TRUE='#'
   BUILD_PLUGIN_CPUFREQ_FALSE=
 fi
@@ -35986,13 +36425,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_CSV 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_CSV_TRUE=
   BUILD_PLUGIN_CSV_FALSE='#'
 else
   BUILD_PLUGIN_CSV_TRUE='#'
   BUILD_PLUGIN_CSV_FALSE=
 fi
@@ -36028,13 +36469,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_DF 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_DF_TRUE=
   BUILD_PLUGIN_DF_FALSE='#'
 else
   BUILD_PLUGIN_DF_TRUE='#'
   BUILD_PLUGIN_DF_FALSE=
 fi
@@ -36070,13 +36513,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_DISK 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_DISK_TRUE=
   BUILD_PLUGIN_DISK_FALSE='#'
 else
   BUILD_PLUGIN_DISK_TRUE='#'
   BUILD_PLUGIN_DISK_FALSE=
 fi
@@ -36112,13 +36557,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_DNS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_DNS_TRUE=
   BUILD_PLUGIN_DNS_FALSE='#'
 else
   BUILD_PLUGIN_DNS_TRUE='#'
   BUILD_PLUGIN_DNS_FALSE=
 fi
@@ -36154,13 +36601,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_EMAIL 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_EMAIL_TRUE=
   BUILD_PLUGIN_EMAIL_FALSE='#'
 else
   BUILD_PLUGIN_EMAIL_TRUE='#'
   BUILD_PLUGIN_EMAIL_FALSE=
 fi
@@ -36196,13 +36645,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_ENTROPY 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_ENTROPY_TRUE=
   BUILD_PLUGIN_ENTROPY_FALSE='#'
 else
   BUILD_PLUGIN_ENTROPY_TRUE='#'
   BUILD_PLUGIN_ENTROPY_FALSE=
 fi
@@ -36238,13 +36689,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_EXEC 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_EXEC_TRUE=
   BUILD_PLUGIN_EXEC_FALSE='#'
 else
   BUILD_PLUGIN_EXEC_TRUE='#'
   BUILD_PLUGIN_EXEC_FALSE=
 fi
@@ -36280,13 +36733,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_HDDTEMP 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_HDDTEMP_TRUE=
   BUILD_PLUGIN_HDDTEMP_FALSE='#'
 else
   BUILD_PLUGIN_HDDTEMP_TRUE='#'
   BUILD_PLUGIN_HDDTEMP_FALSE=
 fi
@@ -36322,13 +36777,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_INTERFACE 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_INTERFACE_TRUE=
   BUILD_PLUGIN_INTERFACE_FALSE='#'
 else
   BUILD_PLUGIN_INTERFACE_TRUE='#'
   BUILD_PLUGIN_INTERFACE_FALSE=
 fi
@@ -36364,13 +36821,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IPTABLES 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IPTABLES_TRUE=
   BUILD_PLUGIN_IPTABLES_FALSE='#'
 else
   BUILD_PLUGIN_IPTABLES_TRUE='#'
   BUILD_PLUGIN_IPTABLES_FALSE=
 fi
@@ -36406,13 +36865,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IPVS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IPVS_TRUE=
   BUILD_PLUGIN_IPVS_FALSE='#'
 else
   BUILD_PLUGIN_IPVS_TRUE='#'
   BUILD_PLUGIN_IPVS_FALSE=
 fi
@@ -36448,25 +36909,71 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IRQ 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IRQ_TRUE=
   BUILD_PLUGIN_IRQ_FALSE='#'
 else
   BUILD_PLUGIN_IRQ_TRUE='#'
   BUILD_PLUGIN_IRQ_FALSE=
 fi
 
     enable_irq="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-libvirt was given.
+if test "${enable_libvirt+set}" = set; then
+  enableval=$enable_libvirt;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$plugin_libvirt" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_LIBVIRT 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_LIBVIRT_TRUE=
+  BUILD_PLUGIN_LIBVIRT_FALSE='#'
+else
+  BUILD_PLUGIN_LIBVIRT_TRUE='#'
+  BUILD_PLUGIN_LIBVIRT_FALSE=
+fi
+
+    enable_libvirt="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-load was given.
 if test "${enable_load+set}" = set; then
   enableval=$enable_load;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -36490,13 +36997,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_LOAD 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_LOAD_TRUE=
   BUILD_PLUGIN_LOAD_FALSE='#'
 else
   BUILD_PLUGIN_LOAD_TRUE='#'
   BUILD_PLUGIN_LOAD_FALSE=
 fi
@@ -36532,13 +37041,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_LOGFILE 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_LOGFILE_TRUE=
   BUILD_PLUGIN_LOGFILE_FALSE='#'
 else
   BUILD_PLUGIN_LOGFILE_TRUE='#'
   BUILD_PLUGIN_LOGFILE_FALSE=
 fi
@@ -36574,13 +37085,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MBMON 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MBMON_TRUE=
   BUILD_PLUGIN_MBMON_FALSE='#'
 else
   BUILD_PLUGIN_MBMON_TRUE='#'
   BUILD_PLUGIN_MBMON_FALSE=
 fi
@@ -36616,13 +37129,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MEMCACHED 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MEMCACHED_TRUE=
   BUILD_PLUGIN_MEMCACHED_FALSE='#'
 else
   BUILD_PLUGIN_MEMCACHED_TRUE='#'
   BUILD_PLUGIN_MEMCACHED_FALSE=
 fi
@@ -36658,13 +37173,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MEMORY 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MEMORY_TRUE=
   BUILD_PLUGIN_MEMORY_FALSE='#'
 else
   BUILD_PLUGIN_MEMORY_TRUE='#'
   BUILD_PLUGIN_MEMORY_FALSE=
 fi
@@ -36700,13 +37217,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MULTIMETER 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MULTIMETER_TRUE=
   BUILD_PLUGIN_MULTIMETER_FALSE='#'
 else
   BUILD_PLUGIN_MULTIMETER_TRUE='#'
   BUILD_PLUGIN_MULTIMETER_FALSE=
 fi
@@ -36742,13 +37261,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MYSQL 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MYSQL_TRUE=
   BUILD_PLUGIN_MYSQL_FALSE='#'
 else
   BUILD_PLUGIN_MYSQL_TRUE='#'
   BUILD_PLUGIN_MYSQL_FALSE=
 fi
@@ -36784,13 +37305,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NETLINK 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NETLINK_TRUE=
   BUILD_PLUGIN_NETLINK_FALSE='#'
 else
   BUILD_PLUGIN_NETLINK_TRUE='#'
   BUILD_PLUGIN_NETLINK_FALSE=
 fi
@@ -36826,13 +37349,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NETWORK 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NETWORK_TRUE=
   BUILD_PLUGIN_NETWORK_FALSE='#'
 else
   BUILD_PLUGIN_NETWORK_TRUE='#'
   BUILD_PLUGIN_NETWORK_FALSE=
 fi
@@ -36868,13 +37393,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NFS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NFS_TRUE=
   BUILD_PLUGIN_NFS_FALSE='#'
 else
   BUILD_PLUGIN_NFS_TRUE='#'
   BUILD_PLUGIN_NFS_FALSE=
 fi
@@ -36910,13 +37437,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NGINX 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NGINX_TRUE=
   BUILD_PLUGIN_NGINX_FALSE='#'
 else
   BUILD_PLUGIN_NGINX_TRUE='#'
   BUILD_PLUGIN_NGINX_FALSE=
 fi
@@ -36952,13 +37481,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NTPD 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NTPD_TRUE=
   BUILD_PLUGIN_NTPD_FALSE='#'
 else
   BUILD_PLUGIN_NTPD_TRUE='#'
   BUILD_PLUGIN_NTPD_FALSE=
 fi
@@ -36994,13 +37525,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NUT 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NUT_TRUE=
   BUILD_PLUGIN_NUT_FALSE='#'
 else
   BUILD_PLUGIN_NUT_TRUE='#'
   BUILD_PLUGIN_NUT_FALSE=
 fi
@@ -37019,13 +37552,13 @@
      else
 	     enable_plugin="no"
      fi
 
 else
 
-     if test "x$with_libperl" = "xyes"
+     if test "x$plugin_perl" = "xyes"
      then
 	     enable_plugin="yes"
      else
 	     enable_plugin="no"
      fi
 
@@ -37036,13 +37569,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_PERL 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_PERL_TRUE=
   BUILD_PLUGIN_PERL_FALSE='#'
 else
   BUILD_PLUGIN_PERL_TRUE='#'
   BUILD_PLUGIN_PERL_FALSE=
 fi
@@ -37078,13 +37613,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_PING 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_PING_TRUE=
   BUILD_PLUGIN_PING_FALSE='#'
 else
   BUILD_PLUGIN_PING_TRUE='#'
   BUILD_PLUGIN_PING_FALSE=
 fi
@@ -37120,13 +37657,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_PROCESSES 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_PROCESSES_TRUE=
   BUILD_PLUGIN_PROCESSES_FALSE='#'
 else
   BUILD_PLUGIN_PROCESSES_TRUE='#'
   BUILD_PLUGIN_PROCESSES_FALSE=
 fi
@@ -37162,13 +37701,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_RRDTOOL 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_RRDTOOL_TRUE=
   BUILD_PLUGIN_RRDTOOL_FALSE='#'
 else
   BUILD_PLUGIN_RRDTOOL_TRUE='#'
   BUILD_PLUGIN_RRDTOOL_FALSE=
 fi
@@ -37204,13 +37745,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SENSORS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SENSORS_TRUE=
   BUILD_PLUGIN_SENSORS_FALSE='#'
 else
   BUILD_PLUGIN_SENSORS_TRUE='#'
   BUILD_PLUGIN_SENSORS_FALSE=
 fi
@@ -37246,13 +37789,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SERIAL 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SERIAL_TRUE=
   BUILD_PLUGIN_SERIAL_FALSE='#'
 else
   BUILD_PLUGIN_SERIAL_TRUE='#'
   BUILD_PLUGIN_SERIAL_FALSE=
 fi
@@ -37288,13 +37833,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SNMP 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SNMP_TRUE=
   BUILD_PLUGIN_SNMP_FALSE='#'
 else
   BUILD_PLUGIN_SNMP_TRUE='#'
   BUILD_PLUGIN_SNMP_FALSE=
 fi
@@ -37330,13 +37877,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SWAP 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SWAP_TRUE=
   BUILD_PLUGIN_SWAP_FALSE='#'
 else
   BUILD_PLUGIN_SWAP_TRUE='#'
   BUILD_PLUGIN_SWAP_FALSE=
 fi
@@ -37372,13 +37921,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SYSLOG 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SYSLOG_TRUE=
   BUILD_PLUGIN_SYSLOG_FALSE='#'
 else
   BUILD_PLUGIN_SYSLOG_TRUE='#'
   BUILD_PLUGIN_SYSLOG_FALSE=
 fi
@@ -37414,13 +37965,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_TAPE 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_TAPE_TRUE=
   BUILD_PLUGIN_TAPE_FALSE='#'
 else
   BUILD_PLUGIN_TAPE_TRUE='#'
   BUILD_PLUGIN_TAPE_FALSE=
 fi
@@ -37456,13 +38009,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_TCPCONNS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_TCPCONNS_TRUE=
   BUILD_PLUGIN_TCPCONNS_FALSE='#'
 else
   BUILD_PLUGIN_TCPCONNS_TRUE='#'
   BUILD_PLUGIN_TCPCONNS_FALSE=
 fi
@@ -37498,13 +38053,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_UNIXSOCK 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_UNIXSOCK_TRUE=
   BUILD_PLUGIN_UNIXSOCK_FALSE='#'
 else
   BUILD_PLUGIN_UNIXSOCK_TRUE='#'
   BUILD_PLUGIN_UNIXSOCK_FALSE=
 fi
@@ -37540,25 +38097,71 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_USERS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_USERS_TRUE=
   BUILD_PLUGIN_USERS_FALSE='#'
 else
   BUILD_PLUGIN_USERS_TRUE='#'
   BUILD_PLUGIN_USERS_FALSE=
 fi
 
     enable_users="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-uuid was given.
+if test "${enable_uuid+set}" = set; then
+  enableval=$enable_uuid;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_UUID 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_UUID_TRUE=
+  BUILD_PLUGIN_UUID_FALSE='#'
+else
+  BUILD_PLUGIN_UUID_TRUE='#'
+  BUILD_PLUGIN_UUID_FALSE=
+fi
+
+    enable_uuid="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-vserver was given.
 if test "${enable_vserver+set}" = set; then
   enableval=$enable_vserver;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -37582,13 +38185,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_VSERVER 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_VSERVER_TRUE=
   BUILD_PLUGIN_VSERVER_FALSE='#'
 else
   BUILD_PLUGIN_VSERVER_TRUE='#'
   BUILD_PLUGIN_VSERVER_FALSE=
 fi
@@ -37624,13 +38229,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_WIRELESS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_WIRELESS_TRUE=
   BUILD_PLUGIN_WIRELESS_FALSE='#'
 else
   BUILD_PLUGIN_WIRELESS_TRUE='#'
   BUILD_PLUGIN_WIRELESS_FALSE=
 fi
@@ -37666,13 +38273,15 @@
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_XMMS 1
 _ACEOF
 
     fi
-     if test "x$enable_plugin" = "xyes"; then
+
+
+if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_XMMS_TRUE=
   BUILD_PLUGIN_XMMS_FALSE='#'
 else
   BUILD_PLUGIN_XMMS_TRUE='#'
   BUILD_PLUGIN_XMMS_FALSE=
 fi
@@ -37699,18 +38308,13 @@
 		with_perl_bindings="$withval"
 	fi
 
 else
 
 	PERL_BINDINGS_OPTIONS=""
-	if test -n "$perl_interpreter"
-	then
-		with_perl_bindings="yes"
-	else
-		with_perl_bindings="no (no perl interpreter found)"
-	fi
+	with_perl_bindings="yes"
 
 fi
 
 if test "x$with_perl_bindings" = "xyes"
 then
 	PERL_BINDINGS="perl"
@@ -38158,12 +38762,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IRQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_IRQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_LIBVIRT_TRUE}" && test -z "${BUILD_PLUGIN_LIBVIRT_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_LIBVIRT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_LIBVIRT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_LOAD_TRUE}" && test -z "${BUILD_PLUGIN_LOAD_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -38340,12 +38951,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_USERS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_USERS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_UUID_TRUE}" && test -z "${BUILD_PLUGIN_UUID_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_UUID\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_UUID\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_VSERVER_TRUE}" && test -z "${BUILD_PLUGIN_VSERVER_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -38661,13 +39279,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 4.2.7, which was
+This file was extended by collectd $as_me 4.3.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -38714,24 +39332,23 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 4.2.7
+collectd config.status 4.3.0
 configured by $0, generated by GNU Autoconf 2.61,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
 ac_pwd='$ac_pwd'
 srcdir='$srcdir'
 INSTALL='$INSTALL'
-MKDIR_P='$MKDIR_P'
 _ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF
 # If no file are specified by the user, then we need to provide default
 # value.  By we need to know if files were specified by the user.
 ac_need_defaults=:
@@ -38938,13 +39555,12 @@
 build_alias!$build_alias$ac_delim
 host_alias!$host_alias$ac_delim
 target_alias!$target_alias$ac_delim
 INSTALL_PROGRAM!$INSTALL_PROGRAM$ac_delim
 INSTALL_SCRIPT!$INSTALL_SCRIPT$ac_delim
 INSTALL_DATA!$INSTALL_DATA$ac_delim
-am__isrc!$am__isrc$ac_delim
 CYGPATH_W!$CYGPATH_W$ac_delim
 PACKAGE!$PACKAGE$ac_delim
 VERSION!$VERSION$ac_delim
 ACLOCAL!$ACLOCAL$ac_delim
 AUTOCONF!$AUTOCONF$ac_delim
 AUTOMAKE!$AUTOMAKE$ac_delim
@@ -38993,14 +39609,15 @@
 SED!$SED$ac_delim
 GREP!$GREP$ac_delim
 EGREP!$EGREP$ac_delim
 ECHO!$ECHO$ac_delim
 AR!$AR$ac_delim
 RANLIB!$RANLIB$ac_delim
-DSYMUTIL!$DSYMUTIL$ac_delim
-NMEDIT!$NMEDIT$ac_delim
+CXX!$CXX$ac_delim
+CXXFLAGS!$CXXFLAGS$ac_delim
+ac_ct_CXX!$ac_ct_CXX$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -39036,15 +39653,12 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
-CXX!$CXX$ac_delim
-CXXFLAGS!$CXXFLAGS$ac_delim
-ac_ct_CXX!$ac_ct_CXX$ac_delim
 CXXDEPMODE!$CXXDEPMODE$ac_delim
 am__fastdepCXX_TRUE!$am__fastdepCXX_TRUE$ac_delim
 am__fastdepCXX_FALSE!$am__fastdepCXX_FALSE$ac_delim
 CXXCPP!$CXXCPP$ac_delim
 F77!$F77$ac_delim
 FFLAGS!$FFLAGS$ac_delim
@@ -39059,12 +39673,15 @@
 BUILD_WITH_LIBSOCKET_TRUE!$BUILD_WITH_LIBSOCKET_TRUE$ac_delim
 BUILD_WITH_LIBSOCKET_FALSE!$BUILD_WITH_LIBSOCKET_FALSE$ac_delim
 BUILD_WITH_LIBRT_TRUE!$BUILD_WITH_LIBRT_TRUE$ac_delim
 BUILD_WITH_LIBRT_FALSE!$BUILD_WITH_LIBRT_FALSE$ac_delim
 BUILD_WITH_LIBRESOLV_TRUE!$BUILD_WITH_LIBRESOLV_TRUE$ac_delim
 BUILD_WITH_LIBRESOLV_FALSE!$BUILD_WITH_LIBRESOLV_FALSE$ac_delim
+PKG_CONFIG!$PKG_CONFIG$ac_delim
+BUILD_WITH_LIBHAL_CFLAGS!$BUILD_WITH_LIBHAL_CFLAGS$ac_delim
+BUILD_WITH_LIBHAL_LIBS!$BUILD_WITH_LIBHAL_LIBS$ac_delim
 BUILD_WITH_LIBRRD_CFLAGS!$BUILD_WITH_LIBRRD_CFLAGS$ac_delim
 BUILD_WITH_LIBRRD_LDFLAGS!$BUILD_WITH_LIBRRD_LDFLAGS$ac_delim
 BUILD_WITH_LIBPTHREAD_TRUE!$BUILD_WITH_LIBPTHREAD_TRUE$ac_delim
 BUILD_WITH_LIBPTHREAD_FALSE!$BUILD_WITH_LIBPTHREAD_FALSE$ac_delim
 BUILD_WITH_LIBKSTAT_TRUE!$BUILD_WITH_LIBKSTAT_TRUE$ac_delim
 BUILD_WITH_LIBKSTAT_FALSE!$BUILD_WITH_LIBKSTAT_FALSE$ac_delim
@@ -39118,27 +39735,27 @@
 BUILD_WITH_LIBXMMS_TRUE!$BUILD_WITH_LIBXMMS_TRUE$ac_delim
 BUILD_WITH_LIBXMMS_FALSE!$BUILD_WITH_LIBXMMS_FALSE$ac_delim
 BUILD_WITH_LIBNETLINK_CFLAGS!$BUILD_WITH_LIBNETLINK_CFLAGS$ac_delim
 BUILD_WITH_LIBNETLINK_LIBS!$BUILD_WITH_LIBNETLINK_LIBS$ac_delim
 BUILD_WITH_LIBNETLINK_TRUE!$BUILD_WITH_LIBNETLINK_TRUE$ac_delim
 BUILD_WITH_LIBNETLINK_FALSE!$BUILD_WITH_LIBNETLINK_FALSE$ac_delim
+BUILD_WITH_LIBXML2_CFLAGS!$BUILD_WITH_LIBXML2_CFLAGS$ac_delim
+BUILD_WITH_LIBXML2_LIBS!$BUILD_WITH_LIBXML2_LIBS$ac_delim
+BUILD_WITH_LIBVIRT_CFLAGS!$BUILD_WITH_LIBVIRT_CFLAGS$ac_delim
+BUILD_WITH_LIBVIRT_LIBS!$BUILD_WITH_LIBVIRT_LIBS$ac_delim
 BUILD_FEATURE_DEBUG_TRUE!$BUILD_FEATURE_DEBUG_TRUE$ac_delim
 BUILD_FEATURE_DEBUG_FALSE!$BUILD_FEATURE_DEBUG_FALSE$ac_delim
 BUILD_FEATURE_DAEMON_TRUE!$BUILD_FEATURE_DAEMON_TRUE$ac_delim
 BUILD_FEATURE_DAEMON_FALSE!$BUILD_FEATURE_DAEMON_FALSE$ac_delim
 BUILD_FEATURE_GETIFADDRS_TRUE!$BUILD_FEATURE_GETIFADDRS_TRUE$ac_delim
 BUILD_FEATURE_GETIFADDRS_FALSE!$BUILD_FEATURE_GETIFADDRS_FALSE$ac_delim
 BUILD_PLUGIN_APACHE_TRUE!$BUILD_PLUGIN_APACHE_TRUE$ac_delim
 BUILD_PLUGIN_APACHE_FALSE!$BUILD_PLUGIN_APACHE_FALSE$ac_delim
 BUILD_PLUGIN_APCUPS_TRUE!$BUILD_PLUGIN_APCUPS_TRUE$ac_delim
 BUILD_PLUGIN_APCUPS_FALSE!$BUILD_PLUGIN_APCUPS_FALSE$ac_delim
 BUILD_PLUGIN_APPLE_SENSORS_TRUE!$BUILD_PLUGIN_APPLE_SENSORS_TRUE$ac_delim
-BUILD_PLUGIN_APPLE_SENSORS_FALSE!$BUILD_PLUGIN_APPLE_SENSORS_FALSE$ac_delim
-BUILD_PLUGIN_BATTERY_TRUE!$BUILD_PLUGIN_BATTERY_TRUE$ac_delim
-BUILD_PLUGIN_BATTERY_FALSE!$BUILD_PLUGIN_BATTERY_FALSE$ac_delim
-BUILD_PLUGIN_CPU_TRUE!$BUILD_PLUGIN_CPU_TRUE$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -39174,12 +39791,16 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
+BUILD_PLUGIN_APPLE_SENSORS_FALSE!$BUILD_PLUGIN_APPLE_SENSORS_FALSE$ac_delim
+BUILD_PLUGIN_BATTERY_TRUE!$BUILD_PLUGIN_BATTERY_TRUE$ac_delim
+BUILD_PLUGIN_BATTERY_FALSE!$BUILD_PLUGIN_BATTERY_FALSE$ac_delim
+BUILD_PLUGIN_CPU_TRUE!$BUILD_PLUGIN_CPU_TRUE$ac_delim
 BUILD_PLUGIN_CPU_FALSE!$BUILD_PLUGIN_CPU_FALSE$ac_delim
 BUILD_PLUGIN_CPUFREQ_TRUE!$BUILD_PLUGIN_CPUFREQ_TRUE$ac_delim
 BUILD_PLUGIN_CPUFREQ_FALSE!$BUILD_PLUGIN_CPUFREQ_FALSE$ac_delim
 BUILD_PLUGIN_CSV_TRUE!$BUILD_PLUGIN_CSV_TRUE$ac_delim
 BUILD_PLUGIN_CSV_FALSE!$BUILD_PLUGIN_CSV_FALSE$ac_delim
 BUILD_PLUGIN_DF_TRUE!$BUILD_PLUGIN_DF_TRUE$ac_delim
@@ -39201,12 +39822,14 @@
 BUILD_PLUGIN_IPTABLES_TRUE!$BUILD_PLUGIN_IPTABLES_TRUE$ac_delim
 BUILD_PLUGIN_IPTABLES_FALSE!$BUILD_PLUGIN_IPTABLES_FALSE$ac_delim
 BUILD_PLUGIN_IPVS_TRUE!$BUILD_PLUGIN_IPVS_TRUE$ac_delim
 BUILD_PLUGIN_IPVS_FALSE!$BUILD_PLUGIN_IPVS_FALSE$ac_delim
 BUILD_PLUGIN_IRQ_TRUE!$BUILD_PLUGIN_IRQ_TRUE$ac_delim
 BUILD_PLUGIN_IRQ_FALSE!$BUILD_PLUGIN_IRQ_FALSE$ac_delim
+BUILD_PLUGIN_LIBVIRT_TRUE!$BUILD_PLUGIN_LIBVIRT_TRUE$ac_delim
+BUILD_PLUGIN_LIBVIRT_FALSE!$BUILD_PLUGIN_LIBVIRT_FALSE$ac_delim
 BUILD_PLUGIN_LOAD_TRUE!$BUILD_PLUGIN_LOAD_TRUE$ac_delim
 BUILD_PLUGIN_LOAD_FALSE!$BUILD_PLUGIN_LOAD_FALSE$ac_delim
 BUILD_PLUGIN_LOGFILE_TRUE!$BUILD_PLUGIN_LOGFILE_TRUE$ac_delim
 BUILD_PLUGIN_LOGFILE_FALSE!$BUILD_PLUGIN_LOGFILE_FALSE$ac_delim
 BUILD_PLUGIN_MBMON_TRUE!$BUILD_PLUGIN_MBMON_TRUE$ac_delim
 BUILD_PLUGIN_MBMON_FALSE!$BUILD_PLUGIN_MBMON_FALSE$ac_delim
@@ -39253,25 +39876,27 @@
 BUILD_PLUGIN_TCPCONNS_TRUE!$BUILD_PLUGIN_TCPCONNS_TRUE$ac_delim
 BUILD_PLUGIN_TCPCONNS_FALSE!$BUILD_PLUGIN_TCPCONNS_FALSE$ac_delim
 BUILD_PLUGIN_UNIXSOCK_TRUE!$BUILD_PLUGIN_UNIXSOCK_TRUE$ac_delim
 BUILD_PLUGIN_UNIXSOCK_FALSE!$BUILD_PLUGIN_UNIXSOCK_FALSE$ac_delim
 BUILD_PLUGIN_USERS_TRUE!$BUILD_PLUGIN_USERS_TRUE$ac_delim
 BUILD_PLUGIN_USERS_FALSE!$BUILD_PLUGIN_USERS_FALSE$ac_delim
+BUILD_PLUGIN_UUID_TRUE!$BUILD_PLUGIN_UUID_TRUE$ac_delim
+BUILD_PLUGIN_UUID_FALSE!$BUILD_PLUGIN_UUID_FALSE$ac_delim
 BUILD_PLUGIN_VSERVER_TRUE!$BUILD_PLUGIN_VSERVER_TRUE$ac_delim
 BUILD_PLUGIN_VSERVER_FALSE!$BUILD_PLUGIN_VSERVER_FALSE$ac_delim
 BUILD_PLUGIN_WIRELESS_TRUE!$BUILD_PLUGIN_WIRELESS_TRUE$ac_delim
 BUILD_PLUGIN_WIRELESS_FALSE!$BUILD_PLUGIN_WIRELESS_FALSE$ac_delim
 BUILD_PLUGIN_XMMS_TRUE!$BUILD_PLUGIN_XMMS_TRUE$ac_delim
 BUILD_PLUGIN_XMMS_FALSE!$BUILD_PLUGIN_XMMS_FALSE$ac_delim
 PERL_BINDINGS!$PERL_BINDINGS$ac_delim
 PERL_BINDINGS_OPTIONS!$PERL_BINDINGS_OPTIONS$ac_delim
 LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 89; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
@@ -39284,27 +39909,25 @@
   ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
   ac_eof=`expr $ac_eof + 1`
 fi
 
 cat >>$CONFIG_STATUS <<_ACEOF
 cat >"\$tmp/subs-3.sed" <<\CEOF$ac_eof
-/@[a-zA-Z_][a-zA-Z_0-9]*@/!b end
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
 _ACEOF
 sed '
 s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
 s/^/s,@/; s/!/@,|#_!!_#|/
 :n
 t n
 s/'"$ac_delim"'$/,g/; t
 s/$/\\/; p
 N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
 ' >>$CONFIG_STATUS <conf$$subs.sed
 rm -f conf$$subs.sed
 cat >>$CONFIG_STATUS <<_ACEOF
-:end
-s/|#_!!_#|//g
 CEOF$ac_eof
 _ACEOF
 
 
 # VPATH may cause trouble with some makes, so we remove $(srcdir),
 # ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
@@ -39492,17 +40115,12 @@
   #
 
   case $INSTALL in
   [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
   *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
   esac
-  ac_MKDIR_P=$MKDIR_P
-  case $MKDIR_P in
-  [\\/$]* | ?:[\\/]* ) ;;
-  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;
-  esac
 _ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF
 # If the template does not know about datarootdir, expand it.
 # FIXME: This hack should be removed a few years after 2.60.
 ac_datarootdir_hack=; ac_datarootdir_seen=
@@ -39550,15 +40168,14 @@
 s&@top_srcdir@&$ac_top_srcdir&;t t
 s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
 s&@builddir@&$ac_builddir&;t t
 s&@abs_builddir@&$ac_abs_builddir&;t t
 s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
 s&@INSTALL@&$ac_INSTALL&;t t
-s&@MKDIR_P@&$ac_MKDIR_P&;t t
 $ac_datarootdir_hack
-" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" | sed -f "$tmp/subs-3.sed" >$tmp/out
+" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" | sed -f "$tmp/subs-3.sed" | sed 's/|#_!!_#|//g' >$tmp/out
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
   { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
   { echo "$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
 which seems to be undefined.  Please make sure it is defined." >&5
@@ -39666,28 +40283,27 @@
   else
     echo "/* $configure_input  */"
     cat "$ac_result"
   fi
   rm -f "$tmp/out12"
 # Compute $ac_file's index in $config_headers.
-_am_arg=$ac_file
 _am_stamp_count=1
 for _am_header in $config_headers :; do
   case $_am_header in
-    $_am_arg | $_am_arg:* )
+    $ac_file | $ac_file:* )
       break ;;
     * )
       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
   esac
 done
-echo "timestamp for $_am_arg" >`$as_dirname -- "$_am_arg" ||
-$as_expr X"$_am_arg" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$_am_arg" : 'X\(//\)[^/]' \| \
-	 X"$_am_arg" : 'X\(//\)$' \| \
-	 X"$_am_arg" : 'X\(/\)' \| . 2>/dev/null ||
-echo X"$_am_arg" |
+echo "timestamp for $ac_file" >`$as_dirname -- $ac_file ||
+$as_expr X$ac_file : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X$ac_file : 'X\(//\)[^/]' \| \
+	 X$ac_file : 'X\(//\)$' \| \
+	 X$ac_file : 'X\(/\)' \| . 2>/dev/null ||
+echo X$ac_file |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
 	    s//\1/
 	    q
 	  }
 	  /^X\(\/\/\)[^/].*/{
 	    s//\1/
@@ -39716,15 +40332,14 @@
   mf=`echo "$mf" | sed -e 's/:.*$//'`
   # Check whether this is an Automake generated Makefile or not.
   # We used to match only the files named `Makefile.in', but
   # some people rename them; so instead we look at the file content.
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
-  # Grep'ing the whole file is not good either: AIX grep has a line
-  # limit of 2048, but all sed's we know have understand at least 4000.
-  if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
+  # So let's grep whole file.
+  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
     dirpart=`$as_dirname -- "$mf" ||
 $as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$mf" : 'X\(//\)[^/]' \| \
 	 X"$mf" : 'X\(//\)$' \| \
 	 X"$mf" : 'X\(/\)' \| . 2>/dev/null ||
 echo X"$mf" |
@@ -40045,12 +40660,17 @@
 
     cd "$ac_popdir"
   done
 fi
 
 
+if test "x$with_rrdtool" = "xyes" -a "x$librrd_threadsafe" != "xyes"
+then
+	with_rrdtool="yes (warning: librrd is not thread-safe)"
+fi
+
 if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
 if test "x$with_libperl" = "xyes"
@@ -40083,12 +40703,14 @@
     libperl . . . . . . $with_libperl
     libpthread  . . . . $with_libpthread
     librrd  . . . . . . $with_rrdtool
     libsensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libupsclient  . . . $with_libupsclient
+    libvirt . . . . . . $with_libvirt
+    libxml2 . . . . . . $with_libxml2
     libxmms . . . . . . $with_libxmms
 
   Features:
     daemon mode . . . . $enable_daemon
     debug . . . . . . . $enable_debug
 
@@ -40111,12 +40733,13 @@
     exec  . . . . . . . $enable_exec
     hddtemp . . . . . . $enable_hddtemp
     interface . . . . . $enable_interface
     iptables  . . . . . $enable_iptables
     ipvs  . . . . . . . $enable_ipvs
     irq . . . . . . . . $enable_irq
+    libvirt . . . . . . $enable_libvirt
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
     memcached . . . . . $enable_memcached
     memory  . . . . . . $enable_memory
     multimeter  . . . . $enable_multimeter
@@ -40137,11 +40760,12 @@
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
     tape  . . . . . . . $enable_tape
     tcpconns  . . . . . $enable_tcpconns
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
+    uuid  . . . . . . . $enable_uuid
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
 EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/configure.in	2008-04-23 19:52:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/configure.in	2008-02-20 03:27:35.000000000 +0800
@@ -14,12 +14,13 @@
 #
 AC_PROG_CC
 AC_PROG_CPP
 AC_PROG_INSTALL
 AC_PROG_LN_S
 AC_PROG_MAKE_SET
+AM_PROG_CC_C_O
 AM_CONDITIONAL(COMPILER_IS_GCC, test "x$GCC" = "xyes")
 
 dnl configure libtool
 AC_DISABLE_STATIC
 AC_LIBLTDL_CONVENIENCE
 AC_SUBST(LTDLINCL)
@@ -52,13 +53,13 @@
 # Checks for header files.
 #
 AC_HEADER_STDC
 AC_HEADER_SYS_WAIT
 AC_HEADER_DIRENT
 
-AC_CHECK_HEADERS(stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h endian.h)
+AC_CHECK_HEADERS(stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h)
 
 # For ping library
 AC_CHECK_HEADERS(netinet/in_systm.h, [], [],
 [#if HAVE_STDINT_H
 # include <stdint.h>
 #endif
@@ -307,13 +308,13 @@
 [
 #if HAVE_SYS_SOCKET_H
 #	include <sys/socket.h>
 #endif
 ])
 
-AC_CHECK_HEADERS(pwd.h grp.h sys/un.h ctype.h limits.h sys/quota.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h kvm.h)
+AC_CHECK_HEADERS(pwd.h grp.h sys/un.h ctype.h limits.h sys/quota.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h kvm.h wordexp.h)
 
 # For the dns plugin
 AC_CHECK_HEADERS(arpa/nameser.h)
 AC_CHECK_HEADERS(arpa/nameser_compat.h, [], [],
 [
 #if HAVE_ARPA_NAMESER_H
@@ -368,84 +369,25 @@
 #
 AC_PROG_GCC_TRADITIONAL
 AC_CHECK_FUNCS(gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog)
 
 AC_FUNC_STRERROR_R
 
-AC_CACHE_CHECK([for strtok_r],
-  [have_strtok_r_default],
-  AC_LINK_IFELSE(
-    AC_LANG_PROGRAM(
-    [[[[
-#include <stdlib.h>
-#include <stdio.h>
-#include <string.h>
-    ]]]],
-    [[[[
-      char buffer[] = "foo,bar,baz";
-      char *token;
-      char *dummy;
-      char *saveptr;
-
-      dummy = buffer;
-      saveptr = NULL;
-      while ((token = strtok_r (dummy, ",", &saveptr)) != NULL)
-      {
-	dummy = NULL;
-        printf ("token = %s;\n", token);
-      }
-    ]]]]),
-    [have_strtok_r_default="yes"],
-    [have_strtok_r_default="no"]
-  )
-)
-
-if test "x$have_strtok_r_default" = "xno"
-then
-  SAVE_CFLAGS="$CFLAGS"
-  CFLAGS="$CFLAGS -D_REENTRANT=1"
-
-  AC_CACHE_CHECK([if strtok_r needs _REENTRANT],
-    [have_strtok_r_reentrant],
-    AC_LINK_IFELSE(
-      AC_LANG_PROGRAM(
-      [[[[
-#include <stdlib.h>
-#include <stdio.h>
-#include <string.h>
-      ]]]],
-      [[[[
-        char buffer[] = "foo,bar,baz";
-        char *token;
-        char *dummy;
-        char *saveptr;
-
-        dummy = buffer;
-        saveptr = NULL;
-        while ((token = strtok_r (dummy, ",", &saveptr)) != NULL)
-        {
-	  dummy = NULL;
-          printf ("token = %s;\n", token);
-        }
-      ]]]]),
-      [have_strtok_r_reentrant="yes"],
-      [AC_MSG_FAILURE([strtok_r isn't available. Please file a bugreport!])]
-    )
-  )
-fi
-
-AC_CHECK_FUNCS(getpwnam_r getgrnam_r setgroups regcomp regerror regexec regfree)
+AC_CHECK_FUNCS(getpwnam_r)
+AC_CHECK_FUNCS(getgrnam_r)
 
 socket_needs_socket="no"
 AC_CHECK_FUNCS(socket, [], AC_CHECK_LIB(socket, socket, [socket_needs_socket="yes"], AC_MSG_ERROR(cannot find socket)))
 AM_CONDITIONAL(BUILD_WITH_LIBSOCKET, test "x$socket_needs_socket" = "xyes")
 
 nanosleep_needs_rt="no"
 AC_CHECK_FUNCS(nanosleep, [], AC_CHECK_LIB(rt, nanosleep, [nanosleep_needs_rt="yes"], AC_MSG_ERROR(cannot find nanosleep)))
 AM_CONDITIONAL(BUILD_WITH_LIBRT, test "x$nanosleep_needs_rt" = "xyes")
 
+AC_CHECK_FUNCS(regcomp regerror regexec regfree)
+
 AC_CHECK_FUNCS(sysctlbyname, [have_sysctlbyname="yes"], [have_sysctlbyname="no"])
 AC_CHECK_FUNCS(host_statistics, [have_host_statistics="yes"], [have_host_statistics="no"])
 AC_CHECK_FUNCS(processor_info, [have_processor_info="yes"], [have_processor_info="no"])
 AC_CHECK_FUNCS(thread_info, [have_thread_info="yes"], [have_thread_info="no"])
 AC_CHECK_FUNCS(statfs, [have_statfs="yes"], [have_statfs="no"])
 AC_CHECK_FUNCS(statvfs, [have_statvfs="yes"], [have_statvfs="no"])
@@ -563,166 +505,14 @@
   AC_DEFINE(NAN_ZERO_ZERO, 1,
     [Define if NAN can be defined as (0.0 / 0.0)])
 else
   AC_MSG_ERROR([Didn't find out how to statically initialize variables to NAN. Sorry.])
 fi; fi; fi
 
-AC_ARG_WITH(fp-layout, [AS_HELP_STRING([--with-fp-layout], [set the memory layout of doubles. For crosscompiling only.])],
-[
- if test "x$withval" = "xnothing"; then
- 	fp_layout_type="nothing"
- else if test "x$withval" = "xendianflip"; then
- 	fp_layout_type="endianflip"
- else if test "x$withval" = "xintswap"; then
- 	fp_layout_type="intswap"
- else
- 	AC_MSG_ERROR([Invalid argument for --with-fp-layout. Valid arguments are: nothing, endianflip, intswap]);
-fi; fi; fi
-],
-[fp_layout_type="unknown"])
-
-if test "x$fp_layout_type" = "xunknown"; then
-  AC_CACHE_CHECK([if doubles are stored in x86 representation],
-    [fp_layout_need_nothing],
-    AC_RUN_IFELSE(
-      AC_LANG_PROGRAM(
-      [[[[
-#include <stdlib.h>
-#include <stdio.h>
-#include <stdint.h>
-#include <string.h>
-      ]]]],
-      [[[[
-	uint64_t i0;
-	uint64_t i1;
-	uint8_t c[8];
-	double d;
-
-	d = 8.642135e130; 
-	memcpy ((void *) &i0, (void *) &d, 8);
-
-	i1 = i0;
-	memcpy ((void *) c, (void *) &i1, 8);
-
-	if ((c[0] == 0x2f) && (c[1] == 0x25)
-			&& (c[2] == 0xc0) && (c[3] == 0xc7)
-			&& (c[4] == 0x43) && (c[5] == 0x2b)
-			&& (c[6] == 0x1f) && (c[7] == 0x5b))
-		return (0);
-	else
-		return (1);
-      ]]]]),
-      [fp_layout_need_nothing="yes"],
-      [fp_layout_need_nothing="no"]
-    )
-  )
-  if test "x$fp_layout_need_nothing" = "xyes"; then
-    fp_layout_type="nothing"
-  fi
-fi
-if test "x$fp_layout_type" = "xunknown"; then
-  AC_CACHE_CHECK([if endianflip converts to x86 representation],
-    [fp_layout_need_endianflip],
-    AC_RUN_IFELSE(
-      AC_LANG_PROGRAM(
-      [[[[
-#include <stdlib.h>
-#include <stdio.h>
-#include <stdint.h>
-#include <string.h>
-#define endianflip(A) ((((uint64_t)(A) & 0xff00000000000000LL) >> 56) | \
-                       (((uint64_t)(A) & 0x00ff000000000000LL) >> 40) | \
-                       (((uint64_t)(A) & 0x0000ff0000000000LL) >> 24) | \
-                       (((uint64_t)(A) & 0x000000ff00000000LL) >> 8)  | \
-                       (((uint64_t)(A) & 0x00000000ff000000LL) << 8)  | \
-                       (((uint64_t)(A) & 0x0000000000ff0000LL) << 24) | \
-                       (((uint64_t)(A) & 0x000000000000ff00LL) << 40) | \
-                       (((uint64_t)(A) & 0x00000000000000ffLL) << 56))
-      ]]]],
-      [[[[
-	uint64_t i0;
-	uint64_t i1;
-	uint8_t c[8];
-	double d;
-
-	d = 8.642135e130; 
-	memcpy ((void *) &i0, (void *) &d, 8);
-
-	i1 = endianflip (i0);
-	memcpy ((void *) c, (void *) &i1, 8);
-
-	if ((c[0] == 0x2f) && (c[1] == 0x25)
-			&& (c[2] == 0xc0) && (c[3] == 0xc7)
-			&& (c[4] == 0x43) && (c[5] == 0x2b)
-			&& (c[6] == 0x1f) && (c[7] == 0x5b))
-		return (0);
-	else
-		return (1);
-      ]]]]),
-      [fp_layout_need_endianflip="yes"],
-      [fp_layout_need_endianflip="no"]
-    )
-  )
-  if test "x$fp_layout_need_endianflip" = "xyes"; then
-    fp_layout_type="endianflip"
-  fi
-fi
-if test "x$fp_layout_type" = "xunknown"; then
-  AC_CACHE_CHECK([if intswap converts to x86 representation],
-    [fp_layout_need_intswap],
-    AC_RUN_IFELSE(
-      AC_LANG_PROGRAM(
-      [[[[
-#include <stdlib.h>
-#include <stdio.h>
-#include <stdint.h>
-#include <string.h>
-#define intswap(A)    ((((uint64_t)(A) & 0xffffffff00000000LL) >> 32) | \
-                       (((uint64_t)(A) & 0x00000000ffffffffLL) << 32))
-      ]]]],
-      [[[[
-	uint64_t i0;
-	uint64_t i1;
-	uint8_t c[8];
-	double d;
-
-	d = 8.642135e130; 
-	memcpy ((void *) &i0, (void *) &d, 8);
-
-	i1 = intswap (i0);
-	memcpy ((void *) c, (void *) &i1, 8);
-
-	if ((c[0] == 0x2f) && (c[1] == 0x25)
-			&& (c[2] == 0xc0) && (c[3] == 0xc7)
-			&& (c[4] == 0x43) && (c[5] == 0x2b)
-			&& (c[6] == 0x1f) && (c[7] == 0x5b))
-		return (0);
-	else
-		return (1);
-      ]]]]),
-      [fp_layout_need_intswap="yes"],
-      [fp_layout_need_intswap="no"]
-    )
-  )
-  if test "x$fp_layout_need_intswap" = "xyes"; then
-    fp_layout_type="intswap"
-  fi
-fi
-
-if test "x$fp_layout_type" = "xnothing"; then
-  AC_DEFINE(FP_LAYOUT_NEED_NOTHING, 1,
-  [Define if doubles are stored in x86 representation.])
-else if test "x$fp_layout_type" = "xendianflip"; then
-  AC_DEFINE(FP_LAYOUT_NEED_ENDIANFLIP, 1,
-  [Define if endianflip is needed to convert to x86 representation.])
-else if test "x$fp_layout_type" = "xintswap"; then
-  AC_DEFINE(FP_LAYOUT_NEED_INTSWAP, 1,
-  [Define if intswap is needed to convert to x86 representation.])
-else
-  AC_MSG_ERROR([Didn't find out how doubles are stored in memory. Sorry.])
-fi; fi; fi
+# For mount interface
+#AC_CHECK_FUNCS(getfsent getvfsent)
 
 have_getfsstat="no"
 AC_CHECK_FUNCS(getfsstat, [have_getfsstat="yes"])
 have_getvfsstat="no"
 AC_CHECK_FUNCS(getvfsstat, [have_getvfsstat="yes"])
 have_listmntent="no"
@@ -877,12 +667,26 @@
 [
 	AC_DEFINE(HAVE_LIBRESOLV, 1, [Define to 1 if you have the 'resolv' library (-lresolv).])
 ],
 [with_libresolv="no"])
 AM_CONDITIONAL(BUILD_WITH_LIBRESOLV, test "x$with_libresolv" = "xyes")
 
+dnl Check for HAL (hardware abstraction library)
+with_libhal="yes"
+AC_CHECK_LIB(hal,libhal_device_property_exists,
+	     [AC_DEFINE(HAVE_LIBHAL, 1, [Define to 1 if you have 'hal' library])],
+	     [with_libhal="no"])
+if test "x$with_libhal" = "xyes"; then
+	PKG_PROG_PKG_CONFIG
+	if test "x$PKG_CONFIG" != "x"; then
+		BUILD_WITH_LIBHAL_CFLAGS="`pkg-config --cflags hal`"
+		BUILD_WITH_LIBHAL_LIBS="`pkg-config --libs hal`"
+		AC_SUBST(BUILD_WITH_LIBHAL_CFLAGS)
+		AC_SUBST(BUILD_WITH_LIBHAL_LIBS)
+	fi
+fi
 
 m4_divert_once([HELP_WITH], [
 collectd additional packages:])
 
 # AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
 librrd_cflags=""
@@ -891,12 +695,14 @@
 AC_ARG_WITH(rrdtool, [AS_HELP_STRING([--with-rrdtool@<:@=PREFIX@:>@], [Path to rrdtool.])],
 [	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		librrd_cflags="-I$withval/include"
 		librrd_ldflags="-L$withval/lib"
 		with_rrdtool="yes"
+	else
+		with_rrdtool="$withval"
 	fi
 ], [with_rrdtool="yes"])
 if test "x$with_rrdtool" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
 	SAVE_LDFLAGS="$LDFLAGS"
@@ -925,13 +731,13 @@
 	 AC_CHECK_LIB(rrd, rrd_update,
 	 [with_rrdtool="yes"
 	  librrd_ldflags="$librrd_ldflags -lrrd -lm"
 	 ],
 	 [with_rrdtool="no (symbol 'rrd_update' not found)"],
 	 [-lm])
-	],
+	]
 	[-lm])
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 	LDFLAGS="$SAVE_LDFLAGS"
 fi
 if test "x$with_rrdtool" = "xyes"
@@ -1037,18 +843,18 @@
 	curl_config_status=$?
 
 	if test $curl_config_status -ne 0
 	then
 		with_libcurl="no ($with_curl_config failed)"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_curl_cflags"
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_curl_cflags"
 
 		AC_CHECK_HEADERS(curl/curl.h, [], [with_libcurl="no (curl/curl.h not found)"], [])
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
+		CFLAGS="$SAVE_CFLAGS"
 	fi
 fi
 if test "x$with_libcurl" = "xyes"
 then
 	with_curl_libs=`$with_curl_config --libs 2>/dev/null`
 	curl_config_status=$?
@@ -1076,27 +882,31 @@
 with_libiokit="no"
 collectd_libiokit=0
 AC_CHECK_LIB(IOKit, IOServiceGetMatchingServices,
 [
 	with_libiokit="yes"
 	collectd_libiokit=1
-], 
+],
 [
 	with_libiokit="no"
 	collectd_libiokit=0
 ])
 AC_DEFINE_UNQUOTED(COLLECT_LIBIOKIT, [$collect_libiokit], [Wether or not to use the IOKit library])
 AM_CONDITIONAL(BUILD_WITH_LIBIOKIT, test "x$with_libiokit" = "xyes")
 
+with_libstatgrab="yes"
+with_libdevstat="no"
 AC_ARG_WITH(libstatgrab, [AS_HELP_STRING([--with-libstatgrab@<:@=PREFIX@:>@], [Path to libstatgrab.])],
 [
 	if test "x$withval" != "xno" -a "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libstatgrab="yes"
+	else
+		with_libstatgrab="$withval"
 	fi
 ],
 [
 	if test "x$ac_system" == "xunknown"
 	then
 		with_libstatgrab="yes"
@@ -1229,18 +1039,18 @@
 	mysql_config_status=$?
 
 	if test $mysql_config_status -ne 0
 	then
 		with_libmysql="no"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_mysql_cflags"
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_mysql_cflags"
 
 		AC_CHECK_HEADERS(mysql/mysql.h, [], [with_libmysql="no (mysql/mysql.h not found)"], [])
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
+		CFLAGS="$SAVE_CFLAGS"
 	fi
 fi
 if test "x$with_libmysql" = "xyes"
 then
 	with_mysql_libs=`$with_mysql_config --libs 2>/dev/null`
 	mysql_config_status=$?
@@ -1329,16 +1139,18 @@
 		fi
 	fi
 	if test "x$withval" = "xno"
 	then
 		with_liboping="no"
 		with_own_liboping="no"
-	fi
+	else if test "x$withval" = "xyes"
+	then
+		with_liboping="yes"
+	fi; fi
 ],
 [
- 	#753
 	with_liboping="yes"
 ])
 
 if test "x$with_liboping" = "xyes"
 then
 	save_LDFLAGS="$LDFLAGS"
@@ -1364,12 +1176,14 @@
 [
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libpcap="yes"
+	else
+		with_libpcap="$withval"
 	fi
 ],
 [
 	with_libpcap="yes"
 ])
 if test "x$with_libpcap" = "xyes"
@@ -1402,31 +1216,23 @@
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		perl_interpreter="$withval/bin/perl"
 		with_libperl="yes"
+	else
+		with_libperl="$withval"
 	fi
 ],
 [
 	with_libperl="yes"
 ])
 
-AC_MSG_CHECKING([for perl])
-perl_interpreter=`which "$perl_interpreter" 2> /dev/null`
-if test -x "$perl_interpreter"
-then
-	AC_MSG_RESULT([yes])
-else
-	perl_interpreter=""
-	AC_MSG_RESULT([no])
-fi
-
 AC_SUBST(PERL, "$perl_interpreter")
 
-if test "x$with_libperl" = "xyes" -a -n "$perl_interpreter"
+if test "x$with_libperl" = "xyes"
 then
   SAVE_CFLAGS=$CFLAGS
   SAVE_LDFLAGS=$LDFLAGS
   PERL_CFLAGS=`$perl_interpreter -MExtUtils::Embed -e ccopts`
   PERL_LDFLAGS=`$perl_interpreter -MExtUtils::Embed -e ldopts`
   CFLAGS="$CFLAGS $PERL_CFLAGS"
@@ -1460,25 +1266,59 @@
   else
 	  with_libperl="no"
   fi
 
   CFLAGS=$SAVE_CFLAGS
   LDFLAGS=$SAVE_LDFLAGS
-else if test -z "$perl_interpreter"; then
-  with_libperl="no (no perl interpreter found)"
-  have_libperl="no"
-fi; fi
+fi
 AM_CONDITIONAL(BUILD_WITH_LIBPERL, test "x$with_libperl" = "xyes")
 
+if test "x$with_libperl" = "xyes"
+then
+	SAVE_CFLAGS=$CFLAGS
+	SAVE_LDFLAGS=$LDFLAGS
+	CFLAGS="$CFLAGS $PERL_CFLAGS"
+	LDFLAGS="$LDFLAGS $PERL_LDFLAGS"
+
+	AC_CACHE_CHECK([if perl supports ithreads],
+		[have_perl_ithreads],
+		AC_LINK_IFELSE(
+			AC_LANG_PROGRAM(
+			[[
+#include <EXTERN.h>
+#include <perl.h>
+#include <XSUB.h>
+
+#if !defined(USE_ITHREADS)
+# error "Perl does not support ithreads!"
+#endif /* !defined(USE_ITHREADS) */
+			]],
+			[[ ]]),
+			[have_perl_ithreads="yes"],
+			[have_perl_ithreads="no"]
+		)
+	)
+
+	if test "x$have_perl_ithreads" = "xyes"
+	then
+		AC_DEFINE(HAVE_PERL_ITHREADS, 1, [Define if Perl supports ithreads.])
+	fi
+
+	CFLAGS=$SAVE_CFLAGS
+	LDFLAGS=$SAVE_LDFLAGS
+fi
+
 AC_ARG_WITH(libiptc, [AS_HELP_STRING([--with-libiptc@<:@=PREFIX@:>@], [Path to libiptc.])],
 [
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libiptc="yes"
+	else
+		with_libiptc="$withval"
 	fi
 ],
 [
  	if test "x$ac_system" = "xLinux"
 	then
 		with_libiptc="yes"
@@ -1537,18 +1377,18 @@
 	snmp_config_status=$?
 
 	if test $snmp_config_status -ne 0
 	then
 		with_libnetsnmp="no ($with_snmp_config failed)"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_snmp_cflags"
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_snmp_cflags"
 		
 		AC_CHECK_HEADERS(net-snmp/net-snmp-config.h, [], [with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"])
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
+		CFLAGS="$SAVE_CFLAGS"
 	fi
 fi
 if test "x$with_libnetsnmp" = "xyes"
 then
 	with_snmp_libs=`$with_snmp_config --libs 2>/dev/null`
 	snmp_config_status=$?
@@ -1605,18 +1445,18 @@
 	then
 		with_libupsclient="no ($with_upsclient_config failed)"
 	fi
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
+	SAVE_CFLAGS="$CFLAGS"
+	CFLAGS="$CFLAGS $with_upsclient_cflags"
 
 	AC_CHECK_HEADERS(upsclient.h, [], [with_libupsclient="no (upsclient.h not found)"])
 
-	CPPFLAGS="$SAVE_CPPFLAGS"
+	CFLAGS="$SAVE_CFLAGS"
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	with_upsclient_libs=`$with_upsclient_config --libs 2>/dev/null`
 	upsclient_config_status=$?
 
@@ -1637,21 +1477,16 @@
 	[
 		with_libupsclient="no (symbol 'upscli_connect' not found)"
 	], [$with_upsclient_libs])
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
-
-	AC_CHECK_TYPES([UPSCONN_t, UPSCONN], [], [], 
+	AC_CHECK_TYPES([UPSCONN_t, UPSCONN], [], [],
 [#include <stdlib.h>
 #include <stdio.h>
 #include <upsclient.h>])
-
-	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBUPSCLIENT, test "x$with_libupsclient" = "xyes")
 
 ### BEGIN of check for libxmms ###
 with_xmms_config="xmms-config"
 with_xmms_cflags=""
@@ -1822,12 +1657,131 @@
 	BUILD_WITH_LIBNETLINK_LIBS="$with_libnetlink_libs"
 	AC_SUBST(BUILD_WITH_LIBNETLINK_CFLAGS)
 	AC_SUBST(BUILD_WITH_LIBNETLINK_LIBS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBNETLINK, test "x$with_libnetlink" = "xyes")
 
+dnl Check for libvirt and libxml2 libraries.
+with_libxml2="no (pkg-config isn't available)"
+with_libxml2_cflags=""
+with_libxml2_ldflags=""
+with_libvirt="no (pkg-config isn't available)"
+with_libvirt_cflags=""
+with_libvirt_ldflags=""
+PKG_PROG_PKG_CONFIG
+if test "x$PKG_CONFIG" != "x"
+then
+	pkg-config --exists 'libxml-2.0' 2>/dev/null
+	if test "$?" = "0"
+	then
+		with_libxml2="yes"
+	else
+		with_libxml2="no (pkg-config doesn't know library)"
+	fi
+
+	pkg-config --exists libvirt 2>/dev/null
+	if test "$?" = "0"
+	then
+		with_libvirt="yes"
+	else
+		with_libvirt="no (pkg-config doesn't know library)"
+	fi
+fi
+if test "x$with_libxml2" = "xyes"
+then
+	with_libxml2_cflags="`pkg-config --cflags libxml-2.0`"
+	if test $? -ne 0
+	then
+		with_libxml2="no"
+	fi
+	with_libxml2_ldflags="`pkg-config --libs libxml-2.0`"
+	if test $? -ne 0
+	then
+		with_libxml2="no"
+	fi
+fi
+if test "x$with_libxml2" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libxml2_cflags"
+
+	AC_CHECK_HEADERS(libxml/parser.h, [],
+		      [with_libxml2="no (libxml/parser.h not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libxml2" = "xyes"
+then
+	SAVE_CFLAGS="$CFLAGS"
+	SAVE_LD_FLAGS="$LDFLAGS"
+
+	CFLAGS="$CFLAGS $with_libxml2_cflags"
+	LDFLAGS="$LDFLAGS $with_libxml2_ldflags"
+
+	AC_CHECK_LIB(xml2, xmlXPathEval,
+		     [with_libxml2="yes"],
+		     [with_libxml2="no (symbol xmlXPathEval not found)"])
+
+	CFLAGS="$SAVE_CFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+dnl Add the right compiler flags and libraries.
+if test "x$with_libxml2" = "xyes"; then
+	BUILD_WITH_LIBXML2_CFLAGS="$with_libxml2_cflags"
+	BUILD_WITH_LIBXML2_LIBS="$with_libxml2_ldflags"
+	AC_SUBST(BUILD_WITH_LIBXML2_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBXML2_LIBS)
+fi
+if test "x$with_libvirt" = "xyes"
+then
+	with_libvirt_cflags="`pkg-config --cflags libvirt`"
+	if test $? -ne 0
+	then
+		with_libvirt="no"
+	fi
+	with_libvirt_ldflags="`pkg-config --libs libvirt`"
+	if test $? -ne 0
+	then
+		with_libvirt="no"
+	fi
+fi
+if test "x$with_libvirt" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libvirt_cflags"
+
+	AC_CHECK_HEADERS(libvirt/libvirt.h, [],
+		      [with_libvirt="no (libvirt/libvirt.h not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libvirt" = "xyes"
+then
+	SAVE_CFLAGS="$CFLAGS"
+	SAVE_LD_FLAGS="$LDFLAGS"
+
+	CFLAGS="$CFLAGS $with_libvirt_cflags"
+	LDFLAGS="$LDFLAGS $with_libvirt_ldflags"
+
+	AC_CHECK_LIB(virt, virDomainBlockStats,
+		     [with_libvirt="yes"],
+		     [with_libvirt="no (symbol virDomainBlockStats not found)"])
+
+	CFLAGS="$SAVE_CFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+dnl Add the right compiler flags and libraries.
+if test "x$with_libvirt" = "xyes"; then
+	BUILD_WITH_LIBVIRT_CFLAGS="$with_libvirt_cflags"
+	BUILD_WITH_LIBVIRT_LIBS="$with_libvirt_ldflags"
+	AC_SUBST(BUILD_WITH_LIBVIRT_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBVIRT_LIBS)
+fi
+
+dnl End of check for libvirt and libxml2 libraries.
+
 # Check for enabled/disabled features
 #
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
 # ------------------------------------------------------------
 dnl
@@ -1934,16 +1888,18 @@
 plugin_df="no"
 plugin_disk="no"
 plugin_entropy="no"
 plugin_interface="no"
 plugin_ipvs="no"
 plugin_irq="no"
+plugin_libvirt="no"
 plugin_load="no"
 plugin_memory="no"
 plugin_multimeter="no"
 plugin_nfs="no"
+plugin_perl="no"
 plugin_processes="no"
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
 plugin_tcpconns="no"
 plugin_users="no"
@@ -2025,17 +1981,27 @@
 
 if test "x$have_getifaddrs" = "xyes"
 then
 	plugin_interface="yes"
 fi
 
+if test "x$with_libxml2" = "xyes" && test "x$with_libvirt" = "xyes"
+then
+	plugin_libvirt="yes"
+fi
+
 if test "x$have_getloadavg" = "xyes"
 then
 	plugin_load="yes"
 fi
 
+if test "x$have_libperl$have_perl_ithreads" = "xyesyes"
+then
+	plugin_perl="yes"
+fi
+
 # Mac OS X memory interface
 if test "x$have_host_statistics" = "xyes"
 then
 	plugin_memory="yes"
 fi
 
@@ -2083,12 +2049,13 @@
 AC_PLUGIN([exec],        [yes],                [Execution of external programs])
 AC_PLUGIN([hddtemp],     [yes],                [Query hddtempd])
 AC_PLUGIN([interface],   [$plugin_interface],  [Interface traffic statistics])
 AC_PLUGIN([iptables],    [$with_libiptc],      [IPTables rule counters])
 AC_PLUGIN([ipvs],        [$plugin_ipvs],       [IPVS connection statistics])
 AC_PLUGIN([irq],         [$plugin_irq],        [IRQ statistics])
+AC_PLUGIN([libvirt],     [$plugin_libvirt],    [Virtual machine statistics])
 AC_PLUGIN([load],        [$plugin_load],       [System load])
 AC_PLUGIN([logfile],     [yes],                [File logging plugin])
 AC_PLUGIN([mbmon],       [yes],                [Query mbmond])
 AC_PLUGIN([memcached],   [yes],                [memcached statistics])
 AC_PLUGIN([memory],      [$plugin_memory],     [Memory usage])
 AC_PLUGIN([multimeter],  [$plugin_multimeter], [Read multimeter values])
@@ -2096,25 +2063,26 @@
 AC_PLUGIN([netlink],     [$with_libnetlink],   [Enhanced Linux network statistics])
 AC_PLUGIN([network],     [yes],                [Network communication plugin])
 AC_PLUGIN([nfs],         [$plugin_nfs],        [NFS statistics])
 AC_PLUGIN([nginx],       [$with_libcurl],      [nginx statistics])
 AC_PLUGIN([ntpd],        [yes],                [NTPd statistics])
 AC_PLUGIN([nut],         [$with_libupsclient], [Network UPS tools statistics])
-AC_PLUGIN([perl],        [$with_libperl],      [Embed a Perl interpreter])
+AC_PLUGIN([perl],        [$plugin_perl],       [Embed a Perl interpreter])
 AC_PLUGIN([ping],        [$with_liboping],     [Network latency statistics])
 AC_PLUGIN([processes],   [$plugin_processes],  [Process statistics])
 AC_PLUGIN([rrdtool],     [$with_rrdtool],      [RRDTool output plugin])
 AC_PLUGIN([sensors],     [$with_lm_sensors],   [lm_sensors statistics])
 AC_PLUGIN([serial],      [$plugin_serial],     [serial port traffic])
 AC_PLUGIN([snmp],        [$with_libnetsnmp],   [SNMP querying plugin])
 AC_PLUGIN([swap],        [$plugin_swap],       [Swap usage statistics])
 AC_PLUGIN([syslog],      [$have_syslog],       [Syslog logging plugin])
 AC_PLUGIN([tape],        [$plugin_tape],       [Tape drive statistics])
 AC_PLUGIN([tcpconns],    [$plugin_tcpconns],   [TCP connection statistics])
 AC_PLUGIN([unixsock],    [yes],                [Unixsock communication plugin])
 AC_PLUGIN([users],       [$plugin_users],      [User statistics])
+AC_PLUGIN([uuid],        [yes],                [UUID as hostname plugin])
 AC_PLUGIN([vserver],     [$plugin_vserver],    [Linux VServer statistics])
 AC_PLUGIN([wireless],    [$plugin_wireless],   [Wireless statistics])
 AC_PLUGIN([xmms],        [$with_libxmms],      [XMMS statistics])
 
 dnl ip_vs.h
 if test "x$ac_system" = "xLinux" -a "x$have_net_ip_vs_h$have_ip_vs_h" = "xnono"
@@ -2133,30 +2101,30 @@
 		PERL_BINDINGS_OPTIONS=""
 		with_perl_bindings="$withval"
 	fi
 ],
 [
 	PERL_BINDINGS_OPTIONS=""
-	if test -n "$perl_interpreter"
-	then
-		with_perl_bindings="yes"
-	else
-		with_perl_bindings="no (no perl interpreter found)"
-	fi
+	with_perl_bindings="yes"
 ])
 if test "x$with_perl_bindings" = "xyes"
 then
 	PERL_BINDINGS="perl"
 else
 	PERL_BINDINGS=""
 fi
 AC_SUBST(PERL_BINDINGS)
 AC_SUBST(PERL_BINDINGS_OPTIONS)
 
 AC_OUTPUT(Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile)
 
+if test "x$with_rrdtool" = "xyes" -a "x$librrd_threadsafe" != "xyes"
+then
+	with_rrdtool="yes (warning: librrd is not thread-safe)"
+fi
+
 if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
 if test "x$with_libperl" = "xyes"
@@ -2189,12 +2157,14 @@
     libperl . . . . . . $with_libperl
     libpthread  . . . . $with_libpthread
     librrd  . . . . . . $with_rrdtool
     libsensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libupsclient  . . . $with_libupsclient
+    libvirt . . . . . . $with_libvirt
+    libxml2 . . . . . . $with_libxml2
     libxmms . . . . . . $with_libxmms
 
   Features:
     daemon mode . . . . $enable_daemon
     debug . . . . . . . $enable_debug
 
@@ -2217,12 +2187,13 @@
     exec  . . . . . . . $enable_exec
     hddtemp . . . . . . $enable_hddtemp
     interface . . . . . $enable_interface
     iptables  . . . . . $enable_iptables
     ipvs  . . . . . . . $enable_ipvs
     irq . . . . . . . . $enable_irq
+    libvirt . . . . . . $enable_libvirt
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
     memcached . . . . . $enable_memcached
     memory  . . . . . . $enable_memory
     multimeter  . . . . $enable_multimeter
@@ -2243,11 +2214,12 @@
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
     tape  . . . . . . . $enable_tape
     tcpconns  . . . . . $enable_tcpconns
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
+    uuid  . . . . . . . $enable_uuid
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
 EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/collection.cgi	2008-04-23 00:01:03.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/collection.cgi	2008-02-19 03:57:18.000000000 +0800
@@ -410,70 +410,12 @@
 
   $b = $min + (rand () * ($max - $min));
 
   return ([$r, $g, $b]);
 } # _get_random_color
 
-sub _get_n_colors
-{
-	my $instances = shift;
-	my $num = scalar @$instances;
-	my $ret = {};
-
-	for (my $i = 0; $i < $num; $i++)
-	{
-		my $pos = 6 * $i / $num;
-		my $n = int ($pos);
-		my $p = $pos - $n;
-		my $q = 1 - $p;
-
-		my $red   = 0;
-		my $green = 0;
-		my $blue  = 0;
-
-		my $color;
-
-		if ($n == 0)
-		{
-			$red  = 255;
-			$blue = 255 * $p;
-		}
-		elsif ($n == 1)
-		{
-			$red  = 255 * $q;
-			$blue = 255;
-		}
-		elsif ($n == 2)
-		{
-			$green = 255 * $p;
-			$blue  = 255;
-		}
-		elsif ($n == 3)
-		{
-			$green = 255;
-			$blue  = 255 * $q;
-		}
-		elsif ($n == 4)
-		{
-			$red   = 255 * $p;
-			$green = 255;
-		}
-		elsif ($n == 5)
-		{
-			$red   = 255;
-			$green = 255 * $q;
-		}
-		else { die; }
-
-		$color = sprintf ("%02x%02x%02x", $red, $green, $blue);
-		$ret->{$instances->[$i]} = $color;
-	}
-
-	return ($ret);
-} # _get_n_colors
-
 sub _get_faded_color
 {
   my $fg = shift;
   my $bg;
   my %opts = @_;
   my $ret = [undef, undef, undef];
@@ -1191,13 +1133,13 @@
     'GPRINT:out_avg:LAST:%5.1lf%ss Last\l',
     "LINE1:inc_avg#$FullBlue:Read   ",
     'GPRINT:inc_avg:AVERAGE:%5.1lf%ss Avg,',
     'GPRINT:inc_max:MAX:%5.1lf%ss Max,',
     'GPRINT:inc_avg:LAST:%5.1lf%ss Last\l'
     ],
-    dns_octets => ['DEF:rsp_min_raw={file}:responses:MIN',
+    dns_traffic => ['DEF:rsp_min_raw={file}:responses:MIN',
     'DEF:rsp_avg_raw={file}:responses:AVERAGE',
     'DEF:rsp_max_raw={file}:responses:MAX',
     'DEF:qry_min_raw={file}:queries:MIN',
     'DEF:qry_avg_raw={file}:queries:AVERAGE',
     'DEF:qry_max_raw={file}:queries:MAX',
     'CDEF:rsp_min=rsp_min_raw,8,*',
@@ -1226,24 +1168,12 @@
     #'GPRINT:qry_min:MIN:%5.1lf %s Min,',
     'GPRINT:qry_avg:AVERAGE:%5.1lf%s Avg,',
     'GPRINT:qry_max:MAX:%5.1lf%s Max,',
     'GPRINT:qry_avg:LAST:%5.1lf%s Last',
     'GPRINT:qry_avg_sum:LAST:(ca. %5.1lf%sB Total)\l'
     ],
-    dns_opcode => [
-    'DEF:avg={file}:value:AVERAGE',
-    'DEF:min={file}:value:MIN',
-    'DEF:max={file}:value:MAX',
-    "AREA:max#$HalfBlue",
-    "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Queries/s",
-    'GPRINT:min:MIN:%9.3lf Min,',
-    'GPRINT:avg:AVERAGE:%9.3lf Average,',
-    'GPRINT:max:MAX:%9.3lf Max,',
-    'GPRINT:avg:LAST:%9.3lf Last\l'
-    ],
     email_count => ['-v', 'Mails',
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfMagenta",
     "AREA:min#$Canvas",
@@ -1906,12 +1836,24 @@
     'GPRINT:getattr_avg:LAST:%5.1lf Last\l',
     "LINE1:stack_read#$FullBlue:read   ",
     'GPRINT:read_max:MAX:%5.1lf Max,',
     'GPRINT:read_avg:AVERAGE:%5.1lf Avg,',
     'GPRINT:read_avg:LAST:%5.1lf Last\l'
     ],
+    opcode => [
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Queries/s",
+    'GPRINT:min:MIN:%9.3lf Min,',
+    'GPRINT:avg:AVERAGE:%9.3lf Average,',
+    'GPRINT:max:MAX:%9.3lf Max,',
+    'GPRINT:avg:LAST:%9.3lf Last\l'
+    ],
     partition => [
     "DEF:rbyte_avg={file}:rbytes:AVERAGE",
     "DEF:rbyte_min={file}:rbytes:MIN",
     "DEF:rbyte_max={file}:rbytes:MAX",
     "DEF:wbyte_avg={file}:wbytes:AVERAGE",
     "DEF:wbyte_min={file}:wbytes:MIN",
@@ -2115,47 +2057,35 @@
     "LINE1:avg#$FullBlue:Processes",
     'GPRINT:min:MIN:%6.2lf Min,',
     'GPRINT:avg:AVERAGE:%6.2lf Avg,',
     'GPRINT:max:MAX:%6.2lf Max,',
     'GPRINT:avg:LAST:%6.2lf Last\l'
     ],
-    signal_noise => ['-v', 'dBm',
-    'DEF:avg={file}:value:AVERAGE',
-    'DEF:min={file}:value:MIN',
-    'DEF:max={file}:value:MAX',
-    "AREA:max#$HalfBlue",
-    "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Noise",
-    'GPRINT:min:MIN:%5.1lf%sdBm Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf%sdBm Avg,',
-    'GPRINT:max:MAX:%5.1lf%sdBm Max,',
-    'GPRINT:avg:LAST:%5.1lf%sdBm Last\l'
-    ],
-    signal_power => ['-v', 'dBm',
+    qtype => [
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Power",
-    'GPRINT:min:MIN:%5.1lf%sdBm Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf%sdBm Avg,',
-    'GPRINT:max:MAX:%5.1lf%sdBm Max,',
-    'GPRINT:avg:LAST:%5.1lf%sdBm Last\l'
+    "LINE1:avg#$FullBlue:Queries/s",
+    'GPRINT:min:MIN:%9.3lf Min,',
+    'GPRINT:avg:AVERAGE:%9.3lf Average,',
+    'GPRINT:max:MAX:%9.3lf Max,',
+    'GPRINT:avg:LAST:%9.3lf Last\l'
     ],
-    signal_quality => ['-v', '%',
+    rcode => [
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Quality",
-    'GPRINT:min:MIN:%5.1lf%s%% Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf%s%% Avg,',
-    'GPRINT:max:MAX:%5.1lf%s%% Max,',
-    'GPRINT:avg:LAST:%5.1lf%s%% Last\l'
+    "LINE1:avg#$FullBlue:Queries/s",
+    'GPRINT:min:MIN:%9.3lf Min,',
+    'GPRINT:avg:AVERAGE:%9.3lf Average,',
+    'GPRINT:max:MAX:%9.3lf Max,',
+    'GPRINT:avg:LAST:%9.3lf Last\l'
     ],
     swap => ['-v', 'Bytes', '-b', '1024',
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
@@ -2341,56 +2271,96 @@
     'GPRINT:min:MIN:%5.1lf%sV Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%sV Avg,',
     'GPRINT:max:MAX:%5.1lf%sV Max,',
     'GPRINT:avg:LAST:%5.1lf%sV Last\l'
     ],
     vs_threads => [
-    "DEF:avg={file}:value:AVERAGE",
-    "DEF:min={file}:value:MIN",
-    "DEF:max={file}:value:MAX",
-    "AREA:max#$HalfBlue",
-    "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Threads",
-    'GPRINT:min:MIN:%5.1lf Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf Avg.,',
-    'GPRINT:max:MAX:%5.1lf Max,',
-    'GPRINT:avg:LAST:%5.1lf Last\l',
-    ],
-    vs_memory => ['-b', '1024', '-v', 'Bytes',
-    "DEF:avg={file}:value:AVERAGE",
-    "DEF:min={file}:value:MIN",
-    "DEF:max={file}:value:MAX",
-    "AREA:max#$HalfBlue",
-    "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:",
-    'GPRINT:min:MIN:%5.1lf%sbytes Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf%sbytes Avg.,',
-    'GPRINT:max:MAX:%5.1lf%sbytes Max,',
-    'GPRINT:avg:LAST:%5.1lf%sbytes Last\l',
+    "DEF:total_avg={file}:total:AVERAGE",
+    "DEF:total_min={file}:total:MIN",
+    "DEF:total_max={file}:total:MAX",
+    "DEF:running_avg={file}:running:AVERAGE",
+    "DEF:running_min={file}:running:MIN",
+    "DEF:running_max={file}:running:MAX",
+    "DEF:uninterruptible_avg={file}:uninterruptible:AVERAGE",
+    "DEF:uninterruptible_min={file}:uninterruptible:MIN",
+    "DEF:uninterruptible_max={file}:uninterruptible:MAX",
+    "DEF:onhold_avg={file}:onhold:AVERAGE",
+    "DEF:onhold_min={file}:onhold:MIN",
+    "DEF:onhold_max={file}:onhold:MAX",
+    "LINE1:total_avg#$FullYellow:Total   ",
+    'GPRINT:total_min:MIN:%5.1lf Min,',
+    'GPRINT:total_avg:AVERAGE:%5.1lf Avg.,',
+    'GPRINT:total_max:MAX:%5.1lf Max,',
+    'GPRINT:total_avg:LAST:%5.1lf Last\l',
+    "LINE1:running_avg#$FullRed:Running ",
+    'GPRINT:running_min:MIN:%5.1lf Min,',
+    'GPRINT:running_avg:AVERAGE:%5.1lf Avg.,',          
+    'GPRINT:running_max:MAX:%5.1lf Max,',
+    'GPRINT:running_avg:LAST:%5.1lf Last\l',
+    "LINE1:uninterruptible_avg#$FullGreen:Unintr  ",
+    'GPRINT:uninterruptible_min:MIN:%5.1lf Min,',
+    'GPRINT:uninterruptible_avg:AVERAGE:%5.1lf Avg.,',
+    'GPRINT:uninterruptible_max:MAX:%5.1lf Max,',
+    'GPRINT:uninterruptible_avg:LAST:%5.1lf Last\l',
+    "LINE1:onhold_avg#$FullBlue:Onhold  ",
+    'GPRINT:onhold_min:MIN:%5.1lf Min,',
+    'GPRINT:onhold_avg:AVERAGE:%5.1lf Avg.,',
+    'GPRINT:onhold_max:MAX:%5.1lf Max,',
+    'GPRINT:onhold_avg:LAST:%5.1lf Last\l'
+    ],
+    vs_memory => [
+    'DEF:vm_avg={file}:vm:AVERAGE',
+    'DEF:vm_min={file}:vm:MIN',
+    'DEF:vm_max={file}:vm:MAX',
+    'DEF:vml_avg={file}:vml:AVERAGE',
+    'DEF:vml_min={file}:vml:MIN',
+    'DEF:vml_max={file}:vml:MAX',
+    'DEF:rss_avg={file}:rss:AVERAGE',
+    'DEF:rss_min={file}:rss:MIN',
+    'DEF:rss_max={file}:rss:MAX',
+    'DEF:anon_avg={file}:anon:AVERAGE',
+    'DEF:anon_min={file}:anon:MIN',
+    'DEF:anon_max={file}:anon:MAX',
+    "LINE1:vm_avg#$FullYellow:VM     ",
+    'GPRINT:vm_min:MIN:%5.1lf%s Min,',
+    'GPRINT:vm_avg:AVERAGE:%5.1lf%s Avg.,',
+    'GPRINT:vm_max:MAX:%5.1lf%s Avg.,',
+    'GPRINT:vm_avg:LAST:%5.1lf%s Last\l',
+    "LINE1:vml_avg#$FullRed:Locked ",
+    'GPRINT:vml_min:MIN:%5.1lf%s Min,',
+    'GPRINT:vml_avg:AVERAGE:%5.1lf%s Avg.,',
+    'GPRINT:vml_max:MAX:%5.1lf%s Avg.,',
+    'GPRINT:vml_avg:LAST:%5.1lf%s Last\l',
+    "LINE1:rss_avg#$FullGreen:RSS    ",
+    'GPRINT:rss_min:MIN:%5.1lf%s Min,',
+    'GPRINT:rss_avg:AVERAGE:%5.1lf%s Avg.,',
+    'GPRINT:rss_max:MAX:%5.1lf%s Avg.,',
+    'GPRINT:rss_avg:LAST:%5.1lf%s Last\l',
+    "LINE1:anon_avg#$FullBlue:Anon.  ",
+    'GPRINT:anon_min:MIN:%5.1lf%s Min,',
+    'GPRINT:anon_avg:AVERAGE:%5.1lf%s Avg.,',
+    'GPRINT:anon_max:MAX:%5.1lf%s Avg.,',
+    'GPRINT:anon_avg:LAST:%5.1lf%s Last\l',
     ],
     vs_processes => [
-    "DEF:avg={file}:value:AVERAGE",
-    "DEF:min={file}:value:MIN",
-    "DEF:max={file}:value:MAX",
-    "AREA:max#$HalfBlue",
-    "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Processes",
-    'GPRINT:min:MIN:%5.1lf Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf Avg.,',
-    'GPRINT:max:MAX:%5.1lf Max,',
-    'GPRINT:avg:LAST:%5.1lf Last\l',
+    'DEF:proc_avg={file}:total:AVERAGE',
+    'DEF:proc_min={file}:total:MIN',
+    'DEF:proc_max={file}:total:MAX',
+    "AREA:proc_max#$HalfBlue",
+    "AREA:proc_min#$Canvas",
+    "LINE1:proc_avg#$FullBlue:Processes",
+    'GPRINT:proc_min:MIN:%4.1lf Min,',
+    'GPRINT:proc_avg:AVERAGE:%4.1lf Avg.,',
+    'GPRINT:proc_max:MAX:%4.1lf Max,',
+    'GPRINT:proc_avg:LAST:%4.1lf Last\l'
     ],
   };
   $GraphDefs->{'if_multicast'} = $GraphDefs->{'ipt_packets'};
   $GraphDefs->{'if_tx_errors'} = $GraphDefs->{'if_rx_errors'};
-  $GraphDefs->{'dns_qtype'} = $GraphDefs->{'dns_opcode'};
-  $GraphDefs->{'dns_rcode'} = $GraphDefs->{'dns_opcode'};
 
   $MetaGraphDefs->{'cpu'} = \&meta_graph_cpu;
-  $MetaGraphDefs->{'dns_qtype'} = \&meta_graph_dns;
-  $MetaGraphDefs->{'dns_rcode'} = \&meta_graph_dns;
   $MetaGraphDefs->{'if_rx_errors'} = \&meta_graph_if_rx_errors;
   $MetaGraphDefs->{'if_tx_errors'} = \&meta_graph_if_rx_errors;
   $MetaGraphDefs->{'memory'} = \&meta_graph_memory;
   $MetaGraphDefs->{'nfs_procedure'} = \&meta_graph_nfs_procedure;
   $MetaGraphDefs->{'ps_state'} = \&meta_graph_ps_state;
   $MetaGraphDefs->{'swap'} = \&meta_graph_swap;
@@ -2416,62 +2386,55 @@
 
   my @cmd = ('-', '-a', 'PNG', '-s', $timespan_int,
     '-t', $opts->{'title'} || 'Unknown title',
     @RRDDefaultArgs, @{$opts->{'rrd_opts'}});
 
   my $max_inst_name = 0;
-  my @vnames = ();
-
-  for ($i = 0; $i < @$sources; $i++)
-  {
-    my $tmp = $sources->[$i]->{'name'};
-    $tmp =~ tr/A-Za-z0-9\-_/_/c;
-    $vnames[$i] = $i . $tmp;
-  }
 
   for ($i = 0; $i < @$sources; $i++)
   {
     my $inst_data = $sources->[$i];
     my $inst_name = $inst_data->{'name'} || confess;
     my $file = $inst_data->{'file'} || confess;
-    my $vname = $vnames[$i];
 
     if (length ($inst_name) > $max_inst_name)
     {
       $max_inst_name = length ($inst_name);
     }
 
     confess ("No such file: $file") if (!-e $file);
 
     push (@cmd,
-      qq#DEF:${vname}_min=$file:value:MIN#,
-      qq#DEF:${vname}_avg=$file:value:AVERAGE#,
-      qq#DEF:${vname}_max=$file:value:MAX#,
-      qq#CDEF:${vname}_nnl=${vname}_avg,UN,0,${vname}_avg,IF#);
+      qq#DEF:${inst_name}_min=$file:value:MIN#,
+      qq#DEF:${inst_name}_avg=$file:value:AVERAGE#,
+      qq#DEF:${inst_name}_max=$file:value:MAX#,
+      qq#CDEF:${inst_name}_nnl=${inst_name}_avg,UN,0,${inst_name}_avg,IF#);
   }
 
   {
-    my $vname = $vnames[@vnames - 1];
+    my $inst_data = $sources->[@$sources - 1];
+    my $inst_name = $inst_data->{'name'};
 
-    push (@cmd, qq#CDEF:${vname}_stk=${vname}_nnl#);
+    push (@cmd, qq#CDEF:${inst_name}_stk=${inst_name}_nnl#);
   }
   for (my $i = 1; $i < @$sources; $i++)
   {
-    my $vname0 = $vnames[@vnames - ($i + 1)];
-    my $vname1 = $vnames[@vnames - $i];
+    my $inst_data0 = $sources->[@$sources - ($i + 1)];
+    my $inst_data1 = $sources->[@$sources - $i];
 
-    push (@cmd, qq#CDEF:${vname0}_stk=${vname0}_nnl,${vname1}_stk,+#);
+    my $inst_name0 = $inst_data0->{'name'};
+    my $inst_name1 = $inst_data1->{'name'};
+
+    push (@cmd, qq#CDEF:${inst_name0}_stk=${inst_name0}_nnl,${inst_name1}_stk,+#);
   }
 
   for (my $i = 0; $i < @$sources; $i++)
   {
     my $inst_data = $sources->[$i];
     my $inst_name = $inst_data->{'name'};
 
-    my $vname = $vnames[$i];
-
     my $legend = sprintf ('%-*s', $max_inst_name, $inst_name);
 
     my $line_color;
     my $area_color;
 
     my $number_format = $opts->{'number_format'} || '%6.1lf';
@@ -2485,18 +2448,18 @@
     {
       $area_color = _get_random_color ();
       $line_color = _color_to_string ($area_color);
     }
     $area_color = _color_to_string (_get_faded_color ($area_color));
 
-    push (@cmd, qq(AREA:${vname}_stk#$area_color),
-      qq(LINE1:${vname}_stk#$line_color:$legend),
-      qq(GPRINT:${vname}_min:MIN:$number_format Min,),
-      qq(GPRINT:${vname}_avg:AVERAGE:$number_format Avg,),
-      qq(GPRINT:${vname}_max:MAX:$number_format Max,),
-      qq(GPRINT:${vname}_avg:LAST:$number_format Last\\l),
+    push (@cmd, qq(AREA:${inst_name}_stk#$area_color),
+      qq(LINE1:${inst_name}_stk#$line_color:$legend),
+      qq(GPRINT:${inst_name}_min:MIN:$number_format Min,),
+      qq(GPRINT:${inst_name}_avg:AVERAGE:$number_format Avg,),
+      qq(GPRINT:${inst_name}_max:MAX:$number_format Max,),
+      qq(GPRINT:${inst_name}_avg:LAST:$number_format Last\\l),
     );
   }
 
   RRDs::graph (@cmd);
   if (my $errmsg = RRDs::error ())
   {
@@ -2563,63 +2526,12 @@
     );
   } # for (@$type_instances)
 
   return (meta_graph_generic_stack ($opts, $sources));
 } # meta_graph_cpu
 
-sub meta_graph_dns
-{
-  confess ("Wrong number of arguments") if (@_ != 5);
-
-  my $host = shift;
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $type = shift;
-  my $type_instances = shift;
-
-  my $opts = {};
-  my $sources = [];
-
-  $opts->{'title'} = "$host/$plugin"
-  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
-
-  $opts->{'rrd_opts'} = ['-v', 'Queries/s'];
-
-  my @files = ();
-
-  @$type_instances = sort @$type_instances;
-
-  $opts->{'colors'} = _get_n_colors ($type_instances);
-
-  for (@$type_instances)
-  {
-    my $inst = $_;
-    my $file = '';
-    my $title = $opts->{'title'};
-
-    for (@DataDirs)
-    {
-      if (-e "$_/$title-$inst.rrd")
-      {
-	$file = "$_/$title-$inst.rrd";
-	last;
-      }
-    }
-    confess ("No file found for $title") if ($file eq '');
-
-    push (@$sources,
-      {
-	name => $inst,
-	file => $file
-      }
-    );
-  } # for (@$type_instances)
-
-  return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_dns
-
 sub meta_graph_memory
 {
   confess ("Wrong number of arguments") if (@_ != 5);
 
   my $host = shift;
   my $plugin = shift;
@@ -2671,13 +2583,13 @@
 	file => $file
       }
     );
   } # for (@$type_instances)
 
   return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_memory
+} # meta_graph_cpu
 
 sub meta_graph_if_rx_errors
 {
   confess ("Wrong number of arguments") if (@_ != 5);
 
   my $host = shift;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/examples/myplugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/examples/myplugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/examples/myplugin.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/examples/myplugin.c	2008-02-19 03:57:18.000000000 +0800
@@ -15,13 +15,14 @@
  * - plugins are executed in parallel, thus, thread-safe
  *   functions need to be used
  * - each of the functions below (except module_register)
  *   is optional
  */
 
-#include <stdio.h>
+#if ! HAVE_CONFIG_H
+
 #include <stdlib.h>
 
 #include <string.h>
 
 #ifndef __USE_ISOC99 /* required for NAN */
 # define DISABLE_ISOC99 1
@@ -30,12 +31,16 @@
 #include <math.h>
 #if DISABLE_ISOC99
 # undef DISABLE_ISOC99
 # undef __USE_ISOC99
 #endif /* DISABLE_ISOC99 */
 
+#include <time.h>
+
+#endif /* ! HAVE_CONFIG */
+
 #include <collectd/collectd.h>
 #include <collectd/common.h>
 #include <collectd/plugin.h>
 
 /*
  * data source definition:
@@ -143,12 +148,50 @@
 {
 	printf ("LOG: %i - %s\n", severity, msg);
 	return;
 } /* static void my_log (int, const char *) */
 
 /*
+ * This function is called when plugin_dispatch_notification () has been used.
+ */
+static int my_notify (const notification_t *notif)
+{
+	char time_str[32] = "";
+	struct tm *tm = NULL;
+
+	int n = 0;
+
+	if (NULL == (tm = localtime (&notif->time)))
+		time_str[0] = '\0';
+
+	n = strftime (time_str, 32, "%F %T", tm);
+	if (n >= 32) n = 31;
+	time_str[n] = '\0';
+
+	printf ("NOTIF (%s): %i - ", time_str, notif->severity);
+
+	if ('\0' != *notif->host)
+		printf ("%s: ", notif->host);
+
+	if ('\0' != *notif->plugin)
+		printf ("%s: ", notif->plugin);
+
+	if ('\0' != *notif->plugin_instance)
+		printf ("%s: ", notif->plugin_instance);
+
+	if ('\0' != *notif->type)
+		printf ("%s: ", notif->type);
+
+	if ('\0' != *notif->type_instance)
+		printf ("%s: ", notif->type_instance);
+
+	printf ("%s\n", notif->message);
+	return 0;
+} /* static int my_notify (notification_t *) */
+
+/*
  * This function is called before shutting down collectd.
  */
 static int my_shutdown (void)
 {
 	/* close sockets, free data structures, ... */
 	return 0;
@@ -158,12 +201,13 @@
  * This function is called after loading the plugin to register it with
  * collectd.
  */
 void module_register (void)
 {
 	plugin_register_log ("myplugin", my_log);
+	plugin_register_notification ("myplugin", my_notify);
 	plugin_register_data_set (&ds);
 	plugin_register_read ("myplugin", my_read);
 	plugin_register_init ("myplugin", my_init);
 	plugin_register_write ("myplugin", my_write);
 	plugin_register_shutdown ("myplugin", my_shutdown);
     return;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/examples/MyPlugin.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/examples/MyPlugin.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/examples/MyPlugin.pm	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/examples/MyPlugin.pm	2008-02-19 03:57:18.000000000 +0800
@@ -14,31 +14,35 @@
 
 package Collectd::Plugin::MyPlugin;
 
 use strict;
 use warnings;
 
+use Collectd qw( :all );
+
 # data set definition:
 # see section "DATA TYPES" in collectd-perl(5) for details
+# (take a look at the types.db file for a large list of predefined data-sets)
 my $dataset =
 [
 	{
 		name => 'my_ds',
-		type => Collectd::DS_TYPE_GAUGE,
+		type => DS_TYPE_GAUGE,
 		min  => 0,
 		max  => 65535,
 	},
 ];
 
 # This code is executed after loading the plugin to register it with collectd.
-Collectd::plugin_register (Collectd::TYPE_LOG, 'myplugin', \&my_log);
-Collectd::plugin_register (Collectd::TYPE_DATASET, 'myplugin', $dataset);
-Collectd::plugin_register (Collectd::TYPE_INIT, 'myplugin', \&my_init);
-Collectd::plugin_register (Collectd::TYPE_READ, 'myplugin', \&my_read);
-Collectd::plugin_register (Collectd::TYPE_WRITE, 'myplugin', \&my_write);
-Collectd::plugin_register (Collectd::TYPE_SHUTDOWN, 'myplugin', \&my_shutdown);
+plugin_register (TYPE_LOG, 'myplugin', 'my_log');
+plugin_register (TYPE_NOTIF, 'myplugin', 'my_notify');
+plugin_register (TYPE_DATASET, 'myplugin', $dataset);
+plugin_register (TYPE_INIT, 'myplugin', 'my_init');
+plugin_register (TYPE_READ, 'myplugin', 'my_read');
+plugin_register (TYPE_WRITE, 'myplugin', 'my_write');
+plugin_register (TYPE_SHUTDOWN, 'myplugin', 'my_shutdown');
 
 # For each of the functions below see collectd-perl(5) for details about
 # arguments and the like.
 
 # This function is called once upon startup to initialize the plugin.
 sub my_init
@@ -64,13 +68,13 @@
 	$vl->{'plugin'} = 'myplugin';
 	# any other elements are optional
 
 	# dispatch the values to collectd which passes them on to all registered
 	# write functions - the first argument is used to lookup the data set
 	# definition
-	Collectd::plugin_dispatch_values ('myplugin', $vl);
+	plugin_dispatch_values ('myplugin', $vl);
 
 	# A false return value indicates an error and the plugin will be skipped
 	# for an increasing amount of time.
 	return 1;
 } # my_read ()
 
@@ -79,14 +83,13 @@
 {
 	my $type = shift;
 	my $ds   = shift;
 	my $vl   = shift;
 
 	if (scalar (@$ds) != scalar (@{$vl->{'values'}})) {
-		Collectd::plugin_log (Collectd::LOG_WARNING,
-			"DS number does not match values length");
+		plugin_log (LOG_WARNING, "DS number does not match values length");
 		return;
 	}
 
 	for (my $i = 0; $i < scalar (@$ds); ++$i) {
 		# do the magic to output the data
 		print "$vl->{'host'}: $vl->{'plugin'}: ";
@@ -120,6 +123,41 @@
 	my $msg   = shift;
 
 	print "LOG: $level - $msg\n";
 	return 1;
 } # my_log ()
 
+# This function is called when plugin_dispatch_notification () has been used
+sub my_notify
+{
+	my $notif = shift;
+
+	my ($sec, $min, $hour, $mday, $mon, $year) = localtime ($notif->{'time'});
+
+	printf "NOTIF (%04d-%02d-%02d %02d:%02d:%02d): %d - ",
+			$year + 1900, $mon + 1, $mday, $hour, $min, $sec,
+			$notif->{'severity'};
+
+	if (defined $notif->{'host'}) {
+		print "$notif->{'host'}: ";
+	}
+
+	if (defined $notif->{'plugin'}) {
+		print "$notif->{'plugin'}: ";
+	}
+
+	if (defined $notif->{'plugin_instance'}) {
+		print "$notif->{'plugin_instance'}: ";
+	}
+
+	if (defined $notif->{'type'}) {
+		print "$notif->{'type'}: ";
+	}
+
+	if (defined $notif->{'type_instance'}) {
+		print "$notif->{'type_instance'}: ";
+	}
+
+	print "$notif->{'message'}\n";
+	return 1;
+} # my_notify ()
+
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/exec-munin.px /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/exec-munin.px
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/exec-munin.px	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/exec-munin.px	2008-02-19 03:57:18.000000000 +0800
@@ -140,13 +140,13 @@
     if (ref ($config->{'script'}) eq 'ARRAY')
     {
       handle_config_script ($config->{'script'});
     }
     elsif (ref ($config->{'script'}) eq '')
     {
-      handle_config_addtype ([$config->{'script'}]);
+      handle_config_script ([$config->{'script'}]);
     }
     else
     {
       print STDERR "Cannot handle ref type '"
       . ref ($config->{'script'}) . "' for option 'Script'.\n";
     }
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib: exec-nagios.conf
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib: exec-nagios.px
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/extractDS.px /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/extractDS.px
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/extractDS.px	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/extractDS.px	2007-10-25 01:21:23.000000000 +0800
@@ -1,172 +1,76 @@
 #!/usr/bin/perl
 
-# collectd - contrib/rrd_filter.px
-# Copyright (C) 2007-2008  Florian octo Forster
-#
-# This program is free software; you can redistribute it and/or modify it
-# under the terms of the GNU General Public License as published by the
-# Free Software Foundation; only version 2 of the License is applicable.
-#
-# This program is distributed in the hope that it will be useful, but
-# WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
-# General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License along
-# with this program; if not, write to the Free Software Foundation, Inc.,
-# 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
-#
-# Authors:
-#   Florian octo Forster <octo at verplant.org>
-
 use strict;
 use warnings;
 
 =head1 NAME
 
-rrd_filter.px - Perform same advanced non-standard operations on an RRD file.
+extractDS.px - Extract a single data-source from an RRD-file
 
 =head1 SYNOPSYS
 
-  rrd_filter.px -i input.rrd -o output.rrd [options]
+  extractDS.px -i input.rrd -s source_ds -o output.rrd -d destination_ds
 
 =head1 DEPENDENCIES
 
-extractDS.px requires the RRDTool binary, Perl and the included L<Getopt::Long>
-module.
+extractDS.px requires Perl and the included L<Getopt::Long> module, as well as
+the L<XML::Simple> module.
 
 =cut
 
 use Getopt::Long ('GetOptions');
 use Data::Dumper ();
 
 our $InFile;
 our $InDS = [];
 our $OutFile;
 our $OutDS = [];
 
-our $NewRRAs = [];
-
-our $Step = 0;
-
-=head1 OPTIONS
-
-The following options can be passed on the command line:
-
-=over 4
-
-=item B<--infile> I<file>
-
-=item B<-i> I<file>
-
-Reads from I<file>. If I<file> ends in C<.rrd>, then C<rrdtool dump> is invoked
-to create an XML dump of the RRD file. Otherwise the XML dump is expected
-directly. The special filename C<-> can be used to read from STDIN.
-
-=item B<--outfile> I<file>
-
-=item B<-o> I<file>
-
-Writes output to I<file>. If I<file> ends in C<.rrd>, then C<rrdtool restore>
-is invoked to create a binary RRD file. Otherwise an XML output is written. The
-special filename C<-> can be used to write to STDOUT.
-
-=item B<--map> I<in_ds>:I<out_ds>
-
-=item B<-m> I<in_ds>:I<out_ds>
-
-Writes the datasource I<in_ds> to the output and renames it to I<out_ds>. This
-is useful to extract one DS from an RRD file.
-
-=item B<--step> I<seconds>
-
-=item B<-s> I<seconds>
-
-Changes the step of the output RRD file to be I<seconds>. The new stepsize must
-be a multiple of the old stepsize of the other way around. When increasing the
-stepsize the number of PDPs in each RRA must be dividable by the factor by
-which the stepsize is increased. The length of CDPs and the absolute length of
-RRAs (and thus the data itself) is not altered.
-
-Examples:
-
-  step =  10, rra_steps = 12   =>   step = 60, rra_steps =  2
-  step = 300, rra_steps =  1   =>   step = 10, rra_steps = 30
-
-=item B<--rra> B<RRA>:I<CF>:I<XFF>:I<steps>:I<rows>
-
-=item B<-a> B<RRA>:I<CF>:I<XFF>:I<steps>:I<rows>
-
-Inserts a new RRA in the generated RRD file. This is done B<after> the step has
-been adjusted, take that into account when specifying I<steps> and I<rows>. For
-an explanation of the format please see L<rrdcreate(1)>.
-
-=back
-
-=cut
-
 GetOptions ("infile|i=s" => \$InFile,
+	"inds|s=s" => sub { push (@$InDS, $_[1]); },
 	"outfile|o=s" => \$OutFile,
-	'map|m=s' => sub
-	{
-		my ($in_ds, $out_ds) = split (':', $_[1]);
-		if (!defined ($in_ds) || !defined ($out_ds))
-		{
-			print STDERR "Argument for `map' incorrect! The format is `--map in_ds:out_ds'\n";
-			exit (1);
-		}
-		push (@$InDS, $in_ds);
-		push (@$OutDS, $out_ds);
-	},
-	'step|s=i' => \$Step,
-	'rra|a=s' => sub
-	{
-		my ($rra, $cf, $xff, $steps, $rows) = split (':', $_[1]);
-		if (($rra ne 'RRA') || !defined ($rows))
-		{
-			print STDERR "Please use the standard RRDTool syntax when adding RRAs. I. e. RRA:<cf><xff>:<steps>:<rows>.\n";
-			exit (1);
-		}
-		push (@$NewRRAs, {cf => $cf, xff => $xff, steps => $steps, rows => $rows});
-	}
-) or exit (1);
+	"outds|d=s" => sub { push (@$OutDS, $_[1]); })
+	or exit (1);
 
-if (!$InFile || !$OutFile)
+if (!$InFile || !$OutFile || !@$InDS || !@$OutDS)
+{
+	print STDERR "Usage: $0 -i <infile> -s <inds> -o <outfile> -d <outds>\n";
+	exit (1);
+}
+if (!-f $InFile)
+{
+	print STDERR "Input file does not exist\n";
+	exit (1);
+}
+if (-f $OutFile)
 {
-	print STDERR "Usage: $0 -i <infile> -m <in_ds>:<out_ds> -s <step>\n";
+	print STDERR "Output file does exist\n";
 	exit (1);
 }
 if ((1 + @$InDS) != (1 + @$OutDS))
 {
 	print STDERR "You need the same amount of in- and out-DSes\n";
 	exit (1);
 }
 
-main ($InFile, $OutFile);
+extract_ds ($InFile, $OutFile);
 exit (0);
 
 {
 my $ds_index;
 my $current_index;
 # state 0 == searching for DS index
 # state 1 == parse RRA header
 # state 2 == parse values
 my $state;
 my $out_cache;
-sub handle_line_dsmap
+sub handle_line
 {
+	my $fh = shift;
 	my $line = shift;
-	my $index = shift;
-	my $ret = '';
-
-	if ((@$InDS == 0) || (@$OutDS == 0))
-	{
-		post_line ($line, $index + 1);
-		return;
-	}
 
 	if (!defined ($state))
 	{
 		$current_index = -1;
 		$state = 0;
 		$out_cache = [];
@@ -211,32 +115,29 @@
 		elsif ($line =~ m#<rra>#)
 		{
 			# Print out all the DS definitions we need
 			for (my $new_index = 0; $new_index < @$InDS; $new_index++)
 			{
 				my $old_index = $ds_index->[$new_index];
-				while ($out_cache->[$old_index] =~ m/^(.*)$/gm)
-				{
-					post_line ("$1\n", $index + 1);
-				}
+				print $fh $out_cache->[$old_index];
 			}
 
 			# Clear the cache - it's used in state1, too.
 			for (my $i = 0; $i <= $current_index; $i++)
 			{
 				$out_cache->[$i] = '';
 			}
 
-			$ret .= $line;
+			print $fh $line;
 			$current_index = -1;
 			$state = 1;
 		}
 		elsif ($current_index == -1)
 		{
 			# Print all the lines before the first DS definition
-			$ret .= $line;
+			print $fh $line;
 		}
 		else
 		{
 			# Something belonging to a DS-definition
 			$out_cache->[$current_index] .= $line;
 		}
@@ -251,371 +152,101 @@
 		elsif ($line =~ m#</cdp_prep>#)
 		{
 			# Print out all the DS definitions we need
 			for (my $new_index = 0; $new_index < @$InDS; $new_index++)
 			{
 				my $old_index = $ds_index->[$new_index];
-				while ($out_cache->[$old_index] =~ m/^(.*)$/gm)
-				{
-					post_line ("$1\n", $index + 1);
-				}
+				print $fh $out_cache->[$old_index];
 			}
 
 			# Clear the cache
 			for (my $i = 0; $i <= $current_index; $i++)
 			{
 				$out_cache->[$i] = '';
 			}
 
-			$ret .= $line;
+			print $fh $line;
 			$current_index = -1;
 		}
 		elsif ($line =~ m#<database>#)
 		{
-			$ret .= $line;
+			print $fh $line;
 			$state = 2;
 		}
 		elsif ($current_index == -1)
 		{
 			# Print all the lines before the first DS definition
 			# and after cdp_prep
-			$ret .= $line;
+			print $fh $line;
 		}
 		else
 		{
 			# Something belonging to a DS-definition
 			$out_cache->[$current_index] .= $line;
 		}
 	}
 	elsif ($state == 2)
 	{
 		if ($line =~ m#</database>#)
 		{
-			$ret .= $line;
+			print $fh $line;
 			$current_index = -1;
 			$state = 1;
 		}
 		else
 		{
 			my @values = ();
 			my $i;
-			
-			$ret .= "\t\t";
+			my $output = "\t\t";
 
 			if ($line =~ m#(<!-- .*? -->)#)
 			{
-				$ret .= "$1 ";
+				$output .= "$1 ";
 			}
-			$ret .= "<row> ";
+			$output .= "<row> ";
 
 			$i = 0;
 			while ($line =~ m#<v>\s*([^<\s]+)\s*</v>#g)
 			{
 				$values[$i] = $1;
 				$i++;
 			}
 
 			for (my $new_index = 0; $new_index < @$InDS; $new_index++)
 			{
 				my $old_index = $ds_index->[$new_index];
-				$ret .= '<v> ' . $values[$old_index] . ' </v> ';
+				$output .= '<v> ' . $values[$old_index] . ' </v> ';
 			}
-			$ret .= "</row>\n";
+			$output .= "</row>\n";
+			print $fh $output;
 		}
 	}
 	else
 	{
 		die;
 	}
+}} # handle_line
 
-	if ($ret)
-	{
-		post_line ($ret, $index + 1);
-	}
-}} # handle_line_dsmap
-
-#
-# The _step_ handler
-#
-{
-my $step_factor_up;
-my $step_factor_down;
-sub handle_line_step
-{
-	my $line = shift;
-	my $index = shift;
-
-	if (!$Step)
-	{
-		post_line ($line, $index + 1);
-		return;
-	}
-
-	$step_factor_up ||= 0;
-	$step_factor_down ||= 0;
-
-	if (($step_factor_up == 0) && ($step_factor_down == 0))
-	{
-		if ($line =~ m#<step>\s*(\d+)\s*</step>#i)
-		{
-			my $old_step = 0 + $1;
-			if ($Step < $old_step)
-			{
-				$step_factor_down = int ($old_step / $Step);
-				if (($step_factor_down * $Step) != $old_step)
-				{
-					print STDERR "The old step ($old_step seconds) "
-					. "is not a multiple of the new step "
-					. "($Step seconds).\n";
-					exit (1);
-				}
-				$line = "<step> $Step </step>\n";
-			}
-			elsif ($Step > $old_step)
-			{
-				$step_factor_up = int ($Step / $old_step);
-				if (($step_factor_up * $old_step) != $Step)
-				{
-					print STDERR "The new step ($Step seconds) "
-					. "is not a multiple of the old step "
-					. "($old_step seconds).\n";
-					exit (1);
-				}
-				$line = "<step> $Step </step>\n";
-			}
-			else
-			{
-				$Step = 0;
-			}
-		}
-	}
-	elsif ($line =~ m#<pdp_per_row>\s*(\d+)\s*</pdp_per_row>#i)
-	{
-		my $old_val = 0 + $1;
-		my $new_val;
-		if ($step_factor_up)
-		{
-			$new_val = int ($old_val / $step_factor_up);
-			if (($new_val * $step_factor_up) != $old_val)
-			{
-				print STDERR "Can't divide number of PDPs per row ($old_val) by step-factor ($step_factor_up).\n";
-				exit (1);
-			}
-		}
-		else
-		{
-			$new_val = $step_factor_down * $old_val;
-		}
-		$line = "<pdp_per_row> $new_val </pdp_per_row>\n";
-	}
-
-	post_line ($line, $index + 1);
-}} # handle_line_step
-
-#
-# The _add RRA_ handler
-#
-{
-my $add_rra_done;
-my $num_ds;
-sub handle_line_add_rra
-{
-  my $line = shift;
-  my $index = shift;
-
-  my $post = sub { for (@_) { post_line ($_, $index + 1); } };
-
-  $num_ds ||= 0;
-
-  if (!@$NewRRAs || $add_rra_done)
-  {
-    $post->($line);
-    return;
-  }
-
-  if ($line =~ m#<ds>#i)
-  {
-    $num_ds++;
-  }
-  elsif ($line =~ m#<rra>#i)
-  {
-    for (my $i = 0; $i < @$NewRRAs; $i++)
-    {
-      my $rra = $NewRRAs->[$i];
-      my $temp;
-      $post->("\t<rra>\n",
-      "\t\t<cf> $rra->{'cf'} </cf>\n",
-      "\t\t<pdp_per_row> $rra->{'steps'} </pdp_per_row>\n",
-      "\t\t<params>\n",
-      "\t\t\t<xff> $rra->{'xff'} </xff>\n",
-      "\t\t</params>\n",
-      "\t\t<cdp_prep>\n");
-
-      for (my $j = 0; $j < $num_ds; $j++)
-      {
-	$post->("\t\t\t<ds>\n",
-	"\t\t\t\t<primary_value> NaN </primary_value>\n",
-	"\t\t\t\t<secondary_value> NaN </secondary_value>\n",
-	"\t\t\t\t<value> NaN </value>\n",
-	"\t\t\t\t<unknown_datapoints> 0 </unknown_datapoints>\n",
-	"\t\t\t</ds>\n");
-      }
-
-      $post->("\t\t</cdp_prep>\n", "\t\t<database>\n");
-      $temp = "\t\t\t<row>" . join ('', map { "<v> NaN </v>" } (1 .. $num_ds)) . "</row>\n";
-      for (my $j = 0; $j < $rra->{'rows'}; $j++)
-      {
-	$post->($temp);
-      }
-      $post->("\t\t</database>\n");
-    }
-  }
-
-  $post->($line);
-}} # handle_line_add_rra
-
-#
-# The _output_ handler
-#
-{
-my $fh;
-sub set_output
-{
-	$fh = shift;
-}
-
-sub handle_line_output
-{
-	my $line = shift;
-	my $index = shift;
-
-	if (!defined ($fh))
-	{
-		post_line ($line, $index + 1);
-		return;
-	}
-	
-	print $fh $line;
-}} # handle_line_output
-
-#
-# Dispatching logic
-#
-{
-my @handlers = ();
-sub add_handler
-{
-	my $handler = shift;
-
-	die unless (ref ($handler) eq 'CODE');
-	push (@handlers, $handler);
-} # add_handler
-
-sub post_line
-{
-	my $line = shift;
-	my $index = shift;
-
-	if (0)
-	{
-		my $copy = $line;
-		chomp ($copy);
-		print "DEBUG: post_line ($copy, $index);\n";
-	}
-
-	if ($index > $#handlers)
-	{
-		return;
-	}
-	$handlers[$index]->($line, $index);
-}} # post_line
-
-sub handle_fh
-{
-	my $in_fh = shift;
-	my $out_fh = shift;
-
-	set_output ($out_fh);
-
-	if (@$InDS)
-	{
-	  add_handler (\&handle_line_dsmap);
-	}
-
-	if ($Step)
-	{
-	  add_handler (\&handle_line_step);
-	}
-
-	if (@$NewRRAs)
-	{
-	  add_handler (\&handle_line_add_rra);
-	}
-
-	add_handler (\&handle_line_output);
-
-	while (my $line = <$in_fh>)
-	{
-		post_line ($line, 0);
-	}
-} # handle_fh
-
-sub main
+sub extract_ds
 {
 	my $in_file = shift;
 	my $out_file = shift;
 
 	my $in_fh;
 	my $out_fh;
 
-	my $in_needs_close = 1;
-	my $out_needs_close = 1;
-
-	if ($in_file =~ m/\.rrd$/i)
-	{
-		open ($in_fh,  '-|', 'rrdtool', 'dump', $in_file) or die ("open (rrdtool): $!");
-	}
-	elsif ($in_file eq '-')
-	{
-		$in_fh = \*STDIN;
-		$in_needs_close = 0;
-	}
-	else
-	{
-		open ($in_fh, '<', $in_file) or die ("open ($in_file): $!");
-	}
-
-	if ($out_file =~ m/\.rrd$/i)
-	{
-		open ($out_fh, '|-', 'rrdtool', 'restore', '-', $out_file) or die ("open (rrdtool): $!");
-	}
-	elsif ($out_file eq '-')
-	{
-		$out_fh = \*STDOUT;
-		$out_needs_close = 0;
-	}
-	else
-	{
-		open ($out_fh, '>', $out_file) or die ("open ($out_file): $!");
-	}
-
-	handle_fh ($in_fh, $out_fh);
+	open ($in_fh,  '-|', 'rrdtool', 'dump', $in_file) or die ("open (rrdtool): $!");
+	open ($out_fh, '|-', 'rrdtool', 'restore', '-', $out_file) or die ("open (rrdtool): $!");
 
-	if ($in_needs_close)
-	{
-		close ($in_fh);
-	}
-	if ($out_needs_close)
+	while (my $line = <$in_fh>)
 	{
-		close ($out_fh);
+		handle_line ($out_fh, $line);
 	}
-} # main
-
-=head1 LICENSE
 
-This script is licensed under the GNU general public license, versionE<nbsp>2
-(GPLv2).
+	close ($in_fh);
+	close ($out_fh);
+} # extract_ds
 
 =head1 AUTHOR
 
 Florian octo Forster E<lt>octo at verplant.orgE<gt>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/migrate-3-4.px /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/migrate-3-4.px
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/migrate-3-4.px	2008-04-23 00:01:03.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/migrate-3-4.px	2008-02-19 03:55:53.000000000 +0800
@@ -118,14 +118,13 @@
 	processes => { from => [qw(running sleeping zombies stopped paging blocked)], to => 'value' },
 	swap => { from => [qw(cached free used resv)], to => 'value', type_instance => [qw(cached free used reserved)] }
 );
 
 our %TypeRename =
 (
-	traffic => { from => [qw(incoming outgoing)], to => [qw(rx tx)] },
-	vs_processes => { from => [qw(total)], to => [qw(value)] },
+	traffic => { from => [qw(incoming outgoing)], to => [qw(rx tx)] }
 );
 
 GetOptions ("indir|i=s" => \$InDir,
 	"outdir|o=s" => \$OutDir,
 	"hostname=s" => \$Hostname) or exit_usage ();
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib: network-proxy.py
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/contrib/README	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/contrib/README	2008-02-19 03:57:18.000000000 +0800
@@ -1,15 +1,10 @@
 The files in this directory may be used to perform common tasks that aren't
 exactly `collectd's job. They may or may not require in-depth knowledge of RRD
 files and/or `collectd's inner workings. Use at your own risk.
 
-PerlLib/
---------
-  Perl modules to be used in conjunction with collectd. See the perldoc
-documentation of the .pm-files to find out what they're good for.
-
 add_rra.sh
 ----------
   Before version 3.9.0 collectd used to create a different set of RRAs. The
 most detailed of these old RRAs had a one minute resolution. This script can
 be used to add three more RRAs: minimum, maximum and average with a ten second
 resolution and 2200 rows (~6 hours). This will make hourly statistics much more
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/COPYING /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/COPYING
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/COPYING	2008-04-15 20:04:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/COPYING	2006-06-25 16:41:56.000000000 +0800
@@ -1,24 +1,24 @@
 		    GNU GENERAL PUBLIC LICENSE
 		       Version 2, June 1991
 
- Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
- 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.
+     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  Everyone is permitted to copy and distribute verbatim copies
  of this license document, but changing it is not allowed.
 
 			    Preamble
 
   The licenses for most software are designed to take away your
 freedom to share and change it.  By contrast, the GNU General Public
 License is intended to guarantee your freedom to share and change free
 software--to make sure the software is free for all its users.  This
 General Public License applies to most of the Free Software
 Foundation's software and to any other program whose authors commit to
 using it.  (Some other Free Software Foundation software is covered by
-the GNU Lesser General Public License instead.)  You can apply it to
+the GNU Library General Public License instead.)  You can apply it to
 your programs, too.
 
   When we speak of free software, we are referring to freedom, not
 price.  Our General Public Licenses are designed to make sure that you
 have the freedom to distribute copies of free software (and charge for
 this service if you wish), that you receive source code or can get it
@@ -52,13 +52,13 @@
 program will individually obtain patent licenses, in effect making the
 program proprietary.  To prevent this, we have made it clear that any
 patent must be licensed for everyone's free use or not licensed at all.
 
   The precise terms and conditions for copying, distribution and
 modification follow.
-
+
 		    GNU GENERAL PUBLIC LICENSE
    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
 
   0. This License applies to any program or other work which contains
 a notice placed by the copyright holder saying it may be distributed
 under the terms of this General Public License.  The "Program", below,
@@ -107,13 +107,13 @@
     notice that there is no warranty (or else, saying that you provide
     a warranty) and that users may redistribute the program under
     these conditions, and telling the user how to view a copy of this
     License.  (Exception: if the Program itself is interactive but
     does not normally print such an announcement, your work based on
     the Program is not required to print an announcement.)
-
+
 These requirements apply to the modified work as a whole.  If
 identifiable sections of that work are not derived from the Program,
 and can be reasonably considered independent and separate works in
 themselves, then this License, and its terms, do not apply to those
 sections when you distribute them as separate works.  But when you
 distribute the same sections as part of a whole which is a work based
@@ -165,13 +165,13 @@
 
 If distribution of executable or object code is made by offering
 access to copy from a designated place, then offering equivalent
 access to copy the source code from the same place counts as
 distribution of the source code, even though third parties are not
 compelled to copy the source along with the object code.
-
+
   4. You may not copy, modify, sublicense, or distribute the Program
 except as expressly provided under this License.  Any attempt
 otherwise to copy, modify, sublicense or distribute the Program is
 void, and will automatically terminate your rights under this License.
 However, parties who have received copies, or rights, from you under
 this License will not have their licenses terminated so long as such
@@ -222,13 +222,13 @@
 system; it is up to the author/donor to decide if he or she is willing
 to distribute software through any other system and a licensee cannot
 impose that choice.
 
 This section is intended to make thoroughly clear what is believed to
 be a consequence of the rest of this License.
-
+
   8. If the distribution and/or use of the Program is restricted in
 certain countries either by patents or by copyrighted interfaces, the
 original copyright holder who places the Program under this License
 may add an explicit geographical distribution limitation excluding
 those countries, so that distribution is permitted only in or among
 countries not thus excluded.  In such case, this License incorporates
@@ -275,13 +275,13 @@
 TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
 YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
 PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
 POSSIBILITY OF SUCH DAMAGES.
 
 		     END OF TERMS AND CONDITIONS
-
+
 	    How to Apply These Terms to Your New Programs
 
   If you develop a new program, and you want it to be of the greatest
 possible use to the public, the best way to achieve this is to make it
 free software which everyone can redistribute and change under these terms.
 
@@ -300,22 +300,23 @@
 
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
 
-    You should have received a copy of the GNU General Public License along
-    with this program; if not, write to the Free Software Foundation, Inc.,
-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
 
 Also add information on how to contact you by electronic and paper mail.
 
 If the program is interactive, make it output a short notice like this
 when it starts in an interactive mode:
 
-    Gnomovision version 69, Copyright (C) year name of author
+    Gnomovision version 69, Copyright (C) year  name of author
     Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
     This is free software, and you are welcome to redistribute it
     under certain conditions; type `show c' for details.
 
 The hypothetical commands `show w' and `show c' should show the appropriate
 parts of the General Public License.  Of course, the commands you use may
@@ -332,8 +333,8 @@
   <signature of Ty Coon>, 1 April 1989
   Ty Coon, President of Vice
 
 This General Public License does not permit incorporating your program into
 proprietary programs.  If your program is a subroutine library, you may
 consider it more useful to permit linking proprietary applications with the
-library.  If this is what you want to do, use the GNU Lesser General
+library.  If this is what you want to do, use the GNU Library General
 Public License instead of this License.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/acinclude.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/acinclude.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/acinclude.m4	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/acinclude.m4	2007-11-28 05:23:09.000000000 +0800
@@ -1,16 +1,16 @@
 # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
-## Copyright 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005, 2006, 2007,
-## 2008  Free Software Foundation, Inc.
+## Copyright 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005, 2006, 2007
+## Free Software Foundation, Inc.
 ## Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 ##
 ## This file is free software; the Free Software Foundation gives
 ## unlimited permission to copy and/or distribute it, with or without
 ## modifications, as long as this notice is preserved.
 
-# serial 52 Debian 1.5.26-1 AC_PROG_LIBTOOL
+# serial 51 Debian 1.5.24-2 AC_PROG_LIBTOOL
 
 
 # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
 # -----------------------------------------------------------
 # If this macro is not defined by Autoconf, define it here.
 m4_ifdef([AC_PROVIDE_IFELSE],
@@ -193,14 +194,12 @@
   if test "$file_magic_cmd" = '$MAGIC_CMD'; then
     AC_PATH_MAGIC
   fi
   ;;
 esac
 
-_LT_REQUIRED_DARWIN_CHECKS
-
 AC_PROVIDE_IFELSE([AC_LIBTOOL_DLOPEN], enable_dlopen=yes, enable_dlopen=no)
 AC_PROVIDE_IFELSE([AC_LIBTOOL_WIN32_DLL],
 enable_win32_dll=yes, enable_win32_dll=no)
 
 AC_ARG_ENABLE([libtool-lock],
     [AC_HELP_STRING([--disable-libtool-lock],
@@ -274,86 +273,15 @@
 AC_DEFUN([_LT_LINKER_BOILERPLATE],
 [AC_REQUIRE([LT_AC_PROG_SED])dnl
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 ])# _LT_LINKER_BOILERPLATE
 
-# _LT_REQUIRED_DARWIN_CHECKS
-# --------------------------
-# Check for some things on darwin
-AC_DEFUN([_LT_REQUIRED_DARWIN_CHECKS],[
-  case $host_os in
-    rhapsody* | darwin*)
-    AC_CHECK_TOOL([DSYMUTIL], [dsymutil], [:])
-    AC_CHECK_TOOL([NMEDIT], [nmedit], [:])
-
-    AC_CACHE_CHECK([for -single_module linker flag],[lt_cv_apple_cc_single_mod],
-      [lt_cv_apple_cc_single_mod=no
-      if test -z "${LT_MULTI_MODULE}"; then
-   # By default we will add the -single_module flag. You can override
-   # by either setting the environment variable LT_MULTI_MODULE
-   # non-empty at configure time, or by adding -multi_module to the
-   # link flags.
-   echo "int foo(void){return 1;}" > conftest.c
-   $LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \
-     -dynamiclib ${wl}-single_module conftest.c
-   if test -f libconftest.dylib; then
-     lt_cv_apple_cc_single_mod=yes
-     rm -rf libconftest.dylib*
-   fi
-   rm conftest.c
-      fi])
-    AC_CACHE_CHECK([for -exported_symbols_list linker flag],
-      [lt_cv_ld_exported_symbols_list],
-      [lt_cv_ld_exported_symbols_list=no
-      save_LDFLAGS=$LDFLAGS
-      echo "_main" > conftest.sym
-      LDFLAGS="$LDFLAGS -Wl,-exported_symbols_list,conftest.sym"
-      AC_LINK_IFELSE([AC_LANG_PROGRAM([],[])],
-   [lt_cv_ld_exported_symbols_list=yes],
-   [lt_cv_ld_exported_symbols_list=no])
-   LDFLAGS="$save_LDFLAGS"
-    ])
-    case $host_os in
-    rhapsody* | darwin1.[[0123]])
-      _lt_dar_allow_undefined='${wl}-undefined ${wl}suppress' ;;
-    darwin1.*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-    darwin*)
-      # if running on 10.5 or later, the deployment target defaults
-      # to the OS version, if on x86, and 10.4, the deployment
-      # target defaults to 10.4. Don't you love it?
-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in
-   10.0,*86*-darwin8*|10.0,*-darwin[[91]]*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-   10.[[012]]*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-   10.*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-      esac
-    ;;
-  esac
-    if test "$lt_cv_apple_cc_single_mod" = "yes"; then
-      _lt_dar_single_mod='$single_module'
-    fi
-    if test "$lt_cv_ld_exported_symbols_list" = "yes"; then
-      _lt_dar_export_syms=' ${wl}-exported_symbols_list,$output_objdir/${libname}-symbols.expsym'
-    else
-      _lt_dar_export_syms="~$NMEDIT -s \$output_objdir/\${libname}-symbols.expsym \${lib}"
-    fi
-    if test "$DSYMUTIL" != ":"; then
-      _lt_dsymutil="~$DSYMUTIL \$lib || :"
-    else
-      _lt_dsymutil=
-    fi
-    ;;
-  esac
-])
 
 # _LT_AC_SYS_LIBPATH_AIX
 # ----------------------
 # Links a minimal program and checks the executable
 # for the system default hardcoded library path. In most cases,
 # this is /usr/lib:/lib, but when the MPI compilers are used
@@ -672,17 +600,13 @@
   echo 'int i;' > conftest.$ac_ext
   if AC_TRY_EVAL(ac_compile); then
     case `/usr/bin/file conftest.o` in
     *64-bit*)
       case $lt_cv_prog_gnu_ld in
       yes*) LD="${LD-ld} -m elf64_sparc" ;;
-      *)
-        if ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then
-	  LD="${LD-ld} -64"
-	fi
-	;;
+      *)    LD="${LD-ld} -64" ;;
       esac
       ;;
     esac
   fi
   rm -rf conftest*
   ;;
@@ -769,13 +693,13 @@
          $2=yes
        fi
      else
        $2=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 ])
 
 if test x"[$]$2" = xyes; then
     ifelse([$4], , :, [$4])
 else
@@ -1040,21 +964,21 @@
    ;;
 
   *)
     AC_CHECK_FUNC([shl_load],
 	  [lt_cv_dlopen="shl_load"],
       [AC_CHECK_LIB([dld], [shl_load],
-	    [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"],
+	    [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"],
 	[AC_CHECK_FUNC([dlopen],
 	      [lt_cv_dlopen="dlopen"],
 	  [AC_CHECK_LIB([dl], [dlopen],
 		[lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
 	    [AC_CHECK_LIB([svld], [dlopen],
 		  [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
 	      [AC_CHECK_LIB([dld], [dld_link],
-		    [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"])
+		    [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"])
 	      ])
 	    ])
 	  ])
 	])
       ])
     ;;
@@ -1365,13 +1289,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[[4-9]]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -1898,19 +1822,12 @@
   dynamic_linker=no
   ;;
 esac
 AC_MSG_RESULT([$dynamic_linker])
 test "$dynamic_linker" = no && can_build_shared=no
 
-AC_CACHE_VAL([lt_cv_sys_lib_search_path_spec],
-[lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"])
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-AC_CACHE_VAL([lt_cv_sys_lib_dlsearch_path_spec],
-[lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"])
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 ])# AC_LIBTOOL_SYS_DYNAMIC_LINKER
 
@@ -2404,13 +2321,13 @@
 # 'file_magic [[regex]]' -- check by looking for files in library path
 # which responds to the $file_magic_cmd with a given extended regex.
 # If you have `file' or equivalent on your system and you're not sure
 # whether `pass_all' will *always* work, you probably want this one.
 
 case $host_os in
-aix[[4-9]]*)
+aix4* | aix5*)
   lt_cv_deplibs_check_method=pass_all
   ;;
 
 beos*)
   lt_cv_deplibs_check_method=pass_all
   ;;
@@ -2844,13 +2761,13 @@
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
 
-aix[[4-9]]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
     ;;
 esac
 AC_MSG_RESULT([$enable_shared])
@@ -2901,13 +2818,12 @@
 # Dependencies to place before and after the object being linked:
 _LT_AC_TAGVAR(predep_objects, $1)=
 _LT_AC_TAGVAR(postdep_objects, $1)=
 _LT_AC_TAGVAR(predeps, $1)=
 _LT_AC_TAGVAR(postdeps, $1)=
 _LT_AC_TAGVAR(compiler_lib_search_path, $1)=
-_LT_AC_TAGVAR(compiler_lib_search_dirs, $1)=
 
 # Source file extension for C++ test sources.
 ac_ext=cpp
 
 # Object file extension for compiled C++ test sources.
 objext=o
@@ -3011,26 +2927,26 @@
 _LT_AC_TAGVAR(ld_shlibs, $1)=yes
 case $host_os in
   aix3*)
     # FIXME: insert proper C++ library support
     _LT_AC_TAGVAR(ld_shlibs, $1)=no
     ;;
-  aix[[4-9]]*)
+  aix4* | aix5*)
     if test "$host_cpu" = ia64; then
       # On IA64, the linker does run time linking by default, so we don't
       # have to do anything special.
       aix_use_runtimelinking=no
       exp_sym_flag='-Bexport'
       no_entry_flag=""
     else
       aix_use_runtimelinking=no
 
       # Test if we are trying to use run time linking or normal
       # AIX style linking. If -brtl is somewhere in LDFLAGS, we
       # need to do runtime linking.
-      case $host_os in aix4.[[23]]|aix4.[[23]].*|aix[[5-9]]*)
+      case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
 	for ld_flag in $LDFLAGS; do
 	  case $ld_flag in
 	  *-brtl*)
 	    aix_use_runtimelinking=yes
 	    break
 	    ;;
@@ -3170,29 +3086,57 @@
       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
     else
       _LT_AC_TAGVAR(ld_shlibs, $1)=no
     fi
   ;;
       darwin* | rhapsody*)
+        case $host_os in
+        rhapsody* | darwin1.[[012]])
+         _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
+         ;;
+       *) # Darwin 1.3 on
+         if test -z ${MACOSX_DEPLOYMENT_TARGET} ; then
+           _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+         else
+           case ${MACOSX_DEPLOYMENT_TARGET} in
+             10.[[012]])
+               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+               ;;
+             10.*)
+               _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}dynamic_lookup'
+               ;;
+           esac
+         fi
+         ;;
+        esac
       _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
       _LT_AC_TAGVAR(hardcode_direct, $1)=no
       _LT_AC_TAGVAR(hardcode_automatic, $1)=yes
       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
       _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
       _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
-      _LT_AC_TAGVAR(allow_undefined_flag, $1)="$_lt_dar_allow_undefined"
-      if test "$GXX" = yes ; then
+
+    if test "$GXX" = yes ; then
+      lt_int_apple_cc_single_mod=no
       output_verbose_link_cmd='echo'
-      _LT_AC_TAGVAR(archive_cmds, $1)="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-      _LT_AC_TAGVAR(module_cmds, $1)="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-      _LT_AC_TAGVAR(archive_expsym_cmds, $1)="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-      _LT_AC_TAGVAR(module_expsym_cmds, $1)="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
-      if test "$lt_cv_apple_cc_single_mod" != "yes"; then
-        _LT_AC_TAGVAR(archive_cmds, $1)="\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dsymutil}"
-        _LT_AC_TAGVAR(archive_expsym_cmds, $1)="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dar_export_syms}${_lt_dsymutil}"
+      if $CC -dumpspecs 2>&1 | $EGREP 'single_module' >/dev/null ; then
+       lt_int_apple_cc_single_mod=yes
       fi
+      if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      else
+          _LT_AC_TAGVAR(archive_cmds, $1)='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+        fi
+        _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+        # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+          if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          else
+            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          fi
+            _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
       else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
           _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
           _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -3437,13 +3381,13 @@
 	esac
 	_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
 	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
 	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive$convenience ${wl}--no-whole-archive'
 	;;
-      pgCC* | pgcpp*)
+      pgCC*)
         # Portland Group C++ compiler
 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
 
 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
 	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
@@ -3876,14 +3820,13 @@
 # AC_LIBTOOL_POSTDEP_PREDEP([TAGNAME])
 # ------------------------------------
 # Figure out "hidden" library dependencies from verbose
 # compiler output when linking a shared library.
 # Parse the compiler output and extract the necessary
 # objects, libraries and library flags.
-AC_DEFUN([AC_LIBTOOL_POSTDEP_PREDEP],
-[AC_REQUIRE([LT_AC_PROG_SED])dnl
+AC_DEFUN([AC_LIBTOOL_POSTDEP_PREDEP],[
 dnl we can't use the lt_simple_compile_test_code here,
 dnl because it contains code intended for an executable,
 dnl not a library.  It's possible we should let each
 dnl tag define a new lt_????_link_test_code variable,
 dnl but it's only used here...
 ifelse([$1],[],[cat > conftest.$ac_ext <<EOF
@@ -4002,17 +3945,12 @@
 else
   echo "libtool.m4: error: problem compiling $1 test program"
 fi
 
 $rm -f confest.$objext
 
-_LT_AC_TAGVAR(compiler_lib_search_dirs, $1)=
-if test -n "$_LT_AC_TAGVAR(compiler_lib_search_path, $1)"; then
-  _LT_AC_TAGVAR(compiler_lib_search_dirs, $1)=`echo " ${_LT_AC_TAGVAR(compiler_lib_search_path, $1)}" | ${SED} -e 's! -L! !g' -e 's!^ !!'`
-fi
-
 # PORTME: override above test on systems where it is broken
 ifelse([$1],[CXX],
 [case $host_os in
 interix[[3-9]]*)
   # Interix 3.5 installs completely hosed .la files for C++, so rather than
   # hack all around it, let's just trust "g++" to DTRT.
@@ -4147,13 +4086,13 @@
   test "$enable_shared" = yes && enable_static=no
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
-aix[[4-9]]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
   ;;
 esac
 AC_MSG_RESULT([$enable_shared])
@@ -4328,13 +4267,12 @@
     _LT_AC_TAGVAR(old_archive_from_new_cmds, $1) \
     _LT_AC_TAGVAR(predep_objects, $1) \
     _LT_AC_TAGVAR(postdep_objects, $1) \
     _LT_AC_TAGVAR(predeps, $1) \
     _LT_AC_TAGVAR(postdeps, $1) \
     _LT_AC_TAGVAR(compiler_lib_search_path, $1) \
-    _LT_AC_TAGVAR(compiler_lib_search_dirs, $1) \
     _LT_AC_TAGVAR(archive_cmds, $1) \
     _LT_AC_TAGVAR(archive_expsym_cmds, $1) \
     _LT_AC_TAGVAR(postinstall_cmds, $1) \
     _LT_AC_TAGVAR(postuninstall_cmds, $1) \
     _LT_AC_TAGVAR(old_archive_from_expsyms_cmds, $1) \
     _LT_AC_TAGVAR(allow_undefined_flag, $1) \
@@ -4391,13 +4329,13 @@
 [#! $SHELL
 
 # `$echo "$cfgfile" | sed 's%^.*/%%'` - Provide generalized library-building support services.
 # Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
 # NOTE: Changes made to this file will be lost: look at ltmain.sh.
 #
-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007
 # Free Software Foundation, Inc.
 #
 # This file is part of GNU Libtool:
 # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 # This program is free software; you can redistribute it and/or modify
@@ -4628,16 +4566,12 @@
 predeps=$lt_[]_LT_AC_TAGVAR(predeps, $1)
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_[]_LT_AC_TAGVAR(postdeps, $1)
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_dirs, $1)
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1)
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -4981,13 +4915,13 @@
       echo "cannot run $lt_cv_sys_global_symbol_pipe" >&AS_MESSAGE_LOG_FD
     fi
   else
     echo "$progname: failed program was:" >&AS_MESSAGE_LOG_FD
     cat conftest.$ac_ext >&5
   fi
-  rm -rf conftest* conftst*
+  rm -f conftest* conftst*
 
   # Do not use the global_symbol_pipe unless it works.
   if test "$pipe_works" = yes; then
     break
   else
     lt_cv_sys_global_symbol_pipe=
@@ -5038,14 +4972,13 @@
       ;;
     mingw* | cygwin* | os2* | pw32*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
       # (--disable-auto-import) libraries
-      m4_if([$1], [GCJ], [],
-	[_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'])
+      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
       ;;
     darwin* | rhapsody*)
       # PIC is the default on this platform
       # Common symbols not allowed in MH_DYLIB files
       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
       ;;
@@ -5076,13 +5009,13 @@
     *)
       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
       ;;
     esac
   else
     case $host_os in
-      aix[[4-9]]*)
+      aix4* | aix5*)
 	# All AIX code is PIC.
 	if test "$host_cpu" = ia64; then
 	  # AIX 5 now supports IA64 processor
 	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
 	else
 	  _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-bnso -bI:/lib/syscalls.exp'
@@ -5172,13 +5105,13 @@
 	  icpc* | ecpc*)
 	    # Intel C++
 	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
 	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
 	    ;;
-	  pgCC* | pgcpp*)
+	  pgCC*)
 	    # Portland Group C++ compiler.
 	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
 	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
 	    ;;
 	  cxx*)
@@ -5323,14 +5256,13 @@
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
       # (--disable-auto-import) libraries
-      m4_if([$1], [GCJ], [],
-	[_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'])
+      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
       ;;
 
     darwin* | rhapsody*)
       # PIC is the default on this platform
       # Common symbols not allowed in MH_DYLIB files
       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
@@ -5394,14 +5326,13 @@
        esac
        ;;
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
-      m4_if([$1], [GCJ], [],
-	[_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'])
+      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-DDLL_EXPORT'
       ;;
 
     hpux9* | hpux10* | hpux11*)
       _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
       # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
       # not for PA HP-UX.
@@ -5532,13 +5463,13 @@
 
 #
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)"; then
   AC_LIBTOOL_COMPILER_OPTION([if $compiler PIC flag $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1) works],
-    _LT_AC_TAGVAR(lt_cv_prog_compiler_pic_works, $1),
+    _LT_AC_TAGVAR(lt_prog_compiler_pic_works, $1),
     [$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)ifelse([$1],[],[ -DPIC],[ifelse([$1],[CXX],[ -DPIC],[])])], [],
     [case $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1) in
      "" | " "*) ;;
      *) _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=" $_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)" ;;
      esac],
     [_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
@@ -5556,13 +5487,13 @@
 
 #
 # Check to make sure the static flag actually works.
 #
 wl=$_LT_AC_TAGVAR(lt_prog_compiler_wl, $1) eval lt_tmp_static_flag=\"$_LT_AC_TAGVAR(lt_prog_compiler_static, $1)\"
 AC_LIBTOOL_LINKER_OPTION([if $compiler static flag $lt_tmp_static_flag works],
-  _LT_AC_TAGVAR(lt_cv_prog_compiler_static_works, $1),
+  _LT_AC_TAGVAR(lt_prog_compiler_static_works, $1),
   $lt_tmp_static_flag,
   [],
   [_LT_AC_TAGVAR(lt_prog_compiler_static, $1)=])
 ])
 
 
@@ -5572,13 +5503,13 @@
 AC_DEFUN([AC_LIBTOOL_PROG_LD_SHLIBS],
 [AC_REQUIRE([LT_AC_PROG_SED])dnl
 AC_MSG_CHECKING([whether the $compiler linker ($LD) supports shared libraries])
 ifelse([$1],[CXX],[
   _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   case $host_os in
-  aix[[4-9]]*)
+  aix4* | aix5*)
     # If we're using GNU nm, then we don't want the "-C" option.
     # -C means demangle to AIX nm, but means don't demangle with GNU nm
     if $NM -V 2>&1 | grep 'GNU' > /dev/null; then
       _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\[$]2 == "T") || (\[$]2 == "D") || (\[$]2 == "B")) && ([substr](\[$]3,1,1) != ".")) { print \[$]3 } }'\'' | sort -u > $export_symbols'
     else
       _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\[$]2 == "T") || (\[$]2 == "D") || (\[$]2 == "B")) && ([substr](\[$]3,1,1) != ".")) { print \[$]3 } }'\'' | sort -u > $export_symbols'
@@ -5594,13 +5525,12 @@
     _LT_AC_TAGVAR(link_all_deplibs, $1)=no
   ;;
   *)
     _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   ;;
   esac
-  _LT_AC_TAGVAR(exclude_expsyms, $1)=['_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*']
 ],[
   runpath_var=
   _LT_AC_TAGVAR(allow_undefined_flag, $1)=
   _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=no
   _LT_AC_TAGVAR(archive_cmds, $1)=
   _LT_AC_TAGVAR(archive_expsym_cmds, $1)=
@@ -5625,20 +5555,18 @@
   # included in the symbol list
   _LT_AC_TAGVAR(include_expsyms, $1)=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  _LT_AC_TAGVAR(exclude_expsyms, $1)=['_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*']
+  _LT_AC_TAGVAR(exclude_expsyms, $1)="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
-dnl Note also adjust exclude_expsyms for C++ above.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   _LT_CC_BASENAME([$compiler])
   case $host_os in
   cygwin* | mingw* | pw32*)
     # FIXME: the MSVC++ port hasn't been tested in a loooong time
@@ -5682,13 +5610,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[[3-9]]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	_LT_AC_TAGVAR(ld_shlibs, $1)=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -5902,13 +5830,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	_LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
       fi
       ;;
 
-    aix[[4-9]]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -5922,13 +5850,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[[23]]|aix4.[[23]].*|aix[[5-9]]*)
+	case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -6082,16 +6010,17 @@
       _LT_AC_TAGVAR(hardcode_automatic, $1)=yes
       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
       _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
       _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        _LT_AC_TAGVAR(archive_cmds, $1)="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        _LT_AC_TAGVAR(module_cmds, $1)="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        _LT_AC_TAGVAR(archive_expsym_cmds, $1)="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        _LT_AC_TAGVAR(module_expsym_cmds, $1)="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -6674,13 +6603,13 @@
 ## Copyright (C) 1999-2006 Free Software Foundation, Inc.
 ##
 ## This file is free software; the Free Software Foundation gives
 ## unlimited permission to copy and/or distribute it, with or without
 ## modifications, as long as this notice is preserved.
 
-# serial 9 AC_LIB_LTDL
+# serial 8 AC_LIB_LTDL
 
 # AC_WITH_LTDL
 # ------------
 # Clients of libltdl can use this macro to allow the installer to
 # choose between a shipped copy of the ltdl sources or a preinstalled
 # version of the library.
@@ -6788,13 +6717,13 @@
   case "$host_os" in
   aix3*|aix4.1.*|aix4.2.*)
     # Unknown whether this is true for these versions of AIX, but
     # we want this `case' here to explicitly catch those versions.
     libltdl_cv_sys_dlopen_deplibs=unknown
     ;;
-  aix[[4-9]]*)
+  aix[[45]]*)
     libltdl_cv_sys_dlopen_deplibs=yes
     ;;
   darwin*)
     # Assuming the user has installed a libdl from somewhere, this is true
     # If you are looking for one http://www.opendarwin.org/projects/dlcompat
     libltdl_cv_sys_dlopen_deplibs=yes
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/aclocal.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/aclocal.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/aclocal.m4	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/aclocal.m4	2008-02-20 03:37:59.000000000 +0800
@@ -1,62 +1,37 @@
-# generated automatically by aclocal 1.10.1 -*- Autoconf -*-
+# generated automatically by aclocal 1.9.6 -*- Autoconf -*-
 
 # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
-# 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2005  Free Software Foundation, Inc.
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
-m4_ifndef([AC_AUTOCONF_VERSION],
-  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-m4_if(AC_AUTOCONF_VERSION, [2.61],,
-[m4_warning([this file was generated for autoconf 2.61.
-You have another version of autoconf.  It may work, but is not guaranteed to.
-If you have problems, you may need to regenerate the build system entirely.
-To do so, use the procedure documented by the package, typically `autoreconf'.])])
-
-# Copyright (C) 2002, 2003, 2005, 2006, 2007  Free Software Foundation, Inc.
+# Copyright (C) 2002, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # AM_AUTOMAKE_VERSION(VERSION)
 # ----------------------------
 # Automake X.Y traces this macro to ensure aclocal.m4 has been
 # generated from the m4 files accompanying Automake X.Y.
-# (This private macro should not be called outside this file.)
-AC_DEFUN([AM_AUTOMAKE_VERSION],
-[am__api_version='1.10'
-dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
-dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.10.1], [],
-      [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
-])
-
-# _AM_AUTOCONF_VERSION(VERSION)
-# -----------------------------
-# aclocal traces this macro to find the Autoconf version.
-# This is a private macro too.  Using m4_define simplifies
-# the logic in aclocal, which can simply ignore this definition.
-m4_define([_AM_AUTOCONF_VERSION], [])
+AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version="1.9"])
 
 # AM_SET_CURRENT_AUTOMAKE_VERSION
 # -------------------------------
-# Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
+# Call AM_AUTOMAKE_VERSION so it can be traced.
 # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.10.1])dnl
-m4_ifndef([AC_AUTOCONF_VERSION],
-  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-_AM_AUTOCONF_VERSION(AC_AUTOCONF_VERSION)])
+	 [AM_AUTOMAKE_VERSION([1.9.6])])
 
 # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
 
 # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
@@ -107,32 +82,30 @@
 # expand $ac_aux_dir to an absolute path
 am_aux_dir=`cd $ac_aux_dir && pwd`
 ])
 
 # AM_CONDITIONAL                                            -*- Autoconf -*-
 
-# Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005, 2006
+# Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005
 # Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 8
+# serial 7
 
 # AM_CONDITIONAL(NAME, SHELL-CONDITION)
 # -------------------------------------
 # Define a conditional.
 AC_DEFUN([AM_CONDITIONAL],
 [AC_PREREQ(2.52)dnl
  ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],
 	[$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl
-AC_SUBST([$1_TRUE])dnl
-AC_SUBST([$1_FALSE])dnl
-_AM_SUBST_NOTMAKE([$1_TRUE])dnl
-_AM_SUBST_NOTMAKE([$1_FALSE])dnl
+AC_SUBST([$1_TRUE])
+AC_SUBST([$1_FALSE])
 if $2; then
   $1_TRUE=
   $1_FALSE='#'
 else
   $1_TRUE='#'
   $1_FALSE=
@@ -140,20 +113,21 @@
 AC_CONFIG_COMMANDS_PRE(
 [if test -z "${$1_TRUE}" && test -z "${$1_FALSE}"; then
   AC_MSG_ERROR([[conditional "$1" was never defined.
 Usually this means the macro was only invoked conditionally.]])
 fi])])
 
-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006
+
+# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
 # Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 9
+# serial 8
 
 # There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
 # written in clear, in which case automake, when reading aclocal.m4,
 # will think it sees a *use*, and therefore will trigger all it's
 # C support machinery.  Also note that it means that autoscan, seeing
 # CC etc. in the Makefile, will ask for an AC_PROG_CC use...
@@ -175,13 +149,12 @@
 AC_REQUIRE([AM_MAKE_INCLUDE])dnl
 AC_REQUIRE([AM_DEP_TRACK])dnl
 
 ifelse([$1], CC,   [depcc="$CC"   am_compiler_list=],
        [$1], CXX,  [depcc="$CXX"  am_compiler_list=],
        [$1], OBJC, [depcc="$OBJC" am_compiler_list='gcc3 gcc'],
-       [$1], UPC,  [depcc="$UPC"  am_compiler_list=],
        [$1], GCJ,  [depcc="$GCJ"  am_compiler_list='gcc3 gcc'],
                    [depcc="$$1"   am_compiler_list=])
 
 AC_CACHE_CHECK([dependency style of $depcc],
                [am_cv_$1_dependencies_compiler_type],
 [if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
@@ -241,13 +214,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -294,14 +266,13 @@
   --enable-dependency-tracking   do not reject slow dependency extractors])
 if test "x$enable_dependency_tracking" != xno; then
   am_depcomp="$ac_aux_dir/depcomp"
   AMDEPBACKSLASH='\'
 fi
 AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
-AC_SUBST([AMDEPBACKSLASH])dnl
-_AM_SUBST_NOTMAKE([AMDEPBACKSLASH])dnl
+AC_SUBST([AMDEPBACKSLASH])
 ])
 
 # Generate code to set up dependency tracking.              -*- Autoconf -*-
 
 # Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
 # Free Software Foundation, Inc.
@@ -320,15 +291,14 @@
   mf=`echo "$mf" | sed -e 's/:.*$//'`
   # Check whether this is an Automake generated Makefile or not.
   # We used to match only the files named `Makefile.in', but
   # some people rename them; so instead we look at the file content.
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
-  # Grep'ing the whole file is not good either: AIX grep has a line
-  # limit of 2048, but all sed's we know have understand at least 4000.
-  if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
+  # So let's grep whole file.
+  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
     dirpart=`AS_DIRNAME("$mf")`
   else
     continue
   fi
   # Extract the definition of DEPDIR, am__include, and am__quote
   # from the Makefile without running `make'.
@@ -381,20 +351,20 @@
 
 # AM_CONFIG_HEADER is obsolete.  It has been replaced by AC_CONFIG_HEADERS.
 AU_DEFUN([AM_CONFIG_HEADER], [AC_CONFIG_HEADERS($@)])
 
 # Do all the work for Automake.                             -*- Autoconf -*-
 
-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
-# 2005, 2006, 2008 Free Software Foundation, Inc.
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
+# Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 13
+# serial 12
 
 # This macro actually does too much.  Some checks are only needed if
 # your package does certain things.  But this isn't really a big deal.
 
 # AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])
 # AM_INIT_AUTOMAKE([OPTIONS])
@@ -405,26 +375,22 @@
 # the call to AM_INIT_AUTOMAKE.
 # We support both call styles for the transition.  After
 # the next Automake release, Autoconf can make the AC_INIT
 # arguments mandatory, and then we can depend on a new Autoconf
 # release and drop the old call support.
 AC_DEFUN([AM_INIT_AUTOMAKE],
-[AC_PREREQ([2.60])dnl
+[AC_PREREQ([2.58])dnl
 dnl Autoconf wants to disallow AM_ names.  We explicitly allow
 dnl the ones we care about.
 m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl
 AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
 AC_REQUIRE([AC_PROG_INSTALL])dnl
-if test "`cd $srcdir && pwd`" != "`pwd`"; then
-  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
-  # is not polluted with repeated "-I."
-  AC_SUBST([am__isrc], [' -I$(srcdir)'])_AM_SUBST_NOTMAKE([am__isrc])dnl
-  # test to see if srcdir already configured
-  if test -f $srcdir/config.status; then
-    AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
-  fi
+# test to see if srcdir already configured
+if test "`cd $srcdir && pwd`" != "`pwd`" &&
+   test -f $srcdir/config.status; then
+  AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
 fi
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
   if (cygpath --version) >/dev/null 2>/dev/null; then
     CYGPATH_W='cygpath -w'
@@ -438,15 +404,12 @@
 dnl Distinguish between old-style and new-style calls.
 m4_ifval([$2],
 [m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl
  AC_SUBST([PACKAGE], [$1])dnl
  AC_SUBST([VERSION], [$2])],
 [_AM_SET_OPTIONS([$1])dnl
-dnl Diagnose old-style AC_INIT with new-style AM_AUTOMAKE_INIT.
-m4_if(m4_ifdef([AC_PACKAGE_NAME], 1)m4_ifdef([AC_PACKAGE_VERSION], 1), 11,,
-  [m4_fatal([AC_INIT should be called with package and version arguments])])dnl
  AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl
  AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl
 
 _AM_IF_OPTION([no-define],,
 [AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
  AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])dnl
@@ -476,16 +439,12 @@
                   [define([AC_PROG_CC],
                           defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
 AC_PROVIDE_IFELSE([AC_PROG_CXX],
                   [_AM_DEPENDENCIES(CXX)],
                   [define([AC_PROG_CXX],
                           defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
-AC_PROVIDE_IFELSE([AC_PROG_OBJC],
-                  [_AM_DEPENDENCIES(OBJC)],
-                  [define([AC_PROG_OBJC],
-                          defn([AC_PROG_OBJC])[_AM_DEPENDENCIES(OBJC)])])dnl
 ])
 ])
 
 
 # When config.status generates a header, we must update the stamp-h file.
 # This file resides in the same directory as the config header
@@ -493,36 +452,35 @@
 
 # Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the
 # loop where config.status creates the headers, so we can generate
 # our stamp files there.
 AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],
 [# Compute $1's index in $config_headers.
-_am_arg=$1
 _am_stamp_count=1
 for _am_header in $config_headers :; do
   case $_am_header in
-    $_am_arg | $_am_arg:* )
+    $1 | $1:* )
       break ;;
     * )
       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
   esac
 done
-echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
+echo "timestamp for $1" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])
 
 # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # AM_PROG_INSTALL_SH
 # ------------------
 # Define $install_sh.
 AC_DEFUN([AM_PROG_INSTALL_SH],
 [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
-install_sh=${install_sh-"\$(SHELL) $am_aux_dir/install-sh"}
+install_sh=${install_sh-"$am_aux_dir/install-sh"}
 AC_SUBST(install_sh)])
 
 # Copyright (C) 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -594,20 +552,20 @@
 AC_MSG_RESULT([$_am_result])
 rm -f confinc confmf
 ])
 
 # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
 
-# Copyright (C) 1997, 1999, 2000, 2001, 2003, 2004, 2005
+# Copyright (C) 1997, 1999, 2000, 2001, 2003, 2005
 # Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# serial 5
+# serial 4
 
 # AM_MISSING_PROG(NAME, PROGRAM)
 # ------------------------------
 AC_DEFUN([AM_MISSING_PROG],
 [AC_REQUIRE([AM_MISSING_HAS_RUN])
 $1=${$1-"${am_missing_run}$2"}
@@ -617,48 +575,84 @@
 # AM_MISSING_HAS_RUN
 # ------------------
 # Define MISSING if not defined so far and test if it supports --run.
 # If it does, set am_missing_run to use it, otherwise, to nothing.
 AC_DEFUN([AM_MISSING_HAS_RUN],
 [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
-AC_REQUIRE_AUX_FILE([missing])dnl
 test x"${MISSING+set}" = xset || MISSING="\${SHELL} $am_aux_dir/missing"
 # Use eval to expand $SHELL
 if eval "$MISSING --run true"; then
   am_missing_run="$MISSING --run "
 else
   am_missing_run=
   AC_MSG_WARN([`missing' script is too old or missing])
 fi
 ])
 
-# Copyright (C) 2003, 2004, 2005, 2006  Free Software Foundation, Inc.
+# Copyright (C) 2003, 2004, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # AM_PROG_MKDIR_P
 # ---------------
-# Check for `mkdir -p'.
+# Check whether `mkdir -p' is supported, fallback to mkinstalldirs otherwise.
+#
+# Automake 1.8 used `mkdir -m 0755 -p --' to ensure that directories
+# created by `make install' are always world readable, even if the
+# installer happens to have an overly restrictive umask (e.g. 077).
+# This was a mistake.  There are at least two reasons why we must not
+# use `-m 0755':
+#   - it causes special bits like SGID to be ignored,
+#   - it may be too restrictive (some setups expect 775 directories).
+#
+# Do not use -m 0755 and let people choose whatever they expect by
+# setting umask.
+#
+# We cannot accept any implementation of `mkdir' that recognizes `-p'.
+# Some implementations (such as Solaris 8's) are not thread-safe: if a
+# parallel make tries to run `mkdir -p a/b' and `mkdir -p a/c'
+# concurrently, both version can detect that a/ is missing, but only
+# one can create it and the other will error out.  Consequently we
+# restrict ourselves to GNU make (using the --version option ensures
+# this.)
 AC_DEFUN([AM_PROG_MKDIR_P],
-[AC_PREREQ([2.60])dnl
-AC_REQUIRE([AC_PROG_MKDIR_P])dnl
-dnl Automake 1.8 to 1.9.6 used to define mkdir_p.  We now use MKDIR_P,
-dnl while keeping a definition of mkdir_p for backward compatibility.
-dnl @MKDIR_P@ is magic: AC_OUTPUT adjusts its value for each Makefile.
-dnl However we cannot define mkdir_p as $(MKDIR_P) for the sake of
-dnl Makefile.ins that do not define MKDIR_P, so we do our own
-dnl adjustment using top_builddir (which is defined more often than
-dnl MKDIR_P).
-AC_SUBST([mkdir_p], ["$MKDIR_P"])dnl
-case $mkdir_p in
-  [[\\/$]]* | ?:[[\\/]]*) ;;
-  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
-esac
-])
+[if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+  # We used to keeping the `.' as first argument, in order to
+  # allow $(mkdir_p) to be used without argument.  As in
+  #   $(mkdir_p) $(somedir)
+  # where $(somedir) is conditionally defined.  However this is wrong
+  # for two reasons:
+  #  1. if the package is installed by a user who cannot write `.'
+  #     make install will fail,
+  #  2. the above comment should most certainly read
+  #     $(mkdir_p) $(DESTDIR)$(somedir)
+  #     so it does not work when $(somedir) is undefined and
+  #     $(DESTDIR) is not.
+  #  To support the latter case, we have to write
+  #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+  #  so the `.' trick is pointless.
+  mkdir_p='mkdir -p --'
+else
+  # On NextStep and OpenStep, the `mkdir' command does not
+  # recognize any option.  It will interpret all options as
+  # directories to create, and then abort because `.' already
+  # exists.
+  for d in ./-p ./--version;
+  do
+    test -d $d && rmdir $d
+  done
+  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+  if test -f "$ac_aux_dir/mkinstalldirs"; then
+    mkdir_p='$(mkinstalldirs)'
+  else
+    mkdir_p='$(install_sh) -d'
+  fi
+fi
+AC_SUBST([mkdir_p])])
 
 # Helper functions for option handling.                     -*- Autoconf -*-
 
 # Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
@@ -764,27 +758,15 @@
 # tool to use in cross-compilation environments, therefore Automake
 # will honor the `STRIP' environment variable to overrule this program.
 dnl Don't test for $cross_compiling = yes, because it might be `maybe'.
 if test "$cross_compiling" != no; then
   AC_CHECK_TOOL([STRIP], [strip], :)
 fi
-INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
+INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
 AC_SUBST([INSTALL_STRIP_PROGRAM])])
 
-# Copyright (C) 2006  Free Software Foundation, Inc.
-#
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-
-# _AM_SUBST_NOTMAKE(VARIABLE)
-# ---------------------------
-# Prevent Automake from outputting VARIABLE = @VARIABLE@ in Makefile.in.
-# This macro is traced by Automake.
-AC_DEFUN([_AM_SUBST_NOTMAKE])
-
 # Check how to create a tarball.                            -*- Autoconf -*-
 
 # Copyright (C) 2004, 2005  Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/configure	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/configure	2008-02-20 03:38:03.000000000 +0800
@@ -806,13 +806,12 @@
 build_alias
 host_alias
 target_alias
 INSTALL_PROGRAM
 INSTALL_SCRIPT
 INSTALL_DATA
-am__isrc
 CYGPATH_W
 PACKAGE
 VERSION
 ACLOCAL
 AUTOCONF
 AUTOMAKE
@@ -856,14 +855,12 @@
 GREP
 EGREP
 LN_S
 ECHO
 AR
 RANLIB
-DSYMUTIL
-NMEDIT
 DLLTOOL
 AS
 OBJDUMP
 CPP
 CXX
 CXXFLAGS
@@ -1998,14 +1995,13 @@
 fi
 
 
 ## ------------------------ ##
 ## Automake Initialisation. ##
 ## ------------------------ ##
-am__api_version='1.10'
-
+am__api_version="1.9"
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
 # SysV /etc/install, /usr/sbin/install
 # SunOS /usr/etc/install
 # IRIX /sbin/install
@@ -2151,59 +2147,44 @@
 else
   am_missing_run=
   { echo "$as_me:$LINENO: WARNING: \`missing' script is too old or missing" >&5
 echo "$as_me: WARNING: \`missing' script is too old or missing" >&2;}
 fi
 
-{ echo "$as_me:$LINENO: checking for a thread-safe mkdir -p" >&5
-echo $ECHO_N "checking for a thread-safe mkdir -p... $ECHO_C" >&6; }
-if test -z "$MKDIR_P"; then
-  if test "${ac_cv_path_mkdir+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_prog in mkdir gmkdir; do
-	 for ac_exec_ext in '' $ac_executable_extensions; do
-	   { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; } || continue
-	   case `"$as_dir/$ac_prog$ac_exec_ext" --version 2>&1` in #(
-	     'mkdir (GNU coreutils) '* | \
-	     'mkdir (coreutils) '* | \
-	     'mkdir (fileutils) '4.1*)
-	       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext
-	       break 3;;
-	   esac
-	 done
-       done
-done
-IFS=$as_save_IFS
-
-fi
-
-  if test "${ac_cv_path_mkdir+set}" = set; then
-    MKDIR_P="$ac_cv_path_mkdir -p"
+if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+  # We used to keeping the `.' as first argument, in order to
+  # allow $(mkdir_p) to be used without argument.  As in
+  #   $(mkdir_p) $(somedir)
+  # where $(somedir) is conditionally defined.  However this is wrong
+  # for two reasons:
+  #  1. if the package is installed by a user who cannot write `.'
+  #     make install will fail,
+  #  2. the above comment should most certainly read
+  #     $(mkdir_p) $(DESTDIR)$(somedir)
+  #     so it does not work when $(somedir) is undefined and
+  #     $(DESTDIR) is not.
+  #  To support the latter case, we have to write
+  #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+  #  so the `.' trick is pointless.
+  mkdir_p='mkdir -p --'
+else
+  # On NextStep and OpenStep, the `mkdir' command does not
+  # recognize any option.  It will interpret all options as
+  # directories to create, and then abort because `.' already
+  # exists.
+  for d in ./-p ./--version;
+  do
+    test -d $d && rmdir $d
+  done
+  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+  if test -f "$ac_aux_dir/mkinstalldirs"; then
+    mkdir_p='$(mkinstalldirs)'
   else
-    # As a last resort, use the slow shell script.  Don't cache a
-    # value for MKDIR_P within a source directory, because that will
-    # break other packages using the cache if that directory is
-    # removed, or if the value is a relative name.
-    test -d ./--version && rmdir ./--version
-    MKDIR_P="$ac_install_sh -d"
+    mkdir_p='$(install_sh) -d'
   fi
 fi
-{ echo "$as_me:$LINENO: result: $MKDIR_P" >&5
-echo "${ECHO_T}$MKDIR_P" >&6; }
-
-mkdir_p="$MKDIR_P"
-case $mkdir_p in
-  [\\/$]* | ?:[\\/]*) ;;
-  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
-esac
 
 for ac_prog in gawk mawk nawk awk
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
 { echo "$as_me:$LINENO: checking for $ac_word" >&5
@@ -2280,22 +2261,18 @@
   am__leading_dot=.
 else
   am__leading_dot=_
 fi
 rmdir .tst 2>/dev/null
 
-if test "`cd $srcdir && pwd`" != "`pwd`"; then
-  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
-  # is not polluted with repeated "-I."
-  am__isrc=' -I$(srcdir)'
-  # test to see if srcdir already configured
-  if test -f $srcdir/config.status; then
-    { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
+# test to see if srcdir already configured
+if test "`cd $srcdir && pwd`" != "`pwd`" &&
+   test -f $srcdir/config.status; then
+  { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
 echo "$as_me: error: source directory already configured; run \"make distclean\" there first" >&2;}
    { (exit 1); exit 1; }; }
-  fi
 fi
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
   if (cygpath --version) >/dev/null 2>/dev/null; then
     CYGPATH_W='cygpath -w'
@@ -2323,13 +2300,13 @@
 
 AUTOHEADER=${AUTOHEADER-"${am_missing_run}autoheader"}
 
 
 MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}
 
-install_sh=${install_sh-"\$(SHELL) $am_aux_dir/install-sh"}
+install_sh=${install_sh-"$am_aux_dir/install-sh"}
 
 # Installed binaries are usually stripped using `strip' when the user
 # run `make install-strip'.  However `strip' might not be the right
 # tool to use in cross-compilation environments, therefore Automake
 # will honor the `STRIP' environment variable to overrule this program.
 if test "$cross_compiling" != no; then
@@ -2427,13 +2404,13 @@
   fi
 else
   STRIP="$ac_cv_prog_STRIP"
 fi
 
 fi
-INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
+INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
 
 # We need awk for the "check" target.  The system "awk" is bad on
 # some platforms.
 # Always define AMTAR for backward compatibility.
 
 AMTAR=${AMTAR-"${am_missing_run}tar"}
@@ -3419,13 +3396,15 @@
 fi
 
 if test "x$enable_dependency_tracking" != xno; then
   am_depcomp="$ac_aux_dir/depcomp"
   AMDEPBACKSLASH='\'
 fi
- if test "x$enable_dependency_tracking" != xno; then
+
+
+if test "x$enable_dependency_tracking" != xno; then
   AMDEP_TRUE=
   AMDEP_FALSE='#'
 else
   AMDEP_TRUE='#'
   AMDEP_FALSE=
 fi
@@ -3496,13 +3476,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -3526,13 +3505,15 @@
 
 fi
 { echo "$as_me:$LINENO: result: $am_cv_CC_dependencies_compiler_type" >&5
 echo "${ECHO_T}$am_cv_CC_dependencies_compiler_type" >&6; }
 CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type
 
- if
+
+
+if
   test "x$enable_dependency_tracking" != xno \
   && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
   am__fastdepCC_TRUE=
   am__fastdepCC_FALSE='#'
 else
   am__fastdepCC_TRUE='#'
@@ -4312,13 +4293,13 @@
 # 'file_magic [[regex]]' -- check by looking for files in library path
 # which responds to the $file_magic_cmd with a given extended regex.
 # If you have `file' or equivalent on your system and you're not sure
 # whether `pass_all' will *always* work, you probably want this one.
 
 case $host_os in
-aix[4-9]*)
+aix4* | aix5*)
   lt_cv_deplibs_check_method=pass_all
   ;;
 
 beos*)
   lt_cv_deplibs_check_method=pass_all
   ;;
@@ -4527,13 +4508,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 4533 "configure"' > conftest.$ac_ext
+  echo '#line 4514 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -4699,17 +4680,13 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
     case `/usr/bin/file conftest.o` in
     *64-bit*)
       case $lt_cv_prog_gnu_ld in
       yes*) LD="${LD-ld} -m elf64_sparc" ;;
-      *)
-        if ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then
-	  LD="${LD-ld} -64"
-	fi
-	;;
+      *)    LD="${LD-ld} -64" ;;
       esac
       ;;
     esac
   fi
   rm -rf conftest*
   ;;
@@ -6057,13 +6034,12 @@
     # handle `-M -o', and we need to detect this.
     if depmode=$depmode \
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
          >/dev/null 2>conftest.err &&
-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -6087,13 +6063,15 @@
 
 fi
 { echo "$as_me:$LINENO: result: $am_cv_CXX_dependencies_compiler_type" >&5
 echo "${ECHO_T}$am_cv_CXX_dependencies_compiler_type" >&6; }
 CXXDEPMODE=depmode=$am_cv_CXX_dependencies_compiler_type
 
- if
+
+
+if
   test "x$enable_dependency_tracking" != xno \
   && test "$am_cv_CXX_dependencies_compiler_type" = gcc3; then
   am__fastdepCXX_TRUE=
   am__fastdepCXX_FALSE='#'
 else
   am__fastdepCXX_TRUE='#'
@@ -6909,13 +6888,13 @@
       echo "cannot run $lt_cv_sys_global_symbol_pipe" >&5
     fi
   else
     echo "$progname: failed program was:" >&5
     cat conftest.$ac_ext >&5
   fi
-  rm -rf conftest* conftst*
+  rm -f conftest* conftst*
 
   # Do not use the global_symbol_pipe unless it works.
   if test "$pipe_works" = yes; then
     break
   else
     lt_cv_sys_global_symbol_pipe=
@@ -7469,324 +7448,12 @@
 fi
 
   fi
   ;;
 esac
 
-
-  case $host_os in
-    rhapsody* | darwin*)
-    if test -n "$ac_tool_prefix"; then
-  # Extract the first word of "${ac_tool_prefix}dsymutil", so it can be a program name with args.
-set dummy ${ac_tool_prefix}dsymutil; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_DSYMUTIL+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$DSYMUTIL"; then
-  ac_cv_prog_DSYMUTIL="$DSYMUTIL" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_DSYMUTIL="${ac_tool_prefix}dsymutil"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-DSYMUTIL=$ac_cv_prog_DSYMUTIL
-if test -n "$DSYMUTIL"; then
-  { echo "$as_me:$LINENO: result: $DSYMUTIL" >&5
-echo "${ECHO_T}$DSYMUTIL" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-
-fi
-if test -z "$ac_cv_prog_DSYMUTIL"; then
-  ac_ct_DSYMUTIL=$DSYMUTIL
-  # Extract the first word of "dsymutil", so it can be a program name with args.
-set dummy dsymutil; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_ac_ct_DSYMUTIL+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$ac_ct_DSYMUTIL"; then
-  ac_cv_prog_ac_ct_DSYMUTIL="$ac_ct_DSYMUTIL" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_ac_ct_DSYMUTIL="dsymutil"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-ac_ct_DSYMUTIL=$ac_cv_prog_ac_ct_DSYMUTIL
-if test -n "$ac_ct_DSYMUTIL"; then
-  { echo "$as_me:$LINENO: result: $ac_ct_DSYMUTIL" >&5
-echo "${ECHO_T}$ac_ct_DSYMUTIL" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-  if test "x$ac_ct_DSYMUTIL" = x; then
-    DSYMUTIL=":"
-  else
-    case $cross_compiling:$ac_tool_warned in
-yes:)
-{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&5
-echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&2;}
-ac_tool_warned=yes ;;
-esac
-    DSYMUTIL=$ac_ct_DSYMUTIL
-  fi
-else
-  DSYMUTIL="$ac_cv_prog_DSYMUTIL"
-fi
-
-    if test -n "$ac_tool_prefix"; then
-  # Extract the first word of "${ac_tool_prefix}nmedit", so it can be a program name with args.
-set dummy ${ac_tool_prefix}nmedit; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_NMEDIT+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$NMEDIT"; then
-  ac_cv_prog_NMEDIT="$NMEDIT" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_NMEDIT="${ac_tool_prefix}nmedit"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-NMEDIT=$ac_cv_prog_NMEDIT
-if test -n "$NMEDIT"; then
-  { echo "$as_me:$LINENO: result: $NMEDIT" >&5
-echo "${ECHO_T}$NMEDIT" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-
-fi
-if test -z "$ac_cv_prog_NMEDIT"; then
-  ac_ct_NMEDIT=$NMEDIT
-  # Extract the first word of "nmedit", so it can be a program name with args.
-set dummy nmedit; ac_word=$2
-{ echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
-if test "${ac_cv_prog_ac_ct_NMEDIT+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$ac_ct_NMEDIT"; then
-  ac_cv_prog_ac_ct_NMEDIT="$ac_ct_NMEDIT" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
-    ac_cv_prog_ac_ct_NMEDIT="nmedit"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-IFS=$as_save_IFS
-
-fi
-fi
-ac_ct_NMEDIT=$ac_cv_prog_ac_ct_NMEDIT
-if test -n "$ac_ct_NMEDIT"; then
-  { echo "$as_me:$LINENO: result: $ac_ct_NMEDIT" >&5
-echo "${ECHO_T}$ac_ct_NMEDIT" >&6; }
-else
-  { echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6; }
-fi
-
-  if test "x$ac_ct_NMEDIT" = x; then
-    NMEDIT=":"
-  else
-    case $cross_compiling:$ac_tool_warned in
-yes:)
-{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&5
-echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
-whose name does not start with the host triplet.  If you think this
-configuration is useful to you, please write to autoconf@gnu.org." >&2;}
-ac_tool_warned=yes ;;
-esac
-    NMEDIT=$ac_ct_NMEDIT
-  fi
-else
-  NMEDIT="$ac_cv_prog_NMEDIT"
-fi
-
-
-    { echo "$as_me:$LINENO: checking for -single_module linker flag" >&5
-echo $ECHO_N "checking for -single_module linker flag... $ECHO_C" >&6; }
-if test "${lt_cv_apple_cc_single_mod+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_apple_cc_single_mod=no
-      if test -z "${LT_MULTI_MODULE}"; then
-   # By default we will add the -single_module flag. You can override
-   # by either setting the environment variable LT_MULTI_MODULE
-   # non-empty at configure time, or by adding -multi_module to the
-   # link flags.
-   echo "int foo(void){return 1;}" > conftest.c
-   $LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \
-     -dynamiclib ${wl}-single_module conftest.c
-   if test -f libconftest.dylib; then
-     lt_cv_apple_cc_single_mod=yes
-     rm -rf libconftest.dylib*
-   fi
-   rm conftest.c
-      fi
-fi
-{ echo "$as_me:$LINENO: result: $lt_cv_apple_cc_single_mod" >&5
-echo "${ECHO_T}$lt_cv_apple_cc_single_mod" >&6; }
-    { echo "$as_me:$LINENO: checking for -exported_symbols_list linker flag" >&5
-echo $ECHO_N "checking for -exported_symbols_list linker flag... $ECHO_C" >&6; }
-if test "${lt_cv_ld_exported_symbols_list+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_ld_exported_symbols_list=no
-      save_LDFLAGS=$LDFLAGS
-      echo "_main" > conftest.sym
-      LDFLAGS="$LDFLAGS -Wl,-exported_symbols_list,conftest.sym"
-      cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-int
-main ()
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  lt_cv_ld_exported_symbols_list=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	lt_cv_ld_exported_symbols_list=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-   LDFLAGS="$save_LDFLAGS"
-
-fi
-{ echo "$as_me:$LINENO: result: $lt_cv_ld_exported_symbols_list" >&5
-echo "${ECHO_T}$lt_cv_ld_exported_symbols_list" >&6; }
-    case $host_os in
-    rhapsody* | darwin1.[0123])
-      _lt_dar_allow_undefined='${wl}-undefined ${wl}suppress' ;;
-    darwin1.*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-    darwin*)
-      # if running on 10.5 or later, the deployment target defaults
-      # to the OS version, if on x86, and 10.4, the deployment
-      # target defaults to 10.4. Don't you love it?
-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in
-   10.0,*86*-darwin8*|10.0,*-darwin[91]*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-   10.[012]*)
-     _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;
-   10.*)
-     _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;
-      esac
-    ;;
-  esac
-    if test "$lt_cv_apple_cc_single_mod" = "yes"; then
-      _lt_dar_single_mod='$single_module'
-    fi
-    if test "$lt_cv_ld_exported_symbols_list" = "yes"; then
-      _lt_dar_export_syms=' ${wl}-exported_symbols_list,$output_objdir/${libname}-symbols.expsym'
-    else
-      _lt_dar_export_syms="~$NMEDIT -s \$output_objdir/\${libname}-symbols.expsym \${lib}"
-    fi
-    if test "$DSYMUTIL" != ":"; then
-      _lt_dsymutil="~$DSYMUTIL \$lib || :"
-    else
-      _lt_dsymutil=
-    fi
-    ;;
-  esac
-
-
 enable_dlopen=no
 enable_win32_dll=yes
 
 # Check whether --enable-libtool-lock was given.
 if test "${enable_libtool_lock+set}" = set; then
   enableval=$enable_libtool_lock;
@@ -7846,13 +7513,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 ## CAVEAT EMPTOR:
 ## There is no encapsulation within the following macros, do not change
 ## the running order or otherwise move them around unless you know exactly
 ## what you are doing...
@@ -7878,17 +7545,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:7884: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:7551: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:7888: \$? = $ac_status" >&5
+   echo "$as_me:7555: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8152,49 +7819,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works+set}" = set; then
+if test "${lt_prog_compiler_pic_works+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works=no
+  lt_prog_compiler_pic_works=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic -DPIC"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8174: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:7841: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8178: \$? = $ac_status" >&5
+   echo "$as_me:7845: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works=yes
+       lt_prog_compiler_pic_works=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works" = xyes; then
+if test x"$lt_prog_compiler_pic_works" = xyes; then
     case $lt_prog_compiler_pic in
      "" | " "*) ;;
      *) lt_prog_compiler_pic=" $lt_prog_compiler_pic" ;;
      esac
 else
     lt_prog_compiler_pic=
@@ -8215,42 +7882,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl eval lt_tmp_static_flag=\"$lt_prog_compiler_static\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works+set}" = set; then
+if test "${lt_prog_compiler_static_works+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works=no
+  lt_prog_compiler_static_works=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works=yes
+         lt_prog_compiler_static_works=yes
        fi
      else
-       lt_cv_prog_compiler_static_works=yes
+       lt_prog_compiler_static_works=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works" = xyes; then
+if test x"$lt_prog_compiler_static_works" = xyes; then
     :
 else
     lt_prog_compiler_static=
 fi
 
 
@@ -8272,17 +7939,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8278: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:7945: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:8282: \$? = $ac_status" >&5
+   echo "$as_me:7949: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -8356,19 +8023,18 @@
   # included in the symbol list
   include_expsyms=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  exclude_expsyms='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
+  exclude_expsyms="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   for cc_temp in $compiler""; do
   case $cc_temp in
     compile | *[\\/]compile | ccache | *[\\/]ccache ) ;;
     distcc | *[\\/]distcc | purify | *[\\/]purify ) ;;
@@ -8421,13 +8087,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[3-9]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	ld_shlibs=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -8641,13 +8307,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	hardcode_direct=unsupported
       fi
       ;;
 
-    aix[4-9]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -8661,13 +8327,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+	case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -8933,16 +8599,17 @@
       hardcode_automatic=yes
       hardcode_shlibpath_var=unsupported
       whole_archive_flag_spec=''
       link_all_deplibs=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        archive_cmds="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        module_cmds="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        archive_expsym_cmds="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        module_expsym_cmds="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        archive_cmds='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      archive_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      module_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          archive_cmds='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -9456,13 +9123,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -9990,27 +9657,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -10324,13 +9976,13 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
 echo "${ECHO_T}$ac_cv_lib_dld_shl_load" >&6; }
 if test $ac_cv_lib_dld_shl_load = yes; then
-  lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-ldld"
+  lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"
 else
   { echo "$as_me:$LINENO: checking for dlopen" >&5
 echo $ECHO_N "checking for dlopen... $ECHO_C" >&6; }
 if test "${ac_cv_func_dlopen+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -10600,13 +10252,13 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link" >&5
 echo "${ECHO_T}$ac_cv_lib_dld_dld_link" >&6; }
 if test $ac_cv_lib_dld_dld_link = yes; then
-  lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-ldld"
+  lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"
 fi
 
 
 fi
 
 
@@ -10649,13 +10301,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 10655 "configure"
+#line 10307 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -10749,13 +10401,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 10755 "configure"
+#line 10407 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -10876,13 +10528,13 @@
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
     ;;
 esac
 { echo "$as_me:$LINENO: result: $enable_shared" >&5
@@ -10932,13 +10584,12 @@
     old_archive_from_new_cmds \
     predep_objects \
     postdep_objects \
     predeps \
     postdeps \
     compiler_lib_search_path \
-    compiler_lib_search_dirs \
     archive_cmds \
     archive_expsym_cmds \
     postinstall_cmds \
     postuninstall_cmds \
     old_archive_from_expsyms_cmds \
     allow_undefined_flag \
@@ -10993,13 +10644,13 @@
 #! $SHELL
 
 # `$echo "$cfgfile" | sed 's%^.*/%%'` - Provide generalized library-building support services.
 # Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
 # NOTE: Changes made to this file will be lost: look at ltmain.sh.
 #
-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007
 # Free Software Foundation, Inc.
 #
 # This file is part of GNU Libtool:
 # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 # This program is free software; you can redistribute it and/or modify
@@ -11229,16 +10880,12 @@
 predeps=$lt_predeps
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -11481,13 +11128,12 @@
 # Dependencies to place before and after the object being linked:
 predep_objects_CXX=
 postdep_objects_CXX=
 predeps_CXX=
 postdeps_CXX=
 compiler_lib_search_path_CXX=
-compiler_lib_search_dirs_CXX=
 
 # Source file extension for C++ test sources.
 ac_ext=cpp
 
 # Object file extension for compiled C++ test sources.
 objext=o
@@ -11519,13 +11165,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC=$CC
 lt_save_LD=$LD
 lt_save_GCC=$GCC
@@ -11726,26 +11372,26 @@
 ld_shlibs_CXX=yes
 case $host_os in
   aix3*)
     # FIXME: insert proper C++ library support
     ld_shlibs_CXX=no
     ;;
-  aix[4-9]*)
+  aix4* | aix5*)
     if test "$host_cpu" = ia64; then
       # On IA64, the linker does run time linking by default, so we don't
       # have to do anything special.
       aix_use_runtimelinking=no
       exp_sym_flag='-Bexport'
       no_entry_flag=""
     else
       aix_use_runtimelinking=no
 
       # Test if we are trying to use run time linking or normal
       # AIX style linking. If -brtl is somewhere in LDFLAGS, we
       # need to do runtime linking.
-      case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+      case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	for ld_flag in $LDFLAGS; do
 	  case $ld_flag in
 	  *-brtl*)
 	    aix_use_runtimelinking=yes
 	    break
 	    ;;
@@ -11997,29 +11643,57 @@
       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
     else
       ld_shlibs_CXX=no
     fi
   ;;
       darwin* | rhapsody*)
+        case $host_os in
+        rhapsody* | darwin1.[012])
+         allow_undefined_flag_CXX='${wl}-undefined ${wl}suppress'
+         ;;
+       *) # Darwin 1.3 on
+         if test -z ${MACOSX_DEPLOYMENT_TARGET} ; then
+           allow_undefined_flag_CXX='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+         else
+           case ${MACOSX_DEPLOYMENT_TARGET} in
+             10.[012])
+               allow_undefined_flag_CXX='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'
+               ;;
+             10.*)
+               allow_undefined_flag_CXX='${wl}-undefined ${wl}dynamic_lookup'
+               ;;
+           esac
+         fi
+         ;;
+        esac
       archive_cmds_need_lc_CXX=no
       hardcode_direct_CXX=no
       hardcode_automatic_CXX=yes
       hardcode_shlibpath_var_CXX=unsupported
       whole_archive_flag_spec_CXX=''
       link_all_deplibs_CXX=yes
-      allow_undefined_flag_CXX="$_lt_dar_allow_undefined"
-      if test "$GXX" = yes ; then
+
+    if test "$GXX" = yes ; then
+      lt_int_apple_cc_single_mod=no
       output_verbose_link_cmd='echo'
-      archive_cmds_CXX="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-      module_cmds_CXX="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-      archive_expsym_cmds_CXX="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-      module_expsym_cmds_CXX="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
-      if test "$lt_cv_apple_cc_single_mod" != "yes"; then
-        archive_cmds_CXX="\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dsymutil}"
-        archive_expsym_cmds_CXX="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -r -keep_private_externs -nostdlib -o \${lib}-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \${lib}-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring${_lt_dar_export_syms}${_lt_dsymutil}"
+      if $CC -dumpspecs 2>&1 | $EGREP 'single_module' >/dev/null ; then
+       lt_int_apple_cc_single_mod=yes
       fi
+      if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+       archive_cmds_CXX='$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      else
+          archive_cmds_CXX='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+        fi
+        module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+        # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+          if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+            archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          else
+            archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+          fi
+            module_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
       else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
           archive_cmds_CXX='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
           module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -12264,13 +11938,13 @@
 	esac
 	archive_cmds_need_lc_CXX=no
 	hardcode_libdir_flag_spec_CXX='${wl}-rpath,$libdir'
 	export_dynamic_flag_spec_CXX='${wl}--export-dynamic'
 	whole_archive_flag_spec_CXX='${wl}--whole-archive$convenience ${wl}--no-whole-archive'
 	;;
-      pgCC* | pgcpp*)
+      pgCC*)
         # Portland Group C++ compiler
 	archive_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
   	archive_expsym_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
 
 	hardcode_libdir_flag_spec_CXX='${wl}--rpath ${wl}$libdir'
 	export_dynamic_flag_spec_CXX='${wl}--export-dynamic'
@@ -12776,17 +12451,12 @@
 else
   echo "libtool.m4: error: problem compiling CXX test program"
 fi
 
 $rm -f confest.$objext
 
-compiler_lib_search_dirs_CXX=
-if test -n "$compiler_lib_search_path_CXX"; then
-  compiler_lib_search_dirs_CXX=`echo " ${compiler_lib_search_path_CXX}" | ${SED} -e 's! -L! !g' -e 's!^ !!'`
-fi
-
 # PORTME: override above test on systems where it is broken
 case $host_os in
 interix[3-9]*)
   # Interix 3.5 installs completely hosed .la files for C++, so rather than
   # hack all around it, let's just trust "g++" to DTRT.
   predep_objects_CXX=
@@ -12911,13 +12582,13 @@
     *)
       lt_prog_compiler_pic_CXX='-fPIC'
       ;;
     esac
   else
     case $host_os in
-      aix[4-9]*)
+      aix4* | aix5*)
 	# All AIX code is PIC.
 	if test "$host_cpu" = ia64; then
 	  # AIX 5 now supports IA64 processor
 	  lt_prog_compiler_static_CXX='-Bstatic'
 	else
 	  lt_prog_compiler_static_CXX='-bnso -bI:/lib/syscalls.exp'
@@ -13007,13 +12678,13 @@
 	  icpc* | ecpc*)
 	    # Intel C++
 	    lt_prog_compiler_wl_CXX='-Wl,'
 	    lt_prog_compiler_pic_CXX='-KPIC'
 	    lt_prog_compiler_static_CXX='-static'
 	    ;;
-	  pgCC* | pgcpp*)
+	  pgCC*)
 	    # Portland Group C++ compiler.
 	    lt_prog_compiler_wl_CXX='-Wl,'
 	    lt_prog_compiler_pic_CXX='-fpic'
 	    lt_prog_compiler_static_CXX='-Bstatic'
 	    ;;
 	  cxx*)
@@ -13138,49 +12809,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic_CXX"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic_CXX works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic_CXX works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works_CXX+set}" = set; then
+if test "${lt_prog_compiler_pic_works_CXX+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works_CXX=no
+  lt_prog_compiler_pic_works_CXX=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic_CXX -DPIC"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13160: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:12831: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13164: \$? = $ac_status" >&5
+   echo "$as_me:12835: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works_CXX=yes
+       lt_prog_compiler_pic_works_CXX=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works_CXX" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works_CXX" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works_CXX" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works_CXX" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works_CXX" = xyes; then
+if test x"$lt_prog_compiler_pic_works_CXX" = xyes; then
     case $lt_prog_compiler_pic_CXX in
      "" | " "*) ;;
      *) lt_prog_compiler_pic_CXX=" $lt_prog_compiler_pic_CXX" ;;
      esac
 else
     lt_prog_compiler_pic_CXX=
@@ -13201,42 +12872,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl_CXX eval lt_tmp_static_flag=\"$lt_prog_compiler_static_CXX\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works_CXX+set}" = set; then
+if test "${lt_prog_compiler_static_works_CXX+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works_CXX=no
+  lt_prog_compiler_static_works_CXX=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works_CXX=yes
+         lt_prog_compiler_static_works_CXX=yes
        fi
      else
-       lt_cv_prog_compiler_static_works_CXX=yes
+       lt_prog_compiler_static_works_CXX=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works_CXX" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works_CXX" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_CXX" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works_CXX" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works_CXX" = xyes; then
+if test x"$lt_prog_compiler_static_works_CXX" = xyes; then
     :
 else
     lt_prog_compiler_static_CXX=
 fi
 
 
@@ -13258,17 +12929,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13264: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:12935: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13268: \$? = $ac_status" >&5
+   echo "$as_me:12939: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -13315,13 +12986,13 @@
 
 { echo "$as_me:$LINENO: checking whether the $compiler linker ($LD) supports shared libraries" >&5
 echo $ECHO_N "checking whether the $compiler linker ($LD) supports shared libraries... $ECHO_C" >&6; }
 
   export_symbols_cmds_CXX='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   case $host_os in
-  aix[4-9]*)
+  aix4* | aix5*)
     # If we're using GNU nm, then we don't want the "-C" option.
     # -C means demangle to AIX nm, but means don't demangle with GNU nm
     if $NM -V 2>&1 | grep 'GNU' > /dev/null; then
       export_symbols_cmds_CXX='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\$2 == "T") || (\$2 == "D") || (\$2 == "B")) && (substr(\$3,1,1) != ".")) { print \$3 } }'\'' | sort -u > $export_symbols'
     else
       export_symbols_cmds_CXX='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\$2 == "T") || (\$2 == "D") || (\$2 == "B")) && (substr(\$3,1,1) != ".")) { print \$3 } }'\'' | sort -u > $export_symbols'
@@ -13337,13 +13008,12 @@
     link_all_deplibs_CXX=no
   ;;
   *)
     export_symbols_cmds_CXX='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
   ;;
   esac
-  exclude_expsyms_CXX='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
 
 { echo "$as_me:$LINENO: result: $ld_shlibs_CXX" >&5
 echo "${ECHO_T}$ld_shlibs_CXX" >&6; }
 test "$ld_shlibs_CXX" = no && can_build_shared=no
 
 #
@@ -13439,13 +13109,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -13972,27 +13642,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -14070,13 +13725,12 @@
     old_archive_from_new_cmds_CXX \
     predep_objects_CXX \
     postdep_objects_CXX \
     predeps_CXX \
     postdeps_CXX \
     compiler_lib_search_path_CXX \
-    compiler_lib_search_dirs_CXX \
     archive_cmds_CXX \
     archive_expsym_cmds_CXX \
     postinstall_cmds_CXX \
     postuninstall_cmds_CXX \
     old_archive_from_expsyms_cmds_CXX \
     allow_undefined_flag_CXX \
@@ -14319,16 +13973,12 @@
 predeps=$lt_predeps_CXX
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_CXX
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_CXX
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_CXX
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -14537,13 +14187,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC="$CC"
 CC=${F77-"f77"}
 compiler=$CC
@@ -14575,13 +14225,13 @@
   test "$enable_shared" = yes && enable_static=no
   if test -n "$RANLIB"; then
     archive_cmds="$archive_cmds~\$RANLIB \$lib"
     postinstall_cmds='$RANLIB $lib'
   fi
   ;;
-aix[4-9]*)
+aix4* | aix5*)
   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
     test "$enable_shared" = yes && enable_static=no
   fi
   ;;
 esac
 { echo "$as_me:$LINENO: result: $enable_shared" >&5
@@ -14840,49 +14490,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic_F77"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic_F77 works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic_F77 works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works_F77+set}" = set; then
+if test "${lt_prog_compiler_pic_works_F77+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works_F77=no
+  lt_prog_compiler_pic_works_F77=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic_F77"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14862: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14512: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:14866: \$? = $ac_status" >&5
+   echo "$as_me:14516: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works_F77=yes
+       lt_prog_compiler_pic_works_F77=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works_F77" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works_F77" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works_F77" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works_F77" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works_F77" = xyes; then
+if test x"$lt_prog_compiler_pic_works_F77" = xyes; then
     case $lt_prog_compiler_pic_F77 in
      "" | " "*) ;;
      *) lt_prog_compiler_pic_F77=" $lt_prog_compiler_pic_F77" ;;
      esac
 else
     lt_prog_compiler_pic_F77=
@@ -14903,42 +14553,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl_F77 eval lt_tmp_static_flag=\"$lt_prog_compiler_static_F77\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works_F77+set}" = set; then
+if test "${lt_prog_compiler_static_works_F77+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works_F77=no
+  lt_prog_compiler_static_works_F77=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works_F77=yes
+         lt_prog_compiler_static_works_F77=yes
        fi
      else
-       lt_cv_prog_compiler_static_works_F77=yes
+       lt_prog_compiler_static_works_F77=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works_F77" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works_F77" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_F77" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works_F77" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works_F77" = xyes; then
+if test x"$lt_prog_compiler_static_works_F77" = xyes; then
     :
 else
     lt_prog_compiler_static_F77=
 fi
 
 
@@ -14960,17 +14610,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14966: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14616: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:14970: \$? = $ac_status" >&5
+   echo "$as_me:14620: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -15044,19 +14694,18 @@
   # included in the symbol list
   include_expsyms_F77=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  exclude_expsyms_F77='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
+  exclude_expsyms_F77="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   for cc_temp in $compiler""; do
   case $cc_temp in
     compile | *[\\/]compile | ccache | *[\\/]ccache ) ;;
     distcc | *[\\/]distcc | purify | *[\\/]purify ) ;;
@@ -15109,13 +14758,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[3-9]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	ld_shlibs_F77=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -15329,13 +14978,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	hardcode_direct_F77=unsupported
       fi
       ;;
 
-    aix[4-9]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -15349,13 +14998,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+	case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -15601,16 +15250,17 @@
       hardcode_automatic_F77=yes
       hardcode_shlibpath_var_F77=unsupported
       whole_archive_flag_spec_F77=''
       link_all_deplibs_F77=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        archive_cmds_F77="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        module_cmds_F77="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        archive_expsym_cmds_F77="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        module_expsym_cmds_F77="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        archive_cmds_F77='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      archive_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      module_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          archive_cmds_F77='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -16073,13 +15723,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -16606,27 +16256,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -16704,13 +16339,12 @@
     old_archive_from_new_cmds_F77 \
     predep_objects_F77 \
     postdep_objects_F77 \
     predeps_F77 \
     postdeps_F77 \
     compiler_lib_search_path_F77 \
-    compiler_lib_search_dirs_F77 \
     archive_cmds_F77 \
     archive_expsym_cmds_F77 \
     postinstall_cmds_F77 \
     postuninstall_cmds_F77 \
     old_archive_from_expsyms_cmds_F77 \
     allow_undefined_flag_F77 \
@@ -16953,16 +16587,12 @@
 predeps=$lt_predeps_F77
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_F77
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_F77
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_F77
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -17131,13 +16761,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC="$CC"
 CC=${GCJ-"gcj"}
 compiler=$CC
@@ -17184,17 +16814,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17190: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:16820: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:17194: \$? = $ac_status" >&5
+   echo "$as_me:16824: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -17248,13 +16878,13 @@
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
       # (--disable-auto-import) libraries
-
+      lt_prog_compiler_pic_GCJ='-DDLL_EXPORT'
       ;;
 
     darwin* | rhapsody*)
       # PIC is the default on this platform
       # Common symbols not allowed in MH_DYLIB files
       lt_prog_compiler_pic_GCJ='-fno-common'
@@ -17318,13 +16948,13 @@
        esac
        ;;
 
     mingw* | cygwin* | pw32* | os2*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
-
+      lt_prog_compiler_pic_GCJ='-DDLL_EXPORT'
       ;;
 
     hpux9* | hpux10* | hpux11*)
       lt_prog_compiler_wl_GCJ='-Wl,'
       # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
       # not for PA HP-UX.
@@ -17458,49 +17088,49 @@
 # Check to make sure the PIC flag actually works.
 #
 if test -n "$lt_prog_compiler_pic_GCJ"; then
 
 { echo "$as_me:$LINENO: checking if $compiler PIC flag $lt_prog_compiler_pic_GCJ works" >&5
 echo $ECHO_N "checking if $compiler PIC flag $lt_prog_compiler_pic_GCJ works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_pic_works_GCJ+set}" = set; then
+if test "${lt_prog_compiler_pic_works_GCJ+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_pic_works_GCJ=no
+  lt_prog_compiler_pic_works_GCJ=no
   ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic_GCJ"
    # Insert the option either (1) after the last *FLAGS variable, or
    # (2) before a word containing "conftest.", or (3) at the end.
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17480: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17110: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:17484: \$? = $ac_status" >&5
+   echo "$as_me:17114: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works_GCJ=yes
+       lt_prog_compiler_pic_works_GCJ=yes
      fi
    fi
    $rm conftest*
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_pic_works_GCJ" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_pic_works_GCJ" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_pic_works_GCJ" >&5
+echo "${ECHO_T}$lt_prog_compiler_pic_works_GCJ" >&6; }
 
-if test x"$lt_cv_prog_compiler_pic_works_GCJ" = xyes; then
+if test x"$lt_prog_compiler_pic_works_GCJ" = xyes; then
     case $lt_prog_compiler_pic_GCJ in
      "" | " "*) ;;
      *) lt_prog_compiler_pic_GCJ=" $lt_prog_compiler_pic_GCJ" ;;
      esac
 else
     lt_prog_compiler_pic_GCJ=
@@ -17521,42 +17151,42 @@
 #
 # Check to make sure the static flag actually works.
 #
 wl=$lt_prog_compiler_wl_GCJ eval lt_tmp_static_flag=\"$lt_prog_compiler_static_GCJ\"
 { echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
 echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6; }
-if test "${lt_cv_prog_compiler_static_works_GCJ+set}" = set; then
+if test "${lt_prog_compiler_static_works_GCJ+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  lt_cv_prog_compiler_static_works_GCJ=no
+  lt_prog_compiler_static_works_GCJ=no
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
      # The linker can only warn and ignore the option if not recognized
      # So say no if there are warnings
      if test -s conftest.err; then
        # Append any errors to the config.log.
        cat conftest.err 1>&5
        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
        if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works_GCJ=yes
+         lt_prog_compiler_static_works_GCJ=yes
        fi
      else
-       lt_cv_prog_compiler_static_works_GCJ=yes
+       lt_prog_compiler_static_works_GCJ=yes
      fi
    fi
-   $rm -r conftest*
+   $rm conftest*
    LDFLAGS="$save_LDFLAGS"
 
 fi
-{ echo "$as_me:$LINENO: result: $lt_cv_prog_compiler_static_works_GCJ" >&5
-echo "${ECHO_T}$lt_cv_prog_compiler_static_works_GCJ" >&6; }
+{ echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_GCJ" >&5
+echo "${ECHO_T}$lt_prog_compiler_static_works_GCJ" >&6; }
 
-if test x"$lt_cv_prog_compiler_static_works_GCJ" = xyes; then
+if test x"$lt_prog_compiler_static_works_GCJ" = xyes; then
     :
 else
     lt_prog_compiler_static_GCJ=
 fi
 
 
@@ -17578,17 +17208,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17584: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17214: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:17588: \$? = $ac_status" >&5
+   echo "$as_me:17218: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -17662,19 +17292,18 @@
   # included in the symbol list
   include_expsyms_GCJ=
   # exclude_expsyms can be an extended regexp of symbols to exclude
   # it will be wrapped by ` (' and `)$', so one must not match beginning or
   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
   # as well as any symbol that contains `d'.
-  exclude_expsyms_GCJ='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'
+  exclude_expsyms_GCJ="_GLOBAL_OFFSET_TABLE_"
   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
   # platforms (ab)use it in PIC code, but their linkers get confused if
   # the symbol is explicitly referenced.  Since portable code cannot
   # rely on this symbol name, it's probably fine to never include it in
   # preloaded symbol tables.
-  # Exclude shared library initialization/finalization symbols.
   extract_expsyms_cmds=
   # Just being paranoid about ensuring that cc_basename is set.
   for cc_temp in $compiler""; do
   case $cc_temp in
     compile | *[\\/]compile | ccache | *[\\/]ccache ) ;;
     distcc | *[\\/]distcc | purify | *[\\/]purify ) ;;
@@ -17727,13 +17356,13 @@
       *\ 2.11.*) ;; # other 2.11 versions
       *) supports_anon_versioning=yes ;;
     esac
 
     # See if GNU ld supports shared libraries.
     case $host_os in
-    aix[3-9]*)
+    aix3* | aix4* | aix5*)
       # On AIX/PPC, the GNU linker is very broken
       if test "$host_cpu" != ia64; then
 	ld_shlibs_GCJ=no
 	cat <<EOF 1>&2
 
 *** Warning: the GNU linker, at least up to release 2.9.1, is reported
@@ -17947,13 +17576,13 @@
 	# Neither direct hardcoding nor static linking is supported with a
 	# broken collect2.
 	hardcode_direct_GCJ=unsupported
       fi
       ;;
 
-    aix[4-9]*)
+    aix4* | aix5*)
       if test "$host_cpu" = ia64; then
 	# On IA64, the linker does run time linking by default, so we don't
 	# have to do anything special.
 	aix_use_runtimelinking=no
 	exp_sym_flag='-Bexport'
 	no_entry_flag=""
@@ -17967,13 +17596,13 @@
 	fi
 	aix_use_runtimelinking=no
 
 	# Test if we are trying to use run time linking or normal
 	# AIX style linking. If -brtl is somewhere in LDFLAGS, we
 	# need to do runtime linking.
-	case $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)
+	case $host_os in aix4.[23]|aix4.[23].*|aix5*)
 	  for ld_flag in $LDFLAGS; do
   	  if (test $ld_flag = "-brtl" || test $ld_flag = "-Wl,-brtl"); then
   	    aix_use_runtimelinking=yes
   	    break
   	  fi
 	  done
@@ -18239,16 +17868,17 @@
       hardcode_automatic_GCJ=yes
       hardcode_shlibpath_var_GCJ=unsupported
       whole_archive_flag_spec_GCJ=''
       link_all_deplibs_GCJ=yes
     if test "$GCC" = yes ; then
     	output_verbose_link_cmd='echo'
-        archive_cmds_GCJ="\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod${_lt_dsymutil}"
-        module_cmds_GCJ="\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dsymutil}"
-        archive_expsym_cmds_GCJ="sed 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}"
-        module_expsym_cmds_GCJ="sed -e 's,^,_,' < \$export_symbols > \$output_objdir/\${libname}-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}"
+        archive_cmds_GCJ='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+      module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+      # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+      archive_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+      module_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
     else
       case $cc_basename in
         xlc*)
          output_verbose_link_cmd='echo'
          archive_cmds_GCJ='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $xlcverstring'
          module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
@@ -18711,13 +18341,13 @@
   shlibpath_var=LIBPATH
 
   # AIX 3 has no versioning support, so we append a major version to the name.
   soname_spec='${libname}${release}${shared_ext}$major'
   ;;
 
-aix[4-9]*)
+aix4* | aix5*)
   version_type=linux
   need_lib_prefix=no
   need_version=no
   hardcode_into_libs=yes
   if test "$host_cpu" = ia64; then
     # AIX 5 supports IA64
@@ -19244,27 +18874,12 @@
   ;;
 esac
 { echo "$as_me:$LINENO: result: $dynamic_linker" >&5
 echo "${ECHO_T}$dynamic_linker" >&6; }
 test "$dynamic_linker" = no && can_build_shared=no
 
-if test "${lt_cv_sys_lib_search_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_search_path_spec="$sys_lib_search_path_spec"
-fi
-
-sys_lib_search_path_spec="$lt_cv_sys_lib_search_path_spec"
-if test "${lt_cv_sys_lib_dlsearch_path_spec+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  lt_cv_sys_lib_dlsearch_path_spec="$sys_lib_dlsearch_path_spec"
-fi
-
-sys_lib_dlsearch_path_spec="$lt_cv_sys_lib_dlsearch_path_spec"
-
 variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
 if test "$GCC" = yes; then
   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
 fi
 
 { echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
@@ -19342,13 +18957,12 @@
     old_archive_from_new_cmds_GCJ \
     predep_objects_GCJ \
     postdep_objects_GCJ \
     predeps_GCJ \
     postdeps_GCJ \
     compiler_lib_search_path_GCJ \
-    compiler_lib_search_dirs_GCJ \
     archive_cmds_GCJ \
     archive_expsym_cmds_GCJ \
     postinstall_cmds_GCJ \
     postuninstall_cmds_GCJ \
     old_archive_from_expsyms_cmds_GCJ \
     allow_undefined_flag_GCJ \
@@ -19591,16 +19205,12 @@
 predeps=$lt_predeps_GCJ
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_GCJ
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_GCJ
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_GCJ
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -19768,13 +19378,13 @@
 $rm conftest*
 
 ac_outfile=conftest.$ac_objext
 echo "$lt_simple_link_test_code" >conftest.$ac_ext
 eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
 _lt_linker_boilerplate=`cat conftest.err`
-$rm -r conftest*
+$rm conftest*
 
 
 # Allow CC to be a program name with arguments.
 lt_save_CC="$CC"
 CC=${RC-"windres"}
 compiler=$CC
@@ -19828,13 +19438,12 @@
     old_archive_from_new_cmds_RC \
     predep_objects_RC \
     postdep_objects_RC \
     predeps_RC \
     postdeps_RC \
     compiler_lib_search_path_RC \
-    compiler_lib_search_dirs_RC \
     archive_cmds_RC \
     archive_expsym_cmds_RC \
     postinstall_cmds_RC \
     postuninstall_cmds_RC \
     old_archive_from_expsyms_cmds_RC \
     allow_undefined_flag_RC \
@@ -20077,16 +19686,12 @@
 predeps=$lt_predeps_RC
 
 # Dependencies to place after the objects being linked to create a
 # shared library.
 postdeps=$lt_postdeps_RC
 
-# The directories searched by this compiler when creating a shared
-# library
-compiler_lib_search_dirs=$lt_compiler_lib_search_dirs_RC
-
 # The library search path used internally by the compiler when linking
 # a shared library.
 compiler_lib_search_path=$lt_compiler_lib_search_path_RC
 
 # Method to check whether dependent libraries are shared objects.
 deplibs_check_method=$lt_deplibs_check_method
@@ -20517,21 +20122,25 @@
 # Check whether --enable-ltdl-install was given.
 if test "${enable_ltdl_install+set}" = set; then
   enableval=$enable_ltdl_install;
 fi
 
 
- if test x"${enable_ltdl_install-no}" != xno; then
+
+
+if test x"${enable_ltdl_install-no}" != xno; then
   INSTALL_LTDL_TRUE=
   INSTALL_LTDL_FALSE='#'
 else
   INSTALL_LTDL_TRUE='#'
   INSTALL_LTDL_FALSE=
 fi
 
- if test x"${enable_ltdl_convenience-no}" != xno; then
+
+
+if test x"${enable_ltdl_convenience-no}" != xno; then
   CONVENIENCE_LTDL_TRUE=
   CONVENIENCE_LTDL_FALSE='#'
 else
   CONVENIENCE_LTDL_TRUE='#'
   CONVENIENCE_LTDL_FALSE=
 fi
@@ -21350,13 +20959,13 @@
 	  if test "$cross_compiling" = yes; then :
   libltdl_cv_need_uscore=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 21356 "configure"
+#line 20965 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -21465,13 +21074,13 @@
   case "$host_os" in
   aix3*|aix4.1.*|aix4.2.*)
     # Unknown whether this is true for these versions of AIX, but
     # we want this `case' here to explicitly catch those versions.
     libltdl_cv_sys_dlopen_deplibs=unknown
     ;;
-  aix[4-9]*)
+  aix[45]*)
     libltdl_cv_sys_dlopen_deplibs=yes
     ;;
   darwin*)
     # Assuming the user has installed a libdl from somewhere, this is true
     # If you are looking for one http://www.opendarwin.org/projects/dlcompat
     libltdl_cv_sys_dlopen_deplibs=yes
@@ -23305,13 +22914,12 @@
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
 ac_pwd='$ac_pwd'
 srcdir='$srcdir'
 INSTALL='$INSTALL'
-MKDIR_P='$MKDIR_P'
 _ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF
 # If no file are specified by the user, then we need to provide default
 # value.  By we need to know if files were specified by the user.
 ac_need_defaults=:
@@ -23513,13 +23121,12 @@
 build_alias!$build_alias$ac_delim
 host_alias!$host_alias$ac_delim
 target_alias!$target_alias$ac_delim
 INSTALL_PROGRAM!$INSTALL_PROGRAM$ac_delim
 INSTALL_SCRIPT!$INSTALL_SCRIPT$ac_delim
 INSTALL_DATA!$INSTALL_DATA$ac_delim
-am__isrc!$am__isrc$ac_delim
 CYGPATH_W!$CYGPATH_W$ac_delim
 PACKAGE!$PACKAGE$ac_delim
 VERSION!$VERSION$ac_delim
 ACLOCAL!$ACLOCAL$ac_delim
 AUTOCONF!$AUTOCONF$ac_delim
 AUTOMAKE!$AUTOMAKE$ac_delim
@@ -23563,19 +23170,20 @@
 GREP!$GREP$ac_delim
 EGREP!$EGREP$ac_delim
 LN_S!$LN_S$ac_delim
 ECHO!$ECHO$ac_delim
 AR!$AR$ac_delim
 RANLIB!$RANLIB$ac_delim
-DSYMUTIL!$DSYMUTIL$ac_delim
-NMEDIT!$NMEDIT$ac_delim
 DLLTOOL!$DLLTOOL$ac_delim
 AS!$AS$ac_delim
 OBJDUMP!$OBJDUMP$ac_delim
 CPP!$CPP$ac_delim
 CXX!$CXX$ac_delim
+CXXFLAGS!$CXXFLAGS$ac_delim
+ac_ct_CXX!$ac_ct_CXX$ac_delim
+CXXDEPMODE!$CXXDEPMODE$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -23611,15 +23219,12 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
-CXXFLAGS!$CXXFLAGS$ac_delim
-ac_ct_CXX!$ac_ct_CXX$ac_delim
-CXXDEPMODE!$CXXDEPMODE$ac_delim
 am__fastdepCXX_TRUE!$am__fastdepCXX_TRUE$ac_delim
 am__fastdepCXX_FALSE!$am__fastdepCXX_FALSE$ac_delim
 CXXCPP!$CXXCPP$ac_delim
 F77!$F77$ac_delim
 FFLAGS!$FFLAGS$ac_delim
 ac_ct_F77!$ac_ct_F77$ac_delim
@@ -23631,13 +23236,13 @@
 CONVENIENCE_LTDL_FALSE!$CONVENIENCE_LTDL_FALSE$ac_delim
 LIBADD_DL!$LIBADD_DL$ac_delim
 LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 18; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 15; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
@@ -23858,17 +23463,12 @@
   #
 
   case $INSTALL in
   [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
   *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
   esac
-  ac_MKDIR_P=$MKDIR_P
-  case $MKDIR_P in
-  [\\/$]* | ?:[\\/]* ) ;;
-  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;
-  esac
 _ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF
 # If the template does not know about datarootdir, expand it.
 # FIXME: This hack should be removed a few years after 2.60.
 ac_datarootdir_hack=; ac_datarootdir_seen=
@@ -23916,13 +23516,12 @@
 s&@top_srcdir@&$ac_top_srcdir&;t t
 s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
 s&@builddir@&$ac_builddir&;t t
 s&@abs_builddir@&$ac_abs_builddir&;t t
 s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
 s&@INSTALL@&$ac_INSTALL&;t t
-s&@MKDIR_P@&$ac_MKDIR_P&;t t
 $ac_datarootdir_hack
 " $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" >$tmp/out
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
   { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
@@ -24032,28 +23631,27 @@
   else
     echo "/* $configure_input  */"
     cat "$ac_result"
   fi
   rm -f "$tmp/out12"
 # Compute $ac_file's index in $config_headers.
-_am_arg=$ac_file
 _am_stamp_count=1
 for _am_header in $config_headers :; do
   case $_am_header in
-    $_am_arg | $_am_arg:* )
+    $ac_file | $ac_file:* )
       break ;;
     * )
       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
   esac
 done
-echo "timestamp for $_am_arg" >`$as_dirname -- "$_am_arg" ||
-$as_expr X"$_am_arg" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$_am_arg" : 'X\(//\)[^/]' \| \
-	 X"$_am_arg" : 'X\(//\)$' \| \
-	 X"$_am_arg" : 'X\(/\)' \| . 2>/dev/null ||
-echo X"$_am_arg" |
+echo "timestamp for $ac_file" >`$as_dirname -- $ac_file ||
+$as_expr X$ac_file : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X$ac_file : 'X\(//\)[^/]' \| \
+	 X$ac_file : 'X\(//\)$' \| \
+	 X$ac_file : 'X\(/\)' \| . 2>/dev/null ||
+echo X$ac_file |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
 	    s//\1/
 	    q
 	  }
 	  /^X\(\/\/\)[^/].*/{
 	    s//\1/
@@ -24082,15 +23680,14 @@
   mf=`echo "$mf" | sed -e 's/:.*$//'`
   # Check whether this is an Automake generated Makefile or not.
   # We used to match only the files named `Makefile.in', but
   # some people rename them; so instead we look at the file content.
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
-  # Grep'ing the whole file is not good either: AIX grep has a line
-  # limit of 2048, but all sed's we know have understand at least 4000.
-  if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
+  # So let's grep whole file.
+  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
     dirpart=`$as_dirname -- "$mf" ||
 $as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$mf" : 'X\(//\)[^/]' \| \
 	 X"$mf" : 'X\(//\)$' \| \
 	 X"$mf" : 'X\(/\)' \| . 2>/dev/null ||
 echo X"$mf" |
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/ltdl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/ltdl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/ltdl.c	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/ltdl.c	2007-11-28 05:23:09.000000000 +0800
@@ -2136,14 +2136,12 @@
 /* --- DYNAMIC MODULE LOADING --- */
 
 
 /* The type of a function used at each iteration of  foreach_dirinpath().  */
 typedef int	foreach_callback_func LT_PARAMS((char *filename, lt_ptr data1,
 						 lt_ptr data2));
-/* foreachfile_callback itself calls a function of this type: */
-typedef int	file_worker_func      LT_PARAMS((const char *filename, void *data));
 
 static	int	foreach_dirinpath     LT_PARAMS((const char *search_path,
 						 const char *base_name,
 						 foreach_callback_func *func,
 						 lt_ptr data1, lt_ptr data2));
 
@@ -3031,13 +3029,13 @@
     {
       tmp = LT_EMALLOC (char, end - str);
       if (!tmp)
 	return 1;
 
       strncpy(tmp, &str[1], (end - str) - 1);
-      tmp[(end - str) - 1] = LT_EOS_CHAR;
+      tmp[len-3] = LT_EOS_CHAR;
       *dest = tmp;
     }
   else
     {
       *dest = 0;
     }
@@ -3205,13 +3203,13 @@
 	      search_path = getenv (LTDL_SHLIBPATH_VAR);
 	      if (search_path)
 		file = find_file (search_path, base_name, &dir);
 	    }
 #endif
 #ifdef LTDL_SYSSEARCHPATH
-	  if (!file && *sys_search_path)
+	  if (!file && sys_search_path)
 	    {
 	      file = find_file (sys_search_path, base_name, &dir);
 	    }
 #endif
 	}
       if (!file)
@@ -3237,25 +3235,22 @@
 	  goto cleanup;
 	}
 
       /* read the .la file */
       while (!feof (file))
 	{
-	  line[line_len-2] = '\0';
 	  if (!fgets (line, (int) line_len, file))
 	    {
 	      break;
 	    }
 
 	  /* Handle the case where we occasionally need to read a line
-	     that is longer than the initial buffer size.
-	     Behave even if the file contains NUL bytes due to corruption. */
-	  while (line[line_len-2] != '\0' && line[line_len-2] != '\n' && !feof (file))
+	     that is longer than the initial buffer size.  */
+	  while ((line[LT_STRLEN(line) -1] != '\n') && (!feof (file)))
 	    {
 	      line = LT_DLREALLOC (char, line, line_len *2);
-	      line[line_len*2 - 2] = '\0';
 	      if (!fgets (&line[line_len -1], (int) line_len +1, file))
 		{
 		  break;
 		}
 	      line_len *= 2;
 	    }
@@ -3722,13 +3717,14 @@
 static int
 foreachfile_callback (dirname, data1, data2)
      char *dirname;
      lt_ptr data1;
      lt_ptr data2;
 {
-  file_worker_func *func = *(file_worker_func **) data1;
+  int (*func) LT_PARAMS((const char *filename, lt_ptr data))
+	= (int (*) LT_PARAMS((const char *filename, lt_ptr data))) data1;
 
   int	  is_done  = 0;
   char   *argz     = 0;
   size_t  argz_len = 0;
 
   if (list_files_by_dir (dirname, &argz, &argz_len) != 0)
@@ -3760,44 +3756,43 @@
 lt_dlforeachfile (search_path, func, data)
      const char *search_path;
      int (*func) LT_PARAMS ((const char *filename, lt_ptr data));
      lt_ptr data;
 {
   int is_done = 0;
-  file_worker_func **fpptr = &func;
 
   if (search_path)
     {
       /* If a specific path was passed, search only the directories
 	 listed in it.  */
       is_done = foreach_dirinpath (search_path, 0,
-				   foreachfile_callback, fpptr, data);
+				   foreachfile_callback, func, data);
     }
   else
     {
       /* Otherwise search the default paths.  */
       is_done = foreach_dirinpath (user_search_path, 0,
-				   foreachfile_callback, fpptr, data);
+				   foreachfile_callback, func, data);
       if (!is_done)
 	{
 	  is_done = foreach_dirinpath (getenv("LTDL_LIBRARY_PATH"), 0,
-				       foreachfile_callback, fpptr, data);
+				       foreachfile_callback, func, data);
 	}
 
 #ifdef LTDL_SHLIBPATH_VAR
       if (!is_done)
 	{
 	  is_done = foreach_dirinpath (getenv(LTDL_SHLIBPATH_VAR), 0,
-				       foreachfile_callback, fpptr, data);
+				       foreachfile_callback, func, data);
 	}
 #endif
 #ifdef LTDL_SYSSEARCHPATH
       if (!is_done)
 	{
 	  is_done = foreach_dirinpath (getenv(LTDL_SYSSEARCHPATH), 0,
-				       foreachfile_callback, fpptr, data);
+				       foreachfile_callback, func, data);
 	}
 #endif
     }
 
   return is_done;
 }
@@ -4295,24 +4290,23 @@
 
   /* This needs to be locked so that the caller data isn't updated by
      another thread part way through this function.  */
   LT_DLMUTEX_LOCK ();
 
   /* Locate the index of the element with a matching KEY.  */
-  if (handle->caller_data)
-    {
-      int i;
-      for (i = 0; handle->caller_data[i].key; ++i)
-        {
-          if (handle->caller_data[i].key == key)
-            {
-              result = handle->caller_data[i].data;
-              break;
-            }
-        }
-    }
+  {
+    int i;
+    for (i = 0; handle->caller_data[i].key; ++i)
+      {
+	if (handle->caller_data[i].key == key)
+	  {
+	    result = handle->caller_data[i].data;
+	    break;
+	  }
+      }
+  }
 
   LT_DLMUTEX_UNLOCK ();
 
   return result;
 }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/ltmain.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/ltmain.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/ltmain.sh	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/ltmain.sh	2007-11-28 05:23:09.000000000 +0800
@@ -1,11 +1,11 @@
 # ltmain.sh - Provide generalized library-building support services.
 # NOTE: Changing this file will not affect anything until you rerun configure.
 #
 # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005, 2006,
-# 2007, 2008  Free Software Foundation, Inc.
+# 2007  Free Software Foundation, Inc.
 # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
 # (at your option) any later version.
@@ -40,14 +40,14 @@
 # Global variables:
 EXIT_SUCCESS=0
 EXIT_FAILURE=1
 
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION="1.5.26 Debian 1.5.26-1"
-TIMESTAMP=" (1.1220.2.493 2008/02/01 16:58:18)"
+VERSION="1.5.24 Debian 1.5.24-2"
+TIMESTAMP=" (1.1220.2.456 2007/06/24 02:25:32)"
 
 # Be Bourne compatible (taken from Autoconf:_AS_BOURNE_COMPATIBLE).
 if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
@@ -110,27 +110,21 @@
 
 # NLS nuisances.
 # Only set LANG and LC_ALL to C if already set.
 # These must not be set unconditionally because not all systems understand
 # e.g. LANG=C (notably SCO).
 # We save the old values to restore during execute mode.
-lt_env=
-for lt_var in LANG LANGUAGE LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
+for lt_var in LANG LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
 do
   eval "if test \"\${$lt_var+set}\" = set; then
 	  save_$lt_var=\$$lt_var
-	  lt_env=\"$lt_var=\$$lt_var \$lt_env\"
 	  $lt_var=C
 	  export $lt_var
 	fi"
 done
 
-if test -n "$lt_env"; then
-  lt_env="env $lt_env"
-fi
-
 # Make sure IFS has a sensible default
 lt_nl='
 '
 IFS=" 	$lt_nl"
 
 if test "$build_libtool_libs" != yes && test "$build_old_libs" != yes; then
@@ -488,13 +482,13 @@
     ;;
 
   --version)
     echo "\
 $PROGRAM (GNU $PACKAGE) $VERSION$TIMESTAMP
 
-Copyright (C) 2008  Free Software Foundation, Inc.
+Copyright (C) 2007  Free Software Foundation, Inc.
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
     exit $?
     ;;
 
   --config)
@@ -791,13 +785,12 @@
     *.cpp) xform=cpp ;;
     *.cxx) xform=cxx ;;
     *.[fF][09]?) xform=[fF][09]. ;;
     *.for) xform=for ;;
     *.java) xform=java ;;
     *.obj) xform=obj ;;
-    *.sx) xform=sx ;;
     esac
 
     libobj=`$echo "X$libobj" | $Xsed -e "s/\.$xform$/.lo/"`
 
     case $libobj in
     *.lo) obj=`$echo "X$libobj" | $Xsed -e "$lo2o"` ;;
@@ -960,13 +953,13 @@
 	command="$command -o $lobj"
       fi
 
       $run $rm "$lobj" "$output_obj"
 
       $show "$command"
-      if $run eval $lt_env "$command"; then :
+      if $run eval "$command"; then :
       else
 	test -n "$output_obj" && $run $rm $removelist
 	exit $EXIT_FAILURE
       fi
 
       if test "$need_locks" = warn &&
@@ -1032,13 +1025,13 @@
       fi
 
       # Suppress compiler output if we already did a PIC compilation.
       command="$command$suppress_output"
       $run $rm "$obj" "$output_obj"
       $show "$command"
-      if $run eval $lt_env "$command"; then :
+      if $run eval "$command"; then :
       else
 	$run $rm $removelist
 	exit $EXIT_FAILURE
       fi
 
       if test "$need_locks" = warn &&
@@ -1165,13 +1158,12 @@
     xrpath=
     perm_rpath=
     temp_rpath=
     thread_safe=no
     vinfo=
     vinfo_number=no
-    single_module="${wl}-single_module"
 
     func_infer_tag $base_compile
 
     # We need to know -static, to get the right output filenames.
     for arg
     do
@@ -1651,17 +1643,12 @@
 	compiler_flags="$compiler_flags $arg"
 	compile_command="$compile_command $arg"
 	finalize_command="$finalize_command $arg"
 	continue
 	;;
 
-      -multi_module)
-	single_module="${wl}-multi_module"
-	continue
-	;;
-
       -module)
 	module=yes
 	continue
 	;;
 
       # -64, -mips[0-9] enable 64-bit mode on the SGI compiler
@@ -2162,18 +2149,13 @@
 	-l*)
 	  if test "$linkmode" != lib && test "$linkmode" != prog; then
 	    $echo "$modename: warning: \`-l' is ignored for archives/objects" 1>&2
 	    continue
 	  fi
 	  name=`$echo "X$deplib" | $Xsed -e 's/^-l//'`
-	  if test "$linkmode" = lib; then
-	    searchdirs="$newlib_search_path $lib_search_path $compiler_lib_search_dirs $sys_lib_search_path $shlib_search_path"
-	  else
-	    searchdirs="$newlib_search_path $lib_search_path $sys_lib_search_path $shlib_search_path"
-	  fi
-	  for searchdir in $searchdirs; do
+	  for searchdir in $newlib_search_path $lib_search_path $sys_lib_search_path $shlib_search_path; do
 	    for search_ext in .la $std_shrext .so .a; do
 	      # Search the libtool library
 	      lib="$searchdir/lib${name}${search_ext}"
 	      if test -f "$lib"; then
 		if test "$search_ext" = ".la"; then
 		  found=yes
@@ -2963,24 +2945,18 @@
 		depdepl=
 		case $host in
 		*-*-darwin*)
 		  # we do not want to link against static libs,
 		  # but need to link against shared
 		  eval deplibrary_names=`${SED} -n -e 's/^library_names=\(.*\)$/\1/p' $deplib`
-		  eval deplibdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
 		  if test -n "$deplibrary_names" ; then
 		    for tmp in $deplibrary_names ; do
 		      depdepl=$tmp
 		    done
-		    if test -f "$deplibdir/$depdepl" ; then
-		      depdepl="$deplibdir/$depdepl"
-	      	    elif test -f "$path/$depdepl" ; then
+		    if test -f "$path/$depdepl" ; then
 		      depdepl="$path/$depdepl"
-		    else
-		      # Can't find it, oh well...
-		      depdepl=
 		    fi
 		    # do not add paths which are already there
 		    case " $newlib_search_path " in
 		    *" $path "*) ;;
 		    *) newlib_search_path="$newlib_search_path $path";;
 		    esac
@@ -3122,16 +3098,15 @@
       dlfiles="$newdlfiles"
       dlprefiles="$newdlprefiles"
     fi
 
     case $linkmode in
     oldlib)
-      case " $deplibs" in
-      *\ -l* | *\ -L*)
-	$echo "$modename: warning: \`-l' and \`-L' are ignored for archives" 1>&2 ;;
-      esac
+      if test -n "$deplibs"; then
+	$echo "$modename: warning: \`-l' and \`-L' are ignored for archives" 1>&2
+      fi
 
       if test -n "$dlfiles$dlprefiles" || test "$dlself" != no; then
 	$echo "$modename: warning: \`-dlopen' is ignored for archives" 1>&2
       fi
 
       if test -n "$rpath"; then
@@ -4267,16 +4242,15 @@
 	  dlname="$soname"
 	fi
       fi
       ;;
 
     obj)
-      case " $deplibs" in
-      *\ -l* | *\ -L*)
-	$echo "$modename: warning: \`-l' and \`-L' are ignored for objects" 1>&2 ;;
-      esac
+      if test -n "$deplibs"; then
+	$echo "$modename: warning: \`-l' and \`-L' are ignored for objects" 1>&2
+      fi
 
       if test -n "$dlfiles$dlprefiles" || test "$dlself" != no; then
 	$echo "$modename: warning: \`-dlopen' is ignored for objects" 1>&2
       fi
 
       if test -n "$rpath"; then
@@ -6509,13 +6483,13 @@
       if test -n "$shlibpath_var"; then
 	# Export the shlibpath_var.
 	eval "export $shlibpath_var"
       fi
 
       # Restore saved environment variables
-      for lt_var in LANG LANGUAGE LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
+      for lt_var in LANG LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
       do
 	eval "if test \"\${save_$lt_var+set}\" = set; then
 		$lt_var=\$save_$lt_var; export $lt_var
 	      fi"
       done
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/Makefile.am	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/Makefile.am	2007-11-28 05:23:09.000000000 +0800
@@ -15,13 +15,13 @@
 
 ## Make sure these will be cleaned even when they're not built by
 ## default.
 CLEANFILES = libltdl.la libltdlc.la
 
 libltdl_la_SOURCES = ltdl.c
-libltdl_la_LDFLAGS = -no-undefined -version-info 4:6:1
+libltdl_la_LDFLAGS = -no-undefined -version-info 4:5:1
 libltdl_la_LIBADD = $(LIBADD_DL)
 
 libltdlc_la_SOURCES = ltdl.c
 libltdlc_la_LIBADD = $(LIBADD_DL)
 
 ## Because we do not have automatic dependency tracking:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/Makefile.in	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/Makefile.in	2008-02-20 03:38:02.000000000 +0800
@@ -1,28 +1,32 @@
-# Makefile.in generated by automake 1.10.1 from Makefile.am.
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2003, 2004, 2005  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
 
 
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = .
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
 install_sh_PROGRAM = $(install_sh) -c
 install_sh_SCRIPT = $(install_sh) -c
 INSTALL_HEADER = $(INSTALL_DATA)
 transform = $(program_transform_name)
 NORMAL_INSTALL = :
@@ -30,25 +34,25 @@
 POST_INSTALL = :
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
-subdir = .
 DIST_COMMON = README $(am__configure_deps) $(am__include_HEADERS_DIST) \
 	$(am__noinst_HEADERS_DIST) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/config-h.in \
 	$(top_srcdir)/configure COPYING.LIB config.guess config.sub \
 	install-sh ltmain.sh missing
+subdir = .
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \
 	$(top_srcdir)/configure.ac
 am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
 	$(ACLOCAL_M4)
 am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
- configure.lineno config.status.lineno
+ configure.lineno configure.status.lineno
 mkinstalldirs = $(install_sh) -d
 CONFIG_HEADER = config.h
 CONFIG_CLEAN_FILES =
 am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
 am__vpath_adj = case $$p in \
     $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
@@ -59,32 +63,28 @@
 libLTLIBRARIES_INSTALL = $(INSTALL)
 LTLIBRARIES = $(lib_LTLIBRARIES) $(noinst_LTLIBRARIES)
 am__DEPENDENCIES_1 =
 libltdl_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am_libltdl_la_OBJECTS = ltdl.lo
 libltdl_la_OBJECTS = $(am_libltdl_la_OBJECTS)
-libltdl_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(libltdl_la_LDFLAGS) $(LDFLAGS) -o $@
 @INSTALL_LTDL_TRUE@am_libltdl_la_rpath = -rpath $(libdir)
 libltdlc_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am_libltdlc_la_OBJECTS = ltdl.lo
 libltdlc_la_OBJECTS = $(am_libltdlc_la_OBJECTS)
 @CONVENIENCE_LTDL_TRUE@am_libltdlc_la_rpath =
-DEFAULT_INCLUDES = -I.@am__isrc@
+DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp =
 am__depfiles_maybe =
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
-	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = $(libltdl_la_SOURCES) $(libltdlc_la_SOURCES)
 DIST_SOURCES = $(libltdl_la_SOURCES) $(libltdlc_la_SOURCES)
 am__include_HEADERS_DIST = ltdl.h
 includeHEADERS_INSTALL = $(INSTALL_HEADER)
 am__noinst_HEADERS_DIST = ltdl.h
 HEADERS = $(include_HEADERS) $(noinst_HEADERS)
@@ -99,58 +99,60 @@
          && rm -fr $(distdir); }; }
 DIST_ARCHIVES = $(distdir).tar.gz
 GZIP_ENV = --best
 distuninstallcheck_listfiles = find . -type f -print
 distcleancheck_listfiles = find . -type f -print
 ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AS = @AS@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
+CONVENIENCE_LTDL_FALSE = @CONVENIENCE_LTDL_FALSE@
+CONVENIENCE_LTDL_TRUE = @CONVENIENCE_LTDL_TRUE@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
 CXXCPP = @CXXCPP@
 CXXDEPMODE = @CXXDEPMODE@
 CXXFLAGS = @CXXFLAGS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
 DLLTOOL = @DLLTOOL@
-DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
 EXEEXT = @EXEEXT@
 F77 = @F77@
 FFLAGS = @FFLAGS@
 GREP = @GREP@
-INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
+INSTALL_LTDL_FALSE = @INSTALL_LTDL_FALSE@
+INSTALL_LTDL_TRUE = @INSTALL_LTDL_TRUE@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LIBADD_DL = @LIBADD_DL@
 LIBOBJS = @LIBOBJS@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIBTOOL_DEPS = @LIBTOOL_DEPS@
 LN_S = @LN_S@
 LTLIBOBJS = @LTLIBOBJS@
 MAKEINFO = @MAKEINFO@
-MKDIR_P = @MKDIR_P@
-NMEDIT = @NMEDIT@
 OBJDUMP = @OBJDUMP@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
@@ -160,31 +162,30 @@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
-abs_builddir = @abs_builddir@
-abs_srcdir = @abs_srcdir@
-abs_top_builddir = @abs_top_builddir@
-abs_top_srcdir = @abs_top_srcdir@
 ac_ct_CC = @ac_ct_CC@
 ac_ct_CXX = @ac_ct_CXX@
 ac_ct_F77 = @ac_ct_F77@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
 am__tar = @am__tar@
 am__untar = @am__untar@
 bindir = @bindir@
 build = @build@
 build_alias = @build_alias@
 build_cpu = @build_cpu@
 build_os = @build_os@
 build_vendor = @build_vendor@
-builddir = @builddir@
 datadir = @datadir@
 datarootdir = @datarootdir@
 docdir = @docdir@
 dvidir = @dvidir@
 exec_prefix = @exec_prefix@
 host = @host@
@@ -206,25 +207,22 @@
 pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
-srcdir = @srcdir@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-top_builddir = @top_builddir@
-top_srcdir = @top_srcdir@
 AUTOMAKE_OPTIONS = no-dependencies foreign
 @INSTALL_LTDL_TRUE@include_HEADERS = ltdl.h
 @INSTALL_LTDL_TRUE@lib_LTLIBRARIES = libltdl.la
 @INSTALL_LTDL_FALSE@noinst_HEADERS = ltdl.h
 @CONVENIENCE_LTDL_TRUE@noinst_LTLIBRARIES = libltdlc.la
 CLEANFILES = libltdl.la libltdlc.la
 libltdl_la_SOURCES = ltdl.c
-libltdl_la_LDFLAGS = -no-undefined -version-info 4:6:1
+libltdl_la_LDFLAGS = -no-undefined -version-info 4:5:1
 libltdl_la_LIBADD = $(LIBADD_DL)
 libltdlc_la_SOURCES = ltdl.c
 libltdlc_la_LIBADD = $(LIBADD_DL)
 all: config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-am
 
@@ -264,13 +262,13 @@
 $(ACLOCAL_M4):  $(am__aclocal_m4_deps)
 	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
 
 config.h: stamp-h1
 	@if test ! -f $@; then \
 	  rm -f stamp-h1; \
-	  $(MAKE) $(AM_MAKEFLAGS) stamp-h1; \
+	  $(MAKE) stamp-h1; \
 	else :; fi
 
 stamp-h1: $(srcdir)/config-h.in $(top_builddir)/config.status
 	@rm -f stamp-h1
 	cd $(top_builddir) && $(SHELL) ./config.status config.h
 $(srcdir)/config-h.in:  $(am__configure_deps) 
@@ -279,27 +277,27 @@
 	touch $@
 
 distclean-hdr:
 	-rm -f config.h stamp-h1
 install-libLTLIBRARIES: $(lib_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
-	test -z "$(libdir)" || $(MKDIR_P) "$(DESTDIR)$(libdir)"
+	test -z "$(libdir)" || $(mkdir_p) "$(DESTDIR)$(libdir)"
 	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    f=$(am__strip_dir) \
-	    echo " $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(libdir)/$$f'"; \
-	    $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(libdir)/$$f"; \
+	    echo " $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(libdir)/$$f'"; \
+	    $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(libdir)/$$f"; \
 	  else :; fi; \
 	done
 
 uninstall-libLTLIBRARIES:
 	@$(NORMAL_UNINSTALL)
-	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	@set -x; list='$(lib_LTLIBRARIES)'; for p in $$list; do \
 	  p=$(am__strip_dir) \
-	  echo " $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f '$(DESTDIR)$(libdir)/$$p'"; \
-	  $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f "$(DESTDIR)$(libdir)/$$p"; \
+	  echo " $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(libdir)/$$p'"; \
+	  $(LIBTOOL) --mode=uninstall rm -f "$(DESTDIR)$(libdir)/$$p"; \
 	done
 
 clean-libLTLIBRARIES:
 	-test -z "$(lib_LTLIBRARIES)" || rm -f $(lib_LTLIBRARIES)
 	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
 	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
@@ -314,15 +312,15 @@
 	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
 	  test "$$dir" != "$$p" || dir=.; \
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
 libltdl.la: $(libltdl_la_OBJECTS) $(libltdl_la_DEPENDENCIES) 
-	$(libltdl_la_LINK) $(am_libltdl_la_rpath) $(libltdl_la_OBJECTS) $(libltdl_la_LIBADD) $(LIBS)
+	$(LINK) $(am_libltdl_la_rpath) $(libltdl_la_LDFLAGS) $(libltdl_la_OBJECTS) $(libltdl_la_LIBADD) $(LIBS)
 libltdlc.la: $(libltdlc_la_OBJECTS) $(libltdlc_la_DEPENDENCIES) 
-	$(LINK) $(am_libltdlc_la_rpath) $(libltdlc_la_OBJECTS) $(libltdlc_la_LIBADD) $(LIBS)
+	$(LINK) $(am_libltdlc_la_rpath) $(libltdlc_la_LDFLAGS) $(libltdlc_la_OBJECTS) $(libltdlc_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
@@ -341,15 +339,16 @@
 
 clean-libtool:
 	-rm -rf .libs _libs
 
 distclean-libtool:
 	-rm -f libtool
+uninstall-info-am:
 install-includeHEADERS: $(include_HEADERS)
 	@$(NORMAL_INSTALL)
-	test -z "$(includedir)" || $(MKDIR_P) "$(DESTDIR)$(includedir)"
+	test -z "$(includedir)" || $(mkdir_p) "$(DESTDIR)$(includedir)"
 	@list='$(include_HEADERS)'; for p in $$list; do \
 	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
 	  f=$(am__strip_dir) \
 	  echo " $(includeHEADERS_INSTALL) '$$d$$p' '$(DESTDIR)$(includedir)/$$f'"; \
 	  $(includeHEADERS_INSTALL) "$$d$$p" "$(DESTDIR)$(includedir)/$$f"; \
 	done
@@ -364,42 +363,43 @@
 
 ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
 	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonemtpy = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
 tags: TAGS
 
 TAGS:  $(HEADERS) $(SOURCES) config-h.in $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
 	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS) config-h.in $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
 	  test -n "$$unique" || unique=$$empty_fix; \
 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
 	    $$tags $$unique; \
 	fi
 ctags: CTAGS
 CTAGS:  $(HEADERS) $(SOURCES) config-h.in $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
+	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS) config-h.in $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	test -z "$(CTAGS_ARGS)$$tags$$unique" \
 	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
 	     $$tags $$unique
 
 GTAGS:
 	here=`$(am__cd) $(top_builddir) && pwd` \
@@ -408,28 +408,29 @@
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 
 distdir: $(DISTFILES)
 	$(am__remove_distdir)
-	test -d $(distdir) || mkdir $(distdir)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	list='$(DISTFILES)'; \
-	  dist_files=`for file in $$list; do echo $$file; done | \
-	  sed -e "s|^$$srcdirstrip/||;t" \
-	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
-	case $$dist_files in \
-	  */*) $(MKDIR_P) `echo "$$dist_files" | \
-			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
-			   sort -u` ;; \
-	esac; \
-	for file in $$dist_files; do \
+	mkdir $(distdir)
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
 	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
 	  if test -d $$d/$$file; then \
-	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
 	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
 	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
 	    fi; \
 	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
 	  else \
 	    test -f $(distdir)/$$file \
@@ -437,26 +438,22 @@
 	    || exit 1; \
 	  fi; \
 	done
 	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
 	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
 	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
-	  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
+	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
 	|| chmod -R a+r $(distdir)
 dist-gzip: distdir
 	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
 	$(am__remove_distdir)
 
 dist-bzip2: distdir
 	tardir=$(distdir) && $(am__tar) | bzip2 -9 -c >$(distdir).tar.bz2
 	$(am__remove_distdir)
 
-dist-lzma: distdir
-	tardir=$(distdir) && $(am__tar) | lzma -9 -c >$(distdir).tar.lzma
-	$(am__remove_distdir)
-
 dist-tarZ: distdir
 	tardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z
 	$(am__remove_distdir)
 
 dist-shar: distdir
 	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
@@ -477,14 +474,12 @@
 distcheck: dist
 	case '$(DIST_ARCHIVES)' in \
 	*.tar.gz*) \
 	  GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(am__untar) ;;\
 	*.tar.bz2*) \
 	  bunzip2 -c $(distdir).tar.bz2 | $(am__untar) ;;\
-	*.tar.lzma*) \
-	  unlzma -c $(distdir).tar.lzma | $(am__untar) ;;\
 	*.tar.Z*) \
 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
 	*.shar.gz*) \
 	  GZIP=$(GZIP_ENV) gunzip -c $(distdir).shar.gz | unshar ;;\
 	*.zip*) \
 	  unzip $(distdir).zip ;;\
@@ -518,13 +513,13 @@
 	  && $(MAKE) $(AM_MAKEFLAGS) dist \
 	  && rm -rf $(DIST_ARCHIVES) \
 	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
 	$(am__remove_distdir)
 	@(echo "$(distdir) archives ready for distribution: "; \
 	  list='$(DIST_ARCHIVES)'; for i in $$list; do echo $$i; done) | \
-	  sed -e 1h -e 1s/./=/g -e 1p -e 1x -e '$$p' -e '$$x'
+	  sed -e '1{h;s/./=/g;p;x;}' -e '$${p;x;}'
 distuninstallcheck:
 	@cd $(distuninstallcheck_dir) \
 	&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \
 	   || { echo "ERROR: files left after uninstall:" ; \
 	        if test -n "$(DESTDIR)"; then \
 	          echo "  (check DESTDIR support)"; \
@@ -542,13 +537,13 @@
 	       exit 1; } >&2
 check-am: all-am
 check: check-am
 all-am: Makefile $(LTLIBRARIES) $(HEADERS) config.h
 installdirs:
 	for dir in "$(DESTDIR)$(libdir)" "$(DESTDIR)$(includedir)"; do \
-	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
+	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
 	done
 install: install-am
 install-exec: install-exec-am
 install-data: install-data-am
 uninstall: uninstall-am
 
@@ -592,26 +587,18 @@
 info: info-am
 
 info-am:
 
 install-data-am: install-includeHEADERS
 
-install-dvi: install-dvi-am
-
 install-exec-am: install-libLTLIBRARIES
 
-install-html: install-html-am
-
 install-info: install-info-am
 
 install-man:
 
-install-pdf: install-pdf-am
-
-install-ps: install-ps-am
-
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
 	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
 	-rm -rf $(top_srcdir)/autom4te.cache
 	-rm -f Makefile
@@ -627,32 +614,30 @@
 pdf-am:
 
 ps: ps-am
 
 ps-am:
 
-uninstall-am: uninstall-includeHEADERS uninstall-libLTLIBRARIES
-
-.MAKE: install-am install-strip
+uninstall-am: uninstall-includeHEADERS uninstall-info-am \
+	uninstall-libLTLIBRARIES
 
 .PHONY: CTAGS GTAGS all all-am am--refresh check check-am clean \
 	clean-generic clean-libLTLIBRARIES clean-libtool \
 	clean-noinstLTLIBRARIES ctags dist dist-all dist-bzip2 \
-	dist-gzip dist-lzma dist-shar dist-tarZ dist-zip distcheck \
-	distclean distclean-compile distclean-generic distclean-hdr \
+	dist-gzip dist-shar dist-tarZ dist-zip distcheck distclean \
+	distclean-compile distclean-generic distclean-hdr \
 	distclean-libtool distclean-tags distcleancheck distdir \
 	distuninstallcheck dvi dvi-am html html-am info info-am \
-	install install-am install-data install-data-am install-dvi \
-	install-dvi-am install-exec install-exec-am install-html \
-	install-html-am install-includeHEADERS install-info \
-	install-info-am install-libLTLIBRARIES install-man install-pdf \
-	install-pdf-am install-ps install-ps-am install-strip \
-	installcheck installcheck-am installdirs maintainer-clean \
-	maintainer-clean-generic mostlyclean mostlyclean-compile \
-	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
-	tags uninstall uninstall-am uninstall-includeHEADERS \
+	install install-am install-data install-data-am install-exec \
+	install-exec-am install-includeHEADERS install-info \
+	install-info-am install-libLTLIBRARIES install-man \
+	install-strip installcheck installcheck-am installdirs \
+	maintainer-clean maintainer-clean-generic mostlyclean \
+	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
+	pdf pdf-am ps ps-am tags uninstall uninstall-am \
+	uninstall-includeHEADERS uninstall-info-am \
 	uninstall-libLTLIBRARIES
 
 
 ltdl.lo: ltdl.h config.h
 
 $(libltdl_la_OBJECTS) $(libltdlc_la_OBJECTS): libtool
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/missing /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/missing
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/libltdl/missing	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/libltdl/missing	2007-11-28 05:23:09.000000000 +0800
@@ -1,12 +1,12 @@
 #! /bin/sh
 # Common stub for a few missing GNU programs while installing.
 
-scriptversion=2006-05-10.23
+scriptversion=2005-06-08.21
 
-# Copyright (C) 1996, 1997, 1999, 2000, 2002, 2003, 2004, 2005, 2006
+# Copyright (C) 1996, 1997, 1999, 2000, 2002, 2003, 2004, 2005
 #   Free Software Foundation, Inc.
 # Originally by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2, or (at your option)
@@ -30,26 +30,24 @@
 if test $# -eq 0; then
   echo 1>&2 "Try \`$0 --help' for more information"
   exit 1
 fi
 
 run=:
-sed_output='s/.* --output[ =]\([^ ]*\).*/\1/p'
-sed_minuso='s/.* -o \([^ ]*\).*/\1/p'
 
 # In the cases where this matters, `missing' is being run in the
 # srcdir already.
 if test -f configure.ac; then
   configure_ac=configure.ac
 else
   configure_ac=configure.in
 fi
 
 msg="missing on your system"
 
-case $1 in
+case "$1" in
 --run)
   # Try to run requested program, and just exit if it succeeds.
   run=
   shift
   "$@" && exit 0
   # Exit code 63 means version mismatch.  This often happens
@@ -76,13 +74,12 @@
   --run           try to run the given command, and emulate it if it fails
 
 Supported PROGRAM values:
   aclocal      touch file \`aclocal.m4'
   autoconf     touch file \`configure'
   autoheader   touch file \`config.h.in'
-  autom4te     touch the output file, or create a stub one
   automake     touch all \`Makefile.in' files
   bison        create \`y.tab.[ch]', if possible, from existing .[ch]
   flex         create \`lex.yy.c', if possible, from existing .c
   help2man     touch the output file
   lex          create \`lex.yy.c', if possible, from existing .c
   makeinfo     touch the output file
@@ -106,13 +103,13 @@
 
 esac
 
 # Now exit if we have it, but it failed.  Also exit now if we
 # don't have it and --version was passed (most likely to detect
 # the program).
-case $1 in
+case "$1" in
   lex|yacc)
     # Not GNU programs, they don't have --version.
     ;;
 
   tar)
     if test -n "$run"; then
@@ -135,13 +132,13 @@
     fi
     ;;
 esac
 
 # If it does not exist, or fails to run (possibly an outdated version),
 # try to emulate it.
-case $1 in
+case "$1" in
   aclocal*)
     echo 1>&2 "\
 WARNING: \`$1' is $msg.  You should only need it if
          you modified \`acinclude.m4' or \`${configure_ac}'.  You might want
          to install the \`Automake' and \`Perl' packages.  Grab them from
          any GNU archive site."
@@ -164,13 +161,13 @@
          to install the \`Autoconf' and \`GNU m4' packages.  Grab them
          from any GNU archive site."
     files=`sed -n 's/^[ ]*A[CM]_CONFIG_HEADER(\([^)]*\)).*/\1/p' ${configure_ac}`
     test -z "$files" && files="config.h"
     touch_files=
     for f in $files; do
-      case $f in
+      case "$f" in
       *:*) touch_files="$touch_files "`echo "$f" |
 				       sed -e 's/^[^:]*://' -e 's/:.*//'`;;
       *) touch_files="$touch_files $f.in";;
       esac
     done
     touch $touch_files
@@ -192,14 +189,14 @@
 WARNING: \`$1' is needed, but is $msg.
          You might have modified some files without having the
          proper tools for further handling them.
          You can get \`$1' as part of \`Autoconf' from any GNU
          archive site."
 
-    file=`echo "$*" | sed -n "$sed_output"`
-    test -z "$file" && file=`echo "$*" | sed -n "$sed_minuso"`
+    file=`echo "$*" | sed -n 's/.*--output[ =]*\([^ ]*\).*/\1/p'`
+    test -z "$file" && file=`echo "$*" | sed -n 's/.*-o[ ]*\([^ ]*\).*/\1/p'`
     if test -f "$file"; then
 	touch $file
     else
 	test -z "$file" || exec >$file
 	echo "#! /bin/sh"
 	echo "# Created by GNU Automake missing as a replacement of"
@@ -214,68 +211,70 @@
     echo 1>&2 "\
 WARNING: \`$1' $msg.  You should only need it if
          you modified a \`.y' file.  You may need the \`Bison' package
          in order for those modifications to take effect.  You can get
          \`Bison' from any GNU archive site."
     rm -f y.tab.c y.tab.h
-    if test $# -ne 1; then
+    if [ $# -ne 1 ]; then
         eval LASTARG="\${$#}"
-	case $LASTARG in
+	case "$LASTARG" in
 	*.y)
 	    SRCFILE=`echo "$LASTARG" | sed 's/y$/c/'`
-	    if test -f "$SRCFILE"; then
+	    if [ -f "$SRCFILE" ]; then
 	         cp "$SRCFILE" y.tab.c
 	    fi
 	    SRCFILE=`echo "$LASTARG" | sed 's/y$/h/'`
-	    if test -f "$SRCFILE"; then
+	    if [ -f "$SRCFILE" ]; then
 	         cp "$SRCFILE" y.tab.h
 	    fi
 	  ;;
 	esac
     fi
-    if test ! -f y.tab.h; then
+    if [ ! -f y.tab.h ]; then
 	echo >y.tab.h
     fi
-    if test ! -f y.tab.c; then
+    if [ ! -f y.tab.c ]; then
 	echo 'main() { return 0; }' >y.tab.c
     fi
     ;;
 
   lex|flex)
     echo 1>&2 "\
 WARNING: \`$1' is $msg.  You should only need it if
          you modified a \`.l' file.  You may need the \`Flex' package
          in order for those modifications to take effect.  You can get
          \`Flex' from any GNU archive site."
     rm -f lex.yy.c
-    if test $# -ne 1; then
+    if [ $# -ne 1 ]; then
         eval LASTARG="\${$#}"
-	case $LASTARG in
+	case "$LASTARG" in
 	*.l)
 	    SRCFILE=`echo "$LASTARG" | sed 's/l$/c/'`
-	    if test -f "$SRCFILE"; then
+	    if [ -f "$SRCFILE" ]; then
 	         cp "$SRCFILE" lex.yy.c
 	    fi
 	  ;;
 	esac
     fi
-    if test ! -f lex.yy.c; then
+    if [ ! -f lex.yy.c ]; then
 	echo 'main() { return 0; }' >lex.yy.c
     fi
     ;;
 
   help2man)
     echo 1>&2 "\
 WARNING: \`$1' is $msg.  You should only need it if
 	 you modified a dependency of a manual page.  You may need the
 	 \`Help2man' package in order for those modifications to take
 	 effect.  You can get \`Help2man' from any GNU archive site."
 
-    file=`echo "$*" | sed -n "$sed_output"`
-    test -z "$file" && file=`echo "$*" | sed -n "$sed_minuso"`
-    if test -f "$file"; then
+    file=`echo "$*" | sed -n 's/.*-o \([^ ]*\).*/\1/p'`
+    if test -z "$file"; then
+	file=`echo "$*" | sed -n 's/.*--output=\([^ ]*\).*/\1/p'`
+    fi
+    if [ -f "$file" ]; then
 	touch $file
     else
 	test -z "$file" || exec >$file
 	echo ".ab help2man is required to generate this page"
 	exit 1
     fi
@@ -287,23 +286,17 @@
          you modified a \`.texi' or \`.texinfo' file, or any other file
          indirectly affecting the aspect of the manual.  The spurious
          call might also be the consequence of using a buggy \`make' (AIX,
          DU, IRIX).  You might want to install the \`Texinfo' package or
          the \`GNU make' package.  Grab either from any GNU archive site."
     # The file to touch is that specified with -o ...
-    file=`echo "$*" | sed -n "$sed_output"`
-    test -z "$file" && file=`echo "$*" | sed -n "$sed_minuso"`
+    file=`echo "$*" | sed -n 's/.*-o \([^ ]*\).*/\1/p'`
     if test -z "$file"; then
       # ... or it is the one specified with @setfilename ...
       infile=`echo "$*" | sed 's/.* \([^ ]*\) *$/\1/'`
-      file=`sed -n '
-	/^@setfilename/{
-	  s/.* \([^ ]*\) *$/\1/
-	  p
-	  q
-	}' $infile`
+      file=`sed -n '/^@setfilename/ { s/.* \([^ ]*\) *$/\1/; p; q; }' $infile`
       # ... or it is derived from the source name (dir/f.texi becomes f.info)
       test -z "$file" && file=`echo "$infile" | sed 's,.*/,,;s,.[^.]*$,,'`.info
     fi
     # If the file does not exist, the user really needs makeinfo;
     # let's fail without touching anything.
     test -f $file || exit 1
@@ -321,19 +314,19 @@
     fi
     if (gtar --version > /dev/null 2>&1); then
        gtar "$@" && exit 0
     fi
     firstarg="$1"
     if shift; then
-	case $firstarg in
+	case "$firstarg" in
 	*o*)
 	    firstarg=`echo "$firstarg" | sed s/o//`
 	    tar "$firstarg" "$@" && exit 0
 	    ;;
 	esac
-	case $firstarg in
+	case "$firstarg" in
 	*h*)
 	    firstarg=`echo "$firstarg" | sed s/h//`
 	    tar "$firstarg" "$@" && exit 0
 	    ;;
 	esac
     fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/ltmain.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/ltmain.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/ltmain.sh	2008-02-02 21:28:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/ltmain.sh	2007-11-28 05:23:09.000000000 +0800
@@ -1,11 +1,11 @@
 # ltmain.sh - Provide generalized library-building support services.
 # NOTE: Changing this file will not affect anything until you rerun configure.
 #
 # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005, 2006,
-# 2007, 2008  Free Software Foundation, Inc.
+# 2007  Free Software Foundation, Inc.
 # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
 # (at your option) any later version.
@@ -40,14 +40,14 @@
 # Global variables:
 EXIT_SUCCESS=0
 EXIT_FAILURE=1
 
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION="1.5.26 Debian 1.5.26-1"
-TIMESTAMP=" (1.1220.2.493 2008/02/01 16:58:18)"
+VERSION="1.5.24 Debian 1.5.24-2"
+TIMESTAMP=" (1.1220.2.456 2007/06/24 02:25:32)"
 
 # Be Bourne compatible (taken from Autoconf:_AS_BOURNE_COMPATIBLE).
 if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
@@ -110,27 +110,21 @@
 
 # NLS nuisances.
 # Only set LANG and LC_ALL to C if already set.
 # These must not be set unconditionally because not all systems understand
 # e.g. LANG=C (notably SCO).
 # We save the old values to restore during execute mode.
-lt_env=
-for lt_var in LANG LANGUAGE LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
+for lt_var in LANG LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
 do
   eval "if test \"\${$lt_var+set}\" = set; then
 	  save_$lt_var=\$$lt_var
-	  lt_env=\"$lt_var=\$$lt_var \$lt_env\"
 	  $lt_var=C
 	  export $lt_var
 	fi"
 done
 
-if test -n "$lt_env"; then
-  lt_env="env $lt_env"
-fi
-
 # Make sure IFS has a sensible default
 lt_nl='
 '
 IFS=" 	$lt_nl"
 
 if test "$build_libtool_libs" != yes && test "$build_old_libs" != yes; then
@@ -488,13 +482,13 @@
     ;;
 
   --version)
     echo "\
 $PROGRAM (GNU $PACKAGE) $VERSION$TIMESTAMP
 
-Copyright (C) 2008  Free Software Foundation, Inc.
+Copyright (C) 2007  Free Software Foundation, Inc.
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
     exit $?
     ;;
 
   --config)
@@ -791,13 +785,12 @@
     *.cpp) xform=cpp ;;
     *.cxx) xform=cxx ;;
     *.[fF][09]?) xform=[fF][09]. ;;
     *.for) xform=for ;;
     *.java) xform=java ;;
     *.obj) xform=obj ;;
-    *.sx) xform=sx ;;
     esac
 
     libobj=`$echo "X$libobj" | $Xsed -e "s/\.$xform$/.lo/"`
 
     case $libobj in
     *.lo) obj=`$echo "X$libobj" | $Xsed -e "$lo2o"` ;;
@@ -960,13 +953,13 @@
 	command="$command -o $lobj"
       fi
 
       $run $rm "$lobj" "$output_obj"
 
       $show "$command"
-      if $run eval $lt_env "$command"; then :
+      if $run eval "$command"; then :
       else
 	test -n "$output_obj" && $run $rm $removelist
 	exit $EXIT_FAILURE
       fi
 
       if test "$need_locks" = warn &&
@@ -1032,13 +1025,13 @@
       fi
 
       # Suppress compiler output if we already did a PIC compilation.
       command="$command$suppress_output"
       $run $rm "$obj" "$output_obj"
       $show "$command"
-      if $run eval $lt_env "$command"; then :
+      if $run eval "$command"; then :
       else
 	$run $rm $removelist
 	exit $EXIT_FAILURE
       fi
 
       if test "$need_locks" = warn &&
@@ -1165,13 +1158,12 @@
     xrpath=
     perm_rpath=
     temp_rpath=
     thread_safe=no
     vinfo=
     vinfo_number=no
-    single_module="${wl}-single_module"
 
     func_infer_tag $base_compile
 
     # We need to know -static, to get the right output filenames.
     for arg
     do
@@ -1651,17 +1643,12 @@
 	compiler_flags="$compiler_flags $arg"
 	compile_command="$compile_command $arg"
 	finalize_command="$finalize_command $arg"
 	continue
 	;;
 
-      -multi_module)
-	single_module="${wl}-multi_module"
-	continue
-	;;
-
       -module)
 	module=yes
 	continue
 	;;
 
       # -64, -mips[0-9] enable 64-bit mode on the SGI compiler
@@ -2162,18 +2149,13 @@
 	-l*)
 	  if test "$linkmode" != lib && test "$linkmode" != prog; then
 	    $echo "$modename: warning: \`-l' is ignored for archives/objects" 1>&2
 	    continue
 	  fi
 	  name=`$echo "X$deplib" | $Xsed -e 's/^-l//'`
-	  if test "$linkmode" = lib; then
-	    searchdirs="$newlib_search_path $lib_search_path $compiler_lib_search_dirs $sys_lib_search_path $shlib_search_path"
-	  else
-	    searchdirs="$newlib_search_path $lib_search_path $sys_lib_search_path $shlib_search_path"
-	  fi
-	  for searchdir in $searchdirs; do
+	  for searchdir in $newlib_search_path $lib_search_path $sys_lib_search_path $shlib_search_path; do
 	    for search_ext in .la $std_shrext .so .a; do
 	      # Search the libtool library
 	      lib="$searchdir/lib${name}${search_ext}"
 	      if test -f "$lib"; then
 		if test "$search_ext" = ".la"; then
 		  found=yes
@@ -2963,24 +2945,18 @@
 		depdepl=
 		case $host in
 		*-*-darwin*)
 		  # we do not want to link against static libs,
 		  # but need to link against shared
 		  eval deplibrary_names=`${SED} -n -e 's/^library_names=\(.*\)$/\1/p' $deplib`
-		  eval deplibdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
 		  if test -n "$deplibrary_names" ; then
 		    for tmp in $deplibrary_names ; do
 		      depdepl=$tmp
 		    done
-		    if test -f "$deplibdir/$depdepl" ; then
-		      depdepl="$deplibdir/$depdepl"
-	      	    elif test -f "$path/$depdepl" ; then
+		    if test -f "$path/$depdepl" ; then
 		      depdepl="$path/$depdepl"
-		    else
-		      # Can't find it, oh well...
-		      depdepl=
 		    fi
 		    # do not add paths which are already there
 		    case " $newlib_search_path " in
 		    *" $path "*) ;;
 		    *) newlib_search_path="$newlib_search_path $path";;
 		    esac
@@ -3122,16 +3098,15 @@
       dlfiles="$newdlfiles"
       dlprefiles="$newdlprefiles"
     fi
 
     case $linkmode in
     oldlib)
-      case " $deplibs" in
-      *\ -l* | *\ -L*)
-	$echo "$modename: warning: \`-l' and \`-L' are ignored for archives" 1>&2 ;;
-      esac
+      if test -n "$deplibs"; then
+	$echo "$modename: warning: \`-l' and \`-L' are ignored for archives" 1>&2
+      fi
 
       if test -n "$dlfiles$dlprefiles" || test "$dlself" != no; then
 	$echo "$modename: warning: \`-dlopen' is ignored for archives" 1>&2
       fi
 
       if test -n "$rpath"; then
@@ -4267,16 +4242,15 @@
 	  dlname="$soname"
 	fi
       fi
       ;;
 
     obj)
-      case " $deplibs" in
-      *\ -l* | *\ -L*)
-	$echo "$modename: warning: \`-l' and \`-L' are ignored for objects" 1>&2 ;;
-      esac
+      if test -n "$deplibs"; then
+	$echo "$modename: warning: \`-l' and \`-L' are ignored for objects" 1>&2
+      fi
 
       if test -n "$dlfiles$dlprefiles" || test "$dlself" != no; then
 	$echo "$modename: warning: \`-dlopen' is ignored for objects" 1>&2
       fi
 
       if test -n "$rpath"; then
@@ -6509,13 +6483,13 @@
       if test -n "$shlibpath_var"; then
 	# Export the shlibpath_var.
 	eval "export $shlibpath_var"
       fi
 
       # Restore saved environment variables
-      for lt_var in LANG LANGUAGE LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
+      for lt_var in LANG LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES
       do
 	eval "if test \"\${save_$lt_var+set}\" = set; then
 		$lt_var=\$save_$lt_var; export $lt_var
 	      fi"
       done
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/Makefile.am	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/Makefile.am	2008-02-19 03:57:18.000000000 +0800
@@ -1,12 +1,10 @@
 SUBDIRS = libltdl src bindings
 
 INCLUDES = $(LTDLINCL)
 
 EXTRA_DIST = contrib version-gen.sh
 
-dist-hook:
-	find $(distdir) -type d -name '.svn' | xargs rm -rf
-
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/lib/$(PACKAGE_NAME)
+	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/log
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/Makefile.in	2008-04-23 20:10:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/Makefile.in	2008-02-20 03:28:07.000000000 +0800
@@ -1,26 +1,30 @@
-# Makefile.in generated by automake 1.10.1 from Makefile.am.
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2003, 2004, 2005  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = .
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
 install_sh_PROGRAM = $(install_sh) -c
 install_sh_SCRIPT = $(install_sh) -c
 INSTALL_HEADER = $(INSTALL_DATA)
 transform = $(program_transform_name)
 NORMAL_INSTALL = :
@@ -28,37 +32,34 @@
 POST_INSTALL = :
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
-subdir = .
 DIST_COMMON = README $(am__configure_deps) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(top_srcdir)/configure AUTHORS COPYING \
 	ChangeLog INSTALL NEWS TODO compile config.guess config.sub \
-	depcomp install-sh ltmain.sh missing ylwrap
+	depcomp install-sh ltmain.sh missing
+subdir = .
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
 am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
 	$(ACLOCAL_M4)
 am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
- configure.lineno config.status.lineno
+ configure.lineno configure.status.lineno
 mkinstalldirs = $(install_sh) -d
 CONFIG_HEADER = $(top_builddir)/src/config.h
 CONFIG_CLEAN_FILES =
 SOURCES =
 DIST_SOURCES =
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
 	html-recursive info-recursive install-data-recursive \
-	install-dvi-recursive install-exec-recursive \
-	install-html-recursive install-info-recursive \
-	install-pdf-recursive install-ps-recursive install-recursive \
-	installcheck-recursive installdirs-recursive pdf-recursive \
-	ps-recursive uninstall-recursive
-RECURSIVE_CLEAN_TARGETS = mostlyclean-recursive clean-recursive	\
-  distclean-recursive maintainer-clean-recursive
+	install-exec-recursive install-info-recursive \
+	install-recursive installcheck-recursive installdirs-recursive \
+	pdf-recursive ps-recursive uninstall-info-recursive \
+	uninstall-recursive
 ETAGS = etags
 CTAGS = ctags
 DIST_SUBDIRS = $(SUBDIRS)
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 distdir = $(PACKAGE)-$(VERSION)
 top_distdir = $(distdir)
@@ -68,57 +69,215 @@
          && rm -fr $(distdir); }; }
 DIST_ARCHIVES = $(distdir).tar.gz $(distdir).tar.bz2
 GZIP_ENV = --best
 distuninstallcheck_listfiles = find . -type f -print
 distcleancheck_listfiles = find . -type f -print
 ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
+BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
+BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LIBVIRT_FALSE = @BUILD_PLUGIN_LIBVIRT_FALSE@
+BUILD_PLUGIN_LIBVIRT_TRUE = @BUILD_PLUGIN_LIBVIRT_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_UUID_FALSE = @BUILD_PLUGIN_UUID_FALSE@
+BUILD_PLUGIN_UUID_TRUE = @BUILD_PLUGIN_UUID_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
+BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
+BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
+BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
+BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
+BUILD_WITH_LIBDEVSTAT_FALSE = @BUILD_WITH_LIBDEVSTAT_FALSE@
+BUILD_WITH_LIBDEVSTAT_TRUE = @BUILD_WITH_LIBDEVSTAT_TRUE@
+BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
+BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBIOKIT_FALSE = @BUILD_WITH_LIBIOKIT_FALSE@
+BUILD_WITH_LIBIOKIT_TRUE = @BUILD_WITH_LIBIOKIT_TRUE@
+BUILD_WITH_LIBIPTC_FALSE = @BUILD_WITH_LIBIPTC_FALSE@
+BUILD_WITH_LIBIPTC_TRUE = @BUILD_WITH_LIBIPTC_TRUE@
+BUILD_WITH_LIBKSTAT_FALSE = @BUILD_WITH_LIBKSTAT_FALSE@
+BUILD_WITH_LIBKSTAT_TRUE = @BUILD_WITH_LIBKSTAT_TRUE@
+BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
+BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
 BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
+BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
+BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
+BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
+BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
+BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
+BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
+BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
+BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
+BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
+BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
+BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
+BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
+BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
+BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
+BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
+BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
+BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
+BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
+COMPILER_IS_GCC_FALSE = @COMPILER_IS_GCC_FALSE@
+COMPILER_IS_GCC_TRUE = @COMPILER_IS_GCC_TRUE@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
 CXXCPP = @CXXCPP@
 CXXDEPMODE = @CXXDEPMODE@
 CXXFLAGS = @CXXFLAGS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
-DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
 EXEEXT = @EXEEXT@
 F77 = @F77@
 FFLAGS = @FFLAGS@
 GREP = @GREP@
-INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
@@ -129,14 +288,12 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTDLINCL = @LTDLINCL@
 LTLIBOBJS = @LTLIBOBJS@
 MAKEINFO = @MAKEINFO@
-MKDIR_P = @MKDIR_P@
-NMEDIT = @NMEDIT@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
@@ -144,39 +301,39 @@
 PATH_SEPARATOR = @PATH_SEPARATOR@
 PERL = @PERL@
 PERL_BINDINGS = @PERL_BINDINGS@
 PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
+PKG_CONFIG = @PKG_CONFIG@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
 YFLAGS = @YFLAGS@
-abs_builddir = @abs_builddir@
-abs_srcdir = @abs_srcdir@
-abs_top_builddir = @abs_top_builddir@
-abs_top_srcdir = @abs_top_srcdir@
 ac_ct_CC = @ac_ct_CC@
 ac_ct_CXX = @ac_ct_CXX@
 ac_ct_F77 = @ac_ct_F77@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
 am__tar = @am__tar@
 am__untar = @am__untar@
 bindir = @bindir@
 build = @build@
 build_alias = @build_alias@
 build_cpu = @build_cpu@
 build_os = @build_os@
 build_vendor = @build_vendor@
-builddir = @builddir@
 datadir = @datadir@
 datarootdir = @datarootdir@
 docdir = @docdir@
 dvidir = @dvidir@
 exec_prefix = @exec_prefix@
 host = @host@
@@ -198,18 +355,15 @@
 pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
-srcdir = @srcdir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-top_builddir = @top_builddir@
-top_srcdir = @top_srcdir@
 SUBDIRS = libltdl src bindings
 INCLUDES = $(LTDLINCL)
 EXTRA_DIST = contrib version-gen.sh
 all: all-recursive
 
 .SUFFIXES:
@@ -252,12 +406,13 @@
 
 clean-libtool:
 	-rm -rf .libs _libs
 
 distclean-libtool:
 	-rm -f libtool
+uninstall-info-am:
 
 # This directory's subdirectories are mostly independent; you can cd
 # into them and run `make' without going through this Makefile.
 # To change the values of `make' variables: instead of editing Makefiles,
 # (1) if the variable is set in `config.status', edit `config.status'
 #     (which will cause the Makefiles to be regenerated when you run `make');
@@ -284,13 +439,14 @@
 	  || eval $$failcom; \
 	done; \
 	if test "$$dot_seen" = "no"; then \
 	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
 	fi; test -z "$$fail"
 
-$(RECURSIVE_CLEAN_TARGETS):
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
 	@failcom='exit 1'; \
 	for f in x $$MAKEFLAGS; do \
 	  case $$f in \
 	    *=* | --[!k]*);; \
 	    *k*) failcom='fail=yes';; \
 	  esac; \
@@ -328,14 +484,14 @@
 
 ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
 	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonemtpy = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
 tags: TAGS
 
 TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
@@ -354,29 +510,30 @@
 	  fi; \
 	done; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
 	  test -n "$$unique" || unique=$$empty_fix; \
 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
 	    $$tags $$unique; \
 	fi
 ctags: CTAGS
 CTAGS: ctags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
+	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	test -z "$(CTAGS_ARGS)$$tags$$unique" \
 	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
 	     $$tags $$unique
 
 GTAGS:
 	here=`$(am__cd) $(top_builddir) && pwd` \
@@ -385,28 +542,30 @@
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 
 distdir: $(DISTFILES)
 	$(am__remove_distdir)
-	test -d $(distdir) || mkdir $(distdir)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	list='$(DISTFILES)'; \
-	  dist_files=`for file in $$list; do echo $$file; done | \
-	  sed -e "s|^$$srcdirstrip/||;t" \
-	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
-	case $$dist_files in \
-	  */*) $(MKDIR_P) `echo "$$dist_files" | \
-			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
-			   sort -u` ;; \
-	esac; \
-	for file in $$dist_files; do \
+	mkdir $(distdir)
+	$(mkdir_p) $(distdir)/src
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
 	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
 	  if test -d $$d/$$file; then \
-	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
 	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
 	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
 	    fi; \
 	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
 	  else \
 	    test -f $(distdir)/$$file \
@@ -414,45 +573,36 @@
 	    || exit 1; \
 	  fi; \
 	done
 	list='$(DIST_SUBDIRS)'; for subdir in $$list; do \
 	  if test "$$subdir" = .; then :; else \
 	    test -d "$(distdir)/$$subdir" \
-	    || $(MKDIR_P) "$(distdir)/$$subdir" \
+	    || $(mkdir_p) "$(distdir)/$$subdir" \
 	    || exit 1; \
 	    distdir=`$(am__cd) $(distdir) && pwd`; \
 	    top_distdir=`$(am__cd) $(top_distdir) && pwd`; \
 	    (cd $$subdir && \
 	      $(MAKE) $(AM_MAKEFLAGS) \
 	        top_distdir="$$top_distdir" \
 	        distdir="$$distdir/$$subdir" \
-		am__remove_distdir=: \
-		am__skip_length_check=: \
 	        distdir) \
 	      || exit 1; \
 	  fi; \
 	done
-	$(MAKE) $(AM_MAKEFLAGS) \
-	  top_distdir="$(top_distdir)" distdir="$(distdir)" \
-	  dist-hook
 	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
 	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
 	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
-	  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
+	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
 	|| chmod -R a+r $(distdir)
 dist-gzip: distdir
 	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
 	$(am__remove_distdir)
 dist-bzip2: distdir
 	tardir=$(distdir) && $(am__tar) | bzip2 -9 -c >$(distdir).tar.bz2
 	$(am__remove_distdir)
 
-dist-lzma: distdir
-	tardir=$(distdir) && $(am__tar) | lzma -9 -c >$(distdir).tar.lzma
-	$(am__remove_distdir)
-
 dist-tarZ: distdir
 	tardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z
 	$(am__remove_distdir)
 
 dist-shar: distdir
 	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
@@ -474,14 +624,12 @@
 distcheck: dist
 	case '$(DIST_ARCHIVES)' in \
 	*.tar.gz*) \
 	  GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(am__untar) ;;\
 	*.tar.bz2*) \
 	  bunzip2 -c $(distdir).tar.bz2 | $(am__untar) ;;\
-	*.tar.lzma*) \
-	  unlzma -c $(distdir).tar.lzma | $(am__untar) ;;\
 	*.tar.Z*) \
 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
 	*.shar.gz*) \
 	  GZIP=$(GZIP_ENV) gunzip -c $(distdir).shar.gz | unshar ;;\
 	*.zip*) \
 	  unzip $(distdir).zip ;;\
@@ -515,13 +663,13 @@
 	  && $(MAKE) $(AM_MAKEFLAGS) dist \
 	  && rm -rf $(DIST_ARCHIVES) \
 	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
 	$(am__remove_distdir)
 	@(echo "$(distdir) archives ready for distribution: "; \
 	  list='$(DIST_ARCHIVES)'; for i in $$list; do echo $$i; done) | \
-	  sed -e 1h -e 1s/./=/g -e 1p -e 1x -e '$$p' -e '$$x'
+	  sed -e '1{h;s/./=/g;p;x;}' -e '$${p;x;}'
 distuninstallcheck:
 	@cd $(distuninstallcheck_dir) \
 	&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \
 	   || { echo "ERROR: files left after uninstall:" ; \
 	        if test -n "$(DESTDIR)"; then \
 	          echo "  (check DESTDIR support)"; \
@@ -585,28 +733,20 @@
 info: info-recursive
 
 info-am:
 
 install-data-am:
 
-install-dvi: install-dvi-recursive
-
 install-exec-am:
 	@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) install-exec-hook
 
-install-html: install-html-recursive
-
 install-info: install-info-recursive
 
 install-man:
 
-install-pdf: install-pdf-recursive
-
-install-ps: install-ps-recursive
-
 installcheck-am:
 
 maintainer-clean: maintainer-clean-recursive
 	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
 	-rm -rf $(top_srcdir)/autom4te.cache
 	-rm -f Makefile
@@ -621,37 +761,33 @@
 pdf-am:
 
 ps: ps-recursive
 
 ps-am:
 
-uninstall-am:
+uninstall-am: uninstall-info-am
 
-.MAKE: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) install-am \
-	install-exec-am install-strip
+uninstall-info: uninstall-info-recursive
 
-.PHONY: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) CTAGS GTAGS \
-	all all-am am--refresh check check-am clean clean-generic \
-	clean-libtool ctags ctags-recursive dist dist-all dist-bzip2 \
-	dist-gzip dist-hook dist-lzma dist-shar dist-tarZ dist-zip \
-	distcheck distclean distclean-generic distclean-libtool \
+.PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am am--refresh check \
+	check-am clean clean-generic clean-libtool clean-recursive \
+	ctags ctags-recursive dist dist-all dist-bzip2 dist-gzip \
+	dist-shar dist-tarZ dist-zip distcheck distclean \
+	distclean-generic distclean-libtool distclean-recursive \
 	distclean-tags distcleancheck distdir distuninstallcheck dvi \
 	dvi-am html html-am info info-am install install-am \
-	install-data install-data-am install-dvi install-dvi-am \
-	install-exec install-exec-am install-exec-hook install-html \
-	install-html-am install-info install-info-am install-man \
-	install-pdf install-pdf-am install-ps install-ps-am \
+	install-data install-data-am install-exec install-exec-am \
+	install-exec-hook install-info install-info-am install-man \
 	install-strip installcheck installcheck-am installdirs \
 	installdirs-am maintainer-clean maintainer-clean-generic \
-	mostlyclean mostlyclean-generic mostlyclean-libtool pdf pdf-am \
-	ps ps-am tags tags-recursive uninstall uninstall-am
-
+	maintainer-clean-recursive mostlyclean mostlyclean-generic \
+	mostlyclean-libtool mostlyclean-recursive pdf pdf-am ps ps-am \
+	tags tags-recursive uninstall uninstall-am uninstall-info-am
 
-dist-hook:
-	find $(distdir) -type d -name '.svn' | xargs rm -rf
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/lib/$(PACKAGE_NAME)
+	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/log
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/README	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/README	2008-02-20 03:26:43.000000000 +0800
@@ -2,14 +2,15 @@
 =================================================
 http://collectd.org/
 
 About
 -----
 
-  collectd is a small daemon which collects statistics about a computer's
-  usage and writes then into RRD files.
+  collectd is a small daemon which collects system information periodically
+  and provides mechanisms to store and monitor the values in a variety of
+  ways.
 
 
 Features
 --------
 
   * collectd is able to collect the following data:
@@ -77,12 +78,15 @@
     - irq
       IRQ counters: Frequency in which certain interrupts occur.
 
     - load
       System load average over the last 1, 5 and 15 minutes.
 
+    - libvirt
+      CPU, disk and network I/O statistics from virtual machines.
+
     - mbmon
       Motherboard sensors: temperature, fanspeed and voltage information,
       using mbmon(1).
 
     - memcached
       Statistics of the memcached distributed caching system.
@@ -115,27 +119,24 @@
       NFSv3 right now.
 
     - nginx
       Collects statistics from `nginx' (speak: engine X), a HTTP and mail
       server/proxy.
 
-    - ntp
+    - ntpd
       NTP daemon statistics: Local clock drift, offset to peers, etc.
 
     - nut
       Network UPS tools: UPS current, voltage, power, charge, utilisation,
       temperature, etc. See upsd(8).
 
     - perl
       The perl plugin implements a Perl-interpreter into collectd. You can
       write your own plugins in Perl and return arbitrary values using this
       API. See collectd-perl(5).
 
-      This plugin is still considered to be experimental and subject to change
-      between minor releases.
-
     - ping
       Network latency: Time to reach the default gateway or another given
       host.
 
     - processes
       Process counts: Number of running, sleeping, zombie, ... processes.
@@ -206,15 +207,42 @@
   * Logging is, as everything in collectd, provided by plugins. The following
     plugins keep up informed about what's going on:
 
     - logfile
       Writes logmessages to a file or STDOUT/STDERR.
 
+    - perl
+      Log messages are propagated to plugins written in Perl as well.
+      See collectd-perl(5).
+
     - syslog
       Logs to the standard UNIX logging mechanism, syslog.
 
+  * Notifications can be handled by the following plugins:
+
+    - exec
+      Execute a program or script to handle the notification.
+      See collectd-exec(5).
+
+    - logfile
+      Writes the notification message to a file or STDOUT/STDERR.
+
+    - network
+      Send the notification to a remote host to handle it somehow.
+
+    - perl
+      Notifications are propagated to plugins written in Perl as well.
+      See collectd-perl(5).
+
+  * Miscellaneous plugins:
+
+    - uuid
+      Sets the hostname to an unique identifier. This is meant for setups
+      where each client may migrate to another physical host, possibly going
+      through one or more name changes in the process.
+
   * Performance: Since collectd is running as a daemon it doesn't spend much
     time starting up again and again. With the exception of the exec plugin no
     processes are forked. Caching in output plugins, such as the rrdtool and
     network plugins, makes sure your resources are used efficiently. Also,
     since collectd is programmed multithreaded it benefits from hyperthreading
     and multicore processors and makes sure that the daemon isn't idle if only
@@ -276,12 +304,15 @@
     used and should be found in various implementations for hopefully all
     platforms.
 
   * libcurl (optional)
     If you want to use the `apache' and/or `nginx' plugins.
 
+  * libhal (optional)
+    If present, the uuid plugin will check for UUID from HAL.
+
   * libiptc (optional)
     For querying iptables counters.
 
   * libmysqlclient (optional)
     Unsurprisingly used by the `mysql' plugin.
 
@@ -295,12 +326,16 @@
     can be used)
     Used by the `ping' plugin to send and receive ICMP packets.
 
   * libpcap (optional)
     Used to capture packets by the `dns' plugin.
 
+  * libperl (optional)
+    Obviously used by the `perl' plugin. The library has to be compiled with
+    ithread support (introduced in Perl 5.6.0).
+
   * librrd (optional; headers and library; rrdtool 1.0 and 1.2 both work fine)
     If built without `librrd' the resulting binary will be `client only', i.e.
     will send its values via multicast and not create any RRD files itself.
     Alternatively you can chose to write CSV-files (Comma Separated Values)
     instead.
 
@@ -321,12 +356,18 @@
     Various standard Solaris libraries which provide system functions.
 
   * CoreFoundation.framework and IOKit.framework
     For compiling on Darwin in general and the `apple_sensors' plugin in
     particular.
 
+  * libvirt (optional)
+    Collect statistics from virtual machines.
+
+  * libxml2 (optional)
+    Parse XML data provided by libvirt.
+
 
 Configuring / Compiling / Installing
 ------------------------------------
 
   To configure, build and install collectd with the default settings, run
   `./configure && make && make install'.  For detailed, generic instructions
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/apache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/apache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/apache.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/apache.c	2008-01-23 21:54:54.000000000 +0800
@@ -33,52 +33,41 @@
 static char *user   = NULL;
 static char *pass   = NULL;
 static char *cacert = NULL;
 
 static CURL *curl = NULL;
 
-static char  *apache_buffer = NULL;
-static size_t apache_buffer_size = 0;
-static size_t apache_buffer_fill = 0;
-static char   apache_curl_error[CURL_ERROR_SIZE];
+#define ABUFFER_SIZE 16384
+static char apache_buffer[ABUFFER_SIZE];
+static int  apache_buffer_len = 0;
+static char apache_curl_error[CURL_ERROR_SIZE];
 
 static const char *config_keys[] =
 {
 	"URL",
 	"User",
 	"Password",
 	"CACert"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
-static size_t apache_curl_callback (void *buf, size_t size, size_t nmemb,
-		void *stream)
+static size_t apache_curl_callback (void *buf, size_t size, size_t nmemb, void *stream)
 {
 	size_t len = size * nmemb;
 
-	if (len <= 0)
-		return (len);
-
-	if ((apache_buffer_fill + len) >= apache_buffer_size)
+	if ((apache_buffer_len + len) >= ABUFFER_SIZE)
 	{
-		char *temp;
-
-		temp = (char *) realloc (apache_buffer,
-				apache_buffer_fill + len + 1);
-		if (temp == NULL)
-		{
-			ERROR ("apache plugin: realloc failed.");
-			return (0);
-		}
-		apache_buffer = temp;
-		apache_buffer_size = apache_buffer_fill + len + 1;
+		len = (ABUFFER_SIZE - 1) - apache_buffer_len;
 	}
 
-	memcpy (apache_buffer + apache_buffer_fill, (char *) buf, len);
-	apache_buffer_fill += len;
-	apache_buffer[apache_buffer_fill] = 0;
+	if (len <= 0)
+		return (len);
+
+	memcpy (apache_buffer + apache_buffer_len, (char *) buf, len);
+	apache_buffer_len += len;
+	apache_buffer[apache_buffer_len] = '\0';
 
 	return (len);
 }
 
 static int config_set (char **var, const char *value)
 {
@@ -277,13 +266,13 @@
 
 	if (curl == NULL)
 		return (-1);
 	if (url == NULL)
 		return (-1);
 
-	apache_buffer_fill = 0;
+	apache_buffer_len = 0;
 	if (curl_easy_perform (curl) != 0)
 	{
 		ERROR ("apache: curl_easy_perform failed: %s",
 				apache_curl_error);
 		return (-1);
 	}
@@ -320,13 +309,13 @@
 				submit_scoreboard (fields[1]);
 			else if (strcmp (fields[0], "BusyServers:") == 0)
 				submit_gauge ("apache_connections", NULL, atol (fields[1]));
 		}
 	}
 
-	apache_buffer_fill = 0;
+	apache_buffer_len = 0;
 
 	return (0);
 } /* int apache_read */
 
 void module_register (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/apcups.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/apcups.c	2008-02-19 03:57:18.000000000 +0800
@@ -109,13 +109,13 @@
 
 /*     
  * Open a TCP connection to the UPS network server
  * Returns -1 on error
  * Returns socket file descriptor otherwise
  */
-static int net_open (char *host, char *service, int port)
+static int net_open (char *host, int port)
 {
 	int              sd;
 	int              status;
 	char             port_str[8];
 	struct addrinfo  ai_hints;
 	struct addrinfo *ai_return;
@@ -259,44 +259,38 @@
 	char    recvline[1024];
 	char   *tokptr;
 	char   *toksaveptr;
 	char   *key;
 	double  value;
 
-	static complain_t compl;
-
 #if APCMAIN
 # define PRINT_VALUE(name, val) printf("  Found property: name = %s; value = %f;\n", name, val)
 #else
 # define PRINT_VALUE(name, val) /**/
 #endif
 
 	if (global_sockfd < 0)
 	{
-		if ((global_sockfd = net_open (host, NULL, port)) < 0)
+		global_sockfd = net_open (host, port);
+		if (global_sockfd < 0)
 		{
-			plugin_complain (LOG_ERR, &compl, "apcups plugin: "
-					"Connecting to the apcupsd failed.");
+			ERROR ("apcups plugin: Connecting to the "
+					"apcupsd failed.");
 			return (-1);
 		}
-		else
-		{
-			plugin_relief (LOG_NOTICE, &compl, "apcups plugin: "
-					"Connection re-established to the apcupsd.");
-		}
 	}
 
 	if (net_send (&global_sockfd, "status", 6) < 0)
 	{
 		ERROR ("apcups plugin: Writing to the socket failed.");
 		return (-1);
 	}
 
 	while ((n = net_recv (&global_sockfd, recvline, sizeof (recvline) - 1)) > 0)
 	{
-		assert (n < sizeof (recvline));
+		assert ((unsigned int)n < sizeof (recvline));
 		recvline[n] = '\0';
 #if APCMAIN
 		printf ("net_recv = `%s';\n", recvline);
 #endif /* if APCMAIN */
 
 		toksaveptr = NULL;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/battery.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/battery.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/battery.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/battery.c	2008-02-19 03:57:18.000000000 +0800
@@ -74,13 +74,13 @@
 	char filename[128];
 
 	for (battery_pmu_num = 0; ; battery_pmu_num++)
 	{
 		len = snprintf (filename, sizeof (filename), battery_pmu_file, battery_pmu_num);
 
-		if ((len >= sizeof (filename)) || (len < 0))
+		if ((len < 0) || ((unsigned int)len >= sizeof (filename)))
 			break;
 
 		if (access (filename, R_OK))
 			break;
 	}
 #endif /* KERNEL_LINUX */
@@ -357,17 +357,17 @@
 		double  current = INVALID_VALUE;
 		double  voltage = INVALID_VALUE;
 		double  charge  = INVALID_VALUE;
 		double *valptr = NULL;
 
 		len = snprintf (filename, sizeof (filename), battery_pmu_file, i);
-		if ((len >= sizeof (filename)) || (len < 0))
+		if ((len < 0) || ((unsigned int)len >= sizeof (filename)))
 			continue;
 
 		len = snprintf (batnum_str, sizeof (batnum_str), "%i", i);
-		if ((len >= sizeof (batnum_str)) || (len < 0))
+		if ((len < 0) || ((unsigned int)len >= sizeof (batnum_str)))
 			continue;
 
 		if ((fh = fopen (filename, "r")) == NULL)
 			continue;
 
 		while (fgets (buffer, sizeof (buffer), fh) != NULL)
@@ -435,13 +435,13 @@
 			if (ent->d_name[0] == '.')
 				continue;
 
 			len = snprintf (filename, sizeof (filename),
 					"/proc/acpi/battery/%s/state",
 					ent->d_name);
-			if ((len >= sizeof (filename)) || (len < 0))
+			if ((len < 0) || ((unsigned int)len >= sizeof (filename)))
 				continue;
 
 			if ((fh = fopen (filename, "r")) == NULL)
 			{
 				char errbuf[1024];
 				ERROR ("Cannot open `%s': %s", filename,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.1	2008-04-22 23:57:33.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.1	2008-02-20 03:37:02.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2008-04-22" "4.2.6.18.ga67c726" "collectd"
+.TH COLLECTD 1 "2008-02-18" "4.3.0" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
@@ -196,22 +196,28 @@
 .PP
 In addition to the above, there are \*(L"logging plugins\*(R". Right now those are the
 \&\f(CW\*(C`logfile plugin\*(C'\fR and the \f(CW\*(C`syslog plugin\*(C'\fR. With these plugins collectd can
 provide information about issues and significant situations to the user.
 Several loglevels let you suppress uninteresting messages.
 .PP
+Starting with version \f(CW4.3.0\fR collectd has support for \fBmonitoring\fR. This is
+done by checking thresholds defined by the user. If a value is out of range, a
+notification will be dispatched to \*(L"notification plugins\*(R". See
+\&\fIcollectd.conf\fR\|(5) for more detailed information about threshold checking.
+.PP
 Please note that some plugins, that provide other means of communicating with
 the daemon, have manpages of their own to describe their functionality in more
 detail. In particular those are \fIcollectd\-email\fR\|(5), \fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5), \fIcollectd\-snmp\fR\|(5), and \fIcollectd\-unixsock\fR\|(5)
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-email\fR\|(5),
 \&\fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
 \&\fIcollectd\-snmp\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
+\&\fItypes.db\fR\|(5),
 <http://collectd.org/>
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.c	2008-02-20 03:26:25.000000000 +0800
@@ -20,15 +20,18 @@
  *   Alvaro Barcellos <alvaro.barcellos at gmail.com>
  **/
 
 #include "collectd.h"
 #include "common.h"
 
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <netdb.h>
+
 #include "plugin.h"
 #include "configfile.h"
-#include "types_list.h"
 
 /*
  * Global variables
  */
 char hostname_g[DATA_MAX_NAME_LEN];
 int  interval_g;
@@ -45,31 +48,73 @@
 
 static void sigTermHandler (int signal)
 {
 	loop++;
 }
 
-static int init_global_variables (void)
+static int init_hostname (void)
 {
 	const char *str;
 
+	struct addrinfo  ai_hints;
+	struct addrinfo *ai_list;
+	struct addrinfo *ai_ptr;
+	int status;
+
 	str = global_option_get ("Hostname");
 	if (str != NULL)
 	{
 		strncpy (hostname_g, str, sizeof (hostname_g));
+		hostname_g[sizeof (hostname_g) - 1] = '\0';
+		return (0);
 	}
-	else
+
+	if (gethostname (hostname_g, sizeof (hostname_g)) != 0)
 	{
-		if (gethostname (hostname_g, sizeof (hostname_g)) != 0)
-		{
-			fprintf (stderr, "`gethostname' failed and no "
-					"hostname was configured.\n");
-			return (-1);
-		}
+		fprintf (stderr, "`gethostname' failed and no "
+				"hostname was configured.\n");
+		return (-1);
 	}
-	DEBUG ("hostname_g = %s;", hostname_g);
+
+	str = global_option_get ("FQDNLookup");
+	if ((strcasecmp ("false", str) == 0)
+			|| (strcasecmp ("no", str) == 0)
+			|| (strcasecmp ("off", str) == 0))
+		return (0);
+
+	memset (&ai_hints, '\0', sizeof (ai_hints));
+	ai_hints.ai_flags = AI_CANONNAME;
+
+	status = getaddrinfo (hostname_g, NULL, &ai_hints, &ai_list);
+	if (status != 0)
+	{
+		ERROR ("Looking up \"%s\" failed. You have set the "
+				"\"FQDNLookup\" option, but I cannot resolve "
+				"my hostname to a fully qualified domain "
+				"name. Please fix you network "
+				"configuration.");
+		return (-1);
+	}
+
+	for (ai_ptr = ai_list; ai_ptr != NULL; ai_ptr = ai_ptr->ai_next)
+	{
+		if (ai_ptr->ai_canonname == NULL)
+			continue;
+
+		strncpy (hostname_g, ai_ptr->ai_canonname, sizeof (hostname_g));
+		hostname_g[sizeof (hostname_g) - 1] = '\0';
+		break;
+	}
+
+	freeaddrinfo (ai_list);
+	return (0);
+} /* int init_hostname */
+
+static int init_global_variables (void)
+{
+	const char *str;
 
 	str = global_option_get ("Interval");
 	if (str == NULL)
 		str = "10";
 	interval_g = atoi (str);
 	if (interval_g <= 0)
@@ -77,12 +122,16 @@
 		fprintf (stderr, "Cannot set the interval to a correct value.\n"
 				"Please check your settings.\n");
 		return (-1);
 	}
 	DEBUG ("interval_g = %i;", interval_g);
 
+	if (init_hostname () != 0)
+		return (-1);
+	DEBUG ("hostname_g = %s;", hostname_g);
+
 	return (0);
 } /* int init_global_variables */
 
 static int change_basedir (const char *orig_dir)
 {
 	char *dir = strdup (orig_dir);
@@ -167,13 +216,13 @@
 } /* static void update_kstat (void) */
 #endif /* HAVE_LIBKSTAT */
 
 /* TODO
  * Remove all settings but `-f' and `-C'
  */
-static void exit_usage (char *name)
+static void exit_usage (void)
 {
 	printf ("Usage: "PACKAGE" [OPTIONS]\n\n"
 			
 			"Available options:\n"
 			"  General:\n"
 			"    -C <file>       Configuration file.\n"
@@ -211,13 +260,12 @@
 	{
 		ERROR ("sg_drop_privileges: %s", sg_str_error (sg_get_error ()));
 		return (-1);
 	}
 #endif
 
-	read_types_list ();
 	plugin_init_all ();
 
 	return (0);
 } /* int do_init () */
 
 
@@ -241,13 +289,13 @@
 
 #if HAVE_LIBKSTAT
 		update_kstat ();
 #endif
 
 		/* Issue all plugins */
-		plugin_read_all (&loop);
+		plugin_read_all ();
 
 		if (gettimeofday (&tv_now, NULL) < 0)
 		{
 			char errbuf[1024];
 			ERROR ("gettimeofday failed: %s",
 					sstrerror (errno, errbuf,
@@ -357,13 +405,13 @@
 			case 'f':
 				daemonize = 0;
 				break;
 #endif /* COLLECT_DAEMON */
 			case 'h':
 			default:
-				exit_usage (argv[0]);
+				exit_usage ();
 		} /* switch (c) */
 	} /* while (1) */
 
 	/*
 	 * Read options from the config file, the environment and the command
 	 * line (in that order, with later options overwriting previous ones in
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.conf.5	2008-04-22 23:57:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.conf.5	2008-02-20 03:37:02.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2008-04-22" "4.2.6.18.ga67c726" "collectd"
+.TH COLLECTD.CONF 5 "2008-02-18" "4.3.0" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
 \&  BaseDir "/path/to/data/"
@@ -180,42 +180,70 @@
 created. Possibly more subdirectories are created. This is also the working
 directory for the daemon.
 .IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
 .IX Item "LoadPlugin Plugin"
 Loads the plugin \fIPlugin\fR. There must be at least one such line or \fBcollectd\fR
 will be mostly useless.
-.IP "\fBInclude\fR \fIFile\fR" 4
-.IX Item "Include File"
-Includes the file \fIFile\fR as if it was copy and pasted here. To prevent loops
-and shooting yourself in the foot in interesting ways the nesting is limited to
-a depth of 8\ levels, which should be sufficient for most uses.
+.IP "\fBInclude\fR \fIPath\fR" 4
+.IX Item "Include Path"
+If \fIPath\fR points to a file, includes that file. If \fIPath\fR points to a
+directory, recursively includes all files within that directory and its
+subdirectories. If the \f(CW\*(C`wordexp\*(C'\fR function is available on your system,
+shell-like wildcards are expanded before files are included. This means you can
+use statements like the following:
+.Sp
+.Vb 1
+\&  Include "/etc/collectd.d/*.conf"
+.Ve
+.Sp
+To prevent loops and shooting yourself in the foot in interesting ways the
+nesting is limited to a depth of 8\ levels, which should be sufficient for
+most uses. Since symlinks are followed it is still possible to crash the daemon
+by looping symlinks. In our opinion significant stupidity should result in an
+appropriate amount of pain.
 .Sp
 It is no problem to have a block like \f(CW\*(C`<Plugin foo>\*(C'\fR in more than one
 file, but you cannot include files from within blocks.
 .IP "\fBPIDFile\fR \fIFile\fR" 4
 .IX Item "PIDFile File"
 Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
 and deleted when the program is stopped. Some init-scripts might override this
 setting using the \fB\-P\fR command-line option.
 .IP "\fBPluginDir\fR \fIDirectory\fR" 4
 .IX Item "PluginDir Directory"
 Path to the plugins (shared objects) of collectd.
-.IP "\fBTypesDB\fR \fIFile\fR" 4
-.IX Item "TypesDB File"
-Set the file that contains the data-set descriptions.
+.IP "\fBTypesDB\fR \fIFile\fR [\fIFile\fR ...]" 4
+.IX Item "TypesDB File [File ...]"
+Set one or more files that contain the data-set descriptions. See
+\&\fItypes.db\fR\|(5) for a description of the format of this file.
 .IP "\fBInterval\fR \fISeconds\fR" 4
 .IX Item "Interval Seconds"
 Configures the interval in which to query the read plugins. Obviously smaller
-values lead to a higher system load produces by collectd, while higher values
+values lead to a higher system load produced by collectd, while higher values
 lead to more coarse statistics.
 .IP "\fBReadThreads\fR \fINum\fR" 4
 .IX Item "ReadThreads Num"
-Number of threads to start for reading plugins. The default value if \fB5\fR, but
+Number of threads to start for reading plugins. The default value is \fB5\fR, but
 you may want to increase this if you have more than five plugins that take a
 long time to read. Mostly those are plugin that do network\-IO. Setting this to
 a value higher than the number of plugins you've loaded is totally useless.
+.IP "\fBHostname\fR \fIName\fR" 4
+.IX Item "Hostname Name"
+Sets the hostname that identifies a host. If you omit this setting, the
+hostname will be determinded using the \fIgethostname\fR\|(2) system call.
+.IP "\fBFQDNLookup\fR \fBtrue|false\fR" 4
+.IX Item "FQDNLookup true|false"
+If \fBHostname\fR is determined automatically this setting controls whether or not
+the daemon should try to figure out the \*(L"fully qualified domain name\*(R", \s-1FQDN\s0.
+This is done using a lookup of the name returned by \f(CW\*(C`gethostname\*(C'\fR.
+.Sp
+Using this feature (i.\ e. setting this option to \fBtrue\fR) is recommended.
+However, to preserve backwards compatibility the default is set to \fBfalse\fR.
+The sample config file that is installed with \f(CW\*(C`make\ install\*(C'\fR includes a
+line which sets this option, though, so that default installations will have
+this setting enabled.
 .SH "PLUGIN OPTIONS"
 .IX Header "PLUGIN OPTIONS"
 Some plugins may register own options. These options must be enclosed in a
 \&\f(CW\*(C`Plugin\*(C'\fR\-Section. Which options exist depends on the plugin used. Some plugins
 require external configuration, too. The \f(CW\*(C`apache plugin\*(C'\fR, for example,
 required \f(CW\*(C`mod_status\*(C'\fR to be configured in the webserver you're going to
@@ -286,12 +314,17 @@
 .el .Sh "Plugin \f(CWcsv\fP"
 .IX Subsection "Plugin csv"
 .IP "\fBDataDir\fR \fIDirectory\fR" 4
 .IX Item "DataDir Directory"
 Set the directory to store CSV-files under. Per default CSV-files are generated
 beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
+.IP "\fBStoreRates\fR \fBtrue|false\fR" 4
+.IX Item "StoreRates true|false"
+If set to \fBtrue\fR, convert counter values to rates. If set to \fBfalse\fR (the
+default) counter values are stored as is, i.\ e. as an increasing integer
+number.
 .ie n .Sh "Plugin ""df"""
 .el .Sh "Plugin \f(CWdf\fP"
 .IX Subsection "Plugin df"
 .IP "\fBDevice\fR \fIDevice\fR" 4
 .IX Item "Device Device"
 Select partitions based on the devicename.
@@ -343,24 +376,37 @@
 .ie n .Sh "Plugin ""exec"""
 .el .Sh "Plugin \f(CWexec\fP"
 .IX Subsection "Plugin exec"
 Please make sure to read \fIcollectd\-exec\fR\|(5) before using this plugin. It
 contains valuable information on when the executable is executed and the
 output that is expected from it.
-.IP "\fBExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR" 4
-.IX Item "Exec User[:[Group]] Executable"
+.IP "\fBExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR [\fI<arg>\fR [\fI<arg>\fR ...]]" 4
+.IX Item "Exec User[:[Group]] Executable [<arg> [<arg> ...]]"
+.PD 0
+.IP "\fBNotificationExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR [\fI<arg>\fR [\fI<arg>\fR ...]]" 4
+.IX Item "NotificationExec User[:[Group]] Executable [<arg> [<arg> ...]]"
+.PD
 Execute the executable \fIExecutable\fR as user \fIUser\fR. If the user name is
 followed by a colon and a group name, the effective group is set to that group.
 The real group and saved-set group will be set to the default group of that
 user. If no group is given the effective group \s-1ID\s0 will be the same as the real
 group \s-1ID\s0.
 .Sp
 Please note that in order to change the user and/or group the daemon needs
 superuser privileges. If the daemon is run as an unprivileged user you must
 specify the same user/group here. If the daemon is run with superuser
 privileges, you must supply a non-root user here.
+.Sp
+The executable may be followed by optional arguments that are passed to the
+program. Please note that due to the configuration parsing numbers and boolean
+values may be changed. If you want to be absolutely sure that something is
+passed as-is please enclose it in quotes.
+.Sp
+The \fBExec\fR and \fBNotificationExec\fR statements change the semantics of the
+programs executed, i.\ e. the data passed to them and the response
+expected from them. This is documented in great detail in \fIcollectd\-exec\fR\|(5).
 .ie n .Sh "Plugin ""hddtemp"""
 .el .Sh "Plugin \f(CWhddtemp\fP"
 .IX Subsection "Plugin hddtemp"
 To get values from \fBhddtemp\fR collectd connects to \fBlocalhost\fR (127.0.0.1),
 port \fB7634/tcp\fR. The \fBHost\fR and \fBPort\fR options can be used to change these
 default values, see below. \f(CW\*(C`hddtemp\*(C'\fR has to be running to work correctly. If
@@ -372,12 +418,18 @@
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname to connect to. Defaults to \fB127.0.0.1\fR.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 TCP-Port to connect to. Defaults to \fB7634\fR.
+.IP "\fBTranslateDevicename\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "TranslateDevicename true|false"
+If enabled, translate the disk names to major/minor device numbers
+(e.\ g. \*(L"8\-0\*(R" for /dev/sda). For backwards compatibility this defaults to
+\&\fItrue\fR but it's recommended to disable it as it will probably be removed in
+the next major version.
 .ie n .Sh "Plugin ""interface"""
 .el .Sh "Plugin \f(CWinterface\fP"
 .IX Subsection "Plugin interface"
 .IP "\fBInterface\fR \fIInterface\fR" 4
 .IX Item "Interface Interface"
 Select this interface. By default these interfaces will then be collected. For
@@ -420,12 +472,87 @@
 irqs. This may not be practical, especially if no interrupts happen. Thus, you
 can use the \fBIrq\fR\-option to pick the interrupt you're interested in.
 Sometimes, however, it's easier/preferred to collect all interrupts \fIexcept\fR a
 few ones. This option enables you to do that: By setting \fBIgnoreSelected\fR to
 \&\fItrue\fR the effect of \fBIrq\fR is inversed: All selected interrupts are ignored
 and all other interrupts are collected.
+.ie n .Sh "Plugin ""libvirt"""
+.el .Sh "Plugin \f(CWlibvirt\fP"
+.IX Subsection "Plugin libvirt"
+This plugin allows \s-1CPU\s0, disk and network load to be collected for virtualized
+guests on the machine. This means that these characteristics can be collected
+for guest systems without installing any software on them \- collectd only runs
+on the hosting system. The statistics are collected through libvirt
+(<http://libvirt.org/>).
+.PP
+Only \fIConnection\fR is required.
+.IP "\fBConnection\fR \fIuri\fR" 4
+.IX Item "Connection uri"
+Connect to the hypervisor given by \fIuri\fR. For example if using Xen use:
+.Sp
+.Vb 1
+\& Connection "xen:///"
+.Ve
+.Sp
+Details which URIs allowed are given at <http://libvirt.org/uri.html>.
+.IP "\fBRefreshInterval\fR \fIseconds\fR" 4
+.IX Item "RefreshInterval seconds"
+Refresh the list of domains and devices every \fIseconds\fR. The default is 60
+seconds. Setting this to be the same or smaller than the \fIInterval\fR will cause
+the list of domains and devices to be refreshed on every iteration.
+.Sp
+Refreshing the devices in particular is quite a costly operation, so if your
+virtualization setup is static you might consider increasing this. If this
+option is set to 0, refreshing is disabled completely.
+.IP "\fBDomain\fR \fIname\fR" 4
+.IX Item "Domain name"
+.PD 0
+.IP "\fBBlockDevice\fR \fIname:dev\fR" 4
+.IX Item "BlockDevice name:dev"
+.IP "\fBInterfaceDevice\fR \fIname:dev\fR" 4
+.IX Item "InterfaceDevice name:dev"
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+.PD
+Select which domains and devices are collected.
+.Sp
+If \fIIgnoreSelected\fR is not given or \fIfalse\fR then only the listed domains and
+disk/network devices are collected.
+.Sp
+If \fIIgnoreSelected\fR is \fItrue\fR then the test is reversed and the listed
+domains and disk/network devices are ignored, while the rest are collected.
+.Sp
+The domain name and device names may use a regular expression, if the name is
+surrounded by \fI/.../\fR and collectd was compiled with support for regexps.
+.Sp
+The default is to collect statistics for all domains and all their devices.
+.Sp
+Example:
+.Sp
+.Vb 2
+\& BlockDevice "/:hdb/"
+\& IgnoreSelected "true"
+.Ve
+.Sp
+Ignore all \fIhdb\fR devices on any domain, but other block devices (eg. \fIhda\fR)
+will be collected.
+.IP "\fBHostnameFormat\fR \fBname|uuid|hostname|...\fR" 4
+.IX Item "HostnameFormat name|uuid|hostname|..."
+When the libvirt plugin logs data, it sets the hostname of the collected data
+according to this setting. The default is to use the guest name as provided by
+the hypervisor, which is equal to setting \fBname\fR.
+.Sp
+\&\fBuuid\fR means use the guest's \s-1UUID\s0. This is useful if you want to track the
+same guest across migrations.
+.Sp
+\&\fBhostname\fR means to use the global \fBHostname\fR setting, which is probably not
+useful on its own because all guests will appear to have the same name.
+.Sp
+You can also specify combinations of these fields. For example \fBname uuid\fR
+means to concatenate the guest name and \s-1UUID\s0 (with a literal colon character
+between, thus \fI\*(L"foo:1234\-1234\-1234\-1234\*(R"\fR).
 .ie n .Sh "Plugin ""logfile"""
 .el .Sh "Plugin \f(CWlogfile\fP"
 .IX Subsection "Plugin logfile"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
 Sets the log\-level. If, for example, set to \fBnotice\fR, then all events with
@@ -444,13 +571,13 @@
 Prefix all lines printed by the current time. Defaults to \fBtrue\fR.
 .ie n .Sh "Plugin ""mbmon"""
 .el .Sh "Plugin \f(CWmbmon\fP"
 .IX Subsection "Plugin mbmon"
 The \f(CW\*(C`mbmon plugin\*(C'\fR uses mbmon to retrieve temperature, voltage, etc.
 .PP
-Be default collectd connects to \fBlocalhost\fR (127.0.0.1), port \fB411/tcp\fR.  The
+Be default collectd connects to \fBlocalhost\fR (127.0.0.1), port \fB411/tcp\fR. The
 \&\fBHost\fR and \fBPort\fR options can be used to change these values, see below.
 \&\f(CW\*(C`mbmon\*(C'\fR has to be running to work correctly. If \f(CW\*(C`mbmon\*(C'\fR is not running
 timeouts may appear which may interfere with other statistics..
 .PP
 \&\f(CW\*(C`mbmon\*(C'\fR must be run with the \-r option (\*(L"print \s-1TAG\s0 and Value format\*(R");
 Debian's \fI/etc/init.d/mbmon\fR script already does this, other people
@@ -543,13 +670,13 @@
 Collect the octets and packets that pass a certain qdisc, class or filter.
 .Sp
 QDiscs and classes are identified by their type and handle (or classid).
 Filters don't necessarily have a handle, therefore the parent's handle is used.
 The notation used in collectd differs from that used in \fItc\fR\|(1) in that it
 doesn't skip the major or minor number if it's zero and doesn't print special
-ids by their name.  So, for example, a qdisc may be identified by
+ids by their name. So, for example, a qdisc may be identified by
 \&\f(CW\*(C`pfifo_fast\-1:0\*(C'\fR even though the minor number of \fBall\fR qdiscs is zero and
 thus not displayed by \fItc\fR\|(1).
 .Sp
 If \fBQDisc\fR, \fBClass\fR, or \fBFilter\fR is given without the second argument,
 i.\ .e. without an identifier, all qdiscs, classes, or filters that are
 associated with that interface will be collected.
@@ -663,12 +790,18 @@
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname of the host running \fBntpd\fR. Defaults to \fBlocalhost\fR.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 UDP-Port to connect to. Defaults to \fB123\fR.
+.IP "\fBReverseLookups\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ReverseLookups true|false"
+Sets wether or not to perform reverse lookups on peers. Since the name or
+IP-address may be used in a filename it is recommended to disable reverse
+lookups. The default is to do reverse lookups to preserve backwards
+compatibility, though.
 .ie n .Sh "Plugin ""nut"""
 .el .Sh "Plugin \f(CWnut\fP"
 .IX Subsection "Plugin nut"
 .IP "\fB\s-1UPS\s0\fR \fIupsname\fR\fB@\fR\fIhostname\fR[\fB:\fR\fIport\fR]" 4
 .IX Item "UPS upsname@hostname[:port]"
 Add a \s-1UPS\s0 to collect data from. The format is identical to the one accepted by
@@ -849,28 +982,166 @@
 created. Defaults to \fBcollectd\fR.
 .IP "\fBSocketPerms\fR \fIPermissions\fR" 4
 .IX Item "SocketPerms Permissions"
 Change the file permissions of the UNIX-socket after it has been created. The
 permissions must be given as a numeric, octal value as you would pass to
 \&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
+.ie n .Sh "Plugin ""uuid"""
+.el .Sh "Plugin \f(CWuuid\fP"
+.IX Subsection "Plugin uuid"
+This plugin, if loaded, causes the Hostname to be taken from the machine's
+\&\s-1UUID\s0. The \s-1UUID\s0 is a universally unique designation for the machine, usually
+taken from the machine's \s-1BIOS\s0. This is most useful if the machine is running in
+a virtual environment such as Xen, in which case the \s-1UUID\s0 is preserved across
+shutdowns and migration.
+.PP
+The following methods are used to find the machine's \s-1UUID\s0, in order:
+.IP "\(bu" 4
+Check \fI/etc/uuid\fR (or \fIUUIDFile\fR).
+.IP "\(bu" 4
+Check for \s-1UUID\s0 from \s-1HAL\s0 (<http://www.freedesktop.org/wiki/Software/hal>) if
+present.
+.IP "\(bu" 4
+Check for \s-1UUID\s0 from \f(CW\*(C`dmidecode\*(C'\fR / \s-1SMBIOS\s0.
+.IP "\(bu" 4
+Check for \s-1UUID\s0 from Xen hypervisor.
+.PP
+If no \s-1UUID\s0 can be found then the hostname is not modified.
+.IP "\fBUUIDFile\fR \fIPath\fR" 4
+.IX Item "UUIDFile Path"
+Take the \s-1UUID\s0 from the given file (default \fI/etc/uuid\fR).
 .ie n .Sh "Plugin ""vserver"""
 .el .Sh "Plugin \f(CWvserver\fP"
 .IX Subsection "Plugin vserver"
 This plugin doesn't have any options. \fBVServer\fR support is only available for
 Linux. It cannot yet be found in a vanilla kernel, though. To make use of this
 plugin you need a kernel that has \fBVServer\fR support built in, i.\ e. you
 need to apply the patches and compile your own kernel, which will then provide
 the \fI/proc/virtual\fR filesystem that is required by this plugin.
 .PP
 The \fBVServer\fR homepage can be found at <http://linux\-vserver.org/>.
+.SH "THRESHOLD CONFIGURATION"
+.IX Header "THRESHOLD CONFIGURATION"
+Starting with version \f(CW4.3.0\fR collectd has support for \fBmonitoring\fR. By that
+we mean that the values are not only stored or sent somewhere, but that they
+are judged and, if a problem is recognized, acted upon. The only action
+collectd takes itself is to generate and dispatch a \*(L"notification\*(R". Plugins can
+register to receive notifications and perform appropriate further actions.
+.PP
+Since systems and what you expect them to do differ a lot, you can configure
+\&\fBthresholds\fR for your values freely. This gives you a lot of flexibility but
+also a lot of responsibility.
+.PP
+Every time a value is out of range a notification is dispatched. This means
+that the idle percentage of your \s-1CPU\s0 needs to be less then the configured
+threshold only once for a notification to be generated. There's no such thing
+as a moving average or similar \- at least not now.
+.PP
+Also, all values that match a threshold are considered to be relevant or
+\&\*(L"interesting\*(R". As a consequence collectd will issue a notification if they are
+not received for twice the last timeout of the values. If, for example, some
+hosts sends it's \s-1CPU\s0 statistics to the server every 60 seconds, a notification
+will be dispatched after about 120 seconds. It may take a little longer because
+the timeout is checked only once each \fBInterval\fR on the server.
+.PP
+Here is a configuration example to get you started. Read below for more
+information.
+.PP
+.Vb 9
+\& <Threshold>
+\&   <Type "foo">
+\&     WarningMin    0.00
+\&     WarningMax 1000.00
+\&     FailureMin    0.00
+\&     FailureMax 1200.00
+\&     Invert false
+\&     Instance "bar"
+\&   </Type>
+.Ve
+.PP
+.Vb 6
+\&   <Plugin "interface">
+\&     Instance "eth0"
+\&     <Type "if_octets">
+\&       FailureMax 10000000
+\&     </Type>
+\&   </Plugin>
+.Ve
+.PP
+.Vb 5
+\&   <Host "hostname">
+\&     <Type "cpu">
+\&       Instance "idle"
+\&       FailureMin 10
+\&     </Type>
+.Ve
+.PP
+.Vb 8
+\&     <Plugin "memory">
+\&       <Type "memory">
+\&         Instance "cached"
+\&         WarningMin 100000000
+\&       </Type>
+\&     </Plugin>
+\&   </Host>
+\& </Threshold>
+.Ve
+.PP
+There are basically two types of configuration statements: The \f(CW\*(C`Host\*(C'\fR,
+\&\f(CW\*(C`Plugin\*(C'\fR, and \f(CW\*(C`Type\*(C'\fR blocks select the value for which a threshold should be
+configured. The \f(CW\*(C`Plugin\*(C'\fR and \f(CW\*(C`Type\*(C'\fR blocks may be specified further using the
+\&\f(CW\*(C`Instance\*(C'\fR option. You can combine the block by nesting the blocks, though
+they must be nested in the above order, i.\ e. \f(CW\*(C`Host\*(C'\fR may contain either
+\&\f(CW\*(C`Plugin\*(C'\fR and \f(CW\*(C`Type\*(C'\fR blocks, \f(CW\*(C`Plugin\*(C'\fR may only contain \f(CW\*(C`Type\*(C'\fR blocks and
+\&\f(CW\*(C`Type\*(C'\fR may not contain other blocks. If multiple blocks apply to the same
+value the most specific block is used.
+.PP
+The other statements specify the threshold to configure. They \fBmust\fR be
+included in a \f(CW\*(C`Type\*(C'\fR block. Currently the following statements are recognized:
+.IP "\fBFailureMax\fR \fIValue\fR" 4
+.IX Item "FailureMax Value"
+.PD 0
+.IP "\fBWarningMax\fR \fIValue\fR" 4
+.IX Item "WarningMax Value"
+.PD
+Sets the upper bound of acceptable values. If unset defaults to positive
+infinity. If a value is greater than \fBFailureMax\fR a \fB\s-1FAILURE\s0\fR notification
+will be created. If the value is greater than \fBWarningMax\fR but less than (or
+equal to) \fBFailureMax\fR a \fB\s-1WARNING\s0\fR notification will be created.
+.IP "\fBFailureMin\fR \fIValue\fR" 4
+.IX Item "FailureMin Value"
+.PD 0
+.IP "\fBWarningMin\fR \fIValue\fR" 4
+.IX Item "WarningMin Value"
+.PD
+Sets the lower bound of acceptable values. If unset defaults to negative
+infinity. If a value is less than \fBFailureMin\fR a \fB\s-1FAILURE\s0\fR notification will
+be created. If the value is less than \fBWarningMin\fR but greater than (or equal
+to) \fBFailureMin\fR a \fB\s-1WARNING\s0\fR notification will be created.
+.IP "\fBInvert\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Invert true|false"
+If set to \fBtrue\fR the range of acceptable values is inverted, i.\ e.
+values between \fBFailureMin\fR and \fBFailureMax\fR (\fBWarningMin\fR and
+\&\fBWarningMax\fR) are not okay. Defaults to \fBfalse\fR.
+.IP "\fBPersist\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Persist true|false"
+Sets how often notifications are generated. If set to \fBtrue\fR one notification
+will be generated for each value that is out of the acceptable range. If set to
+\&\fBfalse\fR (the default) then a notification is only generated if a value is out
+of range but the previous value was okay.
+.Sp
+This applies to missing values, too: If set to \fBtrue\fR a notification about a
+missing value is generated once every \fBInterval\fR seconds. If set to \fBfalse\fR
+only one such notification is generated until the value appears again.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
+\&\fItypes.db\fR\|(5),
 \&\fIhddtemp\fR\|(8),
 kstat(3KSTAT),
 \&\fImbmon\fR\|(1),
 \&\fIrrdtool\fR\|(1),
 \&\fIsensors\fR\|(1)
 .SH "AUTHOR"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.conf.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.conf.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.conf.in	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.conf.in	2008-02-19 03:57:18.000000000 +0800
@@ -2,12 +2,13 @@
 # Config file for collectd(1).
 # Please read collectd.conf(5) for a list of options.
 # http://collectd.org/
 #
 
 #Hostname    "localhost"
+FQDNLookup   true
 #BaseDir     "@prefix@/var/lib/@PACKAGE_NAME@"
 #PIDFile     "@prefix@/var/run/@PACKAGE_NAME@.pid"
 #PluginDir   "@prefix@/lib/@PACKAGE_NAME@"
 #TypesDB     "@prefix@/lib/@PACKAGE_NAME@/types.db"
 #Interval     10
 #ReadThreads  5
@@ -27,12 +28,13 @@
 @BUILD_PLUGIN_EXEC_TRUE@LoadPlugin exec
 @BUILD_PLUGIN_HDDTEMP_TRUE@LoadPlugin hddtemp
 @BUILD_PLUGIN_INTERFACE_TRUE@LoadPlugin interface
 @BUILD_PLUGIN_IPTABLES_TRUE@LoadPlugin iptables
 @BUILD_PLUGIN_IPVS_TRUE@LoadPlugin ipvs
 @BUILD_PLUGIN_IRQ_TRUE@LoadPlugin irq
+@BUILD_PLUGIN_LIBVIRT_TRUE@LoadPlugin libvirt
 @BUILD_PLUGIN_LOAD_TRUE@LoadPlugin load
 @BUILD_PLUGIN_LOGFILE_TRUE@LoadPlugin logfile
 @BUILD_PLUGIN_MBMON_TRUE@LoadPlugin mbmon
 @BUILD_PLUGIN_MEMCACHED_TRUE@LoadPlugin memcached
 @BUILD_PLUGIN_MEMORY_TRUE@LoadPlugin memory
 @BUILD_PLUGIN_MULTIMETER_TRUE@LoadPlugin multimeter
@@ -53,12 +55,13 @@
 @BUILD_PLUGIN_SWAP_TRUE@LoadPlugin swap
 @BUILD_PLUGIN_SYSLOG_TRUE@LoadPlugin syslog
 @BUILD_PLUGIN_TAPE_TRUE@LoadPlugin tape
 @BUILD_PLUGIN_TCPCONNS_TRUE@LoadPlugin tcpconns
 @BUILD_PLUGIN_UNIXSOCK_TRUE@LoadPlugin unixsock
 @BUILD_PLUGIN_USERS_TRUE@LoadPlugin users
+@BUILD_PLUGIN_UUID_TRUE@LoadPlugin uuid
 @BUILD_PLUGIN_VSERVER_TRUE@LoadPlugin vserver
 @BUILD_PLUGIN_WIRELESS_TRUE@LoadPlugin wireless
 @BUILD_PLUGIN_XMMS_TRUE@LoadPlugin xmms
 
 #<Plugin apache>
 #	URL "http://localhost/status?auto"
@@ -71,12 +74,13 @@
 #	Host "localhost"
 #	Port "3551"
 #</Plugin>
 
 #<Plugin csv>
 #	DataDir "@prefix@/var/lib/@PACKAGE_NAME@/csv"
+#	StoreRates false
 #</Plugin>
 
 #<Plugin df>
 #	Device "/dev/hda1"
 #	Device "192.168.0.2:/mnt/nfs"
 #	MountPoint "/home"
@@ -95,18 +99,20 @@
 #	SocketPerms "0770"
 #	MaxConns 5
 #</Plugin>
 
 #<Plugin exec>
 #	Exec "user:group" "/path/to/exec"
+#	NotificationExec "/path/to/exec"
 #</Plugin>
 
-#<Plugin hddtemp>
+@BUILD_PLUGIN_HDDTEMP_TRUE@<Plugin hddtemp>
 #	Host "127.0.0.1"
 #	Port "7634"
-#</Plugin>
+@BUILD_PLUGIN_HDDTEMP_TRUE@	TranslateDevicename false
+@BUILD_PLUGIN_HDDTEMP_TRUE@</Plugin>
 
 #<Plugin interface>
 #	Interface "eth0"
 #	IgnoreSelected false
 #</Plugin>
 
@@ -118,15 +124,26 @@
 #	Irq 7
 #	Irq 8
 #	Irq 9
 #	IgnoreSelected true
 #</Plugin>
 
+#<Plugin libvirt>
+#	Connection "xen:///"
+#	RefreshInterval 60
+#	Domain "name"
+#	BlockDevice "name:device"
+#	InterfaceDevice "name:device"
+#	IgnoreSelected false
+#	HostnameFormat name
+#</Plugin>
+
 #<Plugin logfile>
 #	LogLevel info
 #	File STDOUT
+#	Timestamp true
 #</Plugin>
 
 #<Plugin mbmon>
 #	Host "127.0.0.1"
 #	Port "411"
 #</Plugin>
@@ -146,12 +163,13 @@
 #<Plugin netlink>
 #	Interface "All"
 #	VerboseInterface "All"
 #	QDisc "eth0" "pfifo_fast-1:0"
 #	Class "ppp0" "htb-1:10"
 #	Filter "ppp0" "u32-1:0"
+#	IgnoreSelected false
 #</Plugin>
 
 #<Plugin network>
 #	Server "ff18::efc0:4a42" "25826"
 #	Server "239.192.74.66" "25826"
 #	Listen "ff18::efc0:4a42" "25826"
@@ -168,26 +186,29 @@
 #	CACert "/etc/ssl/ca.crt"
 #</Plugin>
 
 #<Plugin ntpd>
 #	Host "localhost"
 #	Port 123
+#	ReverseLookups false
 #</Plugin>
 
 #<Plugin nut>
 #	UPS "upsname@hostname:port"
 #</Plugin>
 
 #<Plugin perl>
 #	IncludeDir "/my/include/path"
 #	BaseName "Collectd::Plugin"
+#	EnableDebugger ""
 #	LoadPlugin foo
 #</Plugin>
 
 #<Plugin ping>
 #	Host "host.foo.bar"
+#	TTL 255
 #</Plugin>
 
 #<Plugin processes>
 #	Process "name"
 #</Plugin>
 
@@ -258,6 +279,11 @@
 
 #<Plugin unixsock>
 #	SocketFile "@prefix@/var/run/@PACKAGE_NAME@-unixsock"
 #	SocketGroup "collectd"
 #	SocketPerms "0660"
 #</Plugin>
+
+#<Plugin uuid>
+#	UUIDFile "/etc/uuid"
+#</Plugin>
+
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.conf.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.conf.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.conf.pod	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.conf.pod	2008-02-19 03:57:18.000000000 +0800
@@ -50,17 +50,27 @@
 
 =item B<LoadPlugin> I<Plugin>
 
 Loads the plugin I<Plugin>. There must be at least one such line or B<collectd>
 will be mostly useless.
 
-=item B<Include> I<File>
+=item B<Include> I<Path>
 
-Includes the file I<File> as if it was copy and pasted here. To prevent loops
-and shooting yourself in the foot in interesting ways the nesting is limited to
-a depth of 8E<nbsp>levels, which should be sufficient for most uses.
+If I<Path> points to a file, includes that file. If I<Path> points to a
+directory, recursively includes all files within that directory and its
+subdirectories. If the C<wordexp> function is available on your system,
+shell-like wildcards are expanded before files are included. This means you can
+use statements like the following:
+
+  Include "/etc/collectd.d/*.conf"
+
+To prevent loops and shooting yourself in the foot in interesting ways the
+nesting is limited to a depth of 8E<nbsp>levels, which should be sufficient for
+most uses. Since symlinks are followed it is still possible to crash the daemon
+by looping symlinks. In our opinion significant stupidity should result in an
+appropriate amount of pain.
 
 It is no problem to have a block like C<E<lt>Plugin fooE<gt>> in more than one
 file, but you cannot include files from within blocks.
 
 =item B<PIDFile> I<File>
 
@@ -69,29 +79,47 @@
 setting using the B<-P> command-line option.
 
 =item B<PluginDir> I<Directory>
 
 Path to the plugins (shared objects) of collectd.
 
-=item B<TypesDB> I<File>
+=item B<TypesDB> I<File> [I<File> ...]
 
-Set the file that contains the data-set descriptions.
+Set one or more files that contain the data-set descriptions. See
+L<types.db(5)> for a description of the format of this file.
 
 =item B<Interval> I<Seconds>
 
 Configures the interval in which to query the read plugins. Obviously smaller
-values lead to a higher system load produces by collectd, while higher values
+values lead to a higher system load produced by collectd, while higher values
 lead to more coarse statistics.
 
 =item B<ReadThreads> I<Num>
 
-Number of threads to start for reading plugins. The default value if B<5>, but
+Number of threads to start for reading plugins. The default value is B<5>, but
 you may want to increase this if you have more than five plugins that take a
 long time to read. Mostly those are plugin that do network-IO. Setting this to
 a value higher than the number of plugins you've loaded is totally useless.
 
+=item B<Hostname> I<Name>
+
+Sets the hostname that identifies a host. If you omit this setting, the
+hostname will be determinded using the L<gethostname(2)> system call.
+
+=item B<FQDNLookup> B<true|false>
+
+If B<Hostname> is determined automatically this setting controls whether or not
+the daemon should try to figure out the "fully qualified domain name", FQDN.
+This is done using a lookup of the name returned by C<gethostname>.
+
+Using this feature (i.E<nbsp>e. setting this option to B<true>) is recommended.
+However, to preserve backwards compatibility the default is set to B<false>.
+The sample config file that is installed with C<makeE<nbsp>install> includes a
+line which sets this option, though, so that default installations will have
+this setting enabled.
+
 =back
 
 =head1 PLUGIN OPTIONS
 
 Some plugins may register own options. These options must be enclosed in a
 C<Plugin>-Section. Which options exist depends on the plugin used. Some plugins
@@ -178,12 +206,18 @@
 
 =item B<DataDir> I<Directory>
 
 Set the directory to store CSV-files under. Per default CSV-files are generated
 beneath the daemon's working directory, i.E<nbsp>e. the B<BaseDir>.
 
+=item B<StoreRates> B<true|false>
+
+If set to B<true>, convert counter values to rates. If set to B<false> (the
+default) counter values are stored as is, i.E<nbsp>e. as an increasing integer
+number.
+
 =back
 
 =head2 Plugin C<df>
 
 =over 4
 
@@ -258,25 +292,36 @@
 Please make sure to read L<collectd-exec(5)> before using this plugin. It
 contains valuable information on when the executable is executed and the
 output that is expected from it.
 
 =over 4
 
-=item B<Exec> I<User>[:[I<Group>]] I<Executable>
+=item B<Exec> I<User>[:[I<Group>]] I<Executable> [I<E<lt>argE<gt>> [I<E<lt>argE<gt>> ...]]
+
+=item B<NotificationExec> I<User>[:[I<Group>]] I<Executable> [I<E<lt>argE<gt>> [I<E<lt>argE<gt>> ...]]
 
 Execute the executable I<Executable> as user I<User>. If the user name is
 followed by a colon and a group name, the effective group is set to that group.
 The real group and saved-set group will be set to the default group of that
 user. If no group is given the effective group ID will be the same as the real
 group ID.
 
 Please note that in order to change the user and/or group the daemon needs
 superuser privileges. If the daemon is run as an unprivileged user you must
 specify the same user/group here. If the daemon is run with superuser
 privileges, you must supply a non-root user here.
 
+The executable may be followed by optional arguments that are passed to the
+program. Please note that due to the configuration parsing numbers and boolean
+values may be changed. If you want to be absolutely sure that something is
+passed as-is please enclose it in quotes.
+
+The B<Exec> and B<NotificationExec> statements change the semantics of the
+programs executed, i.E<nbsp>e. the data passed to them and the response
+expected from them. This is documented in great detail in L<collectd-exec(5)>.
+
 =back
 
 =head2 Plugin C<hddtemp>
 
 To get values from B<hddtemp> collectd connects to B<localhost> (127.0.0.1),
 port B<7634/tcp>. The B<Host> and B<Port> options can be used to change these
@@ -294,12 +339,19 @@
 Hostname to connect to. Defaults to B<127.0.0.1>.
 
 =item B<Port> I<Port>
 
 TCP-Port to connect to. Defaults to B<7634>.
 
+=item B<TranslateDevicename> I<true>|I<false>
+
+If enabled, translate the disk names to major/minor device numbers
+(e.E<nbsp>g. "8-0" for /dev/sda). For backwards compatibility this defaults to
+I<true> but it's recommended to disable it as it will probably be removed in
+the next major version.
+
 =back
 
 =head2 Plugin C<interface>
 
 =over 4
 
@@ -358,12 +410,89 @@
 few ones. This option enables you to do that: By setting B<IgnoreSelected> to
 I<true> the effect of B<Irq> is inversed: All selected interrupts are ignored
 and all other interrupts are collected.
 
 =back
 
+=head2 Plugin C<libvirt>
+
+This plugin allows CPU, disk and network load to be collected for virtualized
+guests on the machine. This means that these characteristics can be collected
+for guest systems without installing any software on them - collectd only runs
+on the hosting system. The statistics are collected through libvirt
+(L<http://libvirt.org/>).
+
+Only I<Connection> is required.
+
+=over 4
+
+=item B<Connection> I<uri>
+
+Connect to the hypervisor given by I<uri>. For example if using Xen use:
+
+ Connection "xen:///"
+
+Details which URIs allowed are given at L<http://libvirt.org/uri.html>.
+
+=item B<RefreshInterval> I<seconds>
+
+Refresh the list of domains and devices every I<seconds>. The default is 60
+seconds. Setting this to be the same or smaller than the I<Interval> will cause
+the list of domains and devices to be refreshed on every iteration.
+
+Refreshing the devices in particular is quite a costly operation, so if your
+virtualization setup is static you might consider increasing this. If this
+option is set to 0, refreshing is disabled completely.
+
+=item B<Domain> I<name>
+
+=item B<BlockDevice> I<name:dev>
+
+=item B<InterfaceDevice> I<name:dev>
+
+=item B<IgnoreSelected> I<true>|I<false>
+
+Select which domains and devices are collected.
+
+If I<IgnoreSelected> is not given or I<false> then only the listed domains and
+disk/network devices are collected.
+
+If I<IgnoreSelected> is I<true> then the test is reversed and the listed
+domains and disk/network devices are ignored, while the rest are collected.
+
+The domain name and device names may use a regular expression, if the name is
+surrounded by I</.../> and collectd was compiled with support for regexps.
+
+The default is to collect statistics for all domains and all their devices.
+
+Example:
+
+ BlockDevice "/:hdb/"
+ IgnoreSelected "true"
+
+Ignore all I<hdb> devices on any domain, but other block devices (eg. I<hda>)
+will be collected.
+
+=item B<HostnameFormat> B<name|uuid|hostname|...>
+
+When the libvirt plugin logs data, it sets the hostname of the collected data
+according to this setting. The default is to use the guest name as provided by
+the hypervisor, which is equal to setting B<name>.
+
+B<uuid> means use the guest's UUID. This is useful if you want to track the
+same guest across migrations.
+
+B<hostname> means to use the global B<Hostname> setting, which is probably not
+useful on its own because all guests will appear to have the same name.
+
+You can also specify combinations of these fields. For example B<name uuid>
+means to concatenate the guest name and UUID (with a literal colon character
+between, thus I<"foo:1234-1234-1234-1234">).
+
+=back
+
 =head2 Plugin C<logfile>
 
 =over 4
 
 =item B<LogLevel> B<debug|info|notice|warning|err>
 
@@ -387,13 +516,13 @@
 =back
 
 =head2 Plugin C<mbmon>
 
 The C<mbmon plugin> uses mbmon to retrieve temperature, voltage, etc.
 
-Be default collectd connects to B<localhost> (127.0.0.1), port B<411/tcp>.  The
+Be default collectd connects to B<localhost> (127.0.0.1), port B<411/tcp>. The
 B<Host> and B<Port> options can be used to change these values, see below.
 C<mbmon> has to be running to work correctly. If C<mbmon> is not running
 timeouts may appear which may interfere with other statistics..
 
 C<mbmon> must be run with the -r option ("print TAG and Value format");
 Debian's F</etc/init.d/mbmon> script already does this, other people
@@ -504,13 +633,13 @@
 Collect the octets and packets that pass a certain qdisc, class or filter.
 
 QDiscs and classes are identified by their type and handle (or classid).
 Filters don't necessarily have a handle, therefore the parent's handle is used.
 The notation used in collectd differs from that used in tc(1) in that it
 doesn't skip the major or minor number if it's zero and doesn't print special
-ids by their name.  So, for example, a qdisc may be identified by
+ids by their name. So, for example, a qdisc may be identified by
 C<pfifo_fast-1:0> even though the minor number of B<all> qdiscs is zero and
 thus not displayed by tc(1).
 
 If B<QDisc>, B<Class>, or B<Filter> is given without the second argument,
 i.E<nbsp>.e. without an identifier, all qdiscs, classes, or filters that are
 associated with that interface will be collected.
@@ -642,12 +771,19 @@
 Hostname of the host running B<ntpd>. Defaults to B<localhost>.
 
 =item B<Port> I<Port>
 
 UDP-Port to connect to. Defaults to B<123>.
 
+=item B<ReverseLookups> B<true>|B<false>
+
+Sets wether or not to perform reverse lookups on peers. Since the name or
+IP-address may be used in a filename it is recommended to disable reverse
+lookups. The default is to do reverse lookups to preserve backwards
+compatibility, though.
+
 =back
 
 =head2 Plugin C<nut>
 
 =over 4
 
@@ -878,28 +1014,180 @@
 Change the file permissions of the UNIX-socket after it has been created. The
 permissions must be given as a numeric, octal value as you would pass to
 L<chmod(1)>. Defaults to B<0770>.
 
 =back
 
+=head2 Plugin C<uuid>
+
+This plugin, if loaded, causes the Hostname to be taken from the machine's
+UUID. The UUID is a universally unique designation for the machine, usually
+taken from the machine's BIOS. This is most useful if the machine is running in
+a virtual environment such as Xen, in which case the UUID is preserved across
+shutdowns and migration.
+
+The following methods are used to find the machine's UUID, in order:
+
+=over 4
+
+=item
+
+Check I</etc/uuid> (or I<UUIDFile>).
+
+=item
+
+Check for UUID from HAL (L<http://www.freedesktop.org/wiki/Software/hal>) if
+present.
+
+=item
+
+Check for UUID from C<dmidecode> / SMBIOS.
+
+=item
+
+Check for UUID from Xen hypervisor.
+
+=back
+
+If no UUID can be found then the hostname is not modified.
+
+=over 4
+
+=item B<UUIDFile> I<Path>
+
+Take the UUID from the given file (default I</etc/uuid>).
+
+=back
+
 =head2 Plugin C<vserver>
 
 This plugin doesn't have any options. B<VServer> support is only available for
 Linux. It cannot yet be found in a vanilla kernel, though. To make use of this
 plugin you need a kernel that has B<VServer> support built in, i.E<nbsp>e. you
 need to apply the patches and compile your own kernel, which will then provide
 the F</proc/virtual> filesystem that is required by this plugin.
 
 The B<VServer> homepage can be found at L<http://linux-vserver.org/>.
 
+=head1 THRESHOLD CONFIGURATION
+
+Starting with version C<4.3.0> collectd has support for B<monitoring>. By that
+we mean that the values are not only stored or sent somewhere, but that they
+are judged and, if a problem is recognized, acted upon. The only action
+collectd takes itself is to generate and dispatch a "notification". Plugins can
+register to receive notifications and perform appropriate further actions.
+
+Since systems and what you expect them to do differ a lot, you can configure
+B<thresholds> for your values freely. This gives you a lot of flexibility but
+also a lot of responsibility.
+
+Every time a value is out of range a notification is dispatched. This means
+that the idle percentage of your CPU needs to be less then the configured
+threshold only once for a notification to be generated. There's no such thing
+as a moving average or similar - at least not now.
+
+Also, all values that match a threshold are considered to be relevant or
+"interesting". As a consequence collectd will issue a notification if they are
+not received for twice the last timeout of the values. If, for example, some
+hosts sends it's CPU statistics to the server every 60 seconds, a notification
+will be dispatched after about 120 seconds. It may take a little longer because
+the timeout is checked only once each B<Interval> on the server.
+
+Here is a configuration example to get you started. Read below for more
+information.
+
+ <Threshold>
+   <Type "foo">
+     WarningMin    0.00
+     WarningMax 1000.00
+     FailureMin    0.00
+     FailureMax 1200.00
+     Invert false
+     Instance "bar"
+   </Type>
+
+   <Plugin "interface">
+     Instance "eth0"
+     <Type "if_octets">
+       FailureMax 10000000
+     </Type>
+   </Plugin>
+
+   <Host "hostname">
+     <Type "cpu">
+       Instance "idle"
+       FailureMin 10
+     </Type>
+
+     <Plugin "memory">
+       <Type "memory">
+         Instance "cached"
+	 WarningMin 100000000
+       </Type>
+     </Plugin>
+   </Host>
+ </Threshold>
+
+There are basically two types of configuration statements: The C<Host>,
+C<Plugin>, and C<Type> blocks select the value for which a threshold should be
+configured. The C<Plugin> and C<Type> blocks may be specified further using the
+C<Instance> option. You can combine the block by nesting the blocks, though
+they must be nested in the above order, i.E<nbsp>e. C<Host> may contain either
+C<Plugin> and C<Type> blocks, C<Plugin> may only contain C<Type> blocks and
+C<Type> may not contain other blocks. If multiple blocks apply to the same
+value the most specific block is used.
+
+The other statements specify the threshold to configure. They B<must> be
+included in a C<Type> block. Currently the following statements are recognized:
+
+=over 4
+
+=item B<FailureMax> I<Value>
+
+=item B<WarningMax> I<Value>
+
+Sets the upper bound of acceptable values. If unset defaults to positive
+infinity. If a value is greater than B<FailureMax> a B<FAILURE> notification
+will be created. If the value is greater than B<WarningMax> but less than (or
+equal to) B<FailureMax> a B<WARNING> notification will be created.
+
+=item B<FailureMin> I<Value>
+
+=item B<WarningMin> I<Value>
+
+Sets the lower bound of acceptable values. If unset defaults to negative
+infinity. If a value is less than B<FailureMin> a B<FAILURE> notification will
+be created. If the value is less than B<WarningMin> but greater than (or equal
+to) B<FailureMin> a B<WARNING> notification will be created.
+
+=item B<Invert> B<true>|B<false>
+
+If set to B<true> the range of acceptable values is inverted, i.E<nbsp>e.
+values between B<FailureMin> and B<FailureMax> (B<WarningMin> and
+B<WarningMax>) are not okay. Defaults to B<false>.
+
+=item B<Persist> B<true>|B<false>
+
+Sets how often notifications are generated. If set to B<true> one notification
+will be generated for each value that is out of the acceptable range. If set to
+B<false> (the default) then a notification is only generated if a value is out
+of range but the previous value was okay.
+
+This applies to missing values, too: If set to B<true> a notification about a
+missing value is generated once every B<Interval> seconds. If set to B<false>
+only one such notification is generated until the value appears again.
+
+=back
+
 =head1 SEE ALSO
 
 L<collectd(1)>,
 L<collectd-exec(5)>,
 L<collectd-perl(5)>,
 L<collectd-unixsock(5)>,
+L<types.db(5)>,
 L<hddtemp(8)>,
 L<kstat(3KSTAT)>,
 L<mbmon(1)>,
 L<rrdtool(1)>,
 L<sensors(1)>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-email.5	2008-03-29 18:12:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-email.5	2008-02-20 03:37:02.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2007-10-24" "4.3.2" "collectd"
+.TH COLLECTD-EMAIL 5 "2007-10-24" "4.3.0" "collectd"
 .SH "NAME"
 collectd\-email \- Documentation of collectd's \f(CW\*(C`email plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-exec.5	2008-04-22 23:57:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-exec.5	2008-02-20 03:37:03.000000000 +0800
@@ -126,54 +126,86 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2008-04-22" "4.2.6.18.ga67c726" "collectd"
+.TH COLLECTD-EXEC 5 "2008-02-18" "4.3.0" "collectd"
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-.Vb 7
+.Vb 8
 \&  # See collectd.conf(5)
 \&  LoadPlugin exec
 \&  # ...
 \&  <Plugin exec>
 \&    Exec "myuser:mygroup" "myprog"
-\&    Exec "otheruser" "/path/to/another/binary"
+\&    Exec "otheruser" "/path/to/another/binary" "arg0" "arg1"
+\&    NotificationExec "user" "/usr/lib/collectd/exec/handle_notification"
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`exec plugin\*(C'\fR forks of an executable and reads back values that it writes
-to \f(CW\*(C`STDOUT\*(C'\fR. The executable is forked in a fashion similar to init: It is
-forked once and not again until it exits. If it exited, it will be forked again
-after at most \fIInterval\fR seconds. It is perfectly legal for the executable to
-run for a long time and continuously write values to \f(CW\*(C`STDOUT\*(C'\fR.
+The \f(CW\*(C`exec plugin\*(C'\fR forks of an executable either to receive values or to
+dispatch notifications to the outside world. The syntax of the configuration is
+explained in \fIcollectd.conf\fR\|(5) but summarized in the above synopsis.
 .PP
 If you want/need better performance or more functionality you should take a
 long look at the \f(CW\*(C`perl plugin\*(C'\fR, \fIcollectd\-perl\fR\|(5).
-.SH "DATA FORMAT"
-.IX Header "DATA FORMAT"
+.SH "EXECUTABLE TYPES"
+.IX Header "EXECUTABLE TYPES"
+There are currently two types of executables that can be executed by the
+\&\f(CW\*(C`exec plugin\*(C'\fR:
+.ie n .IP """Exec""" 4
+.el .IP "\f(CWExec\fR" 4
+.IX Item "Exec"
+These programs are forked and values that it writes to \f(CW\*(C`STDOUT\*(C'\fR are read back.
+The executable is forked in a fashion similar to init: It is forked once and
+not again until it exits. If it exited, it will be forked again after at most
+\&\fIInterval\fR seconds. It is perfectly legal for the executable to run for a long
+time and continuously write values to \f(CW\*(C`STDOUT\*(C'\fR.
+.Sp
+See \*(L"\s-1EXEC\s0 \s-1DATA\s0 \s-1FORMAT\s0\*(R" below for a description of the output format expected
+from these programs.
+.Sp
+\&\fBWarning:\fR If the executable only writes one value and then exits I will be
+executed every \fIInterval\fR seconds. If \fIInterval\fR is short (the default is 10
+seconds) this may result in serious system load.
+.ie n .IP """NotificationExec""" 4
+.el .IP "\f(CWNotificationExec\fR" 4
+.IX Item "NotificationExec"
+The program is forked once for each notification that is handled by the daemon.
+The notification is passed to the program on \f(CW\*(C`STDIN\*(C'\fR in a fashion similar to
+HTTP\-headers. In contrast to programs specified with \f(CW\*(C`Exec\*(C'\fR the execution of
+this program is not serialized, so that several instances of this program may
+run at once if multiple notifications are received.
+.Sp
+See \*(L"\s-1NOTIFICATION\s0 \s-1DATA\s0 \s-1FORMAT\s0\*(R" below for a description of the data passed to
+these programs.
+.SH "EXEC DATA FORMAT"
+.IX Header "EXEC DATA FORMAT"
 The forked executable is expected to print values to \f(CW\*(C`STDOUT\*(C'\fR. The expected
 format is as follows:
-.IP "\(bu" 4
+.IP "Comments" 4
+.IX Item "Comments"
 Each line beginning with a \f(CW\*(C`#\*(C'\fR (hash mark) is ignored.
-.IP "\(bu" 4
-Other lines must consist of an \fIIdentifier\fR, an optional \fIOption-List\fR and a
-\&\fIValue-List\fR, separated by a spaces. A description of these two parts follows:
+.IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
+.IX Item "PUTVAL Identifier [OptionList] Valuelist"
+Submits one or more values (identified by \fIIdentifier\fR, see below) to the
+daemon which will dispatch it to all it's write\-plugins.
 .Sp
 An \fIIdentifier\fR is of the form
 \&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
 \&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
 omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
 as the tuple (plugin, plugin instance, type instance) uniquely identifies the
 plugin within collectd. \fItype\fR identifies the type and number of values
 (i.\ e. data\-set) passed to collectd. A large list of predefined
-data-sets is available in the \fBtypes.db\fR file.
+data-sets is available in the \fBtypes.db\fR file. See \fItypes.db\fR\|(5) for a
+description of the format of this file.
 .Sp
 The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
 key\-value\-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 .Sp
 \&\fIValuelist\fR is a colon-separated list of the time and the values, each either
@@ -203,25 +235,142 @@
 Since examples usually let one understand a lot better, here are some:
 .Sp
 .Vb 2
 \&  leeloo/cpu\-0/cpu\-idle N:2299366
 \&  alice/interface/if_octets\-eth0 interval=10 1180647081:421465:479194
 .Ve
+.Sp
+Since this action was the only one supported with older versions of the \f(CW\*(C`exec
+plugin\*(C'\fR all lines were treated as if they were prefixed with \fB\s-1PUTVAL\s0\fR. This is
+still the case to maintain backwards compatibility but deprecated.
 .RE
-.PP
+.IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
+.IX Item "PUTNOTIF [OptionList] message=Message"
+Submits a notification to the daemon which will then dispatch it to all plugins
+which have registered for receiving notifications. 
+.Sp
+The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
+notification. The \fBmessage\fR option is special in that it will consume the rest
+of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
+mandatory.
+.Sp
+Valid options are:
+.RS 4
+.IP "\fBmessage=\fR\fIMessage\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "message=Message (REQUIRED)"
+Sets the message of the notification. This is the message that will be made
+accessible to the user, so it should contain some useful information. This
+option must be the last option because the rest of the line will be its value,
+even if there are spaces and equal-signs following it! This option is
+mandatory.
+.IP "\fBseverity=failure\fR|\fBwarning\fR|\fBokay\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "severity=failure|warning|okay (REQUIRED)"
+Sets the severity of the notification. This option is mandatory.
+.IP "\fBtime=\fR\fITime\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "time=Time (REQUIRED)"
+Sets the time of the notification. The time is given as \*(L"epoch\*(R", i.\ e. as
+seconds since January 1st, 1970, 00:00:00. This option is mandatory.
+.IP "\fBhost=\fR\fIHostname\fR" 4
+.IX Item "host=Hostname"
+.PD 0
+.IP "\fBplugin=\fR\fIPlugin\fR" 4
+.IX Item "plugin=Plugin"
+.IP "\fBplugin_instance=\fR\fIPlugin-Instance\fR" 4
+.IX Item "plugin_instance=Plugin-Instance"
+.IP "\fBtype=\fR\fIType\fR" 4
+.IX Item "type=Type"
+.IP "\fBtype_instance=\fR\fIType-Instance\fR" 4
+.IX Item "type_instance=Type-Instance"
+.PD
+These \*(L"associative\*(R" options establish a relation between this notification and
+collected performance data. This connection is purely informal, i.\ e. the
+daemon itself doesn't do anything with this information. However, websites or
+GUIs may use this information to place notifications near the affected graph or
+table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
+or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
+avoided.
+.Sp
+Please note that this is the same format as used in the \fBunixsock plugin\fR, see
+\&\fIcollectd\-unixsock\fR\|(5).
+.RE
+.RS 4
+.Sp
 When collectd exits it sends a \fB\s-1SIGTERM\s0\fR to all still running
 child-processes upon which they have to quit.
+.SH "NOTIFICATION DATA FORMAT"
+.IX Header "NOTIFICATION DATA FORMAT"
+The notification executables receive values rather than providing them. In
+fact, after the program is started \f(CW\*(C`STDOUT\*(C'\fR is connected to \f(CW\*(C`/dev/null\*(C'\fR.
+.Sp
+The data is passed to the executables over \f(CW\*(C`STDIN\*(C'\fR in a format very similar to
+\&\s-1HTTP:\s0 At first there is a \*(L"header\*(R" with one line per field. Every line consists
+of a field name, ended by a colon, and the associated value until end\-of\-line.
+The \*(L"header\*(R" is ended by two newlines immediately following another,
+i.\ e. an empty line. The rest, basically the \*(L"body\*(R", is the message of
+the notification.
+.Sp
+The following is an example notification passed to a program:
+.Sp
+.Vb 5
+\&  Severity: FAILURE
+\&  Time: 1200928930
+\&  Host: myhost.mydomain.org
+\&  \en
+\&  This is a test notification to demonstrate the format
+.Ve
+.Sp
+The following header files are currently used. Please note, however, that you
+should ignore unknown header files to be as forward-compatible as possible.
+.IP "\fBSeverity\fR" 4
+.IX Item "Severity"
+Severity of the notification. May either be \fB\s-1FAILURE\s0\fR, \fB\s-1WARNING\s0\fR, or \fB\s-1OKAY\s0\fR.
+.IP "\fBTime\fR" 4
+.IX Item "Time"
+The time in epoch, i.\ e. as seconds since 1970\-01\-01 00:00:00 \s-1UTC\s0.
+.IP "\fBHost\fR" 4
+.IX Item "Host"
+.PD 0
+.IP "\fBPlugin\fR" 4
+.IX Item "Plugin"
+.IP "\fBPluginInstance\fR" 4
+.IX Item "PluginInstance"
+.IP "\fBType\fR" 4
+.IX Item "Type"
+.IP "\fBTypeInstance\fR" 4
+.IX Item "TypeInstance"
+.PD
+Identification of the performance data this notification is associated with.
+All of these fields are optional because notifications do not \fBneed\fR to be
+associated with a certain value.
+.RE
+.RS 4
+.SH "USING NAGIOS PLUGINS"
+.IX Header "USING NAGIOS PLUGINS"
+Though the interface is far from perfect, there are tons of plugins for Nagios.
+You can use these plugins with collectd by using a simple transition layer,
+\&\f(CW\*(C`exec\-nagios.px\*(C'\fR, which is shipped with the collectd distribution in the
+\&\f(CW\*(C`contrib/\*(C'\fR directory. It is a simple Perl script that comes with embedded
+documentation. To see it, run the following command:
+.Sp
+.Vb 1
+\&  perldoc exec\-nagios.px
+.Ve
+.Sp
+This script expects a configuration file, \f(CW\*(C`exec\-nagios.conf\*(C'\fR. You can find an
+example in the \f(CW\*(C`contrib/\*(C'\fR directory, too.
+.Sp
+Even a simple mechanism to submit \*(L"performance data\*(R" to collectd is
+implemented. If you need a more sophisticated setup, please rewrite the plugin
+to make use of collectd's more powerful interface.
 .SH "CAVEATS"
 .IX Header "CAVEATS"
-.IP "\(bu" 4
-If the executable only writes one value and then exits I will be executed every
-\&\fIInterval\fR seconds. If \fIInterval\fR is short (the default is 10 seconds) this
-may result in serious system load.
-.IP "\(bu" 4
+.IP "*" 4
 The user, the binary is executed as, may not have root privileges, i.\ e.
-must have an \s-1UID\s0 that is non\-zero.
+must have an \s-1UID\s0 that is non\-zero. This is for your own good.
+.RE
+.RS 4
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-exec.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-exec.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-exec.pod	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-exec.pod	2008-02-19 04:09:16.000000000 +0800
@@ -6,50 +6,85 @@
 
   # See collectd.conf(5)
   LoadPlugin exec
   # ...
   <Plugin exec>
     Exec "myuser:mygroup" "myprog"
-    Exec "otheruser" "/path/to/another/binary"
+    Exec "otheruser" "/path/to/another/binary" "arg0" "arg1"
+    NotificationExec "user" "/usr/lib/collectd/exec/handle_notification"
   </Plugin>
 
 =head1 DESCRIPTION
 
-The C<exec plugin> forks of an executable and reads back values that it writes
-to C<STDOUT>. The executable is forked in a fashion similar to L<init>: It is
-forked once and not again until it exits. If it exited, it will be forked again
-after at most I<Interval> seconds. It is perfectly legal for the executable to
-run for a long time and continuously write values to C<STDOUT>.
+The C<exec plugin> forks of an executable either to receive values or to
+dispatch notifications to the outside world. The syntax of the configuration is
+explained in L<collectd.conf(5)> but summarized in the above synopsis.
 
 If you want/need better performance or more functionality you should take a
 long look at the C<perl plugin>, L<collectd-perl(5)>.
 
-=head1 DATA FORMAT
+=head1 EXECUTABLE TYPES
+
+There are currently two types of executables that can be executed by the
+C<exec plugin>:
+
+=over 4
+
+=item C<Exec>
+
+These programs are forked and values that it writes to C<STDOUT> are read back.
+The executable is forked in a fashion similar to L<init>: It is forked once and
+not again until it exits. If it exited, it will be forked again after at most
+I<Interval> seconds. It is perfectly legal for the executable to run for a long
+time and continuously write values to C<STDOUT>.
+
+See L<EXEC DATA FORMAT> below for a description of the output format expected
+from these programs.
+
+B<Warning:> If the executable only writes one value and then exits I will be
+executed every I<Interval> seconds. If I<Interval> is short (the default is 10
+seconds) this may result in serious system load.
+
+=item C<NotificationExec>
+
+The program is forked once for each notification that is handled by the daemon.
+The notification is passed to the program on C<STDIN> in a fashion similar to
+HTTP-headers. In contrast to programs specified with C<Exec> the execution of
+this program is not serialized, so that several instances of this program may
+run at once if multiple notifications are received.
+
+See L<NOTIFICATION DATA FORMAT> below for a description of the data passed to
+these programs.
+
+=back
+
+=head1 EXEC DATA FORMAT
 
 The forked executable is expected to print values to C<STDOUT>. The expected
 format is as follows:
 
 =over 4
 
-=item
+=item Comments
 
 Each line beginning with a C<#> (hash mark) is ignored.
 
-=item
+=item B<PUTVAL> I<Identifier> [I<OptionList>] I<Valuelist>
 
-Other lines must consist of an I<Identifier>, an optional I<Option-List> and a
-I<Value-List>, separated by a spaces. A description of these two parts follows:
+Submits one or more values (identified by I<Identifier>, see below) to the
+daemon which will dispatch it to all it's write-plugins.
 
 An I<Identifier> is of the form
 C<I<host>B</>I<plugin>B<->I<instance>B</>I<type>B<->I<instance>> with both
 I<instance>-parts being optional. If they're omitted the hyphen must be
 omitted, too. I<plugin> and each I<instance>-part may be chosen freely as long
 as the tuple (plugin, plugin instance, type instance) uniquely identifies the
 plugin within collectd. I<type> identifies the type and number of values
 (i.E<nbsp>e. data-set) passed to collectd. A large list of predefined
-data-sets is available in the B<types.db> file.
+data-sets is available in the B<types.db> file. See L<types.db(5)> for a
+description of the format of this file.
 
 The I<OptionList> is an optional list of I<Options>, where each option if a
 key-value-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 
 I<Valuelist> is a colon-separated list of the time and the values, each either
@@ -80,31 +115,147 @@
 
 Since examples usually let one understand a lot better, here are some:
 
   leeloo/cpu-0/cpu-idle N:2299366
   alice/interface/if_octets-eth0 interval=10 1180647081:421465:479194
 
+Since this action was the only one supported with older versions of the C<exec
+plugin> all lines were treated as if they were prefixed with B<PUTVAL>. This is
+still the case to maintain backwards compatibility but deprecated.
+
+=item B<PUTNOTIF> [I<OptionList>] B<message=>I<Message>
+
+Submits a notification to the daemon which will then dispatch it to all plugins
+which have registered for receiving notifications. 
+
+The B<PUTNOTIF> if followed by a list of options which further describe the
+notification. The B<message> option is special in that it will consume the rest
+of the line as its value. The B<message>, B<severity>, and B<time> options are
+mandatory.
+
+Valid options are:
+
+=over 4
+
+=item B<message=>I<Message> (B<REQUIRED>)
+
+Sets the message of the notification. This is the message that will be made
+accessible to the user, so it should contain some useful information. This
+option must be the last option because the rest of the line will be its value,
+even if there are spaces and equal-signs following it! This option is
+mandatory.
+
+=item B<severity=failure>|B<warning>|B<okay> (B<REQUIRED>)
+
+Sets the severity of the notification. This option is mandatory.
+
+=item B<time=>I<Time> (B<REQUIRED>)
+
+Sets the time of the notification. The time is given as "epoch", i.E<nbsp>e. as
+seconds since January 1st, 1970, 00:00:00. This option is mandatory.
+
+=item B<host=>I<Hostname>
+
+=item B<plugin=>I<Plugin>
+
+=item B<plugin_instance=>I<Plugin-Instance>
+
+=item B<type=>I<Type>
+
+=item B<type_instance=>I<Type-Instance>
+
+These "associative" options establish a relation between this notification and
+collected performance data. This connection is purely informal, i.E<nbsp>e. the
+daemon itself doesn't do anything with this information. However, websites or
+GUIs may use this information to place notifications near the affected graph or
+table. All the options are optional, but B<plugin_instance> without B<plugin>
+or B<type_instance> without B<type> doesn't make much sense and should be
+avoided.
+
+Please note that this is the same format as used in the B<unixsock plugin>, see
+L<collectd-unixsock(5)>.
+
 =back
 
 When collectd exits it sends a B<SIGTERM> to all still running
 child-processes upon which they have to quit.
 
-=head1 CAVEATS
+=head1 NOTIFICATION DATA FORMAT
+
+The notification executables receive values rather than providing them. In
+fact, after the program is started C<STDOUT> is connected to C</dev/null>.
+
+The data is passed to the executables over C<STDIN> in a format very similar to
+HTTP: At first there is a "header" with one line per field. Every line consists
+of a field name, ended by a colon, and the associated value until end-of-line.
+The "header" is ended by two newlines immediately following another,
+i.E<nbsp>e. an empty line. The rest, basically the "body", is the message of
+the notification.
+
+The following is an example notification passed to a program:
+
+  Severity: FAILURE
+  Time: 1200928930
+  Host: myhost.mydomain.org
+  \n
+  This is a test notification to demonstrate the format
+
+The following header files are currently used. Please note, however, that you
+should ignore unknown header files to be as forward-compatible as possible.
 
 =over 4
 
-=item
+=item B<Severity>
+
+Severity of the notification. May either be B<FAILURE>, B<WARNING>, or B<OKAY>.
+
+=item B<Time>
+
+The time in epoch, i.E<nbsp>e. as seconds since 1970-01-01 00:00:00 UTC.
 
-If the executable only writes one value and then exits I will be executed every
-I<Interval> seconds. If I<Interval> is short (the default is 10 seconds) this
-may result in serious system load.
+=item B<Host>
+
+=item B<Plugin>
+
+=item B<PluginInstance>
+
+=item B<Type>
+
+=item B<TypeInstance>
+
+Identification of the performance data this notification is associated with.
+All of these fields are optional because notifications do not B<need> to be
+associated with a certain value.
+
+=back
+
+=head1 USING NAGIOS PLUGINS
+
+Though the interface is far from perfect, there are tons of plugins for Nagios.
+You can use these plugins with collectd by using a simple transition layer,
+C<exec-nagios.px>, which is shipped with the collectd distribution in the
+C<contrib/> directory. It is a simple Perl script that comes with embedded
+documentation. To see it, run the following command:
+
+  perldoc exec-nagios.px
+
+This script expects a configuration file, C<exec-nagios.conf>. You can find an
+example in the C<contrib/> directory, too.
+
+Even a simple mechanism to submit "performance data" to collectd is
+implemented. If you need a more sophisticated setup, please rewrite the plugin
+to make use of collectd's more powerful interface.
+
+=head1 CAVEATS
+
+=over 4
 
 =item
 
 The user, the binary is executed as, may not have root privileges, i.E<nbsp>e.
-must have an UID that is non-zero.
+must have an UID that is non-zero. This is for your own good.
 
 =back
 
 =head1 SEE ALSO
 
 L<collectd(1)>,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.h	2008-04-03 21:52:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.h	2007-11-10 23:15:39.000000000 +0800
@@ -119,30 +119,12 @@
 # define NAN (0.0 / 0.0)
 # ifndef isnan
 #  define isnan(f) ((f) != (f))
 # endif /* !defined(isnan) */
 #endif /* NAN_ZERO_ZERO */
 
-#if HAVE_ENDIAN_H
-# include <endian.h>
-#endif
-
-#ifndef BYTE_ORDER
-# ifdef __BYTE_ORDER
-#  define BYTE_ORDER __BYTE_ORDER
-# endif
-#endif
-#ifndef BIG_ENDIAN
-# ifdef __BIG_ENDIAN
-#  define BIG_ENDIAN __BIG_ENDIAN
-# endif
-#endif
-#if !defined(BYTE_ORDER) || !defined(BIG_ENDIAN)
-# error "Cannot determine byte order"
-#endif
-
 #if HAVE_DIRENT_H
 # include <dirent.h>
 # define NAMLEN(dirent) strlen((dirent)->d_name)
 #else
 # define dirent direct
 # define NAMLEN(dirent) (dirent)->d_namlen
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: collectdmon.1
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: collectdmon.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: collectdmon.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-nagios.1	2008-03-29 18:12:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-nagios.1	2008-02-20 03:37:02.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.3.2" "collectd"
+.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.3.0" "collectd"
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd-nagios \fB\-s\fR \fIsocket\fR \fB\-n\fR \fIvalue_spec\fR \fB\-H\fR \fIhostname\fR \fI[options]\fR
 .SH "DESCRIPTION"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-perl.5	2008-04-22 23:57:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-perl.5	2008-02-20 03:37:03.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2008-04-22" "4.2.6.18.ga67c726" "collectd"
+.TH COLLECTD-PERL 5 "2008-02-18" "4.3.0" "collectd"
 .SH "NAME"
 collectd\-perl \- Documentation of collectd's \f(CW\*(C`perl plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  LoadPlugin perl
@@ -148,15 +148,12 @@
 .IX Header "DESCRIPTION"
 The \f(CW\*(C`perl plugin\*(C'\fR embeds a Perl-interpreter into collectd and provides an
 interface to collectd's plugin system. This makes it possible to write plugins
 for collectd in Perl. This is a lot more efficient than executing a
 Perl-script every time you want to read a value with the \f(CW\*(C`exec plugin\*(C'\fR (see
 \&\fIcollectd\-exec\fR\|(5)) and provides a lot more functionality, too.
-.PP
-Please note that this is still considered to be experimental and subject to
-change between minor releases.
 .SH "CONFIGURATION"
 .IX Header "CONFIGURATION"
 .IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
 .IX Item "LoadPlugin Plugin"
 Loads the Perl plugin \fIPlugin\fR. This does basically the same as \fBuse\fR would
 do in a Perl program. As a side effect, the first occurrence of this option
@@ -172,12 +169,16 @@
 tracing module installed as Devel::\fIPackage\fR. A comma-separated list of
 options may be specified after the \*(L"=\*(R" character. Please note that you may not
 leave out the \fIPackage\fR option even if you specify \fB""\fR. This is the same as
 using the \fB\-d:Package\fR command line option.
 .Sp
 See perldebug for detailed documentation about debugging Perl.
+.Sp
+This option does not prevent collectd from daemonizing, so you should start
+collectd with the \fB\-f\fR command line option. Else you will not be able to use
+the command line driven interface of the debugger.
 .IP "\fBIncludeDir\fR \fIDir\fR" 4
 .IX Item "IncludeDir Dir"
 Adds \fIDir\fR to the \fB@INC\fR array. This is the same as using the \fB\-IDir\fR
 command line option or \fBuse lib Dir\fR in the source code. Please note that it
 only has effect on plugins loaded after this option.
 .SH "WRITING YOUR OWN PLUGINS"
@@ -208,17 +209,29 @@
 This type of function is used to write the dispatched values. It is called
 once for each call to \fBplugin_dispatch_values\fR.
 .IP "log functions" 4
 .IX Item "log functions"
 This type of function is used to pass messages of plugins or the daemon itself
 to the user.
+.IP "notification function" 4
+.IX Item "notification function"
+This type of function is used to act upon notifications. In general, a
+notification is a status message that may be associated with a data instance.
+Usually, a notification is generated by the daemon if a configured threshold
+has been exceeded (see the section \*(L"\s-1THRESHOLD\s0 \s-1CONFIGURATION\s0\*(R" in
+\&\fIcollectd.conf\fR\|(5) for more details), but any plugin may dispatch
+notifications as well.
 .IP "shutdown functions" 4
 .IX Item "shutdown functions"
 This type of function is called once before the daemon shuts down. It should
 be used to clean up the plugin (e.g. close sockets, ...).
 .PP
+Any function (except log functions) may set the \fB$@\fR variable to describe
+errors in more detail. The message will be passed on to the user using
+collectd's logging mechanism.
+.PP
 See the documentation of the \fBplugin_register\fR method in the section
 \&\*(L"\s-1METHODS\s0\*(R" below for the number and types of arguments passed to each
 \&\fBcallback function\fR. This section also explains how to register \fBcallback
 functions\fR with collectd.
 .PP
 To enable a plugin, copy it to a place where Perl can find it (i.\ e. a
@@ -235,13 +248,13 @@
 name, type, min\- and max-value and the data-set wraps them up into one
 structure. The general layout looks like this:
 .Sp
 .Vb 6
 \&  [{
 \&    name => \(aqdata_source_name\(aq,
-\&    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE
+\&    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE,
 \&    min  => value || undef,
 \&    max  => value || undef
 \&  }, ...]
 .Ve
 .IP "Value-List" 4
 .IX Item "Value-List"
@@ -252,18 +265,35 @@
 layout looks like this:
 .Sp
 .Vb 8
 \&  {
 \&    values => [123, 0.5],
 \&    time   => time (),
-\&    host   => \(aqlocalhost\(aq,
+\&    host   => $hostname_g,
 \&    plugin => \(aqmyplugin\(aq,
 \&    plugin_instance => \(aq\(aq,
 \&    type_instance   => \(aq\(aq
 \&  }
 .Ve
+.IP "Notification" 4
+.IX Item "Notification"
+A notification is one structure defining the severity, time and message of the
+status message as well as an identification of a data instance:
+.Sp
+.Vb 10
+\&  {
+\&    severity => NOTIF_FAILURE || NOTIF_WARNING || NOTIF_OKAY,
+\&    time     => time (),
+\&    message  => \(aqstatus message\(aq,
+\&    host     => $hostname_g,
+\&    plugin   => \(aqmyplugin\(aq,
+\&    type     => \(aqmytype\(aq,
+\&    plugin_instance => \(aq\(aq,
+\&    type_instance   => \(aq\(aq
+\&  }
+.Ve
 .SH "METHODS"
 .IX Header "METHODS"
 The following functions provide the C\-interface to Perl\-modules. They are
 exported by the \*(L":plugin\*(R" export tag (see the section \*(L"\s-1EXPORTS\s0\*(R" below).
 .IP "\fBplugin_register\fR (\fItype\fR, \fIname\fR, \fIdata\fR)" 4
 .IX Item "plugin_register (type, name, data)"
@@ -277,12 +307,14 @@
 .IP "\s-1TYPE_READ\s0" 4
 .IX Item "TYPE_READ"
 .IP "\s-1TYPE_WRITE\s0" 4
 .IX Item "TYPE_WRITE"
 .IP "\s-1TYPE_LOG\s0" 4
 .IX Item "TYPE_LOG"
+.IP "\s-1TYPE_NOTIF\s0" 4
+.IX Item "TYPE_NOTIF"
 .IP "\s-1TYPE_SHUTDOWN\s0" 4
 .IX Item "TYPE_SHUTDOWN"
 .IP "\s-1TYPE_DATASET\s0" 4
 .IX Item "TYPE_DATASET"
 .RE
 .RS 4
@@ -290,22 +322,29 @@
 .Sp
 \&\fIname\fR is the name of the callback-function or the type of the data\-set,
 depending on the value of \fItype\fR. (Please note that the type of the data-set
 is the value passed as \fIname\fR here and has nothing to do with the \fItype\fR
 argument which simply tells \fBplugin_register\fR what is being registered.)
 .Sp
-The last argument, \fIdata\fR, is either a function\- or an array\-reference. If
-\&\fItype\fR is \fB\s-1TYPE_DATASET\s0\fR, then the \fIdata\fR argument must be an
+The last argument, \fIdata\fR, is either a function name or an array\-reference.
+If \fItype\fR is \fB\s-1TYPE_DATASET\s0\fR, then the \fIdata\fR argument must be an
 array-reference which points to an array of hashes. Each hash describes one
-data\-source. For the exact layout see \fBData-Set\fR above. Please note that
+data\-set. For the exact layout see \fBData-Set\fR above. Please note that
 there is a large number of predefined data-sets available in the \fBtypes.db\fR
-file which are automatically registered with collectd.
+file which are automatically registered with collectd \- see \fItypes.db\fR\|(5) for
+a description of the format of this file.
 .Sp
 If the \fItype\fR argument is any of the other types (\fB\s-1TYPE_INIT\s0\fR, \fB\s-1TYPE_READ\s0\fR,
-\&...) then \fIdata\fR is expected to be a function reference. These functions are
-called in the various stages of the daemon and are passed the following
+\&...) then \fIdata\fR is expected to be a function name. If the name is not
+prefixed with the plugin's package name collectd will add it automatically.
+The interface slightly differs from the C interface (which expects a function
+pointer instead) because Perl does not support to share references to
+subroutines between threads.
+.Sp
+These functions are called in the various stages of the daemon (see the
+section \*(L"\s-1WRITING\s0 \s-1YOUR\s0 \s-1OWN\s0 \s-1PLUGINS\s0\*(R" above) and are passed the following
 arguments:
 .IP "\s-1TYPE_INIT\s0" 4
 .IX Item "TYPE_INIT"
 .PD 0
 .IP "\s-1TYPE_READ\s0" 4
 .IX Item "TYPE_READ"
@@ -321,12 +360,16 @@
 .IX Item "TYPE_LOG"
 The arguments are \fIlog-level\fR and \fImessage\fR. The log level is small for
 important messages and high for less important messages. The least important
 level is \fB\s-1LOG_DEBUG\s0\fR, the most important level is \fB\s-1LOG_ERR\s0\fR. In between there
 are (from least to most important): \fB\s-1LOG_INFO\s0\fR, \fB\s-1LOG_NOTICE\s0\fR, and
 \&\fB\s-1LOG_WARNING\s0\fR. \fImessage\fR is simply a string \fBwithout\fR a newline at the end.
+.IP "\s-1TYPE_NOTIF\s0" 4
+.IX Item "TYPE_NOTIF"
+The only argument passed is \fInotification\fR. See above for the layout of this
+data type.
 .RE
 .RS 4
 .RE
 .IP "\fBplugin_unregister\fR (\fItype\fR, \fIplugin\fR)" 4
 .IX Item "plugin_unregister (type, plugin)"
 Removes a callback or data-set from collectd's internal list of
@@ -334,20 +377,37 @@
 .IP "\fBplugin_dispatch_values\fR (\fItype\fR, \fIvalue-list\fR)" 4
 .IX Item "plugin_dispatch_values (type, value-list)"
 Submits a \fIvalue-list\fR of type \fItype\fR to the daemon. If the data-set \fItype\fR
 is found (and the number of values matches the number of data\-sources) then the
 type, data-set and value-list is passed to all write-callbacks that are
 registered with the daemon.
+.IP "\fBplugin_dispatch_notification\fR (\fInotification\fR)" 4
+.IX Item "plugin_dispatch_notification (notification)"
+Submits a \fInotification\fR to the daemon which will then pass it to all
+notification-callbacks that are registered.
 .IP "\fBplugin_log\fR (\fIlog-level\fR, \fImessage\fR)" 4
 .IX Item "plugin_log (log-level, message)"
 Submits a \fImessage\fR of level \fIlog-level\fR to collectd's logging mechanism.
 The message is passed to all log-callbacks that are registered with collectd.
 .IP "\fB\s-1ERROR\s0\fR, \fB\s-1WARNING\s0\fR, \fB\s-1NOTICE\s0\fR, \fB\s-1INFO\s0\fR, \fB\s-1DEBUG\s0\fR (\fImessage\fR)" 4
 .IX Item "ERROR, WARNING, NOTICE, INFO, DEBUG (message)"
 Wrappers around \fBplugin_log\fR, using \fB\s-1LOG_ERR\s0\fR, \fB\s-1LOG_WARNING\s0\fR,
 \&\fB\s-1LOG_NOTICE\s0\fR, \fB\s-1LOG_INFO\s0\fR and \fB\s-1LOG_DEBUG\s0\fR respectively as \fIlog-level\fR.
+.SH "GLOBAL VARIABLES"
+.IX Header "GLOBAL VARIABLES"
+.IP "\fB$hostname_g\fR" 4
+.IX Item "$hostname_g"
+As the name suggests this variable keeps the hostname of the system collectd
+is running on. The value might be influenced by the \fBHostname\fR or
+\&\fBFQDNLookup\fR configuration options (see \fIcollectd.conf\fR\|(5) for details).
+.IP "\fB$interval_g\fR" 4
+.IX Item "$interval_g"
+This variable keeps the interval in seconds in which the read functions are
+queried (see the \fBInterval\fR configuration option).
+.PP
+Any changes to these variables will be globally visible in collectd.
 .SH "EXPORTS"
 .IX Header "EXPORTS"
 By default no symbols are exported. However, the following export tags are
 available (\fB:all\fR will export all of them):
 .IP "\fB:plugin\fR" 4
 .IX Item ":plugin"
@@ -356,12 +416,14 @@
 .IP "\fBplugin_register\fR ()" 4
 .IX Item "plugin_register ()"
 .IP "\fBplugin_unregister\fR ()" 4
 .IX Item "plugin_unregister ()"
 .IP "\fBplugin_dispatch_values\fR ()" 4
 .IX Item "plugin_dispatch_values ()"
+.IP "\fBplugin_dispatch_notification\fR ()" 4
+.IX Item "plugin_dispatch_notification ()"
 .IP "\fBplugin_log\fR ()" 4
 .IX Item "plugin_log ()"
 .RE
 .RS 4
 .RE
 .IP "\fB:types\fR" 4
@@ -413,12 +475,34 @@
 .IX Item "LOG_INFO"
 .IP "\fB\s-1LOG_DEBUG\s0\fR" 4
 .IX Item "LOG_DEBUG"
 .RE
 .RS 4
 .RE
+.IP "\fB:notif\fR" 4
+.IX Item ":notif"
+.RS 4
+.IP "\fB\s-1NOTIF_FAILURE\s0\fR" 4
+.IX Item "NOTIF_FAILURE"
+.IP "\fB\s-1NOTIF_WARNING\s0\fR" 4
+.IX Item "NOTIF_WARNING"
+.IP "\fB\s-1NOTIF_OKAY\s0\fR" 4
+.IX Item "NOTIF_OKAY"
+.RE
+.RS 4
+.RE
+.IP "\fB:globals\fR" 4
+.IX Item ":globals"
+.RS 4
+.IP "\fB$hostname_g\fR" 4
+.IX Item "$hostname_g"
+.IP "\fB$interval_g\fR" 4
+.IX Item "$interval_g"
+.RE
+.RS 4
+.RE
 .PD
 .SH "EXAMPLES"
 .IX Header "EXAMPLES"
 Any Perl plugin will start similar to:
 .PP
 .Vb 1
@@ -459,30 +543,61 @@
 \&  }
 .Ve
 .PP
 To register those functions with collectd:
 .PP
 .Vb 2
-\&  plugin_register (TYPE_READ, "foobar", \e&foobar_read);
-\&  plugin_register (TYPE_WRITE, "foobar", \e&foobar_write);
+\&  plugin_register (TYPE_READ, "foobar", "foobar_read");
+\&  plugin_register (TYPE_WRITE, "foobar", "foobar_write");
 .Ve
 .PP
 See the section \*(L"\s-1DATA\s0 \s-1TYPES\s0\*(R" above for a complete documentation of the data
 types used by the read and write functions.
-.SH "BUGS"
-.IX Header "BUGS"
-This plugin does not yet work correctly if collectd uses multiple threads.
-Perl does not allow multiple threads to access a single interpreter at the
-same time. As a temporary workaround you should use a single read thread only
-(see collectd's \fBReadThread\fR configuration option).
+.SH "NOTES"
+.IX Header "NOTES"
+.IP "\(bu" 4
+Please feel free to send in new plugins to collectd's mailinglist at
+<collectd\ at\ verplant.org> for review and, possibly,
+inclusion in the main distribution. In the latter case, we will take care of
+keeping the plugin up to date and adapting it to new versions of collectd.
+.Sp
+Before submitting your plugin, please take a look at
+<http://collectd.org/dev\-info.shtml>.
+.SH "CAVEATS"
+.IX Header "CAVEATS"
+.IP "\(bu" 4
+collectd is heavily multi\-threaded. Each collectd thread accessing the perl
+plugin will be mapped to a Perl interpreter thread (see \fIthreads\fR\|(3perl)).
+Any such thread will be created and destroyed transparently and on\-the\-fly.
+.Sp
+Hence, any plugin has to be thread-safe if it provides several entry points
+from collectd (i.\ e. if it registers more than one callback or if a
+registered callback may be called more than once in parallel). Please note
+that no data is shared between threads by default. You have to use the
+\&\fBthreads::shared\fR module to do so.
+.IP "\(bu" 4
+Each function name registered with collectd has to be available before the
+first thread has been created (i.\ e. basically at compile time). This
+basically means that hacks (yes, I really consider this to be a hack) like
+\&\f(CW\*(C`*foo = \e&bar; plugin_register (TYPE_READ, "plugin", "foo");\*(C'\fR most likely
+will not work. This is due to the fact that the symbol table is not shared
+across different threads.
+.IP "\(bu" 4
+Each plugin is usually only loaded once and kept in memory for performance
+reasons. Therefore, \s-1END\s0 blocks are only executed once when collectd shuts
+down. You should not rely on \s-1END\s0 blocks anyway \- use \fBshutdown functions\fR
+instead.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-exec\fR\|(5),
+\&\fItypes.db\fR\|(5),
 \&\fIperl\fR\|(1),
+\&\fIthreads\fR\|(3perl),
+\&\fIthreads::shared\fR\|(3perl),
 \&\fIperldebug\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 The \f(CW\*(C`perl plugin\*(C'\fR has been written by Sebastian Harl
 <sh\ at\ tokkee.org>.
 .PP
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-perl.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-perl.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-perl.pod	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-perl.pod	2008-02-19 03:57:18.000000000 +0800
@@ -18,15 +18,12 @@
 The C<perl plugin> embeds a Perl-interpreter into collectd and provides an
 interface to collectd's plugin system. This makes it possible to write plugins
 for collectd in Perl. This is a lot more efficient than executing a
 Perl-script every time you want to read a value with the C<exec plugin> (see
 L<collectd-exec(5)>) and provides a lot more functionality, too.
 
-Please note that this is still considered to be experimental and subject to
-change between minor releases.
-
 =head1 CONFIGURATION
 
 =over 4
 
 =item B<LoadPlugin> I<Plugin>
 
@@ -47,12 +44,16 @@
 options may be specified after the "=" character. Please note that you may not
 leave out the I<Package> option even if you specify B<"">. This is the same as
 using the B<-d:Package> command line option.
 
 See L<perldebug> for detailed documentation about debugging Perl.
 
+This option does not prevent collectd from daemonizing, so you should start
+collectd with the B<-f> command line option. Else you will not be able to use
+the command line driven interface of the debugger.
+
 =item B<IncludeDir> I<Dir>
 
 Adds I<Dir> to the B<@INC> array. This is the same as using the B<-IDir>
 command line option or B<use lib Dir> in the source code. Please note that it
 only has effect on plugins loaded after this option.
 
@@ -93,19 +94,32 @@
 
 =item log functions
 
 This type of function is used to pass messages of plugins or the daemon itself
 to the user.
 
+=item notification function
+
+This type of function is used to act upon notifications. In general, a
+notification is a status message that may be associated with a data instance.
+Usually, a notification is generated by the daemon if a configured threshold
+has been exceeded (see the section "THRESHOLD CONFIGURATION" in
+L<collectd.conf(5)> for more details), but any plugin may dispatch
+notifications as well.
+
 =item shutdown functions
 
 This type of function is called once before the daemon shuts down. It should
 be used to clean up the plugin (e.g. close sockets, ...).
 
 =back
 
+Any function (except log functions) may set the B<$@> variable to describe
+errors in more detail. The message will be passed on to the user using
+collectd's logging mechanism.
+
 See the documentation of the B<plugin_register> method in the section
 "METHODS" below for the number and types of arguments passed to each
 B<callback function>. This section also explains how to register B<callback
 functions> with collectd.
 
 To enable a plugin, copy it to a place where Perl can find it (i.E<nbsp>e. a
@@ -125,13 +139,13 @@
 A data-set is a list of one or more data-sources. Each data-source defines a
 name, type, min- and max-value and the data-set wraps them up into one
 structure. The general layout looks like this:
 
   [{
     name => 'data_source_name',
-    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE
+    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE,
     min  => value || undef,
     max  => value || undef
   }, ...]
 
 =item Value-List
 
@@ -141,18 +155,34 @@
 included in the value-list but is passed as an extra argument, the general
 layout looks like this:
 
   {
     values => [123, 0.5],
     time   => time (),
-    host   => 'localhost',
+    host   => $hostname_g,
     plugin => 'myplugin',
     plugin_instance => '',
     type_instance   => ''
   }
 
+=item Notification
+
+A notification is one structure defining the severity, time and message of the
+status message as well as an identification of a data instance:
+
+  {
+    severity => NOTIF_FAILURE || NOTIF_WARNING || NOTIF_OKAY,
+    time     => time (),
+    message  => 'status message',
+    host     => $hostname_g,
+    plugin   => 'myplugin',
+    type     => 'mytype',
+    plugin_instance => '',
+    type_instance   => ''
+  }
+
 =back
 
 =head1 METHODS
 
 The following functions provide the C-interface to Perl-modules. They are
 exported by the ":plugin" export tag (see the section "EXPORTS" below).
@@ -172,33 +202,42 @@
 =item TYPE_READ
 
 =item TYPE_WRITE
 
 =item TYPE_LOG
 
+=item TYPE_NOTIF
+
 =item TYPE_SHUTDOWN
 
 =item TYPE_DATASET
 
 =back
 
 I<name> is the name of the callback-function or the type of the data-set,
 depending on the value of I<type>. (Please note that the type of the data-set
 is the value passed as I<name> here and has nothing to do with the I<type>
 argument which simply tells B<plugin_register> what is being registered.)
 
-The last argument, I<data>, is either a function- or an array-reference. If
-I<type> is B<TYPE_DATASET>, then the I<data> argument must be an
+The last argument, I<data>, is either a function name or an array-reference.
+If I<type> is B<TYPE_DATASET>, then the I<data> argument must be an
 array-reference which points to an array of hashes. Each hash describes one
-data-source. For the exact layout see B<Data-Set> above. Please note that
+data-set. For the exact layout see B<Data-Set> above. Please note that
 there is a large number of predefined data-sets available in the B<types.db>
-file which are automatically registered with collectd.
+file which are automatically registered with collectd - see L<types.db(5)> for
+a description of the format of this file.
 
 If the I<type> argument is any of the other types (B<TYPE_INIT>, B<TYPE_READ>,
-...) then I<data> is expected to be a function reference. These functions are
-called in the various stages of the daemon and are passed the following
+...) then I<data> is expected to be a function name. If the name is not
+prefixed with the plugin's package name collectd will add it automatically.
+The interface slightly differs from the C interface (which expects a function
+pointer instead) because Perl does not support to share references to
+subroutines between threads.
+
+These functions are called in the various stages of the daemon (see the
+section "WRITING YOUR OWN PLUGINS" above) and are passed the following
 arguments:
 
 =over 4
 
 =item TYPE_INIT
 
@@ -218,12 +257,17 @@
 The arguments are I<log-level> and I<message>. The log level is small for
 important messages and high for less important messages. The least important
 level is B<LOG_DEBUG>, the most important level is B<LOG_ERR>. In between there
 are (from least to most important): B<LOG_INFO>, B<LOG_NOTICE>, and
 B<LOG_WARNING>. I<message> is simply a string B<without> a newline at the end.
 
+=item TYPE_NOTIF
+
+The only argument passed is I<notification>. See above for the layout of this
+data type.
+
 =back
 
 =item B<plugin_unregister> (I<type>, I<plugin>)
 
 Removes a callback or data-set from collectd's internal list of
 functionsE<nbsp>/ datasets.
@@ -232,24 +276,48 @@
 
 Submits a I<value-list> of type I<type> to the daemon. If the data-set I<type>
 is found (and the number of values matches the number of data-sources) then the
 type, data-set and value-list is passed to all write-callbacks that are
 registered with the daemon.
 
+=item B<plugin_dispatch_notification> (I<notification>)
+
+Submits a I<notification> to the daemon which will then pass it to all
+notification-callbacks that are registered.
+
 =item B<plugin_log> (I<log-level>, I<message>)
 
 Submits a I<message> of level I<log-level> to collectd's logging mechanism.
 The message is passed to all log-callbacks that are registered with collectd.
 
 =item B<ERROR>, B<WARNING>, B<NOTICE>, B<INFO>, B<DEBUG> (I<message>)
 
 Wrappers around B<plugin_log>, using B<LOG_ERR>, B<LOG_WARNING>,
 B<LOG_NOTICE>, B<LOG_INFO> and B<LOG_DEBUG> respectively as I<log-level>.
 
 =back
 
+=head1 GLOBAL VARIABLES
+
+=over 4
+
+=item B<$hostname_g>
+
+As the name suggests this variable keeps the hostname of the system collectd
+is running on. The value might be influenced by the B<Hostname> or
+B<FQDNLookup> configuration options (see L<collectd.conf(5)> for details).
+
+=item B<$interval_g>
+
+This variable keeps the interval in seconds in which the read functions are
+queried (see the B<Interval> configuration option).
+
+=back
+
+Any changes to these variables will be globally visible in collectd.
+
 =head1 EXPORTS
 
 By default no symbols are exported. However, the following export tags are
 available (B<:all> will export all of them):
 
 =over 4
@@ -261,12 +329,14 @@
 =item B<plugin_register> ()
 
 =item B<plugin_unregister> ()
 
 =item B<plugin_dispatch_values> ()
 
+=item B<plugin_dispatch_notification> ()
+
 =item B<plugin_log> ()
 
 =back
 
 =item B<:types>
 
@@ -317,12 +387,34 @@
 =item B<LOG_INFO>
 
 =item B<LOG_DEBUG>
 
 =back
 
+=item B<:notif>
+
+=over 4
+
+=item B<NOTIF_FAILURE>
+
+=item B<NOTIF_WARNING>
+
+=item B<NOTIF_OKAY>
+
+=back
+
+=item B<:globals>
+
+=over 4
+
+=item B<$hostname_g>
+
+=item B<$interval_g>
+
+=back
+
 =back
 
 =head1 EXAMPLES
 
 Any Perl plugin will start similar to:
 
@@ -353,31 +445,77 @@
     }
     return 1;
   }
 
 To register those functions with collectd:
 
-  plugin_register (TYPE_READ, "foobar", \&foobar_read);
-  plugin_register (TYPE_WRITE, "foobar", \&foobar_write);
+  plugin_register (TYPE_READ, "foobar", "foobar_read");
+  plugin_register (TYPE_WRITE, "foobar", "foobar_write");
 
 See the section "DATA TYPES" above for a complete documentation of the data
 types used by the read and write functions.
 
-=head1 BUGS
+=head1 NOTES
+
+=over 4
+
+=item
 
-This plugin does not yet work correctly if collectd uses multiple threads.
-Perl does not allow multiple threads to access a single interpreter at the
-same time. As a temporary workaround you should use a single read thread only
-(see collectd's B<ReadThread> configuration option).
+Please feel free to send in new plugins to collectd's mailinglist at
+E<lt>collectdE<nbsp>atE<nbsp>verplant.orgE<gt> for review and, possibly,
+inclusion in the main distribution. In the latter case, we will take care of
+keeping the plugin up to date and adapting it to new versions of collectd.
+
+Before submitting your plugin, please take a look at
+L<http://collectd.org/dev-info.shtml>.
+
+=back
+
+=head1 CAVEATS
+
+=over 4
+
+=item
+
+collectd is heavily multi-threaded. Each collectd thread accessing the perl
+plugin will be mapped to a Perl interpreter thread (see L<threads(3perl)>).
+Any such thread will be created and destroyed transparently and on-the-fly.
+
+Hence, any plugin has to be thread-safe if it provides several entry points
+from collectd (i.E<nbsp>e. if it registers more than one callback or if a
+registered callback may be called more than once in parallel). Please note
+that no data is shared between threads by default. You have to use the
+B<threads::shared> module to do so.
+
+=item
+
+Each function name registered with collectd has to be available before the
+first thread has been created (i.E<nbsp>e. basically at compile time). This
+basically means that hacks (yes, I really consider this to be a hack) like
+C<*foo = \&bar; plugin_register (TYPE_READ, "plugin", "foo");> most likely
+will not work. This is due to the fact that the symbol table is not shared
+across different threads.
+
+=item
+
+Each plugin is usually only loaded once and kept in memory for performance
+reasons. Therefore, END blocks are only executed once when collectd shuts
+down. You should not rely on END blocks anyway - use B<shutdown functions>
+instead.
+
+=back
 
 =head1 SEE ALSO
 
 L<collectd(1)>,
 L<collectd.conf(5)>,
 L<collectd-exec(5)>,
+L<types.db(5)>,
 L<perl(1)>,
+L<threads(3perl)>,
+L<threads::shared(3perl)>,
 L<perldebug(1)>
 
 =head1 AUTHOR
 
 The C<perl plugin> has been written by Sebastian Harl
 E<lt>shE<nbsp>atE<nbsp>tokkee.orgE<gt>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd.pod	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd.pod	2008-02-19 03:57:18.000000000 +0800
@@ -86,12 +86,17 @@
 
 In addition to the above, there are "logging plugins". Right now those are the
 C<logfile plugin> and the C<syslog plugin>. With these plugins collectd can
 provide information about issues and significant situations to the user.
 Several loglevels let you suppress uninteresting messages.
 
+Starting with version C<4.3.0> collectd has support for B<monitoring>. This is
+done by checking thresholds defined by the user. If a value is out of range, a
+notification will be dispatched to "notification plugins". See
+L<collectd.conf(5)> for more detailed information about threshold checking.
+
 Please note that some plugins, that provide other means of communicating with
 the daemon, have manpages of their own to describe their functionality in more
 detail. In particular those are L<collectd-email(5)>, L<collectd-exec(5)>,
 L<collectd-perl(5)>, L<collectd-snmp(5)>, and L<collectd-unixsock(5)>
 
 =head1 SEE ALSO
@@ -99,12 +104,13 @@
 L<collectd.conf(5)>,
 L<collectd-email(5)>,
 L<collectd-exec(5)>,
 L<collectd-perl(5)>,
 L<collectd-snmp(5)>,
 L<collectd-unixsock(5)>,
+L<types.db(5)>,
 L<http://collectd.org/>
 
 =head1 AUTHOR
 
 Florian Forster E<lt>octo@verplant.orgE<gt>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-snmp.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-snmp.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-snmp.5	2008-04-22 23:57:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-snmp.5	2008-02-20 03:37:03.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-SNMP 5"
-.TH COLLECTD-SNMP 5 "2008-04-22" "4.2.6.18.ga67c726" "collectd"
+.TH COLLECTD-SNMP 5 "2008-02-18" "4.3.0" "collectd"
 .SH "NAME"
 collectd\-snmp \- Documentation of collectd's \f(CW\*(C`snmp plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 23
 \&  LoadPlugin snmp
@@ -210,13 +210,13 @@
 queried. The following options can be set:
 .IP "\fBType\fR \fItype\fR" 4
 .IX Item "Type type"
 collectd's type that is to be used, e.\ g. \*(L"if_octets\*(R" for interface
 traffic or \*(L"users\*(R" for a user count. The types are read from the \fBTypesDB\fR
 (see \fIcollectd.conf\fR\|(5)), so you may want to check for which types are
-defined.
+defined. See \fItypes.db\fR\|(5) for a description of the format of this file.
 .IP "\fBTable\fR \fItrue|false\fR" 4
 .IX Item "Table true|false"
 Define if this is a single list of values or a table of values. The difference
 is the following:
 .Sp
 When \fBTable\fR is set to \fBfalse\fR, the OIDs given to \fBValues\fR (see below) are
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-snmp.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-snmp.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-snmp.pod	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-snmp.pod	2008-02-19 03:57:18.000000000 +0800
@@ -82,13 +82,13 @@
 
 =item B<Type> I<type>
 
 collectd's type that is to be used, e.E<nbsp>g. "if_octets" for interface
 traffic or "users" for a user count. The types are read from the B<TypesDB>
 (see L<collectd.conf(5)>), so you may want to check for which types are
-defined.
+defined. See L<types.db(5)> for a description of the format of this file.
 
 =item B<Table> I<true|false>
 
 Define if this is a single list of values or a table of values. The difference
 is the following:
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-unixsock.5	2008-04-22 23:57:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-unixsock.5	2008-02-20 03:37:03.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2008-04-22" "4.2.6.18.ga67c726" "collectd"
+.TH COLLECTD-UNIXSOCK 5 "2008-02-18" "4.3.0" "collectd"
 .SH "NAME"
 collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -205,18 +205,18 @@
 omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
 as the tuple (plugin, plugin instance, type instance) uniquely identifies the
 plugin within collectd. \fItype\fR identifies the type and number of values
 (i.\ e. data\-set) passed to collectd. A large list of predefined
 data-sets is available in the \fBtypes.db\fR file.
 .Sp
-The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option is a
+The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
 key\-value\-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 .Sp
 \&\fIValuelist\fR is a colon-separated list of the time and the values, each either
-an integer if the data-source is a counter, or a double if the data-source is
+an integer if the data-source is a counter, of a double if the data-source if
 of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
 submitting \fBU\fR to a counter the behavior is undefined. The time is given as
 epoch (i.\ e. standard \s-1UNIX\s0 time).
 .Sp
 You can mix options and values, but the order is important: Options only
 effect following values, so specifying an option as last field is allowed, but
@@ -236,12 +236,67 @@
 \&\fIcollectd\-exec\fR\|(5).
 .Sp
 Example:
   \-> | \s-1PUTVAL\s0 testhost/interface/if_octets\-test0 interval=10 1179574444:123:456
   <\- | 0 Success
 .RE
+.IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
+.IX Item "PUTNOTIF [OptionList] message=Message"
+Submits a notification to the daemon which will then dispatch it to all plugins
+which have registered for receiving notifications. 
+.Sp
+The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
+notification. The \fBmessage\fR option is special in that it will consume the rest
+of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
+mandatory.
+.Sp
+Valid options are:
+.RS 4
+.IP "\fBmessage=\fR\fIMessage\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "message=Message (REQUIRED)"
+Sets the message of the notification. This is the message that will be made
+accessible to the user, so it should contain some useful information. This
+option must be the last option because the rest of the line will be its value,
+even if there are spaces and equal-signs following it! This option is
+mandatory.
+.IP "\fBseverity=failure\fR|\fBwarning\fR|\fBokay\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "severity=failure|warning|okay (REQUIRED)"
+Sets the severity of the notification. This option is mandatory.
+.IP "\fBtime=\fR\fITime\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "time=Time (REQUIRED)"
+Sets the time of the notification. The time is given as \*(L"epoch\*(R", i.\ e. as
+seconds since January 1st, 1970, 00:00:00. This option is mandatory.
+.IP "\fBhost=\fR\fIHostname\fR" 4
+.IX Item "host=Hostname"
+.PD 0
+.IP "\fBplugin=\fR\fIPlugin\fR" 4
+.IX Item "plugin=Plugin"
+.IP "\fBplugin_instance=\fR\fIPlugin-Instance\fR" 4
+.IX Item "plugin_instance=Plugin-Instance"
+.IP "\fBtype=\fR\fIType\fR" 4
+.IX Item "type=Type"
+.IP "\fBtype_instance=\fR\fIType-Instance\fR" 4
+.IX Item "type_instance=Type-Instance"
+.PD
+These \*(L"associative\*(R" options establish a relation between this notification and
+collected performance data. This connection is purely informal, i.\ e. the
+daemon itself doesn't do anything with this information. However, websites or
+GUIs may use this information to place notifications near the affected graph or
+table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
+or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
+avoided.
+.Sp
+Please note that this is the same format as used in the \fBexec plugin\fR, see
+\&\fIcollectd\-exec\fR\|(5).
+.RE
+.RS 4
+.Sp
+Example:
+  \-> | \s-1PUTNOTIF\s0 type=temperature severity=warning time=1201094702 message=The roof is on fire!
+  <\- | 0 Success
+.RE
 .Sh "Identifiers"
 .IX Subsection "Identifiers"
 Value or value-lists are identified in a uniform fashion:
 .PP
 \&\fIHostname\fR/\fIPlugin\fR/\fIType\fR
 .PP
@@ -267,18 +322,16 @@
 .PP
 Commands that return values may use \fINum\fR to return the number of values that
 follow, such as the \fB\s-1GETVAL\s0\fR command. These commands usually return a negative
 value on failure and never return zero.
 .SH "ABSTRACTION LAYER"
 .IX Header "ABSTRACTION LAYER"
-\&\fBcollectd\fR ships the Perl-Module Collectd::Unixsock which
+Shipped with the sourcecode comes the Perl-Module Collectd::Unixsock which
 provides an abstraction layer over the actual socket connection. It can be
-found in the directory \fIbindings/perl/\fR in the source distribution or
-(usually) somewhere near \fI/usr/share/perl5/\fR if you're using a package. If
-you want to use Perl to communicate with the daemon, you're encouraged to use
-and expand this module.
+found in the directory \fIcontrib/PerlLib\fR. If you want to use Perl to
+communicate with the daemon, you're encouraged to use and expand this module.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-nagios\fR\|(1),
 \&\fIunix\fR\|(7)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-unixsock.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-unixsock.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/collectd-unixsock.pod	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/collectd-unixsock.pod	2008-02-19 03:57:18.000000000 +0800
@@ -80,18 +80,18 @@
 omitted, too. I<plugin> and each I<instance>-part may be chosen freely as long
 as the tuple (plugin, plugin instance, type instance) uniquely identifies the
 plugin within collectd. I<type> identifies the type and number of values
 (i.E<nbsp>e. data-set) passed to collectd. A large list of predefined
 data-sets is available in the B<types.db> file.
 
-The I<OptionList> is an optional list of I<Options>, where each option is a
+The I<OptionList> is an optional list of I<Options>, where each option if a
 key-value-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 
 I<Valuelist> is a colon-separated list of the time and the values, each either
-an integer if the data-source is a counter, or a double if the data-source is
+an integer if the data-source is a counter, of a double if the data-source if
 of type "gauge". You can submit an undefined gauge-value by using B<U>. When
 submitting B<U> to a counter the behavior is undefined. The time is given as
 epoch (i.E<nbsp>e. standard UNIX time).
 
 You can mix options and values, but the order is important: Options only
 effect following values, so specifying an option as last field is allowed, but
@@ -113,12 +113,70 @@
 L<collectd-exec(5)>.
 
 Example:
   -> | PUTVAL testhost/interface/if_octets-test0 interval=10 1179574444:123:456
   <- | 0 Success
 
+=item B<PUTNOTIF> [I<OptionList>] B<message=>I<Message>
+
+Submits a notification to the daemon which will then dispatch it to all plugins
+which have registered for receiving notifications. 
+
+The B<PUTNOTIF> if followed by a list of options which further describe the
+notification. The B<message> option is special in that it will consume the rest
+of the line as its value. The B<message>, B<severity>, and B<time> options are
+mandatory.
+
+Valid options are:
+
+=over 4
+
+=item B<message=>I<Message> (B<REQUIRED>)
+
+Sets the message of the notification. This is the message that will be made
+accessible to the user, so it should contain some useful information. This
+option must be the last option because the rest of the line will be its value,
+even if there are spaces and equal-signs following it! This option is
+mandatory.
+
+=item B<severity=failure>|B<warning>|B<okay> (B<REQUIRED>)
+
+Sets the severity of the notification. This option is mandatory.
+
+=item B<time=>I<Time> (B<REQUIRED>)
+
+Sets the time of the notification. The time is given as "epoch", i.E<nbsp>e. as
+seconds since January 1st, 1970, 00:00:00. This option is mandatory.
+
+=item B<host=>I<Hostname>
+
+=item B<plugin=>I<Plugin>
+
+=item B<plugin_instance=>I<Plugin-Instance>
+
+=item B<type=>I<Type>
+
+=item B<type_instance=>I<Type-Instance>
+
+These "associative" options establish a relation between this notification and
+collected performance data. This connection is purely informal, i.E<nbsp>e. the
+daemon itself doesn't do anything with this information. However, websites or
+GUIs may use this information to place notifications near the affected graph or
+table. All the options are optional, but B<plugin_instance> without B<plugin>
+or B<type_instance> without B<type> doesn't make much sense and should be
+avoided.
+
+Please note that this is the same format as used in the B<exec plugin>, see
+L<collectd-exec(5)>.
+
+=back
+
+Example:
+  -> | PUTNOTIF type=temperature severity=warning time=1201094702 message=The roof is on fire!
+  <- | 0 Success
+
 =back
 
 =head2 Identifiers
 
 Value or value-lists are identified in a uniform fashion:
 
@@ -146,18 +204,16 @@
 Commands that return values may use I<Num> to return the number of values that
 follow, such as the B<GETVAL> command. These commands usually return a negative
 value on failure and never return zero.
 
 =head1 ABSTRACTION LAYER
 
-B<collectd> ships the Perl-Module L<Collectd::Unixsock> which
+Shipped with the sourcecode comes the Perl-Module L<Collectd::Unixsock> which
 provides an abstraction layer over the actual socket connection. It can be
-found in the directory F<bindings/perl/> in the source distribution or
-(usually) somewhere near F</usr/share/perl5/> if you're using a package. If
-you want to use Perl to communicate with the daemon, you're encouraged to use
-and expand this module.
+found in the directory F<contrib/PerlLib>. If you want to use Perl to
+communicate with the daemon, you're encouraged to use and expand this module.
 
 =head1 SEE ALSO
 
 L<collectd(1)>,
 L<collectd.conf(5)>,
 L<collectd-nagios(1)>,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/common.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/common.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/common.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/common.c	2008-02-19 03:57:18.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/common.c
- * Copyright (C) 2005-2007  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -21,13 +21,12 @@
 **/
 
 #if HAVE_CONFIG_H
 # include "config.h"
 #endif
 
-#include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #if HAVE_PTHREAD_H
 # include <pthread.h>
 #endif
@@ -174,13 +173,13 @@
 					"Closing fd and returning error.",
 					fd);
 			close (fd);
 			return (-1);
 		}
 
-		assert (nleft >= status);
+		assert ((0 > status) || (nleft >= (size_t)status));
 
 		nleft = nleft - status;
 		ptr   = ptr   + status;
 	}
 
 	return (0);
@@ -235,26 +234,26 @@
 }
 
 int strjoin (char *dst, size_t dst_len,
 		char **fields, size_t fields_num,
 		const char *sep)
 {
-	int field_len;
-	int sep_len;
+	size_t field_len;
+	size_t sep_len;
 	int i;
 
 	memset (dst, '\0', dst_len);
 
 	if (fields_num <= 0)
 		return (-1);
 
 	sep_len = 0;
 	if (sep != NULL)
 		sep_len = strlen (sep);
 
-	for (i = 0; i < fields_num; i++)
+	for (i = 0; i < (int)fields_num; i++)
 	{
 		if ((i > 0) && (sep_len > 0))
 		{
 			if (dst_len <= sep_len)
 				return (-1);
 
@@ -552,105 +551,28 @@
 	return (retval);
 }
 #endif /* HAVE_LIBKSTAT */
 
 unsigned long long ntohll (unsigned long long n)
 {
-#if BYTE_ORDER == BIG_ENDIAN
+#if __BYTE_ORDER == __BIG_ENDIAN
 	return (n);
 #else
 	return (((unsigned long long) ntohl (n)) << 32) + ntohl (n >> 32);
 #endif
 } /* unsigned long long ntohll */
 
 unsigned long long htonll (unsigned long long n)
 {
-#if BYTE_ORDER == BIG_ENDIAN
+#if __BYTE_ORDER == __BIG_ENDIAN
 	return (n);
 #else
 	return (((unsigned long long) htonl (n)) << 32) + htonl (n >> 32);
 #endif
 } /* unsigned long long htonll */
 
-#if FP_LAYOUT_NEED_NOTHING
-/* Well, we need nothing.. */
-/* #endif FP_LAYOUT_NEED_NOTHING */
-
-#elif FP_LAYOUT_NEED_ENDIANFLIP || FP_LAYOUT_NEED_INTSWAP
-# if FP_LAYOUT_NEED_ENDIANFLIP
-#  define FP_CONVERT(A) ((((uint64_t)(A) & 0xff00000000000000LL) >> 56) | \
-                         (((uint64_t)(A) & 0x00ff000000000000LL) >> 40) | \
-                         (((uint64_t)(A) & 0x0000ff0000000000LL) >> 24) | \
-                         (((uint64_t)(A) & 0x000000ff00000000LL) >> 8)  | \
-                         (((uint64_t)(A) & 0x00000000ff000000LL) << 8)  | \
-                         (((uint64_t)(A) & 0x0000000000ff0000LL) << 24) | \
-                         (((uint64_t)(A) & 0x000000000000ff00LL) << 40) | \
-                         (((uint64_t)(A) & 0x00000000000000ffLL) << 56))
-# else
-#  define FP_CONVERT(A) ((((uint64_t)(A) & 0xffffffff00000000LL) >> 32) | \
-                         (((uint64_t)(A) & 0x00000000ffffffffLL) << 32))
-# endif
-
-double ntohd (double d)
-{
-	union
-	{
-		uint8_t  byte[8];
-		uint64_t integer;
-		double   floating;
-	} ret;
-
-	ret.floating = d;
-
-	/* NAN in x86 byte order */
-	if ((ret.byte[0] == 0x00) && (ret.byte[1] == 0x00)
-			&& (ret.byte[2] == 0x00) && (ret.byte[3] == 0x00)
-			&& (ret.byte[4] == 0x00) && (ret.byte[5] == 0x00)
-			&& (ret.byte[6] == 0xf8) && (ret.byte[7] == 0x7f))
-	{
-		return (NAN);
-	}
-	else
-	{
-		uint64_t tmp;
-
-		tmp = ret.integer;
-		ret.integer = FP_CONVERT (tmp);
-		return (ret.floating);
-	}
-} /* double ntohd */
-
-double htond (double d)
-{
-	union
-	{
-		uint8_t  byte[8];
-		uint64_t integer;
-		double   floating;
-	} ret;
-
-	if (isnan (d))
-	{
-		ret.byte[0] = ret.byte[1] = ret.byte[2] = ret.byte[3] = 0x00;
-		ret.byte[4] = ret.byte[5] = 0x00;
-		ret.byte[6] = 0xf8;
-		ret.byte[7] = 0x7f;
-		return (ret.floating);
-	}
-	else
-	{
-		uint64_t tmp;
-
-		ret.floating = d;
-		tmp = FP_CONVERT (ret.integer);
-		ret.integer = tmp;
-		return (ret.floating);
-	}
-} /* double htond */
-#endif /* FP_LAYOUT_NEED_ENDIANFLIP || FP_LAYOUT_NEED_INTSWAP */
-
 int format_name (char *ret, int ret_len,
 		const char *hostname,
 		const char *plugin, const char *plugin_instance,
 		const char *type, const char *type_instance)
 {
 	int  status;
@@ -821,7 +743,41 @@
 	} while (0);
 
 	pthread_mutex_unlock (&getpwnam_r_lock);
 
 	return (status);
 } /* int getpwnam_r */
-#endif
+#endif /* !HAVE_GETPWNAM_R */
+
+int notification_init (notification_t *n, int severity, const char *message,
+		const char *host,
+		const char *plugin, const char *plugin_instance,
+		const char *type, const char *type_instance)
+{
+	memset (n, '\0', sizeof (notification_t));
+
+	n->severity = severity;
+
+	if (message != NULL)
+		strncpy (n->message, message, sizeof (n->message));
+	if (host != NULL)
+		strncpy (n->host, host, sizeof (n->host));
+	if (plugin != NULL)
+		strncpy (n->plugin, plugin, sizeof (n->plugin));
+	if (plugin_instance != NULL)
+		strncpy (n->plugin_instance, plugin_instance,
+				sizeof (n->plugin_instance));
+	if (type != NULL)
+		strncpy (n->type, type, sizeof (n->type));
+	if (type_instance != NULL)
+		strncpy (n->type_instance, type_instance,
+				sizeof (n->type_instance));
+
+	n->message[sizeof (n->message) - 1] = '\0';
+	n->host[sizeof (n->host) - 1] = '\0';
+	n->plugin[sizeof (n->plugin) - 1] = '\0';
+	n->plugin_instance[sizeof (n->plugin_instance) - 1] = '\0';
+	n->type[sizeof (n->type) - 1] = '\0';
+	n->type_instance[sizeof (n->type_instance) - 1] = '\0';
+
+	return (0);
+} /* int notification_init */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/common.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/common.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/common.h	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/common.h	2008-02-19 03:57:18.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/common.h
- * Copyright (C) 2005-2007  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -160,22 +160,12 @@
 long long get_kstat_value (kstat_t *ksp, char *name);
 #endif
 
 unsigned long long ntohll (unsigned long long n);
 unsigned long long htonll (unsigned long long n);
 
-#if FP_LAYOUT_NEED_NOTHING
-# define ntohd(d) (d)
-# define htond(d) (d)
-#elif FP_LAYOUT_NEED_ENDIANFLIP || FP_LAYOUT_NEED_INTSWAP
-double ntohd (double d);
-double htond (double d);
-#else
-# error "Don't know how to convert between host and network representation of doubles."
-#endif
-
 int format_name (char *ret, int ret_len,
 		const char *hostname,
 		const char *plugin, const char *plugin_instance,
 		const char *type, const char *type_instance);
 #define FORMAT_VL(ret, ret_len, vl, ds) \
 	format_name (ret, ret_len, (vl)->host, (vl)->plugin, (vl)->plugin_instance, \
@@ -188,7 +178,15 @@
 
 #if !HAVE_GETPWNAM_R
 int getpwnam_r (const char *name, struct passwd *pwbuf, char *buf,
 		size_t buflen, struct passwd **pwbufp);
 #endif
 
+int notification_init (notification_t *n, int severity, const char *message,
+		const char *host,
+		const char *plugin, const char *plugin_instance,
+		const char *type, const char *type_instance);
+#define NOTIFICATION_INIT_VL(n, vl, ds) \
+	notification_init (n, NOTIF_FAILURE, NULL, \
+			(vl)->host, (vl)->plugin, (vl)->plugin_instance, \
+			(ds)->type, (vl)->type_instance)
 #endif /* COMMON_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/configfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/configfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/configfile.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/configfile.c	2008-02-19 06:04:29.000000000 +0800
@@ -24,12 +24,18 @@
 
 #include "liboconfig/oconfig.h"
 
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
+#include "types_list.h"
+#include "utils_threshold.h"
+
+#if HAVE_WORDEXP_H
+# include <wordexp.h>
+#endif /* HAVE_WORDEXP_H */
 
 #define ESCAPE_NULL(str) ((str) == NULL ? "(null)" : (str))
 
 /*
  * Private types
  */
@@ -62,39 +68,43 @@
 	char *def;
 } cf_global_option_t;
 
 /*
  * Prototypes of callback functions
  */
+static int dispatch_value_typesdb (const oconfig_item_t *ci);
 static int dispatch_value_plugindir (const oconfig_item_t *ci);
 static int dispatch_value_loadplugin (const oconfig_item_t *ci);
 
 /*
  * Private variables
  */
 static cf_callback_t *first_callback = NULL;
 static cf_complex_callback_t *complex_callback_head = NULL;
 
 static cf_value_map_t cf_value_map[] =
 {
+	{"TypesDB",    dispatch_value_typesdb},
 	{"PluginDir",  dispatch_value_plugindir},
 	{"LoadPlugin", dispatch_value_loadplugin}
 };
 static int cf_value_map_num = STATIC_ARRAY_LEN (cf_value_map);
 
 static cf_global_option_t cf_global_options[] =
 {
-	{"BaseDir",   NULL, PKGLOCALSTATEDIR},
-	{"PIDFile",   NULL, PIDFILE},
-	{"Hostname",  NULL, NULL},
-	{"Interval",  NULL, "10"},
-	{"ReadThreads", NULL, "5"},
-	{"TypesDB",   NULL, PLUGINDIR"/types.db"} /* FIXME: Configure path */
+	{"BaseDir",     NULL, PKGLOCALSTATEDIR},
+	{"PIDFile",     NULL, PIDFILE},
+	{"Hostname",    NULL, NULL},
+	{"FQDNLookup",  NULL, "false"},
+	{"Interval",    NULL, "10"},
+	{"ReadThreads", NULL, "5"}
 };
 static int cf_global_options_num = STATIC_ARRAY_LEN (cf_global_options);
 
+static int cf_default_typesdb = 1;
+
 /*
  * Functions to handle register/unregister, search, and other plugin related
  * stuff
  */
 static cf_callback_t *cf_search (const char *type)
 {
@@ -172,16 +182,44 @@
 	{
 		char tmp[128];
 		snprintf (tmp, sizeof (tmp), "%lf", ci->values[0].value.number);
 		tmp[127] = '\0';
 		return (global_option_set (ci->key, tmp));
 	}
+	else if (ci->values[0].type == OCONFIG_TYPE_BOOLEAN)
+	{
+		if (ci->values[0].value.boolean)
+			return (global_option_set (ci->key, "true"));
+		else
+			return (global_option_set (ci->key, "false"));
+	}
 
 	return (-1);
 } /* int dispatch_global_option */
 
+static int dispatch_value_typesdb (const oconfig_item_t *ci)
+{
+	int i = 0;
+
+	assert (strcasecmp (ci->key, "TypesDB") == 0);
+
+	cf_default_typesdb = 0;
+
+	if (ci->values_num < 1)
+		return (-1);
+
+	for (i = 0; i < ci->values_num; ++i)
+	{
+		if (OCONFIG_TYPE_STRING != ci->values[i].type)
+			continue;
+
+		read_types_list (ci->values[i].value.string);
+	}
+	return (0);
+} /* int dispatch_value_typesdb */
+
 static int dispatch_value_plugindir (const oconfig_item_t *ci)
 {
 	assert (strcasecmp (ci->key, "PluginDir") == 0);
 	
 	if (ci->values_num != 1)
 		return (-1);
@@ -297,18 +335,118 @@
 
 
 static int dispatch_block (oconfig_item_t *ci)
 {
 	if (strcasecmp (ci->key, "Plugin") == 0)
 		return (dispatch_block_plugin (ci));
+	else if (strcasecmp (ci->key, "Threshold") == 0)
+		return (ut_config (ci));
 
 	return (0);
 }
 
+static int cf_ci_replace_child (oconfig_item_t *dst, oconfig_item_t *src,
+		int offset)
+{
+	oconfig_item_t *temp;
+	int i;
+
+	assert (offset >= 0);
+	assert (dst->children_num > offset);
+
+	/* Free the memory used by the replaced child. Usually that's the
+	 * `Include "blah"' statement. */
+	temp = dst->children + offset;
+	for (i = 0; i < temp->values_num; i++)
+	{
+		if (temp->values[i].type == OCONFIG_TYPE_STRING)
+		{
+			sfree (temp->values[i].value.string);
+		}
+	}
+	sfree (temp->values);
+	temp = NULL;
+
+	/* If (src->children_num == 0) the array size is decreased. If offset
+	 * is _not_ the last element, (offset < (src->children_num - 1)), then
+	 * we need to move the trailing elements before resizing the array. */
+	if ((src->children_num == 0) && (offset < (src->children_num - 1)))
+	{
+		int nmemb = src->children_num - (offset + 1);
+		memmove (src->children + offset, src->children + offset + 1,
+				sizeof (oconfig_item_t) * nmemb);
+	}
+
+	/* Resize the memory containing the children to be big enough to hold
+	 * all children. */
+	temp = (oconfig_item_t *) realloc (dst->children,
+			sizeof (oconfig_item_t)
+			* (dst->children_num + src->children_num - 1));
+	if (temp == NULL)
+	{
+		ERROR ("configfile: realloc failed.");
+		return (-1);
+	}
+	dst->children = temp;
+
+	/* If there are children behind the include statement, and they have
+	 * not yet been moved because (src->children_num == 0), then move them
+	 * to the end of the list, so that the new children have room before
+	 * them. */
+	if ((src->children_num > 0)
+			&& ((dst->children_num - (offset + 1)) > 0))
+	{
+		int nmemb = dst->children_num - (offset + 1);
+		int old_offset = offset + 1;
+		int new_offset = offset + src->children_num;
+
+		memmove (dst->children + new_offset,
+				dst->children + old_offset,
+				sizeof (oconfig_item_t) * nmemb);
+	}
+
+	/* Last but not least: If there are new childrem, copy them to the
+	 * memory reserved for them. */
+	if (src->children_num > 0)
+	{
+		memcpy (dst->children + offset,
+				src->children,
+				sizeof (oconfig_item_t) * src->children_num);
+	}
+
+	/* Update the number of children. */
+	dst->children_num += (src->children_num - 1);
+
+	return (0);
+} /* int cf_ci_replace_child */
+
+static int cf_ci_append_children (oconfig_item_t *dst, oconfig_item_t *src)
+{
+	oconfig_item_t *temp;
+
+	temp = (oconfig_item_t *) realloc (dst->children,
+			sizeof (oconfig_item_t)
+			* (dst->children_num + src->children_num));
+	if (temp == NULL)
+	{
+		ERROR ("configfile: realloc failed.");
+		return (-1);
+	}
+	dst->children = temp;
+
+	memcpy (dst->children + dst->children_num,
+			src->children,
+			sizeof (oconfig_item_t)
+			* src->children_num);
+	dst->children_num += src->children_num;
+
+	return (0);
+} /* int cf_ci_append_children */
+
 #define CF_MAX_DEPTH 8
-static oconfig_item_t *cf_read_file (const char *file, int depth);
+static oconfig_item_t *cf_read_generic (const char *path, int depth);
 
 static int cf_include_all (oconfig_item_t *root, int depth)
 {
 	int i;
 
 	for (i = 0; i < root->children_num; i++)
@@ -329,93 +467,31 @@
 				|| (old->values[0].type != OCONFIG_TYPE_STRING))
 		{
 			ERROR ("configfile: `Include' needs exactly one string argument.");
 			continue;
 		}
 
-		new = cf_read_file (old->values[0].value.string, depth + 1);
+		new = cf_read_generic (old->values[0].value.string, depth + 1);
 		if (new == NULL)
 			continue;
 
-		/* There are more children now. We need to expand
-		 * root->children. */
-		if (new->children_num > 1)
-		{
-			oconfig_item_t *temp;
-
-			DEBUG ("configfile: Resizing root-children from %i to %i elements.",
-					root->children_num,
-					root->children_num + new->children_num - 1);
-
-			temp = (oconfig_item_t *) realloc (root->children,
-					sizeof (oconfig_item_t)
-					* (root->children_num + new->children_num - 1));
-			if (temp == NULL)
-			{
-				ERROR ("configfile: realloc failed.");
-				oconfig_free (new);
-				continue;
-			}
-			root->children = temp;
-		}
+		/* Now replace the i'th child in `root' with `new'. */
+		cf_ci_replace_child (root, new, i);
 
-		/* Clean up the old include directive while we still have a
-		 * valid pointer */
-		DEBUG ("configfile: Cleaning up `old'");
-		/* sfree (old->values[0].value.string); */
-		sfree (old->values);
-
-		/* If there are trailing children and the number of children
-		 * changes, we need to move the trailing ones either one to the
-		 * front or (new->num - 1) to the back */
-		if (((root->children_num - i) > 1)
-				&& (new->children_num != 1))
-		{
-			DEBUG ("configfile: Moving trailing children.");
-			memmove (root->children + i + new->children_num,
-					root->children + i + 1,
-					sizeof (oconfig_item_t)
-					* (root->children_num - (i + 1)));
-		}
-
-		/* Now copy the new children to where the include statement was */
-		if (new->children_num > 0)
-		{
-			DEBUG ("configfile: Copying new children.");
-			memcpy (root->children + i,
-					new->children,
-					sizeof (oconfig_item_t)
-					* new->children_num);
-		}
-
-		/* Adjust the number of children and the position in the list. */
-		root->children_num = root->children_num + new->children_num - 1;
-		i = i + new->children_num - 1;
-
-		/* Clean up the `new' struct. We set `new->children' to NULL so
-		 * the stuff we've just copied pointers to isn't freed by
-		 * `oconfig_free' */
-		DEBUG ("configfile: Cleaning up `new'");
-		sfree (new->values); /* should be NULL anyway */
+		sfree (new->values);
 		sfree (new);
-		new = NULL;
 	} /* for (i = 0; i < root->children_num; i++) */
 
 	return (0);
 } /* int cf_include_all */
 
 static oconfig_item_t *cf_read_file (const char *file, int depth)
 {
 	oconfig_item_t *root;
 
-	if (depth >= CF_MAX_DEPTH)
-	{
-		ERROR ("configfile: Not including `%s' because the maximum nesting depth has been reached.",
-				file);
-		return (NULL);
-	}
+	assert (depth < CF_MAX_DEPTH);
 
 	root = oconfig_parse_file (file);
 	if (root == NULL)
 	{
 		ERROR ("configfile: Cannot read file `%s'.", file);
 		return (NULL);
@@ -423,12 +499,182 @@
 
 	cf_include_all (root, depth);
 
 	return (root);
 } /* oconfig_item_t *cf_read_file */
 
+static oconfig_item_t *cf_read_dir (const char *dir, int depth)
+{
+	oconfig_item_t *root = NULL;
+	DIR *dh;
+	struct dirent *de;
+	char name[1024];
+	int status;
+
+	assert (depth < CF_MAX_DEPTH);
+
+	dh = opendir (dir);
+	if (dh == NULL)
+	{
+		char errbuf[1024];
+		ERROR ("configfile: opendir failed: %s",
+				sstrerror (errno, errbuf, sizeof (errbuf)));
+		return (NULL);
+	}
+
+	root = (oconfig_item_t *) malloc (sizeof (oconfig_item_t));
+	if (root == NULL)
+	{
+		ERROR ("configfile: malloc failed.");
+		return (NULL);
+	}
+	memset (root, '\0', sizeof (oconfig_item_t));
+
+	while ((de = readdir (dh)) != NULL)
+	{
+		oconfig_item_t *temp;
+
+		if ((de->d_name[0] == '.') || (de->d_name[0] == '\0'))
+			continue;
+
+		status = snprintf (name, sizeof (name), "%s/%s",
+				dir, de->d_name);
+		if (status >= sizeof (name))
+		{
+			ERROR ("configfile: Not including `%s/%s' because its"
+					" name is too long.",
+					dir, de->d_name);
+			continue;
+		}
+
+		temp = cf_read_generic (name, depth);
+		if (temp == NULL)
+			continue;
+
+		cf_ci_append_children (root, temp);
+		sfree (temp->children);
+		sfree (temp);
+	}
+
+	return (root);
+} /* oconfig_item_t *cf_read_dir */
+
+/* 
+ * cf_read_generic
+ *
+ * Path is stat'ed and either cf_read_file or cf_read_dir is called
+ * accordingly.
+ *
+ * There are two versions of this function: If `wordexp' exists shell wildcards
+ * will be expanded and the function will include all matches found. If
+ * `wordexp' (or, more precisely, it's header file) is not available the
+ * simpler function is used which does not do any such expansion.
+ */
+#if HAVE_WORDEXP_H
+static oconfig_item_t *cf_read_generic (const char *path, int depth)
+{
+	oconfig_item_t *root = NULL;
+	int status;
+	const char *path_ptr;
+	wordexp_t we;
+	int i;
+
+	if (depth >= CF_MAX_DEPTH)
+	{
+		ERROR ("configfile: Not including `%s' because the maximum "
+				"nesting depth has been reached.", path);
+		return (NULL);
+	}
+
+	status = wordexp (path, &we, WRDE_NOCMD);
+	if (status != 0)
+	{
+		ERROR ("configfile: wordexp (%s) failed.", path);
+		return (NULL);
+	}
+
+	root = (oconfig_item_t *) malloc (sizeof (oconfig_item_t));
+	if (root == NULL)
+	{
+		ERROR ("configfile: malloc failed.");
+		return (NULL);
+	}
+	memset (root, '\0', sizeof (oconfig_item_t));
+
+	for (i = 0; i < we.we_wordc; i++)
+	{
+		oconfig_item_t *temp;
+		struct stat statbuf;
+
+		path_ptr = we.we_wordv[i];
+
+		status = stat (path_ptr, &statbuf);
+		if (status != 0)
+		{
+			char errbuf[1024];
+			ERROR ("configfile: stat (%s) failed: %s",
+					path_ptr,
+					sstrerror (errno, errbuf, sizeof (errbuf)));
+			return (NULL);
+		}
+
+		if (S_ISREG (statbuf.st_mode))
+			temp = cf_read_file (path_ptr, depth);
+		else if (S_ISDIR (statbuf.st_mode))
+			temp = cf_read_dir (path_ptr, depth);
+		else
+		{
+			ERROR ("configfile: %s is neither a file nor a "
+					"directory.", path);
+			continue;
+		}
+
+		cf_ci_append_children (root, temp);
+		sfree (temp->children);
+		sfree (temp);
+	}
+
+	wordfree (&we);
+
+	return (root);
+} /* oconfig_item_t *cf_read_generic */
+/* #endif HAVE_WORDEXP_H */
+
+#else /* if !HAVE_WORDEXP_H */
+static oconfig_item_t *cf_read_generic (const char *path, int depth)
+{
+	struct stat statbuf;
+	int status;
+
+	if (depth >= CF_MAX_DEPTH)
+	{
+		ERROR ("configfile: Not including `%s' because the maximum "
+				"nesting depth has been reached.", path);
+		return (NULL);
+	}
+
+	status = stat (path, &statbuf);
+	if (status != 0)
+	{
+		char errbuf[1024];
+		ERROR ("configfile: stat (%s) failed: %s",
+				path,
+				sstrerror (errno, errbuf, sizeof (errbuf)));
+		return (NULL);
+	}
+
+	if (S_ISREG (statbuf.st_mode))
+		return (cf_read_file (path, depth));
+	else if (S_ISDIR (statbuf.st_mode))
+		return (cf_read_dir (path, depth));
+
+	ERROR ("configfile: %s is neither a file nor a directory.", path);
+	return (NULL);
+} /* oconfig_item_t *cf_read_generic */
+#endif /* !HAVE_WORDEXP_H */
+
 /* 
  * Public functions
  */
 int global_option_set (const char *option, const char *value)
 {
 	int i;
@@ -564,13 +810,13 @@
 
 int cf_read (char *filename)
 {
 	oconfig_item_t *conf;
 	int i;
 
-	conf = cf_read_file (filename, 0 /* depth */);
+	conf = cf_read_generic (filename, 0 /* depth */);
 	if (conf == NULL)
 	{
 		ERROR ("Unable to read config file %s.", filename);
 		return (-1);
 	}
 
@@ -579,8 +825,10 @@
 		if (conf->children[i].children == NULL)
 			dispatch_value (conf->children + i);
 		else
 			dispatch_block (conf->children + i);
 	}
 
+	if (cf_default_typesdb)
+		read_types_list (PLUGINDIR"/types.db"); /* FIXME: Configure path */
 	return (0);
 } /* int cf_read */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/config.h.in	2008-04-23 19:59:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/config.h.in	2008-02-20 03:35:55.000000000 +0800
@@ -15,21 +15,12 @@
 /* Wether or not to use the pcap library */
 #undef COLLECT_LIBPCAP
 
 /* Wether or not to use statgrab library */
 #undef COLLECT_LIBSTATGRAB
 
-/* Define if endianflip is needed to convert to x86 representation. */
-#undef FP_LAYOUT_NEED_ENDIANFLIP
-
-/* Define if intswap is needed to convert to x86 representation. */
-#undef FP_LAYOUT_NEED_INTSWAP
-
-/* Define if doubles are stored in x86 representation. */
-#undef FP_LAYOUT_NEED_NOTHING
-
 /* Define to 1 if you have the <arpa/inet.h> header file. */
 #undef HAVE_ARPA_INET_H
 
 /* Define to 1 if you have the <arpa/nameser_compat.h> header file. */
 #undef HAVE_ARPA_NAMESER_COMPAT_H
 
@@ -60,15 +51,12 @@
    */
 #undef HAVE_DIRENT_H
 
 /* Define to 1 if you have the <dlfcn.h> header file. */
 #undef HAVE_DLFCN_H
 
-/* Define to 1 if you have the <endian.h> header file. */
-#undef HAVE_ENDIAN_H
-
 /* Define to 1 if you have the <errno.h> header file. */
 #undef HAVE_ERRNO_H
 
 /* Define to 1 if you have the <fcntl.h> header file. */
 #undef HAVE_FCNTL_H
 
@@ -172,12 +160,15 @@
 /* Define to 1 if you have the <kvm.h> header file. */
 #undef HAVE_KVM_H
 
 /* Define to 1 if you have the <libgen.h> header file. */
 #undef HAVE_LIBGEN_H
 
+/* Define to 1 if you have 'hal' library */
+#undef HAVE_LIBHAL
+
 /* Define to 1 if you have the iptc library (-liptc). */
 #undef HAVE_LIBIPTC
 
 /* Define to 1 if you have the <libiptc/libiptc.h> header file. */
 #undef HAVE_LIBIPTC_LIBIPTC_H
 
@@ -202,12 +193,18 @@
 /* Define to 1 if you have the 'resolv' library (-lresolv). */
 #undef HAVE_LIBRESOLV
 
 /* Define to 1 if you have the sensors library (-lsensors). */
 #undef HAVE_LIBSENSORS
 
+/* Define to 1 if you have the <libvirt/libvirt.h> header file. */
+#undef HAVE_LIBVIRT_LIBVIRT_H
+
+/* Define to 1 if you have the <libxml/parser.h> header file. */
+#undef HAVE_LIBXML_PARSER_H
+
 /* Define to 1 if you have the 'xmms' library (-lxmms). */
 #undef HAVE_LIBXMMS
 
 /* Define to 1 if you have the <limits.h> header file. */
 #undef HAVE_LIMITS_H
 
@@ -373,12 +370,15 @@
 /* Define to 1 if you have the <paths.h> header file. */
 #undef HAVE_PATHS_H
 
 /* Define to 1 if you have the <pcap.h> header file. */
 #undef HAVE_PCAP_H
 
+/* Define if Perl supports ithreads. */
+#undef HAVE_PERL_ITHREADS
+
 /* Define to 1 if the apache plugin is enabled. */
 #undef HAVE_PLUGIN_APACHE
 
 /* Define to 1 if the apcups plugin is enabled. */
 #undef HAVE_PLUGIN_APCUPS
 
@@ -427,12 +427,15 @@
 /* Define to 1 if the ipvs plugin is enabled. */
 #undef HAVE_PLUGIN_IPVS
 
 /* Define to 1 if the irq plugin is enabled. */
 #undef HAVE_PLUGIN_IRQ
 
+/* Define to 1 if the libvirt plugin is enabled. */
+#undef HAVE_PLUGIN_LIBVIRT
+
 /* Define to 1 if the load plugin is enabled. */
 #undef HAVE_PLUGIN_LOAD
 
 /* Define to 1 if the logfile plugin is enabled. */
 #undef HAVE_PLUGIN_LOGFILE
 
@@ -505,12 +508,15 @@
 /* Define to 1 if the unixsock plugin is enabled. */
 #undef HAVE_PLUGIN_UNIXSOCK
 
 /* Define to 1 if the users plugin is enabled. */
 #undef HAVE_PLUGIN_USERS
 
+/* Define to 1 if the uuid plugin is enabled. */
+#undef HAVE_PLUGIN_UUID
+
 /* Define to 1 if the vserver plugin is enabled. */
 #undef HAVE_PLUGIN_VSERVER
 
 /* Define to 1 if the wireless plugin is enabled. */
 #undef HAVE_PLUGIN_WIRELESS
 
@@ -553,15 +559,12 @@
 /* Define to 1 if you have the <sensors/sensors.h> header file. */
 #undef HAVE_SENSORS_SENSORS_H
 
 /* Define if the function getmntent exists. It's the version from libseq. */
 #undef HAVE_SEQ_GETMNTENT
 
-/* Define to 1 if you have the `setgroups' function. */
-#undef HAVE_SETGROUPS
-
 /* Define to 1 if you have the <signal.h> header file. */
 #undef HAVE_SIGNAL_H
 
 /* Define to 1 if you have the `socket' function. */
 #undef HAVE_SOCKET
 
@@ -786,12 +789,15 @@
 /* Define to 1 if you have the <utmpx.h> header file. */
 #undef HAVE_UTMPX_H
 
 /* Define to 1 if you have the <utmp.h> header file. */
 #undef HAVE_UTMP_H
 
+/* Define to 1 if you have the <wordexp.h> header file. */
+#undef HAVE_WORDEXP_H
+
 /* Define to 1 if you have the <xfs/xqm.h> header file. */
 #undef HAVE_XFS_XQM_H
 
 /* True if program is to be compiled for a Linux kernel */
 #undef KERNEL_LINUX
 
@@ -805,12 +811,15 @@
    variables. */
 #undef NAN_STATIC_ISOC
 
 /* Define if NAN can be defined as (0.0 / 0.0) */
 #undef NAN_ZERO_ZERO
 
+/* Define to 1 if your C compiler doesn't accept -c and -o together. */
+#undef NO_MINUS_C_MINUS_O
+
 /* Name of package */
 #undef PACKAGE
 
 /* Define to the address where bug reports for this package should be sent. */
 #undef PACKAGE_BUGREPORT
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/cpu.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/cpu.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/cpu.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/cpu.c	2008-02-19 03:57:18.000000000 +0800
@@ -274,26 +274,20 @@
 	FILE *fh;
 	char buf[1024];
 
 	char *fields[9];
 	int numfields;
 
-	static complain_t complain_obj;
-
 	if ((fh = fopen ("/proc/stat", "r")) == NULL)
 	{
 		char errbuf[1024];
-		plugin_complain (LOG_ERR, &complain_obj, "cpu plugin: "
-				"fopen (/proc/stat) failed: %s",
+		ERROR ("cpu plugin: fopen (/proc/stat) failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
-	plugin_relief (LOG_NOTICE, &complain_obj, "cpu plugin: "
-			"fopen (/proc/stat) succeeded.");
-
 	while (fgets (buf, 1024, fh) != NULL)
 	{
 		if (strncmp (buf, "cpu", 3))
 			continue;
 		if ((buf[3] < '0') || (buf[3] > '9'))
 			continue;
@@ -357,28 +351,22 @@
 /* #endif defined(HAVE_LIBKSTAT) */
 
 #elif defined(HAVE_SYSCTLBYNAME)
 	long cpuinfo[CPUSTATES];
 	size_t cpuinfo_size;
 
-	static complain_t complain_obj;
-
 	cpuinfo_size = sizeof (cpuinfo);
 
 	if (sysctlbyname("kern.cp_time", &cpuinfo, &cpuinfo_size, NULL, 0) < 0)
 	{
 		char errbuf[1024];
-		plugin_complain (LOG_ERR, &complain_obj, "cpu plugin: "
-				"sysctlbyname failed: %s.",
+		ERROR ("cpu plugin: sysctlbyname failed: %s.",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
-	plugin_relief (LOG_NOTICE, &complain_obj, "cpu plugin: "
-			"sysctlbyname succeeded.");
-
 	cpuinfo[CP_SYS] += cpuinfo[CP_INTR];
 
 	submit (0, "user", cpuinfo[CP_USER]);
 	submit (0, "nice", cpuinfo[CP_NICE]);
 	submit (0, "system", cpuinfo[CP_SYS]);
 	submit (0, "idle", cpuinfo[CP_IDLE]);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/cpufreq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/cpufreq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/cpufreq.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/cpufreq.c	2008-02-19 03:57:18.000000000 +0800
@@ -37,13 +37,13 @@
 
 	while (1)
 	{
 		status = snprintf (filename, sizeof (filename),
 				"/sys/devices/system/cpu/cpu%d/cpufreq/"
 				"scaling_cur_freq", num_cpu);
-    		if (status < 1 || status >= sizeof (filename))
+		if ((status < 1) || ((unsigned int)status >= sizeof (filename)))
 			break;
 
 		if (access (filename, R_OK))
 			break;
 
 		num_cpu++;
@@ -87,13 +87,13 @@
 
 	for (i = 0; i < num_cpu; i++)
 	{
 		status = snprintf (filename, sizeof (filename),
 				"/sys/devices/system/cpu/cpu%d/cpufreq/"
 				"scaling_cur_freq", i);
-    		if (status < 1 || status >= sizeof (filename))
+		if ((status < 1) || ((unsigned int)status >= sizeof (filename)))
 			return (-1);
 
 		if ((fp = fopen (filename, "r")) == NULL)
 		{
 			char errbuf[1024];
 			WARNING ("cpufreq: fopen (%s): %s", filename,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/csv.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/csv.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/csv.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/csv.c	2008-02-19 03:57:18.000000000 +0800
@@ -19,30 +19,34 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
+#include "utils_cache.h"
 
 /*
  * Private variables
  */
 static const char *config_keys[] =
 {
-	"DataDir"
+	"DataDir",
+	"StoreRates"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static char *datadir   = NULL;
+static int store_rates = 0;
 
 static int value_list_to_string (char *buffer, int buffer_len,
 		const data_set_t *ds, const value_list_t *vl)
 {
 	int offset;
 	int status;
 	int i;
+	gauge_t *rates = NULL;
 
 	memset (buffer, '\0', buffer_len);
 
 	status = snprintf (buffer, buffer_len, "%u", (unsigned int) vl->time);
 	if ((status < 1) || (status >= buffer_len))
 		return (-1);
@@ -52,24 +56,51 @@
 	{
 		if ((ds->ds[i].type != DS_TYPE_COUNTER)
 				&& (ds->ds[i].type != DS_TYPE_GAUGE))
 			return (-1);
 
 		if (ds->ds[i].type == DS_TYPE_COUNTER)
-			status = snprintf (buffer + offset, buffer_len - offset,
-					",%llu", vl->values[i].counter);
-		else
+		{
+			if (store_rates == 0)
+			{
+				status = snprintf (buffer + offset,
+						buffer_len - offset,
+						",%llu",
+						vl->values[i].counter);
+			}
+			else /* if (store_rates == 1) */
+			{
+				if (rates == NULL)
+					rates = uc_get_rate (ds, vl);
+				if (rates == NULL)
+				{
+					WARNING ("csv plugin: "
+							"uc_get_rate failed.");
+					return (-1);
+				}
+				status = snprintf (buffer + offset,
+						buffer_len - offset,
+						",%lf", rates[i]);
+			}
+		}
+		else /* if (ds->ds[i].type == DS_TYPE_GAUGE) */
+		{
 			status = snprintf (buffer + offset, buffer_len - offset,
 					",%lf", vl->values[i].gauge);
+		}
 
 		if ((status < 1) || (status >= (buffer_len - offset)))
+		{
+			sfree (rates);
 			return (-1);
+		}
 
 		offset += status;
 	} /* for ds->ds_num */
 
+	sfree (rates);
 	return (0);
 } /* int value_list_to_string */
 
 static int value_list_to_filename (char *buffer, int buffer_len,
 		const data_set_t *ds, const value_list_t *vl)
 {
@@ -178,12 +209,25 @@
 			{
 				free (datadir);
 				datadir = NULL;
 			}
 		}
 	}
+	else if (strcasecmp ("StoreRates", key) == 0)
+	{
+		if ((strcasecmp ("True", value) == 0)
+				|| (strcasecmp ("Yes", value) == 0)
+				|| (strcasecmp ("On", value) == 0))
+		{
+			store_rates = 1;
+		}
+		else
+		{
+			store_rates = 0;
+		}
+	}
 	else
 	{
 		return (-1);
 	}
 	return (0);
 } /* int csv_config */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/disk.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/disk.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/disk.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/disk.c	2008-02-19 03:57:18.000000000 +0800
@@ -228,28 +228,20 @@
 	signed long long write_tme;
 
 	int  disk_major;
 	int  disk_minor;
 	char disk_name[64];
 
-	static complain_t complain_obj;
-
 	/* Get the list of all disk objects. */
 	if (IOServiceGetMatchingServices (io_master_port,
 				IOServiceMatching (kIOBlockStorageDriverClass),
 				&disk_list) != kIOReturnSuccess)
 	{
-		plugin_complain (LOG_ERR, &complain_obj, "disk plugin: "
-				"IOServiceGetMatchingServices failed.");
+		ERROR ("disk plugin: IOServiceGetMatchingServices failed.");
 		return (-1);
 	}
-	else if (complain_obj.interval != 0)
-	{
-		plugin_relief (LOG_NOTICE, &complain_obj, "disk plugin: "
-				"IOServiceGetMatchingServices succeeded.");
-	}
 
 	while ((disk = IOIteratorNext (disk_list)) != 0)
 	{
 		props_dict = NULL;
 		stats_dict = NULL;
 		child_dict = NULL;
@@ -383,31 +375,25 @@
 	counter_t write_merged  = 0;
 	counter_t write_time    = 0;
 	int is_disk = 0;
 
 	diskstats_t *ds, *pre_ds;
 
-	static complain_t complain_obj;
-
 	if ((fh = fopen ("/proc/diskstats", "r")) == NULL)
 	{
-		if ((fh = fopen ("/proc/partitions", "r")) == NULL)
+		fh = fopen ("/proc/partitions", "r");
+		if (fh == NULL)
 		{
-			plugin_complain (LOG_ERR, &complain_obj,
-					"disk plugin: Failed to open /proc/"
-					"{diskstats,partitions}.");
+			ERROR ("disk plugin: fopen (/proc/{diskstats,partitions}) failed.");
 			return (-1);
 		}
 
 		/* Kernel is 2.4.* */
 		fieldshift = 1;
 	}
 
-	plugin_relief (LOG_NOTICE, &complain_obj, "disk plugin: "
-			"Succeeded to open /proc/{diskstats,partitions}.");
-
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
 		char *disk_name;
 
 		numfields = strsplit (buffer, fields, 32);
 
@@ -573,15 +559,14 @@
 		if ((ds->avg_read_time != 0) || (ds->avg_write_time != 0))
 			disk_submit (disk_name, "disk_time",
 					ds->avg_read_time, ds->avg_write_time);
 
 		if (is_disk)
 		{
-			if ((read_merged != -1LL) || (write_merged != -1LL))
-				disk_submit (disk_name, "disk_merged",
-						read_merged, write_merged);
+			disk_submit (disk_name, "disk_merged",
+					read_merged, write_merged);
 		} /* if (is_disk) */
 	} /* while (fgets (buffer, sizeof (buffer), fh) != NULL) */
 
 	fclose (fh);
 /* #endif defined(KERNEL_LINUX) */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/exec.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/exec.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/exec.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/exec.c	2008-02-19 04:02:36.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/exec.c
- * Copyright (C) 2007  Florian octo Forster
+ * Copyright (C) 2007,2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -19,110 +19,257 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
+
 #include "utils_cmd_putval.h"
+#include "utils_cmd_putnotif.h"
 
 #include <sys/types.h>
 #include <pwd.h>
 #include <grp.h>
 #include <signal.h>
 
 #include <pthread.h>
 
+#define PL_NORMAL        0x01
+#define PL_NOTIF_ACTION  0x02
+
+#define PL_RUNNING       0x10
+
 /*
  * Private data types
  */
+/*
+ * Access to this structure is serialized using the `pl_lock' lock and the
+ * `PL_RUNNING' flag. The execution of notifications is *not* serialized, so
+ * all functions used to handle notifications MUST NOT write to this structure.
+ * The `pid' and `status' fields are thus unused if the `PL_NOTIF_ACTION' flag
+ * is set.
+ * The `PL_RUNNING' flag is set in `exec_read' and unset in `exec_read_one'.
+ */
 struct program_list_s;
 typedef struct program_list_s program_list_t;
 struct program_list_s
 {
   char           *user;
   char           *group;
   char           *exec;
+  char          **argv;
   int             pid;
+  int             status;
+  int             flags;
   program_list_t *next;
 };
 
+typedef struct program_list_and_notification_s
+{
+  program_list_t *pl;
+  notification_t n;
+} program_list_and_notification_t;
+
 /*
  * Private variables
  */
-static const char *config_keys[] =
-{
-  "Exec"
-};
-static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
-
 static program_list_t *pl_head = NULL;
+static pthread_mutex_t pl_lock = PTHREAD_MUTEX_INITIALIZER;
 
 /*
  * Functions
  */
-static int exec_config (const char *key, const char *value)
+static void sigchld_handler (int signal) /* {{{ */
 {
-  if (strcasecmp ("Exec", key) == 0)
+  pid_t pid;
+  int status;
+  while ((pid = waitpid (-1, &status, WNOHANG)) > 0)
   {
     program_list_t *pl;
-    pl = (program_list_t *) malloc (sizeof (program_list_t));
-    if (pl == NULL)
-      return (1);
-    memset (pl, '\0', sizeof (program_list_t));
+    for (pl = pl_head; pl != NULL; pl = pl->next)
+      if (pl->pid == pid)
+	break;
+    if (pl != NULL)
+      pl->status = status;
+  } /* while (waitpid) */
+} /* void sigchld_handler }}} */
 
-    pl->user = strdup (value);
-    if (pl->user == NULL)
-    {
-      sfree (pl);
-      return (1);
-    }
+static int exec_config_exec (oconfig_item_t *ci) /* {{{ */
+{
+  program_list_t *pl;
+  char buffer[128];
+  int i;
+
+  if (ci->children_num != 0)
+  {
+    WARNING ("exec plugin: The config option `%s' may not be a block.",
+	ci->key);
+    return (-1);
+  }
+  if (ci->values_num < 2)
+  {
+    WARNING ("exec plugin: The config option `%s' needs at least two "
+	"arguments.", ci->key);
+    return (-1);
+  }
+  if ((ci->values[0].type != OCONFIG_TYPE_STRING)
+      || (ci->values[1].type != OCONFIG_TYPE_STRING))
+  {
+    WARNING ("exec plugin: The first two arguments to the `%s' option must "
+	"be string arguments.", ci->key);
+    return (-1);
+  }
+
+  pl = (program_list_t *) malloc (sizeof (program_list_t));
+  if (pl == NULL)
+  {
+    ERROR ("exec plugin: malloc failed.");
+    return (-1);
+  }
+  memset (pl, '\0', sizeof (program_list_t));
+
+  if (strcasecmp ("NotificationExec", ci->key) == 0)
+    pl->flags |= PL_NOTIF_ACTION;
+  else
+    pl->flags |= PL_NORMAL;
+
+  pl->user = strdup (ci->values[0].value.string);
+  if (pl->user == NULL)
+  {
+    ERROR ("exec plugin: strdup failed.");
+    sfree (pl);
+    return (-1);
+  }
+
+  pl->group = strchr (pl->user, ':');
+  if (pl->group != NULL)
+  {
+    *pl->group = '\0';
+    pl->group++;
+  }
+
+  pl->exec = strdup (ci->values[1].value.string);
+  if (pl->exec == NULL)
+  {
+    ERROR ("exec plugin: strdup failed.");
+    sfree (pl->user);
+    sfree (pl);
+    return (-1);
+  }
+
+  pl->argv = (char **) malloc (ci->values_num * sizeof (char *));
+  if (pl->argv == NULL)
+  {
+    ERROR ("exec plugin: malloc failed.");
+    sfree (pl->exec);
+    sfree (pl->user);
+    sfree (pl);
+    return (-1);
+  }
+  memset (pl->argv, '\0', ci->values_num * sizeof (char *));
+
+  {
+    char *tmp = strrchr (ci->values[1].value.string, '/');
+    if (tmp == NULL)
+      strncpy (buffer, ci->values[1].value.string, sizeof (buffer));
+    else
+      strncpy (buffer, tmp + 1, sizeof (buffer));
+    buffer[sizeof (buffer) - 1] = '\0';
+  }
+  pl->argv[0] = strdup (buffer);
+  if (pl->argv[0] == NULL)
+  {
+    ERROR ("exec plugin: malloc failed.");
+    sfree (pl->argv);
+    sfree (pl->exec);
+    sfree (pl->user);
+    sfree (pl);
+    return (-1);
+  }
 
-    pl->exec = strchr (pl->user, ' ');
-    if (pl->exec == NULL)
+  for (i = 1; i < (ci->values_num - 1); i++)
+  {
+    if (ci->values[i + 1].type == OCONFIG_TYPE_STRING)
     {
-      sfree (pl->user);
-      sfree (pl);
-      return (1);
+      pl->argv[i] = strdup (ci->values[i + 1].value.string);
     }
-    while (*pl->exec == ' ')
+    else
     {
-      *pl->exec = '\0';
-      pl->exec++;
+      if (ci->values[i + 1].type == OCONFIG_TYPE_NUMBER)
+      {
+	snprintf (buffer, sizeof (buffer), "%lf",
+	    ci->values[i + 1].value.number);
+      }
+      else
+      {
+	if (ci->values[i + 1].value.boolean)
+	  strncpy (buffer, "true", sizeof (buffer));
+	else
+	  strncpy (buffer, "false", sizeof (buffer));
+      }
+      buffer[sizeof (buffer) - 1] = '\0';
+
+      pl->argv[i] = strdup (buffer);
     }
 
-    if (*pl->exec == '\0')
+    if (pl->argv[i] == NULL)
     {
-      sfree (pl->user);
-      sfree (pl);
-      return (1);
+      ERROR ("exec plugin: strdup failed.");
+      break;
     }
+  } /* for (i) */
 
-    pl->next = pl_head;
-    pl_head = pl;
-
-    pl->group = strchr (pl->user, ':');
-    if (NULL != pl->group) {
-      *pl->group = '\0';
-      pl->group++;
+  if (i < (ci->values_num - 1))
+  {
+    while ((--i) >= 0)
+    {
+      sfree (pl->argv[i]);
     }
+    sfree (pl->argv);
+    sfree (pl->exec);
+    sfree (pl->user);
+    sfree (pl);
+    return (-1);
   }
-  else
+
+  for (i = 0; pl->argv[i] != NULL; i++)
   {
-    return (-1);
+    DEBUG ("exec plugin: argv[%i] = %s", i, pl->argv[i]);
   }
 
+  pl->next = pl_head;
+  pl_head = pl;
+
   return (0);
-} /* int exec_config */
+} /* int exec_config_exec }}} */
 
-static void exec_child (program_list_t *pl)
+static int exec_config (oconfig_item_t *ci) /* {{{ */
+{
+  int i;
+
+  for (i = 0; i < ci->children_num; i++)
+  {
+    oconfig_item_t *child = ci->children + i;
+    if ((strcasecmp ("Exec", child->key) == 0)
+	|| (strcasecmp ("NotificationExec", child->key) == 0))
+      exec_config_exec (child);
+    else
+    {
+      WARNING ("exec plugin: Unknown config option `%s'.", child->key);
+    }
+  } /* for (i) */
+
+  return (0);
+} /* int exec_config }}} */
+
+static void exec_child (program_list_t *pl) /* {{{ */
 {
   int status;
   int uid;
   int gid;
   int egid;
-  char *arg0;
 
   struct passwd *sp_ptr;
   struct passwd sp;
   char nambuf[2048];
   char errbuf[1024];
 
@@ -175,31 +322,12 @@
     else
     {
       egid = gid;
     }
   } /* if (pl->group == NULL) */
 
-#if HAVE_SETGROUPS
-  if (getuid () == 0)
-  {
-    gid_t  glist[2];
-    size_t glist_len;
-
-    glist[0] = gid;
-    glist_len = 1;
-
-    if ((gid != egid) && (egid != -1))
-    {
-      glist[1] = egid;
-      glist_len = 2;
-    }
-
-    setgroups (glist_len, glist);
-  }
-#endif /* HAVE_SETGROUPS */
-
   status = setgid (gid);
   if (status != 0)
   {
     ERROR ("exec plugin: setgid (%i) failed: %s",
 	gid, sstrerror (errno, errbuf, sizeof (errbuf)));
     exit (-1);
@@ -221,102 +349,150 @@
   {
     ERROR ("exec plugin: setuid (%i) failed: %s",
 	uid, sstrerror (errno, errbuf, sizeof (errbuf)));
     exit (-1);
   }
 
-  arg0 = strrchr (pl->exec, '/');
-  if (arg0 != NULL)
-    arg0++;
-  if ((arg0 == NULL) || (*arg0 == '\0'))
-    arg0 = pl->exec;
-
-  status = execlp (pl->exec, arg0, (char *) 0);
+  status = execvp (pl->exec, pl->argv);
 
   ERROR ("exec plugin: exec failed: %s",
       sstrerror (errno, errbuf, sizeof (errbuf)));
   exit (-1);
-} /* void exec_child */
+} /* void exec_child }}} */
 
-static int fork_child (program_list_t *pl)
+/*
+ * Creates two pipes (one for reading, ong for writing), forks a child, sets up
+ * the pipes so that fd_in is connected to STDIN of the child and fd_out is
+ * connected to STDOUT and STDERR of the child. Then is calls `exec_child'.
+ */
+static int fork_child (program_list_t *pl, int *fd_in, int *fd_out) /* {{{ */
 {
-  int fd_pipe[2];
+  int fd_pipe_in[2];
+  int fd_pipe_out[2];
   int status;
+  int pid;
 
   if (pl->pid != 0)
     return (-1);
 
-  status = pipe (fd_pipe);
+  status = pipe (fd_pipe_in);
+  if (status != 0)
+  {
+    char errbuf[1024];
+    ERROR ("exec plugin: pipe failed: %s",
+	sstrerror (errno, errbuf, sizeof (errbuf)));
+    return (-1);
+  }
+
+  status = pipe (fd_pipe_out);
   if (status != 0)
   {
     char errbuf[1024];
     ERROR ("exec plugin: pipe failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
 
-  pl->pid = fork ();
-  if (pl->pid < 0)
+  pid = fork ();
+  if (pid < 0)
   {
     char errbuf[1024];
     ERROR ("exec plugin: fork failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
-  else if (pl->pid == 0)
+  else if (pid == 0)
   {
-    int fd_num;
-    int fd;
+    close (fd_pipe_in[1]);
+    close (fd_pipe_out[0]);
 
-    /* Close all file descriptors but the pipe end we need. */
-    fd_num = getdtablesize ();
-    for (fd = 0; fd < fd_num; fd++)
-    {
-      if (fd == fd_pipe[1])
-	continue;
-      close (fd);
-    }
-
-    /* Connect the pipe to STDOUT and STDERR */
-    if (fd_pipe[1] != STDOUT_FILENO)
-      dup2 (fd_pipe[1], STDOUT_FILENO);
-    if (fd_pipe[1] != STDERR_FILENO)
-      dup2 (fd_pipe[1], STDERR_FILENO);
-    if ((fd_pipe[1] != STDOUT_FILENO) && (fd_pipe[1] != STDERR_FILENO))
-      close (fd_pipe[1]);
+    /* If the `out' pipe has the filedescriptor STDIN we have to be careful
+     * with the `dup's below. So, if this is the case we have to handle the
+     * `out' pipe first. */
+    if (fd_pipe_out[1] == STDIN_FILENO)
+    {
+      int new_fileno = (fd_pipe_in[0] == STDOUT_FILENO)
+	? STDERR_FILENO : STDOUT_FILENO;
+      dup2 (fd_pipe_out[1], new_fileno);
+      close (fd_pipe_out[1]);
+      fd_pipe_out[1] = new_fileno;
+    }
+    /* Now `fd_pipe_out[1]' is either `STDOUT' or `STDERR', but definitely not
+     * `STDIN_FILENO'. */
+
+    /* Connect the `in' pipe to STDIN */
+    if (fd_pipe_in[0] != STDIN_FILENO)
+    {
+      dup2 (fd_pipe_in[0], STDIN_FILENO);
+      close (fd_pipe_in[0]);
+      fd_pipe_in[0] = STDIN_FILENO;
+    }
+
+    /* Now connect the `out' pipe to STDOUT and STDERR */
+    if (fd_pipe_out[1] != STDOUT_FILENO)
+      dup2 (fd_pipe_out[1], STDOUT_FILENO);
+    if (fd_pipe_out[1] != STDERR_FILENO)
+      dup2 (fd_pipe_out[1], STDERR_FILENO);
+
+    /* If the pipe has some FD that's something completely different, close it
+     * now. */
+    if ((fd_pipe_out[1] != STDOUT_FILENO) && (fd_pipe_out[1] != STDERR_FILENO))
+    {
+      close (fd_pipe_out[1]);
+      fd_pipe_out[1] = STDOUT_FILENO;
+    }
 
     exec_child (pl);
     /* does not return */
   }
 
-  close (fd_pipe[1]);
-  return (fd_pipe[0]);
-} /* int fork_child */
+  close (fd_pipe_in[0]);
+  close (fd_pipe_out[1]);
+
+  if (fd_in != NULL)
+    *fd_in = fd_pipe_in[1];
+  else
+    close (fd_pipe_in[1]);
+
+  if (fd_out != NULL)
+    *fd_out = fd_pipe_out[0];
+  else
+    close (fd_pipe_out[0]);
 
-static int parse_line (char *buffer)
+  return (pid);
+} /* int fork_child }}} */
+
+static int parse_line (char *buffer) /* {{{ */
 {
   char *fields[256];
   int fields_num;
 
   fields[0] = "PUTVAL";
-  fields_num = strsplit (buffer, &fields[1], STATIC_ARRAY_SIZE(fields) - 1);
+  fields_num = strsplit (buffer, fields + 1, STATIC_ARRAY_SIZE(fields) - 1);
 
-  handle_putval (stdout, fields, fields_num + 1);
-  return (0);
-} /* int parse_line */
+  if (strcasecmp (fields[1], "putval") == 0)
+    return (handle_putval (stdout, fields + 1, fields_num));
+  else if (strcasecmp (fields[1], "putnotif") == 0)
+    return (handle_putnotif (stdout, fields + 1, fields_num));
+
+  /* compatibility code */
+  return (handle_putval (stdout, fields, fields_num + 1));
+} /* int parse_line }}} */
 
-static void *exec_read_one (void *arg)
+static void *exec_read_one (void *arg) /* {{{ */
 {
   program_list_t *pl = (program_list_t *) arg;
   int fd;
   FILE *fh;
   char buffer[1024];
+  int status;
 
-  fd = fork_child (pl);
-  if (fd < 0)
+  status = fork_child (pl, NULL, &fd);
+  if (status < 0)
     pthread_exit ((void *) 1);
+  pl->pid = status;
 
   assert (pl->pid != 0);
 
   fh = fdopen (fd, "r");
   if (fh == NULL)
   {
@@ -326,12 +502,13 @@
     kill (pl->pid, SIGTERM);
     pl->pid = 0;
     close (fd);
     pthread_exit ((void *) 1);
   }
 
+  buffer[0] = '\0';
   while (fgets (buffer, sizeof (buffer), fh) != NULL)
   {
     int len;
 
     len = strlen (buffer);
 
@@ -343,39 +520,176 @@
     DEBUG ("exec plugin: exec_read_one: buffer = %s", buffer);
 
     parse_line (buffer);
   } /* while (fgets) */
 
   fclose (fh);
+
+  if (waitpid (pl->pid, &status, 0) > 0)
+    pl->status = status;
+
+  DEBUG ("exec plugin: Child %i exited with status %i.",
+      (int) pl->pid, pl->status);
+
   pl->pid = 0;
 
+  pthread_mutex_lock (&pl_lock);
+  pl->flags &= ~PL_RUNNING;
+  pthread_mutex_unlock (&pl_lock);
+
   pthread_exit ((void *) 0);
   return (NULL);
-} /* void *exec_read_one */
+} /* void *exec_read_one }}} */
 
-static int exec_read (void)
+static void *exec_notification_one (void *arg) /* {{{ */
+{
+  program_list_t *pl = ((program_list_and_notification_t *) arg)->pl;
+  const notification_t *n = &((program_list_and_notification_t *) arg)->n;
+  int fd;
+  FILE *fh;
+  int pid;
+  int status;
+  const char *severity;
+
+  pid = fork_child (pl, &fd, NULL);
+  if (pid < 0) {
+    sfree (arg);
+    pthread_exit ((void *) 1);
+  }
+
+  fh = fdopen (fd, "w");
+  if (fh == NULL)
+  {
+    char errbuf[1024];
+    ERROR ("exec plugin: fdopen (%i) failed: %s", fd,
+	sstrerror (errno, errbuf, sizeof (errbuf)));
+    kill (pl->pid, SIGTERM);
+    pl->pid = 0;
+    close (fd);
+    sfree (arg);
+    pthread_exit ((void *) 1);
+  }
+
+  severity = "FAILURE";
+  if (n->severity == NOTIF_WARNING)
+    severity = "WARNING";
+  else if (n->severity == NOTIF_OKAY)
+    severity = "OKAY";
+
+  fprintf (fh,
+      "Severity: %s\n"
+      "Time: %u\n",
+      severity, (unsigned int) n->time);
+
+  /* Print the optional fields */
+  if (strlen (n->host) > 0)
+    fprintf (fh, "Host: %s\n", n->host);
+  if (strlen (n->plugin) > 0)
+    fprintf (fh, "Plugin: %s\n", n->plugin);
+  if (strlen (n->plugin_instance) > 0)
+    fprintf (fh, "PluginInstance: %s\n", n->plugin_instance);
+  if (strlen (n->type) > 0)
+    fprintf (fh, "Type: %s\n", n->type);
+  if (strlen (n->type_instance) > 0)
+    fprintf (fh, "TypeInstance: %s\n", n->type_instance);
+
+  fprintf (fh, "\n%s\n", n->message);
+
+  fflush (fh);
+  fclose (fh);
+
+  waitpid (pid, &status, 0);
+
+  DEBUG ("exec plugin: Child %i exited with status %i.",
+      pid, status);
+
+  sfree (arg);
+  pthread_exit ((void *) 0);
+  return (NULL);
+} /* void *exec_notification_one }}} */
+
+static int exec_init (void) /* {{{ */
+{
+  struct sigaction sa;
+
+  memset (&sa, '\0', sizeof (sa));
+  sa.sa_handler = sigchld_handler;
+  sigaction (SIGCHLD, &sa, NULL);
+
+  return (0);
+} /* int exec_init }}} */
+
+static int exec_read (void) /* {{{ */
 {
   program_list_t *pl;
 
   for (pl = pl_head; pl != NULL; pl = pl->next)
   {
     pthread_t t;
     pthread_attr_t attr;
 
-    if (pl->pid != 0)
+    /* Only execute `normal' style executables here. */
+    if ((pl->flags & PL_NORMAL) == 0)
       continue;
 
+    pthread_mutex_lock (&pl_lock);
+    /* Skip if a child is already running. */
+    if ((pl->flags & PL_RUNNING) != 0)
+    {
+      pthread_mutex_unlock (&pl_lock);
+      continue;
+    }
+    pl->flags |= PL_RUNNING;
+    pthread_mutex_unlock (&pl_lock);
+
     pthread_attr_init (&attr);
     pthread_attr_setdetachstate (&attr, PTHREAD_CREATE_DETACHED);
     pthread_create (&t, &attr, exec_read_one, (void *) pl);
   } /* for (pl) */
 
   return (0);
-} /* int exec_read */
+} /* int exec_read }}} */
+
+static int exec_notification (const notification_t *n)
+{
+  program_list_t *pl;
+  program_list_and_notification_t *pln;
+
+  for (pl = pl_head; pl != NULL; pl = pl->next)
+  {
+    pthread_t t;
+    pthread_attr_t attr;
+
+    /* Only execute `notification' style executables here. */
+    if ((pl->flags & PL_NOTIF_ACTION) == 0)
+      continue;
+
+    /* Skip if a child is already running. */
+    if (pl->pid != 0)
+      continue;
+
+    pln = (program_list_and_notification_t *) malloc (sizeof
+	(program_list_and_notification_t));
+    if (pln == NULL)
+    {
+      ERROR ("exec plugin: malloc failed.");
+      continue;
+    }
+
+    pln->pl = pl;
+    memcpy (&pln->n, n, sizeof (notification_t));
+
+    pthread_attr_init (&attr);
+    pthread_attr_setdetachstate (&attr, PTHREAD_CREATE_DETACHED);
+    pthread_create (&t, &attr, exec_notification_one, (void *) pln);
+  } /* for (pl) */
+
+  return (0);
+} /* int exec_notification */
 
-static int exec_shutdown (void)
+static int exec_shutdown (void) /* {{{ */
 {
   program_list_t *pl;
   program_list_t *next;
 
   pl = pl_head;
   while (pl != NULL)
@@ -393,18 +707,20 @@
 
     pl = next;
   } /* while (pl) */
   pl_head = NULL;
 
   return (0);
-} /* int exec_shutdown */
+} /* int exec_shutdown }}} */
 
 void module_register (void)
 {
-  plugin_register_config ("exec", exec_config, config_keys, config_keys_num);
+  plugin_register_complex_config ("exec", exec_config);
+  plugin_register_init ("exec", exec_init);
   plugin_register_read ("exec", exec_read);
+  plugin_register_notification ("exec", exec_notification);
   plugin_register_shutdown ("exec", exec_shutdown);
 } /* void module_register */
 
 /*
- * vim:shiftwidth=2:softtabstop=2:tabstop=8
+ * vim:shiftwidth=2:softtabstop=2:tabstop=8:fdm=marker
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/hddtemp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/hddtemp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/hddtemp.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/hddtemp.c	2008-02-19 03:57:18.000000000 +0800
@@ -45,27 +45,28 @@
 #define HDDTEMP_DEF_PORT "7634"
 
 static const char *config_keys[] =
 {
 	"Host",
 	"Port",
-	NULL
+	"TranslateDevicename"
 };
-static int config_keys_num = 2;
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 typedef struct hddname
 {
 	int major;
 	int minor;
 	char *name;
 	struct hddname *next;
 } hddname_t;
 
 static hddname_t *first_hddname = NULL;
 static char *hddtemp_host = NULL;
 static char hddtemp_port[16];
+static int translate_devicename = 1;
 
 /*
  * NAME
  *  hddtemp_query_daemon
  *
  * DESCRIPTION
@@ -117,41 +118,37 @@
 	if (strlen (port) == 0)
 		port = HDDTEMP_DEF_PORT;
 
 	if ((ai_return = getaddrinfo (host, port, &ai_hints, &ai_list)) != 0)
 	{
 		char errbuf[1024];
-		ERROR ("hddtemp plugin: getaddrinfo (%s, %s): %s",
+		ERROR ("hddtemp: getaddrinfo (%s, %s): %s",
 				host, port,
 				(ai_return == EAI_SYSTEM)
 				? sstrerror (errno, errbuf, sizeof (errbuf))
 				: gai_strerror (ai_return));
 		return (-1);
 	}
 
 	fd = -1;
 	for (ai_ptr = ai_list; ai_ptr != NULL; ai_ptr = ai_ptr->ai_next)
 	{
 		/* create our socket descriptor */
-		fd = socket (ai_ptr->ai_family, ai_ptr->ai_socktype,
-				ai_ptr->ai_protocol);
-		if (fd < 0)
+		if ((fd = socket (ai_ptr->ai_family, ai_ptr->ai_socktype, ai_ptr->ai_protocol)) < 0)
 		{
 			char errbuf[1024];
-			ERROR ("hddtemp plugin: socket: %s",
+			ERROR ("hddtemp: socket: %s",
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 			continue;
 		}
 
 		/* connect to the hddtemp daemon */
-		if (connect (fd, (struct sockaddr *) ai_ptr->ai_addr,
-					ai_ptr->ai_addrlen))
+		if (connect (fd, (struct sockaddr *) ai_ptr->ai_addr, ai_ptr->ai_addrlen))
 		{
 			char errbuf[1024];
-			INFO ("hddtemp plugin: connect (%s, %s) failed: %s",
-					host, port,
+			INFO ("hddtemp: connect (%s, %s): %s", host, port,
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 			close (fd);
 			fd = -1;
 			continue;
 		}
 
@@ -161,13 +158,13 @@
 	}
 
 	freeaddrinfo (ai_list);
 
 	if (fd < 0)
 	{
-		ERROR ("hddtemp plugin: Could not connect to daemon.");
+		ERROR ("hddtemp: Could not connect to daemon.");
 		return (-1);
 	}
 
 	/* receive data from the hddtemp daemon */
 	memset (buffer, '\0', buffer_size);
 
@@ -178,13 +175,13 @@
 		{
 			char errbuf[1024];
 
 			if ((errno == EAGAIN) || (errno == EINTR))
 				continue;
 
-			ERROR ("hddtemp plugin: Error reading from socket: %s",
+			ERROR ("hddtemp: Error reading from socket: %s",
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 			close (fd);
 			return (-1);
 		}
 		buffer_fill += status;
 
@@ -192,19 +189,18 @@
 			break;
 	}
 
 	if (buffer_fill >= buffer_size)
 	{
 		buffer[buffer_size - 1] = '\0';
-		WARNING ("hddtemp plugin: Message from hddtemp has been "
-				"truncated.");
+		WARNING ("hddtemp: Message from hddtemp has been truncated.");
 	}
 	else if (buffer_fill == 0)
 	{
-		WARNING ("hddtemp plugin: Peer has unexpectedly shut down "
-				"the socket. Buffer: `%s'", buffer);
+		WARNING ("hddtemp: Peer has unexpectedly shut down the socket. "
+				"Buffer: `%s'", buffer);
 		close (fd);
 		return (-1);
 	}
 
 	close (fd);
 	return (0);
@@ -225,12 +221,21 @@
 			snprintf (hddtemp_port, sizeof (hddtemp_port),
 					"%i", port);
 		else
 			strncpy (hddtemp_port, value, sizeof (hddtemp_port));
 		hddtemp_port[sizeof (hddtemp_port) - 1] = '\0';
 	}
+	else if (strcasecmp (key, "TranslateDevicename") == 0)
+	{
+		if ((strcasecmp ("true", value) == 0)
+				|| (strcasecmp ("yes", value) == 0)
+				|| (strcasecmp ("on", value) == 0))
+			translate_devicename = 1;
+		else
+			translate_devicename = 0;
+	}
 	else
 	{
 		return (-1);
 	}
 
 	return (0);
@@ -265,13 +270,13 @@
 		free (entry);
 	}
 	first_hddname = NULL;
 
 	if ((fh = fopen ("/proc/partitions", "r")) != NULL)
 	{
-		DEBUG ("hddtemp plugin: Looking at /proc/partitions...");
+		DEBUG ("Looking at /proc/partitions...");
 
 		while (fgets (buf, sizeof (buf), fh) != NULL)
 		{
 			/* Delete trailing newlines */
 			buflen = strlen (buf);
 
@@ -306,22 +311,20 @@
 				case SCSI_DISK2_MAJOR:
 				case SCSI_DISK3_MAJOR:
 				case SCSI_DISK4_MAJOR:
 				case SCSI_DISK5_MAJOR:
 				case SCSI_DISK6_MAJOR:
 				case SCSI_DISK7_MAJOR:
-#ifdef SCSI_DISK8_MAJOR
 				case SCSI_DISK8_MAJOR:
 				case SCSI_DISK9_MAJOR:
 				case SCSI_DISK10_MAJOR:
 				case SCSI_DISK11_MAJOR:
 				case SCSI_DISK12_MAJOR:
 				case SCSI_DISK13_MAJOR:
 				case SCSI_DISK14_MAJOR:
 				case SCSI_DISK15_MAJOR:
-#endif /* SCSI_DISK8_MAJOR */
 					/* SCSI disks minors are multiples of 16.
 					 * Keep only those. */
 					if (minor % 16)
 						continue;
 					break;
 
@@ -341,31 +344,31 @@
 					if(minor != 0 && minor != 64)
 						continue;
 					break;
 
 				/* Skip all other majors. */
 				default:
-					DEBUG ("hddtemp plugin: Skipping unknown major %i", major);
+					DEBUG ("Skipping unknown major %i", major);
 					continue;
 			} /* switch (major) */
 
 			if ((name = strdup (fields[3])) == NULL)
 			{
-				ERROR ("hddtemp plugin: strdup(%s) == NULL", fields[3]);
+				ERROR ("hddtemp: strdup(%s) == NULL", fields[3]);
 				continue;
 			}
 
 			if ((entry = (hddname_t *) malloc (sizeof (hddname_t))) == NULL)
 			{
-				ERROR ("hddtemp plugin: malloc (%u) == NULL",
+				ERROR ("hddtemp: malloc (%u) == NULL",
 						(unsigned int) sizeof (hddname_t));
 				free (name);
 				continue;
 			}
 
-			DEBUG ("hddtemp plugin: Found disk: %s (%u:%u).", name, major, minor);
+			DEBUG ("Found disk: %s (%u:%u).", name, major, minor);
 
 			entry->major = major;
 			entry->minor = minor;
 			entry->name  = name;
 			entry->next  = NULL;
 
@@ -382,41 +385,41 @@
 		fclose (fh);
 	}
 #if COLLECT_DEBUG
 	else
 	{
 		char errbuf[1024];
-		DEBUG ("hddtemp plugin: Could not open /proc/partitions: %s",
+		DEBUG ("Could not open /proc/partitions: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 #endif /* COLLECT_DEBUG */
 #endif /* KERNEL_LINUX */
 
 	return (0);
 } /* int hddtemp_init */
 
 /*
- * hddtemp_get_name
+ * hddtemp_get_major_minor
  *
  * Description:
  *   Try to "cook" a bit the drive name as returned
  *   by the hddtemp daemon. The intend is to transform disk
  *   names into <major>-<minor> when possible.
  */
-static char *hddtemp_get_name (char *drive)
+static char *hddtemp_get_major_minor (char *drive)
 {
 	hddname_t *list;
 	char *ret;
 
 	for (list = first_hddname; list != NULL; list = list->next)
 		if (strcmp (drive, list->name) == 0)
 			break;
 
 	if (list == NULL)
 	{
-		DEBUG ("hddtemp plugin: Don't know %s, keeping name as-is.", drive);
+		DEBUG ("Don't know %s, keeping name as-is.", drive);
 		return (strdup (drive));
 	}
 
 	if ((ret = (char *) malloc (128 * sizeof (char))) == NULL)
 		return (NULL);
 
@@ -474,13 +477,13 @@
 	}
 
 	num_disks = num_fields / 4;
 
 	for (i = 0; i < num_disks; i++)
 	{
-		char *name, *submit_name;
+		char *name, *major_minor;
 		double temperature;
 		char *mode;
 
 		mode = fields[4*i + 3];
 		name = basename (fields[4*i + 0]);
 
@@ -491,16 +494,17 @@
 		temperature = atof (fields[4*i + 2]);
 
 		/* Convert farenheit to celsius */
 		if (mode[0] == 'F')
 			temperature = (temperature - 32.0) * 5.0 / 9.0;
 
-		if ((submit_name = hddtemp_get_name (name)) != NULL)
+		if (translate_devicename
+				&& (major_minor = hddtemp_get_major_minor (name)) != NULL)
 		{
-			hddtemp_submit (submit_name, temperature);
-			free (submit_name);
+			hddtemp_submit (major_minor, temperature);
+			free (major_minor);
 		}
 		else
 		{
 			hddtemp_submit (name, temperature);
 		}
 	}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/iptables.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/iptables.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/iptables.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/iptables.c	2008-02-19 03:57:18.000000000 +0800
@@ -103,23 +103,23 @@
 		}
 
 		table = fields[0];
 		chain = fields[1];
 
 		table_len = strlen (table);
-		if (table_len >= sizeof(temp.table))
+		if ((unsigned int)table_len >= sizeof(temp.table))
 		{
 			ERROR ("Table `%s' too long.", table);
 			free (value_copy);
 			return (1);
 		}
 		strncpy (temp.table, table, table_len);
 		temp.table[table_len] = '\0';
 
 		chain_len = strlen (chain);
-		if (chain_len >= sizeof(temp.chain))
+		if ((unsigned int)chain_len >= sizeof(temp.chain))
 		{
 			ERROR ("Chain `%s' too long.", chain);
 			free (value_copy);
 			return (1);
 		}
 		strncpy (temp.chain, chain, chain_len);
@@ -221,13 +221,13 @@
     vl.time = time (NULL);
     strcpy (vl.host, hostname_g);
     strcpy (vl.plugin, "iptables");
 
     status = snprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
 	    "%s-%s", chain->table, chain->chain);
-    if ((status >= sizeof (vl.plugin_instance)) || (status < 1))
+    if ((status < 1) || ((unsigned int)status >= sizeof (vl.plugin_instance)))
 	return (0);
 
     if (chain->name[0] != '\0')
     {
 	strncpy (vl.type_instance, chain->name, sizeof (vl.type_instance));
     }
@@ -281,43 +281,41 @@
 }
 
 
 static int iptables_read (void)
 {
     int i;
-    static complain_t complaint;
+    int num_failures = 0;
 
     /* Init the iptc handle structure and query the correct table */    
     for (i = 0; i < chain_num; i++)
     {
 	iptc_handle_t handle;
 	ip_chain_t *chain;
 	
 	chain = chain_list[i];
 	if (!chain)
 	{
-	    DEBUG ("chain == NULL");
+	    DEBUG ("iptables plugin: chain == NULL");
 	    continue;
 	}
 
-	handle = iptc_init( chain->table );
+	handle = iptc_init (chain->table);
 	if (!handle)
 	{
-	    DEBUG ("iptc_init (%s) failed: %s", chain->table, iptc_strerror (errno));
-	    plugin_complain (LOG_ERR, &complaint, "iptc_init (%s) failed: %s",
+	    ERROR ("iptables plugin: iptc_init (%s) failed: %s",
 		    chain->table, iptc_strerror (errno));
+	    num_failures++;
 	    continue;
 	}
-	plugin_relief (LOG_INFO, &complaint, "iptc_init (%s) succeeded",
-		chain->table);
 
 	submit_chain (&handle, chain);
 	iptc_free (&handle);
-    }
+    } /* for (i = 0 .. chain_num) */
 
-    return (0);
+    return ((num_failures < chain_num) ? 0 : -1);
 } /* int iptables_read */
 
 static int iptables_shutdown (void)
 {
     int i;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/irq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/irq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/irq.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/irq.c	2008-02-19 03:57:18.000000000 +0800
@@ -108,13 +108,13 @@
 {
 	int i;
 
 	if (irq_list_num < 1)
 		return (0);
 
-	for (i = 0; i < irq_list_num; i++)
+	for (i = 0; (unsigned int)i < irq_list_num; i++)
 		if (irq == irq_list[i])
 			return (irq_list_action);
 
 	return (1 - irq_list_action);
 }
 
@@ -134,13 +134,13 @@
 	vl.time = time (NULL);
 	strcpy (vl.host, hostname_g);
 	strcpy (vl.plugin, "irq");
 
 	status = snprintf (vl.type_instance, sizeof (vl.type_instance),
 			"%u", irq);
-	if ((status < 1) || (status >= sizeof (vl.type_instance)))
+	if ((status < 1) || ((unsigned int)status >= sizeof (vl.type_instance)))
 		return;
 
 	plugin_dispatch_values ("irq", &vl);
 } /* void irq_submit */
 
 static int irq_read (void)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/Makefile.in	2008-04-23 20:10:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/Makefile.in	2008-02-20 03:28:06.000000000 +0800
@@ -1,27 +1,31 @@
-# Makefile.in generated by automake 1.10.1 from Makefile.am.
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2003, 2004, 2005  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
 
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ../..
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
 install_sh_PROGRAM = $(install_sh) -c
 install_sh_SCRIPT = $(install_sh) -c
 INSTALL_HEADER = $(INSTALL_DATA)
 transform = $(program_transform_name)
 NORMAL_INSTALL = :
@@ -43,85 +47,237 @@
 CONFIG_HEADER = $(top_builddir)/src/config.h
 CONFIG_CLEAN_FILES =
 LTLIBRARIES = $(noinst_LTLIBRARIES)
 liboconfig_la_LIBADD =
 am_liboconfig_la_OBJECTS = oconfig.lo scanner.lo parser.lo
 liboconfig_la_OBJECTS = $(am_liboconfig_la_OBJECTS)
-liboconfig_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(liboconfig_la_LDFLAGS) $(LDFLAGS) -o $@
-DEFAULT_INCLUDES = -I.@am__isrc@ -I$(top_builddir)/src
+DEFAULT_INCLUDES = -I. -I$(srcdir) -I$(top_builddir)/src
 depcomp =
 am__depfiles_maybe =
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
-	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 LEXCOMPILE = $(LEX) $(LFLAGS) $(AM_LFLAGS)
-LTLEXCOMPILE = $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=compile $(LEX) $(LFLAGS) $(AM_LFLAGS)
-YLWRAP = $(top_srcdir)/ylwrap
+LTLEXCOMPILE = $(LIBTOOL) --mode=compile $(LEX) $(LFLAGS) $(AM_LFLAGS)
 YACCCOMPILE = $(YACC) $(YFLAGS) $(AM_YFLAGS)
-LTYACCCOMPILE = $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=compile $(YACC) $(YFLAGS) $(AM_YFLAGS)
+LTYACCCOMPILE = $(LIBTOOL) --mode=compile $(YACC) $(YFLAGS) \
+	$(AM_YFLAGS)
 SOURCES = $(liboconfig_la_SOURCES)
 DIST_SOURCES = $(liboconfig_la_SOURCES)
 ETAGS = etags
 CTAGS = ctags
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
+BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
+BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LIBVIRT_FALSE = @BUILD_PLUGIN_LIBVIRT_FALSE@
+BUILD_PLUGIN_LIBVIRT_TRUE = @BUILD_PLUGIN_LIBVIRT_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_UUID_FALSE = @BUILD_PLUGIN_UUID_FALSE@
+BUILD_PLUGIN_UUID_TRUE = @BUILD_PLUGIN_UUID_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
+BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
+BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
+BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
+BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
+BUILD_WITH_LIBDEVSTAT_FALSE = @BUILD_WITH_LIBDEVSTAT_FALSE@
+BUILD_WITH_LIBDEVSTAT_TRUE = @BUILD_WITH_LIBDEVSTAT_TRUE@
+BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
+BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBIOKIT_FALSE = @BUILD_WITH_LIBIOKIT_FALSE@
+BUILD_WITH_LIBIOKIT_TRUE = @BUILD_WITH_LIBIOKIT_TRUE@
+BUILD_WITH_LIBIPTC_FALSE = @BUILD_WITH_LIBIPTC_FALSE@
+BUILD_WITH_LIBIPTC_TRUE = @BUILD_WITH_LIBIPTC_TRUE@
+BUILD_WITH_LIBKSTAT_FALSE = @BUILD_WITH_LIBKSTAT_FALSE@
+BUILD_WITH_LIBKSTAT_TRUE = @BUILD_WITH_LIBKSTAT_TRUE@
+BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
+BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
 BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
+BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
+BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
+BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
+BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
+BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
+BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
+BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
+BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
+BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
+BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
+BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
+BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
+BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
+BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
+BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
+BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
+BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
+BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
+COMPILER_IS_GCC_FALSE = @COMPILER_IS_GCC_FALSE@
+COMPILER_IS_GCC_TRUE = @COMPILER_IS_GCC_TRUE@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
 CXXCPP = @CXXCPP@
 CXXDEPMODE = @CXXDEPMODE@
 CXXFLAGS = @CXXFLAGS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
-DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
 EXEEXT = @EXEEXT@
 F77 = @F77@
 FFLAGS = @FFLAGS@
 GREP = @GREP@
-INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
@@ -132,14 +288,12 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTDLINCL = @LTDLINCL@
 LTLIBOBJS = @LTLIBOBJS@
 MAKEINFO = @MAKEINFO@
-MKDIR_P = @MKDIR_P@
-NMEDIT = @NMEDIT@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
@@ -147,39 +301,39 @@
 PATH_SEPARATOR = @PATH_SEPARATOR@
 PERL = @PERL@
 PERL_BINDINGS = @PERL_BINDINGS@
 PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
+PKG_CONFIG = @PKG_CONFIG@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
 YFLAGS = @YFLAGS@
-abs_builddir = @abs_builddir@
-abs_srcdir = @abs_srcdir@
-abs_top_builddir = @abs_top_builddir@
-abs_top_srcdir = @abs_top_srcdir@
 ac_ct_CC = @ac_ct_CC@
 ac_ct_CXX = @ac_ct_CXX@
 ac_ct_F77 = @ac_ct_F77@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
 am__tar = @am__tar@
 am__untar = @am__untar@
 bindir = @bindir@
 build = @build@
 build_alias = @build_alias@
 build_cpu = @build_cpu@
 build_os = @build_os@
 build_vendor = @build_vendor@
-builddir = @builddir@
 datadir = @datadir@
 datarootdir = @datarootdir@
 docdir = @docdir@
 dvidir = @dvidir@
 exec_prefix = @exec_prefix@
 host = @host@
@@ -201,18 +355,15 @@
 pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
-srcdir = @srcdir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-top_builddir = @top_builddir@
-top_srcdir = @top_srcdir@
 AUTOMAKE_OPTIONS = foreign no-dependencies
 BUILT_SOURCES = parser.h
 #CLEANFILES = parser.[ch] scanner.c
 AM_YFLAGS = -d
 noinst_LTLIBRARIES = liboconfig.la
 liboconfig_la_LDFLAGS = -version-info 0:0:0 $(LEXLIB)
@@ -260,16 +411,16 @@
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
 parser.h: parser.c
 	@if test ! -f $@; then \
 	  rm -f parser.c; \
-	  $(MAKE) $(AM_MAKEFLAGS) parser.c; \
+	  $(MAKE) parser.c; \
 	else :; fi
 liboconfig.la: $(liboconfig_la_OBJECTS) $(liboconfig_la_DEPENDENCIES) 
-	$(liboconfig_la_LINK)  $(liboconfig_la_OBJECTS) $(liboconfig_la_LIBADD) $(LIBS)
+	$(LINK)  $(liboconfig_la_LDFLAGS) $(liboconfig_la_OBJECTS) $(liboconfig_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
@@ -281,58 +432,83 @@
 	$(COMPILE) -c `$(CYGPATH_W) '$<'`
 
 .c.lo:
 	$(LTCOMPILE) -c -o $@ $<
 
 .l.c:
-	$(am__skiplex) $(SHELL) $(YLWRAP) $< $(LEX_OUTPUT_ROOT).c $@ -- $(LEXCOMPILE)
+	$(LEXCOMPILE) $<
+	sed '/^#/ s|$(LEX_OUTPUT_ROOT)\.c|$@|' $(LEX_OUTPUT_ROOT).c >$@
+	rm -f $(LEX_OUTPUT_ROOT).c
 
 .y.c:
-	$(am__skipyacc) $(SHELL) $(YLWRAP) $< y.tab.c $@ y.tab.h $*.h y.output $*.output -- $(YACCCOMPILE)
+	$(YACCCOMPILE) $<
+	if test -f y.tab.h; then \
+	  to=`echo "$*_H" | sed \
+                -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/' \
+                -e 's/[^ABCDEFGHIJKLMNOPQRSTUVWXYZ]/_/g'`; \
+	  sed -e "/^#/!b" -e "s/Y_TAB_H/$$to/g" -e "s|y\.tab\.h|$*.h|" \
+            y.tab.h >$*.ht; \
+	  rm -f y.tab.h; \
+	  if cmp -s $*.ht $*.h; then \
+	    rm -f $*.ht ;\
+	  else \
+	    mv $*.ht $*.h; \
+	  fi; \
+	fi
+	if test -f y.output; then \
+	  mv y.output $*.output; \
+	fi
+	sed '/^#/ s|y\.tab\.c|$@|' y.tab.c >$@t && mv $@t $@
+	rm -f y.tab.c
 
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
 
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
+
 ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
 	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonemtpy = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
 tags: TAGS
 
 TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
 	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
 	  test -n "$$unique" || unique=$$empty_fix; \
 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
 	    $$tags $$unique; \
 	fi
 ctags: CTAGS
 CTAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
+	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	test -z "$(CTAGS_ARGS)$$tags$$unique" \
 	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
 	     $$tags $$unique
 
 GTAGS:
 	here=`$(am__cd) $(top_builddir) && pwd` \
@@ -340,27 +516,28 @@
 	  && gtags -i $(GTAGS_ARGS) $$here
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 
 distdir: $(DISTFILES)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	list='$(DISTFILES)'; \
-	  dist_files=`for file in $$list; do echo $$file; done | \
-	  sed -e "s|^$$srcdirstrip/||;t" \
-	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
-	case $$dist_files in \
-	  */*) $(MKDIR_P) `echo "$$dist_files" | \
-			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
-			   sort -u` ;; \
-	esac; \
-	for file in $$dist_files; do \
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
 	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
 	  if test -d $$d/$$file; then \
-	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
 	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
 	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
 	    fi; \
 	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
 	  else \
 	    test -f $(distdir)/$$file \
@@ -407,13 +584,13 @@
 clean-am: clean-generic clean-libtool clean-noinstLTLIBRARIES \
 	mostlyclean-am
 
 distclean: distclean-am
 	-rm -f Makefile
 distclean-am: clean-am distclean-compile distclean-generic \
-	distclean-tags
+	distclean-libtool distclean-tags
 
 dvi: dvi-am
 
 dvi-am:
 
 html: html-am
@@ -421,26 +598,18 @@
 info: info-am
 
 info-am:
 
 install-data-am:
 
-install-dvi: install-dvi-am
-
 install-exec-am:
 
-install-html: install-html-am
-
 install-info: install-info-am
 
 install-man:
 
-install-pdf: install-pdf-am
-
-install-ps: install-ps-am
-
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
 
@@ -454,26 +623,23 @@
 pdf-am:
 
 ps: ps-am
 
 ps-am:
 
-uninstall-am:
-
-.MAKE: install-am install-strip
+uninstall-am: uninstall-info-am
 
 .PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
 	clean-libtool clean-noinstLTLIBRARIES ctags distclean \
 	distclean-compile distclean-generic distclean-libtool \
 	distclean-tags distdir dvi dvi-am html html-am info info-am \
-	install install-am install-data install-data-am install-dvi \
-	install-dvi-am install-exec install-exec-am install-html \
-	install-html-am install-info install-info-am install-man \
-	install-pdf install-pdf-am install-ps install-ps-am \
+	install install-am install-data install-data-am install-exec \
+	install-exec-am install-info install-info-am install-man \
 	install-strip installcheck installcheck-am installdirs \
 	maintainer-clean maintainer-clean-generic mostlyclean \
 	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
-	pdf pdf-am ps ps-am tags uninstall uninstall-am
+	pdf pdf-am ps ps-am tags uninstall uninstall-am \
+	uninstall-info-am
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/oconfig.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/oconfig.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/oconfig.c	2008-04-03 21:52:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/oconfig.c	2007-10-25 01:21:24.000000000 +0800
@@ -24,102 +24,65 @@
 
 #include "oconfig.h"
 
 extern FILE *yyin;
 
 oconfig_item_t *ci_root;
-char           *c_file;
 
 static void yyset_in  (FILE *fd)
 {
   yyin = fd;
 } /* void yyset_in */
 
 oconfig_item_t *oconfig_parse_fh (FILE *fh)
 {
   int status;
   oconfig_item_t *ret;
 
-  char file[10];
-
   yyset_in (fh);
 
-  if (NULL == c_file) {
-    int status;
-
-    status = snprintf (file, sizeof (file), "<fd#%d>", fileno (fh));
-
-    if ((status < 0) || (status >= sizeof (file))) {
-      c_file = "<unknown>";
-    }
-    else {
-      file[sizeof (file) - 1] = '\0';
-      c_file = file;
-    }
-  }
-
   status = yyparse ();
   if (status != 0)
   {
     fprintf (stderr, "yyparse returned error #%i\n", status);
     return (NULL);
   }
 
-  c_file = NULL;
-
   ret = ci_root;
   ci_root = NULL;
   yyset_in ((FILE *) 0);
 
   return (ret);
 } /* oconfig_item_t *oconfig_parse_fh */
 
 oconfig_item_t *oconfig_parse_file (const char *file)
 {
   FILE *fh;
   oconfig_item_t *ret;
 
-  c_file = file;
-
   fh = fopen (file, "r");
   if (fh == NULL)
   {
     fprintf (stderr, "fopen (%s) failed: %s\n", file, strerror (errno));
     return (NULL);
   }
 
   ret = oconfig_parse_fh (fh);
   fclose (fh);
 
-  c_file = NULL;
-
   return (ret);
 } /* oconfig_item_t *oconfig_parse_file */
 
 void oconfig_free (oconfig_item_t *ci)
 {
   int i;
 
-  if (ci == NULL)
-    return;
-
-  if (ci->key != NULL)
-    free (ci->key);
-
-  for (i = 0; i < ci->values_num; i++)
-    if ((ci->values[i].type == OCONFIG_TYPE_STRING)
-        && (NULL != ci->values[i].value.string))
-      free (ci->values[i].value.string);
-
   if (ci->values != NULL)
     free (ci->values);
 
   for (i = 0; i < ci->children_num; i++)
     oconfig_free (ci->children + i);
-
-  if (ci->children != NULL)
-    free (ci->children);
 }
 
 /*
  * vim:shiftwidth=2:tabstop=8:softtabstop=2
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/parser.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/parser.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/parser.c	2008-04-22 23:56:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/parser.c	2008-02-19 06:07:48.000000000 +0800
@@ -104,60 +104,59 @@
 
 /* Lexer variables */
 extern int yylineno;
 extern char *yytext;
 
 extern oconfig_item_t *ci_root;
-extern char           *c_file;
 
 
 /* Enabling traces.  */
 #ifndef YYDEBUG
 # define YYDEBUG 0
 #endif
 
 /* Enabling verbose error messages.  */
 #ifdef YYERROR_VERBOSE
 # undef YYERROR_VERBOSE
 # define YYERROR_VERBOSE 1
 #else
-# define YYERROR_VERBOSE 1
+# define YYERROR_VERBOSE 0
 #endif
 
 /* Enabling the token table.  */
 #ifndef YYTOKEN_TABLE
 # define YYTOKEN_TABLE 0
 #endif
 
 #if ! defined YYSTYPE && ! defined YYSTYPE_IS_DECLARED
 typedef union YYSTYPE
-#line 38 "parser.y"
+#line 37 "parser.y"
 {
 	double  number;
 	int     boolean;
 	char   *string;
 	oconfig_value_t  cv;
 	oconfig_item_t   ci;
 	argument_list_t  al;
 	statement_list_t sl;
 }
 /* Line 187 of yacc.c.  */
-#line 145 "parser.c"
+#line 144 "parser.c"
 	YYSTYPE;
 # define yystype YYSTYPE /* obsolescent; will be withdrawn */
 # define YYSTYPE_IS_DECLARED 1
 # define YYSTYPE_IS_TRIVIAL 1
 #endif
 
 
 
 /* Copy the second part of user declarations.  */
 
 
 /* Line 216 of yacc.c.  */
-#line 158 "parser.c"
+#line 157 "parser.c"
 
 #ifdef short
 # undef short
 #endif
 
 #ifdef YYTYPE_UINT8
@@ -366,22 +365,22 @@
 
 #endif
 
 /* YYFINAL -- State number of the termination state.  */
 #define YYFINAL  22
 /* YYLAST -- Last index in YYTABLE.  */
-#define YYLAST   39
+#define YYLAST   48
 
 /* YYNTOKENS -- Number of terminals.  */
 #define YYNTOKENS  12
 /* YYNNTS -- Number of nonterminals.  */
 #define YYNNTS  12
 /* YYNRULES -- Number of rules.  */
-#define YYNRULES  20
+#define YYNRULES  21
 /* YYNRULES -- Number of states.  */
-#define YYNSTATES  34
+#define YYNSTATES  36
 
 /* YYTRANSLATE(YYLEX) -- Bison symbol number corresponding to YYLEX.  */
 #define YYUNDEFTOK  2
 #define YYMAXUTOK   266
 
 #define YYTRANSLATE(YYX)						\
@@ -422,33 +421,33 @@
 #if YYDEBUG
 /* YYPRHS[YYN] -- Index of the first RHS symbol of rule number YYN in
    YYRHS.  */
 static const yytype_uint8 yyprhs[] =
 {
        0,     0,     3,     5,     7,     9,    11,    13,    15,    18,
-      20,    22,    26,    32,    38,    42,    44,    46,    48,    51,
-      53
+      20,    22,    26,    31,    37,    43,    47,    49,    51,    53,
+      56,    58
 };
 
 /* YYRHS -- A `-1'-separated list of the rules' RHS.  */
 static const yytype_int8 yyrhs[] =
 {
       23,     0,    -1,     6,    -1,     7,    -1,     3,    -1,     4,
       -1,     5,    -1,    13,    -1,    15,    14,    -1,    14,    -1,
-       7,    -1,    16,    15,    11,    -1,     9,    16,    15,    10,
-      11,    -1,     9,     8,    16,    10,    11,    -1,    18,    22,
-      19,    -1,    17,    -1,    20,    -1,    11,    -1,    22,    21,
-      -1,    21,    -1,    22,    -1
+       7,    -1,    16,    15,    11,    -1,     9,    16,    10,    11,
+      -1,     9,    16,    15,    10,    11,    -1,     9,     8,    16,
+      10,    11,    -1,    18,    22,    19,    -1,    17,    -1,    20,
+      -1,    11,    -1,    22,    21,    -1,    21,    -1,    22,    -1
 };
 
 /* YYRLINE[YYN] -- source line where rule number YYN was defined.  */
 static const yytype_uint8 yyrline[] =
 {
-       0,    73,    73,    74,    78,    79,    80,    81,    85,    92,
-     101,   105,   115,   125,   132,   148,   149,   150,   154,   164,
-     181
+       0,    69,    69,    70,    74,    75,    76,    77,    81,    88,
+      97,   101,   111,   117,   127,   134,   150,   151,   152,   156,
+     166,   183
 };
 #endif
 
 #if YYDEBUG || YYERROR_VERBOSE || YYTOKEN_TABLE
 /* YYTNAME[SYMBOL-NUM] -- String name of the symbol SYMBOL-NUM.
    First, the terminals, then, starting at YYNTOKENS, nonterminals.  */
@@ -473,89 +472,91 @@
 # endif
 
 /* YYR1[YYN] -- Symbol number of symbol that rule YYN derives.  */
 static const yytype_uint8 yyr1[] =
 {
        0,    12,    13,    13,    14,    14,    14,    14,    15,    15,
-      16,    17,    18,    19,    20,    21,    21,    21,    22,    22,
-      23
+      16,    17,    18,    18,    19,    20,    21,    21,    21,    22,
+      22,    23
 };
 
 /* YYR2[YYN] -- Number of symbols composing right hand side of rule YYN.  */
 static const yytype_uint8 yyr2[] =
 {
        0,     2,     1,     1,     1,     1,     1,     1,     2,     1,
-       1,     3,     5,     5,     3,     1,     1,     1,     2,     1,
-       1
+       1,     3,     4,     5,     5,     3,     1,     1,     1,     2,
+       1,     1
 };
 
 /* YYDEFACT[STATE-NAME] -- Default rule to reduce with in state
    STATE-NUM when YYTABLE doesn't specify something else to do.  Zero
    means the default is an error.  */
 static const yytype_uint8 yydefact[] =
 {
-       0,    10,     0,    17,     0,    15,     0,    16,    19,    20,
+       0,    10,     0,    18,     0,    16,     0,    17,    20,    21,
        0,     0,     4,     5,     6,     2,     3,     7,     9,     0,
-       0,    18,     1,     0,    11,     8,     0,    14,     0,     0,
-      12,     0,     0,    13
+       0,    19,     1,     0,     0,    11,     8,     0,    15,    12,
+       0,     0,    13,     0,     0,    14
 };
 
 /* YYDEFGOTO[NTERM-NUM].  */
 static const yytype_int8 yydefgoto[] =
 {
-      -1,    17,    18,    19,     4,     5,     6,    27,     7,     8,
+      -1,    17,    18,    19,     4,     5,     6,    28,     7,     8,
        9,    10
 };
 
 /* YYPACT[STATE-NUM] -- Index in YYTABLE of the portion describing
    STATE-NUM.  */
 #define YYPACT_NINF -9
 static const yytype_int8 yypact[] =
 {
-       0,    -9,     1,    -9,    25,    -9,     0,    -9,    -9,     0,
-      18,    25,    -9,    -9,    -9,    -9,    -9,    -9,    -9,    -1,
-      12,    -9,    -9,    10,    -9,    -9,    26,    -9,    14,     1,
-      -9,    27,    24,    -9
+      36,    -9,     4,    -9,    35,    -9,    36,    -9,    -9,    36,
+       7,    10,    -9,    -9,    -9,    -9,    -9,    -9,    -9,    -1,
+      37,    -9,    -9,    11,    27,    -9,    -9,     1,    -9,    -9,
+      12,     4,    -9,     8,    15,    -9
 };
 
 /* YYPGOTO[NTERM-NUM].  */
 static const yytype_int8 yypgoto[] =
 {
-      -9,    -9,     3,    28,    -2,    -9,    -9,    -9,    -9,    -8,
-      30,    -9
+      -9,    -9,     0,    16,    -2,    -9,    -9,    -9,    -9,    -8,
+      22,    -9
 };
 
 /* YYTABLE[YYPACT[STATE-NUM]].  What to do in state STATE-NUM.  If
    positive, shift that token.  If negative, reduce the rule which
    number is the opposite.  If zero, do what YYDEFACT says.
    If YYTABLE_NINF, syntax error.  */
 #define YYTABLE_NINF -1
 static const yytype_uint8 yytable[] =
 {
-      11,    21,    12,    13,    14,    15,    16,     1,     1,     2,
-      24,     3,    21,    12,    13,    14,    15,    16,    22,     1,
-      28,    26,    25,     3,    11,    30,    25,    31,    12,    13,
-      14,    15,    16,     1,    29,    33,    20,    32,     0,    23
+      11,    21,    12,    13,    14,    15,    16,    22,     1,    31,
+      25,     1,    21,    12,    13,    14,    15,    16,    34,    26,
+      23,     0,    29,    32,    26,    11,    35,    24,    20,    33,
+      12,    13,    14,    15,    16,     0,     0,    30,    12,    13,
+      14,    15,    16,     1,     1,     2,    27,     3,     3
 };
 
 static const yytype_int8 yycheck[] =
 {
-       2,     9,     3,     4,     5,     6,     7,     7,     7,     9,
-      11,    11,    20,     3,     4,     5,     6,     7,     0,     7,
-      10,     9,    19,    11,    26,    11,    23,    29,     3,     4,
-       5,     6,     7,     7,     8,    11,     6,    10,    -1,    11
+       2,     9,     3,     4,     5,     6,     7,     0,     7,     8,
+      11,     7,    20,     3,     4,     5,     6,     7,    10,    19,
+      10,    -1,    11,    11,    24,    27,    11,    11,     6,    31,
+       3,     4,     5,     6,     7,    -1,    -1,    10,     3,     4,
+       5,     6,     7,     7,     7,     9,     9,    11,    11
 };
 
 /* YYSTOS[STATE-NUM] -- The (internal number of the) accessing
    symbol of state STATE-NUM.  */
 static const yytype_uint8 yystos[] =
 {
        0,     7,     9,    11,    16,    17,    18,    20,    21,    22,
       23,    16,     3,     4,     5,     6,     7,    13,    14,    15,
-      22,    21,     0,    15,    11,    14,     9,    19,    10,     8,
-      11,    16,    10,    11
+      22,    21,     0,    10,    15,    11,    14,     9,    19,    11,
+      10,     8,    11,    16,    10,    11
 };
 
 #define yyerrok		(yyerrstatus = 0)
 #define yyclearin	(yychar = YYEMPTY)
 #define YYEMPTY		(-2)
 #define YYEOF		0
@@ -1364,94 +1365,102 @@
 
 
   YY_REDUCE_PRINT (yyn);
   switch (yyn)
     {
         case 2:
-#line 73 "parser.y"
+#line 69 "parser.y"
     {(yyval.string) = unquote ((yyvsp[(1) - (1)].string));}
     break;
 
   case 3:
-#line 74 "parser.y"
+#line 70 "parser.y"
     {(yyval.string) = strdup ((yyvsp[(1) - (1)].string));}
     break;
 
   case 4:
-#line 78 "parser.y"
+#line 74 "parser.y"
     {(yyval.cv).value.number = (yyvsp[(1) - (1)].number); (yyval.cv).type = OCONFIG_TYPE_NUMBER;}
     break;
 
   case 5:
-#line 79 "parser.y"
+#line 75 "parser.y"
     {(yyval.cv).value.boolean = 1; (yyval.cv).type = OCONFIG_TYPE_BOOLEAN;}
     break;
 
   case 6:
-#line 80 "parser.y"
+#line 76 "parser.y"
     {(yyval.cv).value.boolean = 0; (yyval.cv).type = OCONFIG_TYPE_BOOLEAN;}
     break;
 
   case 7:
-#line 81 "parser.y"
+#line 77 "parser.y"
     {(yyval.cv).value.string = (yyvsp[(1) - (1)].string); (yyval.cv).type = OCONFIG_TYPE_STRING;}
     break;
 
   case 8:
-#line 86 "parser.y"
+#line 82 "parser.y"
     {
 	 (yyval.al) = (yyvsp[(1) - (2)].al);
 	 (yyval.al).argument_num++;
 	 (yyval.al).argument = realloc ((yyval.al).argument, (yyval.al).argument_num * sizeof (oconfig_value_t));
 	 (yyval.al).argument[(yyval.al).argument_num-1] = (yyvsp[(2) - (2)].cv);
 	}
     break;
 
   case 9:
-#line 93 "parser.y"
+#line 89 "parser.y"
     {
 	 (yyval.al).argument = malloc (sizeof (oconfig_value_t));
 	 (yyval.al).argument[0] = (yyvsp[(1) - (1)].cv);
 	 (yyval.al).argument_num = 1;
 	}
     break;
 
   case 10:
-#line 101 "parser.y"
+#line 97 "parser.y"
     {(yyval.string) = strdup ((yyvsp[(1) - (1)].string));}
     break;
 
   case 11:
-#line 106 "parser.y"
+#line 102 "parser.y"
     {
 	 memset (&(yyval.ci), '\0', sizeof ((yyval.ci)));
 	 (yyval.ci).key = (yyvsp[(1) - (3)].string);
 	 (yyval.ci).values = (yyvsp[(2) - (3)].al).argument;
 	 (yyval.ci).values_num = (yyvsp[(2) - (3)].al).argument_num;
 	}
     break;
 
   case 12:
-#line 116 "parser.y"
+#line 112 "parser.y"
+    {
+	 memset (&(yyval.ci), '\0', sizeof ((yyval.ci)));
+	 (yyval.ci).key = (yyvsp[(2) - (4)].string);
+	}
+    break;
+
+  case 13:
+#line 118 "parser.y"
     {
 	 memset (&(yyval.ci), '\0', sizeof ((yyval.ci)));
 	 (yyval.ci).key = (yyvsp[(2) - (5)].string);
 	 (yyval.ci).values = (yyvsp[(3) - (5)].al).argument;
 	 (yyval.ci).values_num = (yyvsp[(3) - (5)].al).argument_num;
 	}
     break;
 
-  case 13:
-#line 126 "parser.y"
+  case 14:
+#line 128 "parser.y"
     {
 	 (yyval.string) = (yyvsp[(3) - (5)].string);
 	}
     break;
 
-  case 14:
-#line 133 "parser.y"
+  case 15:
+#line 135 "parser.y"
     {
 	 if (strcmp ((yyvsp[(1) - (3)].ci).key, (yyvsp[(3) - (3)].string)) != 0)
 	 {
 		printf ("block_begin = %s; block_end = %s;\n", (yyvsp[(1) - (3)].ci).key, (yyvsp[(3) - (3)].string));
 	 	yyerror ("Block not closed..\n");
 		exit (1);
@@ -1460,44 +1469,44 @@
 	 (yyval.ci) = (yyvsp[(1) - (3)].ci);
 	 (yyval.ci).children = (yyvsp[(2) - (3)].sl).statement;
 	 (yyval.ci).children_num = (yyvsp[(2) - (3)].sl).statement_num;
 	}
     break;
 
-  case 15:
-#line 148 "parser.y"
+  case 16:
+#line 150 "parser.y"
     {(yyval.ci) = (yyvsp[(1) - (1)].ci);}
     break;
 
-  case 16:
-#line 149 "parser.y"
+  case 17:
+#line 151 "parser.y"
     {(yyval.ci) = (yyvsp[(1) - (1)].ci);}
     break;
 
-  case 17:
-#line 150 "parser.y"
+  case 18:
+#line 152 "parser.y"
     {(yyval.ci).values_num = 0;}
     break;
 
-  case 18:
-#line 155 "parser.y"
+  case 19:
+#line 157 "parser.y"
     {
 	 (yyval.sl) = (yyvsp[(1) - (2)].sl);
-	 if ((yyvsp[(2) - (2)].ci).values_num > 0)
+	 if (((yyvsp[(2) - (2)].ci).values_num > 0) || ((yyvsp[(2) - (2)].ci).children_num > 0))
 	 {
 		 (yyval.sl).statement_num++;
 		 (yyval.sl).statement = realloc ((yyval.sl).statement, (yyval.sl).statement_num * sizeof (oconfig_item_t));
 		 (yyval.sl).statement[(yyval.sl).statement_num-1] = (yyvsp[(2) - (2)].ci);
 	 }
 	}
     break;
 
-  case 19:
-#line 165 "parser.y"
+  case 20:
+#line 167 "parser.y"
     {
-	 if ((yyvsp[(1) - (1)].ci).values_num > 0)
+	 if (((yyvsp[(1) - (1)].ci).values_num > 0) || ((yyvsp[(1) - (1)].ci).children_num > 0))
 	 {
 		 (yyval.sl).statement = malloc (sizeof (oconfig_item_t));
 		 (yyval.sl).statement[0] = (yyvsp[(1) - (1)].ci);
 		 (yyval.sl).statement_num = 1;
 	 }
 	 else
@@ -1505,25 +1514,25 @@
 	 	(yyval.sl).statement = NULL;
 		(yyval.sl).statement_num = 0;
 	 }
 	}
     break;
 
-  case 20:
-#line 182 "parser.y"
+  case 21:
+#line 184 "parser.y"
     {
 	 ci_root = malloc (sizeof (oconfig_item_t));
 	 memset (ci_root, '\0', sizeof (oconfig_item_t));
 	 ci_root->children = (yyvsp[(1) - (1)].sl).statement;
 	 ci_root->children_num = (yyvsp[(1) - (1)].sl).statement_num;
 	}
     break;
 
 
 /* Line 1267 of yacc.c.  */
-#line 1524 "parser.c"
+#line 1533 "parser.c"
       default: break;
     }
   YY_SYMBOL_PRINT ("-> $$ =", yyr1[yyn], &yyval, &yyloc);
 
   YYPOPSTACK (yylen);
   yylen = 0;
@@ -1731,25 +1740,17 @@
 #endif
   /* Make sure YYID is used.  */
   return YYID (yyresult);
 }
 
 
-#line 190 "parser.y"
+#line 192 "parser.y"
 
 static int yyerror (const char *s)
 {
-	char *text;
-
-	if (*yytext == '\n')
-		text = "<newline>";
-	else
-		text = yytext;
-
-	fprintf (stderr, "Parse error in file `%s', line %i near `%s': %s\n",
-		c_file, yylineno, text, s);
+	fprintf (stderr, "Error in line %i near `%s': %s\n", yylineno, yytext, s);
 	return (-1);
 } /* int yyerror */
 
 static char *unquote (const char *orig)
 {
 	char *ret = strdup (orig);
@@ -1761,14 +1762,14 @@
 
 	len = strlen (ret);
 
 	if ((len < 2) || (ret[0] != '"') || (ret[len - 1] != '"'))
 		return (ret);
 
-	ret++;
 	len -= 2;
+	memmove (ret, ret + 1, len);
 	ret[len] = '\0';
 
 	for (i = 0; i < len; i++)
 	{
 		if (ret[i] == '\\')
 		{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/parser.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/parser.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/parser.h	2008-03-24 20:39:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/parser.h	2007-06-16 19:47:48.000000000 +0800
@@ -63,13 +63,13 @@
 
 
 
 
 #if ! defined YYSTYPE && ! defined YYSTYPE_IS_DECLARED
 typedef union YYSTYPE
-#line 38 "parser.y"
+#line 37 "parser.y"
 {
 	double  number;
 	int     boolean;
 	char   *string;
 	oconfig_value_t  cv;
 	oconfig_item_t   ci;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/parser.y /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/parser.y
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboconfig/parser.y	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboconfig/parser.y	2008-02-19 06:07:45.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * oconfig - src/parser.y
- * Copyright (C) 2007  Florian octo Forster <octo at verplant.org>
+ * Copyright (C) 2007,2008  Florian octo Forster <octo at verplant.org>
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but WITHOUT
@@ -27,13 +27,12 @@
 
 /* Lexer variables */
 extern int yylineno;
 extern char *yytext;
 
 extern oconfig_item_t *ci_root;
-extern char           *c_file;
 %}
 
 %start entire_file
 
 %union {
 	double  number;
@@ -62,15 +61,12 @@
 /* statements */
 %type <ci> option
 %type <ci> statement
 %type <sl> statement_list
 %type <ci> entire_file
 
-/* pass an verbose, specific error message to yyerror() */
-%error-verbose
-
 %%
 string:
 	QUOTED_STRING		{$$ = unquote ($1);}
 	| UNQUOTED_STRING	{$$ = strdup ($1);}
 	;
 
@@ -109,12 +105,18 @@
 	 $$.values = $2.argument;
 	 $$.values_num = $2.argument_num;
 	}
 	;
 
 block_begin:
+	OPENBRAC identifier CLOSEBRAC EOL
+	{
+	 memset (&$$, '\0', sizeof ($$));
+	 $$.key = $2;
+	}
+	|
 	OPENBRAC identifier argument_list CLOSEBRAC EOL
 	{
 	 memset (&$$, '\0', sizeof ($$));
 	 $$.key = $2;
 	 $$.values = $3.argument;
 	 $$.values_num = $3.argument_num;
@@ -151,22 +153,22 @@
 	;
 
 statement_list:
 	statement_list statement
 	{
 	 $$ = $1;
-	 if ($2.values_num > 0)
+	 if (($2.values_num > 0) || ($2.children_num > 0))
 	 {
 		 $$.statement_num++;
 		 $$.statement = realloc ($$.statement, $$.statement_num * sizeof (oconfig_item_t));
 		 $$.statement[$$.statement_num-1] = $2;
 	 }
 	}
 	| statement
 	{
-	 if ($1.values_num > 0)
+	 if (($1.values_num > 0) || ($1.children_num > 0))
 	 {
 		 $$.statement = malloc (sizeof (oconfig_item_t));
 		 $$.statement[0] = $1;
 		 $$.statement_num = 1;
 	 }
 	 else
@@ -187,21 +189,13 @@
 	}
 	;
 
 %%
 static int yyerror (const char *s)
 {
-	char *text;
-
-	if (*yytext == '\n')
-		text = "<newline>";
-	else
-		text = yytext;
-
-	fprintf (stderr, "Parse error in file `%s', line %i near `%s': %s\n",
-		c_file, yylineno, text, s);
+	fprintf (stderr, "Error in line %i near `%s': %s\n", yylineno, yytext, s);
 	return (-1);
 } /* int yyerror */
 
 static char *unquote (const char *orig)
 {
 	char *ret = strdup (orig);
@@ -213,14 +207,14 @@
 
 	len = strlen (ret);
 
 	if ((len < 2) || (ret[0] != '"') || (ret[len - 1] != '"'))
 		return (ret);
 
-	ret++;
 	len -= 2;
+	memmove (ret, ret + 1, len);
 	ret[len] = '\0';
 
 	for (i = 0; i < len; i++)
 	{
 		if (ret[i] == '\\')
 		{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/liboping/Makefile.in	2008-04-23 20:10:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/liboping/Makefile.in	2008-02-20 03:28:06.000000000 +0800
@@ -1,27 +1,31 @@
-# Makefile.in generated by automake 1.10.1 from Makefile.am.
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2003, 2004, 2005  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
 
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ../..
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
 install_sh_PROGRAM = $(install_sh) -c
 install_sh_SCRIPT = $(install_sh) -c
 INSTALL_HEADER = $(INSTALL_DATA)
 transform = $(program_transform_name)
 NORMAL_INSTALL = :
@@ -44,78 +48,232 @@
 CONFIG_HEADER = $(top_builddir)/src/config.h
 CONFIG_CLEAN_FILES =
 LTLIBRARIES = $(noinst_LTLIBRARIES)
 liboping_la_LIBADD =
 am_liboping_la_OBJECTS = liboping.lo
 liboping_la_OBJECTS = $(am_liboping_la_OBJECTS)
-liboping_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(liboping_la_LDFLAGS) $(LDFLAGS) -o $@
-DEFAULT_INCLUDES = -I.@am__isrc@ -I$(top_builddir)/src
+DEFAULT_INCLUDES = -I. -I$(srcdir) -I$(top_builddir)/src
 depcomp =
 am__depfiles_maybe =
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
-	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = $(liboping_la_SOURCES)
 DIST_SOURCES = $(liboping_la_SOURCES)
 ETAGS = etags
 CTAGS = ctags
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
+BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
+BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LIBVIRT_FALSE = @BUILD_PLUGIN_LIBVIRT_FALSE@
+BUILD_PLUGIN_LIBVIRT_TRUE = @BUILD_PLUGIN_LIBVIRT_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_UUID_FALSE = @BUILD_PLUGIN_UUID_FALSE@
+BUILD_PLUGIN_UUID_TRUE = @BUILD_PLUGIN_UUID_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
+BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
+BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
+BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
+BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
+BUILD_WITH_LIBDEVSTAT_FALSE = @BUILD_WITH_LIBDEVSTAT_FALSE@
+BUILD_WITH_LIBDEVSTAT_TRUE = @BUILD_WITH_LIBDEVSTAT_TRUE@
+BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
+BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBIOKIT_FALSE = @BUILD_WITH_LIBIOKIT_FALSE@
+BUILD_WITH_LIBIOKIT_TRUE = @BUILD_WITH_LIBIOKIT_TRUE@
+BUILD_WITH_LIBIPTC_FALSE = @BUILD_WITH_LIBIPTC_FALSE@
+BUILD_WITH_LIBIPTC_TRUE = @BUILD_WITH_LIBIPTC_TRUE@
+BUILD_WITH_LIBKSTAT_FALSE = @BUILD_WITH_LIBKSTAT_FALSE@
+BUILD_WITH_LIBKSTAT_TRUE = @BUILD_WITH_LIBKSTAT_TRUE@
+BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
+BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
 BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
+BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
+BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
+BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
+BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
+BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
+BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
+BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
+BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
+BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
+BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
+BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
+BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
+BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
+BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
+BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
+BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
+BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
+BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
+COMPILER_IS_GCC_FALSE = @COMPILER_IS_GCC_FALSE@
+COMPILER_IS_GCC_TRUE = @COMPILER_IS_GCC_TRUE@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
 CXXCPP = @CXXCPP@
 CXXDEPMODE = @CXXDEPMODE@
 CXXFLAGS = @CXXFLAGS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
-DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
 EXEEXT = @EXEEXT@
 F77 = @F77@
 FFLAGS = @FFLAGS@
 GREP = @GREP@
-INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
@@ -126,14 +284,12 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTDLINCL = @LTDLINCL@
 LTLIBOBJS = @LTLIBOBJS@
 MAKEINFO = @MAKEINFO@
-MKDIR_P = @MKDIR_P@
-NMEDIT = @NMEDIT@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
@@ -141,39 +297,39 @@
 PATH_SEPARATOR = @PATH_SEPARATOR@
 PERL = @PERL@
 PERL_BINDINGS = @PERL_BINDINGS@
 PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
+PKG_CONFIG = @PKG_CONFIG@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
 YFLAGS = @YFLAGS@
-abs_builddir = @abs_builddir@
-abs_srcdir = @abs_srcdir@
-abs_top_builddir = @abs_top_builddir@
-abs_top_srcdir = @abs_top_srcdir@
 ac_ct_CC = @ac_ct_CC@
 ac_ct_CXX = @ac_ct_CXX@
 ac_ct_F77 = @ac_ct_F77@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
 am__tar = @am__tar@
 am__untar = @am__untar@
 bindir = @bindir@
 build = @build@
 build_alias = @build_alias@
 build_cpu = @build_cpu@
 build_os = @build_os@
 build_vendor = @build_vendor@
-builddir = @builddir@
 datadir = @datadir@
 datarootdir = @datarootdir@
 docdir = @docdir@
 dvidir = @dvidir@
 exec_prefix = @exec_prefix@
 host = @host@
@@ -195,18 +351,15 @@
 pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
-srcdir = @srcdir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-top_builddir = @top_builddir@
-top_srcdir = @top_srcdir@
 AUTOMAKE_OPTIONS = foreign no-dependencies
 @COMPILER_IS_GCC_TRUE@AM_CFLAGS = -Wall -Werror
 EXTRA_DIST = AUTHORS COPYING ChangeLog README
 noinst_LTLIBRARIES = liboping.la
 
 #liboping_la_CFLAGS = 
@@ -252,13 +405,13 @@
 	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
 	  test "$$dir" != "$$p" || dir=.; \
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
 liboping.la: $(liboping_la_OBJECTS) $(liboping_la_DEPENDENCIES) 
-	$(liboping_la_LINK)  $(liboping_la_OBJECTS) $(liboping_la_LIBADD) $(LIBS)
+	$(LINK)  $(liboping_la_LDFLAGS) $(liboping_la_OBJECTS) $(liboping_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
@@ -275,47 +428,52 @@
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
 
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
+
 ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
 	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonemtpy = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
 tags: TAGS
 
 TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
 	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
 	  test -n "$$unique" || unique=$$empty_fix; \
 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
 	    $$tags $$unique; \
 	fi
 ctags: CTAGS
 CTAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
+	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	test -z "$(CTAGS_ARGS)$$tags$$unique" \
 	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
 	     $$tags $$unique
 
 GTAGS:
 	here=`$(am__cd) $(top_builddir) && pwd` \
@@ -323,27 +481,28 @@
 	  && gtags -i $(GTAGS_ARGS) $$here
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 
 distdir: $(DISTFILES)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	list='$(DISTFILES)'; \
-	  dist_files=`for file in $$list; do echo $$file; done | \
-	  sed -e "s|^$$srcdirstrip/||;t" \
-	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
-	case $$dist_files in \
-	  */*) $(MKDIR_P) `echo "$$dist_files" | \
-			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
-			   sort -u` ;; \
-	esac; \
-	for file in $$dist_files; do \
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
 	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
 	  if test -d $$d/$$file; then \
-	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
 	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
 	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
 	    fi; \
 	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
 	  else \
 	    test -f $(distdir)/$$file \
@@ -384,13 +543,13 @@
 clean-am: clean-generic clean-libtool clean-noinstLTLIBRARIES \
 	mostlyclean-am
 
 distclean: distclean-am
 	-rm -f Makefile
 distclean-am: clean-am distclean-compile distclean-generic \
-	distclean-tags
+	distclean-libtool distclean-tags
 
 dvi: dvi-am
 
 dvi-am:
 
 html: html-am
@@ -398,26 +557,18 @@
 info: info-am
 
 info-am:
 
 install-data-am:
 
-install-dvi: install-dvi-am
-
 install-exec-am:
 
-install-html: install-html-am
-
 install-info: install-info-am
 
 install-man:
 
-install-pdf: install-pdf-am
-
-install-ps: install-ps-am
-
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
 
@@ -431,26 +582,23 @@
 pdf-am:
 
 ps: ps-am
 
 ps-am:
 
-uninstall-am:
-
-.MAKE: install-am install-strip
+uninstall-am: uninstall-info-am
 
 .PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
 	clean-libtool clean-noinstLTLIBRARIES ctags distclean \
 	distclean-compile distclean-generic distclean-libtool \
 	distclean-tags distdir dvi dvi-am html html-am info info-am \
-	install install-am install-data install-data-am install-dvi \
-	install-dvi-am install-exec install-exec-am install-html \
-	install-html-am install-info install-info-am install-man \
-	install-pdf install-pdf-am install-ps install-ps-am \
+	install install-am install-data install-data-am install-exec \
+	install-exec-am install-info install-info-am install-man \
 	install-strip installcheck installcheck-am installdirs \
 	maintainer-clean maintainer-clean-generic mostlyclean \
 	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
-	pdf pdf-am ps ps-am tags uninstall uninstall-am
+	pdf pdf-am ps ps-am tags uninstall uninstall-am \
+	uninstall-info-am
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: libvirt.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/logfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/logfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/logfile.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/logfile.c	2008-02-19 03:57:18.000000000 +0800
@@ -1,10 +1,10 @@
 /**
  * collectd - src/logfile.c
  * Copyright (C) 2007  Sebastian Harl
- * Copyright (C) 2007  Florian Forster
+ * Copyright (C) 2007,2008  Florian Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -24,12 +24,14 @@
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #include <pthread.h>
 
+#define DEFAULT_LOGFILE LOCALSTATEDIR"/log/collectd.log"
+
 #if COLLECT_DEBUG
 static int log_level = LOG_DEBUG;
 #else
 static int log_level = LOG_INFO;
 #endif /* COLLECT_DEBUG */
 
@@ -82,36 +84,36 @@
 	else {
 		return -1;
 	}
 	return 0;
 } /* int logfile_config (const char *, const char *) */
 
-static void logfile_log (int severity, const char *msg)
+static void logfile_print (const char *msg, time_t timestamp_time)
 {
 	FILE *fh;
 	int do_close = 0;
-	time_t timestamp_time;
 	struct tm timestamp_tm;
 	char timestamp_str[64];
 
-	if (severity > log_level)
-		return;
-
 	if (print_timestamp)
 	{
-		timestamp_time = time (NULL);
 		localtime_r (&timestamp_time, &timestamp_tm);
 
 		strftime (timestamp_str, sizeof (timestamp_str), "%Y-%m-%d %H:%M:%S",
 				&timestamp_tm);
 		timestamp_str[sizeof (timestamp_str) - 1] = '\0';
 	}
 
 	pthread_mutex_lock (&file_lock);
 
-	if ((log_file == NULL) || (strcasecmp (log_file, "stderr") == 0))
+	if (log_file == NULL)
+	{
+		fh = fopen (DEFAULT_LOGFILE, "a");
+		do_close = 1;
+	}
+	else if (strcasecmp (log_file, "stderr") == 0)
 		fh = stderr;
 	else if (strcasecmp (log_file, "stdout") == 0)
 		fh = stdout;
 	else
 	{
 		fh = fopen (log_file, "a");
@@ -119,13 +121,13 @@
 	}
 
 	if (fh == NULL)
 	{
 			char errbuf[1024];
 			fprintf (stderr, "logfile plugin: fopen (%s) failed: %s\n",
-					(log_file == NULL) ? "<null>" : log_file,
+					(log_file == NULL) ? DEFAULT_LOGFILE : log_file,
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 	else
 	{
 		if (print_timestamp)
 			fprintf (fh, "[%s] %s\n", timestamp_str, msg);
@@ -136,17 +138,65 @@
 			fclose (fh);
 	}
 
 	pthread_mutex_unlock (&file_lock);
 
 	return;
+} /* void logfile_print */
+
+static void logfile_log (int severity, const char *msg)
+{
+	if (severity > log_level)
+		return;
+
+	logfile_print (msg, time (NULL));
 } /* void logfile_log (int, const char *) */
 
+static int logfile_notification (const notification_t *n)
+{
+	char  buf[1024] = "";
+	char *buf_ptr = buf;
+	int   buf_len = sizeof (buf);
+	int status;
+
+	status = snprintf (buf_ptr, buf_len, "Notification: severity = %s",
+			(n->severity == NOTIF_FAILURE) ? "FAILURE"
+			: ((n->severity == NOTIF_WARNING) ? "WARNING"
+				: ((n->severity == NOTIF_OKAY) ? "OKAY" : "UNKNOWN")));
+	if (status > 0)
+	{
+		buf_ptr += status;
+		buf_len -= status;
+	}
+
+#define APPEND(bufptr, buflen, key, value) \
+	if ((buflen > 0) && (strlen (value) > 0)) { \
+		int status = snprintf (bufptr, buflen, ", %s = %s", key, value); \
+		if (status > 0) { \
+			bufptr += status; \
+			buflen -= status; \
+		} \
+	}
+	APPEND (buf_ptr, buf_len, "host", n->host);
+	APPEND (buf_ptr, buf_len, "plugin", n->plugin);
+	APPEND (buf_ptr, buf_len, "plugin_instance", n->plugin_instance);
+	APPEND (buf_ptr, buf_len, "type", n->type);
+	APPEND (buf_ptr, buf_len, "type_instance", n->type_instance);
+	APPEND (buf_ptr, buf_len, "message", n->message);
+
+	buf[sizeof (buf) - 1] = '\0';
+
+	logfile_print (buf, n->time);
+
+	return (0);
+} /* int logfile_notification */
+
 void module_register (void)
 {
 	plugin_register_config ("logfile", logfile_config,
 			config_keys, config_keys_num);
 	plugin_register_log ("logfile", logfile_log);
+	plugin_register_notification ("logfile", logfile_notification);
 } /* void module_register (void) */
 
 /* vim: set sw=4 ts=4 tw=78 noexpandtab : */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/Makefile.am	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/Makefile.am	2008-02-19 03:57:18.000000000 +0800
@@ -7,33 +7,37 @@
 endif
 
 if COMPILER_IS_GCC
 AM_CFLAGS = -Wall -Werror
 endif
 
-sbin_PROGRAMS = collectd
+AM_CPPFLAGS = -DPREFIX='"${prefix}"'
+AM_CPPFLAGS += -DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"'
+AM_CPPFLAGS += -DLOCALSTATEDIR='"${localstatedir}"'
+AM_CPPFLAGS += -DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"'
+if BUILD_FEATURE_DAEMON
+AM_CPPFLAGS += -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
+endif
+AM_CPPFLAGS += -DPLUGINDIR='"${pkglibdir}"'
+
+sbin_PROGRAMS = collectd collectdmon
 bin_PROGRAMS = collectd-nagios
 
 collectd_SOURCES = collectd.c collectd.h \
-		   utils_avltree.c utils_avltree.h \
-		   utils_mount.c utils_mount.h \
-		   utils_llist.c utils_llist.h \
-		   utils_ignorelist.c utils_ignorelist.h \
 		   common.c common.h \
-		   plugin.c plugin.h \
 		   configfile.c configfile.h \
+		   plugin.c plugin.h \
+		   utils_avltree.c utils_avltree.h \
+		   utils_cache.c utils_cache.h \
+		   utils_ignorelist.c utils_ignorelist.h \
+		   utils_llist.c utils_llist.h \
+		   utils_mount.c utils_mount.h \
+		   utils_threshold.c utils_threshold.h \
 		   types_list.c types_list.h
 collectd_CPPFLAGS = $(LTDLINCL)
-collectd_CPPFLAGS += -DPREFIX='"${prefix}"'
-collectd_CPPFLAGS += -DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"'
-collectd_CPPFLAGS += -DLOCALSTATEDIR='"${localstatedir}"'
-collectd_CPPFLAGS += -DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"'
-if BUILD_FEATURE_DAEMON
-collectd_CPPFLAGS += -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
-endif
-collectd_CPPFLAGS += -DPLUGINDIR='"${pkglibdir}"'
+collectd_CPPFLAGS += $(AM_CPPFLAGS)
 
 # Link to these libraries..
 collectd_LDFLAGS = -export-dynamic
 if BUILD_WITH_LIBRT
 collectd_LDFLAGS += -lrt
 endif
@@ -70,12 +74,15 @@
 collectd_LDADD += $(LIBLTDL) liboconfig/liboconfig.la
 collectd_DEPENDENCIES += $(LIBLTDL) liboconfig/liboconfig.la
 else
 collectd_LDFLAGS += -loconfig
 endif
 
+collectdmon_SOURCES = collectdmon.c
+collectdmon_CPPFLAGS = $(AM_CPPFLAGS)
+
 collectd_nagios_SOURCES = collectd-nagios.c
 collectd_nagios_LDFLAGS =
 if BUILD_WITH_LIBSOCKET
 collectd_nagios_LDFLAGS += -lsocket
 endif
 
@@ -273,12 +280,22 @@
 irq_la_SOURCES = irq.c
 irq_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" irq.la
 collectd_DEPENDENCIES += irq.la
 endif
 
+if BUILD_PLUGIN_LIBVIRT
+pkglib_LTLIBRARIES += libvirt.la
+libvirt_la_SOURCES = libvirt.c
+libvirt_la_CFLAGS = $(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+libvirt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
+libvirt_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" libvirt.la
+collectd_DEPENDENCIES += libvirt.la
+endif
+
 if BUILD_PLUGIN_LOAD
 pkglib_LTLIBRARIES += load.la
 load_la_SOURCES = load.c
 load_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" load.la
 collectd_DEPENDENCIES += load.la
@@ -561,14 +578,13 @@
 collectd_LDADD += "-dlopen" tcpconns.la
 collectd_DEPENDENCIES += tcpconns.la
 endif
 
 if BUILD_PLUGIN_UNIXSOCK
 pkglib_LTLIBRARIES += unixsock.la
-unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
-unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
+unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
 unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 collectd_LDADD += "-dlopen" unixsock.la
 collectd_DEPENDENCIES += unixsock.la
 endif
 
 if BUILD_PLUGIN_USERS
@@ -576,12 +592,22 @@
 users_la_SOURCES = users.c
 users_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" users.la
 collectd_DEPENDENCIES += users.la
 endif
 
+if BUILD_PLUGIN_UUID
+pkglib_LTLIBRARIES += uuid.la
+uuid_la_SOURCES = uuid.c
+uuid_la_CFLAGS  = $(BUILD_WITH_LIBHAL_CFLAGS)
+uuid_la_LIBADD  = $(BUILD_WITH_LIBHAL_LIBS)
+uuid_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" uuid.la
+collectd_DEPENDENCIES += uuid.la
+endif
+
 if BUILD_PLUGIN_VSERVER
 pkglib_LTLIBRARIES += vserver.la
 vserver_la_SOURCES = vserver.c
 vserver_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" vserver.la
 collectd_DEPENDENCIES += vserver.la
@@ -604,21 +630,22 @@
 collectd_DEPENDENCIES += xmms.la
 endif
 
 
 dist_man_MANS = collectd.1 collectd-nagios.1 collectd.conf.5 \
 		collectd-email.5 collectd-exec.5 collectd-perl.5 \
-		collectd-snmp.5 collectd-unixsock.5
+		collectd-snmp.5 collectd-unixsock.5 collectdmon.1 \
+		types.db.5
 
 #collectd_1_SOURCES = collectd.pod
 
 EXTRA_DIST = types.db
 
 EXTRA_DIST += collectd-email.pod collectd-exec.pod collectd-nagios.pod \
 	collectd-perl.pod collectd-snmp.pod collectd-unixsock.pod \
-	collectd.conf.pod collectd.pod
+	collectd.conf.pod collectd.pod collectdmon.pod types.db.pod
 
 .pod.1:
 	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
 
 .pod.5:
 	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/Makefile.in	2008-04-23 20:10:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/Makefile.in	2008-02-20 03:28:05.000000000 +0800
@@ -1,28 +1,32 @@
-# Makefile.in generated by automake 1.10.1 from Makefile.am.
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
+# 2003, 2004, 2005  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 @SET_MAKE@
 
 
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
 VPATH = @srcdir@
 pkgdatadir = $(datadir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ..
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
 install_sh_DATA = $(install_sh) -c -m 644
 install_sh_PROGRAM = $(install_sh) -c
 install_sh_SCRIPT = $(install_sh) -c
 INSTALL_HEADER = $(INSTALL_DATA)
 transform = $(program_transform_name)
 NORMAL_INSTALL = :
@@ -32,15 +36,15 @@
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_1 = liboconfig
 @BUILD_WITH_OWN_LIBOPING_TRUE@am__append_2 = liboping
-sbin_PROGRAMS = collectd$(EXEEXT)
-bin_PROGRAMS = collectd-nagios$(EXEEXT)
 @BUILD_FEATURE_DAEMON_TRUE@am__append_3 = -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
+sbin_PROGRAMS = collectd$(EXEEXT) collectdmon$(EXEEXT)
+bin_PROGRAMS = collectd-nagios$(EXEEXT)
 @BUILD_WITH_LIBRT_TRUE@am__append_4 = -lrt
 @BUILD_WITH_LIBSOCKET_TRUE@am__append_5 = -lsocket
 @BUILD_WITH_LIBRESOLV_TRUE@am__append_6 = -lresolv
 @BUILD_WITH_LIBPTHREAD_TRUE@am__append_7 = -lpthread
 @BUILD_WITH_LIBKSTAT_TRUE@am__append_8 = -lkstat
 @BUILD_WITH_LIBDEVINFO_TRUE@am__append_9 = -ldevinfo
@@ -119,125 +123,131 @@
 @BUILD_PLUGIN_IPVS_TRUE@am__append_82 = ipvs.la
 @BUILD_PLUGIN_IPVS_TRUE@am__append_83 = "-dlopen" ipvs.la
 @BUILD_PLUGIN_IPVS_TRUE@am__append_84 = ipvs.la
 @BUILD_PLUGIN_IRQ_TRUE@am__append_85 = irq.la
 @BUILD_PLUGIN_IRQ_TRUE@am__append_86 = "-dlopen" irq.la
 @BUILD_PLUGIN_IRQ_TRUE@am__append_87 = irq.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_88 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_89 = "-dlopen" load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_90 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_91 = -lkvm
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_92 = -ldevstat
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_93 = -lstatgrab
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_94 = logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_95 = "-dlopen" logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_96 = logfile.la
-@BUILD_PLUGIN_MBMON_TRUE@am__append_97 = mbmon.la
-@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_98 = -lsocket
-@BUILD_PLUGIN_MBMON_TRUE@am__append_99 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_88 = libvirt.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_89 = "-dlopen" libvirt.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_90 = libvirt.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_91 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_92 = "-dlopen" load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_93 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_94 = -lkvm
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_95 = -ldevstat
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_96 = -lstatgrab
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_97 = logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_98 = "-dlopen" logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_99 = logfile.la
 @BUILD_PLUGIN_MBMON_TRUE@am__append_100 = mbmon.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_101 = memcached.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_102 = -lsocket
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_103 = "-dlopen" memcached.la
+@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_101 = -lsocket
+@BUILD_PLUGIN_MBMON_TRUE@am__append_102 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_103 = mbmon.la
 @BUILD_PLUGIN_MEMCACHED_TRUE@am__append_104 = memcached.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_105 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_106 = "-dlopen" memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_107 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_108 = -lkstat
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_109 = -ldevinfo
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_110 = -lkvm
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_111 = -ldevstat
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_112 = -lstatgrab
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_113 = multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_114 = "-dlopen" multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_115 = multimeter.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_116 = mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_117 = "-dlopen" mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_118 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_119 = $(BUILD_WITH_LIBMYSQL_LIBS)
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_120 = mysql.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_121 = netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_122 = "-dlopen" netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_123 = netlink.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_124 = network.la
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_125 = -lsocket
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_126 = -lpthread
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_127 = "-dlopen" network.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_128 = network.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_129 = nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_130 = "-dlopen" nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_131 = nfs.la
-@BUILD_PLUGIN_NGINX_TRUE@am__append_132 = nginx.la
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_133 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_134 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_NGINX_TRUE@am__append_135 = "-dlopen" nginx.la
-@BUILD_PLUGIN_NGINX_TRUE@am__append_136 = nginx.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_137 = ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_138 = -lsocket
-@BUILD_PLUGIN_NTPD_TRUE@am__append_139 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_105 = -lsocket
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_106 = "-dlopen" memcached.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_107 = memcached.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_108 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_109 = "-dlopen" memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_110 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_111 = -lkstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_112 = -ldevinfo
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_113 = -lkvm
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_114 = -ldevstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_115 = -lstatgrab
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_116 = multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_117 = "-dlopen" multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_118 = multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_119 = mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_120 = "-dlopen" mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_121 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_122 = $(BUILD_WITH_LIBMYSQL_LIBS)
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_123 = mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_124 = netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_125 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_126 = netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_127 = network.la
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_128 = -lsocket
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_129 = -lpthread
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_130 = "-dlopen" network.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_131 = network.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_132 = nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_133 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_134 = nfs.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_135 = nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_136 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_137 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_NGINX_TRUE@am__append_138 = "-dlopen" nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_139 = nginx.la
 @BUILD_PLUGIN_NTPD_TRUE@am__append_140 = ntpd.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_141 = nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_142 = "-dlopen" nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_143 = nut.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_144 = perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_145 = "-dlopen" perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_146 = perl.la
-@BUILD_PLUGIN_PING_TRUE@am__append_147 = ping.la
-@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_148 = -loping
-@BUILD_PLUGIN_PING_TRUE@am__append_149 = "-dlopen" ping.la
+@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_141 = -lsocket
+@BUILD_PLUGIN_NTPD_TRUE@am__append_142 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_143 = ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_144 = nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_145 = "-dlopen" nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_146 = nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_147 = perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_148 = "-dlopen" perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_149 = perl.la
 @BUILD_PLUGIN_PING_TRUE@am__append_150 = ping.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_151 = processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_152 = "-dlopen" processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_153 = processes.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_154 = rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_155 = "-dlopen" rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_156 = rrdtool.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_157 = sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_158 = "-dlopen" sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_159 = sensors.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_160 = serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_161 = "-dlopen" serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_162 = serial.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_163 = snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_164 = $(BUILD_WITH_LIBSNMP_CFLAGS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_165 = $(BUILD_WITH_LIBSNMP_LIBS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_166 = -lpthread
-@BUILD_PLUGIN_SNMP_TRUE@am__append_167 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_168 = snmp.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_169 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_170 = "-dlopen" swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_171 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_172 = -lkstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_173 = -ldevinfo
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_174 = -lkvm
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_175 = -ldevstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_176 = -lstatgrab
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_177 = syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_178 = "-dlopen" syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_179 = syslog.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_180 = tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_181 = "-dlopen" tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_182 = tape.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_183 = tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_184 = "-dlopen" tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_185 = tcpconns.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_186 = unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_187 = "-dlopen" unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_188 = unixsock.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_189 = users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_190 = "-dlopen" users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_191 = users.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_192 = vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_193 = "-dlopen" vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_194 = vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_195 = wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_196 = "-dlopen" wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_197 = wireless.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_198 = xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_199 = "-dlopen" xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_200 = xmms.la
+@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_151 = -loping
+@BUILD_PLUGIN_PING_TRUE@am__append_152 = "-dlopen" ping.la
+@BUILD_PLUGIN_PING_TRUE@am__append_153 = ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_154 = processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_155 = "-dlopen" processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_156 = processes.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_157 = rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_158 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_159 = rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_160 = sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_161 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_162 = sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_163 = serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_164 = "-dlopen" serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_165 = serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_166 = snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_167 = $(BUILD_WITH_LIBSNMP_CFLAGS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_168 = $(BUILD_WITH_LIBSNMP_LIBS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_169 = -lpthread
+@BUILD_PLUGIN_SNMP_TRUE@am__append_170 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_171 = snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_172 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_173 = "-dlopen" swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_174 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_175 = -lkstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_176 = -ldevinfo
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_177 = -lkvm
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_178 = -ldevstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_179 = -lstatgrab
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_180 = syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_181 = "-dlopen" syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_182 = syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_183 = tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_184 = "-dlopen" tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_185 = tape.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_186 = tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_187 = "-dlopen" tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_188 = tcpconns.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_189 = unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_190 = "-dlopen" unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_191 = unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_192 = users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_193 = "-dlopen" users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_194 = users.la
+@BUILD_PLUGIN_UUID_TRUE@am__append_195 = uuid.la
+@BUILD_PLUGIN_UUID_TRUE@am__append_196 = "-dlopen" uuid.la
+@BUILD_PLUGIN_UUID_TRUE@am__append_197 = uuid.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_198 = vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_199 = "-dlopen" vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_200 = vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_201 = wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_202 = "-dlopen" wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_203 = wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_204 = xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_205 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_206 = xmms.la
 subdir = src
 DIST_COMMON = $(dist_man_MANS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/collectd.conf.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
@@ -261,552 +271,638 @@
 @BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_APACHE_TRUE@	$(am__DEPENDENCIES_2)
 am__apache_la_SOURCES_DIST = apache.c
 @BUILD_PLUGIN_APACHE_TRUE@am_apache_la_OBJECTS = apache_la-apache.lo
 apache_la_OBJECTS = $(am_apache_la_OBJECTS)
-apache_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(apache_la_CFLAGS) \
-	$(CFLAGS) $(apache_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_APACHE_TRUE@am_apache_la_rpath = -rpath $(pkglibdir)
 apcups_la_LIBADD =
 am__apcups_la_SOURCES_DIST = apcups.c
 @BUILD_PLUGIN_APCUPS_TRUE@am_apcups_la_OBJECTS = apcups.lo
 apcups_la_OBJECTS = $(am_apcups_la_OBJECTS)
-apcups_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(apcups_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_APCUPS_TRUE@am_apcups_la_rpath = -rpath $(pkglibdir)
 apple_sensors_la_LIBADD =
 am__apple_sensors_la_SOURCES_DIST = apple_sensors.c
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@am_apple_sensors_la_OBJECTS =  \
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@	apple_sensors.lo
 apple_sensors_la_OBJECTS = $(am_apple_sensors_la_OBJECTS)
-apple_sensors_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(apple_sensors_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@am_apple_sensors_la_rpath = -rpath \
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@	$(pkglibdir)
 battery_la_LIBADD =
 am__battery_la_SOURCES_DIST = battery.c
 @BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_OBJECTS = battery.lo
 battery_la_OBJECTS = $(am_battery_la_OBJECTS)
-battery_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(battery_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_rpath = -rpath $(pkglibdir)
 cpu_la_LIBADD =
 am__cpu_la_SOURCES_DIST = cpu.c
 @BUILD_PLUGIN_CPU_TRUE@am_cpu_la_OBJECTS = cpu.lo
 cpu_la_OBJECTS = $(am_cpu_la_OBJECTS)
-cpu_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(cpu_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_CPU_TRUE@am_cpu_la_rpath = -rpath $(pkglibdir)
 cpufreq_la_LIBADD =
 am__cpufreq_la_SOURCES_DIST = cpufreq.c
 @BUILD_PLUGIN_CPUFREQ_TRUE@am_cpufreq_la_OBJECTS = cpufreq.lo
 cpufreq_la_OBJECTS = $(am_cpufreq_la_OBJECTS)
-cpufreq_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(cpufreq_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_CPUFREQ_TRUE@am_cpufreq_la_rpath = -rpath $(pkglibdir)
 csv_la_LIBADD =
 am__csv_la_SOURCES_DIST = csv.c
 @BUILD_PLUGIN_CSV_TRUE@am_csv_la_OBJECTS = csv.lo
 csv_la_OBJECTS = $(am_csv_la_OBJECTS)
-csv_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(csv_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_CSV_TRUE@am_csv_la_rpath = -rpath $(pkglibdir)
 df_la_LIBADD =
 am__df_la_SOURCES_DIST = df.c
 @BUILD_PLUGIN_DF_TRUE@am_df_la_OBJECTS = df.lo
 df_la_OBJECTS = $(am_df_la_OBJECTS)
-df_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(df_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
 disk_la_LIBADD =
 am__disk_la_SOURCES_DIST = disk.c
 @BUILD_PLUGIN_DISK_TRUE@am_disk_la_OBJECTS = disk.lo
 disk_la_OBJECTS = $(am_disk_la_OBJECTS)
-disk_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(disk_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
 dns_la_LIBADD =
 am__dns_la_SOURCES_DIST = dns.c utils_dns.c utils_dns.h
 @BUILD_PLUGIN_DNS_TRUE@am_dns_la_OBJECTS = dns.lo utils_dns.lo
 dns_la_OBJECTS = $(am_dns_la_OBJECTS)
-dns_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(dns_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_DNS_TRUE@am_dns_la_rpath = -rpath $(pkglibdir)
 email_la_LIBADD =
 am__email_la_SOURCES_DIST = email.c
 @BUILD_PLUGIN_EMAIL_TRUE@am_email_la_OBJECTS = email.lo
 email_la_OBJECTS = $(am_email_la_OBJECTS)
-email_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(email_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_EMAIL_TRUE@am_email_la_rpath = -rpath $(pkglibdir)
 entropy_la_LIBADD =
 am__entropy_la_SOURCES_DIST = entropy.c
 @BUILD_PLUGIN_ENTROPY_TRUE@am_entropy_la_OBJECTS = entropy.lo
 entropy_la_OBJECTS = $(am_entropy_la_OBJECTS)
-entropy_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(entropy_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_ENTROPY_TRUE@am_entropy_la_rpath = -rpath $(pkglibdir)
 exec_la_LIBADD =
 am__exec_la_SOURCES_DIST = exec.c utils_cmd_putval.c \
 	utils_cmd_putval.h
 @BUILD_PLUGIN_EXEC_TRUE@am_exec_la_OBJECTS = exec.lo \
 @BUILD_PLUGIN_EXEC_TRUE@	utils_cmd_putval.lo
 exec_la_OBJECTS = $(am_exec_la_OBJECTS)
-exec_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(exec_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_EXEC_TRUE@am_exec_la_rpath = -rpath $(pkglibdir)
 hddtemp_la_LIBADD =
 am__hddtemp_la_SOURCES_DIST = hddtemp.c
 @BUILD_PLUGIN_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS = hddtemp.lo
 hddtemp_la_OBJECTS = $(am_hddtemp_la_OBJECTS)
-hddtemp_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(hddtemp_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_HDDTEMP_TRUE@am_hddtemp_la_rpath = -rpath $(pkglibdir)
 interface_la_LIBADD =
 am__interface_la_SOURCES_DIST = interface.c
 @BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_OBJECTS = interface.lo
 interface_la_OBJECTS = $(am_interface_la_OBJECTS)
-interface_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(interface_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_rpath = -rpath \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(pkglibdir)
 iptables_la_LIBADD =
 am__iptables_la_SOURCES_DIST = iptables.c
 @BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_OBJECTS = iptables.lo
 iptables_la_OBJECTS = $(am_iptables_la_OBJECTS)
-iptables_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(iptables_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_rpath = -rpath $(pkglibdir)
 ipvs_la_LIBADD =
 am__ipvs_la_SOURCES_DIST = ipvs.c
 @BUILD_PLUGIN_IPVS_TRUE@am_ipvs_la_OBJECTS = ipvs.lo
 ipvs_la_OBJECTS = $(am_ipvs_la_OBJECTS)
-ipvs_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(ipvs_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_IPVS_TRUE@am_ipvs_la_rpath = -rpath $(pkglibdir)
 irq_la_LIBADD =
 am__irq_la_SOURCES_DIST = irq.c
 @BUILD_PLUGIN_IRQ_TRUE@am_irq_la_OBJECTS = irq.lo
 irq_la_OBJECTS = $(am_irq_la_OBJECTS)
-irq_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(irq_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_IRQ_TRUE@am_irq_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_LIBVIRT_TRUE@	$(am__DEPENDENCIES_1) \
+@BUILD_PLUGIN_LIBVIRT_TRUE@	$(am__DEPENDENCIES_1)
+am__libvirt_la_SOURCES_DIST = libvirt.c
+@BUILD_PLUGIN_LIBVIRT_TRUE@am_libvirt_la_OBJECTS =  \
+@BUILD_PLUGIN_LIBVIRT_TRUE@	libvirt_la-libvirt.lo
+libvirt_la_OBJECTS = $(am_libvirt_la_OBJECTS)
+@BUILD_PLUGIN_LIBVIRT_TRUE@am_libvirt_la_rpath = -rpath $(pkglibdir)
 load_la_LIBADD =
 am__load_la_SOURCES_DIST = load.c
 @BUILD_PLUGIN_LOAD_TRUE@am_load_la_OBJECTS = load.lo
 load_la_OBJECTS = $(am_load_la_OBJECTS)
-load_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(load_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_LOAD_TRUE@am_load_la_rpath = -rpath $(pkglibdir)
 logfile_la_LIBADD =
 am__logfile_la_SOURCES_DIST = logfile.c
 @BUILD_PLUGIN_LOGFILE_TRUE@am_logfile_la_OBJECTS = logfile.lo
 logfile_la_OBJECTS = $(am_logfile_la_OBJECTS)
-logfile_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(logfile_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_LOGFILE_TRUE@am_logfile_la_rpath = -rpath $(pkglibdir)
 mbmon_la_LIBADD =
 am__mbmon_la_SOURCES_DIST = mbmon.c
 @BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_OBJECTS = mbmon.lo
 mbmon_la_OBJECTS = $(am_mbmon_la_OBJECTS)
-mbmon_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(mbmon_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_rpath = -rpath $(pkglibdir)
 memcached_la_DEPENDENCIES =
 am__memcached_la_SOURCES_DIST = memcached.c
 @BUILD_PLUGIN_MEMCACHED_TRUE@am_memcached_la_OBJECTS =  \
 @BUILD_PLUGIN_MEMCACHED_TRUE@	memcached_la-memcached.lo
 memcached_la_OBJECTS = $(am_memcached_la_OBJECTS)
-memcached_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(memcached_la_CFLAGS) \
-	$(CFLAGS) $(memcached_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MEMCACHED_TRUE@am_memcached_la_rpath = -rpath \
 @BUILD_PLUGIN_MEMCACHED_TRUE@	$(pkglibdir)
 memory_la_LIBADD =
 am__memory_la_SOURCES_DIST = memory.c
 @BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_OBJECTS = memory.lo
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
-memory_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(memory_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
 multimeter_la_LIBADD =
 am__multimeter_la_SOURCES_DIST = multimeter.c
 @BUILD_PLUGIN_MULTIMETER_TRUE@am_multimeter_la_OBJECTS =  \
 @BUILD_PLUGIN_MULTIMETER_TRUE@	multimeter.lo
 multimeter_la_OBJECTS = $(am_multimeter_la_OBJECTS)
-multimeter_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(multimeter_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MULTIMETER_TRUE@am_multimeter_la_rpath = -rpath \
 @BUILD_PLUGIN_MULTIMETER_TRUE@	$(pkglibdir)
 @BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__DEPENDENCIES_3 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_MYSQL_TRUE@	$(am__DEPENDENCIES_3)
 am__mysql_la_SOURCES_DIST = mysql.c
 @BUILD_PLUGIN_MYSQL_TRUE@am_mysql_la_OBJECTS = mysql_la-mysql.lo
 mysql_la_OBJECTS = $(am_mysql_la_OBJECTS)
-mysql_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(mysql_la_CFLAGS) $(CFLAGS) \
-	$(mysql_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MYSQL_TRUE@am_mysql_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_NETLINK_TRUE@	$(am__DEPENDENCIES_1)
 am__netlink_la_SOURCES_DIST = netlink.c
 @BUILD_PLUGIN_NETLINK_TRUE@am_netlink_la_OBJECTS =  \
 @BUILD_PLUGIN_NETLINK_TRUE@	netlink_la-netlink.lo
 netlink_la_OBJECTS = $(am_netlink_la_OBJECTS)
-netlink_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(netlink_la_CFLAGS) \
-	$(CFLAGS) $(netlink_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_NETLINK_TRUE@am_netlink_la_rpath = -rpath $(pkglibdir)
 network_la_LIBADD =
 am__network_la_SOURCES_DIST = network.c network.h
 @BUILD_PLUGIN_NETWORK_TRUE@am_network_la_OBJECTS = network.lo
 network_la_OBJECTS = $(am_network_la_OBJECTS)
-network_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(network_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_NETWORK_TRUE@am_network_la_rpath = -rpath $(pkglibdir)
 nfs_la_LIBADD =
 am__nfs_la_SOURCES_DIST = nfs.c
 @BUILD_PLUGIN_NFS_TRUE@am_nfs_la_OBJECTS = nfs.lo
 nfs_la_OBJECTS = $(am_nfs_la_OBJECTS)
-nfs_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(nfs_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_NFS_TRUE@am_nfs_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__DEPENDENCIES_4 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_NGINX_TRUE@	$(am__DEPENDENCIES_4)
 am__nginx_la_SOURCES_DIST = nginx.c
 @BUILD_PLUGIN_NGINX_TRUE@am_nginx_la_OBJECTS = nginx_la-nginx.lo
 nginx_la_OBJECTS = $(am_nginx_la_OBJECTS)
-nginx_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(nginx_la_CFLAGS) $(CFLAGS) \
-	$(nginx_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_NGINX_TRUE@am_nginx_la_rpath = -rpath $(pkglibdir)
 ntpd_la_LIBADD =
 am__ntpd_la_SOURCES_DIST = ntpd.c
 @BUILD_PLUGIN_NTPD_TRUE@am_ntpd_la_OBJECTS = ntpd.lo
 ntpd_la_OBJECTS = $(am_ntpd_la_OBJECTS)
-ntpd_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(ntpd_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_NTPD_TRUE@am_ntpd_la_rpath = -rpath $(pkglibdir)
 nut_la_LIBADD =
 am__nut_la_SOURCES_DIST = nut.c
 @BUILD_PLUGIN_NUT_TRUE@am_nut_la_OBJECTS = nut_la-nut.lo
 nut_la_OBJECTS = $(am_nut_la_OBJECTS)
-nut_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(nut_la_CFLAGS) $(CFLAGS) \
-	$(nut_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_NUT_TRUE@am_nut_la_rpath = -rpath $(pkglibdir)
 perl_la_LIBADD =
 am__perl_la_SOURCES_DIST = perl.c
 @BUILD_PLUGIN_PERL_TRUE@am_perl_la_OBJECTS = perl_la-perl.lo
 perl_la_OBJECTS = $(am_perl_la_OBJECTS)
-perl_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(perl_la_CFLAGS) $(CFLAGS) \
-	$(perl_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_PERL_TRUE@am_perl_la_rpath = -rpath $(pkglibdir)
 am__ping_la_SOURCES_DIST = ping.c
 @BUILD_PLUGIN_PING_TRUE@am_ping_la_OBJECTS = ping.lo
 ping_la_OBJECTS = $(am_ping_la_OBJECTS)
-ping_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(ping_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_PING_TRUE@am_ping_la_rpath = -rpath $(pkglibdir)
 processes_la_LIBADD =
 am__processes_la_SOURCES_DIST = processes.c
 @BUILD_PLUGIN_PROCESSES_TRUE@am_processes_la_OBJECTS = processes.lo
 processes_la_OBJECTS = $(am_processes_la_OBJECTS)
-processes_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(processes_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_PROCESSES_TRUE@am_processes_la_rpath = -rpath \
 @BUILD_PLUGIN_PROCESSES_TRUE@	$(pkglibdir)
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_RRDTOOL_TRUE@	$(am__DEPENDENCIES_1)
 am__rrdtool_la_SOURCES_DIST = rrdtool.c
 @BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_OBJECTS =  \
 @BUILD_PLUGIN_RRDTOOL_TRUE@	rrdtool_la-rrdtool.lo
 rrdtool_la_OBJECTS = $(am_rrdtool_la_OBJECTS)
-rrdtool_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(rrdtool_la_CFLAGS) \
-	$(CFLAGS) $(rrdtool_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_rpath = -rpath $(pkglibdir)
 sensors_la_DEPENDENCIES =
 am__sensors_la_SOURCES_DIST = sensors.c
 @BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_OBJECTS =  \
 @BUILD_PLUGIN_SENSORS_TRUE@	sensors_la-sensors.lo
 sensors_la_OBJECTS = $(am_sensors_la_OBJECTS)
-sensors_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(sensors_la_CFLAGS) \
-	$(CFLAGS) $(sensors_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
 serial_la_LIBADD =
 am__serial_la_SOURCES_DIST = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
 serial_la_OBJECTS = $(am_serial_la_OBJECTS)
-serial_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(serial_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__DEPENDENCIES_5 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_DEPENDENCIES = $(am__DEPENDENCIES_5) \
 @BUILD_PLUGIN_SNMP_TRUE@	$(am__DEPENDENCIES_1)
 am__snmp_la_SOURCES_DIST = snmp.c
 @BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_OBJECTS = snmp_la-snmp.lo
 snmp_la_OBJECTS = $(am_snmp_la_OBJECTS)
-snmp_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(snmp_la_CFLAGS) $(CFLAGS) \
-	$(snmp_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_rpath = -rpath $(pkglibdir)
 swap_la_LIBADD =
 am__swap_la_SOURCES_DIST = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@am_swap_la_OBJECTS = swap.lo
 swap_la_OBJECTS = $(am_swap_la_OBJECTS)
-swap_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(swap_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_SWAP_TRUE@am_swap_la_rpath = -rpath $(pkglibdir)
 syslog_la_LIBADD =
 am__syslog_la_SOURCES_DIST = syslog.c
 @BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_OBJECTS = syslog.lo
 syslog_la_OBJECTS = $(am_syslog_la_OBJECTS)
-syslog_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(syslog_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_rpath = -rpath $(pkglibdir)
 tape_la_LIBADD =
 am__tape_la_SOURCES_DIST = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@am_tape_la_OBJECTS = tape.lo
 tape_la_OBJECTS = $(am_tape_la_OBJECTS)
-tape_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(tape_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_TAPE_TRUE@am_tape_la_rpath = -rpath $(pkglibdir)
 tcpconns_la_LIBADD =
 am__tcpconns_la_SOURCES_DIST = tcpconns.c
 @BUILD_PLUGIN_TCPCONNS_TRUE@am_tcpconns_la_OBJECTS = tcpconns.lo
 tcpconns_la_OBJECTS = $(am_tcpconns_la_OBJECTS)
-tcpconns_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(tcpconns_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_TCPCONNS_TRUE@am_tcpconns_la_rpath = -rpath $(pkglibdir)
 unixsock_la_LIBADD =
 am__unixsock_la_SOURCES_DIST = unixsock.c utils_cmd_putval.h \
-	utils_cmd_putval.c
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS =  \
-@BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock_la-unixsock.lo \
-@BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock_la-utils_cmd_putval.lo
+	utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS = unixsock.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putval.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putnotif.lo
 unixsock_la_OBJECTS = $(am_unixsock_la_OBJECTS)
-unixsock_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(unixsock_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_rpath = -rpath $(pkglibdir)
 users_la_LIBADD =
 am__users_la_SOURCES_DIST = users.c
 @BUILD_PLUGIN_USERS_TRUE@am_users_la_OBJECTS = users.lo
 users_la_OBJECTS = $(am_users_la_OBJECTS)
-users_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(users_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_USERS_TRUE@am_users_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_UUID_TRUE@uuid_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
+am__uuid_la_SOURCES_DIST = uuid.c
+@BUILD_PLUGIN_UUID_TRUE@am_uuid_la_OBJECTS = uuid_la-uuid.lo
+uuid_la_OBJECTS = $(am_uuid_la_OBJECTS)
+@BUILD_PLUGIN_UUID_TRUE@am_uuid_la_rpath = -rpath $(pkglibdir)
 vserver_la_LIBADD =
 am__vserver_la_SOURCES_DIST = vserver.c
 @BUILD_PLUGIN_VSERVER_TRUE@am_vserver_la_OBJECTS = vserver.lo
 vserver_la_OBJECTS = $(am_vserver_la_OBJECTS)
-vserver_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(vserver_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_VSERVER_TRUE@am_vserver_la_rpath = -rpath $(pkglibdir)
 wireless_la_LIBADD =
 am__wireless_la_SOURCES_DIST = wireless.c
 @BUILD_PLUGIN_WIRELESS_TRUE@am_wireless_la_OBJECTS = wireless.lo
 wireless_la_OBJECTS = $(am_wireless_la_OBJECTS)
-wireless_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(wireless_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_WIRELESS_TRUE@am_wireless_la_rpath = -rpath $(pkglibdir)
 xmms_la_LIBADD =
 am__xmms_la_SOURCES_DIST = xmms.c
 @BUILD_PLUGIN_XMMS_TRUE@am_xmms_la_OBJECTS = xmms_la-xmms.lo
 xmms_la_OBJECTS = $(am_xmms_la_OBJECTS)
-xmms_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(xmms_la_CFLAGS) $(CFLAGS) \
-	$(xmms_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_XMMS_TRUE@am_xmms_la_rpath = -rpath $(pkglibdir)
 binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 sbinPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 PROGRAMS = $(bin_PROGRAMS) $(sbin_PROGRAMS)
 am_collectd_OBJECTS = collectd-collectd.$(OBJEXT) \
-	collectd-utils_avltree.$(OBJEXT) \
-	collectd-utils_mount.$(OBJEXT) collectd-utils_llist.$(OBJEXT) \
-	collectd-utils_ignorelist.$(OBJEXT) collectd-common.$(OBJEXT) \
-	collectd-plugin.$(OBJEXT) collectd-configfile.$(OBJEXT) \
+	collectd-common.$(OBJEXT) collectd-configfile.$(OBJEXT) \
+	collectd-plugin.$(OBJEXT) collectd-utils_avltree.$(OBJEXT) \
+	collectd-utils_cache.$(OBJEXT) \
+	collectd-utils_ignorelist.$(OBJEXT) \
+	collectd-utils_llist.$(OBJEXT) collectd-utils_mount.$(OBJEXT) \
+	collectd-utils_threshold.$(OBJEXT) \
 	collectd-types_list.$(OBJEXT)
 collectd_OBJECTS = $(am_collectd_OBJECTS)
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_6 =  \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	liboconfig/liboconfig.la
-collectd_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(collectd_LDFLAGS) \
-	$(LDFLAGS) -o $@
+@BUILD_PLUGIN_APACHE_TRUE@am__DEPENDENCIES_7 = "-dlopen" apache.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__DEPENDENCIES_8 = "-dlopen" apcups.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__DEPENDENCIES_9 = "-dlopen" \
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@	apple_sensors.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__DEPENDENCIES_10 = "-dlopen" battery.la
+@BUILD_PLUGIN_CPU_TRUE@am__DEPENDENCIES_11 = "-dlopen" cpu.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__DEPENDENCIES_12 = "-dlopen" cpufreq.la
+@BUILD_PLUGIN_CSV_TRUE@am__DEPENDENCIES_13 = "-dlopen" csv.la
+@BUILD_PLUGIN_DF_TRUE@am__DEPENDENCIES_14 = "-dlopen" df.la
+@BUILD_PLUGIN_DISK_TRUE@am__DEPENDENCIES_15 = "-dlopen" disk.la
+@BUILD_PLUGIN_DNS_TRUE@am__DEPENDENCIES_16 = "-dlopen" dns.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__DEPENDENCIES_17 = "-dlopen" email.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__DEPENDENCIES_18 = "-dlopen" entropy.la
+@BUILD_PLUGIN_EXEC_TRUE@am__DEPENDENCIES_19 = "-dlopen" exec.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__DEPENDENCIES_20 = "-dlopen" hddtemp.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__DEPENDENCIES_21 = "-dlopen" \
+@BUILD_PLUGIN_INTERFACE_TRUE@	interface.la
+@BUILD_PLUGIN_IPTABLES_TRUE@am__DEPENDENCIES_22 = "-dlopen" \
+@BUILD_PLUGIN_IPTABLES_TRUE@	iptables.la
+@BUILD_PLUGIN_IPVS_TRUE@am__DEPENDENCIES_23 = "-dlopen" ipvs.la
+@BUILD_PLUGIN_IRQ_TRUE@am__DEPENDENCIES_24 = "-dlopen" irq.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__DEPENDENCIES_25 = "-dlopen" libvirt.la
+@BUILD_PLUGIN_LOAD_TRUE@am__DEPENDENCIES_26 = "-dlopen" load.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__DEPENDENCIES_27 = "-dlopen" logfile.la
+@BUILD_PLUGIN_MBMON_TRUE@am__DEPENDENCIES_28 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__DEPENDENCIES_29 = "-dlopen" \
+@BUILD_PLUGIN_MEMCACHED_TRUE@	memcached.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__DEPENDENCIES_30 = "-dlopen" memory.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__DEPENDENCIES_31 = "-dlopen" \
+@BUILD_PLUGIN_MULTIMETER_TRUE@	multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__DEPENDENCIES_32 = "-dlopen" mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__DEPENDENCIES_33 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__DEPENDENCIES_34 = "-dlopen" network.la
+@BUILD_PLUGIN_NFS_TRUE@am__DEPENDENCIES_35 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NGINX_TRUE@am__DEPENDENCIES_36 = "-dlopen" nginx.la
+@BUILD_PLUGIN_NTPD_TRUE@am__DEPENDENCIES_37 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__DEPENDENCIES_38 = "-dlopen" nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__DEPENDENCIES_39 = "-dlopen" perl.la
+@BUILD_PLUGIN_PING_TRUE@am__DEPENDENCIES_40 = "-dlopen" ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__DEPENDENCIES_41 = "-dlopen" \
+@BUILD_PLUGIN_PROCESSES_TRUE@	processes.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__DEPENDENCIES_42 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__DEPENDENCIES_43 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__DEPENDENCIES_44 = "-dlopen" serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__DEPENDENCIES_45 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__DEPENDENCIES_46 = "-dlopen" swap.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__DEPENDENCIES_47 = "-dlopen" syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__DEPENDENCIES_48 = "-dlopen" tape.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__DEPENDENCIES_49 = "-dlopen" \
+@BUILD_PLUGIN_TCPCONNS_TRUE@	tcpconns.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__DEPENDENCIES_50 = "-dlopen" \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__DEPENDENCIES_51 = "-dlopen" users.la
+@BUILD_PLUGIN_UUID_TRUE@am__DEPENDENCIES_52 = "-dlopen" uuid.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__DEPENDENCIES_53 = "-dlopen" vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__DEPENDENCIES_54 = "-dlopen" \
+@BUILD_PLUGIN_WIRELESS_TRUE@	wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__DEPENDENCIES_55 = "-dlopen" xmms.la
 am_collectd_nagios_OBJECTS = collectd-nagios.$(OBJEXT)
 collectd_nagios_OBJECTS = $(am_collectd_nagios_OBJECTS)
 collectd_nagios_LDADD = $(LDADD)
-collectd_nagios_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
-	$(collectd_nagios_LDFLAGS) $(LDFLAGS) -o $@
-DEFAULT_INCLUDES = -I.@am__isrc@
+am_collectdmon_OBJECTS = collectdmon-collectdmon.$(OBJEXT)
+collectdmon_OBJECTS = $(am_collectdmon_OBJECTS)
+collectdmon_LDADD = $(LDADD)
+DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
-	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = $(apache_la_SOURCES) $(apcups_la_SOURCES) \
 	$(apple_sensors_la_SOURCES) $(battery_la_SOURCES) \
 	$(cpu_la_SOURCES) $(cpufreq_la_SOURCES) $(csv_la_SOURCES) \
 	$(df_la_SOURCES) $(disk_la_SOURCES) $(dns_la_SOURCES) \
 	$(email_la_SOURCES) $(entropy_la_SOURCES) $(exec_la_SOURCES) \
 	$(hddtemp_la_SOURCES) $(interface_la_SOURCES) \
 	$(iptables_la_SOURCES) $(ipvs_la_SOURCES) $(irq_la_SOURCES) \
-	$(load_la_SOURCES) $(logfile_la_SOURCES) $(mbmon_la_SOURCES) \
-	$(memcached_la_SOURCES) $(memory_la_SOURCES) \
-	$(multimeter_la_SOURCES) $(mysql_la_SOURCES) \
-	$(netlink_la_SOURCES) $(network_la_SOURCES) $(nfs_la_SOURCES) \
-	$(nginx_la_SOURCES) $(ntpd_la_SOURCES) $(nut_la_SOURCES) \
-	$(perl_la_SOURCES) $(ping_la_SOURCES) $(processes_la_SOURCES) \
+	$(libvirt_la_SOURCES) $(load_la_SOURCES) $(logfile_la_SOURCES) \
+	$(mbmon_la_SOURCES) $(memcached_la_SOURCES) \
+	$(memory_la_SOURCES) $(multimeter_la_SOURCES) \
+	$(mysql_la_SOURCES) $(netlink_la_SOURCES) \
+	$(network_la_SOURCES) $(nfs_la_SOURCES) $(nginx_la_SOURCES) \
+	$(ntpd_la_SOURCES) $(nut_la_SOURCES) $(perl_la_SOURCES) \
+	$(ping_la_SOURCES) $(processes_la_SOURCES) \
 	$(rrdtool_la_SOURCES) $(sensors_la_SOURCES) \
 	$(serial_la_SOURCES) $(snmp_la_SOURCES) $(swap_la_SOURCES) \
 	$(syslog_la_SOURCES) $(tape_la_SOURCES) $(tcpconns_la_SOURCES) \
-	$(unixsock_la_SOURCES) $(users_la_SOURCES) \
+	$(unixsock_la_SOURCES) $(users_la_SOURCES) $(uuid_la_SOURCES) \
 	$(vserver_la_SOURCES) $(wireless_la_SOURCES) \
 	$(xmms_la_SOURCES) $(collectd_SOURCES) \
-	$(collectd_nagios_SOURCES)
+	$(collectd_nagios_SOURCES) $(collectdmon_SOURCES)
 DIST_SOURCES = $(am__apache_la_SOURCES_DIST) \
 	$(am__apcups_la_SOURCES_DIST) \
 	$(am__apple_sensors_la_SOURCES_DIST) \
 	$(am__battery_la_SOURCES_DIST) $(am__cpu_la_SOURCES_DIST) \
 	$(am__cpufreq_la_SOURCES_DIST) $(am__csv_la_SOURCES_DIST) \
 	$(am__df_la_SOURCES_DIST) $(am__disk_la_SOURCES_DIST) \
 	$(am__dns_la_SOURCES_DIST) $(am__email_la_SOURCES_DIST) \
 	$(am__entropy_la_SOURCES_DIST) $(am__exec_la_SOURCES_DIST) \
 	$(am__hddtemp_la_SOURCES_DIST) \
 	$(am__interface_la_SOURCES_DIST) \
 	$(am__iptables_la_SOURCES_DIST) $(am__ipvs_la_SOURCES_DIST) \
-	$(am__irq_la_SOURCES_DIST) $(am__load_la_SOURCES_DIST) \
-	$(am__logfile_la_SOURCES_DIST) $(am__mbmon_la_SOURCES_DIST) \
-	$(am__memcached_la_SOURCES_DIST) $(am__memory_la_SOURCES_DIST) \
+	$(am__irq_la_SOURCES_DIST) $(am__libvirt_la_SOURCES_DIST) \
+	$(am__load_la_SOURCES_DIST) $(am__logfile_la_SOURCES_DIST) \
+	$(am__mbmon_la_SOURCES_DIST) $(am__memcached_la_SOURCES_DIST) \
+	$(am__memory_la_SOURCES_DIST) \
 	$(am__multimeter_la_SOURCES_DIST) $(am__mysql_la_SOURCES_DIST) \
 	$(am__netlink_la_SOURCES_DIST) $(am__network_la_SOURCES_DIST) \
 	$(am__nfs_la_SOURCES_DIST) $(am__nginx_la_SOURCES_DIST) \
 	$(am__ntpd_la_SOURCES_DIST) $(am__nut_la_SOURCES_DIST) \
 	$(am__perl_la_SOURCES_DIST) $(am__ping_la_SOURCES_DIST) \
 	$(am__processes_la_SOURCES_DIST) \
 	$(am__rrdtool_la_SOURCES_DIST) $(am__sensors_la_SOURCES_DIST) \
 	$(am__serial_la_SOURCES_DIST) $(am__snmp_la_SOURCES_DIST) \
 	$(am__swap_la_SOURCES_DIST) $(am__syslog_la_SOURCES_DIST) \
 	$(am__tape_la_SOURCES_DIST) $(am__tcpconns_la_SOURCES_DIST) \
 	$(am__unixsock_la_SOURCES_DIST) $(am__users_la_SOURCES_DIST) \
-	$(am__vserver_la_SOURCES_DIST) $(am__wireless_la_SOURCES_DIST) \
-	$(am__xmms_la_SOURCES_DIST) $(collectd_SOURCES) \
-	$(collectd_nagios_SOURCES)
+	$(am__uuid_la_SOURCES_DIST) $(am__vserver_la_SOURCES_DIST) \
+	$(am__wireless_la_SOURCES_DIST) $(am__xmms_la_SOURCES_DIST) \
+	$(collectd_SOURCES) $(collectd_nagios_SOURCES) \
+	$(collectdmon_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
 	html-recursive info-recursive install-data-recursive \
-	install-dvi-recursive install-exec-recursive \
-	install-html-recursive install-info-recursive \
-	install-pdf-recursive install-ps-recursive install-recursive \
-	installcheck-recursive installdirs-recursive pdf-recursive \
-	ps-recursive uninstall-recursive
+	install-exec-recursive install-info-recursive \
+	install-recursive installcheck-recursive installdirs-recursive \
+	pdf-recursive ps-recursive uninstall-info-recursive \
+	uninstall-recursive
 man1dir = $(mandir)/man1
 man5dir = $(mandir)/man5
 NROFF = nroff
 MANS = $(dist_man_MANS)
-RECURSIVE_CLEAN_TARGETS = mostlyclean-recursive clean-recursive	\
-  distclean-recursive maintainer-clean-recursive
 ETAGS = etags
 CTAGS = ctags
 DIST_SUBDIRS = liboconfig liboping
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
+BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
+BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LIBVIRT_FALSE = @BUILD_PLUGIN_LIBVIRT_FALSE@
+BUILD_PLUGIN_LIBVIRT_TRUE = @BUILD_PLUGIN_LIBVIRT_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_UUID_FALSE = @BUILD_PLUGIN_UUID_FALSE@
+BUILD_PLUGIN_UUID_TRUE = @BUILD_PLUGIN_UUID_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
+BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
+BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
+BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
+BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
+BUILD_WITH_LIBDEVSTAT_FALSE = @BUILD_WITH_LIBDEVSTAT_FALSE@
+BUILD_WITH_LIBDEVSTAT_TRUE = @BUILD_WITH_LIBDEVSTAT_TRUE@
+BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
+BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBIOKIT_FALSE = @BUILD_WITH_LIBIOKIT_FALSE@
+BUILD_WITH_LIBIOKIT_TRUE = @BUILD_WITH_LIBIOKIT_TRUE@
+BUILD_WITH_LIBIPTC_FALSE = @BUILD_WITH_LIBIPTC_FALSE@
+BUILD_WITH_LIBIPTC_TRUE = @BUILD_WITH_LIBIPTC_TRUE@
+BUILD_WITH_LIBKSTAT_FALSE = @BUILD_WITH_LIBKSTAT_FALSE@
+BUILD_WITH_LIBKSTAT_TRUE = @BUILD_WITH_LIBKSTAT_TRUE@
+BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
+BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
 BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
+BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
+BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
+BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
+BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
+BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
+BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
+BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
+BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
+BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
+BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
+BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
+BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
+BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
+BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
+BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
+BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
+BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
+BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
+COMPILER_IS_GCC_FALSE = @COMPILER_IS_GCC_FALSE@
+COMPILER_IS_GCC_TRUE = @COMPILER_IS_GCC_TRUE@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
 CXXCPP = @CXXCPP@
 CXXDEPMODE = @CXXDEPMODE@
 CXXFLAGS = @CXXFLAGS@
 CYGPATH_W = @CYGPATH_W@
 DEFS = @DEFS@
 DEPDIR = @DEPDIR@
-DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
 EXEEXT = @EXEEXT@
 F77 = @F77@
 FFLAGS = @FFLAGS@
 GREP = @GREP@
-INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
@@ -817,14 +913,12 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTDLINCL = @LTDLINCL@
 LTLIBOBJS = @LTLIBOBJS@
 MAKEINFO = @MAKEINFO@
-MKDIR_P = @MKDIR_P@
-NMEDIT = @NMEDIT@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
@@ -832,39 +926,39 @@
 PATH_SEPARATOR = @PATH_SEPARATOR@
 PERL = @PERL@
 PERL_BINDINGS = @PERL_BINDINGS@
 PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
+PKG_CONFIG = @PKG_CONFIG@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
 YFLAGS = @YFLAGS@
-abs_builddir = @abs_builddir@
-abs_srcdir = @abs_srcdir@
-abs_top_builddir = @abs_top_builddir@
-abs_top_srcdir = @abs_top_srcdir@
 ac_ct_CC = @ac_ct_CC@
 ac_ct_CXX = @ac_ct_CXX@
 ac_ct_F77 = @ac_ct_F77@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
 am__tar = @am__tar@
 am__untar = @am__untar@
 bindir = @bindir@
 build = @build@
 build_alias = @build_alias@
 build_cpu = @build_cpu@
 build_os = @build_os@
 build_vendor = @build_vendor@
-builddir = @builddir@
 datadir = @datadir@
 datarootdir = @datarootdir@
 docdir = @docdir@
 dvidir = @dvidir@
 exec_prefix = @exec_prefix@
 host = @host@
@@ -886,92 +980,96 @@
 pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
-srcdir = @srcdir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-top_builddir = @top_builddir@
-top_srcdir = @top_srcdir@
 SUBDIRS = $(am__append_1) $(am__append_2)
 @COMPILER_IS_GCC_TRUE@AM_CFLAGS = -Wall -Werror
+AM_CPPFLAGS = -DPREFIX='"${prefix}"' \
+	-DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"' \
+	-DLOCALSTATEDIR='"${localstatedir}"' \
+	-DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"' \
+	$(am__append_3) -DPLUGINDIR='"${pkglibdir}"'
 collectd_SOURCES = collectd.c collectd.h \
-		   utils_avltree.c utils_avltree.h \
-		   utils_mount.c utils_mount.h \
-		   utils_llist.c utils_llist.h \
-		   utils_ignorelist.c utils_ignorelist.h \
 		   common.c common.h \
-		   plugin.c plugin.h \
 		   configfile.c configfile.h \
+		   plugin.c plugin.h \
+		   utils_avltree.c utils_avltree.h \
+		   utils_cache.c utils_cache.h \
+		   utils_ignorelist.c utils_ignorelist.h \
+		   utils_llist.c utils_llist.h \
+		   utils_mount.c utils_mount.h \
+		   utils_threshold.c utils_threshold.h \
 		   types_list.c types_list.h
 
-collectd_CPPFLAGS = $(LTDLINCL) -DPREFIX='"${prefix}"' \
-	-DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"' \
-	-DLOCALSTATEDIR='"${localstatedir}"' \
-	-DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"' \
-	$(am__append_3) -DPLUGINDIR='"${pkglibdir}"'
+collectd_CPPFLAGS = $(LTDLINCL) $(AM_CPPFLAGS)
 
 # Link to these libraries..
 collectd_LDFLAGS = -export-dynamic $(am__append_4) $(am__append_5) \
 	$(am__append_6) $(am__append_7) $(am__append_8) \
 	$(am__append_9) $(am__append_10) $(am__append_11) \
 	$(am__append_12) $(am__append_15)
 collectd_LDADD = $(am__append_13) $(am__append_18) $(am__append_24) \
 	$(am__append_27) $(am__append_31) $(am__append_36) \
 	$(am__append_39) $(am__append_42) $(am__append_45) \
 	$(am__append_51) $(am__append_54) $(am__append_58) \
 	$(am__append_61) $(am__append_65) $(am__append_69) \
 	$(am__append_72) $(am__append_80) $(am__append_83) \
-	$(am__append_86) $(am__append_89) $(am__append_95) \
-	$(am__append_99) $(am__append_103) $(am__append_106) \
-	$(am__append_114) $(am__append_117) $(am__append_122) \
-	$(am__append_127) $(am__append_130) $(am__append_135) \
-	$(am__append_139) $(am__append_142) $(am__append_145) \
-	$(am__append_149) $(am__append_152) $(am__append_155) \
-	$(am__append_158) $(am__append_161) $(am__append_167) \
-	$(am__append_170) $(am__append_178) $(am__append_181) \
+	$(am__append_86) $(am__append_89) $(am__append_92) \
+	$(am__append_98) $(am__append_102) $(am__append_106) \
+	$(am__append_109) $(am__append_117) $(am__append_120) \
+	$(am__append_125) $(am__append_130) $(am__append_133) \
+	$(am__append_138) $(am__append_142) $(am__append_145) \
+	$(am__append_148) $(am__append_152) $(am__append_155) \
+	$(am__append_158) $(am__append_161) $(am__append_164) \
+	$(am__append_170) $(am__append_173) $(am__append_181) \
 	$(am__append_184) $(am__append_187) $(am__append_190) \
-	$(am__append_193) $(am__append_196) $(am__append_199)
+	$(am__append_193) $(am__append_196) $(am__append_199) \
+	$(am__append_202) $(am__append_205)
 collectd_DEPENDENCIES = $(am__append_14) $(am__append_21) \
 	$(am__append_25) $(am__append_28) $(am__append_32) \
 	$(am__append_37) $(am__append_40) $(am__append_43) \
 	$(am__append_46) $(am__append_52) $(am__append_55) \
 	$(am__append_59) $(am__append_62) $(am__append_66) \
 	$(am__append_70) $(am__append_73) $(am__append_81) \
 	$(am__append_84) $(am__append_87) $(am__append_90) \
-	$(am__append_96) $(am__append_100) $(am__append_104) \
-	$(am__append_107) $(am__append_115) $(am__append_120) \
-	$(am__append_123) $(am__append_128) $(am__append_131) \
-	$(am__append_136) $(am__append_140) $(am__append_143) \
-	$(am__append_146) $(am__append_150) $(am__append_153) \
+	$(am__append_93) $(am__append_99) $(am__append_103) \
+	$(am__append_107) $(am__append_110) $(am__append_118) \
+	$(am__append_123) $(am__append_126) $(am__append_131) \
+	$(am__append_134) $(am__append_139) $(am__append_143) \
+	$(am__append_146) $(am__append_149) $(am__append_153) \
 	$(am__append_156) $(am__append_159) $(am__append_162) \
-	$(am__append_168) $(am__append_171) $(am__append_179) \
+	$(am__append_165) $(am__append_171) $(am__append_174) \
 	$(am__append_182) $(am__append_185) $(am__append_188) \
 	$(am__append_191) $(am__append_194) $(am__append_197) \
-	$(am__append_200)
+	$(am__append_200) $(am__append_203) $(am__append_206)
+collectdmon_SOURCES = collectdmon.c
+collectdmon_CPPFLAGS = $(AM_CPPFLAGS)
 collectd_nagios_SOURCES = collectd-nagios.c
 collectd_nagios_LDFLAGS = $(am__append_16)
 pkglib_LTLIBRARIES = $(am__append_17) $(am__append_22) \
 	$(am__append_26) $(am__append_29) $(am__append_33) \
 	$(am__append_38) $(am__append_41) $(am__append_44) \
 	$(am__append_47) $(am__append_53) $(am__append_56) \
 	$(am__append_60) $(am__append_63) $(am__append_67) \
 	$(am__append_71) $(am__append_79) $(am__append_82) \
-	$(am__append_85) $(am__append_88) $(am__append_94) \
-	$(am__append_97) $(am__append_101) $(am__append_105) \
-	$(am__append_113) $(am__append_116) $(am__append_121) \
-	$(am__append_124) $(am__append_129) $(am__append_132) \
-	$(am__append_137) $(am__append_141) $(am__append_144) \
-	$(am__append_147) $(am__append_151) $(am__append_154) \
+	$(am__append_85) $(am__append_88) $(am__append_91) \
+	$(am__append_97) $(am__append_100) $(am__append_104) \
+	$(am__append_108) $(am__append_116) $(am__append_119) \
+	$(am__append_124) $(am__append_127) $(am__append_132) \
+	$(am__append_135) $(am__append_140) $(am__append_144) \
+	$(am__append_147) $(am__append_150) $(am__append_154) \
 	$(am__append_157) $(am__append_160) $(am__append_163) \
-	$(am__append_169) $(am__append_177) $(am__append_180) \
+	$(am__append_166) $(am__append_172) $(am__append_180) \
 	$(am__append_183) $(am__append_186) $(am__append_189) \
-	$(am__append_192) $(am__append_195) $(am__append_198)
+	$(am__append_192) $(am__append_195) $(am__append_198) \
+	$(am__append_201) $(am__append_204)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_SOURCES = apache.c
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(am__append_19)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_20)
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
@@ -1015,54 +1113,58 @@
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_SOURCES = iptables.c
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = -module -avoid-version -liptc
 @BUILD_PLUGIN_IPVS_TRUE@ipvs_la_SOURCES = ipvs.c
 @BUILD_PLUGIN_IPVS_TRUE@ipvs_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_IRQ_TRUE@irq_la_SOURCES = irq.c
 @BUILD_PLUGIN_IRQ_TRUE@irq_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_SOURCES = libvirt.c
+@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_CFLAGS = $(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
+@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_LOAD_TRUE@load_la_SOURCES = load.c
 @BUILD_PLUGIN_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_91) $(am__append_92) \
-@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_93)
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_94) $(am__append_95) \
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_96)
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_SOURCES = logfile.c
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_98)
+@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_101)
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_SOURCES = memcached.c
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LDFLAGS = -module \
-@BUILD_PLUGIN_MEMCACHED_TRUE@	-avoid-version $(am__append_102)
+@BUILD_PLUGIN_MEMCACHED_TRUE@	-avoid-version $(am__append_105)
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_CFLAGS = 
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LIBADD = 
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_SOURCES = memory.c
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_108) $(am__append_109) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_110) $(am__append_111) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_112)
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_111) $(am__append_112) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_113) $(am__append_114) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_115)
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_118)
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_119)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_121)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_122)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_SOURCES = netlink.c
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_CFLAGS = $(BUILD_WITH_LIBNETLINK_CFLAGS)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LIBADD = $(BUILD_WITH_LIBNETLINK_LIBS)
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_SOURCES = network.c network.h
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_125) $(am__append_126)
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_128) $(am__append_129)
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_SOURCES = nfs.c
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_SOURCES = nginx.c
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_133)
-@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LIBADD = $(am__append_134)
+@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_136)
+@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LIBADD = $(am__append_137)
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_138)
+@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_141)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_SOURCES = nut.c
 @BUILD_PLUGIN_NUT_TRUE@nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_LDFLAGS = -module -avoid-version -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
 @BUILD_PLUGIN_PERL_TRUE@perl_la_SOURCES = perl.c
 @BUILD_PLUGIN_PERL_TRUE@perl_la_CFLAGS = $(AM_CFLAGS) \
 @BUILD_PLUGIN_PERL_TRUE@		  $(PERL_CFLAGS) \
@@ -1070,13 +1172,13 @@
 
 @BUILD_PLUGIN_PERL_TRUE@perl_la_LDFLAGS = -module -avoid-version \
 @BUILD_PLUGIN_PERL_TRUE@		  $(PERL_LDFLAGS)
 
 @BUILD_PLUGIN_PING_TRUE@ping_la_SOURCES = ping.c
 @BUILD_PLUGIN_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_PING_TRUE@	$(am__append_148)
+@BUILD_PLUGIN_PING_TRUE@	$(am__append_151)
 @BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_LIBADD = liboping/liboping.la
 @BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_DEPENDENCIES = liboping/liboping.la
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_SOURCES = processes.c
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_SOURCES = rrdtool.c
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = -module -avoid-version
@@ -1087,47 +1189,52 @@
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSENSORS_LDFLAGS)
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LIBADD = -lsensors
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_SOURCES = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_SOURCES = snmp.c
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_164)
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_165) \
-@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_166)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_167)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_168) \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_169)
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_SOURCES = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_172) $(am__append_173) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_174) $(am__append_175) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_176)
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_175) $(am__append_176) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_177) $(am__append_178) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_179)
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_SOURCES = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
 @BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_SOURCES = tcpconns.c
 @BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
-@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
+@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 @BUILD_PLUGIN_USERS_TRUE@users_la_SOURCES = users.c
 @BUILD_PLUGIN_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_UUID_TRUE@uuid_la_SOURCES = uuid.c
+@BUILD_PLUGIN_UUID_TRUE@uuid_la_CFLAGS = $(BUILD_WITH_LIBHAL_CFLAGS)
+@BUILD_PLUGIN_UUID_TRUE@uuid_la_LIBADD = $(BUILD_WITH_LIBHAL_LIBS)
+@BUILD_PLUGIN_UUID_TRUE@uuid_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
 @BUILD_PLUGIN_VSERVER_TRUE@vserver_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_SOURCES = wireless.c
 @BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_SOURCES = xmms.c
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBXMMS_CFLAGS)
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBXMMS_LIBS)
 dist_man_MANS = collectd.1 collectd-nagios.1 collectd.conf.5 \
 		collectd-email.5 collectd-exec.5 collectd-perl.5 \
-		collectd-snmp.5 collectd-unixsock.5
+		collectd-snmp.5 collectd-unixsock.5 collectdmon.1 \
+		types.db.5
 
 
 #collectd_1_SOURCES = collectd.pod
 EXTRA_DIST = types.db collectd-email.pod collectd-exec.pod \
 	collectd-nagios.pod collectd-perl.pod collectd-snmp.pod \
-	collectd-unixsock.pod collectd.conf.pod collectd.pod
+	collectd-unixsock.pod collectd.conf.pod collectd.pod \
+	collectdmon.pod types.db.pod
 all: config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
 .SUFFIXES:
 .SUFFIXES: .1 .5 .c .lo .o .obj .pod
 $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
@@ -1160,13 +1267,13 @@
 $(ACLOCAL_M4):  $(am__aclocal_m4_deps)
 	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
 
 config.h: stamp-h1
 	@if test ! -f $@; then \
 	  rm -f stamp-h1; \
-	  $(MAKE) $(AM_MAKEFLAGS) stamp-h1; \
+	  $(MAKE) stamp-h1; \
 	else :; fi
 
 stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status
 	@rm -f stamp-h1
 	cd $(top_builddir) && $(SHELL) ./config.status src/config.h
 $(srcdir)/config.h.in:  $(am__configure_deps) 
@@ -1177,142 +1284,146 @@
 distclean-hdr:
 	-rm -f config.h stamp-h1
 collectd.conf: $(top_builddir)/config.status $(srcdir)/collectd.conf.in
 	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@
 install-pkglibLTLIBRARIES: $(pkglib_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
-	test -z "$(pkglibdir)" || $(MKDIR_P) "$(DESTDIR)$(pkglibdir)"
+	test -z "$(pkglibdir)" || $(mkdir_p) "$(DESTDIR)$(pkglibdir)"
 	@list='$(pkglib_LTLIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    f=$(am__strip_dir) \
-	    echo " $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(pkglibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(pkglibdir)/$$f'"; \
-	    $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(pkglibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(pkglibdir)/$$f"; \
+	    echo " $(LIBTOOL) --mode=install $(pkglibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(pkglibdir)/$$f'"; \
+	    $(LIBTOOL) --mode=install $(pkglibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(pkglibdir)/$$f"; \
 	  else :; fi; \
 	done
 
 uninstall-pkglibLTLIBRARIES:
 	@$(NORMAL_UNINSTALL)
-	@list='$(pkglib_LTLIBRARIES)'; for p in $$list; do \
+	@set -x; list='$(pkglib_LTLIBRARIES)'; for p in $$list; do \
 	  p=$(am__strip_dir) \
-	  echo " $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f '$(DESTDIR)$(pkglibdir)/$$p'"; \
-	  $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f "$(DESTDIR)$(pkglibdir)/$$p"; \
+	  echo " $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(pkglibdir)/$$p'"; \
+	  $(LIBTOOL) --mode=uninstall rm -f "$(DESTDIR)$(pkglibdir)/$$p"; \
 	done
 
 clean-pkglibLTLIBRARIES:
 	-test -z "$(pkglib_LTLIBRARIES)" || rm -f $(pkglib_LTLIBRARIES)
 	@list='$(pkglib_LTLIBRARIES)'; for p in $$list; do \
 	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
 	  test "$$dir" != "$$p" || dir=.; \
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
 apache.la: $(apache_la_OBJECTS) $(apache_la_DEPENDENCIES) 
-	$(apache_la_LINK) $(am_apache_la_rpath) $(apache_la_OBJECTS) $(apache_la_LIBADD) $(LIBS)
+	$(LINK) $(am_apache_la_rpath) $(apache_la_LDFLAGS) $(apache_la_OBJECTS) $(apache_la_LIBADD) $(LIBS)
 apcups.la: $(apcups_la_OBJECTS) $(apcups_la_DEPENDENCIES) 
-	$(apcups_la_LINK) $(am_apcups_la_rpath) $(apcups_la_OBJECTS) $(apcups_la_LIBADD) $(LIBS)
+	$(LINK) $(am_apcups_la_rpath) $(apcups_la_LDFLAGS) $(apcups_la_OBJECTS) $(apcups_la_LIBADD) $(LIBS)
 apple_sensors.la: $(apple_sensors_la_OBJECTS) $(apple_sensors_la_DEPENDENCIES) 
-	$(apple_sensors_la_LINK) $(am_apple_sensors_la_rpath) $(apple_sensors_la_OBJECTS) $(apple_sensors_la_LIBADD) $(LIBS)
+	$(LINK) $(am_apple_sensors_la_rpath) $(apple_sensors_la_LDFLAGS) $(apple_sensors_la_OBJECTS) $(apple_sensors_la_LIBADD) $(LIBS)
 battery.la: $(battery_la_OBJECTS) $(battery_la_DEPENDENCIES) 
-	$(battery_la_LINK) $(am_battery_la_rpath) $(battery_la_OBJECTS) $(battery_la_LIBADD) $(LIBS)
+	$(LINK) $(am_battery_la_rpath) $(battery_la_LDFLAGS) $(battery_la_OBJECTS) $(battery_la_LIBADD) $(LIBS)
 cpu.la: $(cpu_la_OBJECTS) $(cpu_la_DEPENDENCIES) 
-	$(cpu_la_LINK) $(am_cpu_la_rpath) $(cpu_la_OBJECTS) $(cpu_la_LIBADD) $(LIBS)
+	$(LINK) $(am_cpu_la_rpath) $(cpu_la_LDFLAGS) $(cpu_la_OBJECTS) $(cpu_la_LIBADD) $(LIBS)
 cpufreq.la: $(cpufreq_la_OBJECTS) $(cpufreq_la_DEPENDENCIES) 
-	$(cpufreq_la_LINK) $(am_cpufreq_la_rpath) $(cpufreq_la_OBJECTS) $(cpufreq_la_LIBADD) $(LIBS)
+	$(LINK) $(am_cpufreq_la_rpath) $(cpufreq_la_LDFLAGS) $(cpufreq_la_OBJECTS) $(cpufreq_la_LIBADD) $(LIBS)
 csv.la: $(csv_la_OBJECTS) $(csv_la_DEPENDENCIES) 
-	$(csv_la_LINK) $(am_csv_la_rpath) $(csv_la_OBJECTS) $(csv_la_LIBADD) $(LIBS)
+	$(LINK) $(am_csv_la_rpath) $(csv_la_LDFLAGS) $(csv_la_OBJECTS) $(csv_la_LIBADD) $(LIBS)
 df.la: $(df_la_OBJECTS) $(df_la_DEPENDENCIES) 
-	$(df_la_LINK) $(am_df_la_rpath) $(df_la_OBJECTS) $(df_la_LIBADD) $(LIBS)
+	$(LINK) $(am_df_la_rpath) $(df_la_LDFLAGS) $(df_la_OBJECTS) $(df_la_LIBADD) $(LIBS)
 disk.la: $(disk_la_OBJECTS) $(disk_la_DEPENDENCIES) 
-	$(disk_la_LINK) $(am_disk_la_rpath) $(disk_la_OBJECTS) $(disk_la_LIBADD) $(LIBS)
+	$(LINK) $(am_disk_la_rpath) $(disk_la_LDFLAGS) $(disk_la_OBJECTS) $(disk_la_LIBADD) $(LIBS)
 dns.la: $(dns_la_OBJECTS) $(dns_la_DEPENDENCIES) 
-	$(dns_la_LINK) $(am_dns_la_rpath) $(dns_la_OBJECTS) $(dns_la_LIBADD) $(LIBS)
+	$(LINK) $(am_dns_la_rpath) $(dns_la_LDFLAGS) $(dns_la_OBJECTS) $(dns_la_LIBADD) $(LIBS)
 email.la: $(email_la_OBJECTS) $(email_la_DEPENDENCIES) 
-	$(email_la_LINK) $(am_email_la_rpath) $(email_la_OBJECTS) $(email_la_LIBADD) $(LIBS)
+	$(LINK) $(am_email_la_rpath) $(email_la_LDFLAGS) $(email_la_OBJECTS) $(email_la_LIBADD) $(LIBS)
 entropy.la: $(entropy_la_OBJECTS) $(entropy_la_DEPENDENCIES) 
-	$(entropy_la_LINK) $(am_entropy_la_rpath) $(entropy_la_OBJECTS) $(entropy_la_LIBADD) $(LIBS)
+	$(LINK) $(am_entropy_la_rpath) $(entropy_la_LDFLAGS) $(entropy_la_OBJECTS) $(entropy_la_LIBADD) $(LIBS)
 exec.la: $(exec_la_OBJECTS) $(exec_la_DEPENDENCIES) 
-	$(exec_la_LINK) $(am_exec_la_rpath) $(exec_la_OBJECTS) $(exec_la_LIBADD) $(LIBS)
+	$(LINK) $(am_exec_la_rpath) $(exec_la_LDFLAGS) $(exec_la_OBJECTS) $(exec_la_LIBADD) $(LIBS)
 hddtemp.la: $(hddtemp_la_OBJECTS) $(hddtemp_la_DEPENDENCIES) 
-	$(hddtemp_la_LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
+	$(LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_LDFLAGS) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
 interface.la: $(interface_la_OBJECTS) $(interface_la_DEPENDENCIES) 
-	$(interface_la_LINK) $(am_interface_la_rpath) $(interface_la_OBJECTS) $(interface_la_LIBADD) $(LIBS)
+	$(LINK) $(am_interface_la_rpath) $(interface_la_LDFLAGS) $(interface_la_OBJECTS) $(interface_la_LIBADD) $(LIBS)
 iptables.la: $(iptables_la_OBJECTS) $(iptables_la_DEPENDENCIES) 
-	$(iptables_la_LINK) $(am_iptables_la_rpath) $(iptables_la_OBJECTS) $(iptables_la_LIBADD) $(LIBS)
+	$(LINK) $(am_iptables_la_rpath) $(iptables_la_LDFLAGS) $(iptables_la_OBJECTS) $(iptables_la_LIBADD) $(LIBS)
 ipvs.la: $(ipvs_la_OBJECTS) $(ipvs_la_DEPENDENCIES) 
-	$(ipvs_la_LINK) $(am_ipvs_la_rpath) $(ipvs_la_OBJECTS) $(ipvs_la_LIBADD) $(LIBS)
+	$(LINK) $(am_ipvs_la_rpath) $(ipvs_la_LDFLAGS) $(ipvs_la_OBJECTS) $(ipvs_la_LIBADD) $(LIBS)
 irq.la: $(irq_la_OBJECTS) $(irq_la_DEPENDENCIES) 
-	$(irq_la_LINK) $(am_irq_la_rpath) $(irq_la_OBJECTS) $(irq_la_LIBADD) $(LIBS)
+	$(LINK) $(am_irq_la_rpath) $(irq_la_LDFLAGS) $(irq_la_OBJECTS) $(irq_la_LIBADD) $(LIBS)
+libvirt.la: $(libvirt_la_OBJECTS) $(libvirt_la_DEPENDENCIES) 
+	$(LINK) $(am_libvirt_la_rpath) $(libvirt_la_LDFLAGS) $(libvirt_la_OBJECTS) $(libvirt_la_LIBADD) $(LIBS)
 load.la: $(load_la_OBJECTS) $(load_la_DEPENDENCIES) 
-	$(load_la_LINK) $(am_load_la_rpath) $(load_la_OBJECTS) $(load_la_LIBADD) $(LIBS)
+	$(LINK) $(am_load_la_rpath) $(load_la_LDFLAGS) $(load_la_OBJECTS) $(load_la_LIBADD) $(LIBS)
 logfile.la: $(logfile_la_OBJECTS) $(logfile_la_DEPENDENCIES) 
-	$(logfile_la_LINK) $(am_logfile_la_rpath) $(logfile_la_OBJECTS) $(logfile_la_LIBADD) $(LIBS)
+	$(LINK) $(am_logfile_la_rpath) $(logfile_la_LDFLAGS) $(logfile_la_OBJECTS) $(logfile_la_LIBADD) $(LIBS)
 mbmon.la: $(mbmon_la_OBJECTS) $(mbmon_la_DEPENDENCIES) 
-	$(mbmon_la_LINK) $(am_mbmon_la_rpath) $(mbmon_la_OBJECTS) $(mbmon_la_LIBADD) $(LIBS)
+	$(LINK) $(am_mbmon_la_rpath) $(mbmon_la_LDFLAGS) $(mbmon_la_OBJECTS) $(mbmon_la_LIBADD) $(LIBS)
 memcached.la: $(memcached_la_OBJECTS) $(memcached_la_DEPENDENCIES) 
-	$(memcached_la_LINK) $(am_memcached_la_rpath) $(memcached_la_OBJECTS) $(memcached_la_LIBADD) $(LIBS)
+	$(LINK) $(am_memcached_la_rpath) $(memcached_la_LDFLAGS) $(memcached_la_OBJECTS) $(memcached_la_LIBADD) $(LIBS)
 memory.la: $(memory_la_OBJECTS) $(memory_la_DEPENDENCIES) 
-	$(memory_la_LINK) $(am_memory_la_rpath) $(memory_la_OBJECTS) $(memory_la_LIBADD) $(LIBS)
+	$(LINK) $(am_memory_la_rpath) $(memory_la_LDFLAGS) $(memory_la_OBJECTS) $(memory_la_LIBADD) $(LIBS)
 multimeter.la: $(multimeter_la_OBJECTS) $(multimeter_la_DEPENDENCIES) 
-	$(multimeter_la_LINK) $(am_multimeter_la_rpath) $(multimeter_la_OBJECTS) $(multimeter_la_LIBADD) $(LIBS)
+	$(LINK) $(am_multimeter_la_rpath) $(multimeter_la_LDFLAGS) $(multimeter_la_OBJECTS) $(multimeter_la_LIBADD) $(LIBS)
 mysql.la: $(mysql_la_OBJECTS) $(mysql_la_DEPENDENCIES) 
-	$(mysql_la_LINK) $(am_mysql_la_rpath) $(mysql_la_OBJECTS) $(mysql_la_LIBADD) $(LIBS)
+	$(LINK) $(am_mysql_la_rpath) $(mysql_la_LDFLAGS) $(mysql_la_OBJECTS) $(mysql_la_LIBADD) $(LIBS)
 netlink.la: $(netlink_la_OBJECTS) $(netlink_la_DEPENDENCIES) 
-	$(netlink_la_LINK) $(am_netlink_la_rpath) $(netlink_la_OBJECTS) $(netlink_la_LIBADD) $(LIBS)
+	$(LINK) $(am_netlink_la_rpath) $(netlink_la_LDFLAGS) $(netlink_la_OBJECTS) $(netlink_la_LIBADD) $(LIBS)
 network.la: $(network_la_OBJECTS) $(network_la_DEPENDENCIES) 
-	$(network_la_LINK) $(am_network_la_rpath) $(network_la_OBJECTS) $(network_la_LIBADD) $(LIBS)
+	$(LINK) $(am_network_la_rpath) $(network_la_LDFLAGS) $(network_la_OBJECTS) $(network_la_LIBADD) $(LIBS)
 nfs.la: $(nfs_la_OBJECTS) $(nfs_la_DEPENDENCIES) 
-	$(nfs_la_LINK) $(am_nfs_la_rpath) $(nfs_la_OBJECTS) $(nfs_la_LIBADD) $(LIBS)
+	$(LINK) $(am_nfs_la_rpath) $(nfs_la_LDFLAGS) $(nfs_la_OBJECTS) $(nfs_la_LIBADD) $(LIBS)
 nginx.la: $(nginx_la_OBJECTS) $(nginx_la_DEPENDENCIES) 
-	$(nginx_la_LINK) $(am_nginx_la_rpath) $(nginx_la_OBJECTS) $(nginx_la_LIBADD) $(LIBS)
+	$(LINK) $(am_nginx_la_rpath) $(nginx_la_LDFLAGS) $(nginx_la_OBJECTS) $(nginx_la_LIBADD) $(LIBS)
 ntpd.la: $(ntpd_la_OBJECTS) $(ntpd_la_DEPENDENCIES) 
-	$(ntpd_la_LINK) $(am_ntpd_la_rpath) $(ntpd_la_OBJECTS) $(ntpd_la_LIBADD) $(LIBS)
+	$(LINK) $(am_ntpd_la_rpath) $(ntpd_la_LDFLAGS) $(ntpd_la_OBJECTS) $(ntpd_la_LIBADD) $(LIBS)
 nut.la: $(nut_la_OBJECTS) $(nut_la_DEPENDENCIES) 
-	$(nut_la_LINK) $(am_nut_la_rpath) $(nut_la_OBJECTS) $(nut_la_LIBADD) $(LIBS)
+	$(LINK) $(am_nut_la_rpath) $(nut_la_LDFLAGS) $(nut_la_OBJECTS) $(nut_la_LIBADD) $(LIBS)
 perl.la: $(perl_la_OBJECTS) $(perl_la_DEPENDENCIES) 
-	$(perl_la_LINK) $(am_perl_la_rpath) $(perl_la_OBJECTS) $(perl_la_LIBADD) $(LIBS)
+	$(LINK) $(am_perl_la_rpath) $(perl_la_LDFLAGS) $(perl_la_OBJECTS) $(perl_la_LIBADD) $(LIBS)
 ping.la: $(ping_la_OBJECTS) $(ping_la_DEPENDENCIES) 
-	$(ping_la_LINK) $(am_ping_la_rpath) $(ping_la_OBJECTS) $(ping_la_LIBADD) $(LIBS)
+	$(LINK) $(am_ping_la_rpath) $(ping_la_LDFLAGS) $(ping_la_OBJECTS) $(ping_la_LIBADD) $(LIBS)
 processes.la: $(processes_la_OBJECTS) $(processes_la_DEPENDENCIES) 
-	$(processes_la_LINK) $(am_processes_la_rpath) $(processes_la_OBJECTS) $(processes_la_LIBADD) $(LIBS)
+	$(LINK) $(am_processes_la_rpath) $(processes_la_LDFLAGS) $(processes_la_OBJECTS) $(processes_la_LIBADD) $(LIBS)
 rrdtool.la: $(rrdtool_la_OBJECTS) $(rrdtool_la_DEPENDENCIES) 
-	$(rrdtool_la_LINK) $(am_rrdtool_la_rpath) $(rrdtool_la_OBJECTS) $(rrdtool_la_LIBADD) $(LIBS)
+	$(LINK) $(am_rrdtool_la_rpath) $(rrdtool_la_LDFLAGS) $(rrdtool_la_OBJECTS) $(rrdtool_la_LIBADD) $(LIBS)
 sensors.la: $(sensors_la_OBJECTS) $(sensors_la_DEPENDENCIES) 
-	$(sensors_la_LINK) $(am_sensors_la_rpath) $(sensors_la_OBJECTS) $(sensors_la_LIBADD) $(LIBS)
+	$(LINK) $(am_sensors_la_rpath) $(sensors_la_LDFLAGS) $(sensors_la_OBJECTS) $(sensors_la_LIBADD) $(LIBS)
 serial.la: $(serial_la_OBJECTS) $(serial_la_DEPENDENCIES) 
-	$(serial_la_LINK) $(am_serial_la_rpath) $(serial_la_OBJECTS) $(serial_la_LIBADD) $(LIBS)
+	$(LINK) $(am_serial_la_rpath) $(serial_la_LDFLAGS) $(serial_la_OBJECTS) $(serial_la_LIBADD) $(LIBS)
 snmp.la: $(snmp_la_OBJECTS) $(snmp_la_DEPENDENCIES) 
-	$(snmp_la_LINK) $(am_snmp_la_rpath) $(snmp_la_OBJECTS) $(snmp_la_LIBADD) $(LIBS)
+	$(LINK) $(am_snmp_la_rpath) $(snmp_la_LDFLAGS) $(snmp_la_OBJECTS) $(snmp_la_LIBADD) $(LIBS)
 swap.la: $(swap_la_OBJECTS) $(swap_la_DEPENDENCIES) 
-	$(swap_la_LINK) $(am_swap_la_rpath) $(swap_la_OBJECTS) $(swap_la_LIBADD) $(LIBS)
+	$(LINK) $(am_swap_la_rpath) $(swap_la_LDFLAGS) $(swap_la_OBJECTS) $(swap_la_LIBADD) $(LIBS)
 syslog.la: $(syslog_la_OBJECTS) $(syslog_la_DEPENDENCIES) 
-	$(syslog_la_LINK) $(am_syslog_la_rpath) $(syslog_la_OBJECTS) $(syslog_la_LIBADD) $(LIBS)
+	$(LINK) $(am_syslog_la_rpath) $(syslog_la_LDFLAGS) $(syslog_la_OBJECTS) $(syslog_la_LIBADD) $(LIBS)
 tape.la: $(tape_la_OBJECTS) $(tape_la_DEPENDENCIES) 
-	$(tape_la_LINK) $(am_tape_la_rpath) $(tape_la_OBJECTS) $(tape_la_LIBADD) $(LIBS)
+	$(LINK) $(am_tape_la_rpath) $(tape_la_LDFLAGS) $(tape_la_OBJECTS) $(tape_la_LIBADD) $(LIBS)
 tcpconns.la: $(tcpconns_la_OBJECTS) $(tcpconns_la_DEPENDENCIES) 
-	$(tcpconns_la_LINK) $(am_tcpconns_la_rpath) $(tcpconns_la_OBJECTS) $(tcpconns_la_LIBADD) $(LIBS)
+	$(LINK) $(am_tcpconns_la_rpath) $(tcpconns_la_LDFLAGS) $(tcpconns_la_OBJECTS) $(tcpconns_la_LIBADD) $(LIBS)
 unixsock.la: $(unixsock_la_OBJECTS) $(unixsock_la_DEPENDENCIES) 
-	$(unixsock_la_LINK) $(am_unixsock_la_rpath) $(unixsock_la_OBJECTS) $(unixsock_la_LIBADD) $(LIBS)
+	$(LINK) $(am_unixsock_la_rpath) $(unixsock_la_LDFLAGS) $(unixsock_la_OBJECTS) $(unixsock_la_LIBADD) $(LIBS)
 users.la: $(users_la_OBJECTS) $(users_la_DEPENDENCIES) 
-	$(users_la_LINK) $(am_users_la_rpath) $(users_la_OBJECTS) $(users_la_LIBADD) $(LIBS)
+	$(LINK) $(am_users_la_rpath) $(users_la_LDFLAGS) $(users_la_OBJECTS) $(users_la_LIBADD) $(LIBS)
+uuid.la: $(uuid_la_OBJECTS) $(uuid_la_DEPENDENCIES) 
+	$(LINK) $(am_uuid_la_rpath) $(uuid_la_LDFLAGS) $(uuid_la_OBJECTS) $(uuid_la_LIBADD) $(LIBS)
 vserver.la: $(vserver_la_OBJECTS) $(vserver_la_DEPENDENCIES) 
-	$(vserver_la_LINK) $(am_vserver_la_rpath) $(vserver_la_OBJECTS) $(vserver_la_LIBADD) $(LIBS)
+	$(LINK) $(am_vserver_la_rpath) $(vserver_la_LDFLAGS) $(vserver_la_OBJECTS) $(vserver_la_LIBADD) $(LIBS)
 wireless.la: $(wireless_la_OBJECTS) $(wireless_la_DEPENDENCIES) 
-	$(wireless_la_LINK) $(am_wireless_la_rpath) $(wireless_la_OBJECTS) $(wireless_la_LIBADD) $(LIBS)
+	$(LINK) $(am_wireless_la_rpath) $(wireless_la_LDFLAGS) $(wireless_la_OBJECTS) $(wireless_la_LIBADD) $(LIBS)
 xmms.la: $(xmms_la_OBJECTS) $(xmms_la_DEPENDENCIES) 
-	$(xmms_la_LINK) $(am_xmms_la_rpath) $(xmms_la_OBJECTS) $(xmms_la_LIBADD) $(LIBS)
+	$(LINK) $(am_xmms_la_rpath) $(xmms_la_LDFLAGS) $(xmms_la_OBJECTS) $(xmms_la_LIBADD) $(LIBS)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
-	test -z "$(bindir)" || $(MKDIR_P) "$(DESTDIR)$(bindir)"
+	test -z "$(bindir)" || $(mkdir_p) "$(DESTDIR)$(bindir)"
 	@list='$(bin_PROGRAMS)'; for p in $$list; do \
 	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  if test -f $$p \
 	     || test -f $$p1 \
 	  ; then \
 	    f=`echo "$$p1" | sed 's,^.*/,,;$(transform);s/$$/$(EXEEXT)/'`; \
-	   echo " $(INSTALL_PROGRAM_ENV) $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(binPROGRAMS_INSTALL) '$$p' '$(DESTDIR)$(bindir)/$$f'"; \
-	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(binPROGRAMS_INSTALL) "$$p" "$(DESTDIR)$(bindir)/$$f" || exit 1; \
+	   echo " $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(binPROGRAMS_INSTALL) '$$p' '$(DESTDIR)$(bindir)/$$f'"; \
+	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(binPROGRAMS_INSTALL) "$$p" "$(DESTDIR)$(bindir)/$$f" || exit 1; \
 	  else :; fi; \
 	done
 
 uninstall-binPROGRAMS:
 	@$(NORMAL_UNINSTALL)
 	@list='$(bin_PROGRAMS)'; for p in $$list; do \
@@ -1326,21 +1437,21 @@
 	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  echo " rm -f $$p $$f"; \
 	  rm -f $$p $$f ; \
 	done
 install-sbinPROGRAMS: $(sbin_PROGRAMS)
 	@$(NORMAL_INSTALL)
-	test -z "$(sbindir)" || $(MKDIR_P) "$(DESTDIR)$(sbindir)"
+	test -z "$(sbindir)" || $(mkdir_p) "$(DESTDIR)$(sbindir)"
 	@list='$(sbin_PROGRAMS)'; for p in $$list; do \
 	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  if test -f $$p \
 	     || test -f $$p1 \
 	  ; then \
 	    f=`echo "$$p1" | sed 's,^.*/,,;$(transform);s/$$/$(EXEEXT)/'`; \
-	   echo " $(INSTALL_PROGRAM_ENV) $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(sbinPROGRAMS_INSTALL) '$$p' '$(DESTDIR)$(sbindir)/$$f'"; \
-	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(sbinPROGRAMS_INSTALL) "$$p" "$(DESTDIR)$(sbindir)/$$f" || exit 1; \
+	   echo " $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(sbinPROGRAMS_INSTALL) '$$p' '$(DESTDIR)$(sbindir)/$$f'"; \
+	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(sbinPROGRAMS_INSTALL) "$$p" "$(DESTDIR)$(sbindir)/$$f" || exit 1; \
 	  else :; fi; \
 	done
 
 uninstall-sbinPROGRAMS:
 	@$(NORMAL_UNINSTALL)
 	@list='$(sbin_PROGRAMS)'; for p in $$list; do \
@@ -1354,16 +1465,19 @@
 	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  echo " rm -f $$p $$f"; \
 	  rm -f $$p $$f ; \
 	done
 collectd$(EXEEXT): $(collectd_OBJECTS) $(collectd_DEPENDENCIES) 
 	@rm -f collectd$(EXEEXT)
-	$(collectd_LINK) $(collectd_OBJECTS) $(collectd_LDADD) $(LIBS)
+	$(LINK) $(collectd_LDFLAGS) $(collectd_OBJECTS) $(collectd_LDADD) $(LIBS)
 collectd-nagios$(EXEEXT): $(collectd_nagios_OBJECTS) $(collectd_nagios_DEPENDENCIES) 
 	@rm -f collectd-nagios$(EXEEXT)
-	$(collectd_nagios_LINK) $(collectd_nagios_OBJECTS) $(collectd_nagios_LDADD) $(LIBS)
+	$(LINK) $(collectd_nagios_LDFLAGS) $(collectd_nagios_OBJECTS) $(collectd_nagios_LDADD) $(LIBS)
+collectdmon$(EXEEXT): $(collectdmon_OBJECTS) $(collectdmon_DEPENDENCIES) 
+	@rm -f collectdmon$(EXEEXT)
+	$(LINK) $(collectdmon_LDFLAGS) $(collectdmon_OBJECTS) $(collectdmon_LDADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
@@ -1376,15 +1490,18 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-common.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-configfile.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-nagios.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-plugin.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-types_list.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_avltree.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_cache.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_ignorelist.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_llist.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_mount.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_threshold.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectdmon-collectdmon.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpufreq.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/csv.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/df.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dns.Plo@am__quote@
@@ -1393,12 +1510,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/exec.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/interface.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/iptables.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipvs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/irq.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libvirt_la-libvirt.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/logfile.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mbmon.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memcached_la-memcached.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/multimeter.Plo@am__quote@
@@ -1417,267 +1535,314 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp_la-snmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/syslog.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tcpconns.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-unixsock.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-utils_cmd_putval.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putnotif.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_dns.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/uuid_la-uuid.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vserver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/wireless.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/xmms_la-xmms.Plo@am__quote@
 
 .c.o:
-@am__fastdepCC_TRUE@	$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Po
+@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(COMPILE) -c $<
 
 .c.obj:
-@am__fastdepCC_TRUE@	$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ `$(CYGPATH_W) '$<'`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Po
+@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ `$(CYGPATH_W) '$<'`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(COMPILE) -c `$(CYGPATH_W) '$<'`
 
 .c.lo:
-@am__fastdepCC_TRUE@	$(LTCOMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Plo
+@am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
 
 apache_la-apache.lo: apache.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -MT apache_la-apache.lo -MD -MP -MF $(DEPDIR)/apache_la-apache.Tpo -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/apache_la-apache.Tpo $(DEPDIR)/apache_la-apache.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -MT apache_la-apache.lo -MD -MP -MF "$(DEPDIR)/apache_la-apache.Tpo" -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/apache_la-apache.Tpo" "$(DEPDIR)/apache_la-apache.Plo"; else rm -f "$(DEPDIR)/apache_la-apache.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='apache.c' object='apache_la-apache.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c
+
+libvirt_la-libvirt.lo: libvirt.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_la_CFLAGS) $(CFLAGS) -MT libvirt_la-libvirt.lo -MD -MP -MF "$(DEPDIR)/libvirt_la-libvirt.Tpo" -c -o libvirt_la-libvirt.lo `test -f 'libvirt.c' || echo '$(srcdir)/'`libvirt.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/libvirt_la-libvirt.Tpo" "$(DEPDIR)/libvirt_la-libvirt.Plo"; else rm -f "$(DEPDIR)/libvirt_la-libvirt.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='libvirt.c' object='libvirt_la-libvirt.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_la_CFLAGS) $(CFLAGS) -c -o libvirt_la-libvirt.lo `test -f 'libvirt.c' || echo '$(srcdir)/'`libvirt.c
 
 memcached_la-memcached.lo: memcached.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memcached_la_CFLAGS) $(CFLAGS) -MT memcached_la-memcached.lo -MD -MP -MF $(DEPDIR)/memcached_la-memcached.Tpo -c -o memcached_la-memcached.lo `test -f 'memcached.c' || echo '$(srcdir)/'`memcached.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/memcached_la-memcached.Tpo $(DEPDIR)/memcached_la-memcached.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memcached_la_CFLAGS) $(CFLAGS) -MT memcached_la-memcached.lo -MD -MP -MF "$(DEPDIR)/memcached_la-memcached.Tpo" -c -o memcached_la-memcached.lo `test -f 'memcached.c' || echo '$(srcdir)/'`memcached.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/memcached_la-memcached.Tpo" "$(DEPDIR)/memcached_la-memcached.Plo"; else rm -f "$(DEPDIR)/memcached_la-memcached.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='memcached.c' object='memcached_la-memcached.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memcached_la_CFLAGS) $(CFLAGS) -c -o memcached_la-memcached.lo `test -f 'memcached.c' || echo '$(srcdir)/'`memcached.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memcached_la_CFLAGS) $(CFLAGS) -c -o memcached_la-memcached.lo `test -f 'memcached.c' || echo '$(srcdir)/'`memcached.c
 
 mysql_la-mysql.lo: mysql.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -MT mysql_la-mysql.lo -MD -MP -MF $(DEPDIR)/mysql_la-mysql.Tpo -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/mysql_la-mysql.Tpo $(DEPDIR)/mysql_la-mysql.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -MT mysql_la-mysql.lo -MD -MP -MF "$(DEPDIR)/mysql_la-mysql.Tpo" -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/mysql_la-mysql.Tpo" "$(DEPDIR)/mysql_la-mysql.Plo"; else rm -f "$(DEPDIR)/mysql_la-mysql.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='mysql.c' object='mysql_la-mysql.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c
 
 netlink_la-netlink.lo: netlink.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -MT netlink_la-netlink.lo -MD -MP -MF $(DEPDIR)/netlink_la-netlink.Tpo -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/netlink_la-netlink.Tpo $(DEPDIR)/netlink_la-netlink.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -MT netlink_la-netlink.lo -MD -MP -MF "$(DEPDIR)/netlink_la-netlink.Tpo" -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/netlink_la-netlink.Tpo" "$(DEPDIR)/netlink_la-netlink.Plo"; else rm -f "$(DEPDIR)/netlink_la-netlink.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='netlink.c' object='netlink_la-netlink.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c
 
 nginx_la-nginx.lo: nginx.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nginx_la_CFLAGS) $(CFLAGS) -MT nginx_la-nginx.lo -MD -MP -MF $(DEPDIR)/nginx_la-nginx.Tpo -c -o nginx_la-nginx.lo `test -f 'nginx.c' || echo '$(srcdir)/'`nginx.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/nginx_la-nginx.Tpo $(DEPDIR)/nginx_la-nginx.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nginx_la_CFLAGS) $(CFLAGS) -MT nginx_la-nginx.lo -MD -MP -MF "$(DEPDIR)/nginx_la-nginx.Tpo" -c -o nginx_la-nginx.lo `test -f 'nginx.c' || echo '$(srcdir)/'`nginx.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/nginx_la-nginx.Tpo" "$(DEPDIR)/nginx_la-nginx.Plo"; else rm -f "$(DEPDIR)/nginx_la-nginx.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='nginx.c' object='nginx_la-nginx.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nginx_la_CFLAGS) $(CFLAGS) -c -o nginx_la-nginx.lo `test -f 'nginx.c' || echo '$(srcdir)/'`nginx.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nginx_la_CFLAGS) $(CFLAGS) -c -o nginx_la-nginx.lo `test -f 'nginx.c' || echo '$(srcdir)/'`nginx.c
 
 nut_la-nut.lo: nut.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nut_la_CFLAGS) $(CFLAGS) -MT nut_la-nut.lo -MD -MP -MF $(DEPDIR)/nut_la-nut.Tpo -c -o nut_la-nut.lo `test -f 'nut.c' || echo '$(srcdir)/'`nut.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/nut_la-nut.Tpo $(DEPDIR)/nut_la-nut.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nut_la_CFLAGS) $(CFLAGS) -MT nut_la-nut.lo -MD -MP -MF "$(DEPDIR)/nut_la-nut.Tpo" -c -o nut_la-nut.lo `test -f 'nut.c' || echo '$(srcdir)/'`nut.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/nut_la-nut.Tpo" "$(DEPDIR)/nut_la-nut.Plo"; else rm -f "$(DEPDIR)/nut_la-nut.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='nut.c' object='nut_la-nut.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nut_la_CFLAGS) $(CFLAGS) -c -o nut_la-nut.lo `test -f 'nut.c' || echo '$(srcdir)/'`nut.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nut_la_CFLAGS) $(CFLAGS) -c -o nut_la-nut.lo `test -f 'nut.c' || echo '$(srcdir)/'`nut.c
 
 perl_la-perl.lo: perl.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -MT perl_la-perl.lo -MD -MP -MF $(DEPDIR)/perl_la-perl.Tpo -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/perl_la-perl.Tpo $(DEPDIR)/perl_la-perl.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -MT perl_la-perl.lo -MD -MP -MF "$(DEPDIR)/perl_la-perl.Tpo" -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/perl_la-perl.Tpo" "$(DEPDIR)/perl_la-perl.Plo"; else rm -f "$(DEPDIR)/perl_la-perl.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='perl.c' object='perl_la-perl.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c
 
 rrdtool_la-rrdtool.lo: rrdtool.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(rrdtool_la_CFLAGS) $(CFLAGS) -MT rrdtool_la-rrdtool.lo -MD -MP -MF $(DEPDIR)/rrdtool_la-rrdtool.Tpo -c -o rrdtool_la-rrdtool.lo `test -f 'rrdtool.c' || echo '$(srcdir)/'`rrdtool.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/rrdtool_la-rrdtool.Tpo $(DEPDIR)/rrdtool_la-rrdtool.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(rrdtool_la_CFLAGS) $(CFLAGS) -MT rrdtool_la-rrdtool.lo -MD -MP -MF "$(DEPDIR)/rrdtool_la-rrdtool.Tpo" -c -o rrdtool_la-rrdtool.lo `test -f 'rrdtool.c' || echo '$(srcdir)/'`rrdtool.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/rrdtool_la-rrdtool.Tpo" "$(DEPDIR)/rrdtool_la-rrdtool.Plo"; else rm -f "$(DEPDIR)/rrdtool_la-rrdtool.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='rrdtool.c' object='rrdtool_la-rrdtool.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(rrdtool_la_CFLAGS) $(CFLAGS) -c -o rrdtool_la-rrdtool.lo `test -f 'rrdtool.c' || echo '$(srcdir)/'`rrdtool.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(rrdtool_la_CFLAGS) $(CFLAGS) -c -o rrdtool_la-rrdtool.lo `test -f 'rrdtool.c' || echo '$(srcdir)/'`rrdtool.c
 
 sensors_la-sensors.lo: sensors.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -MT sensors_la-sensors.lo -MD -MP -MF $(DEPDIR)/sensors_la-sensors.Tpo -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/sensors_la-sensors.Tpo $(DEPDIR)/sensors_la-sensors.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -MT sensors_la-sensors.lo -MD -MP -MF "$(DEPDIR)/sensors_la-sensors.Tpo" -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/sensors_la-sensors.Tpo" "$(DEPDIR)/sensors_la-sensors.Plo"; else rm -f "$(DEPDIR)/sensors_la-sensors.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='sensors.c' object='sensors_la-sensors.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
 
 snmp_la-snmp.lo: snmp.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -MT snmp_la-snmp.lo -MD -MP -MF $(DEPDIR)/snmp_la-snmp.Tpo -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/snmp_la-snmp.Tpo $(DEPDIR)/snmp_la-snmp.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -MT snmp_la-snmp.lo -MD -MP -MF "$(DEPDIR)/snmp_la-snmp.Tpo" -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/snmp_la-snmp.Tpo" "$(DEPDIR)/snmp_la-snmp.Plo"; else rm -f "$(DEPDIR)/snmp_la-snmp.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='snmp.c' object='snmp_la-snmp.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
-
-unixsock_la-unixsock.lo: unixsock.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT unixsock_la-unixsock.lo -MD -MP -MF $(DEPDIR)/unixsock_la-unixsock.Tpo -c -o unixsock_la-unixsock.lo `test -f 'unixsock.c' || echo '$(srcdir)/'`unixsock.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/unixsock_la-unixsock.Tpo $(DEPDIR)/unixsock_la-unixsock.Plo
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='unixsock.c' object='unixsock_la-unixsock.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o unixsock_la-unixsock.lo `test -f 'unixsock.c' || echo '$(srcdir)/'`unixsock.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
 
-unixsock_la-utils_cmd_putval.lo: utils_cmd_putval.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT unixsock_la-utils_cmd_putval.lo -MD -MP -MF $(DEPDIR)/unixsock_la-utils_cmd_putval.Tpo -c -o unixsock_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/unixsock_la-utils_cmd_putval.Tpo $(DEPDIR)/unixsock_la-utils_cmd_putval.Plo
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_cmd_putval.c' object='unixsock_la-utils_cmd_putval.lo' libtool=yes @AMDEPBACKSLASH@
+uuid_la-uuid.lo: uuid.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(uuid_la_CFLAGS) $(CFLAGS) -MT uuid_la-uuid.lo -MD -MP -MF "$(DEPDIR)/uuid_la-uuid.Tpo" -c -o uuid_la-uuid.lo `test -f 'uuid.c' || echo '$(srcdir)/'`uuid.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/uuid_la-uuid.Tpo" "$(DEPDIR)/uuid_la-uuid.Plo"; else rm -f "$(DEPDIR)/uuid_la-uuid.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='uuid.c' object='uuid_la-uuid.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o unixsock_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(uuid_la_CFLAGS) $(CFLAGS) -c -o uuid_la-uuid.lo `test -f 'uuid.c' || echo '$(srcdir)/'`uuid.c
 
 xmms_la-xmms.lo: xmms.c
-@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(xmms_la_CFLAGS) $(CFLAGS) -MT xmms_la-xmms.lo -MD -MP -MF $(DEPDIR)/xmms_la-xmms.Tpo -c -o xmms_la-xmms.lo `test -f 'xmms.c' || echo '$(srcdir)/'`xmms.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/xmms_la-xmms.Tpo $(DEPDIR)/xmms_la-xmms.Plo
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(xmms_la_CFLAGS) $(CFLAGS) -MT xmms_la-xmms.lo -MD -MP -MF "$(DEPDIR)/xmms_la-xmms.Tpo" -c -o xmms_la-xmms.lo `test -f 'xmms.c' || echo '$(srcdir)/'`xmms.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/xmms_la-xmms.Tpo" "$(DEPDIR)/xmms_la-xmms.Plo"; else rm -f "$(DEPDIR)/xmms_la-xmms.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='xmms.c' object='xmms_la-xmms.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(xmms_la_CFLAGS) $(CFLAGS) -c -o xmms_la-xmms.lo `test -f 'xmms.c' || echo '$(srcdir)/'`xmms.c
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(xmms_la_CFLAGS) $(CFLAGS) -c -o xmms_la-xmms.lo `test -f 'xmms.c' || echo '$(srcdir)/'`xmms.c
 
 collectd-collectd.o: collectd.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-collectd.o -MD -MP -MF $(DEPDIR)/collectd-collectd.Tpo -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-collectd.Tpo $(DEPDIR)/collectd-collectd.Po
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-collectd.o -MD -MP -MF "$(DEPDIR)/collectd-collectd.Tpo" -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-collectd.Tpo" "$(DEPDIR)/collectd-collectd.Po"; else rm -f "$(DEPDIR)/collectd-collectd.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='collectd.c' object='collectd-collectd.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c
 
 collectd-collectd.obj: collectd.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-collectd.obj -MD -MP -MF $(DEPDIR)/collectd-collectd.Tpo -c -o collectd-collectd.obj `if test -f 'collectd.c'; then $(CYGPATH_W) 'collectd.c'; else $(CYGPATH_W) '$(srcdir)/collectd.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-collectd.Tpo $(DEPDIR)/collectd-collectd.Po
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-collectd.obj -MD -MP -MF "$(DEPDIR)/collectd-collectd.Tpo" -c -o collectd-collectd.obj `if test -f 'collectd.c'; then $(CYGPATH_W) 'collectd.c'; else $(CYGPATH_W) '$(srcdir)/collectd.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-collectd.Tpo" "$(DEPDIR)/collectd-collectd.Po"; else rm -f "$(DEPDIR)/collectd-collectd.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='collectd.c' object='collectd-collectd.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-collectd.obj `if test -f 'collectd.c'; then $(CYGPATH_W) 'collectd.c'; else $(CYGPATH_W) '$(srcdir)/collectd.c'; fi`
 
-collectd-utils_avltree.o: utils_avltree.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_avltree.o -MD -MP -MF $(DEPDIR)/collectd-utils_avltree.Tpo -c -o collectd-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_avltree.Tpo $(DEPDIR)/collectd-utils_avltree.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_avltree.c' object='collectd-utils_avltree.o' libtool=no @AMDEPBACKSLASH@
+collectd-common.o: common.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-common.o -MD -MP -MF "$(DEPDIR)/collectd-common.Tpo" -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-common.Tpo" "$(DEPDIR)/collectd-common.Po"; else rm -f "$(DEPDIR)/collectd-common.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='common.c' object='collectd-common.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c
 
-collectd-utils_avltree.obj: utils_avltree.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_avltree.obj -MD -MP -MF $(DEPDIR)/collectd-utils_avltree.Tpo -c -o collectd-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_avltree.Tpo $(DEPDIR)/collectd-utils_avltree.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_avltree.c' object='collectd-utils_avltree.obj' libtool=no @AMDEPBACKSLASH@
+collectd-common.obj: common.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-common.obj -MD -MP -MF "$(DEPDIR)/collectd-common.Tpo" -c -o collectd-common.obj `if test -f 'common.c'; then $(CYGPATH_W) 'common.c'; else $(CYGPATH_W) '$(srcdir)/common.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-common.Tpo" "$(DEPDIR)/collectd-common.Po"; else rm -f "$(DEPDIR)/collectd-common.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='common.c' object='collectd-common.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-common.obj `if test -f 'common.c'; then $(CYGPATH_W) 'common.c'; else $(CYGPATH_W) '$(srcdir)/common.c'; fi`
 
-collectd-utils_mount.o: utils_mount.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.o -MD -MP -MF $(DEPDIR)/collectd-utils_mount.Tpo -c -o collectd-utils_mount.o `test -f 'utils_mount.c' || echo '$(srcdir)/'`utils_mount.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_mount.Tpo $(DEPDIR)/collectd-utils_mount.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.o' libtool=no @AMDEPBACKSLASH@
+collectd-configfile.o: configfile.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-configfile.o -MD -MP -MF "$(DEPDIR)/collectd-configfile.Tpo" -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-configfile.Tpo" "$(DEPDIR)/collectd-configfile.Po"; else rm -f "$(DEPDIR)/collectd-configfile.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='configfile.c' object='collectd-configfile.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.o `test -f 'utils_mount.c' || echo '$(srcdir)/'`utils_mount.c
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c
 
-collectd-utils_mount.obj: utils_mount.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.obj -MD -MP -MF $(DEPDIR)/collectd-utils_mount.Tpo -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_mount.Tpo $(DEPDIR)/collectd-utils_mount.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.obj' libtool=no @AMDEPBACKSLASH@
+collectd-configfile.obj: configfile.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-configfile.obj -MD -MP -MF "$(DEPDIR)/collectd-configfile.Tpo" -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-configfile.Tpo" "$(DEPDIR)/collectd-configfile.Po"; else rm -f "$(DEPDIR)/collectd-configfile.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='configfile.c' object='collectd-configfile.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`
 
-collectd-utils_llist.o: utils_llist.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.o -MD -MP -MF $(DEPDIR)/collectd-utils_llist.Tpo -c -o collectd-utils_llist.o `test -f 'utils_llist.c' || echo '$(srcdir)/'`utils_llist.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_llist.Tpo $(DEPDIR)/collectd-utils_llist.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_llist.c' object='collectd-utils_llist.o' libtool=no @AMDEPBACKSLASH@
+collectd-plugin.o: plugin.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-plugin.o -MD -MP -MF "$(DEPDIR)/collectd-plugin.Tpo" -c -o collectd-plugin.o `test -f 'plugin.c' || echo '$(srcdir)/'`plugin.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-plugin.Tpo" "$(DEPDIR)/collectd-plugin.Po"; else rm -f "$(DEPDIR)/collectd-plugin.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='plugin.c' object='collectd-plugin.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.o `test -f 'utils_llist.c' || echo '$(srcdir)/'`utils_llist.c
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-plugin.o `test -f 'plugin.c' || echo '$(srcdir)/'`plugin.c
 
-collectd-utils_llist.obj: utils_llist.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.obj -MD -MP -MF $(DEPDIR)/collectd-utils_llist.Tpo -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_llist.Tpo $(DEPDIR)/collectd-utils_llist.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_llist.c' object='collectd-utils_llist.obj' libtool=no @AMDEPBACKSLASH@
+collectd-plugin.obj: plugin.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-plugin.obj -MD -MP -MF "$(DEPDIR)/collectd-plugin.Tpo" -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-plugin.Tpo" "$(DEPDIR)/collectd-plugin.Po"; else rm -f "$(DEPDIR)/collectd-plugin.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='plugin.c' object='collectd-plugin.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`
+
+collectd-utils_avltree.o: utils_avltree.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_avltree.o -MD -MP -MF "$(DEPDIR)/collectd-utils_avltree.Tpo" -c -o collectd-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_avltree.Tpo" "$(DEPDIR)/collectd-utils_avltree.Po"; else rm -f "$(DEPDIR)/collectd-utils_avltree.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_avltree.c' object='collectd-utils_avltree.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
+
+collectd-utils_avltree.obj: utils_avltree.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_avltree.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_avltree.Tpo" -c -o collectd-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_avltree.Tpo" "$(DEPDIR)/collectd-utils_avltree.Po"; else rm -f "$(DEPDIR)/collectd-utils_avltree.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_avltree.c' object='collectd-utils_avltree.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
+
+collectd-utils_cache.o: utils_cache.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_cache.o -MD -MP -MF "$(DEPDIR)/collectd-utils_cache.Tpo" -c -o collectd-utils_cache.o `test -f 'utils_cache.c' || echo '$(srcdir)/'`utils_cache.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_cache.Tpo" "$(DEPDIR)/collectd-utils_cache.Po"; else rm -f "$(DEPDIR)/collectd-utils_cache.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_cache.c' object='collectd-utils_cache.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_cache.o `test -f 'utils_cache.c' || echo '$(srcdir)/'`utils_cache.c
+
+collectd-utils_cache.obj: utils_cache.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_cache.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_cache.Tpo" -c -o collectd-utils_cache.obj `if test -f 'utils_cache.c'; then $(CYGPATH_W) 'utils_cache.c'; else $(CYGPATH_W) '$(srcdir)/utils_cache.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_cache.Tpo" "$(DEPDIR)/collectd-utils_cache.Po"; else rm -f "$(DEPDIR)/collectd-utils_cache.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_cache.c' object='collectd-utils_cache.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_cache.obj `if test -f 'utils_cache.c'; then $(CYGPATH_W) 'utils_cache.c'; else $(CYGPATH_W) '$(srcdir)/utils_cache.c'; fi`
 
 collectd-utils_ignorelist.o: utils_ignorelist.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.o -MD -MP -MF $(DEPDIR)/collectd-utils_ignorelist.Tpo -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_ignorelist.Tpo $(DEPDIR)/collectd-utils_ignorelist.Po
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.o -MD -MP -MF "$(DEPDIR)/collectd-utils_ignorelist.Tpo" -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo" "$(DEPDIR)/collectd-utils_ignorelist.Po"; else rm -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_ignorelist.c' object='collectd-utils_ignorelist.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
 
 collectd-utils_ignorelist.obj: utils_ignorelist.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.obj -MD -MP -MF $(DEPDIR)/collectd-utils_ignorelist.Tpo -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_ignorelist.Tpo $(DEPDIR)/collectd-utils_ignorelist.Po
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_ignorelist.Tpo" -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo" "$(DEPDIR)/collectd-utils_ignorelist.Po"; else rm -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_ignorelist.c' object='collectd-utils_ignorelist.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`
 
-collectd-common.o: common.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-common.o -MD -MP -MF $(DEPDIR)/collectd-common.Tpo -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-common.Tpo $(DEPDIR)/collectd-common.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='common.c' object='collectd-common.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c
-
-collectd-common.obj: common.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-common.obj -MD -MP -MF $(DEPDIR)/collectd-common.Tpo -c -o collectd-common.obj `if test -f 'common.c'; then $(CYGPATH_W) 'common.c'; else $(CYGPATH_W) '$(srcdir)/common.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-common.Tpo $(DEPDIR)/collectd-common.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='common.c' object='collectd-common.obj' libtool=no @AMDEPBACKSLASH@
+collectd-utils_llist.o: utils_llist.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.o -MD -MP -MF "$(DEPDIR)/collectd-utils_llist.Tpo" -c -o collectd-utils_llist.o `test -f 'utils_llist.c' || echo '$(srcdir)/'`utils_llist.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_llist.Tpo" "$(DEPDIR)/collectd-utils_llist.Po"; else rm -f "$(DEPDIR)/collectd-utils_llist.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_llist.c' object='collectd-utils_llist.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-common.obj `if test -f 'common.c'; then $(CYGPATH_W) 'common.c'; else $(CYGPATH_W) '$(srcdir)/common.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.o `test -f 'utils_llist.c' || echo '$(srcdir)/'`utils_llist.c
 
-collectd-plugin.o: plugin.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-plugin.o -MD -MP -MF $(DEPDIR)/collectd-plugin.Tpo -c -o collectd-plugin.o `test -f 'plugin.c' || echo '$(srcdir)/'`plugin.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-plugin.Tpo $(DEPDIR)/collectd-plugin.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='plugin.c' object='collectd-plugin.o' libtool=no @AMDEPBACKSLASH@
+collectd-utils_llist.obj: utils_llist.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_llist.Tpo" -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_llist.Tpo" "$(DEPDIR)/collectd-utils_llist.Po"; else rm -f "$(DEPDIR)/collectd-utils_llist.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_llist.c' object='collectd-utils_llist.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-plugin.o `test -f 'plugin.c' || echo '$(srcdir)/'`plugin.c
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
 
-collectd-plugin.obj: plugin.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-plugin.obj -MD -MP -MF $(DEPDIR)/collectd-plugin.Tpo -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-plugin.Tpo $(DEPDIR)/collectd-plugin.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='plugin.c' object='collectd-plugin.obj' libtool=no @AMDEPBACKSLASH@
+collectd-utils_mount.o: utils_mount.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.o -MD -MP -MF "$(DEPDIR)/collectd-utils_mount.Tpo" -c -o collectd-utils_mount.o `test -f 'utils_mount.c' || echo '$(srcdir)/'`utils_mount.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_mount.Tpo" "$(DEPDIR)/collectd-utils_mount.Po"; else rm -f "$(DEPDIR)/collectd-utils_mount.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.o `test -f 'utils_mount.c' || echo '$(srcdir)/'`utils_mount.c
 
-collectd-configfile.o: configfile.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-configfile.o -MD -MP -MF $(DEPDIR)/collectd-configfile.Tpo -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-configfile.Tpo $(DEPDIR)/collectd-configfile.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='configfile.c' object='collectd-configfile.o' libtool=no @AMDEPBACKSLASH@
+collectd-utils_mount.obj: utils_mount.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_mount.Tpo" -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_mount.Tpo" "$(DEPDIR)/collectd-utils_mount.Po"; else rm -f "$(DEPDIR)/collectd-utils_mount.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`
 
-collectd-configfile.obj: configfile.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-configfile.obj -MD -MP -MF $(DEPDIR)/collectd-configfile.Tpo -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-configfile.Tpo $(DEPDIR)/collectd-configfile.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='configfile.c' object='collectd-configfile.obj' libtool=no @AMDEPBACKSLASH@
+collectd-utils_threshold.o: utils_threshold.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_threshold.o -MD -MP -MF "$(DEPDIR)/collectd-utils_threshold.Tpo" -c -o collectd-utils_threshold.o `test -f 'utils_threshold.c' || echo '$(srcdir)/'`utils_threshold.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_threshold.Tpo" "$(DEPDIR)/collectd-utils_threshold.Po"; else rm -f "$(DEPDIR)/collectd-utils_threshold.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_threshold.c' object='collectd-utils_threshold.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_threshold.o `test -f 'utils_threshold.c' || echo '$(srcdir)/'`utils_threshold.c
+
+collectd-utils_threshold.obj: utils_threshold.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_threshold.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_threshold.Tpo" -c -o collectd-utils_threshold.obj `if test -f 'utils_threshold.c'; then $(CYGPATH_W) 'utils_threshold.c'; else $(CYGPATH_W) '$(srcdir)/utils_threshold.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_threshold.Tpo" "$(DEPDIR)/collectd-utils_threshold.Po"; else rm -f "$(DEPDIR)/collectd-utils_threshold.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_threshold.c' object='collectd-utils_threshold.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_threshold.obj `if test -f 'utils_threshold.c'; then $(CYGPATH_W) 'utils_threshold.c'; else $(CYGPATH_W) '$(srcdir)/utils_threshold.c'; fi`
 
 collectd-types_list.o: types_list.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-types_list.o -MD -MP -MF $(DEPDIR)/collectd-types_list.Tpo -c -o collectd-types_list.o `test -f 'types_list.c' || echo '$(srcdir)/'`types_list.c
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-types_list.Tpo $(DEPDIR)/collectd-types_list.Po
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-types_list.o -MD -MP -MF "$(DEPDIR)/collectd-types_list.Tpo" -c -o collectd-types_list.o `test -f 'types_list.c' || echo '$(srcdir)/'`types_list.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-types_list.Tpo" "$(DEPDIR)/collectd-types_list.Po"; else rm -f "$(DEPDIR)/collectd-types_list.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='types_list.c' object='collectd-types_list.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-types_list.o `test -f 'types_list.c' || echo '$(srcdir)/'`types_list.c
 
 collectd-types_list.obj: types_list.c
-@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-types_list.obj -MD -MP -MF $(DEPDIR)/collectd-types_list.Tpo -c -o collectd-types_list.obj `if test -f 'types_list.c'; then $(CYGPATH_W) 'types_list.c'; else $(CYGPATH_W) '$(srcdir)/types_list.c'; fi`
-@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-types_list.Tpo $(DEPDIR)/collectd-types_list.Po
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-types_list.obj -MD -MP -MF "$(DEPDIR)/collectd-types_list.Tpo" -c -o collectd-types_list.obj `if test -f 'types_list.c'; then $(CYGPATH_W) 'types_list.c'; else $(CYGPATH_W) '$(srcdir)/types_list.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-types_list.Tpo" "$(DEPDIR)/collectd-types_list.Po"; else rm -f "$(DEPDIR)/collectd-types_list.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='types_list.c' object='collectd-types_list.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-types_list.obj `if test -f 'types_list.c'; then $(CYGPATH_W) 'types_list.c'; else $(CYGPATH_W) '$(srcdir)/types_list.c'; fi`
 
+collectdmon-collectdmon.o: collectdmon.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdmon_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectdmon-collectdmon.o -MD -MP -MF "$(DEPDIR)/collectdmon-collectdmon.Tpo" -c -o collectdmon-collectdmon.o `test -f 'collectdmon.c' || echo '$(srcdir)/'`collectdmon.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectdmon-collectdmon.Tpo" "$(DEPDIR)/collectdmon-collectdmon.Po"; else rm -f "$(DEPDIR)/collectdmon-collectdmon.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='collectdmon.c' object='collectdmon-collectdmon.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdmon_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectdmon-collectdmon.o `test -f 'collectdmon.c' || echo '$(srcdir)/'`collectdmon.c
+
+collectdmon-collectdmon.obj: collectdmon.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdmon_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectdmon-collectdmon.obj -MD -MP -MF "$(DEPDIR)/collectdmon-collectdmon.Tpo" -c -o collectdmon-collectdmon.obj `if test -f 'collectdmon.c'; then $(CYGPATH_W) 'collectdmon.c'; else $(CYGPATH_W) '$(srcdir)/collectdmon.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectdmon-collectdmon.Tpo" "$(DEPDIR)/collectdmon-collectdmon.Po"; else rm -f "$(DEPDIR)/collectdmon-collectdmon.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='collectdmon.c' object='collectdmon-collectdmon.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdmon_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectdmon-collectdmon.obj `if test -f 'collectdmon.c'; then $(CYGPATH_W) 'collectdmon.c'; else $(CYGPATH_W) '$(srcdir)/collectdmon.c'; fi`
+
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
 install-man1: $(man1_MANS) $(man_MANS)
 	@$(NORMAL_INSTALL)
-	test -z "$(man1dir)" || $(MKDIR_P) "$(DESTDIR)$(man1dir)"
+	test -z "$(man1dir)" || $(mkdir_p) "$(DESTDIR)$(man1dir)"
 	@list='$(man1_MANS) $(dist_man1_MANS) $(nodist_man1_MANS)'; \
 	l2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \
 	for i in $$l2; do \
 	  case "$$i" in \
 	    *.1*) list="$$list $$i" ;; \
 	  esac; \
@@ -1716,13 +1881,13 @@
 	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
 	  echo " rm -f '$(DESTDIR)$(man1dir)/$$inst'"; \
 	  rm -f "$(DESTDIR)$(man1dir)/$$inst"; \
 	done
 install-man5: $(man5_MANS) $(man_MANS)
 	@$(NORMAL_INSTALL)
-	test -z "$(man5dir)" || $(MKDIR_P) "$(DESTDIR)$(man5dir)"
+	test -z "$(man5dir)" || $(mkdir_p) "$(DESTDIR)$(man5dir)"
 	@list='$(man5_MANS) $(dist_man5_MANS) $(nodist_man5_MANS)'; \
 	l2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \
 	for i in $$l2; do \
 	  case "$$i" in \
 	    *.5*) list="$$list $$i" ;; \
 	  esac; \
@@ -1791,13 +1956,14 @@
 	  || eval $$failcom; \
 	done; \
 	if test "$$dot_seen" = "no"; then \
 	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
 	fi; test -z "$$fail"
 
-$(RECURSIVE_CLEAN_TARGETS):
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
 	@failcom='exit 1'; \
 	for f in x $$MAKEFLAGS; do \
 	  case $$f in \
 	    *=* | --[!k]*);; \
 	    *k*) failcom='fail=yes';; \
 	  esac; \
@@ -1835,14 +2001,14 @@
 
 ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
 	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonemtpy = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	mkid -fID $$unique
 tags: TAGS
 
 TAGS: tags-recursive $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
@@ -1861,29 +2027,30 @@
 	  fi; \
 	done; \
 	list='$(SOURCES) $(HEADERS) config.h.in $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
 	  test -n "$$unique" || unique=$$empty_fix; \
 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
 	    $$tags $$unique; \
 	fi
 ctags: CTAGS
 CTAGS: ctags-recursive $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
+	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS) config.h.in $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
-	      END { if (nonempty) { for (i in files) print i; }; }'`; \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
 	test -z "$(CTAGS_ARGS)$$tags$$unique" \
 	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
 	     $$tags $$unique
 
 GTAGS:
 	here=`$(am__cd) $(top_builddir) && pwd` \
@@ -1891,27 +2058,28 @@
 	  && gtags -i $(GTAGS_ARGS) $$here
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 
 distdir: $(DISTFILES)
-	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
-	list='$(DISTFILES)'; \
-	  dist_files=`for file in $$list; do echo $$file; done | \
-	  sed -e "s|^$$srcdirstrip/||;t" \
-	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
-	case $$dist_files in \
-	  */*) $(MKDIR_P) `echo "$$dist_files" | \
-			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
-			   sort -u` ;; \
-	esac; \
-	for file in $$dist_files; do \
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
 	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkdir_p) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
 	  if test -d $$d/$$file; then \
-	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
 	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
 	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
 	    fi; \
 	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
 	  else \
 	    test -f $(distdir)/$$file \
@@ -1919,33 +2087,31 @@
 	    || exit 1; \
 	  fi; \
 	done
 	list='$(DIST_SUBDIRS)'; for subdir in $$list; do \
 	  if test "$$subdir" = .; then :; else \
 	    test -d "$(distdir)/$$subdir" \
-	    || $(MKDIR_P) "$(distdir)/$$subdir" \
+	    || $(mkdir_p) "$(distdir)/$$subdir" \
 	    || exit 1; \
 	    distdir=`$(am__cd) $(distdir) && pwd`; \
 	    top_distdir=`$(am__cd) $(top_distdir) && pwd`; \
 	    (cd $$subdir && \
 	      $(MAKE) $(AM_MAKEFLAGS) \
 	        top_distdir="$$top_distdir" \
 	        distdir="$$distdir/$$subdir" \
-		am__remove_distdir=: \
-		am__skip_length_check=: \
 	        distdir) \
 	      || exit 1; \
 	  fi; \
 	done
 check-am: all-am
 check: check-recursive
 all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) $(MANS) config.h
 installdirs: installdirs-recursive
 installdirs-am:
 	for dir in "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(bindir)" "$(DESTDIR)$(sbindir)" "$(DESTDIR)$(man1dir)" "$(DESTDIR)$(man5dir)"; do \
-	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
+	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
 	done
 install: install-recursive
 install-exec: install-exec-recursive
 install-data: install-data-recursive
 uninstall: uninstall-recursive
 
@@ -1974,13 +2140,13 @@
 	clean-pkglibLTLIBRARIES clean-sbinPROGRAMS mostlyclean-am
 
 distclean: distclean-recursive
 	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
 distclean-am: clean-am distclean-compile distclean-generic \
-	distclean-hdr distclean-tags
+	distclean-hdr distclean-libtool distclean-tags
 
 dvi: dvi-recursive
 
 dvi-am:
 
 html: html-recursive
@@ -1988,29 +2154,21 @@
 info: info-recursive
 
 info-am:
 
 install-data-am: install-man
 
-install-dvi: install-dvi-recursive
-
 install-exec-am: install-binPROGRAMS install-pkglibLTLIBRARIES \
 	install-sbinPROGRAMS
 	@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) install-exec-hook
 
-install-html: install-html-recursive
-
 install-info: install-info-recursive
 
 install-man: install-man1 install-man5
 
-install-pdf: install-pdf-recursive
-
-install-ps: install-ps-recursive
-
 installcheck-am:
 
 maintainer-clean: maintainer-clean-recursive
 	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
@@ -2025,39 +2183,37 @@
 pdf-am:
 
 ps: ps-recursive
 
 ps-am:
 
-uninstall-am: uninstall-binPROGRAMS uninstall-man \
+uninstall-am: uninstall-binPROGRAMS uninstall-info-am uninstall-man \
 	uninstall-pkglibLTLIBRARIES uninstall-sbinPROGRAMS
 
-uninstall-man: uninstall-man1 uninstall-man5
+uninstall-info: uninstall-info-recursive
 
-.MAKE: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) install-am \
-	install-exec-am install-strip
+uninstall-man: uninstall-man1 uninstall-man5
 
-.PHONY: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) CTAGS GTAGS \
-	all all-am check check-am clean clean-binPROGRAMS \
-	clean-generic clean-libtool clean-pkglibLTLIBRARIES \
-	clean-sbinPROGRAMS ctags ctags-recursive distclean \
-	distclean-compile distclean-generic distclean-hdr \
-	distclean-libtool distclean-tags distdir dvi dvi-am html \
+.PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am check check-am \
+	clean clean-binPROGRAMS clean-generic clean-libtool \
+	clean-pkglibLTLIBRARIES clean-recursive clean-sbinPROGRAMS \
+	ctags ctags-recursive distclean distclean-compile \
+	distclean-generic distclean-hdr distclean-libtool \
+	distclean-recursive distclean-tags distdir dvi dvi-am html \
 	html-am info info-am install install-am install-binPROGRAMS \
-	install-data install-data-am install-dvi install-dvi-am \
-	install-exec install-exec-am install-exec-hook install-html \
-	install-html-am install-info install-info-am install-man \
-	install-man1 install-man5 install-pdf install-pdf-am \
-	install-pkglibLTLIBRARIES install-ps install-ps-am \
+	install-data install-data-am install-exec install-exec-am \
+	install-exec-hook install-info install-info-am install-man \
+	install-man1 install-man5 install-pkglibLTLIBRARIES \
 	install-sbinPROGRAMS install-strip installcheck \
 	installcheck-am installdirs installdirs-am maintainer-clean \
-	maintainer-clean-generic mostlyclean mostlyclean-compile \
-	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
+	maintainer-clean-generic maintainer-clean-recursive \
+	mostlyclean mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool mostlyclean-recursive pdf pdf-am ps ps-am \
 	tags tags-recursive uninstall uninstall-am \
-	uninstall-binPROGRAMS uninstall-man uninstall-man1 \
-	uninstall-man5 uninstall-pkglibLTLIBRARIES \
+	uninstall-binPROGRAMS uninstall-info-am uninstall-man \
+	uninstall-man1 uninstall-man5 uninstall-pkglibLTLIBRARIES \
 	uninstall-sbinPROGRAMS
 
 
 .pod.1:
 	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/network.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/network.c	2008-02-19 03:57:18.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/network.c
- * Copyright (C) 2005-2007  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -303,486 +303,396 @@
 	return (retval);
 } /* int cache_check */
 
 static int write_part_values (char **ret_buffer, int *ret_buffer_len,
 		const data_set_t *ds, const value_list_t *vl)
 {
-	char *packet_ptr;
-	int packet_len;
-	int num_values;
-
-	part_header_t pkg_ph;
-	uint16_t      pkg_num_values;
-	uint8_t      *pkg_values_types;
-	value_t      *pkg_values;
-
-	int offset;
+	part_values_t pv;
 	int i;
 
-	num_values = vl->values_len;
-	packet_len = sizeof (part_header_t) + sizeof (uint16_t)
-		+ (num_values * sizeof (uint8_t))
-		+ (num_values * sizeof (value_t));
-
-	if (*ret_buffer_len < packet_len)
+	i = 6 + (9 * vl->values_len);
+	if (*ret_buffer_len < i)
 		return (-1);
+	*ret_buffer_len -= i;
 
-	pkg_values_types = (uint8_t *) malloc (num_values * sizeof (uint8_t));
-	if (pkg_values_types == NULL)
-	{
-		ERROR ("network plugin: write_part_values: malloc failed.");
-		return (-1);
-	}
-
-	pkg_values = (value_t *) malloc (num_values * sizeof (value_t));
-	if (pkg_values == NULL)
-	{
-		free (pkg_values_types);
-		ERROR ("network plugin: write_part_values: malloc failed.");
-		return (-1);
-	}
-
-	pkg_ph.type = htons (TYPE_VALUES);
-	pkg_ph.length = htons (packet_len);
-
-	pkg_num_values = htons ((uint16_t) vl->values_len);
-
-	for (i = 0; i < num_values; i++)
+	pv.head = (part_header_t *) *ret_buffer;
+	pv.num_values = (uint16_t *) (pv.head + 1);
+	pv.values_types = (uint8_t *) (pv.num_values + 1);
+	pv.values = (value_t *) (pv.values_types + vl->values_len);
+	*ret_buffer = (void *) (pv.values + vl->values_len);
+
+	pv.head->type = htons (TYPE_VALUES);
+	pv.head->length = htons (6 + (9 * vl->values_len));
+	*pv.num_values = htons ((uint16_t) vl->values_len);
+	
+	for (i = 0; i < vl->values_len; i++)
 	{
 		if (ds->ds[i].type == DS_TYPE_COUNTER)
 		{
-			pkg_values_types[i] = DS_TYPE_COUNTER;
-			pkg_values[i].counter = htonll (vl->values[i].counter);
+			pv.values_types[i] = DS_TYPE_COUNTER;
+			pv.values[i].counter = htonll (vl->values[i].counter);
 		}
 		else
 		{
-			pkg_values_types[i] = DS_TYPE_GAUGE;
-			pkg_values[i].gauge = htond (vl->values[i].gauge);
+			pv.values_types[i] = DS_TYPE_GAUGE;
+			pv.values[i].gauge = vl->values[i].gauge;
 		}
-	}
-
-	/*
-	 * Use `memcpy' to write everything to the buffer, because the pointer
-	 * may be unaligned and some architectures, such as SPARC, can't handle
-	 * that.
-	 */
-	packet_ptr = *ret_buffer;
-	offset = 0;
-	memcpy (packet_ptr + offset, &pkg_ph, sizeof (pkg_ph));
-	offset += sizeof (pkg_ph);
-	memcpy (packet_ptr + offset, &pkg_num_values, sizeof (pkg_num_values));
-	offset += sizeof (pkg_num_values);
-	memcpy (packet_ptr + offset, pkg_values_types, num_values * sizeof (uint8_t));
-	offset += num_values * sizeof (uint8_t);
-	memcpy (packet_ptr + offset, pkg_values, num_values * sizeof (value_t));
-	offset += num_values * sizeof (value_t);
-
-	assert (offset == packet_len);
-
-	*ret_buffer = packet_ptr + packet_len;
-	*ret_buffer_len -= packet_len;
-
-	free (pkg_values_types);
-	free (pkg_values);
+	} /* for (values) */
 
 	return (0);
 } /* int write_part_values */
 
 static int write_part_number (char **ret_buffer, int *ret_buffer_len,
 		int type, uint64_t value)
 {
-	char *packet_ptr;
-	int packet_len;
-
-	part_header_t pkg_head;
-	uint64_t pkg_value;
-	
-	int offset;
+	part_number_t pn;
 
-	packet_len = sizeof (pkg_head) + sizeof (pkg_value);
-
-	if (*ret_buffer_len < packet_len)
+	if (*ret_buffer_len < 12)
 		return (-1);
 
-	pkg_head.type = htons (type);
-	pkg_head.length = htons (packet_len);
-	pkg_value = htonll (value);
-
-	packet_ptr = *ret_buffer;
-	offset = 0;
-	memcpy (packet_ptr + offset, &pkg_head, sizeof (pkg_head));
-	offset += sizeof (pkg_head);
-	memcpy (packet_ptr + offset, &pkg_value, sizeof (pkg_value));
-	offset += sizeof (pkg_value);
+	pn.head = (part_header_t *) *ret_buffer;
+	pn.value = (uint64_t *) (pn.head + 1);
 
-	assert (offset == packet_len);
+	pn.head->type = htons (type);
+	pn.head->length = htons (12);
+	*pn.value = htonll (value);
 
-	*ret_buffer = packet_ptr + packet_len;
-	*ret_buffer_len -= packet_len;
+	*ret_buffer = (char *) (pn.value + 1);
+	*ret_buffer_len -= 12;
 
 	return (0);
 } /* int write_part_number */
 
 static int write_part_string (char **ret_buffer, int *ret_buffer_len,
 		int type, const char *str, int str_len)
 {
-	char *buffer;
-	int buffer_len;
-
-	uint16_t pkg_type;
-	uint16_t pkg_length;
-
-	int offset;
+	part_string_t ps;
+	int len;
 
-	buffer_len = 2 * sizeof (uint16_t) + str_len + 1;
-	if (*ret_buffer_len < buffer_len)
+	len = 4 + str_len + 1;
+	if (*ret_buffer_len < len)
 		return (-1);
+	*ret_buffer_len -= len;
 
-	pkg_type = htons (type);
-	pkg_length = htons (buffer_len);
-
-	buffer = *ret_buffer;
-	offset = 0;
-	memcpy (buffer + offset, (void *) &pkg_type, sizeof (pkg_type));
-	offset += sizeof (pkg_type);
-	memcpy (buffer + offset, (void *) &pkg_length, sizeof (pkg_length));
-	offset += sizeof (pkg_length);
-	memcpy (buffer + offset, str, str_len);
-	offset += str_len;
-	memset (buffer + offset, '\0', 1);
-	offset += 1;
-
-	assert (offset == buffer_len);
-
-	*ret_buffer = buffer + buffer_len;
-	*ret_buffer_len -= buffer_len;
+	ps.head = (part_header_t *) *ret_buffer;
+	ps.value = (char *) (ps.head + 1);
+
+	ps.head->type = htons ((uint16_t) type);
+	ps.head->length = htons ((uint16_t) str_len + 5);
+	if (str_len > 0)
+		memcpy (ps.value, str, str_len);
+	ps.value[str_len] = '\0';
+	*ret_buffer = (void *) (ps.value + (str_len + 1));
 
 	return (0);
 } /* int write_part_string */
 
 static int parse_part_values (void **ret_buffer, int *ret_buffer_len,
 		value_t **ret_values, int *ret_num_values)
 {
 	char *buffer = *ret_buffer;
 	int   buffer_len = *ret_buffer_len;
-
-	uint16_t tmp16;
-	size_t exp_size;
+	part_values_t pv;
 	int   i;
 
-	uint16_t pkg_length;
-	uint16_t pkg_type;
-	uint16_t pkg_numval;
-
-	uint8_t *pkg_types;
-	value_t *pkg_values;
+	uint16_t h_length;
+	uint16_t h_type;
+	uint16_t h_num;
 
 	if (buffer_len < (15))
 	{
 		DEBUG ("network plugin: packet is too short: buffer_len = %i",
 				buffer_len);
 		return (-1);
 	}
 
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_type = ntohs (tmp16);
-
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_length = ntohs (tmp16);
-
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_numval = ntohs (tmp16);
-
-	assert (pkg_type == TYPE_VALUES);
-
-	exp_size = 3 * sizeof (uint16_t)
-		+ pkg_numval * (sizeof (uint8_t) + sizeof (value_t));
-	if (buffer_len < exp_size)
-	{
-		WARNING ("network plugin: parse_part_values: "
-				"Packet too short: "
-				"Chunk of size %u expected, "
-				"but buffer has only %i bytes left.",
-				(unsigned int) exp_size, buffer_len);
-		return (-1);
-	}
+	pv.head = (part_header_t *) buffer;
+	h_length = ntohs (pv.head->length);
+	h_type = ntohs (pv.head->type);
 
-	if (pkg_length != exp_size)
-	{
-		WARNING ("network plugin: parse_part_values: "
-				"Length and number of values "
-				"in the packet don't match.");
-		return (-1);
-	}
+	assert (h_type == TYPE_VALUES);
 
-	pkg_types = (uint8_t *) malloc (pkg_numval * sizeof (uint8_t));
-	pkg_values = (value_t *) malloc (pkg_numval * sizeof (value_t));
-	if ((pkg_types == NULL) || (pkg_values == NULL))
-	{
-		sfree (pkg_types);
-		sfree (pkg_values);
-		ERROR ("network plugin: parse_part_values: malloc failed.");
-		return (-1);
-	}
-
-	memcpy ((void *) pkg_types, (void *) buffer, pkg_numval * sizeof (uint8_t));
-	buffer += pkg_numval * sizeof (uint8_t);
-	memcpy ((void *) pkg_values, (void *) buffer, pkg_numval * sizeof (value_t));
-	buffer += pkg_numval * sizeof (value_t);
+	pv.num_values = (uint16_t *) (pv.head + 1);
+	h_num = ntohs (*pv.num_values);
 
-	for (i = 0; i < pkg_numval; i++)
+	if (h_num != ((h_length - 6) / 9))
 	{
-		if (pkg_types[i] == DS_TYPE_COUNTER)
-			pkg_values[i].counter = ntohll (pkg_values[i].counter);
-		else if (pkg_types[i] == DS_TYPE_GAUGE)
-			pkg_values[i].gauge = ntohd (pkg_values[i].gauge);
+		DEBUG ("`length' and `num of values' don't match");
+		return (-1);
 	}
 
-	*ret_buffer     = buffer;
-	*ret_buffer_len = buffer_len - pkg_length;
-	*ret_num_values = pkg_numval;
-	*ret_values     = pkg_values;
+	pv.values_types = (uint8_t *) (pv.num_values + 1);
+	pv.values = (value_t *) (pv.values_types + h_num);
+
+	for (i = 0; i < h_num; i++)
+		if (pv.values_types[i] == DS_TYPE_COUNTER)
+			pv.values[i].counter = ntohll (pv.values[i].counter);
 
-	sfree (pkg_types);
+	*ret_buffer     = (void *) (pv.values + h_num);
+	*ret_buffer_len = buffer_len - h_length;
+	*ret_num_values = h_num;
+	*ret_values     = pv.values;
 
 	return (0);
 } /* int parse_part_values */
 
 static int parse_part_number (void **ret_buffer, int *ret_buffer_len,
 		uint64_t *value)
 {
-	char *buffer = *ret_buffer;
-	int buffer_len = *ret_buffer_len;
+	part_number_t pn;
+	uint16_t len;
 
-	uint16_t tmp16;
-	uint64_t tmp64;
-	size_t exp_size = 2 * sizeof (uint16_t) + sizeof (uint64_t);
-
-	uint16_t pkg_length;
-	uint16_t pkg_type;
-
-	if (buffer_len < exp_size)
-	{
-		WARNING ("network plugin: parse_part_number: "
-				"Packet too short: "
-				"Chunk of size %u expected, "
-				"but buffer has only %i bytes left.",
-				(unsigned int) exp_size, buffer_len);
-		return (-1);
-	}
+	pn.head = (part_header_t *) *ret_buffer;
+	pn.value = (uint64_t *) (pn.head + 1);
 
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_type = ntohs (tmp16);
-
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_length = ntohs (tmp16);
-
-	memcpy ((void *) &tmp64, buffer, sizeof (tmp64));
-	buffer += sizeof (tmp64);
-	*value = ntohll (tmp64);
+	len = ntohs (pn.head->length);
+	if (len != 12)
+		return (-1);
+	if (len > *ret_buffer_len)
+		return (-1);
+	*value = ntohll (*pn.value);
 
-	*ret_buffer = buffer;
-	*ret_buffer_len = buffer_len - pkg_length;
+	*ret_buffer = (void *) (pn.value + 1);
+	*ret_buffer_len -= len;
 
 	return (0);
 } /* int parse_part_number */
 
 static int parse_part_string (void **ret_buffer, int *ret_buffer_len,
 		char *output, int output_len)
 {
 	char *buffer = *ret_buffer;
 	int   buffer_len = *ret_buffer_len;
+	part_string_t ps;
 
-	uint16_t tmp16;
-	size_t header_size = 2 * sizeof (uint16_t);
+	uint16_t h_length;
+	uint16_t h_type;
 
-	uint16_t pkg_length;
-	uint16_t pkg_type;
+	DEBUG ("network plugin: parse_part_string: ret_buffer = %p;"
+			" ret_buffer_len = %i; output = %p; output_len = %i;",
+			*ret_buffer, *ret_buffer_len,
+			(void *) output, output_len);
 
-	if (buffer_len < header_size)
-	{
-		WARNING ("network plugin: parse_part_string: "
-				"Packet too short: "
-				"Chunk of at least size %u expected, "
-				"but buffer has only %i bytes left.",
-				(unsigned int) header_size, buffer_len);
-		return (-1);
-	}
+	ps.head = (part_header_t *) buffer;
 
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_type = ntohs (tmp16);
-
-	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
-	buffer += sizeof (tmp16);
-	pkg_length = ntohs (tmp16);
-
-	/* Check that packet fits in the input buffer */
-	if (pkg_length > buffer_len)
-	{
-		WARNING ("network plugin: parse_part_string: "
-				"Packet too big: "
-				"Chunk of size %hu received, "
-				"but buffer has only %i bytes left.",
-				pkg_length, buffer_len);
-		return (-1);
-	}
+	h_length = ntohs (ps.head->length);
+	h_type = ntohs (ps.head->type);
 
-	/* Check that pkg_length is in the valid range */
-	if (pkg_length <= header_size)
+	DEBUG ("network plugin: parse_part_string: length = %hu; type = %hu;",
+			h_length, h_type);
+
+	if (buffer_len < h_length)
 	{
-		WARNING ("network plugin: parse_part_string: "
-				"Packet too short: "
-				"Header claims this packet is only %hu "
-				"bytes long.", pkg_length);
+		DEBUG ("packet is too short");
 		return (-1);
 	}
+	assert ((h_type == TYPE_HOST)
+			|| (h_type == TYPE_PLUGIN)
+			|| (h_type == TYPE_PLUGIN_INSTANCE)
+			|| (h_type == TYPE_TYPE)
+			|| (h_type == TYPE_TYPE_INSTANCE)
+			|| (h_type == TYPE_MESSAGE));
 
-	/* Check that the package data fits into the output buffer.
-	 * The previous if-statement ensures that:
-	 * `pkg_length > header_size' */
-	if ((pkg_length - header_size) > output_len)
+	ps.value = buffer + 4;
+	if (ps.value[h_length - 5] != '\0')
 	{
-		WARNING ("network plugin: parse_part_string: "
-				"Output buffer too small.");
+		DEBUG ("String does not end with a nullbyte");
 		return (-1);
 	}
 
-	/* All sanity checks successfull, let's copy the data over */
-	output_len = pkg_length - header_size;
-	memcpy ((void *) output, (void *) buffer, output_len);
-	buffer += output_len;
-
-	/* For some very weird reason '\0' doesn't do the trick on SPARC in
-	 * this statement. */
-	if (output[output_len - 1] != 0)
-	{
-		WARNING ("network plugin: parse_part_string: "
-				"Received string does not end "
-				"with a NULL-byte.");
+	if (output_len < (h_length - 4))
+	{
+		DEBUG ("output buffer is too small");
 		return (-1);
 	}
+	strcpy (output, ps.value);
+
+	DEBUG ("network plugin: parse_part_string: output = %s", output);
 
-	*ret_buffer = buffer;
-	*ret_buffer_len = buffer_len - pkg_length;
+	*ret_buffer = (void *) (buffer + h_length);
+	*ret_buffer_len = buffer_len - h_length;
 
 	return (0);
 } /* int parse_part_string */
 
 static int parse_packet (void *buffer, int buffer_len)
 {
+	part_header_t *header;
 	int status;
 
 	value_list_t vl = VALUE_LIST_INIT;
 	char type[DATA_MAX_NAME_LEN];
+	notification_t n;
 
 	DEBUG ("network plugin: parse_packet: buffer = %p; buffer_len = %i;",
 			buffer, buffer_len);
 
 	memset (&vl, '\0', sizeof (vl));
 	memset (&type, '\0', sizeof (type));
+	memset (&n, '\0', sizeof (n));
 	status = 0;
 
-	while ((status == 0) && (buffer_len > sizeof (part_header_t)))
+	while ((status == 0) && (0 < buffer_len)
+			&& ((unsigned int) buffer_len > sizeof (part_header_t)))
 	{
-		uint16_t pkg_length;
-		uint16_t pkg_type;
+		header = (part_header_t *) buffer;
 
-		memcpy ((void *) &pkg_type,
-				(void *) buffer,
-				sizeof (pkg_type));
-		memcpy ((void *) &pkg_length,
-				(void *) (buffer + sizeof (pkg_type)),
-				sizeof (pkg_length));
-
-		pkg_length = ntohs (pkg_length);
-		pkg_type = ntohs (pkg_type);
-
-		if (pkg_length > buffer_len)
+		if (ntohs (header->length) > buffer_len)
 			break;
-		/* Ensure that this loop terminates eventually */
-		if (pkg_length < (2 * sizeof (uint16_t)))
+		/* Assure that this loop terminates eventually */
+		if (ntohs (header->length) < 4)
 			break;
 
-		if (pkg_type == TYPE_VALUES)
+		if (ntohs (header->type) == TYPE_VALUES)
 		{
 			status = parse_part_values (&buffer, &buffer_len,
 					&vl.values, &vl.values_len);
 
 			if (status != 0)
+			{
+				DEBUG ("parse_part_values failed.");
 				break;
+			}
 
 			if ((vl.time > 0)
 					&& (strlen (vl.host) > 0)
 					&& (strlen (vl.plugin) > 0)
 					&& (strlen (type) > 0)
 					&& (cache_check (type, &vl) == 0))
 			{
+				DEBUG ("network plugin: parse_packet:"
+						" dispatching values");
 				plugin_dispatch_values (type, &vl);
 			}
 			else
 			{
 				DEBUG ("network plugin: parse_packet:"
 						" NOT dispatching values");
 			}
-
-			sfree (vl.values);
 		}
-		else if (pkg_type == TYPE_TIME)
+		else if (ntohs (header->type) == TYPE_TIME)
 		{
 			uint64_t tmp = 0;
 			status = parse_part_number (&buffer, &buffer_len, &tmp);
 			if (status == 0)
+			{
 				vl.time = (time_t) tmp;
+				n.time = (time_t) tmp;
+			}
 		}
-		else if (pkg_type == TYPE_INTERVAL)
+		else if (ntohs (header->type) == TYPE_INTERVAL)
 		{
 			uint64_t tmp = 0;
 			status = parse_part_number (&buffer, &buffer_len, &tmp);
 			if (status == 0)
 				vl.interval = (int) tmp;
 		}
-		else if (pkg_type == TYPE_HOST)
+		else if (ntohs (header->type) == TYPE_HOST)
 		{
 			status = parse_part_string (&buffer, &buffer_len,
 					vl.host, sizeof (vl.host));
+			strncpy (n.host, vl.host, sizeof (n.host));
+			n.host[sizeof (n.host) - 1] = '\0';
+			DEBUG ("network plugin: parse_packet: vl.host = %s",
+					vl.host);
 		}
-		else if (pkg_type == TYPE_PLUGIN)
+		else if (ntohs (header->type) == TYPE_PLUGIN)
 		{
 			status = parse_part_string (&buffer, &buffer_len,
 					vl.plugin, sizeof (vl.plugin));
+			strncpy (n.plugin, vl.plugin, sizeof (n.plugin));
+			n.plugin[sizeof (n.plugin) - 1] = '\0';
+			DEBUG ("network plugin: parse_packet: vl.plugin = %s",
+					vl.plugin);
 		}
-		else if (pkg_type == TYPE_PLUGIN_INSTANCE)
+		else if (ntohs (header->type) == TYPE_PLUGIN_INSTANCE)
 		{
 			status = parse_part_string (&buffer, &buffer_len,
-					vl.plugin_instance, sizeof (vl.plugin_instance));
+					vl.plugin_instance,
+					sizeof (vl.plugin_instance));
+			strncpy (n.plugin_instance, vl.plugin_instance,
+					sizeof (n.plugin_instance));
+			n.plugin_instance[sizeof (n.plugin_instance) - 1] = '\0';
+			DEBUG ("network plugin: parse_packet: "
+					"vl.plugin_instance = %s",
+					vl.plugin_instance);
 		}
-		else if (pkg_type == TYPE_TYPE)
+		else if (ntohs (header->type) == TYPE_TYPE)
 		{
 			status = parse_part_string (&buffer, &buffer_len,
 					type, sizeof (type));
+			strncpy (n.type, type, sizeof (n.type));
+			n.type[sizeof (n.type) - 1] = '\0';
+			DEBUG ("network plugin: parse_packet: type = %s",
+					type);
+		}
+		else if (ntohs (header->type) == TYPE_TYPE_INSTANCE)
+		{
+			status = parse_part_string (&buffer, &buffer_len,
+					vl.type_instance,
+					sizeof (vl.type_instance));
+			strncpy (n.type_instance, vl.type_instance,
+					sizeof (n.type_instance));
+			n.type_instance[sizeof (n.type_instance) - 1] = '\0';
+			DEBUG ("network plugin: parse_packet: "
+					"vl.type_instance = %s",
+					vl.type_instance);
 		}
-		else if (pkg_type == TYPE_TYPE_INSTANCE)
+		else if (ntohs (header->type) == TYPE_MESSAGE)
 		{
 			status = parse_part_string (&buffer, &buffer_len,
-					vl.type_instance, sizeof (vl.type_instance));
+					n.message, sizeof (n.message));
+			DEBUG ("network plugin: parse_packet: n.message = %s",
+					n.message);
+
+			if ((n.severity != NOTIF_FAILURE)
+					&& (n.severity != NOTIF_WARNING)
+					&& (n.severity != NOTIF_OKAY))
+			{
+				INFO ("network plugin: "
+						"Ignoring notification with "
+						"unknown severity %s.",
+						n.severity);
+			}
+			else if (n.time <= 0)
+			{
+				INFO ("network plugin: "
+						"Ignoring notification with "
+						"time == 0.");
+			}
+			else if (strlen (n.message) <= 0)
+			{
+				INFO ("network plugin: "
+						"Ignoring notification with "
+						"an empty message.");
+			}
+			else
+			{
+				/*
+				 * TODO: Let this do a separate thread so that
+				 * no packets are lost if this takes too long.
+				 */
+				plugin_dispatch_notification (&n);
+			}
+		}
+		else if (ntohs (header->type) == TYPE_SEVERITY)
+		{
+			uint64_t tmp = 0;
+			status = parse_part_number (&buffer, &buffer_len, &tmp);
+			if (status == 0)
+				n.severity = (int) tmp;
 		}
 		else
 		{
 			DEBUG ("network plugin: parse_packet: Unknown part"
-					" type: 0x%04hx", pkg_type);
-			buffer = ((char *) buffer) + pkg_length;
+					" type: 0x%0hx", ntohs (header->type));
+			buffer = ((char *) buffer) + ntohs (header->length);
 		}
 	} /* while (buffer_len > sizeof (part_header_t)) */
 
-	return (status);
+	return (0);
 } /* int parse_packet */
 
 static void free_sockent (sockent_t *se)
 {
 	sockent_t *next;
 	while (se != NULL)
@@ -856,12 +766,22 @@
 	return (0);
 } /* int network_set_ttl */
 
 static int network_bind_socket (const sockent_t *se, const struct addrinfo *ai)
 {
 	int loop = 0;
+	int yes  = 1;
+
+	/* allow multiple sockets to use the same PORT number */
+	if (setsockopt(se->fd, SOL_SOCKET, SO_REUSEADDR,
+				&yes, sizeof(yes)) == -1) {
+                char errbuf[1024];
+                ERROR ("setsockopt: %s", 
+                                sstrerror (errno, errbuf, sizeof (errbuf)));
+		return (-1);
+	}
 
 	DEBUG ("fd = %i; calling `bind'", se->fd);
 
 	if (bind (se->fd, ai->ai_addr, ai->ai_addrlen) == -1)
 	{
 		char errbuf[1024];
@@ -1515,12 +1435,83 @@
 	{
 		return (-1);
 	}
 	return (0);
 } /* int network_config */
 
+static int network_notification (const notification_t *n)
+{
+  char  buffer[BUFF_SIZE];
+  char *buffer_ptr = buffer;
+  int   buffer_free = sizeof (buffer);
+  int   status;
+
+  memset (buffer, '\0', sizeof (buffer));
+
+
+  status = write_part_number (&buffer_ptr, &buffer_free, TYPE_TIME,
+      (uint64_t) n->time);
+  if (status != 0)
+    return (-1);
+
+  status = write_part_number (&buffer_ptr, &buffer_free, TYPE_SEVERITY,
+      (uint64_t) n->severity);
+  if (status != 0)
+    return (-1);
+
+  if (strlen (n->host) > 0)
+  {
+    status = write_part_string (&buffer_ptr, &buffer_free, TYPE_HOST,
+	n->host, strlen (n->host));
+    if (status != 0)
+      return (-1);
+  }
+
+  if (strlen (n->plugin) > 0)
+  {
+    status = write_part_string (&buffer_ptr, &buffer_free, TYPE_PLUGIN,
+	n->plugin, strlen (n->plugin));
+    if (status != 0)
+      return (-1);
+  }
+
+  if (strlen (n->plugin_instance) > 0)
+  {
+    status = write_part_string (&buffer_ptr, &buffer_free,
+	TYPE_PLUGIN_INSTANCE,
+	n->plugin_instance, strlen (n->plugin_instance));
+    if (status != 0)
+      return (-1);
+  }
+
+  if (strlen (n->type) > 0)
+  {
+    status = write_part_string (&buffer_ptr, &buffer_free, TYPE_TYPE,
+	n->type, strlen (n->type));
+    if (status != 0)
+      return (-1);
+  }
+
+  if (strlen (n->type_instance) > 0)
+  {
+    status = write_part_string (&buffer_ptr, &buffer_free, TYPE_TYPE_INSTANCE,
+	n->type_instance, strlen (n->type_instance));
+    if (status != 0)
+      return (-1);
+  }
+
+  status = write_part_string (&buffer_ptr, &buffer_free, TYPE_MESSAGE,
+      n->message, strlen (n->message));
+  if (status != 0)
+    return (-1);
+
+  network_send_buffer (buffer, sizeof (buffer) - buffer_free);
+
+  return (0);
+} /* int network_notification */
+
 static int network_shutdown (void)
 {
 	listen_loop++;
 
 	/* Kill the listening thread */
 	if (receive_thread_id != (pthread_t) 0)
@@ -1572,13 +1563,16 @@
 
 	cache_tree = c_avl_create ((int (*) (const void *, const void *)) strcmp);
 	cache_flush_last = time (NULL);
 
 	/* setup socket(s) and so on */
 	if (sending_sockets != NULL)
+	{
 		plugin_register_write ("network", network_write);
+		plugin_register_notification ("network", network_notification);
+	}
 
 	if ((listen_sockets_num != 0) && (receive_thread_id == 0))
 	{
 		int status;
 
 		status = pthread_create (&dispatch_thread_id,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/network.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/network.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/network.h	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/network.h	2008-02-19 03:57:18.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/network.h
- * Copyright (C) 2005,2006  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -60,7 +60,11 @@
 #define TYPE_PLUGIN_INSTANCE 0x0003
 #define TYPE_TYPE            0x0004
 #define TYPE_TYPE_INSTANCE   0x0005
 #define TYPE_VALUES          0x0006
 #define TYPE_INTERVAL        0x0007
 
+/* Types to transmit notifications */
+#define TYPE_MESSAGE         0x0100
+#define TYPE_SEVERITY        0x0101
+
 #endif /* NETWORK_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/ntpd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/ntpd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/ntpd.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/ntpd.c	2008-02-19 03:57:18.000000000 +0800
@@ -47,15 +47,17 @@
 #endif
 
 static const char *config_keys[] =
 {
 	"Host",
 	"Port",
-	NULL
+	"ReverseLookups"
 };
-static int config_keys_num = 2;
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+
+static int do_reverse_lookups = 1;
 
 # define NTPD_DEFAULT_HOST "localhost"
 # define NTPD_DEFAULT_PORT "123"
 static int   sock_descr = -1;
 static char *ntpd_host = NULL;
 static char  ntpd_port[16];
@@ -244,15 +246,15 @@
 	"GPS_NMEA",   "GPS_VME",      "PPS",        "ACTS_PTB",    /* 20-23 */
 	"ACTS_USNO",  "TRUETIME",     "GPS_HP",     "MSF_ARCRON",  /* 24-27 */
 	"SHM",        "GPS_PALISADE", "GPS_ONCORE", "GPS_JUPITER", /* 28-31 */
 	"CHRONOLOG",  "DUMBCLOCK",    "ULINK_M320", "PCF",         /* 32-35 */
 	"WWV_AUDIO",  "GPS_FG",       "HOPF_S",     "HOPF_P",      /* 36-39 */
 	"JJY",        "TT_IRIG",      "GPS_ZYFER",  "GPS_RIPENCC", /* 40-43 */
-	"NEOCLK4X",   NULL                                         /* 44    */
+	"NEOCLK4X"                                                 /* 44    */
 };
-static int refclock_names_num = 45;
+static int refclock_names_num = STATIC_ARRAY_SIZE (refclock_names);
 /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * End of the copied stuff..                                         *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
 
 static int ntpd_config (const char *key, const char *value)
 {
@@ -270,12 +272,21 @@
 			snprintf (ntpd_port, sizeof (ntpd_port),
 					"%i", port);
 		else
 			strncpy (ntpd_port, value, sizeof (ntpd_port));
 		ntpd_port[sizeof (ntpd_port) - 1] = '\0';
 	}
+	else if (strcasecmp (key, "ReverseLookups") == 0)
+	{
+		if ((strcasecmp (value, "True") == 0)
+				|| (strcasecmp (value, "Yes") == 0)
+				|| (strcasecmp (value, "On") == 0))
+			do_reverse_lookups = 1;
+		else
+			do_reverse_lookups = 0;
+	}
 	else
 	{
 		return (-1);
 	}
 
 	return (0);
@@ -394,13 +405,13 @@
 	}
 
 	return (sock_descr);
 }
 
 /* For a description of the arguments see `ntpd_do_query' below. */
-static int ntpd_receive_response (int req_code, int *res_items, int *res_size,
+static int ntpd_receive_response (int *res_items, int *res_size,
 		char **res_data, int res_item_size)
 {
 	int              sd;
 	struct pollfd    poll_s;
 	struct resp_pkt  res;
 	int              status;
@@ -752,13 +763,13 @@
 	int status;
 
 	status = ntpd_send_request (req_code, req_items, req_size, req_data);
 	if (status != 0)
 		return (status);
 
-	status = ntpd_receive_response (req_code, res_items, res_size, res_data,
+	status = ntpd_receive_response (res_items, res_size, res_data,
 			res_item_size);
 	return (status);
 }
 
 static double ntpd_read_fp (int32_t val_int)
 {
@@ -845,44 +856,19 @@
 		char peername[NI_MAXHOST];
 		int refclock_id;
 		
 		ptr = ps + i;
 		refclock_id = 0;
 
-		/*
-		if (((ntohl (ptr->dstadr) & 0xFFFFFF00) == 0x7F000000) || (ptr->dstadr == 0))
-			continue;
-			*/
-
 		/* Convert the `long floating point' offset value to double */
 		M_LFPTOD (ntohl (ptr->offset_int), ntohl (ptr->offset_frc), offset);
 
-		if (ptr->v6_flag)
-		{
-			struct sockaddr_in6 sa;
-
-			memset (&sa, 0, sizeof (sa));
-			sa.sin6_family = AF_INET6;
-			sa.sin6_port = htons (123);
-			memcpy (&sa.sin6_addr, &ptr->srcadr6, sizeof (struct in6_addr));
-
-			status = getnameinfo ((const struct sockaddr *) &sa,
-					sizeof (sa),
-					peername, sizeof (peername),
-					NULL, 0, 0 /* no flags */);
-			if (status != 0)
-			{
-				char errbuf[1024];
-				ERROR ("ntpd plugin: getnameinfo failed: %s",
-						(status == EAI_SYSTEM)
-						? sstrerror (errno, errbuf, sizeof (errbuf))
-						: gai_strerror (status));
-				continue;
-			}
-		}
-		else if ((ntohl (ptr->srcadr) & REFCLOCK_MASK) == REFCLOCK_ADDR)
+		/* Special IP addresses for hardware clocks and stuff.. */
+		if (!ptr->v6_flag
+				&& ((ntohl (ptr->srcadr) & REFCLOCK_MASK)
+					== REFCLOCK_ADDR))
 		{
 			struct in_addr  addr_obj;
 			char *addr_str;
 
 			refclock_id = (ntohl (ptr->srcadr) >> 8) & 0x000000FF;
 
@@ -897,31 +883,59 @@
 				addr_obj.s_addr = ptr->srcadr;
 				addr_str = inet_ntoa (addr_obj);
 
 				strncpy (peername, addr_str, sizeof (peername));
 			}
 		}
-		else /* IPv4 */
+		else /* Normal network host. */
 		{
-			struct in_addr  addr_obj;
-			struct hostent *addr_he;
-			char           *addr_str;
+			struct sockaddr_storage sa;
+			socklen_t sa_len;
+			int flags = 0;
 
-			memset ((void *) &addr_obj, '\0', sizeof (addr_obj));
-			addr_obj.s_addr = ptr->srcadr;
-			addr_str = inet_ntoa (addr_obj);
-
-			addr_he = gethostbyaddr ((const void *) &addr_obj,
-					sizeof (addr_obj), AF_INET);
-			if (addr_he != NULL)
+			memset (&sa, '\0', sizeof (sa));
+
+			if (ptr->v6_flag)
 			{
-				strncpy (peername, addr_he->h_name, sizeof (peername));
+				struct sockaddr_in6 *sa_ptr;
+				sa_ptr = (struct sockaddr_in6 *) &sa;
+
+				sa_ptr->sin6_family = AF_INET6;
+				sa_ptr->sin6_port = htons (123);
+				memcpy (&sa_ptr->sin6_addr, &ptr->srcadr6,
+						sizeof (struct in6_addr));
+				sa_len = sizeof (struct sockaddr_in6);
 			}
 			else
 			{
-				strncpy (peername, addr_str, sizeof (peername));
+				struct sockaddr_in *sa_ptr;
+				sa_ptr = (struct sockaddr_in *) &sa;
+
+				sa_ptr->sin_family = AF_INET;
+				sa_ptr->sin_port = htons (123);
+				memcpy (&sa_ptr->sin_addr, &ptr->srcadr,
+						sizeof (struct in_addr));
+				sa_len = sizeof (struct sockaddr_in);
+			}
+
+			if (do_reverse_lookups == 0)
+				flags |= NI_NUMERICHOST;
+
+			status = getnameinfo ((const struct sockaddr *) &sa,
+					sa_len,
+					peername, sizeof (peername),
+					NULL, 0, /* No port name */
+					flags);
+			if (status != 0)
+			{
+				char errbuf[1024];
+				ERROR ("ntpd plugin: getnameinfo failed: %s",
+						(status == EAI_SYSTEM)
+						? sstrerror (errno, errbuf, sizeof (errbuf))
+						: gai_strerror (status));
+				continue;
 			}
 		}
 
 		DEBUG ("peer %i:\n"
 				"  peername   = %s\n"
 				"  srcadr     = 0x%08x\n"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/perl.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/perl.c	2008-02-19 03:57:18.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/perl.c
- * Copyright (C) 2007, 2008  Sebastian Harl
+ * Copyright (C) 2007  Sebastian Harl
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -21,12 +21,15 @@
 
 /*
  * This plugin embeds a Perl interpreter into collectd and provides an
  * interface for collectd plugins written in perl.
  */
 
+/* do not automatically get the thread specific perl interpreter */
+#define PERL_NO_GET_CONTEXT
+
 #include "collectd.h"
 
 #include "configfile.h"
 
 #include <EXTERN.h>
 #include <perl.h>
@@ -39,19 +42,30 @@
 #endif /* DEBUG */
 
 /* ... while we want the definition found in plugin.h. */
 #include "plugin.h"
 #include "common.h"
 
+#include <pthread.h>
+
+#if !defined(USE_ITHREADS)
+# error "Perl does not support ithreads!"
+#endif /* !defined(USE_ITHREADS) */
+
+/* clear the Perl sub's stack frame
+ * (this should only be used inside an XSUB) */
+#define CLEAR_STACK_FRAME PL_stack_sp = PL_stack_base + *PL_markstack_ptr
+
 #define PLUGIN_INIT     0
 #define PLUGIN_READ     1
 #define PLUGIN_WRITE    2
 #define PLUGIN_SHUTDOWN 3
 #define PLUGIN_LOG      4
+#define PLUGIN_NOTIF    5
 
-#define PLUGIN_TYPES    5
+#define PLUGIN_TYPES    6
 
 #define PLUGIN_DATASET  255
 
 #define log_debug(...) DEBUG ("perl: " __VA_ARGS__)
 #define log_info(...) INFO ("perl: " __VA_ARGS__)
 #define log_warn(...) WARNING ("perl: " __VA_ARGS__)
@@ -60,34 +74,69 @@
 /* this is defined in DynaLoader.a */
 void boot_DynaLoader (PerlInterpreter *, CV *);
 
 static XS (Collectd_plugin_register_ds);
 static XS (Collectd_plugin_unregister_ds);
 static XS (Collectd_plugin_dispatch_values);
+static XS (Collectd_plugin_dispatch_notification);
 static XS (Collectd_plugin_log);
+static XS (Collectd_call_by_name);
+
+/*
+ * private data types
+ */
+
+typedef struct c_ithread_s {
+	/* the thread's Perl interpreter */
+	PerlInterpreter *interp;
+
+	/* double linked list of threads */
+	struct c_ithread_s *prev;
+	struct c_ithread_s *next;
+} c_ithread_t;
+
+typedef struct {
+	c_ithread_t *head;
+	c_ithread_t *tail;
+
+#if COLLECT_DEBUG
+	/* some usage stats */
+	int number_of_threads;
+#endif /* COLLECT_DEBUG */
+
+	pthread_mutex_t mutex;
+} c_ithread_list_t;
 
 /*
  * private variables
  */
 
-static PerlInterpreter *perl = NULL;
+/* if perl_threads != NULL perl_threads->head must
+ * point to the "base" thread */
+static c_ithread_list_t *perl_threads = NULL;
+
+/* the key used to store each pthread's ithread */
+static pthread_key_t perl_thr_key;
 
-static int  perl_argc   = 0;
+static int    perl_argc = 0;
 static char **perl_argv = NULL;
 
 static char base_name[DATA_MAX_NAME_LEN] = "";
 
 static struct {
 	char name[64];
 	XS ((*f));
 } api[] =
 {
 	{ "Collectd::plugin_register_data_set",   Collectd_plugin_register_ds },
 	{ "Collectd::plugin_unregister_data_set", Collectd_plugin_unregister_ds },
 	{ "Collectd::plugin_dispatch_values",     Collectd_plugin_dispatch_values },
+	{ "Collectd::plugin_dispatch_notification",
+		Collectd_plugin_dispatch_notification },
 	{ "Collectd::plugin_log",                 Collectd_plugin_log },
+	{ "Collectd::call_by_name",               Collectd_call_by_name },
 	{ "", NULL }
 };
 
 struct {
 	char name[64];
 	int  value;
@@ -95,23 +144,45 @@
 {
 	{ "Collectd::TYPE_INIT",       PLUGIN_INIT },
 	{ "Collectd::TYPE_READ",       PLUGIN_READ },
 	{ "Collectd::TYPE_WRITE",      PLUGIN_WRITE },
 	{ "Collectd::TYPE_SHUTDOWN",   PLUGIN_SHUTDOWN },
 	{ "Collectd::TYPE_LOG",        PLUGIN_LOG },
+	{ "Collectd::TYPE_NOTIF",      PLUGIN_NOTIF },
 	{ "Collectd::TYPE_DATASET",    PLUGIN_DATASET },
 	{ "Collectd::DS_TYPE_COUNTER", DS_TYPE_COUNTER },
 	{ "Collectd::DS_TYPE_GAUGE",   DS_TYPE_GAUGE },
 	{ "Collectd::LOG_ERR",         LOG_ERR },
 	{ "Collectd::LOG_WARNING",     LOG_WARNING },
 	{ "Collectd::LOG_NOTICE",      LOG_NOTICE },
 	{ "Collectd::LOG_INFO",        LOG_INFO },
 	{ "Collectd::LOG_DEBUG",       LOG_DEBUG },
+	{ "Collectd::NOTIF_FAILURE",   NOTIF_FAILURE },
+	{ "Collectd::NOTIF_WARNING",   NOTIF_WARNING },
+	{ "Collectd::NOTIF_OKAY",      NOTIF_OKAY },
 	{ "", 0 }
 };
 
+struct {
+	char  name[64];
+	char *var;
+} g_strings[] =
+{
+	{ "Collectd::hostname_g", hostname_g },
+	{ "", NULL }
+};
+
+struct {
+	char  name[64];
+	int  *var;
+} g_integers[] =
+{
+	{ "Collectd::interval_g", &interval_g },
+	{ "", NULL }
+};
+
 /*
  * Helper functions for data type conversion.
  */
 
 /*
  * data source:
@@ -122,63 +193,63 @@
  *     min  => $ds_min,
  *     max  => $ds_max
  *   },
  *   ...
  * ]
  */
-static int hv2data_source (HV *hash, data_source_t *ds)
+static int hv2data_source (pTHX_ HV *hash, data_source_t *ds)
 {
 	SV **tmp = NULL;
 
 	if ((NULL == hash) || (NULL == ds))
 		return -1;
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, hash, "name", 4, 0))) {
+	if (NULL != (tmp = hv_fetch (hash, "name", 4, 0))) {
 		strncpy (ds->name, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		ds->name[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
 	else {
 		log_err ("hv2data_source: No DS name given.");
 		return -1;
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, hash, "type", 4, 0))) {
+	if (NULL != (tmp = hv_fetch (hash, "type", 4, 0))) {
 		ds->type = SvIV (*tmp);
 
 		if ((DS_TYPE_COUNTER != ds->type) && (DS_TYPE_GAUGE != ds->type)) {
 			log_err ("hv2data_source: Invalid DS type.");
 			return -1;
 		}
 	}
 	else {
 		ds->type = DS_TYPE_COUNTER;
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, hash, "min", 3, 0)))
+	if (NULL != (tmp = hv_fetch (hash, "min", 3, 0)))
 		ds->min = SvNV (*tmp);
 	else
 		ds->min = NAN;
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, hash, "max", 3, 0)))
+	if (NULL != (tmp = hv_fetch (hash, "max", 3, 0)))
 		ds->max = SvNV (*tmp);
 	else
 		ds->max = NAN;
 	return 0;
 } /* static data_source_t *hv2data_source (HV *) */
 
-static int av2value (char *name, AV *array, value_t *value, int len)
+static int av2value (pTHX_ char *name, AV *array, value_t *value, int len)
 {
 	const data_set_t *ds;
 
 	int i = 0;
 
 	if ((NULL == name) || (NULL == array) || (NULL == value))
 		return -1;
 
-	if (Perl_av_len (perl, array) < len - 1)
-		len = Perl_av_len (perl, array) + 1;
+	if (av_len (array) < len - 1)
+		len = av_len (array) + 1;
 
 	if (0 >= len)
 		return -1;
 
 	ds = plugin_get_ds (name);
 	if (NULL == ds) {
@@ -189,13 +260,13 @@
 	if (ds->ds_num < len) {
 		log_warn ("av2value: Value length exceeds data set length.");
 		len = ds->ds_num;
 	}
 
 	for (i = 0; i < len; ++i) {
-		SV **tmp = Perl_av_fetch (perl, array, i, 0);
+		SV **tmp = av_fetch (array, i, 0);
 
 		if (NULL != tmp) {
 			if (DS_TYPE_COUNTER == ds->ds[i].type)
 				value[i].counter = SvIV (*tmp);
 			else
 				value[i].gauge = SvNV (*tmp);
@@ -204,50 +275,48 @@
 			return -1;
 		}
 	}
 	return len;
 } /* static int av2value (char *, AV *, value_t *, int) */
 
-static int data_set2av (data_set_t *ds, AV *array)
+static int data_set2av (pTHX_ data_set_t *ds, AV *array)
 {
 	int i = 0;
 
 	if ((NULL == ds) || (NULL == array))
 		return -1;
 
-	Perl_av_extend (perl, array, ds->ds_num);
+	av_extend (array, ds->ds_num);
 
 	for (i = 0; i < ds->ds_num; ++i) {
-		HV *source = Perl_newHV (perl);
+		HV *source = newHV ();
 
-		if (NULL == Perl_hv_store (perl, source, "name", 4,
-				Perl_newSVpv (perl, ds->ds[i].name, 0), 0))
+		if (NULL == hv_store (source, "name", 4,
+				newSVpv (ds->ds[i].name, 0), 0))
 			return -1;
 
-		if (NULL == Perl_hv_store (perl, source, "type", 4,
-				Perl_newSViv (perl, ds->ds[i].type), 0))
+		if (NULL == hv_store (source, "type", 4, newSViv (ds->ds[i].type), 0))
 			return -1;
 
 		if (! isnan (ds->ds[i].min))
-			if (NULL == Perl_hv_store (perl, source, "min", 3,
-					Perl_newSVnv (perl, ds->ds[i].min), 0))
+			if (NULL == hv_store (source, "min", 3,
+					newSVnv (ds->ds[i].min), 0))
 				return -1;
 
 		if (! isnan (ds->ds[i].max))
-			if (NULL == Perl_hv_store (perl, source, "max", 3,
-					Perl_newSVnv (perl, ds->ds[i].max), 0))
+			if (NULL == hv_store (source, "max", 3,
+					newSVnv (ds->ds[i].max), 0))
 				return -1;
 
-		if (NULL == Perl_av_store (perl, array, i,
-				Perl_newRV_noinc (perl, (SV *)source)))
+		if (NULL == av_store (array, i, newRV_noinc ((SV *)source)))
 			return -1;
 	}
 	return 0;
 } /* static int data_set2av (data_set_t *, AV *) */
 
-static int value_list2hv (value_list_t *vl, data_set_t *ds, HV *hash)
+static int value_list2hv (pTHX_ value_list_t *vl, data_set_t *ds, HV *hash)
 {
 	AV *values = NULL;
 
 	int i   = 0;
 	int len = 0;
 
@@ -258,123 +327,162 @@
 
 	if (ds->ds_num < len) {
 		log_warn ("value2av: Value length exceeds data set length.");
 		len = ds->ds_num;
 	}
 
-	values = Perl_newAV (perl);
-	Perl_av_extend (perl, values, len - 1);
+	values = newAV ();
+	av_extend (values, len - 1);
 
 	for (i = 0; i < len; ++i) {
 		SV *val = NULL;
 
 		if (DS_TYPE_COUNTER == ds->ds[i].type)
-			val = Perl_newSViv (perl, vl->values[i].counter);
+			val = newSViv (vl->values[i].counter);
 		else
-			val = Perl_newSVnv (perl, vl->values[i].gauge);
+			val = newSVnv (vl->values[i].gauge);
 
-		if (NULL == Perl_av_store (perl, values, i, val)) {
-			Perl_av_undef (perl, values);
+		if (NULL == av_store (values, i, val)) {
+			av_undef (values);
 			return -1;
 		}
 	}
 
-	if (NULL == Perl_hv_store (perl, hash, "values", 6,
-			Perl_newRV_noinc (perl, (SV *)values), 0))
+	if (NULL == hv_store (hash, "values", 6, newRV_noinc ((SV *)values), 0))
 		return -1;
 
 	if (0 != vl->time)
-		if (NULL == Perl_hv_store (perl, hash, "time", 4,
-				Perl_newSViv (perl, vl->time), 0))
+		if (NULL == hv_store (hash, "time", 4, newSViv (vl->time), 0))
 			return -1;
 
 	if ('\0' != vl->host[0])
-		if (NULL == Perl_hv_store (perl, hash, "host", 4,
-				Perl_newSVpv (perl, vl->host, 0), 0))
+		if (NULL == hv_store (hash, "host", 4, newSVpv (vl->host, 0), 0))
 			return -1;
 
 	if ('\0' != vl->plugin[0])
-		if (NULL == Perl_hv_store (perl, hash, "plugin", 6,
-				Perl_newSVpv (perl, vl->plugin, 0), 0))
+		if (NULL == hv_store (hash, "plugin", 6, newSVpv (vl->plugin, 0), 0))
 			return -1;
 
 	if ('\0' != vl->plugin_instance[0])
-		if (NULL == Perl_hv_store (perl, hash, "plugin_instance", 15,
-				Perl_newSVpv (perl, vl->plugin_instance, 0), 0))
+		if (NULL == hv_store (hash, "plugin_instance", 15,
+				newSVpv (vl->plugin_instance, 0), 0))
 			return -1;
 
 	if ('\0' != vl->type_instance[0])
-		if (NULL == Perl_hv_store (perl, hash, "type_instance", 13,
-				Perl_newSVpv (perl, vl->type_instance, 0), 0))
+		if (NULL == hv_store (hash, "type_instance", 13,
+				newSVpv (vl->type_instance, 0), 0))
 			return -1;
 	return 0;
 } /* static int value2av (value_list_t *, data_set_t *, HV *) */
 
+static int notification2hv (pTHX_ notification_t *n, HV *hash)
+{
+	if (NULL == hv_store (hash, "severity", 8, newSViv (n->severity), 0))
+		return -1;
+
+	if (0 != n->time)
+		if (NULL == hv_store (hash, "time", 4, newSViv (n->time), 0))
+			return -1;
+
+	if ('\0' != *n->message)
+		if (NULL == hv_store (hash, "message", 7, newSVpv (n->message, 0), 0))
+			return -1;
+
+	if ('\0' != *n->host)
+		if (NULL == hv_store (hash, "host", 4, newSVpv (n->host, 0), 0))
+			return -1;
+
+	if ('\0' != *n->plugin)
+		if (NULL == hv_store (hash, "plugin", 6, newSVpv (n->plugin, 0), 0))
+			return -1;
+
+	if ('\0' != *n->plugin_instance)
+		if (NULL == hv_store (hash, "plugin_instance", 15,
+				newSVpv (n->plugin_instance, 0), 0))
+			return -1;
+
+	if ('\0' != *n->type)
+		if (NULL == hv_store (hash, "type", 4, newSVpv (n->type, 0), 0))
+			return -1;
+
+	if ('\0' != *n->type_instance)
+		if (NULL == hv_store (hash, "type_instance", 13,
+				newSVpv (n->type_instance, 0), 0))
+			return -1;
+	return 0;
+} /* static int notification2hv (notification_t *, HV *) */
+
 /*
  * Internal functions.
  */
 
 static char *get_module_name (char *buf, size_t buf_len, const char *module) {
 	int status = 0;
 	if (base_name[0] == '\0')
 		status = snprintf (buf, buf_len, "%s", module);
 	else
 		status = snprintf (buf, buf_len, "%s::%s", base_name, module);
-	if ((status < 0) || (status >= buf_len))
+	if ((status < 0) || ((unsigned int)status >= buf_len))
 		return (NULL);
 	buf[buf_len - 1] = '\0';
 	return (buf);
 } /* char *get_module_name */
 
 /*
  * Add a plugin's data set definition.
  */
-static int pplugin_register_data_set (char *name, AV *dataset)
+static int pplugin_register_data_set (pTHX_ char *name, AV *dataset)
 {
 	int len = -1;
+	int ret = 0;
 	int i   = 0;
 
 	data_source_t *ds  = NULL;
 	data_set_t    *set = NULL;
 
 	if ((NULL == name) || (NULL == dataset))
 		return -1;
 
-	len = Perl_av_len (perl, dataset);
+	len = av_len (dataset);
 
 	if (-1 == len)
 		return -1;
 
 	ds  = (data_source_t *)smalloc ((len + 1) * sizeof (data_source_t));
 	set = (data_set_t *)smalloc (sizeof (data_set_t));
 
 	for (i = 0; i <= len; ++i) {
-		SV **elem = Perl_av_fetch (perl, dataset, i, 0);
+		SV **elem = av_fetch (dataset, i, 0);
 
 		if (NULL == elem)
 			return -1;
 
 		if (! (SvROK (*elem) && (SVt_PVHV == SvTYPE (SvRV (*elem))))) {
 			log_err ("pplugin_register_data_set: Invalid data source.");
 			return -1;
 		}
 
-		if (-1 == hv2data_source ((HV *)SvRV (*elem), &ds[i]))
+		if (-1 == hv2data_source (aTHX_ (HV *)SvRV (*elem), &ds[i]))
 			return -1;
 
 		log_debug ("pplugin_register_data_set: "
 				"DS.name = \"%s\", DS.type = %i, DS.min = %f, DS.max = %f",
 				ds[i].name, ds[i].type, ds[i].min, ds[i].max);
 	}
 
 	strncpy (set->type, name, DATA_MAX_NAME_LEN);
 	set->type[DATA_MAX_NAME_LEN - 1] = '\0';
 
 	set->ds_num = len + 1;
 	set->ds = ds;
-	return plugin_register_data_set (set);
+
+	ret = plugin_register_data_set (set);
+
+	free (ds);
+	free (set);
+	return ret;
 } /* static int pplugin_register_data_set (char *, SV *) */
 
 /*
  * Remove a plugin's data set definition.
  */
 static int pplugin_unregister_data_set (char *name)
@@ -394,89 +502,153 @@
  *   host   => $host,
  *   plugin => $plugin,
  *   plugin_instance => $pinstance,
  *   type_instance   => $tinstance,
  * }
  */
-static int pplugin_dispatch_values (char *name, HV *values)
+static int pplugin_dispatch_values (pTHX_ char *name, HV *values)
 {
 	value_list_t list = VALUE_LIST_INIT;
 	value_t      *val = NULL;
 
 	SV **tmp = NULL;
 
 	int ret = 0;
 
 	if ((NULL == name) || (NULL == values))
 		return -1;
 
-	if ((NULL == (tmp = Perl_hv_fetch (perl, values, "values", 6, 0)))
+	if ((NULL == (tmp = hv_fetch (values, "values", 6, 0)))
 			|| (! (SvROK (*tmp) && (SVt_PVAV == SvTYPE (SvRV (*tmp)))))) {
 		log_err ("pplugin_dispatch_values: No valid values given.");
 		return -1;
 	}
 
 	{
 		AV  *array = (AV *)SvRV (*tmp);
-		int len    = Perl_av_len (perl, array) + 1;
+		int len    = av_len (array) + 1;
 
 		if (len <= 0)
 			return -1;
 
 		val = (value_t *)smalloc (len * sizeof (value_t));
 
-		list.values_len = av2value (name, (AV *)SvRV (*tmp), val, len);
+		list.values_len = av2value (aTHX_ name, (AV *)SvRV (*tmp), val, len);
 		list.values = val;
 
 		if (-1 == list.values_len) {
 			sfree (val);
 			return -1;
 		}
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, values, "time", 4, 0))) {
+	if (NULL != (tmp = hv_fetch (values, "time", 4, 0))) {
 		list.time = (time_t)SvIV (*tmp);
 	}
 	else {
 		list.time = time (NULL);
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, values, "host", 4, 0))) {
+	if (NULL != (tmp = hv_fetch (values, "host", 4, 0))) {
 		strncpy (list.host, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		list.host[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
 	else {
 		strcpy (list.host, hostname_g);
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, values, "plugin", 6, 0))) {
+	if (NULL != (tmp = hv_fetch (values, "plugin", 6, 0))) {
 		strncpy (list.plugin, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		list.plugin[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, values,
-			"plugin_instance", 15, 0))) {
+	if (NULL != (tmp = hv_fetch (values, "plugin_instance", 15, 0))) {
 		strncpy (list.plugin_instance, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		list.plugin_instance[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
 
-	if (NULL != (tmp = Perl_hv_fetch (perl, values, "type_instance", 13, 0))) {
+	if (NULL != (tmp = hv_fetch (values, "type_instance", 13, 0))) {
 		strncpy (list.type_instance, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		list.type_instance[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
 
 	ret = plugin_dispatch_values (name, &list);
 
 	sfree (val);
 	return ret;
 } /* static int pplugin_dispatch_values (char *, HV *) */
 
 /*
+ * Dispatch a notification.
+ *
+ * notification:
+ * {
+ *   severity => $severity,
+ *   time     => $time,
+ *   message  => $msg,
+ *   host     => $host,
+ *   plugin   => $plugin,
+ *   type     => $type,
+ *   plugin_instance => $instance,
+ *   type_instance   => $type_instance
+ * }
+ */
+static int pplugin_dispatch_notification (pTHX_ HV *notif)
+{
+	notification_t n;
+
+	SV **tmp = NULL;
+
+	if (NULL == notif)
+		return -1;
+
+	memset (&n, 0, sizeof (n));
+
+	if (NULL != (tmp = hv_fetch (notif, "severity", 8, 0)))
+		n.severity = SvIV (*tmp);
+	else
+		n.severity = NOTIF_FAILURE;
+
+	if (NULL != (tmp = hv_fetch (notif, "time", 4, 0)))
+		n.time = (time_t)SvIV (*tmp);
+	else
+		n.time = time (NULL);
+
+	if (NULL != (tmp = hv_fetch (notif, "message", 7, 0)))
+		strncpy (n.message, SvPV_nolen (*tmp), sizeof (n.message));
+	n.message[sizeof (n.message) - 1] = '\0';
+
+	if (NULL != (tmp = hv_fetch (notif, "host", 4, 0)))
+		strncpy (n.host, SvPV_nolen (*tmp), sizeof (n.host));
+	else
+		strncpy (n.host, hostname_g, sizeof (n.host));
+	n.host[sizeof (n.host) - 1] = '\0';
+
+	if (NULL != (tmp = hv_fetch (notif, "plugin", 6, 0)))
+		strncpy (n.plugin, SvPV_nolen (*tmp), sizeof (n.plugin));
+	n.plugin[sizeof (n.plugin) - 1] = '\0';
+
+	if (NULL != (tmp = hv_fetch (notif, "plugin_instance", 15, 0)))
+		strncpy (n.plugin_instance, SvPV_nolen (*tmp),
+				sizeof (n.plugin_instance));
+	n.plugin_instance[sizeof (n.plugin_instance) - 1] = '\0';
+
+	if (NULL != (tmp = hv_fetch (notif, "type", 4, 0)))
+		strncpy (n.type, SvPV_nolen (*tmp), sizeof (n.type));
+	n.type[sizeof (n.type) - 1] = '\0';
+
+	if (NULL != (tmp = hv_fetch (notif, "type_instance", 13, 0)))
+		strncpy (n.type_instance, SvPV_nolen (*tmp), sizeof (n.type_instance));
+	n.type_instance[sizeof (n.type_instance) - 1] = '\0';
+	return plugin_dispatch_notification (&n);
+} /* static int pplugin_dispatch_notification (HV *) */
+
+/*
  * Call all working functions of the given type.
  */
-static int pplugin_call_all (int type, ...)
+static int pplugin_call_all (pTHX_ int type, ...)
 {
 	int retvals = 0;
 
 	va_list ap;
 	int ret = 0;
 
@@ -489,13 +661,13 @@
 
 	ENTER;
 	SAVETMPS;
 
 	PUSHMARK (SP);
 
-	XPUSHs (sv_2mortal (Perl_newSViv (perl, (IV)type)));
+	XPUSHs (sv_2mortal (newSViv ((IV)type)));
 
 	if (PLUGIN_WRITE == type) {
 		/*
 		 * $_[0] = $plugin_type;
 		 *
 		 * $_[1] =
@@ -519,41 +691,77 @@
 		 *   type_instance   => $type_instance
 		 * };
 		 */
 		data_set_t   *ds;
 		value_list_t *vl;
 
-		AV *pds = Perl_newAV (perl);
-		HV *pvl = Perl_newHV (perl);
+		AV *pds = newAV ();
+		HV *pvl = newHV ();
 
 		ds = va_arg (ap, data_set_t *);
 		vl = va_arg (ap, value_list_t *);
 
-		if (-1 == data_set2av (ds, pds))
-			return -1;
+		if (-1 == data_set2av (aTHX_ ds, pds)) {
+			av_clear (pds);
+			av_undef (pds);
+			pds = Nullav;
+			ret = -1;
+		}
 
-		if (-1 == value_list2hv (vl, ds, pvl))
-			return -1;
+		if (-1 == value_list2hv (aTHX_ vl, ds, pvl)) {
+			hv_clear (pvl);
+			hv_undef (pvl);
+			pvl = Nullhv;
+			ret = -1;
+		}
 
-		XPUSHs (sv_2mortal (Perl_newSVpv (perl, ds->type, 0)));
-		XPUSHs (sv_2mortal (Perl_newRV_noinc (perl, (SV *)pds)));
-		XPUSHs (sv_2mortal (Perl_newRV_noinc (perl, (SV *)pvl)));
+		XPUSHs (sv_2mortal (newSVpv (ds->type, 0)));
+		XPUSHs (sv_2mortal (newRV_noinc ((SV *)pds)));
+		XPUSHs (sv_2mortal (newRV_noinc ((SV *)pvl)));
 	}
 	else if (PLUGIN_LOG == type) {
 		/*
 		 * $_[0] = $level;
 		 *
 		 * $_[1] = $message;
 		 */
-		XPUSHs (sv_2mortal (Perl_newSViv (perl, va_arg (ap, int))));
-		XPUSHs (sv_2mortal (Perl_newSVpv (perl, va_arg (ap, char *), 0)));
+		XPUSHs (sv_2mortal (newSViv (va_arg (ap, int))));
+		XPUSHs (sv_2mortal (newSVpv (va_arg (ap, char *), 0)));
+	}
+	else if (PLUGIN_NOTIF == type) {
+		/*
+		 * $_[0] =
+		 * {
+		 *   severity => $severity,
+		 *   time     => $time,
+		 *   message  => $msg,
+		 *   host     => $host,
+		 *   plugin   => $plugin,
+		 *   type     => $type,
+		 *   plugin_instance => $instance,
+		 *   type_instance   => $type_instance
+		 * };
+		 */
+		notification_t *n;
+		HV *notif = newHV ();
+
+		n = va_arg (ap, notification_t *);
+
+		if (-1 == notification2hv (aTHX_ n, notif)) {
+			hv_clear (notif);
+			hv_undef (notif);
+			notif = Nullhv;
+			ret = -1;
+		}
+
+		XPUSHs (sv_2mortal (newRV_noinc ((SV *)notif)));
 	}
 
 	PUTBACK;
 
-	retvals = Perl_call_pv (perl, "Collectd::plugin_call_all", G_SCALAR);
+	retvals = call_pv ("Collectd::plugin_call_all", G_SCALAR);
 
 	SPAGAIN;
 	if (0 < retvals) {
 		SV *tmp = POPs;
 		if (! SvTRUE (tmp))
 			ret = -1;
@@ -596,13 +804,13 @@
 			"type = \"%s\", dataset = \"%s\"",
 			SvPV_nolen (ST (0)), SvPV_nolen (ST (1)));
 
 	data = ST (1);
 
 	if (SvROK (data) && (SVt_PVAV == SvTYPE (SvRV (data)))) {
-		ret = pplugin_register_data_set (SvPV_nolen (ST (0)),
+		ret = pplugin_register_data_set (aTHX_ SvPV_nolen (ST (0)),
 				(AV *)SvRV (data));
 	}
 	else {
 		log_err ("Collectd::plugin_register_data_set: Invalid data.");
 		XSRETURN_EMPTY;
 	}
@@ -628,13 +836,13 @@
 		XSRETURN_EMPTY;
 	}
 
 	log_debug ("Collectd::plugin_unregister_data_set: type = \"%s\"",
 			SvPV_nolen (ST (0)));
 
-	if (0 == pplugin_unregister_data_set (SvPV_nolen (ST (1))))
+	if (0 == pplugin_unregister_data_set (SvPV_nolen (ST (0))))
 		XSRETURN_YES;
 	else
 		XSRETURN_EMPTY;
 } /* static XS (Collectd_plugin_register_ds) */
 
 /*
@@ -670,21 +878,59 @@
 		XSRETURN_EMPTY;
 	}
 
 	if ((NULL == ST (0)) || (NULL == values))
 		XSRETURN_EMPTY;
 
-	ret = pplugin_dispatch_values (SvPV_nolen (ST (0)), (HV *)SvRV (values));
+	ret = pplugin_dispatch_values (aTHX_ SvPV_nolen (ST (0)),
+			(HV *)SvRV (values));
 
 	if (0 == ret)
 		XSRETURN_YES;
 	else
 		XSRETURN_EMPTY;
 } /* static XS (Collectd_plugin_dispatch_values) */
 
 /*
+ * Collectd::plugin_dispatch_notification (notif).
+ *
+ * notif:
+ *   notification to dispatch
+ */
+static XS (Collectd_plugin_dispatch_notification)
+{
+	SV *notif = NULL;
+
+	int ret = 0;
+
+	dXSARGS;
+
+	if (1 != items) {
+		log_err ("Usage: Collectd::plugin_dispatch_notification(notif)");
+		XSRETURN_EMPTY;
+	}
+
+	log_debug ("Collectd::plugin_dispatch_notification: notif = \"%s\"",
+			SvPV_nolen (ST (0)));
+
+	notif = ST (0);
+
+	if (! (SvROK (notif) && (SVt_PVHV == SvTYPE (SvRV (notif))))) {
+		log_err ("Collectd::plugin_dispatch_notification: Invalid notif.");
+		XSRETURN_EMPTY;
+	}
+
+	ret = pplugin_dispatch_notification (aTHX_ (HV *)SvRV (notif));
+
+	if (0 == ret)
+		XSRETURN_YES;
+	else
+		XSRETURN_EMPTY;
+} /* static XS (Collectd_plugin_dispatch_notification) */
+
+/*
  * Collectd::plugin_log (level, message).
  *
  * level:
  *   log level (LOG_DEBUG, ... LOG_ERR)
  *
  * message:
@@ -701,213 +947,539 @@
 
 	plugin_log (SvIV (ST (0)), SvPV_nolen (ST (1)));
 	XSRETURN_YES;
 } /* static XS (Collectd_plugin_log) */
 
 /*
+ * Collectd::call_by_name (...).
+ *
+ * Call a Perl sub identified by its name passed through $Collectd::cb_name.
+ */
+static XS (Collectd_call_by_name)
+{
+	SV   *tmp  = NULL;
+	char *name = NULL;
+
+	if (NULL == (tmp = get_sv ("Collectd::cb_name", 0))) {
+		sv_setpv (get_sv ("@", 1), "cb_name has not been set");
+		CLEAR_STACK_FRAME;
+		return;
+	}
+
+	name = SvPV_nolen (tmp);
+
+	if (NULL == get_cv (name, 0)) {
+		sv_setpvf (get_sv ("@", 1), "unknown callback \"%s\"", name);
+		CLEAR_STACK_FRAME;
+		return;
+	}
+
+	/* simply pass on the subroutine call without touching the stack,
+	 * thus leaving any arguments and return values in place */
+	call_pv (name, 0);
+} /* static XS (Collectd_call_by_name) */
+
+/*
+ * collectd's perl interpreter based thread implementation.
+ *
+ * This has been inspired by Perl's ithreads introduced in version 5.6.0.
+ */
+
+/* must be called with perl_threads->mutex locked */
+static void c_ithread_destroy (c_ithread_t *ithread)
+{
+	dTHXa (ithread->interp);
+
+	assert (NULL != perl_threads);
+
+	PERL_SET_CONTEXT (aTHX);
+	log_debug ("Shutting down Perl interpreter %p...", aTHX);
+
+#if COLLECT_DEBUG
+	sv_report_used ();
+
+	--perl_threads->number_of_threads;
+#endif /* COLLECT_DEBUG */
+
+	perl_destruct (aTHX);
+	perl_free (aTHX);
+
+	if (NULL == ithread->prev)
+		perl_threads->head = ithread->next;
+	else
+		ithread->prev->next = ithread->next;
+
+	if (NULL == ithread->next)
+		perl_threads->tail = ithread->prev;
+	else
+		ithread->next->prev = ithread->prev;
+
+	sfree (ithread);
+	return;
+} /* static void c_ithread_destroy (c_ithread_t *) */
+
+static void c_ithread_destructor (void *arg)
+{
+	c_ithread_t *ithread = (c_ithread_t *)arg;
+	c_ithread_t *t = NULL;
+
+	if (NULL == perl_threads)
+		return;
+
+	pthread_mutex_lock (&perl_threads->mutex);
+
+	for (t = perl_threads->head; NULL != t; t = t->next)
+		if (t == ithread)
+			break;
+
+	/* the ithread no longer exists */
+	if (NULL == t)
+		return;
+
+	c_ithread_destroy (ithread);
+
+	pthread_mutex_unlock (&perl_threads->mutex);
+	return;
+} /* static void c_ithread_destructor (void *) */
+
+/* must be called with perl_threads->mutex locked */
+static c_ithread_t *c_ithread_create (PerlInterpreter *base)
+{
+	c_ithread_t *t = NULL;
+	dTHXa (NULL);
+
+	assert (NULL != perl_threads);
+
+	t = (c_ithread_t *)smalloc (sizeof (c_ithread_t));
+	memset (t, 0, sizeof (c_ithread_t));
+
+	t->interp = (NULL == base)
+		? NULL
+		: perl_clone (base, CLONEf_KEEP_PTR_TABLE);
+
+	aTHX = t->interp;
+
+	if (NULL != base) {
+		av_clear (PL_endav);
+		av_undef (PL_endav);
+		PL_endav = Nullav;
+	}
+
+#if COLLECT_DEBUG
+	++perl_threads->number_of_threads;
+#endif /* COLLECT_DEBUG */
+
+	t->next = NULL;
+
+	if (NULL == perl_threads->tail) {
+		perl_threads->head = t;
+		t->prev = NULL;
+	}
+	else {
+		perl_threads->tail->next = t;
+		t->prev = perl_threads->tail;
+	}
+
+	perl_threads->tail = t;
+
+	pthread_setspecific (perl_thr_key, (const void *)t);
+	return t;
+} /* static c_ithread_t *c_ithread_create (PerlInterpreter *) */
+
+/*
  * Interface to collectd.
  */
 
 static int perl_init (void)
 {
-	if (NULL == perl)
+	dTHX;
+
+	if (NULL == perl_threads)
 		return 0;
 
-	PERL_SET_CONTEXT (perl);
-	return pplugin_call_all (PLUGIN_INIT);
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+
+	log_debug ("perl_init: c_ithread: interp = %p (active threads: %i)",
+			aTHX, perl_threads->number_of_threads);
+	return pplugin_call_all (aTHX_ PLUGIN_INIT);
 } /* static int perl_init (void) */
 
 static int perl_read (void)
 {
-	if (NULL == perl)
+	dTHX;
+
+	if (NULL == perl_threads)
 		return 0;
 
-	PERL_SET_CONTEXT (perl);
-	return pplugin_call_all (PLUGIN_READ);
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+
+	log_debug ("perl_read: c_ithread: interp = %p (active threads: %i)",
+			aTHX, perl_threads->number_of_threads);
+	return pplugin_call_all (aTHX_ PLUGIN_READ);
 } /* static int perl_read (void) */
 
 static int perl_write (const data_set_t *ds, const value_list_t *vl)
 {
-	if (NULL == perl)
+	dTHX;
+
+	if (NULL == perl_threads)
 		return 0;
 
-	PERL_SET_CONTEXT (perl);
-	return pplugin_call_all (PLUGIN_WRITE, ds, vl);
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+
+	log_debug ("perl_write: c_ithread: interp = %p (active threads: %i)",
+			aTHX, perl_threads->number_of_threads);
+	return pplugin_call_all (aTHX_ PLUGIN_WRITE, ds, vl);
 } /* static int perl_write (const data_set_t *, const value_list_t *) */
 
 static void perl_log (int level, const char *msg)
 {
-	if (NULL == perl)
+	dTHX;
+
+	if (NULL == perl_threads)
 		return;
 
-	PERL_SET_CONTEXT (perl);
-	pplugin_call_all (PLUGIN_LOG, level, msg);
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+
+	pplugin_call_all (aTHX_ PLUGIN_LOG, level, msg);
 	return;
 } /* static void perl_log (int, const char *) */
 
+static int perl_notify (const notification_t *notif)
+{
+	dTHX;
+
+	if (NULL == perl_threads)
+		return 0;
+
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+	return pplugin_call_all (aTHX_ PLUGIN_NOTIF, notif);
+} /* static int perl_notify (const notification_t *) */
+
 static int perl_shutdown (void)
 {
+	c_ithread_t *t = NULL;
+
 	int ret = 0;
 
+	dTHX;
+
 	plugin_unregister_complex_config ("perl");
 
-	if (NULL == perl)
+	if (NULL == perl_threads)
 		return 0;
 
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+
+	log_debug ("perl_shutdown: c_ithread: interp = %p (active threads: %i)",
+			aTHX, perl_threads->number_of_threads);
+
 	plugin_unregister_log ("perl");
+	plugin_unregister_notification ("perl");
 	plugin_unregister_init ("perl");
 	plugin_unregister_read ("perl");
 	plugin_unregister_write ("perl");
 
-	PERL_SET_CONTEXT (perl);
-	ret = pplugin_call_all (PLUGIN_SHUTDOWN);
+	ret = pplugin_call_all (aTHX_ PLUGIN_SHUTDOWN);
 
-#if COLLECT_DEBUG
-	Perl_sv_report_used (perl);
-#endif /* COLLECT_DEBUG */
+	pthread_mutex_lock (&perl_threads->mutex);
+	t = perl_threads->tail;
+
+	while (NULL != t) {
+		c_ithread_t *thr = t;
+
+		/* the pointer has to be advanced before destroying
+		 * the thread as this will free the memory */
+		t = t->prev;
+
+		c_ithread_destroy (thr);
+	}
+
+	pthread_mutex_unlock (&perl_threads->mutex);
+	pthread_mutex_destroy (&perl_threads->mutex);
 
-	perl_destruct (perl);
-	perl_free (perl);
-	perl = NULL;
+	sfree (perl_threads);
+
+	pthread_key_delete (perl_thr_key);
 
 	PERL_SYS_TERM ();
 
 	plugin_unregister_shutdown ("perl");
 	return ret;
 } /* static void perl_shutdown (void) */
 
+/*
+ * Access functions for global variables.
+ *
+ * These functions implement the "magic" used to access
+ * the global variables from Perl.
+ */
+
+static int g_pv_get (pTHX_ SV *var, MAGIC *mg)
+{
+	char *pv = mg->mg_ptr;
+	sv_setpv (var, pv);
+	return 0;
+} /* static int g_pv_get (pTHX_ SV *, MAGIC *) */
+
+static int g_pv_set (pTHX_ SV *var, MAGIC *mg)
+{
+	char *pv = mg->mg_ptr;
+	strncpy (pv, SvPV_nolen (var), DATA_MAX_NAME_LEN);
+	pv[DATA_MAX_NAME_LEN - 1] = '\0';
+	return 0;
+} /* static int g_pv_set (pTHX_ SV *, MAGIC *) */
+
+static int g_iv_get (pTHX_ SV *var, MAGIC *mg)
+{
+	int *iv = (int *)mg->mg_ptr;
+	sv_setiv (var, *iv);
+	return 0;
+} /* static int g_iv_get (pTHX_ SV *, MAGIC *) */
+
+static int g_iv_set (pTHX_ SV *var, MAGIC *mg)
+{
+	int *iv = (int *)mg->mg_ptr;
+	*iv = (int)SvIV (var);
+	return 0;
+} /* static int g_iv_set (pTHX_ SV *, MAGIC *) */
+
+static MGVTBL g_pv_vtbl = { g_pv_get, g_pv_set, NULL, NULL, NULL, NULL, NULL };
+static MGVTBL g_iv_vtbl = { g_iv_get, g_iv_set, NULL, NULL, NULL, NULL, NULL };
+
 /* bootstrap the Collectd module */
 static void xs_init (pTHX)
 {
 	HV   *stash = NULL;
+	SV   *tmp   = NULL;
 	char *file  = __FILE__;
 
 	int i = 0;
 
 	dXSUB_SYS;
 
 	/* enable usage of Perl modules using shared libraries */
-	Perl_newXS (perl, "DynaLoader::boot_DynaLoader", boot_DynaLoader, file);
+	newXS ("DynaLoader::boot_DynaLoader", boot_DynaLoader, file);
 
 	/* register API */
 	for (i = 0; NULL != api[i].f; ++i)
-		Perl_newXS (perl, api[i].name, api[i].f, file);
+		newXS (api[i].name, api[i].f, file);
 
-	stash = Perl_gv_stashpv (perl, "Collectd", 1);
+	stash = gv_stashpv ("Collectd", 1);
 
 	/* export "constants" */
 	for (i = 0; '\0' != constants[i].name[0]; ++i)
-		Perl_newCONSTSUB (perl, stash, constants[i].name,
-				Perl_newSViv (perl, constants[i].value));
+		newCONSTSUB (stash, constants[i].name, newSViv (constants[i].value));
+
+	/* export global variables
+	 * by adding "magic" to the SV's representing the globale variables
+	 * perl is able to automagically call the get/set function when
+	 * accessing any such variable (this is basically the same as using
+	 * tie() in Perl) */
+	/* global strings */
+	for (i = 0; '\0' != g_strings[i].name[0]; ++i) {
+		tmp = get_sv (g_strings[i].name, 1);
+		sv_magicext (tmp, NULL, PERL_MAGIC_ext, &g_pv_vtbl,
+				g_strings[i].var, 0);
+	}
+
+	/* global integers */
+	for (i = 0; '\0' != g_integers[i].name[0]; ++i) {
+		tmp = get_sv (g_integers[i].name, 1);
+		sv_magicext (tmp, NULL, PERL_MAGIC_ext, &g_iv_vtbl,
+				(char *)g_integers[i].var, 0);
+	}
 	return;
 } /* static void xs_init (pTHX) */
 
 /* Initialize the global Perl interpreter. */
 static int init_pi (int argc, char **argv)
 {
-	if (NULL != perl)
+	dTHXa (NULL);
+
+	if (NULL != perl_threads)
 		return 0;
 
 	log_info ("Initializing Perl interpreter...");
 #if COLLECT_DEBUG
 	{
 		int i = 0;
 
 		for (i = 0; i < argc; ++i)
 			log_debug ("argv[%i] = \"%s\"", i, argv[i]);
 	}
 #endif /* COLLECT_DEBUG */
 
+	if (0 != pthread_key_create (&perl_thr_key, c_ithread_destructor)) {
+		log_err ("init_pi: pthread_key_create failed");
+
+		/* this must not happen - cowardly giving up if it does */
+		exit (1);
+	}
+
 	PERL_SYS_INIT3 (&argc, &argv, &environ);
 
-	if (NULL == (perl = perl_alloc ())) {
-		log_err ("module_register: Not enough memory.");
+	perl_threads = (c_ithread_list_t *)smalloc (sizeof (c_ithread_list_t));
+	memset (perl_threads, 0, sizeof (c_ithread_list_t));
+
+	pthread_mutex_init (&perl_threads->mutex, NULL);
+	/* locking the mutex should not be necessary at this point
+	 * but let's just do it for the sake of completeness */
+	pthread_mutex_lock (&perl_threads->mutex);
+
+	perl_threads->head = c_ithread_create (NULL);
+	perl_threads->tail = perl_threads->head;
+
+	if (NULL == (perl_threads->head->interp = perl_alloc ())) {
+		log_err ("init_pi: Not enough memory.");
 		exit (3);
 	}
-	perl_construct (perl);
+
+	aTHX = perl_threads->head->interp;
+	pthread_mutex_unlock (&perl_threads->mutex);
+
+	perl_construct (aTHX);
 
 	PL_exit_flags |= PERL_EXIT_DESTRUCT_END;
 
-	if (0 != perl_parse (perl, xs_init, argc, argv, NULL)) {
-		log_err ("module_register: Unable to bootstrap Collectd.");
+	if (0 != perl_parse (aTHX_ xs_init, argc, argv, NULL)) {
+		log_err ("init_pi: Unable to bootstrap Collectd.");
 		exit (1);
 	}
 
 	/* Set $0 to "collectd" because perl_parse() has to set it to "-e". */
-	Perl_sv_setpv (perl, Perl_get_sv (perl, "0", 0), "collectd");
+	sv_setpv (get_sv ("0", 0), "collectd");
 
-	perl_run (perl);
+	perl_run (aTHX);
 
 	plugin_register_log ("perl", perl_log);
+	plugin_register_notification ("perl", perl_notify);
 	plugin_register_init ("perl", perl_init);
 
 	plugin_register_read ("perl", perl_read);
 
 	plugin_register_write ("perl", perl_write);
 	plugin_register_shutdown ("perl", perl_shutdown);
 	return 0;
 } /* static int init_pi (const char **, const int) */
 
 /*
  * LoadPlugin "<Plugin>"
  */
-static int perl_config_loadplugin (oconfig_item_t *ci)
+static int perl_config_loadplugin (pTHX_ oconfig_item_t *ci)
 {
 	char module_name[DATA_MAX_NAME_LEN];
 
 	char *value = NULL;
 
 	if ((0 != ci->children_num) || (1 != ci->values_num)
-			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type)) {
+		log_err ("LoadPlugin expects a single string argument.");
 		return 1;
+	}
 
 	value = ci->values[0].value.string;
 
 	if (NULL == get_module_name (module_name, sizeof (module_name), value)) {
 		log_err ("Invalid module name %s", value);
 		return (1);
 	}
 
 	init_pi (perl_argc, perl_argv);
+	assert (NULL != perl_threads);
+	assert (NULL != perl_threads->head);
+
+	aTHX = perl_threads->head->interp;
 
 	log_debug ("perl_config: loading perl plugin \"%s\"", value);
-	Perl_load_module (perl, PERL_LOADMOD_NOIMPORT,
-			Perl_newSVpv (perl, module_name, strlen (module_name)),
-			Nullsv);
+	load_module (PERL_LOADMOD_NOIMPORT,
+			newSVpv (module_name, strlen (module_name)), Nullsv);
 	return 0;
 } /* static int perl_config_loadplugin (oconfig_item_it *) */
 
 /*
  * BaseName "<Name>"
  */
-static int perl_config_basename (oconfig_item_t *ci)
+static int perl_config_basename (pTHX_ oconfig_item_t *ci)
 {
 	char *value = NULL;
 
 	if ((0 != ci->children_num) || (1 != ci->values_num)
-			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type)) {
+		log_err ("BaseName expects a single string argument.");
 		return 1;
+	}
 
 	value = ci->values[0].value.string;
 
 	log_debug ("perl_config: Setting plugin basename to \"%s\"", value);
 	strncpy (base_name, value, sizeof (base_name));
 	base_name[sizeof (base_name) - 1] = '\0';
 	return 0;
 } /* static int perl_config_basename (oconfig_item_it *) */
 
 /*
  * EnableDebugger "<Package>"|""
  */
-static int perl_config_enabledebugger (oconfig_item_t *ci)
+static int perl_config_enabledebugger (pTHX_ oconfig_item_t *ci)
 {
 	char *value = NULL;
 
 	if ((0 != ci->children_num) || (1 != ci->values_num)
-			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type)) {
+		log_err ("EnableDebugger expects a single string argument.");
 		return 1;
+	}
 
 	value = ci->values[0].value.string;
 
 	perl_argv = (char **)realloc (perl_argv,
 			(++perl_argc + 1) * sizeof (char *));
 
@@ -929,28 +1501,25 @@
 	return 0;
 } /* static int perl_config_enabledebugger (oconfig_item_it *) */
 
 /*
  * IncludeDir "<Dir>"
  */
-static int perl_config_includedir (oconfig_item_t *ci)
+static int perl_config_includedir (pTHX_ oconfig_item_t *ci)
 {
 	char *value = NULL;
 
 	if ((0 != ci->children_num) || (1 != ci->values_num)
-			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
-		return 1;
-
-	if (NULL == aTHX) {
-		log_warn ("EnableDebugger has no effects if used after LoadPlugin.");
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type)) {
+		log_err ("IncludeDir expects a single string argument.");
 		return 1;
 	}
 
 	value = ci->values[0].value.string;
 
-	if (NULL == perl) {
+	if (NULL == aTHX) {
 		perl_argv = (char **)realloc (perl_argv,
 				(++perl_argc + 1) * sizeof (char *));
 
 		if (NULL == perl_argv) {
 			log_err ("perl_config: Not enough memory.");
 			exit (3);
@@ -961,34 +1530,40 @@
 		sstrncpy(perl_argv[perl_argc - 1] + 2, value, strlen (value) + 1);
 
 		perl_argv[perl_argc] = NULL;
 	}
 	else {
 		/* prepend the directory to @INC */
-		Perl_av_unshift (perl, GvAVn (PL_incgv), 1);
-		Perl_av_store (perl, GvAVn (PL_incgv),
-				0, Perl_newSVpv (perl, value, strlen (value)));
+		av_unshift (GvAVn (PL_incgv), 1);
+		av_store (GvAVn (PL_incgv), 0, newSVpv (value, strlen (value)));
 	}
 	return 0;
 } /* static int perl_config_includedir (oconfig_item_it *) */
 
 static int perl_config (oconfig_item_t *ci)
 {
 	int i = 0;
 
+	dTHX;
+
+	/* dTHX does not get any valid values in case Perl
+	 * has not been initialized */
+	if (NULL == perl_threads)
+		aTHX = NULL;
+
 	for (i = 0; i < ci->children_num; ++i) {
 		oconfig_item_t *c = ci->children + i;
 
 		if (0 == strcasecmp (c->key, "LoadPlugin"))
-			perl_config_loadplugin (c);
+			perl_config_loadplugin (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "BaseName"))
-			perl_config_basename (c);
+			perl_config_basename (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "EnableDebugger"))
-			perl_config_enabledebugger (c);
+			perl_config_enabledebugger (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "IncludeDir"))
-			perl_config_includedir (c);
+			perl_config_includedir (aTHX_ c);
 		else
 			log_warn ("Ignoring unknown config key \"%s\".", c->key);
 	}
 	return 0;
 } /* static int perl_config (oconfig_item_t *) */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/ping.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/ping.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/ping.c	2008-04-03 21:52:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/ping.c	2007-10-25 01:21:24.000000000 +0800
@@ -103,24 +103,21 @@
 		if (hl_this != NULL)
 		{
 			hl_prev = hl_this;
 			hl_this = hl_this->next;
 		}
 	}
-} /* void add_hosts */
+}
 
 static int ping_init (void)
 {
-	if (pingobj == NULL)
-		return (-1);
-
 	if (hosts != NULL)
 		add_hosts ();
 
 	return (0);
-} /* int ping_init */
+}
 
 static int ping_config (const char *key, const char *value)
 {
 	if (pingobj == NULL)
 	{
 		if ((pingobj = ping_construct ()) == NULL)
@@ -159,13 +156,13 @@
 		hl->next = hosts;
 		hosts = hl;
 	}
 	else if (strcasecmp (key, "ttl") == 0)
 	{
 		int ttl = atoi (value);
-		if (ping_setopt (pingobj, PING_OPT_TTL, (void *) &ttl))
+		if (ping_setopt (pingobj, PING_DEF_TIMEOUT, (void *) &ttl))
 		{
 			WARNING ("ping: liboping did not accept the TTL value %i", ttl);
 			return (1);
 		}
 	}
 	else
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/plugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/plugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/plugin.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/plugin.c	2008-02-19 03:57:18.000000000 +0800
@@ -27,13 +27,16 @@
 # include <pthread.h>
 #endif
 
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
+#include "utils_avltree.h"
 #include "utils_llist.h"
+#include "utils_cache.h"
+#include "utils_threshold.h"
 
 /*
  * Private structures
  */
 struct read_func_s
 {
@@ -48,14 +51,16 @@
  * Private variables
  */
 static llist_t *list_init;
 static llist_t *list_read;
 static llist_t *list_write;
 static llist_t *list_shutdown;
-static llist_t *list_data_set;
 static llist_t *list_log;
+static llist_t *list_notification;
+
+static c_avl_tree_t *data_sets;
 
 static char *plugindir = NULL;
 
 static int             read_loop = 1;
 static pthread_mutex_t read_lock = PTHREAD_MUTEX_INITIALIZER;
 static pthread_cond_t  read_cond = PTHREAD_COND_INITIALIZER;
@@ -73,23 +78,31 @@
 		return (plugindir);
 }
 
 static int register_callback (llist_t **list, const char *name, void *callback)
 {
 	llentry_t *le;
+	char *key;
 
 	if ((*list == NULL)
 			&& ((*list = llist_create ()) == NULL))
 		return (-1);
 
 	le = llist_search (*list, name);
 	if (le == NULL)
 	{
-		le = llentry_create (name, callback);
+		key = strdup (name);
+		if (key == NULL)
+			return (-1);
+
+		le = llentry_create (key, callback);
 		if (le == NULL)
+		{
+			free (key);
 			return (-1);
+		}
 
 		llist_append (*list, le);
 	}
 	else
 	{
 		le->value = callback;
@@ -105,12 +118,13 @@
 	e = llist_search (list, name);
 
 	if (e == NULL)
 		return (-1);
 
 	llist_remove (list, e);
+	free (e->key);
 	llentry_destroy (e);
 
 	return (0);
 } /* int plugin_unregister */
 
 /*
@@ -294,13 +308,13 @@
 
 #define BUFSIZE 512
 int plugin_load (const char *type)
 {
 	DIR  *dh;
 	const char *dir;
-	char  filename[BUFSIZE] = "";
+	char  filename[BUFSIZE];
 	char  typename[BUFSIZE];
 	int   typename_len;
 	int   ret;
 	struct stat    statbuf;
 	struct dirent *de;
 
@@ -361,15 +375,12 @@
 			fprintf (stderr, "Unable to load plugin %s.\n", type);
 		}
 	}
 
 	closedir (dh);
 
-	if (filename[0] == '\0')
-		fprintf (stderr, "Could not find plugin %s.\n", type);
-
 	return (ret);
 }
 
 /*
  * The `register_*' functions follow
  */
@@ -430,18 +441,24 @@
 
 int plugin_register_data_set (const data_set_t *ds)
 {
 	data_set_t *ds_copy;
 	int i;
 
-	if ((list_data_set != NULL)
-			&& (llist_search (list_data_set, ds->type) != NULL))
+	if ((data_sets != NULL)
+			&& (c_avl_get (data_sets, ds->type, NULL) == 0))
 	{
 		NOTICE ("Replacing DS `%s' with another version.", ds->type);
 		plugin_unregister_data_set (ds->type);
 	}
+	else if (data_sets == NULL)
+	{
+		data_sets = c_avl_create ((int (*) (const void *, const void *)) strcmp);
+		if (data_sets == NULL)
+			return (-1);
+	}
 
 	ds_copy = (data_set_t *) malloc (sizeof (data_set_t));
 	if (ds_copy == NULL)
 		return (-1);
 	memcpy(ds_copy, ds, sizeof (data_set_t));
 
@@ -453,21 +470,27 @@
 		return (-1);
 	}
 
 	for (i = 0; i < ds->ds_num; i++)
 		memcpy (ds_copy->ds + i, ds->ds + i, sizeof (data_source_t));
 
-	return (register_callback (&list_data_set, ds->type, (void *) ds_copy));
+	return (c_avl_insert (data_sets, (void *) ds_copy->type, (void *) ds_copy));
 } /* int plugin_register_data_set */
 
 int plugin_register_log (char *name,
 		void (*callback) (int priority, const char *msg))
 {
 	return (register_callback (&list_log, name, (void *) callback));
 } /* int plugin_register_log */
 
+int plugin_register_notification (const char *name,
+		int (*callback) (const notification_t *notif))
+{
+	return (register_callback (&list_notification, name, (void *) callback));
+} /* int plugin_register_log */
+
 int plugin_unregister_config (const char *name)
 {
 	cf_unregister (name);
 	return (0);
 } /* int plugin_unregister_config */
 
@@ -490,12 +513,13 @@
 
 	if (e == NULL)
 		return (-1);
 
 	llist_remove (list_read, e);
 	free (e->value);
+	free (e->key);
 	llentry_destroy (e);
 
 	return (0);
 }
 
 int plugin_unregister_write (const char *name)
@@ -507,38 +531,36 @@
 {
 	return (plugin_unregister (list_shutdown, name));
 }
 
 int plugin_unregister_data_set (const char *name)
 {
-	llentry_t  *e;
 	data_set_t *ds;
 
-	if (list_data_set == NULL)
+	if (data_sets == NULL)
 		return (-1);
 
-	e = llist_search (list_data_set, name);
-
-	if (e == NULL)
+	if (c_avl_remove (data_sets, name, NULL, (void *) &ds) != 0)
 		return (-1);
 
-	llist_remove (list_data_set, e);
-	ds = (data_set_t *) e->value;
-	llentry_destroy (e);
-
 	sfree (ds->ds);
 	sfree (ds);
 
 	return (0);
 } /* int plugin_unregister_data_set */
 
 int plugin_unregister_log (const char *name)
 {
 	return (plugin_unregister (list_log, name));
 }
 
+int plugin_unregister_notification (const char *name)
+{
+	return (plugin_unregister (list_notification, name));
+}
+
 void plugin_init_all (void)
 {
 	int (*callback) (void);
 	llentry_t *le;
 	int status;
 
@@ -549,12 +571,15 @@
 		int num;
 		rt = global_option_get ("ReadThreads");
 		num = atoi (rt);
 		start_threads ((num > 0) ? num : 5);
 	}
 
+	/* Init the value cache */
+	uc_init ();
+
 	if (list_init == NULL)
 		return;
 
 	le = llist_head (list_init);
 	while (le != NULL)
 	{
@@ -572,17 +597,19 @@
 		}
 
 		le = le->next;
 	}
 } /* void plugin_init_all */
 
-void plugin_read_all (const int *loop)
+void plugin_read_all (void)
 {
 	llentry_t   *le;
 	read_func_t *rf;
 
+	uc_check_timeout ();
+
 	if (list_read == NULL)
 		return;
 
 	pthread_mutex_lock (&read_lock);
 
 	le = llist_head (list_read);
@@ -640,38 +667,22 @@
 int plugin_dispatch_values (const char *name, value_list_t *vl)
 {
 	int (*callback) (const data_set_t *, const value_list_t *);
 	data_set_t *ds;
 	llentry_t *le;
 
-	if (list_write == NULL)
-	{
-		ERROR ("plugin_dispatch_values: No write callback has been "
-				"registered. Please load at least one plugin "
-				"that provides a write function.");
-		return (-1);
-	}
-
-	if (list_data_set == NULL)
-	{
-		ERROR ("plugin_dispatch_values: No data sets registered. "
-				"Could the types database be read? Check "
-				"your `TypesDB' setting!");
+	if ((list_write == NULL) || (data_sets == NULL))
 		return (-1);
-	}
 
-	le = llist_search (list_data_set, name);
-	if (le == NULL)
+	if (c_avl_get (data_sets, name, (void *) &ds) != 0)
 	{
-		INFO ("plugin_dispatch_values: Dataset not found: %s", name);
+		DEBUG ("No such dataset registered: %s", name);
 		return (-1);
 	}
 
-	ds = (data_set_t *) le->value;
-
-	DEBUG ("plugin_dispatch_values: time = %u; interval = %i; "
+	DEBUG ("plugin: plugin_dispatch_values: time = %u; interval = %i; "
 			"host = %s; "
 			"plugin = %s; plugin_instance = %s; "
 			"type = %s; type_instance = %s;",
 			(unsigned int) vl->time, vl->interval,
 			vl->host,
 			vl->plugin, vl->plugin_instance,
@@ -679,37 +690,67 @@
 
 #if COLLECT_DEBUG
 	assert (ds->ds_num == vl->values_len);
 #else
 	if (ds->ds_num != vl->values_len)
 	{
-		ERROR ("plugin_dispatch_values: ds->type = %s: "
-				"(ds->ds_num = %i) != "
+		ERROR ("plugin: ds->type = %s: (ds->ds_num = %i) != "
 				"(vl->values_len = %i)",
 				ds->type, ds->ds_num, vl->values_len);
 		return (-1);
 	}
 #endif
 
 	escape_slashes (vl->host, sizeof (vl->host));
 	escape_slashes (vl->plugin, sizeof (vl->plugin));
 	escape_slashes (vl->plugin_instance, sizeof (vl->plugin_instance));
 	escape_slashes (vl->type_instance, sizeof (vl->type_instance));
 
+	/* Update the value cache */
+	uc_update (ds, vl);
+	ut_check_threshold (ds, vl);
+
 	le = llist_head (list_write);
 	while (le != NULL)
 	{
 		callback = (int (*) (const data_set_t *, const value_list_t *)) le->value;
 		(*callback) (ds, vl);
 
 		le = le->next;
 	}
 
 	return (0);
 } /* int plugin_dispatch_values */
 
+int plugin_dispatch_notification (const notification_t *notif)
+{
+	int (*callback) (const notification_t *);
+	llentry_t *le;
+	/* Possible TODO: Add flap detection here */
+
+	DEBUG ("plugin_dispatch_notification: severity = %i; message = %s; "
+			"time = %u; host = %s;",
+			notif->severity, notif->message,
+			(unsigned int) notif->time, notif->host);
+
+	/* Nobody cares for notifications */
+	if (list_notification == NULL)
+		return (-1);
+
+	le = llist_head (list_notification);
+	while (le != NULL)
+	{
+		callback = (int (*) (const notification_t *)) le->value;
+		(*callback) (notif);
+
+		le = le->next;
+	}
+
+	return (0);
+} /* int plugin_dispatch_notification */
+
 void plugin_log (int level, const char *format, ...)
 {
 	char msg[512];
 	va_list ap;
 
 	void (*callback) (int, const char *);
@@ -735,69 +776,18 @@
 		(*callback) (level, msg);
 
 		le = le->next;
 	}
 } /* void plugin_log */
 
-void plugin_complain (int level, complain_t *c, const char *format, ...)
-{
-	char message[512];
-	va_list ap;
-
-	if (c->delay > 0)
-	{
-		c->delay--;
-		return;
-	}
-
-	if (c->interval < interval_g)
-		c->interval = interval_g;
-	else
-		c->interval *= 2;
-
-	if (c->interval > 86400)
-		c->interval = 86400;
-
-	c->delay = c->interval / interval_g;
-
-	va_start (ap, format);
-	vsnprintf (message, 512, format, ap);
-	message[511] = '\0';
-	va_end (ap);
-
-	plugin_log (level, message);
-}
-
-void plugin_relief (int level, complain_t *c, const char *format, ...)
-{
-	char message[512];
-	va_list ap;
-
-	if (c->interval == 0)
-		return;
-
-	c->interval = 0;
-
-	va_start (ap, format);
-	vsnprintf (message, 512, format, ap);
-	message[511] = '\0';
-	va_end (ap);
-
-	plugin_log (level, message);
-}
-
 const data_set_t *plugin_get_ds (const char *name)
 {
 	data_set_t *ds;
-	llentry_t *le;
 
-	le = llist_search (list_data_set, name);
-	if (le == NULL)
+	if (c_avl_get (data_sets, name, (void *) &ds) != 0)
 	{
 		DEBUG ("No such dataset registered: %s", name);
 		return (NULL);
 	}
 
-	ds = (data_set_t *) le->value;
-
 	return (ds);
 } /* data_set_t *plugin_get_ds */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/plugin.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/plugin.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/plugin.h	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/plugin.h	2008-02-19 03:57:18.000000000 +0800
@@ -42,12 +42,18 @@
 # define LOG_INFO 6
 #endif
 #ifndef LOG_DEBUG
 # define LOG_DEBUG 7
 #endif
 
+#define NOTIF_MAX_MSG_LEN 256
+
+#define NOTIF_FAILURE 1
+#define NOTIF_WARNING 2
+#define NOTIF_OKAY    4
+
 /*
  * Public data types
  */
 typedef unsigned long long counter_t;
 typedef double gauge_t;
 
@@ -88,17 +94,23 @@
 	char           type[DATA_MAX_NAME_LEN];
 	int            ds_num;
 	data_source_t *ds;
 };
 typedef struct data_set_s data_set_t;
 
-typedef struct complain_s
+typedef struct notification_s
 {
-	unsigned int interval; /* how long we wait for reporting this error again */
-	unsigned int delay;    /* how many more iterations we still need to wait */
-} complain_t;
+	int    severity;
+	time_t time;
+	char   message[NOTIF_MAX_MSG_LEN];
+	char   host[DATA_MAX_NAME_LEN];
+	char   plugin[DATA_MAX_NAME_LEN];
+	char   plugin_instance[DATA_MAX_NAME_LEN];
+	char   type[DATA_MAX_NAME_LEN];
+	char   type_instance[DATA_MAX_NAME_LEN];
+} notification_t;
 
 /*
  * NAME
  *  plugin_set_dir
  *
  * DESCRIPTION
@@ -133,13 +145,13 @@
  * NOTES
  *  No attempt is made to re-load an already loaded module.
  */
 int plugin_load (const char *name);
 
 void plugin_init_all (void);
-void plugin_read_all (const int *loop);
+void plugin_read_all (void);
 void plugin_shutdown_all (void);
 
 /*
  * The `plugin_register_*' functions are used to make `config', `init',
  * `read', `write' and `shutdown' functions known to the plugin
  * infrastructure. Also, the data-formats are made public like this.
@@ -157,21 +169,24 @@
 		int (*callback) (const data_set_t *ds, const value_list_t *vl));
 int plugin_register_shutdown (char *name,
 		int (*callback) (void));
 int plugin_register_data_set (const data_set_t *ds);
 int plugin_register_log (char *name,
 		void (*callback) (int, const char *));
+int plugin_register_notification (const char *name,
+		int (*callback) (const notification_t *notif));
 
 int plugin_unregister_config (const char *name);
 int plugin_unregister_complex_config (const char *name);
 int plugin_unregister_init (const char *name);
 int plugin_unregister_read (const char *name);
 int plugin_unregister_write (const char *name);
 int plugin_unregister_shutdown (const char *name);
 int plugin_unregister_data_set (const char *name);
 int plugin_unregister_log (const char *name);
+int plugin_unregister_notification (const char *name);
 
 
 /*
  * NAME
  *  plugin_dispatch_values
  *
@@ -185,24 +200,22 @@
  *  `name'      Name/type of the data-set that describe the values in `vl'.
  *  `vl'        Value list of the values that have been read by a `read'
  *              function.
  */
 int plugin_dispatch_values (const char *name, value_list_t *vl);
 
+int plugin_dispatch_notification (const notification_t *notif);
+
 void plugin_log (int level, const char *format, ...);
 #define ERROR(...)   plugin_log (LOG_ERR,     __VA_ARGS__)
 #define WARNING(...) plugin_log (LOG_WARNING, __VA_ARGS__)
 #define NOTICE(...)  plugin_log (LOG_NOTICE,  __VA_ARGS__)
 #define INFO(...)    plugin_log (LOG_INFO,    __VA_ARGS__)
 #if COLLECT_DEBUG
 # define DEBUG(...)  plugin_log (LOG_DEBUG,   __VA_ARGS__)
 #else /* COLLECT_DEBUG */
 # define DEBUG(...)  /* noop */
 #endif /* ! COLLECT_DEBUG */
 
-/* TODO: Move plugin_{complain,relief} into `utils_complain.[ch]'. -octo */
-void plugin_complain (int level, complain_t *c, const char *format, ...);
-void plugin_relief (int level, complain_t *c, const char *format, ...);
-
 const data_set_t *plugin_get_ds (const char *name);
 
 #endif /* PLUGIN_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/rrdtool.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/rrdtool.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/rrdtool.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/rrdtool.c	2008-02-19 03:57:18.000000000 +0800
@@ -1096,13 +1096,18 @@
 {
 	int status;
 
 	if (stepsize < 0)
 		stepsize = 0;
 	if (heartbeat <= 0)
-		heartbeat = 2 * stepsize;
+	{
+		if (stepsize > 0)
+			heartbeat = 2 * stepsize;
+		else
+			heartbeat = 0;
+	}
 
 	if ((heartbeat > 0) && (heartbeat < interval_g))
 		WARNING ("rrdtool plugin: Your `heartbeat' is "
 				"smaller than your `interval'. This will "
 				"likely cause problems.");
 	else if ((stepsize > 0) && (stepsize < interval_g))
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/sensors.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/sensors.c	2007-12-29 02:03:32.000000000 +0800
@@ -186,20 +186,20 @@
 				"%s-isa-%04x",
 				chip->prefix,
 				chip->addr);
 	}
 	else if (chip->bus == SENSORS_CHIP_NAME_BUS_DUMMY)
 	{
-		status = snprintf (buf, buf_size, "%s-%s-%04x",
+		snprintf (buf, buf_size, "%s-%s-%04x",
 				chip->prefix,
 				chip->busname,
 				chip->addr);
 	}
 	else
 	{
-		status = snprintf (buf, buf_size, "%s-i2c-%d-%02x",
+		snprintf (buf, buf_size, "%s-i2c-%d-%02x",
 				chip->prefix,
 				chip->bus,
 				chip->addr);
 	}
 
 	return (status);
@@ -338,44 +338,22 @@
 			/* Check if all features have been read. */
 			if (feature == NULL)
 				break;
 
 			/* "master features" only */
 			if (feature->mapping != SENSORS_NO_MAPPING)
-			{
-				DEBUG ("sensors plugin: sensors_load_conf: "
-						"Ignoring subfeature `%s', "
-						"because (feature->mapping "
-						"!= SENSORS_NO_MAPPING).",
-						feature->name);
 				continue;
-			}
 
 			/* skip ignored in sensors.conf */
 			if (sensors_get_ignored (*chip, feature->number) == 0)
-			{
-				DEBUG ("sensors plugin: sensors_load_conf: "
-						"Ignoring subfeature `%s', "
-						"because "
-						"`sensors_get_ignored' told "
-						"me so.",
-						feature->name);
-				continue;
-			}
+				break;
 
 			feature_type = sensors_feature_name_to_type (
 					feature->name);
 			if (feature_type == SENSOR_TYPE_UNKNOWN)
-			{
-				DEBUG ("sensors plugin: sensors_load_conf: "
-						"Ignoring subfeature `%s', "
-						"because its type is "
-						"unknown.",
-						feature->name);
 				continue;
-			}
 
 			fl = (featurelist_t *) malloc (sizeof (featurelist_t));
 			if (fl == NULL)
 			{
 				ERROR ("sensors plugin: malloc failed.");
 				continue;
@@ -408,19 +386,13 @@
 			int subfeature_num = 0;
 
 			/* Only handle voltage, fanspeeds and temperatures */
 			if ((feature->type != SENSORS_FEATURE_IN)
 					&& (feature->type != SENSORS_FEATURE_FAN)
 					&& (feature->type != SENSORS_FEATURE_TEMP))
-			{
-				DEBUG ("sensors plugin: sensors_load_conf: "
-						"Ignoring feature `%s', "
-						"because its type is not "
-						"supported.", feature->name);
 				continue;
-			}
 
 			while ((subfeature = sensors_get_all_subfeatures (chip,
 							feature, &subfeature_num)) != NULL)
 			{
 				featurelist_t *fl;
 
@@ -577,13 +549,13 @@
 			type = "voltage";
 		else if (fl->feature->type
 				== SENSORS_FEATURE_FAN)
 			type = "fanspeed";
 		else if (fl->feature->type
 				== SENSORS_FEATURE_TEMP)
-			type = "temperature";
+			type = "input";
 		else
 			continue;
 
 		sensors_submit (plugin_instance, type, type_instance, value);
 	} /* for fl = first_feature .. NULL */
 #endif /* (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500) */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/swap.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/swap.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/swap.c	2008-04-03 21:52:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/swap.c	2007-10-25 01:21:24.000000000 +0800
@@ -229,13 +229,13 @@
 	swap_resv  *= pagesize;
 	swap_avail  = ai.ani_max - ai.ani_resv;
 	swap_avail *= pagesize;
 
 	swap_submit ("used", swap_alloc);
 	swap_submit ("free", swap_avail);
-	swap_submit ("reserved", swap_resv);
+	swap_submit ("reserved", swap_resv - swap_alloc);
 /* #endif HAVE_LIBKSTAT */
 
 #elif defined(VM_SWAPUSAGE)
 	int              mib[3];
 	size_t           mib_len;
 	struct xsw_usage sw_usage;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/tcpconns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/tcpconns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/tcpconns.c	2008-04-03 21:52:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/tcpconns.c	2008-02-19 03:57:18.000000000 +0800
@@ -30,25 +30,12 @@
 #if KERNEL_LINUX
 /* #endif KERNEL_LINUX */
 
 #elif HAVE_SYSCTLBYNAME
 # include <sys/socketvar.h>
 # include <sys/sysctl.h>
-
-/* Some includes needed for compiling on FreeBSD */
-#include <sys/time.h>
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_SYS_SOCKET_H
-# include <sys/socket.h>
-#endif
-#if HAVE_NET_IF_H
-# include <net/if.h>
-#endif
-
 # include <net/route.h>
 # include <netinet/in.h>
 # include <netinet/in_systm.h>
 # include <netinet/ip.h>
 # include <netinet/ip6.h>
 # include <netinet/in_pcb.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/types.db /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/types.db
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/types.db	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/types.db	2008-02-19 03:57:18.000000000 +0800
@@ -37,25 +37,25 @@
 if_rx_errors		value:COUNTER:0:4294967295
 if_tx_errors		value:COUNTER:0:4294967295
 ipt_bytes		value:COUNTER:0:134217728
 ipt_packets		value:COUNTER:0:134217728
 irq			value:COUNTER:U:65535
 load			shortterm:GAUGE:0:100, midterm:GAUGE:0:100, longterm:GAUGE:0:100
+memcached_command	value:COUNTER:0:U
+memcached_connections	value:GAUGE:0:U
+memcached_items		value:GAUGE:0:U
+memcached_octets	rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
+memcached_ops		value:COUNTER:0:134217728
 memory			value:GAUGE:0:281474976710656
 multimeter		value:GAUGE:U:U
 mysql_commands		value:COUNTER:0:U
 mysql_handler		value:COUNTER:0:U
 mysql_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 mysql_qcache		hits:COUNTER:0:U, inserts:COUNTER:0:U, not_cached:COUNTER:0:U, lowmem_prunes:COUNTER:0:U, queries_in_cache:GAUGE:0:U
 mysql_threads		running:GAUGE:0:U, connected:GAUGE:0:U, cached:GAUGE:0:U, created:COUNTER:0:U
 nfs_procedure		value:COUNTER:0:4294967295
-memcached_command	value:COUNTER:0:U
-memcached_connections	value:GAUGE:0:U
-memcached_items		value:GAUGE:0:U
-memcached_octets	rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
-memcached_ops		value:COUNTER:0:134217728
 nginx_connections	value:GAUGE:0:U
 nginx_requests		value:COUNTER:0:134217728
 percent			percent:GAUGE:0:100.1
 ping			ping:GAUGE:0:65535
 power			value:GAUGE:0:U
 ps_count		processes:GAUGE:0:1000000, threads:GAUGE:0:1000000
@@ -72,11 +72,13 @@
 tcp_connections		value:GAUGE:0:4294967295
 temperature		value:GAUGE:-273.15:U
 time_dispersion		seconds:GAUGE:-1000000:1000000
 timeleft		timeleft:GAUGE:0:3600
 time_offset		seconds:GAUGE:-1000000:1000000
 users			users:GAUGE:0:65535
+virt_cpu_total		ns:COUNTER:0:256000000000
+virt_vcpu		ns:COUNTER:0:1000000000
 voltage_threshold	value:GAUGE:U:U, threshold:GAUGE:U:U
 voltage			value:GAUGE:U:U
 vs_memory		value:GAUGE:0:9223372036854775807
 vs_processes		value:GAUGE:0:65535
 vs_threads		value:GAUGE:0:65535
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: types.db.5
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: types.db.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/types_list.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/types_list.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/types_list.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/types_list.c	2008-02-19 03:57:18.000000000 +0800
@@ -88,13 +88,13 @@
   DEBUG ("parse_ds: dsrc = {%s, %i, %lf, %lf};",
       dsrc->name, dsrc->type, dsrc->min, dsrc->max);
 
   return (0);
 } /* int parse_ds */
 
-static void parse_line (char *buf, size_t buf_len)
+static void parse_line (char *buf)
 {
   char  *fields[64];
   size_t fields_num;
   data_set_t *ds;
   int i;
 
@@ -162,27 +162,22 @@
 	  || (buf[buf_len - 1] == '\n')))
       buf[--buf_len] = '\0';
 
     if (buf_len == 0)
       continue;
 
-    parse_line (buf, buf_len);
+    parse_line (buf);
   } /* while (fgets) */
 } /* void parse_file */
 
-int read_types_list (void)
+int read_types_list (const char *file)
 {
-  const char *file;
   FILE *fh;
 
-  file = global_option_get ("TypesDB");
   if (file == NULL)
-  {
-    ERROR ("global_option_get (\"TypesDB\") returned NULL.");
     return (-1);
-  }
 
   fh = fopen (file, "r");
   if (fh == NULL)
   {
     char errbuf[1024];
     ERROR ("open (%s) failed: %s", 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/types_list.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/types_list.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/types_list.h	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/types_list.h	2008-02-19 03:57:18.000000000 +0800
@@ -19,9 +19,9 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-int read_types_list (void);
+int read_types_list (const char *file);
 
 #endif /* TYPES_LIST_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/unixsock.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/unixsock.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/unixsock.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/unixsock.c	2008-02-19 03:57:18.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/unixsock.c
- * Copyright (C) 2007  Florian octo Forster
+ * Copyright (C) 2007,2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -20,13 +20,15 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
+
 #include "utils_cmd_putval.h"
+#include "utils_cmd_putnotif.h"
 
 /* Folks without pthread will need to disable this plugin. */
 #include <pthread.h>
 
 #include <sys/socket.h>
 #include <sys/stat.h>
@@ -78,13 +80,13 @@
 
 static pthread_t listen_thread = (pthread_t) 0;
 
 /* Linked list and auxilliary variables for saving values */
 static value_cache_t   *cache_head = NULL;
 static pthread_mutex_t  cache_lock = PTHREAD_MUTEX_INITIALIZER;
-static unsigned int     cache_oldest = UINT_MAX;
+static time_t           cache_oldest = -1;
 
 /*
  * Functions
  */
 static value_cache_t *cache_search (const char *name)
 {
@@ -185,13 +187,13 @@
 	vc->ds = ds;
 
 	vc->next = cache_head;
 	cache_head = vc;
 
 	vc->time = vl->time;
-	if (vc->time < cache_oldest)
+	if ((vc->time < cache_oldest) || (-1 == cache_oldest))
 		cache_oldest = vc->time;
 
 	pthread_mutex_unlock (&cache_lock);
 	return (0);
 } /* int cache_insert */
 
@@ -272,13 +274,13 @@
 			vc->gauge[i] = NAN;
 	} /* for i = 0 .. ds->ds_num */
 
 	vc->ds = ds;
 	vc->time = vl->time;
 
-	if (vc->time < cache_oldest)
+	if ((vc->time < cache_oldest) || (-1 == cache_oldest))
 		cache_oldest = vc->time;
 
 	pthread_mutex_unlock (&cache_lock);
 	return (0);
 } /* int cache_update */
 
@@ -542,44 +544,34 @@
 	return (0);
 } /* int us_handle_listval */
 
 static void *us_handle_client (void *arg)
 {
 	int fd;
-	FILE *fhin, *fhout;
+	FILE *fh;
 	char buffer[1024];
 	char *fields[128];
 	int   fields_num;
 
 	fd = *((int *) arg);
 	free (arg);
 	arg = NULL;
 
 	DEBUG ("Reading from fd #%i", fd);
 
-	fhin  = fdopen (fd, "r");
-	if (fhin == NULL)
+	fh = fdopen (fd, "r+");
+	if (fh == NULL)
 	{
 		char errbuf[1024];
 		ERROR ("unixsock plugin: fdopen failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		close (fd);
 		pthread_exit ((void *) 1);
 	}
 
-	fhout = fdopen (fd, "w");
-	if (fhout == NULL)
-	{
-		char errbuf[1024];
-		ERROR ("unixsock plugin: fdopen failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		fclose (fhin); /* this closes fd as well */
-		pthread_exit ((void *) 1);
-	}
-
-	while (fgets (buffer, sizeof (buffer), fhin) != NULL)
+	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
 		int len;
 
 		len = strlen (buffer);
 		while ((len > 0)
 				&& ((buffer[len - 1] == '\n') || (buffer[len - 1] == '\r')))
@@ -598,32 +590,35 @@
 			close (fd);
 			break;
 		}
 
 		if (strcasecmp (fields[0], "getval") == 0)
 		{
-			us_handle_getval (fhout, fields, fields_num);
+			us_handle_getval (fh, fields, fields_num);
 		}
 		else if (strcasecmp (fields[0], "putval") == 0)
 		{
-			handle_putval (fhout, fields, fields_num);
+			handle_putval (fh, fields, fields_num);
 		}
 		else if (strcasecmp (fields[0], "listval") == 0)
 		{
-			us_handle_listval (fhout, fields, fields_num);
+			us_handle_listval (fh, fields, fields_num);
+		}
+		else if (strcasecmp (fields[0], "putnotif") == 0)
+		{
+			handle_putnotif (fh, fields, fields_num);
 		}
 		else
 		{
-			fprintf (fhout, "-1 Unknown command: %s\n", fields[0]);
-			fflush (fhout);
+			fprintf (fh, "-1 Unknown command: %s\n", fields[0]);
+			fflush (fh);
 		}
 	} /* while (fgets) */
 
 	DEBUG ("Exiting..");
-	fclose (fhin);
-	fclose (fhout);
+	close (fd);
 
 	pthread_exit ((void *) 0);
 } /* void *us_handle_client */
 
 static void *us_server_thread (void *arg)
 {
@@ -749,12 +744,13 @@
 		pthread_kill (listen_thread, SIGTERM);
 		pthread_join (listen_thread, &ret);
 		listen_thread = (pthread_t) 0;
 	}
 
 	plugin_unregister_init ("unixsock");
+	plugin_unregister_write ("unixsock");
 	plugin_unregister_shutdown ("unixsock");
 
 	return (0);
 } /* int us_shutdown */
 
 static int us_write (const data_set_t *ds, const value_list_t *vl)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_avltree.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_avltree.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_avltree.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_avltree.c	2008-02-19 03:57:18.000000000 +0800
@@ -261,13 +261,13 @@
 		assert (n->height == calc_height (n));
 
 		n = n->parent;
 	} /* while (n != NULL) */
 } /* void rebalance */
 
-static c_avl_node_t *c_avl_node_next (c_avl_tree_t *t, c_avl_node_t *n)
+static c_avl_node_t *c_avl_node_next (c_avl_node_t *n)
 {
 	c_avl_node_t *r; /* return node */
 
 	if (n == NULL)
 	{
 		return (NULL);
@@ -306,13 +306,13 @@
 			r = r->left;
 	}
 
 	return (r);
 } /* c_avl_node_t *c_avl_node_next */
 
-static c_avl_node_t *c_avl_node_prev (c_avl_tree_t *t, c_avl_node_t *n)
+static c_avl_node_t *c_avl_node_prev (c_avl_node_t *n)
 {
 	c_avl_node_t *r; /* return node */
 
 	if (n == NULL)
 	{
 		return (NULL);
@@ -361,19 +361,19 @@
 	if ((n->left != NULL) && (n->right != NULL))
 	{
 		c_avl_node_t *r; /* replacement node */
 		if (BALANCE (n) > 0) /* left subtree is higher */
 		{
 			assert (n->left != NULL);
-			r = c_avl_node_prev (t, n);
+			r = c_avl_node_prev (n);
 			
 		}
 		else /* right subtree is higher */
 		{
 			assert (n->right != NULL);
-			r = c_avl_node_next (t, n);
+			r = c_avl_node_next (n);
 		}
 
 		assert ((r->left == NULL) || (r->right == NULL));
 
 		/* copy content */
 		n->key   = r->key;
@@ -515,13 +515,13 @@
 	while (42)
 	{
 		cmp = t->compare (nptr->key, new->key);
 		if (cmp == 0)
 		{
 			free_node (new);
-			return (-1);
+			return (1);
 		}
 		else if (cmp < 0)
 		{
 			/* nptr < new */
 			if (nptr->right == NULL)
 			{
@@ -659,13 +659,13 @@
 			if (n->left == NULL)
 				break;
 		iter->node = n;
 	}
 	else
 	{
-		n = c_avl_node_next (iter->tree, iter->node);
+		n = c_avl_node_next (iter->node);
 	}
 
 	if (n == NULL)
 		return (-1);
 
 	iter->node = n;
@@ -688,13 +688,13 @@
 			if (n->right == NULL)
 				break;
 		iter->node = n;
 	}
 	else
 	{
-		n = c_avl_node_prev (iter->tree, iter->node);
+		n = c_avl_node_prev (iter->node);
 	}
 
 	if (n == NULL)
 		return (-1);
 
 	iter->node = n;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_avltree.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_avltree.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_avltree.h	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_avltree.h	2008-02-19 03:57:18.000000000 +0800
@@ -67,18 +67,21 @@
  * DESCRIPTION
  *   Stores the key-value-pair in the AVL-tree pointed to by `t'.
  *
  * PARAMETERS
  *   `t'        AVL-tree to store the data in.
  *   `key'      Key used to store the value under. This is used to get back to
- *              the value again.
+ *              the value again. The pointer is stored in an internal structure
+ *              and _not_ copied. So the memory pointed to may _not_ be freed
+ *              before this entry is removed. You can use the `rkey' argument
+ *              to `avl_remove' to get the original pointer back and free it.
  *   `value'    Value to be stored.
  *
  * RETURN VALUE
- *   Zero upon success and non-zero upon failure and if the key is already
- *   stored in the tree.
+ *   Zero upon success, non-zero otherwise. It's less than zero if an error
+ *   occurred or greater than zero if the key is already stored in the tree.
  */
 int c_avl_insert (c_avl_tree_t *t, void *key, void *value);
 
 /*
  * NAME
  *   c_avl_remove
@@ -88,12 +91,16 @@
  *   returned in `rkey' and `rvalue'.
  *
  * PARAMETERS
  *   `t'	AVL-tree to remove key-value-pair from.
  *   `key'      Key to identify the entry.
  *   `rkey'     Pointer to a pointer in which to store the key. May be NULL.
+ *              Since the `key' pointer is not copied when creating an entry,
+ *              the pointer may not be available anymore from outside the tree.
+ *              You can use this argument to get the actual pointer back and
+ *              free the memory pointed to by it.
  *   `rvalue'   Pointer to a pointer in which to store the value. May be NULL.
  *
  * RETURN VALUE
  *   Zero upon success or non-zero if the key isn't found in the tree.
  */
 int c_avl_remove (c_avl_tree_t *t, const void *key, void **rkey, void **rvalue);
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: utils_cache.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: utils_cache.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: utils_cmd_putnotif.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: utils_cmd_putnotif.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_dns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_dns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_dns.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_dns.c	2008-02-19 03:57:18.000000000 +0800
@@ -426,19 +426,22 @@
 }
 
 static int
 handle_ipv6 (struct ip6_hdr *ipv6, int len)
 {
     char buf[PCAP_SNAPLEN];
-    int offset;
+    unsigned int offset;
     int nexthdr;
 
     struct in6_addr s_addr;
     struct in6_addr d_addr;
     uint16_t payload_len;
 
+    if (0 > len)
+	return (0);
+
     offset = sizeof (struct ip6_hdr);
     nexthdr = ipv6->ip6_nxt;
     s_addr = ipv6->ip6_src;
     d_addr = ipv6->ip6_dst;
     payload_len = ntohs (ipv6->ip6_plen);
 
@@ -456,13 +459,13 @@
 	    || (IPPROTO_ESP == nexthdr)) /* encapsulating security payload. */
     {
 	struct ip6_ext ext_hdr;
 	uint16_t ext_hdr_len;
 
 	/* Catch broken packets */
-	if ((offset + sizeof (struct ip6_ext)) > len)
+	if ((offset + sizeof (struct ip6_ext)) > (unsigned int)len)
 	    return (0);
 
 	/* Cannot handle fragments. */
 	if (IPPROTO_FRAGMENT == nexthdr)
 	    return (0);
 
@@ -476,13 +479,13 @@
 
 	offset += ext_hdr_len;
 	payload_len -= ext_hdr_len;
     } /* while */
 
     /* Catch broken and empty packets */
-    if (((offset + payload_len) > len)
+    if (((offset + payload_len) > (unsigned int)len)
 	    || (payload_len == 0)
 	    || (payload_len > PCAP_SNAPLEN))
 	return (0);
 
     if (IPPROTO_UDP != nexthdr)
 	return (0);
@@ -617,13 +620,13 @@
 	uint16_t addr_len;
 	uint8_t  addr[8];
 	uint16_t proto_type;
     } *hdr;
     uint16_t etype;
 
-    if (len < sizeof (struct sll_header))
+    if ((0 > len) || ((unsigned int)len < sizeof (struct sll_header)))
 	return (0);
 
     hdr  = (struct sll_header *) pkt;
     pkt  = (u_char *) (hdr + 1);
     len -= sizeof (struct sll_header);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_ignorelist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_ignorelist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_ignorelist.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_ignorelist.c	2008-02-19 03:57:18.000000000 +0800
@@ -214,16 +214,12 @@
 ignorelist_t *ignorelist_create (int invert)
 {
 	ignorelist_t *il;
 
 	/* smalloc exits if it failes */
 	il = (ignorelist_t *) smalloc (sizeof (ignorelist_t));
-	DEBUG("Ignorelist created 0x%p, default is %s",
-			(void *) il,
-			invert ? "collect" : "ignore");
-
 	memset (il, '\0', sizeof (ignorelist_t));
 
 	/*
 	 * ->ignore == 0  =>  collect
 	 * ->ignore == 1  =>  ignore
 	 */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_llist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_llist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_llist.c	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_llist.c	2008-02-19 03:57:18.000000000 +0800
@@ -32,12 +32,13 @@
  * Private data types
  */
 struct llist_s
 {
 	llentry_t *head;
 	llentry_t *tail;
+	int size;
 };
 
 /*
  * Public functions
  */
 llist_t *llist_create (void)
@@ -64,36 +65,29 @@
 		llentry_destroy (e_this);
 	}
 
 	free (l);
 }
 
-llentry_t *llentry_create (const char *key, void *value)
+llentry_t *llentry_create (char *key, void *value)
 {
 	llentry_t *e;
 
 	e = (llentry_t *) malloc (sizeof (llentry_t));
-	if (e == NULL)
-		return (NULL);
-
-	e->key   = strdup (key);
-	e->value = value;
-	e->next  = NULL;
-
-	if (e->key == NULL)
+	if (e)
 	{
-		free (e);
-		return (NULL);
+		e->key   = key;
+		e->value = value;
+		e->next  = NULL;
 	}
 
 	return (e);
 }
 
 void llentry_destroy (llentry_t *e)
 {
-	free (e->key);
 	free (e);
 }
 
 void llist_append (llist_t *l, llentry_t *e)
 {
 	e->next = NULL;
@@ -101,21 +95,25 @@
 	if (l->tail == NULL)
 		l->head = e;
 	else
 		l->tail->next = e;
 
 	l->tail = e;
+
+	++(l->size);
 }
 
 void llist_prepend (llist_t *l, llentry_t *e)
 {
 	e->next = l->head;
 	l->head = e;
 
 	if (l->tail == NULL)
 		l->tail = e;
+
+	++(l->size);
 }
 
 void llist_remove (llist_t *l, llentry_t *e)
 {
 	llentry_t *prev;
 
@@ -126,12 +124,19 @@
 	if (prev != NULL)
 		prev->next = e->next;
 	if (l->head == e)
 		l->head = e->next;
 	if (l->tail == e)
 		l->tail = prev;
+
+	--(l->size);
+}
+
+int llist_size (llist_t *l)
+{
+	return (l ? l->size : 0);
 }
 
 llentry_t *llist_search (llist_t *l, const char *key)
 {
 	llentry_t *e;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_llist.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_llist.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/utils_llist.h	2008-04-22 23:42:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/utils_llist.h	2008-02-19 03:57:18.000000000 +0800
@@ -41,19 +41,21 @@
 /*
  * Functions
  */
 llist_t *llist_create (void);
 void llist_destroy (llist_t *l);
 
-llentry_t *llentry_create (const char *key, void *value);
+llentry_t *llentry_create (char *key, void *value);
 void llentry_destroy (llentry_t *e);
 
 void llist_append (llist_t *l, llentry_t *e);
 void llist_prepend (llist_t *l, llentry_t *e);
 void llist_remove (llist_t *l, llentry_t *e);
 
+int llist_size (llist_t *l);
+
 llentry_t *llist_search (llist_t *l, const char *key);
 
 llentry_t *llist_head (llist_t *l);
 llentry_t *llist_tail (llist_t *l);
 
 #endif /* UTILS_LLIST_H */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: utils_threshold.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: utils_threshold.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src: uuid.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/wireless.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/wireless.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/src/wireless.c	2008-04-03 21:52:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/src/wireless.c	2007-10-25 01:21:24.000000000 +0800
@@ -129,14 +129,14 @@
 		else if ((power >= 0.0) && (power <= 100.0))
 			power = wireless_percent_to_power (power);
 		else if (power > 100.0)
 			power = 1.0; /* invalid */
 
 		/* noise [dBm] < 0.0 */
-		noise = strtod (fields[4], &endptr);
-		if (fields[4] == endptr)
+		noise = strtod (fields[3], &endptr);
+		if (fields[3] == endptr)
 			noise = 1.0; /* invalid */
 		else if ((noise >= 0.0) && (noise <= 100.0))
 			noise = wireless_percent_to_power (noise);
 		else if (noise > 100.0)
 			noise = 1.0; /* invalid */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/TODO /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/TODO
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/TODO	2008-04-22 23:42:41.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/TODO	2008-02-19 03:57:18.000000000 +0800
@@ -1,17 +1,22 @@
+For version 4.3:
+* unixsock plugin: Remove the custom cache if possible.
+
 src/battery.c: commend not working code.
-general: build Darwin package
 
-Near future:
+Wishlist:
 * Update the RPM specfile to
   - build `collectd-apache'
-  - be free of syntax erros.
-
-For version 3.*:
+  - be free of syntax errors.
 * Port nfs module to solaris
 * Port tape module to Linux
 * Maybe look into porting the serial module
+* Build Darwin package
+* Maybe let the network plugin configure whether or not notifications should be
+  sent/received.
+* Maybe find a way for processes connected to the unixsock plugin to receive
+  notifications, too.
 
 http://developer.apple.com/documentation/DeviceDrivers/Conceptual/AccessingHardware/AH_IOKitLib_API/chapter_5_section_1.html
 http://developer.apple.com/documentation/DeviceDrivers/Conceptual/IOKitFundamentals/index.html#//apple_ref/doc/uid/TP0000011
 http://www.gauchosoft.com/Software/X%20Resource%20Graph/
 http://johannes.sipsolutions.net/PowerBook/Apple_Motion_Sensor_Specification/
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/version-gen.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/version-gen.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7/version-gen.sh	2008-04-23 00:01:03.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.0/version-gen.sh	2008-02-19 03:58:46.000000000 +0800
@@ -1,9 +1,9 @@
 #!/bin/sh
 
-DEFAULT_VERSION="4.2.7.git"
+DEFAULT_VERSION="4.3.0.git"
 
 VERSION="$( git describe 2> /dev/null | sed -e 's/^collectd-//' )"
 
 if test -z "$VERSION"; then
 	VERSION="$DEFAULT_VERSION"
 fi
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.7: ylwrap
