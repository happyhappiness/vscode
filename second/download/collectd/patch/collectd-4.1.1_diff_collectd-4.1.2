diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/ChangeLog	2007-09-12 20:57:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/ChangeLog	2007-09-28 22:55:34.000000000 +0800
@@ -1,6 +1,17 @@
+2007-09-28, Version 4.1.2
+	* apcups plugin: Fix reporting of the `load percent' data.
+	* wireless plugin: Correct the handling of cards returning signal and
+	  noise quality as percentage.
+	* perl plugin: Fix a possible buffer overflow in get_module_name().
+	* build system: Further improve the detection of libraries.
+	* netlink plugin: Build issues under some older versions of the Linux
+	  includes (i. e. Debian Sarge) have been fixed.
+	* snmp plugin: Fix a potential segfault when a host times out. Add
+	  support for the `timeticks' type. 
+
 2007-09-12, Version 4.1.1
 	* Build system: The detection of `libnetlink' has been improved.
 	* collectd: The documentation has been fixed in numerous places.
 	* exec plugin: Setting the group under which to run a program has been
 	  fixed.
 	* collectd: The `sstrerror' function was improved to work correctly
@@ -30,12 +41,18 @@
 	  monitoring servers, etc. The collectd-snmp(5) manpage documents this
 	  plugin.
 	* unixsock plugin: Added the `LISTVAL' command.
 	* xmms plugin: The new `xmms' plugin graphs the bitrate and frequency
 	  of music played with xmms.
 
+2007-09-28, Version 4.0.9
+	* apcups plugin: Fix reporting of the `load percent' data.
+	* wireless plugin: Correct the handling of cards returning signal and
+	  noise quality as percentage.
+	* perl plugin: Fix a possible buffer overflow in get_module_name().
+
 2007-09-12, Version 4.0.8
 	* collectd: The `sstrerror' function was improved to work correctly
 	  with the broken GNU version of `strerror_r'.
 	* collectd: Write an error message to STDERR when loading of a plugin
 	  fails.
 	* apcups plugin: Fix the `types' used to submit the values: They still
@@ -135,12 +152,16 @@
 	* apache plugin: Support for lighttpd's `BusyServers' (aka.
 	  connections) field was added by Florent Monbillard.
 	* collectd-nagios: The new `collectd-nagios' binary queries values
 	  from collectd, parses them and exits according to Nagios-standards.
 	* manpages: The manpages have been improved a lot.
 
+2007-09-28, Version 3.11.7
+	* wireless plugin: Correct the handling of cards returning signal and
+	  noise quality as percentage.
+
 2007-08-31, Version 3.11.6
 	* processes plugin: Fix a potential segmentation fault.
 
 2007-05-29, Version 3.11.5
 	* configure: Added `AC_SYS_LARGEFILE' for LFS.
 	* ntpd plugin: Fix a potential buffer overflow.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/configure	2007-09-12 20:59:04.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/configure	2007-09-28 22:58:15.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.61 for collectd 4.1.1.
+# Generated by GNU Autoconf 2.61 for collectd 4.1.2.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -723,14 +723,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='4.1.1'
-PACKAGE_STRING='collectd 4.1.1'
+PACKAGE_VERSION='4.1.2'
+PACKAGE_STRING='collectd 4.1.2'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -922,12 +922,14 @@
 PERL_CFLAGS
 PERL_LDFLAGS
 BUILD_WITH_LIBPERL_TRUE
 BUILD_WITH_LIBPERL_FALSE
 BUILD_WITH_LIBIPTC_TRUE
 BUILD_WITH_LIBIPTC_FALSE
+BUILD_WITH_LIBSNMP_CFLAGS
+BUILD_WITH_LIBSNMP_LIBS
 BUILD_WITH_LIBNETSNMP_TRUE
 BUILD_WITH_LIBNETSNMP_FALSE
 BUILD_WITH_LIBUPSCLIENT_CFLAGS
 BUILD_WITH_LIBUPSCLIENT_LIBS
 BUILD_WITH_LIBUPSCLIENT_TRUE
 BUILD_WITH_LIBUPSCLIENT_FALSE
@@ -1550,13 +1552,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 4.1.1 to adapt to many kinds of systems.
+\`configure' configures collectd 4.1.2 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1620,13 +1622,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 4.1.1:";;
+     short | recursive ) echo "Configuration of collectd 4.1.2:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1804,13 +1806,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 4.1.1
+collectd configure 4.1.2
 generated by GNU Autoconf 2.61
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1818,13 +1820,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 4.1.1, which was
+It was created by collectd $as_me 4.1.2, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2491,13 +2493,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='4.1.1'
+ VERSION='4.1.2'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -6054,13 +6056,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 6060 "configure"' > conftest.$ac_ext
+  echo '#line 6062 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -8562,17 +8564,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8568: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8570: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8572: \$? = $ac_status" >&5
+   echo "$as_me:8574: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8852,17 +8854,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8858: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8860: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8862: \$? = $ac_status" >&5
+   echo "$as_me:8864: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8956,17 +8958,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8962: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8964: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:8966: \$? = $ac_status" >&5
+   echo "$as_me:8968: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -11318,13 +11320,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11324 "configure"
+#line 11326 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11418,13 +11420,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11424 "configure"
+#line 11426 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -13838,17 +13840,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13844: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13846: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13848: \$? = $ac_status" >&5
+   echo "$as_me:13850: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -13942,17 +13944,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13948: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13950: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13952: \$? = $ac_status" >&5
+   echo "$as_me:13954: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -15519,17 +15521,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15525: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15527: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:15529: \$? = $ac_status" >&5
+   echo "$as_me:15531: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -15623,17 +15625,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15629: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15631: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:15633: \$? = $ac_status" >&5
+   echo "$as_me:15635: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -17823,17 +17825,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17829: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17831: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:17833: \$? = $ac_status" >&5
+   echo "$as_me:17835: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18113,17 +18115,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18119: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18121: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18123: \$? = $ac_status" >&5
+   echo "$as_me:18125: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18217,17 +18219,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18223: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18225: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18227: \$? = $ac_status" >&5
+   echo "$as_me:18229: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -30974,19 +30976,22 @@
 	then
 		with_libcurl="no"
 	else if test "x$withval" = "xyes"
 	then
 		with_libcurl="yes"
 	else
-		if test -x "$withval"
+		if test -f "$withval" && test -x "$withval"
 		then
 			with_curl_config="$withval"
+			with_libcurl="yes"
 		else if test -x "$withval/bin/curl-config"
 		then
 			with_curl_config="$withval/bin/curl-config"
+			with_libcurl="yes"
 		fi; fi
+		with_libcurl="yes"
 	fi; fi
 
 else
 
 	with_libcurl="yes"
 
@@ -32047,19 +32052,20 @@
 	then
 		with_libmysql="no"
 	else if test "x$withval" = "xyes"
 	then
 		with_libmysql="yes"
 	else
-		if test -x "$withval";
+		if test -f "$withval" && test -x "$withval";
 		then
 			with_mysql_config="$withval"
 		else if test -x "$withval/bin/mysql_config"
 		then
 			with_mysql_config="$withval/bin/mysql_config"
 		fi; fi
+		with_libmysql="yes"
 	fi; fi
 
 else
 
 	with_libmysql="yes"
 
@@ -33229,105 +33235,52 @@
 else
   BUILD_WITH_LIBIPTC_TRUE='#'
   BUILD_WITH_LIBIPTC_FALSE=
 fi
 
 
+with_snmp_config="net-snmp-config"
+with_snmp_cflags=""
+with_snmp_libs=""
 
 # Check whether --with-libnetsnmp was given.
 if test "${with_libnetsnmp+set}" = set; then
   withval=$with_libnetsnmp;
-	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+ 	if test "x$withval" = "xno"
+	then
+		with_libnetsnmp="no"
+	else if "x$withval" = "xyes"
 	then
-		LDFLAGS="$LDFLAGS -L$withval/lib"
-		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libnetsnmp="yes"
-	fi
+	else
+	       	if test -x "$withval"
+		then
+			with_snmp_config="$withval"
+			with_libnetsnmp="yes"
+		else
+			with_snmp_config="$withval/bin/net-snmp-config"
+			with_libnetsnmp="yes"
+		fi
+	fi; fi
 
 else
   with_libnetsnmp="yes"
 fi
 
 if test "x$with_libnetsnmp" = "xyes"
 then
-	{ echo "$as_me:$LINENO: checking for init_snmp in -lnetsnmp" >&5
-echo $ECHO_N "checking for init_snmp in -lnetsnmp... $ECHO_C" >&6; }
-if test "${ac_cv_lib_netsnmp_init_snmp+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lnetsnmp  $LIBS"
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char init_snmp ();
-int
-main ()
-{
-return init_snmp ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_netsnmp_init_snmp=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_lib_netsnmp_init_snmp=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_netsnmp_init_snmp" >&5
-echo "${ECHO_T}$ac_cv_lib_netsnmp_init_snmp" >&6; }
-if test $ac_cv_lib_netsnmp_init_snmp = yes; then
-
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSNMP 1
-_ACEOF
-
+	with_snmp_cflags=`$with_snmp_config --cflags 2>/dev/null`
+	snmp_config_status=$?
 
-else
-  with_libnetsnmp="no (libnetsnmp not found)"
-fi
+	if test $snmp_config_status -ne 0
+	then
+		with_libnetsnmp="no ($with_snmp_config failed)"
+	else
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_snmp_cflags"
 
-fi
-if test "x$with_libnetsnmp" = "xyes"
-then
 
 for ac_header in net-snmp/net-snmp-config.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
@@ -33458,23 +33411,105 @@
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
+else
+  with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_NET_SNMP_NET_SNMP_CONFIG_H 1
+done
+
+
+		CFLAGS="$SAVE_CFLAGS"
+	fi
+fi
+if test "x$with_libnetsnmp" = "xyes"
+then
+	with_snmp_libs=`$with_snmp_config --libs 2>/dev/null`
+	snmp_config_status=$?
+
+	if test $snmp_config_status -ne 0
+	then
+		with_libnetsnmp="no ($with_snmp_config failed)"
+	else
+		{ echo "$as_me:$LINENO: checking for init_snmp in -lnetsnmp" >&5
+echo $ECHO_N "checking for init_snmp in -lnetsnmp... $ECHO_C" >&6; }
+if test "${ac_cv_lib_netsnmp_init_snmp+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lnetsnmp $with_snmp_libs $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
 _ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
 
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char init_snmp ();
+int
+main ()
+{
+return init_snmp ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_netsnmp_init_snmp=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_netsnmp_init_snmp=no
+fi
 
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_netsnmp_init_snmp" >&5
+echo "${ECHO_T}$ac_cv_lib_netsnmp_init_snmp" >&6; }
+if test $ac_cv_lib_netsnmp_init_snmp = yes; then
+  with_libnetsnmp="yes"
 else
-  with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"
+  with_libnetsnmp="no (libnetsnmp not found)"
 fi
 
-done
+	fi
+fi
+if test "x$with_libnetsnmp" = "xyes"
+then
+	BUILD_WITH_LIBSNMP_CFLAGS="$with_snmp_cflags"
+	BUILD_WITH_LIBSNMP_LIBS="$with_snmp_libs"
+
 
 fi
 
 
 if test "x$with_libnetsnmp" = "xyes"; then
   BUILD_WITH_LIBNETSNMP_TRUE=
@@ -33493,22 +33528,22 @@
 if test "${with_libupsclient+set}" = set; then
   withval=$with_libupsclient;
 	if test "x$withval" = "xno"
 	then
 		with_libupsclient="no"
 	else
-		with_libupsclient="yes"
-		if "x$withval" != "xyes"
+		if test "x$withval" != "xyes"
 		then
-			if test -x "$withval"
+			if test -f "$withval" && test -x "$withval";
 			then
 				with_upsclient_config="$withval"
 			else
 				with_upsclient_config="$withval/bin/libupsclient-config"
 			fi
 		fi
+		with_libupsclient="yes"
 	fi
 
 else
 
 	with_libupsclient="yes"
 
@@ -33911,23 +33946,26 @@
 
 # Check whether --with-libxmms was given.
 if test "${with_libxmms+set}" = set; then
   withval=$with_libxmms;
 	if test "x$withval" != "xno" -a "x$withval" != "xyes"
 	then
-		if test -x "$withval/bin/xmms-config"
+		if test -f "$withval" && test -x "$withval";
+		then
+			with_xmms_config="$withval"
+		else if test -x "$withval/bin/xmms-config"
 		then
 			with_xmms_config="$withval/bin/xmms-config"
-		fi
-	fi
-	if test "x$withval" = "xno"
+		fi; fi
+		with_libxmms="yes"
+	else if test "x$withval" = "xno"
 	then
 		with_libxmms="no"
 	else
 		with_libxmms="yes"
-	fi
+	fi; fi
 
 else
 
 	with_libxmms="yes"
 
 fi
@@ -34161,12 +34199,166 @@
 
 fi
 
 done
 
 
+
+for ac_header in linux/gen_stats.h linux/pkt_sched.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+	cat >conftest.$ac_ext <<_ACEOF
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+int main (void)
+{
+	int retval = TCA_STATS2;
+	return (retval);
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_TCA_STATS2 1
+_ACEOF
+
+
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext;
+
+	cat >conftest.$ac_ext <<_ACEOF
+#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+int main (void)
+{
+	int retval = TCA_STATS;
+	return (retval);
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_TCA_STATS 1
+_ACEOF
+
+
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext;
+
 	CFLAGS="$SAVE_CFLAGS"
 fi
 if test "x$with_libnetlink" = "xyes"
 then
 	{ echo "$as_me:$LINENO: checking for rtnl_open in -lnetlink" >&5
 echo $ECHO_N "checking for rtnl_open in -lnetlink... $ECHO_C" >&6; }
@@ -37323,13 +37515,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 4.1.1, which was
+This file was extended by collectd $as_me 4.1.2, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -37376,13 +37568,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 4.1.1
+collectd config.status 4.1.2
 configured by $0, generated by GNU Autoconf 2.61,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -37756,12 +37948,14 @@
 PERL_CFLAGS!$PERL_CFLAGS$ac_delim
 PERL_LDFLAGS!$PERL_LDFLAGS$ac_delim
 BUILD_WITH_LIBPERL_TRUE!$BUILD_WITH_LIBPERL_TRUE$ac_delim
 BUILD_WITH_LIBPERL_FALSE!$BUILD_WITH_LIBPERL_FALSE$ac_delim
 BUILD_WITH_LIBIPTC_TRUE!$BUILD_WITH_LIBIPTC_TRUE$ac_delim
 BUILD_WITH_LIBIPTC_FALSE!$BUILD_WITH_LIBIPTC_FALSE$ac_delim
+BUILD_WITH_LIBSNMP_CFLAGS!$BUILD_WITH_LIBSNMP_CFLAGS$ac_delim
+BUILD_WITH_LIBSNMP_LIBS!$BUILD_WITH_LIBSNMP_LIBS$ac_delim
 BUILD_WITH_LIBNETSNMP_TRUE!$BUILD_WITH_LIBNETSNMP_TRUE$ac_delim
 BUILD_WITH_LIBNETSNMP_FALSE!$BUILD_WITH_LIBNETSNMP_FALSE$ac_delim
 BUILD_WITH_LIBUPSCLIENT_CFLAGS!$BUILD_WITH_LIBUPSCLIENT_CFLAGS$ac_delim
 BUILD_WITH_LIBUPSCLIENT_LIBS!$BUILD_WITH_LIBUPSCLIENT_LIBS$ac_delim
 BUILD_WITH_LIBUPSCLIENT_TRUE!$BUILD_WITH_LIBUPSCLIENT_TRUE$ac_delim
 BUILD_WITH_LIBUPSCLIENT_FALSE!$BUILD_WITH_LIBUPSCLIENT_FALSE$ac_delim
@@ -37791,14 +37985,12 @@
 BUILD_PLUGIN_CPU_FALSE!$BUILD_PLUGIN_CPU_FALSE$ac_delim
 BUILD_PLUGIN_CPUFREQ_TRUE!$BUILD_PLUGIN_CPUFREQ_TRUE$ac_delim
 BUILD_PLUGIN_CPUFREQ_FALSE!$BUILD_PLUGIN_CPUFREQ_FALSE$ac_delim
 BUILD_PLUGIN_CSV_TRUE!$BUILD_PLUGIN_CSV_TRUE$ac_delim
 BUILD_PLUGIN_CSV_FALSE!$BUILD_PLUGIN_CSV_FALSE$ac_delim
 BUILD_PLUGIN_DF_TRUE!$BUILD_PLUGIN_DF_TRUE$ac_delim
-BUILD_PLUGIN_DF_FALSE!$BUILD_PLUGIN_DF_FALSE$ac_delim
-BUILD_PLUGIN_DISK_TRUE!$BUILD_PLUGIN_DISK_TRUE$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -37834,12 +38026,14 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
+BUILD_PLUGIN_DF_FALSE!$BUILD_PLUGIN_DF_FALSE$ac_delim
+BUILD_PLUGIN_DISK_TRUE!$BUILD_PLUGIN_DISK_TRUE$ac_delim
 BUILD_PLUGIN_DISK_FALSE!$BUILD_PLUGIN_DISK_FALSE$ac_delim
 BUILD_PLUGIN_DNS_TRUE!$BUILD_PLUGIN_DNS_TRUE$ac_delim
 BUILD_PLUGIN_DNS_FALSE!$BUILD_PLUGIN_DNS_FALSE$ac_delim
 BUILD_PLUGIN_EMAIL_TRUE!$BUILD_PLUGIN_EMAIL_TRUE$ac_delim
 BUILD_PLUGIN_EMAIL_FALSE!$BUILD_PLUGIN_EMAIL_FALSE$ac_delim
 BUILD_PLUGIN_ENTROPY_TRUE!$BUILD_PLUGIN_ENTROPY_TRUE$ac_delim
@@ -37907,13 +38101,13 @@
 BUILD_PLUGIN_XMMS_TRUE!$BUILD_PLUGIN_XMMS_TRUE$ac_delim
 BUILD_PLUGIN_XMMS_FALSE!$BUILD_PLUGIN_XMMS_FALSE$ac_delim
 LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 71; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 73; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/configure.in	2007-09-12 20:57:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/configure.in	2007-09-28 22:57:44.000000000 +0800
@@ -767,19 +767,22 @@
 	then
 		with_libcurl="no"
 	else if test "x$withval" = "xyes"
 	then
 		with_libcurl="yes"
 	else
-		if test -x "$withval"
+		if test -f "$withval" && test -x "$withval"
 		then
 			with_curl_config="$withval"
+			with_libcurl="yes"
 		else if test -x "$withval/bin/curl-config"
 		then
 			with_curl_config="$withval/bin/curl-config"
+			with_libcurl="yes"
 		fi; fi
+		with_libcurl="yes"
 	fi; fi
 ],
 [
 	with_libcurl="yes"
 ])
 if test "x$with_libcurl" = "xyes"
@@ -939,19 +942,20 @@
 	then
 		with_libmysql="no"
 	else if test "x$withval" = "xyes"
 	then
 		with_libmysql="yes"
 	else
-		if test -x "$withval";
+		if test -f "$withval" && test -x "$withval";
 		then
 			with_mysql_config="$withval"
 		else if test -x "$withval/bin/mysql_config"
 		then
 			with_mysql_config="$withval/bin/mysql_config"
 		fi; fi
+		with_libmysql="yes"
 	fi; fi
 ],
 [
 	with_libmysql="yes"
 ])
 if test "x$with_libmysql" = "xyes"
@@ -1220,57 +1224,95 @@
 	collect_libiptc=1
 else
 	collect_libiptc=0
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBIPTC, test "x$with_libiptc" = "xyes")
 
+with_snmp_config="net-snmp-config"
+with_snmp_cflags=""
+with_snmp_libs=""
 AC_ARG_WITH(libnetsnmp, [AS_HELP_STRING([--with-libnetsnmp@<:@=PREFIX@:>@], [Path to the Net-SNMPD library.])],
 [
-	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+ 	if test "x$withval" = "xno"
+	then
+		with_libnetsnmp="no"
+	else if "x$withval" = "xyes"
 	then
-		LDFLAGS="$LDFLAGS -L$withval/lib"
-		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_libnetsnmp="yes"
-	fi
+	else
+	       	if test -x "$withval"
+		then
+			with_snmp_config="$withval"
+			with_libnetsnmp="yes"
+		else
+			with_snmp_config="$withval/bin/net-snmp-config"
+			with_libnetsnmp="yes"
+		fi
+	fi; fi
 ],
 [with_libnetsnmp="yes"])
 if test "x$with_libnetsnmp" = "xyes"
 then
-	AC_CHECK_LIB(netsnmp, init_snmp,
-	[
-		AC_DEFINE(HAVE_LIBSNMP, 1, [Define to 1 if you have the Net-SNMP library (-lnetsnmp).])
-	], [with_libnetsnmp="no (libnetsnmp not found)"])
+	with_snmp_cflags=`$with_snmp_config --cflags 2>/dev/null`
+	snmp_config_status=$?
+
+	if test $snmp_config_status -ne 0
+	then
+		with_libnetsnmp="no ($with_snmp_config failed)"
+	else
+		SAVE_CFLAGS=$CFLAGS
+		CFLAGS="$CFLAGS $with_snmp_cflags"
+		
+		AC_CHECK_HEADERS(net-snmp/net-snmp-config.h, [], [with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"])
+
+		CFLAGS="$SAVE_CFLAGS"
+	fi
 fi
 if test "x$with_libnetsnmp" = "xyes"
 then
-	AC_CHECK_HEADERS(net-snmp/net-snmp-config.h,
-	[
-		AC_DEFINE(HAVE_NET_SNMP_NET_SNMP_CONFIG_H, 1, [Define to 1 if you have the <net-snmp/net-snmp-config.h> header file.])
-	], [with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"])
+	with_snmp_libs=`$with_snmp_config --libs 2>/dev/null`
+	snmp_config_status=$?
+
+	if test $snmp_config_status -ne 0
+	then
+		with_libnetsnmp="no ($with_snmp_config failed)"
+	else
+		AC_CHECK_LIB(netsnmp, init_snmp,
+		[with_libnetsnmp="yes"],
+		[with_libnetsnmp="no (libnetsnmp not found)"],
+		[$with_snmp_libs])
+	fi
+fi
+if test "x$with_libnetsnmp" = "xyes"
+then
+	BUILD_WITH_LIBSNMP_CFLAGS="$with_snmp_cflags"
+	BUILD_WITH_LIBSNMP_LIBS="$with_snmp_libs"
+	AC_SUBST(BUILD_WITH_LIBSNMP_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBSNMP_LIBS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBNETSNMP, test "x$with_libnetsnmp" = "xyes")
 
 with_upsclient_config="libupsclient-config"
 with_upsclient_cflags=""
 with_upsclient_libs=""
 AC_ARG_WITH(libupsclient, [AS_HELP_STRING([--with-libupsclient@<:@=PREFIX@:>@], [Path to libupsclient.])],
 [
 	if test "x$withval" = "xno"
 	then
 		with_libupsclient="no"
 	else
-		with_libupsclient="yes"
-		if "x$withval" != "xyes"
+		if test "x$withval" != "xyes"
 		then
-			if test -x "$withval"
+			if test -f "$withval" && test -x "$withval";
 			then
 				with_upsclient_config="$withval"
 			else
 				with_upsclient_config="$withval/bin/libupsclient-config"
 			fi
 		fi
+		with_libupsclient="yes"
 	fi
 ],
 [
 	with_libupsclient="yes"
 ])
 if test "x$with_libupsclient" = "xyes"
@@ -1329,23 +1371,26 @@
 with_xmms_cflags=""
 with_xmms_libs=""
 AC_ARG_WITH(libxmms, [AS_HELP_STRING([--with-libxmms@<:@=PREFIX@:>@], [Path to libxmms.])],
 [
 	if test "x$withval" != "xno" -a "x$withval" != "xyes"
 	then
-		if test -x "$withval/bin/xmms-config"
+		if test -f "$withval" && test -x "$withval";
+		then
+			with_xmms_config="$withval"
+		else if test -x "$withval/bin/xmms-config"
 		then
 			with_xmms_config="$withval/bin/xmms-config"
-		fi
-	fi
-	if test "x$withval" = "xno"
+		fi; fi
+		with_libxmms="yes"
+	else if test "x$withval" = "xno"
 	then
 		with_libxmms="no"
 	else
 		with_libxmms="yes"
-	fi
+	fi; fi
 ],
 [
 	with_libxmms="yes"
 ])
 if test "x$with_libxmms" = "xyes"
 then
@@ -1435,12 +1480,49 @@
 [#include <stdio.h>
 #include <sys/types.h>
 #include <asm/types.h>
 #include <sys/socket.h>
 #include <linux/netlink.h>
 #include <linux/rtnetlink.h>])
+	AC_CHECK_HEADERS(linux/gen_stats.h linux/pkt_sched.h, [], [],
+[#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>])
+
+	AC_COMPILE_IFELSE(
+[#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+int main (void)
+{
+	int retval = TCA_STATS2;
+	return (retval);
+}],
+	[AC_DEFINE([HAVE_TCA_STATS2], 1, [True if the enum-member TCA_STATS2 exists])]
+	[]);
+
+	AC_COMPILE_IFELSE(
+[#include <stdio.h>
+#include <sys/types.h>
+#include <asm/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+int main (void)
+{
+	int retval = TCA_STATS;
+	return (retval);
+}],
+	[AC_DEFINE([HAVE_TCA_STATS], 1, [True if the enum-member TCA_STATS exists])]
+	[]);
 
 	CFLAGS="$SAVE_CFLAGS"
 fi
 if test "x$with_libnetlink" = "xyes"
 then
 	AC_CHECK_LIB(netlink, rtnl_open,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/contrib/collection.cgi	2007-09-12 18:31:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/contrib/collection.cgi	2007-09-28 22:39:48.000000000 +0800
@@ -941,52 +941,40 @@
     "LINE1:avg#$FullBlue:Bits/s",
     'GPRINT:min:MIN:%5.1lf%s Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%s Average,',
     'GPRINT:max:MAX:%5.1lf%s Max,',
     'GPRINT:avg:LAST:%5.1lf%s Last\l'
     ],
-    charge => [
-    'DEF:avg={file}:charge:AVERAGE',
-    'DEF:min={file}:charge:MIN',
-    'DEF:max={file}:charge:MAX',
+    charge => ['-v', 'Ah',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Charge",
     'GPRINT:min:MIN:%5.1lf%sAh Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%sAh Avg,',
     'GPRINT:max:MAX:%5.1lf%sAh Max,',
     'GPRINT:avg:LAST:%5.1lf%sAh Last\l'
     ],
-    charge_percent => [
-    'DEF:avg={file}:percent:AVERAGE',
-    'DEF:min={file}:percent:MIN',
-    'DEF:max={file}:percent:MAX',
-    "AREA:max#$HalfBlue",
-    "AREA:min#$Canvas",
-    "LINE1:avg#$FullBlue:Charge",
-    'GPRINT:min:MIN:%5.1lf%s%% Min,',
-    'GPRINT:avg:AVERAGE:%5.1lf%s%% Avg,',
-    'GPRINT:max:MAX:%5.1lf%s%% Max,',
-    'GPRINT:avg:LAST:%5.1lf%s%% Last\l'
-    ],
     cpu => ['-v', 'CPU load',
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Percent",
     'GPRINT:min:MIN:%6.2lf%% Min,',
     'GPRINT:avg:AVERAGE:%6.2lf%% Avg,',
     'GPRINT:max:MAX:%6.2lf%% Max,',
     'GPRINT:avg:LAST:%6.2lf%% Last\l'
     ],
-    current => [
-    'DEF:avg={file}:current:AVERAGE',
-    'DEF:min={file}:current:MIN',
-    'DEF:max={file}:current:MAX',
+    current => ['-v', 'Ampere',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Current",
     'GPRINT:min:MIN:%5.1lf%sA Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%sA Avg,',
     'GPRINT:max:MAX:%5.1lf%sA Max,',
@@ -2514,13 +2502,13 @@
   my $sources = [];
 
   $opts->{'title'} = "$host/$plugin"
   . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
   $opts->{'number_format'} = '%5.1lf%s';
 
-  $opts->{'rrd_opts'} = ['-b', '1024'];
+  $opts->{'rrd_opts'} = ['-b', '1024', '-v', 'Bytes'];
 
   my @files = ();
 
   $opts->{'colors'} =
   {
     'free'     => '00e000',
@@ -2774,16 +2762,16 @@
   $opts->{'number_format'} = '%5.1lf%s';
 
   my @files = ();
 
   $opts->{'colors'} =
   {
-    'Free'   => '00e000',
-    'Cached'  => '0000ff',
-    'Reserved'      => 'ffb000',
-    'Used'   => 'ff0000'
+    'Free'     => '00e000',
+    'Cached'   => '0000ff',
+    'Reserved' => 'ffb000',
+    'Used'     => 'ff0000'
   };
 
   _custom_sort_arrayref ($type_instances,
     [qw(free cached reserved used)]);
 
   for (@$type_instances)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/contrib/PerlLib/Collectd.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/contrib/PerlLib/Collectd.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/contrib/PerlLib/Collectd.pm	2007-09-12 20:57:50.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/contrib/PerlLib/Collectd.pm	2007-09-28 22:55:34.000000000 +0800
@@ -41,12 +41,12 @@
 	push @{$EXPORT_TAGS{'all'}}, grep {! $seen{$_}++ } @{$EXPORT_TAGS{$_}}
 		foreach keys %EXPORT_TAGS;
 }
 
 Exporter::export_ok_tags('all');
 
-bootstrap Collectd "4.1.1";
+bootstrap Collectd "4.1.2";
 
 1;
 
 # vim: set sw=4 ts=4 tw=78 noexpandtab :
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/Makefile.in	2007-09-12 20:59:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/Makefile.in	2007-09-28 22:58:13.000000000 +0800
@@ -207,12 +207,14 @@
 BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
 BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
+BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/apcups.c	2007-09-12 20:57:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/apcups.c	2007-09-28 22:55:34.000000000 +0800
@@ -390,13 +390,13 @@
 static void apc_submit (struct apc_detail_s *apcups_detail)
 {
 	apc_submit_generic ("voltage",    "input",   apcups_detail->linev);
 	apc_submit_generic ("voltage",    "output",  apcups_detail->outputv);
 	apc_submit_generic ("voltage",    "battery", apcups_detail->battv);
 	apc_submit_generic ("charge",     "",        apcups_detail->bcharge);
-	apc_submit_generic ("percent",    "charge",  apcups_detail->loadpct);
+	apc_submit_generic ("percent",    "load",    apcups_detail->loadpct);
 	apc_submit_generic ("timeleft",   "",        apcups_detail->timeleft);
 	apc_submit_generic ("temperature", "",       apcups_detail->itemp);
 	apc_submit_generic ("frequency",  "input",   apcups_detail->linefreq);
 }
 
 static int apcups_read (void)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd.1	2007-09-12 21:23:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd.1	2007-09-28 23:02:07.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2007-09-12" "4.1.1" "collectd"
+.TH COLLECTD 1 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd.conf.5	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd.conf.5	2007-09-28 23:02:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2007-09-12" "4.1.1" "collectd"
+.TH COLLECTD.CONF 5 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
 \&  BaseDir "/path/to/data/"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-email.5	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-email.5	2007-09-28 23:02:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2007-08-31" "4.1.1" "collectd"
+.TH COLLECTD-EMAIL 5 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd\-email \- Documentation of collectd's \f(CW\*(C`email plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-exec.5	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-exec.5	2007-09-28 23:02:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2007-09-12" "4.1.1" "collectd"
+.TH COLLECTD-EXEC 5 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 7
 \&  # See collectd.conf(5)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-nagios.1	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-nagios.1	2007-09-28 23:02:07.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2007-09-02" "4.1.1" "collectd"
+.TH COLLECTD-NAGIOS 1 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd-nagios \fB\-s\fR \fIsocket\fR \fB\-n\fR \fIvalue_spec\fR \fB\-H\fR \fIhostname\fR \fI[options]\fR
 .SH "DESCRIPTION"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-perl.5	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-perl.5	2007-09-28 23:02:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2007-09-02" "4.1.1" "collectd"
+.TH COLLECTD-PERL 5 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd\-perl \- Documentation of collectd's \f(CW\*(C`perl plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -162,13 +162,13 @@
 A data-set is a list of one or more data\-sources. Each data-source defines a
 name, type, min\- and max-value and the data-set wraps them up into one
 structure. The general layout looks like this:
 .Sp
 .Vb 6
 \&  [{
-\&    name => 'data_source_name',
+\&    name => \(aqdata_source_name\(aq,
 \&    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE
 \&    min  => value || undef,
 \&    max  => value || undef
 \&  }, ...]
 .Ve
 .IP "Value-List" 4
@@ -180,16 +180,16 @@
 this:
 .Sp
 .Vb 8
 \&  {
 \&    values => [123, 0.5],
 \&    time   => time (),
-\&    host   => 'localhost',
-\&    plugin => 'myplugin',
-\&    plugin_instance => '',
-\&    type_instance   => ''
+\&    host   => \(aqlocalhost\(aq,
+\&    plugin => \(aqmyplugin\(aq,
+\&    plugin_instance => \(aq\(aq,
+\&    type_instance   => \(aq\(aq
 \&  }
 .Ve
 .SH "METHODS"
 .IX Header "METHODS"
 The following functions provide the C\-interface to Perl\-modules. They are
 automatically exported into the module's namespace. You don't need to \f(CW\*(C`use\*(C'\fR
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-snmp.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-snmp.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-snmp.5	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-snmp.5	2007-09-28 23:02:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-SNMP 5"
-.TH COLLECTD-SNMP 5 "2007-09-12" "4.1.1" "collectd"
+.TH COLLECTD-SNMP 5 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd\-snmp \- Documentation of collectd's \f(CW\*(C`snmp plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 21
 \&  LoadPlugin snmp
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/collectd-unixsock.5	2007-09-12 21:23:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/collectd-unixsock.5	2007-09-28 23:02:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2007-09-12" "4.1.1" "collectd"
+.TH COLLECTD-UNIXSOCK 5 "2007-09-28" "4.1.2" "collectd"
 .SH "NAME"
 collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/config.h.in	2007-09-12 21:22:58.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/config.h.in	2007-09-28 23:01:03.000000000 +0800
@@ -199,36 +199,39 @@
 /* Define to 1 if you have the rrd library (-lrrd). */
 #undef HAVE_LIBRRD
 
 /* Define to 1 if you have the sensors library (-lsensors). */
 #undef HAVE_LIBSENSORS
 
-/* Define to 1 if you have the Net-SNMP library (-lnetsnmp). */
-#undef HAVE_LIBSNMP
-
 /* Define to 1 if you have the 'xmms' library (-lxmms). */
 #undef HAVE_LIBXMMS
 
 /* Define to 1 if you have the <limits.h> header file. */
 #undef HAVE_LIMITS_H
 
 /* Define to 1 if you have the <linux/config.h> header file. */
 #undef HAVE_LINUX_CONFIG_H
 
+/* Define to 1 if you have the <linux/gen_stats.h> header file. */
+#undef HAVE_LINUX_GEN_STATS_H
+
 /* Define to 1 if you have the <linux/if.h> header file. */
 #undef HAVE_LINUX_IF_H
 
 /* Define to 1 if you have the <linux/libnetlink.h> header file. */
 #undef HAVE_LINUX_LIBNETLINK_H
 
 /* Define to 1 if you have the <linux/major.h> header file. */
 #undef HAVE_LINUX_MAJOR_H
 
 /* Define to 1 if you have the <linux/netdevice.h> header file. */
 #undef HAVE_LINUX_NETDEVICE_H
 
+/* Define to 1 if you have the <linux/pkt_sched.h> header file. */
+#undef HAVE_LINUX_PKT_SCHED_H
+
 /* Define to 1 if you have the <linux/un.h> header file. */
 #undef HAVE_LINUX_UN_H
 
 /* Define to 1 if you have the `listmntent' function. */
 #undef HAVE_LISTMNTENT
 
@@ -726,12 +729,18 @@
 /* Define to 1 if you have the <sys/vfs.h> header file. */
 #undef HAVE_SYS_VFS_H
 
 /* Define to 1 if you have <sys/wait.h> that is POSIX.1 compatible. */
 #undef HAVE_SYS_WAIT_H
 
+/* True if the enum-member TCA_STATS exists */
+#undef HAVE_TCA_STATS
+
+/* True if the enum-member TCA_STATS2 exists */
+#undef HAVE_TCA_STATS2
+
 /* Define to 1 if you have the <termios.h> header file. */
 #undef HAVE_TERMIOS_H
 
 /* Define to 1 if you have the `thread_info' function. */
 #undef HAVE_THREAD_INFO
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/liboconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/liboconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/liboconfig/Makefile.in	2007-09-12 20:59:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/liboconfig/Makefile.in	2007-09-28 22:58:12.000000000 +0800
@@ -207,12 +207,14 @@
 BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
 BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
+BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/liboping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/liboping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/liboping/Makefile.in	2007-09-12 20:59:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/liboping/Makefile.in	2007-09-28 22:58:12.000000000 +0800
@@ -203,12 +203,14 @@
 BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
 BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
+BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/Makefile.am	2007-09-12 20:57:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/Makefile.am	2007-09-28 22:55:34.000000000 +0800
@@ -463,17 +463,20 @@
 endif
 
 if BUILD_PLUGIN_SNMP
 pkglib_LTLIBRARIES += snmp.la
 snmp_la_SOURCES = snmp.c
 snmp_la_LDFLAGS = -module -avoid-version
+snmp_la_CFLAGS =
+snmp_la_LIBADD =
 if BUILD_WITH_LIBNETSNMP
-snmp_la_LDFLAGS += -lnetsnmp
+snmp_la_CFLAGS += $(BUILD_WITH_LIBSNMP_CFLAGS)
+snmp_la_LIBADD += $(BUILD_WITH_LIBSNMP_LIBS)
 endif
 if BUILD_WITH_LIBPTHREAD
-snmp_la_LDFLAGS += -lpthread
+snmp_la_LIBADD += -lpthread
 endif
 collectd_LDADD += "-dlopen" snmp.la
 collectd_DEPENDENCIES += snmp.la
 endif
 
 if BUILD_PLUGIN_SWAP
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/Makefile.in	2007-09-12 20:59:02.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/Makefile.in	2007-09-28 22:58:12.000000000 +0800
@@ -188,45 +188,46 @@
 @BUILD_PLUGIN_SENSORS_TRUE@am__append_147 = "-dlopen" sensors.la
 @BUILD_PLUGIN_SENSORS_TRUE@am__append_148 = sensors.la
 @BUILD_PLUGIN_SERIAL_TRUE@am__append_149 = serial.la
 @BUILD_PLUGIN_SERIAL_TRUE@am__append_150 = "-dlopen" serial.la
 @BUILD_PLUGIN_SERIAL_TRUE@am__append_151 = serial.la
 @BUILD_PLUGIN_SNMP_TRUE@am__append_152 = snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_153 = -lnetsnmp
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_154 = -lpthread
-@BUILD_PLUGIN_SNMP_TRUE@am__append_155 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_156 = snmp.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_157 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_158 = "-dlopen" swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_159 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_160 = -lkstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_161 = -ldevinfo
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_162 = -lkvm
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_163 = -ldevstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_164 = -lstatgrab
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_165 = syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_166 = "-dlopen" syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_167 = syslog.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_168 = tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_169 = "-dlopen" tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_170 = tape.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_171 = unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_172 = "-dlopen" unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_173 = unixsock.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_174 = users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_175 = "-dlopen" users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_176 = users.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_177 = vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_178 = "-dlopen" vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_179 = vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_180 = wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_181 = "-dlopen" wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_182 = wireless.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_183 = xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_184 = "-dlopen" xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_185 = xmms.la
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_153 = $(BUILD_WITH_LIBSNMP_CFLAGS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_154 = $(BUILD_WITH_LIBSNMP_LIBS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_155 = -lpthread
+@BUILD_PLUGIN_SNMP_TRUE@am__append_156 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_157 = snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_158 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_159 = "-dlopen" swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_160 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_161 = -lkstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_162 = -ldevinfo
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_163 = -lkvm
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_164 = -ldevstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_165 = -lstatgrab
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_166 = syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_167 = "-dlopen" syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_168 = syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_169 = tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_170 = "-dlopen" tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_171 = tape.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_172 = unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_173 = "-dlopen" unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_174 = unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_175 = users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_176 = "-dlopen" users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_177 = users.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_178 = vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_179 = "-dlopen" vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_180 = vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_181 = wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_182 = "-dlopen" wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_183 = wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_184 = xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_185 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_186 = xmms.la
 subdir = src
 DIST_COMMON = $(dist_man_MANS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/collectd.conf.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
@@ -427,15 +428,17 @@
 @BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
 serial_la_LIBADD =
 am__serial_la_SOURCES_DIST = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
 serial_la_OBJECTS = $(am_serial_la_OBJECTS)
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_rpath = -rpath $(pkglibdir)
-snmp_la_LIBADD =
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__DEPENDENCIES_4 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_DEPENDENCIES = $(am__DEPENDENCIES_4) \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__DEPENDENCIES_1)
 am__snmp_la_SOURCES_DIST = snmp.c
-@BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_OBJECTS = snmp.lo
+@BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_OBJECTS = snmp_la-snmp.lo
 snmp_la_OBJECTS = $(am_snmp_la_OBJECTS)
 @BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_rpath = -rpath $(pkglibdir)
 swap_la_LIBADD =
 am__swap_la_SOURCES_DIST = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@am_swap_la_OBJECTS = swap.lo
 swap_la_OBJECTS = $(am_swap_la_OBJECTS)
@@ -485,65 +488,65 @@
 	collectd-utils_avltree.$(OBJEXT) \
 	collectd-utils_mount.$(OBJEXT) collectd-utils_llist.$(OBJEXT) \
 	collectd-utils_ignorelist.$(OBJEXT) collectd-common.$(OBJEXT) \
 	collectd-plugin.$(OBJEXT) collectd-configfile.$(OBJEXT) \
 	collectd-types_list.$(OBJEXT)
 collectd_OBJECTS = $(am_collectd_OBJECTS)
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_4 =  \
+@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_5 =  \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	liboconfig/liboconfig.la
-@BUILD_PLUGIN_APACHE_TRUE@am__DEPENDENCIES_5 = "-dlopen" apache.la
-@BUILD_PLUGIN_APCUPS_TRUE@am__DEPENDENCIES_6 = "-dlopen" apcups.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__DEPENDENCIES_7 = "-dlopen" \
+@BUILD_PLUGIN_APACHE_TRUE@am__DEPENDENCIES_6 = "-dlopen" apache.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__DEPENDENCIES_7 = "-dlopen" apcups.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__DEPENDENCIES_8 = "-dlopen" \
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@	apple_sensors.la
-@BUILD_PLUGIN_BATTERY_TRUE@am__DEPENDENCIES_8 = "-dlopen" battery.la
-@BUILD_PLUGIN_CPU_TRUE@am__DEPENDENCIES_9 = "-dlopen" cpu.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__DEPENDENCIES_10 = "-dlopen" cpufreq.la
-@BUILD_PLUGIN_CSV_TRUE@am__DEPENDENCIES_11 = "-dlopen" csv.la
-@BUILD_PLUGIN_DF_TRUE@am__DEPENDENCIES_12 = "-dlopen" df.la
-@BUILD_PLUGIN_DISK_TRUE@am__DEPENDENCIES_13 = "-dlopen" disk.la
-@BUILD_PLUGIN_DNS_TRUE@am__DEPENDENCIES_14 = "-dlopen" dns.la
-@BUILD_PLUGIN_EMAIL_TRUE@am__DEPENDENCIES_15 = "-dlopen" email.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__DEPENDENCIES_16 = "-dlopen" entropy.la
-@BUILD_PLUGIN_EXEC_TRUE@am__DEPENDENCIES_17 = "-dlopen" exec.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__DEPENDENCIES_18 = "-dlopen" hddtemp.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__DEPENDENCIES_19 = "-dlopen" \
+@BUILD_PLUGIN_BATTERY_TRUE@am__DEPENDENCIES_9 = "-dlopen" battery.la
+@BUILD_PLUGIN_CPU_TRUE@am__DEPENDENCIES_10 = "-dlopen" cpu.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__DEPENDENCIES_11 = "-dlopen" cpufreq.la
+@BUILD_PLUGIN_CSV_TRUE@am__DEPENDENCIES_12 = "-dlopen" csv.la
+@BUILD_PLUGIN_DF_TRUE@am__DEPENDENCIES_13 = "-dlopen" df.la
+@BUILD_PLUGIN_DISK_TRUE@am__DEPENDENCIES_14 = "-dlopen" disk.la
+@BUILD_PLUGIN_DNS_TRUE@am__DEPENDENCIES_15 = "-dlopen" dns.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__DEPENDENCIES_16 = "-dlopen" email.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__DEPENDENCIES_17 = "-dlopen" entropy.la
+@BUILD_PLUGIN_EXEC_TRUE@am__DEPENDENCIES_18 = "-dlopen" exec.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__DEPENDENCIES_19 = "-dlopen" hddtemp.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__DEPENDENCIES_20 = "-dlopen" \
 @BUILD_PLUGIN_INTERFACE_TRUE@	interface.la
-@BUILD_PLUGIN_IPTABLES_TRUE@am__DEPENDENCIES_20 = "-dlopen" \
+@BUILD_PLUGIN_IPTABLES_TRUE@am__DEPENDENCIES_21 = "-dlopen" \
 @BUILD_PLUGIN_IPTABLES_TRUE@	iptables.la
-@BUILD_PLUGIN_IRQ_TRUE@am__DEPENDENCIES_21 = "-dlopen" irq.la
-@BUILD_PLUGIN_LOAD_TRUE@am__DEPENDENCIES_22 = "-dlopen" load.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__DEPENDENCIES_23 = "-dlopen" logfile.la
-@BUILD_PLUGIN_MBMON_TRUE@am__DEPENDENCIES_24 = "-dlopen" mbmon.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__DEPENDENCIES_25 = "-dlopen" memory.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__DEPENDENCIES_26 = "-dlopen" \
+@BUILD_PLUGIN_IRQ_TRUE@am__DEPENDENCIES_22 = "-dlopen" irq.la
+@BUILD_PLUGIN_LOAD_TRUE@am__DEPENDENCIES_23 = "-dlopen" load.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__DEPENDENCIES_24 = "-dlopen" logfile.la
+@BUILD_PLUGIN_MBMON_TRUE@am__DEPENDENCIES_25 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__DEPENDENCIES_26 = "-dlopen" memory.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__DEPENDENCIES_27 = "-dlopen" \
 @BUILD_PLUGIN_MULTIMETER_TRUE@	multimeter.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__DEPENDENCIES_27 = "-dlopen" mysql.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__DEPENDENCIES_28 = "-dlopen" netlink.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__DEPENDENCIES_29 = "-dlopen" network.la
-@BUILD_PLUGIN_NFS_TRUE@am__DEPENDENCIES_30 = "-dlopen" nfs.la
-@BUILD_PLUGIN_NTPD_TRUE@am__DEPENDENCIES_31 = "-dlopen" ntpd.la
-@BUILD_PLUGIN_NUT_TRUE@am__DEPENDENCIES_32 = "-dlopen" nut.la
-@BUILD_PLUGIN_PERL_TRUE@am__DEPENDENCIES_33 = "-dlopen" perl.la
-@BUILD_PLUGIN_PING_TRUE@am__DEPENDENCIES_34 = "-dlopen" ping.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__DEPENDENCIES_35 = "-dlopen" \
+@BUILD_PLUGIN_MYSQL_TRUE@am__DEPENDENCIES_28 = "-dlopen" mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__DEPENDENCIES_29 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__DEPENDENCIES_30 = "-dlopen" network.la
+@BUILD_PLUGIN_NFS_TRUE@am__DEPENDENCIES_31 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NTPD_TRUE@am__DEPENDENCIES_32 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__DEPENDENCIES_33 = "-dlopen" nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__DEPENDENCIES_34 = "-dlopen" perl.la
+@BUILD_PLUGIN_PING_TRUE@am__DEPENDENCIES_35 = "-dlopen" ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__DEPENDENCIES_36 = "-dlopen" \
 @BUILD_PLUGIN_PROCESSES_TRUE@	processes.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__DEPENDENCIES_36 = "-dlopen" rrdtool.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__DEPENDENCIES_37 = "-dlopen" sensors.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__DEPENDENCIES_38 = "-dlopen" serial.la
-@BUILD_PLUGIN_SNMP_TRUE@am__DEPENDENCIES_39 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SWAP_TRUE@am__DEPENDENCIES_40 = "-dlopen" swap.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__DEPENDENCIES_41 = "-dlopen" syslog.la
-@BUILD_PLUGIN_TAPE_TRUE@am__DEPENDENCIES_42 = "-dlopen" tape.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__DEPENDENCIES_43 = "-dlopen" \
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__DEPENDENCIES_37 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__DEPENDENCIES_38 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__DEPENDENCIES_39 = "-dlopen" serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__DEPENDENCIES_40 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__DEPENDENCIES_41 = "-dlopen" swap.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__DEPENDENCIES_42 = "-dlopen" syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__DEPENDENCIES_43 = "-dlopen" tape.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__DEPENDENCIES_44 = "-dlopen" \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock.la
-@BUILD_PLUGIN_USERS_TRUE@am__DEPENDENCIES_44 = "-dlopen" users.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__DEPENDENCIES_45 = "-dlopen" vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__DEPENDENCIES_46 = "-dlopen" \
+@BUILD_PLUGIN_USERS_TRUE@am__DEPENDENCIES_45 = "-dlopen" users.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__DEPENDENCIES_46 = "-dlopen" vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__DEPENDENCIES_47 = "-dlopen" \
 @BUILD_PLUGIN_WIRELESS_TRUE@	wireless.la
-@BUILD_PLUGIN_XMMS_TRUE@am__DEPENDENCIES_47 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__DEPENDENCIES_48 = "-dlopen" xmms.la
 am_collectd_nagios_OBJECTS = collectd-nagios.$(OBJEXT)
 collectd_nagios_OBJECTS = $(am_collectd_nagios_OBJECTS)
 collectd_nagios_LDADD = $(LDADD)
 DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
@@ -748,12 +751,14 @@
 BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
 BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
+BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
@@ -907,31 +912,31 @@
 	$(am__append_72) $(am__append_80) $(am__append_83) \
 	$(am__append_86) $(am__append_92) $(am__append_96) \
 	$(am__append_99) $(am__append_107) $(am__append_110) \
 	$(am__append_115) $(am__append_120) $(am__append_123) \
 	$(am__append_127) $(am__append_130) $(am__append_133) \
 	$(am__append_137) $(am__append_140) $(am__append_143) \
-	$(am__append_147) $(am__append_150) $(am__append_155) \
-	$(am__append_158) $(am__append_166) $(am__append_169) \
-	$(am__append_172) $(am__append_175) $(am__append_178) \
-	$(am__append_181) $(am__append_184)
+	$(am__append_147) $(am__append_150) $(am__append_156) \
+	$(am__append_159) $(am__append_167) $(am__append_170) \
+	$(am__append_173) $(am__append_176) $(am__append_179) \
+	$(am__append_182) $(am__append_185)
 collectd_DEPENDENCIES = $(am__append_14) $(am__append_21) \
 	$(am__append_25) $(am__append_28) $(am__append_32) \
 	$(am__append_37) $(am__append_40) $(am__append_43) \
 	$(am__append_46) $(am__append_52) $(am__append_55) \
 	$(am__append_59) $(am__append_62) $(am__append_66) \
 	$(am__append_70) $(am__append_73) $(am__append_81) \
 	$(am__append_84) $(am__append_87) $(am__append_93) \
 	$(am__append_97) $(am__append_100) $(am__append_108) \
 	$(am__append_113) $(am__append_116) $(am__append_121) \
 	$(am__append_124) $(am__append_128) $(am__append_131) \
 	$(am__append_134) $(am__append_138) $(am__append_141) \
 	$(am__append_144) $(am__append_148) $(am__append_151) \
-	$(am__append_156) $(am__append_159) $(am__append_167) \
-	$(am__append_170) $(am__append_173) $(am__append_176) \
-	$(am__append_179) $(am__append_182) $(am__append_185)
+	$(am__append_157) $(am__append_160) $(am__append_168) \
+	$(am__append_171) $(am__append_174) $(am__append_177) \
+	$(am__append_180) $(am__append_183) $(am__append_186)
 collectd_nagios_SOURCES = collectd-nagios.c
 collectd_nagios_LDFLAGS = $(am__append_16)
 pkglib_LTLIBRARIES = $(am__append_17) $(am__append_22) \
 	$(am__append_26) $(am__append_29) $(am__append_33) \
 	$(am__append_38) $(am__append_41) $(am__append_44) \
 	$(am__append_47) $(am__append_53) $(am__append_56) \
@@ -940,15 +945,15 @@
 	$(am__append_85) $(am__append_91) $(am__append_94) \
 	$(am__append_98) $(am__append_106) $(am__append_109) \
 	$(am__append_114) $(am__append_117) $(am__append_122) \
 	$(am__append_125) $(am__append_129) $(am__append_132) \
 	$(am__append_135) $(am__append_139) $(am__append_142) \
 	$(am__append_145) $(am__append_149) $(am__append_152) \
-	$(am__append_157) $(am__append_165) $(am__append_168) \
-	$(am__append_171) $(am__append_174) $(am__append_177) \
-	$(am__append_180) $(am__append_183)
+	$(am__append_158) $(am__append_166) $(am__append_169) \
+	$(am__append_172) $(am__append_175) $(am__append_178) \
+	$(am__append_181) $(am__append_184)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_SOURCES = apache.c
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(am__append_19)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_20)
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
@@ -1048,19 +1053,21 @@
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_SOURCES = sensors.c
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version \
 @BUILD_PLUGIN_SENSORS_TRUE@	$(am__append_146)
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_SOURCES = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_SOURCES = snmp.c
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_153) $(am__append_154)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_153)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_154) \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_155)
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_SOURCES = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_160) $(am__append_161) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_162) $(am__append_163) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_164)
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_161) $(am__append_162) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_163) $(am__append_164) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_165)
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_SOURCES = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
@@ -1357,13 +1364,13 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/perl_la-perl.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdtool.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp_la-snmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/syslog.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-unixsock.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users.Plo@am__quote@
@@ -1426,12 +1433,19 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -MT perl_la-perl.lo -MD -MP -MF "$(DEPDIR)/perl_la-perl.Tpo" -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/perl_la-perl.Tpo" "$(DEPDIR)/perl_la-perl.Plo"; else rm -f "$(DEPDIR)/perl_la-perl.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='perl.c' object='perl_la-perl.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c
 
+snmp_la-snmp.lo: snmp.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -MT snmp_la-snmp.lo -MD -MP -MF "$(DEPDIR)/snmp_la-snmp.Tpo" -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/snmp_la-snmp.Tpo" "$(DEPDIR)/snmp_la-snmp.Plo"; else rm -f "$(DEPDIR)/snmp_la-snmp.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='snmp.c' object='snmp_la-snmp.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
+
 unixsock_la-unixsock.lo: unixsock.c
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT unixsock_la-unixsock.lo -MD -MP -MF "$(DEPDIR)/unixsock_la-unixsock.Tpo" -c -o unixsock_la-unixsock.lo `test -f 'unixsock.c' || echo '$(srcdir)/'`unixsock.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/unixsock_la-unixsock.Tpo" "$(DEPDIR)/unixsock_la-unixsock.Plo"; else rm -f "$(DEPDIR)/unixsock_la-unixsock.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='unixsock.c' object='unixsock_la-unixsock.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o unixsock_la-unixsock.lo `test -f 'unixsock.c' || echo '$(srcdir)/'`unixsock.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/netlink.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/netlink.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/netlink.c	2007-09-12 20:57:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/netlink.c	2007-09-28 22:55:34.000000000 +0800
@@ -22,15 +22,21 @@
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 
 #include <asm/types.h>
 #include <sys/socket.h>
+
 #include <linux/netlink.h>
 #include <linux/rtnetlink.h>
-#include <linux/gen_stats.h>
+#if HAVE_LINUX_GEN_STATS_H
+# include <linux/gen_stats.h>
+#endif
+#if HAVE_LINUX_PKT_SCHED_H
+# include <linux/pkt_sched.h>
+#endif
 
 #if HAVE_LIBNETLINK_H
 # include <libnetlink.h>
 #elif HAVE_IPROUTE_LIBNETLINK_H
 # include <iproute/libnetlink.h>
 #elif HAVE_LINUX_LIBNETLINK_H
@@ -195,14 +201,14 @@
   if (type_instance != NULL)
     strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
   plugin_dispatch_values (type, &vl);
 } /* void submit_two */
 
-static int link_filter (const struct sockaddr_nl *sa, struct nlmsghdr *nmh,
-    void *args)
+static int link_filter (const struct sockaddr_nl *sa,
+    const struct nlmsghdr *nmh, void *args)
 {
   struct ifinfomsg *msg;
   int msg_len;
   struct rtattr *attrs[IFLA_MAX + 1];
   struct rtnl_link_stats *stats;
 
@@ -228,16 +234,12 @@
   if (parse_rtattr (attrs, IFLA_MAX, IFLA_RTA (msg), msg_len) != 0)
   {
     ERROR ("netlink plugin: link_filter: parse_rtattr failed.");
     return (-1);
   }
 
-  if (attrs[IFLA_STATS] == NULL)
-    return (-1);
-  stats = RTA_DATA (attrs[IFLA_STATS]);
-
   if (attrs[IFLA_IFNAME] == NULL)
   {
     ERROR ("netlink plugin: link_filter: attrs[IFLA_IFNAME] == NULL");
     return (-1);
   }
   dev = RTA_DATA (attrs[IFLA_IFNAME]);
@@ -264,12 +266,19 @@
       || (strcmp (iflist[msg->ifi_index], dev) != 0))
   {
     sfree (iflist[msg->ifi_index]);
     iflist[msg->ifi_index] = strdup (dev);
   }
 
+  if (attrs[IFLA_STATS] == NULL)
+  {
+    DEBUG ("netlink plugin: link_filter: No statistics for interface %s.", dev);
+    return (0);
+  }
+  stats = RTA_DATA (attrs[IFLA_STATS]);
+
   if (check_ignorelist (dev, "interface", NULL) == 0)
   {
     submit_two (dev, "if_octets", NULL, stats->rx_bytes, stats->tx_bytes);
     submit_two (dev, "if_packets", NULL, stats->rx_packets, stats->tx_packets);
     submit_two (dev, "if_errors", NULL, stats->rx_errors, stats->tx_errors);
   }
@@ -302,14 +311,14 @@
     DEBUG ("netlink plugin: Ignoring %s/if_detail.", dev);
   }
 
   return (0);
 } /* int link_filter */
 
-static int qos_filter (const struct sockaddr_nl *sa, struct nlmsghdr *nmh,
-    void *args)
+static int qos_filter (const struct sockaddr_nl *sa,
+    const struct nlmsghdr *nmh, void *args)
 {
   struct tcmsg *msg;
   int msg_len;
   struct rtattr *attrs[TCA_MAX + 1];
 
   int wanted_ifindex = *((int *) args);
@@ -396,12 +405,13 @@
   DEBUG ("netlink plugin: qos_filter: got %s for %s (%i).",
       tc_type, dev, msg->tcm_ifindex);
   
   if (check_ignorelist (dev, tc_type, tc_inst))
     return (0);
 
+#if HAVE_TCA_STATS2
   if (attrs[TCA_STATS2])
   {
     struct rtattr *attrs_stats[TCA_STATS_MAX + 1];
 
     memset (attrs_stats, '\0', sizeof (attrs_stats));
     parse_rtattr_nested (attrs_stats, TCA_STATS_MAX, attrs[TCA_STATS2]);
@@ -420,12 +430,41 @@
 	  MIN (RTA_PAYLOAD (attrs_stats[TCA_STATS_BASIC]), sizeof(bs)));
 
       submit_one (dev, "ipt_bytes", type_instance, bs.bytes);
       submit_one (dev, "ipt_packets", type_instance, bs.packets);
     }
   }
+#endif /* TCA_STATS2 */
+#if HAVE_TCA_STATS && HAVE_TCA_STATS2
+  else
+#endif
+#if HAVE_TCA_STATS
+  if (attrs[TCA_STATS] != NULL)
+  {
+    struct tc_stats ts;
+    char type_instance[DATA_MAX_NAME_LEN];
+
+    snprintf (type_instance, sizeof (type_instance), "%s-%s",
+	tc_type, tc_inst);
+    type_instance[sizeof (type_instance) - 1] = '\0';
+
+    memset(&ts, '\0', sizeof (ts));
+    memcpy(&ts, RTA_DATA (attrs[TCA_STATS]),
+	MIN (RTA_PAYLOAD (attrs[TCA_STATS]), sizeof (ts)));
+
+    submit_one (dev, "ipt_bytes", type_instance, ts.bytes);
+    submit_one (dev, "ipt_packets", type_instance, ts.packets);
+  }
+#endif /* TCA_STATS */
+#if HAVE_TCA_STATS || HAVE_TCA_STATS2
+  else
+#endif
+  {
+    DEBUG ("netlink plugin: qos_filter: Have neither TCA_STATS2 nor "
+	"TCA_STATS.");
+  }
 
   return (0);
 } /* int qos_filter */
 
 static int ir_config (const char *key, const char *value)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/perl.c	2007-09-03 00:06:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/perl.c	2007-09-28 19:38:23.000000000 +0800
@@ -330,13 +330,13 @@
 	if (base_name[0] == '\0')
 		status = snprintf (buf, buf_len, "%s", module);
 	else
 		status = snprintf (buf, buf_len, "%s::%s", base_name, module);
 	if ((status < 0) || (status >= buf_len))
 		return (NULL);
-	buf[buf_len] = '\0';
+	buf[buf_len - 1] = '\0';
 	return (buf);
 } /* char *get_module_name */
 
 /*
  * Add a new plugin with the given name.
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/snmp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/snmp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/snmp.c	2007-09-12 20:57:11.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/snmp.c	2007-09-28 22:55:34.000000000 +0800
@@ -606,14 +606,14 @@
   if (status != 0)
   {
     char *errstr = NULL;
 
     snmp_sess_error (host->sess_handle, NULL, NULL, &errstr);
 
-    ERROR ("snmp plugin: snmp_sess_close failed: %s",
-	(errstr == NULL) ? "Unknown problem" : errstr);
+    ERROR ("snmp plugin: host %s: snmp_sess_close failed: %s",
+	host->name, (errstr == NULL) ? "Unknown problem" : errstr);
     sfree (errstr);
   }
 
   host->sess_handle = NULL;
 } /* void csnmp_host_close_session */
 
@@ -636,14 +636,14 @@
   if (host->sess_handle == NULL)
   {
     char *errstr = NULL;
 
     snmp_error (&sess, NULL, NULL, &errstr);
 
-    ERROR ("snmp plugin: snmp_sess_open failed: %s",
-	(errstr == NULL) ? "Unknown problem" : errstr);
+    ERROR ("snmp plugin: host %s: snmp_sess_open failed: %s",
+	host->name, (errstr == NULL) ? "Unknown problem" : errstr);
     sfree (errstr);
   }
 } /* void csnmp_host_open_session */
 
 static value_t csnmp_value_list_to_value (struct variable_list *vl, int type)
 {
@@ -651,12 +651,15 @@
   uint64_t temp = 0;
   int defined = 1;
 
   if ((vl->type == ASN_INTEGER)
       || (vl->type == ASN_UINTEGER)
       || (vl->type == ASN_COUNTER)
+#ifdef ASN_TIMETICKS
+      || (vl->type == ASN_TIMETICKS)
+#endif
       || (vl->type == ASN_GAUGE))
   {
     temp = (uint32_t) *vl->val.integer;
     DEBUG ("snmp plugin: Parsed int32 value is %llu.", temp);
   }
   else if (vl->type == ASN_COUNTER64)
@@ -786,12 +789,18 @@
   csnmp_table_values_t **value_table;
   csnmp_table_values_t **value_table_ptr;
 
   DEBUG ("snmp plugin: csnmp_read_table (host = %s, data = %s)",
       host->name, data->name);
 
+  if (host->sess_handle == NULL)
+  {
+    DEBUG ("snmp plugin: csnmp_read_table: host->sess_handle == NULL");
+    return (-1);
+  }
+
   ds = plugin_get_ds (data->type);
   if (!ds)
   {
     ERROR ("snmp plugin: DataSet `%s' not defined.", data->type);
     return (-1);
   }
@@ -846,14 +855,14 @@
 
     if (status != STAT_SUCCESS)
     {
       char *errstr = NULL;
 
       snmp_sess_error (host->sess_handle, NULL, NULL, &errstr);
-      ERROR ("snmp plugin: snmp_sess_synch_response failed: %s",
-	  (errstr == NULL) ? "Unknown problem" : errstr);
+      ERROR ("snmp plugin: host %s: snmp_sess_synch_response failed: %s",
+	  host->name, (errstr == NULL) ? "Unknown problem" : errstr);
       csnmp_host_close_session (host);
 
       status = -1;
       break;
     }
     status = 0;
@@ -1022,12 +1031,18 @@
   int status;
   int i;
 
   DEBUG ("snmp plugin: csnmp_read_value (host = %s, data = %s)",
       host->name, data->name);
 
+  if (host->sess_handle == NULL)
+  {
+    DEBUG ("snmp plugin: csnmp_read_table: host->sess_handle == NULL");
+    return (-1);
+  }
+
   ds = plugin_get_ds (data->type);
   if (!ds)
   {
     ERROR ("snmp plugin: DataSet `%s' not defined.", data->type);
     return (-1);
   }
@@ -1073,14 +1088,14 @@
 
   if (status != STAT_SUCCESS)
   {
     char *errstr = NULL;
 
     snmp_sess_error (host->sess_handle, NULL, NULL, &errstr);
-    ERROR ("snmp plugin: snmp_sess_synch_response failed: %s",
-	(errstr == NULL) ? "Unknown problem" : errstr);
+    ERROR ("snmp plugin: host %s: snmp_sess_synch_response failed: %s",
+	host->name, (errstr == NULL) ? "Unknown problem" : errstr);
     csnmp_host_close_session (host);
     sfree (errstr);
 
     return (-1);
   }
 
@@ -1165,13 +1180,16 @@
 static int csnmp_init (void)
 {
   host_definition_t *host;
   int i;
 
   if (host_head == NULL)
+  {
+    NOTICE ("snmp plugin: No host has been defined.");
     return (-1);
+  }
 
   call_snmp_init_once ();
 
   threads_num = 0;
   for (host = host_head; host != NULL; host = host->next)
   {
@@ -1200,13 +1218,16 @@
     if (threads_num > 10)
       threads_num = 10;
   }
 
   threads = (pthread_t *) malloc (threads_num * sizeof (pthread_t));
   if (threads == NULL)
+  {
+    ERROR ("snmp plugin: malloc failed.");
     return (-1);
+  }
   memset (threads, '\0', threads_num * sizeof (pthread_t));
 
   for (i = 0; i < threads_num; i++)
       pthread_create (threads + i, NULL, csnmp_read_thread, (void *) 0);
 
   return (0);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/wireless.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/wireless.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.1/src/wireless.c	2007-09-12 20:57:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.2/src/wireless.c	2007-09-28 22:55:34.000000000 +0800
@@ -61,12 +61,21 @@
 	strncpy (vl.plugin_instance, plugin_instance,
 			sizeof (vl.plugin_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void wireless_submit */
 
+#define POWER_MIN -90.0
+#define POWER_MAX -50.0
+static double wireless_percent_to_power (double quality)
+{
+	assert ((quality >= 0.0) && (quality <= 100.0));
+
+	return ((quality * (POWER_MAX - POWER_MIN)) + POWER_MIN);
+} /* double wireless_percent_to_power */
+
 static int wireless_read (void)
 {
 #ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 
@@ -90,12 +99,14 @@
 		return (-1);
 	}
 
 	devices_found = 0;
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
+		char *endptr;
+
 		numfields = strsplit (buffer, fields, 8);
 
 		if (numfields < 5)
 			continue;
 
 		len = strlen (fields[0]) - 1;
@@ -103,25 +114,34 @@
 			continue;
 		if (fields[0][len] != ':')
 			continue;
 		fields[0][len] = '\0';
 
 		device  = fields[0];
-		quality = atof (fields[2]);
-		power   = atof (fields[3]);
-		noise   = atof (fields[4]);
-
-		/* Fill in invalid values when conversion failed.. */
-		if (quality == 0.0)
-			quality = -1.0; /* quality >= 0 */
-
-		if (power == 0.0)
-			power = 1.0; /* power <= 0 */
 
-		if (noise == 0.0)
-			noise = 1.0; /* noise <= 0 */
+		quality = strtod (fields[2], &endptr);
+		if (fields[2] == endptr)
+			quality = -1.0; /* invalid */
+
+		/* power [dBm] < 0.0 */
+		power = strtod (fields[3], &endptr);
+		if (fields[3] == endptr)
+			power = 1.0; /* invalid */
+		else if ((power >= 0.0) && (power <= 100.0))
+			power = wireless_percent_to_power (power);
+		else if (power > 100.0)
+			power = 1.0; /* invalid */
+
+		/* noise [dBm] < 0.0 */
+		noise = strtod (fields[3], &endptr);
+		if (fields[3] == endptr)
+			noise = 1.0; /* invalid */
+		else if ((noise >= 0.0) && (noise <= 100.0))
+			noise = wireless_percent_to_power (noise);
+		else if (noise > 100.0)
+			noise = 1.0; /* invalid */
 
 		wireless_submit (device, "signal_quality", quality);
 		wireless_submit (device, "signal_power", power);
 		wireless_submit (device, "signal_noise", noise);
 
 		devices_found++;
