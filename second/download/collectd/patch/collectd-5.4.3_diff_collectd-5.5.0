diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/AUTHORS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/AUTHORS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/AUTHORS	2016-07-26 15:47:12.941713753 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/AUTHORS	2015-05-20 20:05:42.668059928 +0800
@@ -2,13 +2,13 @@
 =========================
 
 Florian "octo" Forster <octo at verplant.org>
  - Initial author.
 
 Sebastian "tokkee" Harl <sh at tokkee.org>
- - Bugfixes and enhancments in many places all around the project.
+ - Bugfixes and enhancements in many places all around the project.
  - perl plugin.
  - users plugin.
  - vserver plugin.
  - Debian package.
 
 
@@ -31,12 +31,15 @@
  - Multiple servers in the apache plugin.
  - curl_xml plugin.
 
 Andreas Henriksson <andreas at fatal.se>
  - libmnl support in the netlink plugin.
 
+Andy Parkins <andyp at fussylogic.co.uk>
+ - battery plugin: sysfs code.
+
 Anthony Dewhurst <dewhurst at gmail.com>
  - zfs_arc plugin.
 
 Anthony Gialluca <tonyabg at charter.net>
  - apcups plugin.
 
@@ -44,18 +47,24 @@
  - memcached plugin.
 
 Aurélien Reynaud <collectd at wattapower.net>
  - LPAR plugin.
  - Various fixes for AIX, HP-UX and Solaris.
 
+Benjamin Gilbert <bgilbert at cs.cmu.edu>
+ - Improvements to the LVM plugin.
+
 Bert Vermeulen <bert at biot.com>
  - sigrok plugin
 
+Brett Hawn <bhawn at llnw.com>
+ - write_tsdb plugin for http://opentsdb.net/
+
 Bruno Prémont <bonbons at linux-vserver.org>
  - BIND plugin.
- - Many bugreports and -fixes in various plugins,
+ - Many bug reports and -fixes in various plugins,
    especially a nasty bug in the network plugin.
  - Wireshark dissector.
 
 Chad Malfait <malfaitc at yahoo.com>
  - LVM plugin.
 
@@ -69,12 +78,15 @@
 Cyril Feraudet <cyril at feraudet.com>
  - ethstat plugin.
 
 Dan Berrange <berrange at redhat.com>
  - uuid plugin.
 
+Dan Ryder <daryder at cisco.com>
+ - ceph plugin.
+
 David Bacher <drbacher at gmail.com>
  - serial plugin.
 
 Doug MacEachern <dougm at hyperic.com>
  - The `-T' option (config testing mode).
  - OpenVPN plugin.
@@ -91,27 +103,43 @@
 Fabian Linzberger <e at lefant.net>
  - Percentage aggregation for `collectd-nagios'.
 
 Fabien Wernli <cpan at faxm0dem.org>
  - Solaris improvements in the memory and interfaces plugin.
 
+Fabrice A. Marie <fabrice at kibinlabs.com>
+ - write_sensu plugin.
+
 Flavio Stanchina <flavio at stanchina.net>
  - mbmon plugin.
 
 Franck Lombardi
  - UNIX socket code for the memcached plugin.
 
 Jason Pepas <cell at ices.utexas.edu>
  - nfs plugin.
 
 J. Javier Maestro <jjmaestro at ieee.org>
  - Write-Graphite plugin: UDP support and LogSendErrors flag.
 
+Jeremy Katz <jeremy at katzbox.net>
+ - percentage reporting in memory and swap plugins.
+ - zookeeper plugin.
+
 Jérôme Renard <jerome.renard at gmail.com>
  - varnish plugin.
 
+Jiri Tyr <jiri.tyr at gmail.com>
+ - fhcount plugin.
+
+Kevin Bowling <kbowling at llnw.com>
+ - write_tsdb plugin for http://opentsdb.net/
+
+Kimo Rosenbaum <kimor79 at yahoo.com>
+ - openldap plugin.
+
 Kris Nielander <nielander at fox-it.com>
  - tail_csv plugin.
 
 Luboš Staněk <kolektor at atlas.cz>
  - sensors plugin improvements.
  - Time and effort to find a nasty bug in the ntpd-plugin.
@@ -135,21 +163,26 @@
  - Various AIX-related fixes and hacks.
 
 Marc Fournier <marc.fournier at camptocamp.com>
  - Various fixes to the varnish plugin.
  - RPM specfile update.
  - libmnl support in the netlink plugin.
+ - linux support in the zfs_arc plugin.
+ - openldap plugin.
 
 Marco Chiappero <marco at absence.it>
  - uptime plugin.
  - ip6tables support in the iptables plugin.
  - openvpn plugin (support for more status file formats)
 
 Michael Hanselmann <public at hansmi.ch>
  - md plugin.
 
+Michael Schenck <mschenck at digitalocean.com>
+ - IO time support to disk plugin.
+
 Michael Stapelberg <michael+git at stapelberg.de>
  - OpenBSD port of the tcpconns plugin.
  - cgroups plugin.
 
 Michał Mirosław <mirq-linux at rere.qmqm.pl>
  - thermal plugin.
@@ -192,18 +225,22 @@
 Phoenix Kayo <kayo.k11.4 at gmail.com>
  - pinba plugin.
 
 Pierre-Yves Ritschard <pyr at spootnik.org>
  - Write-Riemann plugin.
  - Write-Graphite plugin: Notification support.
+ - Write-Kafka plugin.
+ - Log-Logstash plugin.
+ - Normalization in the CPU plugin.
+ - Relative values in the Load plugin.
 
 Piotr Hosowicz <the55 at wp.pl>
  - SMF manifest for collectd.
 
 Richard W. M. Jones <rjones at redhat.com>
- - libvirt plugin.
+ - virt plugin.
  - uuid plugin.
 
 Roman Klesel <roman.klesel at noris.de>
  - Oracle schema and sample SQL statements to be used with the Oracle plugin.
 
 Rodolphe Quiédeville <rquiedeville at bearstech.com>
@@ -228,24 +265,36 @@
  - teamspeak2 plugin.
 
 Sven Trenkel <collectd at semidefinite.de>
  - netapp plugin.
  - python plugin.
 
+Tim Laszlo <tim.laszlo at gmail.com>
+ - drbd plugin.
+
 Thomas Meson <zllak at hycik.org>
  - Graphite support for the AMQP plugin.
 
 Tomasz Pala <gotar at pld-linux.org>
  - conntrack plugin.
 
 Tommie Gannert <d00-tga at d.kth.se>
  - PID-file patch.
 
+Vincent Bernat <vincent at bernat.im>
+ - smart plugin.
+
+Vincent Brillault <git at lerya.net>
+ - turbostat plugin, based on Len Brown <len.brown at intel.com> kernel tool
+
 Vincent Stehlé <vincent.stehle at free.fr>
  - hddtemp plugin.
 
+Wilfried Goesgens <dothebart at citadel.org>
+ - linux support in the zfs_arc plugin.
+
 Xin Li <delphij at freebsd.org>
  - FreeBSD port of the ZFS-ARC plugin.
 
 collectd is available at:
   <http://collectd.org/>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/Makefile.in	2016-07-26 15:47:21.177733909 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/Makefile.in	2015-05-27 15:51:48.309911739 +0800
@@ -116,23 +116,28 @@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 BUILD_WITH_LIBAQUAERO5_CFLAGS = @BUILD_WITH_LIBAQUAERO5_CFLAGS@
 BUILD_WITH_LIBAQUAERO5_LDFLAGS = @BUILD_WITH_LIBAQUAERO5_LDFLAGS@
-BUILD_WITH_LIBCREDIS_CPPFLAGS = @BUILD_WITH_LIBCREDIS_CPPFLAGS@
-BUILD_WITH_LIBCREDIS_LDFLAGS = @BUILD_WITH_LIBCREDIS_LDFLAGS@
+BUILD_WITH_LIBATASMART_CPPFLAGS = @BUILD_WITH_LIBATASMART_CPPFLAGS@
+BUILD_WITH_LIBATASMART_LDFLAGS = @BUILD_WITH_LIBATASMART_LDFLAGS@
+BUILD_WITH_LIBATASMART_LIBS = @BUILD_WITH_LIBATASMART_LIBS@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBDBI_CPPFLAGS = @BUILD_WITH_LIBDBI_CPPFLAGS@
 BUILD_WITH_LIBDBI_LDFLAGS = @BUILD_WITH_LIBDBI_LDFLAGS@
 BUILD_WITH_LIBDBI_LIBS = @BUILD_WITH_LIBDBI_LIBS@
 BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
 BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBHIREDIS_CPPFLAGS = @BUILD_WITH_LIBHIREDIS_CPPFLAGS@
+BUILD_WITH_LIBHIREDIS_LDFLAGS = @BUILD_WITH_LIBHIREDIS_LDFLAGS@
 BUILD_WITH_LIBIPTC_CPPFLAGS = @BUILD_WITH_LIBIPTC_CPPFLAGS@
 BUILD_WITH_LIBIPTC_LDFLAGS = @BUILD_WITH_LIBIPTC_LDFLAGS@
+BUILD_WITH_LIBLDAP_CPPFLAGS = @BUILD_WITH_LIBLDAP_CPPFLAGS@
+BUILD_WITH_LIBLDAP_LDFLAGS = @BUILD_WITH_LIBLDAP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_CPPFLAGS = @BUILD_WITH_LIBLVM2APP_CPPFLAGS@
 BUILD_WITH_LIBLVM2APP_LDFLAGS = @BUILD_WITH_LIBLVM2APP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_LIBS = @BUILD_WITH_LIBLVM2APP_LIBS@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS = @BUILD_WITH_LIBMEMCACHED_CPPFLAGS@
 BUILD_WITH_LIBMEMCACHED_LDFLAGS = @BUILD_WITH_LIBMEMCACHED_LDFLAGS@
 BUILD_WITH_LIBMEMCACHED_LIBS = @BUILD_WITH_LIBMEMCACHED_LIBS@
@@ -150,28 +155,32 @@
 BUILD_WITH_LIBOWCAPI_LIBS = @BUILD_WITH_LIBOWCAPI_LIBS@
 BUILD_WITH_LIBPQ_CPPFLAGS = @BUILD_WITH_LIBPQ_CPPFLAGS@
 BUILD_WITH_LIBPQ_LDFLAGS = @BUILD_WITH_LIBPQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS = @BUILD_WITH_LIBRABBITMQ_CPPFLAGS@
 BUILD_WITH_LIBRABBITMQ_LDFLAGS = @BUILD_WITH_LIBRABBITMQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_LIBS = @BUILD_WITH_LIBRABBITMQ_LIBS@
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS = @BUILD_WITH_LIBRDKAFKA_CPPFLAGS@
+BUILD_WITH_LIBRDKAFKA_LDFLAGS = @BUILD_WITH_LIBRDKAFKA_LDFLAGS@
+BUILD_WITH_LIBRDKAFKA_LIBS = @BUILD_WITH_LIBRDKAFKA_LIBS@
 BUILD_WITH_LIBROUTEROS_CPPFLAGS = @BUILD_WITH_LIBROUTEROS_CPPFLAGS@
 BUILD_WITH_LIBROUTEROS_LDFLAGS = @BUILD_WITH_LIBROUTEROS_LDFLAGS@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
-BUILD_WITH_LIBRRD_LIBS = @BUILD_WITH_LIBRRD_LIBS@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSIGROK_CFLAGS = @BUILD_WITH_LIBSIGROK_CFLAGS@
 BUILD_WITH_LIBSIGROK_LDFLAGS = @BUILD_WITH_LIBSIGROK_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSTATGRAB_CFLAGS = @BUILD_WITH_LIBSTATGRAB_CFLAGS@
 BUILD_WITH_LIBSTATGRAB_LDFLAGS = @BUILD_WITH_LIBSTATGRAB_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LIBS = @BUILD_WITH_LIBTOKYOTYRANT_LIBS@
+BUILD_WITH_LIBUDEV_CFLAGS = @BUILD_WITH_LIBUDEV_CFLAGS@
+BUILD_WITH_LIBUDEV_LDFLAGS = @BUILD_WITH_LIBUDEV_LDFLAGS@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBVARNISH_CFLAGS = @BUILD_WITH_LIBVARNISH_CFLAGS@
 BUILD_WITH_LIBVARNISH_LIBS = @BUILD_WITH_LIBVARNISH_LIBS@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
@@ -264,12 +273,13 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIPO = @LIPO@
 LN_S = @LN_S@
 LOAD_PLUGIN_CSV = @LOAD_PLUGIN_CSV@
 LOAD_PLUGIN_LOGFILE = @LOAD_PLUGIN_LOGFILE@
+LOAD_PLUGIN_LOG_LOGSTASH = @LOAD_PLUGIN_LOG_LOGSTASH@
 LOAD_PLUGIN_NETWORK = @LOAD_PLUGIN_NETWORK@
 LOAD_PLUGIN_RRDTOOL = @LOAD_PLUGIN_RRDTOOL@
 LOAD_PLUGIN_SYSLOG = @LOAD_PLUGIN_SYSLOG@
 LTDLDEPS = @LTDLDEPS@
 LTDLINCL = @LTDLINCL@
 LTDLOPEN = @LTDLOPEN@
@@ -300,14 +310,12 @@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LIBS = @PERL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
 PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
 PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 RANLIB = @RANLIB@
-RRD_CFLAGS = @RRD_CFLAGS@
-RRD_LIBS = @RRD_LIBS@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdConfigInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdConfigInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdConfigInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdConfigInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdConfigInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdConfigInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a config method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerConfig(String, CollectdConfigInterface)
  */
 public interface CollectdConfigInterface
 {
 	public int config (OConfigItem ci);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdFlushInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdFlushInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdFlushInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdFlushInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdFlushInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdFlushInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a flush method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerFlush
  */
 public interface CollectdFlushInterface
 {
 	public int flush (Number timeout, String identifier);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdInitInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdInitInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdInitInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdInitInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdInitInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdInitInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing an init method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerInit
  */
 public interface CollectdInitInterface
 {
 	public int init ();
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/Collectd.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/Collectd.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/Collectd.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/Collectd.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,37 +1,42 @@
-/*
- * collectd/java - org/collectd/api/Collectd.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/Collectd.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Java API to internal functions of collectd.
  *
  * All functions in this class are {@code static}. You don't need to create an
  * object of this class (in fact, you can't). Just call these functions
  * directly.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  */
 public class Collectd
 {
 
   /**
    * Constant for severity (log level) "error".
@@ -249,12 +254,19 @@
   /**
    * Java representation of collectd/src/plugin.h:plugin_log
    */
   native private static void log (int severity, String message);
 
   /**
+   * Yield contents of collectd/src/collectd.h:hostname_g
+   *
+   * @return The hostname as set in the collectd configuration.
+   */
+  native public static java.lang.String getHostname ();
+
+  /**
    * Prints an error message.
    */
   public static void logError (String message)
   {
     log (LOG_ERR, message);
   } /* void logError */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdLogInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdLogInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdLogInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdLogInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdLogInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdLogInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a log method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerLog
  */
 public interface CollectdLogInterface
 {
 	public void log (int severity, String message);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdMatchFactoryInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdMatchFactoryInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdMatchFactoryInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdMatchFactoryInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,36 +1,41 @@
-/*
- * collectd/java - org/collectd/api/CollectdMatchFactoryInterface.java
- * Copyright (C) 2009  Florian octo Forster
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
- *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdMatchFactoryInterface.java
+ * Copyright (C) 2009       Florian octo Forster
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a "match factory".
  *
  * Objects implementing this interface are used to create objects implementing
  * the CollectdMatchInterface interface.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see CollectdMatchInterface
  * @see Collectd#registerMatch
  */
 public interface CollectdMatchFactoryInterface
 {
 	/**
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdMatchInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdMatchInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdMatchInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdMatchInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,37 +1,42 @@
-/*
- * collectd/java - org/collectd/api/CollectdMatchInterface.java
- * Copyright (C) 2009  Florian octo Forster
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
- *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdMatchInterface.java
+ * Copyright (C) 2009       Florian octo Forster
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a match method.
  *
  * These objects are instantiated using objects which implement the
  * CollectdMatchFactoryInterface interface. They are not instantiated by the
  * daemon directly!
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see CollectdMatchFactoryInterface
  * @see Collectd#registerMatch
  */
 public interface CollectdMatchInterface
 {
 	/**
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdNotificationInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdNotificationInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdNotificationInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdNotificationInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdNotificationInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdNotificationInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a notification method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerNotification
  */
 public interface CollectdNotificationInterface
 {
 	public int notification (Notification n);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdReadInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdReadInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdReadInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdReadInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,36 +1,41 @@
-/*
- * collectd/java - org/collectd/api/CollectdReadInterface.java
- * Copyright (C) 2009  Florian octo Forster
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
- *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdReadInterface.java
+ * Copyright (C) 2009       Florian octo Forster
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a read method.
  *
  * Objects implementing this interface can be registered with the daemon. Their
  * read method is then called periodically to acquire and submit values.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerRead
  */
 public interface CollectdReadInterface
 {
 	/**
 	 * Callback method for read plugins.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdShutdownInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdShutdownInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdShutdownInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdShutdownInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdShutdownInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdShutdownInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a shutdown method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerShutdown
  */
 public interface CollectdShutdownInterface
 {
 	public int shutdown ();
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdTargetFactoryInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdTargetFactoryInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdTargetFactoryInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdTargetFactoryInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,36 +1,41 @@
-/*
- * collectd/java - org/collectd/api/CollectdTargetFactoryInterface.java
- * Copyright (C) 2009  Florian octo Forster
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
- *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdTargetFactoryInterface.java
+ * Copyright (C) 2009       Florian octo Forster
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a "target factory".
  *
  * Objects implementing this interface are used to create objects implementing
  * the CollectdTargetInterface interface.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see CollectdTargetInterface
  * @see Collectd#registerTarget
  */
 public interface CollectdTargetFactoryInterface
 {
 	/**
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdTargetInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdTargetInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdTargetInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdTargetInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,37 +1,42 @@
-/*
- * collectd/java - org/collectd/api/CollectdTargetInterface.java
- * Copyright (C) 2009  Florian octo Forster
- *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
- *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdTargetInterface.java
+ * Copyright (C) 2009       Florian octo Forster
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a target method.
  *
  * These objects are instantiated using objects which implement the
  * CollectdTargetFactoryInterface interface. They are not instantiated by the
  * daemon directly!
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see CollectdTargetFactoryInterface
  * @see Collectd#registerTarget
  */
 public interface CollectdTargetInterface
 {
 	/**
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdWriteInterface.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdWriteInterface.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/CollectdWriteInterface.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/CollectdWriteInterface.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/CollectdWriteInterface.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/CollectdWriteInterface.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Interface for objects implementing a write method.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  * @see Collectd#registerWrite
  */
 public interface CollectdWriteInterface
 {
 	public int write (ValueList vl);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/DataSet.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/DataSet.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/DataSet.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/DataSet.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,36 +1,41 @@
-/*
- * collectd/java - org/collectd/api/OConfigItem.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/DataSet.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 import java.util.List;
 import java.util.ArrayList;
 
 /**
  * Java representation of collectd/src/plugin.h:data_set_t structure.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  */
 public class DataSet
 {
     private String _type;
     private List<DataSource> _ds;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/OConfigItem.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/OConfigItem.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/OConfigItem.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/OConfigItem.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,36 +1,41 @@
-/*
- * collectd/java - org/collectd/api/OConfigItem.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/OConfigItem.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 import java.util.List;
 import java.util.ArrayList;
 
 /**
  * Java representation of collectd/src/liboconfig/oconfig.h:oconfig_item_t structure.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  */
 public class OConfigItem
 {
   private String _key = null;
   private List<OConfigValue> _values   = new ArrayList<OConfigValue> ();
   private List<OConfigItem>  _children = new ArrayList<OConfigItem> ();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/OConfigValue.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/OConfigValue.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/api/OConfigValue.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/api/OConfigValue.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,33 +1,38 @@
-/*
- * collectd/java - org/collectd/api/OConfigValue.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/api/OConfigValue.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.api;
 
 /**
  * Java representation of collectd/src/liboconfig/oconfig.h:oconfig_value_t structure.
  *
- * @author Florian Forster &lt;octo at verplant.org&gt;
+ * @author Florian Forster &lt;octo at collectd.org&gt;
  */
 public class OConfigValue
 {
   public static final int OCONFIG_TYPE_STRING  = 0;
   public static final int OCONFIG_TYPE_NUMBER  = 1;
   public static final int OCONFIG_TYPE_BOOLEAN = 2;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMXConfConnection.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMXConfConnection.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMXConfConnection.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMXConfConnection.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,22 +1,27 @@
-/*
- * collectd/java - org/collectd/java/GenericJMXConfConnection.java
+/**
+ * collectd - bindings/java/org/collectd/java/GenericJMXConfConnection.java
  * Copyright (C) 2009-2012  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.java;
@@ -81,21 +86,13 @@
   {
     if (this._host != null)
     {
       return (this._host);
     }
 
-    try
-    {
-      InetAddress localHost = InetAddress.getLocalHost();
-      return (localHost.getHostName ());
-    }
-    catch (UnknownHostException e)
-    {
-      return ("localhost");
-    }
+    return Collectd.getHostname();
   } /* }}} String getHost */
 
 private void connect () /* {{{ */
 {
   JMXServiceURL service_url;
   JMXConnector connector;
@@ -113,12 +110,13 @@
       this._username = new String ("monitorRole");
 
     credentials = new String[] { this._username, this._password };
 
     environment = new HashMap ();
     environment.put (JMXConnector.CREDENTIALS, credentials);
+    environment.put(JMXConnectorFactory.PROTOCOL_PROVIDER_CLASS_LOADER, this.getClass().getClassLoader());
   }
 
   try
   {
     service_url = new JMXServiceURL (this._service_url);
     connector = JMXConnectorFactory.connect (service_url, environment);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMXConfMBean.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMXConfMBean.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMXConfMBean.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMXConfMBean.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,25 +1,30 @@
-/*
- * collectd/java - org/collectd/java/GenericJMXConfMBean.java
+/**
+ * collectd - bindings/java/org/collectd/java/GenericJMXConfMBean.java
  * Copyright (C) 2009,2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.java;
 
 import java.util.Iterator;
 import java.util.List;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMXConfValue.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMXConfValue.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMXConfValue.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMXConfValue.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,25 +1,30 @@
-/*
- * collectd/java - org/collectd/java/GenericJMXConfValue.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/java/GenericJMXConfValue.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.java;
 
 import java.util.Arrays;
 import java.util.List;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMX.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMX.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/GenericJMX.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/GenericJMX.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,25 +1,30 @@
-/*
- * collectd/java - org/collectd/java/GenericJMX.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/java/GenericJMX.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.java;
 
 import java.util.List;
 import java.util.ArrayList;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/JMXMemory.java /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/JMXMemory.java
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/java/org/collectd/java/JMXMemory.java	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/java/org/collectd/java/JMXMemory.java	2015-03-10 22:14:45.809113713 +0800
@@ -1,25 +1,30 @@
-/*
- * collectd/java - org/collectd/java/JMXMemory.java
- * Copyright (C) 2009  Florian octo Forster
+/**
+ * collectd - bindings/java/org/collectd/java/JMXMemory.java
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 package org.collectd.java;
 
 import java.util.List;
 import java.util.Date;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/Makefile.in	2016-07-26 15:47:21.133733802 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/Makefile.in	2015-05-27 15:51:48.245910702 +0800
@@ -177,23 +177,28 @@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 BUILD_WITH_LIBAQUAERO5_CFLAGS = @BUILD_WITH_LIBAQUAERO5_CFLAGS@
 BUILD_WITH_LIBAQUAERO5_LDFLAGS = @BUILD_WITH_LIBAQUAERO5_LDFLAGS@
-BUILD_WITH_LIBCREDIS_CPPFLAGS = @BUILD_WITH_LIBCREDIS_CPPFLAGS@
-BUILD_WITH_LIBCREDIS_LDFLAGS = @BUILD_WITH_LIBCREDIS_LDFLAGS@
+BUILD_WITH_LIBATASMART_CPPFLAGS = @BUILD_WITH_LIBATASMART_CPPFLAGS@
+BUILD_WITH_LIBATASMART_LDFLAGS = @BUILD_WITH_LIBATASMART_LDFLAGS@
+BUILD_WITH_LIBATASMART_LIBS = @BUILD_WITH_LIBATASMART_LIBS@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBDBI_CPPFLAGS = @BUILD_WITH_LIBDBI_CPPFLAGS@
 BUILD_WITH_LIBDBI_LDFLAGS = @BUILD_WITH_LIBDBI_LDFLAGS@
 BUILD_WITH_LIBDBI_LIBS = @BUILD_WITH_LIBDBI_LIBS@
 BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
 BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBHIREDIS_CPPFLAGS = @BUILD_WITH_LIBHIREDIS_CPPFLAGS@
+BUILD_WITH_LIBHIREDIS_LDFLAGS = @BUILD_WITH_LIBHIREDIS_LDFLAGS@
 BUILD_WITH_LIBIPTC_CPPFLAGS = @BUILD_WITH_LIBIPTC_CPPFLAGS@
 BUILD_WITH_LIBIPTC_LDFLAGS = @BUILD_WITH_LIBIPTC_LDFLAGS@
+BUILD_WITH_LIBLDAP_CPPFLAGS = @BUILD_WITH_LIBLDAP_CPPFLAGS@
+BUILD_WITH_LIBLDAP_LDFLAGS = @BUILD_WITH_LIBLDAP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_CPPFLAGS = @BUILD_WITH_LIBLVM2APP_CPPFLAGS@
 BUILD_WITH_LIBLVM2APP_LDFLAGS = @BUILD_WITH_LIBLVM2APP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_LIBS = @BUILD_WITH_LIBLVM2APP_LIBS@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS = @BUILD_WITH_LIBMEMCACHED_CPPFLAGS@
 BUILD_WITH_LIBMEMCACHED_LDFLAGS = @BUILD_WITH_LIBMEMCACHED_LDFLAGS@
 BUILD_WITH_LIBMEMCACHED_LIBS = @BUILD_WITH_LIBMEMCACHED_LIBS@
@@ -211,28 +216,32 @@
 BUILD_WITH_LIBOWCAPI_LIBS = @BUILD_WITH_LIBOWCAPI_LIBS@
 BUILD_WITH_LIBPQ_CPPFLAGS = @BUILD_WITH_LIBPQ_CPPFLAGS@
 BUILD_WITH_LIBPQ_LDFLAGS = @BUILD_WITH_LIBPQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS = @BUILD_WITH_LIBRABBITMQ_CPPFLAGS@
 BUILD_WITH_LIBRABBITMQ_LDFLAGS = @BUILD_WITH_LIBRABBITMQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_LIBS = @BUILD_WITH_LIBRABBITMQ_LIBS@
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS = @BUILD_WITH_LIBRDKAFKA_CPPFLAGS@
+BUILD_WITH_LIBRDKAFKA_LDFLAGS = @BUILD_WITH_LIBRDKAFKA_LDFLAGS@
+BUILD_WITH_LIBRDKAFKA_LIBS = @BUILD_WITH_LIBRDKAFKA_LIBS@
 BUILD_WITH_LIBROUTEROS_CPPFLAGS = @BUILD_WITH_LIBROUTEROS_CPPFLAGS@
 BUILD_WITH_LIBROUTEROS_LDFLAGS = @BUILD_WITH_LIBROUTEROS_LDFLAGS@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
-BUILD_WITH_LIBRRD_LIBS = @BUILD_WITH_LIBRRD_LIBS@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSIGROK_CFLAGS = @BUILD_WITH_LIBSIGROK_CFLAGS@
 BUILD_WITH_LIBSIGROK_LDFLAGS = @BUILD_WITH_LIBSIGROK_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSTATGRAB_CFLAGS = @BUILD_WITH_LIBSTATGRAB_CFLAGS@
 BUILD_WITH_LIBSTATGRAB_LDFLAGS = @BUILD_WITH_LIBSTATGRAB_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LIBS = @BUILD_WITH_LIBTOKYOTYRANT_LIBS@
+BUILD_WITH_LIBUDEV_CFLAGS = @BUILD_WITH_LIBUDEV_CFLAGS@
+BUILD_WITH_LIBUDEV_LDFLAGS = @BUILD_WITH_LIBUDEV_LDFLAGS@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBVARNISH_CFLAGS = @BUILD_WITH_LIBVARNISH_CFLAGS@
 BUILD_WITH_LIBVARNISH_LIBS = @BUILD_WITH_LIBVARNISH_LIBS@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
@@ -325,12 +334,13 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIPO = @LIPO@
 LN_S = @LN_S@
 LOAD_PLUGIN_CSV = @LOAD_PLUGIN_CSV@
 LOAD_PLUGIN_LOGFILE = @LOAD_PLUGIN_LOGFILE@
+LOAD_PLUGIN_LOG_LOGSTASH = @LOAD_PLUGIN_LOG_LOGSTASH@
 LOAD_PLUGIN_NETWORK = @LOAD_PLUGIN_NETWORK@
 LOAD_PLUGIN_RRDTOOL = @LOAD_PLUGIN_RRDTOOL@
 LOAD_PLUGIN_SYSLOG = @LOAD_PLUGIN_SYSLOG@
 LTDLDEPS = @LTDLDEPS@
 LTDLINCL = @LTDLINCL@
 LTDLOPEN = @LTDLOPEN@
@@ -361,14 +371,12 @@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LIBS = @PERL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
 PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
 PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 RANLIB = @RANLIB@
-RRD_CFLAGS = @RRD_CFLAGS@
-RRD_LIBS = @RRD_LIBS@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/perl/lib/Collectd/Plugins/OpenVZ.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/perl/lib/Collectd/Plugins/OpenVZ.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/perl/lib/Collectd/Plugins/OpenVZ.pm	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/perl/lib/Collectd/Plugins/OpenVZ.pm	2015-03-10 22:14:45.813113801 +0800
@@ -24,167 +24,224 @@
 
 use strict;
 use warnings;
 
 use Collectd qw( :all );
 
-my @cpu_instances = ('user', 'nice', 'system', 'idle', 'wait', 'interrupt', 'softirq', 'steal');
-my @if_instances = ('if_octets', 'if_packets', 'if_errors');
 my $vzctl = '/usr/sbin/vzctl';
 my $vzlist = '/usr/sbin/vzlist';
 
-my $last_stat = {};
+# Since OpenVZ is container based, all guests see all the host's CPUs,
+# and would report the same data. So we disable CPU by default.
+my $enable_interface = 1;
+my $enable_cpu       = 0;
+my $enable_df        = 1;
+my $enable_load      = 1;
+my $enable_processes = 1;
+my $enable_users     = 1;
+
+# We probably don't care about loopback transfer
+my @ignored_interfaces = ( "lo" );
+
+sub interface_read {
+    my ($veid, $name) = @_;
+    my @rx_fields = qw(if_octets if_packets if_errors drop fifo frame compressed multicast);
+    my @tx_fields = qw(if_octets if_packets if_errors drop fifo frame compressed);
+    my %v = _build_report_hash($name);
+
+    my @lines = `$vzctl exec $veid cat /proc/net/dev`;
+
+    for my $line (@lines) {
+        # skip explanatory text
+        next if $line !~ /:/;
+
+        $line =~ s/^\s+|\s+$//g;
+
+        my ($iface, %rx, %tx);
+
+        # read /proc/net/dev fields
+        ($iface, @rx{@rx_fields}, @tx{@tx_fields}) = split /[: ]+/, $line;
+
+        # Skip this interface if it is in the ignored list
+        next if grep { $iface eq $_ } @ignored_interfaces;
+
+        for my $instance (qw(if_octets if_packets if_errors)) {
+            plugin_dispatch_values({
+                'plugin'          => 'interface',
+                'plugin_instance' => $iface,
+                'type'            => $instance,
+                'values'          => [ $rx{$instance}, $tx{$instance} ],
+                %v,
+            });
+        }
+    }
+}
 
-sub openvz_read
-{
-    my %v = (time => time(), interval => plugin_get_interval());
-    my (@veids, $veid, $name, $key, $val, $i, @lines, @parts, @counters);
+sub cpu_read {
+    my $veid = shift;
+    my $name = shift;
+    my ($key, $val, $i, @lines, @counters);
+    my @cpu_instances = ('user', 'nice', 'system', 'idle', 'wait', 'interrupt', 'softirq', 'steal');
+    my $last_stat = {};
+    my %v = _build_report_hash($name);
+
+    $v{'plugin'} = 'cpu';
+    $v{'type'} = 'cpu';
+
+    $i = 0;
+    @lines = split(/\n/, `$vzctl exec $veid cat /proc/stat`);
+    foreach (@lines) {
+        next if (!/^cpu[0-9]/);
+
+        @counters = split(/ +/);
+        shift(@counters);
+
+        # Remove once OpenVZ bug 1376 is resolved
+        if (48485 == $counters[3]) {
+            $counters[3] = $last_stat->{"$veid-$i-idle"};
+            $counters[4] = $last_stat->{"$veid-$i-wait"};
+        }
+        else {
+            $last_stat->{"$veid-$i-idle"} = $counters[3];
+            $last_stat->{"$veid-$i-wait"} = $counters[4];
+        }
 
-    @veids = map { s/ //g; $_; } split(/\n/, `$vzlist -Ho veid`);
+        $v{'plugin_instance'} = $i++;
+        for ($key = 0; $key <= $#counters; ++$key) {
+            $v{'type_instance'} = $cpu_instances[$key];
+            $v{'values'} = [ $counters[$key] ];
+            plugin_dispatch_values(\%v);
+    }
+}
+}
 
-    foreach $veid (@veids)
-    {
-        ($name = `$vzlist -Ho name $veid`) =~ s/^\s*(.*?)\s*$/$1/;
-        $name = $veid if ($name =~ /^-$/);
+sub df_read {
+    my $veid = shift;
+    my $name = shift;
+    my ($key, $val, @lines, @parts);
+    my %v = _build_report_hash($name);
+
+    $v{'plugin'} = 'df';
+    delete $v{'plugin_instance'};
+    $v{'type'} = 'df';
+
+    $val = join(' ', map { (split)[1] } split(/\n/, `$vzctl exec $veid cat /proc/mounts`));
+    @lines = split(/\n/, `$vzctl exec $veid stat -tf $val`);
+    foreach (@lines) {
+        @parts = split(/ /);
+        next if (0 == $parts[7]);
+
+        $val = substr($parts[0], 1);
+        $val = 'root' if ($val =~ /^$/);
+        $val =~ s#/#-#g;
 
-        $v{'host'} = $name;
+        $v{'type_instance'} = $val;
+        $v{'values'} = [ $parts[5] * ($parts[6] - $parts[7]), $parts[5] * $parts[7] ];
+        plugin_dispatch_values(\%v);
+}
+}
 
-        #####################################################################
-        # interface
+sub load_read {
+    my $veid = shift;
+    my $name = shift;
+    my ($key, $val, @lines, @parts);
+    my %v = _build_report_hash($name);
+
+    $v{'plugin'} = 'load';
+    delete $v{'plugin_instance'};
+    $v{'type'} = 'load';
+    delete $v{'type_instance'};
+
+    @parts = split(/ +/, `$vzctl exec $veid cat /proc/loadavg`);
+    $v{'values'} = [ $parts[0], $parts[1], $parts[2] ];
+    plugin_dispatch_values(\%v);
+}
 
-        $v{'plugin'} = 'interface';
-        delete $v{'plugin_instance'};
+sub processes_read {
+    my $veid = shift;
+    my $name = shift;
+    my ($key, $val, @lines);
+    my %v = _build_report_hash($name);
+
+    my $ps_states = { 'paging' => 0, 'blocked' => 0, 'zombies' => 0, 'stopped' => 0,
+        'running' => 0, 'sleeping' => 0 };
+    my $state_map = { 'R' => 'running', 'S' => 'sleeping', 'D' => 'blocked',
+        'Z' => 'zombies', 'T' => 'stopped', 'W' => 'paging' };
+
+    $v{'plugin'} = 'processes';
+    delete $v{'plugin_instance'};
+    $v{'type'} = 'ps_state';
+
+    @lines = map { (split)[2] } split(/\n/, `$vzctl exec $veid cat '/proc/[0-9]*/stat'`);
+    foreach $key (@lines) {
+        ++$ps_states->{$state_map->{$key}};
+    }
 
-        @lines = split(/\n/, `$vzctl exec $veid cat /proc/net/dev`);
-        foreach (@lines)
-        {
-            next if (!/:/);                
-
-            @parts = split(/:/);
-            ($key = $parts[0]) =~ s/^\s*(.*?)\s*$/$1/;
-            ($val = $parts[1]) =~ s/^\s*(.*?)\s*$/$1/;
-            @counters = split(/ +/, $val);
-
-            $v{'type_instance'} = $key;
-            for ($key = 0; $key <= $#if_instances; ++$key)
-            {
-                $v{'type'} = $if_instances[$key];
-                $v{'values'} = [ $counters[$key], $counters[$key + 8] ];
-                plugin_dispatch_values(\%v);
-            }
-        }
-
-        #####################################################################
-        # cpu
-
-        $v{'plugin'} = 'cpu';
-        $v{'type'} = 'cpu';
-
-        $i = 0;
-        @lines = split(/\n/, `$vzctl exec $veid cat /proc/stat`);
-        foreach (@lines)
-        {
-            next if (!/^cpu[0-9]/);
-
-            @counters = split(/ +/);
-            shift(@counters);
-
-            # Remove once OpenVZ bug 1376 is resolved
-            if (48485 == $counters[3])
-            {
-                $counters[3] = $last_stat->{"$veid-$i-idle"};
-                $counters[4] = $last_stat->{"$veid-$i-wait"};
-            }
-            else
-            {
-                $last_stat->{"$veid-$i-idle"} = $counters[3];
-                $last_stat->{"$veid-$i-wait"} = $counters[4];
-            }
-
-            $v{'plugin_instance'} = $i++;
-            for ($key = 0; $key <= $#counters; ++$key)
-            {
-                $v{'type_instance'} = $cpu_instances[$key];
-                $v{'values'} = [ $counters[$key] ];
-                plugin_dispatch_values(\%v);
-            }
-        }
-
-        #####################################################################
-        # df
-
-        $v{'plugin'} = 'df';
-        delete $v{'plugin_instance'};
-        $v{'type'} = 'df';
-
-        $val = join(' ', map { (split)[1] } split(/\n/, `$vzctl exec $veid cat /proc/mounts`));
-        @lines = split(/\n/, `$vzctl exec $veid stat -tf $val`);
-        foreach (@lines)
-        {
-            @parts = split(/ /);
-            next if (0 == $parts[7]);
-
-            $val = substr($parts[0], 1);
-            $val = 'root' if ($val =~ /^$/);
-            $val =~ s#/#-#g;
+    foreach $key (keys %{$ps_states}) {
+        $v{'type_instance'} = $key;
+        $v{'values'} = [ $ps_states->{$key} ];
+        plugin_dispatch_values(\%v);
+}
+}
 
-            $v{'type_instance'} = $val;
-            $v{'values'} = [ $parts[5] * ($parts[6] - $parts[7]), $parts[5] * $parts[7] ];
-            plugin_dispatch_values(\%v);
-        }
+sub users_read {
+    my $veid = shift;
+    my $name = shift;
+    my ($key, $val, @lines);
+    my %v = _build_report_hash($name);
+
+    $v{'plugin'} = 'users';
+    delete $v{'plugin_instance'};
+    $v{'type'} = 'users';
+    delete $v{'type_instance'};
+
+    @lines = split(/\n/, `$vzctl exec $veid w -h`);
+    $v{'values'} = [ scalar(@lines) ];
+    plugin_dispatch_values(\%v);
+}
 
-        #####################################################################
-        # load
+sub _build_report_hash {
+    my $name = shift;
+    return (time => time(), interval => plugin_get_interval(), host => $name);
+}
 
-        $v{'plugin'} = 'load';
-        delete $v{'plugin_instance'};
-        $v{'type'} = 'load';
-        delete $v{'type_instance'};
+sub openvz_read {
+    my (@veids, $veid, $name);
 
-        @parts = split(/ +/, `$vzctl exec $veid cat /proc/loadavg`);
-        $v{'values'} = [ $parts[0], $parts[1], $parts[2] ];
-        plugin_dispatch_values(\%v);
+    @veids = map { s/ //g; $_; } split(/\n/, `$vzlist -Ho veid`);
 
-        #####################################################################
-        # processes
+    foreach $veid (@veids) {
+        ($name = `$vzlist -Ho name $veid`) =~ s/^\s*(.*?)\s*$/$1/;
+        ($name = `$vzlist -Ho hostname $veid`) =~ s/^\s*(.*?)\s*$/$1/ if($name =~ /^-$/);
+        $name = $veid if ($name =~ /^-$/);
 
-        my $ps_states = { 'paging' => 0, 'blocked' => 0, 'zombies' => 0, 'stopped' => 0,
-            'running' => 0, 'sleeping' => 0 };
-        my $state_map = { 'R' => 'running', 'S' => 'sleeping', 'D' => 'blocked',
-            'Z' => 'zombies', 'T' => 'stopped', 'W' => 'paging' };
-
-        $v{'plugin'} = 'processes';
-        delete $v{'plugin_instance'};
-        $v{'type'} = 'ps_state';
-
-        @lines = map { (split)[2] } split(/\n/, `$vzctl exec $veid cat '/proc/[0-9]*/stat'`);
-        foreach $key (@lines)
-        {
-            ++$ps_states->{$state_map->{$key}};
-        }
-
-        foreach $key (keys %{$ps_states})
-        {
-            $v{'type_instance'} = $key;
-            $v{'values'} = [ $ps_states->{$key} ];
-            plugin_dispatch_values(\%v);
+        if($enable_interface) {
+            interface_read($veid, $name);
         }
 
-        #####################################################################
-        # users
+        if($enable_cpu) {
+            cpu_read($veid, $name);
+        }
 
-        $v{'plugin'} = 'users';
-        delete $v{'plugin_instance'};
-        $v{'type'} = 'users';
-        delete $v{'type_instance'};
+        if($enable_df) {
+            df_read($veid, $name);
+        }
 
-        @lines = split(/\n/, `$vzctl exec $veid w -h`);
-        $v{'values'} = [ scalar(@lines) ];
-        plugin_dispatch_values(\%v);
-    }
+        if($enable_load) {
+            load_read($veid, $name);
+        }
 
-    return 1;
+        if($enable_processes) {
+            processes_read($veid, $name);
+        }
+
+        if($enable_users) {
+            users_read($veid, $name);
+        }
+
+        return 1;
+    }
 }
 
 plugin_register(TYPE_READ, 'OpenVZ', 'openvz_read');
 
 return 1;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/perl/lib/Collectd/Unixsock.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/perl/lib/Collectd/Unixsock.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/perl/lib/Collectd/Unixsock.pm	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/perl/lib/Collectd/Unixsock.pm	2015-03-10 22:14:45.813113801 +0800
@@ -1,37 +1,42 @@
 #
-# collectd - Collectd::Unixsock
+# collectd - bindings/buildperl/Collectd/Unixsock.pm
 # Copyright (C) 2007,2008  Florian octo Forster
 #
-# This program is free software; you can redistribute it and/or modify it
-# under the terms of the GNU General Public License as published by the
-# Free Software Foundation; only version 2 of the License is applicable.
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
 #
-# This program is distributed in the hope that it will be useful, but
-# WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
-# General Public License for more details.
+# The above copyright notice and this permission notice shall be included in
+# all copies or substantial portions of the Software.
 #
-# You should have received a copy of the GNU General Public License along
-# with this program; if not, write to the Free Software Foundation, Inc.,
-# 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+# DEALINGS IN THE SOFTWARE.
 #
-# Author:
-#   Florian octo Forster <octo at verplant.org>
+# Authors:
+#   Florian Forster <octo at collectd.org>
 #
 
 package Collectd::Unixsock;
 
 =head1 NAME
 
 Collectd::Unixsock - Abstraction layer for accessing the functionality by
 collectd's unixsock plugin.
 
 =head1 SYNOPSIS
 
-  use Collectd::Unixsock ();
+  use Collectd::Unixsock;
 
   my $sock = Collectd::Unixsock->new ($path);
 
   my $value = $sock->getval (%identifier);
   $sock->putval (%identifier,
                  time => time (),
@@ -48,29 +53,21 @@
 
 =cut
 
 use strict;
 use warnings;
 
-#use constant { NOTIF_FAILURE => 1, NOTIF_WARNING => 2, NOTIF_OKAY => 4 };
-
-use Carp (qw(cluck confess));
+use Carp qw(cluck confess carp croak);
 use IO::Socket::UNIX;
-use Regexp::Common (qw(number));
+use Scalar::Util qw( looks_like_number );
 
 our $Debug = 0;
 
-return (1);
-
 sub _debug
 {
-	if (!$Debug)
-	{
-		return;
-	}
-	print @_;
+	print @_ if $Debug;
 }
 
 sub _create_socket
 {
 	my $path = shift;
 	my $sock = IO::Socket::UNIX->new (Type => SOCK_STREAM, Peer => $path);
@@ -81,230 +78,203 @@
 	}
 	return ($sock);
 } # _create_socket
 
 =head1 VALUE IDENTIFIERS
 
-The values in the collectd are identified using an five-tuple (host, plugin,
-plugin-instance, type, type-instance) where only plugin-instance and
-type-instance may be NULL (or undefined). Many functions expect an
-I<%identifier> hash that has at least the members B<host>, B<plugin>, and
-B<type>, possibly completed by B<plugin_instance> and B<type_instance>.
+The values in the collectd are identified using a five-tuple (host, plugin,
+plugin-instance, type, type-instance) where only plugin instance and type
+instance may be undef. Many functions expect an I<%identifier> hash that has at
+least the members B<host>, B<plugin>, and B<type>, possibly completed by
+B<plugin_instance> and B<type_instance>.
 
 Usually you can pass this hash as follows:
 
-  $obj->method (host => $host, plugin => $plugin, type => $type, %other_args);
+  $self->method (host => $host, plugin => $plugin, type => $type, %other_args);
 
 =cut
 
 sub _create_identifier
 {
 	my $args = shift;
-	my $host;
-	my $plugin;
-	my $type;
+	my ($host, $plugin, $type);
 
-	if (!$args->{'host'} || !$args->{'plugin'} || !$args->{'type'})
+	if (!$args->{host} || !$args->{plugin} || !$args->{type})
 	{
 		cluck ("Need `host', `plugin' and `type'");
 		return;
 	}
 
-	$host = $args->{'host'};
-	$plugin = $args->{'plugin'};
-	$plugin .= '-' . $args->{'plugin_instance'} if (defined ($args->{'plugin_instance'}));
-	$type = $args->{'type'};
-	$type .= '-' . $args->{'type_instance'} if (defined ($args->{'type_instance'}));
+	$host = $args->{host};
+	$plugin = $args->{plugin};
+	$plugin .= '-' . $args->{plugin_instance} if defined $args->{plugin_instance};
+	$type = $args->{type};
+	$type .= '-' . $args->{type_instance} if defined $args->{type_instance};
 
-	return ("$host/$plugin/$type");
+	return "$host/$plugin/$type";
 } # _create_identifier
 
 sub _parse_identifier
 {
 	my $string = shift;
-	my $host;
-	my $plugin;
-	my $plugin_instance;
-	my $type;
-	my $type_instance;
-	my $ident;
+	my ($plugin_instance, $type_instance);
 
-	($host, $plugin, $type) = split ('/', $string);
+	my ($host, $plugin, $type) = split /\//, $string;
 
-	($plugin, $plugin_instance) = split ('-', $plugin, 2);
-	($type, $type_instance) = split ('-', $type, 2);
+	($plugin, $plugin_instance) = split /-/, $plugin, 2;
+	($type, $type_instance) = split /-/, $type, 2;
 
-	$ident =
+	my $ident =
 	{
 		host => $host,
 		plugin => $plugin,
 		type => $type
 	};
-	$ident->{'plugin_instance'} = $plugin_instance if (defined ($plugin_instance));
-	$ident->{'type_instance'} = $type_instance if (defined ($type_instance));
+	$ident->{plugin_instance} = $plugin_instance if defined $plugin_instance;
+	$ident->{type_instance} = $type_instance if defined $type_instance;
 
-	return ($ident);
+	return $ident;
 } # _parse_identifier
 
 sub _escape_argument
 {
-	my $string = shift;
+	local $_ = shift;
+
+	return $_ if /^\w+$/;
+
+	s#\\#\\\\#g;
+	s#"#\\"#g;
+	return "\"$_\"";
+}
+
+# Send a command on a socket, including any required argument escaping.
+# Return a single line of result.
+sub _socket_command {
+	my ($self, $command, $args) = @_;
+
+	my $fh = $self->{sock} or confess ('object has no filehandle');
+
+    if($args) {
+        my $identifier = _create_identifier ($args) or return;
+	    $command .= ' ' . _escape_argument ($identifier) . "\n";
+    } else {
+        $command .= "\n";
+    }
+	_debug "-> $command";
+	$fh->print($command);
+
+	my $response = $fh->getline;
+	chomp $response;
+	_debug "<- $response\n";
+    return $response;
+}
+
+# Read any remaining results from a socket and pass them to
+# a callback for caller-defined mangling.
+sub _socket_chat
+{
+	my ($self, $msg, $callback, $cbdata) = @_;
+	my ($nresults, $ret);
+	my $fh = $self->{sock} or confess ('object has no filehandle');
 
-	if ($string =~ m/^\w+$/)
+	($nresults, $msg) = split / /, $msg, 2;
+	if ($nresults <= 0)
 	{
-		return ("$string");
+		$self->{error} = $msg;
+		return;
 	}
 
-	$string =~ s#\\#\\\\#g;
-	$string =~ s#"#\\"#g;
-	$string = "\"$string\"";
-
-	return ($string);
+	for (1 .. $nresults)
+	{
+		my $entry = $fh->getline;
+		chomp $entry;
+		_debug "<- $entry\n";
+        $callback->($entry, $cbdata);
+	}
+	return $cbdata;
 }
 
+
 =head1 PUBLIC METHODS
 
 =over 4
 
-=item I<$obj> = Collectd::Unixsock->B<new> ([I<$path>]);
+=item I<$self> = Collectd::Unixsock->B<new> ([I<$path>]);
 
 Creates a new connection to the daemon. The optional I<$path> argument gives
 the path to the UNIX socket of the C<unixsock plugin> and defaults to
 F</var/run/collectd-unixsock>. Returns the newly created object on success and
 false on error.
 
 =cut
 
 sub new
 {
-	my $pkg = shift;
-	my $path = @_ ? shift : '/var/run/collectd-unixsock';
+	my $class = shift;
+	my $path = shift || '/var/run/collectd-unixsock';
 	my $sock = _create_socket ($path) or return;
-	my $obj = bless (
+	return bless
 		{
 			path => $path,
 			sock => $sock,
 			error => 'No error'
-		}, $pkg);
-	return ($obj);
+		}, $class;
 } # new
 
-=item I<$res> = I<$obj>-E<gt>B<getval> (I<%identifier>);
+=item I<$res> = I<$self>-E<gt>B<getval> (I<%identifier>);
 
 Requests a value-list from the daemon. On success a hash-ref is returned with
 the name of each data-source as the key and the according value as, well, the
 value. On error false is returned.
 
 =cut
 
 sub getval # {{{
 {
-	my $obj = shift;
+	my $self = shift;
 	my %args = @_;
-
-	my $status;
-	my $fh = $obj->{'sock'} or confess ('object has no filehandle');
-	my $msg;
-	my $identifier;
-
 	my $ret = {};
 
-	$identifier = _create_identifier (\%args) or return;
-
-	$msg = 'GETVAL ' . _escape_argument ($identifier) . "\n";
-	_debug "-> $msg";
-	print $fh $msg;
-
-	$msg = <$fh>;
-	chomp ($msg);
-	_debug "<- $msg\n";
-
-	($status, $msg) = split (' ', $msg, 2);
-	if ($status <= 0)
-	{
-		$obj->{'error'} = $msg;
-		return;
-	}
-
-	for (my $i = 0; $i < $status; $i++)
-	{
-		my $entry = <$fh>;
-		chomp ($entry);
-		_debug "<- $entry\n";
-
-		if ($entry =~ m/^(\w+)=NaN$/)
-		{
-			$ret->{$1} = undef;
-		}
-		elsif ($entry =~ m/^(\w+)=($RE{num}{real})$/)
-		{
-			$ret->{$1} = 0.0 + $2;
-		}
-	}
-
-	return ($ret);
+    my $msg = $self->_socket_command('GETVAL', \%args) or return;
+    $self->_socket_chat($msg, sub {
+            local $_ = shift;
+            my $ret = shift;
+            /^(\w+)=NaN$/ and $ret->{$1} = undef, return;
+            /^(\w+)=(.*)$/ and looks_like_number($2) and $ret->{$1} = 0 + $2, return;
+        }, $ret
+    );
+	return $ret;
 } # }}} sub getval
 
-=item I<$res> = I<$obj>-E<gt>B<getthreshold> (I<%identifier>);
+=item I<$res> = I<$self>-E<gt>B<getthreshold> (I<%identifier>);
 
 Requests a threshold from the daemon. On success a hash-ref is returned with
 the threshold data. On error false is returned.
 
 =cut
 
 sub getthreshold # {{{
 {
-	my $obj = shift;
+	my $self = shift;
 	my %args = @_;
-
-	my $status;
-	my $fh = $obj->{'sock'} or confess ('object has no filehandle');
-	my $msg;
-	my $identifier;
-
 	my $ret = {};
 
-	$identifier = _create_identifier (\%args) or return;
-
-	$msg = 'GETTHRESHOLD ' . _escape_argument ($identifier) . "\n";
-	_debug "-> $msg";
-	print $fh $msg;
-
-	$msg = <$fh>;
-	chomp ($msg);
-	_debug "<- $msg\n";
-
-	($status, $msg) = split (' ', $msg, 2);
-	if ($status <= 0)
-	{
-		$obj->{'error'} = $msg;
-		return;
-	}
-
-	for (my $i = 0; $i < $status; $i++)
-	{
-		my $entry = <$fh>;
-		chomp ($entry);
-		_debug "<- $entry\n";
-
-		if ($entry =~ m/^([^:]+):\s*(\S.*)$/)
-		{
-			my $key = $1;
-			my $value = $2;
-
-			$key =~ s/^\s+//;
-			$key =~ s/\s+$//;
-
-			$ret->{$key} = $value;
-		}
-	}
-
-	return ($ret);
+    my $msg = $self->_socket_command('GETTHRESHOLD', \%args) or return;
+    $self->_socket_chat($msg, sub {
+            local $_ = shift;
+            my $ret = shift;
+		    /^\s*([^:]+):\s*(.*)/ and do {
+			    $1 =~ s/\s*$//;
+			    $ret->{$1} = $2;
+		    };
+        }, $ret
+    );
+	return $ret;
 } # }}} sub getthreshold
 
-=item I<$obj>-E<gt>B<putval> (I<%identifier>, B<time> =E<gt> I<$time>, B<values> =E<gt> [...]);
+=item I<$self>-E<gt>B<putval> (I<%identifier>, B<time> =E<gt> I<$time>, B<values> =E<gt> [...]);
 
 Submits a value-list to the daemon. If the B<time> argument is omitted
 C<time()> is used. The required argument B<values> is a reference to an array
 of values that is to be submitted. The number of values must match the number
 of values expected for the given B<type> (see L<VALUE IDENTIFIERS>), though
 this is checked by the daemon, not the Perl module. Also, gauge data-sources
@@ -312,127 +282,165 @@
 otherwise.
 
 =cut
 
 sub putval
 {
-	my $obj = shift;
+	my $self = shift;
 	my %args = @_;
 
-	my $status;
-	my $fh = $obj->{'sock'} or confess;
-	my $msg;
-	my $identifier;
-	my $values;
-	my $interval = "";
+	my ($status, $msg, $identifier, $values);
+	my $fh = $self->{sock} or confess;
 
-	if (defined $args{'interval'})
-	{
-		$interval = ' interval='
-		. _escape_argument ($args{'interval'});
-	}
+	my $interval = defined $args{interval} ?
+    ' interval=' . _escape_argument ($args{interval}) : '';
 
 	$identifier = _create_identifier (\%args) or return;
-	if (!$args{'values'})
+	if (!$args{values})
 	{
 		cluck ("Need argument `values'");
 		return;
 	}
 
-	if (!ref ($args{'values'}))
-	{
-		$values = $args{'values'};
-	}
-	else
+	if (ref ($args{values}))
 	{
 		my $time;
 
-		if ("ARRAY" ne ref ($args{'values'}))
+		if ("ARRAY" ne ref ($args{values}))
 		{
 			cluck ("Invalid `values' argument (expected an array ref)");
 			return;
 		}
 
-		if (! scalar @{$args{'values'}})
+		if (! scalar @{$args{values}})
 		{
 			cluck ("Empty `values' array");
 			return;
 		}
 
-		$time = $args{'time'} ? $args{'time'} : time ();
-		$values = join (':', $time, map { defined ($_) ? $_ : 'U' } (@{$args{'values'}}));
+		$time = $args{time} || time;
+		$values = join (':', $time, map { defined $_ ? $_ : 'U' } @{$args{values}});
+	}
+	else
+	{
+		$values = $args{values};
 	}
 
 	$msg = 'PUTVAL '
 	. _escape_argument ($identifier)
 	. $interval
 	. ' ' . _escape_argument ($values) . "\n";
 	_debug "-> $msg";
-	print $fh $msg;
+	$fh->print($msg);
 
 	$msg = <$fh>;
-	chomp ($msg);
+	chomp $msg;
 	_debug "<- $msg\n";
 
-	($status, $msg) = split (' ', $msg, 2);
-	return (1) if ($status == 0);
+	($status, $msg) = split / /, $msg, 2;
+	return 1 if $status == 0;
 
-	$obj->{'error'} = $msg;
+	$self->{error} = $msg;
 	return;
 } # putval
 
-=item I<$res> = I<$obj>-E<gt>B<listval> ()
+=item I<$res> = I<$self>-E<gt>B<listval_filter> ( C<%identifier> )
+
+Queries a list of values from the daemon while restricting the results to
+certain hosts, plugins etc. The argument may be anything that passes for an
+identifier (cf. L<VALUE IDENTIFIERS>), although all fields are optional.
+The returned data is in the same format as from C<listval>.
+
+=cut
+
+sub listval_filter
+{
+	my $self = shift;
+    my %args = @_;
+	my @ret;
+	my $nresults;
+	my $fh = $self->{sock} or confess;
+
+    my $pattern =
+    (exists $args{host}              ? "$args{host}"             : '[^/]+') .
+    (exists $args{plugin}            ? "/$args{plugin}"          : '/[^/-]+') .
+	(exists $args{plugin_instance}   ? "-$args{plugin_instance}" : '(?:-[^/]+)?') .
+	(exists $args{type}              ? "/$args{type}"            : '/[^/-]+') .
+	(exists $args{type_instance}     ? "-$args{type_instance}"   : '(?:-[^/]+)?');
+    $pattern = qr/^\d+ $pattern$/;
+
+    my $msg = $self->_socket_command('LISTVAL') or return;
+	($nresults, $msg) = split / /, $msg, 2;
+
+    # This could use _socket_chat() but doesn't for speed reasons
+	if ($nresults < 0)
+	{
+		$self->{error} = $msg;
+		return;
+	}
+
+	for (1 .. $nresults)
+	{
+		$msg = <$fh>;
+		chomp $msg;
+		_debug "<- $msg\n";
+		next unless $msg =~ $pattern;
+		my ($time, $ident) = split / /, $msg, 2;
+
+		$ident = _parse_identifier ($ident);
+		$ident->{time} = int $time;
+
+		push (@ret, $ident);
+	} # for (i = 0 .. $status)
+
+	return @ret;
+} # listval
+
+=item I<$res> = I<$self>-E<gt>B<listval> ()
 
 Queries a list of values from the daemon. The list is returned as an array of
 hash references, where each hash reference is a valid identifier. The C<time>
 member of each hash holds the epoch value of the last update of that value.
 
 =cut
 
 sub listval
 {
-	my $obj = shift;
-	my $msg;
-	my @ret = ();
-	my $status;
-	my $fh = $obj->{'sock'} or confess;
+	my $self = shift;
+	my $nresults;
+	my @ret;
+	my $fh = $self->{sock} or confess;
 
-	_debug "LISTVAL\n";
-	print $fh "LISTVAL\n";
+    my $msg = $self->_socket_command('LISTVAL') or return;
+	($nresults, $msg) = split / /, $msg, 2;
 
-	$msg = <$fh>;
-	chomp ($msg);
-	_debug "<- $msg\n";
-	($status, $msg) = split (' ', $msg, 2);
-	if ($status < 0)
+    # This could use _socket_chat() but doesn't for speed reasons
+	if ($nresults < 0)
 	{
-		$obj->{'error'} = $msg;
+		$self->{error} = $msg;
 		return;
 	}
 
-	for (my $i = 0; $i < $status; $i++)
+	for (1 .. $nresults)
 	{
-		my $time;
-		my $ident;
-
 		$msg = <$fh>;
-		chomp ($msg);
+		chomp $msg;
 		_debug "<- $msg\n";
 
-		($time, $ident) = split (' ', $msg, 2);
+		my ($time, $ident) = split / /, $msg, 2;
 
 		$ident = _parse_identifier ($ident);
-		$ident->{'time'} = int ($time);
+		$ident->{time} = int $time;
 
 		push (@ret, $ident);
 	} # for (i = 0 .. $status)
 
-	return (@ret);
+	return @ret;
 } # listval
 
-=item I<$res> = I<$obj>-E<gt>B<putnotif> (B<severity> =E<gt> I<$severity>, B<message> =E<gt> I<$message>, ...);
+=item I<$res> = I<$self>-E<gt>B<putnotif> (B<severity> =E<gt> I<$severity>, B<message> =E<gt> I<$message>, ...);
 
 Submits a notification to the daemon.
 
 Valid options are:
 
 =over 4
@@ -461,63 +469,54 @@
 =back
 
 =cut
 
 sub putnotif
 {
-	my $obj = shift;
+	my $self = shift;
 	my %args = @_;
 
 	my $status;
-	my $fh = $obj->{'sock'} or confess;
+	my $fh = $self->{sock} or confess;
 
 	my $msg; # message sent to the socket
 	
-	if (!$args{'message'})
+    for my $arg (qw( message severity ))
+    {
+        cluck ("Need argument `$arg'"), return unless $args{$arg};
+    }
+	$args{severity} = lc $args{severity};
+	if (($args{severity} ne 'failure')
+		&& ($args{severity} ne 'warning')
+		&& ($args{severity} ne 'okay'))
 	{
-		cluck ("Need argument `message'");
-		return;
-	}
-	if (!$args{'severity'})
-	{
-		cluck ("Need argument `severity'");
-		return;
-	}
-	$args{'severity'} = lc ($args{'severity'});
-	if (($args{'severity'} ne 'failure')
-		&& ($args{'severity'} ne 'warning')
-		&& ($args{'severity'} ne 'okay'))
-	{
-		cluck ("Invalid `severity: " . $args{'severity'});
+		cluck ("Invalid `severity: " . $args{severity});
 		return;
 	}
 
-	if (!$args{'time'})
-	{
-		$args{'time'} = time ();
-	}
+	$args{time} ||= time;
 	
 	$msg = 'PUTNOTIF '
-	. join (' ', map { $_ . '=' . _escape_argument ($args{$_}) } (keys %args))
+	. join (' ', map { $_ . '=' . _escape_argument ($args{$_}) } keys %args)
 	. "\n";
 
 	_debug "-> $msg";
-	print $fh $msg;
+	$fh->print($msg);
 
 	$msg = <$fh>;
-	chomp ($msg);
+	chomp $msg;
 	_debug "<- $msg\n";
 
-	($status, $msg) = split (' ', $msg, 2);
-	return (1) if ($status == 0);
+	($status, $msg) = split / /, $msg, 2;
+	return 1 if $status == 0;
 
-	$obj->{'error'} = $msg;
+	$self->{error} = $msg;
 	return;
 } # putnotif
 
-=item I<$obj>-E<gt>B<flush> (B<timeout> =E<gt> I<$timeout>, B<plugins> =E<gt> [...], B<identifier>  =E<gt> [...]);
+=item I<$self>-E<gt>B<flush> (B<timeout> =E<gt> I<$timeout>, B<plugins> =E<gt> [...], B<identifier>  =E<gt> [...]);
 
 Flush cached data.
 
 Valid options are:
 
 =over 4
@@ -541,116 +540,101 @@
 =back
 
 =cut
 
 sub flush
 {
-	my $obj  = shift;
+	my $self  = shift;
 	my %args = @_;
 
-	my $fh = $obj->{'sock'} or confess;
+	my $fh = $self->{sock} or confess;
 
 	my $status = 0;
 	my $msg    = "FLUSH";
 
-	if (defined ($args{'timeout'}))
-	{
-		$msg .= " timeout=" . $args{'timeout'};
-	}
+    $msg .= " timeout=$args{timeout}" if defined $args{timeout};
 
-	if ($args{'plugins'})
+	if ($args{plugins})
 	{
-		foreach my $plugin (@{$args{'plugins'}})
+		foreach my $plugin (@{$args{plugins}})
 		{
 			$msg .= " plugin=" . $plugin;
 		}
 	}
 
-	if ($args{'identifier'})
+	if ($args{identifier})
 	{
-		for (@{$args{'identifier'}})
+		for my $identifier (@{$args{identifier}})
 		{
-			my $identifier = $_;
 			my $ident_str;
 
 			if (ref ($identifier) ne 'HASH')
 			{
 				cluck ("The argument of the `identifier' "
-					. "option must be an array reference "
-					. "of hash references.");
-				return;
-			}
-
-			$ident_str = _create_identifier ($identifier);
-			if (!$ident_str)
-			{
+					. "option must be an array of hashrefs.");
 				return;
 			}
 
+			$ident_str = _create_identifier ($identifier) or return;
 			$msg .= ' identifier=' . _escape_argument ($ident_str);
 		}
 	}
 
 	$msg .= "\n";
 
 	_debug "-> $msg";
-	print $fh $msg;
+	$fh->print($msg);
 
 	$msg = <$fh>;
 	chomp ($msg);
 	_debug "<- $msg\n";
 
-	($status, $msg) = split (' ', $msg, 2);
-	return (1) if ($status == 0);
+	($status, $msg) = split / /, $msg, 2;
+	return 1 if $status == 0;
 
-	$obj->{'error'} = $msg;
+	$self->{error} = $msg;
 	return;
 }
 
 sub error
 {
-	my $obj = shift;
-	if ($obj->{'error'})
-	{
-		return ($obj->{'error'});
-	}
-	return;
+	return shift->{error};
 }
 
-=item I<$obj>-E<gt>destroy ();
+=item I<$self>-E<gt>destroy ();
 
 Closes the socket before the object is destroyed. This function is also
 automatically called then the object goes out of scope.
 
 =back
 
 =cut
 
 sub destroy
 {
-	my $obj = shift;
-	if ($obj->{'sock'})
+	my $self = shift;
+	if ($self->{sock})
 	{
-		close ($obj->{'sock'});
-		delete ($obj->{'sock'});
+		close $self->{sock};
+		delete $self->{sock};
 	}
 }
 
 sub DESTROY
 {
-	my $obj = shift;
-	$obj->destroy ();
+	my $self = shift;
+	$self->destroy ();
 }
 
 =head1 SEE ALSO
 
 L<collectd(1)>,
 L<collectd.conf(5)>,
 L<collectd-unixsock(5)>
 
 =head1 AUTHOR
 
-Florian octo Forster E<lt>octo@verplant.orgE<gt>
+Florian octo Forster E<lt>octo@collectd.orgE<gt>
 
 =cut
-
+1;
 # vim: set fdm=marker :
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/perl/Makefile.PL /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/perl/Makefile.PL
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/bindings/perl/Makefile.PL	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/bindings/perl/Makefile.PL	2015-03-10 22:14:45.813113801 +0800
@@ -1,8 +1,9 @@
 use ExtUtils::MakeMaker;
 
 WriteMakefile(
-	'NAME'		=> 'Collectd',
-	'AUTHOR'	=> 'Sebastian Harl <sh@tokkee.org>',
+	NAME			=> 'Collectd',
+	AUTHOR			=> 'Sebastian Harl <sh@tokkee.org>',
+	TEST_REQUIRES	=> { 'YAML::Any' => 0 },
 );
 
 # vim: set sw=4 ts=4 tw=78 noexpandtab :
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/ChangeLog	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/ChangeLog	2015-05-27 15:48:54.623095614 +0800
@@ -1,183 +1,284 @@
-2016-07-26, Version 5.4.3
-	* Build system: A deprecation warning has been removed. Thanks to
+2015-05-27, Version 5.5.0
+	* Build system: Ability to make out-of-tree builds has been fixed.
+	  Thanks to Vincent Bernat. #792
+	* Build system, Disk and Users plugins: Detection and use of libstatgrab
+	  ≧ 0.90 has been added. Thanks to Vincent Bernat. #445, #795, #806,
+	  #807, #908
+	* Build system, Memory, CPU, TCPConns and Processes plugins: Numerous
+	  fixes related to OpenBSD support have been added. Thanks to Landry
+	  Breuil. #777, #778, #779, #808
+	* Build system: Plugins now only export "module_register()". Thanks to
 	  Florian Forster.
-	* Build system: An ordering issue when build the AMQP plugin was
-	  corrected. Thanks to Shahul Hameed.
-	* Build system: Building the gmond plugin against recent libganglia
-	  versions has been added. Thanks to Marc Fournier. #1129
-	* Build system: "collectd-tg" now builds on AIX. Thanks to Manuel Luis
-	  Sanmartín Rozada. #542
-	* Build system: "version-gen.sh" portablility was improved. Thanks to
-	  Marc Fournier and Ruben Kerkhof.
-	* Build system: Compiling utils_dns.c on Solaris has beed fixed. Thanks
-	  to Yves Mettier, Dagobert Michelsen and Florian Forster. #348
-	* Build system: Default JDK detection got improved. Thanks to Ruben
-	  Kerkhof and Marc Fournier.
-	* Build system: Detection and handling of librrd 1.6 and later has been
-	  fixed. Thanks to Ruben Kerkhof.
-	* Build system: notify_email build options got corrected to make it
-	  build on non-GNU libc systems. Thanks to Marc Fournier.
-	* Build system: Protobuf building and logging has been improved. Thanks
-	  to Ruben Kerkhof.
-	* Build system: The "make distcheck" target was fixed to properly handle
-	  java build artifacts. Thanks to Florian Forster.
-	* Build system: The configure script got fixed to work properly when
-	  called with "CC="gcc -Wall -Werror"" . Thanks to Marc Fournier.
-	* Build system: The configure script will now fail if pkg-config isn't
-	  available. Thanks to Ruben Kerkhof.
-	* Build system: The users plugin now builds properly on Solaris when
-	  libstatgrab is available. Thanks to Dagobert Michelsen. #1061
-	* Build system: Various fixes have been done to improve library
-	  detection on FreeBSD. Thanks to Ruben Kerkhof.
-	* collectd2html: Several perl errors have been corrected. Thanks to Ruud
-	  van Melick. #1103
-	* collectd: A global gauge format-string is now used to avoid loss of
-	  precision. Thanks to Florian Forster. #1039
-	* collectd: A race condition at plugin initialization time was fixed.
-	  Thanks to Jan Andres. #1316
-	* collectd: Autoloading now properly sets plugin context, allowing
-	  plugins to determine the interval. Thanks to Florian Forster. #1069
-	* collectd: Empty "Plugin" blocks are now supported by the configuration
-	  file parser. Thanks to Manuel Luis Sanmartín Rozada. #1035
-	* collectd: The address of the Free Software Foundation has been fixed
-	  in GPL license headers. Thanks to Ruben Kerkhof.
-	* collectd: Writing to a closed TCP socket is now properly handled.
-	  Thanks to Tamás Földesi. #1104
-	* Documentation: iptables plugin: IPv6 configuration option has been
-	  added to the collectd.conf(5) manpage. Thanks to 'Marc Fournier''.
-	  #1496
-	* AMQP plugin: The plugin was fixed to build against librabbitmq 0.6.0.
-	  Thanks to Remi Collet. #1008
-	* Apache plugin: A warning about a possible misconfiguration has been
-	  added. Thanks to Marc Fournier.
-	* Apache plugin: The plugin was extended to parse the whole response,
-	  required to support Apache versions greater than 2.4.17. Thanks to
-	  Marc Fournier and Florian Forster. #1170, #1343
-	* APC UPS plugin: Log messages are now prefixed with the plugin name.
-	  Thanks to Sergey. #1329
-	* Bind plugin: The type_instance now gets properly sanitized. Thanks to
-	  Thomas Kho. #992
-	* CPU plugin: Error messages on MacOSX have been improved. Thanks to
-	  Florian Forster. #22
-	* cURL plugin: A typo in an error message got corrected. Thanks to Marc
-	  Fournier.
-	* cURL, cURL-JSON and cURL-XML plugins: A memory leak when allocating
-	  more memory fails has been fixed. Thanks to Brandon Arp.
-	* DF plugin: An bug preventing filesystems which don't report inodes
-	  such as btrfs has been corrected. Thanks to Marek Becka. #1096
-	* DF plugin: Duplicate entries are no longer reported twice. Thanks to
-	  Stefan Brüns and Florian Forster. #1402
-	* DF plugin: Legacy code for skipping "rootfs" mount points has been
-	  removed. Thanks to Marc Fournier. #1402
-	* DF plugin: Legacy references to the "ReportReserved" option have been
-	  removed. Thanks to Marc Fournier.
-	* DF plugin: Reading the mtab now uses a reentrant function when
-	  possible. Thanks to Ruben Kerkhof. #1163
-	* Ethstat plugin: Code to strip leading whitespace from device names.
-	  This works around an issue in the VMXNet3 driver. Thanks to Thomas
-	  Guthmann. #1059
-	* Exec plugin: A file descriptor leak when the plugin is configured to
-	  run as a non-existing user was corrected. Thanks to Gautam BT and Marc
-	  Fournier. #762
-	* Exec plugin: A problem in the error handling of an fdopen() failure
-	  has been fixed. Thanks to @ciomaire.
-	* Interface plugin: Documentation about regular expressions in the
-	  ignore list has been added. Thanks to Jakub Jankowski.
-	* IRQ plugin: The "FIQ" line is now skipped as it doesn't contain any
-	  counter. Thanks to Ruben Kerkhof. #971
-	* Modbus plugin: The debug output has been disabled by default. It is
-	  now only enabled when building with "--enable-debug". Thanks to Eric
-	  Sandeen and Marc Fournier.
-	* MongoDB plugin: A memory leak has been fixed and some adaptations to
-	  the current API of the mongo-c-driver have been made. Thanks to
-	  Florian Forster. #956
-	* Network plugin: A check for the initialization of secure memory has
-	  been added. Previously, failure to initialize this memory was ignored.
-	  Thanks to @yujokang. #1665
-	* Network plugin: A heap overflow has been fixed in the server code.
-	  This issue can be triggered remotely and is potentially exploitable.
-	  Thanks to Emilien Gaspar. CVE-2016-6254
-	* Network plugin: The TimeToLive option handling was made more robust.
-	  Thanks to Tim Laszlo. #654
-	* NTPd plugin: Documentation about the required "mode 7" has been added.
-	  Thanks to Jakub Jankowski.
-	* NTPd plugin: Reporting of "time_offset-loop" was corrected to match
-	  the values from ntpq/ntpdc. Thanks to Pierre Fersing and Florian
-	  Forster. #1300
-	* OpenVPN plugin: The plugin was fixe to avoid signaling an error when
-	  no clients were connected. Thanks to Florian Forster. #731
-	* Perl plugin: Init callbacks have been changed to run essentially
-	  single-threaded to avoid race conditions by init functions which
-	  create additional threads. Thanks to Pavel Rochnyack. #1706
-	* PF plugin and DNS plugin: These plugins have been fixed to build
-	  properly on OpenBSD again. Thanks to Ruben Kerkhof.
-	* Processes plugin: A compilation error on systems without "regex.h" has
-	  been fixed. Thanks to Corey Kosak.
-	* Processes plugin: A memory leak on Solaris has been fixed. Thanks to
-	  Jim Quinn.
-	* Processes plugin and Swap plugin: These plugins have been corrected to
-	  also work inside FreeBSD jails. Thanks to biancalana. #1019
-	* Processes plugin: A warning about too long process names has been
-	  added. Thanks to Marc Fournier. #1284
-	* Processes plugin: Process counting on the FreeBSD and OpenBSD
-	  platforms has been fixed. Thanks to Herve COMMOWICK. #1298
-	* Processes plugin: The plugin was fixed to work properly on Solaris.
-	  Thanks to Jan Andres. #919
-	* Python plugin: A double-free bug got fixed. Thanks to Sven Trenkel.
-	  #1285
-	* RRDtool plugin: A race condition leading to corrupt RRD file creation
-	  has been fixed. Thanks to Manuel Luis Sanmartín Rozada. #1031
-	* SNMP plugin: The "Gauge32" signedness was corrected to match RFC1902.
-	  Thanks to Nathan Ward. #1325
-	* StatsD plugin: A deadlock on plugin shutdown has been fixed. Thanks to
-	  Pavel Rochnyack #1703
-	* StatsD plugin: A memory leak was corrected. Thanks to Florian Forster.
-	  #997
-	* StatsD plugin: A symbol lookup error was fixed by properly linking the
-	  plugin against libm. Thanks to Florian Forster.
-	* StatsD plugin: "utils_latency": Support for including values above
-	  1000 in percentile calculation has been added. Thanks to Yoga
-	  Ramalingam. #401
-	* StatsD plugin: "utils_latency": Two division by zero error conditions
-	  have been corrected. Thanks to Wilfried Goesgens. #655
-	* StatsD plugin: Counters absolute counts are now also reported. Thanks
-	  to Pierre-Yves Ritschard. #1311
-	* StatsD plugin: The plugin now emits NaN values when no timer event is
-	  recorded. Thanks to Florian Forster. #1038, #1039
-	* StatsD plugin: The plugin was corrected to avoid crashing when
-	  negative timer values are submitted. Thanks to Florian Forster. #1131
-	* Tail CSV plugin: The plugin was fixed to work properly with multiple
-	  "Collect" options and a bug got fixed when no "TimeFrom" is specified.
-	  Thanks to Manuel Luis Sanmartín Rozada and Florian Forster. #1032
-	* TCPConns plugin: A memory leak was fixed. Thanks to Florian Forster.
-	  #1074
-	* TCPConns plugin: An bug causing collectd to enter an inifinite loop on
-	  OpenBSD was fixed. Thanks to Landry Breuil. #1094
-	* Threshold plugin: Threshold configuration blocks can now be defined in
-	  different files. Thanks to Michael Salmon. #551
-	* vmem plugin: Support for pgsteal in recent Linux kernels has been
-	  added. Thanks to Jakub Jankowski. #1307
-	* vmem plugin: The DSType for nr_dirtied and nr_written was corrected to
-	  report a derive. Thanks to Marek Becka. #1072
-	* Write Graphite plugin: Error handling when submitting metrics to the
-	  server is now more robust. Thanks to Sam Pointer. #1364
-	* Write HTTP plugin: Freeing of memory holding HTTP headers during
-	  shutdown has been fixed. Thanks to Tolga Ceylan.
-	* Write Redis plugin: Multi-Valued key was made easier to parse by
-	  adding a "|" character as a delimiter. Thanks to brianpkelly and
-	  Florian Forster. #1070
-	* Write Redis plugin: The timestamp format was corrected. Thanks to
+	* Build system: Various cleanups and improvements have been done. Thanks
+	  to Marc Fournier.
+	* collectd: Numerous internal changes and improvements to the daemon and
+	  the plugin API have been make. Thanks to Florian Forster, Pierre-Yves
+	  Ritschard and Alex Petrov. #512, #727
+	* collectd: Numerous spelling mistakes have been corrected in comments
+	  and documentation and several error messages have been improved.
+	  Thanks to Ruben Kerkhof, Abhinav Upadhyay, Olivier Bazoud, Pierre-Yves
+	  Ritschard, Tim Smith, Moshe Zada, Katelyn Perry and Marc Fournier.
+	* collectd: Rules/Targets can now be appended to existing Filter Chains.
+	  Thanks to Marc Falzon. #444
+	* collectd: Failing Filter Chains destinations will now log the list of
+	  available write targets. Thanks to Wilfried Goesgens. #650, #1043
+	* collectd: Support for process signaling and management by upstart and
+	  systemd has been implemented for the Linux platform. Thanks to
+	  Pierre-Yves Ritschard and Marc Fournier. #798, #811, #814
+	* collectd: The "CollectInternalStats" option has been added. Thanks to
+	  Yves Mettier. #691
+	* collectd: The daemon source code and dependencies have moved to the
+	  "src/daemon/" directory. Thanks to Florian Forster.
+	* collectd: The new "MaxReadInterval" option allows to cap the
+	  exponential retry interval of plugins read errors. Thanks to Alexey
+	  Remizov and Florian Forster. #713
+	* collectd: The "-P" command-line option now has precedence over the
+	  "PIDFile" option. Thanks to Thomas D. #553
+	* collection.cgi: Various data-source related adjustments have been
+	  made. Thanks to Fabiano Pires and Sebastian Harl.
+	* libcollectdclient: Now propagates errors when signing / encrypting
+	  network packets. Thanks to Florian Forster.
+	* Configuration: Support for unquoted IPv6 addresses has been added.
+	  Thanks to Sebastian Harl. #489
+	* Documentation: Various improvements have been done. Thanks to Florian
+	  Forster and Marc Fournier.
+	* Examples: the sample C plugin has been updated to the current plugin
+	  API. Thanks to Sebastian Harl.
+	* Licensing: The following components have been relicensed to the MIT
+	  license: the Apple Sensors, Ascent, DBI, E-Mail, Entropy, GenericJMX,
+	  gmond, LogFile, nginx, Notify Desktop, NTPd, NUT, olsrd, Perl, Ping,
+	  PostgreSQL, Protocols, RouterOS, RRDCacheD, SNMP, StatsD, SysLog,
+	  Table, Tail, UnixSock, vmem, VServer, Wireless, Write Riemann and XMMS
+	  plugins, the core collectd daemon, the collectdmon, collectd-nagios
+	  and collectd-tg utilities, all the Targets and Matches, liboconfig,
+	  most of the "utils_*" files and the plugin API.
+	* Tests: A test suite has been added. Thanks to Florian Forster.
+	* Threshold: The hysteresis calculation has been made more reliable.
+	  Thanks to Jan Kundrát. #581
+	* Threshold: Various fixes and improvements have been made. Thanks to
+	  Manuel Luis Sanmartín Rozada. #649, #644
+	* AMQP plugin: The "ConnectionRetryDelay" option has been added,
+	  allowing to delay reconnection. Thanks to Yoga Ramalingam and Marc
+	  Fournier. #833
+	* AMQP plugin: The "QueueDurable" and "QueueAutoDelete" options have
+	  been added, giving control over queue creation and deletion. Thanks to
+	  David Blundell and Marc Fournier. #623
+	* Apache, Ascent, BIND, cURL, cURL-JSON, cURL-XML, nginx and Write HTTP
+	  plugins: Customizing the "User-Agent" field is now possible at
+	  compile-time. Thanks to Jeremy Katz. #440
+	* Apache, Ascent, BIND, cURL, cURL-JSON, cURL-XML, nginx plugins: The
+	  connection will be reset if it hasn't completed within the configured
+	  "Interval". The new "Timeout" option gives control over this behavior.
+	  Thanks to Jan Kundrát and Marc Fournier. #982, #983, #993
+	* Apache, Ascent, cURL, cURL-JSON, cURL-XML, nginx, Write HTTP plugins:
+	  Allow usernames and passwords to contain colons if built against
+	  libcurl ≧ 7.19.1. Thanks to Marc Fournier. #695, #947
+	* Apache plugin: The "SSLCiphers" option gives control over the
+	  encryption algorithms to use with TLS connections. Thanks to Toni
+	  Moreno. #946
+	* Barometer plugin: This new plugin reads sensor data from various
+	  Freescale and Bosch digital barometers. Thanks to Tomas Menzl. #69,
+	  #693
+	* Battery plugin: Reporting values as percentages and reporting degraded
+	  batteries has been added. Thanks to Florian Forster.
+	* Battery plugin: Support for reading values from sysfs on Linux has
+	  been added. Thanks to Andy Parkins, Nicholas Humfrey, Peter Wu and
+	  Florian Forster. #725, #810, #998
+	* Battery plugin: The value for current is no longer supplied unless the
+	  battery provides this information. Thanks to Florian Forster.
+	* BIND plugin: Bind's XML v3 API is now supported; Thanks to Victor
+	  Berger, Bruno Prémont and Michal Humpula. #742, #847
+	* Ceph plugin: This new plugin collects statistics from the Ceph
+	  distributed storage system. Thanks to Dan Ryder, Dennis Zou, Colin
+	  McCabe, Sage Weil. #522, #598
+	* ConnTrack plugin: Support for reporting values as percentages as well
+	  as legacy conntrack files in "/proc" has been added. Thanks to
+	  Pierre-Yves Ritschard. #497, #680
+	* CPU plugin: The plugin is now able to report values as percentages and
+	  aggregate values per-state and per-CPU. Thanks to Pierre-Yves
+	  Ritschard, Florian Forster, Fabien Wernli, Nicholas Humfrey and
+	  Wilfried Goesgens. #499, #516, #639 #734, #812, #802
+	* cURL-JSON plugin: Extracting values from complex JSON structures has
+	  been enhanced. Thanks to Jim Radford. #408, #411
+	* cURL-JSON plugin: Intervals can now be configured on a per-URL basis.
+	  Thanks to Stan Sawa. #685
+	* cURL-JSON, cURL-XML, Write HTTP plugins: These plugins now also follow
+	  HTTP redirects. Thanks to Marc Fournier.
+	* cURL, cURL-JSON, cURL-XML plugins: HTTP Digest authentication has been
+	  implemented. Thanks to Frank Cornelis. #482
+	* DBI, Oracle, PostgreSQL plugins: A "MetadataFrom" parameter has been
+	  added which allows to set metadata from database columns. Thanks to
+	  Mark Wong. #317, #321
+	* DBI plugin: Querying several databases in parallel is now possible.
+	  Thanks to Vincent Bernat. #453
+	* Disk plugin: On the Linux platform, disk names can now get looked up
+	  in udev with the "UdevNameAttr" option. Thanks to Patrick Mooney. #537
+	* Disk plugin: This plugin now collects several additional I/O-related
+	  metrics on the Linux platform. Thanks to Florian Forster and Michael
+	  Schenck. #705, #759
+	* DRBD plugin: This new plugin reads Linux's Distributed Replicated
+	  Block Device (DRBD) statistics. Thanks to Tim Laszlo. #566, #700
+	* Exec, UnixSock plugins: The "PUTNOTIF" command now allows to set
+	  metadata on notifications. Thanks to John-John Tedro. #416
+	* fhcount plugin: This new plugin reports the number of used file
+	  handles. Thanks to Jiri Tyr. #1009
+	* GenericJMX plugin: A Class Loader for "JMXConnectorFactory" has been
+	  added, allowing the plugin to work with JBOSS > 7. Thanks to Alexandre
+	  Moutot. #452
+	* IPC plugin: This new plugin collects information related to shared
+	  memory. Thanks to Andrés J. Díaz. #925
+	* Java plugin: Now uses the hostname defined in the configuration file.
+	  Thanks to Pierre-Yves Ritschard. #530, #681
+	* Load plugin: The plugin is now able to report values as percentages.
+	  Thanks to Vedran Bartonicek and Pierre-Yves Ritschard. #344, #498
+	* Log Logstash plugin: This new plugin writes collectd logs and events
+	  as Logstash JSON formatted events. Thanks to Pierre-Yves Ritschard.
+	  #360
+	* LVM plugin: The plugin collects thin pool data volumes size, and no
+	  longer reports virtual volumes. Thanks to Benjamin Gilbert. #603
+	* memcached plugin: "listen_disabled_num" are now also reported. Thanks
+	  to Matt Cottingham. #622
+	* Memory plugin: Slab memory reporting on the Linux platform has been
+	  added. Thanks to Manuel CISSÉ and Marc Fournier. #560, #697
+	* Memory plugin: The plugin is now able to report values as percentages.
+	  Thanks to Jeremy Katz, Florian Forster and Manuel CISSÉ. #501, #511,
+	  #559
+	* Modbus plugin: Selecting between holding and input registers is now
+	  possible. Thanks to Jan Vitek. #338
+	* Modbus plugin: Support for accessing devices through an RS-485 serial
+	  port has been added. Thanks to Eric Sandeen.
+	* Multimeter plugin: This plugin isn't built by default on the AIX
+	  platform anymore. Thanks to Manuel Luis Sanmartin Rozada. #549, #684
+	* MySQL and PostgreSQL plugins: Passing "127.0.0.1" as a host will now
+	  result in the global Hostname being used in metric names. Thanks to
+	  Jeremy Katz. #441
+	* MySQL plugin: InnoDB, Select and Sort statistics collection has been
+	  added. Thanks to Wilson Felipe, Marek Becka and Pierre-Yves Ritschard.
+	  #248, #621, #699, #824
+	* MySQL plugin: The "Alias" and "ConnectTimeout" options have been
+	  added. Thanks to William Tisäter.
+	* Netlink plugin: Support for 64bit netlink counters has been added.
+	  Thanks to Marek Becka. #435
+	* Network plugin: The "ReconnectInterval" configuration option has been
+	  added. Thanks to John Ferlito. #732
+	* NFS plugin: Support for NFSv4.0 has been implemented. Thanks to Marek
+	  Becka. #550
+	* OneWire plugin: Support for more temperature-providing sensor families
+	  has been added. Thanks to Tomasz Torcz. #672
+	* OneWire plugin: Support for full OWFS path and more device families
+	  has been implemented. Thanks to Tomas Menzl. #68
+	* OpenLDAP plugin: This new plugin reads monitoring information from
+	  OpenLDAP's "cn=Monitor" subtree. Thanks to Kimo Rosenbaum, Marc
+	  Fournier and Nicholas Humfrey. #719
+	* OpenVPN plugin: Support for OpenVPN 2.3.0 has been implemented. Thanks
+	  to Ed Okerson. #252
+	* OpenVZ plugin: Various improvements have been made, making the plugin
+	  report values like the other collectd plugins do. Thanks to Chris
+	  Lundquist. #264
+	* Perl plugin: A new "listval_filter" method has been added, various
+	  internal cleanups and improvements have been made and a test suite has
+	  been added. Thanks to Matthias Bethke. #728
+	* PostgreSQL plugin: The new "ExpireDelay" option allows skipping older
+	  values pending write when the database slows down. Thanks to Stephen
+	  O'Dor. #593
+	* PowerDNS plugin: The plugin was updated for stats from pdns 3.4.3.
+	  Thanks to Ruben Kerkhof. #965
+	* Processes plugin: A memory-usage related optimization for low-profile
+	  systems has been added. Thanks to Florian Forster. #652
+	* Python plugin: Support for Python3 has been improved, "ModulePath" is
+	  now prepended to "sys.path", and the "get_dataset()" function has been
+	  added to the Python API. Thanks to Sven Trenkel and Patrick Browne.
+	  #890, #751, #771
+	* Redis and Write_Redis plugins: The support library has been switched
+	  from credis to hiredis. Thanks to Andrés J. Díaz, Victor Seva, Marc
+	  Fournier, Johan Bergström, Michael Spiegle and brianpkelly. #296,
+	  #464, #475, #799, #1030
+	* Redis plugin: Custom commands can now be used to fetch values stored
+	  in Redis. Thanks to Pierre-Yves Ritschard. #816
+	* Redis plugin: Support for passwords up to 512 characters long has been
+	  added. Thanks to Jeremy Katz. #532
+	* Sensors plugin: Support for lm_sensors' power sensors has been added.
+	  Thanks to Jan Kundrát. #571
+	* SMART plugin: This new plugin collects SMART statistics from disk
+	  drives. Thanks to Vincent Bernat. #797
+	* SNMP plugin: A blacklist/whitelist feature can now be used to filter
+	  which OIDs to collect. Thanks to Christophe Courtaut. #414
+	* SNMP plugin: SNMPv3 authentication and encryption support has been
+	  implemented. Thanks to Michael Pilat. #362
+	* SNMP plugin: Two error messages have been disambiguated. Thanks to
+	  Sergey. #939, #952
+	* Swap plugin: The plugin is now able to report values as percentages.
+	  Thanks to Jeremy Katz and Florian Forster. #500, #510
+	* Swap plugin: The plugin no longer fails on Linux systems where
+	  "SwapCached" isn't exposed by the kernel. Thanks to Florian Forster.
+	  #733
+	* Tail plugin: "GaugeInc" and "GaugeAdd" options have been implemented.
+	  Thanks to Andre Ferraz. #673
+	* Tail plugin: Intervals can now be configured on a per-File basis.
+	  Thanks to Tom Leaman. #446
+	* TCPConns plugin: The "AllPortsSummary" option, allowing to summarize
+	  all connections, has been added. Thanks to Marek Becka. #488
+	* TCPConns plugin: Three metrics were renamed on the AIX platform, for
+	  the sake of consistency. Thanks to Manuel Luis Sanmartín Rozada. #546
+	* Turbostat plugin: This new plugin reads CPU frequency and C-state
+	  residency on modern Intel turbo-capable processors. Thanks to Vincent
+	  Brillault, Jean Delvare and Nicolas Iooss. #651
+	* UnixSock plugin: The "GETTHRESHOLD" command has been re-added. Thanks
+	  to Manuel Luis Sanmartín Rozada. #674
+	* Varnish plugin: Varnish 4 support has been added, as well as as
+	  monitoring metrics only available in Varnish 4. Thanks to Marc
+	  Fournier. #618, #783
+	* virt plugin: Guests memory usage is now also collected. Thanks to
+	  Tiago Carvalho, jazzmes and Zollner Robert.
+	* virt plugin: It is now possible to chose between using guests' name or
+	  UUID as plugin_instance. Thanks to Remi Ferrand. #385
+	* virt plugin: The libvirt plugin has been renamed to virt. Thanks to
 	  Florian Forster.
-	* ZFS ARC plugin: The plugin was will not emit warning about missing
-	  "l2_size" stats anymore. Thanks to Jan Andres. #919
-	* 152 patches have been applied to numerous plugins and core components,
-	  fixing various programming errors which were reported by scan-build,
-	  libasan, FBInfer, coverity-scan, clang and gcc-6: Thanks to Ruben
-	  Kerkhof, Florian Forster, Marc Fournier, Corey Kosak, Laurent,
-	  Claudius Zingerli and Fabien Wernli.
+	* Write Graphite plugin: When the connection to graphite fails,
+	  reconnection attempts are now limited to once per second. Thanks to
+	  Florian Forster. #625
+	* Write HTTP plugin: Multi-instance support of this plugin has been
+	  improved. The "<URL "url">" block has been deprecated in favor of
+	  "<Node "identifier">". Thanks to Marc Fournier. #902
+	* Write HTTP plugin: Several TLS-related configuration options have been
+	  added. Thanks to Ingmar Runge. #666
+	* Write HTTP plugin: The "LowSpeedLimit" and "Timeout" options allow to
+	  reset slow/stalled network connections. Thanks to loginator17 and Marc
+	  Fournier. #752, #985
+	* Write HTTP plugin: The size of the payload posted to the HTTP server
+	  can now be controlled with the "BufferSize" option. Thanks to Florian
+	  Forster. #722
+	* Write Kafka plugin: This new plugin sends data to Apache Kafka, a
+	  distributed messaging queue. Thanks to Pierre-Yves Ritschard,
+	  ciomaire, Vincent Bernat, Marc Fournier. #670, #694, #794, #853, #014
+	* Write Log plugin: This new plugin dispatches collected values to the
+	  configured log destination(s). Thanks to Pierre-Yves Ritschard. #886
+	* Write Riemann plugin: Extra meta strings are now added as attributes
+	  in notifications. Thanks to John-John Tedro. #417
+	* Write Riemann plugin: Notification message are now sent to the Riemann
+	  server via the description field. Thanks to Adrian Miron. #575
+	* Write Riemann plugin: Support for custom attributes has been added.
+	  Thanks to Pierre-Yves Ritschard. #459
+	* Write Riemann plugin: Support had been implemented for sending events
+	  to Riemann in batches (when using TCP), and is enabled by default.
+	  Thanks to Pierre-Yves Ritschard. #800
+	* Write Riemann plugin: The "EventServicePrefix" option has been added,
+	  which adds a prefix to event service names. Thanks to Moshe Zada. #706
+	* Write Riemann plugin: Threshold checks can now be passed down to the
+	  Riemann server. Thanks to Pierre-Yves Ritschard. #518
+	* Write Sensu plugin: This new plugin submits values to Sensu, a stream
+	  processing and monitoring system. Thanks to Fabrice A. Marie and Marc
+	  Fournier. #912, #1001, #1016
+	* Write TSDB plugin: This new plugin sends data to OpenTSDB, a scalable
+	  time series database. Thanks to Kevin Bowling, Florian Forster, Dallin
+	  Young, Michael Schenck and Pierre-Yves Ritschard. #703, #772, #945
+	* ZFS ARC plugin: Support for ZFS-on-Linux has been added. Thanks to
+	  Marc Fournier and Wilfried Goesgens. #552
+	* Zookeeper plugin: This new plugin reads data from the Apache Zookeeper
+	  "MNTR" command. Thanks to Jeremy Katz. #826
 
 2015-02-26, Version 5.4.2
 	* Build system: Numerous fixes. Thanks to Bjørn Nordbø, Jim Radford,
 	  KOMEDA Shinji, Lauri Tirkkonen, Manuel Luis Sanmartin Rozada, Marc
 	  Fournier, Rainer Müller, Yoga Ramalingam and Yves Mettier. #326,
 	  #373, #653, #828
@@ -2010,13 +2111,13 @@
 	  descriptor leak.
 	* memory plugin: A typo in the libstatgrab code has been fixed.
 	* snmp plugin: Fix a possible memory leak.
 
 2008-07-15, Version 4.4.2
 	* build system: Use pkg-config to detect the upsclient library.
-	* collectd: Try even harder to determine the endianess of the
+	* collectd: Try even harder to determine the endianness of the
 	  architecture collectd is being built on.
 	* disk plugin: Fix for Linux 2.4: A wrong field was used as the name
 	  of disks.
 	* dns plugin: Fix compilation errors with BIND versions 19991001
 	  through 19991005.
 	* network plugin: Bugfix in the init routine: The init function
@@ -2075,13 +2176,13 @@
 	* vmem plugin: The new vmem plugin collects very detailed statistics
 	  about the virtual memory subsystem of Linux.
 
 2008-08-30, Version 4.3.4
 	* Build system: Improved detection of and linking with the statgrab
 	  library.
-	* collectd: Portability fixes, especially to determine endianess more
+	* collectd: Portability fixes, especially to determine endianness more
 	  reliable.
 	* Various plugins: Fix format strings.
 	* disk plugin: A fix for giving disks under Linux 2.4 the right names
 	  again has been applied.
 	* memcached plugin: Fix a too short timeout and a related file
 	  descriptor leak.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/configure	2016-07-26 15:47:22.401736903 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/configure	2015-05-27 15:51:50.237943000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.69 for collectd 5.4.3.
+# Generated by GNU Autoconf 2.69 for collectd 5.5.0.
 #
 #
 # Copyright (C) 1992-1996, 1998-2012 Free Software Foundation, Inc.
 #
 #
 # This configure script is free software; the Free Software Foundation
@@ -588,19 +588,18 @@
 MFLAGS=
 MAKEFLAGS=
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='5.4.3'
-PACKAGE_STRING='collectd 5.4.3'
+PACKAGE_VERSION='5.5.0'
+PACKAGE_STRING='collectd 5.5.0'
 PACKAGE_BUGREPORT=''
 PACKAGE_URL=''
 
-ac_unique_file="src/collectd.c"
-: "${ARFLAGS=cr} ${AR_FLAGS=cr}"
+ac_unique_file="src/"
 # Factoring default headers for most tests.
 ac_includes_default="\
 #include <stdio.h>
 #ifdef HAVE_SYS_TYPES_H
 # include <sys/types.h>
 #endif
@@ -650,44 +649,59 @@
 PERL_BINDINGS_OPTIONS
 PERL_BINDINGS
 LOAD_PLUGIN_CSV
 LOAD_PLUGIN_NETWORK
 LOAD_PLUGIN_RRDTOOL
 DEFAULT_LOG_LEVEL
+LOAD_PLUGIN_LOG_LOGSTASH
 LOAD_PLUGIN_LOGFILE
 LOAD_PLUGIN_SYSLOG
+BUILD_PLUGIN_ZOOKEEPER_FALSE
+BUILD_PLUGIN_ZOOKEEPER_TRUE
 BUILD_PLUGIN_ZFS_ARC_FALSE
 BUILD_PLUGIN_ZFS_ARC_TRUE
 BUILD_PLUGIN_XMMS_FALSE
 BUILD_PLUGIN_XMMS_TRUE
+BUILD_PLUGIN_WRITE_TSDB_FALSE
+BUILD_PLUGIN_WRITE_TSDB_TRUE
+BUILD_PLUGIN_WRITE_SENSU_FALSE
+BUILD_PLUGIN_WRITE_SENSU_TRUE
 BUILD_PLUGIN_WRITE_RIEMANN_FALSE
 BUILD_PLUGIN_WRITE_RIEMANN_TRUE
 BUILD_PLUGIN_WRITE_REDIS_FALSE
 BUILD_PLUGIN_WRITE_REDIS_TRUE
 BUILD_PLUGIN_WRITE_MONGODB_FALSE
 BUILD_PLUGIN_WRITE_MONGODB_TRUE
+BUILD_PLUGIN_WRITE_LOG_FALSE
+BUILD_PLUGIN_WRITE_LOG_TRUE
+BUILD_PLUGIN_WRITE_KAFKA_FALSE
+BUILD_PLUGIN_WRITE_KAFKA_TRUE
 BUILD_PLUGIN_WRITE_HTTP_FALSE
 BUILD_PLUGIN_WRITE_HTTP_TRUE
 BUILD_PLUGIN_WRITE_GRAPHITE_FALSE
 BUILD_PLUGIN_WRITE_GRAPHITE_TRUE
 BUILD_PLUGIN_WIRELESS_FALSE
 BUILD_PLUGIN_WIRELESS_TRUE
 BUILD_PLUGIN_VSERVER_FALSE
 BUILD_PLUGIN_VSERVER_TRUE
 BUILD_PLUGIN_VMEM_FALSE
 BUILD_PLUGIN_VMEM_TRUE
+BUILD_PLUGIN_VIRT_FALSE
+BUILD_PLUGIN_VIRT_TRUE
 BUILD_PLUGIN_VARNISH_FALSE
 BUILD_PLUGIN_VARNISH_TRUE
 BUILD_PLUGIN_UUID_FALSE
 BUILD_PLUGIN_UUID_TRUE
 BUILD_PLUGIN_USERS_FALSE
 BUILD_PLUGIN_USERS_TRUE
 BUILD_PLUGIN_UPTIME_FALSE
 BUILD_PLUGIN_UPTIME_TRUE
 BUILD_PLUGIN_UNIXSOCK_FALSE
 BUILD_PLUGIN_UNIXSOCK_TRUE
+BUILD_PLUGIN_TURBOSTAT_FALSE
+BUILD_PLUGIN_TURBOSTAT_TRUE
 BUILD_PLUGIN_TOKYOTYRANT_FALSE
 BUILD_PLUGIN_TOKYOTYRANT_TRUE
 BUILD_PLUGIN_THRESHOLD_FALSE
 BUILD_PLUGIN_THRESHOLD_TRUE
 BUILD_PLUGIN_THERMAL_FALSE
 BUILD_PLUGIN_THERMAL_TRUE
@@ -720,12 +734,14 @@
 BUILD_PLUGIN_SWAP_FALSE
 BUILD_PLUGIN_SWAP_TRUE
 BUILD_PLUGIN_STATSD_FALSE
 BUILD_PLUGIN_STATSD_TRUE
 BUILD_PLUGIN_SNMP_FALSE
 BUILD_PLUGIN_SNMP_TRUE
+BUILD_PLUGIN_SMART_FALSE
+BUILD_PLUGIN_SMART_TRUE
 BUILD_PLUGIN_SIGROK_FALSE
 BUILD_PLUGIN_SIGROK_TRUE
 BUILD_PLUGIN_SERIAL_FALSE
 BUILD_PLUGIN_SERIAL_TRUE
 BUILD_PLUGIN_SENSORS_FALSE
 BUILD_PLUGIN_SENSORS_TRUE
@@ -756,12 +772,14 @@
 BUILD_PLUGIN_PERL_FALSE
 BUILD_PLUGIN_PERL_TRUE
 BUILD_PLUGIN_ORACLE_FALSE
 BUILD_PLUGIN_ORACLE_TRUE
 BUILD_PLUGIN_OPENVPN_FALSE
 BUILD_PLUGIN_OPENVPN_TRUE
+BUILD_PLUGIN_OPENLDAP_FALSE
+BUILD_PLUGIN_OPENLDAP_TRUE
 BUILD_PLUGIN_ONEWIRE_FALSE
 BUILD_PLUGIN_ONEWIRE_TRUE
 BUILD_PLUGIN_OLSRD_FALSE
 BUILD_PLUGIN_OLSRD_TRUE
 BUILD_PLUGIN_NUT_FALSE
 BUILD_PLUGIN_NUT_TRUE
@@ -814,48 +832,54 @@
 BUILD_PLUGIN_MADWIFI_FALSE
 BUILD_PLUGIN_MADWIFI_TRUE
 BUILD_PLUGIN_LVM_FALSE
 BUILD_PLUGIN_LVM_TRUE
 BUILD_PLUGIN_LPAR_FALSE
 BUILD_PLUGIN_LPAR_TRUE
+BUILD_PLUGIN_LOG_LOGSTASH_FALSE
+BUILD_PLUGIN_LOG_LOGSTASH_TRUE
 BUILD_PLUGIN_LOGFILE_FALSE
 BUILD_PLUGIN_LOGFILE_TRUE
 BUILD_PLUGIN_LOAD_FALSE
 BUILD_PLUGIN_LOAD_TRUE
-BUILD_PLUGIN_LIBVIRT_FALSE
-BUILD_PLUGIN_LIBVIRT_TRUE
 BUILD_PLUGIN_JAVA_FALSE
 BUILD_PLUGIN_JAVA_TRUE
 BUILD_PLUGIN_IRQ_FALSE
 BUILD_PLUGIN_IRQ_TRUE
 BUILD_PLUGIN_IPVS_FALSE
 BUILD_PLUGIN_IPVS_TRUE
 BUILD_PLUGIN_IPTABLES_FALSE
 BUILD_PLUGIN_IPTABLES_TRUE
 BUILD_PLUGIN_IPMI_FALSE
 BUILD_PLUGIN_IPMI_TRUE
+BUILD_PLUGIN_IPC_FALSE
+BUILD_PLUGIN_IPC_TRUE
 BUILD_PLUGIN_INTERFACE_FALSE
 BUILD_PLUGIN_INTERFACE_TRUE
 BUILD_PLUGIN_HDDTEMP_FALSE
 BUILD_PLUGIN_HDDTEMP_TRUE
 BUILD_PLUGIN_GMOND_FALSE
 BUILD_PLUGIN_GMOND_TRUE
 BUILD_PLUGIN_FSCACHE_FALSE
 BUILD_PLUGIN_FSCACHE_TRUE
 BUILD_PLUGIN_FILECOUNT_FALSE
 BUILD_PLUGIN_FILECOUNT_TRUE
+BUILD_PLUGIN_FHCOUNT_FALSE
+BUILD_PLUGIN_FHCOUNT_TRUE
 BUILD_PLUGIN_EXEC_FALSE
 BUILD_PLUGIN_EXEC_TRUE
 BUILD_PLUGIN_ETHSTAT_FALSE
 BUILD_PLUGIN_ETHSTAT_TRUE
 BUILD_PLUGIN_ENTROPY_FALSE
 BUILD_PLUGIN_ENTROPY_TRUE
 BUILD_PLUGIN_EMAIL_FALSE
 BUILD_PLUGIN_EMAIL_TRUE
 BUILD_PLUGIN_DNS_FALSE
 BUILD_PLUGIN_DNS_TRUE
+BUILD_PLUGIN_DRBD_FALSE
+BUILD_PLUGIN_DRBD_TRUE
 BUILD_PLUGIN_DISK_FALSE
 BUILD_PLUGIN_DISK_TRUE
 BUILD_PLUGIN_DF_FALSE
 BUILD_PLUGIN_DF_TRUE
 BUILD_PLUGIN_DBI_FALSE
 BUILD_PLUGIN_DBI_TRUE
@@ -874,16 +898,20 @@
 BUILD_PLUGIN_CPUFREQ_FALSE
 BUILD_PLUGIN_CPUFREQ_TRUE
 BUILD_PLUGIN_CONTEXTSWITCH_FALSE
 BUILD_PLUGIN_CONTEXTSWITCH_TRUE
 BUILD_PLUGIN_CONNTRACK_FALSE
 BUILD_PLUGIN_CONNTRACK_TRUE
+BUILD_PLUGIN_CEPH_FALSE
+BUILD_PLUGIN_CEPH_TRUE
 BUILD_PLUGIN_BIND_FALSE
 BUILD_PLUGIN_BIND_TRUE
 BUILD_PLUGIN_BATTERY_FALSE
 BUILD_PLUGIN_BATTERY_TRUE
+BUILD_PLUGIN_BAROMETER_FALSE
+BUILD_PLUGIN_BAROMETER_TRUE
 BUILD_PLUGIN_ASCENT_FALSE
 BUILD_PLUGIN_ASCENT_TRUE
 BUILD_PLUGIN_AQUAERO_FALSE
 BUILD_PLUGIN_AQUAERO_TRUE
 BUILD_PLUGIN_APPLE_SENSORS_FALSE
 BUILD_PLUGIN_APPLE_SENSORS_TRUE
@@ -900,12 +928,17 @@
 BUILD_FEATURE_DAEMON_FALSE
 BUILD_FEATURE_DAEMON_TRUE
 BUILD_FEATURE_DEBUG_FALSE
 BUILD_FEATURE_DEBUG_TRUE
 LIBNOTIFY_LIBS
 LIBNOTIFY_CFLAGS
+BUILD_WITH_LIBATASMART_FALSE
+BUILD_WITH_LIBATASMART_TRUE
+BUILD_WITH_LIBATASMART_LIBS
+BUILD_WITH_LIBATASMART_LDFLAGS
+BUILD_WITH_LIBATASMART_CPPFLAGS
 BUILD_WITH_OPENIPMI_LIBS
 BUILD_WITH_OPENIPMI_CFLAGS
 BUILD_WITH_LIBVIRT_LIBS
 BUILD_WITH_LIBVIRT_CFLAGS
 BUILD_WITH_LIBXML2_LIBS
 BUILD_WITH_LIBXML2_CFLAGS
@@ -922,12 +955,16 @@
 BUILD_WITH_LIBXMMS_FALSE
 BUILD_WITH_LIBXMMS_TRUE
 BUILD_WITH_LIBXMMS_LIBS
 BUILD_WITH_LIBXMMS_CFLAGS
 BUILD_WITH_LIBUPSCLIENT_LIBS
 BUILD_WITH_LIBUPSCLIENT_CFLAGS
+BUILD_WITH_LIBUDEV_FALSE
+BUILD_WITH_LIBUDEV_TRUE
+BUILD_WITH_LIBUDEV_LDFLAGS
+BUILD_WITH_LIBUDEV_CFLAGS
 BUILD_WITH_LIBTOKYOTYRANT_FALSE
 BUILD_WITH_LIBTOKYOTYRANT_TRUE
 BUILD_WITH_LIBTOKYOTYRANT_LIBS
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS
 BUILD_WITH_LIBSTATGRAB_LDFLAGS
@@ -945,21 +982,23 @@
 GLIB_LIBS
 GLIB_CFLAGS
 BUILD_WITH_LM_SENSORS_FALSE
 BUILD_WITH_LM_SENSORS_TRUE
 BUILD_WITH_LIBSENSORS_LDFLAGS
 BUILD_WITH_LIBSENSORS_CFLAGS
-BUILD_WITH_LIBRRD_LIBS
 BUILD_WITH_LIBRRD_LDFLAGS
 BUILD_WITH_LIBRRD_CFLAGS
-RRD_LIBS
-RRD_CFLAGS
 BUILD_WITH_LIBROUTEROS_FALSE
 BUILD_WITH_LIBROUTEROS_TRUE
 BUILD_WITH_LIBROUTEROS_LDFLAGS
 BUILD_WITH_LIBROUTEROS_CPPFLAGS
+BUILD_WITH_LIBRDKAFKA_FALSE
+BUILD_WITH_LIBRDKAFKA_TRUE
+BUILD_WITH_LIBRDKAFKA_LIBS
+BUILD_WITH_LIBRDKAFKA_LDFLAGS
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS
 BUILD_WITH_LIBRABBITMQ_FALSE
 BUILD_WITH_LIBRABBITMQ_TRUE
 BUILD_WITH_LIBRABBITMQ_LIBS
 BUILD_WITH_LIBRABBITMQ_LDFLAGS
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS
 BUILD_WITH_PYTHON_LIBS
@@ -1020,26 +1059,28 @@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS
 BUILD_WITH_LIBLVM2APP_FALSE
 BUILD_WITH_LIBLVM2APP_TRUE
 BUILD_WITH_LIBLVM2APP_LIBS
 BUILD_WITH_LIBLVM2APP_LDFLAGS
 BUILD_WITH_LIBLVM2APP_CPPFLAGS
+BUILD_WITH_LIBLDAP_FALSE
+BUILD_WITH_LIBLDAP_TRUE
+BUILD_WITH_LIBLDAP_LDFLAGS
+BUILD_WITH_LIBLDAP_CPPFLAGS
 BUILD_WITH_JAVA_FALSE
 BUILD_WITH_JAVA_TRUE
 JAVA_LIBS
 JAVA_LDFLAGS
 JAVA_CFLAGS
 JAVA_CPPFLAGS
 JAR
 JAVAC
 BUILD_WITH_LIBIPTC_LDFLAGS
 BUILD_WITH_LIBIPTC_CPPFLAGS
 BUILD_WITH_LIBIPTC_FALSE
 BUILD_WITH_LIBIPTC_TRUE
-BUILD_WITH_OWN_LIBIPTC_FALSE
-BUILD_WITH_OWN_LIBIPTC_TRUE
 BUILD_WITH_LIBGCRYPT_FALSE
 BUILD_WITH_LIBGCRYPT_TRUE
 GCRYPT_LIBS
 GCRYPT_LDFLAGS
 GCRYPT_CPPFLAGS
 LIBGCRYPT_LIBS
@@ -1058,16 +1099,16 @@
 BUILD_WITH_LIBDBI_LDFLAGS
 BUILD_WITH_LIBDBI_CPPFLAGS
 BUILD_WITH_LIBCURL_FALSE
 BUILD_WITH_LIBCURL_TRUE
 BUILD_WITH_LIBCURL_LIBS
 BUILD_WITH_LIBCURL_CFLAGS
-BUILD_WITH_LIBCREDIS_FALSE
-BUILD_WITH_LIBCREDIS_TRUE
-BUILD_WITH_LIBCREDIS_LDFLAGS
-BUILD_WITH_LIBCREDIS_CPPFLAGS
+BUILD_WITH_LIBHIREDIS_FALSE
+BUILD_WITH_LIBHIREDIS_TRUE
+BUILD_WITH_LIBHIREDIS_LDFLAGS
+BUILD_WITH_LIBHIREDIS_CPPFLAGS
 BUILD_WITH_LIBAQUAERO5_FALSE
 BUILD_WITH_LIBAQUAERO5_TRUE
 BUILD_WITH_LIBAQUAERO5_LDFLAGS
 BUILD_WITH_LIBAQUAERO5_CFLAGS
 BUILD_WITH_LIBKVM_OPENFILES_FALSE
 BUILD_WITH_LIBKVM_OPENFILES_TRUE
@@ -1082,16 +1123,12 @@
 BUILD_WITH_LIBDEVINFO_FALSE
 BUILD_WITH_LIBDEVINFO_TRUE
 BUILD_WITH_LIBKSTAT_FALSE
 BUILD_WITH_LIBKSTAT_TRUE
 BUILD_WITH_PERFSTAT_FALSE
 BUILD_WITH_PERFSTAT_TRUE
-BUILD_AIX_FALSE
-BUILD_AIX_TRUE
-BUILD_FREEBSD_FALSE
-BUILD_FREEBSD_TRUE
 BUILD_WITH_LIBHAL_LIBS
 BUILD_WITH_LIBHAL_CFLAGS
 BUILD_WITH_LIBRESOLV_FALSE
 BUILD_WITH_LIBRESOLV_TRUE
 BUILD_WITH_LIBPOSIX4_FALSE
 BUILD_WITH_LIBPOSIX4_TRUE
@@ -1103,12 +1140,24 @@
 IP_VS_H_NEEDS_KERNEL_CFLAGS_TRUE
 BUILD_FEATURE_STANDARDS_FALSE
 BUILD_FEATURE_STANDARDS_TRUE
 pkgconfigdir
 KERNEL_CFLAGS
 KERNEL_DIR
+BUILD_FREEBSD_FALSE
+BUILD_FREEBSD_TRUE
+BUILD_AIX_FALSE
+BUILD_AIX_TRUE
+BUILD_OPENBSD_FALSE
+BUILD_OPENBSD_TRUE
+BUILD_DARWIN_FALSE
+BUILD_DARWIN_TRUE
+BUILD_SOLARIS_FALSE
+BUILD_SOLARIS_TRUE
+BUILD_LINUX_FALSE
+BUILD_LINUX_TRUE
 HAVE_PROTOC_C_FALSE
 HAVE_PROTOC_C_TRUE
 have_protoc_c
 PKG_CONFIG_LIBDIR
 PKG_CONFIG_PATH
 PKG_CONFIG
@@ -1151,14 +1200,12 @@
 PACKAGE
 CYGPATH_W
 am__isrc
 INSTALL_DATA
 INSTALL_SCRIPT
 INSTALL_PROGRAM
-BUILD_INCLUDED_LTDL_FALSE
-BUILD_INCLUDED_LTDL_TRUE
 LTDLOPEN
 LT_CONFIG_H
 subdirs
 CONVENIENCE_LTDL_FALSE
 CONVENIENCE_LTDL_TRUE
 INSTALL_LTDL_FALSE
@@ -1269,22 +1316,24 @@
 enable_dependency_tracking
 enable_silent_rules
 enable_largefile
 enable_standards
 with_nan_emulation
 with_fp_layout
+with_useragent
 with_libaquaero5
-with_libcredis
+with_libhiredis
 with_libcurl
 with_libdbi
 with_libesmtp
 with_libganglia
 with_libgcrypt
 with_libgcrypt_prefix
 with_libiptc
 with_java
+with_libldap
 with_liblvm2app
 with_libmemcached
 with_libmodbus
 with_libmongoc
 with_libmysql
 with_libmnl
@@ -1297,67 +1346,75 @@
 with_libpcap
 with_libperl
 with_libpq
 with_libpthread
 with_python
 with_librabbitmq
+with_librdkafka
 with_librouteros
 with_librrd
 with_libsensors
 with_libsigrok
 enable_glibtest
 with_libstatgrab
 with_libtokyotyrant
+with_libudev
 with_libupsclient
 with_libxmms
 with_libyajl
 with_mic
 with_libvarnish
+with_libatasmart
 enable_debug
 enable_daemon
 enable_getifaddrs
 enable_all_plugins
 enable_aggregation
 enable_amqp
 enable_apache
 enable_apcups
 enable_apple_sensors
 enable_aquaero
 enable_ascent
+enable_barometer
 enable_battery
 enable_bind
+enable_ceph
 enable_conntrack
 enable_contextswitch
 enable_cpufreq
 enable_cpu
 enable_csv
 enable_curl
 enable_curl_json
 enable_curl_xml
 enable_cgroups
 enable_dbi
 enable_df
 enable_disk
+enable_drbd
 enable_dns
 enable_email
 enable_entropy
 enable_ethstat
 enable_exec
+enable_fhcount
 enable_filecount
 enable_fscache
 enable_gmond
 enable_hddtemp
 enable_interface
+enable_ipc
 enable_ipmi
 enable_iptables
 enable_ipvs
 enable_irq
 enable_java
-enable_libvirt
 enable_load
 enable_logfile
+enable_log_logstash
 enable_lpar
 enable_lvm
 enable_madwifi
 enable_match_empty_counter
 enable_match_hashed
 enable_match_regex
@@ -1381,12 +1438,13 @@
 enable_notify_email
 enable_ntpd
 enable_numa
 enable_nut
 enable_olsrd
 enable_onewire
+enable_openldap
 enable_openvpn
 enable_oracle
 enable_perl
 enable_pf
 enable_pinba
 enable_ping
@@ -1399,12 +1457,13 @@
 enable_routeros
 enable_rrdcached
 enable_rrdtool
 enable_sensors
 enable_serial
 enable_sigrok
+enable_smart
 enable_snmp
 enable_statsd
 enable_swap
 enable_syslog
 enable_table
 enable_tail
@@ -1418,27 +1477,34 @@
 enable_tcpconns
 enable_teamspeak2
 enable_ted
 enable_thermal
 enable_threshold
 enable_tokyotyrant
+enable_turbostat
 enable_unixsock
 enable_uptime
 enable_users
 enable_uuid
 enable_varnish
+enable_virt
 enable_vmem
 enable_vserver
 enable_wireless
 enable_write_graphite
 enable_write_http
+enable_write_kafka
+enable_write_log
 enable_write_mongodb
 enable_write_redis
 enable_write_riemann
+enable_write_sensu
+enable_write_tsdb
 enable_xmms
 enable_zfs_arc
+enable_zookeeper
 with_perl_bindings
 '
       ac_precious_vars='build_alias
 host_alias
 target_alias
 CC
@@ -1453,14 +1519,12 @@
 PKG_CONFIG_PATH
 PKG_CONFIG_LIBDIR
 KERNEL_DIR
 LIBNETAPP_CPPFLAGS
 LIBNETAPP_LDFLAGS
 LIBNETAPP_LIBS
-RRD_CFLAGS
-RRD_LIBS
 LIBNOTIFY_CFLAGS
 LIBNOTIFY_LIBS'
 ac_subdirs_all='libltdl'
 
 # Initialize some variables set by options.
 ac_init_help=
@@ -1997,13 +2061,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 5.4.3 to adapt to many kinds of systems.
+\`configure' configures collectd 5.5.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -2067,13 +2131,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 5.4.3:";;
+     short | recursive ) echo "Configuration of collectd 5.5.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-option-checking  ignore unrecognized --enable/--with options
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
@@ -2106,44 +2170,49 @@
   --enable-amqp           AMQP output plugin
   --enable-apache         Apache httpd statistics
   --enable-apcups         Statistics of UPSes by APC
   --enable-apple_sensors  Apple's hardware sensors
   --enable-aquaero        Aquaero's hardware sensors
   --enable-ascent         AscentEmu player statistics
+  --enable-barometer      Barometer sensor on I2C
   --enable-battery        Battery statistics
   --enable-bind           ISC Bind nameserver statistics
+  --enable-ceph           Ceph daemon statistics
   --enable-conntrack      nf_conntrack statistics
   --enable-contextswitch  context switch statistics
   --enable-cpufreq        CPU frequency statistics
   --enable-cpu            CPU usage statistics
   --enable-csv            CSV output plugin
   --enable-curl           CURL generic web statistics
   --enable-curl_json      CouchDB statistics
   --enable-curl_xml       CURL generic xml statistics
   --enable-cgroups        CGroups CPU usage accounting
   --enable-dbi            General database statistics
   --enable-df             Filesystem usage statistics
   --enable-disk           Disk usage statistics
+  --enable-drbd           DRBD statistics
   --enable-dns            DNS traffic analysis
   --enable-email          EMail statistics
   --enable-entropy        Entropy statistics
   --enable-ethstat        Stats from NIC driver
   --enable-exec           Execution of external programs
+  --enable-fhcount        File handles statistics
   --enable-filecount      Count files in directories
   --enable-fscache        fscache statistics
   --enable-gmond          Ganglia plugin
   --enable-hddtemp        Query hddtempd
   --enable-interface      Interface traffic statistics
+  --enable-ipc            IPC statistics
   --enable-ipmi           IPMI sensor statistics
   --enable-iptables       IPTables rule counters
   --enable-ipvs           IPVS connection statistics
   --enable-irq            IRQ statistics
   --enable-java           Embed the Java Virtual Machine
-  --enable-libvirt        Virtual machine statistics
   --enable-load           System load
   --enable-logfile        File logging plugin
+  --enable-log_logstash   Logstash json_event compatible logging
   --enable-lpar           AIX logical partitions statistics
   --enable-lvm            LVM statistics
   --enable-madwifi        Madwifi wireless statistics
   --enable-match_empty_counter
                           The empty counter match
   --enable-match_hashed   The hashed match
@@ -2168,12 +2237,13 @@
   --enable-notify_email   Email notifier
   --enable-ntpd           NTPd statistics
   --enable-numa           NUMA virtual memory statistics
   --enable-nut            Network UPS tools statistics
   --enable-olsrd          olsrd statistics
   --enable-onewire        OneWire sensor statistics
+  --enable-openldap       OpenLDAP statistics
   --enable-openvpn        OpenVPN client statistics
   --enable-oracle         Oracle plugin
   --enable-perl           Embed a Perl interpreter
   --enable-pf             BSD packet filter (PF) statistics
   --enable-pinba          Pinba statistics
   --enable-ping           Network latency statistics
@@ -2186,12 +2256,13 @@
   --enable-routeros       RouterOS plugin
   --enable-rrdcached      RRDTool output plugin
   --enable-rrdtool        RRDTool output plugin
   --enable-sensors        lm_sensors statistics
   --enable-serial         serial port traffic
   --enable-sigrok         sigrok acquisition sources
+  --enable-smart          SMART statistics
   --enable-snmp           SNMP querying plugin
   --enable-statsd         StatsD plugin
   --enable-swap           Swap usage statistics
   --enable-syslog         Syslog logging plugin
   --enable-table          Parsing of tabular data
   --enable-tail           Parsing of logfiles
@@ -2207,27 +2278,34 @@
   --enable-tcpconns       TCP connection statistics
   --enable-teamspeak2     TeamSpeak2 server statistics
   --enable-ted            Read The Energy Detective values
   --enable-thermal        Linux ACPI thermal zone statistics
   --enable-threshold      Threshold checking plugin
   --enable-tokyotyrant    TokyoTyrant database statistics
+  --enable-turbostat      Advanced statistic on Intel cpu states
   --enable-unixsock       Unixsock communication plugin
   --enable-uptime         Uptime statistics
   --enable-users          User statistics
   --enable-uuid           UUID as hostname plugin
   --enable-varnish        Varnish cache statistics
+  --enable-virt           Virtual machine statistics
   --enable-vmem           Virtual memory statistics
   --enable-vserver        Linux VServer statistics
   --enable-wireless       Wireless statistics
   --enable-write_graphite Graphite / Carbon output plugin
   --enable-write_http     HTTP output plugin
+  --enable-write_kafka    Kafka output plugin
+  --enable-write_log      Log output plugin
   --enable-write_mongodb  MongoDB output plugin
   --enable-write_redis    Redis output plugin
   --enable-write_riemann  Riemann output plugin
+  --enable-write_sensu    Sensu output plugin
+  --enable-write_tsdb     TSDB output plugin
   --enable-xmms           XMMS statistics
   --enable-zfs_arc        ZFS ARC statistics
+  --enable-zookeeper      Zookeeper statistics
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
   --with-pic[=PKGS]       try to use only PIC/non-PIC objects [default=use
                           both]
@@ -2237,30 +2315,33 @@
   --with-included-ltdl    use the GNU ltdl sources included here
   --with-ltdl-include=DIR use the ltdl headers installed in DIR
   --with-ltdl-lib=DIR     use the libltdl.la installed in DIR
   --with-nan-emulation    use emulated NAN. For crosscompiling only.
   --with-fp-layout        set the memory layout of doubles. For crosscompiling
                           only.
+  --with-useragent[=AGENT]
+                          User agent to use on http requests
 
 collectd additional packages:
   --with-libaquaero5[=PREFIX]
                           Path to aquatools-ng source code.
-  --with-libcredis[=PREFIX]
-                          Path to libcredis.
+  --with-libhiredis[=PREFIX]
+                          Path to libhiredis.
   --with-libcurl[=PREFIX] Path to libcurl.
   --with-libdbi[=PREFIX]  Path to libdbi.
   --with-libesmtp[=PREFIX]
                           Path to libesmtp.
   --with-libganglia[=PREFIX]
                           Path to libganglia.
   --with-libgcrypt[=PREFIX]
                           Path to libgcrypt.
   --with-libgcrypt-prefix=PFX
                           prefix where LIBGCRYPT is installed (optional)
   --with-libiptc[=PREFIX] Path to libiptc.
   --with-java[=PREFIX]    Path to Java home.
+  --with-libldap[=PREFIX] Path to libldap.
   --with-liblvm2app[=PREFIX]
                           Path to liblvm2app.
   --with-libmemcached[=PREFIX]
                           Path to libmemcached.
   --with-libmodbus[=PREFIX]
                           Path to the modbus library.
@@ -2286,30 +2367,35 @@
   --with-libpq[=PREFIX]   Path to libpq.
   --with-libpthread=[=PREFIX]
                           Path to libpthread.
   --with-python[=PREFIX]  Path to the python interpreter.
   --with-librabbitmq[=PREFIX]
                           Path to librabbitmq.
+  --with-librdkafka[=PREFIX]
+                          Path to librdkafka.
   --with-librouteros[=PREFIX]
                           Path to librouteros.
   --with-librrd[=PREFIX]  Path to rrdtool.
   --with-libsensors[=PREFIX]
                           Path to lm_sensors.
   --with-libsigrok[=PREFIX]
                           Path to libsigrok.
   --with-libstatgrab[=PREFIX]
                           Path to libstatgrab.
   --with-libtokyotyrant[=PREFIX]
                           Path to libtokyotyrant.
+  --with-libudev[=PREFIX] Path to libudev.
   --with-libupsclient[=PREFIX]
                           Path to the upsclient library.
   --with-libxmms[=PREFIX] Path to libxmms.
   --with-libyajl[=PREFIX] Path to libyajl.
   --with-mic[=PREFIX]     Path to Intel MIC Access API.
   --with-libvarnish[=PREFIX]
                           Path to libvarnish.
+  --with-libatasmart[=PREFIX]
+                          Path to libatasmart.
   --with-perl-bindings[=OPTIONS]
                           Options passed to "perl Makefile.PL".
 
 Some influential environment variables:
   CC          C compiler command
   CFLAGS      C compiler flags
@@ -2334,14 +2420,12 @@
   LIBNETAPP_CPPFLAGS
               C preprocessor flags required to build with libnetapp
   LIBNETAPP_LDFLAGS
               Linker flags required to build with libnetapp
   LIBNETAPP_LIBS
               Other libraries required to link against libnetapp
-  RRD_CFLAGS  C compiler flags for RRD, overriding pkg-config
-  RRD_LIBS    linker flags for RRD, overriding pkg-config
   LIBNOTIFY_CFLAGS
               C compiler flags for LIBNOTIFY, overriding pkg-config
   LIBNOTIFY_LIBS
               linker flags for LIBNOTIFY, overriding pkg-config
 
 Use these variables to override the choices made by `configure' or to help
@@ -2407,13 +2491,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 5.4.3
+collectd configure 5.5.0
 generated by GNU Autoconf 2.69
 
 Copyright (C) 2012 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -2869,12 +2953,66 @@
 $as_echo "$ac_res" >&6; }
 fi
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
 
 } # ac_fn_c_check_header_mongrel
 
+# ac_fn_c_find_uintX_t LINENO BITS VAR
+# ------------------------------------
+# Finds an unsigned integer type with width BITS, setting cache variable VAR
+# accordingly.
+ac_fn_c_find_uintX_t ()
+{
+  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for uint$2_t" >&5
+$as_echo_n "checking for uint$2_t... " >&6; }
+if eval \${$3+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  eval "$3=no"
+     # Order is important - never check a type that is potentially smaller
+     # than half of the expected target width.
+     for ac_type in uint$2_t 'unsigned int' 'unsigned long int' \
+	 'unsigned long long int' 'unsigned short int' 'unsigned char'; do
+       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+$ac_includes_default
+int
+main ()
+{
+static int test_array [1 - 2 * !((($ac_type) -1 >> ($2 / 2 - 1)) >> ($2 / 2 - 1) == 3)];
+test_array [0] = 0;
+return test_array [0];
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"; then :
+  case $ac_type in #(
+  uint$2_t) :
+    eval "$3=yes" ;; #(
+  *) :
+    eval "$3=\$ac_type" ;;
+esac
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+       if eval test \"x\$"$3"\" = x"no"; then :
+
+else
+  break
+fi
+     done
+fi
+eval ac_res=\$$3
+	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
+$as_echo "$ac_res" >&6; }
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+
+} # ac_fn_c_find_uintX_t
+
 # ac_fn_c_check_member LINENO AGGR MEMBER VAR INCLUDES
 # ----------------------------------------------------
 # Tries to find if the field MEMBER exists in type AGGR, after including
 # INCLUDES, setting cache variable VAR accordingly.
 ac_fn_c_check_member ()
 {
@@ -2929,13 +3067,13 @@
 
 } # ac_fn_c_check_member
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 5.4.3, which was
+It was created by collectd $as_me 5.5.0, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -12887,21 +13023,12 @@
 
 $as_echo "#define LIBTOOL_VERSION 2" >>confdefs.h
 
 
 
 
- if test "x$LTDLDEPS" != "x"; then
-  BUILD_INCLUDED_LTDL_TRUE=
-  BUILD_INCLUDED_LTDL_FALSE='#'
-else
-  BUILD_INCLUDED_LTDL_TRUE='#'
-  BUILD_INCLUDED_LTDL_FALSE=
-fi
-
-
 am__api_version='1.14'
 
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
 # SysV /etc/install, /usr/sbin/install
@@ -13400,13 +13527,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='5.4.3'
+ VERSION='5.5.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -14692,79 +14819,12 @@
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
-$as_echo_n "checking for egrep... " >&6; }
-if ${ac_cv_path_EGREP+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
-   then ac_cv_path_EGREP="$GREP -E"
-   else
-     if test -z "$EGREP"; then
-  ac_path_EGREP_found=false
-  # Loop through the user's path and test for each of PROGNAME-LIST
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-    for ac_prog in egrep; do
-    for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_EGREP" || continue
-# Check for GNU ac_path_EGREP and select it if it is found.
-  # Check for GNU $ac_path_EGREP
-case `"$ac_path_EGREP" --version 2>&1` in
-*GNU*)
-  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
-*)
-  ac_count=0
-  $as_echo_n 0123456789 >"conftest.in"
-  while :
-  do
-    cat "conftest.in" "conftest.in" >"conftest.tmp"
-    mv "conftest.tmp" "conftest.in"
-    cp "conftest.in" "conftest.nl"
-    $as_echo 'EGREP' >> "conftest.nl"
-    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
-    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
-    as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
-      # Best one so far, save it but keep looking for a better one
-      ac_cv_path_EGREP="$ac_path_EGREP"
-      ac_path_EGREP_max=$ac_count
-    fi
-    # 10*(2^10) chars as input seems more than enough
-    test $ac_count -gt 10 && break
-  done
-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
-esac
-
-      $ac_path_EGREP_found && break 3
-    done
-  done
-  done
-IFS=$as_save_IFS
-  if test -z "$ac_cv_path_EGREP"; then
-    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
-  fi
-else
-  ac_cv_path_EGREP=$EGREP
-fi
-
-   fi
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
-$as_echo "$ac_cv_path_EGREP" >&6; }
- EGREP="$ac_cv_path_EGREP"
-
-
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ln -s works" >&5
 $as_echo_n "checking whether ln -s works... " >&6; }
 LN_S=$as_ln_s
 if test "$LN_S" = "ln -s"; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
@@ -15044,16 +15104,12 @@
 
   test -n "$YACC" && break
 done
 test -n "$YACC" || YACC="yacc"
 
 
-# Warn when pkg.m4 is missing
-
-
-
 
 
 
 
 
 
@@ -15168,33 +15224,12 @@
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 		PKG_CONFIG=""
 	fi
 fi
 
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if bison is the parser generator" >&5
-$as_echo_n "checking if bison is the parser generator... " >&6; }
-if ${collectd_cv_prog_bison+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  if $YACC --version 2>/dev/null | $EGREP -q '^bison '; then :
-  collectd_cv_prog_bison=yes
-else
-  collectd_cv_prog_bison=no
-
-fi
-
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $collectd_cv_prog_bison" >&5
-$as_echo "$collectd_cv_prog_bison" >&6; }
-
-if test "x$collectd_cv_prog_bison" = "xno" && test ! -f "${srcdir}/src/liboconfig/parser.c"
-then
-	as_fn_error $? "bison is missing and you do not have ${srcdir}/src/liboconfig/parser.c. Please install bison" "$LINENO" 5
-fi
-
 # Extract the first word of "protoc-c", so it can be a program name with args.
 set dummy protoc-c; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
 if ${ac_cv_prog_have_protoc_c+:} false; then :
   $as_echo_n "(cached) " >&6
@@ -15227,80 +15262,29 @@
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
 
 
-if test "x$have_protoc_c" = "xno"
-then
-	have_protoc_c="no (protoc-c compiler not found)"
-fi
-
-if test "x$have_protoc_c" = "xyes"
-then
-	for ac_header in protobuf-c/protobuf-c.h google/protobuf-c/protobuf-c.h
+for ac_header in google/protobuf-c/protobuf-c.h
 do :
-  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
-ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
+  ac_fn_c_check_header_mongrel "$LINENO" "google/protobuf-c/protobuf-c.h" "ac_cv_header_google_protobuf_c_protobuf_c_h" "$ac_includes_default"
+if test "x$ac_cv_header_google_protobuf_c_protobuf_c_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
-#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
+#define HAVE_GOOGLE_PROTOBUF_C_PROTOBUF_C_H 1
 _ACEOF
- have_protoc_c="yes"; break
+ have_protobuf_c_h="yes"
 else
-  have_protoc_c="no (<google/protobuf-c/protobuf-c.h> not found)"
+  have_protobuf_c_h="no"
 fi
 
 done
 
-fi
-if test "x$have_protoc_c" = "xyes"
+if test "x$have_protoc_c" = "xyes" && test "x$have_protobuf_c_h" != "xyes"
 then
-	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for protobuf_c_message_pack in -lprotobuf-c" >&5
-$as_echo_n "checking for protobuf_c_message_pack in -lprotobuf-c... " >&6; }
-if ${ac_cv_lib_protobuf_c_protobuf_c_message_pack+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lprotobuf-c  $LIBS"
-cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char protobuf_c_message_pack ();
-int
-main ()
-{
-return protobuf_c_message_pack ();
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_protobuf_c_protobuf_c_message_pack=yes
-else
-  ac_cv_lib_protobuf_c_protobuf_c_message_pack=no
-fi
-rm -f core conftest.err conftest.$ac_objext \
-    conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_protobuf_c_protobuf_c_message_pack" >&5
-$as_echo "$ac_cv_lib_protobuf_c_protobuf_c_message_pack" >&6; }
-if test "x$ac_cv_lib_protobuf_c_protobuf_c_message_pack" = xyes; then :
-  have_protoc_c="yes"
-else
-  have_protoc_c="no (libprotobuf-c not found)"
-fi
-
-
+	have_protoc_c="no (unable to find <google/protobuf-c/protobuf-c.h>)"
 fi
  if test "x$have_protoc_c" = "xyes"; then
   HAVE_PROTOC_C_TRUE=
   HAVE_PROTOC_C_FALSE='#'
 else
   HAVE_PROTOC_C_TRUE='#'
@@ -15321,15 +15305,21 @@
 
 $as_echo "#define KERNEL_SOLARIS 1" >>confdefs.h
 
 	ac_system="Solaris"
 	;;
 	*darwin*)
+
+$as_echo "#define KERNEL_DARWIN 1" >>confdefs.h
+
 	ac_system="Darwin"
 	;;
 	*openbsd*)
+
+$as_echo "#define KERNEL_OPENBSD 1" >>confdefs.h
+
 	ac_system="OpenBSD"
 	;;
 	*aix*)
 
 $as_echo "#define KERNEL_AIX 1" >>confdefs.h
 
@@ -15344,12 +15334,61 @@
 	*)
 	ac_system="unknown"
 esac
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_system" >&5
 $as_echo "$ac_system" >&6; }
 
+ if test "x$x$ac_system" = "xLinux"; then
+  BUILD_LINUX_TRUE=
+  BUILD_LINUX_FALSE='#'
+else
+  BUILD_LINUX_TRUE='#'
+  BUILD_LINUX_FALSE=
+fi
+
+ if test "x$x$ac_system" = "xSolaris"; then
+  BUILD_SOLARIS_TRUE=
+  BUILD_SOLARIS_FALSE='#'
+else
+  BUILD_SOLARIS_TRUE='#'
+  BUILD_SOLARIS_FALSE=
+fi
+
+ if test "x$x$ac_system" = "xDarwin"; then
+  BUILD_DARWIN_TRUE=
+  BUILD_DARWIN_FALSE='#'
+else
+  BUILD_DARWIN_TRUE='#'
+  BUILD_DARWIN_FALSE=
+fi
+
+ if test "x$x$ac_system" = "xOpenBSD"; then
+  BUILD_OPENBSD_TRUE=
+  BUILD_OPENBSD_FALSE='#'
+else
+  BUILD_OPENBSD_TRUE='#'
+  BUILD_OPENBSD_FALSE=
+fi
+
+ if test "x$x$ac_system" = "xAIX"; then
+  BUILD_AIX_TRUE=
+  BUILD_AIX_FALSE='#'
+else
+  BUILD_AIX_TRUE='#'
+  BUILD_AIX_FALSE=
+fi
+
+ if test "x$x$ac_system" = "xFreeBSD"; then
+  BUILD_FREEBSD_TRUE=
+  BUILD_FREEBSD_FALSE='#'
+else
+  BUILD_FREEBSD_TRUE='#'
+  BUILD_FREEBSD_FALSE=
+fi
+
+
 if test "x$ac_system" = "xLinux"
 then
 
 	if test -z "$KERNEL_DIR"
 	then
 		KERNEL_DIR="/lib/modules/`uname -r`/source"
@@ -16067,80 +16106,12 @@
 
 fi
 
 done
 
 
-have_ip6_ext="no"
-ac_fn_c_check_type "$LINENO" "struct ip6_ext" "ac_cv_type_struct_ip6_ext" "#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP6_H
-# include <netinet/ip6.h>
-#endif
-
-"
-if test "x$ac_cv_type_struct_ip6_ext" = xyes; then :
-
-cat >>confdefs.h <<_ACEOF
-#define HAVE_STRUCT_IP6_EXT 1
-_ACEOF
-
-have_ip6_ext="yes"
-else
-  have_ip6_ext="no"
-fi
-
-
-if test "x$have_ip6_ext" = "xno"; then
-	SAVE_CFLAGS="$CFLAGS"
-	CFLAGS="$CFLAGS -DSOLARIS2=8"
-
-	ac_fn_c_check_type "$LINENO" "struct ip6_ext" "ac_cv_type_struct_ip6_ext" "#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP6_H
-# include <netinet/ip6.h>
-#endif
-
-"
-if test "x$ac_cv_type_struct_ip6_ext" = xyes; then :
-
-cat >>confdefs.h <<_ACEOF
-#define HAVE_STRUCT_IP6_EXT 1
-_ACEOF
-
-have_ip6_ext="yes, with -DSOLARIS2=8"
-else
-  have_ip6_ext="no"
-fi
-
-
-	if test "x$have_ip6_ext" = "xno"; then
-		CFLAGS="$SAVE_CFLAGS"
-	fi
-fi
-
 # For cpu modules
 for ac_header in sys/dkstat.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "sys/dkstat.h" "ac_cv_header_sys_dkstat_h" "$ac_includes_default"
 if test "x$ac_cv_header_sys_dkstat_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
@@ -16683,34 +16654,13 @@
 
 fi
 
 done
 
 
-for ac_header in  \
-  ctype.h \
-  fs_info.h \
-  fshelp.h \
-  grp.h \
-  kvm.h \
-  limits.h \
-  mntent.h \
-  mnttab.h \
-  paths.h \
-  pwd.h \
-  sys/fs_types.h \
-  sys/fstyp.h \
-  sys/mntent.h \
-  sys/mnttab.h \
-  sys/statfs.h \
-  sys/statvfs.h \
-  sys/un.h \
-  sys/vfs.h \
-  sys/vfstab.h \
-  wordexp.h \
-
+for ac_header in pwd.h grp.h sys/un.h ctype.h limits.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h sys/vmmeter.h kvm.h wordexp.h locale.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
 if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
@@ -16718,28 +16668,12 @@
 
 fi
 
 done
 
 
-for ac_header in xfs/xqm.h
-do :
-  ac_fn_c_check_header_compile "$LINENO" "xfs/xqm.h" "ac_cv_header_xfs_xqm_h" "
-#define _GNU_SOURCE
-
-"
-if test "x$ac_cv_header_xfs_xqm_h" = xyes; then :
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_XFS_XQM_H 1
-_ACEOF
-
-fi
-
-done
-
-
 # For the dns plugin
 for ac_header in arpa/nameser.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "arpa/nameser.h" "ac_cv_header_arpa_nameser_h" "$ac_includes_default"
 if test "x$ac_cv_header_arpa_nameser_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
@@ -16864,15 +16798,12 @@
 #if HAVE_SYS_SOCKET_H
 # include <sys/socket.h>
 #endif
 #if HAVE_NET_IF_H
 # include <net/if.h>
 #endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
 
 "
 if test "x$ac_cv_header_net_pfvar_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_NET_PFVAR_H 1
 _ACEOF
@@ -16896,12 +16827,89 @@
  have_termios_h="yes"
 fi
 
 done
 
 
+# For the turbostat plugin
+have_asm_msrindex_h="no"
+for ac_header in asm/msr-index.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "asm/msr-index.h" "ac_cv_header_asm_msr_index_h" "$ac_includes_default"
+if test "x$ac_cv_header_asm_msr_index_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_ASM_MSR_INDEX_H 1
+_ACEOF
+ have_asm_msrindex_h="yes"
+fi
+
+done
+
+
+if test "x$have_asm_msrindex_h" = "xyes"
+then
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether asm/msr-index.h has MSR_CORE_C3_RESIDENCY" >&5
+$as_echo_n "checking whether asm/msr-index.h has MSR_CORE_C3_RESIDENCY... " >&6; }
+if ${c_cv_have_usable_asm_msrindex_h+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include<asm/msr-index.h>
+
+int
+main ()
+{
+
+int y = MSR_CORE_C3_RESIDENCY;
+return(y);
+
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"; then :
+  c_cv_have_usable_asm_msrindex_h="yes"
+else
+  c_cv_have_usable_asm_msrindex_h="no"
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $c_cv_have_usable_asm_msrindex_h" >&5
+$as_echo "$c_cv_have_usable_asm_msrindex_h" >&6; }
+fi
+
+have_cpuid_h="no"
+for ac_header in cpuid.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "cpuid.h" "ac_cv_header_cpuid_h" "$ac_includes_default"
+if test "x$ac_cv_header_cpuid_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_CPUID_H 1
+_ACEOF
+ have_cpuid_h="yes"
+fi
+
+done
+
+
+for ac_header in sys/capability.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "sys/capability.h" "ac_cv_header_sys_capability_h" "$ac_includes_default"
+if test "x$ac_cv_header_sys_capability_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_SYS_CAPABILITY_H 1
+_ACEOF
+
+fi
+
+done
+
 #
 # Checks for typedefs, structures, and compiler characteristics.
 #
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for an ANSI C-conforming const" >&5
 $as_echo_n "checking for an ANSI C-conforming const... " >&6; }
 if ${ac_cv_c_const+:} false; then :
@@ -16980,12 +16988,65 @@
 if test $ac_cv_c_const = no; then
 
 $as_echo "#define const /**/" >>confdefs.h
 
 fi
 
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for inline" >&5
+$as_echo_n "checking for inline... " >&6; }
+if ${ac_cv_c_inline+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_cv_c_inline=no
+for ac_kw in inline __inline__ __inline; do
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#ifndef __cplusplus
+typedef int foo_t;
+static $ac_kw foo_t static_foo () {return 0; }
+$ac_kw foo_t foo () {return 0; }
+#endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"; then :
+  ac_cv_c_inline=$ac_kw
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+  test "$ac_cv_c_inline" != no && break
+done
+
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_inline" >&5
+$as_echo "$ac_cv_c_inline" >&6; }
+
+case $ac_cv_c_inline in
+  inline | yes) ;;
+  *)
+    case $ac_cv_c_inline in
+      no) ac_val=;;
+      *) ac_val=$ac_cv_c_inline;;
+    esac
+    cat >>confdefs.h <<_ACEOF
+#ifndef __cplusplus
+#define inline $ac_val
+#endif
+_ACEOF
+    ;;
+esac
+
+ac_fn_c_check_type "$LINENO" "off_t" "ac_cv_type_off_t" "$ac_includes_default"
+if test "x$ac_cv_type_off_t" = xyes; then :
+
+else
+
+cat >>confdefs.h <<_ACEOF
+#define off_t long int
+_ACEOF
+
+fi
+
 ac_fn_c_check_type "$LINENO" "pid_t" "ac_cv_type_pid_t" "$ac_includes_default"
 if test "x$ac_cv_type_pid_t" = xyes; then :
 
 else
 
 cat >>confdefs.h <<_ACEOF
@@ -17002,12 +17063,23 @@
 cat >>confdefs.h <<_ACEOF
 #define size_t unsigned int
 _ACEOF
 
 fi
 
+ac_fn_c_check_type "$LINENO" "ssize_t" "ac_cv_type_ssize_t" "$ac_includes_default"
+if test "x$ac_cv_type_ssize_t" = xyes; then :
+
+else
+
+cat >>confdefs.h <<_ACEOF
+#define ssize_t int
+_ACEOF
+
+fi
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for uid_t in sys/types.h" >&5
 $as_echo_n "checking for uid_t in sys/types.h... " >&6; }
 if ${ac_cv_type_uid_t+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -17032,12 +17104,26 @@
 
 
 $as_echo "#define gid_t int" >>confdefs.h
 
 fi
 
+ac_fn_c_find_uintX_t "$LINENO" "32" "ac_cv_c_uint32_t"
+case $ac_cv_c_uint32_t in #(
+  no|yes) ;; #(
+  *)
+
+$as_echo "#define _UINT32_T 1" >>confdefs.h
+
+
+cat >>confdefs.h <<_ACEOF
+#define uint32_t $ac_cv_c_uint32_t
+_ACEOF
+;;
+  esac
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether time.h and sys/time.h may both be included" >&5
 $as_echo_n "checking whether time.h and sys/time.h may both be included... " >&6; }
 if ${ac_cv_header_time+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -17113,13 +17199,13 @@
 $as_echo "$ac_cv_prog_gcc_traditional" >&6; }
   if test $ac_cv_prog_gcc_traditional = yes; then
     CC="$CC -traditional"
   fi
 fi
 
-for ac_func in gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog sysconf setenv if_indextoname
+for ac_func in gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog sysconf setenv if_indextoname setlocale
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
 if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -17935,13 +18021,15 @@
 
 #if HAVE_SYS_SWAP_H && !defined(_LP64) && _FILE_OFFSET_BITS == 64
 #  undef _FILE_OFFSET_BITS
 #  undef _LARGEFILE64_SOURCE
 #endif
 #include <sys/stat.h>
+#include <sys/param.h>
 #include <sys/swap.h>
+#include <unistd.h>
 
 int
 main ()
 {
 
 int num = swapctl(0, NULL);
@@ -17972,13 +18060,15 @@
 
 #if HAVE_SYS_SWAP_H && !defined(_LP64) && _FILE_OFFSET_BITS == 64
 #  undef _FILE_OFFSET_BITS
 #  undef _LARGEFILE64_SOURCE
 #endif
 #include <sys/stat.h>
+#include <sys/param.h>
 #include <sys/swap.h>
+#include <unistd.h>
 
 int
 main ()
 {
 
 int num = swapctl(0, NULL, 0);
@@ -18462,12 +18552,31 @@
 $as_echo "#define FP_LAYOUT_NEED_INTSWAP 1" >>confdefs.h
 
 else
   as_fn_error $? "Didn't find out how doubles are stored in memory. Sorry." "$LINENO" 5
 fi; fi; fi
 
+# --with-useragent {{{
+
+# Check whether --with-useragent was given.
+if test "${with_useragent+set}" = set; then :
+  withval=$with_useragent;
+    if test "x$withval" != "xno" && test "x$withval" != "xyes"
+    then
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECTD_USERAGENT "$withval"
+_ACEOF
+
+    fi
+
+fi
+
+
+# }}}
+
 have_getfsstat="no"
 for ac_func in getfsstat
 do :
   ac_fn_c_check_func "$LINENO" "getfsstat" "ac_cv_func_getfsstat"
 if test "x$ac_cv_func_getfsstat" = xyes; then :
   cat >>confdefs.h <<_ACEOF
@@ -18498,24 +18607,12 @@
 #define HAVE_LISTMNTENT 1
 _ACEOF
  have_listmntent="yes"
 fi
 done
 
-have_getmntent_r="no"
-for ac_func in getmntent_r
-do :
-  ac_fn_c_check_func "$LINENO" "getmntent_r" "ac_cv_func_getmntent_r"
-if test "x$ac_cv_func_getmntent_r" = xyes; then :
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_GETMNTENT_R 1
-_ACEOF
- have_getmntent_r="yes"
-fi
-done
-
 
 have_getmntent="no"
 for ac_func in getmntent
 do :
   ac_fn_c_check_func "$LINENO" "getmntent" "ac_cv_func_getmntent"
 if test "x$ac_cv_func_getmntent" = xyes; then :
@@ -19023,22 +19120,22 @@
 
 		have_struct_kinfo_proc_freebsd="no"
 
 fi
 
 
-ac_fn_c_check_member "$LINENO" "struct kinfo_proc" "kp_proc" "ac_cv_member_struct_kinfo_proc_kp_proc" "
+ac_fn_c_check_member "$LINENO" "struct kinfo_proc" "p_pid" "ac_cv_member_struct_kinfo_proc_p_pid" "
 #include <sys/param.h>
 #include <sys/sysctl.h>
 #include <kvm.h>
 
 "
-if test "x$ac_cv_member_struct_kinfo_proc_kp_proc" = xyes; then :
+if test "x$ac_cv_member_struct_kinfo_proc_p_pid" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
-#define HAVE_STRUCT_KINFO_PROC_KP_PROC 1
+#define HAVE_STRUCT_KINFO_PROC_P_PID 1
 _ACEOF
 
 
 
 $as_echo "#define HAVE_STRUCT_KINFO_PROC_OPENBSD 1" >>confdefs.h
 
@@ -19046,22 +19143,22 @@
 
 else
 
 		have_struct_kinfo_proc_openbsd="no"
 
 fi
-ac_fn_c_check_member "$LINENO" "struct kinfo_proc" "kp_eproc" "ac_cv_member_struct_kinfo_proc_kp_eproc" "
+ac_fn_c_check_member "$LINENO" "struct kinfo_proc" "p_vm_rssize" "ac_cv_member_struct_kinfo_proc_p_vm_rssize" "
 #include <sys/param.h>
 #include <sys/sysctl.h>
 #include <kvm.h>
 
 "
-if test "x$ac_cv_member_struct_kinfo_proc_kp_eproc" = xyes; then :
+if test "x$ac_cv_member_struct_kinfo_proc_p_vm_rssize" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
-#define HAVE_STRUCT_KINFO_PROC_KP_EPROC 1
+#define HAVE_STRUCT_KINFO_PROC_P_VM_RSSIZE 1
 _ACEOF
 
 
 
 $as_echo "#define HAVE_STRUCT_KINFO_PROC_OPENBSD 1" >>confdefs.h
 
@@ -19368,30 +19465,12 @@
 
 	fi
 fi
 
 
 
- if test "x$x$ac_system" = "xFreeBSD"; then
-  BUILD_FREEBSD_TRUE=
-  BUILD_FREEBSD_FALSE='#'
-else
-  BUILD_FREEBSD_TRUE='#'
-  BUILD_FREEBSD_FALSE=
-fi
-
-
- if test "x$x$ac_system" = "xAIX"; then
-  BUILD_AIX_TRUE=
-  BUILD_AIX_FALSE='#'
-else
-  BUILD_AIX_TRUE='#'
-  BUILD_AIX_FALSE=
-fi
-
-
 if test "x$ac_system" = "xAIX"
 then
 	with_perfstat="yes"
 	with_procinfo="yes"
 else
 	with_perfstat="no (AIX only)"
@@ -20013,130 +20092,130 @@
   BUILD_WITH_LIBAQUAERO5_TRUE='#'
   BUILD_WITH_LIBAQUAERO5_FALSE=
 fi
 
 # }}}
 
-# --with-libcredis {{{
+# --with-libhiredis {{{
 
-# Check whether --with-libcredis was given.
-if test "${with_libcredis+set}" = set; then :
-  withval=$with_libcredis;
+# Check whether --with-libhiredis was given.
+if test "${with_libhiredis+set}" = set; then :
+  withval=$with_libhiredis;
  if test "x$withval" = "xyes"
  then
-	 with_libcredis="yes"
+	 with_libhiredis="yes"
  else if test "x$withval" = "xno"
  then
-	 with_libcredis="no"
+	 with_libhiredis="no"
  else
-	 with_libcredis="yes"
-	 LIBCREDIS_CPPFLAGS="$LIBCREDIS_CPPFLAGS -I$withval/include"
-	 LIBCREDIS_LDFLAGS="$LIBCREDIS_LDFLAGS -L$withval/lib"
+	 with_libhiredis="yes"
+	 LIBHIREDIS_CPPFLAGS="$LIBHIREDIS_CPPFLAGS -I$withval/include"
+	 LIBHIREDIS_LDFLAGS="$LIBHIREDIS_LDFLAGS -L$withval/lib"
  fi; fi
 
 else
-  with_libcredis="yes"
+  with_libhiredis="yes"
 fi
 
 
 SAVE_CPPFLAGS="$CPPFLAGS"
 SAVE_LDFLAGS="$LDFLAGS"
 
-CPPFLAGS="$CPPFLAGS $LIBCREDIS_CPPFLAGS"
-LDFLAGS="$LDFLAGS $LIBCREDIS_LDFLAGS"
+CPPFLAGS="$CPPFLAGS $LIBHIREDIS_CPPFLAGS"
+LDFLAGS="$LDFLAGS $LIBHIREDIS_LDFLAGS"
 
-if test "x$with_libcredis" = "xyes"
+if test "x$with_libhiredis" = "xyes"
 then
-	if test "x$LIBCREDIS_CPPFLAGS" != "x"
+	if test "x$LIBHIREDIS_CPPFLAGS" != "x"
 	then
-		{ $as_echo "$as_me:${as_lineno-$LINENO}: libcredis CPPFLAGS: $LIBCREDIS_CPPFLAGS" >&5
-$as_echo "$as_me: libcredis CPPFLAGS: $LIBCREDIS_CPPFLAGS" >&6;}
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: libhiredis CPPFLAGS: $LIBHIREDIS_CPPFLAGS" >&5
+$as_echo "$as_me: libhiredis CPPFLAGS: $LIBHIREDIS_CPPFLAGS" >&6;}
 	fi
-	for ac_header in credis.h
+	for ac_header in hiredis/hiredis.h
 do :
-  ac_fn_c_check_header_mongrel "$LINENO" "credis.h" "ac_cv_header_credis_h" "$ac_includes_default"
-if test "x$ac_cv_header_credis_h" = xyes; then :
+  ac_fn_c_check_header_mongrel "$LINENO" "hiredis/hiredis.h" "ac_cv_header_hiredis_hiredis_h" "$ac_includes_default"
+if test "x$ac_cv_header_hiredis_hiredis_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
-#define HAVE_CREDIS_H 1
+#define HAVE_HIREDIS_HIREDIS_H 1
 _ACEOF
- with_libcredis="yes"
+ with_libhiredis="yes"
 else
-  with_libcredis="no (credis.h not found)"
+  with_libhiredis="no (hiredis.h not found)"
 fi
 
 done
 
 fi
-if test "x$with_libcredis" = "xyes"
+if test "x$with_libhiredis" = "xyes"
 then
-	if test "x$LIBCREDIS_LDFLAGS" != "x"
+	if test "x$LIBHIREDIS_LDFLAGS" != "x"
 	then
-		{ $as_echo "$as_me:${as_lineno-$LINENO}: libcredis LDFLAGS: $LIBCREDIS_LDFLAGS" >&5
-$as_echo "$as_me: libcredis LDFLAGS: $LIBCREDIS_LDFLAGS" >&6;}
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: libhiredis LDFLAGS: $LIBHIREDIS_LDFLAGS" >&5
+$as_echo "$as_me: libhiredis LDFLAGS: $LIBHIREDIS_LDFLAGS" >&6;}
 	fi
-	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for credis_info in -lcredis" >&5
-$as_echo_n "checking for credis_info in -lcredis... " >&6; }
-if ${ac_cv_lib_credis_credis_info+:} false; then :
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for redisCommand in -lhiredis" >&5
+$as_echo_n "checking for redisCommand in -lhiredis... " >&6; }
+if ${ac_cv_lib_hiredis_redisCommand+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lcredis  $LIBS"
+LIBS="-lhiredis  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char credis_info ();
+char redisCommand ();
 int
 main ()
 {
-return credis_info ();
+return redisCommand ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_credis_credis_info=yes
+  ac_cv_lib_hiredis_redisCommand=yes
 else
-  ac_cv_lib_credis_credis_info=no
+  ac_cv_lib_hiredis_redisCommand=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_credis_credis_info" >&5
-$as_echo "$ac_cv_lib_credis_credis_info" >&6; }
-if test "x$ac_cv_lib_credis_credis_info" = xyes; then :
-  with_libcredis="yes"
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_hiredis_redisCommand" >&5
+$as_echo "$ac_cv_lib_hiredis_redisCommand" >&6; }
+if test "x$ac_cv_lib_hiredis_redisCommand" = xyes; then :
+  with_libhiredis="yes"
 else
-  with_libcredis="no (symbol 'credis_info' not found)"
+  with_libhiredis="no (symbol 'redisCommand' not found)"
 fi
 
 
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 LDFLAGS="$SAVE_LDFLAGS"
 
-if test "x$with_libcredis" = "xyes"
+if test "x$with_libhiredis" = "xyes"
 then
-	BUILD_WITH_LIBCREDIS_CPPFLAGS="$LIBCREDIS_CPPFLAGS"
-	BUILD_WITH_LIBCREDIS_LDFLAGS="$LIBCREDIS_LDFLAGS"
+	BUILD_WITH_LIBHIREDIS_CPPFLAGS="$LIBHIREDIS_CPPFLAGS"
+	BUILD_WITH_LIBHIREDIS_LDFLAGS="$LIBHIREDIS_LDFLAGS"
 
 
 fi
- if test "x$with_libcredis" = "xyes"; then
-  BUILD_WITH_LIBCREDIS_TRUE=
-  BUILD_WITH_LIBCREDIS_FALSE='#'
+ if test "x$with_libhiredis" = "xyes"; then
+  BUILD_WITH_LIBHIREDIS_TRUE=
+  BUILD_WITH_LIBHIREDIS_FALSE='#'
 else
-  BUILD_WITH_LIBCREDIS_TRUE='#'
-  BUILD_WITH_LIBCREDIS_FALSE=
+  BUILD_WITH_LIBHIREDIS_TRUE='#'
+  BUILD_WITH_LIBHIREDIS_FALSE=
 fi
 
 # }}}
 
 # --with-libcurl {{{
 with_curl_config="curl-config"
@@ -20249,20 +20328,50 @@
 if test "x$ac_cv_lib_curl_curl_easy_init" = xyes; then :
   with_libcurl="yes"
 else
   with_libcurl="no (symbol 'curl_easy_init' not found)"
 fi
 
+		ac_fn_c_check_decl "$LINENO" "CURLOPT_USERNAME" "ac_cv_have_decl_CURLOPT_USERNAME" "#include <curl/curl.h>
+"
+if test "x$ac_cv_have_decl_CURLOPT_USERNAME" = xyes; then :
+  have_curlopt_username="yes"
+else
+  have_curlopt_username="no"
+fi
+
+		ac_fn_c_check_decl "$LINENO" "CURLOPT_TIMEOUT_MS" "ac_cv_have_decl_CURLOPT_TIMEOUT_MS" "#include <curl/curl.h>
+"
+if test "x$ac_cv_have_decl_CURLOPT_TIMEOUT_MS" = xyes; then :
+  have_curlopt_timeout="yes"
+else
+  have_curlopt_timeout="no"
+fi
+
 	fi
 fi
 if test "x$with_libcurl" = "xyes"
 then
 	BUILD_WITH_LIBCURL_CFLAGS="$with_curl_cflags"
 	BUILD_WITH_LIBCURL_LIBS="$with_curl_libs"
 
 
+
+	if test "x$have_curlopt_username" = "xyes"
+	then
+
+$as_echo "#define HAVE_CURLOPT_USERNAME 1" >>confdefs.h
+
+	fi
+
+	if test "x$have_curlopt_timeout" = "xyes"
+	then
+
+$as_echo "#define HAVE_CURLOPT_TIMEOUT_MS 1" >>confdefs.h
+
+	fi
 fi
  if test "x$with_libcurl" = "xyes"; then
   BUILD_WITH_LIBCURL_TRUE=
   BUILD_WITH_LIBCURL_FALSE='#'
 else
   BUILD_WITH_LIBCURL_TRUE='#'
@@ -20514,42 +20623,39 @@
  else if test -d "$withval"
  then
 	 GANGLIA_CPPFLAGS="-I$withval/include"
 	 GANGLIA_LDFLAGS="-L$withval/lib"
 	 with_libganglia="yes"
  else
+	 with_libganglia_config="ganglia-config"
 	 with_libganglia="$withval"
  fi; fi; fi
 
 else
 
+ with_libganglia_config="ganglia-config"
  with_libganglia="yes"
 
 fi
 
 
-if test "x$with_libganglia" = "xyes"
+if test "x$with_libganglia" = "xyes" && test "x$with_libganglia_config" != "x"
 then
-	if test "x$with_libganglia_config" != "x"
+	if test "x$GANGLIA_CPPFLAGS" = "x"
 	then
-		if test "x$GANGLIA_CPPFLAGS" = "x"
-		then
-			GANGLIA_CPPFLAGS=`"$with_libganglia_config" --cflags 2>/dev/null`
-		fi
+		GANGLIA_CPPFLAGS=`"$with_libganglia_config" --cflags 2>/dev/null`
+	fi
 
-		if test "x$GANGLIA_LDFLAGS" = "x"
-		then
-			GANGLIA_LDFLAGS=`"$with_libganglia_config" --ldflags 2>/dev/null`
-		fi
+	if test "x$GANGLIA_LDFLAGS" = "x"
+	then
+		GANGLIA_LDFLAGS=`"$with_libganglia_config" --ldflags 2>/dev/null`
+	fi
 
-		if test "x$GANGLIA_LIBS" = "x"
-		then
-			GANGLIA_LIBS=`"$with_libganglia_config" --libs 2>/dev/null`
-		fi
-	else
-		GANGLIA_LIBS="-lganglia"
+	if test "x$GANGLIA_LIBS" = "x"
+	then
+		GANGLIA_LIBS=`"$with_libganglia_config" --libs 2>/dev/null`
 	fi
 fi
 
 SAVE_CPPFLAGS="$CPPFLAGS"
 SAVE_LDFLAGS="$LDFLAGS"
 CPPFLAGS="$CPPFLAGS $GANGLIA_CPPFLAGS"
@@ -20681,24 +20787,28 @@
 then
 	if test "x$GCRYPT_CPPFLAGS" = "x"
 	then
 		GCRYPT_CPPFLAGS=`"$with_libgcrypt_config" --cflags 2>/dev/null`
 	fi
 
+	if test "x$GCRYPT_LDFLAGS" = "x"
+	then
+		gcrypt_exec_prefix=`"$with_libgcrypt_config" --exec-prefix 2>/dev/null`
+		GCRYPT_LDFLAGS="-L$gcrypt_exec_prefix/lib"
+	fi
+
 	if test "x$GCRYPT_LIBS" = "x"
 	then
 		GCRYPT_LIBS=`"$with_libgcrypt_config" --libs 2>/dev/null`
 	fi
 fi
 
 SAVE_CPPFLAGS="$CPPFLAGS"
 SAVE_LDFLAGS="$LDFLAGS"
-SAVE_LIBS="$LIBS"
 CPPFLAGS="$CPPFLAGS $GCRYPT_CPPFLAGS"
 LDFLAGS="$LDFLAGS $GCRYPT_LDFLAGS"
-LIBS="$LIBS $GCRYPT_LIBS"
 
 if test "x$with_libgcrypt" = "xyes"
 then
 	if test "x$GCRYPT_CPPFLAGS" != "x"
 	then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: gcrypt CPPFLAGS: $GCRYPT_CPPFLAGS" >&5
@@ -20719,12 +20829,17 @@
 done
 
 fi
 
 if test "x$with_libgcrypt" = "xyes"
 then
+	if test "x$GCRYPT_LDFLAGS" != "x"
+	then
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: gcrypt LDFLAGS: $GCRYPT_LDFLAGS" >&5
+$as_echo "$as_me: gcrypt LDFLAGS: $GCRYPT_LDFLAGS" >&6;}
+	fi
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gcry_md_hash_buffer in -lgcrypt" >&5
 $as_echo_n "checking for gcry_md_hash_buffer in -lgcrypt... " >&6; }
 if ${ac_cv_lib_gcrypt_gcry_md_hash_buffer+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -20985,13 +21100,12 @@
 		GCRYPT_LIBS="$LIBGCRYPT_LIBS"
 	fi
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 LDFLAGS="$SAVE_LDFLAGS"
-LIBS="$SAVE_LIBS"
 
 if test "x$with_libgcrypt" = "xyes"
 then
 
 $as_echo "#define HAVE_LIBGCRYPT 1" >>confdefs.h
 
@@ -21012,26 +21126,23 @@
 
 # --with-libiptc {{{
 
 # Check whether --with-libiptc was given.
 if test "${with_libiptc+set}" = set; then :
   withval=$with_libiptc;
-	if test "x$withval" = "xshipped"
-	then
-		with_libiptc="own"
-	else if test "x$withval" = "xyes"
+	if test "x$withval" = "xyes"
 	then
 		with_libiptc="pkgconfig"
 	else if test "x$withval" = "xno"
 	then
 		with_libiptc="no"
 	else
 		with_libiptc="yes"
 		with_libiptc_cflags="-I$withval/include"
 		with_libiptc_libs="-L$withval/lib"
-	fi; fi; fi
+	fi; fi
 
 else
 
 	if test "x$ac_system" = "xLinux"
 	then
 		with_libiptc="pkgconfig"
@@ -21185,56 +21296,12 @@
 then
 	with_libiptc="yes"
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 
-if test "x$with_libiptc" = "xown"
-then
-	with_libiptc_cflags=""
-	with_libiptc_libs=""
-fi
-if test "x$with_libiptc" = "xown"
-then
-	for ac_header in linux/netfilter_ipv4/ip_tables.h linux/netfilter_ipv6/ip6_tables.h linux/netfilter/x_tables.h
-do :
-  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
-ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "
-#include \"$srcdir/src/owniptc/ipt_kernel_headers.h\"
-
-"
-if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
-  cat >>confdefs.h <<_ACEOF
-#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-else
-
-		with_libiptc="no (Linux iptables headers not found)"
-
-fi
-
-done
-
-fi
- if test "x$with_libiptc" = "xown"; then
-  BUILD_WITH_OWN_LIBIPTC_TRUE=
-  BUILD_WITH_OWN_LIBIPTC_FALSE='#'
-else
-  BUILD_WITH_OWN_LIBIPTC_TRUE='#'
-  BUILD_WITH_OWN_LIBIPTC_FALSE=
-fi
-
-if test "x$with_libiptc" = "xown"
-then
-
-$as_echo "#define OWN_LIBIPTC 1" >>confdefs.h
-
-	with_libiptc="yes"
-fi
-
  if test "x$with_libiptc" = "xyes"; then
   BUILD_WITH_LIBIPTC_TRUE=
   BUILD_WITH_LIBIPTC_FALSE='#'
 else
   BUILD_WITH_LIBIPTC_TRUE='#'
   BUILD_WITH_LIBIPTC_FALSE=
@@ -21308,13 +21375,13 @@
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: result: not found" >&5
 $as_echo "not found" >&6; }
 		fi
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for libjvm.so" >&5
 $as_echo_n "checking for libjvm.so... " >&6; }
-		TMPVAR=`find -L "$with_java_home" -type f \( -name libjvm.so -o -name libjvm.dylib \) -exec 'dirname' '{}' ';' 2>/dev/null | head -n 1`
+		TMPVAR=`find -L "$with_java_home" -name libjvm.so -type f -exec 'dirname' '{}' ';' 2>/dev/null | head -n 1`
 		if test "x$TMPVAR" != "x"
 		then
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: result: found in $TMPVAR" >&5
 $as_echo "found in $TMPVAR" >&6; }
 			JAVA_LDFLAGS="$JAVA_LDFLAGS -L$TMPVAR -Wl,-rpath -Wl,$TMPVAR"
 		else
@@ -21580,40 +21647,162 @@
   BUILD_WITH_JAVA_TRUE='#'
   BUILD_WITH_JAVA_FALSE=
 fi
 
 # }}}
 
-# --with-liblvm2app {{{
-with_liblvm2app_cppflags=""
-with_liblvm2app_ldflags=""
+# --with-libldap {{{
 
-# Check whether --with-liblvm2app was given.
-if test "${with_liblvm2app+set}" = set; then :
-  withval=$with_liblvm2app;
-        if test "x$withval" != "xno" && test "x$withval" != "xyes"
-        then
-                with_liblvm2app_cppflags="-I$withval/include"
-                with_liblvm2app_ldflags="-L$withval/lib"
-                with_liblvm2app="yes"
-        else
-                with_liblvm2app="$withval"
-        fi
+# Check whether --with-libldap was given.
+if test "${with_libldap+set}" = set; then :
+  withval=$with_libldap;
+ if test "x$withval" = "xyes"
+ then
+	 with_libldap="yes"
+ else if test "x$withval" = "xno"
+ then
+	 with_libldap="no"
+ else
+	 with_libldap="yes"
+	 LIBLDAP_CPPFLAGS="$LIBLDAP_CPPFLAGS -I$withval/include"
+	 LIBLDAP_LDFLAGS="$LIBLDAP_LDFLAGS -L$withval/lib"
+ fi; fi
 
 else
+  with_libldap="yes"
+fi
 
-        with_liblvm2app="yes"
 
-fi
+SAVE_CPPFLAGS="$CPPFLAGS"
+SAVE_LDFLAGS="$LDFLAGS"
 
-if test "x$with_liblvm2app" = "xyes"
-then
-        SAVE_CPPFLAGS="$CPPFLAGS"
-        CPPFLAGS="$CPPFLAGS $with_liblvm2app_cppflags"
+CPPFLAGS="$CPPFLAGS $LIBLDAP_CPPFLAGS"
+LDFLAGS="$LDFLAGS $LIBLDAP_LDFLAGS"
 
-        for ac_header in lvm2app.h
+if test "x$with_libldap" = "xyes"
+then
+	if test "x$LIBLDAP_CPPFLAGS" != "x"
+	then
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: libldap CPPFLAGS: $LIBLDAP_CPPFLAGS" >&5
+$as_echo "$as_me: libldap CPPFLAGS: $LIBLDAP_CPPFLAGS" >&6;}
+	fi
+	for ac_header in ldap.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "ldap.h" "ac_cv_header_ldap_h" "$ac_includes_default"
+if test "x$ac_cv_header_ldap_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LDAP_H 1
+_ACEOF
+ with_libldap="yes"
+else
+  with_libldap="no ('ldap.h' not found)"
+fi
+
+done
+
+fi
+if test "x$with_libldap" = "xyes"
+then
+	if test "x$LIBLDAP_LDFLAGS" != "x"
+	then
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: libldap LDFLAGS: $LIBLDAP_LDFLAGS" >&5
+$as_echo "$as_me: libldap LDFLAGS: $LIBLDAP_LDFLAGS" >&6;}
+	fi
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ldap_initialize in -lldap" >&5
+$as_echo_n "checking for ldap_initialize in -lldap... " >&6; }
+if ${ac_cv_lib_ldap_ldap_initialize+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lldap  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char ldap_initialize ();
+int
+main ()
+{
+return ldap_initialize ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_ldap_ldap_initialize=yes
+else
+  ac_cv_lib_ldap_ldap_initialize=no
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ldap_ldap_initialize" >&5
+$as_echo "$ac_cv_lib_ldap_ldap_initialize" >&6; }
+if test "x$ac_cv_lib_ldap_ldap_initialize" = xyes; then :
+  with_libldap="yes"
+else
+  with_libldap="no (symbol 'ldap_initialize' not found)"
+fi
+
+
+fi
+
+CPPFLAGS="$SAVE_CPPFLAGS"
+LDFLAGS="$SAVE_LDFLAGS"
+
+if test "x$with_libldap" = "xyes"
+then
+	BUILD_WITH_LIBLDAP_CPPFLAGS="$LIBLDAP_CPPFLAGS"
+	BUILD_WITH_LIBLDAP_LDFLAGS="$LIBLDAP_LDFLAGS"
+
+
+fi
+ if test "x$with_libldap" = "xyes"; then
+  BUILD_WITH_LIBLDAP_TRUE=
+  BUILD_WITH_LIBLDAP_FALSE='#'
+else
+  BUILD_WITH_LIBLDAP_TRUE='#'
+  BUILD_WITH_LIBLDAP_FALSE=
+fi
+
+# }}}
+
+# --with-liblvm2app {{{
+with_liblvm2app_cppflags=""
+with_liblvm2app_ldflags=""
+
+# Check whether --with-liblvm2app was given.
+if test "${with_liblvm2app+set}" = set; then :
+  withval=$with_liblvm2app;
+        if test "x$withval" != "xno" && test "x$withval" != "xyes"
+        then
+                with_liblvm2app_cppflags="-I$withval/include"
+                with_liblvm2app_ldflags="-L$withval/lib"
+                with_liblvm2app="yes"
+        else
+                with_liblvm2app="$withval"
+        fi
+
+else
+
+        with_liblvm2app="yes"
+
+fi
+
+if test "x$with_liblvm2app" = "xyes"
+then
+        SAVE_CPPFLAGS="$CPPFLAGS"
+        CPPFLAGS="$CPPFLAGS $with_liblvm2app_cppflags"
+
+        for ac_header in lvm2app.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "lvm2app.h" "ac_cv_header_lvm2app_h" "$ac_includes_default"
 if test "x$ac_cv_header_lvm2app_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LVM2APP_H 1
 _ACEOF
@@ -21632,15 +21821,15 @@
 then
         SAVE_CPPFLAGS="$CPPFLAGS"
         SAVE_LDFLAGS="$LDFLAGS"
         CPPFLAGS="$CPPFLAGS $with_liblvm2app_cppflags"
         LDFLAGS="$LDFLAGS $with_liblvm2app_ldflags"
 
-        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for lvm_init in -llvm2app" >&5
-$as_echo_n "checking for lvm_init in -llvm2app... " >&6; }
-if ${ac_cv_lib_lvm2app_lvm_init+:} false; then :
+        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for lvm_lv_get_property in -llvm2app" >&5
+$as_echo_n "checking for lvm_lv_get_property in -llvm2app... " >&6; }
+if ${ac_cv_lib_lvm2app_lvm_lv_get_property+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-llvm2app  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -21648,36 +21837,36 @@
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char lvm_init ();
+char lvm_lv_get_property ();
 int
 main ()
 {
-return lvm_init ();
+return lvm_lv_get_property ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_lvm2app_lvm_init=yes
+  ac_cv_lib_lvm2app_lvm_lv_get_property=yes
 else
-  ac_cv_lib_lvm2app_lvm_init=no
+  ac_cv_lib_lvm2app_lvm_lv_get_property=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_lvm2app_lvm_init" >&5
-$as_echo "$ac_cv_lib_lvm2app_lvm_init" >&6; }
-if test "x$ac_cv_lib_lvm2app_lvm_init" = xyes; then :
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_lvm2app_lvm_lv_get_property" >&5
+$as_echo "$ac_cv_lib_lvm2app_lvm_lv_get_property" >&6; }
+if test "x$ac_cv_lib_lvm2app_lvm_lv_get_property" = xyes; then :
   with_liblvm2app="yes"
 else
-  with_liblvm2app="no (Symbol 'lvm_init' not found)"
+  with_liblvm2app="no (Symbol 'lvm_lv_get_property' not found)"
 fi
 
 
         CPPFLAGS="$SAVE_CPPFLAGS"
         LDFLAGS="$SAVE_LDFLAGS"
 fi
@@ -21890,22 +22079,22 @@
 # the actual checks.
 if test "x$with_libmodbus" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
 	CPPFLAGS="$CPPFLAGS $with_libmodbus_cflags"
 
-	for ac_header in modbus.h
+	for ac_header in modbus/modbus.h
 do :
-  ac_fn_c_check_header_mongrel "$LINENO" "modbus.h" "ac_cv_header_modbus_h" "$ac_includes_default"
-if test "x$ac_cv_header_modbus_h" = xyes; then :
+  ac_fn_c_check_header_mongrel "$LINENO" "modbus/modbus.h" "ac_cv_header_modbus_modbus_h" "$ac_includes_default"
+if test "x$ac_cv_header_modbus_modbus_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
-#define HAVE_MODBUS_H 1
+#define HAVE_MODBUS_MODBUS_H 1
 _ACEOF
 
 else
-  with_libmodbus="no (modbus.h not found)"
+  with_libmodbus="no (modbus/modbus.h not found)"
 fi
 
 done
 
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
@@ -22130,13 +22319,13 @@
 	with_libmysql="yes"
 
 fi
 
 if test "x$with_libmysql" = "xyes"
 then
-	with_mysql_cflags=`$with_mysql_config --include 2>/dev/null`
+	with_mysql_cflags=`$with_mysql_config --cflags 2>/dev/null`
 	mysql_config_status=$?
 
 	if test $mysql_config_status -ne 0
 	then
 		with_libmysql="no ($with_mysql_config failed)"
 	else
@@ -22188,76 +22377,97 @@
 	mysql_config_status=$?
 
 	if test $mysql_config_status -ne 0
 	then
 		with_libmysql="no ($with_mysql_config failed)"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_mysql_cflags"
-		SAVE_LIBS="$LIBS"
-		LIBS="$with_mysql_libs"
-		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing mysql_get_server_version" >&5
-$as_echo_n "checking for library containing mysql_get_server_version... " >&6; }
-if ${ac_cv_search_mysql_get_server_version+:} false; then :
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for mysql_init in -lmysqlclient" >&5
+$as_echo_n "checking for mysql_init in -lmysqlclient... " >&6; }
+if ${ac_cv_lib_mysqlclient_mysql_init+:} false; then :
   $as_echo_n "(cached) " >&6
 else
-  ac_func_search_save_LIBS=$LIBS
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lmysqlclient $with_mysql_libs $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char mysql_get_server_version ();
+char mysql_init ();
 int
 main ()
 {
-return mysql_get_server_version ();
+return mysql_init ();
   ;
   return 0;
 }
 _ACEOF
-for ac_lib in '' ; do
-  if test -z "$ac_lib"; then
-    ac_res="none required"
-  else
-    ac_res=-l$ac_lib
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
-  fi
-  if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_search_mysql_get_server_version=$ac_res
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_mysqlclient_mysql_init=yes
+else
+  ac_cv_lib_mysqlclient_mysql_init=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
-    conftest$ac_exeext
-  if ${ac_cv_search_mysql_get_server_version+:} false; then :
-  break
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mysqlclient_mysql_init" >&5
+$as_echo "$ac_cv_lib_mysqlclient_mysql_init" >&6; }
+if test "x$ac_cv_lib_mysqlclient_mysql_init" = xyes; then :
+  with_libmysql="yes"
+else
+  with_libmysql="no (symbol 'mysql_init' not found)"
 fi
-done
-if ${ac_cv_search_mysql_get_server_version+:} false; then :
 
+
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for mysql_get_server_version in -lmysqlclient" >&5
+$as_echo_n "checking for mysql_get_server_version in -lmysqlclient... " >&6; }
+if ${ac_cv_lib_mysqlclient_mysql_get_server_version+:} false; then :
+  $as_echo_n "(cached) " >&6
 else
-  ac_cv_search_mysql_get_server_version=no
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lmysqlclient $with_mysql_libs $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char mysql_get_server_version ();
+int
+main ()
+{
+return mysql_get_server_version ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_mysqlclient_mysql_get_server_version=yes
+else
+  ac_cv_lib_mysqlclient_mysql_get_server_version=no
 fi
-rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_mysql_get_server_version" >&5
-$as_echo "$ac_cv_search_mysql_get_server_version" >&6; }
-ac_res=$ac_cv_search_mysql_get_server_version
-if test "$ac_res" != no; then :
-  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mysqlclient_mysql_get_server_version" >&5
+$as_echo "$ac_cv_lib_mysqlclient_mysql_get_server_version" >&6; }
+if test "x$ac_cv_lib_mysqlclient_mysql_get_server_version" = xyes; then :
   with_libmysql="yes"
 else
   with_libmysql="no (symbol 'mysql_get_server_version' not found)"
 fi
 
-		CPPFLAGS="$SAVE_CPPFLAGS"
-		LIBS="$SAVE_LIBS"
 	fi
 fi
 if test "x$with_libmysql" = "xyes"
 then
 	BUILD_WITH_LIBMYSQL_CFLAGS="$with_mysql_cflags"
 	BUILD_WITH_LIBMYSQL_LIBS="$with_mysql_libs"
@@ -22418,12 +22628,30 @@
 
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 if test "x$with_libmnl" = "xyes"
 then
+	ac_fn_c_check_member "$LINENO" "struct rtnl_link_stats64" "tx_window_errors" "ac_cv_member_struct_rtnl_link_stats64_tx_window_errors" "
+	#include <linux/if_link.h>
+
+"
+if test "x$ac_cv_member_struct_rtnl_link_stats64_tx_window_errors" = xyes; then :
+
+cat >>confdefs.h <<_ACEOF
+#define HAVE_STRUCT_RTNL_LINK_STATS64_TX_WINDOW_ERRORS 1
+_ACEOF
+
+
+$as_echo "#define HAVE_RTNL_LINK_STATS64 1" >>confdefs.h
+
+fi
+
+fi
+if test "x$with_libmnl" = "xyes"
+then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for mnl_nlmsg_get_payload in -lmnl" >&5
 $as_echo_n "checking for mnl_nlmsg_get_payload in -lmnl... " >&6; }
 if ${ac_cv_lib_mnl_mnl_nlmsg_get_payload+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -23257,12 +23485,29 @@
 
 done
 
 fi
 if test "x$with_libpcap" = "xyes"
 then
+	for ac_header in pcap-bpf.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "pcap-bpf.h" "ac_cv_header_pcap_bpf_h" "$ac_includes_default"
+if test "x$ac_cv_header_pcap_bpf_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_PCAP_BPF_H 1
+_ACEOF
+
+else
+  with_libpcap="no (pcap-bpf.h not found)"
+fi
+
+done
+
+fi
+if test "x$with_libpcap" = "xyes"
+then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether libpcap has PCAP_ERROR_IFACE_NOT_UP" >&5
 $as_echo_n "checking whether libpcap has PCAP_ERROR_IFACE_NOT_UP... " >&6; }
 if ${c_cv_libpcap_have_pcap_error_iface_not_up+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -24237,12 +24482,228 @@
 	CPPFLAGS="$SAVE_CPPFLAGS"
 	LDFLAGS="$SAVE_LDFLAGS"
 	LIBS="$SAVE_LIBS"
 fi
 # }}}
 
+# --with-librdkafka {{{
+
+# Check whether --with-librdkafka was given.
+if test "${with_librdkafka+set}" = set; then :
+  withval=$with_librdkafka;
+  if test "x$withval" != "xno" && test "x$withval" != "xyes"
+  then
+    with_librdkafka_cppflags="-I$withval/include"
+    with_librdkafka_ldflags="-L$withval/lib"
+    with_librdkafka_rpath="$withval/lib"
+    with_librdkafka="yes"
+  else
+    with_librdkafka="$withval"
+  fi
+
+else
+
+  with_librdkafka="yes"
+
+fi
+
+SAVE_CPPFLAGS="$CPPFLAGS"
+SAVE_LDFLAGS="$LDFLAGS"
+
+CPPFLAGS="$CPPFLAGS $with_librdkafka_cppflags"
+LDFLAGS="$LDFLAGS $with_librdkafka_ldflags"
+
+if test "x$with_librdkafka" = "xyes"
+then
+	for ac_header in librdkafka/rdkafka.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "librdkafka/rdkafka.h" "ac_cv_header_librdkafka_rdkafka_h" "$ac_includes_default"
+if test "x$ac_cv_header_librdkafka_rdkafka_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBRDKAFKA_RDKAFKA_H 1
+_ACEOF
+ with_librdkafka="yes"
+else
+  with_librdkafka="no (librdkafka/rdkafka.h not found)"
+fi
+
+done
+
+fi
+
+if test "x$with_librdkafka" = "xyes"
+then
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for rd_kafka_new in -lrdkafka" >&5
+$as_echo_n "checking for rd_kafka_new in -lrdkafka... " >&6; }
+if ${ac_cv_lib_rdkafka_rd_kafka_new+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lrdkafka  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rd_kafka_new ();
+int
+main ()
+{
+return rd_kafka_new ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_rdkafka_rd_kafka_new=yes
+else
+  ac_cv_lib_rdkafka_rd_kafka_new=no
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rdkafka_rd_kafka_new" >&5
+$as_echo "$ac_cv_lib_rdkafka_rd_kafka_new" >&6; }
+if test "x$ac_cv_lib_rdkafka_rd_kafka_new" = xyes; then :
+  with_librdkafka="yes"
+else
+  with_librdkafka="no (Symbol 'rd_kafka_new' not found)"
+fi
+
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rd_kafka_conf_set_log_cb in -lrdkafka" >&5
+$as_echo_n "checking for rd_kafka_conf_set_log_cb in -lrdkafka... " >&6; }
+if ${ac_cv_lib_rdkafka_rd_kafka_conf_set_log_cb+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lrdkafka  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rd_kafka_conf_set_log_cb ();
+int
+main ()
+{
+return rd_kafka_conf_set_log_cb ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_rdkafka_rd_kafka_conf_set_log_cb=yes
+else
+  ac_cv_lib_rdkafka_rd_kafka_conf_set_log_cb=no
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rdkafka_rd_kafka_conf_set_log_cb" >&5
+$as_echo "$ac_cv_lib_rdkafka_rd_kafka_conf_set_log_cb" >&6; }
+if test "x$ac_cv_lib_rdkafka_rd_kafka_conf_set_log_cb" = xyes; then :
+  with_librdkafka_log_cb="yes"
+else
+  with_librdkafka_log_cb="no"
+fi
+
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rd_kafka_set_logger in -lrdkafka" >&5
+$as_echo_n "checking for rd_kafka_set_logger in -lrdkafka... " >&6; }
+if ${ac_cv_lib_rdkafka_rd_kafka_set_logger+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lrdkafka  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rd_kafka_set_logger ();
+int
+main ()
+{
+return rd_kafka_set_logger ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_rdkafka_rd_kafka_set_logger=yes
+else
+  ac_cv_lib_rdkafka_rd_kafka_set_logger=no
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rdkafka_rd_kafka_set_logger" >&5
+$as_echo "$ac_cv_lib_rdkafka_rd_kafka_set_logger" >&6; }
+if test "x$ac_cv_lib_rdkafka_rd_kafka_set_logger" = xyes; then :
+  with_librdkafka_logger="yes"
+else
+  with_librdkafka_logger="no"
+fi
+
+fi
+if test "x$with_librdkafka" = "xyes"
+then
+	BUILD_WITH_LIBRDKAFKA_CPPFLAGS="$with_librdkafka_cppflags"
+	BUILD_WITH_LIBRDKAFKA_LDFLAGS="$with_librdkafka_ldflags"
+	if test "x$with_librdkafka_rpath" != "x"
+	then
+		BUILD_WITH_LIBRDKAFKA_LIBS="-Wl,-rpath,$with_librdkafka_rpath -lrdkafka"
+	else
+		BUILD_WITH_LIBRDKAFKA_LIBS="-lrdkafka"
+	fi
+
+
+
+
+$as_echo "#define HAVE_LIBRDKAFKA 1" >>confdefs.h
+
+  if test "x$with_librdkafka_log_cb" = "xyes"
+  then
+
+$as_echo "#define HAVE_LIBRDKAFKA_LOG_CB 1" >>confdefs.h
+
+  fi
+  if test "x$with_librdkafka_logger" = "xyes"
+  then
+
+$as_echo "#define HAVE_LIBRDKAFKA_LOGGER 1" >>confdefs.h
+
+  fi
+fi
+CPPFLAGS="$SAVE_CPPFLAGS"
+LDFLAGS="$SAVE_LDFLAGS"
+ if test "x$with_librdkafka" = "xyes"; then
+  BUILD_WITH_LIBRDKAFKA_TRUE=
+  BUILD_WITH_LIBRDKAFKA_FALSE='#'
+else
+  BUILD_WITH_LIBRDKAFKA_TRUE='#'
+  BUILD_WITH_LIBRDKAFKA_FALSE=
+fi
+
+
+# }}}
+
 # --with-librouteros {{{
 
 # Check whether --with-librouteros was given.
 if test "${with_librouteros+set}" = set; then :
   withval=$with_librouteros;
  if test "x$withval" = "xyes"
@@ -24359,205 +24820,42 @@
   BUILD_WITH_LIBROUTEROS_FALSE=
 fi
 
 # }}}
 
 # --with-librrd {{{
+# AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
 librrd_cflags=""
 librrd_ldflags=""
-librrd_threadsafe="no"
+librrd_threadsafe="yes"
 librrd_rrdc_update="no"
 
 # Check whether --with-librrd was given.
 if test "${with_librrd+set}" = set; then :
-  withval=$with_librrd;
-    if test "x$withval" != "xno" && test "x$withval" != "xyes"
-    then
-      librrd_cflags="-I$withval/include"
-      librrd_ldflags="-L$withval/lib"
-      with_librrd="yes"
-    else
-      with_librrd="$withval"
-    fi
+  withval=$with_librrd; 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		librrd_cflags="-I$withval/include"
+		librrd_ldflags="-L$withval/lib"
+		with_librrd="yes"
+	else
+		with_librrd="$withval"
+	fi
 
 else
   with_librrd="yes"
-
 fi
 
-
 if test "x$with_librrd" = "xyes"
 then
-  SAVE_LDFLAGS="$LDFLAGS"
-  LDFLAGS="$LDFLAGS $librrd_ldflags"
-
-pkg_failed=no
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for RRD" >&5
-$as_echo_n "checking for RRD... " >&6; }
-
-if test -n "$RRD_CFLAGS"; then
-    pkg_cv_RRD_CFLAGS="$RRD_CFLAGS"
- elif test -n "$PKG_CONFIG"; then
-    if test -n "$PKG_CONFIG" && \
-    { { $as_echo "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"librrd >= 1.6.0\""; } >&5
-  ($PKG_CONFIG --exists --print-errors "librrd >= 1.6.0") 2>&5
-  ac_status=$?
-  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
-  test $ac_status = 0; }; then
-  pkg_cv_RRD_CFLAGS=`$PKG_CONFIG --cflags "librrd >= 1.6.0" 2>/dev/null`
-		      test "x$?" != "x0" && pkg_failed=yes
-else
-  pkg_failed=yes
-fi
- else
-    pkg_failed=untried
-fi
-if test -n "$RRD_LIBS"; then
-    pkg_cv_RRD_LIBS="$RRD_LIBS"
- elif test -n "$PKG_CONFIG"; then
-    if test -n "$PKG_CONFIG" && \
-    { { $as_echo "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"librrd >= 1.6.0\""; } >&5
-  ($PKG_CONFIG --exists --print-errors "librrd >= 1.6.0") 2>&5
-  ac_status=$?
-  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
-  test $ac_status = 0; }; then
-  pkg_cv_RRD_LIBS=`$PKG_CONFIG --libs "librrd >= 1.6.0" 2>/dev/null`
-		      test "x$?" != "x0" && pkg_failed=yes
-else
-  pkg_failed=yes
-fi
- else
-    pkg_failed=untried
-fi
-
-
-
-if test $pkg_failed = yes; then
-   	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-
-if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
-        _pkg_short_errors_supported=yes
-else
-        _pkg_short_errors_supported=no
-fi
-        if test $_pkg_short_errors_supported = yes; then
-	        RRD_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "librrd >= 1.6.0" 2>&1`
-        else
-	        RRD_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "librrd >= 1.6.0" 2>&1`
-        fi
-	# Put the nasty error message in config.log where it belongs
-	echo "$RRD_PKG_ERRORS" >&5
-
-	:
-
-elif test $pkg_failed = untried; then
-     	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-	:
-
-else
-	RRD_CFLAGS=$pkg_cv_RRD_CFLAGS
-	RRD_LIBS=$pkg_cv_RRD_LIBS
-        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
-$as_echo "yes" >&6; }
-
-      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrd_update_r in -lrrd" >&5
-$as_echo_n "checking for rrd_update_r in -lrrd... " >&6; }
-if ${ac_cv_lib_rrd_rrd_update_r+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd  $LIBS"
-cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char rrd_update_r ();
-int
-main ()
-{
-return rrd_update_r ();
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_rrd_rrd_update_r=yes
-else
-  ac_cv_lib_rrd_rrd_update_r=no
-fi
-rm -f core conftest.err conftest.$ac_objext \
-    conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_rrd_update_r" >&5
-$as_echo "$ac_cv_lib_rrd_rrd_update_r" >&6; }
-if test "x$ac_cv_lib_rrd_rrd_update_r" = xyes; then :
-  librrd_threadsafe="yes"
-else
-  :
-
-fi
-
-      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrdc_update in -lrrd" >&5
-$as_echo_n "checking for rrdc_update in -lrrd... " >&6; }
-if ${ac_cv_lib_rrd_rrdc_update+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd  $LIBS"
-cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char rrdc_update ();
-int
-main ()
-{
-return rrdc_update ();
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_rrd_rrdc_update=yes
-else
-  ac_cv_lib_rrd_rrdc_update=no
-fi
-rm -f core conftest.err conftest.$ac_objext \
-    conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_rrdc_update" >&5
-$as_echo "$ac_cv_lib_rrd_rrdc_update" >&6; }
-if test "x$ac_cv_lib_rrd_rrdc_update" = xyes; then :
-  librrd_rrdc_update="yes"
-else
-  :
-
-fi
-
-
-fi
-  LDFLAGS="$SAVE_LDFLAGS"
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
 
-  SAVE_CPPFLAGS="$CPPFLAGS"
-  CPPFLAGS="$CPPFLAGS $RRD_CFLAGS $librrd_cflags"
+	CPPFLAGS="$CPPFLAGS $librrd_cflags"
+	LDFLAGS="$LDFLAGS $librrd_ldflags"
 
-  for ac_header in rrd.h
+	for ac_header in rrd.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "rrd.h" "ac_cv_header_rrd_h" "$ac_includes_default"
 if test "x$ac_cv_header_rrd_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_RRD_H 1
 _ACEOF
@@ -24566,27 +24864,30 @@
   with_librrd="no (rrd.h not found)"
 fi
 
 done
 
 
-  CPPFLAGS="$SAVE_CPPFLAGS"
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
 fi
-
-if test "x$with_librrd" = "xyes" && test "x$librrd_threadsafe" = "xno"
+if test "x$with_librrd" = "xyes"
 then
-  SAVE_LDFLAGS="$LDFLAGS"
-  LDFLAGS="$LDFLAGS $librrd_ldflags"
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+
+	CPPFLAGS="$CPPFLAGS $librrd_cflags"
+	LDFLAGS="$LDFLAGS $librrd_ldflags"
 
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrd_update_r in -lrrd_th" >&5
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrd_update_r in -lrrd_th" >&5
 $as_echo_n "checking for rrd_update_r in -lrrd_th... " >&6; }
 if ${ac_cv_lib_rrd_th_rrd_update_r+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd_th  $LIBS"
+LIBS="-lrrd_th -lm $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
@@ -24611,111 +24912,111 @@
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_th_rrd_update_r" >&5
 $as_echo "$ac_cv_lib_rrd_th_rrd_update_r" >&6; }
 if test "x$ac_cv_lib_rrd_th_rrd_update_r" = xyes; then :
+  with_librrd="yes"
+	 librrd_ldflags="$librrd_ldflags -lrrd_th -lm"
 
-      librrd_ldflags="$librrd_ldflags -lrrd_th"
-      librrd_threadsafe="yes"
-      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrdc_update in -lrrd_th" >&5
-$as_echo_n "checking for rrdc_update in -lrrd_th... " >&6; }
-if ${ac_cv_lib_rrd_th_rrdc_update+:} false; then :
+else
+  librrd_threadsafe="no"
+	 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrd_update in -lrrd" >&5
+$as_echo_n "checking for rrd_update in -lrrd... " >&6; }
+if ${ac_cv_lib_rrd_rrd_update+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd_th  $LIBS"
+LIBS="-lrrd -lm $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char rrdc_update ();
+char rrd_update ();
 int
 main ()
 {
-return rrdc_update ();
+return rrd_update ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_rrd_th_rrdc_update=yes
+  ac_cv_lib_rrd_rrd_update=yes
 else
-  ac_cv_lib_rrd_th_rrdc_update=no
+  ac_cv_lib_rrd_rrd_update=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_th_rrdc_update" >&5
-$as_echo "$ac_cv_lib_rrd_th_rrdc_update" >&6; }
-if test "x$ac_cv_lib_rrd_th_rrdc_update" = xyes; then :
-  librrd_rrdc_update="yes"
-else
-  :
-fi
-
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_rrd_update" >&5
+$as_echo "$ac_cv_lib_rrd_rrd_update" >&6; }
+if test "x$ac_cv_lib_rrd_rrd_update" = xyes; then :
+  with_librrd="yes"
+	  librrd_ldflags="$librrd_ldflags -lrrd -lm"
 
 else
-  :
-
+  with_librrd="no (symbol 'rrd_update' not found)"
 fi
 
-  LDFLAGS="$SAVE_LDFLAGS"
+
 fi
 
-if test "x$with_librrd" = "xyes" && test "x$librrd_threadsafe" = "xno"
-then
-  SAVE_LDFLAGS="$LDFLAGS"
-  LDFLAGS="$LDFLAGS $librrd_ldflags"
 
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrd_update in -lrrd" >&5
-$as_echo_n "checking for rrd_update in -lrrd... " >&6; }
-if ${ac_cv_lib_rrd_rrd_update+:} false; then :
+	if test "x$librrd_threadsafe" = "xyes"
+	then
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrdc_update in -lrrd_th" >&5
+$as_echo_n "checking for rrdc_update in -lrrd_th... " >&6; }
+if ${ac_cv_lib_rrd_th_rrdc_update+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd  $LIBS"
+LIBS="-lrrd_th  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char rrd_update ();
+char rrdc_update ();
 int
 main ()
 {
-return rrd_update ();
+return rrdc_update ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_rrd_rrd_update=yes
+  ac_cv_lib_rrd_th_rrdc_update=yes
 else
-  ac_cv_lib_rrd_rrd_update=no
+  ac_cv_lib_rrd_th_rrdc_update=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_rrd_update" >&5
-$as_echo "$ac_cv_lib_rrd_rrd_update" >&6; }
-if test "x$ac_cv_lib_rrd_rrd_update" = xyes; then :
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_th_rrdc_update" >&5
+$as_echo "$ac_cv_lib_rrd_th_rrdc_update" >&6; }
+if test "x$ac_cv_lib_rrd_th_rrdc_update" = xyes; then :
+  librrd_rrdc_update="yes"
+else
+  librrd_rrdc_update="no"
+fi
 
-      librrd_ldflags="$librrd_ldflags -lrrd"
-      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrdc_update in -lrrd" >&5
+	else
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for rrdc_update in -lrrd" >&5
 $as_echo_n "checking for rrdc_update in -lrrd... " >&6; }
 if ${ac_cv_lib_rrd_rrdc_update+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
 LIBS="-lrrd  $LIBS"
@@ -24748,31 +25049,24 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rrd_rrdc_update" >&5
 $as_echo "$ac_cv_lib_rrd_rrdc_update" >&6; }
 if test "x$ac_cv_lib_rrd_rrdc_update" = xyes; then :
   librrd_rrdc_update="yes"
 else
-  :
-
+  librrd_rrdc_update="no"
 fi
 
+	fi
 
-else
-  with_librrd="no (symbol 'rrd_update' not found)"
-
-fi
-
-  LDFLAGS="$SAVE_LDFLAGS"
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
 fi
-
 if test "x$with_librrd" = "xyes"
 then
-  BUILD_WITH_LIBRRD_CFLAGS="$RRD_CFLAGS $librrd_cflags"
-  BUILD_WITH_LIBRRD_LDFLAGS="$librrd_ldflags"
-  BUILD_WITH_LIBRRD_LIBS="$RRD_LIBS"
-
+	BUILD_WITH_LIBRRD_CFLAGS="$librrd_cflags"
+	BUILD_WITH_LIBRRD_LDFLAGS="$librrd_ldflags"
 
 
 fi
 if test "x$librrd_threadsafe" = "xyes"
 then
 
@@ -25559,12 +25853,61 @@
 
 
   CFLAGS="$SAVE_CFLAGS"
   LDFLAGS="$SAVE_LDFLAGS"
 fi
 
+if test "x$with_libstatgrab" = "xyes"
+then
+  SAVE_CFLAGS="$CFLAGS"
+  SAVE_LIBS="$LIBS"
+
+  CFLAGS="$CFLAGS $with_libstatgrab_cflags"
+  LDFLAGS="$LDFLAGS $with_libstatgrab_ldflags"
+  LIBS="-lstatgrab $LIBS"
+
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking if libstatgrab >= 0.90" >&5
+$as_echo_n "checking if libstatgrab >= 0.90... " >&6; }
+if ${c_cv_have_libstatgrab_0_90+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+#include <stdio.h>
+#include <statgrab.h>
+
+int
+main ()
+{
+
+      if (sg_init()) return 0;
+
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  c_cv_have_libstatgrab_0_90="no"
+else
+  c_cv_have_libstatgrab_0_90="yes"
+
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $c_cv_have_libstatgrab_0_90" >&5
+$as_echo "$c_cv_have_libstatgrab_0_90" >&6; }
+
+  CFLAGS="$SAVE_CFLAGS"
+  LDFLAGS="$SAVE_LDFLAGS"
+  LIBS="$SAVE_LIBS"
+fi
+
  if test "x$with_libstatgrab" = "xyes"; then
   BUILD_WITH_LIBSTATGRAB_TRUE=
   BUILD_WITH_LIBSTATGRAB_FALSE='#'
 else
   BUILD_WITH_LIBSTATGRAB_TRUE='#'
   BUILD_WITH_LIBSTATGRAB_FALSE=
@@ -25576,12 +25919,18 @@
 $as_echo "#define HAVE_LIBSTATGRAB 1" >>confdefs.h
 
   BUILD_WITH_LIBSTATGRAB_CFLAGS="$with_libstatgrab_cflags"
   BUILD_WITH_LIBSTATGRAB_LDFLAGS="$with_libstatgrab_ldflags"
 
 
+  if test "x$c_cv_have_libstatgrab_0_90" = "xyes"
+  then
+
+$as_echo "#define HAVE_LIBSTATGRAB_0_90 1" >>confdefs.h
+
+  fi
 fi
 # }}}
 
 # --with-libtokyotyrant {{{
 with_libtokyotyrant_cppflags=""
 with_libtokyotyrant_ldflags=""
@@ -25697,27 +26046,154 @@
 
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 LDFLAGS="$SAVE_LDFLAGS"
 
-if test "x$with_libtokyotyrant" = "xyes"
+if test "x$with_libtokyotyrant" = "xyes"
+then
+  BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS="$with_libtokyotyrant_cppflags"
+  BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS="$with_libtokyotyrant_ldflags"
+  BUILD_WITH_LIBTOKYOTYRANT_LIBS="$with_libtokyotyrant_libs"
+
+
+
+fi
+ if test "x$with_libtokyotyrant" = "xyes"; then
+  BUILD_WITH_LIBTOKYOTYRANT_TRUE=
+  BUILD_WITH_LIBTOKYOTYRANT_FALSE='#'
+else
+  BUILD_WITH_LIBTOKYOTYRANT_TRUE='#'
+  BUILD_WITH_LIBTOKYOTYRANT_FALSE=
+fi
+
+# }}}
+
+# --with-libudev {{{
+with_libudev_cflags=""
+with_libudev_ldflags=""
+
+# Check whether --with-libudev was given.
+if test "${with_libudev+set}" = set; then :
+  withval=$with_libudev;
+	if test "x$withval" = "xno"
+	then
+		with_libudev="no"
+	else
+		with_libudev="yes"
+		if test "x$withval" != "xyes"
+		then
+			with_libudev_cflags="-I$withval/include"
+			with_libudev_ldflags="-L$withval/lib"
+			with_libudev="yes"
+		fi
+	fi
+
+else
+
+	if test "x$ac_system" = "xLinux"
+	then
+		with_libudev="yes"
+	else
+		with_libudev="no (Linux only library)"
+	fi
+
+fi
+
+if test "x$with_libudev" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libudev_cflags"
+
+	for ac_header in libudev.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "libudev.h" "ac_cv_header_libudev_h" "$ac_includes_default"
+if test "x$ac_cv_header_libudev_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBUDEV_H 1
+_ACEOF
+
+else
+  with_libudev="no (libudev.h not found)"
+fi
+
+done
+
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libudev" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libudev_cflags"
+	LDFLAGS="$LDFLAGS $with_libudev_ldflags"
+
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for udev_new in -ludev" >&5
+$as_echo_n "checking for udev_new in -ludev... " >&6; }
+if ${ac_cv_lib_udev_udev_new+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-ludev  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char udev_new ();
+int
+main ()
+{
+return udev_new ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_udev_udev_new=yes
+else
+  ac_cv_lib_udev_udev_new=no
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_udev_udev_new" >&5
+$as_echo "$ac_cv_lib_udev_udev_new" >&6; }
+if test "x$ac_cv_lib_udev_udev_new" = xyes; then :
+
+
+$as_echo "#define HAVE_LIBUDEV 1" >>confdefs.h
+
+
+else
+  with_libudev="no (libudev not found)"
+fi
+
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+if test "x$with_libudev" = "xyes"
 then
-  BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS="$with_libtokyotyrant_cppflags"
-  BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS="$with_libtokyotyrant_ldflags"
-  BUILD_WITH_LIBTOKYOTYRANT_LIBS="$with_libtokyotyrant_libs"
-
+	BUILD_WITH_LIBUDEV_CFLAGS="$with_libudev_cflags"
+	BUILD_WITH_LIBUDEV_LDFLAGS="$with_libudev_ldflags"
 
 
 fi
- if test "x$with_libtokyotyrant" = "xyes"; then
-  BUILD_WITH_LIBTOKYOTYRANT_TRUE=
-  BUILD_WITH_LIBTOKYOTYRANT_FALSE='#'
+ if test "x$with_libudev" = "xyes"; then
+  BUILD_WITH_LIBUDEV_TRUE=
+  BUILD_WITH_LIBUDEV_FALSE='#'
 else
-  BUILD_WITH_LIBTOKYOTYRANT_TRUE='#'
-  BUILD_WITH_LIBTOKYOTYRANT_FALSE=
+  BUILD_WITH_LIBUDEV_TRUE='#'
+  BUILD_WITH_LIBUDEV_FALSE=
 fi
 
 # }}}
 
 # --with-libupsclient {{{
 with_libupsclient_config=""
@@ -26369,59 +26845,63 @@
 
 # with_libvarnish_cflags and with_libvarnish_libs are set up now, let's do
 # the actual checks.
 if test "x$with_libvarnish" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
+
 	CPPFLAGS="$CPPFLAGS $with_libvarnish_cflags"
-	for ac_header in varnish/varnishapi.h
+
+	for ac_header in varnish/vapi/vsc.h
 do :
-  ac_fn_c_check_header_mongrel "$LINENO" "varnish/varnishapi.h" "ac_cv_header_varnish_varnishapi_h" "$ac_includes_default"
-if test "x$ac_cv_header_varnish_varnishapi_h" = xyes; then :
+  ac_fn_c_check_header_mongrel "$LINENO" "varnish/vapi/vsc.h" "ac_cv_header_varnish_vapi_vsc_h" "$ac_includes_default"
+if test "x$ac_cv_header_varnish_vapi_vsc_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
-#define HAVE_VARNISH_VARNISHAPI_H 1
+#define HAVE_VARNISH_VAPI_VSC_H 1
 _ACEOF
 
-else
-  with_libvarnish="no (varnish/varnishapi.h not found)"
-fi
-
-done
-
-
-	CPPFLAGS="$SAVE_CPPFLAGS"
-fi
-if test "x$with_libvarnish" = "xyes"
-then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	#SAVE_LDFLAGS="$LDFLAGS"
-
-	CPPFLAGS="$CPPFLAGS $with_libvarnish_cflags"
-	#LDFLAGS="$LDFLAGS $with_libvarnish_libs"
+$as_echo "#define HAVE_VARNISH_V4 1" >>confdefs.h
 
-    for ac_header in varnish/vsc.h
+else
+  for ac_header in varnish/vsc.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "varnish/vsc.h" "ac_cv_header_varnish_vsc_h" "$ac_includes_default"
 if test "x$ac_cv_header_varnish_vsc_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_VARNISH_VSC_H 1
 _ACEOF
 
 $as_echo "#define HAVE_VARNISH_V3 1" >>confdefs.h
 
 else
+  for ac_header in varnish/varnishapi.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "varnish/varnishapi.h" "ac_cv_header_varnish_varnishapi_h" "$ac_includes_default"
+if test "x$ac_cv_header_varnish_varnishapi_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_VARNISH_VARNISHAPI_H 1
+_ACEOF
 
 $as_echo "#define HAVE_VARNISH_V2 1" >>confdefs.h
 
+else
+  with_libvarnish="no (found none of the varnish header files)"
+fi
+
+done
+
+fi
+
+done
+
 fi
 
 done
 
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
-	#LDFLAGS="$SAVE_LDFLAGS"
 fi
 if test "x$with_libvarnish" = "xyes"
 then
 	BUILD_WITH_LIBVARNISH_CFLAGS="$with_libvarnish_cflags"
 	BUILD_WITH_LIBVARNISH_LIBS="$with_libvarnish_libs"
 
@@ -26743,12 +27223,136 @@
 	BUILD_WITH_OPENIPMI_LIBS="$with_libopenipmipthread_ldflags"
 
 
 fi
 # }}}
 
+# --with-libatasmart {{{
+with_libatasmart_cppflags=""
+with_libatasmart_ldflags=""
+
+# Check whether --with-libatasmart was given.
+if test "${with_libatasmart+set}" = set; then :
+  withval=$with_libatasmart;
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		with_libatasmart_cppflags="-I$withval/include"
+		with_libatasmart_ldflags="-L$withval/lib"
+		with_libatasmart="yes"
+	else
+		with_libatasmart="$withval"
+	fi
+
+else
+
+	if test "x$ac_system" = "xLinux"
+	then
+		with_libatasmart="yes"
+	else
+		with_libatasmart="no (Linux only library)"
+	fi
+
+fi
+
+if test "x$with_libatasmart" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libatasmart_cppflags"
+
+	for ac_header in atasmart.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "atasmart.h" "ac_cv_header_atasmart_h" "$ac_includes_default"
+if test "x$ac_cv_header_atasmart_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_ATASMART_H 1
+_ACEOF
+ with_libatasmart="yes"
+else
+  with_libatasmart="no (atasmart.h not found)"
+fi
+
+done
+
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libatasmart" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libatasmart_cppflags"
+	LDFLAGS="$LDFLAGS $with_libatasmart_ldflags"
+
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sk_disk_open in -latasmart" >&5
+$as_echo_n "checking for sk_disk_open in -latasmart... " >&6; }
+if ${ac_cv_lib_atasmart_sk_disk_open+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-latasmart  $LIBS"
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sk_disk_open ();
+int
+main ()
+{
+return sk_disk_open ();
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_lib_atasmart_sk_disk_open=yes
+else
+  ac_cv_lib_atasmart_sk_disk_open=no
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_atasmart_sk_disk_open" >&5
+$as_echo "$ac_cv_lib_atasmart_sk_disk_open" >&6; }
+if test "x$ac_cv_lib_atasmart_sk_disk_open" = xyes; then :
+  with_libatasmart="yes"
+else
+  with_libatasmart="no (Symbol 'sk_disk_open' not found)"
+fi
+
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+if test "x$with_libatasmart" = "xyes"
+then
+	BUILD_WITH_LIBATASMART_CPPFLAGS="$with_libatasmart_cppflags"
+	BUILD_WITH_LIBATASMART_LDFLAGS="$with_libatasmart_ldflags"
+	BUILD_WITH_LIBATASMART_LIBS="-latasmart"
+
+
+
+
+$as_echo "#define HAVE_LIBATASMART 1" >>confdefs.h
+
+fi
+ if test "x$with_libatasmart" = "xyes"; then
+  BUILD_WITH_LIBATASMART_TRUE=
+  BUILD_WITH_LIBATASMART_FALSE='#'
+else
+  BUILD_WITH_LIBATASMART_TRUE='#'
+  BUILD_WITH_LIBATASMART_FALSE=
+fi
+
+# }}}
+
 
 pkg_failed=no
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for LIBNOTIFY" >&5
 $as_echo_n "checking for LIBNOTIFY... " >&6; }
 
 if test -n "$LIBNOTIFY_CFLAGS"; then
@@ -26947,32 +27551,35 @@
 
 
 dependency_warning="no"
 dependency_error="no"
 
 plugin_ascent="no"
+plugin_barometer="no"
 plugin_battery="no"
 plugin_bind="no"
+plugin_ceph="no"
 plugin_cgroups="no"
 plugin_conntrack="no"
 plugin_contextswitch="no"
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_curl_json="no"
 plugin_curl_xml="no"
 plugin_df="no"
 plugin_disk="no"
+plugin_drbd="no"
 plugin_entropy="no"
 plugin_ethstat="no"
 plugin_fscache="no"
 plugin_interface="no"
 plugin_ipmi="no"
 plugin_ipvs="no"
 plugin_irq="no"
-plugin_libvirt="no"
 plugin_load="no"
+plugin_log_logstash="no"
 plugin_memory="no"
 plugin_multimeter="no"
 plugin_nfs="no"
 plugin_numa="no"
 plugin_perl="no"
 plugin_processes="no"
@@ -26980,32 +27587,37 @@
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
 plugin_tcpconns="no"
 plugin_ted="no"
 plugin_thermal="no"
-plugin_users="no"
+plugin_turbostat="no"
 plugin_uptime="no"
+plugin_users="no"
+plugin_virt="no"
 plugin_vmem="no"
 plugin_vserver="no"
 plugin_wireless="no"
 plugin_zfs_arc="no"
+plugin_zookeeper="no"
 
 # Linux
 if test "x$ac_system" = "xLinux"
 then
 	plugin_battery="yes"
 	plugin_conntrack="yes"
 	plugin_contextswitch="yes"
 	plugin_cgroups="yes"
 	plugin_cpu="yes"
 	plugin_cpufreq="yes"
 	plugin_disk="yes"
+	plugin_drbd="yes"
 	plugin_entropy="yes"
 	plugin_fscache="yes"
 	plugin_interface="yes"
+	plugin_ipc="yes"
 	plugin_irq="yes"
 	plugin_load="yes"
 	plugin_lvm="yes"
 	plugin_memory="yes"
 	plugin_nfs="yes"
 	plugin_numa="yes"
@@ -27016,17 +27628,22 @@
 	plugin_tcpconns="yes"
 	plugin_thermal="yes"
 	plugin_uptime="yes"
 	plugin_vmem="yes"
 	plugin_vserver="yes"
 	plugin_wireless="yes"
+	plugin_zfs_arc="yes"
 
 	if test "x$have_linux_ip_vs_h" = "xyes" || test "x$have_net_ip_vs_h" = "xyes" || test "x$have_ip_vs_h" = "xyes"
 	then
 		plugin_ipvs="yes"
 	fi
+	if test "x$c_cv_have_usable_asm_msrindex_h" = "xyes" && test "x$have_cpuid_h" = "xyes"
+	then
+		plugin_turbostat="yes"
+	fi
 fi
 
 if test "x$ac_system" = "xOpenBSD"
 then
 	plugin_tcpconns="yes"
 fi
@@ -27040,12 +27657,13 @@
 
 # AIX
 
 if test "x$ac_system" = "xAIX"
 then
         plugin_tcpconns="yes"
+        plugin_ipc="yes"
 fi
 
 # FreeBSD
 
 if test "x$ac_system" = "xFreeBSD"
 then
@@ -27085,12 +27703,33 @@
 	plugin_disk="yes"
 	plugin_interface="yes"
 	plugin_memory="yes"
 	plugin_tape="yes"
 fi
 
+# libi2c-dev
+with_libi2c="no"
+if test "x$ac_system" = "xLinux"
+then
+ac_fn_c_check_decl "$LINENO" "i2c_smbus_read_i2c_block_data" "ac_cv_have_decl_i2c_smbus_read_i2c_block_data" "#include <stdlib.h>
+	#include <linux/i2c-dev.h>
+"
+if test "x$ac_cv_have_decl_i2c_smbus_read_i2c_block_data" = xyes; then :
+  with_libi2c="yes"
+else
+  with_libi2c="no (symbol i2c_smbus_read_i2c_block_data not found - have you installed libi2c-dev ?)"
+fi
+
+fi
+
+if test "x$with_libi2c" = "xyes"
+then
+	plugin_barometer="yes"
+fi
+
+
 # libstatgrab
 if test "x$with_libstatgrab" = "xyes"
 then
 	plugin_cpu="yes"
 	plugin_disk="yes"
 	plugin_interface="yes"
@@ -27121,12 +27760,17 @@
 
 if test "x$with_libcurl" = "xyes" && test "x$with_libxml2" = "xyes"
 then
 	plugin_curl_xml="yes"
 fi
 
+if test "x$with_libyajl" = "xyes"
+then
+	plugin_ceph="yes"
+fi
+
 if test "x$have_processor_info" = "xyes"
 then
 	plugin_cpu="yes"
 fi
 if test "x$have_sysctl" = "xyes"
 then
@@ -27164,17 +27808,12 @@
 #fi
 if test "x$c_cv_have_one_getmntent" = "xyes"
 then
 	plugin_df="yes"
 fi
 
-if test "x$c_cv_have_getmntent_r" = "xyes"
-then
-	plugin_df="yes"
-fi
-
 # Df plugin: Check if we have either `statfs' or `statvfs' second.
 if test "x$plugin_df" = "xyes"
 then
 	plugin_df="no"
 	if test "x$have_statfs" = "xyes"
 	then
@@ -27193,20 +27832,20 @@
 
 if test "x$have_getifaddrs" = "xyes"
 then
 	plugin_interface="yes"
 fi
 
-if test "x$with_libxml2" = "xyes" && test "x$with_libvirt" = "xyes"
+if test "x$have_getloadavg" = "xyes"
 then
-	plugin_libvirt="yes"
+	plugin_load="yes"
 fi
 
-if test "x$have_getloadavg" = "xyes"
+if test "x$with_libyajl" = "xyes"
 then
-	plugin_load="yes"
+	plugin_log_logstash="yes"
 fi
 
 if test "x$c_cv_have_libperl$c_cv_have_perl_ithreads" = "xyesyes"
 then
 	plugin_perl="yes"
 fi
@@ -27216,13 +27855,16 @@
 then
 	plugin_memory="yes"
 fi
 
 if test "x$have_termios_h" = "xyes"
 then
-	plugin_multimeter="yes"
+	if test "x$ac_system" != "xAIX"
+	then
+		plugin_multimeter="yes"
+	fi
 	plugin_ted="yes"
 fi
 
 if test "x$have_thread_info" = "xyes"
 then
 	plugin_processes="yes"
@@ -27230,12 +27872,17 @@
 
 if test "x$with_kvm_getprocs" = "xyes" && test "x$have_struct_kinfo_proc_freebsd" = "xyes"
 then
 	plugin_processes="yes"
 fi
 
+if test "x$with_kvm_getprocs" = "xyes" && test "x$have_struct_kinfo_proc_openbsd" = "xyes"
+then
+	plugin_processes="yes"
+fi
+
 if test "x$with_kvm_getswapinfo" = "xyes"
 then
 	plugin_swap="yes"
 fi
 
 if test "x$have_swapctl" = "xyes" && test "x$c_cv_have_swapctl_two_args" = "xyes"
@@ -27254,12 +27901,18 @@
 fi
 if test "x$have_getutxent" = "xyes"
 then
 	plugin_users="yes"
 fi
 
+if test "x$with_libxml2" = "xyes" && test "x$with_libvirt" = "xyes"
+then
+	plugin_virt="yes"
+fi
+
+
 
 
 # Check whether --enable-all-plugins was given.
 if test "${enable_all_plugins+set}" = set; then :
   enableval=$enable_all_plugins;
 		 if test "x$enableval" = "xyes"
@@ -27699,12 +28352,72 @@
     enable_ascent="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-barometer was given.
+if test "${enable_barometer+set}" = set; then :
+  enableval=$enable_barometer;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$plugin_barometer" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$plugin_barometer" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_BAROMETER 1" >>confdefs.h
+
+		    if test "x$plugin_barometer" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_BAROMETER_TRUE=
+  BUILD_PLUGIN_BAROMETER_FALSE='#'
+else
+  BUILD_PLUGIN_BAROMETER_TRUE='#'
+  BUILD_PLUGIN_BAROMETER_FALSE=
+fi
+
+    enable_barometer="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-battery was given.
 if test "${enable_battery+set}" = set; then :
   enableval=$enable_battery;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -27819,12 +28532,72 @@
     enable_bind="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-ceph was given.
+if test "${enable_ceph+set}" = set; then :
+  enableval=$enable_ceph;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$plugin_ceph" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$plugin_ceph" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_CEPH 1" >>confdefs.h
+
+		    if test "x$plugin_ceph" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_CEPH_TRUE=
+  BUILD_PLUGIN_CEPH_FALSE='#'
+else
+  BUILD_PLUGIN_CEPH_TRUE='#'
+  BUILD_PLUGIN_CEPH_FALSE=
+fi
+
+    enable_ceph="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-conntrack was given.
 if test "${enable_conntrack+set}" = set; then :
   enableval=$enable_conntrack;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -28539,12 +29312,72 @@
     enable_disk="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-drbd was given.
+if test "${enable_drbd+set}" = set; then :
+  enableval=$enable_drbd;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$plugin_drbd" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$plugin_drbd" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_DRBD 1" >>confdefs.h
+
+		    if test "x$plugin_drbd" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_DRBD_TRUE=
+  BUILD_PLUGIN_DRBD_FALSE='#'
+else
+  BUILD_PLUGIN_DRBD_TRUE='#'
+  BUILD_PLUGIN_DRBD_FALSE=
+fi
+
+    enable_drbd="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-dns was given.
 if test "${enable_dns+set}" = set; then :
   enableval=$enable_dns;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -28839,12 +29672,72 @@
     enable_exec="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-fhcount was given.
+if test "${enable_fhcount+set}" = set; then :
+  enableval=$enable_fhcount;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "xyes" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_FHCOUNT 1" >>confdefs.h
+
+		    if test "xyes" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_FHCOUNT_TRUE=
+  BUILD_PLUGIN_FHCOUNT_FALSE='#'
+else
+  BUILD_PLUGIN_FHCOUNT_TRUE='#'
+  BUILD_PLUGIN_FHCOUNT_FALSE=
+fi
+
+    enable_fhcount="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-filecount was given.
 if test "${enable_filecount+set}" = set; then :
   enableval=$enable_filecount;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -29139,12 +30032,72 @@
     enable_interface="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-ipc was given.
+if test "${enable_ipc+set}" = set; then :
+  enableval=$enable_ipc;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$plugin_ipc" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$plugin_ipc" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_IPC 1" >>confdefs.h
+
+		    if test "x$plugin_ipc" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_IPC_TRUE=
+  BUILD_PLUGIN_IPC_FALSE='#'
+else
+  BUILD_PLUGIN_IPC_TRUE='#'
+  BUILD_PLUGIN_IPC_FALSE=
+fi
+
+    enable_ipc="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-ipmi was given.
 if test "${enable_ipmi+set}" = set; then :
   enableval=$enable_ipmi;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -29439,15 +30392,15 @@
     enable_java="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
-    # Check whether --enable-libvirt was given.
-if test "${enable_libvirt+set}" = set; then :
-  enableval=$enable_libvirt;
+    # Check whether --enable-load was given.
+if test "${enable_load+set}" = set; then :
+  enableval=$enable_load;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
      else if test "x$enableval" = "xforce"
      then
 	     enable_plugin="yes"
@@ -29457,13 +30410,13 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "x$plugin_libvirt" = "xyes"
+	     if test "x$plugin_load" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -29471,43 +30424,43 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "x$plugin_libvirt" = "xyes" || test "x$force" = "xyes"
+	    if test "x$plugin_load" = "xyes" || test "x$force" = "xyes"
 	    then
 
-$as_echo "#define HAVE_PLUGIN_LIBVIRT 1" >>confdefs.h
+$as_echo "#define HAVE_PLUGIN_LOAD 1" >>confdefs.h
 
-		    if test "x$plugin_libvirt" != "xyes"
+		    if test "x$plugin_load" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
 	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
-  BUILD_PLUGIN_LIBVIRT_TRUE=
-  BUILD_PLUGIN_LIBVIRT_FALSE='#'
+  BUILD_PLUGIN_LOAD_TRUE=
+  BUILD_PLUGIN_LOAD_FALSE='#'
 else
-  BUILD_PLUGIN_LIBVIRT_TRUE='#'
-  BUILD_PLUGIN_LIBVIRT_FALSE=
+  BUILD_PLUGIN_LOAD_TRUE='#'
+  BUILD_PLUGIN_LOAD_FALSE=
 fi
 
-    enable_libvirt="$enable_plugin"
+    enable_load="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
-    # Check whether --enable-load was given.
-if test "${enable_load+set}" = set; then :
-  enableval=$enable_load;
+    # Check whether --enable-logfile was given.
+if test "${enable_logfile+set}" = set; then :
+  enableval=$enable_logfile;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
      else if test "x$enableval" = "xforce"
      then
 	     enable_plugin="yes"
@@ -29517,13 +30470,13 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "x$plugin_load" = "xyes"
+	     if test "xyes" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -29531,43 +30484,43 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "x$plugin_load" = "xyes" || test "x$force" = "xyes"
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
 	    then
 
-$as_echo "#define HAVE_PLUGIN_LOAD 1" >>confdefs.h
+$as_echo "#define HAVE_PLUGIN_LOGFILE 1" >>confdefs.h
 
-		    if test "x$plugin_load" != "xyes"
+		    if test "xyes" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
 	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
-  BUILD_PLUGIN_LOAD_TRUE=
-  BUILD_PLUGIN_LOAD_FALSE='#'
+  BUILD_PLUGIN_LOGFILE_TRUE=
+  BUILD_PLUGIN_LOGFILE_FALSE='#'
 else
-  BUILD_PLUGIN_LOAD_TRUE='#'
-  BUILD_PLUGIN_LOAD_FALSE=
+  BUILD_PLUGIN_LOGFILE_TRUE='#'
+  BUILD_PLUGIN_LOGFILE_FALSE=
 fi
 
-    enable_load="$enable_plugin"
+    enable_logfile="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
-    # Check whether --enable-logfile was given.
-if test "${enable_logfile+set}" = set; then :
-  enableval=$enable_logfile;
+    # Check whether --enable-log_logstash was given.
+if test "${enable_log_logstash+set}" = set; then :
+  enableval=$enable_log_logstash;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
      else if test "x$enableval" = "xforce"
      then
 	     enable_plugin="yes"
@@ -29577,13 +30530,13 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "xyes" = "xyes"
+	     if test "x$plugin_log_logstash" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -29591,35 +30544,35 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    if test "x$plugin_log_logstash" = "xyes" || test "x$force" = "xyes"
 	    then
 
-$as_echo "#define HAVE_PLUGIN_LOGFILE 1" >>confdefs.h
+$as_echo "#define HAVE_PLUGIN_LOG_LOGSTASH 1" >>confdefs.h
 
-		    if test "xyes" != "xyes"
+		    if test "x$plugin_log_logstash" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
 	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
-  BUILD_PLUGIN_LOGFILE_TRUE=
-  BUILD_PLUGIN_LOGFILE_FALSE='#'
+  BUILD_PLUGIN_LOG_LOGSTASH_TRUE=
+  BUILD_PLUGIN_LOG_LOGSTASH_FALSE='#'
 else
-  BUILD_PLUGIN_LOGFILE_TRUE='#'
-  BUILD_PLUGIN_LOGFILE_FALSE=
+  BUILD_PLUGIN_LOG_LOGSTASH_TRUE='#'
+  BUILD_PLUGIN_LOG_LOGSTASH_FALSE=
 fi
 
-    enable_logfile="$enable_plugin"
+    enable_log_logstash="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
     # Check whether --enable-lpar was given.
@@ -31257,13 +32210,73 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "xyes" = "xyes"
+	     if test "xyes" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_OLSRD 1" >>confdefs.h
+
+		    if test "xyes" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_OLSRD_TRUE=
+  BUILD_PLUGIN_OLSRD_FALSE='#'
+else
+  BUILD_PLUGIN_OLSRD_TRUE='#'
+  BUILD_PLUGIN_OLSRD_FALSE=
+fi
+
+    enable_olsrd="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
+    # Check whether --enable-onewire was given.
+if test "${enable_onewire+set}" = set; then :
+  enableval=$enable_onewire;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$with_libowcapi" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -31271,43 +32284,43 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    if test "x$with_libowcapi" = "xyes" || test "x$force" = "xyes"
 	    then
 
-$as_echo "#define HAVE_PLUGIN_OLSRD 1" >>confdefs.h
+$as_echo "#define HAVE_PLUGIN_ONEWIRE 1" >>confdefs.h
 
-		    if test "xyes" != "xyes"
+		    if test "x$with_libowcapi" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
 	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
-  BUILD_PLUGIN_OLSRD_TRUE=
-  BUILD_PLUGIN_OLSRD_FALSE='#'
+  BUILD_PLUGIN_ONEWIRE_TRUE=
+  BUILD_PLUGIN_ONEWIRE_FALSE='#'
 else
-  BUILD_PLUGIN_OLSRD_TRUE='#'
-  BUILD_PLUGIN_OLSRD_FALSE=
+  BUILD_PLUGIN_ONEWIRE_TRUE='#'
+  BUILD_PLUGIN_ONEWIRE_FALSE=
 fi
 
-    enable_olsrd="$enable_plugin"
+    enable_onewire="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
-    # Check whether --enable-onewire was given.
-if test "${enable_onewire+set}" = set; then :
-  enableval=$enable_onewire;
+    # Check whether --enable-openldap was given.
+if test "${enable_openldap+set}" = set; then :
+  enableval=$enable_openldap;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
      else if test "x$enableval" = "xforce"
      then
 	     enable_plugin="yes"
@@ -31317,13 +32330,13 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "x$with_libowcapi" = "xyes"
+	     if test "x$with_libldap" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -31331,35 +32344,35 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "x$with_libowcapi" = "xyes" || test "x$force" = "xyes"
+	    if test "x$with_libldap" = "xyes" || test "x$force" = "xyes"
 	    then
 
-$as_echo "#define HAVE_PLUGIN_ONEWIRE 1" >>confdefs.h
+$as_echo "#define HAVE_PLUGIN_OPENLDAP 1" >>confdefs.h
 
-		    if test "x$with_libowcapi" != "xyes"
+		    if test "x$with_libldap" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
 	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
-  BUILD_PLUGIN_ONEWIRE_TRUE=
-  BUILD_PLUGIN_ONEWIRE_FALSE='#'
+  BUILD_PLUGIN_OPENLDAP_TRUE=
+  BUILD_PLUGIN_OPENLDAP_FALSE='#'
 else
-  BUILD_PLUGIN_ONEWIRE_TRUE='#'
-  BUILD_PLUGIN_ONEWIRE_FALSE=
+  BUILD_PLUGIN_OPENLDAP_TRUE='#'
+  BUILD_PLUGIN_OPENLDAP_FALSE=
 fi
 
-    enable_onewire="$enable_plugin"
+    enable_openldap="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
     # Check whether --enable-openvpn was given.
@@ -32038,13 +33051,13 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "x$with_libcredis" = "xyes"
+	     if test "x$with_libhiredis" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -32052,18 +33065,18 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "x$with_libcredis" = "xyes" || test "x$force" = "xyes"
+	    if test "x$with_libhiredis" = "xyes" || test "x$force" = "xyes"
 	    then
 
 $as_echo "#define HAVE_PLUGIN_REDIS 1" >>confdefs.h
 
-		    if test "x$with_libcredis" != "xyes"
+		    if test "x$with_libhiredis" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
@@ -32440,12 +33453,72 @@
     enable_sigrok="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-smart was given.
+if test "${enable_smart+set}" = set; then :
+  enableval=$enable_smart;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$with_libatasmart" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$with_libatasmart" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_SMART 1" >>confdefs.h
+
+		    if test "x$with_libatasmart" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_SMART_TRUE=
+  BUILD_PLUGIN_SMART_FALSE='#'
+else
+  BUILD_PLUGIN_SMART_TRUE='#'
+  BUILD_PLUGIN_SMART_FALSE=
+fi
+
+    enable_smart="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-snmp was given.
 if test "${enable_snmp+set}" = set; then :
   enableval=$enable_snmp;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -33580,12 +34653,72 @@
     enable_tokyotyrant="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-turbostat was given.
+if test "${enable_turbostat+set}" = set; then :
+  enableval=$enable_turbostat;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$plugin_turbostat" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$plugin_turbostat" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_TURBOSTAT 1" >>confdefs.h
+
+		    if test "x$plugin_turbostat" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_TURBOSTAT_TRUE=
+  BUILD_PLUGIN_TURBOSTAT_FALSE='#'
+else
+  BUILD_PLUGIN_TURBOSTAT_TRUE='#'
+  BUILD_PLUGIN_TURBOSTAT_FALSE=
+fi
+
+    enable_turbostat="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-unixsock was given.
 if test "${enable_unixsock+set}" = set; then :
   enableval=$enable_unixsock;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -33880,12 +35013,72 @@
     enable_varnish="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-virt was given.
+if test "${enable_virt+set}" = set; then :
+  enableval=$enable_virt;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$plugin_virt" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$plugin_virt" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_VIRT 1" >>confdefs.h
+
+		    if test "x$plugin_virt" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_VIRT_TRUE=
+  BUILD_PLUGIN_VIRT_FALSE='#'
+else
+  BUILD_PLUGIN_VIRT_TRUE='#'
+  BUILD_PLUGIN_VIRT_FALSE=
+fi
+
+    enable_virt="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-vmem was given.
 if test "${enable_vmem+set}" = set; then :
   enableval=$enable_vmem;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -34180,12 +35373,132 @@
     enable_write_http="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-write_kafka was given.
+if test "${enable_write_kafka+set}" = set; then :
+  enableval=$enable_write_kafka;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "x$with_librdkafka" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "x$with_librdkafka" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_WRITE_KAFKA 1" >>confdefs.h
+
+		    if test "x$with_librdkafka" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_WRITE_KAFKA_TRUE=
+  BUILD_PLUGIN_WRITE_KAFKA_FALSE='#'
+else
+  BUILD_PLUGIN_WRITE_KAFKA_TRUE='#'
+  BUILD_PLUGIN_WRITE_KAFKA_FALSE=
+fi
+
+    enable_write_kafka="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
+    # Check whether --enable-write_log was given.
+if test "${enable_write_log+set}" = set; then :
+  enableval=$enable_write_log;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "xyes" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_WRITE_LOG 1" >>confdefs.h
+
+		    if test "xyes" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_WRITE_LOG_TRUE=
+  BUILD_PLUGIN_WRITE_LOG_FALSE='#'
+else
+  BUILD_PLUGIN_WRITE_LOG_TRUE='#'
+  BUILD_PLUGIN_WRITE_LOG_FALSE=
+fi
+
+    enable_write_log="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-write_mongodb was given.
 if test "${enable_write_mongodb+set}" = set; then :
   enableval=$enable_write_mongodb;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -34258,13 +35571,13 @@
      fi; fi
 
 else
 
 	 if test "x$enable_all_plugins" = "xauto"
 	 then
-	     if test "x$with_libcredis" = "xyes"
+	     if test "x$with_libhiredis" = "xyes"
 	     then
 		     enable_plugin="yes"
 	     else
 		     enable_plugin="no"
 	     fi
 	 else
@@ -34272,18 +35585,18 @@
 	 fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
-	    if test "x$with_libcredis" = "xyes" || test "x$force" = "xyes"
+	    if test "x$with_libhiredis" = "xyes" || test "x$force" = "xyes"
 	    then
 
 $as_echo "#define HAVE_PLUGIN_WRITE_REDIS 1" >>confdefs.h
 
-		    if test "x$with_libcredis" != "xyes"
+		    if test "x$with_libhiredis" != "xyes"
 		    then
 			    dependency_warning="yes"
 		    fi
 	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
 		    dependency_error="yes"
 		    enable_plugin="no (dependency error)"
@@ -34360,12 +35673,132 @@
     enable_write_riemann="$enable_plugin"
 
 
 
     enable_plugin="no"
     force="no"
+    # Check whether --enable-write_sensu was given.
+if test "${enable_write_sensu+set}" = set; then :
+  enableval=$enable_write_sensu;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "xyes" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_WRITE_SENSU 1" >>confdefs.h
+
+		    if test "xyes" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_WRITE_SENSU_TRUE=
+  BUILD_PLUGIN_WRITE_SENSU_FALSE='#'
+else
+  BUILD_PLUGIN_WRITE_SENSU_TRUE='#'
+  BUILD_PLUGIN_WRITE_SENSU_FALSE=
+fi
+
+    enable_write_sensu="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
+    # Check whether --enable-write_tsdb was given.
+if test "${enable_write_tsdb+set}" = set; then :
+  enableval=$enable_write_tsdb;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "xyes" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_WRITE_TSDB 1" >>confdefs.h
+
+		    if test "xyes" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_WRITE_TSDB_TRUE=
+  BUILD_PLUGIN_WRITE_TSDB_FALSE='#'
+else
+  BUILD_PLUGIN_WRITE_TSDB_TRUE='#'
+  BUILD_PLUGIN_WRITE_TSDB_FALSE=
+fi
+
+    enable_write_tsdb="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    force="no"
     # Check whether --enable-xmms was given.
 if test "${enable_xmms+set}" = set; then :
   enableval=$enable_xmms;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -34478,15 +35911,76 @@
 fi
 
     enable_zfs_arc="$enable_plugin"
 
 
 
+    enable_plugin="no"
+    force="no"
+    # Check whether --enable-zookeeper was given.
+if test "${enable_zookeeper+set}" = set; then :
+  enableval=$enable_zookeeper;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else if test "x$enableval" = "xforce"
+     then
+	     enable_plugin="yes"
+	     force="yes"
+     else
+	     enable_plugin="no (disabled on command line)"
+     fi; fi
+
+else
+
+	 if test "x$enable_all_plugins" = "xauto"
+	 then
+	     if test "xyes" = "xyes"
+	     then
+		     enable_plugin="yes"
+	     else
+		     enable_plugin="no"
+	     fi
+	 else
+	     enable_plugin="$enable_all_plugins"
+	 fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+	    if test "xyes" = "xyes" || test "x$force" = "xyes"
+	    then
+
+$as_echo "#define HAVE_PLUGIN_ZOOKEEPER 1" >>confdefs.h
+
+		    if test "xyes" != "xyes"
+		    then
+			    dependency_warning="yes"
+		    fi
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_ZOOKEEPER_TRUE=
+  BUILD_PLUGIN_ZOOKEEPER_FALSE='#'
+else
+  BUILD_PLUGIN_ZOOKEEPER_TRUE='#'
+  BUILD_PLUGIN_ZOOKEEPER_FALSE=
+fi
+
+    enable_zookeeper="$enable_plugin"
+
+
+
 # Load either syslog or logfile
 LOAD_PLUGIN_SYSLOG=""
 LOAD_PLUGIN_LOGFILE=""
+LOAD_PLUGIN_LOG_LOGSTASH=""
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking which default log plugin to load" >&5
 $as_echo_n "checking which default log plugin to load... " >&6; }
 default_log_plugin="none"
 if test "x$enable_syslog" = "xyes"
 then
@@ -34503,12 +35997,21 @@
 	else
 		LOAD_PLUGIN_LOGFILE="#"
 	fi
 else
 	LOAD_PLUGIN_LOGFILE="##"
 fi
+
+if test "x$enable_log_logstash" = "xyes"
+then
+  LOAD_PLUGIN_LOG_LOGSTASH="#"
+else
+  LOAD_PLUGIN_LOG_LOGSTASH="##"
+fi
+
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $default_log_plugin" >&5
 $as_echo "$default_log_plugin" >&6; }
 
 
 
 
@@ -34622,13 +36126,13 @@
 
 
 
 ac_config_files="$ac_config_files src/libcollectdclient/collectd/lcc_features.h"
 
 
-ac_config_files="$ac_config_files Makefile src/Makefile src/collectd.conf src/libcollectdclient/Makefile src/libcollectdclient/libcollectdclient.pc src/liboconfig/Makefile bindings/Makefile bindings/java/Makefile"
+ac_config_files="$ac_config_files Makefile src/Makefile src/daemon/Makefile src/collectd.conf src/libcollectdclient/Makefile src/libcollectdclient/libcollectdclient.pc src/liboconfig/Makefile bindings/Makefile bindings/java/Makefile"
 
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
 # scripts and configure runs, see configure's option --config-cache.
 # It is not useful on other systems.  If it contains results you don't
@@ -34758,16 +36262,12 @@
     fi
     ltdl_LIBOBJS=$_ltdl_libobjs
 
     ltdl_LTLIBOBJS=$_ltdl_ltlibobjs
 
 
-if test -z "${BUILD_INCLUDED_LTDL_TRUE}" && test -z "${BUILD_INCLUDED_LTDL_FALSE}"; then
-  as_fn_error $? "conditional \"BUILD_INCLUDED_LTDL\" was never defined.
-Usually this means the macro was only invoked conditionally." "$LINENO" 5
-fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking that generated files are newer than configure" >&5
 $as_echo_n "checking that generated files are newer than configure... " >&6; }
    if test -n "$am_sleep_pid"; then
      # Hide warnings about reused PIDs.
      wait $am_sleep_pid 2>/dev/null
    fi
@@ -34794,12 +36294,36 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${HAVE_PROTOC_C_TRUE}" && test -z "${HAVE_PROTOC_C_FALSE}"; then
   as_fn_error $? "conditional \"HAVE_PROTOC_C\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_LINUX_TRUE}" && test -z "${BUILD_LINUX_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_LINUX\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_SOLARIS_TRUE}" && test -z "${BUILD_SOLARIS_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_SOLARIS\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_DARWIN_TRUE}" && test -z "${BUILD_DARWIN_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_DARWIN\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_OPENBSD_TRUE}" && test -z "${BUILD_OPENBSD_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_OPENBSD\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_AIX_TRUE}" && test -z "${BUILD_AIX_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_AIX\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_FREEBSD_TRUE}" && test -z "${BUILD_FREEBSD_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_FREEBSD\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_FEATURE_STANDARDS_TRUE}" && test -z "${BUILD_FEATURE_STANDARDS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_FEATURE_STANDARDS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${IP_VS_H_NEEDS_KERNEL_CFLAGS_TRUE}" && test -z "${IP_VS_H_NEEDS_KERNEL_CFLAGS_FALSE}"; then
   as_fn_error $? "conditional \"IP_VS_H_NEEDS_KERNEL_CFLAGS\" was never defined.
@@ -34818,20 +36342,12 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBRESOLV_TRUE}" && test -z "${BUILD_WITH_LIBRESOLV_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBRESOLV\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
-if test -z "${BUILD_FREEBSD_TRUE}" && test -z "${BUILD_FREEBSD_FALSE}"; then
-  as_fn_error $? "conditional \"BUILD_FREEBSD\" was never defined.
-Usually this means the macro was only invoked conditionally." "$LINENO" 5
-fi
-if test -z "${BUILD_AIX_TRUE}" && test -z "${BUILD_AIX_FALSE}"; then
-  as_fn_error $? "conditional \"BUILD_AIX\" was never defined.
-Usually this means the macro was only invoked conditionally." "$LINENO" 5
-fi
 if test -z "${BUILD_WITH_PERFSTAT_TRUE}" && test -z "${BUILD_WITH_PERFSTAT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_PERFSTAT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBKSTAT_TRUE}" && test -z "${BUILD_WITH_LIBKSTAT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBKSTAT\" was never defined.
@@ -34862,14 +36378,14 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBAQUAERO5_TRUE}" && test -z "${BUILD_WITH_LIBAQUAERO5_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBAQUAERO5\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
-if test -z "${BUILD_WITH_LIBCREDIS_TRUE}" && test -z "${BUILD_WITH_LIBCREDIS_FALSE}"; then
-  as_fn_error $? "conditional \"BUILD_WITH_LIBCREDIS\" was never defined.
+if test -z "${BUILD_WITH_LIBHIREDIS_TRUE}" && test -z "${BUILD_WITH_LIBHIREDIS_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_WITH_LIBHIREDIS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBCURL_TRUE}" && test -z "${BUILD_WITH_LIBCURL_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBCURL\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
@@ -34886,24 +36402,24 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBGCRYPT_TRUE}" && test -z "${BUILD_WITH_LIBGCRYPT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBGCRYPT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
-if test -z "${BUILD_WITH_OWN_LIBIPTC_TRUE}" && test -z "${BUILD_WITH_OWN_LIBIPTC_FALSE}"; then
-  as_fn_error $? "conditional \"BUILD_WITH_OWN_LIBIPTC\" was never defined.
-Usually this means the macro was only invoked conditionally." "$LINENO" 5
-fi
 if test -z "${BUILD_WITH_LIBIPTC_TRUE}" && test -z "${BUILD_WITH_LIBIPTC_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBIPTC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_JAVA_TRUE}" && test -z "${BUILD_WITH_JAVA_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_JAVA\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_WITH_LIBLDAP_TRUE}" && test -z "${BUILD_WITH_LIBLDAP_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_WITH_LIBLDAP\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_WITH_LIBLVM2APP_TRUE}" && test -z "${BUILD_WITH_LIBLVM2APP_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBLVM2APP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBMEMCACHED_TRUE}" && test -z "${BUILD_WITH_LIBMEMCACHED_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBMEMCACHED\" was never defined.
@@ -34958,12 +36474,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBRABBITMQ_TRUE}" && test -z "${BUILD_WITH_LIBRABBITMQ_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBRABBITMQ\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_WITH_LIBRDKAFKA_TRUE}" && test -z "${BUILD_WITH_LIBRDKAFKA_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_WITH_LIBRDKAFKA\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_WITH_LIBROUTEROS_TRUE}" && test -z "${BUILD_WITH_LIBROUTEROS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBROUTEROS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LM_SENSORS_TRUE}" && test -z "${BUILD_WITH_LM_SENSORS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LM_SENSORS\" was never defined.
@@ -34978,20 +36498,28 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBTOKYOTYRANT_TRUE}" && test -z "${BUILD_WITH_LIBTOKYOTYRANT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBTOKYOTYRANT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_WITH_LIBUDEV_TRUE}" && test -z "${BUILD_WITH_LIBUDEV_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_WITH_LIBUDEV\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_WITH_LIBXMMS_TRUE}" && test -z "${BUILD_WITH_LIBXMMS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBXMMS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_WITH_LIBYAJL_TRUE}" && test -z "${BUILD_WITH_LIBYAJL_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_WITH_LIBYAJL\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_WITH_LIBATASMART_TRUE}" && test -z "${BUILD_WITH_LIBATASMART_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_WITH_LIBATASMART\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_FEATURE_DEBUG_TRUE}" && test -z "${BUILD_FEATURE_DEBUG_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_FEATURE_DEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_FEATURE_DAEMON_TRUE}" && test -z "${BUILD_FEATURE_DAEMON_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_FEATURE_DAEMON\" was never defined.
@@ -35026,20 +36554,28 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_ASCENT_TRUE}" && test -z "${BUILD_PLUGIN_ASCENT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_ASCENT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_BAROMETER_TRUE}" && test -z "${BUILD_PLUGIN_BAROMETER_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_BAROMETER\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_BATTERY_TRUE}" && test -z "${BUILD_PLUGIN_BATTERY_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_BATTERY\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_BIND_TRUE}" && test -z "${BUILD_PLUGIN_BIND_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_BIND\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_CEPH_TRUE}" && test -z "${BUILD_PLUGIN_CEPH_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_CEPH\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_CONNTRACK_TRUE}" && test -z "${BUILD_PLUGIN_CONNTRACK_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_CONNTRACK\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_CONTEXTSWITCH_TRUE}" && test -z "${BUILD_PLUGIN_CONTEXTSWITCH_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_CONTEXTSWITCH\" was never defined.
@@ -35082,12 +36618,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_DISK_TRUE}" && test -z "${BUILD_PLUGIN_DISK_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_DISK\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_DRBD_TRUE}" && test -z "${BUILD_PLUGIN_DRBD_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_DRBD\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_DNS_TRUE}" && test -z "${BUILD_PLUGIN_DNS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_DNS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_EMAIL_TRUE}" && test -z "${BUILD_PLUGIN_EMAIL_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_EMAIL\" was never defined.
@@ -35102,12 +36642,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_EXEC_TRUE}" && test -z "${BUILD_PLUGIN_EXEC_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_EXEC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_FHCOUNT_TRUE}" && test -z "${BUILD_PLUGIN_FHCOUNT_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_FHCOUNT\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_FILECOUNT_TRUE}" && test -z "${BUILD_PLUGIN_FILECOUNT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_FILECOUNT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_FSCACHE_TRUE}" && test -z "${BUILD_PLUGIN_FSCACHE_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_FSCACHE\" was never defined.
@@ -35122,12 +36666,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_INTERFACE_TRUE}" && test -z "${BUILD_PLUGIN_INTERFACE_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_INTERFACE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_IPC_TRUE}" && test -z "${BUILD_PLUGIN_IPC_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_IPC\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_IPMI_TRUE}" && test -z "${BUILD_PLUGIN_IPMI_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_IPMI\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_IPTABLES_TRUE}" && test -z "${BUILD_PLUGIN_IPTABLES_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
@@ -35142,24 +36690,24 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_JAVA_TRUE}" && test -z "${BUILD_PLUGIN_JAVA_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_JAVA\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
-if test -z "${BUILD_PLUGIN_LIBVIRT_TRUE}" && test -z "${BUILD_PLUGIN_LIBVIRT_FALSE}"; then
-  as_fn_error $? "conditional \"BUILD_PLUGIN_LIBVIRT\" was never defined.
-Usually this means the macro was only invoked conditionally." "$LINENO" 5
-fi
 if test -z "${BUILD_PLUGIN_LOAD_TRUE}" && test -z "${BUILD_PLUGIN_LOAD_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_LOGFILE_TRUE}" && test -z "${BUILD_PLUGIN_LOGFILE_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_LOGFILE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_LOG_LOGSTASH_TRUE}" && test -z "${BUILD_PLUGIN_LOG_LOGSTASH_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_LOG_LOGSTASH\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_LPAR_TRUE}" && test -z "${BUILD_PLUGIN_LPAR_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_LPAR\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_LVM_TRUE}" && test -z "${BUILD_PLUGIN_LVM_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_LVM\" was never defined.
@@ -35270,12 +36818,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_ONEWIRE_TRUE}" && test -z "${BUILD_PLUGIN_ONEWIRE_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_ONEWIRE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_OPENLDAP_TRUE}" && test -z "${BUILD_PLUGIN_OPENLDAP_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_OPENLDAP\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_OPENVPN_TRUE}" && test -z "${BUILD_PLUGIN_OPENVPN_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_OPENVPN\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_ORACLE_TRUE}" && test -z "${BUILD_PLUGIN_ORACLE_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_ORACLE\" was never defined.
@@ -35342,12 +36894,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_SIGROK_TRUE}" && test -z "${BUILD_PLUGIN_SIGROK_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_SIGROK\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_SMART_TRUE}" && test -z "${BUILD_PLUGIN_SMART_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_SMART\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_SNMP_TRUE}" && test -z "${BUILD_PLUGIN_SNMP_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_SNMP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_STATSD_TRUE}" && test -z "${BUILD_PLUGIN_STATSD_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_STATSD\" was never defined.
@@ -35418,12 +36974,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_TOKYOTYRANT_TRUE}" && test -z "${BUILD_PLUGIN_TOKYOTYRANT_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_TOKYOTYRANT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_TURBOSTAT_TRUE}" && test -z "${BUILD_PLUGIN_TURBOSTAT_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_TURBOSTAT\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_UNIXSOCK_TRUE}" && test -z "${BUILD_PLUGIN_UNIXSOCK_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_UPTIME_TRUE}" && test -z "${BUILD_PLUGIN_UPTIME_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_UPTIME\" was never defined.
@@ -35438,12 +36998,16 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_VARNISH_TRUE}" && test -z "${BUILD_PLUGIN_VARNISH_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_VARNISH\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_VIRT_TRUE}" && test -z "${BUILD_PLUGIN_VIRT_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_VIRT\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_VMEM_TRUE}" && test -z "${BUILD_PLUGIN_VMEM_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_VMEM\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_VSERVER_TRUE}" && test -z "${BUILD_PLUGIN_VSERVER_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
@@ -35458,32 +37022,52 @@
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_WRITE_HTTP_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_HTTP_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_HTTP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_WRITE_KAFKA_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_KAFKA_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_KAFKA\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_PLUGIN_WRITE_LOG_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_LOG_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_LOG\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_WRITE_MONGODB_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_MONGODB_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_MONGODB\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_WRITE_REDIS_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_REDIS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_REDIS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_WRITE_RIEMANN_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_RIEMANN_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_RIEMANN\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_WRITE_SENSU_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_SENSU_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_SENSU\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
+if test -z "${BUILD_PLUGIN_WRITE_TSDB_TRUE}" && test -z "${BUILD_PLUGIN_WRITE_TSDB_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_WRITE_TSDB\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${BUILD_PLUGIN_XMMS_TRUE}" && test -z "${BUILD_PLUGIN_XMMS_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_XMMS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${BUILD_PLUGIN_ZFS_ARC_TRUE}" && test -z "${BUILD_PLUGIN_ZFS_ARC_FALSE}"; then
   as_fn_error $? "conditional \"BUILD_PLUGIN_ZFS_ARC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${BUILD_PLUGIN_ZOOKEEPER_TRUE}" && test -z "${BUILD_PLUGIN_ZOOKEEPER_FALSE}"; then
+  as_fn_error $? "conditional \"BUILD_PLUGIN_ZOOKEEPER\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 
 : "${CONFIG_STATUS=./config.status}"
 ac_write_fail=0
 ac_clean_files_save=$ac_clean_files
 ac_clean_files="$ac_clean_files $CONFIG_STATUS"
 { $as_echo "$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS" >&5
@@ -35875,13 +37459,13 @@
 
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 # Save the log message, to keep $0 and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 5.4.3, which was
+This file was extended by collectd $as_me 5.5.0, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -35941,13 +37525,13 @@
 Report bugs to the package provider."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
-collectd config.status 5.4.3
+collectd config.status 5.5.0
 configured by $0, generated by GNU Autoconf 2.69,
   with options \\"\$ac_cs_config\\"
 
 Copyright (C) 2012 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -36353,12 +37937,13 @@
     "src/config.h") CONFIG_HEADERS="$CONFIG_HEADERS src/config.h" ;;
     "libtool") CONFIG_COMMANDS="$CONFIG_COMMANDS libtool" ;;
     "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
     "src/libcollectdclient/collectd/lcc_features.h") CONFIG_FILES="$CONFIG_FILES src/libcollectdclient/collectd/lcc_features.h" ;;
     "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
     "src/Makefile") CONFIG_FILES="$CONFIG_FILES src/Makefile" ;;
+    "src/daemon/Makefile") CONFIG_FILES="$CONFIG_FILES src/daemon/Makefile" ;;
     "src/collectd.conf") CONFIG_FILES="$CONFIG_FILES src/collectd.conf" ;;
     "src/libcollectdclient/Makefile") CONFIG_FILES="$CONFIG_FILES src/libcollectdclient/Makefile" ;;
     "src/libcollectdclient/libcollectdclient.pc") CONFIG_FILES="$CONFIG_FILES src/libcollectdclient/libcollectdclient.pc" ;;
     "src/liboconfig/Makefile") CONFIG_FILES="$CONFIG_FILES src/liboconfig/Makefile" ;;
     "bindings/Makefile") CONFIG_FILES="$CONFIG_FILES bindings/Makefile" ;;
     "bindings/java/Makefile") CONFIG_FILES="$CONFIG_FILES bindings/java/Makefile" ;;
@@ -37891,24 +39476,27 @@
 cat <<EOF;
 
 Configuration:
   Libraries:
     intel mic . . . . . . $with_mic
     libaquaero5 . . . . . $with_libaquaero5
-    libcredis . . . . . . $with_libcredis
+    libatasmart . . . . . $with_libatasmart
     libcurl . . . . . . . $with_libcurl
     libdbi  . . . . . . . $with_libdbi
     libesmtp  . . . . . . $with_libesmtp
     libganglia  . . . . . $with_libganglia
     libgcrypt . . . . . . $with_libgcrypt
     libhal  . . . . . . . $with_libhal
+    libhiredis  . . . . . $with_libhiredis
+    libi2c-dev  . . . . . $with_libi2c
     libiokit  . . . . . . $with_libiokit
     libiptc . . . . . . . $with_libiptc
     libjvm  . . . . . . . $with_java
     libkstat  . . . . . . $with_kstat
     libkvm  . . . . . . . $with_libkvm
+    libldap . . . . . . . $with_libldap
     liblvm2app  . . . . . $with_liblvm2app
     libmemcached  . . . . $with_libmemcached
     libmnl  . . . . . . . $with_libmnl
     libmodbus . . . . . . $with_libmodbus
     libmongoc . . . . . . $with_libmongoc
     libmysql  . . . . . . $with_libmysql
@@ -37922,18 +39510,20 @@
     libpcap . . . . . . . $with_libpcap
     libperfstat . . . . . $with_perfstat
     libperl . . . . . . . $with_libperl
     libpq . . . . . . . . $with_libpq
     libpthread  . . . . . $with_libpthread
     librabbitmq . . . . . $with_librabbitmq
+    librdkafka  . . . . . $with_librdkafka
     librouteros . . . . . $with_librouteros
     librrd  . . . . . . . $with_librrd
     libsensors  . . . . . $with_libsensors
     libsigrok   . . . . . $with_libsigrok
     libstatgrab . . . . . $with_libstatgrab
     libtokyotyrant  . . . $with_libtokyotyrant
+    libudev . . . . . . . $with_libudev
     libupsclient  . . . . $with_libupsclient
     libvarnish  . . . . . $with_libvarnish
     libvirt . . . . . . . $with_libvirt
     libxml2 . . . . . . . $with_libxml2
     libxmms . . . . . . . $with_libxmms
     libyajl . . . . . . . $with_libyajl
@@ -37950,47 +39540,52 @@
 
   Modules:
     aggregation . . . . . $enable_aggregation
     amqp    . . . . . . . $enable_amqp
     apache  . . . . . . . $enable_apache
     apcups  . . . . . . . $enable_apcups
-    aquaero . . . . . . . $enable_aquaero
     apple_sensors . . . . $enable_apple_sensors
+    aquaero . . . . . . . $enable_aquaero
     ascent  . . . . . . . $enable_ascent
+    barometer . . . . . . $enable_barometer
     battery . . . . . . . $enable_battery
     bind  . . . . . . . . $enable_bind
+    ceph  . . . . . . . . $enable_ceph
+    cgroups . . . . . . . $enable_cgroups
     conntrack . . . . . . $enable_conntrack
     contextswitch . . . . $enable_contextswitch
-    cgroups . . . . . . . $enable_cgroups
     cpu . . . . . . . . . $enable_cpu
     cpufreq . . . . . . . $enable_cpufreq
     csv . . . . . . . . . $enable_csv
     curl  . . . . . . . . $enable_curl
     curl_json . . . . . . $enable_curl_json
     curl_xml  . . . . . . $enable_curl_xml
     dbi . . . . . . . . . $enable_dbi
     df  . . . . . . . . . $enable_df
     disk  . . . . . . . . $enable_disk
     dns . . . . . . . . . $enable_dns
+    drbd  . . . . . . . . $enable_drbd
     email . . . . . . . . $enable_email
     entropy . . . . . . . $enable_entropy
     ethstat . . . . . . . $enable_ethstat
     exec  . . . . . . . . $enable_exec
+    fhcount . . . . . . . $enable_fhcount
     filecount . . . . . . $enable_filecount
     fscache . . . . . . . $enable_fscache
     gmond . . . . . . . . $enable_gmond
     hddtemp . . . . . . . $enable_hddtemp
     interface . . . . . . $enable_interface
+    ipc . . . . . . . . . $enable_ipc
     ipmi  . . . . . . . . $enable_ipmi
     iptables  . . . . . . $enable_iptables
     ipvs  . . . . . . . . $enable_ipvs
     irq . . . . . . . . . $enable_irq
     java  . . . . . . . . $enable_java
-    libvirt . . . . . . . $enable_libvirt
     load  . . . . . . . . $enable_load
     logfile . . . . . . . $enable_logfile
+    log_logstash  . . . . $enable_log_logstash
     lpar  . . . . . . . . $enable_lpar
     lvm . . . . . . . . . $enable_lvm
     madwifi . . . . . . . $enable_madwifi
     match_empty_counter . $enable_match_empty_counter
     match_hashed  . . . . $enable_match_hashed
     match_regex . . . . . $enable_match_regex
@@ -38014,12 +39609,13 @@
     notify_email  . . . . $enable_notify_email
     ntpd  . . . . . . . . $enable_ntpd
     numa  . . . . . . . . $enable_numa
     nut . . . . . . . . . $enable_nut
     olsrd . . . . . . . . $enable_olsrd
     onewire . . . . . . . $enable_onewire
+    openldap  . . . . . . $enable_openldap
     openvpn . . . . . . . $enable_openvpn
     oracle  . . . . . . . $enable_oracle
     perl  . . . . . . . . $enable_perl
     pf  . . . . . . . . . $enable_pf
     pinba . . . . . . . . $enable_pinba
     ping  . . . . . . . . $enable_ping
@@ -38032,46 +39628,54 @@
     routeros  . . . . . . $enable_routeros
     rrdcached . . . . . . $enable_rrdcached
     rrdtool . . . . . . . $enable_rrdtool
     sensors . . . . . . . $enable_sensors
     serial  . . . . . . . $enable_serial
     sigrok  . . . . . . . $enable_sigrok
+    smart . . . . . . . . $enable_smart
     snmp  . . . . . . . . $enable_snmp
     statsd  . . . . . . . $enable_statsd
     swap  . . . . . . . . $enable_swap
     syslog  . . . . . . . $enable_syslog
     table . . . . . . . . $enable_table
-    tail  . . . . . . . . $enable_tail
     tail_csv  . . . . . . $enable_tail_csv
+    tail  . . . . . . . . $enable_tail
     tape  . . . . . . . . $enable_tape
     target_notification . $enable_target_notification
     target_replace  . . . $enable_target_replace
     target_scale  . . . . $enable_target_scale
     target_set  . . . . . $enable_target_set
     target_v5upgrade  . . $enable_target_v5upgrade
     tcpconns  . . . . . . $enable_tcpconns
     teamspeak2  . . . . . $enable_teamspeak2
     ted . . . . . . . . . $enable_ted
     thermal . . . . . . . $enable_thermal
     threshold . . . . . . $enable_threshold
     tokyotyrant . . . . . $enable_tokyotyrant
+    turbostat . . . . . . $enable_turbostat
     unixsock  . . . . . . $enable_unixsock
     uptime  . . . . . . . $enable_uptime
     users . . . . . . . . $enable_users
     uuid  . . . . . . . . $enable_uuid
     varnish . . . . . . . $enable_varnish
+    virt  . . . . . . . . $enable_virt
     vmem  . . . . . . . . $enable_vmem
     vserver . . . . . . . $enable_vserver
     wireless  . . . . . . $enable_wireless
     write_graphite  . . . $enable_write_graphite
     write_http  . . . . . $enable_write_http
+    write_kafka . . . . . $enable_write_kafka
+    write_log . . . . . . $enable_write_log
     write_mongodb . . . . $enable_write_mongodb
     write_redis . . . . . $enable_write_redis
     write_riemann . . . . $enable_write_riemann
+    write_sensu . . . . . $enable_write_sensu
+    write_tsdb  . . . . . $enable_write_tsdb
     xmms  . . . . . . . . $enable_xmms
     zfs_arc . . . . . . . $enable_zfs_arc
+    zookeeper . . . . . . $enable_zookeeper
 
 EOF
 
 if test "x$dependency_error" = "xyes"; then
 	as_fn_error $? "\"Some plugins are missing dependencies - see the summary above for details\"" "$LINENO" 5
 fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/configure.ac /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/configure.ac
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/configure.ac	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/configure.ac	2015-05-27 15:51:35.609705819 +0800
@@ -1,17 +1,12 @@
 dnl Process this file with autoconf to produce a configure script.
 AC_INIT([collectd],[m4_esyscmd(./version-gen.sh)])
-AC_CONFIG_SRCDIR(src/collectd.c)
+AC_CONFIG_SRCDIR(src/)
 AC_CONFIG_HEADERS(src/config.h)
 AC_CONFIG_AUX_DIR([libltdl/config])
 
-dnl older automake's default of ARFLAGS=cru is noisy on newer binutils;
-dnl we don't really need the 'u' even in older toolchains.  Then there is
-dnl older libtool, which spelled it AR_FLAGS
-m4_divert_text([DEFAULTS], [: "${ARFLAGS=cr} ${AR_FLAGS=cr}"])
-
 m4_ifdef([LT_PACKAGE_VERSION],
 	# libtool >= 2.2
 	[
 	 LT_CONFIG_LTDL_DIR([libltdl])
 	 LT_INIT([dlopen])
 	 LTDL_INIT([convenience])
@@ -26,14 +21,12 @@
 	 AC_LIBTOOL_DLOPEN
 	 AC_CONFIG_SUBDIRS(libltdl)
 	 AC_DEFINE(LIBTOOL_VERSION, 1, [Define to used libtool version.])
 	]
 )
 
-AM_CONDITIONAL([BUILD_INCLUDED_LTDL], [test "x$LTDLDEPS" != "x"])
-
 AM_INIT_AUTOMAKE([tar-pax dist-bzip2 foreign])
 m4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])])
 AC_LANG(C)
 
 AC_PREFIX_DEFAULT("/opt/collectd")
 
@@ -41,59 +34,31 @@
 
 #
 # Checks for programs.
 #
 AC_PROG_CC
 AC_PROG_CPP
-AC_PROG_EGREP
 AC_PROG_INSTALL
 AC_PROG_LN_S
 AC_PROG_MAKE_SET
 AM_PROG_CC_C_O
 AM_CONDITIONAL(COMPILER_IS_GCC, test "x$GCC" = "xyes")
 
 AC_DISABLE_STATIC
 AC_PROG_LIBTOOL
 AC_PROG_LEX
 AC_PROG_YACC
-
-# Warn when pkg.m4 is missing
-m4_pattern_forbid([^_?PKG_[A-Z_]+$],[*** pkg.m4 missing, please install pkg-config])
-
 PKG_PROG_PKG_CONFIG
 
-AC_CACHE_CHECK([if bison is the parser generator],
-	[collectd_cv_prog_bison],
-	[AS_IF([$YACC --version 2>/dev/null | $EGREP -q '^bison '],
-		[collectd_cv_prog_bison=yes], [collectd_cv_prog_bison=no]
-	)]
-)
-
-if test "x$collectd_cv_prog_bison" = "xno" && test ! -f "${srcdir}/src/liboconfig/parser.c"
-then
-	AC_MSG_ERROR([bison is missing and you do not have ${srcdir}/src/liboconfig/parser.c. Please install bison])
-fi
-
 AC_CHECK_PROG([have_protoc_c], [protoc-c], [yes], [no])
-if test "x$have_protoc_c" = "xno"
-then
-	have_protoc_c="no (protoc-c compiler not found)"
-fi
-
-if test "x$have_protoc_c" = "xyes"
+AC_CHECK_HEADERS([google/protobuf-c/protobuf-c.h],
+                 [have_protobuf_c_h="yes"],
+                 [have_protobuf_c_h="no"])
+if test "x$have_protoc_c" = "xyes" && test "x$have_protobuf_c_h" != "xyes"
 then
-	AC_CHECK_HEADERS([protobuf-c/protobuf-c.h google/protobuf-c/protobuf-c.h],
-			 [have_protoc_c="yes"; break],
-			 [have_protoc_c="no (<google/protobuf-c/protobuf-c.h> not found)"])
-fi
-if test "x$have_protoc_c" = "xyes"
-then
-	AC_CHECK_LIB([protobuf-c], [protobuf_c_message_pack],
-		     [have_protoc_c="yes"],
-		     [have_protoc_c="no (libprotobuf-c not found)"])
-
+	have_protoc_c="no (unable to find <google/protobuf-c/protobuf-c.h>)"
 fi
 AM_CONDITIONAL(HAVE_PROTOC_C, test "x$have_protoc_c" = "xyes")
 
 AC_MSG_CHECKING([for kernel type ($host_os)])
 case $host_os in
 	*linux*)
@@ -102,15 +67,17 @@
 	;;
 	*solaris*)
 	AC_DEFINE([KERNEL_SOLARIS], 1, [True if program is to be compiled for a Solaris kernel])
 	ac_system="Solaris"
 	;;
 	*darwin*)
+	AC_DEFINE([KERNEL_DARWIN], 1, [True if program is to be compiled for a Darwin kernel])
 	ac_system="Darwin"
 	;;
 	*openbsd*)
+	AC_DEFINE([KERNEL_OPENBSD], 1, [True if program is to be compiled for an OpenBSD kernel])
 	ac_system="OpenBSD"
 	;;
 	*aix*)
 	AC_DEFINE([KERNEL_AIX], 1, [True if program is to be compiled for a AIX kernel])
 	ac_system="AIX"
 	;;
@@ -120,12 +87,19 @@
 	;;
 	*)
 	ac_system="unknown"
 esac
 AC_MSG_RESULT([$ac_system])
 
+AM_CONDITIONAL([BUILD_LINUX],[test "x$x$ac_system" = "xLinux"])
+AM_CONDITIONAL([BUILD_SOLARIS],[test "x$x$ac_system" = "xSolaris"])
+AM_CONDITIONAL([BUILD_DARWIN],[test "x$x$ac_system" = "xDarwin"])
+AM_CONDITIONAL([BUILD_OPENBSD],[test "x$x$ac_system" = "xOpenBSD"])
+AM_CONDITIONAL([BUILD_AIX],[test "x$x$ac_system" = "xAIX"])
+AM_CONDITIONAL([BUILD_FREEBSD],[test "x$x$ac_system" = "xFreeBSD"])
+
 if test "x$ac_system" = "xLinux"
 then
 	AC_ARG_VAR([KERNEL_DIR], [path to Linux kernel sources])
 	if test -z "$KERNEL_DIR"
 	then
 		KERNEL_DIR="/lib/modules/`uname -r`/source"
@@ -308,60 +282,12 @@
 #endif
 #if HAVE_NETINET_IP_H
 # include <netinet/ip.h>
 #endif
 ])
 
-have_ip6_ext="no"
-AC_CHECK_TYPES([struct ip6_ext], [have_ip6_ext="yes"], [have_ip6_ext="no"],
-[#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP6_H
-# include <netinet/ip6.h>
-#endif
-])
-
-if test "x$have_ip6_ext" = "xno"; then
-	SAVE_CFLAGS="$CFLAGS"
-	CFLAGS="$CFLAGS -DSOLARIS2=8"
-
-	AC_CHECK_TYPES([struct ip6_ext],
-		       [have_ip6_ext="yes, with -DSOLARIS2=8"],
-		       [have_ip6_ext="no"],
-[#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP6_H
-# include <netinet/ip6.h>
-#endif
-])
-
-	if test "x$have_ip6_ext" = "xno"; then
-		CFLAGS="$SAVE_CFLAGS"
-	fi
-fi
-
 # For cpu modules
 AC_CHECK_HEADERS(sys/dkstat.h)
 if test "x$ac_system" = "xDarwin"
 then
 	AC_CHECK_HEADERS(mach/mach_init.h mach/host_priv.h mach/mach_error.h mach/mach_host.h mach/mach_port.h mach/mach_types.h mach/message.h mach/processor_set.h mach/processor.h mach/processor_info.h mach/task.h mach/thread_act.h mach/vm_region.h mach/vm_map.h mach/vm_prot.h mach/vm_statistics.h mach/kern_return.h)
 	AC_CHECK_HEADERS(CoreFoundation/CoreFoundation.h IOKit/IOKitLib.h IOKit/IOTypes.h IOKit/ps/IOPSKeys.h IOKit/IOBSD.h IOKit/storage/IOBlockStorageDriver.h)
@@ -598,39 +524,13 @@
 [
 #if HAVE_SYS_SOCKET_H
 #	include <sys/socket.h>
 #endif
 ])
 
-AC_CHECK_HEADERS([ \
-  ctype.h \
-  fs_info.h \
-  fshelp.h \
-  grp.h \
-  kvm.h \
-  limits.h \
-  mntent.h \
-  mnttab.h \
-  paths.h \
-  pwd.h \
-  sys/fs_types.h \
-  sys/fstyp.h \
-  sys/mntent.h \
-  sys/mnttab.h \
-  sys/statfs.h \
-  sys/statvfs.h \
-  sys/un.h \
-  sys/vfs.h \
-  sys/vfstab.h \
-  wordexp.h \
-])
-
-AC_CHECK_HEADERS([xfs/xqm.h], [], [],
-[
-#define _GNU_SOURCE
-])
+AC_CHECK_HEADERS(pwd.h grp.h sys/un.h ctype.h limits.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h sys/vmmeter.h kvm.h wordexp.h locale.h)
 
 # For the dns plugin
 AC_CHECK_HEADERS(arpa/nameser.h)
 AC_CHECK_HEADERS(arpa/nameser_compat.h, [], [],
 [
 #if HAVE_ARPA_NAMESER_H
@@ -680,35 +580,63 @@
 #if HAVE_SYS_SOCKET_H
 # include <sys/socket.h>
 #endif
 #if HAVE_NET_IF_H
 # include <net/if.h>
 #endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
 ])
 
 # For the multimeter plugin
 have_termios_h="no"
 AC_CHECK_HEADERS(termios.h, [have_termios_h="yes"])
 
+# For the turbostat plugin
+have_asm_msrindex_h="no"
+AC_CHECK_HEADERS(asm/msr-index.h, [have_asm_msrindex_h="yes"])
+
+if test "x$have_asm_msrindex_h" = "xyes"
+then
+  AC_CACHE_CHECK([whether asm/msr-index.h has MSR_CORE_C3_RESIDENCY],
+                 [c_cv_have_usable_asm_msrindex_h],
+                 AC_COMPILE_IFELSE([AC_LANG_PROGRAM(
+[[[
+#include<asm/msr-index.h>
+]]],
+[[[
+int y = MSR_CORE_C3_RESIDENCY;
+return(y);
+]]]
+  )],
+                 [c_cv_have_usable_asm_msrindex_h="yes"],
+                 [c_cv_have_usable_asm_msrindex_h="no"],
+                                  )
+                 )
+fi
+
+have_cpuid_h="no"
+AC_CHECK_HEADERS(cpuid.h, [have_cpuid_h="yes"])
+
+AC_CHECK_HEADERS(sys/capability.h)
 #
 # Checks for typedefs, structures, and compiler characteristics.
 #
 AC_C_CONST
+AC_C_INLINE
+AC_TYPE_OFF_T
 AC_TYPE_PID_T
 AC_TYPE_SIZE_T
+AC_TYPE_SSIZE_T
 AC_TYPE_UID_T
+AC_TYPE_UINT32_T
 AC_HEADER_TIME
 
 #
 # Checks for library functions.
 #
 AC_PROG_GCC_TRADITIONAL
-AC_CHECK_FUNCS(gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog sysconf setenv if_indextoname)
+AC_CHECK_FUNCS(gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog sysconf setenv if_indextoname setlocale)
 
 AC_FUNC_STRERROR_R
 
 SAVE_CFLAGS="$CFLAGS"
 # Emulate behavior of src/Makefile.am
 if test "x$GCC" = "xyes"
@@ -909,13 +837,15 @@
 [[[
 #if HAVE_SYS_SWAP_H && !defined(_LP64) && _FILE_OFFSET_BITS == 64
 #  undef _FILE_OFFSET_BITS
 #  undef _LARGEFILE64_SOURCE
 #endif
 #include <sys/stat.h>
+#include <sys/param.h>
 #include <sys/swap.h>
+#include <unistd.h>
 ]]],
 [[[
 int num = swapctl(0, NULL);
 ]]]
                         )],
                         [c_cv_have_swapctl_two_args="yes"],
@@ -929,13 +859,15 @@
 [[[
 #if HAVE_SYS_SWAP_H && !defined(_LP64) && _FILE_OFFSET_BITS == 64
 #  undef _FILE_OFFSET_BITS
 #  undef _LARGEFILE64_SOURCE
 #endif
 #include <sys/stat.h>
+#include <sys/param.h>
 #include <sys/swap.h>
+#include <unistd.h>
 ]]],
 [[[
 int num = swapctl(0, NULL, 0);
 ]]]
                         )],
                         [c_cv_have_swapctl_three_args="yes"],
@@ -1102,13 +1034,13 @@
 [[[
 	uint64_t i0;
 	uint64_t i1;
 	uint8_t c[8];
 	double d;
 
-	d = 8.642135e130; 
+	d = 8.642135e130;
 	memcpy ((void *) &i0, (void *) &d, 8);
 
 	i1 = i0;
 	memcpy ((void *) c, (void *) &i1, 8);
 
 	if ((c[0] == 0x2f) && (c[1] == 0x25)
@@ -1157,13 +1089,13 @@
 [[[
 	uint64_t i0;
 	uint64_t i1;
 	uint8_t c[8];
 	double d;
 
-	d = 8.642135e130; 
+	d = 8.642135e130;
 	memcpy ((void *) &i0, (void *) &d, 8);
 
 	i1 = endianflip (i0);
 	memcpy ((void *) c, (void *) &i1, 8);
 
 	if ((c[0] == 0x2f) && (c[1] == 0x25)
@@ -1206,13 +1138,13 @@
 [[[
 	uint64_t i0;
 	uint64_t i1;
 	uint8_t c[8];
 	double d;
 
-	d = 8.642135e130; 
+	d = 8.642135e130;
 	memcpy ((void *) &i0, (void *) &d, 8);
 
 	i1 = intswap (i0);
 	memcpy ((void *) c, (void *) &i1, 8);
 
 	if ((c[0] == 0x2f) && (c[1] == 0x25)
@@ -1243,20 +1175,29 @@
   AC_DEFINE(FP_LAYOUT_NEED_INTSWAP, 1,
   [Define if intswap is needed to convert to x86 representation.])
 else
   AC_MSG_ERROR([Didn't find out how doubles are stored in memory. Sorry.])
 fi; fi; fi
 
+# --with-useragent {{{
+AC_ARG_WITH(useragent, [AS_HELP_STRING([--with-useragent@<:@=AGENT@:>@], [User agent to use on http requests])],
+[
+    if test "x$withval" != "xno" && test "x$withval" != "xyes"
+    then
+        AC_DEFINE_UNQUOTED(COLLECTD_USERAGENT, ["$withval"], [User agent for http requests])
+    fi
+])
+
+# }}}
+
 have_getfsstat="no"
 AC_CHECK_FUNCS(getfsstat, [have_getfsstat="yes"])
 have_getvfsstat="no"
 AC_CHECK_FUNCS(getvfsstat, [have_getvfsstat="yes"])
 have_listmntent="no"
 AC_CHECK_FUNCS(listmntent, [have_listmntent="yes"])
-have_getmntent_r="no"
-AC_CHECK_FUNCS(getmntent_r, [have_getmntent_r="yes"])
 
 have_getmntent="no"
 AC_CHECK_FUNCS(getmntent, [have_getmntent="c"])
 if test "x$have_getmntent" = "xno"; then
 	AC_CHECK_LIB(sun, getmntent, [have_getmntent="sun"])
 fi
@@ -1348,13 +1289,13 @@
 [[[
           return htonll(0);
 ]]]
     )],
     [c_cv_have_htonll="yes"],
     [c_cv_have_htonll="no"]
-       )
+  )
 )
 if test "x$c_cv_have_htonll" = "xyes"
 then
     AC_DEFINE(HAVE_HTONLL, 1, [Define if the function htonll exists.])
 fi
 
@@ -1404,13 +1345,13 @@
 #include <kvm.h>
 #include <sys/param.h>
 #include <sys/sysctl.h>
 #include <sys/user.h>
 	])
 
-AC_CHECK_MEMBERS([struct kinfo_proc.kp_proc, struct kinfo_proc.kp_eproc],
+AC_CHECK_MEMBERS([struct kinfo_proc.p_pid, struct kinfo_proc.p_vm_rssize],
 	[
 		AC_DEFINE(HAVE_STRUCT_KINFO_PROC_OPENBSD, 1,
 			[Define if struct kinfo_proc exists in the OpenBSD variant.])
 		have_struct_kinfo_proc_openbsd="yes"
 	],
 	[
@@ -1502,16 +1443,12 @@
 	fi
 fi
 
 m4_divert_once([HELP_WITH], [
 collectd additional packages:])
 
-AM_CONDITIONAL([BUILD_FREEBSD],[test "x$x$ac_system" = "xFreeBSD"])
-
-AM_CONDITIONAL([BUILD_AIX],[test "x$x$ac_system" = "xAIX"]) 
-
 if test "x$ac_system" = "xAIX"
 then
 	with_perfstat="yes"
 	with_procinfo="yes"
 else
 	with_perfstat="no (AIX only)"
@@ -1672,68 +1609,69 @@
 	AC_SUBST(BUILD_WITH_LIBAQUAERO5_CFLAGS)
 	AC_SUBST(BUILD_WITH_LIBAQUAERO5_LDFLAGS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBAQUAERO5, test "x$with_libaquaero5" = "xyes")
 # }}}
 
-# --with-libcredis {{{
-AC_ARG_WITH(libcredis, [AS_HELP_STRING([--with-libcredis@<:@=PREFIX@:>@], [Path to libcredis.])],
+# --with-libhiredis {{{
+AC_ARG_WITH(libhiredis, [AS_HELP_STRING([--with-libhiredis@<:@=PREFIX@:>@],
+      [Path to libhiredis.])],
 [
  if test "x$withval" = "xyes"
  then
-	 with_libcredis="yes"
+	 with_libhiredis="yes"
  else if test "x$withval" = "xno"
  then
-	 with_libcredis="no"
+	 with_libhiredis="no"
  else
-	 with_libcredis="yes"
-	 LIBCREDIS_CPPFLAGS="$LIBCREDIS_CPPFLAGS -I$withval/include"
-	 LIBCREDIS_LDFLAGS="$LIBCREDIS_LDFLAGS -L$withval/lib"
+	 with_libhiredis="yes"
+	 LIBHIREDIS_CPPFLAGS="$LIBHIREDIS_CPPFLAGS -I$withval/include"
+	 LIBHIREDIS_LDFLAGS="$LIBHIREDIS_LDFLAGS -L$withval/lib"
  fi; fi
 ],
-[with_libcredis="yes"])
+[with_libhiredis="yes"])
 
 SAVE_CPPFLAGS="$CPPFLAGS"
 SAVE_LDFLAGS="$LDFLAGS"
 
-CPPFLAGS="$CPPFLAGS $LIBCREDIS_CPPFLAGS"
-LDFLAGS="$LDFLAGS $LIBCREDIS_LDFLAGS"
+CPPFLAGS="$CPPFLAGS $LIBHIREDIS_CPPFLAGS"
+LDFLAGS="$LDFLAGS $LIBHIREDIS_LDFLAGS"
 
-if test "x$with_libcredis" = "xyes"
+if test "x$with_libhiredis" = "xyes"
 then
-	if test "x$LIBCREDIS_CPPFLAGS" != "x"
+	if test "x$LIBHIREDIS_CPPFLAGS" != "x"
 	then
-		AC_MSG_NOTICE([libcredis CPPFLAGS: $LIBCREDIS_CPPFLAGS])
+		AC_MSG_NOTICE([libhiredis CPPFLAGS: $LIBHIREDIS_CPPFLAGS])
 	fi
-	AC_CHECK_HEADERS(credis.h,
-	[with_libcredis="yes"],
-	[with_libcredis="no (credis.h not found)"])
+	AC_CHECK_HEADERS(hiredis/hiredis.h,
+	[with_libhiredis="yes"],
+	[with_libhiredis="no (hiredis.h not found)"])
 fi
-if test "x$with_libcredis" = "xyes"
+if test "x$with_libhiredis" = "xyes"
 then
-	if test "x$LIBCREDIS_LDFLAGS" != "x"
+	if test "x$LIBHIREDIS_LDFLAGS" != "x"
 	then
-		AC_MSG_NOTICE([libcredis LDFLAGS: $LIBCREDIS_LDFLAGS])
+		AC_MSG_NOTICE([libhiredis LDFLAGS: $LIBHIREDIS_LDFLAGS])
 	fi
-	AC_CHECK_LIB(credis, credis_info,
-	[with_libcredis="yes"],
-	[with_libcredis="no (symbol 'credis_info' not found)"])
+	AC_CHECK_LIB(hiredis, redisCommand,
+	[with_libhiredis="yes"],
+	[with_libhiredis="no (symbol 'redisCommand' not found)"])
 
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 LDFLAGS="$SAVE_LDFLAGS"
 
-if test "x$with_libcredis" = "xyes"
+if test "x$with_libhiredis" = "xyes"
 then
-	BUILD_WITH_LIBCREDIS_CPPFLAGS="$LIBCREDIS_CPPFLAGS"
-	BUILD_WITH_LIBCREDIS_LDFLAGS="$LIBCREDIS_LDFLAGS"
-	AC_SUBST(BUILD_WITH_LIBCREDIS_CPPFLAGS)
-	AC_SUBST(BUILD_WITH_LIBCREDIS_LDFLAGS)
+	BUILD_WITH_LIBHIREDIS_CPPFLAGS="$LIBHIREDIS_CPPFLAGS"
+	BUILD_WITH_LIBHIREDIS_LDFLAGS="$LIBHIREDIS_LDFLAGS"
+	AC_SUBST(BUILD_WITH_LIBHIREDIS_CPPFLAGS)
+	AC_SUBST(BUILD_WITH_LIBHIREDIS_LDFLAGS)
 fi
-AM_CONDITIONAL(BUILD_WITH_LIBCREDIS, test "x$with_libcredis" = "xyes")
+AM_CONDITIONAL(BUILD_WITH_LIBHIREDIS, test "x$with_libhiredis" = "xyes")
 # }}}
 
 # --with-libcurl {{{
 with_curl_config="curl-config"
 with_curl_cflags=""
 with_curl_libs=""
@@ -1788,20 +1726,38 @@
 		with_libcurl="no ($with_curl_config failed)"
 	else
 		AC_CHECK_LIB(curl, curl_easy_init,
 		 [with_libcurl="yes"],
 		 [with_libcurl="no (symbol 'curl_easy_init' not found)"],
 		 [$with_curl_libs])
+		AC_CHECK_DECL(CURLOPT_USERNAME,
+		 [have_curlopt_username="yes"],
+		 [have_curlopt_username="no"],
+		 [[#include <curl/curl.h>]])
+		AC_CHECK_DECL(CURLOPT_TIMEOUT_MS,
+		 [have_curlopt_timeout="yes"],
+		 [have_curlopt_timeout="no"],
+		 [[#include <curl/curl.h>]])
 	fi
 fi
 if test "x$with_libcurl" = "xyes"
 then
 	BUILD_WITH_LIBCURL_CFLAGS="$with_curl_cflags"
 	BUILD_WITH_LIBCURL_LIBS="$with_curl_libs"
 	AC_SUBST(BUILD_WITH_LIBCURL_CFLAGS)
 	AC_SUBST(BUILD_WITH_LIBCURL_LIBS)
+
+	if test "x$have_curlopt_username" = "xyes"
+	then
+		AC_DEFINE(HAVE_CURLOPT_USERNAME, 1, [Define if libcurl supports CURLOPT_USERNAME option.])
+	fi
+
+	if test "x$have_curlopt_timeout" = "xyes"
+	then
+		AC_DEFINE(HAVE_CURLOPT_TIMEOUT_MS, 1, [Define if libcurl supports CURLOPT_TIMEOUT_MS option.])
+	fi
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBCURL, test "x$with_libcurl" = "xyes")
 # }}}
 
 # --with-libdbi {{{
 with_libdbi_cppflags=""
@@ -1907,39 +1863,36 @@
  else if test -d "$withval"
  then
 	 GANGLIA_CPPFLAGS="-I$withval/include"
 	 GANGLIA_LDFLAGS="-L$withval/lib"
 	 with_libganglia="yes"
  else
+	 with_libganglia_config="ganglia-config"
 	 with_libganglia="$withval"
  fi; fi; fi
 ],
 [
+ with_libganglia_config="ganglia-config"
  with_libganglia="yes"
 ])
 
-if test "x$with_libganglia" = "xyes"
+if test "x$with_libganglia" = "xyes" && test "x$with_libganglia_config" != "x"
 then
-	if test "x$with_libganglia_config" != "x"
+	if test "x$GANGLIA_CPPFLAGS" = "x"
 	then
-		if test "x$GANGLIA_CPPFLAGS" = "x"
-		then
-			GANGLIA_CPPFLAGS=`"$with_libganglia_config" --cflags 2>/dev/null`
-		fi
+		GANGLIA_CPPFLAGS=`"$with_libganglia_config" --cflags 2>/dev/null`
+	fi
 
-		if test "x$GANGLIA_LDFLAGS" = "x"
-		then
-			GANGLIA_LDFLAGS=`"$with_libganglia_config" --ldflags 2>/dev/null`
-		fi
+	if test "x$GANGLIA_LDFLAGS" = "x"
+	then
+		GANGLIA_LDFLAGS=`"$with_libganglia_config" --ldflags 2>/dev/null`
+	fi
 
-		if test "x$GANGLIA_LIBS" = "x"
-		then
-			GANGLIA_LIBS=`"$with_libganglia_config" --libs 2>/dev/null`
-		fi
-	else
-		GANGLIA_LIBS="-lganglia"
+	if test "x$GANGLIA_LIBS" = "x"
+	then
+		GANGLIA_LIBS=`"$with_libganglia_config" --libs 2>/dev/null`
 	fi
 fi
 
 SAVE_CPPFLAGS="$CPPFLAGS"
 SAVE_LDFLAGS="$LDFLAGS"
 CPPFLAGS="$CPPFLAGS $GANGLIA_CPPFLAGS"
@@ -2005,24 +1958,28 @@
 then
 	if test "x$GCRYPT_CPPFLAGS" = "x"
 	then
 		GCRYPT_CPPFLAGS=`"$with_libgcrypt_config" --cflags 2>/dev/null`
 	fi
 
+	if test "x$GCRYPT_LDFLAGS" = "x"
+	then
+		gcrypt_exec_prefix=`"$with_libgcrypt_config" --exec-prefix 2>/dev/null`
+		GCRYPT_LDFLAGS="-L$gcrypt_exec_prefix/lib"
+	fi
+
 	if test "x$GCRYPT_LIBS" = "x"
 	then
 		GCRYPT_LIBS=`"$with_libgcrypt_config" --libs 2>/dev/null`
 	fi
 fi
 
 SAVE_CPPFLAGS="$CPPFLAGS"
 SAVE_LDFLAGS="$LDFLAGS"
-SAVE_LIBS="$LIBS"
 CPPFLAGS="$CPPFLAGS $GCRYPT_CPPFLAGS"
 LDFLAGS="$LDFLAGS $GCRYPT_LDFLAGS"
-LIBS="$LIBS $GCRYPT_LIBS"
 
 if test "x$with_libgcrypt" = "xyes"
 then
 	if test "x$GCRYPT_CPPFLAGS" != "x"
 	then
 		AC_MSG_NOTICE([gcrypt CPPFLAGS: $GCRYPT_CPPFLAGS])
@@ -2031,12 +1988,16 @@
 		[with_libgcrypt="yes"],
 		[with_libgcrypt="no (gcrypt.h not found)"])
 fi
 
 if test "x$with_libgcrypt" = "xyes"
 then
+	if test "x$GCRYPT_LDFLAGS" != "x"
+	then
+		AC_MSG_NOTICE([gcrypt LDFLAGS: $GCRYPT_LDFLAGS])
+	fi
 	AC_CHECK_LIB(gcrypt, gcry_md_hash_buffer,
 		[with_libgcrypt="yes"],
 		[with_libgcrypt="no (symbol gcry_md_hash_buffer not found)"])
 
 	if test "$with_libgcrypt" != "no"; then
 		m4_ifdef([AM_PATH_LIBGCRYPT],[AM_PATH_LIBGCRYPT(1:1.2.0,,with_libgcrypt="no (version 1.2.0+ required)")])
@@ -2044,13 +2005,12 @@
 		GCRYPT_LIBS="$LIBGCRYPT_LIBS"
 	fi
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 LDFLAGS="$SAVE_LDFLAGS"
-LIBS="$SAVE_LIBS"
 
 if test "x$with_libgcrypt" = "xyes"
 then
 	AC_DEFINE(HAVE_LIBGCRYPT, 1, [Define to 1 if you have the gcrypt library (-lgcrypt).])
 fi
 
@@ -2060,26 +2020,23 @@
 AM_CONDITIONAL(BUILD_WITH_LIBGCRYPT, test "x$with_libgcrypt" = "xyes")
 # }}}
 
 # --with-libiptc {{{
 AC_ARG_WITH(libiptc, [AS_HELP_STRING([--with-libiptc@<:@=PREFIX@:>@], [Path to libiptc.])],
 [
-	if test "x$withval" = "xshipped"
-	then
-		with_libiptc="own"
-	else if test "x$withval" = "xyes"
+	if test "x$withval" = "xyes"
 	then
 		with_libiptc="pkgconfig"
 	else if test "x$withval" = "xno"
 	then
 		with_libiptc="no"
 	else
 		with_libiptc="yes"
 		with_libiptc_cflags="-I$withval/include"
 		with_libiptc_libs="-L$withval/lib"
-	fi; fi; fi
+	fi; fi
 ],
 [
 	if test "x$ac_system" = "xLinux"
 	then
 		with_libiptc="pkgconfig"
 	else
@@ -2145,34 +2102,12 @@
 then
 	with_libiptc="yes"
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 
-if test "x$with_libiptc" = "xown"
-then
-	with_libiptc_cflags=""
-	with_libiptc_libs=""
-fi
-if test "x$with_libiptc" = "xown"
-then
-	AC_CHECK_HEADERS(linux/netfilter_ipv4/ip_tables.h linux/netfilter_ipv6/ip6_tables.h linux/netfilter/x_tables.h, [],
-	[
-		with_libiptc="no (Linux iptables headers not found)"
-	],
-	[
-#include "$srcdir/src/owniptc/ipt_kernel_headers.h"
-	])
-fi
-AM_CONDITIONAL(BUILD_WITH_OWN_LIBIPTC, test "x$with_libiptc" = "xown")
-if test "x$with_libiptc" = "xown"
-then
-	AC_DEFINE(OWN_LIBIPTC, 1, [Define to 1 if we use the shipped iptc library.])
-	with_libiptc="yes"
-fi
-
 AM_CONDITIONAL(BUILD_WITH_LIBIPTC, test "x$with_libiptc" = "xyes")
 if test "x$with_libiptc" = "xyes"
 then
 	BUILD_WITH_LIBIPTC_CPPFLAGS="$with_libiptc_cflags"
 	BUILD_WITH_LIBIPTC_LDFLAGS="$with_libiptc_libs"
 	AC_SUBST(BUILD_WITH_LIBIPTC_CPPFLAGS)
@@ -2227,13 +2162,13 @@
 			JAVA_CPPFLAGS="$JAVA_CPPFLAGS -I$TMPVAR"
 		else
 			AC_MSG_RESULT([not found])
 		fi
 
 		AC_MSG_CHECKING([for libjvm.so])
-		TMPVAR=`find -L "$with_java_home" -type f \( -name libjvm.so -o -name libjvm.dylib \) -exec 'dirname' '{}' ';' 2>/dev/null | head -n 1`
+		TMPVAR=`find -L "$with_java_home" -name libjvm.so -type f -exec 'dirname' '{}' ';' 2>/dev/null | head -n 1`
 		if test "x$TMPVAR" != "x"
 		then
 			AC_MSG_RESULT([found in $TMPVAR])
 			JAVA_LDFLAGS="$JAVA_LDFLAGS -L$TMPVAR -Wl,-rpath -Wl,$TMPVAR"
 		else
 			AC_MSG_RESULT([not found])
@@ -2350,12 +2285,70 @@
 AC_SUBST(JAVA_CFLAGS)
 AC_SUBST(JAVA_LDFLAGS)
 AC_SUBST(JAVA_LIBS)
 AM_CONDITIONAL(BUILD_WITH_JAVA, test "x$with_java" = "xyes")
 # }}}
 
+# --with-libldap {{{
+AC_ARG_WITH(libldap, [AS_HELP_STRING([--with-libldap@<:@=PREFIX@:>@], [Path to libldap.])],
+[
+ if test "x$withval" = "xyes"
+ then
+	 with_libldap="yes"
+ else if test "x$withval" = "xno"
+ then
+	 with_libldap="no"
+ else
+	 with_libldap="yes"
+	 LIBLDAP_CPPFLAGS="$LIBLDAP_CPPFLAGS -I$withval/include"
+	 LIBLDAP_LDFLAGS="$LIBLDAP_LDFLAGS -L$withval/lib"
+ fi; fi
+],
+[with_libldap="yes"])
+
+SAVE_CPPFLAGS="$CPPFLAGS"
+SAVE_LDFLAGS="$LDFLAGS"
+
+CPPFLAGS="$CPPFLAGS $LIBLDAP_CPPFLAGS"
+LDFLAGS="$LDFLAGS $LIBLDAP_LDFLAGS"
+
+if test "x$with_libldap" = "xyes"
+then
+	if test "x$LIBLDAP_CPPFLAGS" != "x"
+	then
+		AC_MSG_NOTICE([libldap CPPFLAGS: $LIBLDAP_CPPFLAGS])
+	fi
+	AC_CHECK_HEADERS(ldap.h,
+	[with_libldap="yes"],
+	[with_libldap="no ('ldap.h' not found)"])
+fi
+if test "x$with_libldap" = "xyes"
+then
+	if test "x$LIBLDAP_LDFLAGS" != "x"
+	then
+		AC_MSG_NOTICE([libldap LDFLAGS: $LIBLDAP_LDFLAGS])
+	fi
+	AC_CHECK_LIB(ldap, ldap_initialize,
+	[with_libldap="yes"],
+	[with_libldap="no (symbol 'ldap_initialize' not found)"])
+
+fi
+
+CPPFLAGS="$SAVE_CPPFLAGS"
+LDFLAGS="$SAVE_LDFLAGS"
+
+if test "x$with_libldap" = "xyes"
+then
+	BUILD_WITH_LIBLDAP_CPPFLAGS="$LIBLDAP_CPPFLAGS"
+	BUILD_WITH_LIBLDAP_LDFLAGS="$LIBLDAP_LDFLAGS"
+	AC_SUBST(BUILD_WITH_LIBLDAP_CPPFLAGS)
+	AC_SUBST(BUILD_WITH_LIBLDAP_LDFLAGS)
+fi
+AM_CONDITIONAL(BUILD_WITH_LIBLDAP, test "x$with_libldap" = "xyes")
+# }}}
+
 # --with-liblvm2app {{{
 with_liblvm2app_cppflags=""
 with_liblvm2app_ldflags=""
 AC_ARG_WITH(liblvm2app, [AS_HELP_STRING([--with-liblvm2app@<:@=PREFIX@:>@], [Path to liblvm2app.])],
 [
         if test "x$withval" != "xno" && test "x$withval" != "xyes"
@@ -2384,13 +2377,13 @@
 then
         SAVE_CPPFLAGS="$CPPFLAGS"
         SAVE_LDFLAGS="$LDFLAGS"
         CPPFLAGS="$CPPFLAGS $with_liblvm2app_cppflags"
         LDFLAGS="$LDFLAGS $with_liblvm2app_ldflags"
 
-        AC_CHECK_LIB(lvm2app, lvm_init, [with_liblvm2app="yes"], [with_liblvm2app="no (Symbol 'lvm_init' not found)"])
+        AC_CHECK_LIB(lvm2app, lvm_lv_get_property, [with_liblvm2app="yes"], [with_liblvm2app="no (Symbol 'lvm_lv_get_property' not found)"])
 
         CPPFLAGS="$SAVE_CPPFLAGS"
         LDFLAGS="$SAVE_LDFLAGS"
 fi
 if test "x$with_liblvm2app" = "xyes"
 then
@@ -2517,13 +2510,13 @@
 # the actual checks.
 if test "x$with_libmodbus" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
 	CPPFLAGS="$CPPFLAGS $with_libmodbus_cflags"
 
-	AC_CHECK_HEADERS(modbus.h, [], [with_libmodbus="no (modbus.h not found)"])
+	AC_CHECK_HEADERS(modbus/modbus.h, [], [with_libmodbus="no (modbus/modbus.h not found)"])
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_libmodbus" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
@@ -2636,13 +2629,13 @@
 ],
 [
 	with_libmysql="yes"
 ])
 if test "x$with_libmysql" = "xyes"
 then
-	with_mysql_cflags=`$with_mysql_config --include 2>/dev/null`
+	with_mysql_cflags=`$with_mysql_config --cflags 2>/dev/null`
 	mysql_config_status=$?
 
 	if test $mysql_config_status -ne 0
 	then
 		with_libmysql="no ($with_mysql_config failed)"
 	else
@@ -2672,23 +2665,21 @@
 	mysql_config_status=$?
 
 	if test $mysql_config_status -ne 0
 	then
 		with_libmysql="no ($with_mysql_config failed)"
 	else
-		SAVE_CPPFLAGS="$CPPFLAGS"
-		CPPFLAGS="$CPPFLAGS $with_mysql_cflags"
-		SAVE_LIBS="$LIBS"
-		LIBS="$with_mysql_libs"
-		AC_SEARCH_LIBS([mysql_get_server_version],
-		 [],
+		AC_CHECK_LIB(mysqlclient, mysql_init,
+		 [with_libmysql="yes"],
+		 [with_libmysql="no (symbol 'mysql_init' not found)"],
+		 [$with_mysql_libs])
+
+		AC_CHECK_LIB(mysqlclient, mysql_get_server_version,
 		 [with_libmysql="yes"],
 		 [with_libmysql="no (symbol 'mysql_get_server_version' not found)"],
-		 [])
-		CPPFLAGS="$SAVE_CPPFLAGS"
-		LIBS="$SAVE_LIBS"
+		 [$with_mysql_libs])
 	fi
 fi
 if test "x$with_libmysql" = "xyes"
 then
 	BUILD_WITH_LIBMYSQL_CFLAGS="$with_mysql_cflags"
 	BUILD_WITH_LIBMYSQL_LIBS="$with_mysql_libs"
@@ -2788,12 +2779,21 @@
 ]]
 	)],
 	[AC_DEFINE([HAVE_TCA_STATS], 1, [True if the enum-member TCA_STATS exists])])
 fi
 if test "x$with_libmnl" = "xyes"
 then
+	AC_CHECK_MEMBERS([struct rtnl_link_stats64.tx_window_errors],
+	[AC_DEFINE(HAVE_RTNL_LINK_STATS64, 1, [Define if struct rtnl_link_stats64 exists and is usable.])],
+	[],
+	[
+	#include <linux/if_link.h>
+	])
+fi
+if test "x$with_libmnl" = "xyes"
+then
 	AC_CHECK_LIB(mnl, mnl_nlmsg_get_payload,
 		     [with_libmnl="yes"],
 		     [with_libmnl="no (symbol 'mnl_nlmsg_get_payload' not found)"],
 		     [$with_libmnl_libs])
 fi
 if test "x$with_libmnl" = "xyes"
@@ -2911,13 +2911,13 @@
 	if test $snmp_config_status -ne 0
 	then
 		with_libnetsnmp="no ($with_snmp_config failed)"
 	else
 		SAVE_CPPFLAGS="$CPPFLAGS"
 		CPPFLAGS="$CPPFLAGS $with_snmp_cflags"
-		
+
 		AC_CHECK_HEADERS(net-snmp/net-snmp-config.h, [], [with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"])
 
 		CPPFLAGS="$SAVE_CPPFLAGS"
 	fi
 fi
 if test "x$with_libnetsnmp" = "xyes"
@@ -3138,24 +3138,24 @@
 	with_libowcapi="yes"
 ])
 if test "x$with_libowcapi" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
 	CPPFLAGS="$with_libowcapi_cppflags"
-	
+
 	AC_CHECK_HEADERS(owcapi.h, [with_libowcapi="yes"], [with_libowcapi="no (owcapi.h not found)"])
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_libowcapi" = "xyes"
 then
 	SAVE_LDFLAGS="$LDFLAGS"
 	SAVE_CPPFLAGS="$CPPFLAGS"
 	LDFLAGS="$with_libowcapi_libs"
 	CPPFLAGS="$with_libowcapi_cppflags"
-	
+
 	AC_CHECK_LIB(owcapi, OW_get, [with_libowcapi="yes"], [with_libowcapi="no (libowcapi not found)"])
 
 	LDFLAGS="$SAVE_LDFLAGS"
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_libowcapi" = "xyes"
@@ -3193,12 +3193,17 @@
 then
 	AC_CHECK_HEADERS(pcap.h,,
 			 [with_libpcap="no (pcap.h not found)"])
 fi
 if test "x$with_libpcap" = "xyes"
 then
+	AC_CHECK_HEADERS(pcap-bpf.h,,
+			 [with_libpcap="no (pcap-bpf.h not found)"])
+fi
+if test "x$with_libpcap" = "xyes"
+then
 	AC_CACHE_CHECK([whether libpcap has PCAP_ERROR_IFACE_NOT_UP],
 		       [c_cv_libpcap_have_pcap_error_iface_not_up],
 		       AC_COMPILE_IFELSE([AC_LANG_PROGRAM(
 [[[
 #include <pcap.h>
 ]]],
@@ -3745,12 +3750,74 @@
 	CPPFLAGS="$SAVE_CPPFLAGS"
 	LDFLAGS="$SAVE_LDFLAGS"
 	LIBS="$SAVE_LIBS"
 fi
 # }}}
 
+# --with-librdkafka {{{
+AC_ARG_WITH(librdkafka, [AS_HELP_STRING([--with-librdkafka@<:@=PREFIX@:>@], [Path to librdkafka.])],
+[
+  if test "x$withval" != "xno" && test "x$withval" != "xyes"
+  then
+    with_librdkafka_cppflags="-I$withval/include"
+    with_librdkafka_ldflags="-L$withval/lib"
+    with_librdkafka_rpath="$withval/lib"
+    with_librdkafka="yes"
+  else
+    with_librdkafka="$withval"
+  fi
+],
+[
+  with_librdkafka="yes"
+])
+SAVE_CPPFLAGS="$CPPFLAGS"
+SAVE_LDFLAGS="$LDFLAGS"
+
+CPPFLAGS="$CPPFLAGS $with_librdkafka_cppflags"
+LDFLAGS="$LDFLAGS $with_librdkafka_ldflags"
+
+if test "x$with_librdkafka" = "xyes"
+then
+	AC_CHECK_HEADERS(librdkafka/rdkafka.h, [with_librdkafka="yes"], [with_librdkafka="no (librdkafka/rdkafka.h not found)"])
+fi
+
+if test "x$with_librdkafka" = "xyes"
+then
+	AC_CHECK_LIB(rdkafka, rd_kafka_new, [with_librdkafka="yes"], [with_librdkafka="no (Symbol 'rd_kafka_new' not found)"])
+  AC_CHECK_LIB(rdkafka, rd_kafka_conf_set_log_cb, [with_librdkafka_log_cb="yes"], [with_librdkafka_log_cb="no"])
+  AC_CHECK_LIB(rdkafka, rd_kafka_set_logger, [with_librdkafka_logger="yes"], [with_librdkafka_logger="no"])
+fi
+if test "x$with_librdkafka" = "xyes"
+then
+	BUILD_WITH_LIBRDKAFKA_CPPFLAGS="$with_librdkafka_cppflags"
+	BUILD_WITH_LIBRDKAFKA_LDFLAGS="$with_librdkafka_ldflags"
+	if test "x$with_librdkafka_rpath" != "x"
+	then
+		BUILD_WITH_LIBRDKAFKA_LIBS="-Wl,-rpath,$with_librdkafka_rpath -lrdkafka"
+	else
+		BUILD_WITH_LIBRDKAFKA_LIBS="-lrdkafka"
+	fi
+	AC_SUBST(BUILD_WITH_LIBRDKAFKA_CPPFLAGS)
+	AC_SUBST(BUILD_WITH_LIBRDKAFKA_LDFLAGS)
+	AC_SUBST(BUILD_WITH_LIBRDKAFKA_LIBS)
+	AC_DEFINE(HAVE_LIBRDKAFKA, 1, [Define if librdkafka is present and usable.])
+  if test "x$with_librdkafka_log_cb" = "xyes"
+  then
+        AC_DEFINE(HAVE_LIBRDKAFKA_LOG_CB, 1, [Define if librdkafka log facility is present and usable.])
+  fi
+  if test "x$with_librdkafka_logger" = "xyes"
+  then
+        AC_DEFINE(HAVE_LIBRDKAFKA_LOGGER, 1, [Define if librdkafka log facility is present and usable.])
+  fi
+fi
+CPPFLAGS="$SAVE_CPPFLAGS"
+LDFLAGS="$SAVE_LDFLAGS"
+AM_CONDITIONAL(BUILD_WITH_LIBRDKAFKA, test "x$with_librdkafka" = "xyes")
+
+# }}}
+
 # --with-librouteros {{{
 AC_ARG_WITH(librouteros, [AS_HELP_STRING([--with-librouteros@<:@=PREFIX@:>@], [Path to librouteros.])],
 [
  if test "x$withval" = "xyes"
  then
 	 with_librouteros="yes"
@@ -3803,108 +3870,82 @@
 	AC_SUBST(BUILD_WITH_LIBROUTEROS_LDFLAGS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBROUTEROS, test "x$with_librouteros" = "xyes")
 # }}}
 
 # --with-librrd {{{
+# AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
 librrd_cflags=""
 librrd_ldflags=""
-librrd_threadsafe="no"
+librrd_threadsafe="yes"
 librrd_rrdc_update="no"
-AC_ARG_WITH(librrd,
-  [AS_HELP_STRING([--with-librrd@<:@=PREFIX@:>@], [Path to rrdtool.])],
-  [
-    if test "x$withval" != "xno" && test "x$withval" != "xyes"
-    then
-      librrd_cflags="-I$withval/include"
-      librrd_ldflags="-L$withval/lib"
-      with_librrd="yes"
-    else
-      with_librrd="$withval"
-    fi
-  ],
-  [with_librrd="yes"]
-)
-
+AC_ARG_WITH(librrd, [AS_HELP_STRING([--with-librrd@<:@=PREFIX@:>@], [Path to rrdtool.])],
+[	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		librrd_cflags="-I$withval/include"
+		librrd_ldflags="-L$withval/lib"
+		with_librrd="yes"
+	else
+		with_librrd="$withval"
+	fi
+], [with_librrd="yes"])
 if test "x$with_librrd" = "xyes"
 then
-  SAVE_LDFLAGS="$LDFLAGS"
-  LDFLAGS="$LDFLAGS $librrd_ldflags"
-  PKG_CHECK_MODULES([RRD], [librrd >= 1.6.0],
-    [
-      AC_CHECK_LIB([rrd], [rrd_update_r],
-        [librrd_threadsafe="yes"],
-        [:]
-      )
-      AC_CHECK_LIB([rrd], [rrdc_update],
-        [librrd_rrdc_update="yes"],
-        [:]
-      )
-    ],[:]
-  )
-  LDFLAGS="$SAVE_LDFLAGS"
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
 
-  SAVE_CPPFLAGS="$CPPFLAGS"
-  CPPFLAGS="$CPPFLAGS $RRD_CFLAGS $librrd_cflags"
+	CPPFLAGS="$CPPFLAGS $librrd_cflags"
+	LDFLAGS="$LDFLAGS $librrd_ldflags"
 
-  AC_CHECK_HEADERS([rrd.h],, [with_librrd="no (rrd.h not found)"])
+	AC_CHECK_HEADERS(rrd.h,, [with_librrd="no (rrd.h not found)"])
 
-  CPPFLAGS="$SAVE_CPPFLAGS"
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
 fi
-
-if test "x$with_librrd" = "xyes" && test "x$librrd_threadsafe" = "xno"
+if test "x$with_librrd" = "xyes"
 then
-  SAVE_LDFLAGS="$LDFLAGS"
-  LDFLAGS="$LDFLAGS $librrd_ldflags"
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
 
-  AC_CHECK_LIB([rrd_th], [rrd_update_r],
-    [
-      librrd_ldflags="$librrd_ldflags -lrrd_th"
-      librrd_threadsafe="yes"
-      AC_CHECK_LIB([rrd_th], [rrdc_update],
-        [librrd_rrdc_update="yes"],
-        [:],
-      )
-    ],
-    [:]
-  )
-  LDFLAGS="$SAVE_LDFLAGS"
-fi
+	CPPFLAGS="$CPPFLAGS $librrd_cflags"
+	LDFLAGS="$LDFLAGS $librrd_ldflags"
 
-if test "x$with_librrd" = "xyes" && test "x$librrd_threadsafe" = "xno"
-then
-  SAVE_LDFLAGS="$LDFLAGS"
-  LDFLAGS="$LDFLAGS $librrd_ldflags"
+	AC_CHECK_LIB(rrd_th, rrd_update_r,
+	[with_librrd="yes"
+	 librrd_ldflags="$librrd_ldflags -lrrd_th -lm"
+	],
+	[librrd_threadsafe="no"
+	 AC_CHECK_LIB(rrd, rrd_update,
+	 [with_librrd="yes"
+	  librrd_ldflags="$librrd_ldflags -lrrd -lm"
+	 ],
+	 [with_librrd="no (symbol 'rrd_update' not found)"],
+	 [-lm])
+	],
+	[-lm])
 
-  AC_CHECK_LIB([rrd], [rrd_update],
-    [
-      librrd_ldflags="$librrd_ldflags -lrrd"
-      AC_CHECK_LIB([rrd], [rrdc_update],
-        [librrd_rrdc_update="yes"],
-        [:]
-      )
-    ],
-    [with_librrd="no (symbol 'rrd_update' not found)"]
-  )
-  LDFLAGS="$SAVE_LDFLAGS"
-fi
+	if test "x$librrd_threadsafe" = "xyes"
+	then
+		AC_CHECK_LIB(rrd_th, rrdc_update, [librrd_rrdc_update="yes"], [librrd_rrdc_update="no"])
+	else
+		AC_CHECK_LIB(rrd, rrdc_update, [librrd_rrdc_update="yes"], [librrd_rrdc_update="no"])
+	fi
 
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
 if test "x$with_librrd" = "xyes"
 then
-  BUILD_WITH_LIBRRD_CFLAGS="$RRD_CFLAGS $librrd_cflags"
-  BUILD_WITH_LIBRRD_LDFLAGS="$librrd_ldflags"
-  BUILD_WITH_LIBRRD_LIBS="$RRD_LIBS"
-  AC_SUBST(BUILD_WITH_LIBRRD_CFLAGS)
-  AC_SUBST(BUILD_WITH_LIBRRD_LDFLAGS)
-  AC_SUBST(BUILD_WITH_LIBRRD_LIBS)
+	BUILD_WITH_LIBRRD_CFLAGS="$librrd_cflags"
+	BUILD_WITH_LIBRRD_LDFLAGS="$librrd_ldflags"
+	AC_SUBST(BUILD_WITH_LIBRRD_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBRRD_LDFLAGS)
 fi
 if test "x$librrd_threadsafe" = "xyes"
 then
-  AC_DEFINE([HAVE_THREADSAFE_LIBRRD], [1],
-    [Define to 1 if the rrd library is thread-safe]
-  )
+	AC_DEFINE(HAVE_THREADSAFE_LIBRRD, 1, [Define to 1 if you have the threadsafe rrd library (-lrrd_th).])
 fi
 # }}}
 
 # --with-libsensors {{{
 with_sensors_cflags=""
 with_sensors_ldflags=""
@@ -4142,20 +4183,54 @@
 	       [with_libstatgrab="no (symbol sg_init not found)"])
 
   CFLAGS="$SAVE_CFLAGS"
   LDFLAGS="$SAVE_LDFLAGS"
 fi
 
+if test "x$with_libstatgrab" = "xyes"
+then
+  SAVE_CFLAGS="$CFLAGS"
+  SAVE_LIBS="$LIBS"
+
+  CFLAGS="$CFLAGS $with_libstatgrab_cflags"
+  LDFLAGS="$LDFLAGS $with_libstatgrab_ldflags"
+  LIBS="-lstatgrab $LIBS"
+
+  AC_CACHE_CHECK([if libstatgrab >= 0.90],
+          [c_cv_have_libstatgrab_0_90],
+          AC_LINK_IFELSE([AC_LANG_PROGRAM(
+[[[
+#include <stdio.h>
+#include <statgrab.h>
+]]],
+[[[
+      if (sg_init()) return 0;
+]]]
+    )],
+    [c_cv_have_libstatgrab_0_90="no"],
+    [c_cv_have_libstatgrab_0_90="yes"]
+          )
+  )
+
+  CFLAGS="$SAVE_CFLAGS"
+  LDFLAGS="$SAVE_LDFLAGS"
+  LIBS="$SAVE_LIBS"
+fi
+
 AM_CONDITIONAL(BUILD_WITH_LIBSTATGRAB, test "x$with_libstatgrab" = "xyes")
 if test "x$with_libstatgrab" = "xyes"
 then
   AC_DEFINE(HAVE_LIBSTATGRAB, 1, [Define to 1 if you have the 'statgrab' library (-lstatgrab)])
   BUILD_WITH_LIBSTATGRAB_CFLAGS="$with_libstatgrab_cflags"
   BUILD_WITH_LIBSTATGRAB_LDFLAGS="$with_libstatgrab_ldflags"
   AC_SUBST(BUILD_WITH_LIBSTATGRAB_CFLAGS)
   AC_SUBST(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+  if test "x$c_cv_have_libstatgrab_0_90" = "xyes"
+  then
+        AC_DEFINE(HAVE_LIBSTATGRAB_0_90, 1, [Define to 1 if libstatgrab version >= 0.90])
+  fi
 fi
 # }}}
 
 # --with-libtokyotyrant {{{
 with_libtokyotyrant_cppflags=""
 with_libtokyotyrant_ldflags=""
@@ -4215,23 +4290,84 @@
 fi
 
 CPPFLAGS="$SAVE_CPPFLAGS"
 LDFLAGS="$SAVE_LDFLAGS"
 
 if test "x$with_libtokyotyrant" = "xyes"
-then 
+then
   BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS="$with_libtokyotyrant_cppflags"
   BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS="$with_libtokyotyrant_ldflags"
   BUILD_WITH_LIBTOKYOTYRANT_LIBS="$with_libtokyotyrant_libs"
   AC_SUBST(BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS)
   AC_SUBST(BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS)
   AC_SUBST(BUILD_WITH_LIBTOKYOTYRANT_LIBS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBTOKYOTYRANT, test "x$with_libtokyotyrant" = "xyes")
 # }}}
 
+# --with-libudev {{{
+with_libudev_cflags=""
+with_libudev_ldflags=""
+AC_ARG_WITH(libudev, [AS_HELP_STRING([--with-libudev@<:@=PREFIX@:>@], [Path to libudev.])],
+[
+	if test "x$withval" = "xno"
+	then
+		with_libudev="no"
+	else
+		with_libudev="yes"
+		if test "x$withval" != "xyes"
+		then
+			with_libudev_cflags="-I$withval/include"
+			with_libudev_ldflags="-L$withval/lib"
+			with_libudev="yes"
+		fi
+	fi
+],
+[
+	if test "x$ac_system" = "xLinux"
+	then
+		with_libudev="yes"
+	else
+		with_libudev="no (Linux only library)"
+	fi
+])
+if test "x$with_libudev" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libudev_cflags"
+
+	AC_CHECK_HEADERS(libudev.h, [], [with_libudev="no (libudev.h not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libudev" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libudev_cflags"
+	LDFLAGS="$LDFLAGS $with_libudev_ldflags"
+
+	AC_CHECK_LIB(udev, udev_new,
+	[
+		AC_DEFINE(HAVE_LIBUDEV, 1, [Define to 1 if you have the udev library (-ludev).])
+	],
+	[with_libudev="no (libudev not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+if test "x$with_libudev" = "xyes"
+then
+	BUILD_WITH_LIBUDEV_CFLAGS="$with_libudev_cflags"
+	BUILD_WITH_LIBUDEV_LDFLAGS="$with_libudev_ldflags"
+	AC_SUBST(BUILD_WITH_LIBUDEV_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBUDEV_LDFLAGS)
+fi
+AM_CONDITIONAL(BUILD_WITH_LIBUDEV, test "x$with_libudev" = "xyes")
+# }}}
+
 # --with-libupsclient {{{
 with_libupsclient_config=""
 with_libupsclient_cflags=""
 with_libupsclient_libs=""
 AC_ARG_WITH(libupsclient, [AS_HELP_STRING([--with-libupsclient@<:@=PREFIX@:>@], [Path to the upsclient library.])],
 [
@@ -4600,31 +4736,24 @@
 
 # with_libvarnish_cflags and with_libvarnish_libs are set up now, let's do
 # the actual checks.
 if test "x$with_libvarnish" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_libvarnish_cflags"
-	AC_CHECK_HEADERS(varnish/varnishapi.h, [], [with_libvarnish="no (varnish/varnishapi.h not found)"])
-
-	CPPFLAGS="$SAVE_CPPFLAGS"
-fi
-if test "x$with_libvarnish" = "xyes"
-then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	#SAVE_LDFLAGS="$LDFLAGS"
 
 	CPPFLAGS="$CPPFLAGS $with_libvarnish_cflags"
-	#LDFLAGS="$LDFLAGS $with_libvarnish_libs"
 
-    AC_CHECK_HEADERS(varnish/vsc.h,
-        [AC_DEFINE([HAVE_VARNISH_V3], [1], [Varnish 3 API support])],
-        [AC_DEFINE([HAVE_VARNISH_V2], [1], [Varnish 2 API support])])
+	AC_CHECK_HEADERS(varnish/vapi/vsc.h,
+		[AC_DEFINE([HAVE_VARNISH_V4], [1], [Varnish 4 API support])],
+		[AC_CHECK_HEADERS(varnish/vsc.h,
+			[AC_DEFINE([HAVE_VARNISH_V3], [1], [Varnish 3 API support])],
+			[AC_CHECK_HEADERS(varnish/varnishapi.h,
+				[AC_DEFINE([HAVE_VARNISH_V2], [1], [Varnish 2 API support])],
+				[with_libvarnish="no (found none of the varnish header files)"])])])
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
-	#LDFLAGS="$SAVE_LDFLAGS"
 fi
 if test "x$with_libvarnish" = "xyes"
 then
 	BUILD_WITH_LIBVARNISH_CFLAGS="$with_libvarnish_cflags"
 	BUILD_WITH_LIBVARNISH_LIBS="$with_libvarnish_libs"
 	AC_SUBST(BUILD_WITH_LIBVARNISH_CFLAGS)
@@ -4827,12 +4956,68 @@
 	BUILD_WITH_OPENIPMI_LIBS="$with_libopenipmipthread_ldflags"
 	AC_SUBST(BUILD_WITH_OPENIPMI_CFLAGS)
 	AC_SUBST(BUILD_WITH_OPENIPMI_LIBS)
 fi
 # }}}
 
+# --with-libatasmart {{{
+with_libatasmart_cppflags=""
+with_libatasmart_ldflags=""
+AC_ARG_WITH(libatasmart, [AS_HELP_STRING([--with-libatasmart@<:@=PREFIX@:>@], [Path to libatasmart.])],
+[
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		with_libatasmart_cppflags="-I$withval/include"
+		with_libatasmart_ldflags="-L$withval/lib"
+		with_libatasmart="yes"
+	else
+		with_libatasmart="$withval"
+	fi
+],
+[
+	if test "x$ac_system" = "xLinux"
+	then
+		with_libatasmart="yes"
+	else
+		with_libatasmart="no (Linux only library)"
+	fi
+])
+if test "x$with_libatasmart" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libatasmart_cppflags"
+
+	AC_CHECK_HEADERS(atasmart.h, [with_libatasmart="yes"], [with_libatasmart="no (atasmart.h not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+if test "x$with_libatasmart" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libatasmart_cppflags"
+	LDFLAGS="$LDFLAGS $with_libatasmart_ldflags"
+
+	AC_CHECK_LIB(atasmart, sk_disk_open, [with_libatasmart="yes"], [with_libatasmart="no (Symbol 'sk_disk_open' not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+if test "x$with_libatasmart" = "xyes"
+then
+	BUILD_WITH_LIBATASMART_CPPFLAGS="$with_libatasmart_cppflags"
+	BUILD_WITH_LIBATASMART_LDFLAGS="$with_libatasmart_ldflags"
+	BUILD_WITH_LIBATASMART_LIBS="-latasmart"
+	AC_SUBST(BUILD_WITH_LIBATASMART_CPPFLAGS)
+	AC_SUBST(BUILD_WITH_LIBATASMART_LDFLAGS)
+	AC_SUBST(BUILD_WITH_LIBATASMART_LIBS)
+	AC_DEFINE(HAVE_LIBATASMART, 1, [Define if libatasmart is present and usable.])
+fi
+AM_CONDITIONAL(BUILD_WITH_LIBATASMART, test "x$with_libatasmart" = "xyes")
+# }}}
+
 PKG_CHECK_MODULES([LIBNOTIFY], [libnotify],
 		[with_libnotify="yes"],
 		[if test "x$LIBNOTIFY_PKG_ERRORS" = "x"; then
 			 with_libnotify="no"
 		 else
 			 with_libnotify="no ($LIBNOTIFY_PKG_ERRORS)"
@@ -4962,32 +5147,35 @@
 AC_COLLECTD([getifaddrs],[enable],  [feature], [getifaddrs under Linux])
 
 dependency_warning="no"
 dependency_error="no"
 
 plugin_ascent="no"
+plugin_barometer="no"
 plugin_battery="no"
 plugin_bind="no"
+plugin_ceph="no"
 plugin_cgroups="no"
 plugin_conntrack="no"
 plugin_contextswitch="no"
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_curl_json="no"
 plugin_curl_xml="no"
 plugin_df="no"
 plugin_disk="no"
+plugin_drbd="no"
 plugin_entropy="no"
 plugin_ethstat="no"
 plugin_fscache="no"
 plugin_interface="no"
 plugin_ipmi="no"
 plugin_ipvs="no"
 plugin_irq="no"
-plugin_libvirt="no"
 plugin_load="no"
+plugin_log_logstash="no"
 plugin_memory="no"
 plugin_multimeter="no"
 plugin_nfs="no"
 plugin_numa="no"
 plugin_perl="no"
 plugin_processes="no"
@@ -4995,32 +5183,37 @@
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
 plugin_tcpconns="no"
 plugin_ted="no"
 plugin_thermal="no"
-plugin_users="no"
+plugin_turbostat="no"
 plugin_uptime="no"
+plugin_users="no"
+plugin_virt="no"
 plugin_vmem="no"
 plugin_vserver="no"
 plugin_wireless="no"
 plugin_zfs_arc="no"
+plugin_zookeeper="no"
 
 # Linux
 if test "x$ac_system" = "xLinux"
 then
 	plugin_battery="yes"
 	plugin_conntrack="yes"
 	plugin_contextswitch="yes"
 	plugin_cgroups="yes"
 	plugin_cpu="yes"
 	plugin_cpufreq="yes"
 	plugin_disk="yes"
+	plugin_drbd="yes"
 	plugin_entropy="yes"
 	plugin_fscache="yes"
 	plugin_interface="yes"
+	plugin_ipc="yes"
 	plugin_irq="yes"
 	plugin_load="yes"
 	plugin_lvm="yes"
 	plugin_memory="yes"
 	plugin_nfs="yes"
 	plugin_numa="yes"
@@ -5031,17 +5224,22 @@
 	plugin_tcpconns="yes"
 	plugin_thermal="yes"
 	plugin_uptime="yes"
 	plugin_vmem="yes"
 	plugin_vserver="yes"
 	plugin_wireless="yes"
+	plugin_zfs_arc="yes"
 
 	if test "x$have_linux_ip_vs_h" = "xyes" || test "x$have_net_ip_vs_h" = "xyes" || test "x$have_ip_vs_h" = "xyes"
 	then
 		plugin_ipvs="yes"
 	fi
+	if test "x$c_cv_have_usable_asm_msrindex_h" = "xyes" && test "x$have_cpuid_h" = "xyes"
+	then
+		plugin_turbostat="yes"
+	fi
 fi
 
 if test "x$ac_system" = "xOpenBSD"
 then
 	plugin_tcpconns="yes"
 fi
@@ -5055,12 +5253,13 @@
 
 # AIX
 
 if test "x$ac_system" = "xAIX"
 then
         plugin_tcpconns="yes"
+        plugin_ipc="yes"
 fi
 
 # FreeBSD
 
 if test "x$ac_system" = "xFreeBSD"
 then
@@ -5100,12 +5299,29 @@
 	plugin_disk="yes"
 	plugin_interface="yes"
 	plugin_memory="yes"
 	plugin_tape="yes"
 fi
 
+# libi2c-dev
+with_libi2c="no"
+if test "x$ac_system" = "xLinux"
+then
+AC_CHECK_DECL(i2c_smbus_read_i2c_block_data,
+	[with_libi2c="yes"],
+	[with_libi2c="no (symbol i2c_smbus_read_i2c_block_data not found - have you installed libi2c-dev ?)"],
+	[[#include <stdlib.h>
+	#include <linux/i2c-dev.h>]])
+fi
+
+if test "x$with_libi2c" = "xyes"
+then
+	plugin_barometer="yes"
+fi
+
+
 # libstatgrab
 if test "x$with_libstatgrab" = "xyes"
 then
 	plugin_cpu="yes"
 	plugin_disk="yes"
 	plugin_interface="yes"
@@ -5136,12 +5352,17 @@
 
 if test "x$with_libcurl" = "xyes" && test "x$with_libxml2" = "xyes"
 then
 	plugin_curl_xml="yes"
 fi
 
+if test "x$with_libyajl" = "xyes"
+then
+	plugin_ceph="yes"
+fi
+
 if test "x$have_processor_info" = "xyes"
 then
 	plugin_cpu="yes"
 fi
 if test "x$have_sysctl" = "xyes"
 then
@@ -5179,17 +5400,12 @@
 #fi
 if test "x$c_cv_have_one_getmntent" = "xyes"
 then
 	plugin_df="yes"
 fi
 
-if test "x$c_cv_have_getmntent_r" = "xyes"
-then
-	plugin_df="yes"
-fi
-
 # Df plugin: Check if we have either `statfs' or `statvfs' second.
 if test "x$plugin_df" = "xyes"
 then
 	plugin_df="no"
 	if test "x$have_statfs" = "xyes"
 	then
@@ -5208,20 +5424,20 @@
 
 if test "x$have_getifaddrs" = "xyes"
 then
 	plugin_interface="yes"
 fi
 
-if test "x$with_libxml2" = "xyes" && test "x$with_libvirt" = "xyes"
+if test "x$have_getloadavg" = "xyes"
 then
-	plugin_libvirt="yes"
+	plugin_load="yes"
 fi
 
-if test "x$have_getloadavg" = "xyes"
+if test "x$with_libyajl" = "xyes"
 then
-	plugin_load="yes"
+	plugin_log_logstash="yes"
 fi
 
 if test "x$c_cv_have_libperl$c_cv_have_perl_ithreads" = "xyesyes"
 then
 	plugin_perl="yes"
 fi
@@ -5231,13 +5447,16 @@
 then
 	plugin_memory="yes"
 fi
 
 if test "x$have_termios_h" = "xyes"
 then
-	plugin_multimeter="yes"
+	if test "x$ac_system" != "xAIX"
+	then
+		plugin_multimeter="yes"
+	fi
 	plugin_ted="yes"
 fi
 
 if test "x$have_thread_info" = "xyes"
 then
 	plugin_processes="yes"
@@ -5245,12 +5464,17 @@
 
 if test "x$with_kvm_getprocs" = "xyes" && test "x$have_struct_kinfo_proc_freebsd" = "xyes"
 then
 	plugin_processes="yes"
 fi
 
+if test "x$with_kvm_getprocs" = "xyes" && test "x$have_struct_kinfo_proc_openbsd" = "xyes"
+then
+	plugin_processes="yes"
+fi
+
 if test "x$with_kvm_getswapinfo" = "xyes"
 then
 	plugin_swap="yes"
 fi
 
 if test "x$have_swapctl" = "xyes" && test "x$c_cv_have_swapctl_two_args" = "xyes"
@@ -5269,12 +5493,18 @@
 fi
 if test "x$have_getutxent" = "xyes"
 then
 	plugin_users="yes"
 fi
 
+if test "x$with_libxml2" = "xyes" && test "x$with_libvirt" = "xyes"
+then
+	plugin_virt="yes"
+fi
+
+
 m4_divert_once([HELP_ENABLE], [
 collectd plugins:])
 
 AC_ARG_ENABLE([all-plugins],
 		AS_HELP_STRING([--enable-all-plugins],[enable all plugins (auto by def)]),
 		[
@@ -5296,44 +5526,49 @@
 AC_PLUGIN([amqp],        [$with_librabbitmq],  [AMQP output plugin])
 AC_PLUGIN([apache],      [$with_libcurl],      [Apache httpd statistics])
 AC_PLUGIN([apcups],      [yes],                [Statistics of UPSes by APC])
 AC_PLUGIN([apple_sensors], [$with_libiokit],   [Apple's hardware sensors])
 AC_PLUGIN([aquaero],     [$with_libaquaero5],  [Aquaero's hardware sensors])
 AC_PLUGIN([ascent],      [$plugin_ascent],     [AscentEmu player statistics])
+AC_PLUGIN([barometer],   [$plugin_barometer],  [Barometer sensor on I2C])
 AC_PLUGIN([battery],     [$plugin_battery],    [Battery statistics])
 AC_PLUGIN([bind],        [$plugin_bind],       [ISC Bind nameserver statistics])
+AC_PLUGIN([ceph],        [$plugin_ceph],       [Ceph daemon statistics])
 AC_PLUGIN([conntrack],   [$plugin_conntrack],  [nf_conntrack statistics])
 AC_PLUGIN([contextswitch], [$plugin_contextswitch], [context switch statistics])
 AC_PLUGIN([cpufreq],     [$plugin_cpufreq],    [CPU frequency statistics])
 AC_PLUGIN([cpu],         [$plugin_cpu],        [CPU usage statistics])
 AC_PLUGIN([csv],         [yes],                [CSV output plugin])
 AC_PLUGIN([curl],        [$with_libcurl],      [CURL generic web statistics])
 AC_PLUGIN([curl_json],   [$plugin_curl_json],    [CouchDB statistics])
 AC_PLUGIN([curl_xml],   [$plugin_curl_xml],    [CURL generic xml statistics])
 AC_PLUGIN([cgroups],     [$plugin_cgroups],    [CGroups CPU usage accounting])
 AC_PLUGIN([dbi],         [$with_libdbi],       [General database statistics])
 AC_PLUGIN([df],          [$plugin_df],         [Filesystem usage statistics])
 AC_PLUGIN([disk],        [$plugin_disk],       [Disk usage statistics])
+AC_PLUGIN([drbd],        [$plugin_drbd],       [DRBD statistics])
 AC_PLUGIN([dns],         [$with_libpcap],      [DNS traffic analysis])
 AC_PLUGIN([email],       [yes],                [EMail statistics])
 AC_PLUGIN([entropy],     [$plugin_entropy],    [Entropy statistics])
 AC_PLUGIN([ethstat],     [$plugin_ethstat],    [Stats from NIC driver])
 AC_PLUGIN([exec],        [yes],                [Execution of external programs])
+AC_PLUGIN([fhcount],     [yes],                [File handles statistics])
 AC_PLUGIN([filecount],   [yes],                [Count files in directories])
 AC_PLUGIN([fscache],     [$plugin_fscache],    [fscache statistics])
 AC_PLUGIN([gmond],       [$with_libganglia],   [Ganglia plugin])
 AC_PLUGIN([hddtemp],     [yes],                [Query hddtempd])
 AC_PLUGIN([interface],   [$plugin_interface],  [Interface traffic statistics])
+AC_PLUGIN([ipc],         [$plugin_ipc],        [IPC statistics])
 AC_PLUGIN([ipmi],        [$plugin_ipmi],       [IPMI sensor statistics])
 AC_PLUGIN([iptables],    [$with_libiptc],      [IPTables rule counters])
 AC_PLUGIN([ipvs],        [$plugin_ipvs],       [IPVS connection statistics])
 AC_PLUGIN([irq],         [$plugin_irq],        [IRQ statistics])
 AC_PLUGIN([java],        [$with_java],         [Embed the Java Virtual Machine])
-AC_PLUGIN([libvirt],     [$plugin_libvirt],    [Virtual machine statistics])
 AC_PLUGIN([load],        [$plugin_load],       [System load])
 AC_PLUGIN([logfile],     [yes],                [File logging plugin])
+AC_PLUGIN([log_logstash], [$plugin_log_logstash], [Logstash json_event compatible logging])
 AC_PLUGIN([lpar],        [$with_perfstat],     [AIX logical partitions statistics])
 AC_PLUGIN([lvm],         [$with_liblvm2app],   [LVM statistics])
 AC_PLUGIN([madwifi],     [$have_linux_wireless_h], [Madwifi wireless statistics])
 AC_PLUGIN([match_empty_counter], [yes],        [The empty counter match])
 AC_PLUGIN([match_hashed], [yes],               [The hashed match])
 AC_PLUGIN([match_regex], [yes],                [The regex match])
@@ -5357,31 +5592,33 @@
 AC_PLUGIN([notify_email], [$with_libesmtp],    [Email notifier])
 AC_PLUGIN([ntpd],        [yes],                [NTPd statistics])
 AC_PLUGIN([numa],        [$plugin_numa],       [NUMA virtual memory statistics])
 AC_PLUGIN([nut],         [$with_libupsclient], [Network UPS tools statistics])
 AC_PLUGIN([olsrd],       [yes],                [olsrd statistics])
 AC_PLUGIN([onewire],     [$with_libowcapi],    [OneWire sensor statistics])
+AC_PLUGIN([openldap],    [$with_libldap],      [OpenLDAP statistics])
 AC_PLUGIN([openvpn],     [yes],                [OpenVPN client statistics])
 AC_PLUGIN([oracle],      [$with_oracle],       [Oracle plugin])
 AC_PLUGIN([perl],        [$plugin_perl],       [Embed a Perl interpreter])
 AC_PLUGIN([pf],          [$have_net_pfvar_h],  [BSD packet filter (PF) statistics])
 # FIXME: Check for libevent, too.
 AC_PLUGIN([pinba],       [$have_protoc_c],     [Pinba statistics])
 AC_PLUGIN([ping],        [$with_liboping],     [Network latency statistics])
 AC_PLUGIN([postgresql],  [$with_libpq],        [PostgreSQL database statistics])
 AC_PLUGIN([powerdns],    [yes],                [PowerDNS statistics])
 AC_PLUGIN([processes],   [$plugin_processes],  [Process statistics])
 AC_PLUGIN([protocols],   [$plugin_protocols],  [Protocol (IP, TCP, ...) statistics])
 AC_PLUGIN([python],      [$with_python],       [Embed a Python interpreter])
-AC_PLUGIN([redis],       [$with_libcredis],    [Redis plugin])
+AC_PLUGIN([redis],       [$with_libhiredis],    [Redis plugin])
 AC_PLUGIN([routeros],    [$with_librouteros],  [RouterOS plugin])
 AC_PLUGIN([rrdcached],   [$librrd_rrdc_update], [RRDTool output plugin])
 AC_PLUGIN([rrdtool],     [$with_librrd],       [RRDTool output plugin])
 AC_PLUGIN([sensors],     [$with_libsensors],   [lm_sensors statistics])
 AC_PLUGIN([serial],      [$plugin_serial],     [serial port traffic])
 AC_PLUGIN([sigrok],      [$with_libsigrok],    [sigrok acquisition sources])
+AC_PLUGIN([smart],       [$with_libatasmart],  [SMART statistics])
 AC_PLUGIN([snmp],        [$with_libnetsnmp],   [SNMP querying plugin])
 AC_PLUGIN([statsd],      [yes],                [StatsD plugin])
 AC_PLUGIN([swap],        [$plugin_swap],       [Swap usage statistics])
 AC_PLUGIN([syslog],      [$have_syslog],       [Syslog logging plugin])
 AC_PLUGIN([table],       [yes],                [Parsing of tabular data])
 AC_PLUGIN([tail],        [yes],                [Parsing of logfiles])
@@ -5395,32 +5632,40 @@
 AC_PLUGIN([tcpconns],    [$plugin_tcpconns],   [TCP connection statistics])
 AC_PLUGIN([teamspeak2],  [yes],                [TeamSpeak2 server statistics])
 AC_PLUGIN([ted],         [$plugin_ted],        [Read The Energy Detective values])
 AC_PLUGIN([thermal],     [$plugin_thermal],    [Linux ACPI thermal zone statistics])
 AC_PLUGIN([threshold],   [yes],                [Threshold checking plugin])
 AC_PLUGIN([tokyotyrant], [$with_libtokyotyrant],  [TokyoTyrant database statistics])
+AC_PLUGIN([turbostat],   [$plugin_turbostat],  [Advanced statistic on Intel cpu states])
 AC_PLUGIN([unixsock],    [yes],                [Unixsock communication plugin])
 AC_PLUGIN([uptime],      [$plugin_uptime],     [Uptime statistics])
 AC_PLUGIN([users],       [$plugin_users],      [User statistics])
 AC_PLUGIN([uuid],        [yes],                [UUID as hostname plugin])
 AC_PLUGIN([varnish],     [$with_libvarnish],   [Varnish cache statistics])
+AC_PLUGIN([virt],        [$plugin_virt],       [Virtual machine statistics])
 AC_PLUGIN([vmem],        [$plugin_vmem],       [Virtual memory statistics])
 AC_PLUGIN([vserver],     [$plugin_vserver],    [Linux VServer statistics])
 AC_PLUGIN([wireless],    [$plugin_wireless],   [Wireless statistics])
 AC_PLUGIN([write_graphite], [yes],             [Graphite / Carbon output plugin])
 AC_PLUGIN([write_http],  [$with_libcurl],      [HTTP output plugin])
+AC_PLUGIN([write_kafka],  [$with_librdkafka],  [Kafka output plugin])
+AC_PLUGIN([write_log], [yes],                  [Log output plugin])
 AC_PLUGIN([write_mongodb], [$with_libmongoc],  [MongoDB output plugin])
-AC_PLUGIN([write_redis], [$with_libcredis],    [Redis output plugin])
+AC_PLUGIN([write_redis], [$with_libhiredis],    [Redis output plugin])
 AC_PLUGIN([write_riemann], [$have_protoc_c],   [Riemann output plugin])
+AC_PLUGIN([write_sensu], [yes],                [Sensu output plugin])
+AC_PLUGIN([write_tsdb],  [yes],                [TSDB output plugin])
 AC_PLUGIN([xmms],        [$with_libxmms],      [XMMS statistics])
 AC_PLUGIN([zfs_arc],     [$plugin_zfs_arc],    [ZFS ARC statistics])
+AC_PLUGIN([zookeeper],   [yes],  	       [Zookeeper statistics])
 
 dnl Default configuration file
 # Load either syslog or logfile
 LOAD_PLUGIN_SYSLOG=""
 LOAD_PLUGIN_LOGFILE=""
+LOAD_PLUGIN_LOG_LOGSTASH=""
 
 AC_MSG_CHECKING([which default log plugin to load])
 default_log_plugin="none"
 if test "x$enable_syslog" = "xyes"
 then
 	default_log_plugin="syslog"
@@ -5436,16 +5681,26 @@
 	else
 		LOAD_PLUGIN_LOGFILE="#"
 	fi
 else
 	LOAD_PLUGIN_LOGFILE="##"
 fi
+
+if test "x$enable_log_logstash" = "xyes"
+then
+  LOAD_PLUGIN_LOG_LOGSTASH="#"
+else
+  LOAD_PLUGIN_LOG_LOGSTASH="##"
+fi
+
+
 AC_MSG_RESULT([$default_log_plugin])
 
 AC_SUBST(LOAD_PLUGIN_SYSLOG)
 AC_SUBST(LOAD_PLUGIN_LOGFILE)
+AC_SUBST(LOAD_PLUGIN_LOG_LOGSTASH)
 
 DEFAULT_LOG_LEVEL="info"
 if test "x$enable_debug" = "xyes"
 then
 	DEFAULT_LOG_LEVEL="debug"
 fi
@@ -5549,13 +5804,13 @@
 AC_SUBST(LCC_VERSION_PATCH)
 AC_SUBST(LCC_VERSION_EXTRA)
 AC_SUBST(LCC_VERSION_STRING)
 
 AC_CONFIG_FILES(src/libcollectdclient/collectd/lcc_features.h)
 
-AC_CONFIG_FILES([Makefile src/Makefile src/collectd.conf src/libcollectdclient/Makefile src/libcollectdclient/libcollectdclient.pc src/liboconfig/Makefile bindings/Makefile bindings/java/Makefile])
+AC_CONFIG_FILES([Makefile src/Makefile src/daemon/Makefile src/collectd.conf src/libcollectdclient/Makefile src/libcollectdclient/libcollectdclient.pc src/liboconfig/Makefile bindings/Makefile bindings/java/Makefile])
 AC_OUTPUT
 
 if test "x$with_librrd" = "xyes" \
 	&& test "x$librrd_threadsafe" != "xyes"
 then
 	with_librrd="yes (warning: librrd is not thread-safe)"
@@ -5582,24 +5837,27 @@
 cat <<EOF;
 
 Configuration:
   Libraries:
     intel mic . . . . . . $with_mic
     libaquaero5 . . . . . $with_libaquaero5
-    libcredis . . . . . . $with_libcredis
+    libatasmart . . . . . $with_libatasmart
     libcurl . . . . . . . $with_libcurl
     libdbi  . . . . . . . $with_libdbi
     libesmtp  . . . . . . $with_libesmtp
     libganglia  . . . . . $with_libganglia
     libgcrypt . . . . . . $with_libgcrypt
     libhal  . . . . . . . $with_libhal
+    libhiredis  . . . . . $with_libhiredis
+    libi2c-dev  . . . . . $with_libi2c
     libiokit  . . . . . . $with_libiokit
     libiptc . . . . . . . $with_libiptc
     libjvm  . . . . . . . $with_java
     libkstat  . . . . . . $with_kstat
     libkvm  . . . . . . . $with_libkvm
+    libldap . . . . . . . $with_libldap
     liblvm2app  . . . . . $with_liblvm2app
     libmemcached  . . . . $with_libmemcached
     libmnl  . . . . . . . $with_libmnl
     libmodbus . . . . . . $with_libmodbus
     libmongoc . . . . . . $with_libmongoc
     libmysql  . . . . . . $with_libmysql
@@ -5613,18 +5871,20 @@
     libpcap . . . . . . . $with_libpcap
     libperfstat . . . . . $with_perfstat
     libperl . . . . . . . $with_libperl
     libpq . . . . . . . . $with_libpq
     libpthread  . . . . . $with_libpthread
     librabbitmq . . . . . $with_librabbitmq
+    librdkafka  . . . . . $with_librdkafka
     librouteros . . . . . $with_librouteros
     librrd  . . . . . . . $with_librrd
     libsensors  . . . . . $with_libsensors
     libsigrok   . . . . . $with_libsigrok
     libstatgrab . . . . . $with_libstatgrab
     libtokyotyrant  . . . $with_libtokyotyrant
+    libudev . . . . . . . $with_libudev
     libupsclient  . . . . $with_libupsclient
     libvarnish  . . . . . $with_libvarnish
     libvirt . . . . . . . $with_libvirt
     libxml2 . . . . . . . $with_libxml2
     libxmms . . . . . . . $with_libxmms
     libyajl . . . . . . . $with_libyajl
@@ -5641,47 +5901,52 @@
 
   Modules:
     aggregation . . . . . $enable_aggregation
     amqp    . . . . . . . $enable_amqp
     apache  . . . . . . . $enable_apache
     apcups  . . . . . . . $enable_apcups
-    aquaero . . . . . . . $enable_aquaero
     apple_sensors . . . . $enable_apple_sensors
+    aquaero . . . . . . . $enable_aquaero
     ascent  . . . . . . . $enable_ascent
+    barometer . . . . . . $enable_barometer
     battery . . . . . . . $enable_battery
     bind  . . . . . . . . $enable_bind
+    ceph  . . . . . . . . $enable_ceph
+    cgroups . . . . . . . $enable_cgroups
     conntrack . . . . . . $enable_conntrack
     contextswitch . . . . $enable_contextswitch
-    cgroups . . . . . . . $enable_cgroups
     cpu . . . . . . . . . $enable_cpu
     cpufreq . . . . . . . $enable_cpufreq
     csv . . . . . . . . . $enable_csv
     curl  . . . . . . . . $enable_curl
     curl_json . . . . . . $enable_curl_json
     curl_xml  . . . . . . $enable_curl_xml
     dbi . . . . . . . . . $enable_dbi
     df  . . . . . . . . . $enable_df
     disk  . . . . . . . . $enable_disk
     dns . . . . . . . . . $enable_dns
+    drbd  . . . . . . . . $enable_drbd
     email . . . . . . . . $enable_email
     entropy . . . . . . . $enable_entropy
     ethstat . . . . . . . $enable_ethstat
     exec  . . . . . . . . $enable_exec
+    fhcount . . . . . . . $enable_fhcount
     filecount . . . . . . $enable_filecount
     fscache . . . . . . . $enable_fscache
     gmond . . . . . . . . $enable_gmond
     hddtemp . . . . . . . $enable_hddtemp
     interface . . . . . . $enable_interface
+    ipc . . . . . . . . . $enable_ipc
     ipmi  . . . . . . . . $enable_ipmi
     iptables  . . . . . . $enable_iptables
     ipvs  . . . . . . . . $enable_ipvs
     irq . . . . . . . . . $enable_irq
     java  . . . . . . . . $enable_java
-    libvirt . . . . . . . $enable_libvirt
     load  . . . . . . . . $enable_load
     logfile . . . . . . . $enable_logfile
+    log_logstash  . . . . $enable_log_logstash
     lpar  . . . . . . . . $enable_lpar
     lvm . . . . . . . . . $enable_lvm
     madwifi . . . . . . . $enable_madwifi
     match_empty_counter . $enable_match_empty_counter
     match_hashed  . . . . $enable_match_hashed
     match_regex . . . . . $enable_match_regex
@@ -5705,12 +5970,13 @@
     notify_email  . . . . $enable_notify_email
     ntpd  . . . . . . . . $enable_ntpd
     numa  . . . . . . . . $enable_numa
     nut . . . . . . . . . $enable_nut
     olsrd . . . . . . . . $enable_olsrd
     onewire . . . . . . . $enable_onewire
+    openldap  . . . . . . $enable_openldap
     openvpn . . . . . . . $enable_openvpn
     oracle  . . . . . . . $enable_oracle
     perl  . . . . . . . . $enable_perl
     pf  . . . . . . . . . $enable_pf
     pinba . . . . . . . . $enable_pinba
     ping  . . . . . . . . $enable_ping
@@ -5723,46 +5989,54 @@
     routeros  . . . . . . $enable_routeros
     rrdcached . . . . . . $enable_rrdcached
     rrdtool . . . . . . . $enable_rrdtool
     sensors . . . . . . . $enable_sensors
     serial  . . . . . . . $enable_serial
     sigrok  . . . . . . . $enable_sigrok
+    smart . . . . . . . . $enable_smart
     snmp  . . . . . . . . $enable_snmp
     statsd  . . . . . . . $enable_statsd
     swap  . . . . . . . . $enable_swap
     syslog  . . . . . . . $enable_syslog
     table . . . . . . . . $enable_table
-    tail  . . . . . . . . $enable_tail
     tail_csv  . . . . . . $enable_tail_csv
+    tail  . . . . . . . . $enable_tail
     tape  . . . . . . . . $enable_tape
     target_notification . $enable_target_notification
     target_replace  . . . $enable_target_replace
     target_scale  . . . . $enable_target_scale
     target_set  . . . . . $enable_target_set
     target_v5upgrade  . . $enable_target_v5upgrade
     tcpconns  . . . . . . $enable_tcpconns
     teamspeak2  . . . . . $enable_teamspeak2
     ted . . . . . . . . . $enable_ted
     thermal . . . . . . . $enable_thermal
     threshold . . . . . . $enable_threshold
     tokyotyrant . . . . . $enable_tokyotyrant
+    turbostat . . . . . . $enable_turbostat
     unixsock  . . . . . . $enable_unixsock
     uptime  . . . . . . . $enable_uptime
     users . . . . . . . . $enable_users
     uuid  . . . . . . . . $enable_uuid
     varnish . . . . . . . $enable_varnish
+    virt  . . . . . . . . $enable_virt
     vmem  . . . . . . . . $enable_vmem
     vserver . . . . . . . $enable_vserver
     wireless  . . . . . . $enable_wireless
     write_graphite  . . . $enable_write_graphite
     write_http  . . . . . $enable_write_http
+    write_kafka . . . . . $enable_write_kafka
+    write_log . . . . . . $enable_write_log
     write_mongodb . . . . $enable_write_mongodb
     write_redis . . . . . $enable_write_redis
     write_riemann . . . . $enable_write_riemann
+    write_sensu . . . . . $enable_write_sensu
+    write_tsdb  . . . . . $enable_write_tsdb
     xmms  . . . . . . . . $enable_xmms
     zfs_arc . . . . . . . $enable_zfs_arc
+    zookeeper . . . . . . $enable_zookeeper
 
 EOF
 
 if test "x$dependency_error" = "xyes"; then
 	AC_MSG_ERROR("Some plugins are missing dependencies - see the summary above for details")
 fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collectd2html.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collectd2html.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collectd2html.pl	2016-07-19 16:42:46.615749762 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collectd2html.pl	2012-09-13 19:10:50.000000000 +0800
@@ -213,13 +213,13 @@
 	$cleaned_bn =~ tr/%\//__/;
 	print OUT <<END;
 <h2><a id="$cleaned_bn">$bn</a></h2>
 END
 
 	# graph various ranges
-	foreach my $span (qw(1hour 1day 1week 1month)){
+	foreach my $span qw(1hour 1day 1week 1month){
 		system("mkdir -p $IMG_DIR/" . dirname($bn));
 		my $img = "$IMG_DIR/${bn}-$span$IMG_SFX";
 
 		my $cmd = "rrdtool graph $img"
 			." -t \"$bn $span\" --imgformat $IMG_FMT --width 600 --height 100"
 			." --start now-$span --end now --interlaced"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection3/lib/Collectd/Config.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection3/lib/Collectd/Config.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection3/lib/Collectd/Config.pm	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection3/lib/Collectd/Config.pm	2015-03-10 22:14:45.813113801 +0800
@@ -41,13 +41,13 @@
 
 =over 4
 
 =item B<gc_read_config> (I<$file>)
 
 Reads the configuration from the file located at I<$file>. Returns B<true> when
-successfull and B<false> otherwise.
+successful and B<false> otherwise.
 
 =cut
 
 sub gc_read_config
 {
   my $file = shift;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection3/lib/Collectd/Graph/Config.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection3/lib/Collectd/Graph/Config.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection3/lib/Collectd/Graph/Config.pm	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection3/lib/Collectd/Graph/Config.pm	2015-03-10 22:14:45.813113801 +0800
@@ -40,13 +40,13 @@
 
 =over 4
 
 =item B<gc_read_config> (I<$file>)
 
 Reads the configuration from the file located at I<$file>. Returns B<true> when
-successfull and B<false> otherwise.
+successful and B<false> otherwise.
 
 =cut
 
 sub gc_read_config
 {
   my $file = shift;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection3/lib/Collectd/Graph/TypeLoader.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection3/lib/Collectd/Graph/TypeLoader.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection3/lib/Collectd/Graph/TypeLoader.pm	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection3/lib/Collectd/Graph/TypeLoader.pm	2015-03-10 22:14:45.813113801 +0800
@@ -56,13 +56,13 @@
 
 sub _create_object
 {
   my $module = shift;
   my $obj;
 
-  # Surpress warnings and error messages caused by the eval.
+  # Suppress warnings and error messages caused by the eval.
   local $SIG{__WARN__} = sub { return (1); print STDERR "WARNING: " . join (', ', @_) . "\n"; };
   local $SIG{__DIE__}  = sub { return (1); print STDERR "FATAL: "   . join (', ', @_) . "\n"; };
 
   eval <<PERL;
   require $module;
   \$obj = ${module}->new ();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/collection.cgi	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/collection.cgi	2015-03-10 22:14:45.813113801 +0800
@@ -1,7 +1,28 @@
 #!/usr/bin/perl
+# Copyright (c) 2006-2010 Florian Forster <octo at collectd.org>
+# Copyright (c) 2006-2008 Sebastian Harl <sh at tokkee.org>
+# Copyright (c) 2008      Mirko Buffoni <briareos at eswat.org>
+#
+# Permission is hereby granted, free of charge, to any person obtaining a copy
+# of this software and associated documentation files (the "Software"), to deal
+# in the Software without restriction, including without limitation the rights
+# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+# copies of the Software, and to permit persons to whom the Software is
+# furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included in
+# all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+# THE SOFTWARE.
 
 use strict;
 use warnings;
 
 use Carp (qw(cluck confess));
 use CGI (':cgi');
@@ -504,23 +525,29 @@
 } # _get_faded_color
 
 sub _custom_sort_arrayref
 {
   my $array_ref = shift;
   my $array_sort = shift;
+  my $unknown_first = shift || 0;
 
   my %elements = map { $_ => 1 } (@$array_ref);
   splice (@$array_ref, 0);
 
   for (@$array_sort)
   {
     next if (!exists ($elements{$_}));
     push (@$array_ref, $_);
     delete ($elements{$_});
   }
-  push (@$array_ref, sort (keys %elements));
+  if ($unknown_first) {
+    unshift (@$array_ref, sort (keys %elements));
+  }
+  else {
+    push (@$array_ref, sort (keys %elements));
+  }
 } # _custom_sort_arrayref
 
 sub action_show_host
 {
   my @hosts = _get_param_host ();
   @hosts = sort (@hosts);
@@ -954,15 +981,15 @@
   my $HalfMagenta= 'DFB7F7';
 
   my $HalfBlueGreen = '89B3C9';
 
   $GraphDefs =
   {
-    apache_bytes => ['DEF:min_raw={file}:count:MIN',
-    'DEF:avg_raw={file}:count:AVERAGE',
-    'DEF:max_raw={file}:count:MAX',
+    apache_bytes => ['DEF:min_raw={file}:value:MIN',
+    'DEF:avg_raw={file}:value:AVERAGE',
+    'DEF:max_raw={file}:value:MAX',
     'CDEF:min=min_raw,8,*',
     'CDEF:avg=avg_raw,8,*',
     'CDEF:max=max_raw,8,*',
     'CDEF:mytime=avg_raw,TIME,TIME,IF',
     'CDEF:sample_len_raw=mytime,PREV(mytime),-',
     'CDEF:sample_len=sample_len_raw,UN,0,sample_len_raw,IF',
@@ -973,48 +1000,48 @@
     'GPRINT:min:MIN:%5.1lf%s Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%s Avg,',
     'GPRINT:max:MAX:%5.1lf%s Max,',
     'GPRINT:avg:LAST:%5.1lf%s Last',
     'GPRINT:avg_sum:LAST:(ca. %5.1lf%sB Total)\l'
     ],
-   apache_connections => ['DEF:min={file}:count:MIN',
-    'DEF:avg={file}:count:AVERAGE',
-    'DEF:max={file}:count:MAX',
+   apache_connections => ['DEF:min={file}:value:MIN',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Connections",
     'GPRINT:min:MIN:%6.2lf Min,',
     'GPRINT:avg:AVERAGE:%6.2lf Avg,',
     'GPRINT:max:MAX:%6.2lf Max,',
     'GPRINT:avg:LAST:%6.2lf Last'
     ],
-    apache_idle_workers => ['DEF:min={file}:count:MIN',
-    'DEF:avg={file}:count:AVERAGE',
-    'DEF:max={file}:count:MAX',
+    apache_idle_workers => ['DEF:min={file}:value:MIN',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Idle Workers",
     'GPRINT:min:MIN:%6.2lf Min,',
     'GPRINT:avg:AVERAGE:%6.2lf Avg,',
     'GPRINT:max:MAX:%6.2lf Max,',
     'GPRINT:avg:LAST:%6.2lf Last'
     ],
-    apache_requests => ['DEF:min={file}:count:MIN',
-    'DEF:avg={file}:count:AVERAGE',
-    'DEF:max={file}:count:MAX',
+    apache_requests => ['DEF:min={file}:value:MIN',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Requests/s",
     'GPRINT:min:MIN:%6.2lf Min,',
     'GPRINT:avg:AVERAGE:%6.2lf Avg,',
     'GPRINT:max:MAX:%6.2lf Max,',
     'GPRINT:avg:LAST:%6.2lf Last'
     ],
-    apache_scoreboard => ['DEF:min={file}:count:MIN',
-    'DEF:avg={file}:count:AVERAGE',
-    'DEF:max={file}:count:MAX',
+    apache_scoreboard => ['DEF:min={file}:value:MIN',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Processes",
     'GPRINT:min:MIN:%6.2lf Min,',
     'GPRINT:avg:AVERAGE:%6.2lf Avg,',
     'GPRINT:max:MAX:%6.2lf Max,',
@@ -2673,12 +2700,13 @@
   $GraphDefs->{'dns_rcode'} = $GraphDefs->{'dns_opcode'};
   $GraphDefs->{'vmpage_io-memory'} = $GraphDefs->{'vmpage_io'};
   $GraphDefs->{'vmpage_io-swap'} = $GraphDefs->{'vmpage_io'};
   $GraphDefs->{'virt_cpu_total'} = $GraphDefs->{'virt_cpu_total'};
 
   $MetaGraphDefs->{'cpu'} = \&meta_graph_cpu;
+  $MetaGraphDefs->{'df_complex'} = \&meta_graph_df;
   $MetaGraphDefs->{'dns_qtype'} = \&meta_graph_dns;
   $MetaGraphDefs->{'dns_rcode'} = \&meta_graph_dns;
   $MetaGraphDefs->{'if_rx_errors'} = \&meta_graph_if_rx_errors;
   $MetaGraphDefs->{'if_tx_errors'} = \&meta_graph_if_rx_errors;
   $MetaGraphDefs->{'memory'} = \&meta_graph_memory;
   $MetaGraphDefs->{'nfs_procedure'} = \&meta_graph_nfs_procedure;
@@ -2855,12 +2883,79 @@
     );
   } # for (@$type_instances)
 
   return (meta_graph_generic_stack ($opts, $sources));
 } # meta_graph_cpu
 
+sub meta_graph_df
+{
+  confess ("Wrong number of arguments") if (@_ != 5);
+
+  my $host = shift;
+  my $plugin = shift;
+  my $plugin_instance = shift;
+  my $type = shift;
+  my $type_instances = shift;
+
+  my $opts = {};
+  my $sources = [];
+
+  my $prefix = "$host/$plugin"
+  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
+
+  $opts->{'title'} = "Disk usage $prefix";
+
+  $opts->{'number_format'} = '%5.1lf%s';
+  $opts->{'rrd_opts'} = ['-l', 0, '-b', '1024', '-v', 'Bytes'];
+
+  my @files = ();
+
+  $opts->{'colors'} =
+  {
+    'used'              => 'ff0000',
+    'snap_normal_used'  => 'c10640',
+    'snap_reserve_used' => '820c81',
+    'snap_reserved'     => 'f15aef',
+    'reserved'          => 'ffb000',
+    'free'              => '00ff00',
+    'sis_saved'         => '00e0e0',
+    'dedup_saved'       => '00c1c1',
+    'compression_saved' => '00a2a2'
+  };
+
+  # LVM uses LV names as type-instance; they should sort first
+  _custom_sort_arrayref ($type_instances,
+    [qw(compression_saved dedup_saved sis_saved free reserved snap_reserved
+      snap_reserve_used snap_normal_used used)], 1);
+
+  for (@$type_instances)
+  {
+    my $inst = $_;
+    my $file = '';
+
+    for (@DataDirs)
+    {
+      if (-e "$_/$prefix-$inst.rrd")
+      {
+	$file = "$_/$prefix-$inst.rrd";
+	last;
+      }
+    }
+    confess ("No file found for $prefix") if ($file eq '');
+
+    push (@$sources,
+      {
+	name => $inst,
+	file => $file
+      }
+    );
+  } # for (@$type_instances)
+
+  return (meta_graph_generic_stack ($opts, $sources));
+} # meta_graph_df
+
 sub meta_graph_dns
 {
   confess ("Wrong number of arguments") if (@_ != 5);
 
   my $host = shift;
   my $plugin = shift;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/examples/myplugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/examples/myplugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/examples/myplugin.c	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/examples/myplugin.c	2015-03-10 22:14:45.813113801 +0800
@@ -97,30 +97,33 @@
 
 	vl.values     = values;
 	vl.values_len = 1;
 	vl.time       = time (NULL);
 	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
 	sstrncpy (vl.plugin, "myplugin", sizeof (vl.plugin));
+
+	/* it is strongly recommended to use a type defined in the types.db file
+	 * instead of a custom type */
+	sstrncpy (vl.type, "myplugin", sizeof (vl.plugin));
 	/* optionally set vl.plugin_instance and vl.type_instance to reasonable
 	 * values (default: "") */
 
 	/* dispatch the values to collectd which passes them on to all registered
-	 * write functions - the first argument is used to lookup the data set
-	 * definition (it is strongly recommended to use a type defined in the
-	 * types.db file) */
-	plugin_dispatch_values ("myplugin", &vl);
+	 * write functions */
+	plugin_dispatch_values (&vl);
 
 	/* A return value != 0 indicates an error and the plugin will be skipped
 	 * for an increasing amount of time. */
     return 0;
 } /* static int my_read (void) */
 
 /*
  * This function is called after values have been dispatched to collectd.
  */
-static int my_write (const data_set_t *ds, const value_list_t *vl)
+static int my_write (const data_set_t *ds, const value_list_t *vl,
+		user_data_t *ud)
 {
 	char name[1024] = "";
 	int i = 0;
 
 	if (ds->ds_num != vl->values_len) {
 		plugin_log (LOG_WARNING, "DS number does not match values length");
@@ -148,22 +151,22 @@
 	return 0;
 } /* static int my_write (data_set_t *, value_list_t *) */
 
 /*
  * This function is called when plugin_log () has been used.
  */
-static void my_log (int severity, const char *msg)
+static void my_log (int severity, const char *msg, user_data_t *ud)
 {
 	printf ("LOG: %i - %s\n", severity, msg);
 	return;
 } /* static void my_log (int, const char *) */
 
 /*
  * This function is called when plugin_dispatch_notification () has been used.
  */
-static int my_notify (const notification_t *notif)
+static int my_notify (const notification_t *notif, user_data_t *ud)
 {
 	char time_str[32] = "";
 	struct tm *tm = NULL;
 
 	int n = 0;
 
@@ -207,16 +210,17 @@
 /*
  * This function is called after loading the plugin to register it with
  * collectd.
  */
 void module_register (void)
 {
-	plugin_register_log ("myplugin", my_log);
-	plugin_register_notification ("myplugin", my_notify);
+	plugin_register_log ("myplugin", my_log, /* user data */ NULL);
+	plugin_register_notification ("myplugin", my_notify,
+			/* user data */ NULL);
 	plugin_register_data_set (&ds);
 	plugin_register_read ("myplugin", my_read);
 	plugin_register_init ("myplugin", my_init);
-	plugin_register_write ("myplugin", my_write);
+	plugin_register_write ("myplugin", my_write, /* user data */ NULL);
 	plugin_register_shutdown ("myplugin", my_shutdown);
     return;
 } /* void module_register (void) */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/php-collection/graph.php /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/php-collection/graph.php
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/php-collection/graph.php	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/php-collection/graph.php	2015-03-10 22:14:45.813113801 +0800
@@ -83,13 +83,13 @@
 	imageline($png,    1, $h-2,   $w, $h-2, $c_brb);
 	imageline($png,    0, $h-1,   $w, $h-1, $c_brb);
 
 	imagestring($png, 4, ceil(($w-strlen($title)*imagefontwidth(4)) / 2), 10, $title, $c_txt);
 	imagestring($png, 5, 60, 35, sprintf('%s [%d]', $code_msg, $code), $c_etxt);
 	if (function_exists('imagettfbbox') && is_file($config['error_font'])) {
-		// Detailled error message
+		// Detailed error message
 		$fmt_msg = makeTextBlock($msg, $errorfont, 10, $w-86);
 		$fmtbox  = imagettfbbox(12, 0, $errorfont, $fmt_msg);
 		imagettftext($png, 10, 0, 55, 35+3+imagefontwidth(5)-$fmtbox[7]+$fmtbox[1], $c_txt, $errorfont, $fmt_msg);
 	} else {
 		imagestring($png, 4, 53, 35+6+imagefontwidth(5), $msg, $c_txt);
 	}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/postgresql/collectd_insert.sql /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/postgresql/collectd_insert.sql
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/postgresql/collectd_insert.sql	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/postgresql/collectd_insert.sql	2015-03-10 22:14:45.813113801 +0800
@@ -30,14 +30,14 @@
 --
 -- This is a sample database setup that may be used to write data collected by
 -- collectd to a PostgreSQL database. We're using two tables, 'identifiers'
 -- and 'values' to store the value-list identifier and the actual values
 -- respectively.
 --
--- The 'values' table is partitioned to improve performance and maintainance.
--- Please note that additional maintainance scripts are required in order to
+-- The 'values' table is partitioned to improve performance and maintenance.
+-- Please note that additional maintenance scripts are required in order to
 -- keep the setup running -- see the comments below for details.
 --
 -- The function 'collectd_insert' may be used to actually insert values
 -- submitted by collectd into those tables.
 --
 -- Sample configuration:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/redhat/collectd.spec /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/redhat/collectd.spec
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/redhat/collectd.spec	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/redhat/collectd.spec	2015-05-27 15:48:54.627095679 +0800
@@ -45,34 +45,42 @@
 %{?el6:%global _has_recent_sockios_h 1}
 %{?el6:%global _has_recent_libganglia 1}
 %{?el6:%global _has_working_libiptc 1}
 %{?el6:%global _has_ip_vs_h 1}
 %{?el6:%global _has_lvm2app_h 1}
 %{?el6:%global _has_libmodbus 1}
+%{?el6:%global _has_libudev 1}
 %{?el6:%global _has_iproute 1}
+%{?el6:%global _has_atasmart 1}
+%{?el6:%global _has_hiredis 1}
+%{?el6:%global _has_asm_msr_index 1}
 
 %{?el7:%global _has_libyajl 1}
 %{?el7:%global _has_recent_libpcap 1}
 %{?el7:%global _has_recent_sockios_h 1}
 %{?el7:%global _has_working_libiptc 1}
 %{?el7:%global _has_ip_vs_h 1}
 %{?el7:%global _has_lvm2app_h 1}
+%{?el7:%global _has_libudev 1}
 %{?el7:%global _has_recent_librrd 1}
 %{?el7:%global _has_varnish4 1}
+%{?el7:%global _has_broken_libmemcached 1}
 %{?el7:%global _has_iproute 1}
-%{?el7:%global _has_libmodbus 1}
-%{?el7:%global _has_xmms 1}
+%{?el7:%global _has_atasmart 1}
+%{?el7:%global _has_hiredis 1}
+%{?el7:%global _has_asm_msr_index 1}
 
 # plugins enabled by default
 %define with_aggregation 0%{!?_without_aggregation:1}
 %define with_amqp 0%{!?_without_amqp:1}
 %define with_apache 0%{!?_without_apache:1}
 %define with_apcups 0%{!?_without_apcups:1}
 %define with_ascent 0%{!?_without_ascent:1}
 %define with_battery 0%{!?_without_battery:1}
 %define with_bind 0%{!?_without_bind:1}
+%define with_ceph 0%{!?_without_ceph:0%{?_has_libyajl}}
 %define with_cgroups 0%{!?_without_cgroups:1}
 %define with_conntrack 0%{!?_without_conntrack:1}
 %define with_contextswitch 0%{!?_without_contextswitch:1}
 %define with_cpu 0%{!?_without_cpu:1}
 %define with_cpufreq 0%{!?_without_cpufreq:1}
 %define with_csv 0%{!?_without_csv:1}
@@ -80,34 +88,38 @@
 %define with_curl_json 0%{!?_without_curl_json:0%{?_has_libyajl}}
 %define with_curl_xml 0%{!?_without_curl_xml:1}
 %define with_dbi 0%{!?_without_dbi:1}
 %define with_df 0%{!?_without_df:1}
 %define with_disk 0%{!?_without_disk:1}
 %define with_dns 0%{!?_without_dns:0%{?_has_recent_libpcap}}
+%define with_drbd 0%{!?_without_drbd:1}
 %define with_email 0%{!?_without_email:1}
 %define with_entropy 0%{!?_without_entropy:1}
 %define with_ethstat 0%{!?_without_ethstat:0%{?_has_recent_sockios_h}}
 %define with_exec 0%{!?_without_exec:1}
+%define with_fhcount 0%{!?_without_fhcount:1}
 %define with_filecount 0%{!?_without_filecount:1}
 %define with_fscache 0%{!?_without_fscache:1}
 %define with_gmond 0%{!?_without_gmond:0%{?_has_recent_libganglia}}
 %define with_hddtemp 0%{!?_without_hddtemp:1}
 %define with_interface 0%{!?_without_interface:1}
+%define with_ipc 0%{!?_without_ipc:1}
 %define with_ipmi 0%{!?_without_ipmi:1}
 %define with_iptables 0%{!?_without_iptables:0%{?_has_working_libiptc}}
 %define with_ipvs 0%{!?_without_ipvs:0%{?_has_ip_vs_h}}
 %define with_irq 0%{!?_without_irq:1}
 %define with_java 0%{!?_without_java:1}
-%define with_libvirt 0%{!?_without_libvirt:1}
+%define with_virt 0%{!?_without_virt:1}
 %define with_load 0%{!?_without_load:1}
 %define with_logfile 0%{!?_without_logfile:1}
+%define with_log_logstash 0%{!?_without_log_logstash:0%{?_has_libyajl}}
 %define with_lvm 0%{!?_without_lvm:0%{?_has_lvm2app_h}}
 %define with_madwifi 0%{!?_without_madwifi:1}
 %define with_mbmon 0%{!?_without_mbmon:1}
 %define with_md 0%{!?_without_md:1}
-%define with_memcachec 0%{!?_without_memcachec:1}
+%define with_memcachec 0%{!?_without_memcachec:0%{!?_has_broken_libmemcached:1}}
 %define with_memcached 0%{!?_without_memcached:1}
 %define with_memory 0%{!?_without_memory:1}
 %define with_multimeter 0%{!?_without_multimeter:1}
 %define with_modbus 0%{!?_without_modbus:0%{?_has_libmodbus}}
 %define with_mysql 0%{!?_without_mysql:1}
 %define with_netlink 0%{!?_without_netlink:0%{?_has_iproute}}
@@ -117,101 +129,117 @@
 %define with_notify_desktop 0%{!?_without_notify_desktop:1}
 %define with_notify_email 0%{!?_without_notify_email:1}
 %define with_ntpd 0%{!?_without_ntpd:1}
 %define with_numa 0%{!?_without_numa:1}
 %define with_nut 0%{!?_without_nut:1}
 %define with_olsrd 0%{!?_without_olsrd:1}
+%define with_openldap 0%{!?_without_openldap:1}
 %define with_openvpn 0%{!?_without_openvpn:1}
 %define with_perl 0%{!?_without_perl:1}
 %define with_pinba 0%{!?_without_pinba:1}
 %define with_ping 0%{!?_without_ping:1}
 %define with_postgresql 0%{!?_without_postgresql:1}
 %define with_powerdns 0%{!?_without_powerdns:1}
 %define with_processes 0%{!?_without_processes:1}
 %define with_protocols 0%{!?_without_protocols:1}
 %define with_python 0%{!?_without_python:1}
+%define with_redis 0%{!?_without_redis:0%{?_has_hiredis}}
 %define with_rrdcached 0%{!?_without_rrdcached:0%{?_has_recent_librrd}}
 %define with_rrdtool 0%{!?_without_rrdtool:1}
 %define with_sensors 0%{!?_without_sensors:1}
 %define with_serial 0%{!?_without_serial:1}
+%define with_smart 0%{!?_without_smart:0%{?_has_atasmart}}
 %define with_snmp 0%{!?_without_snmp:1}
 %define with_statsd 0%{!?_without_statsd:1}
 %define with_swap 0%{!?_without_swap:1}
 %define with_syslog 0%{!?_without_syslog:1}
 %define with_table 0%{!?_without_table:1}
 %define with_tail 0%{!?_without_tail:1}
 %define with_tail_csv 0%{!?_without_tail_csv:1}
 %define with_tcpconns 0%{!?_without_tcpconns:1}
 %define with_teamspeak2 0%{!?_without_teamspeak2:1}
 %define with_ted 0%{!?_without_ted:1}
 %define with_thermal 0%{!?_without_thermal:1}
 %define with_threshold 0%{!?_without_threshold:1}
+%define with_turbostat 0%{!?_without_turbostat:0%{?_has_asm_msr_index}}
 %define with_unixsock 0%{!?_without_unixsock:1}
 %define with_uptime 0%{!?_without_uptime:1}
 %define with_users 0%{!?_without_users:1}
 %define with_uuid 0%{!?_without_uuid:1}
 %define with_varnish 0%{!?_without_varnish:0%{!?_has_varnish4:1}}
 %define with_vmem 0%{!?_without_vmem:1}
 %define with_vserver 0%{!?_without_vserver:1}
 %define with_wireless 0%{!?_without_wireless:1}
 %define with_write_graphite 0%{!?_without_write_graphite:1}
 %define with_write_http 0%{!?_without_write_http:1}
+%define with_write_log 0%{!?_without_write_log:1}
+%define with_write_redis 0%{!?_without_write_redis:0%{?_has_hiredis}}
 %define with_write_riemann 0%{!?_without_write_riemann:1}
-%define with_xmms 0%{!?_without_xmms:0%{?_has_xmms}}
+%define with_write_sensu 0%{!?_without_write_sensu:1}
+%define with_write_tsdb 0%{!?_without_write_tsdb:1}
+%define with_zfs_arc 0%{!?_without_zfs_arc:1}
+%define with_zookeeper 0%{!?_without_zookeeper:1}
 
 # Plugins not built by default because of dependencies on libraries not
 # available in RHEL or EPEL:
 
 # plugin apple_sensors disabled, requires a Mac
 %define with_apple_sensors 0%{!?_without_apple_sensors:0}
 # plugin aquaero disabled, requires a libaquaero5
 %define with_aquaero 0%{!?_without_aquaero:0}
+# plugin barometer disabled, requires a libi2c
+%define with_barometer 0%{!?_without_barometer:0}
 # plugin lpar disabled, requires AIX
 %define with_lpar 0%{!?_without_lpar:0}
 # plugin mic disabled, requires Mic
 %define with_mic 0%{!?_without_mic:0}
 # plugin netapp disabled, requires libnetapp
 %define with_netapp 0%{!?_without_netapp:0}
 # plugin onewire disabled, requires libowfs
 %define with_onewire 0%{!?_without_onewire:0}
 # plugin oracle disabled, requires Oracle
 %define with_oracle 0%{!?_without_oracle:0}
 # plugin oracle disabled, requires BSD
 %define with_pf 0%{!?_without_pf:0}
-# plugin redis disabled, requires credis
-%define with_redis 0%{!?_without_redis:0}
 # plugin routeros disabled, requires librouteros
 %define with_routeros 0%{!?_without_routeros:0}
 # plugin sigrok disabled, requires libsigrok
 %define with_sigrok 0%{!?_without_sigrok:0}
 # plugin tape disabled, requires libkstat
 %define with_tape 0%{!?_without_tape:0}
 # plugin tokyotyrant disabled, requires tcrdb.h
 %define with_tokyotyrant 0%{!?_without_tokyotyrant:0}
+# plugin write_kafka disabled, requires librdkafka
+%define with_write_kafka 0%{!?_without_write_kafka:0}
 # plugin write_mongodb disabled, requires libmongoc
 %define with_write_mongodb 0%{!?_without_write_mongodb:0}
-# plugin write_redis disabled, requires credis
-%define with_write_redis 0%{!?_without_write_redis:0}
-# plugin zfs_arc disabled, requires FreeBSD/Solaris
-%define with_zfs_arc 0%{!?_without_zfs_arc:0}
+# plugin xmms disabled, requires xmms
+%define with_xmms 0%{!?_without_xmms:0}
 
 Summary:	statistics collection and monitoring daemon
 Name:		collectd
-Version:	5.4.2
+Version:	5.5.0
 Release:	1%{?dist}
 URL:		http://collectd.org
 Source:		http://collectd.org/files/%{name}-%{version}.tar.bz2
 License:	GPLv2
 Group:		System Environment/Daemons
 BuildRoot:	%{_tmppath}/%{name}-%{version}-root
-BuildRequires:	libgcrypt-devel, kernel-headers, libtool-ltdl-devel
+BuildRequires:	libgcrypt-devel, kernel-headers, libtool-ltdl-devel, libcap-devel
 Vendor:		collectd development team <collectd@verplant.org>
 
+%if 0%{?el7:1}
+Requires(pre):		initscripts
+Requires(post):		systemd
+Requires(preun):	systemd
+Requires(postun):	systemd
+%else
 Requires(post):		chkconfig
 Requires(preun):	chkconfig, initscripts
 Requires(postun):	initscripts
+%endif
 
 %description
 collectd is a small daemon which collects system information periodically and
 provides mechanisms to monitor and store the values in a variety of ways. It
 is written in C for performance. Since the daemon doesn't need to start up
 every time it wants to update the values it's very fast and easy on the
@@ -257,23 +285,42 @@
 %description ascent
 The Ascent plugin reads and parses the statistics page of Ascent, a free and
 open-source server software for the game World of Warcraft by Blizzard
 Entertainment.
 %endif
 
+%if %{with_barometer}
+%package barometer
+Summary:       barometer plugin for collectd
+Group:         System Environment/Daemons
+Requires:      %{name}%{?_isa} = %{version}-%{release}
+%description barometer
+Collects pressure and temperature from digital barometers.
+%endif
+
 %if %{with_bind}
 %package bind
 Summary:	Bind plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	libxml2-devel, curl-devel
 %description bind
 The BIND plugin retrieves this information that's encoded in XML and provided
 via HTTP and submits the values to collectd.
 %endif
 
+%if %{with_ceph}
+%package ceph
+Summary:       Ceph plugin for collectd
+Group:         System Environment/Daemons
+Requires:      %{name}%{?_isa} = %{version}-%{release}
+BuildRequires: yajl-devel
+%description ceph
+Ceph plugin for collectd
+%endif
+
 %if %{with_curl}
 %package curl
 Summary:	Curl plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	curl-devel
@@ -312,12 +359,23 @@
 BuildRequires:	libdbi-devel
 %description dbi
 The DBI plugin uses libdbi, a database abstraction library, to execute SQL
 statements on a database and read back the result.
 %endif
 
+%if %{with_disk}
+%package disk
+Summary:	disk plugin for collectd
+Group:		System Environment/Daemons
+Requires:	%{name}%{?_isa} = %{version}-%{release}
+%{?_has_libudev:BuildRequires:  libudev-devel}
+%description disk
+The "disk" plugin collects information about the usage of physical disks and
+logical disks (partitions).
+%endif
+
 %if %{with_dns}
 %package dns
 Summary:	DNS plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}, libpcap >= 1.0
 BuildRequires:	libpcap-devel >= 1.0
@@ -389,20 +447,20 @@
 Requires:	java, jpackage-utils
 %description java
 This plugin for collectd allows plugins to be written in Java and executed
 in an embedded JVM.
 %endif
 
-%if %{with_libvirt}
-%package libvirt
-Summary:	Libvirt plugin for collectd
-Group:		System Environment/Daemons
-Requires:	%{name}%{?_isa} = %{version}-%{release}
-BuildRequires:	libvirt-devel
-%description libvirt
-This plugin collects information from virtualized guests.
+%if %{with_log_logstash}
+%package log_logstash
+Summary:       log_logstash plugin for collectd
+Group:         System Environment/Daemons
+Requires:      %{name}%{?_isa} = %{version}-%{release}
+BuildRequires: yajl-devel
+%description log_logstash
+This plugin logs in logstash JSON format
 %endif
 
 %if %{with_lvm}
 %package lvm
 Summary:	LVM plugin for collectd
 Group:		System Environment/Daemons
@@ -505,23 +563,33 @@
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	nut-devel
 %description nut
 This plugin for collectd provides Network UPS Tools support.
 %endif
 
+%if %{with_openldap}
+%package openldap
+Summary:       Openldap plugin for collectd
+Group:         System Environment/Daemons
+Requires:      %{name}%{?_isa} = %{version}-%{release}
+BuildRequires: openldap-devel
+%description openldap
+This plugin reads monitoring information from OpenLDAP's cn=Monitor subtree.
+%endif
+
 %if %{with_perl}
 %package perl
 Summary:	Perl plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 Requires:	perl(:MODULE_COMPAT_%(eval "`%{__perl} -V:version`"; echo $version))
-%if 0%{?rhel} >= 6
+	%if 0%{?rhel} >= 6
 BuildRequires:	perl-ExtUtils-Embed
-%else
+	%else
 BuildRequires:	perl
-%endif
+	%endif
 %description perl
 The Perl plugin embeds a Perl interpreter into collectd and exposes the
 application programming interface (API) to Perl-scripts.
 %endif
 
 %if %{with_pinba}
@@ -559,31 +627,31 @@
 
 %if %{with_python}
 %package python
 Summary:	Python plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
-%if 0%{?rhel} >= 6
+	%if 0%{?rhel} >= 6
 BuildRequires: python-devel
-%else
+	%else
 BuildRequires: python26-devel
-%endif
+	%endif
 %description python
 The Python plugin embeds a Python interpreter into collectd and exposes the
 application programming interface (API) to Python-scripts.
 %endif
 
 %if %{with_redis}
 %package redis
 Summary:	Redis plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
-BuildRequires:	credis-devel
+BuildRequires:	hiredis-devel
 %description redis
 The Redis plugin connects to one or more instances of Redis, a key-value store,
-and collects usage information using the credis library.
+and collects usage information using the hiredis library.
 %endif
 
 %if %{with_rrdcached}
 %package rrdcached
 Summary:        RRDCached plugin for collectd
 Group:          System Environment/Daemons
@@ -622,12 +690,23 @@
 %description sigrok
 Uses libsigrok as a backend, allowing any sigrok-supported device to have its
 measurements fed to collectd. This includes multimeters, sound level meters,
 thermometers, and much more.
 %endif
 
+%if %{with_smart}
+%package smart
+Summary:       SMART plugin for collectd
+Group:         System Environment/Daemons
+Requires:      %{name}%{?_isa} = %{version}-%{release}
+BuildRequires: libatasmart-devel
+%description smart
+Collect SMART statistics, notably load cycle count, temperature and bad
+sectors.
+%endif
+
 %if %{with_snmp}
 %package snmp
 Summary:	SNMP plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	net-snmp-devel
@@ -642,29 +721,49 @@
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	varnish-libs-devel
 %description varnish
 The Varnish plugin collects information about Varnish, an HTTP accelerator.
 %endif
 
+%if %{with_virt}
+%package virt
+Summary:	Virt plugin for collectd
+Group:		System Environment/Daemons
+Requires:	%{name}%{?_isa} = %{version}-%{release}
+BuildRequires:	libvirt-devel
+%description virt
+This plugin collects information from virtualized guests.
+%endif
+
 %if %{with_write_http}
 %package write_http
 Summary:	Write-HTTP plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	curl-devel
 %description write_http
 The Write-HTTP plugin sends the values collected by collectd to a web-server
 using HTTP POST requests.
 %endif
 
+%if %{with_write_kafka}
+%package write_kafka
+Summary:       Write-kafka plugin for collectd
+Group:         System Environment/Daemons
+Requires:      %{name}%{?_isa} = %{version}-%{release}
+BuildRequires: rdkafka-devel
+%description write_kafka
+The write_kafka plugin sends values to kafka, a distributed messaging system.
+%endif
+
 %if %{with_write_redis}
 %package write_redis
 Summary:	Write-Redis plugin for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
-BuildRequires:	credis-devel
+BuildRequires:	hiredis-devel
 %description write_redis
 The Write Redis plugin stores values in Redis, a “data structures server”.
 %endif
 
 %if %{with_write_riemann}
 %package write_riemann
@@ -673,22 +772,12 @@
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 BuildRequires:	protobuf-c-devel
 %description write_riemann
 The riemann plugin submits values to Riemann, an event stream processor.
 %endif
 
-%if %{with_xmms}
-%package xmms
-Summary:	XMMS plugin for collectd
-Group:		System Environment/Daemons
-Requires:	%{name}%{?_isa} = %{version}-%{release}
-BuildRequires:	xmms-devel
-%description xmms
-The xmms plugin collects information from the XMMS music player.
-%endif
-
 %package collection3
 Summary:	Web-based viewer for collectd
 Group:		System Environment/Daemons
 Requires:	%{name}%{?_isa} = %{version}-%{release}
 Requires: httpd
 %description collection3
@@ -725,12 +814,19 @@
 Group:		System Environment/Daemons
 Requires:	pkgconfig
 Requires:	libcollectdclient%{?_isa} = %{version}-%{release}
 %description -n libcollectdclient-devel
 Development files for libcollectdclient
 
+%package -n collectd-utils
+Summary:	Collectd utilities
+Group:		System Environment/Daemons
+Requires:	libcollectdclient%{?_isa} = %{version}-%{release}
+Requires:	collectd%{?_isa} = %{version}-%{release}
+%description -n collectd-utils
+Collectd utilities
 
 %prep
 %setup -q
 
 %build
 %if %{with_aggregation}
@@ -772,12 +868,18 @@
 %if %{with_ascent}
 %define _with_ascent --enable-ascent
 %else
 %define _with_ascent --disable-ascent
 %endif
 
+%if %{with_barometer}
+%define _with_barometer --enable-barometer
+%else
+%define _with_barometer --disable-barometer
+%endif
+
 %if %{with_battery}
 %define _with_battery --enable-battery
 %else
 %define _with_battery --disable-battery
 %endif
 
@@ -820,12 +922,18 @@
 %if %{with_csv}
 %define _with_csv --enable-csv
 %else
 %define _with_csv --disable-csv
 %endif
 
+%if %{with_ceph}
+%define _with_ceph --enable-ceph
+%else
+%define _with_ceph --disable-ceph
+%endif
+
 %if %{with_curl}
 %define _with_curl --enable-curl
 %else
 %define _with_curl --disable-curl
 %endif
 
@@ -862,12 +970,18 @@
 %if %{with_dns}
 %define _with_dns --enable-dns
 %else
 %define _with_dns --disable-dns
 %endif
 
+%if %{with_drbd}
+%define _with_drbd --enable-drbd
+%else
+%define _with_drbd --disable-drbd
+%endif
+
 %if %{with_email}
 %define _with_email --enable-email
 %else
 %define _with_email --disable-email
 %endif
 
@@ -886,12 +1000,18 @@
 %if %{with_exec}
 %define _with_exec --enable-exec
 %else
 %define _with_exec --disable-exec
 %endif
 
+%if %{with_fhcount}
+%define _with_fhcount --enable-fhcount
+%else
+%define _with_fhcount --disable-fhcount
+%endif
+
 %if %{with_filecount}
 %define _with_filecount --enable-filecount
 %else
 %define _with_filecount --disable-filecount
 %endif
 
@@ -916,12 +1036,18 @@
 %if %{with_interface}
 %define _with_interface --enable-interface
 %else
 %define _with_interface --disable-interface
 %endif
 
+%if %{with_ipc}
+%define _with_ipc --enable-ipc
+%else
+%define _with_ipc --disable-ipc
+%endif
+
 %if %{with_ipmi}
 %define _with_ipmi --enable-ipmi
 %else
 %define _with_ipmi --disable-ipmi
 %endif
 
@@ -946,16 +1072,16 @@
 %if %{with_java}
 %define _with_java --enable-java --with-java=%{java_home}/
 %else
 %define _with_java --disable-java
 %endif
 
-%if %{with_libvirt}
-%define _with_libvirt --enable-libvirt
+%if %{with_virt}
+%define _with_virt --enable-virt
 %else
-%define _with_libvirt --disable-libvirt
+%define _with_virt --disable-virt
 %endif
 
 %if %{with_load}
 %define _with_load --enable-load
 %else
 %define _with_load --disable-load
@@ -964,12 +1090,18 @@
 %if %{with_logfile}
 %define _with_logfile --enable-logfile
 %else
 %define _with_logfile --disable-logfile
 %endif
 
+%if %{with_log_logstash}
+%define _with_log_logstash --enable-log_logstash
+%else
+%define _with_log_logstash --disable-log_logstash
+%endif
+
 %if %{with_lpar}
 %define _with_lpar --enable-lpar
 %else
 %define _with_lpar --disable-lpar
 %endif
 
@@ -1108,12 +1240,18 @@
 %if %{with_onewire}
 %define _with_onewire --enable-onewire
 %else
 %define _with_onewire --disable-onewire
 %endif
 
+%if %{with_openldap}
+%define _with_openldap --enable-openldap
+%else
+%define _with_openldap --disable-openldap
+%endif
+
 %if %{with_openvpn}
 %define _with_openvpn --enable-openvpn
 %else
 %define _with_openvpn --disable-openvpn
 %endif
 
@@ -1169,17 +1307,17 @@
 %define _with_protocols --enable-protocols
 %else
 %define _with_protocols --disable-protocols
 %endif
 
 %if %{with_python}
-%if 0%{?rhel} >= 6
+	%if 0%{?rhel} >= 6
 %define _with_python --enable-python
-%else
+	%else
 %define _with_python --enable-python --with-python=%{_bindir}/python2.6
-%endif
+	%endif
 %else
 %define _with_python --disable-python
 %endif
 
 %if %{with_redis}
 %define _with_redis --enable-redis
@@ -1220,12 +1358,18 @@
 %if %{with_sigrok}
 %define _with_sigrok --enable-sigrok
 %else
 %define _with_sigrok --disable-sigrok
 %endif
 
+%if %{with_smart}
+%define _with_smart --enable-smart
+%else
+%define _with_smart --disable-smart
+%endif
+
 %if %{with_snmp}
 %define _with_snmp --enable-snmp
 %else
 %define _with_snmp --disable-snmp
 %endif
 
@@ -1304,12 +1448,18 @@
 %if %{with_tokyotyrant}
 %define _with_tokyotyrant --enable-tokyotyrant
 %else
 %define _with_tokyotyrant --disable-tokyotyrant
 %endif
 
+%if %{with_turbostat}
+%define _with_turbostat --enable-turbostat
+%else
+%define _with_turbostat --disable-turbostat
+%endif
+
 %if %{with_unixsock}
 %define _with_unixsock --enable-unixsock
 %else
 %define _with_unixsock --disable-unixsock
 %endif
 
@@ -1364,12 +1514,24 @@
 %if %{with_write_http}
 %define _with_write_http --enable-write_http
 %else
 %define _with_write_http --disable-write_http
 %endif
 
+%if %{with_write_kafka}
+%define _with_write_kafka --enable-write_kafka
+%else
+%define _with_write_kafka --disable-write_kafka
+%endif
+
+%if %{with_write_log}
+%define _with_write_log --enable-write_log
+%else
+%define _with_write_log --disable-write_log
+%endif
+
 %if %{with_write_mongodb}
 %define _with_write_mongodb --enable-write_mongodb
 %else
 %define _with_write_mongodb --disable-write_mongodb
 %endif
 
@@ -1382,24 +1544,42 @@
 %if %{with_write_riemann}
 %define _with_write_riemann --enable-write_riemann
 %else
 %define _with_write_riemann --disable-write_riemann
 %endif
 
+%if %{with_write_sensu}
+%define _with_write_sensu --enable-write_sensu
+%else
+%define _with_write_sensu --disable-write_sensu
+%endif
+
+%if %{with_write_tsdb}
+%define _with_write_tsdb --enable-write_tsdb
+%else
+%define _with_write_tsdb --disable-write_tsdb
+%endif
+
 %if %{with_xmms}
 %define _with_xmms --enable-xmms
 %else
 %define _with_xmms --disable-xmms
 %endif
 
 %if %{with_zfs_arc}
 %define _with_zfs_arc --enable-zfs_arc
 %else
 %define _with_zfs_arc --disable-zfs_arc
 %endif
 
+%if %{with_zookeeper}
+%define _with_zookeeper --enable-zookeeper
+%else
+%define _with_zookeeper --disable-zookeeper
+%endif
+
 %configure CFLAGS="%{optflags} -DLT_LAZY_OR_NOW=\"RTLD_LAZY|RTLD_GLOBAL\"" \
 	--disable-static \
 	--without-included-ltdl \
 	--enable-all-plugins=yes \
 	--enable-match_empty_counter \
 	--enable-match_hashed \
@@ -1415,14 +1595,16 @@
 	%{?_with_amqp} \
 	%{?_with_apache} \
 	%{?_with_apcups} \
 	%{?_with_apple_sensors} \
 	%{?_with_aquaero} \
 	%{?_with_ascent} \
+	%{?_with_barometer} \
 	%{?_with_battery} \
 	%{?_with_bind} \
+	%{?_with_ceph} \
 	%{?_with_cgroups} \
 	%{?_with_conntrack} \
 	%{?_with_contextswitch} \
 	%{?_with_cpu} \
 	%{?_with_cpufreq} \
 	%{?_with_csv} \
@@ -1430,26 +1612,30 @@
 	%{?_with_curl_json} \
 	%{?_with_curl_xml} \
 	%{?_with_dbi} \
 	%{?_with_df} \
 	%{?_with_disk} \
 	%{?_with_dns} \
+	%{?_with_drbd} \
 	%{?_with_email} \
 	%{?_with_entropy} \
 	%{?_with_ethstat} \
 	%{?_with_exec} \
+	%{?_with_fhcount} \
 	%{?_with_filecount} \
 	%{?_with_fscache} \
 	%{?_with_gmond} \
 	%{?_with_hddtemp} \
 	%{?_with_interface} \
+	%{?_with_ipc} \
 	%{?_with_ipmi} \
 	%{?_with_iptables} \
 	%{?_with_ipvs} \
 	%{?_with_java} \
-	%{?_with_libvirt} \
+	%{?_with_virt} \
+	%{?_with_log_logstash} \
 	%{?_with_lpar} \
 	%{?_with_lvm} \
 	%{?_with_memcachec} \
 	%{?_with_mic} \
 	%{?_with_modbus} \
 	%{?_with_multimeter} \
@@ -1458,12 +1644,13 @@
 	%{?_with_netlink} \
 	%{?_with_nginx} \
 	%{?_with_notify_desktop} \
 	%{?_with_notify_email} \
 	%{?_with_nut} \
 	%{?_with_onewire} \
+	%{?_with_openldap} \
 	%{?_with_oracle} \
 	%{?_with_perl} \
 	%{?_with_pf} \
 	%{?_with_pinba} \
 	%{?_with_ping} \
 	%{?_with_postgresql} \
@@ -1471,21 +1658,24 @@
 	%{?_with_redis} \
 	%{?_with_routeros} \
 	%{?_with_rrdcached} \
 	%{?_with_rrdtool} \
 	%{?_with_sensors} \
 	%{?_with_sigrok} \
+	%{?_with_smart} \
 	%{?_with_snmp} \
 	%{?_with_tape} \
 	%{?_with_tokyotyrant} \
 	%{?_with_varnish} \
 	%{?_with_write_http} \
+	%{?_with_write_kafka} \
 	%{?_with_write_mongodb} \
 	%{?_with_write_redis} \
 	%{?_with_xmms} \
 	%{?_with_zfs_arc} \
+	%{?_with_zookeeper} \
 	%{?_with_irq} \
 	%{?_with_load} \
 	%{?_with_logfile} \
 	%{?_with_madwifi} \
 	%{?_with_mbmon} \
 	%{?_with_md} \
@@ -1509,31 +1699,39 @@
 	%{?_with_tail_csv} \
 	%{?_with_tcpconns} \
 	%{?_with_teamspeak2} \
 	%{?_with_ted} \
 	%{?_with_thermal} \
 	%{?_with_threshold} \
+	%{?_with_turbostat} \
 	%{?_with_unixsock} \
 	%{?_with_uptime} \
 	%{?_with_users} \
 	%{?_with_uuid} \
 	%{?_with_vmem} \
 	%{?_with_vserver} \
 	%{?_with_wireless}\
 	%{?_with_write_graphite} \
 	%{?_with_write_http} \
-	%{?_with_write_riemann}
+	%{?_with_write_log} \
+	%{?_with_write_riemann} \
+	%{?_with_write_sensu} \
+	%{?_with_write_tsdb}
 
 
 %{__make} %{?_smp_mflags}
 
 
 %install
 rm -rf %{buildroot}
 %{__make} install DESTDIR=%{buildroot}
-%{__install} -Dp -m 0755 contrib/redhat/init.d-collectd %{buildroot}%{_initrddir}/collectd
+%if 0%{?el7:1}
+%{__install} -Dp -m0644 contrib/systemd.collectd.service %{buildroot}%{_unitdir}/collectd.service
+%else
+%{__install} -Dp -m0755 contrib/redhat/init.d-collectd %{buildroot}%{_initrddir}/collectd
+%endif
 %{__install} -Dp -m0644 src/collectd.conf %{buildroot}%{_sysconfdir}/collectd.conf
 %{__install} -d %{buildroot}%{_sharedstatedir}/collectd/
 %{__install} -d %{buildroot}%{_sysconfdir}/collectd.d/
 
 %{__mkdir} -p %{buildroot}%{_localstatedir}/www
 %{__mkdir} -p %{buildroot}/%{_sysconfdir}/httpd/conf.d
@@ -1579,46 +1777,69 @@
 %endif
 
 
 %clean
 rm -rf %{buildroot}
 
+%pre
+%if 0%{?el7:1}
+# stop sysv-based instance before upgrading to systemd
+if [ $1 -eq 2 ] && [ -f /var/lock/subsys/collectd ]; then
+	SYSTEMCTL_SKIP_REDIRECT=1 %{_initddir}/collectd stop >/dev/null 2>&1 || :
+fi
+%endif
+
 %post
-/sbin/chkconfig --add collectd
+%if 0%{?el7:1}
+if [ $1 -eq 2 ]; then
+	/usr/bin/systemctl daemon-reload >/dev/null 2>&1 || :
+fi
+%systemd_post collectd.service
+%else
+/sbin/chkconfig --add collectd || :
+%endif
 
 %preun
+%if 0%{?el7:1}
+%systemd_preun collectd.service
+%else
+# stop collectd only when uninstalling
 if [ $1 -eq 0 ]; then
-	/sbin/service collectd stop &>/dev/null
-	/sbin/chkconfig --del collectd
+	/sbin/service collectd stop >/dev/null 2>&1 || :
+	/sbin/chkconfig --del collectd || :
 fi
+%endif
 
 %postun
-if [ $1 -ge 1 ]; then
-	/sbin/service collectd condrestart &>/dev/null || :
+%if 0%{?el7:1}
+%systemd_postun_with_restart collectd.service
+%else
+# restart collectd only when upgrading
+if [ $1 -eq 1 ]; then
+	/sbin/service collectd condrestart >/dev/null 2>&1 || :
 fi
+%endif
 
 %post -n libcollectdclient -p /sbin/ldconfig
 %postun -n libcollectdclient -p /sbin/ldconfig
 
 
 %files
 %doc AUTHORS COPYING ChangeLog README
 %config(noreplace) %{_sysconfdir}/collectd.conf
+%if 0%{?el7:1}
+%{_unitdir}/collectd.service
+%else
 %{_initrddir}/collectd
+%endif
 %{_sbindir}/collectd
-%{_bindir}/collectd-nagios
-%{_bindir}/collectd-tg
-%{_bindir}/collectdctl
 %{_sbindir}/collectdmon
 %{_datadir}/collectd/types.db
 %{_sharedstatedir}/collectd
-%{_mandir}/man1/collectd-nagios.1*
 %{_mandir}/man1/collectd.1*
-%{_mandir}/man1/collectdctl.1*
 %{_mandir}/man1/collectdmon.1*
-%{_mandir}/man1/collectd-tg.1*
 %{_mandir}/man5/collectd-email.5*
 %{_mandir}/man5/collectd-exec.5*
 %{_mandir}/man5/collectd-threshold.5*
 %{_mandir}/man5/collectd-unixsock.5*
 %{_mandir}/man5/collectd.conf.5*
 %{_mandir}/man5/types.db.5*
@@ -1662,33 +1883,39 @@
 %if %{with_csv}
 %{_libdir}/%{name}/csv.so
 %endif
 %if %{with_df}
 %{_libdir}/%{name}/df.so
 %endif
-%if %{with_disk}
-%{_libdir}/%{name}/disk.so
+%if %{with_drbd}
+%{_libdir}/%{name}/drbd.so
 %endif
 %if %{with_ethstat}
 %{_libdir}/%{name}/ethstat.so
 %endif
 %if %{with_entropy}
 %{_libdir}/%{name}/entropy.so
 %endif
 %if %{with_exec}
 %{_libdir}/%{name}/exec.so
 %endif
+%if %{with_fhcount}
+%{_libdir}/%{name}/fhcount.so
+%endif
 %if %{with_filecount}
 %{_libdir}/%{name}/filecount.so
 %endif
 %if %{with_fscache}
 %{_libdir}/%{name}/fscache.so
 %endif
 %if %{with_interface}
 %{_libdir}/%{name}/interface.so
 %endif
+%if %{with_ipc}
+%{_libdir}/%{name}/ipc.so
+%endif
 %if %{with_ipvs}
 %{_libdir}/%{name}/ipvs.so
 %endif
 %if %{with_irq}
 %{_libdir}/%{name}/irq.so
 %endif
@@ -1776,12 +2003,15 @@
 %if %{with_thermal}
 %{_libdir}/%{name}/thermal.so
 %endif
 %if %{with_threshold}
 %{_libdir}/%{name}/threshold.so
 %endif
+%if %{with_turbostat}
+%{_libdir}/%{name}/turbostat.so
+%endif
 %if %{with_unixsock}
 %{_libdir}/%{name}/unixsock.so
 %endif
 %if %{with_uptime}
 %{_libdir}/%{name}/uptime.so
 %endif
@@ -1800,25 +2030,47 @@
 %if %{with_wireless}
 %{_libdir}/%{name}/wireless.so
 %endif
 %if %{with_write_graphite}
 %{_libdir}/%{name}/write_graphite.so
 %endif
-
+%if %{with_write_log}
+%{_libdir}/%{name}/write_log.so
+%endif
+%if %{with_write_sensu}
+%{_libdir}/%{name}/write_sensu.so
+%endif
+%if %{with_write_tsdb}
+%{_libdir}/%{name}/write_tsdb.so
+%endif
+%if %{with_zfs_arc}
+%{_libdir}/%{name}/zfs_arc.so
+%endif
+%if %{with_zookeeper}
+%{_libdir}/%{name}/zookeeper.so
+%endif
 
 %files -n libcollectdclient-devel
 %{_includedir}/collectd/client.h
 %{_includedir}/collectd/network.h
 %{_includedir}/collectd/network_buffer.h
 %{_includedir}/collectd/lcc_features.h
 %{_libdir}/pkgconfig/libcollectdclient.pc
-%{_libdir}/libcollectdclient.so
 
 %files -n libcollectdclient
+%{_libdir}/libcollectdclient.so
 %{_libdir}/libcollectdclient.so.*
 
+%files -n collectd-utils
+%{_bindir}/collectd-nagios
+%{_bindir}/collectd-tg
+%{_bindir}/collectdctl
+%{_mandir}/man1/collectdctl.1*
+%{_mandir}/man1/collectd-nagios.1*
+%{_mandir}/man1/collectd-tg.1*
+
 %if %{with_amqp}
 %files amqp
 %{_libdir}/%{name}/amqp.so
 %endif
 
 %if %{with_apache}
@@ -1833,17 +2085,27 @@
 
 %if %{with_ascent}
 %files ascent
 %{_libdir}/%{name}/ascent.so
 %endif
 
+%if %{with_barometer}
+%files barometer
+%{_libdir}/%{name}/barometer.so
+%endif
+
 %if %{with_bind}
 %files bind
 %{_libdir}/%{name}/bind.so
 %endif
 
+%if %{with_ceph}
+%files ceph
+%{_libdir}/%{name}/ceph.so
+%endif
+
 %if %{with_curl}
 %files curl
 %{_libdir}/%{name}/curl.so
 %endif
 
 %if %{with_curl_json}
@@ -1853,12 +2115,17 @@
 
 %if %{with_curl_xml}
 %files curl_xml
 %{_libdir}/%{name}/curl_xml.so
 %endif
 
+%if %{with_disk}
+%files disk
+%{_libdir}/%{name}/disk.so
+%endif
+
 %if %{with_dns}
 %files dns
 %{_libdir}/%{name}/dns.so
 %endif
 
 %if %{with_dbi}
@@ -1896,15 +2163,20 @@
 %{_datadir}/collectd/java/collectd-api.jar
 %{_datadir}/collectd/java/generic-jmx.jar
 %{_libdir}/%{name}/java.so
 %{_mandir}/man5/collectd-java.5*
 %endif
 
-%if %{with_libvirt}
-%files libvirt
-%{_libdir}/%{name}/libvirt.so
+%if %{with_virt}
+%files virt
+%{_libdir}/%{name}/virt.so
+%endif
+
+%if %{with_log_logstash}
+%files log_logstash
+%{_libdir}/%{name}/log_logstash.so
 %endif
 
 %if %{with_lvm}
 %files lvm
 %{_libdir}/%{name}/lvm.so
 %endif
@@ -1951,12 +2223,17 @@
 
 %if %{with_nut}
 %files nut
 %{_libdir}/%{name}/nut.so
 %endif
 
+%if %{with_openldap}
+%files openldap
+%{_libdir}/%{name}/openldap.so
+%endif
+
 %if %{with_perl}
 %files perl
 %{perl_vendorlib}/Collectd.pm
 %{perl_vendorlib}/Collectd/
 %{_mandir}/man3/Collectd::Unixsock.3pm*
 %{_mandir}/man5/collectd-perl.5*
@@ -2007,12 +2284,17 @@
 
 %if %{with_sigrok}
 %files sigrok
 %{_libdir}/%{name}/sigrok.so
 %endif
 
+%if %{with_smart}
+%files smart
+%{_libdir}/%{name}/smart.so
+%endif
+
 %if %{with_snmp}
 %files snmp
 %{_mandir}/man5/collectd-snmp.5*
 %{_libdir}/%{name}/snmp.so
 %endif
 
@@ -2023,45 +2305,56 @@
 
 %if %{with_write_http}
 %files write_http
 %{_libdir}/%{name}/write_http.so
 %endif
 
+%if %{with_write_kafka}
+%files write_kafka
+%{_libdir}/%{name}/write_kafka.so
+%endif
+
 %if %{with_write_redis}
 %files write_redis
 %{_libdir}/%{name}/write_redis.so
 %endif
 
 %if %{with_write_riemann}
 %files write_riemann
 %{_libdir}/%{name}/write_riemann.so
 %endif
 
-%if %{with_xmms}
-%files xmms
-%{_libdir}/%{name}/xmms.so
-%endif
-
 %files collection3
 %{_localstatedir}/www/collection3
 %{_sysconfdir}/httpd/conf.d/collection3.conf
 
 %files php-collection
 %{_localstatedir}/www/php-collection
 %{_sysconfdir}/httpd/conf.d/php-collection.conf
 
 %files contrib
 %doc contrib/
 
 %changelog
-* Mon Aug 19 2013 Marc Fournier <marc.fournier@camptocamp.com> 5.4.2-1
+* Wed May 27 2015 Marc Fournier <marc.fournier@camptocamp.com> 5.5.0-1
+- New upstream version
+- New plugins enabled by default: ceph, drbd, log_logstash, write_tsdb, smart,
+  openldap, redis, write_redis, zookeeper, write_log, write_sensu, ipc,
+  turbostat, fhcount
+- New plugins disabled by default: barometer, write_kafka
+- Enable zfs_arc, now supported on Linux
+- Install disk plugin in a dedicated package, as it depends on libudev
+- use systemd on EL7, sysvinit on EL6 & EL5
+- Install collectdctl, collectd-tg and collectd-nagios in collectd-utils.rpm
+- Add build-dependency on libcap-devel
+
+* Mon Aug 19 2013 Marc Fournier <marc.fournier@camptocamp.com> 5.4.0-1
 - New upstream version
 - Build netlink plugin by default
 - Enable cgroups, lvm and statsd plugins
 - Enable (but don't build by default) mic, aquaero and sigrok plugins
-- Enable modbus, memcachec and xmms plugins on RHEL7
 
 * Tue Aug 06 2013 Marc Fournier <marc.fournier@camptocamp.com> 5.3.1-1
 - New upstream version
 - Added RHEL5 support:
   * conditionally disable plugins not building on this platform
   * add/specify some build dependencies and options
@@ -2103,21 +2396,21 @@
 * Sun Nov 18 2012 Ruben Kerkhof <ruben@tilaa.nl> 5.1.0-3
 - Follow Fedora Packaging Guidelines in java subpackage
 
 * Sat Nov 17 2012 Ruben Kerkhof <ruben@tilaa.nl> 5.1.0-2
 - Move perl stuff to perl_vendorlib
 - Replace hardcoded paths with macros
-- Remove unneccesary Requires
+- Remove unnecessary Requires
 - Removed .a and .la files
 - Some other small cleanups
 
 * Fri Nov 16 2012 Marc Fournier <marc.fournier@camptocamp.com> 5.1.0-1
 - New upstream version
 - Changes to support 5.1.0
 - Enabled all buildable plugins based on libraries available on EL6 + EPEL
-- All plugins requiring external libraries are now shipped in seperate
+- All plugins requiring external libraries are now shipped in separate
   packages.
 - No longer treat Java plugin as an exception, correctly set $JAVA_HOME during
   the build process + ensure build deps are installed.
 - Dropped per-plugin configuration files, as they tend to diverge from upstream
   defaults.
 - Moved perl stuff to /usr/share/perl5/
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib: systemd.collectd.service
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/upstart.collectd.conf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/upstart.collectd.conf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib/upstart.collectd.conf	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib/upstart.collectd.conf	2015-03-10 22:14:45.813113801 +0800
@@ -17,31 +17,35 @@
 # collectd itself will run with reduced privileges, but not
 # all plugins will. Test and edit as required.
 # An alternative configuration is as a user script in ~/.init/ however
 # these cannot be started at boot time by the system without
 # arcane trickery. Also a root user will not see these tasks/jobs
 # by default. set*id is a reasonable and secure compromise.
+# These options are not supported on early upstart versions.
 #setuid nobody
 #setgid nobody
 
 # Other parameters such as the path to the configuration file
 # will have been compiled into the binary. These are trivially
 # added as environment variables below, and then into both
 # `pre-start` command check before collectd runs, and subsequent
 # `exec` command parameters below. Remember that upstart runs all
 # shell commands via `sh -e`.
 env DAEMON=/usr/sbin/collectd
 
-# Tell upstart to watch for forking when tracking the pid for us.
-expect fork
+# Tell upstart to wait for collectd to SIGSTOP itself, signaling it is ready
+# to run. Warning: this only works with collectd 5.5 and newer. You'll have to
+# use "expect fork" instead, if using collectd 5.4 and older.
+expect stop
 
 # prevent thrashing - 10 restarts in 5 seconds
 respawn
 respawn limit 10 5
 
-# Make a log available in /var/log/upstart/collectd.log
-console log
+# Uncomment to make a log available in /var/log/upstart/collectd.log
+# (not supported on early upstart versions).
+#console log
 
 # The daemon will not start if the configuration is invalid.
 pre-start exec $DAEMON -t
-# Let's Fork!
+# Let's start!
 exec $DAEMON
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/contrib: wiki2changelog.pl
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/contrib: wiki2commonmark.pl
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/COPYING /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/COPYING
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/COPYING	2016-07-26 15:47:12.941713753 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/COPYING	2015-03-10 22:14:45.805113626 +0800
@@ -1,6 +1,38 @@
+collectd consists of a daemon and numerous plugins. The daemon is licensed
+under the "MIT License"; its source files are located at src/daemon/. The
+plugins are licenses individually, please check the top of the plugin's source
+file(s) to see which license applies. The majority of plugins is licensed
+either under the "MIT License" or the "GNU General Public License".
+
+The "MIT License" and "GNU General Public License" follow. Other licenses, not
+included in this file, should be considered "as published by the Open Source
+Initiative (OSI)".
+
+MIT License
+===========
+Permission is hereby granted, free of charge, to any person obtaining a copy of
+this software and associated documentation files (the "Software"), to deal in
+the Software without restriction, including without limitation the rights to
+use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
+of the Software, and to permit persons to whom the Software is furnished to do
+so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in all
+copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
+SOFTWARE.
+
+GNU General Public License (GPL)
+================================
 		    GNU GENERAL PUBLIC LICENSE
 		       Version 2, June 1991
 
  Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  Everyone is permitted to copy and distribute verbatim copies
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/libltdl/config: test-driver
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/Makefile.am	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/Makefile.am	2015-03-09 17:38:22.004220280 +0800
@@ -1,15 +1,9 @@
 ACLOCAL_AMFLAGS = -I libltdl/m4
 
-SUBDIRS =
-
-if BUILD_INCLUDED_LTDL
-SUBDIRS += libltdl
-endif
-
-SUBDIRS += src bindings .
+SUBDIRS = libltdl src bindings .
 
 AM_CPPFLAGS = $(LTDLINCL)
 
 EXTRA_DIST = contrib version-gen.sh
 
 install-exec-hook:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/Makefile.in	2016-07-26 15:47:21.085733684 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/Makefile.in	2015-05-27 15:51:48.181909664 +0800
@@ -74,13 +74,12 @@
 POST_INSTALL = :
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
-@BUILD_INCLUDED_LTDL_TRUE@am__append_1 = libltdl
 subdir = .
 DIST_COMMON = $(srcdir)/Makefile.in $(srcdir)/Makefile.am \
 	$(top_srcdir)/configure $(am__configure_deps) \
 	$(top_srcdir)/src/libcollectdclient/collectd/lcc_features.h.in \
 	AUTHORS COPYING ChangeLog INSTALL NEWS README TODO compile \
 	libltdl/config/compile config.guess \
@@ -156,13 +155,13 @@
   unique=`for i in $$list; do \
     if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
   done | $(am__uniquify_input)`
 ETAGS = etags
 CTAGS = ctags
 CSCOPE = cscope
-DIST_SUBDIRS = libltdl src bindings .
+DIST_SUBDIRS = $(SUBDIRS)
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 distdir = $(PACKAGE)-$(VERSION)
 top_distdir = $(distdir)
 am__remove_distdir = \
   if test -d "$(distdir)"; then \
     find "$(distdir)" -type d ! -perm -200 -exec chmod u+w {} ';' \
@@ -210,23 +209,28 @@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 BUILD_WITH_LIBAQUAERO5_CFLAGS = @BUILD_WITH_LIBAQUAERO5_CFLAGS@
 BUILD_WITH_LIBAQUAERO5_LDFLAGS = @BUILD_WITH_LIBAQUAERO5_LDFLAGS@
-BUILD_WITH_LIBCREDIS_CPPFLAGS = @BUILD_WITH_LIBCREDIS_CPPFLAGS@
-BUILD_WITH_LIBCREDIS_LDFLAGS = @BUILD_WITH_LIBCREDIS_LDFLAGS@
+BUILD_WITH_LIBATASMART_CPPFLAGS = @BUILD_WITH_LIBATASMART_CPPFLAGS@
+BUILD_WITH_LIBATASMART_LDFLAGS = @BUILD_WITH_LIBATASMART_LDFLAGS@
+BUILD_WITH_LIBATASMART_LIBS = @BUILD_WITH_LIBATASMART_LIBS@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBDBI_CPPFLAGS = @BUILD_WITH_LIBDBI_CPPFLAGS@
 BUILD_WITH_LIBDBI_LDFLAGS = @BUILD_WITH_LIBDBI_LDFLAGS@
 BUILD_WITH_LIBDBI_LIBS = @BUILD_WITH_LIBDBI_LIBS@
 BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
 BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBHIREDIS_CPPFLAGS = @BUILD_WITH_LIBHIREDIS_CPPFLAGS@
+BUILD_WITH_LIBHIREDIS_LDFLAGS = @BUILD_WITH_LIBHIREDIS_LDFLAGS@
 BUILD_WITH_LIBIPTC_CPPFLAGS = @BUILD_WITH_LIBIPTC_CPPFLAGS@
 BUILD_WITH_LIBIPTC_LDFLAGS = @BUILD_WITH_LIBIPTC_LDFLAGS@
+BUILD_WITH_LIBLDAP_CPPFLAGS = @BUILD_WITH_LIBLDAP_CPPFLAGS@
+BUILD_WITH_LIBLDAP_LDFLAGS = @BUILD_WITH_LIBLDAP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_CPPFLAGS = @BUILD_WITH_LIBLVM2APP_CPPFLAGS@
 BUILD_WITH_LIBLVM2APP_LDFLAGS = @BUILD_WITH_LIBLVM2APP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_LIBS = @BUILD_WITH_LIBLVM2APP_LIBS@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS = @BUILD_WITH_LIBMEMCACHED_CPPFLAGS@
 BUILD_WITH_LIBMEMCACHED_LDFLAGS = @BUILD_WITH_LIBMEMCACHED_LDFLAGS@
 BUILD_WITH_LIBMEMCACHED_LIBS = @BUILD_WITH_LIBMEMCACHED_LIBS@
@@ -244,28 +248,32 @@
 BUILD_WITH_LIBOWCAPI_LIBS = @BUILD_WITH_LIBOWCAPI_LIBS@
 BUILD_WITH_LIBPQ_CPPFLAGS = @BUILD_WITH_LIBPQ_CPPFLAGS@
 BUILD_WITH_LIBPQ_LDFLAGS = @BUILD_WITH_LIBPQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS = @BUILD_WITH_LIBRABBITMQ_CPPFLAGS@
 BUILD_WITH_LIBRABBITMQ_LDFLAGS = @BUILD_WITH_LIBRABBITMQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_LIBS = @BUILD_WITH_LIBRABBITMQ_LIBS@
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS = @BUILD_WITH_LIBRDKAFKA_CPPFLAGS@
+BUILD_WITH_LIBRDKAFKA_LDFLAGS = @BUILD_WITH_LIBRDKAFKA_LDFLAGS@
+BUILD_WITH_LIBRDKAFKA_LIBS = @BUILD_WITH_LIBRDKAFKA_LIBS@
 BUILD_WITH_LIBROUTEROS_CPPFLAGS = @BUILD_WITH_LIBROUTEROS_CPPFLAGS@
 BUILD_WITH_LIBROUTEROS_LDFLAGS = @BUILD_WITH_LIBROUTEROS_LDFLAGS@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
-BUILD_WITH_LIBRRD_LIBS = @BUILD_WITH_LIBRRD_LIBS@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSIGROK_CFLAGS = @BUILD_WITH_LIBSIGROK_CFLAGS@
 BUILD_WITH_LIBSIGROK_LDFLAGS = @BUILD_WITH_LIBSIGROK_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSTATGRAB_CFLAGS = @BUILD_WITH_LIBSTATGRAB_CFLAGS@
 BUILD_WITH_LIBSTATGRAB_LDFLAGS = @BUILD_WITH_LIBSTATGRAB_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LIBS = @BUILD_WITH_LIBTOKYOTYRANT_LIBS@
+BUILD_WITH_LIBUDEV_CFLAGS = @BUILD_WITH_LIBUDEV_CFLAGS@
+BUILD_WITH_LIBUDEV_LDFLAGS = @BUILD_WITH_LIBUDEV_LDFLAGS@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBVARNISH_CFLAGS = @BUILD_WITH_LIBVARNISH_CFLAGS@
 BUILD_WITH_LIBVARNISH_LIBS = @BUILD_WITH_LIBVARNISH_LIBS@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
@@ -358,12 +366,13 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIPO = @LIPO@
 LN_S = @LN_S@
 LOAD_PLUGIN_CSV = @LOAD_PLUGIN_CSV@
 LOAD_PLUGIN_LOGFILE = @LOAD_PLUGIN_LOGFILE@
+LOAD_PLUGIN_LOG_LOGSTASH = @LOAD_PLUGIN_LOG_LOGSTASH@
 LOAD_PLUGIN_NETWORK = @LOAD_PLUGIN_NETWORK@
 LOAD_PLUGIN_RRDTOOL = @LOAD_PLUGIN_RRDTOOL@
 LOAD_PLUGIN_SYSLOG = @LOAD_PLUGIN_SYSLOG@
 LTDLDEPS = @LTDLDEPS@
 LTDLINCL = @LTDLINCL@
 LTDLOPEN = @LTDLOPEN@
@@ -394,14 +403,12 @@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LIBS = @PERL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
 PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
 PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 RANLIB = @RANLIB@
-RRD_CFLAGS = @RRD_CFLAGS@
-RRD_LIBS = @RRD_LIBS@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
@@ -462,13 +469,13 @@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
 top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 ACLOCAL_AMFLAGS = -I libltdl/m4
-SUBDIRS = $(am__append_1) src bindings .
+SUBDIRS = libltdl src bindings .
 AM_CPPFLAGS = $(LTDLINCL)
 EXTRA_DIST = contrib version-gen.sh
 all: all-recursive
 
 .SUFFIXES:
 am--refresh: Makefile
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/README	2016-07-26 15:47:12.945713764 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/README	2015-05-20 20:05:42.668059928 +0800
@@ -13,36 +13,44 @@
 Features
 --------
 
   * collectd is able to collect the following data:
 
     - apache
-      Apache server utilization: Number of bytes transfered, number of
+      Apache server utilization: Number of bytes transferred, number of
       requests handled and detailed scoreboard statistics
 
     - apcups
       APC UPS Daemon: UPS charge, load, input/output/battery voltage, etc.
 
     - apple_sensors
-      Sensors in Macs running Mac OS X / Darwin: Temperature, fanspeed and
+      Sensors in Macs running Mac OS X / Darwin: Temperature, fan speed and
       voltage sensors.
 
     - aquaero
-      Various sensors in the Aquaero 5 watercooling board made by Aquacomputer.
+      Various sensors in the Aquaero 5 water cooling board made by Aquacomputer.
 
     - ascent
       Statistics about Ascent, a free server for the game `World of Warcraft'.
 
+    - barometer
+      Reads absolute barometric pressure, air pressure reduced to sea level and
+      temperature.  Supported sensors are MPL115A2 and MPL3115 from Freescale
+      and BMP085 from Bosch.
+
     - battery
       Batterycharge, -current and voltage of ACPI and PMU based laptop
       batteries.
 
     - bind
       Name server and resolver statistics from the `statistics-channel'
       interface of BIND 9.5, 9,6 and later.
 
+    - ceph
+      Statistics from the Ceph distributed storage system.
+
     - cgroups
       CPU accounting information for process groups under Linux.
 
     - conntrack
       Number of nf_conntrack entries.
 
@@ -77,13 +85,16 @@
     - disk
       Disk utilization: Sectors read/written, number of read/write actions,
       average time an IO-operation took to complete.
 
     - dns
       DNS traffic: Query types, response codes, opcodes and traffic/octets
-      transfered.
+      transferred.
+
+    - drbd
+      Collect individual drbd resource statistics.
 
     - email
       Email statistics: Count, traffic, spam scores and checks.
       See collectd-email(5).
 
     - entropy
@@ -93,35 +104,42 @@
       Network interface card statistics.
 
     - exec
       Values gathered by a custom program or script.
       See collectd-exec(5).
 
+    - fhcount
+      File handles statistics.
+
     - filecount
       Count the number of files in directories.
 
     - fscache
       Linux file-system based caching framework statistics.
 
     - gmond
       Receive multicast traffic from Ganglia instances.
 
     - hddtemp
-      Harddisk temperatures using hddtempd.
+      Hard disk temperatures using hddtempd.
 
     - interface
       Interface traffic: Number of octets, packets and errors for each
       interface.
 
-    - iptables
-      Iptables' counters: Number of bytes that were matched by a certain
-      iptables rule.
+    - ipc
+      IPC counters: semaphores used, number of allocated segments in shared
+      memory and more.
 
     - ipmi
       IPMI (Intelligent Platform Management Interface) sensors information.
 
+    - iptables
+      Iptables' counters: Number of bytes that were matched by a certain
+      iptables rule.
+
     - ipvs
       IPVS connection statistics (number of connections, octets and packets
       for each service and destination).
       See http://www.linuxvirtualserver.org/software/index.html.
 
     - irq
@@ -135,25 +153,22 @@
       System load average over the last 1, 5 and 15 minutes.
 
     - lpar
       Detailed CPU statistics of the “Logical Partitions” virtualization
       technique built into IBM's POWER processors.
 
-    - libvirt
-      CPU, memory, disk and network I/O statistics from virtual machines.
-
     - lvm
       Size of “Logical Volumes” (LV) and “Volume Groups” (VG) of Linux'
       “Logical Volume Manager” (LVM).
 
     - madwifi
       Queries very detailed usage statistics from wireless LAN adapters and
       interfaces that use the Atheros chipset and the MadWifi driver.
 
     - mbmon
-      Motherboard sensors: temperature, fanspeed and voltage information,
+      Motherboard sensors: temperature, fan speed and voltage information,
       using mbmon(1).
 
     - md
       Linux software-RAID device information (number of active, failed, spare
       and missing disks).
 
@@ -206,27 +221,30 @@
       Collects statistics from `nginx' (speak: engine X), a HTTP and mail
       server/proxy.
 
     - ntpd
       NTP daemon statistics: Local clock drift, offset to peers, etc.
 
+    - numa
+      Information about Non-Uniform Memory Access (NUMA).
+
     - nut
       Network UPS tools: UPS current, voltage, power, charge, utilisation,
       temperature, etc. See upsd(8).
 
-    - numa
-      Information about Non-Uniform Memory Access (NUMA).
-
     - olsrd
       Queries routing information from the “Optimized Link State Routing”
       daemon.
 
     - onewire (EXPERIMENTAL!)
       Read onewire sensors using the owcapu library of the owfs project.
       Please read in collectd.conf(5) why this plugin is experimental.
 
+    - openldap
+      Read monitoring information from OpenLDAP's cn=Monitor subtree.
+
     - openvpn
       RX and TX of each client in openvpn-status.log (status-version 2).
       <http://openvpn.net/index.php/documentation/howto.html>
 
     - oracle
       Query data from an Oracle database.
@@ -264,13 +282,13 @@
       The python plugin implements a Python interpreter into collectd. This
       makes it possible to write plugins in Python which are executed by
       collectd without the need to start a heavy interpreter every interval.
       See collectd-python(5) for details.
 
     - redis
-      The redis plugin gathers information from a redis server, including:
+      The redis plugin gathers information from a Redis server, including:
       uptime, used memory, total connections etc.
 
     - routeros
       Query interface and wireless registration statistics from RouterOS.
 
     - rrdcached
@@ -285,25 +303,33 @@
 
     - sigrok
       Uses libsigrok as a backend, allowing any sigrok-supported device
       to have its measurements fed to collectd. This includes multimeters,
       sound level meters, thermometers, and much more.
 
+    - smart
+      Collect SMART statistics, notably load cycle count, temperature
+      and bad sectors.
+
     - snmp
       Read values from SNMP (Simple Network Management Protocol) enabled
       network devices such as switches, routers, thermometers, rack monitoring
       servers, etc. See collectd-snmp(5).
 
+    - statsd
+      Acts as a StatsD server, reading values sent over the network from StatsD
+      clients and calculating rates and other aggregates out of these values.
+
     - swap
-      Pages swapped out onto harddisk or whatever is called `swap' by the OS..
+      Pages swapped out onto hard disk or whatever is called `swap' by the OS..
 
     - table
       Parse table-like structured files.
 
     - tail
-      Follows (tails) logfiles, parses them by lines and submits matched
+      Follows (tails) log files, parses them by lines and submits matched
       values.
 
     - tail_csv
       Follows (tails) files in CSV format, parses each line and submits
       extracted values.
 
@@ -323,21 +349,28 @@
       Linux ACPI thermal zone information.
 
     - tokyotyrant
       Reads the number of records and file size from a running Tokyo Tyrant
       server.
 
+    - turbostat
+      Reads CPU frequency and C-state residency on modern Intel
+      turbo-capable processors.
+
     - uptime
       System uptime statistics.
 
     - users
       Users currently logged in.
 
     - varnish
       Various statistics from Varnish, an HTTP accelerator.
 
+    - virt
+      CPU, memory, disk and network I/O statistics from virtual machines.
+
     - vmem
       Virtual memory statistics, e. g. the number of page-ins/-outs or the
       number of pagefaults.
 
     - vserver
       System resources used by Linux VServers.
@@ -349,12 +382,15 @@
     - xmms
       Bitrate and frequency of music played with XMMS.
 
     - zfs_arc
       Statistics for ZFS' “Adaptive Replacement Cache” (ARC).
 
+    - zookeeper
+      Read data from Zookeeper's MNTR command.
+
   * Output can be written or sent to various destinations by the following
     plugins:
 
     - amqp
       Sends JSON-encoded data to an Advanced Message Queuing Protocol (AMQP)
       server, such as RabbitMQ.
@@ -401,38 +437,55 @@
 
     - write_http
       Sends the values collected by collectd to a web-server using HTTP POST
       requests. The transmitted data is either in a form understood by the
       Exec plugin or formatted in JSON.
 
+    - write_kafka
+      Sends data to Apache Kafka, a distributed queue.
+
+    - write_log
+      Writes data to the log
+
     - write_mongodb
       Sends data to MongoDB, a NoSQL database.
 
     - write_redis
       Sends the values to a Redis key-value database server.
 
     - write_riemann
       Sends data to Riemann, a stream processing and monitoring system.
 
+    - write_sensu
+      Sends data to Sensu, a stream processing and monitoring system, via the
+      Sensu client local TCP socket.
+
+    - write_tsdb
+      Sends data OpenTSDB, a scalable no master, no shared state time series
+      database.
+
   * Logging is, as everything in collectd, provided by plugins. The following
-    plugins keep us informed about what's going on:
+    plugins keep up informed about what's going on:
 
     - logfile
-      Writes logmessages to a file or STDOUT/STDERR.
+      Writes log messages to a file or STDOUT/STDERR.
 
     - perl
       Log messages are propagated to plugins written in Perl as well.
       See collectd-perl(5).
 
     - python
       It's possible to implement log plugins in Python using the python plugin.
       See collectd-python(5) for details.
 
     - syslog
       Logs to the standard UNIX logging mechanism, syslog.
 
+    - log_logstash
+      Writes log messages formatted as logstash JSON events.
+
   * Notifications can be handled by the following plugins:
 
     - notify_desktop
       Send a desktop notification to a notification daemon, as defined in
       the Desktop Notification Specification. To actually display the
       notifications, notification-daemon is required.
@@ -498,33 +551,33 @@
 
     - threshold
       Checks values against configured thresholds and creates notifications if
       values are out of bounds. See collectd-threshold(5) for details.
 
     - uuid
-      Sets the hostname to an unique identifier. This is meant for setups
+      Sets the hostname to a unique identifier. This is meant for setups
       where each client may migrate to another physical host, possibly going
       through one or more name changes in the process.
 
   * Performance: Since collectd is running as a daemon it doesn't spend much
     time starting up again and again. With the exception of the exec plugin no
     processes are forked. Caching in output plugins, such as the rrdtool and
     network plugins, makes sure your resources are used efficiently. Also,
-    since collectd is programmed multithreaded it benefits from hyperthreading
+    since collectd is programmed multithreaded it benefits from hyper-threading
     and multicore processors and makes sure that the daemon isn't idle if only
     one plugin waits for an IO-operation to complete.
 
   * Once set up, hardly any maintenance is necessary. Setup is kept as easy
     as possible and the default values should be okay for most users.
 
 
 Operation
 ---------
 
   * collectd's configuration file can be found at `sysconfdir'/collectd.conf.
-    Run `collectd -h' for a list of builtin defaults. See `collectd.conf(5)'
+    Run `collectd -h' for a list of built-in defaults. See `collectd.conf(5)'
     for a list of options and a syntax description.
 
   * When the `csv' or `rrdtool' plugins are loaded they'll write the values to
     files. The usual place for these files is beneath `/var/lib/collectd'.
 
   * When using some of the plugins, collectd needs to run as user root, since
@@ -562,13 +615,13 @@
   To compile collectd from source you will need:
 
   * Usual suspects: C compiler, linker, preprocessor, make, ...
 
   * A POSIX-threads (pthread) implementation.
     Since gathering some statistics is slow (network connections, slow devices,
-    etc) the collectd is parallelized. The POSIX threads interface is being
+    etc) collectd is parallelized. The POSIX threads interface is being
     used and should be found in various implementations for hopefully all
     platforms.
 
   * aerotools-ng (optional)
     Used by the `aquaero' plugin. Currently, the `libaquaero5' library, which
     is used by the `aerotools-ng' toolkit, is not compiled as a shared object
@@ -579,22 +632,32 @@
 
   * CoreFoundation.framework and IOKit.framework (optional)
     For compiling on Darwin in general and the `apple_sensors' plugin in
     particular.
     <http://developer.apple.com/corefoundation/>
 
+  * libatasmart (optional)
+    Used by the `smart' plugin.
+    <http://git.0pointer.de/?p=libatasmart.git>
+
+  * libcap (optional)
+    The `turbostat' plugin can optionally build Linux Capabilities support,
+    which avoids full privileges requirement (aka. running as root) to read
+    values.
+    <http://sites.google.com/site/fullycapable/>
+
   * libclntsh (optional)
     Used by the `oracle' plugin.
 
-  * libcredis (optional)
-    Used by the redis plugin. Please note that you require a 0.2.2 version
-    or higher. <http://code.google.com/p/credis/>
+  * libhiredis (optional)
+    Used by the redis plugin. Please note that you require a 0.10.0 version
+    or higher. <https://github.com/redis/hiredis>
 
   * libcurl (optional)
-    If you want to use the `apache', `ascent', `curl', `nginx', or `write_http'
-    plugin.
+    If you want to use the `apache', `ascent', `bind', `curl', `curl_json',
+    `curl_xml', `nginx', or `write_http' plugin.
     <http://curl.haxx.se/>
 
   * libdbi (optional)
     Used by the `dbi' plugin to connect to various databases.
     <http://libdbi.sourceforge.net/>
 
@@ -608,64 +671,74 @@
 
   * libgcrypt (optional)
     Used by the `network' plugin for encryption and authentication.
     <http://www.gnupg.org/>
 
   * libhal (optional)
-    If present, the uuid plugin will check for UUID from HAL.
+    If present, the `uuid' plugin will check for UUID from HAL.
     <http://hal.freedesktop.org/>
 
+  * libi2c-dev (optional)
+    Used for the plugin `barometer', provides just the i2c-dev.h header file
+    for user space i2c development.
+
   * libiptc (optional)
     For querying iptables counters.
     <http://netfilter.org/>
 
-    If not found on the system, a version shipped with this distribution can
-    be used. It requires some Linux headers in /usr/include/linux. You can
-    force the build system to use the shipped version by specifying
-      --with-libiptc=shipped
-    when running the configure script.
-
   * libjvm (optional)
     Library that encapsulates the `Java Virtual Machine' (JVM). This library is
-    used by the Java plugin to execute Java bytecode. See “Configuring with
+    used by the `java' plugin to execute Java bytecode. See “Configuring with
     libjvm” below.
     <http://openjdk.java.net/> (and others)
 
+  * libldap (optional)
+    Used by the `openldap' plugin.
+    <http://www.openldap.org/>
+
+  * liblvm2 (optional)
+    Used by the `lvm' plugin.
+    <ftp://sources.redhat.com/pub/lvm2/>
+
   * libmemcached (optional)
     Used by the `memcachec' plugin to connect to a memcache daemon.
     <http://tangent.org/552/libmemcached.html>
 
   * libmnl (optional)
     Used by the `netlink' plugin.
     <http://www.netfilter.org/projects/libmnl/>
 
   * libmodbus (optional)
-    Used by the “modbus” plugin to communicate with Modbus/TCP devices. The
-    “modbus” plugin works with version 2.0.3 of the library – due to frequent
+    Used by the `modbus' plugin to communicate with Modbus/TCP devices. The
+    `modbus' plugin works with version 2.0.3 of the library – due to frequent
     API changes other versions may or may not compile cleanly.
     <http://www.libmodbus.org/>
 
   * libmysqlclient (optional)
     Unsurprisingly used by the `mysql' plugin.
     <http://dev.mysql.com/>
 
   * libnetapp (optional)
-    Required for the “netapp” plugin.
+    Required for the `netapp' plugin.
     This library is part of the “Manage ONTAP SDK” published by NetApp.
 
   * libnetsnmp (optional)
     For the `snmp' plugin.
     <http://www.net-snmp.org/>
 
   * libnotify (optional)
     For the `notify_desktop' plugin.
     <http://www.galago-project.org/>
 
+  * libopenipmi (optional)
+    Used by the `ipmi' plugin to prove IPMI devices.
+    <http://openipmi.sourceforge.net/>
+
   * liboping (optional)
     Used by the `ping' plugin to send and receive ICMP packets.
-    <http://verplant.org/liboping/>
+    <http://octo.it/liboping/>
 
   * libowcapi (optional)
     Used by the `onewire' plugin to read values from onewire sensors (or the
     owserver(1) daemon).
     <http://www.owfs.org/>
 
@@ -684,27 +757,33 @@
   * libpq (optional)
     The PostgreSQL C client library used by the `postgresql' plugin.
     <http://www.postgresql.org/>
 
   * libprotobuf-c, protoc-c (optional)
     Used by the `pinba' plugin to generate a parser for the network packets
-    sent by the Pinba PHP extension.
+    sent by the Pinba PHP extension, and by the `write_riemann' plugin to
+    generate events to be sent to a Riemann server.
     <http://code.google.com/p/protobuf-c/>
 
   * libpython (optional)
     Used by the `python' plugin. Currently, Python 2.3 and later and Python 3
     are supported.
     <http://www.python.org/>
 
   * librabbitmq (optional; also called “rabbitmq-c”)
-    Used by the AMQP plugin for AMQP connections, for example to RabbitMQ.
+    Used by the `amqp' plugin for AMQP connections, for example to RabbitMQ.
     <http://hg.rabbitmq.com/rabbitmq-c/>
 
+  * librdkafka (optional; also called “rdkafka”)
+    Used by the `write_kafka' plugin for producing messages and sending them
+    to a Kafka broker.
+    <https://github.com/edenhill/librdkafka>
+
   * librouteros (optional)
     Used by the `routeros' plugin to connect to a device running `RouterOS'.
-    <http://verplant.org/librouteros/>
+    <http://octo.it/librouteros/>
 
   * librrd (optional)
     Used by the `rrdtool' and `rrdcached' plugins. The latter requires RRDtool
     client support which was added after version 1.3 of RRDtool. Versions 1.0,
     1.2 and 1.3 are known to work with the `rrdtool' plugin.
     <http://oss.oetiker.ch/rrdtool/>
@@ -715,46 +794,49 @@
 
   * libsensors (optional)
     To read from `lm_sensors', see the `sensors' plugin.
     <http://www.lm-sensors.org/>
 
   * libsigrok (optional)
-    Used by the sigrok plugin. In addition, libsigrok depends on glib,
+    Used by the `sigrok' plugin. In addition, libsigrok depends on glib,
     libzip, and optionally (depending on which drivers are enabled) on
     libusb, libftdi and libudev.
 
   * libstatgrab (optional)
     Used by various plugins to collect statistics on systems other than Linux
     and/or Solaris.
     <http://www.i-scream.org/libstatgrab/>
 
   * libtokyotyrant (optional)
-    Used by the tokyotyrant plugin.
+    Used by the `tokyotyrant' plugin.
     <http://1978th.net/tokyotyrant/>
 
   * libupsclient/nut (optional)
     For the `nut' plugin which queries nut's `upsd'.
     <http://networkupstools.org/>
 
   * libvirt (optional)
     Collect statistics from virtual machines.
     <http://libvirt.org/>
 
   * libxml2 (optional)
-    Parse XML data. This is needed for the `ascent' and `libvirt' plugins.
+    Parse XML data. This is needed for the `ascent', `bind', `curl_xml' and
+    `virt' plugins.
     <http://xmlsoft.org/>
 
   * libxmms (optional)
     <http://www.xmms.org/>
 
   * libyajl (optional)
-    Parse JSON data. This is needed for the `curl_json' plugin.
+    Parse JSON data. This is needed for the `ceph', `curl_json' and
+    `log_logstash' plugins.
     <http://github.com/lloyd/yajl>
 
   * libvarnish (optional)
-     Fetches statistics from a Varnish instance. This is needed for the Varnish plugin
+     Fetches statistics from a Varnish instance. This is needed for the
+     `varnish' plugin.
      <http://varnish-cache.org>
 
 Configuring / Compiling / Installing
 ------------------------------------
 
   To configure, build and install collectd with the default settings, run
@@ -818,12 +900,29 @@
 
     ./configure JAVA_CPPFLAGS="-I$JAVA_HOME/include -I$JAVA_HOME/include/linux"
 
   Adding "-ljvm" to the JAVA_LDFLAGS is done automatically, you don't have to
   do that.
 
+Generating the configure script
+-------------------------------
+
+Collectd ships with a `build.sh' script to generate the `configure'
+script shipped with releases.
+
+To generate the `configure` script, you'll need the following dependencies:
+
+- autoconf
+- automake
+- flex
+- bison
+- libtool
+- libtool-ltdl
+
+The `build.sh' script takes no arguments.
+
 Crosscompiling
 --------------
 
   To compile correctly collectd needs to be able to initialize static
   variables to NAN (Not A Number). Some C libraries, especially the GNU
   libc, have a problem with that.
@@ -854,22 +953,22 @@
 
 Contact
 -------
 
   For questions, bug reports, development information and basically all other
   concerns please send an email to collectd's mailing list at
-  <collectd at verplant.org>.
+  <list at collectd.org>.
 
   For live discussion and more personal contact visit us in IRC, we're in
   channel #collectd on freenode.
 
 
 Author
 ------
 
-  Florian octo Forster <octo at verplant.org>,
+  Florian octo Forster <octo at collectd.org>,
   Sebastian tokkee Harl <sh at tokkee.org>,
   and many contributors (see `AUTHORS').
 
   Please send bug reports and patches to the mailing list, see `Contact'
   above.
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/aggregation.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/aggregation.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/aggregation.c	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/aggregation.c	2014-08-18 15:36:18.632139234 +0800
@@ -259,13 +259,12 @@
 #define INIT_STATE(field) do { \
   inst->state_ ## field = NULL; \
   if (agg->calc_ ## field) { \
     inst->state_ ## field = malloc (sizeof (*inst->state_ ## field)); \
     if (inst->state_ ## field == NULL) { \
       agg_instance_destroy (inst); \
-      free (inst); \
       ERROR ("aggregation plugin: malloc() failed."); \
       return (NULL); \
     } \
     memset (inst->state_ ## field, 0, sizeof (*inst->state_ ## field)); \
   } \
 } while (0)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/amqp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/amqp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/amqp.c	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/amqp.c	2015-05-20 20:04:47.179035320 +0800
@@ -20,13 +20,13 @@
  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
  * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastien Pahl <sebastien.pahl at dotcloud.com>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_cmd_putval.h"
@@ -77,12 +77,15 @@
     char   *user;
     char   *password;
 
     char   *exchange;
     char   *routing_key;
 
+    /* Number of seconds to wait before connection is retried */
+    int     connection_retry_delay;
+
     /* publish only */
     uint8_t delivery_mode;
     _Bool   store_rates;
     int     format;
     /* publish & graphite format only */
     char    *prefix;
@@ -90,12 +93,14 @@
     char    escape_char;
     unsigned int graphite_flags;
 
     /* subscribe only */
     char   *exchange_type;
     char   *queue;
+    _Bool   queue_durable;
+    _Bool   queue_auto_delete;
 
     amqp_connection_state_t connection;
     pthread_mutex_t lock;
 };
 typedef struct camqp_config_s camqp_config_t;
 
@@ -191,29 +196,29 @@
     amqp_rpc_reply_t r;
 
     r = amqp_get_rpc_reply (conf->connection);
     switch (r.reply_type)
     {
         case AMQP_RESPONSE_NORMAL:
-            sstrncpy (buffer, "Success", buffer_size);
+            sstrncpy (buffer, "Success", sizeof (buffer));
             break;
 
         case AMQP_RESPONSE_NONE:
-            sstrncpy (buffer, "Missing RPC reply type", buffer_size);
+            sstrncpy (buffer, "Missing RPC reply type", sizeof (buffer));
             break;
 
         case AMQP_RESPONSE_LIBRARY_EXCEPTION:
 #if HAVE_AMQP_RPC_REPLY_T_LIBRARY_ERRNO
             if (r.library_errno)
                 return (sstrerror (r.library_errno, buffer, buffer_size));
 #else
             if (r.library_error)
                 return (sstrerror (r.library_error, buffer, buffer_size));
 #endif
             else
-                sstrncpy (buffer, "End of stream", buffer_size);
+                sstrncpy (buffer, "End of stream", sizeof (buffer));
             break;
 
         case AMQP_RESPONSE_SERVER_EXCEPTION:
             if (r.reply.id == AMQP_CONNECTION_CLOSE_METHOD)
             {
                 amqp_connection_close_t *m = r.reply.decoded;
@@ -329,15 +334,15 @@
     qd_ret = amqp_queue_declare (conf->connection,
             /* channel     = */ CAMQP_CHANNEL,
             /* queue       = */ (conf->queue != NULL)
             ? amqp_cstring_bytes (conf->queue)
             : AMQP_EMPTY_BYTES,
             /* passive     = */ 0,
-            /* durable     = */ 0,
+            /* durable     = */ conf->queue_durable,
             /* exclusive   = */ 0,
-            /* auto_delete = */ 1,
+            /* auto_delete = */ conf->queue_auto_delete,
             /* arguments   = */ AMQP_EMPTY_TABLE);
     if (qd_ret == NULL)
     {
         ERROR ("amqp plugin: amqp_queue_declare failed.");
         camqp_close_connection (conf);
         return (-1);
@@ -404,23 +409,38 @@
 
     return (0);
 } /* }}} int camqp_setup_queue */
 
 static int camqp_connect (camqp_config_t *conf) /* {{{ */
 {
+    static time_t last_connect_time = 0;
+
     amqp_rpc_reply_t reply;
     int status;
 #ifdef HAVE_AMQP_TCP_SOCKET
     amqp_socket_t *socket;
 #else
     int sockfd;
 #endif
 
     if (conf->connection != NULL)
         return (0);
 
+    time_t now = time(NULL);
+    if (now < (last_connect_time + conf->connection_retry_delay))
+    {
+        DEBUG("amqp plugin: skipping connection retry, "
+            "ConnectionRetryDelay: %d", conf->connection_retry_delay);
+        return(1);
+    }
+    else
+    {
+        DEBUG ("amqp plugin: retrying connection");
+        last_connect_time = now;
+    }
+
     conf->connection = amqp_new_connection ();
     if (conf->connection == NULL)
     {
         ERROR ("amqp plugin: amqp_new_connection failed.");
         return (ENOMEM);
     }
@@ -693,13 +713,13 @@
         {
             DEBUG ("amqp plugin: Unexpected method id: %#"PRIx32,
                     frame.payload.method.id);
             continue;
         }
 
-        camqp_read_header (conf);
+        status = camqp_read_header (conf);
 
         amqp_maybe_release_buffers (conf->connection);
     } /* while (subscriber_threads_running) */
 
     camqp_config_free (conf);
     pthread_exit (NULL);
@@ -788,13 +808,13 @@
 
 static int camqp_write (const data_set_t *ds, const value_list_t *vl, /* {{{ */
         user_data_t *user_data)
 {
     camqp_config_t *conf = user_data->data;
     char routing_key[6 * DATA_MAX_NAME_LEN];
-    char buffer[4096];
+    char buffer[8192];
     int status;
 
     if ((ds == NULL) || (vl == NULL) || (conf == NULL))
         return (EINVAL);
 
     memset (buffer, 0, sizeof (buffer));
@@ -921,23 +941,27 @@
     conf->port = 5672;
     conf->vhost = NULL;
     conf->user = NULL;
     conf->password = NULL;
     conf->exchange = NULL;
     conf->routing_key = NULL;
+    conf->connection_retry_delay = 0;
+
     /* publish only */
     conf->delivery_mode = CAMQP_DM_VOLATILE;
     conf->store_rates = 0;
     conf->graphite_flags = 0;
     /* publish & graphite only */
     conf->prefix = NULL;
     conf->postfix = NULL;
     conf->escape_char = '_';
     /* subscribe only */
     conf->exchange_type = NULL;
     conf->queue = NULL;
+    conf->queue_durable = 0;
+    conf->queue_auto_delete = 1;
     /* general */
     conf->connection = NULL;
     pthread_mutex_init (&conf->lock, /* attr = */ NULL);
     /* }}} */
 
     status = cf_util_get_string (ci, &conf->name);
@@ -971,12 +995,16 @@
         else if (strcasecmp ("Exchange", child->key) == 0)
             status = cf_util_get_string (child, &conf->exchange);
         else if ((strcasecmp ("ExchangeType", child->key) == 0) && !publish)
             status = cf_util_get_string (child, &conf->exchange_type);
         else if ((strcasecmp ("Queue", child->key) == 0) && !publish)
             status = cf_util_get_string (child, &conf->queue);
+        else if ((strcasecmp ("QueueDurable", child->key) == 0) && !publish)
+            status = cf_util_get_boolean (child, &conf->queue_durable);
+        else if ((strcasecmp ("QueueAutoDelete", child->key) == 0) && !publish)
+            status = cf_util_get_boolean (child, &conf->queue_auto_delete);
         else if (strcasecmp ("RoutingKey", child->key) == 0)
             status = cf_util_get_string (child, &conf->routing_key);
         else if ((strcasecmp ("Persistent", child->key) == 0) && publish)
         {
             _Bool tmp = 0;
             status = cf_util_get_boolean (child, &tmp);
@@ -1010,12 +1038,14 @@
             if (strlen (tmp_buff) > 1)
                 WARNING ("amqp plugin: The option \"GraphiteEscapeChar\" handles "
                         "only one character. Others will be ignored.");
             conf->escape_char = tmp_buff[0];
             sfree (tmp_buff);
         }
+        else if (strcasecmp ("ConnectionRetryDelay", child->key) == 0)
+            status = cf_util_get_int (child, &conf->connection_retry_delay);
         else
             WARNING ("amqp plugin: Ignoring unknown "
                     "configuration option \"%s\".", child->key);
 
         if (status != 0)
             break;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/apache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/apache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/apache.c	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/apache.c	2015-05-20 20:04:47.179035320 +0800
@@ -15,13 +15,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Florent EppO Monbillard <eppo at darox.net>
  *   - connections/lighttpd extension
  *   Amit Gupta <amit.gupta221 at gmail.com>
  **/
 
 #include "collectd.h"
@@ -42,20 +42,22 @@
 	int server_type;
 	char *name;
 	char *host;
 	char *url;
 	char *user;
 	char *pass;
-	int   verify_peer;
-	int   verify_host;
+	_Bool verify_peer;
+	_Bool verify_host;
 	char *cacert;
+	char *ssl_ciphers;
 	char *server; /* user specific server type */
 	char *apache_buffer;
 	char apache_curl_error[CURL_ERROR_SIZE];
 	size_t apache_buffer_size;
 	size_t apache_buffer_fill;
+	int timeout;
 	CURL *curl;
 }; /* apache_s */
 
 typedef struct apache_s apache_t;
 
 /* TODO: Remove this prototype */
@@ -69,19 +71,19 @@
 	sfree (st->name);
 	sfree (st->host);
 	sfree (st->url);
 	sfree (st->user);
 	sfree (st->pass);
 	sfree (st->cacert);
+	sfree (st->ssl_ciphers);
 	sfree (st->server);
 	sfree (st->apache_buffer);
 	if (st->curl) {
 		curl_easy_cleanup(st->curl);
 		st->curl = NULL;
 	}
-	sfree (st);
 } /* apache_free */
 
 static size_t apache_curl_callback (void *buf, size_t size, size_t nmemb,
 		void *user_data)
 {
 	size_t len = size * nmemb;
@@ -163,127 +165,60 @@
  *   <Instance "instance_name">
  *     URL ...
  *   </Instance>
  *   URL ...
  * </Plugin>
  */
-static int config_set_string (char **ret_string, /* {{{ */
-				    oconfig_item_t *ci)
-{
-	char *string;
-
-	if ((ci->values_num != 1)
-			|| (ci->values[0].type != OCONFIG_TYPE_STRING))
-	{
-		WARNING ("apache plugin: The `%s' config option "
-				"needs exactly one string argument.", ci->key);
-		return (-1);
-	}
-
-	string = strdup (ci->values[0].value.string);
-	if (string == NULL)
-	{
-		ERROR ("apache plugin: strdup failed.");
-		return (-1);
-	}
-
-	if (*ret_string != NULL)
-		free (*ret_string);
-	*ret_string = string;
-
-	return (0);
-} /* }}} int config_set_string */
-
-static int config_set_boolean (int *ret_boolean, /* {{{ */
-				    oconfig_item_t *ci)
-{
-	if ((ci->values_num != 1)
-			|| ((ci->values[0].type != OCONFIG_TYPE_BOOLEAN)
-				&& (ci->values[0].type != OCONFIG_TYPE_STRING)))
-	{
-		WARNING ("apache plugin: The `%s' config option "
-				"needs exactly one boolean argument.", ci->key);
-		return (-1);
-	}
-
-	if (ci->values[0].type == OCONFIG_TYPE_BOOLEAN)
-	{
-		if (ci->values[0].value.boolean)
-			*ret_boolean = 1;
-		else
-			*ret_boolean = 0;
-	}
-	else /* if (ci->values[0].type != OCONFIG_TYPE_STRING) */
-	{
-		char *string = ci->values[0].value.string;
-		if (IS_TRUE (string))
-			*ret_boolean = 1;
-		else if (IS_FALSE (string))
-			*ret_boolean = 0;
-		else
-		{
-			ERROR ("apache plugin: Cannot parse string "
-					"as boolean value: %s", string);
-			return (-1);
-		}
-	}
-
-	return (0);
-} /* }}} int config_set_boolean */
-
 static int config_add (oconfig_item_t *ci)
 {
 	apache_t *st;
 	int i;
 	int status;
 
-	if ((ci->values_num != 1)
-		|| (ci->values[0].type != OCONFIG_TYPE_STRING))
-	{
-		WARNING ("apache plugin: The `%s' config option "
-			"needs exactly one string argument.", ci->key);
-		return (-1);
-	}
-
-	st = (apache_t *) malloc (sizeof (*st));
+	st = malloc (sizeof (*st));
 	if (st == NULL)
 	{
 		ERROR ("apache plugin: malloc failed.");
 		return (-1);
 	}
-
 	memset (st, 0, sizeof (*st));
 
-	status = config_set_string (&st->name, ci);
+	st->timeout = -1;
+
+	status = cf_util_get_string (ci, &st->name);
 	if (status != 0)
 	{
 		sfree (st);
 		return (status);
 	}
 	assert (st->name != NULL);
 
 	for (i = 0; i < ci->children_num; i++)
 	{
 		oconfig_item_t *child = ci->children + i;
 
 		if (strcasecmp ("URL", child->key) == 0)
-			status = config_set_string (&st->url, child);
+			status = cf_util_get_string (child, &st->url);
 		else if (strcasecmp ("Host", child->key) == 0)
-			status = config_set_string (&st->host, child);
+			status = cf_util_get_string (child, &st->host);
 		else if (strcasecmp ("User", child->key) == 0)
-			status = config_set_string (&st->user, child);
+			status = cf_util_get_string (child, &st->user);
 		else if (strcasecmp ("Password", child->key) == 0)
-			status = config_set_string (&st->pass, child);
+			status = cf_util_get_string (child, &st->pass);
 		else if (strcasecmp ("VerifyPeer", child->key) == 0)
-			status = config_set_boolean (&st->verify_peer, child);
+			status = cf_util_get_boolean (child, &st->verify_peer);
 		else if (strcasecmp ("VerifyHost", child->key) == 0)
-			status = config_set_boolean (&st->verify_host, child);
+			status = cf_util_get_boolean (child, &st->verify_host);
 		else if (strcasecmp ("CACert", child->key) == 0)
-			status = config_set_string (&st->cacert, child);
+			status = cf_util_get_string (child, &st->cacert);
+		else if (strcasecmp ("SSLCiphers", child->key) == 0)
+			status = cf_util_get_string (child, &st->ssl_ciphers);
 		else if (strcasecmp ("Server", child->key) == 0)
-			status = config_set_string (&st->server, child);
+			status = cf_util_get_string (child, &st->server);
+		else if (strcasecmp ("Timeout", child->key) == 0)
+			status = cf_util_get_int (child, &st->timeout);
 		else
 		{
 			WARNING ("apache plugin: Option `%s' not allowed here.",
 					child->key);
 			status = -1;
 		}
@@ -322,13 +257,13 @@
 				/* interval  = */ NULL,
 				/* user_data = */ &ud);
 	}
 
 	if (status != 0)
 	{
-		apache_free(st);
+		apache_free (st);
 		return (-1);
 	}
 
 	return (0);
 } /* int config_add */
 
@@ -354,14 +289,12 @@
 	return (status);
 } /* int config */
 
 /* initialize curl for each host */
 static int init_host (apache_t *st) /* {{{ */
 {
-	static char credentials[1024];
-
 	assert (st->url != NULL);
 	/* (Assured by `config_add') */
 
 	if (st->curl != NULL)
 	{
 		curl_easy_cleanup (st->curl);
@@ -400,17 +333,23 @@
 	if (st->server_type == -1)
 	{
 		curl_easy_setopt (st->curl, CURLOPT_HEADERFUNCTION, apache_header_callback);
 		curl_easy_setopt (st->curl, CURLOPT_WRITEHEADER, st);
 	}
 
-	curl_easy_setopt (st->curl, CURLOPT_USERAGENT, PACKAGE_NAME"/"PACKAGE_VERSION);
+	curl_easy_setopt (st->curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
 	curl_easy_setopt (st->curl, CURLOPT_ERRORBUFFER, st->apache_curl_error);
 
 	if (st->user != NULL)
 	{
+#ifdef HAVE_CURLOPT_USERNAME
+		curl_easy_setopt (st->curl, CURLOPT_USERNAME, st->user);
+		curl_easy_setopt (st->curl, CURLOPT_PASSWORD,
+				(st->pass == NULL) ? "" : st->pass);
+#else
+		static char credentials[1024];
 		int status;
 
 		status = ssnprintf (credentials, sizeof (credentials), "%s:%s",
 				st->user, (st->pass == NULL) ? "" : st->pass);
 		if ((status < 0) || ((size_t) status >= sizeof (credentials)))
 		{
@@ -420,40 +359,35 @@
 			curl_easy_cleanup (st->curl);
 			st->curl = NULL;
 			return (-1);
 		}
 
 		curl_easy_setopt (st->curl, CURLOPT_USERPWD, credentials);
+#endif
 	}
 
 	curl_easy_setopt (st->curl, CURLOPT_URL, st->url);
 	curl_easy_setopt (st->curl, CURLOPT_FOLLOWLOCATION, 1L);
 	curl_easy_setopt (st->curl, CURLOPT_MAXREDIRS, 50L);
 
-	if (st->verify_peer != 0)
-	{
-		curl_easy_setopt (st->curl, CURLOPT_SSL_VERIFYPEER, 1L);
-	}
-	else
-	{
-		curl_easy_setopt (st->curl, CURLOPT_SSL_VERIFYPEER, 0L);
-	}
-
-	if (st->verify_host != 0)
-	{
-		curl_easy_setopt (st->curl, CURLOPT_SSL_VERIFYHOST, 2L);
-	}
-	else
-	{
-		curl_easy_setopt (st->curl, CURLOPT_SSL_VERIFYHOST, 0L);
-	}
-
+	curl_easy_setopt (st->curl, CURLOPT_SSL_VERIFYPEER,
+			(long) st->verify_peer);
+	curl_easy_setopt (st->curl, CURLOPT_SSL_VERIFYHOST,
+			st->verify_host ? 2L : 0L);
 	if (st->cacert != NULL)
-	{
 		curl_easy_setopt (st->curl, CURLOPT_CAINFO, st->cacert);
-	}
+	if (st->ssl_ciphers != NULL)
+		curl_easy_setopt (st->curl, CURLOPT_SSL_CIPHER_LIST,st->ssl_ciphers);
+
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+	if (st->timeout >= 0)
+		curl_easy_setopt (st->curl, CURLOPT_TIMEOUT_MS, (long) st->timeout);
+	else
+		curl_easy_setopt (st->curl, CURLOPT_TIMEOUT_MS,
+				CDTIME_T_TO_MS(plugin_get_interval()));
+#endif
 
 	return (0);
 } /* }}} int init_host */
 
 static void submit_value (const char *type, const char *type_instance,
 		value_t value, apache_t *st)
@@ -582,33 +516,33 @@
 		submit_gauge ("apache_scoreboard", "response_end"  , response_end, st);
 	}
 }
 
 static int apache_read_host (user_data_t *user_data) /* {{{ */
 {
+	int i;
+
 	char *ptr;
 	char *saveptr;
-	char *line;
+	char *lines[16];
+	int   lines_num = 0;
 
 	char *fields[4];
 	int   fields_num;
 
 	apache_t *st;
 
 	st = user_data->data;
 
-	int status;
-
-	char *content_type;
-	static const char *text_plain = "text/plain";
-
 	assert (st->url != NULL);
 	/* (Assured by `config_add') */
 
 	if (st->curl == NULL)
 	{
+		int status;
+
 		status = init_host (st);
 		if (status != 0)
 			return (-1);
 	}
 	assert (st->curl != NULL);
 
@@ -625,35 +559,37 @@
 	{
 		WARNING ("apache plugin: Unable to determine server software "
 				"automatically. Will assume Apache.");
 		st->server_type = APACHE;
 	}
 
-	status = curl_easy_getinfo (st->curl, CURLINFO_CONTENT_TYPE, &content_type);
-	if ((status == CURLE_OK) && (content_type != NULL) &&
-	    (strncasecmp (content_type, text_plain, strlen (text_plain)) != 0))
-	{
-		WARNING ("apache plugin: `Content-Type' response header is not `%s' "
-			"(received: `%s'). Expecting unparseable data. Please check `URL' "
-			"parameter (missing `?auto' suffix ?)",
-			text_plain, content_type);
-	}
-
 	ptr = st->apache_buffer;
 	saveptr = NULL;
-	while ((line = strtok_r (ptr, "\n\r", &saveptr)) != NULL)
+	while ((lines[lines_num] = strtok_r (ptr, "\n\r", &saveptr)) != NULL)
 	{
 		ptr = NULL;
-		fields_num = strsplit (line, fields, STATIC_ARRAY_SIZE (fields));
+		lines_num++;
+
+		if (lines_num >= 16)
+			break;
+	}
+
+	for (i = 0; i < lines_num; i++)
+	{
+		fields_num = strsplit (lines[i], fields, 4);
 
 		if (fields_num == 3)
 		{
-			if ((strcmp (fields[0], "Total") == 0) && (strcmp (fields[1], "Accesses:") == 0))
-				submit_derive ("apache_requests", "", atoll (fields[2]), st);
-			else if ((strcmp (fields[0], "Total") == 0) && (strcmp (fields[1], "kBytes:") == 0))
-				submit_derive ("apache_bytes", "", 1024LL * atoll (fields[2]), st);
+			if ((strcmp (fields[0], "Total") == 0)
+					&& (strcmp (fields[1], "Accesses:") == 0))
+				submit_derive ("apache_requests", "",
+						atoll (fields[2]), st);
+			else if ((strcmp (fields[0], "Total") == 0)
+					&& (strcmp (fields[1], "kBytes:") == 0))
+				submit_derive ("apache_bytes", "",
+						1024LL * atoll (fields[2]), st);
 		}
 		else if (fields_num == 2)
 		{
 			if (strcmp (fields[0], "Scoreboard:") == 0)
 				submit_scoreboard (fields[1], st);
 			else if ((strcmp (fields[0], "BusyServers:") == 0) /* Apache 1.* */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/apcups.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/apcups.c	2015-03-10 22:14:45.817113888 +0800
@@ -18,13 +18,13 @@
  * License along with this program; if not, write to the Free
  * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
  * MA 02111-1307, USA.
  *
  * Authors:
  *   Anthony Gialluca <tonyabg at charter.net>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"      /* rrd_update_file */
 #include "plugin.h"      /* plugin_register, plugin_submit */
 #include "configfile.h"  /* cf_register */
@@ -136,13 +136,13 @@
 	ai_hints.ai_socktype = SOCK_STREAM;
 
 	status = getaddrinfo (host, port_str, &ai_hints, &ai_return);
 	if (status != 0)
 	{
 		char errbuf[1024];
-		INFO ("apcups plugin: getaddrinfo failed: %s",
+		INFO ("getaddrinfo failed: %s",
 				(status == EAI_SYSTEM)
 				? sstrerror (errno, errbuf, sizeof (errbuf))
 				: gai_strerror (status));
 		return (-1);
 	}
 
@@ -155,31 +155,31 @@
 			break;
 	}
 	/* `ai_list' still holds the current description of the socket.. */
 
 	if (sd < 0)
 	{
-		DEBUG ("apcups plugin: Unable to open a socket");
+		DEBUG ("Unable to open a socket");
 		freeaddrinfo (ai_return);
 		return (-1);
 	}
 
 	status = connect (sd, ai_list->ai_addr, ai_list->ai_addrlen);
 
 	freeaddrinfo (ai_return);
 
 	if (status != 0) /* `connect(2)' failed */
 	{
 		char errbuf[1024];
-		INFO ("apcups plugin: connect failed: %s",
+		INFO ("connect failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		close (sd);
 		return (-1);
 	}
 
-	DEBUG ("apcups plugin: Done opening a socket %i", sd);
+	DEBUG ("Done opening a socket %i", sd);
 
 	return (sd);
 } /* int net_open (char *host, char *service, int port) */
 
 /*
  * Receive a message from the other end. Each message consists of
@@ -477,13 +477,13 @@
 	/*
 	 * if we did not connect then do not bother submitting
 	 * zeros. We want rrd files to have NAN.
 	 */
 	if (status != 0)
 	{
-		DEBUG ("apcups plugin: apc_query_server (%s, %i) = %i",
+		DEBUG ("apc_query_server (%s, %i) = %i",
 				conf_host == NULL
 				? APCUPS_DEFAULT_HOST
 				: conf_host,
 				conf_port, status);
 		return (-1);
 	}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/apple_sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/apple_sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/apple_sensors.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/apple_sensors.c	2015-03-10 22:14:45.817113888 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/apple_sensors.c
  * Copyright (C) 2006,2007  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ascent.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ascent.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ascent.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ascent.c	2015-05-20 20:04:47.179035320 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/ascent.c
- * Copyright (C) 2008  Florian octo Forster
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
@@ -94,12 +99,13 @@
 static char *url         = NULL;
 static char *user        = NULL;
 static char *pass        = NULL;
 static char *verify_peer = NULL;
 static char *verify_host = NULL;
 static char *cacert      = NULL;
+static char *timeout     = NULL;
 
 static CURL *curl = NULL;
 
 static char  *ascent_buffer = NULL;
 static size_t ascent_buffer_size = 0;
 static size_t ascent_buffer_fill = 0;
@@ -109,13 +115,14 @@
 {
   "URL",
   "User",
   "Password",
   "VerifyPeer",
   "VerifyHost",
-  "CACert"
+  "CACert",
+  "Timeout",
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static int ascent_submit_gauge (const char *plugin_instance, /* {{{ */
     const char *type, const char *type_instance, gauge_t value)
 {
@@ -510,20 +517,20 @@
   else if (strcasecmp (key, "VerifyPeer") == 0)
     return (config_set (&verify_peer, value));
   else if (strcasecmp (key, "VerifyHost") == 0)
     return (config_set (&verify_host, value));
   else if (strcasecmp (key, "CACert") == 0)
     return (config_set (&cacert, value));
+  else if (strcasecmp (key, "Timeout") == 0)
+    return (config_set (&timeout, value));
   else
     return (-1);
 } /* }}} int ascent_config */
 
 static int ascent_init (void) /* {{{ */
 {
-  static char credentials[1024];
-
   if (url == NULL)
   {
     WARNING ("ascent plugin: ascent_init: No URL configured, "
         "returning an error.");
     return (-1);
   }
@@ -538,29 +545,35 @@
     ERROR ("ascent plugin: ascent_init: curl_easy_init failed.");
     return (-1);
   }
 
   curl_easy_setopt (curl, CURLOPT_NOSIGNAL, 1L);
   curl_easy_setopt (curl, CURLOPT_WRITEFUNCTION, ascent_curl_callback);
-  curl_easy_setopt (curl, CURLOPT_USERAGENT, PACKAGE_NAME"/"PACKAGE_VERSION);
+  curl_easy_setopt (curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
   curl_easy_setopt (curl, CURLOPT_ERRORBUFFER, ascent_curl_error);
 
   if (user != NULL)
   {
+#ifdef HAVE_CURLOPT_USERNAME
+    curl_easy_setopt (curl, CURLOPT_USERNAME, user);
+    curl_easy_setopt (curl, CURLOPT_PASSWORD, (pass == NULL) ? "" : pass);
+#else
+    static char credentials[1024];
     int status;
 
     status = ssnprintf (credentials, sizeof (credentials), "%s:%s",
         user, (pass == NULL) ? "" : pass);
     if ((status < 0) || ((size_t) status >= sizeof (credentials)))
     {
       ERROR ("ascent plugin: ascent_init: Returning an error because the "
           "credentials have been truncated.");
       return (-1);
     }
 
     curl_easy_setopt (curl, CURLOPT_USERPWD, credentials);
+#endif
   }
 
   curl_easy_setopt (curl, CURLOPT_URL, url);
   curl_easy_setopt (curl, CURLOPT_FOLLOWLOCATION, 1L);
   curl_easy_setopt (curl, CURLOPT_MAXREDIRS, 50L);
 
@@ -574,12 +587,20 @@
   else
     curl_easy_setopt (curl, CURLOPT_SSL_VERIFYHOST, 0L);
 
   if (cacert != NULL)
     curl_easy_setopt (curl, CURLOPT_CAINFO, cacert);
 
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+  if (timeout != NULL)
+    curl_easy_setopt (curl, CURLOPT_TIMEOUT_MS, atol(timeout));
+  else
+    curl_easy_setopt (curl, CURLOPT_TIMEOUT_MS,
+       CDTIME_T_TO_MS(plugin_get_interval()));
+#endif
+
   return (0);
 } /* }}} int ascent_init */
 
 static int ascent_read (void) /* {{{ */
 {
   int status;
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: barometer.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/battery.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/battery.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/battery.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/battery.c	2015-05-20 20:04:47.179035320 +0800
@@ -1,10 +1,11 @@
 /**
  * collectd - src/battery.c
- * Copyright (C) 2006,2007  Florian octo Forster
+ * Copyright (C) 2006-2014  Florian octo Forster
  * Copyright (C) 2008       Michał Mirosław
+ * Copyright (C) 2014       Andy Parkins
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -14,14 +15,15 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Michał Mirosław <mirq-linux at rere.qmqm.pl>
+ *   Andy Parkins <andyp at fussylogic.co.uk>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
@@ -53,87 +55,117 @@
 #endif
 
 #if !HAVE_IOKIT_IOKITLIB_H && !HAVE_IOKIT_PS_IOPOWERSOURCES_H && !KERNEL_LINUX
 # error "No applicable input method."
 #endif
 
-#define INVALID_VALUE 47841.29
-
 #if HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H
 	/* No global variables */
 /* #endif HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H */
 
 #elif KERNEL_LINUX
-static int   battery_pmu_num = 0;
-static char *battery_pmu_file = "/proc/pmu/battery_%i";
-static const char *battery_acpi_dir = "/proc/acpi/battery";
+# define PROC_PMU_PATH_FORMAT "/proc/pmu/battery_%i"
+# define PROC_ACPI_PATH "/proc/acpi/battery"
+# define PROC_ACPI_FACTOR 0.001
+# define SYSFS_PATH "/sys/class/power_supply"
+# define SYSFS_FACTOR 0.000001
 #endif /* KERNEL_LINUX */
 
-static int battery_init (void)
-{
-#if HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H
-	/* No init neccessary */
-/* #endif HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H */
-
-#elif KERNEL_LINUX
-	int len;
-	char filename[128];
-
-	for (battery_pmu_num = 0; ; battery_pmu_num++)
-	{
-		len = ssnprintf (filename, sizeof (filename), battery_pmu_file, battery_pmu_num);
-
-		if ((len < 0) || ((unsigned int)len >= sizeof (filename)))
-			break;
+static _Bool report_percent = 0;
+static _Bool report_degraded = 0;
 
-		if (access (filename, R_OK))
-			break;
-	}
-#endif /* KERNEL_LINUX */
-
-	return (0);
-}
-
-static void battery_submit (const char *plugin_instance, const char *type, double value)
+static void battery_submit2 (char const *plugin_instance, /* {{{ */
+		char const *type, char const *type_instance, gauge_t value)
 {
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
 	sstrncpy (vl.plugin, "battery", sizeof (vl.plugin));
 	sstrncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
 	sstrncpy (vl.type, type, sizeof (vl.type));
+	if (type_instance != NULL)
+		sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (&vl);
-} /* void battery_submit */
+} /* }}} void battery_submit2 */
+
+static void battery_submit (char const *plugin_instance, /* {{{ */
+		char const *type, gauge_t value)
+{
+	battery_submit2 (plugin_instance, type, NULL, value);
+} /* }}} void battery_submit */
+
+static void submit_capacity (char const *plugin_instance, /* {{{ */
+		gauge_t capacity_charged,
+		gauge_t capacity_full,
+		gauge_t capacity_design)
+{
+	if (report_percent && (capacity_charged > capacity_full))
+		return;
+	if (report_degraded && (capacity_full > capacity_design))
+		return;
+
+	if (report_percent)
+	{
+		gauge_t capacity_max;
+
+		if (report_degraded)
+			capacity_max = capacity_design;
+		else
+			capacity_max = capacity_full;
+
+		battery_submit2 (plugin_instance, "percent", "charged",
+				100.0 * capacity_charged / capacity_max);
+		battery_submit2 (plugin_instance, "percent", "discharged",
+				100.0 * (capacity_full - capacity_charged) / capacity_max);
+
+		if (report_degraded)
+			battery_submit2 (plugin_instance, "percent", "degraded",
+					100.0 * (capacity_design - capacity_full) / capacity_max);
+	}
+	else if (report_degraded) /* && !report_percent */
+	{
+		battery_submit2 (plugin_instance, "capacity", "charged",
+				capacity_charged);
+		battery_submit2 (plugin_instance, "capacity", "discharged",
+				(capacity_full - capacity_charged));
+		battery_submit2 (plugin_instance, "capacity", "degraded",
+				(capacity_design - capacity_full));
+	}
+	else /* !report_percent && !report_degraded */
+	{
+		battery_submit (plugin_instance, "capacity", capacity_charged);
+	}
+} /* }}} void submit_capacity */
 
 #if HAVE_IOKIT_PS_IOPOWERSOURCES_H || HAVE_IOKIT_IOKITLIB_H
-static double dict_get_double (CFDictionaryRef dict, char *key_string)
+static double dict_get_double (CFDictionaryRef dict, char *key_string) /* {{{ */
 {
 	double      val_double;
 	long long   val_int;
 	CFNumberRef val_obj;
 	CFStringRef key_obj;
 
 	key_obj = CFStringCreateWithCString (kCFAllocatorDefault, key_string,
 		       	kCFStringEncodingASCII);
 	if (key_obj == NULL)
 	{
 		DEBUG ("CFStringCreateWithCString (%s) failed.\n", key_string);
-		return (INVALID_VALUE);
+		return (NAN);
 	}
 
 	if ((val_obj = CFDictionaryGetValue (dict, key_obj)) == NULL)
 	{
 		DEBUG ("CFDictionaryGetValue (%s) failed.", key_string);
 		CFRelease (key_obj);
-		return (INVALID_VALUE);
+		return (NAN);
 	}
 	CFRelease (key_obj);
 
 	if (CFGetTypeID (val_obj) == CFNumberGetTypeID ())
 	{
 		if (CFNumberIsFloatType (val_obj))
@@ -150,21 +182,20 @@
 			val_double = val_int;
 		}
 	}
 	else
 	{
 		DEBUG ("CFGetTypeID (val_obj) = %i", (int) CFGetTypeID (val_obj));
-		return (INVALID_VALUE);
+		return (NAN);
 	}
 
 	return (val_double);
-}
-#endif /* HAVE_IOKIT_PS_IOPOWERSOURCES_H || HAVE_IOKIT_IOKITLIB_H */
+} /* }}} double dict_get_double */
 
-#if HAVE_IOKIT_PS_IOPOWERSOURCES_H
-static void get_via_io_power_sources (double *ret_charge,
+# if HAVE_IOKIT_PS_IOPOWERSOURCES_H
+static void get_via_io_power_sources (double *ret_charge, /* {{{ */
 		double *ret_current,
 		double *ret_voltage)
 {
 	CFTypeRef       ps_raw;
 	CFArrayRef      ps_array;
 	int             ps_array_len;
@@ -196,47 +227,48 @@
 			DEBUG ("IOPSGetPowerSourceDescription did not return a CFDictionaryRef");
 			continue;
 		}
 
 		/* FIXME: Check if this is really an internal battery */
 
-		if (*ret_charge == INVALID_VALUE)
+		if (isnan (*ret_charge))
 		{
 			/* This is the charge in percent. */
 			temp_double = dict_get_double (ps_dict,
 					kIOPSCurrentCapacityKey);
-			if ((temp_double != INVALID_VALUE)
+			if (!isnan ((temp_double))
 					&& (temp_double >= 0.0)
 					&& (temp_double <= 100.0))
 				*ret_charge = temp_double;
 		}
 
-		if (*ret_current == INVALID_VALUE)
+		if (isnan (*ret_current))
 		{
 			temp_double = dict_get_double (ps_dict,
 					kIOPSCurrentKey);
-			if (temp_double != INVALID_VALUE)
+			if (!isnan (temp_double))
 				*ret_current = temp_double / 1000.0;
 		}
 
-		if (*ret_voltage == INVALID_VALUE)
+		if (isnan (*ret_voltage))
 		{
 			temp_double = dict_get_double (ps_dict,
 					kIOPSVoltageKey);
-			if (temp_double != INVALID_VALUE)
+			if (!isnan (temp_double))
 				*ret_voltage = temp_double / 1000.0;
 		}
 	}
 
 	CFRelease(ps_array);
 	CFRelease(ps_raw);
-}
-#endif /* HAVE_IOKIT_PS_IOPOWERSOURCES_H */
+} /* }}} void get_via_io_power_sources */
+# endif /* HAVE_IOKIT_PS_IOPOWERSOURCES_H */
 
-#if HAVE_IOKIT_IOKITLIB_H
-static void get_via_generic_iokit (double *ret_charge,
+# if HAVE_IOKIT_IOKITLIB_H
+static void get_via_generic_iokit (double *ret_capacity_full, /* {{{ */
+		double *ret_capacity_design,
 		double *ret_current,
 		double *ret_voltage)
 {
 	kern_return_t   status;
 	io_iterator_t   iterator;
 	io_object_t     io_obj;
@@ -282,73 +314,316 @@
 		for (bat_info_arry_pos = 0;
 			       	bat_info_arry_pos < bat_info_arry_len;
 			       	bat_info_arry_pos++)
 		{
 			bat_info_dict = (CFDictionaryRef) CFArrayGetValueAtIndex (bat_info_arry, bat_info_arry_pos);
 
-			if (*ret_charge == INVALID_VALUE)
+			if (isnan (*ret_capacity_full))
+			{
+				temp_double = dict_get_double (bat_info_dict, "Capacity");
+				*ret_capacity_full = temp_double / 1000.0;
+			}
+
+			if (isnan (*ret_capacity_design))
 			{
-				temp_double = dict_get_double (bat_info_dict,
-						"Capacity");
-				if (temp_double != INVALID_VALUE)
-					*ret_charge = temp_double / 1000.0;
+				temp_double = dict_get_double (bat_info_dict, "AbsoluteMaxCapacity");
+				*ret_capacity_design = temp_double / 1000.0;
 			}
 
-			if (*ret_current == INVALID_VALUE)
+			if (isnan (*ret_current))
 			{
-				temp_double = dict_get_double (bat_info_dict,
-						"Current");
-				if (temp_double != INVALID_VALUE)
-					*ret_current = temp_double / 1000.0;
+				temp_double = dict_get_double (bat_info_dict, "Current");
+				*ret_current = temp_double / 1000.0;
 			}
 
-			if (*ret_voltage == INVALID_VALUE)
+			if (isnan (*ret_voltage))
 			{
-				temp_double = dict_get_double (bat_info_dict,
-						"Voltage");
-				if (temp_double != INVALID_VALUE)
-					*ret_voltage = temp_double / 1000.0;
+				temp_double = dict_get_double (bat_info_dict, "Voltage");
+				*ret_voltage = temp_double / 1000.0;
 			}
 		}
 		
 		CFRelease (bat_root_dict);
 	}
 
 	IOObjectRelease (iterator);
-}
-#endif /* HAVE_IOKIT_IOKITLIB_H */
+} /* }}} void get_via_generic_iokit */
+# endif /* HAVE_IOKIT_IOKITLIB_H */
+
+static int battery_read (void) /* {{{ */
+{
+	gauge_t current = NAN; /* Current in A */
+	gauge_t voltage = NAN; /* Voltage in V */
+
+	/* We only get the charged capacity as a percentage from
+	 * IOPowerSources. IOKit, on the other hand, only reports the full
+	 * capacity. We use the two to calculate the current charged capacity. */
+	gauge_t charge_rel = NAN; /* Current charge in percent */
+	gauge_t capacity_charged = NAN; /* Charged capacity */
+	gauge_t capacity_full = NAN; /* Total capacity */
+	gauge_t capacity_design = NAN; /* Full design capacity */
+
+#if HAVE_IOKIT_PS_IOPOWERSOURCES_H
+	get_via_io_power_sources (&charge_rel, &current, &voltage);
+#endif
+#if HAVE_IOKIT_IOKITLIB_H
+	get_via_generic_iokit (&capacity_full, &capacity_design, &current, &voltage);
+#endif
+
+	capacity_charged = charge_rel * capacity_full / 100.0;
+	submit_capacity ("0", capacity_charged, capacity_full, capacity_design);
+
+	if (!isnan (current))
+		battery_submit ("0", "current", current);
+	if (!isnan (voltage))
+		battery_submit ("0", "voltage", voltage);
+
+	return (0);
+} /* }}} int battery_read */
+/* #endif HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H */
+
+#elif KERNEL_LINUX
+/* Reads a file which contains only a number (and optionally a trailing
+ * newline) and parses that number. */
+static int sysfs_file_to_buffer(char const *dir, /* {{{ */
+		char const *power_supply,
+		char const *basename,
+		char *buffer, size_t buffer_size)
+{
+	int status;
+	FILE *fp;
+	char filename[PATH_MAX];
+
+	ssnprintf (filename, sizeof (filename), "%s/%s/%s",
+			dir, power_supply, basename);
+
+	/* No file isn't the end of the world -- not every system will be
+	 * reporting the same set of statistics */
+	if (access (filename, R_OK) != 0)
+		return ENOENT;
+
+	fp = fopen (filename, "r");
+	if (fp == NULL)
+	{
+		status = errno;
+		if (status != ENOENT)
+		{
+			char errbuf[1024];
+			WARNING ("battery plugin: fopen (%s) failed: %s", filename,
+					sstrerror (status, errbuf, sizeof (errbuf)));
+		}
+		return status;
+	}
+
+	if (fgets (buffer, buffer_size, fp) == NULL)
+	{
+		status = errno;
+		if (status != ENODEV)
+		{
+			char errbuf[1024];
+			WARNING ("battery plugin: fgets (%s) failed: %s", filename,
+					sstrerror (status, errbuf, sizeof (errbuf)));
+		}
+		fclose (fp);
+		return status;
+	}
+
+	strstripnewline (buffer);
+
+	fclose (fp);
+	return 0;
+} /* }}} int sysfs_file_to_buffer */
+
+/* Reads a file which contains only a number (and optionally a trailing
+ * newline) and parses that number. */
+static int sysfs_file_to_gauge(char const *dir, /* {{{ */
+		char const *power_supply,
+		char const *basename, gauge_t *ret_value)
+{
+	int status;
+	char buffer[32] = "";
+
+	status = sysfs_file_to_buffer (dir, power_supply, basename, buffer, sizeof (buffer));
+	if (status != 0)
+		return (status);
+
+	return (strtogauge (buffer, ret_value));
+} /* }}} sysfs_file_to_gauge */
+
+static int read_sysfs_capacity (char const *dir, /* {{{ */
+		char const *power_supply,
+		char const *plugin_instance)
+{
+	gauge_t capacity_charged = NAN;
+	gauge_t capacity_full = NAN;
+	gauge_t capacity_design = NAN;
+	int status;
+
+	status = sysfs_file_to_gauge (dir, power_supply, "energy_now", &capacity_charged);
+	if (status != 0)
+		return (status);
+
+	status = sysfs_file_to_gauge (dir, power_supply, "energy_full", &capacity_full);
+	if (status != 0)
+		return (status);
+
+	status = sysfs_file_to_gauge (dir, power_supply, "energy_full_design", &capacity_design);
+	if (status != 0)
+		return (status);
+
+	submit_capacity (plugin_instance,
+			capacity_charged * SYSFS_FACTOR,
+			capacity_full * SYSFS_FACTOR,
+			capacity_design * SYSFS_FACTOR);
+	return (0);
+} /* }}} int read_sysfs_capacity */
+
+static int read_sysfs_callback (char const *dir, /* {{{ */
+		char const *power_supply,
+		void *user_data)
+{
+	int *battery_index = user_data;
+
+	char const *plugin_instance;
+	char buffer[32];
+	gauge_t v = NAN;
+	_Bool discharging = 0;
+	int status;
+
+	/* Ignore non-battery directories, such as AC power. */
+	status = sysfs_file_to_buffer (dir, power_supply, "type", buffer, sizeof (buffer));
+	if (status != 0)
+		return (0);
+	if (strcasecmp ("Battery", buffer) != 0)
+		return (0);
+
+	(void) sysfs_file_to_buffer (dir, power_supply, "status", buffer, sizeof (buffer));
+	if (strcasecmp ("Discharging", buffer) == 0)
+		discharging = 1;
+
+	/* FIXME: This is a dirty hack for backwards compatibility: The battery
+	 * plugin, for a very long time, has had the plugin_instance
+	 * hard-coded to "0". So, to keep backwards compatibility, we'll use
+	 * "0" for the first battery we find and the power_supply name for all
+	 * following. This should be reverted in a future major version. */
+	plugin_instance = (*battery_index == 0) ? "0" : power_supply;
+	(*battery_index)++;
+
+	read_sysfs_capacity (dir, power_supply, plugin_instance);
+
+	if (sysfs_file_to_gauge (dir, power_supply, "power_now", &v) == 0)
+	{
+		if (discharging)
+			v *= -1.0;
+		battery_submit (plugin_instance, "power", v * SYSFS_FACTOR);
+	}
+	if (sysfs_file_to_gauge (dir, power_supply, "current_now", &v) == 0)
+	{
+		if (discharging)
+			v *= -1.0;
+		battery_submit (plugin_instance, "current", v * SYSFS_FACTOR);
+	}
+
+	if (sysfs_file_to_gauge (dir, power_supply, "voltage_now", &v) == 0)
+		battery_submit (plugin_instance, "voltage", v * SYSFS_FACTOR);
+
+	return (0);
+} /* }}} int read_sysfs_callback */
+
+static int read_sysfs (void) /* {{{ */
+{
+	int status;
+	int battery_counter = 0;
+
+	if (access (SYSFS_PATH, R_OK) != 0)
+		return (ENOENT);
 
-#if KERNEL_LINUX
-static int battery_read_acpi (const char __attribute__((unused)) *dir,
-		const char *name, void __attribute__((unused)) *user_data)
-{
-	double  current = INVALID_VALUE;
-	double  voltage = INVALID_VALUE;
-	double  charge  = INVALID_VALUE;
-	double *valptr = NULL;
-	int charging = 0;
+	status = walk_directory (SYSFS_PATH, read_sysfs_callback,
+			/* user_data = */ &battery_counter,
+			/* include hidden */ 0);
+	return (status);
+} /* }}} int read_sysfs */
+
+static int read_acpi_full_capacity (char const *dir, /* {{{ */
+		char const *power_supply,
+		gauge_t *ret_capacity_full,
+		gauge_t *ret_capacity_design)
+
+{
+	char filename[PATH_MAX];
+	char buffer[1024];
 
-	char filename[256];
 	FILE *fh;
 
+	ssnprintf (filename, sizeof (filename), "%s/%s/info", dir, power_supply);
+	fh = fopen (filename, "r");
+	if ((fh = fopen (filename, "r")) == NULL)
+		return (errno);
+
+	/* last full capacity:      40090 mWh */
+	while (fgets (buffer, sizeof (buffer), fh) != NULL)
+	{
+		gauge_t *value_ptr;
+		int fields_num;
+		char *fields[8];
+		int index;
+
+		if (strncmp ("last full capacity:", buffer, strlen ("last full capacity:")) == 0)
+		{
+			value_ptr = ret_capacity_full;
+			index = 3;
+		}
+		else if (strncmp ("design capacity:", buffer, strlen ("design capacity:")) == 0)
+		{
+			value_ptr = ret_capacity_design;
+			index = 2;
+		}
+		else
+		{
+			continue;
+		}
+
+		fields_num = strsplit (buffer, fields, STATIC_ARRAY_SIZE (fields));
+		if (fields_num <= index)
+			continue;
+
+		strtogauge (fields[index], value_ptr);
+	}
+
+	fclose (fh);
+	return (0);
+} /* }}} int read_acpi_full_capacity */
+
+static int read_acpi_callback (char const *dir, /* {{{ */
+		char const *power_supply,
+		void *user_data)
+{
+	int *battery_index = user_data;
+
+	gauge_t power = NAN;
+	gauge_t voltage = NAN;
+	gauge_t capacity_charged = NAN;
+	gauge_t capacity_full = NAN;
+	gauge_t capacity_design = NAN;
+	_Bool charging = 0;
+	_Bool is_current = 0;
+
+	char const *plugin_instance;
+	char filename[PATH_MAX];
 	char buffer[1024];
-	char *fields[8];
-	int numfields;
-	char *endptr;
-	int len;
-
-	len = ssnprintf (filename, sizeof (filename), "%s/%s/state", battery_acpi_dir, name);
-
-	if ((len < 0) || ((unsigned int)len >= sizeof (filename)))
-		return -1;
-
-	if ((fh = fopen (filename, "r")) == NULL) {
-		char errbuf[1024];
-		ERROR ("Cannot open `%s': %s", filename,
-			sstrerror (errno, errbuf, sizeof (errbuf)));
-		return -1;
+
+	FILE *fh;
+
+	ssnprintf (filename, sizeof (filename), "%s/%s/state", dir, power_supply);
+	fh = fopen (filename, "r");
+	if ((fh = fopen (filename, "r")) == NULL)
+	{
+		if ((errno == EAGAIN) || (errno == EINTR) || (errno == ENOENT))
+			return (0);
+		else
+			return (errno);
 	}
 
 	/*
 	 * [11:00] <@tokkee> $ cat /proc/acpi/battery/BAT1/state
 	 * [11:00] <@tokkee> present:                 yes
 	 * [11:00] <@tokkee> capacity state:          ok
@@ -356,14 +631,16 @@
 	 * [11:00] <@tokkee> present rate:            1724 mA
 	 * [11:00] <@tokkee> remaining capacity:      4136 mAh
 	 * [11:00] <@tokkee> present voltage:         12428 mV
 	 */
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
-		numfields = strsplit (buffer, fields, 8);
+		char *fields[8];
+		int numfields;
 
+		numfields = strsplit (buffer, fields, STATIC_ARRAY_SIZE (fields));
 		if (numfields < 3)
 			continue;
 
 		if ((strcmp (fields[0], "charging") == 0)
 				&& (strcmp (fields[1], "state:") == 0))
 		{
@@ -371,167 +648,183 @@
 				charging = 1;
 			else
 				charging = 0;
 			continue;
 		}
 
+		/* The unit of "present rate" depends on the battery. Modern
+		 * batteries export power (watts), older batteries (used to)
+		 * export current (amperes). We check the fourth column and try
+		 * to find old batteries this way. */
 		if ((strcmp (fields[0], "present") == 0)
 				&& (strcmp (fields[1], "rate:") == 0))
-			valptr = &current;
+		{
+			strtogauge (fields[2], &power);
+
+			if ((numfields >= 4) && (strcmp ("mA", fields[3]) == 0))
+				is_current = 1;
+		}
 		else if ((strcmp (fields[0], "remaining") == 0)
 				&& (strcmp (fields[1], "capacity:") == 0))
-			valptr = &charge;
+			strtogauge (fields[2], &capacity_charged);
 		else if ((strcmp (fields[0], "present") == 0)
 				&& (strcmp (fields[1], "voltage:") == 0))
-			valptr = &voltage;
-		else
-			continue;
-
-		endptr = NULL;
-		errno  = 0;
-		*valptr = strtod (fields[2], &endptr) / 1000.0;
-
-		if ((fields[2] == endptr) || (errno != 0))
-			*valptr = INVALID_VALUE;
+			strtogauge (fields[2], &voltage);
 	} /* while (fgets (buffer, sizeof (buffer), fh) != NULL) */
 
 	fclose (fh);
 
-	if ((current != INVALID_VALUE) && (charging == 0))
-			current *= -1;
+	if (!charging)
+		power *= -1.0;
 
-	if (charge != INVALID_VALUE)
-		battery_submit ("0", "charge", charge);
-	if (current != INVALID_VALUE)
-		battery_submit ("0", "current", current);
-	if (voltage != INVALID_VALUE)
-		battery_submit ("0", "voltage", voltage);
+	/* FIXME: This is a dirty hack for backwards compatibility: The battery
+	 * plugin, for a very long time, has had the plugin_instance
+	 * hard-coded to "0". So, to keep backwards compatibility, we'll use
+	 * "0" for the first battery we find and the power_supply name for all
+	 * following. This should be reverted in a future major version. */
+	plugin_instance = (*battery_index == 0) ? "0" : power_supply;
+	(*battery_index)++;
+
+	read_acpi_full_capacity (dir, power_supply, &capacity_full, &capacity_design);
+
+	submit_capacity (plugin_instance,
+			capacity_charged * PROC_ACPI_FACTOR,
+			capacity_full * PROC_ACPI_FACTOR,
+			capacity_design * PROC_ACPI_FACTOR);
+
+	battery_submit (plugin_instance,
+			is_current ? "current" : "power",
+			power * PROC_ACPI_FACTOR);
+	battery_submit (plugin_instance, "voltage", voltage * PROC_ACPI_FACTOR);
 
 	return 0;
-}
-#endif /* KERNEL_LINUX */
-
+} /* }}} int read_acpi_callback */
 
-static int battery_read (void)
+static int read_acpi (void) /* {{{ */
 {
-#if HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H
-	double charge  = INVALID_VALUE; /* Current charge in Ah */
-	double current = INVALID_VALUE; /* Current in A */
-	double voltage = INVALID_VALUE; /* Voltage in V */
+	int status;
+	int battery_counter = 0;
 
-	double charge_rel = INVALID_VALUE; /* Current charge in percent */
-	double charge_abs = INVALID_VALUE; /* Total capacity */
+	if (access (PROC_ACPI_PATH, R_OK) != 0)
+		return (ENOENT);
 
-#if HAVE_IOKIT_PS_IOPOWERSOURCES_H
-	get_via_io_power_sources (&charge_rel, &current, &voltage);
-#endif
-#if HAVE_IOKIT_IOKITLIB_H
-	get_via_generic_iokit (&charge_abs, &current, &voltage);
-#endif
-
-	if ((charge_rel != INVALID_VALUE) && (charge_abs != INVALID_VALUE))
-		charge = charge_abs * charge_rel / 100.0;
-
-	if (charge != INVALID_VALUE)
-		battery_submit ("0", "charge", charge);
-	if (current != INVALID_VALUE)
-		battery_submit ("0", "current", current);
-	if (voltage != INVALID_VALUE)
-		battery_submit ("0", "voltage", voltage);
-/* #endif HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H */
-
-#elif KERNEL_LINUX
-	static c_complain_t acpi_dir_complaint = C_COMPLAIN_INIT_STATIC;
-
-	FILE *fh;
-	char buffer[1024];
-	char filename[256];
-	
-	char *fields[8];
-	int numfields;
+	status = walk_directory (PROC_ACPI_PATH, read_acpi_callback,
+			/* user_data = */ &battery_counter,
+			/* include hidden */ 0);
+	return (status);
+} /* }}} int read_acpi */
 
+static int read_pmu (void) /* {{{ */
+{
 	int i;
-	int len;
 
-	for (i = 0; i < battery_pmu_num; i++)
-	{
-		char    batnum_str[256];
-		double  current = INVALID_VALUE;
-		double  voltage = INVALID_VALUE;
-		double  charge  = INVALID_VALUE;
-		double *valptr = NULL;
+	/* The upper limit here is just a safeguard. If there is a system with
+	 * more than 100 batteries, this can easily be increased. */
+	for (i = 0; i < 100; i++)
+	{
+		FILE *fh;
+
+		char buffer[1024];
+		char filename[PATH_MAX];
+		char plugin_instance[DATA_MAX_NAME_LEN];
+
+		gauge_t current = NAN;
+		gauge_t voltage = NAN;
+		gauge_t charge  = NAN;
 
-		len = ssnprintf (filename, sizeof (filename), battery_pmu_file, i);
-		if ((len < 0) || ((unsigned int)len >= sizeof (filename)))
-			continue;
+		ssnprintf (filename, sizeof (filename), PROC_PMU_PATH_FORMAT, i);
+		if (access (filename, R_OK) != 0)
+			break;
 
-		len = ssnprintf (batnum_str, sizeof (batnum_str), "%i", i);
-		if ((len < 0) || ((unsigned int)len >= sizeof (batnum_str)))
-			continue;
+		ssnprintf (plugin_instance, sizeof (plugin_instance), "%i", i);
 
-		if ((fh = fopen (filename, "r")) == NULL)
-			continue;
+		fh = fopen (filename, "r");
+		if (fh == NULL)
+		{
+			if (errno == ENOENT)
+				break;
+			else if ((errno == EAGAIN) || (errno == EINTR))
+				continue;
+			else
+				return (errno);
+		}
 
 		while (fgets (buffer, sizeof (buffer), fh) != NULL)
 		{
-			numfields = strsplit (buffer, fields, 8);
+			char *fields[8];
+			int numfields;
 
+			numfields = strsplit (buffer, fields, STATIC_ARRAY_SIZE (fields));
 			if (numfields < 3)
 				continue;
 
 			if (strcmp ("current", fields[0]) == 0)
-				valptr = &current;
+				strtogauge (fields[2], &current);
 			else if (strcmp ("voltage", fields[0]) == 0)
-				valptr = &voltage;
+				strtogauge (fields[2], &voltage);
 			else if (strcmp ("charge", fields[0]) == 0)
-				valptr = &charge;
-			else
-				valptr = NULL;
-
-			if (valptr != NULL)
-			{
-				char *endptr;
-
-				endptr = NULL;
-				errno  = 0;
-
-				*valptr = strtod (fields[2], &endptr) / 1000.0;
-
-				if ((fields[2] == endptr) || (errno != 0))
-					*valptr = INVALID_VALUE;
-			}
+				strtogauge (fields[2], &charge);
 		}
 
 		fclose (fh);
 		fh = NULL;
 
-		if (charge != INVALID_VALUE)
-			battery_submit ("0", "charge", charge);
-		if (current != INVALID_VALUE)
-			battery_submit ("0", "current", current);
-		if (voltage != INVALID_VALUE)
-			battery_submit ("0", "voltage", voltage);
+		battery_submit (plugin_instance, "charge", charge / 1000.0);
+		battery_submit (plugin_instance, "current", current / 1000.0);
+		battery_submit (plugin_instance, "voltage", voltage / 1000.0);
 	}
 
-	if (0 == access (battery_acpi_dir, R_OK))
-		walk_directory (battery_acpi_dir, battery_read_acpi,
-				/* user_data = */ NULL,
-				/* include hidden */ 0);
-	else
-	{
-		char errbuf[1024];
-		c_complain_once (LOG_WARNING, &acpi_dir_complaint,
-				"battery plugin: Failed to access `%s': %s",
-				battery_acpi_dir,
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-	}
+	if (i == 0)
+		return (ENOENT);
+	return (0);
+} /* }}} int read_pmu */
+
+static int battery_read (void) /* {{{ */
+{
+	int status;
 
+	DEBUG ("battery plugin: Trying sysfs ...");
+	status = read_sysfs ();
+	if (status == 0)
+		return (0);
+
+	DEBUG ("battery plugin: Trying acpi ...");
+	status = read_acpi ();
+	if (status == 0)
+		return (0);
+
+	DEBUG ("battery plugin: Trying pmu ...");
+	status = read_pmu ();
+	if (status == 0)
+		return (0);
+
+	ERROR ("battery plugin: Add available input methods failed.");
+	return (-1);
+} /* }}} int battery_read */
 #endif /* KERNEL_LINUX */
 
+static int battery_config (oconfig_item_t *ci)
+{
+	int i;
+
+	for (i = 0; i < ci->children_num; i++)
+	{
+		oconfig_item_t *child = ci->children + i;
+
+		if (strcasecmp ("ValuesPercentage", child->key) == 0)
+			cf_util_get_boolean (child, &report_percent);
+		else if (strcasecmp ("ReportDegraded", child->key) == 0)
+			cf_util_get_boolean (child, &report_degraded);
+		else
+			WARNING ("battery plugin: Ignoring unknown "
+					"configuration option \"%s\".",
+					child->key);
+	}
+
 	return (0);
-}
+} /* }}} int battery_config */
 
 void module_register (void)
 {
-	plugin_register_init ("battery", battery_init);
+	plugin_register_complex_config ("battery", battery_config);
 	plugin_register_read ("battery", battery_read);
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/bind.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/bind.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/bind.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/bind.c	2015-05-20 20:04:47.183035394 +0800
@@ -106,12 +106,13 @@
 static int global_opcodes          = 1;
 static int global_qtypes           = 1;
 static int global_server_stats     = 1;
 static int global_zone_maint_stats = 1;
 static int global_resolver_stats   = 0;
 static int global_memory_stats     = 1;
+static int timeout                 = -1;
 
 static cb_view_t *views = NULL;
 static size_t     views_num = 0;
 
 static CURL *curl = NULL;
 
@@ -366,15 +367,17 @@
 
   status = parse_value (str_ptr, &value, DS_TYPE_DERIVE);
   if (status != 0)
   {
     ERROR ("bind plugin: Parsing string \"%s\" to derive value failed.",
         str_ptr);
+    xmlFree(str_ptr);
     return (-1);
   }
 
+  xmlFree(str_ptr);
   *ret_value = value.derive;
   return (0);
 } /* }}} int bind_xml_read_derive */
 
 static int bind_xml_read_gauge (xmlDoc *doc, xmlNode *node, /* {{{ */
     gauge_t *ret_value)
@@ -624,57 +627,147 @@
 
   xmlXPathFreeObject(xpathObj);
 
   return (0);
 } /* }}} int bind_parse_generic_value_list */
 
+/*
+ * bind_parse_generic_name_attr_value_list
+ *
+ * Reads statistics in the form:
+ * <foo>
+ *   <counter name="name0">123</counter>
+ *   <counter name="name1">234</counter>
+ *   <counter name="name2">345</counter>
+ *   :
+ * </foo>
+ */
+static int bind_parse_generic_name_attr_value_list (const char *xpath_expression, /* {{{ */
+    list_callback_t list_callback,
+    void *user_data,
+    xmlDoc *doc, xmlXPathContext *xpathCtx,
+    time_t current_time, int ds_type)
+{
+  xmlXPathObject *xpathObj = NULL;
+  int num_entries;
+  int i;
+
+  xpathObj = xmlXPathEvalExpression(BAD_CAST xpath_expression, xpathCtx);
+  if (xpathObj == NULL)
+  {
+    ERROR("bind plugin: Unable to evaluate XPath expression `%s'.",
+        xpath_expression);
+    return (-1);
+  }
+
+  num_entries = 0;
+  /* Iterate over all matching nodes. */
+  for (i = 0; xpathObj->nodesetval && (i < xpathObj->nodesetval->nodeNr); i++)
+  {
+    xmlNode *child;
+
+    /* Iterate over all child nodes. */
+    for (child = xpathObj->nodesetval->nodeTab[i]->xmlChildrenNode;
+        child != NULL;
+        child = child->next)
+    {
+      if (child->type != XML_ELEMENT_NODE)
+        continue;
+
+      if (strncmp ("counter", (char *) child->name, strlen ("counter")) != 0)
+        continue;
+
+      char *attr_name;
+      value_t value;
+      int status;
+
+      attr_name = (char *) xmlGetProp (child, BAD_CAST "name");
+      if (attr_name == NULL)
+      {
+        DEBUG ("bind plugin: found <counter> without name.");
+        continue;
+      }
+      if (ds_type == DS_TYPE_GAUGE)
+        status = bind_xml_read_gauge (doc, child, &value.gauge);
+      else
+        status = bind_xml_read_derive (doc, child, &value.derive);
+      if (status != 0)
+        continue;
+
+      status = (*list_callback) (attr_name, value, current_time, user_data);
+      if (status == 0)
+        num_entries++;
+    }
+  }
+
+  DEBUG ("bind plugin: Found %d %s for XPath expression `%s'",
+      num_entries, (num_entries == 1) ? "entry" : "entries",
+      xpath_expression);
+
+  xmlXPathFreeObject(xpathObj);
+
+  return (0);
+} /* }}} int bind_parse_generic_name_attr_value_list */
+
 static int bind_xml_stats_handle_zone (int version, xmlDoc *doc, /* {{{ */
     xmlXPathContext *path_ctx, xmlNode *node, cb_view_t *view,
     time_t current_time)
 {
   xmlXPathObject *path_obj;
   char *zone_name = NULL;
   int i;
   size_t j;
 
-  path_obj = xmlXPathEvalExpression (BAD_CAST "name", path_ctx);
-  if (path_obj == NULL)
+  if (version >= 3)
   {
-    ERROR ("bind plugin: xmlXPathEvalExpression failed.");
-    return (-1);
+    char *n = (char *) xmlGetProp (node, BAD_CAST "name");
+    char *c = (char *) xmlGetProp (node, BAD_CAST "rdataclass");
+    if (n && c)
+    {
+      zone_name = (char *) xmlMalloc(strlen(n) + strlen(c) + 2);
+      snprintf(zone_name, strlen(n) + strlen(c) + 2, "%s/%s", n, c);
+    }
+    xmlFree(n);
+    xmlFree(c);
   }
-
-  for (i = 0; path_obj->nodesetval && (i < path_obj->nodesetval->nodeNr); i++)
+  else
   {
-    zone_name = (char *) xmlNodeListGetString (doc,
-        path_obj->nodesetval->nodeTab[i]->xmlChildrenNode, 1);
-    if (zone_name != NULL)
-      break;
+    path_obj = xmlXPathEvalExpression (BAD_CAST "name", path_ctx);
+    if (path_obj == NULL)
+    {
+      ERROR ("bind plugin: xmlXPathEvalExpression failed.");
+      return (-1);
+    }
+
+    for (i = 0; path_obj->nodesetval && (i < path_obj->nodesetval->nodeNr); i++)
+    {
+      zone_name = (char *) xmlNodeListGetString (doc,
+          path_obj->nodesetval->nodeTab[i]->xmlChildrenNode, 1);
+      if (zone_name != NULL)
+        break;
+    }
+    xmlXPathFreeObject (path_obj);
   }
 
   if (zone_name == NULL)
   {
     ERROR ("bind plugin: Could not determine zone name.");
-    xmlXPathFreeObject (path_obj);
     return (-1);
   }
 
   for (j = 0; j < view->zones_num; j++)
   {
     if (strcasecmp (zone_name, view->zones[j]) == 0)
       break;
   }
 
   xmlFree (zone_name);
   zone_name = NULL;
 
-  if (j >= views_num)
-  {
-    xmlXPathFreeObject (path_obj);
+  if (j >= views->zones_num)
     return (0);
-  }
 
   zone_name = view->zones[j];
 
   DEBUG ("bind plugin: bind_xml_stats_handle_zone: Found zone `%s'.",
       zone_name);
 
@@ -687,20 +780,37 @@
       plugin_instance
     };
 
     ssnprintf (plugin_instance, sizeof (plugin_instance), "%s-zone-%s",
         view->name, zone_name);
 
-    bind_parse_generic_value_list (/* xpath = */ "counters",
+    if (version == 3)
+    {
+      list_info_ptr_t list_info =
+      {
+        plugin_instance,
+        /* type = */ "dns_qtype"
+      };
+      bind_parse_generic_name_attr_value_list (/* xpath = */ "counters[@type='rcode']",
         /* callback = */ bind_xml_table_callback,
         /* user_data = */ &table_ptr,
         doc, path_ctx, current_time, DS_TYPE_COUNTER);
+      bind_parse_generic_name_attr_value_list (/* xpath = */ "counters[@type='qtype']",
+        /* callback = */ bind_xml_list_callback,
+        /* user_data = */ &list_info,
+        doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    }
+    else
+    {
+      bind_parse_generic_value_list (/* xpath = */ "counters",
+          /* callback = */ bind_xml_table_callback,
+          /* user_data = */ &table_ptr,
+          doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    }
   } /* }}} */
 
-  xmlXPathFreeObject (path_obj);
-
   return (0);
 } /* }}} int bind_xml_stats_handle_zone */
 
 static int bind_xml_stats_search_zones (int version, xmlDoc *doc, /* {{{ */
     xmlXPathContext *path_ctx, xmlNode *node, cb_view_t *view,
     time_t current_time)
@@ -723,12 +833,14 @@
     xmlXPathFreeContext (zone_path_context);
     return (-1);
   }
 
   for (i = 0; i < zone_nodes->nodesetval->nodeNr; i++)
   {
+    xmlNode *node;
+
     node = zone_nodes->nodesetval->nodeTab[i];
     assert (node != NULL);
 
     zone_path_context->node = node;
 
     bind_xml_stats_handle_zone (version, doc, zone_path_context, node, view,
@@ -740,51 +852,74 @@
   return (0);
 } /* }}} int bind_xml_stats_search_zones */
 
 static int bind_xml_stats_handle_view (int version, xmlDoc *doc, /* {{{ */
     xmlXPathContext *path_ctx, xmlNode *node, time_t current_time)
 {
-  xmlXPathObject *path_obj;
   char *view_name = NULL;
   cb_view_t *view;
   int i;
   size_t j;
 
-  path_obj = xmlXPathEvalExpression (BAD_CAST "name", path_ctx);
-  if (path_obj == NULL)
+  if (version == 3)
   {
-    ERROR ("bind plugin: xmlXPathEvalExpression failed.");
-    return (-1);
-  }
+    view_name = (char*) xmlGetProp(node, BAD_CAST "name");
 
-  for (i = 0; path_obj->nodesetval && (i < path_obj->nodesetval->nodeNr); i++)
-  {
-    view_name = (char *) xmlNodeListGetString (doc,
-        path_obj->nodesetval->nodeTab[i]->xmlChildrenNode, 1);
-    if (view_name != NULL)
-      break;
-  }
+    if (view_name == NULL)
+    {
+      ERROR ("bind plugin: Could not determine view name.");
+      return (-1);
+    }
 
-  if (view_name == NULL)
+    for (j = 0; j < views_num; j++)
+    {
+      if (strcasecmp (view_name, views[j].name) == 0)
+        break;
+    }
+
+    xmlFree (view_name);
+    view_name = NULL;
+  }
+  else
   {
-    ERROR ("bind plugin: Could not determine view name.");
+    xmlXPathObject *path_obj;
+    path_obj = xmlXPathEvalExpression (BAD_CAST "name", path_ctx);
+    if (path_obj == NULL)
+    {
+      ERROR ("bind plugin: xmlXPathEvalExpression failed.");
+      return (-1);
+    }
+
+    for (i = 0; path_obj->nodesetval && (i < path_obj->nodesetval->nodeNr); i++)
+    {
+      view_name = (char *) xmlNodeListGetString (doc,
+          path_obj->nodesetval->nodeTab[i]->xmlChildrenNode, 1);
+      if (view_name != NULL)
+        break;
+    }
+
+    if (view_name == NULL)
+    {
+      ERROR ("bind plugin: Could not determine view name.");
+      xmlXPathFreeObject (path_obj);
+      return (-1);
+    }
+
+    for (j = 0; j < views_num; j++)
+    {
+      if (strcasecmp (view_name, views[j].name) == 0)
+        break;
+    }
+
+    xmlFree (view_name);
     xmlXPathFreeObject (path_obj);
-    return (-1);
-  }
 
-  for (j = 0; j < views_num; j++)
-  {
-    if (strcasecmp (view_name, views[j].name) == 0)
-      break;
+    view_name = NULL;
+    path_obj = NULL;
   }
 
-  xmlFree (view_name);
-  xmlXPathFreeObject (path_obj);
-
-  view_name = NULL;
-  path_obj = NULL;
 
   if (j >= views_num)
     return (0);
 
   view = views + j;
 
@@ -799,17 +934,26 @@
       plugin_instance,
       /* type = */ "dns_qtype"
     };
 
     ssnprintf (plugin_instance, sizeof (plugin_instance), "%s-qtypes",
         view->name);
-
-    bind_parse_generic_name_value (/* xpath = */ "rdtype",
+    if (version == 3)
+    {
+      bind_parse_generic_name_attr_value_list (/* xpath = */ "counters[@type='resqtype']",
+        /* callback = */ bind_xml_list_callback,
+        /* user_data = */ &list_info,
+        doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    }
+    else
+    {
+      bind_parse_generic_name_value (/* xpath = */ "rdtype",
         /* callback = */ bind_xml_list_callback,
         /* user_data = */ &list_info,
         doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    }
   } /* }}} */
 
   if (view->resolver_stats != 0) /* {{{ */
   {
     char plugin_instance[DATA_MAX_NAME_LEN];
     translation_table_ptr_t table_ptr =
@@ -818,17 +962,26 @@
       resstats_translation_table_length,
       plugin_instance
     };
 
     ssnprintf (plugin_instance, sizeof (plugin_instance),
         "%s-resolver_stats", view->name);
-
-    bind_parse_generic_name_value ("resstat",
-        /* callback = */ bind_xml_table_callback,
-        /* user_data = */ &table_ptr,
-        doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    if (version == 3)
+    {
+      bind_parse_generic_name_attr_value_list ("counters[@type='resstats']",
+          /* callback = */ bind_xml_table_callback,
+          /* user_data = */ &table_ptr,
+          doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    }
+    else
+    {
+      bind_parse_generic_name_value ("resstat",
+          /* callback = */ bind_xml_table_callback,
+          /* user_data = */ &table_ptr,
+          doc, path_ctx, current_time, DS_TYPE_COUNTER);
+    }
   } /* }}} */
 
   /* Record types in the cache */
   if (view->cacherrsets != 0) /* {{{ */
   {
     char plugin_instance[DATA_MAX_NAME_LEN];
@@ -891,34 +1044,151 @@
 
   xmlXPathFreeObject (view_nodes);
   xmlXPathFreeContext (view_path_context);
   return (0);
 } /* }}} int bind_xml_stats_search_views */
 
-static int bind_xml_stats (int version, xmlDoc *doc, /* {{{ */
-    xmlXPathContext *xpathCtx, xmlNode *statsnode)
+static void bind_xml_stats_v3 (xmlDoc *doc, /* {{{ */
+    xmlXPathContext *xpathCtx, xmlNode *statsnode, time_t current_time)
 {
-  time_t current_time = 0;
-  int status;
+  /* XPath:     server/counters[@type='opcode']
+   * Variables: QUERY, IQUERY, NOTIFY, UPDATE, ...
+   * Layout v3:
+   *   <counters type="opcode">
+   *     <counter name="A">1</counter>
+   *     :
+   *   </counters>
+   */
+  if (global_opcodes != 0)
+  {
+    list_info_ptr_t list_info =
+    {
+      /* plugin instance = */ "global-opcodes",
+      /* type = */ "dns_opcode"
+    };
+    bind_parse_generic_name_attr_value_list (/* xpath = */ "server/counters[@type='opcode']",
+      /* callback = */ bind_xml_list_callback,
+      /* user_data = */ &list_info,
+      doc, xpathCtx, current_time, DS_TYPE_COUNTER);
+  }
 
-  xpathCtx->node = statsnode;
+  /* XPath:     server/counters[@type='qtype']
+   * Variables: RESERVED0, A, NS, CNAME, SOA, MR, PTR, HINFO, MX, TXT, RP,
+   *            X25, PX, AAAA, LOC, SRV, NAPTR, A6, DS, RRSIG, NSEC, DNSKEY,
+   *            SPF, TKEY, IXFR, AXFR, ANY, ..., Others
+   * Layout v3:
+   *   <counters type="opcode">
+   *     <counter name="A">1</counter>
+   *     :
+   *   </counters>
+   */
+  if (global_qtypes != 0)
+  {
+    list_info_ptr_t list_info =
+    {
+      /* plugin instance = */ "global-qtypes",
+      /* type = */ "dns_qtype"
+    };
 
-  /* TODO: Check `server/boot-time' to recognize server restarts. */
+    bind_parse_generic_name_attr_value_list (/* xpath = */ "server/counters[@type='qtype']",
+        /* callback = */ bind_xml_list_callback,
+        /* user_data = */ &list_info,
+        doc, xpathCtx, current_time, DS_TYPE_COUNTER);
+  }
 
-  status = bind_xml_read_timestamp ("server/current-time",
-      doc, xpathCtx, &current_time);
-  if (status != 0)
+  /* XPath:     server/counters[@type='nsstat']
+   * Variables: Requestv4, Requestv6, ReqEdns0, ReqBadEDNSVer, ReqTSIG,
+   *            ReqSIG0, ReqBadSIG, ReqTCP, AuthQryRej, RecQryRej, XfrRej,
+   *            UpdateRej, Response, TruncatedResp, RespEDNS0, RespTSIG,
+   *            RespSIG0, QrySuccess, QryAuthAns, QryNoauthAns, QryReferral,
+   *            QryNxrrset, QrySERVFAIL, QryFORMERR, QryNXDOMAIN, QryRecursion,
+   *            QryDuplicate, QryDropped, QryFailure, XfrReqDone, UpdateReqFwd,
+   *            UpdateRespFwd, UpdateFwdFail, UpdateDone, UpdateFail,
+   *            UpdateBadPrereq
+   * Layout v3:
+   *   <counters type="nsstat"
+   *     <counter name="Requestv4">1</counter>
+   *     <counter name="Requestv6">0</counter>
+   *     :
+   *   </counter>
+   */
+  if (global_server_stats)
   {
-    ERROR ("bind plugin: Reading `server/current-time' failed.");
-    return (-1);
+    translation_table_ptr_t table_ptr =
+    {
+      nsstats_translation_table,
+      nsstats_translation_table_length,
+      /* plugin_instance = */ "global-server_stats"
+    };
+
+    bind_parse_generic_name_attr_value_list ("server/counters[@type='nsstat']",
+        /* callback = */ bind_xml_table_callback,
+        /* user_data = */ &table_ptr,
+        doc, xpathCtx, current_time, DS_TYPE_COUNTER);
   }
-  DEBUG ("bind plugin: Current server time is %i.", (int) current_time);
 
-  /* XPath:     server/requests/opcode
+  /* XPath:     server/zonestats, server/zonestat, server/counters[@type='zonestat']
+   * Variables: NotifyOutv4, NotifyOutv6, NotifyInv4, NotifyInv6, NotifyRej,
+   *            SOAOutv4, SOAOutv6, AXFRReqv4, AXFRReqv6, IXFRReqv4, IXFRReqv6,
+   *            XfrSuccess, XfrFail
+   * Layout v3:
+   *   <counters type="zonestat"
+   *     <counter name="NotifyOutv4">0</counter>
+   *     <counter name="NotifyOutv6">0</counter>
+   *     :
+   *   </counter>
+   */
+  if (global_zone_maint_stats)
+  {
+    translation_table_ptr_t table_ptr =
+    {
+      zonestats_translation_table,
+      zonestats_translation_table_length,
+      /* plugin_instance = */ "global-zone_maint_stats"
+    };
+
+    bind_parse_generic_name_attr_value_list ("server/counters[@type='zonestat']",
+        /* callback = */ bind_xml_table_callback,
+        /* user_data = */ &table_ptr,
+        doc, xpathCtx, current_time, DS_TYPE_COUNTER);
+  }
+
+  /* XPath:     server/resstats, server/counters[@type='resstat']
+   * Variables: Queryv4, Queryv6, Responsev4, Responsev6, NXDOMAIN, SERVFAIL,
+   *            FORMERR, OtherError, EDNS0Fail, Mismatch, Truncated, Lame,
+   *            Retry, GlueFetchv4, GlueFetchv6, GlueFetchv4Fail,
+   *            GlueFetchv6Fail, ValAttempt, ValOk, ValNegOk, ValFail
+   * Layout v3:
+   *   <counters type="resstat"
+   *     <counter name="Queryv4">0</counter>
+   *     <counter name="Queryv6">0</counter>
+   *     :
+   *   </counter>
+   */
+  if (global_resolver_stats != 0)
+  {
+    translation_table_ptr_t table_ptr =
+    {
+      resstats_translation_table,
+      resstats_translation_table_length,
+      /* plugin_instance = */ "global-resolver_stats"
+    };
+
+    bind_parse_generic_name_attr_value_list ("server/counters[@type='resstat']",
+        /* callback = */ bind_xml_table_callback,
+        /* user_data = */ &table_ptr,
+        doc, xpathCtx, current_time, DS_TYPE_COUNTER);
+  }
+} /* }}} bind_xml_stats_v3 */
+
+static void bind_xml_stats_v1_v2 (int version, xmlDoc *doc, /* {{{ */
+    xmlXPathContext *xpathCtx, xmlNode *statsnode, time_t current_time)
+{
+  /* XPath:     server/requests/opcode, server/counters[@type='opcode']
    * Variables: QUERY, IQUERY, NOTIFY, UPDATE, ...
-   * Layout:
+   * Layout V1 and V2:
    *   <opcode>
    *     <name>A</name>
    *     <counter>1</counter>
    *   </opcode>
    *   :
    */
@@ -933,17 +1203,17 @@
     bind_parse_generic_name_value (/* xpath = */ "server/requests/opcode",
         /* callback = */ bind_xml_list_callback,
         /* user_data = */ &list_info,
         doc, xpathCtx, current_time, DS_TYPE_COUNTER);
   }
 
-  /* XPath:     server/queries-in/rdtype
+  /* XPath:     server/queries-in/rdtype, server/counters[@type='qtype']
    * Variables: RESERVED0, A, NS, CNAME, SOA, MR, PTR, HINFO, MX, TXT, RP,
    *            X25, PX, AAAA, LOC, SRV, NAPTR, A6, DS, RRSIG, NSEC, DNSKEY,
    *            SPF, TKEY, IXFR, AXFR, ANY, ..., Others
-   * Layout:
+   * Layout v1 or v2:
    *   <rdtype>
    *     <name>A</name>
    *     <counter>1</counter>
    *   </rdtype>
    *   :
    */
@@ -957,14 +1227,14 @@
 
     bind_parse_generic_name_value (/* xpath = */ "server/queries-in/rdtype",
         /* callback = */ bind_xml_list_callback,
         /* user_data = */ &list_info,
         doc, xpathCtx, current_time, DS_TYPE_COUNTER);
   }
-  
-  /* XPath:     server/nsstats, server/nsstat
+
+  /* XPath:     server/nsstats, server/nsstat, server/counters[@type='nsstat']
    * Variables: Requestv4, Requestv6, ReqEdns0, ReqBadEDNSVer, ReqTSIG,
    *            ReqSIG0, ReqBadSIG, ReqTCP, AuthQryRej, RecQryRej, XfrRej,
    *            UpdateRej, Response, TruncatedResp, RespEDNS0, RespTSIG,
    *            RespSIG0, QrySuccess, QryAuthAns, QryNoauthAns, QryReferral,
    *            QryNxrrset, QrySERVFAIL, QryFORMERR, QryNXDOMAIN, QryRecursion,
    *            QryDuplicate, QryDropped, QryFailure, XfrReqDone, UpdateReqFwd,
@@ -987,13 +1257,13 @@
    *   </nsstat>
    *   :
    */
   if (global_server_stats)
   {
     translation_table_ptr_t table_ptr =
-    { 
+    {
       nsstats_translation_table,
       nsstats_translation_table_length,
       /* plugin_instance = */ "global-server_stats"
     };
 
     if (version == 1)
@@ -1009,13 +1279,13 @@
           /* callback = */ bind_xml_table_callback,
           /* user_data = */ &table_ptr,
           doc, xpathCtx, current_time, DS_TYPE_COUNTER);
     }
   }
 
-  /* XPath:     server/zonestats, server/zonestat
+  /* XPath:     server/zonestats, server/zonestat, server/counters[@type='zonestat']
    * Variables: NotifyOutv4, NotifyOutv6, NotifyInv4, NotifyInv6, NotifyRej,
    *            SOAOutv4, SOAOutv6, AXFRReqv4, AXFRReqv6, IXFRReqv4, IXFRReqv6,
    *            XfrSuccess, XfrFail
    * Layout v1:
    *   <zonestats>
    *     <NotifyOutv4>0</NotifyOutv4>
@@ -1033,13 +1303,13 @@
    *   </zonestat>
    *   :
    */
   if (global_zone_maint_stats)
   {
     translation_table_ptr_t table_ptr =
-    { 
+    {
       zonestats_translation_table,
       zonestats_translation_table_length,
       /* plugin_instance = */ "global-zone_maint_stats"
     };
 
     if (version == 1)
@@ -1055,13 +1325,13 @@
           /* callback = */ bind_xml_table_callback,
           /* user_data = */ &table_ptr,
           doc, xpathCtx, current_time, DS_TYPE_COUNTER);
     }
   }
 
-  /* XPath:     server/resstats
+  /* XPath:     server/resstats, server/counters[@type='resstat']
    * Variables: Queryv4, Queryv6, Responsev4, Responsev6, NXDOMAIN, SERVFAIL,
    *            FORMERR, OtherError, EDNS0Fail, Mismatch, Truncated, Lame,
    *            Retry, GlueFetchv4, GlueFetchv6, GlueFetchv4Fail,
    *            GlueFetchv6Fail, ValAttempt, ValOk, ValNegOk, ValFail
    * Layout v1:
    *   <resstats>
@@ -1080,13 +1350,13 @@
    *   </resstat>
    *   :
    */
   if (global_resolver_stats != 0)
   {
     translation_table_ptr_t table_ptr =
-    { 
+    {
       resstats_translation_table,
       resstats_translation_table_length,
       /* plugin_instance = */ "global-resolver_stats"
     };
 
     if (version == 1)
@@ -1101,16 +1371,45 @@
       bind_parse_generic_name_value ("server/resstat",
           /* callback = */ bind_xml_table_callback,
           /* user_data = */ &table_ptr,
           doc, xpathCtx, current_time, DS_TYPE_COUNTER);
     }
   }
+} /* }}} bind_xml_stats_v1_v2 */
+
+static int bind_xml_stats (int version, xmlDoc *doc, /* {{{ */
+    xmlXPathContext *xpathCtx, xmlNode *statsnode)
+{
+  time_t current_time = 0;
+  int status;
+
+  xpathCtx->node = statsnode;
+
+  /* TODO: Check `server/boot-time' to recognize server restarts. */
+
+  status = bind_xml_read_timestamp ("server/current-time",
+      doc, xpathCtx, &current_time);
+  if (status != 0)
+  {
+    ERROR ("bind plugin: Reading `server/current-time' failed.");
+    return (-1);
+  }
+  DEBUG ("bind plugin: Current server time is %i.", (int) current_time);
+
+  if (version == 3)
+  {
+    bind_xml_stats_v3(doc, xpathCtx, statsnode, current_time);
+  }
+  else
+  {
+    bind_xml_stats_v1_v2(version, doc, xpathCtx, statsnode, current_time);
+  }
 
   /* XPath:  memory/summary
    * Variables: TotalUse, InUse, BlockSize, ContextSize, Lost
-   * Layout: v2:
+   * Layout: v2 and v3:
    *   <summary>
    *     <TotalUse>6587096</TotalUse>
    *     <InUse>1345424</InUse>
    *     <BlockSize>5505024</BlockSize>
    *     <ContextSize>3732456</ContextSize>
    *     <Lost>0</Lost>
@@ -1158,12 +1457,70 @@
   {
     ERROR ("bind plugin: xmlXPathNewContext failed.");
     xmlFreeDoc (doc);
     return (-1);
   }
 
+  //
+  // version 3.* of statistics XML (since BIND9.9)
+  //
+
+  xpathObj = xmlXPathEvalExpression (BAD_CAST "/statistics", xpathCtx);
+  if (xpathObj == NULL || xpathObj->nodesetval == NULL || xpathObj->nodesetval->nodeNr == 0)
+  {
+    DEBUG ("bind plugin: Statistics appears not to be v3");
+    // we will fallback to v1 or v2 detection
+    if (xpathObj != NULL) { xmlXPathFreeObject (xpathObj); }
+  }
+  else
+  {
+    for (i = 0; i < xpathObj->nodesetval->nodeNr; i++)
+    {
+      xmlNode *node;
+      char *attr_version;
+
+      node = xpathObj->nodesetval->nodeTab[i];
+      assert (node != NULL);
+
+      attr_version = (char *) xmlGetProp (node, BAD_CAST "version");
+      if (attr_version == NULL)
+      {
+        NOTICE ("bind plugin: Found <statistics> tag doesn't have a "
+            "`version' attribute.");
+        continue;
+      }
+      DEBUG ("bind plugin: Found: <statistics version=\"%s\">", attr_version);
+
+      if (strncmp ("3.", attr_version, strlen ("3.")) != 0)
+      {
+        /* TODO: Use the complaint mechanism here. */
+        NOTICE ("bind plugin: Found <statistics> tag with version `%s'. "
+            "Unfortunately I have no clue how to parse that. "
+            "Please open a bug report for this.", attr_version);
+        xmlFree (attr_version);
+        continue;
+      }
+      ret = bind_xml_stats (3, doc, xpathCtx, node);
+
+      xmlFree (attr_version);
+      /* One <statistics> node ought to be enough. */
+      break;
+    }
+
+    // we are finished, early-return
+    xmlXPathFreeObject (xpathObj);
+    xmlXPathFreeContext (xpathCtx);
+    xmlFreeDoc (doc);
+
+    return (ret);
+  }
+
+  //
+  // versions 1.* or 2.* of statistics XML
+  //
+
   xpathObj = xmlXPathEvalExpression (BAD_CAST "/isc/bind/statistics", xpathCtx);
   if (xpathObj == NULL)
   {
     ERROR ("bind plugin: Cannot find the <statistics> tag.");
     xmlXPathFreeContext (xpathCtx);
     xmlFreeDoc (doc);
@@ -1306,13 +1663,13 @@
   tmp->zones_num = 0;
 
   tmp->name = strdup (ci->values[0].value.string);
   if (tmp->name == NULL)
   {
     ERROR ("bind plugin: strdup failed.");
-    sfree (views);
+    free (tmp);
     return (-1);
   }
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *child = ci->children + i;
@@ -1349,13 +1706,12 @@
       {
         WARNING ("bind plugin: The `Url' option needs "
                  "exactly one string argument.");
         return (-1);
       }
 
-      sfree (url);
       url = strdup (child->values[0].value.string);
     } else if (strcasecmp ("OpCodes", child->key) == 0)
       bind_config_set_bool ("OpCodes", &global_opcodes, child);
     else if (strcasecmp ("QTypes", child->key) == 0)
       bind_config_set_bool ("QTypes", &global_qtypes, child);
     else if (strcasecmp ("ServerStats", child->key) == 0)
@@ -1367,12 +1723,14 @@
     else if (strcasecmp ("MemoryStats", child->key) == 0)
       bind_config_set_bool ("MemoryStats", &global_memory_stats, child);
     else if (strcasecmp ("View", child->key) == 0)
       bind_config_add_view (child);
     else if (strcasecmp ("ParseTime", child->key) == 0)
       cf_util_get_boolean (child, &config_parse_time);
+    else if (strcasecmp ("Timeout", child->key) == 0)
+      cf_util_get_int (child, &timeout);
     else
     {
       WARNING ("bind plugin: Unknown configuration option "
           "`%s' will be ignored.", child->key);
     }
   }
@@ -1391,17 +1749,22 @@
     ERROR ("bind plugin: bind_init: curl_easy_init failed.");
     return (-1);
   }
 
   curl_easy_setopt (curl, CURLOPT_NOSIGNAL, 1L);
   curl_easy_setopt (curl, CURLOPT_WRITEFUNCTION, bind_curl_callback);
-  curl_easy_setopt (curl, CURLOPT_USERAGENT, PACKAGE_NAME"/"PACKAGE_VERSION);
+  curl_easy_setopt (curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
   curl_easy_setopt (curl, CURLOPT_ERRORBUFFER, bind_curl_error);
   curl_easy_setopt (curl, CURLOPT_URL, (url != NULL) ? url : BIND_DEFAULT_URL);
   curl_easy_setopt (curl, CURLOPT_FOLLOWLOCATION, 1L);
   curl_easy_setopt (curl, CURLOPT_MAXREDIRS, 50L);
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+  curl_easy_setopt (curl, CURLOPT_TIMEOUT_MS, (timeout >= 0) ?
+      (long) timeout : CDTIME_T_TO_MS(plugin_get_interval()));
+#endif
+
 
   return (0);
 } /* }}} int bind_init */
 
 static int bind_read (void) /* {{{ */
 {
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: ceph.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/cgroups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/cgroups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/cgroups.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/cgroups.c	2015-03-10 22:14:45.817113888 +0800
@@ -141,13 +141,13 @@
 	fclose (fh);
 	return (0);
 } /* int read_cpuacct_procs */
 
 /*
  * Gets called for every file/folder in /sys/fs/cgroup/cpu,cpuacct (or
- * whereever cpuacct is mounted on the system). Calls walk_directory with the
+ * wherever cpuacct is mounted on the system). Calls walk_directory with the
  * read_cpuacct_procs callback on every folder it finds, such as "system".
  */
 static int read_cpuacct_root (const char *dirname, const char *filename,
 		void *user_data)
 {
 	char abs_path[PATH_MAX];
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.1	2016-07-26 15:48:06.873845413 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.1	2015-03-10 22:29:57.236961731 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD 1 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd \- System statistics collection daemon
@@ -173,13 +173,17 @@
 directory to work correctly. For everyday-usage use the \fBPIDFile\fR
 config-option.
 .IP "\fB\-f\fR" 4
 .IX Item "-f"
 Don't fork to the background. \fIcollectd\fR will also \fBnot\fR close standard file
 descriptors, detach from the session nor write a pid file. This is mainly
-thought for 'supervising' init replacements such as \fIrunit\fR.
+thought for 'supervising' init replacements such as \fIrunit\fR. If using
+\&\fIupstart\fR or \fIsystemd\fR though, starting with version 5.5.0 \fIcollectd\fR is
+able to notify these two init replacements, and \fBdoes\fR require forking to the
+background for process supervision. The \fIcontrib/\fR directory has sample
+\&\fIupstart\fR and \fIsystemd\fR configuration files.
 .IP "\fB\-h\fR" 4
 .IX Item "-h"
 Output usage information and exit.
 .SH "PLUGINS"
 .IX Header "PLUGINS"
 As noted above, the real power of collectd lies within it's plugins. A
@@ -241,7 +245,7 @@
 \&\fIcollectd\-snmp\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 \&\fItypes.db\fR\|(5),
 <http://collectd.org/>
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+Florian Forster <octo@collectd.org>
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: collectd.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.conf.5	2016-07-26 15:48:07.489846912 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.conf.5	2015-05-21 04:02:32.956552499 +0800
@@ -130,36 +130,36 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD.CONF 5 "2015-05-20" "5.4.2.911.g0c88d3b" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
 \&  BaseDir "/var/lib/collectd"
 \&  PIDFile "/run/collectd.pid"
 \&  Interval 10.0
-\&  
+\&
 \&  LoadPlugin cpu
 \&  LoadPlugin load
-\&  
+\&
 \&  <LoadPlugin df>
 \&    Interval 3600
 \&  </LoadPlugin>
 \&  <Plugin df>
 \&    ValuesPercentage true
 \&  </Plugin>
-\&  
+\&
 \&  LoadPlugin ping
 \&  <Plugin ping>
 \&    Host "example.org"
 \&    Host "provider.net"
 \&  </Plugin>
 .Ve
@@ -275,12 +275,23 @@
 the block is ignored.
 .Sp
 When set to \fBtrue\fR, explicit \fBLoadPlugin\fR statements are not required. Each
 \&\fB<Plugin\ ...>\fR block acts as if it was immediately preceded by a
 \&\fBLoadPlugin\fR statement. \fBLoadPlugin\fR statements are still required for
 plugins that don't provide any configuration, e.g. the \fILoad plugin\fR.
+.IP "\fBCollectInternalStats\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "CollectInternalStats false|true"
+When set to \fBtrue\fR, various statistics about the \fIcollectd\fR daemon will be
+collected, with \*(L"collectd\*(R" as the \fIplugin name\fR. Defaults to \fBfalse\fR.
+.Sp
+The \*(L"write_queue\*(R" \fIplugin instance\fR reports the number of elements currently
+queued and the number of elements dropped off the queue by the
+\&\fBWriteQueueLimitLow\fR/\fBWriteQueueLimitHigh\fR mechanism.
+.Sp
+The \*(L"cache\*(R" \fIplugin instance\fR reports the number of elements in the value list
+cache (the cache you can interact with using \fIcollectd\-unixsock\fR\|(5)).
 .IP "\fBInclude\fR \fIPath\fR [\fIpattern\fR]" 4
 .IX Item "Include Path [pattern]"
 If \fIPath\fR points to a file, includes that file. If \fIPath\fR points to a
 directory, recursively includes all files within that directory and its
 subdirectories. If the \f(CW\*(C`wordexp\*(C'\fR function is available on your system,
 shell-like wildcards are expanded before files are included. This means you can
@@ -304,13 +315,17 @@
 .IX Item "Filter pattern"
 If the \f(CW\*(C`fnmatch\*(C'\fR function is available on your system, a shell-like wildcard
 \&\fIpattern\fR may be specified to filter which files to include. This may be used
 in combination with recursively including a directory to easily be able to
 arbitrarily mix configuration files and other documents (e.g. \s-1README\s0 files).
 The given example is similar to the first example above but includes all files
-matching \f(CW\*(C`*.conf\*(C'\fR in any subdirectory of \f(CW\*(C`/etc/collectd.d\*(C'\fR.
+matching \f(CW\*(C`*.conf\*(C'\fR in any subdirectory of \f(CW\*(C`/etc/collectd.d\*(C'\fR:
+.Sp
+.Vb 1
+\&  Include "/etc/collectd.d" "*.conf"
+.Ve
 .RE
 .RS 4
 .Sp
 If more than one files are included by a single \fBInclude\fR option, the files
 will be included in lexicographical order (as defined by the \f(CW\*(C`strcmp\*(C'\fR
 function). Thus, you can e.\ g. use numbered prefixes to specify the
@@ -343,12 +358,19 @@
 values lead to a higher system load produced by collectd, while higher values
 lead to more coarse statistics.
 .Sp
 \&\fBWarning:\fR You should set this once and then never touch it again. If you do,
 \&\fIyou will have to delete all your \s-1RRD\s0 files\fR or know some serious RRDtool
 magic! (Assuming you're using the \fIRRDtool\fR or \fIRRDCacheD\fR plugin.)
+.IP "\fBMaxReadInterval\fR \fISeconds\fR" 4
+.IX Item "MaxReadInterval Seconds"
+Read plugin doubles interval between queries after each failed attempt
+to get data.
+.Sp
+This options limits the maximum value of the interval. The default value is
+\&\fB86400\fR.
 .IP "\fBTimeout\fR \fIIterations\fR" 4
 .IX Item "Timeout Iterations"
 Consider a value list \*(L"missing\*(R" when no update has been read or received for
 \&\fIIterations\fR iterations. By default, \fIcollectd\fR considers a value list
 missing when no update has been received for twice the update interval. Since
 this setting uses iterations, the maximum allowed time without update depends
@@ -392,14 +414,17 @@
 until it reaches 100%.)
 .Sp
 If \fBWriteQueueLimitHigh\fR is set to non-zero and \fBWriteQueueLimitLow\fR is
 unset, the latter will default to half of \fBWriteQueueLimitHigh\fR.
 .Sp
 If you do not want to randomly drop values when the queue size is between
-\&\fILowNum\fR and \fIHighNum\fR, set If \fBWriteQueueLimitHigh\fR and
-\&\fBWriteQueueLimitLow\fR to same value.
+\&\fILowNum\fR and \fIHighNum\fR, set \fBWriteQueueLimitHigh\fR and \fBWriteQueueLimitLow\fR
+to the same value.
+.Sp
+Enabling the \fBCollectInternalStats\fR option is of great help to figure out the
+values to set \fBWriteQueueLimitHigh\fR and \fBWriteQueueLimitLow\fR to.
 .IP "\fBHostname\fR \fIName\fR" 4
 .IX Item "Hostname Name"
 Sets the hostname that identifies a host. If you omit this setting, the
 hostname will be determined using the \fIgethostname\fR\|(2) system call.
 .IP "\fBFQDNLookup\fR \fBtrue|false\fR" 4
 .IX Item "FQDNLookup true|false"
@@ -472,16 +497,16 @@
 .PP
 .Vb 4
 \& <Plugin "aggregation">
 \&   <Aggregation>
 \&     Plugin "cpu"
 \&     Type "cpu"
-\&     
+\&
 \&     GroupBy "Host"
 \&     GroupBy "TypeInstance"
-\&     
+\&
 \&     CalculateSum true
 \&     CalculateAverage true
 \&   </Aggregation>
 \& </Plugin>
 .Ve
 .PP
@@ -546,19 +571,19 @@
 .Vb 5
 \& <Plugin "aggregation">
 \&   <Aggregation>
 \&     Plugin "cpu"
 \&     PluginInstance "/[0,2,4,6,8]$/"
 \&     Type "cpu"
-\&     
+\&
 \&     SetPlugin "cpu"
 \&     SetPluginInstance "even\-%{aggregation}"
-\&     
+\&
 \&     GroupBy "Host"
 \&     GroupBy "TypeInstance"
-\&     
+\&
 \&     CalculateAverage true
 \&   </Aggregation>
 \& </Plugin>
 .Ve
 .Sp
 This will create the files:
@@ -591,13 +616,13 @@
 Boolean options for enabling calculation of the number of value lists, their
 sum, average, minimum, maximum and\ / or standard deviation. All options
 are disabled by default.
 .ie n .SS "Plugin ""amqp"""
 .el .SS "Plugin \f(CWamqp\fP"
 .IX Subsection "Plugin amqp"
-The \fI\s-1AMQP\s0 plugin\fR can be used to communicate with other instances of
+The \fI\s-1AMQMP\s0 plugin\fR can be used to communicate with other instances of
 \&\fIcollectd\fR or third party applications using an \s-1AMQP\s0 message broker. Values
 are sent to or received from the broker, which handles routing, queueing and
 possibly filtering or messages.
 .PP
 .Vb 10
 \& <Plugin "amqp">
@@ -609,12 +634,13 @@
 \&     User "guest"
 \&     Password "guest"
 \&     Exchange "amq.fanout"
 \& #   ExchangeType "fanout"
 \& #   RoutingKey "collectd"
 \& #   Persistent false
+\& #   ConnectionRetryDelay 0
 \& #   Format "command"
 \& #   StoreRates false
 \& #   GraphitePrefix "collectd."
 \& #   GraphiteEscapeChar "_"
 \& #   GraphiteSeparateInstances false
 \& #   GraphiteAlwaysAppendDS false
@@ -627,13 +653,16 @@
 \&     VHost "/"
 \&     User "guest"
 \&     Password "guest"
 \&     Exchange "amq.fanout"
 \& #   ExchangeType "fanout"
 \& #   Queue "queue_name"
+\& #   QueueDurable false
+\& #   QueueAutoDelete true
 \& #   RoutingKey "collectd.#"
+\& #   ConnectionRetryDelay 0
 \&   </Subscribe>
 \& </Plugin>
 .Ve
 .PP
 The plugin's configuration consists of a number of \fIPublish\fR and \fISubscribe\fR
 blocks, which configure sending and receiving of values respectively. The two
@@ -673,14 +702,26 @@
 .IX Item "ExchangeType Type"
 If given, the plugin will try to create the configured \fIexchange\fR with this
 \&\fItype\fR after connecting. When in a \fISubscribe\fR block, the \fIqueue\fR will then
 be bound to this exchange.
 .IP "\fBQueue\fR \fIQueue\fR (Subscribe only)" 4
 .IX Item "Queue Queue (Subscribe only)"
-Configures the \fIqueue\fR name to subscribe to. If no queue name was configures
+Configures the \fIqueue\fR name to subscribe to. If no queue name was configured
 explicitly, a unique queue name will be created by the broker.
+.IP "\fBQueueDurable\fR \fBtrue\fR|\fBfalse\fR (Subscribe only)" 4
+.IX Item "QueueDurable true|false (Subscribe only)"
+Defines if the \fIqueue\fR subscribed to is durable (saved to persistent storage)
+or transient (will disappear if the \s-1AMQP\s0 broker is restarted). Defaults to
+\&\*(L"false\*(R".
+.Sp
+This option should be used in conjunction with the \fIPersistent\fR option on the
+publish side.
+.IP "\fBQueueAutoDelete\fR \fBtrue\fR|\fBfalse\fR (Subscribe only)" 4
+.IX Item "QueueAutoDelete true|false (Subscribe only)"
+Defines if the \fIqueue\fR subscribed to will be deleted once the last consumer
+unsubscribes. Defaults to \*(L"true\*(R".
 .IP "\fBRoutingKey\fR \fIKey\fR" 4
 .IX Item "RoutingKey Key"
 In \fIPublish\fR blocks, this configures the routing key to set on all outgoing
 messages. If not given, the routing key will be computed from the \fIidentifier\fR
 of the value. The host, plugin, type and the two instances are concatenated
 together using dots as the separator and all containing dots replaced with
@@ -695,12 +736,18 @@
 .IP "\fBPersistent\fR \fBtrue\fR|\fBfalse\fR (Publish only)" 4
 .IX Item "Persistent true|false (Publish only)"
 Selects the \fIdelivery method\fR to use. If set to \fBtrue\fR, the \fIpersistent\fR
 mode will be used, i.e. delivery is guaranteed. If set to \fBfalse\fR (the
 default), the \fItransient\fR delivery mode will be used, i.e. messages may be
 lost due to high load, overflowing queues or similar issues.
+.IP "\fBConnectionRetryDelay\fR \fIDelay\fR" 4
+.IX Item "ConnectionRetryDelay Delay"
+When the connection to the \s-1AMQP\s0 broker is lost, defines the time in seconds to
+wait before attempting to reconnect. Defaults to 0, which implies collectd will
+attempt to reconnect at each read interval (in Subscribe mode) or each time
+values are ready for submission (in Publish mode).
 .IP "\fBFormat\fR \fBCommand\fR|\fB\s-1JSON\s0\fR|\fBGraphite\fR (Publish only)" 4
 .IX Item "Format Command|JSON|Graphite (Publish only)"
 Selects the format in which messages are sent to the broker. If set to
 \&\fBCommand\fR (the default), values are sent as \f(CW\*(C`PUTVAL\*(C'\fR commands which are
 identical to the syntax used by the \fIExec\fR and \fIUnixSock plugins\fR. In this
 case, the \f(CW\*(C`Content\-Type\*(C'\fR header field will be set to \f(CW\*(C`text/collectd\*(C'\fR.
@@ -818,12 +865,22 @@
 connecting to a \s-1SSL\s0 enabled server. Enabled by default.
 .IP "\fBCACert\fR \fIFile\fR" 4
 .IX Item "CACert File"
 File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
 possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
 and are checked by default depends on the distribution you use.
+.IP "\fBSSLCiphers\fR \fIlist of ciphers\fR" 4
+.IX Item "SSLCiphers list of ciphers"
+Specifies which ciphers to use in the connection. The list of ciphers
+must specify valid ciphers. See
+<http://www.openssl.org/docs/apps/ciphers.html> for details.
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
+The \fBTimeout\fR option sets the overall timeout for \s-1HTTP\s0 requests to \fB\s-1URL\s0\fR, in
+milliseconds. By default, the configured \fBInterval\fR is used to set the
+timeout.
 .ie n .SS "Plugin ""apcups"""
 .el .SS "Plugin \f(CWapcups\fP"
 .IX Subsection "Plugin apcups"
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname of the host running \fBapcupsd\fR. Defaults to \fBlocalhost\fR. Please note
@@ -885,12 +942,187 @@
 connecting to a \s-1SSL\s0 enabled server. Enabled by default.
 .IP "\fBCACert\fR \fIFile\fR" 4
 .IX Item "CACert File"
 File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
 possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
 and are checked by default depends on the distribution you use.
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
+The \fBTimeout\fR option sets the overall timeout for \s-1HTTP\s0 requests to \fB\s-1URL\s0\fR, in
+milliseconds. By default, the configured \fBInterval\fR is used to set the
+timeout.
+.ie n .SS "Plugin ""barometer"""
+.el .SS "Plugin \f(CWbarometer\fP"
+.IX Subsection "Plugin barometer"
+This plugin reads absolute air pressure using digital barometer sensor on a I2C
+bus. Supported sensors are:
+.IP "\fI\s-1MPL115A2\s0\fR from Freescale, see <http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MPL115A>." 5
+.IX Item "MPL115A2 from Freescale, see <http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MPL115A>."
+.PD 0
+.IP "\fI\s-1MPL3115\s0\fR from Freescale see <http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MPL3115A2>." 5
+.IX Item "MPL3115 from Freescale see <http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MPL3115A2>."
+.IP "\fI\s-1BMP085\s0\fR from Bosch Sensortec" 5
+.IX Item "BMP085 from Bosch Sensortec"
+.PD
+.PP
+The sensor type \- one of the above \- is detected automatically by the plugin
+and indicated in the plugin_instance (you will see subdirectory
+\&\*(L"barometer\-mpl115\*(R" or \*(L"barometer\-mpl3115\*(R", or \*(L"barometer\-bmp085\*(R"). The order of
+detection is \s-1BMP085 \-\s0> \s-1MPL3115 \-\s0> \s-1MPL115A2,\s0 the first one found will be used
+(only one sensor can be used by the plugin).
+.PP
+The plugin provides absolute barometric pressure, air pressure reduced to sea
+level (several possible approximations) and as an auxiliary value also internal
+sensor temperature. It uses (expects/provides) typical metric units \- pressure
+in [hPa], temperature in [C], altitude in [m].
+.PP
+It was developed and tested under Linux only. The only platform dependency is
+the standard Linux i2c\-dev interface (the particular bus driver has to
+support the \s-1SM\s0 Bus command subset).
+.PP
+The reduction or normalization to mean sea level pressure requires (depending
+on selected method/approximation) also altitude and reference to temperature
+sensor(s).  When multiple temperature sensors are configured the minumum of
+their values is always used (expecting that the warmer ones are affected by
+e.g. direct sun light at that moment).
+.PP
+Synopsis:
+.PP
+.Vb 9
+\&  <Plugin "barometer">
+\&     Device            "/dev/i2c\-0";
+\&     Oversampling      512
+\&     PressureOffset    0.0
+\&     TemperatureOffset 0.0
+\&     Normalization     2
+\&     Altitude          238.0
+\&     TemperatureSensor "myserver/onewire\-F10FCA000800/temperature"
+\&  </Plugin>
+.Ve
+.IP "\fBDevice\fR \fIdevice\fR" 4
+.IX Item "Device device"
+The only mandatory configuration parameter.
+.Sp
+Device name of the I2C bus to which the sensor is connected. Note that
+typically you need to have loaded the i2c\-dev module.
+Using i2c\-tools you can check/list i2c buses available on your system by:
+.Sp
+.Vb 1
+\&  i2cdetect \-l
+.Ve
+.Sp
+Then you can scan for devices on given bus. E.g. to scan the whole bus 0 use:
+.Sp
+.Vb 1
+\&  i2cdetect \-y \-a 0
+.Ve
+.Sp
+This way you should be able to verify that the pressure sensor (either type) is
+connected and detected on address 0x60.
+.IP "\fBOversampling\fR \fIvalue\fR" 4
+.IX Item "Oversampling value"
+Optional parameter controlling the oversampling/accuracy. Default value
+is 1 providing fastest and least accurate reading.
+.Sp
+For \fI\s-1MPL115\s0\fR this is the size of the averaging window. To filter out sensor
+noise a simple averaging using floating window of this configurable size is
+used. The plugin will use average of the last \f(CW\*(C`value\*(C'\fR measurements (value of 1
+means no averaging).  Minimal size is 1, maximal 1024.
+.Sp
+For \fI\s-1MPL3115\s0\fR this is the oversampling value. The actual oversampling is
+performed by the sensor and the higher value the higher accuracy and longer
+conversion time (although nothing to worry about in the collectd context).
+Supported values are: 1, 2, 4, 8, 16, 32, 64 and 128. Any other value is
+adjusted by the plugin to the closest supported one.
+.Sp
+For \fI\s-1BMP085\s0\fR this is the oversampling value. The actual oversampling is
+performed by the sensor and the higher value the higher accuracy and longer
+conversion time (although nothing to worry about in the collectd context).
+Supported values are: 1, 2, 4, 8. Any other value is adjusted by the plugin to
+the closest supported one.
+.IP "\fBPressureOffset\fR \fIoffset\fR" 4
+.IX Item "PressureOffset offset"
+Optional parameter for \s-1MPL3115\s0 only.
+.Sp
+You can further calibrate the sensor by supplying pressure and/or temperature
+offsets.  This is added to the measured/caclulated value (i.e. if the measured
+value is too high then use negative offset).
+In hPa, default is 0.0.
+.IP "\fBTemperatureOffset\fR \fIoffset\fR" 4
+.IX Item "TemperatureOffset offset"
+Optional parameter for \s-1MPL3115\s0 only.
+.Sp
+You can further calibrate the sensor by supplying pressure and/or temperature
+offsets.  This is added to the measured/caclulated value (i.e. if the measured
+value is too high then use negative offset).
+In C, default is 0.0.
+.IP "\fBNormalization\fR \fImethod\fR" 4
+.IX Item "Normalization method"
+Optional parameter, default value is 0.
+.Sp
+Normalization method \- what approximation/model is used to compute the mean sea
+level pressure from the air absolute pressure.
+.Sp
+Supported values of the \f(CW\*(C`method\*(C'\fR (integer between from 0 to 2) are:
+.RS 4
+.ie n .IP "\fB0\fR \- no conversion, absolute pressure is simply copied over. For this method you do not need to configure ""Altitude"" or ""TemperatureSensor""." 5
+.el .IP "\fB0\fR \- no conversion, absolute pressure is simply copied over. For this method you do not need to configure \f(CWAltitude\fR or \f(CWTemperatureSensor\fR." 5
+.IX Item "0 - no conversion, absolute pressure is simply copied over. For this method you do not need to configure Altitude or TemperatureSensor."
+.PD 0
+.ie n .IP "\fB1\fR \- international formula for conversion , See <http://en.wikipedia.org/wiki/Atmospheric_pressure#Altitude_atmospheric_pressure_variation>. For this method you have to configure ""Altitude"" but do not need ""TemperatureSensor"" (uses fixed global temperature average instead)." 5
+.el .IP "\fB1\fR \- international formula for conversion , See <http://en.wikipedia.org/wiki/Atmospheric_pressure#Altitude_atmospheric_pressure_variation>. For this method you have to configure \f(CWAltitude\fR but do not need \f(CWTemperatureSensor\fR (uses fixed global temperature average instead)." 5
+.IX Item "1 - international formula for conversion , See <http://en.wikipedia.org/wiki/Atmospheric_pressure#Altitude_atmospheric_pressure_variation>. For this method you have to configure Altitude but do not need TemperatureSensor (uses fixed global temperature average instead)."
+.ie n .IP "\fB2\fR \- formula as recommended by the Deutsche Wetterdienst (German Meteorological Service). See <http://de.wikipedia.org/wiki/Barometrische_H%C3%B6henformel#Theorie> For this method you have to configure both  ""Altitude"" and ""TemperatureSensor""." 5
+.el .IP "\fB2\fR \- formula as recommended by the Deutsche Wetterdienst (German Meteorological Service). See <http://de.wikipedia.org/wiki/Barometrische_H%C3%B6henformel#Theorie> For this method you have to configure both  \f(CWAltitude\fR and \f(CWTemperatureSensor\fR." 5
+.IX Item "2 - formula as recommended by the Deutsche Wetterdienst (German Meteorological Service). See <http://de.wikipedia.org/wiki/Barometrische_H%C3%B6henformel#Theorie> For this method you have to configure both Altitude and TemperatureSensor."
+.RE
+.RS 4
+.RE
+.IP "\fBAltitude\fR \fIaltitude\fR" 4
+.IX Item "Altitude altitude"
+.PD
+The altitude (in meters) of the location where you meassure the pressure.
+.IP "\fBTemperatureSensor\fR \fIreference\fR" 4
+.IX Item "TemperatureSensor reference"
+Temperature sensor(s) which should be used as a reference when normalizing the
+pressure using \f(CW\*(C`Normalization\*(C'\fR method 2.
+When specified more sensors a minumum is found and used each time.  The
+temperature reading directly from this pressure sensor/plugin is typically not
+suitable as the pressure sensor will be probably inside while we want outside
+temperature.  The collectd reference name is something like
+<hostname>/<plugin_name>\-<plugin_instance>/<type>\-<type_instance>
+(<type_instance> is usually omitted when there is just single value type). Or
+you can figure it out from the path of the output data files.
+.ie n .SS "Plugin ""battery"""
+.el .SS "Plugin \f(CWbattery\fP"
+.IX Subsection "Plugin battery"
+The \fIbattery plugin\fR reports the remaining capacity, power and voltage of
+laptop batteries.
+.IP "\fBValuesPercentage\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ValuesPercentage false|true"
+When enabled, remaining capacity is reported as a percentage, e.g. \*(L"42%
+capacity remaining\*(R". Otherwise the capacity is stored as reported by the
+battery, most likely in \*(L"Wh\*(R". This option does not work with all input methods,
+in particular when only \f(CW\*(C`/proc/pmu\*(C'\fR is available on an old Linux system.
+Defaults to \fBfalse\fR.
+.IP "\fBReportDegraded\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ReportDegraded false|true"
+Typical laptop batteries degrade over time, meaning the capacity decreases with
+recharge cycles. The maximum charge of the previous charge cycle is tracked as
+\&\*(L"last full capacity\*(R" and used to determine that a battery is \*(L"fully charged\*(R".
+.Sp
+When this option is set to \fBfalse\fR, the default, the \fIbattery plugin\fR will
+only report the remaining capacity. If the \fBValuesPercentage\fR option is
+enabled, the relative remaining capacity is calculated as the ratio of the
+\&\*(L"remaining capacity\*(R" and the \*(L"last full capacity\*(R". This is what most tools,
+such as the status bar of desktop environments, also do.
+.Sp
+When set to \fBtrue\fR, the battery plugin will report three values: \fBcharged\fR
+(remaining capacity), \fBdischarged\fR (difference between \*(L"last full capacity\*(R"
+and \*(L"remaining capacity\*(R") and \fBdegraded\fR (difference between \*(L"design capacity\*(R"
+and \*(L"last full capacity\*(R").
 .ie n .SS "Plugin ""bind"""
 .el .SS "Plugin \f(CWbind\fP"
 .IX Subsection "Plugin bind"
 Starting with \s-1BIND 9.5.0,\s0 the most widely used \s-1DNS\s0 server software provides
 extensive statistics about queries, responses and lots of other information.
 The bind plugin retrieves this information that's encoded in \s-1XML\s0 and provided
@@ -915,23 +1147,23 @@
 .Vb 5
 \& <Plugin "bind">
 \&   URL "http://localhost:8053/"
 \&   ParseTime       false
 \&   OpCodes         true
 \&   QTypes          true
-\& 
+\&
 \&   ServerStats     true
 \&   ZoneMaintStats  true
 \&   ResolverStats   false
 \&   MemoryStats     true
-\& 
+\&
 \&   <View "_default">
 \&     QTypes        true
 \&     ResolverStats true
 \&     CacheRRSets   true
-\& 
+\&
 \&     Zone "127.in\-addr.arpa/IN"
 \&   </View>
 \& </Plugin>
 .Ve
 .PP
 The bind plugin accepts the following configuration options:
@@ -982,12 +1214,17 @@
 Default: Disabled.
 .IP "\fBMemoryStats\fR" 4
 .IX Item "MemoryStats"
 Collect global memory statistics.
 .Sp
 Default: Enabled.
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
+The \fBTimeout\fR option sets the overall timeout for \s-1HTTP\s0 requests to \fB\s-1URL\s0\fR, in
+milliseconds. By default, the configured \fBInterval\fR is used to set the
+timeout.
 .IP "\fBView\fR \fIName\fR" 4
 .IX Item "View Name"
 Collect statistics about a specific \fI\*(L"view\*(R"\fR. \s-1BIND\s0 can behave different,
 mostly depending on the source IP-address of the request. These different
 configurations are called \*(L"views\*(R". If you don't use this feature, you most
 likely are only interested in the \f(CW\*(C`_default\*(C'\fR view.
@@ -1026,12 +1263,70 @@
 zones.
 .Sp
 By default no detailed zone information is collected.
 .RE
 .RS 4
 .RE
+.ie n .SS "Plugin ""ceph"""
+.el .SS "Plugin \f(CWceph\fP"
+.IX Subsection "Plugin ceph"
+The ceph plugin collects values from \s-1JSON\s0 data to be parsed by \fBlibyajl\fR
+(<https://lloyd.github.io/yajl/>) retrieved from ceph daemon admin sockets.
+.PP
+A separate \fBDaemon\fR block must be configured for each ceph daemon to be
+monitored. The following example will read daemon statistics from four
+separate ceph daemons running on the same device (two OSDs, one \s-1MON,\s0 one \s-1MDS\s0) :
+.PP
+.Vb 10
+\&  <Plugin ceph>
+\&    LongRunAvgLatency false
+\&    ConvertSpecialMetricTypes true
+\&    <Daemon "osd.0">
+\&      SocketPath "/var/run/ceph/ceph\-osd.0.asok"
+\&    </Daemon>
+\&    <Daemon "osd.1">
+\&      SocketPath "/var/run/ceph/ceph\-osd.1.asok"
+\&    </Daemon>
+\&    <Daemon "mon.a">
+\&      SocketPath "/var/run/ceph/ceph\-mon.ceph1.asok"
+\&    </Daemon>
+\&    <Daemon "mds.a">
+\&      SocketPath "/var/run/ceph/ceph\-mds.ceph1.asok"
+\&    </Daemon>
+\&  </Plugin>
+.Ve
+.PP
+The ceph plugin accepts the following configuration options:
+.IP "\fBLongRunAvgLatency\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "LongRunAvgLatency true|false"
+If enabled, latency values(sum,count pairs) are calculated as the long run
+average \- average since the ceph daemon was started = (sum / count).
+When disabled, latency values are calculated as the average since the last
+collection = (sum_now \- sum_last) / (count_now \- count_last).
+.Sp
+Default: Disabled
+.IP "\fBConvertSpecialMetricTypes\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ConvertSpecialMetricTypes true|false"
+If enabled, special metrics (metrics that differ in type from similar counters)
+are converted to the type of those similar counters. This currently only
+applies to filestore.journal_wr_bytes which is a counter for \s-1OSD\s0 daemons. The
+ceph schema reports this metric type as a sum,count pair while similar counters
+are treated as derive types. When converted, the sum is used as the counter
+value and is treated as a derive type.
+When disabled, all metrics are treated as the types received from the ceph schema.
+.Sp
+Default: Enabled
+.PP
+Each \fBDaemon\fR block must have a string argument for the plugin instance name.
+A \fBSocketPath\fR is also required for each \fBDaemon\fR block:
+.IP "\fBDaemon\fR \fIDaemonName\fR" 4
+.IX Item "Daemon DaemonName"
+Name to be used as the instance name for this daemon.
+.IP "\fBSocketPath\fR \fISocketPath\fR" 4
+.IX Item "SocketPath SocketPath"
+Specifies the path to the \s-1UNIX\s0 admin socket of the ceph daemon.
 .ie n .SS "Plugin ""cgroups"""
 .el .SS "Plugin \f(CWcgroups\fP"
 .IX Subsection "Plugin cgroups"
 This plugin collects the \s-1CPU\s0 user/system time for each \fIcgroup\fR by reading the
 \&\fIcpuacct.stat\fR files in the first cpuacct-mountpoint (typically
 \&\fI/sys/fs/cgroup/cpu.cpuacct\fR on machines using systemd).
@@ -1043,12 +1338,54 @@
 .IP "\fBIgnoreSelected\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "IgnoreSelected true|false"
 Invert the selection: If set to true, all cgroups \fIexcept\fR the ones that
 match any one of the criteria are collected. By default only selected
 cgroups are collected if a selection is made. If no selection is configured
 at all, \fBall\fR cgroups are selected.
+.ie n .SS "Plugin ""conntrack"""
+.el .SS "Plugin \f(CWconntrack\fP"
+.IX Subsection "Plugin conntrack"
+This plugin collects \s-1IP\s0 conntrack statistics.
+.IP "\fBOldFiles\fR" 4
+.IX Item "OldFiles"
+Assume the \fBconntrack_count\fR and \fBconntrack_max\fR files to be found in
+\&\fI/proc/sys/net/ipv4/netfilter\fR instead of \fI/proc/sys/net/netfilter/\fR.
+.ie n .SS "Plugin ""cpu"""
+.el .SS "Plugin \f(CWcpu\fP"
+.IX Subsection "Plugin cpu"
+The \fI\s-1CPU\s0 plugin\fR collects \s-1CPU\s0 usage metrics. By default, \s-1CPU\s0 usage is reported
+as Jiffies, using the \f(CW\*(C`cpu\*(C'\fR type. Two aggregations are available:
+.IP "\(bu" 4
+Sum, per-state, over all CPUs installed in the system; and
+.IP "\(bu" 4
+Sum, per-CPU, over all non-idle states of a \s-1CPU,\s0 creating an \*(L"active\*(R" state.
+.PP
+The two aggregations can be combined, leading to \fIcollectd\fR only emitting a
+single \*(L"active\*(R" metric for the entire system. As soon as one of these
+aggregations (or both) is enabled, the \fIcpu plugin\fR will report a percentage,
+rather than Jiffies. In addition, you can request individual, per-state,
+per-CPU metrics to be reported as percentage.
+.PP
+The following configuration options are available:
+.IP "\fBReportByState\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ReportByState true|false"
+When set to \fBtrue\fR, the default, reports per-state metrics, e.g. \*(L"system\*(R",
+\&\*(L"user\*(R" and \*(L"idle\*(R".
+When set to \fBfalse\fR, aggregates (sums) all \fInon-idle\fR states into one
+\&\*(L"active\*(R" metric.
+.IP "\fBReportByCpu\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ReportByCpu true|false"
+When set to \fBtrue\fR, the default, reports per-CPU (per-core) metrics.
+When set to \fBfalse\fR, instead of reporting metrics for individual CPUs, only a
+global sum of \s-1CPU\s0 states is emitted.
+.IP "\fBValuesPercentage\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ValuesPercentage false|true"
+This option is only considered when both, \fBReportByCpu\fR and \fBReportByState\fR
+are set to \fBtrue\fR. In this case, by default, metrics will be reported as
+Jiffies. By setting this option to \fBtrue\fR, you can request percentage values
+in the un-aggregated (per-CPU, per-state) mode as well.
 .ie n .SS "Plugin ""cpufreq"""
 .el .SS "Plugin \f(CWcpufreq\fP"
 .IX Subsection "Plugin cpufreq"
 This plugin doesn't have any options. It reads
 \&\fI/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq\fR (for the first \s-1CPU\s0
 installed) to get the current \s-1CPU\s0 frequency. If this file does not exist make
@@ -1076,18 +1413,28 @@
 and the match infrastructure (the same code used by the tail plugin) to use
 regular expressions with the received data.
 .PP
 The following example will read the current value of \s-1AMD\s0 stock from Google's
 finance page and dispatch the value to collectd.
 .PP
-.Vb 10
+.Vb 11
 \&  <Plugin curl>
 \&    <Page "stock_quotes">
 \&      URL "http://finance.google.com/finance?q=NYSE%3AAMD"
 \&      User "foo"
 \&      Password "bar"
+\&      Digest false
+\&      VerifyPeer true
+\&      VerifyHost true
+\&      CACert "/path/to/ca.crt"
+\&      Header "X\-Custom\-Header: foobar"
+\&      Post "foo=bar"
+\&
+\&      MeasureResponseTime false
+\&      MeasureResponseCode false
+\&
 \&      <Match>
 \&        Regex "<span +class=\e"pr\e"[^>]*> *([0\-9]*\e\e.[0\-9]+) *</span>"
 \&        DSType "GaugeAverage"
 \&        # Note: \`stock_value\*(Aq is not a standard type.
 \&        Type "stock_value"
 \&        Instance "AMD"
@@ -1108,12 +1455,15 @@
 .IP "\fBUser\fR \fIName\fR" 4
 .IX Item "User Name"
 Username to use if authorization is required to read the page.
 .IP "\fBPassword\fR \fIPassword\fR" 4
 .IX Item "Password Password"
 Password to use if authorization is required to read the page.
+.IP "\fBDigest\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Digest true|false"
+Enable \s-1HTTP\s0 digest authentication.
 .IP "\fBVerifyPeer\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "VerifyPeer true|false"
 Enable or disable peer \s-1SSL\s0 certificate verification. See
 <http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
 .IP "\fBVerifyHost\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "VerifyHost true|false"
@@ -1139,24 +1489,44 @@
 \&\f(CW\*(C`Content\-Type\*(C'\fR for the post body (e.g. to
 \&\f(CW\*(C`application/x\-www\-form\-urlencoded\*(C'\fR).
 .IP "\fBMeasureResponseTime\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "MeasureResponseTime true|false"
 Measure response time for the request. If this setting is enabled, \fBMatch\fR
 blocks (see below) are optional. Disabled by default.
+.Sp
+Beware that requests will get aborted if they take too long to complete. Adjust
+\&\fBTimeout\fR accordingly if you expect \fBMeasureResponseTime\fR to report such slow
+requests.
+.IP "\fBMeasureResponseCode\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "MeasureResponseCode true|false"
+Measure response code for the request. If this setting is enabled, \fBMatch\fR
+blocks (see below) are optional. Disabled by default.
 .IP "\fB<Match>\fR" 4
 .IX Item "<Match>"
 One or more \fBMatch\fR blocks that define how to match information in the data
 returned by \f(CW\*(C`libcurl\*(C'\fR. The \f(CW\*(C`curl\*(C'\fR plugin uses the same infrastructure that's
 used by the \f(CW\*(C`tail\*(C'\fR plugin, so please see the documentation of the \f(CW\*(C`tail\*(C'\fR
-plugin below on how matches are defined. If the \fBMeasureResponseTime\fR option
-is set to \fBtrue\fR, \fBMatch\fR blocks are optional.
+plugin below on how matches are defined. If the \fBMeasureResponseTime\fR or
+\&\fBMeasureResponseCode\fR options are set to \fBtrue\fR, \fBMatch\fR blocks are
+optional.
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
+The \fBTimeout\fR option sets the overall timeout for \s-1HTTP\s0 requests to \fB\s-1URL\s0\fR, in
+milliseconds. By default, the configured \fBInterval\fR is used to set the
+timeout. Prior to version 5.5.0, there was no timeout and requests could hang
+indefinitely. This legacy behaviour can be achieved by setting the value of
+\&\fBTimeout\fR to 0.
+.Sp
+If \fBTimeout\fR is 0 or bigger than the \fBInterval\fR, keep in mind that each slow
+network connection will stall one read thread. Adjust the \fBReadThreads\fR global
+setting accordingly to prevent this from blocking other plugins.
 .ie n .SS "Plugin ""curl_json"""
 .el .SS "Plugin \f(CWcurl_json\fP"
 .IX Subsection "Plugin curl_json"
 The \fBcurl_json plugin\fR collects values from \s-1JSON\s0 data to be parsed by
-\&\fBlibyajl\fR (<https://lloyd.github.io/yajl/>) retrieved via
+\&\fBlibyajl\fR (<http://www.lloydforge.org/projects/yajl/>) retrieved via
 either \fBlibcurl\fR (<http://curl.haxx.se/>) or read directly from a
 unix socket. The former can be used, for example, to collect values
 from CouchDB documents (which are stored \s-1JSON\s0 notation), and the
 latter to collect values from a uWSGI stats socket.
 .PP
 The following example will collect several values from the built-in
@@ -1210,27 +1580,35 @@
 values for all map keys or array indices will be collectd.
 .PP
 The following options are valid within \fB\s-1URL\s0\fR blocks:
 .IP "\fBInstance\fR \fIInstance\fR" 4
 .IX Item "Instance Instance"
 Sets the plugin instance to \fIInstance\fR.
+.IP "\fBInterval\fR \fIInterval\fR" 4
+.IX Item "Interval Interval"
+Sets the interval (in seconds) in which the values will be collected from this
+\&\s-1URL.\s0 By default the global \fBInterval\fR setting will be used.
 .IP "\fBUser\fR \fIName\fR" 4
 .IX Item "User Name"
 .PD 0
 .IP "\fBPassword\fR \fIPassword\fR" 4
 .IX Item "Password Password"
+.IP "\fBDigest\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Digest true|false"
 .IP "\fBVerifyPeer\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "VerifyPeer true|false"
 .IP "\fBVerifyHost\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "VerifyHost true|false"
 .IP "\fBCACert\fR \fIfile\fR" 4
 .IX Item "CACert file"
 .IP "\fBHeader\fR \fIHeader\fR" 4
 .IX Item "Header Header"
 .IP "\fBPost\fR \fIBody\fR" 4
 .IX Item "Post Body"
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
 .PD
 These options behave exactly equivalent to the appropriate options of the
 \&\fIcURL\fR plugin. Please see there for a detailed description.
 .PP
 The following options are valid within \fBKey\fR blocks:
 .IP "\fBType\fR \fIType\fR" 4
@@ -1244,22 +1622,24 @@
 .ie n .SS "Plugin ""curl_xml"""
 .el .SS "Plugin \f(CWcurl_xml\fP"
 .IX Subsection "Plugin curl_xml"
 The \fBcurl_xml plugin\fR uses \fBlibcurl\fR (<http://curl.haxx.se/>) and \fBlibxml2\fR
 (<http://xmlsoft.org/>) to retrieve \s-1XML\s0 data via cURL.
 .PP
-.Vb 9
+.Vb 11
 \& <Plugin "curl_xml">
 \&   <URL "http://localhost/stats.xml">
 \&     Host "my_host"
 \&     Instance "some_instance"
 \&     User "collectd"
 \&     Password "thaiNg0I"
 \&     VerifyPeer true
 \&     VerifyHost true
 \&     CACert "/path/to/ca.crt"
+\&     Header "X\-Custom\-Header: foobar"
+\&     Post "foo=bar"
 \&
 \&     <XPath "table[@id=\e"magic_level\e"]/tr">
 \&       Type "magic_level"
 \&       #InstancePrefix "prefix\-"
 \&       InstanceFrom "td[1]"
 \&       ValuesFrom "td[2]/span[@class=\e"level\e"]"
@@ -1303,22 +1683,26 @@
 .Ve
 .IP "\fBUser\fR \fIUser\fR" 4
 .IX Item "User User"
 .PD 0
 .IP "\fBPassword\fR \fIPassword\fR" 4
 .IX Item "Password Password"
+.IP "\fBDigest\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Digest true|false"
 .IP "\fBVerifyPeer\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "VerifyPeer true|false"
 .IP "\fBVerifyHost\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "VerifyHost true|false"
 .IP "\fBCACert\fR \fI\s-1CA\s0 Cert File\fR" 4
 .IX Item "CACert CA Cert File"
 .IP "\fBHeader\fR \fIHeader\fR" 4
 .IX Item "Header Header"
 .IP "\fBPost\fR \fIBody\fR" 4
 .IX Item "Post Body"
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
 .PD
 These options behave exactly equivalent to the appropriate options of the
 \&\fIcURL plugin\fR. Please see there for a detailed description.
 .IP "<\fBXPath\fR \fIXPath-expression\fR>" 4
 .IX Item "<XPath XPath-expression>"
 Within each \fB\s-1URL\s0\fR block, there must be one or more \fBXPath\fR blocks. Each
@@ -1538,12 +1922,21 @@
 The actual data type in the columns is not that important. The plugin will
 automatically cast the values to the right type if it know how to do that. So
 it should be able to handle integer an floating point types, as well as strings
 (if they include a number at the beginning).
 .Sp
 There must be at least one \fBValuesFrom\fR option inside each \fBResult\fR block.
+.IP "\fBMetadataFrom\fR [\fIcolumn0\fR \fIcolumn1\fR ...]" 4
+.IX Item "MetadataFrom [column0 column1 ...]"
+Names the columns whose content is used as metadata for the data sets
+that are dispatched to the daemon.
+.Sp
+The actual data type in the columns is not that important. The plugin will
+automatically cast the values to the right type if it know how to do that. So
+it should be able to handle integer an floating point types, as well as strings
+(if they include a number at the beginning).
 .PP
 \fI\f(BIDatabase\fI blocks\fR
 .IX Subsection "Database blocks"
 .PP
 Database blocks define a connection to a database and which queries should be
 sent to that database. Since the used \*(L"dbi\*(R" library can handle a wide variety
@@ -1637,22 +2030,22 @@
 .Sp
 Enable this option if inodes are a scarce resource for you, usually because
 many small files are stored on the disk. This is a usual scenario for mail
 transfer agents and web caches.
 .IP "\fBValuesAbsolute\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "ValuesAbsolute true|false"
-Enables or disables reporting of free, used and used disk space in 1K\-blocks. 
-Defaults to true.
-.IP "\fBValuesPercentage\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "ValuesPercentage true|false"
-Enables or disables reporting of free, used and used disk space in percentage.
-Defaults to false.
+Enables or disables reporting of free and used disk space in 1K\-blocks.
+Defaults to \fBtrue\fR.
+.IP "\fBValuesPercentage\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ValuesPercentage false|true"
+Enables or disables reporting of free and used disk space in percentage.
+Defaults to \fBfalse\fR.
 .Sp
-This is useful for deploying collectd on the cloud, where machines with
-different disk size may exist. Then it is more practical to configure thresholds
-based on relative disk size.
+This is useful for deploying \fIcollectd\fR on the cloud, where machines with
+different disk size may exist. Then it is more practical to configure
+thresholds based on relative disk size.
 .ie n .SS "Plugin ""disk"""
 .el .SS "Plugin \f(CWdisk\fP"
 .IX Subsection "Plugin disk"
 The \f(CW\*(C`disk\*(C'\fR plugin collects information about the usage of physical disks and
 logical disks (partitions). Values collected are the number of octets written
 to and read from a disk or partition, the number of read/write operations
@@ -1677,12 +2070,26 @@
 Sets whether selected disks, i.\ e. the ones matches by any of the \fBDisk\fR
 statements, are ignored or if all other disks are ignored. The behavior
 (hopefully) is intuitive: If no \fBDisk\fR option is configured, all disks are
 collected. If at least one \fBDisk\fR option is given and no \fBIgnoreSelected\fR or
 set to \fBfalse\fR, \fBonly\fR matching disks will be collected. If \fBIgnoreSelected\fR
 is set to \fBtrue\fR, all disks are collected \fBexcept\fR the ones matched.
+.IP "\fBUseBSDName\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "UseBSDName true|false"
+Whether to use the device's \*(L"\s-1BSD\s0 Name\*(R", on Mac\ \s-1OS\s0\ X, instead of the
+default major/minor numbers. Requires collectd to be built with Apple's
+IOKitLib support.
+.IP "\fBUdevNameAttr\fR \fIAttribute\fR" 4
+.IX Item "UdevNameAttr Attribute"
+Attempt to override disk instance name with the value of a specified udev
+attribute when built with \fBlibudev\fR.  If the attribute is not defined for the
+given device, the default name is used. Example:
+.Sp
+.Vb 1
+\&  UdevNameAttr "DM_NAME"
+.Ve
 .ie n .SS "Plugin ""dns"""
 .el .SS "Plugin \f(CWdns\fP"
 .IX Subsection "Plugin dns"
 .IP "\fBInterface\fR \fIInterface\fR" 4
 .IX Item "Interface Interface"
 The dns plugin uses \fBlibpcap\fR to capture dns traffic and analyzes it. This
@@ -1774,12 +2181,27 @@
 values may be changed. If you want to be absolutely sure that something is
 passed as-is please enclose it in quotes.
 .Sp
 The \fBExec\fR and \fBNotificationExec\fR statements change the semantics of the
 programs executed, i.\ e. the data passed to them and the response
 expected from them. This is documented in great detail in \fIcollectd\-exec\fR\|(5).
+.ie n .SS "Plugin ""fhcount"""
+.el .SS "Plugin \f(CWfhcount\fP"
+.IX Subsection "Plugin fhcount"
+The \f(CW\*(C`fhcount\*(C'\fR plugin provides statistics about used, unused and total number of
+file handles.
+.PP
+The \fIfhcount plugin\fR provides the following configuration options:
+.IP "\fBValuesAbsolute\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ValuesAbsolute true|false"
+Enables or disables reporting of file handles usage in absolute numbers,
+e.g. file handles used. Defaults to \fBtrue\fR.
+.IP "\fBValuesPercentage\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ValuesPercentage false|true"
+Enables or disables reporting of file handles usage in percentages, e.g.
+percent of file handles used. Defaults to \fBfalse\fR.
 .ie n .SS "Plugin ""filecount"""
 .el .SS "Plugin \f(CWfilecount\fP"
 .IX Subsection "Plugin filecount"
 The \f(CW\*(C`filecount\*(C'\fR plugin counts the number of files in a certain directory (and
 its subdirectories) and their combined size. The configuration is very straight
 forward:
@@ -1941,38 +2363,20 @@
 .IP "\fBInterface\fR \fIInterface\fR" 4
 .IX Item "Interface Interface"
 Select this interface. By default these interfaces will then be collected. For
 a more detailed description see \fBIgnoreSelected\fR below.
 .IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
 .IX Item "IgnoreSelected true|false"
-If no configuration if given, the \fBinterface\fR\-plugin will collect data from
+If no configuration if given, the \fBtraffic\fR\-plugin will collect data from
 all interfaces. This may not be practical, especially for loopback\- and
 similar interfaces. Thus, you can use the \fBInterface\fR\-option to pick the
 interfaces you're interested in. Sometimes, however, it's easier/preferred
 to collect all interfaces \fIexcept\fR a few ones. This option enables you to
 do that: By setting \fBIgnoreSelected\fR to \fItrue\fR the effect of
 \&\fBInterface\fR is inverted: All selected interfaces are ignored and all
 other interfaces are collected.
-.Sp
-It is possible to use regular expressions to match interface names, if the
-name is surrounded by \fI/.../\fR and collectd was compiled with support for
-regexps. This is useful if there's a need to collect (or ignore) data
-for a group of interfaces that are similarly named, without the need to
-explicitly list all of them (especially useful if the list is dynamic).
-Example:
-.Sp
-.Vb 4
-\& Interface "lo"
-\& Interface "/^veth/"
-\& Interface "/^tun[0\-9]+/"
-\& IgnoreSelected "true"
-.Ve
-.Sp
-This will ignore the loopback interface, all interfaces with names starting
-with \fIveth\fR and all interfaces with names starting with \fItun\fR followed by
-at least one digit.
 .ie n .SS "Plugin ""ipmi"""
 .el .SS "Plugin \f(CWipmi\fP"
 .IX Subsection "Plugin ipmi"
 .IP "\fBSensor\fR \fISensor\fR" 4
 .IX Item "Sensor Sensor"
 Selects sensors to collect or to ignore, depending on \fBIgnoreSelected\fR.
@@ -1996,21 +2400,15 @@
 a notification is sent.
 .ie n .SS "Plugin ""iptables"""
 .el .SS "Plugin \f(CWiptables\fP"
 .IX Subsection "Plugin iptables"
 .IP "\fBChain\fR \fITable\fR \fIChain\fR [\fIComment|Number\fR [\fIName\fR]]" 4
 .IX Item "Chain Table Chain [Comment|Number [Name]]"
-.PD 0
-.IP "\fBChain6\fR \fITable\fR \fIChain\fR [\fIComment|Number\fR [\fIName\fR]]" 4
-.IX Item "Chain6 Table Chain [Comment|Number [Name]]"
-.PD
-Select the iptables/ip6tables filter rules to count packets and bytes from.
-.Sp
-If only \fITable\fR and \fIChain\fR are given, this plugin will collect the counters
-of all rules which have a comment-match. The comment is then used as
-type-instance.
+Select the rules to count. If only \fITable\fR and \fIChain\fR are given, this plugin
+will collect the counters of all rules which have a comment-match. The comment
+is then used as type-instance.
 .Sp
 If \fIComment\fR or \fINumber\fR is given, only the rule with the matching comment or
 the \fIn\fRth rule will be collected. Again, the comment (or the number) will be
 used as the type-instance.
 .Sp
 If \fIName\fR is supplied, it will be used as the type-instance instead of the
@@ -2079,96 +2477,25 @@
 .Sp
 For this to work, the plugin has to register a configuration callback first,
 see \*(L"config callback\*(R" in \fIcollectd\-java\fR\|(5). This means, that the \fBPlugin\fR block
 must appear after the appropriate \fBLoadPlugin\fR block. Also note, that \fIName\fR
 depends on the (Java) plugin registering the callback and is completely
 independent from the \fIJavaClass\fR argument passed to \fBLoadPlugin\fR.
-.ie n .SS "Plugin ""libvirt"""
-.el .SS "Plugin \f(CWlibvirt\fP"
-.IX Subsection "Plugin libvirt"
-This plugin allows \s-1CPU,\s0 disk and network load to be collected for virtualized
-guests on the machine. This means that these characteristics can be collected
-for guest systems without installing any software on them \- collectd only runs
-on the hosting system. The statistics are collected through libvirt
-(<http://libvirt.org/>).
+.ie n .SS "Plugin ""load"""
+.el .SS "Plugin \f(CWload\fP"
+.IX Subsection "Plugin load"
+The \fILoad plugin\fR collects the system load. These numbers give a rough overview
+over the utilization of a machine. The system load is defined as the number of
+runnable tasks in the run-queue and is provided by many operating systems as a
+one, five or fifteen minute average.
 .PP
-Only \fIConnection\fR is required.
-.IP "\fBConnection\fR \fIuri\fR" 4
-.IX Item "Connection uri"
-Connect to the hypervisor given by \fIuri\fR. For example if using Xen use:
-.Sp
-.Vb 1
-\& Connection "xen:///"
-.Ve
-.Sp
-Details which URIs allowed are given at <http://libvirt.org/uri.html>.
-.IP "\fBRefreshInterval\fR \fIseconds\fR" 4
-.IX Item "RefreshInterval seconds"
-Refresh the list of domains and devices every \fIseconds\fR. The default is 60
-seconds. Setting this to be the same or smaller than the \fIInterval\fR will cause
-the list of domains and devices to be refreshed on every iteration.
-.Sp
-Refreshing the devices in particular is quite a costly operation, so if your
-virtualization setup is static you might consider increasing this. If this
-option is set to 0, refreshing is disabled completely.
-.IP "\fBDomain\fR \fIname\fR" 4
-.IX Item "Domain name"
-.PD 0
-.IP "\fBBlockDevice\fR \fIname:dev\fR" 4
-.IX Item "BlockDevice name:dev"
-.IP "\fBInterfaceDevice\fR \fIname:dev\fR" 4
-.IX Item "InterfaceDevice name:dev"
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-.PD
-Select which domains and devices are collected.
-.Sp
-If \fIIgnoreSelected\fR is not given or \fIfalse\fR then only the listed domains and
-disk/network devices are collected.
-.Sp
-If \fIIgnoreSelected\fR is \fItrue\fR then the test is reversed and the listed
-domains and disk/network devices are ignored, while the rest are collected.
-.Sp
-The domain name and device names may use a regular expression, if the name is
-surrounded by \fI/.../\fR and collectd was compiled with support for regexps.
-.Sp
-The default is to collect statistics for all domains and all their devices.
-.Sp
-Example:
-.Sp
-.Vb 2
-\& BlockDevice "/:hdb/"
-\& IgnoreSelected "true"
-.Ve
-.Sp
-Ignore all \fIhdb\fR devices on any domain, but other block devices (eg. \fIhda\fR)
-will be collected.
-.IP "\fBHostnameFormat\fR \fBname|uuid|hostname|...\fR" 4
-.IX Item "HostnameFormat name|uuid|hostname|..."
-When the libvirt plugin logs data, it sets the hostname of the collected data
-according to this setting. The default is to use the guest name as provided by
-the hypervisor, which is equal to setting \fBname\fR.
-.Sp
-\&\fBuuid\fR means use the guest's \s-1UUID.\s0 This is useful if you want to track the
-same guest across migrations.
-.Sp
-\&\fBhostname\fR means to use the global \fBHostname\fR setting, which is probably not
-useful on its own because all guests will appear to have the same name.
-.Sp
-You can also specify combinations of these fields. For example \fBname uuid\fR
-means to concatenate the guest name and \s-1UUID \s0(with a literal colon character
-between, thus \fI\*(L"foo:1234\-1234\-1234\-1234\*(R"\fR).
-.IP "\fBInterfaceFormat\fR \fBname\fR|\fBaddress\fR" 4
-.IX Item "InterfaceFormat name|address"
-When the libvirt plugin logs interface data, it sets the name of the collected
-data according to this setting. The default is to use the path as provided by
-the hypervisor (the \*(L"dev\*(R" property of the target node), which is equal to
-setting \fBname\fR.
-.Sp
-\&\fBaddress\fR means use the interface's mac address. This is useful since the
-interface path might change between reboots of a guest or across migrations.
+The following configuration options are available:
+.IP "\fBReportRelative\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ReportRelative false|true"
+When enabled, system load divided by number of available \s-1CPU\s0 cores is reported
+for intervals 1 min, 5 min and 15 min. Defaults to false.
 .ie n .SS "Plugin ""logfile"""
 .el .SS "Plugin \f(CWlogfile\fP"
 .IX Subsection "Plugin logfile"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
 Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
@@ -2190,12 +2517,34 @@
 When enabled, all lines are prefixed by the severity of the log message, for
 example \*(L"warning\*(R". Defaults to \fBfalse\fR.
 .PP
 \&\fBNote\fR: There is no need to notify the daemon after moving or removing the
 log file (e.\ g. when rotating the logs). The plugin reopens the file
 for each line it writes.
+.ie n .SS "Plugin ""log_logstash"""
+.el .SS "Plugin \f(CWlog_logstash\fP"
+.IX Subsection "Plugin log_logstash"
+The \fIlog logstash plugin\fR behaves like the logfile plugin but formats
+messages as \s-1JSON\s0 events for logstash to parse and input.
+.IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
+.IX Item "LogLevel debug|info|notice|warning|err"
+Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
+severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be written to the logfile.
+.Sp
+Please note that \fBdebug\fR is only available if collectd has been compiled with
+debugging support.
+.IP "\fBFile\fR \fIFile\fR" 4
+.IX Item "File File"
+Sets the file to write log messages to. The special strings \fBstdout\fR and
+\&\fBstderr\fR can be used to write to the standard output and standard error
+channels, respectively. This, of course, only makes much sense when \fIcollectd\fR
+is running in foreground\- or non-daemon-mode.
+.PP
+\&\fBNote\fR: There is no need to notify the daemon after moving or removing the
+log file (e.\ g. when rotating the logs). The plugin reopens the file
+for each line it writes.
 .ie n .SS "Plugin ""lpar"""
 .el .SS "Plugin \f(CWlpar\fP"
 .IX Subsection "Plugin lpar"
 The \fI\s-1LPAR\s0 plugin\fR reads \s-1CPU\s0 statistics of \fILogical Partitions\fR, a
 virtualization technique for \s-1IBM POWER\s0 processors. It takes into account \s-1CPU\s0
 time stolen from or donated to a partition, in addition to the usual user,
@@ -2336,29 +2685,29 @@
 .PP
 .Vb 4
 \& <Plugin mic>
 \&   ShowCPU true
 \&   ShowCPUCores true
 \&   ShowMemory true
-\&   
+\&
 \&   ShowTemperatures true
 \&   Temperature vddg
 \&   Temperature vddq
 \&   IgnoreSelectedTemperature true
 \&
 \&   ShowPower true
 \&   Power total0
 \&   Power total1
-\&   IgnoreSelectedPower true   
+\&   IgnoreSelectedPower true
 \& </Plugin>
 .Ve
 .PP
 The following options are valid inside the \fBPlugin\ mic\fR block:
 .IP "\fBShowCPU\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "ShowCPU true|false"
-If enabled (the default) a sum of the \s-1CPU\s0 usage accross all cores is reported.
+If enabled (the default) a sum of the \s-1CPU\s0 usage across all cores is reported.
 .IP "\fBShowCPUCores\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "ShowCPUCores true|false"
 If enabled (the default) per-core \s-1CPU\s0 usage is reported.
 .IP "\fBShowMemory\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "ShowMemory true|false"
 If enabled (the default) the physical memory usage of the \s-1MIC\s0 system is
@@ -2455,48 +2804,84 @@
 .IP "vddq" 4
 .IX Item "vddq"
 Memory subsystem rail (uVolts).
 .RE
 .RS 4
 .RE
+.ie n .SS "Plugin ""memory"""
+.el .SS "Plugin \f(CWmemory\fP"
+.IX Subsection "Plugin memory"
+The \fImemory plugin\fR provides the following configuration options:
+.IP "\fBValuesAbsolute\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ValuesAbsolute true|false"
+Enables or disables reporting of physical memory usage in absolute numbers,
+i.e. bytes. Defaults to \fBtrue\fR.
+.IP "\fBValuesPercentage\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ValuesPercentage false|true"
+Enables or disables reporting of physical memory usage in percentages, e.g.
+percent of physical memory used. Defaults to \fBfalse\fR.
+.Sp
+This is useful for deploying \fIcollectd\fR in a heterogeneous environment in
+which the sizes of physical memory vary.
 .ie n .SS "Plugin ""modbus"""
 .el .SS "Plugin \f(CWmodbus\fP"
 .IX Subsection "Plugin modbus"
-The \fBmodbus plugin\fR connects to a Modbus \*(L"slave\*(R" via Modbus/TCP and reads
-register values. It supports reading single registers (unsigned 16\ bit
+The \fBmodbus plugin\fR connects to a Modbus \*(L"slave\*(R" via Modbus/TCP or Modbus/RTU and
+reads register values. It supports reading single registers (unsigned 16\ bit
 values), large integer values (unsigned 32\ bit values) and floating point
 values (two registers interpreted as \s-1IEEE\s0 floats in big endian notation).
 .PP
 \&\fBSynopsis:\fR
 .PP
-.Vb 6
+.Vb 7
 \& <Data "voltage\-input\-1">
 \&   RegisterBase 0
 \&   RegisterType float
+\&   RegisterCmd ReadHolding
 \&   Type voltage
 \&   Instance "input\-1"
 \& </Data>
-\& 
+\&
 \& <Data "voltage\-input\-2">
 \&   RegisterBase 2
 \&   RegisterType float
+\&   RegisterCmd ReadHolding
 \&   Type voltage
 \&   Instance "input\-2"
 \& </Data>
-\& 
+\&
+\& <Data "supply\-temperature\-1">
+\&   RegisterBase 0
+\&   RegisterType Int16
+\&   RegisterCmd ReadHolding
+\&   Type temperature
+\&   Instance "temp\-1"
+\& </Data>
+\&
 \& <Host "modbus.example.com">
 \&   Address "192.168.0.42"
 \&   Port    "502"
 \&   Interval 60
-\&   
+\&
 \&   <Slave 1>
 \&     Instance "power\-supply"
 \&     Collect  "voltage\-input\-1"
 \&     Collect  "voltage\-input\-2"
 \&   </Slave>
 \& </Host>
+\&
+\& <Host "localhost">
+\&   Device "/dev/ttyUSB0"
+\&   Baudrate 38400
+\&   Interval 20
+\&
+\&   <Slave 1>
+\&     Instance "temperature"
+\&     Collect  "supply\-temperature\-1"
+\&   </Slave>
+\& </Host>
 .Ve
 .IP "<\fBData\fR \fIName\fR> blocks" 4
 .IX Item "<Data Name> blocks"
 Data blocks define a mapping between register numbers and the \*(L"types\*(R" used by
 \&\fIcollectd\fR.
 .Sp
@@ -2509,12 +2894,16 @@
 register will be read (the register number is increased by one).
 .IP "\fBRegisterType\fR \fBInt16\fR|\fBInt32\fR|\fBUint16\fR|\fBUint32\fR|\fBFloat\fR" 4
 .IX Item "RegisterType Int16|Int32|Uint16|Uint32|Float"
 Specifies what kind of data is returned by the device. If the type is \fBInt32\fR,
 \&\fBUint32\fR or \fBFloat\fR, two 16\ bit registers will be read and the data is
 combined into one value. Defaults to \fBUint16\fR.
+.IP "\fBRegisterCmd\fR \fBReadHolding\fR|\fBReadInput\fR" 4
+.IX Item "RegisterCmd ReadHolding|ReadInput"
+Specifies register type to be collected from device. Works only with libmodbus
+2.9.2 or higher. Defaults to \fBReadHolding\fR.
 .IP "\fBType\fR \fIType\fR" 4
 .IX Item "Type Type"
 Specifies the \*(L"type\*(R" (data set) to use when dispatching the value to
 \&\fIcollectd\fR. Currently, only data sets with exactly one data source are
 supported.
 .IP "\fBInstance\fR \fIInstance\fR" 4
@@ -2531,27 +2920,35 @@
 dispatching the values to \fIcollectd\fR.
 .Sp
 Within <Host\ /> blocks, the following options are allowed:
 .RS 4
 .IP "\fBAddress\fR \fIHostname\fR" 4
 .IX Item "Address Hostname"
-Specifies the node name (the actual network address) used to connect to the
-host. This may be an \s-1IP\s0 address or a hostname. Please note that the used
-\&\fIlibmodbus\fR library only supports IPv4 at the moment.
+For Modbus/TCP, specifies the node name (the actual network address) used to
+connect to the host. This may be an \s-1IP\s0 address or a hostname. Please note that
+the used \fIlibmodbus\fR library only supports IPv4 at the moment.
 .IP "\fBPort\fR \fIService\fR" 4
 .IX Item "Port Service"
-Specifies the port used to connect to the host. The port can either be given as
-a number or as a service name. Please note that the \fIService\fR argument must be
-a string, even if ports are given in their numerical form. Defaults to \*(L"502\*(R".
+for Modbus/TCP, specifies the port used to connect to the host. The port can
+either be given as a number or as a service name. Please note that the
+\&\fIService\fR argument must be a string, even if ports are given in their numerical
+form. Defaults to \*(L"502\*(R".
+.IP "\fBDevice\fR \fIDevicenode\fR" 4
+.IX Item "Device Devicenode"
+For Modbus/RTU, specifies the path to the serial device being used.
+.IP "\fBBaudrate\fR \fIBaudrate\fR" 4
+.IX Item "Baudrate Baudrate"
+For Modbus/RTU, specifies the baud rate of the serial device.
+Note, connections currently support only 8/N/1.
 .IP "\fBInterval\fR \fIInterval\fR" 4
 .IX Item "Interval Interval"
 Sets the interval (in seconds) in which the values will be collected from this
 host. By default the global \fBInterval\fR setting will be used.
 .IP "<\fBSlave\fR \fI\s-1ID\s0\fR>" 4
 .IX Item "<Slave ID>"
-Over each \s-1TCP\s0 connection, multiple Modbus devices may be reached. The slave \s-1ID\s0
+Over each connection, multiple Modbus devices may be reached. The slave \s-1ID\s0
 is used to specify which device should be addressed. For each device you want
 to query, one \fBSlave\fR block must be given.
 .Sp
 Within <Slave\ /> blocks, the following options are allowed:
 .RS 4
 .IP "\fBInstance\fR \fIInstance\fR" 4
@@ -2593,35 +2990,41 @@
 \&\f(CW\*(C`SHOW SLAVE STATUS\*(C'\fR command. See the \fBMySQL reference manual\fR,
 \&\fI12.5.5.21 \s-1SHOW MASTER STATUS\s0 Syntax\fR and
 \&\fI12.5.5.31 \s-1SHOW SLAVE STATUS\s0 Syntax\fR for details.
 .PP
 Synopsis:
 .PP
-.Vb 8
+.Vb 9
 \&  <Plugin mysql>
 \&    <Database foo>
 \&      Host "hostname"
 \&      User "username"
 \&      Password "password"
 \&      Port "3306"
 \&      MasterStats true
+\&      ConnectTimeout 10
 \&    </Database>
 \&
 \&    <Database bar>
+\&      Alias "squeeze"
 \&      Host "localhost"
 \&      Socket "/var/run/mysql/mysqld.sock"
 \&      SlaveStats true
 \&      SlaveNotifications true
 \&    </Database>
 \&  </Plugin>
 .Ve
 .PP
 A \fBDatabase\fR block defines one connection to a MySQL database. It accepts a
 single argument which specifies the name of the database. None of the other
 options are required. MySQL will use default values as documented in the
 section \*(L"\fImysql_real_connect()\fR\*(R" in the \fBMySQL reference manual\fR.
+.IP "\fBAlias\fR \fIAlias\fR" 4
+.IX Item "Alias Alias"
+Alias to use as sender instead of hostname when reporting. This may be useful
+when having cryptic hostnames.
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname of the database server. Defaults to \fBlocalhost\fR.
 .IP "\fBUser\fR \fIUsername\fR" 4
 .IX Item "User Username"
 Username to use when connecting to the database. The user does not have to be
@@ -2650,12 +3053,16 @@
 .IP "\fBSocket\fR \fISocket\fR" 4
 .IX Item "Socket Socket"
 Specifies the path to the \s-1UNIX\s0 domain socket of the MySQL server. This option
 only has any effect, if \fBHost\fR is set to \fBlocalhost\fR (the default).
 Otherwise, use the \fBPort\fR option above. See the documentation for the
 \&\f(CW\*(C`mysql_real_connect\*(C'\fR function for details.
+.IP "\fBInnodbStats\fR \fItrue|false\fR" 4
+.IX Item "InnodbStats true|false"
+If enabled, metrics about the InnoDB storage engine are collected.
+Disabled by default.
 .IP "\fBMasterStats\fR \fItrue|false\fR" 4
 .IX Item "MasterStats true|false"
 .PD 0
 .IP "\fBSlaveStats\fR \fItrue|false\fR" 4
 .IX Item "SlaveStats true|false"
 .PD
@@ -2663,12 +3070,15 @@
 order to be able to get access to these statistics, the user needs special
 privileges. See the \fBUser\fR documentation above. Defaults to \fBfalse\fR.
 .IP "\fBSlaveNotifications\fR \fItrue|false\fR" 4
 .IX Item "SlaveNotifications true|false"
 If enabled, the plugin sends a notification if the replication slave I/O and /
 or \s-1SQL\s0 threads are not running. Defaults to \fBfalse\fR.
+.IP "\fBConnectTimeout\fR \fISeconds\fR" 4
+.IX Item "ConnectTimeout Seconds"
+Sets the connect timeout for the MySQL client.
 .ie n .SS "Plugin ""netapp"""
 .el .SS "Plugin \f(CWnetapp\fP"
 .IX Subsection "Plugin netapp"
 The netapp plugin can collect various performance and capacity information
 from a NetApp filer using the NetApp \s-1API.\s0
 .PP
@@ -2698,54 +3108,54 @@
 \&    Protocol      "https"
 \&    Address       "10.0.0.1"
 \&    Port          443
 \&    User          "username"
 \&    Password      "aef4Aebe"
 \&    Interval      30
-\&    
+\&
 \&    <WAFL>
 \&      Interval 30
 \&      GetNameCache   true
 \&      GetDirCache    true
 \&      GetBufferCache true
 \&      GetInodeCache  true
 \&    </WAFL>
-\&    
+\&
 \&    <Disks>
 \&      Interval 30
 \&      GetBusy true
 \&    </Disks>
-\&    
+\&
 \&    <VolumePerf>
 \&      Interval 30
 \&      GetIO      "volume0"
 \&      IgnoreSelectedIO      false
 \&      GetOps     "volume0"
 \&      IgnoreSelectedOps     false
 \&      GetLatency "volume0"
 \&      IgnoreSelectedLatency false
 \&    </VolumePerf>
-\&    
+\&
 \&    <VolumeUsage>
 \&      Interval 30
 \&      GetCapacity "vol0"
 \&      GetCapacity "vol1"
 \&      IgnoreSelectedCapacity false
 \&      GetSnapshot "vol1"
 \&      GetSnapshot "vol3"
 \&      IgnoreSelectedSnapshot false
 \&    </VolumeUsage>
-\&    
+\&
 \&    <Quota>
 \&      Interval 60
 \&    </Quota>
-\&    
+\&
 \&    <Snapvault>
 \&      Interval 30
 \&    </Snapvault>
-\&    
+\&
 \&    <System>
 \&      Interval 30
 \&      GetCPULoad     true
 \&      GetInterfaces  true
 \&      GetDiskOps     true
 \&      GetDiskIO      true
@@ -3253,13 +3663,13 @@
 .PP
 .Vb 4
 \& <Plugin "network">
 \&   # Export to an internal server
 \&   # (demonstrates usage without additional options)
 \&   Server "collectd.internal.tld"
-\&   
+\&
 \&   # Export to an external server
 \&   # (demonstrates usage with signature options)
 \&   <Server "collectd.external.tld">
 \&     SecurityLevel "sign"
 \&     Username "myhostname"
 \&     Password "ohl0eQue"
@@ -3308,12 +3718,17 @@
 Set the outgoing interface for \s-1IP\s0 packets. This applies at least
 to IPv6 packets and if possible to IPv4. If this option is not applicable,
 undefined or a non-existent interface name is specified, the default
 behavior is to let the kernel choose the appropriate interface. Be warned
 that the manual selection of an interface for unicast traffic is only
 necessary in rare cases.
+.IP "\fBResolveInterval\fR \fISeconds\fR" 4
+.IX Item "ResolveInterval Seconds"
+Sets the interval at which to re-resolve the \s-1DNS\s0 for the \fIHost\fR. This is
+useful to force a regular \s-1DNS\s0 lookup to support a high availability setup. If
+not specified, re-resolves are never attempted.
 .RE
 .RS 4
 .RE
 .IP "\fB<Listen\fR \fIHost\fR [\fIPort\fR]\fB>\fR" 4
 .IX Item "<Listen Host [Port]>"
 The \fBListen\fR statement sets the interfaces to bind to. When multiple
@@ -3437,12 +3852,17 @@
 connecting to a \s-1SSL\s0 enabled server. Enabled by default.
 .IP "\fBCACert\fR \fIFile\fR" 4
 .IX Item "CACert File"
 File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
 possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
 and are checked by default depends on the distribution you use.
+.IP "\fBTimeout\fR \fIMilliseconds\fR" 4
+.IX Item "Timeout Milliseconds"
+The \fBTimeout\fR option sets the overall timeout for \s-1HTTP\s0 requests to \fB\s-1URL\s0\fR, in
+milliseconds. By default, the configured \fBInterval\fR is used to set the
+timeout.
 .ie n .SS "Plugin ""notify_desktop"""
 .el .SS "Plugin \f(CWnotify_desktop\fP"
 .IX Subsection "Plugin notify_desktop"
 This plugin sends a desktop notification to a notification daemon, as defined
 in the Desktop Notification Specification. To actually display the
 notifications, \fBnotification-daemon\fR is required and \fBcollectd\fR has to be
@@ -3508,23 +3928,12 @@
 with the hostname.
 .Sp
 Default: \f(CW\*(C`Collectd notify: %s@%s\*(C'\fR
 .ie n .SS "Plugin ""ntpd"""
 .el .SS "Plugin \f(CWntpd\fP"
 .IX Subsection "Plugin ntpd"
-The \f(CW\*(C`ntpd\*(C'\fR plugin collects per-peer ntp data such as time offset and time
-dispersion.
-.PP
-For talking to \fBntpd\fR, it mimics what the \fBntpdc\fR control program does on
-the wire \- using \fBmode 7\fR specific requests. This mode is deprecated with
-newer \fBntpd\fR releases (4.2.7p230 and later). For the \f(CW\*(C`ntpd\*(C'\fR plugin to work
-correctly with them, the ntp daemon must be explicitly configured to
-enable \fBmode 7\fR (which is disabled by default). Refer to the \fI\fIntp.conf\fI\|(5)\fR
-manual page for details.
-.PP
-Available configuration options for the \f(CW\*(C`ntpd\*(C'\fR plugin:
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname of the host running \fBntpd\fR. Defaults to \fBlocalhost\fR.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 UDP-Port to connect to. Defaults to \fB123\fR.
@@ -3595,18 +4004,41 @@
 .IX Subsection "Plugin onewire"
 \&\fB\s-1EXPERIMENTAL\s0!\fR See notes below.
 .PP
 The \f(CW\*(C`onewire\*(C'\fR plugin uses the \fBowcapi\fR library from the \fBowfs\fR project
 <http://owfs.org/> to read sensors connected via the onewire bus.
 .PP
-Currently only temperature sensors (sensors with the family code \f(CW10\fR,
-e.\ g. \s-1DS1820, DS18S20, DS1920\s0) can be read. If you have other sensors you
-would like to have included, please send a sort request to the mailing list.
+It can be used in two possible modes \- standard or advanced.
+.PP
+In the standard mode only temperature sensors (sensors with the family code
+\&\f(CW10\fR, \f(CW22\fR and \f(CW28\fR \- e.g. \s-1DS1820, DS18S20, DS1920\s0) can be read. If you have
+other sensors you would like to have included, please send a sort request to
+the mailing list. You can select sensors to be read or to be ignored depending
+on the option \fBIgnoreSelected\fR). When no list is provided the whole bus is
+walked and all sensors are read.
 .PP
 Hubs (the \s-1DS2409\s0 chips) are working, but read the note, why this plugin is
 experimental, below.
+.PP
+In the advanced mode you can configure any sensor to be read (only numerical
+value) using full \s-1OWFS\s0 path (e.g. \*(L"/uncached/10.F10FCA000800/temperature\*(R").
+In this mode you have to list all the sensors. Neither default bus walk nor
+\&\fBIgnoreSelected\fR are used here. Address and type (file) is extracted from
+the path automatically and should produce compatible structure with the \*(L"standard\*(R"
+mode (basically the path is expected as for example
+\&\*(L"/uncached/10.F10FCA000800/temperature\*(R" where it would extract address part
+\&\*(L"F10FCA000800\*(R" and the rest after the slash is considered the type \- here
+\&\*(L"temperature\*(R").
+There are two advantages to this mode \- you can access virtually any sensor
+(not just temperature), select whether to use cached or directly read values
+and it is slighlty faster. The downside is more complex configuration.
+.PP
+The two modes are distinguished automatically by the format of the address.
+It is not possible to mix the two modes. Once a full path is detected in any
+\&\fBSensor\fR then the whole addressing (all sensors) is considered to be this way
+(and as standard addresses will fail parsing they will be ignored).
 .IP "\fBDevice\fR \fIDevice\fR" 4
 .IX Item "Device Device"
 Sets the device to read the values from. This can either be a \*(L"real\*(R" hardware
 device, such as a serial port or an \s-1USB\s0 port, or the address of the
 \&\fIowserver\fR\|(1) socket, usually \fBlocalhost:4304\fR.
 .Sp
@@ -3620,25 +4052,36 @@
 \&  </Plugin>
 .Ve
 .Sp
 This directive is \fBrequired\fR and does not have a default value.
 .IP "\fBSensor\fR \fISensor\fR" 4
 .IX Item "Sensor Sensor"
-Selects sensors to collect or to ignore, depending on \fBIgnoreSelected\fR, see
-below. Sensors are specified without the family byte at the beginning, to you'd
-use \f(CW\*(C`F10FCA000800\*(C'\fR, and \fBnot\fR include the leading \f(CW10.\fR family byte and
-point.
+In the standard mode selects sensors to collect or to ignore
+(depending on \fBIgnoreSelected\fR, see below). Sensors are specified without
+the family byte at the beginning, so you have to use for example \f(CW\*(C`F10FCA000800\*(C'\fR,
+and \fBnot\fR include the leading \f(CW10.\fR family byte and point.
+When no \fBSensor\fR is configured the whole Onewire bus is walked and all supported
+sensors (see above) are read.
+.Sp
+In the advanced mode the \fBSensor\fR specifies full \s-1OWFS\s0 path \- e.g.
+\&\f(CW\*(C`/uncached/10.F10FCA000800/temperature\*(C'\fR (or when cached values are \s-1OK
+\&\s0\f(CW\*(C`/10.F10FCA000800/temperature\*(C'\fR). \fBIgnoreSelected\fR is not used.
+.Sp
+As there can be multiple devices on the bus you can list multiple sensor (use
+multiple \fBSensor\fR elements).
 .IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
 .IX Item "IgnoreSelected true|false"
-If no configuration if given, the \fBonewire\fR plugin will collect data from all
+If no configuration is given, the \fBonewire\fR plugin will collect data from all
 sensors found. This may not be practical, especially if sensors are added and
 removed regularly. Sometimes, however, it's easier/preferred to collect only
 specific sensors or all sensors \fIexcept\fR a few specified ones. This option
 enables you to do that: By setting \fBIgnoreSelected\fR to \fItrue\fR the effect of
 \&\fBSensor\fR is inverted: All selected interfaces are ignored and all other
 interfaces are collected.
+.Sp
+Used only in the standard mode \- see above.
 .IP "\fBInterval\fR \fISeconds\fR" 4
 .IX Item "Interval Seconds"
 Sets the interval in which all sensors should be read. If not specified, the
 global \fBInterval\fR setting is used.
 .PP
 \&\fB\s-1EXPERIMENTAL\s0!\fR The \f(CW\*(C`onewire\*(C'\fR plugin is experimental, because it doesn't yet
@@ -3648,12 +4091,68 @@
 interval). We will probably add some separate thread for reading the sensors
 and some cache or something like that, but it's not done yet. We will try to
 maintain backwards compatibility in the future, but we can't promise. So in
 short: If it works for you: Great! But keep in mind that the config \fImight\fR
 change, though this is unlikely. Oh, and if you want to help improving this
 plugin, just send a short notice to the mailing list. Thanks\ :)
+.ie n .SS "Plugin ""openldap"""
+.el .SS "Plugin \f(CWopenldap\fP"
+.IX Subsection "Plugin openldap"
+To use the \f(CW\*(C`openldap\*(C'\fR plugin you first need to configure the \fIOpenLDAP\fR
+server correctly. The backend database \f(CW\*(C`monitor\*(C'\fR needs to be loaded and
+working. See \fIslapd\-monitor\fR\|(5) for the details.
+.PP
+The configuration of the \f(CW\*(C`openldap\*(C'\fR plugin consists of one or more \fBInstance\fR
+blocks. Each block requires one string argument as the instance name. For
+example:
+.PP
+.Vb 8
+\& <Plugin "openldap">
+\&   <Instance "foo">
+\&     URL "ldap://localhost/"
+\&   </Instance>
+\&   <Instance "bar">
+\&     URL "ldaps://localhost/"
+\&   </Instance>
+\& </Plugin>
+.Ve
+.PP
+The instance name will be used as the \fIplugin instance\fR. To emulate the old
+(version\ 4) behavior, you can use an empty string (""). In order for the
+plugin to work correctly, each instance name must be unique. This is not
+enforced by the plugin and it is your responsibility to ensure it is.
+.PP
+The following options are accepted within each \fBInstance\fR block:
+.IP "\fB\s-1URL\s0\fR \fIldap://host/binddn\fR" 4
+.IX Item "URL ldap://host/binddn"
+Sets the \s-1URL\s0 to use to connect to the \fIOpenLDAP\fR server. This option is
+\&\fImandatory\fR.
+.IP "\fBStartTLS\fR \fBtrue|false\fR" 4
+.IX Item "StartTLS true|false"
+Defines whether \s-1TLS\s0 must be used when connecting to the \fIOpenLDAP\fR server.
+Disabled by default.
+.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
+.IX Item "VerifyHost true|false"
+Enables or disables peer host name verification. If enabled, the plugin checks
+if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
+certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
+identity check fails, the connection is aborted. Enabled by default.
+.IP "\fBCACert\fR \fIFile\fR" 4
+.IX Item "CACert File"
+File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1TLS/SSL\s0 you
+may possibly need this option. What \s-1CA\s0 certificates are checked by default
+depends on the distribution you use and can be changed with the usual ldap
+client configuration mechanisms. See \fIldap.conf\fR\|(5) for the details.
+.IP "\fBTimeout\fR \fISeconds\fR" 4
+.IX Item "Timeout Seconds"
+Sets the timeout value for ldap operations. Defaults to \fB\-1\fR which results in
+an infinite timeout.
+.IP "\fBVersion\fR \fIVersion\fR" 4
+.IX Item "Version Version"
+An integer which sets the \s-1LDAP\s0 protocol version number to use when connecting
+to the \fIOpenLDAP\fR server. Defaults to \fB3\fR for using \fILDAPv3\fR.
 .ie n .SS "Plugin ""openvpn"""
 .el .SS "Plugin \f(CWopenvpn\fP"
 .IX Subsection "Plugin openvpn"
 The OpenVPN plugin reads a status file maintained by OpenVPN and gathers
 traffic statistics about connected clients.
 .PP
@@ -4240,12 +4739,15 @@
 .IP "\fBUser\fR \fIusername\fR" 4
 .IX Item "User username"
 Specify the username to be used when connecting to the server.
 .IP "\fBPassword\fR \fIpassword\fR" 4
 .IX Item "Password password"
 Specify the password to be used when connecting to the server.
+.IP "\fBExpireDelay\fR \fIdelay\fR" 4
+.IX Item "ExpireDelay delay"
+Skip expired values in query output.
 .IP "\fBSSLMode\fR \fIdisable\fR|\fIallow\fR|\fIprefer\fR|\fIrequire\fR" 4
 .IX Item "SSLMode disable|allow|prefer|require"
 Specify whether to use an \s-1SSL\s0 connection when contacting the server. The
 following modes are supported:
 .RS 4
 .IP "\fIdisable\fR" 4
@@ -4260,12 +4762,18 @@
 .IP "\fIrequire\fR" 4
 .IX Item "require"
 Use \s-1SSL\s0 only.
 .RE
 .RS 4
 .RE
+.IP "\fBInstance\fR \fIname\fR" 4
+.IX Item "Instance name"
+Specify the plugin instance name that should be used instead of the database
+name (which is the default, if this option has not been specified). This
+allows to query multiple databases of the same name on the same host (e.g.
+when running multiple database server versions in parallel).
 .IP "\fBKRBSrvName\fR \fIkerberos_service_name\fR" 4
 .IX Item "KRBSrvName kerberos_service_name"
 Specify the Kerberos service name to use when authenticating with Kerberos 5
 or \s-1GSSAPI.\s0 See the sections \*(L"Kerberos authentication\*(R" and \*(L"\s-1GSSAPI\*(R"\s0 of the
 \&\fBPostgreSQL Documentation\fR for details.
 .IP "\fBService\fR \fIservice_name\fR" 4
@@ -4440,15 +4948,12 @@
 .IP "\fBProcess\fR \fIName\fR" 4
 .IX Item "Process Name"
 Select more detailed statistics of processes matching this name. The statistics
 collected for these selected processes are size of the resident segment size
 (\s-1RSS\s0), user\- and system-time used, number of processes and number of threads,
 io data (where available) and minor and major pagefaults.
-.Sp
-Some platforms have a limit on the length of process names. \fIName\fR must stay
-below this limit.
 .IP "\fBProcessMatch\fR \fIname\fR \fIregex\fR" 4
 .IX Item "ProcessMatch name regex"
 Similar to the \fBProcess\fR option this allows to select more detailed
 statistics of processes matching the specified \fIregex\fR (see \fIregex\fR\|(7) for
 details). The statistics of all matching processes are summed up and
 dispatched to the daemon using the specified \fIname\fR as an identifier. This
@@ -4567,18 +5072,22 @@
 .el .SS "Plugin \f(CWredis\fP"
 .IX Subsection "Plugin redis"
 The \fIRedis plugin\fR connects to one or more Redis servers and gathers
 information about each server's state. For each server there is a \fINode\fR block
 which configures the connection parameters for this node.
 .PP
-.Vb 7
+.Vb 11
 \&  <Plugin redis>
 \&    <Node "example">
 \&        Host "localhost"
 \&        Port "6379"
 \&        Timeout 2000
+\&        <Query "LLEN myqueue">
+\&          Type "queue_length"
+\&          Instance "myqueue"
+\&        <Query>
 \&    </Node>
 \&  </Plugin>
 .Ve
 .PP
 The information shown in the synopsis above is the \fIdefault configuration\fR
 which is used by the plugin if no configuration is present.
@@ -4603,12 +5112,25 @@
 .IP "\fBTimeout\fR \fIMilliseconds\fR" 4
 .IX Item "Timeout Milliseconds"
 The \fBTimeout\fR option set the socket timeout for node response. Since the Redis
 read function is blocking, you should keep this value as low as possible. Keep
 in mind that the sum of all \fBTimeout\fR values for all \fBNodes\fR should be lower
 than \fBInterval\fR defined globally.
+.IP "\fBQuery\fR \fIQuerystring\fR" 4
+.IX Item "Query Querystring"
+The \fBQuery\fR block identifies a query to execute against the redis server.
+There may be an arbitrary number of queries to execute.
+.IP "\fBType\fR \fICollectd type\fR" 4
+.IX Item "Type Collectd type"
+Within a query definition, a valid collectd type to use as when submitting
+the result of the query. When not supplied, will default to \fBgauge\fR.
+.IP "\fBInstance\fR \fIType instance\fR" 4
+.IX Item "Instance Type instance"
+Within a query definition, an optional type instance to use when submitting
+the result of the query. When not supplied will default to the escaped
+command, up to 64 chars.
 .ie n .SS "Plugin ""rrdcached"""
 .el .SS "Plugin \f(CWrrdcached\fP"
 .IX Subsection "Plugin rrdcached"
 The \f(CW\*(C`rrdcached\*(C'\fR plugin uses the RRDtool accelerator daemon, \fIrrdcached\fR\|(1),
 to store values to \s-1RRD\s0 files in an efficient manner. The combination of the
 \&\f(CW\*(C`rrdcached\*(C'\fR \fBplugin\fR and the \f(CW\*(C`rrdcached\*(C'\fR \fBdaemon\fR is very similar to the
@@ -4900,18 +5422,48 @@
 times per second, it may be necessary to throttle these. For example, the
 \&\fI\s-1RRD\s0 plugin\fR cannot process writes more than once per second.
 .Sp
 The default \fBMinimumInterval\fR is \fB0\fR, meaning measurements received from the
 device are always dispatched to \fIcollectd\fR. When throttled, unused
 measurements are discarded.
-.ie n .SS "Plugin ""snmp"""
-.el .SS "Plugin \f(CWsnmp\fP"
-.IX Subsection "Plugin snmp"
-Since the configuration of the \f(CW\*(C`snmp plugin\*(C'\fR is a little more complicated than
-other plugins, its documentation has been moved to an own manpage,
-\&\fIcollectd\-snmp\fR\|(5). Please see there for details.
+.ie n .SS "Plugin ""smart"""
+.el .SS "Plugin \f(CWsmart\fP"
+.IX Subsection "Plugin smart"
+The \f(CW\*(C`smart\*(C'\fR plugin collects \s-1SMART\s0 information from physical
+disks. Values collectd include temperature, power cycle count, poweron
+time and bad sectors. Also, all \s-1SMART\s0 attributes are collected along
+with the normalized current value, the worst value, the threshold and
+a human readable value.
+.PP
+Using the following two options you can ignore some disks or configure the
+collection only of specific disks.
+.IP "\fBDisk\fR \fIName\fR" 4
+.IX Item "Disk Name"
+Select the disk \fIName\fR. Whether it is collected or ignored depends on the
+\&\fBIgnoreSelected\fR setting, see below. As with other plugins that use the
+daemon's ignorelist functionality, a string that starts and ends with a slash
+is interpreted as a regular expression. Examples:
+.Sp
+.Vb 2
+\&  Disk "sdd"
+\&  Disk "/hda[34]/"
+.Ve
+.IP "\fBIgnoreSelected\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+Sets whether selected disks, i.\ e. the ones matches by any of the \fBDisk\fR
+statements, are ignored or if all other disks are ignored. The behavior
+(hopefully) is intuitive: If no \fBDisk\fR option is configured, all disks are
+collected. If at least one \fBDisk\fR option is given and no \fBIgnoreSelected\fR or
+set to \fBfalse\fR, \fBonly\fR matching disks will be collected. If \fBIgnoreSelected\fR
+is set to \fBtrue\fR, all disks are collected \fBexcept\fR the ones matched.
+.ie n .SS "Plugin ""snmp"""
+.el .SS "Plugin \f(CWsnmp\fP"
+.IX Subsection "Plugin snmp"
+Since the configuration of the \f(CW\*(C`snmp plugin\*(C'\fR is a little more complicated than
+other plugins, its documentation has been moved to an own manpage,
+\&\fIcollectd\-snmp\fR\|(5). Please see there for details.
 .ie n .SS "Plugin ""statsd"""
 .el .SS "Plugin \f(CWstatsd\fP"
 .IX Subsection "Plugin statsd"
 The \fIstatsd plugin\fR listens to a \s-1UDP\s0 socket, reads \*(L"events\*(R" in the statsd
 protocol and dispatches rates or other aggregates of these numbers
 periodically.
@@ -4981,12 +5533,23 @@
 This option is only available if the \fISwap plugin\fR can read \f(CW\*(C`/proc/swaps\*(C'\fR
 (under Linux) or use the \fIswapctl\fR\|(2) mechanism (under \fISolaris\fR).
 .IP "\fBReportBytes\fR \fBfalse\fR|\fBtrue\fR" 4
 .IX Item "ReportBytes false|true"
 When enabled, the \fIswap I/O\fR is reported in bytes. When disabled, the default,
 \&\fIswap I/O\fR is reported in pages. This option is available under Linux only.
+.IP "\fBValuesAbsolute\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ValuesAbsolute true|false"
+Enables or disables reporting of absolute swap metrics, i.e. number of \fIbytes\fR
+available and used. Defaults to \fBtrue\fR.
+.IP "\fBValuesPercentage\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "ValuesPercentage false|true"
+Enables or disables reporting of relative swap metrics, i.e. \fIpercent\fR
+available and free. Defaults to \fBfalse\fR.
+.Sp
+This is useful for deploying \fIcollectd\fR in a heterogeneous environment, where
+swap sizes differ and you want to specify generic thresholds or similar.
 .ie n .SS "Plugin ""syslog"""
 .el .SS "Plugin \f(CWsyslog\fP"
 .IX Subsection "Plugin syslog"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
 Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
@@ -5099,12 +5662,13 @@
 user using (extended) regular expressions, as described in \fIregex\fR\|(7).
 .PP
 .Vb 10
 \&  <Plugin "tail">
 \&    <File "/var/log/exim4/mainlog">
 \&      Instance "exim"
+\&      Interval 60
 \&      <Match>
 \&        Regex "S=([1\-9][0\-9]*)"
 \&        DSType "CounterAdd"
 \&        Type "ipt_bytes"
 \&        Instance "total"
 \&      </Match>
@@ -5126,12 +5690,15 @@
 The \fBInstance\fR option in the \fBFile\fR block may be used to set the plugin
 instance. So in the above example the plugin name \f(CW\*(C`tail\-foo\*(C'\fR would be used.
 This plugin instance is for all \fBMatch\fR blocks that \fBfollow\fR it, until the
 next \fBInstance\fR option. This way you can extract several plugin instances from
 one logfile, handy when parsing syslog and the like.
 .PP
+The \fBInterval\fR option allows you to define the length of time between reads. If
+this is not set, the default Interval will be used.
+.PP
 Each \fBMatch\fR block has the following options to describe how the match should
 be performed:
 .IP "\fBRegex\fR \fIregex\fR" 4
 .IX Item "Regex regex"
 Sets the regular expression to use for matching against a line. The first
 subexpression has to match something that can be turned into a number by
@@ -5175,24 +5742,28 @@
 .IX Item "DeriveSet"
 .IP "\fBAbsoluteSet\fR" 4
 .IX Item "AbsoluteSet"
 .PD
 The matched number is a counter. Simply \fIsets\fR the internal counter to this
 value. Variants exist for \f(CW\*(C`COUNTER\*(C'\fR, \f(CW\*(C`DERIVE\*(C'\fR, and \f(CW\*(C`ABSOLUTE\*(C'\fR data sources.
+.IP "\fBGaugeAdd\fR" 4
+.IX Item "GaugeAdd"
+.PD 0
 .IP "\fBCounterAdd\fR" 4
 .IX Item "CounterAdd"
-.PD 0
 .IP "\fBDeriveAdd\fR" 4
 .IX Item "DeriveAdd"
 .PD
 Add the matched value to the internal counter. In case of \fBDeriveAdd\fR, the
 matched number may be negative, which will effectively subtract from the
 internal counter.
+.IP "\fBGaugeInc\fR" 4
+.IX Item "GaugeInc"
+.PD 0
 .IP "\fBCounterInc\fR" 4
 .IX Item "CounterInc"
-.PD 0
 .IP "\fBDeriveInc\fR" 4
 .IX Item "DeriveInc"
 .PD
 Increase the internal counter by one. These \fBDSType\fR are the only ones that do
 not use the matched subexpression, but simply count the number of matched
 lines. Thus, you may use a regular expression without submatch in this case.
@@ -5374,12 +5945,16 @@
 Count the connections to a specific remote port. This is useful to see how
 much a remote service is used. This is most useful if you want to know how many
 connections a local service has opened to remote services, e.\ g. how many
 connections a mail server or news server has to other mail or news servers, or
 how many connections a web proxy holds to web servers. You have to give the
 port in numeric form.
+.IP "\fBAllPortsSummary\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "AllPortsSummary true|false"
+If this option is set to \fItrue\fR a summary of statistics from all connections
+are collectd. This option defaults to \fIfalse\fR.
 .ie n .SS "Plugin ""thermal"""
 .el .SS "Plugin \f(CWthermal\fP"
 .IX Subsection "Plugin thermal"
 .IP "\fBForceUseProcfs\fR \fItrue\fR|\fIfalse\fR" 4
 .IX Item "ForceUseProcfs true|false"
 By default, the \fIThermal plugin\fR tries to read the statistics from the Linux
@@ -5417,12 +5992,76 @@
 Default: \fB127.0.0.1\fR
 .IP "\fBPort\fR \fIService/Port\fR" 4
 .IX Item "Port Service/Port"
 The query port of the server. This needs to be a string, even if the port is
 given in its numeric form.
 Default: \fB1978\fR
+.ie n .SS "Plugin ""turbostat"""
+.el .SS "Plugin \f(CWturbostat\fP"
+.IX Subsection "Plugin turbostat"
+The \fITurbostat plugin\fR reads \s-1CPU\s0 frequency and C\-state residency on modern
+Intel processors by using the new Model Specific Registers.
+.IP "\fBCoreCstates\fR \fIBitmask(Integer)\fR" 4
+.IX Item "CoreCstates Bitmask(Integer)"
+Bitmask of the list of core C states supported by the processor.
+This option should only be used if the automated detection fails.
+Default value extracted from the cpu model and family.
+.Sp
+Currently supported C\-states (by this plugin): 3, 6, 7
+.Sp
+Example: (1<<3)+(1<<6)+(1<<7) = 392 for all states
+.IP "\fBPackageCstates\fR \fIBitmask(Integer)\fR" 4
+.IX Item "PackageCstates Bitmask(Integer)"
+Bitmask of the list of pacages C states supported by the processor.
+This option should only be used if the automated detection fails.
+Default value extracted from the cpu model and family.
+.Sp
+Currently supported C\-states (by this plugin): 2, 3, 6, 7, 8, 9, 10
+.Sp
+Example: (1<<2)+(1<<3)+(1<<6)+(1<<7) = 396 for states 2, 3, 6 and 7
+.IP "\fBSystemManagementInterrupt\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "SystemManagementInterrupt true|false"
+Boolean enabling the collection of the I/O System-Management Interrupt
+counter'. This option should only be used if the automated detection
+fails or if you want to disable this feature.
+.IP "\fBDigitalTemperatureSensor\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "DigitalTemperatureSensor true|false"
+Boolean enabling the collection of the temperature of each core.
+This option should only be used if the automated detectionfails or 
+if you want to disable this feature.
+.IP "\fBDigitalTemperatureSensor\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "DigitalTemperatureSensor true|false"
+Boolean enabling the collection of the temperature of each package.
+This option should only be used if the automated detectionfails or 
+if you want to disable this feature.
+.IP "\fBTCCActivationTemp\fR \fITemperature\fR" 4
+.IX Item "TCCActivationTemp Temperature"
+Thermal Control Circuit Activation Temperature of the installed
+\&\s-1CPU.\s0 This temperature is used when collecting the temperature of
+cores or packages. This option should only be used if the automated
+detection fails. Default value extracted from \fB\s-1MSR_IA32_TEMPERATURE_TARGET\s0\fR
+.IP "\fBRunningAveragePowerLimit\fR \fIBitmask(Integer)\fR" 4
+.IX Item "RunningAveragePowerLimit Bitmask(Integer)"
+Bitmask of the list of elements to be thermally monitored. This option
+should only be used if the automated detection fails or if you want to
+disable some collections. The different bits of this bitmask accepted
+by this plugin are:
+.RS 4
+.IP "0 ('1'): Package" 4
+.IX Item "0 ('1'): Package"
+.PD 0
+.IP "1 ('2'): \s-1DRAM\s0" 4
+.IX Item "1 ('2'): DRAM"
+.IP "2 ('4'): Cores" 4
+.IX Item "2 ('4'): Cores"
+.IP "3 ('8'): Embedded graphic device" 4
+.IX Item "3 ('8'): Embedded graphic device"
+.RE
+.RS 4
+.RE
+.PD
 .ie n .SS "Plugin ""unixsock"""
 .el .SS "Plugin \f(CWunixsock\fP"
 .IX Subsection "Plugin unixsock"
 .IP "\fBSocketFile\fR \fIPath\fR" 4
 .IX Item "SocketFile Path"
 Sets the socket-file which is to be created.
@@ -5466,59 +6105,68 @@
 .IX Item "UUIDFile Path"
 Take the \s-1UUID\s0 from the given file (default \fI/etc/uuid\fR).
 .ie n .SS "Plugin ""varnish"""
 .el .SS "Plugin \f(CWvarnish\fP"
 .IX Subsection "Plugin varnish"
 The \fIvarnish plugin\fR collects information about Varnish, an \s-1HTTP\s0 accelerator.
+It collects a subset of the values displayed by \fIvarnishstat\fR\|(1), and
+organizes them in categories which can be enabled or disabled. Currently only
+metrics shown in \fIvarnishstat\fR\|(1)'s \fI\s-1MAIN\s0\fR section are collected. The exact
+meaning of each metric can be found in \fIvarnish\-counters\fR\|(7).
 .PP
 Synopsis:
 .PP
 .Vb 10
 \& <Plugin "varnish">
 \&   <Instance "example">
+\&     CollectBackend     true
+\&     CollectBan         false
 \&     CollectCache       true
 \&     CollectConnections true
-\&     CollectBackend     true
-\&     CollectSHM         true
+\&     CollectDirectorDNS false
 \&     CollectESI         false
 \&     CollectFetch       false
 \&     CollectHCB         false
+\&     CollectObjects     false
+\&     CollectPurge       false
+\&     CollectSession     false
+\&     CollectSHM         true
 \&     CollectSMA         false
 \&     CollectSMS         false
 \&     CollectSM          false
+\&     CollectStruct      false
 \&     CollectTotals      false
+\&     CollectUptime      false
+\&     CollectVCL         false
+\&     CollectVSM         false
 \&     CollectWorkers     false
 \&   </Instance>
 \& </Plugin>
 .Ve
 .PP
 The configuration consists of one or more <\fBInstance\fR\ \fIName\fR>
 blocks. \fIName\fR is the parameter passed to \*(L"varnishd \-n\*(R". If left empty, it
 will collectd statistics from the default \*(L"varnishd\*(R" instance (this should work
 fine in most cases).
 .PP
 Inside each <\fBInstance\fR> blocks, the following options are recognized:
-.IP "\fBCollectCache\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "CollectCache true|false"
-Cache hits and misses. True by default.
-.IP "\fBCollectConnections\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "CollectConnections true|false"
-Number of client connections received, accepted and dropped. True by default.
 .IP "\fBCollectBackend\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectBackend true|false"
 Back-end connection statistics, such as successful, reused,
 and closed connections. True by default.
-.IP "\fBCollectSHM\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "CollectSHM true|false"
-Statistics about the shared memory log, a memory region to store
-log messages which is flushed to disk when full. True by default.
 .IP "\fBCollectBan\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectBan true|false"
 Statistics about ban operations, such as number of bans added, retired, and
 number of objects tested against ban operations. Only available with Varnish
-3.x. False by default.
+3.x and above. False by default.
+.IP "\fBCollectCache\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "CollectCache true|false"
+Cache hits and misses. True by default.
+.IP "\fBCollectConnections\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "CollectConnections true|false"
+Number of client connections received, accepted and dropped. True by default.
 .IP "\fBCollectDirectorDNS\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectDirectorDNS true|false"
 \&\s-1DNS\s0 director lookup cache statistics. Only available with Varnish 3.x. False by
 default.
 .IP "\fBCollectESI\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectESI true|false"
@@ -5539,13 +6187,19 @@
 Statistics about purge operations, such as number of purges added, retired, and
 number of objects tested against purge operations. Only available with Varnish
 2.x. False by default.
 .IP "\fBCollectSession\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectSession true|false"
 Client session statistics. Number of past and current sessions, session herd and
-linger counters, etc. False by default.
+linger counters, etc. False by default. Note that if using Varnish 4.x, some
+metrics found in the Connections and Threads sections with previous versions of
+Varnish have been moved here.
+.IP "\fBCollectSHM\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "CollectSHM true|false"
+Statistics about the shared memory log, a memory region to store
+log messages which is flushed to disk when full. True by default.
 .IP "\fBCollectSMA\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectSMA true|false"
 malloc or umem (umem_alloc(3MALLOC) based) storage statistics. The umem storage
 component is Solaris specific. Only available with Varnish 2.x. False by
 default.
 .IP "\fBCollectSMS\fR \fBtrue\fR|\fBfalse\fR" 4
@@ -5564,19 +6218,114 @@
 .IP "\fBCollectTotals\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectTotals true|false"
 Collects overview counters, such as the number of sessions created,
 the number of requests and bytes transferred. False by default.
 .IP "\fBCollectUptime\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectUptime true|false"
-Varnish uptime. False by default.
+Varnish uptime. Only available with Varnish 3.x and above. False by default.
 .IP "\fBCollectVCL\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectVCL true|false"
 Number of total (available + discarded) \s-1VCL \s0(config files). False by default.
+.IP "\fBCollectVSM\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "CollectVSM true|false"
+Collect statistics about Varnish's shared memory usage (used by the logging and
+statistics subsystems). Only available with Varnish 4.x. False by default.
 .IP "\fBCollectWorkers\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "CollectWorkers true|false"
 Collect statistics about worker threads. False by default.
+.ie n .SS "Plugin ""virt"""
+.el .SS "Plugin \f(CWvirt\fP"
+.IX Subsection "Plugin virt"
+This plugin allows \s-1CPU,\s0 disk and network load to be collected for virtualized
+guests on the machine. This means that these metrics can be collected for guest
+systems without installing any software on them \- \fIcollectd\fR only runs on the
+host system. The statistics are collected through libvirt
+(<http://libvirt.org/>).
+.PP
+Only \fIConnection\fR is required.
+.IP "\fBConnection\fR \fIuri\fR" 4
+.IX Item "Connection uri"
+Connect to the hypervisor given by \fIuri\fR. For example if using Xen use:
+.Sp
+.Vb 1
+\& Connection "xen:///"
+.Ve
+.Sp
+Details which URIs allowed are given at <http://libvirt.org/uri.html>.
+.IP "\fBRefreshInterval\fR \fIseconds\fR" 4
+.IX Item "RefreshInterval seconds"
+Refresh the list of domains and devices every \fIseconds\fR. The default is 60
+seconds. Setting this to be the same or smaller than the \fIInterval\fR will cause
+the list of domains and devices to be refreshed on every iteration.
+.Sp
+Refreshing the devices in particular is quite a costly operation, so if your
+virtualization setup is static you might consider increasing this. If this
+option is set to 0, refreshing is disabled completely.
+.IP "\fBDomain\fR \fIname\fR" 4
+.IX Item "Domain name"
+.PD 0
+.IP "\fBBlockDevice\fR \fIname:dev\fR" 4
+.IX Item "BlockDevice name:dev"
+.IP "\fBInterfaceDevice\fR \fIname:dev\fR" 4
+.IX Item "InterfaceDevice name:dev"
+.IP "\fBIgnoreSelected\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+.PD
+Select which domains and devices are collected.
+.Sp
+If \fIIgnoreSelected\fR is not given or \fBfalse\fR then only the listed domains and
+disk/network devices are collected.
+.Sp
+If \fIIgnoreSelected\fR is \fBtrue\fR then the test is reversed and the listed
+domains and disk/network devices are ignored, while the rest are collected.
+.Sp
+The domain name and device names may use a regular expression, if the name is
+surrounded by \fI/.../\fR and collectd was compiled with support for regexps.
+.Sp
+The default is to collect statistics for all domains and all their devices.
+.Sp
+Example:
+.Sp
+.Vb 2
+\& BlockDevice "/:hdb/"
+\& IgnoreSelected "true"
+.Ve
+.Sp
+Ignore all \fIhdb\fR devices on any domain, but other block devices (eg. \fIhda\fR)
+will be collected.
+.IP "\fBHostnameFormat\fR \fBname|uuid|hostname|...\fR" 4
+.IX Item "HostnameFormat name|uuid|hostname|..."
+When the virt plugin logs data, it sets the hostname of the collected data
+according to this setting. The default is to use the guest name as provided by
+the hypervisor, which is equal to setting \fBname\fR.
+.Sp
+\&\fBuuid\fR means use the guest's \s-1UUID.\s0 This is useful if you want to track the
+same guest across migrations.
+.Sp
+\&\fBhostname\fR means to use the global \fBHostname\fR setting, which is probably not
+useful on its own because all guests will appear to have the same name.
+.Sp
+You can also specify combinations of these fields. For example \fBname uuid\fR
+means to concatenate the guest name and \s-1UUID \s0(with a literal colon character
+between, thus \fI\*(L"foo:1234\-1234\-1234\-1234\*(R"\fR).
+.IP "\fBInterfaceFormat\fR \fBname\fR|\fBaddress\fR" 4
+.IX Item "InterfaceFormat name|address"
+When the virt plugin logs interface data, it sets the name of the collected
+data according to this setting. The default is to use the path as provided by
+the hypervisor (the \*(L"dev\*(R" property of the target node), which is equal to
+setting \fBname\fR.
+.Sp
+\&\fBaddress\fR means use the interface's mac address. This is useful since the
+interface path might change between reboots of a guest or across migrations.
+.IP "\fBPluginInstanceFormat\fR \fBname|uuid\fR" 4
+.IX Item "PluginInstanceFormat name|uuid"
+When the virt plugin logs data, it sets the plugin_instance of the collected
+data according to this setting. The default is to use the guest name as provided
+by the hypervisor, which is equal to setting \fBname\fR.
+.Sp
+\&\fBuuid\fR means use the guest's \s-1UUID.\s0
 .ie n .SS "Plugin ""vmem"""
 .el .SS "Plugin \f(CWvmem\fP"
 .IX Subsection "Plugin vmem"
 The \f(CW\*(C`vmem\*(C'\fR plugin collects information about the usage of virtual memory.
 Since the statistics provided by the Linux kernel are very detailed, they are
 collected very detailed. However, to get all the details, you have to switch
@@ -5670,12 +6419,57 @@
 instance) are put into one component, for example \f(CW\*(C`host.cpu\-0.cpu\-idle\*(C'\fR.
 .IP "\fBAlwaysAppendDS\fR \fBfalse\fR|\fBtrue\fR" 4
 .IX Item "AlwaysAppendDS false|true"
 If set to \fBtrue\fR, append the name of the \fIData Source\fR (\s-1DS\s0) to the \*(L"metric\*(R"
 identifier. If set to \fBfalse\fR (the default), this is only done when there is
 more than one \s-1DS.\s0
+.ie n .SS "Plugin ""write_tsdb"""
+.el .SS "Plugin \f(CWwrite_tsdb\fP"
+.IX Subsection "Plugin write_tsdb"
+The \f(CW\*(C`write_tsdb\*(C'\fR plugin writes data to \fIOpenTSDB\fR, a scalable open-source
+time series database. The plugin connects to a \fI\s-1TSD\s0\fR, a masterless, no shared
+state daemon that ingests metrics and stores them in HBase. The plugin uses
+\&\fI\s-1TCP\s0\fR over the \*(L"line based\*(R" protocol with a default port 4242. The data will
+be sent in blocks of at most 1428 bytes to minimize the number of network
+packets.
+.PP
+Synopsis:
+.PP
+.Vb 7
+\& <Plugin write_tsdb>
+\&   <Node "example">
+\&     Host "tsd\-1.my.domain"
+\&     Port "4242"
+\&     HostTags "status=production"
+\&   </Node>
+\& </Plugin>
+.Ve
+.PP
+The configuration consists of one or more <\fBNode\fR\ \fIName\fR>
+blocks. Inside the \fBNode\fR blocks, the following options are recognized:
+.IP "\fBHost\fR \fIAddress\fR" 4
+.IX Item "Host Address"
+Hostname or address to connect to. Defaults to \f(CW\*(C`localhost\*(C'\fR.
+.IP "\fBPort\fR \fIService\fR" 4
+.IX Item "Port Service"
+Service name or port number to connect to. Defaults to \f(CW4242\fR.
+.IP "\fBHostTags\fR \fIString\fR" 4
+.IX Item "HostTags String"
+When set, \fIHostTags\fR is added to the end of the metric. It is intended to be
+used for name=value pairs that the \s-1TSD\s0 will tag the metric with. Dots and
+whitespace are \fInot\fR escaped in this string.
+.IP "\fBStoreRates\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "StoreRates false|true"
+If set to \fBtrue\fR, convert counter values to rates. If set to \fBfalse\fR
+(the default) counter values are stored as is, as an increasing
+integer number.
+.IP "\fBAlwaysAppendDS\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "AlwaysAppendDS false|true"
+If set the \fBtrue\fR, append the name of the \fIData Source\fR (\s-1DS\s0) to the \*(L"metric\*(R"
+identifier. If set to \fBfalse\fR (the default), this is only done when there is
+more than one \s-1DS.\s0
 .ie n .SS "Plugin ""write_mongodb"""
 .el .SS "Plugin \f(CWwrite_mongodb\fP"
 .IX Subsection "Plugin write_mongodb"
 The \fIwrite_mongodb plugin\fR will send values to \fIMongoDB\fR, a schema-less
 NoSQL database.
 .PP
@@ -5721,30 +6515,35 @@
 Sets the information used when authenticating to a \fIMongoDB\fR database. The
 fields are optional (in which case no authentication is attempted), but if you
 want to use authentication all three fields must be set.
 .ie n .SS "Plugin ""write_http"""
 .el .SS "Plugin \f(CWwrite_http\fP"
 .IX Subsection "Plugin write_http"
-This output plugin submits values to an http server by \s-1POST\s0 them using the
-\&\s-1PUTVAL\s0 plain-text protocol. Each destination you want to post data to needs to
-have one \fB\s-1URL\s0\fR block, within which the destination can be configured further,
-for example by specifying authentication data.
+This output plugin submits values to an \s-1HTTP\s0 server using \s-1POST\s0 requests and
+encoding metrics with \s-1JSON\s0 or using the \f(CW\*(C`PUTVAL\*(C'\fR command described in
+\&\fIcollectd\-unixsock\fR\|(5).
 .PP
 Synopsis:
 .PP
-.Vb 6
+.Vb 8
 \& <Plugin "write_http">
-\&   <URL "http://example.com/post\-collectd">
+\&   <Node "example">
+\&     URL "http://example.com/post\-collectd"
 \&     User "collectd"
 \&     Password "weCh3ik0"
-\&   </URL>
+\&     Format JSON
+\&   </Node>
 \& </Plugin>
 .Ve
 .PP
-\&\fB\s-1URL\s0\fR blocks need one string argument which is used as the \s-1URL\s0 to which data
-is posted. The following options are understood within \fB\s-1URL\s0\fR blocks.
+The plugin can send values to multiple \s-1HTTP\s0 servers by specifying one
+<\fBNode\fR\ \fIName\fR> block for each server. Within each \fBNode\fR
+block, the following options are available:
+.IP "\fB\s-1URL\s0\fR \fI\s-1URL\s0\fR" 4
+.IX Item "URL URL"
+\&\s-1URL\s0 to which the values are submitted to. Mandatory.
 .IP "\fBUser\fR \fIUsername\fR" 4
 .IX Item "User Username"
 Optional user name needed for authentication.
 .IP "\fBPassword\fR \fIPassword\fR" 4
 .IX Item "Password Password"
 Optional password needed for authentication.
@@ -5761,24 +6560,165 @@
 \&\s-1SSL\s0 enabled server. Enabled by default.
 .IP "\fBCACert\fR \fIFile\fR" 4
 .IX Item "CACert File"
 File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
 possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
 and are checked by default depends on the distribution you use.
+.IP "\fBCAPath\fR \fIDirectory\fR" 4
+.IX Item "CAPath Directory"
+Directory holding one or more \s-1CA\s0 certificate files. You can use this if for
+some reason all the needed \s-1CA\s0 certificates aren't in the same file and can't be
+pointed to using the \fBCACert\fR option. Requires \f(CW\*(C`libcurl\*(C'\fR to be built against
+OpenSSL.
+.IP "\fBClientKey\fR \fIFile\fR" 4
+.IX Item "ClientKey File"
+File that holds the private key in \s-1PEM\s0 format to be used for certificate-based
+authentication.
+.IP "\fBClientCert\fR \fIFile\fR" 4
+.IX Item "ClientCert File"
+File that holds the \s-1SSL\s0 certificate to be used for certificate-based
+authentication.
+.IP "\fBClientKeyPass\fR \fIPassword\fR" 4
+.IX Item "ClientKeyPass Password"
+Password required to load the private key in \fBClientKey\fR.
+.IP "\fBSSLVersion\fR \fBSSLv2\fR|\fBSSLv3\fR|\fBTLSv1\fR|\fBTLSv1_0\fR|\fBTLSv1_1\fR|\fBTLSv1_2\fR" 4
+.IX Item "SSLVersion SSLv2|SSLv3|TLSv1|TLSv1_0|TLSv1_1|TLSv1_2"
+Define which \s-1SSL\s0 protocol version must be used. By default \f(CW\*(C`libcurl\*(C'\fR will
+attempt to figure out the remote \s-1SSL\s0 protocol version. See
+\&\fIcurl_easy_setopt\fR\|(3) for more details.
 .IP "\fBFormat\fR \fBCommand\fR|\fB\s-1JSON\s0\fR" 4
 .IX Item "Format Command|JSON"
 Format of the output to generate. If set to \fBCommand\fR, will create output that
 is understood by the \fIExec\fR and \fIUnixSock\fR plugins. When set to \fB\s-1JSON\s0\fR, will
 create output in the \fIJavaScript Object Notation\fR (\s-1JSON\s0).
 .Sp
 Defaults to \fBCommand\fR.
 .IP "\fBStoreRates\fR \fBtrue|false\fR" 4
 .IX Item "StoreRates true|false"
 If set to \fBtrue\fR, convert counter values to rates. If set to \fBfalse\fR (the
-default) counter values are stored as is, i.\ e. as an increasing integer
-number.
+default) counter values are stored as is, i.e. as an increasing integer number.
+.IP "\fBBufferSize\fR \fIBytes\fR" 4
+.IX Item "BufferSize Bytes"
+Sets the send buffer size to \fIBytes\fR. By increasing this buffer, less \s-1HTTP\s0
+requests will be generated, but more metrics will be batched / metrics are
+cached for longer before being sent, introducing additional delay until they
+are available on the server side. \fIBytes\fR must be at least 1024 and cannot
+exceed the size of an \f(CW\*(C`int\*(C'\fR, i.e. 2\ GByte.
+Defaults to \f(CW4096\fR.
+.IP "\fBLowSpeedLimit\fR \fIBytes per Second\fR" 4
+.IX Item "LowSpeedLimit Bytes per Second"
+Sets the minimal transfer rate in \fIBytes per Second\fR below which the
+connection with the \s-1HTTP\s0 server will be considered too slow and aborted. All
+the data submitted over this connection will probably be lost. Defaults to 0,
+which means no minimum transfer rate is enforced.
+.IP "\fBTimeout\fR \fITimeout\fR" 4
+.IX Item "Timeout Timeout"
+Sets the maximum time in milliseconds given for \s-1HTTP POST\s0 operations to
+complete. When this limit is reached, the \s-1POST\s0 operation will be aborted, and
+all the data in the current send buffer will probably be lost. Defaults to 0,
+which means the connection never times out.
+.Sp
+The \f(CW\*(C`write_http\*(C'\fR plugin regularly submits the collected values to the \s-1HTTP\s0
+server. How frequently this happens depends on how much data you are collecting
+and the size of \fBBufferSize\fR. The optimal value to set \fBTimeout\fR to is
+slightly below this interval, which you can estimate by monitoring the network
+traffic between collectd and the \s-1HTTP\s0 server.
+.ie n .SS "Plugin ""write_kafka"""
+.el .SS "Plugin \f(CWwrite_kafka\fP"
+.IX Subsection "Plugin write_kafka"
+The \fIwrite_kafka plugin\fR will send values to a \fIKafka\fR topic, a distributed
+queue.
+Synopsis:
+.PP
+.Vb 6
+\& <Plugin "write_kafka">
+\&   Property "metadata.broker.list" "broker1:9092,broker2:9092"
+\&   <Topic "collectd">
+\&     Format JSON
+\&   </Topic>
+\& </Plugin>
+.Ve
+.PP
+The following options are understood by the \fIwrite_kafka plugin\fR:
+.IP "<\fBTopic\fR \fIName\fR>" 4
+.IX Item "<Topic Name>"
+The plugin's configuration consists of one or more \fBTopic\fR blocks. Each block
+is given a unique \fIName\fR and specifies one kafka producer.
+Inside the \fBTopic\fR block, the following per-topic options are
+understood:
+.RS 4
+.IP "\fBProperty\fR \fIString\fR \fIString\fR" 4
+.IX Item "Property String String"
+Configure the named property for the current topic. Properties are
+forwarded to the kafka producer library \fBlibrdkafka\fR.
+.IP "\fBKey\fR \fIString\fR" 4
+.IX Item "Key String"
+Use the specified string as a partioning key for the topic. Kafka breaks
+topic into partitions and guarantees that for a given topology, the same
+consumer will be used for a specific key. The special (case insensitive)
+string \fBRandom\fR can be used to specify that an arbitrary partition should
+be used.
+.IP "\fBFormat\fR \fBCommand\fR|\fB\s-1JSON\s0\fR|\fBGraphite\fR" 4
+.IX Item "Format Command|JSON|Graphite"
+Selects the format in which messages are sent to the broker. If set to
+\&\fBCommand\fR (the default), values are sent as \f(CW\*(C`PUTVAL\*(C'\fR commands which are
+identical to the syntax used by the \fIExec\fR and \fIUnixSock plugins\fR.
+.Sp
+If set to \fB\s-1JSON\s0\fR, the values are encoded in the \fIJavaScript Object Notation\fR,
+an easy and straight forward exchange format.
+.Sp
+If set to \fBGraphite\fR, values are encoded in the \fIGraphite\fR format, which is
+\&\f(CW\*(C`<metric> <value> <timestamp>\en\*(C'\fR.
+.IP "\fBStoreRates\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "StoreRates true|false"
+Determines whether or not \f(CW\*(C`COUNTER\*(C'\fR, \f(CW\*(C`DERIVE\*(C'\fR and \f(CW\*(C`ABSOLUTE\*(C'\fR data sources
+are converted to a \fIrate\fR (i.e. a \f(CW\*(C`GAUGE\*(C'\fR value). If set to \fBfalse\fR (the
+default), no conversion is performed. Otherwise the conversion is performed
+using the internal value cache.
+.Sp
+Please note that currently this option is only used if the \fBFormat\fR option has
+been set to \fB\s-1JSON\s0\fR.
+.IP "\fBGraphitePrefix\fR (\fBFormat\fR=\fIGraphite\fR only)" 4
+.IX Item "GraphitePrefix (Format=Graphite only)"
+A prefix can be added in the metric name when outputting in the \fIGraphite\fR
+format. It's added before the \fIHost\fR name.
+Metric name will be
+\&\f(CW\*(C`<prefix><host><postfix><plugin><type><name>\*(C'\fR
+.IP "\fBGraphitePostfix\fR (\fBFormat\fR=\fIGraphite\fR only)" 4
+.IX Item "GraphitePostfix (Format=Graphite only)"
+A postfix can be added in the metric name when outputting in the \fIGraphite\fR
+format. It's added after the \fIHost\fR name.
+Metric name will be
+\&\f(CW\*(C`<prefix><host><postfix><plugin><type><name>\*(C'\fR
+.IP "\fBGraphiteEscapeChar\fR (\fBFormat\fR=\fIGraphite\fR only)" 4
+.IX Item "GraphiteEscapeChar (Format=Graphite only)"
+Specify a character to replace dots (.) in the host part of the metric name.
+In \fIGraphite\fR metric name, dots are used as separators between different
+metric parts (host, plugin, type).
+Default is \f(CW\*(C`_\*(C'\fR (\fIUnderscore\fR).
+.IP "\fBGraphiteSeparateInstances\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "GraphiteSeparateInstances false|true"
+If set to \fBtrue\fR, the plugin instance and type instance will be in their own
+path component, for example \f(CW\*(C`host.cpu.0.cpu.idle\*(C'\fR. If set to \fBfalse\fR (the
+default), the plugin and plugin instance (and likewise the type and type
+instance) are put into one component, for example \f(CW\*(C`host.cpu\-0.cpu\-idle\*(C'\fR.
+.IP "\fBStoreRates\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "StoreRates true|false"
+If set to \fBtrue\fR (the default), convert counter values to rates. If set to
+\&\fBfalse\fR counter values are stored as is, i.e. as an increasing integer number.
+.Sp
+This will be reflected in the \f(CW\*(C`ds_type\*(C'\fR tag: If \fBStoreRates\fR is enabled,
+converted values will have \*(L"rate\*(R" appended to the data source type, e.g.
+\&\f(CW\*(C`ds_type:derive:rate\*(C'\fR.
+.RE
+.RS 4
+.RE
+.IP "\fBProperty\fR \fIString\fR \fIString\fR" 4
+.IX Item "Property String String"
+Configure the kafka producer through properties, you almost always will
+want to set \fBmetadata.broker.list\fR to your Kafka broker list.
 .ie n .SS "Plugin ""write_redis"""
 .el .SS "Plugin \f(CWwrite_redis\fP"
 .IX Subsection "Plugin write_redis"
 The \fIwrite_redis plugin\fR submits values to \fIRedis\fR, a data structure server.
 .PP
 Synopsis:
@@ -5825,29 +6765,30 @@
 .IP "\fBTimeout\fR \fIMilliseconds\fR" 4
 .IX Item "Timeout Milliseconds"
 The \fBTimeout\fR option sets the socket connection timeout, in milliseconds.
 .ie n .SS "Plugin ""write_riemann"""
 .el .SS "Plugin \f(CWwrite_riemann\fP"
 .IX Subsection "Plugin write_riemann"
-The \fIwrite_riemann plugin\fR will send values to \fIRiemann\fR, a powerfull stream
+The \fIwrite_riemann plugin\fR will send values to \fIRiemann\fR, a powerful stream
 aggregation and monitoring system. The plugin sends \fIProtobuf\fR encoded data to
 \&\fIRiemann\fR using \s-1UDP\s0 packets.
 .PP
 Synopsis:
 .PP
-.Vb 11
+.Vb 12
 \& <Plugin "write_riemann">
 \&   <Node "example">
 \&     Host "localhost"
 \&     Port "5555"
 \&     Protocol UDP
 \&     StoreRates true
 \&     AlwaysAppendDS false
 \&     TTLFactor 2.0
 \&   </Node>
 \&   Tag "foobar"
+\&   Attribute "foo" "bar"
 \& </Plugin>
 .Ve
 .PP
 The following options are understood by the \fIwrite_riemann plugin\fR:
 .IP "<\fBNode\fR \fIName\fR>" 4
 .IX Item "<Node Name>"
@@ -5862,42 +6803,192 @@
 .IP "\fBPort\fR \fIService\fR" 4
 .IX Item "Port Service"
 Service name or port number to connect to. Defaults to \f(CW5555\fR.
 .IP "\fBProtocol\fR \fB\s-1UDP\s0\fR|\fB\s-1TCP\s0\fR" 4
 .IX Item "Protocol UDP|TCP"
 Specify the protocol to use when communicating with \fIRiemann\fR. Defaults to
-\&\fB\s-1UDP\s0\fR.
+\&\fB\s-1TCP\s0\fR.
+.IP "\fBBatch\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Batch true|false"
+If set to \fBtrue\fR and \fBProtocol\fR is set to \fB\s-1TCP\s0\fR,
+events will be batched in memory and flushed at
+regular intervals or when \fBBatchMaxSize\fR is exceeded.
+.Sp
+Notifications are not batched and sent as soon as possible.
+.Sp
+When enabled, it can occur that events get processed by the Riemann server
+close to or after their expiration time. Tune the \fBTTLFactor\fR and
+\&\fBBatchMaxSize\fR settings according to the amount of values collected, if this
+is an issue.
+.Sp
+Defaults to true
+.IP "\fBBatchMaxSize\fR \fIsize\fR" 4
+.IX Item "BatchMaxSize size"
+Maximum payload size for a riemann packet. Defaults to 8192
 .IP "\fBStoreRates\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "StoreRates true|false"
 If set to \fBtrue\fR (the default), convert counter values to rates. If set to
 \&\fBfalse\fR counter values are stored as is, i.e. as an increasing integer number.
 .Sp
 This will be reflected in the \f(CW\*(C`ds_type\*(C'\fR tag: If \fBStoreRates\fR is enabled,
 converted values will have \*(L"rate\*(R" appended to the data source type, e.g.
 \&\f(CW\*(C`ds_type:derive:rate\*(C'\fR.
 .IP "\fBAlwaysAppendDS\fR \fBfalse\fR|\fBtrue\fR" 4
 .IX Item "AlwaysAppendDS false|true"
-If set to \fBtrue\fR, append the name of the \fIData Source\fR (\s-1DS\s0) to the
+If set the \fBtrue\fR, append the name of the \fIData Source\fR (\s-1DS\s0) to the
 \&\*(L"service\*(R", i.e. the field that, together with the \*(L"host\*(R" field, uniquely
 identifies a metric in \fIRiemann\fR. If set to \fBfalse\fR (the default), this is
 only done when there is more than one \s-1DS.\s0
 .IP "\fBTTLFactor\fR \fIFactor\fR" 4
 .IX Item "TTLFactor Factor"
 \&\fIRiemann\fR events have a \fITime to Live\fR (\s-1TTL\s0) which specifies how long each
 event is considered active. \fIcollectd\fR populates this field based on the
 metrics interval setting. This setting controls the factor with which the
 interval is multiplied to set the \s-1TTL.\s0 The default value is \fB2.0\fR. Unless you
 know exactly what you're doing, you should only increase this setting from its
 default value.
+.IP "\fBNotifications\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "Notifications false|true"
+If set to \fBtrue\fR, create riemann events for notifications. This is \fBtrue\fR
+by default. When processing thresholds from write_riemann, it might prove
+useful to avoid getting notification events.
+.IP "\fBCheckThresholds\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "CheckThresholds false|true"
+If set to \fBtrue\fR, attach state to events based on thresholds defined
+in the \fBThreshold\fR plugin. Defaults to \fBfalse\fR.
+.IP "\fBEventServicePrefix\fR \fIString\fR" 4
+.IX Item "EventServicePrefix String"
+Add the given string as a prefix to the event service name.
+If \fBEventServicePrefix\fR not set or set to an empty string (""),
+no prefix will be used.
 .RE
 .RS 4
 .RE
 .IP "\fBTag\fR \fIString\fR" 4
 .IX Item "Tag String"
 Add the given string as an additional tag to the metric being sent to
 \&\fIRiemann\fR.
+.IP "\fBAttribute\fR \fIString\fR \fIString\fR" 4
+.IX Item "Attribute String String"
+Consider the two given strings to be the key and value of an additional
+attribute for each metric being sent out to \fIRiemann\fR.
+.ie n .SS "Plugin ""write_sensu"""
+.el .SS "Plugin \f(CWwrite_sensu\fP"
+.IX Subsection "Plugin write_sensu"
+The \fIwrite_sensu plugin\fR will send values to \fISensu\fR, a powerful stream
+aggregation and monitoring system. The plugin sends \fI\s-1JSON\s0\fR encoded data to
+a local \fISensu\fR client using a \s-1TCP\s0 socket.
+.PP
+At the moment, the \fIwrite_sensu plugin\fR does not send over a collectd_host
+parameter so it is not possible to use one collectd instance as a gateway for
+others. Each collectd host must pair with one \fISensu\fR client.
+.PP
+Synopsis:
+.PP
+.Vb 10
+\& <Plugin "write_sensu">
+\&   <Node "example">
+\&     Host "localhost"
+\&     Port "3030"
+\&     StoreRates true
+\&     AlwaysAppendDS false
+\&     MetricHandler "influx"
+\&     MetricHandler "default"
+\&     NotificationHandler "flapjack"
+\&     NotificationHandler "howling_monkey"
+\&     Notifications true
+\&   </Node>
+\&   Tag "foobar"
+\&   Attribute "foo" "bar"
+\& </Plugin>
+.Ve
+.PP
+The following options are understood by the \fIwrite_sensu plugin\fR:
+.IP "<\fBNode\fR \fIName\fR>" 4
+.IX Item "<Node Name>"
+The plugin's configuration consists of one or more \fBNode\fR blocks. Each block
+is given a unique \fIName\fR and specifies one connection to an instance of
+\&\fISensu\fR. Inside the \fBNode\fR block, the following per-connection options are
+understood:
+.RS 4
+.IP "\fBHost\fR \fIAddress\fR" 4
+.IX Item "Host Address"
+Hostname or address to connect to. Defaults to \f(CW\*(C`localhost\*(C'\fR.
+.IP "\fBPort\fR \fIService\fR" 4
+.IX Item "Port Service"
+Service name or port number to connect to. Defaults to \f(CW3030\fR.
+.IP "\fBStoreRates\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "StoreRates true|false"
+If set to \fBtrue\fR (the default), convert counter values to rates. If set to
+\&\fBfalse\fR counter values are stored as is, i.e. as an increasing integer number.
+.Sp
+This will be reflected in the \f(CW\*(C`collectd_data_source_type\*(C'\fR tag: If
+\&\fBStoreRates\fR is enabled, converted values will have \*(L"rate\*(R" appended to the
+data source type, e.g.  \f(CW\*(C`collectd_data_source_type:derive:rate\*(C'\fR.
+.IP "\fBAlwaysAppendDS\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "AlwaysAppendDS false|true"
+If set the \fBtrue\fR, append the name of the \fIData Source\fR (\s-1DS\s0) to the
+\&\*(L"service\*(R", i.e. the field that, together with the \*(L"host\*(R" field, uniquely
+identifies a metric in \fISensu\fR. If set to \fBfalse\fR (the default), this is
+only done when there is more than one \s-1DS.\s0
+.IP "\fBNotifications\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "Notifications false|true"
+If set to \fBtrue\fR, create \fISensu\fR events for notifications. This is \fBfalse\fR
+by default. At least one of \fBNotifications\fR or \fBMetrics\fR should be enabled.
+.IP "\fBMetrics\fR \fBfalse\fR|\fBtrue\fR" 4
+.IX Item "Metrics false|true"
+If set to \fBtrue\fR, create \fISensu\fR events for metrics. This is \fBfalse\fR
+by default. At least one of \fBNotifications\fR or \fBMetrics\fR should be enabled.
+.IP "\fBSeparator\fR \fIString\fR" 4
+.IX Item "Separator String"
+Sets the separator for \fISensu\fR metrics name or checks. Defaults to \*(L"/\*(R".
+.IP "\fBMetricHandler\fR \fIString\fR" 4
+.IX Item "MetricHandler String"
+Add a handler that will be set when metrics are sent to \fISensu\fR. You can add
+several of them, one per line. Defaults to no handler.
+.IP "\fBNotificationHandler\fR \fIString\fR" 4
+.IX Item "NotificationHandler String"
+Add a handler that will be set when notifications are sent to \fISensu\fR. You can
+add several of them, one per line. Defaults to no handler.
+.IP "\fBEventServicePrefix\fR \fIString\fR" 4
+.IX Item "EventServicePrefix String"
+Add the given string as a prefix to the event service name.
+If \fBEventServicePrefix\fR not set or set to an empty string (""),
+no prefix will be used.
+.RE
+.RS 4
+.RE
+.IP "\fBTag\fR \fIString\fR" 4
+.IX Item "Tag String"
+Add the given string as an additional tag to the metric being sent to
+\&\fISensu\fR.
+.IP "\fBAttribute\fR \fIString\fR \fIString\fR" 4
+.IX Item "Attribute String String"
+Consider the two given strings to be the key and value of an additional
+attribute for each metric being sent out to \fISensu\fR.
+.ie n .SS "Plugin ""zookeeper"""
+.el .SS "Plugin \f(CWzookeeper\fP"
+.IX Subsection "Plugin zookeeper"
+The \fIzookeeper plugin\fR will collect statistics from a \fIZookeeper\fR server
+using the mntr command.  It requires Zookeeper 3.4.0+ and access to the
+client port.
+.PP
+\&\fBSynopsis:\fR
+.PP
+.Vb 4
+\& <Plugin "zookeeper">
+\&   Host "127.0.0.1"
+\&   Port "2181"
+\& </Plugin>
+.Ve
+.IP "\fBHost\fR \fIAddress\fR" 4
+.IX Item "Host Address"
+Hostname or address to connect to. Defaults to \f(CW\*(C`localhost\*(C'\fR.
+.IP "\fBPort\fR \fIService\fR" 4
+.IX Item "Port Service"
+Service name or port number to connect to. Defaults to \f(CW2181\fR.
 .SH "THRESHOLD CONFIGURATION"
 .IX Header "THRESHOLD CONFIGURATION"
 Starting with version \f(CW4.3.0\fR collectd has support for \fBmonitoring\fR. By that
 we mean that the values are not only stored or sent somewhere, but that they
 are judged and, if a problem is recognized, acted upon. The only action
 collectd takes itself is to generate and dispatch a \*(L"notification\*(R". Plugins can
@@ -6534,13 +7625,13 @@
 \& # Match all values smaller than or equal to 100. Matches only if all data
 \& # sources are below 100.
 \& <Match "value">
 \&   Max 100
 \&   Satisfy "All"
 \& </Match>
-\& 
+\&
 \& # Match if the value of any data source is outside the range of 0 \- 100.
 \& <Match "value">
 \&   Min   0
 \&   Max 100
 \&   Invert true
 \&   Satisfy "Any"
@@ -6719,13 +7810,13 @@
 Example:
 .Sp
 .Vb 3
 \& <Target "replace">
 \&   # Replace "example.net" with "example.com"
 \&   Host "\e\e<example.net\e\e>" "example.com"
-\& 
+\&
 \&   # Strip "www." from hostnames
 \&   Host "\e\e<www\e\e." ""
 \& </Target>
 .Ve
 .RE
 .IP "\fBset\fR" 4
@@ -6804,7 +7895,7 @@
 \&\fIpsql\fR\|(1),
 \&\fIregex\fR\|(7),
 \&\fIrrdtool\fR\|(1),
 \&\fIsensors\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+Florian Forster <octo@collectd.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.conf.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.conf.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.conf.in	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.conf.in	2015-05-20 20:05:42.672060002 +0800
@@ -22,23 +22,31 @@
 # when an appropriate <Plugin ...> block is encountered.                     #
 # Disabled by default.                                                       #
 #----------------------------------------------------------------------------#
 #AutoLoadPlugin false
 
 #----------------------------------------------------------------------------#
+# When enabled, internal statistics are collected, using "collectd" as the   #
+# plugin name.                                                               #
+# Disabled by default.                                                       #
+#----------------------------------------------------------------------------#
+#CollectInternalStats false
+
+#----------------------------------------------------------------------------#
 # Interval at which to query values. This may be overwritten on a per-plugin #
 # base by using the 'Interval' option of the LoadPlugin block:               #
 #   <LoadPlugin foo>                                                         #
 #       Interval 60                                                          #
 #   </LoadPlugin>                                                            #
 #----------------------------------------------------------------------------#
 #Interval     10
 
-#Timeout      2
-#ReadThreads  5
-#WriteThreads 5
+#MaxReadInterval 86400
+#Timeout         2
+#ReadThreads     5
+#WriteThreads    5
 
 # Limit the size of the write queue. Default is no limit. Setting up a limit is
 # recommended for servers handling a high volume of traffic.
 #WriteQueueLimitHigh 1000000
 #WriteQueueLimitLow   800000
 
@@ -49,43 +57,51 @@
 # messages generated when loading or configuring other plugins can be        #
 # accessed.                                                                  #
 ##############################################################################
 
 @LOAD_PLUGIN_SYSLOG@LoadPlugin syslog
 @LOAD_PLUGIN_LOGFILE@LoadPlugin logfile
+@LOAD_PLUGIN_LOG_LOGSTASH@LoadPlugin log_logstash
 
 #<Plugin logfile>
 #	LogLevel @DEFAULT_LOG_LEVEL@
 #	File STDOUT
 #	Timestamp true
 #	PrintSeverity false
 #</Plugin>
 
+#<Plugin log_logstash>
+#	LogLevel @DEFAULT_LOG_LEVEL@
+#	File "@localstatedir@/log/@PACKAGE_NAME@.json.log"
+#</Plugin>
+
 #<Plugin syslog>
 #	LogLevel @DEFAULT_LOG_LEVEL@
 #</Plugin>
 
 ##############################################################################
 # LoadPlugin section                                                         #
 #----------------------------------------------------------------------------#
 # Lines beginning with a single `#' belong to plugins which have been built  #
 # but are disabled by default.                                               #
 #                                                                            #
-# Lines beginning with `##' belong to plugins which have not been built due  #
+# Lines begnning with `##' belong to plugins which have not been built due   #
 # to missing dependencies or because they have been deactivated explicitly.  #
 ##############################################################################
 
 #@BUILD_PLUGIN_AGGREGATION_TRUE@LoadPlugin aggregation
 #@BUILD_PLUGIN_AMQP_TRUE@LoadPlugin amqp
 #@BUILD_PLUGIN_APACHE_TRUE@LoadPlugin apache
 #@BUILD_PLUGIN_APCUPS_TRUE@LoadPlugin apcups
 #@BUILD_PLUGIN_APPLE_SENSORS_TRUE@LoadPlugin apple_sensors
 #@BUILD_PLUGIN_AQUAERO_TRUE@LoadPlugin aquaero
 #@BUILD_PLUGIN_ASCENT_TRUE@LoadPlugin ascent
+#@BUILD_PLUGIN_BAROMETER_TRUE@LoadPlugin barometer
 #@BUILD_PLUGIN_BATTERY_TRUE@LoadPlugin battery
 #@BUILD_PLUGIN_BIND_TRUE@LoadPlugin bind
+#@BUILD_PLUGIN_CEPH_TRUE@LoadPlugin ceph
 #@BUILD_PLUGIN_CONNTRACK_TRUE@LoadPlugin conntrack
 #@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@LoadPlugin contextswitch
 #@BUILD_PLUGIN_CGROUPS_TRUE@LoadPlugin cgroups
 @BUILD_PLUGIN_CPU_TRUE@@BUILD_PLUGIN_CPU_TRUE@LoadPlugin cpu
 #@BUILD_PLUGIN_CPUFREQ_TRUE@LoadPlugin cpufreq
 @LOAD_PLUGIN_CSV@LoadPlugin csv
@@ -93,27 +109,29 @@
 #@BUILD_PLUGIN_CURL_JSON_TRUE@LoadPlugin curl_json
 #@BUILD_PLUGIN_CURL_XML_TRUE@LoadPlugin curl_xml
 #@BUILD_PLUGIN_DBI_TRUE@LoadPlugin dbi
 #@BUILD_PLUGIN_DF_TRUE@LoadPlugin df
 #@BUILD_PLUGIN_DISK_TRUE@LoadPlugin disk
 #@BUILD_PLUGIN_DNS_TRUE@LoadPlugin dns
+#@BUILD_PLUGIN_DRBD_TRUE@LoadPlugin drbd
 #@BUILD_PLUGIN_EMAIL_TRUE@LoadPlugin email
 #@BUILD_PLUGIN_ENTROPY_TRUE@LoadPlugin entropy
 #@BUILD_PLUGIN_ETHSTAT_TRUE@LoadPlugin ethstat
 #@BUILD_PLUGIN_EXEC_TRUE@LoadPlugin exec
+#@BUILD_PLUGIN_FHCOUNT_TRUE@LoadPlugin fhcount
 #@BUILD_PLUGIN_FILECOUNT_TRUE@LoadPlugin filecount
 #@BUILD_PLUGIN_FSCACHE_TRUE@LoadPlugin fscache
 #@BUILD_PLUGIN_GMOND_TRUE@LoadPlugin gmond
 #@BUILD_PLUGIN_HDDTEMP_TRUE@LoadPlugin hddtemp
 @BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_PLUGIN_INTERFACE_TRUE@LoadPlugin interface
+#@BUILD_PLUGIN_IPC_TRUE@@BUILD_PLUGIN_IPC_TRUE@LoadPlugin ipc
 #@BUILD_PLUGIN_IPTABLES_TRUE@LoadPlugin iptables
 #@BUILD_PLUGIN_IPMI_TRUE@LoadPlugin ipmi
 #@BUILD_PLUGIN_IPVS_TRUE@LoadPlugin ipvs
 #@BUILD_PLUGIN_IRQ_TRUE@LoadPlugin irq
 #@BUILD_PLUGIN_JAVA_TRUE@LoadPlugin java
-#@BUILD_PLUGIN_LIBVIRT_TRUE@LoadPlugin libvirt
 @BUILD_PLUGIN_LOAD_TRUE@@BUILD_PLUGIN_LOAD_TRUE@LoadPlugin load
 #@BUILD_PLUGIN_LPAR_TRUE@LoadPlugin lpar
 #@BUILD_PLUGIN_LVM_TRUE@LoadPlugin lvm
 #@BUILD_PLUGIN_MADWIFI_TRUE@LoadPlugin madwifi
 #@BUILD_PLUGIN_MBMON_TRUE@LoadPlugin mbmon
 #@BUILD_PLUGIN_MD_TRUE@LoadPlugin md
@@ -132,12 +150,13 @@
 #@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@LoadPlugin notify_email
 #@BUILD_PLUGIN_NTPD_TRUE@LoadPlugin ntpd
 #@BUILD_PLUGIN_NUMA_TRUE@LoadPlugin numa
 #@BUILD_PLUGIN_NUT_TRUE@LoadPlugin nut
 #@BUILD_PLUGIN_OLSRD_TRUE@LoadPlugin olsrd
 #@BUILD_PLUGIN_ONEWIRE_TRUE@LoadPlugin onewire
+#@BUILD_PLUGIN_OPENLDAP_TRUE@LoadPlugin openldap
 #@BUILD_PLUGIN_OPENVPN_TRUE@LoadPlugin openvpn
 #@BUILD_PLUGIN_ORACLE_TRUE@LoadPlugin oracle
 #@BUILD_PLUGIN_PERL_TRUE@LoadPlugin perl
 #@BUILD_PLUGIN_PINBA_TRUE@LoadPlugin pinba
 #@BUILD_PLUGIN_PING_TRUE@LoadPlugin ping
 #@BUILD_PLUGIN_POSTGRESQL_TRUE@LoadPlugin postgresql
@@ -149,49 +168,57 @@
 #@BUILD_PLUGIN_ROUTEROS_TRUE@LoadPlugin routeros
 #@BUILD_PLUGIN_RRDCACHED_TRUE@LoadPlugin rrdcached
 @LOAD_PLUGIN_RRDTOOL@LoadPlugin rrdtool
 #@BUILD_PLUGIN_SENSORS_TRUE@LoadPlugin sensors
 #@BUILD_PLUGIN_SERIAL_TRUE@LoadPlugin serial
 #@BUILD_PLUGIN_SIGROK_TRUE@LoadPlugin sigrok
+#@BUILD_PLUGIN_SMART_TRUE@LoadPlugin smart
 #@BUILD_PLUGIN_SNMP_TRUE@LoadPlugin snmp
 #@BUILD_PLUGIN_STATSD_TRUE@LoadPlugin statsd
 #@BUILD_PLUGIN_SWAP_TRUE@LoadPlugin swap
 #@BUILD_PLUGIN_TABLE_TRUE@LoadPlugin table
 #@BUILD_PLUGIN_TAIL_TRUE@LoadPlugin tail
 #@BUILD_PLUGIN_TAIL_CSV_TRUE@LoadPlugin tail_csv
 #@BUILD_PLUGIN_TAPE_TRUE@LoadPlugin tape
 #@BUILD_PLUGIN_TCPCONNS_TRUE@LoadPlugin tcpconns
 #@BUILD_PLUGIN_TEAMSPEAK2_TRUE@LoadPlugin teamspeak2
 #@BUILD_PLUGIN_TED_TRUE@LoadPlugin ted
 #@BUILD_PLUGIN_THERMAL_TRUE@LoadPlugin thermal
 #@BUILD_PLUGIN_TOKYOTYRANT_TRUE@LoadPlugin tokyotyrant
+#@BUILD_PLUGIN_TURBOSTAT_TRUE@LoadPlugin turbostat
 #@BUILD_PLUGIN_UNIXSOCK_TRUE@LoadPlugin unixsock
 #@BUILD_PLUGIN_UPTIME_TRUE@LoadPlugin uptime
 #@BUILD_PLUGIN_USERS_TRUE@LoadPlugin users
 #@BUILD_PLUGIN_UUID_TRUE@LoadPlugin uuid
 #@BUILD_PLUGIN_VARNISH_TRUE@LoadPlugin varnish
 #@BUILD_PLUGIN_MIC_TRUE@LoadPlugin mic
+#@BUILD_PLUGIN_VIRT_TRUE@LoadPlugin virt
 #@BUILD_PLUGIN_VMEM_TRUE@LoadPlugin vmem
 #@BUILD_PLUGIN_VSERVER_TRUE@LoadPlugin vserver
 #@BUILD_PLUGIN_WIRELESS_TRUE@LoadPlugin wireless
 #@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@LoadPlugin write_graphite
 #@BUILD_PLUGIN_WRITE_HTTP_TRUE@LoadPlugin write_http
+#@BUILD_PLUGIN_WRITE_KAFKA_TRUE@LoadPlugin write_kafka
+#@BUILD_PLUGIN_WRITE_LOG_TRUE@LoadPlugin write_log
 #@BUILD_PLUGIN_WRITE_MONGODB_TRUE@LoadPlugin write_mongodb
 #@BUILD_PLUGIN_WRITE_REDIS_TRUE@LoadPlugin write_redis
 #@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@LoadPlugin write_riemann
+#@BUILD_PLUGIN_WRITE_SENSU_TRUE@LoadPlugin write_sensu
+#@BUILD_PLUGIN_WRITE_TSDB_TRUE@LoadPlugin write_tsdb
 #@BUILD_PLUGIN_XMMS_TRUE@LoadPlugin xmms
 #@BUILD_PLUGIN_ZFS_ARC_TRUE@LoadPlugin zfs_arc
+#@BUILD_PLUGIN_ZOOKEEPER_TRUE@LoadPlugin zookeeper
 
 ##############################################################################
 # Plugin configuration                                                       #
 #----------------------------------------------------------------------------#
 # In this section configuration stubs for each plugin are provided. A desc-  #
 # ription of those options is available in the collectd.conf(5) manual page. #
 ##############################################################################
 
-#<Plugin "aggregation">
+#<Plugin aggregation>
 #  <Aggregation>
 #    #Host "unspecified"
 #    Plugin "cpu"
 #    #PluginInstance "unspecified"
 #    Type "cpu"
 #    #TypeInstance "unspecified"
@@ -205,23 +232,24 @@
 #    CalculateMinimum false
 #    CalculateMaximum false
 #    CalculateStddev false
 #  </Aggregation>
 #</Plugin>
 
-#<Plugin "amqp">
+#<Plugin amqp>
 #  <Publish "name">
 #    Host "localhost"
 #    Port "5672"
 #    VHost "/"
 #    User "guest"
 #    Password "guest"
 #    Exchange "amq.fanout"
 #    RoutingKey "collectd"
 #    Persistent false
 #    StoreRates false
+#    ConnectionRetryDelay 0
 #  </Publish>
 #</Plugin>
 
 #<Plugin apache>
 #  <Instance "local">
 #    URL "http://localhost/status?auto"
@@ -245,12 +273,27 @@
 #	URL "http://localhost/ascent/status/"
 #	User "www-user"
 #	Password "secret"
 #	CACert "/etc/ssl/ca.crt"
 #</Plugin>
 
+#<Plugin "barometer">
+#   Device            "/dev/i2c-0";
+#   Oversampling      512
+#   PressureOffset    0.0
+#   TemperatureOffset 0.0
+#   Normalization     2
+#   Altitude          238.0
+#   TemperatureSensor "myserver/onewire-F10FCA000800/temperature"
+#</Plugin>
+
+#<Plugin "battery">
+#  ValuesPercentage false
+#  ReportDegraded
+#</Plugin>
+
 #<Plugin "bind">
 #  URL "http://localhost:8053/"
 #  ParseTime       false
 #  OpCodes         true
 #  QTypes          true
 #
@@ -265,28 +308,59 @@
 #    CacheRRSets   true
 #
 #    Zone "127.in-addr.arpa/IN"
 #  </View>
 #</Plugin>
 
+#<Plugin ceph>
+#  LongRunAvgLatency false
+#  ConvertSpecialMetricTypes true
+#  <Daemon "osd.0">
+#    SocketPath "/var/run/ceph/ceph-osd.0.asok"
+#  </Daemon>
+#  <Daemon "osd.1">
+#    SocketPath "/var/run/ceph/ceph-osd.1.asok"
+#  </Daemon>
+#  <Daemon "mon.a">
+#    SocketPath "/var/run/ceph/ceph-mon.ceph1.asok"
+#  </Daemon>
+#  <Daemon "mds.a">
+#    SocketPath "/var/run/ceph/ceph-mds.ceph1.asok"
+#  </Daemon>
+#</Plugin>
+
 #<Plugin cgroups>
 #  CGroup "libvirt"
 #  IgnoreSelected false
 #</Plugin>
 
+#<Plugin cpu>
+#  ReportByCpu true
+#  ReportByState true
+#  ValuesPercentage false
+#</Plugin>
+#
 #<Plugin csv>
 #	DataDir "@localstatedir@/lib/@PACKAGE_NAME@/csv"
 #	StoreRates false
 #</Plugin>
 
 #<Plugin curl>
 #  <Page "stock_quotes">
 #    URL "http://finance.google.com/finance?q=NYSE%3AAMD"
 #    User "foo"
 #    Password "bar"
+#    Digest false
+#    VerifyPeer true
+#    VerifyHost true
+#    CACert "/path/to/ca.crt"
+#    Header "X-Custom-Header: foobar"
+#    Post "foo=bar"
+#
 #    MeasureResponseTime false
+#    MeasureResponseCode false
 #    <Match>
 #      Regex "<span +class=\"pr\"[^>]*> *([0-9]*\\.[0-9]+) *</span>"
 #      DSType "GaugeAverage"
 #      Type "stock_value"
 #      Instance "AMD"
 #    </Match>
@@ -356,21 +430,24 @@
 #    <Key "*/disk_size">
 #      Type "bytes"
 #    </Key>
 #  </URL>
 #</Plugin>
 
-#<Plugin "curl_xml">
+#<Plugin curl_xml>
 #  <URL "http://localhost/stats.xml">
 #    Host "my_host"
 #    Instance "some_instance"
 #    User "collectd"
 #    Password "thaiNg0I"
+#    Digest false
 #    VerifyPeer true
 #    VerifyHost true
 #    CACert "/path/to/ca.crt"
+#    Header "X-Custom-Header: foobar"
+#    Post "foo=bar"
 #
 #    <XPath "table[@id=\"magic_level\"]/tr">
 #      Type "magic_level"
 #      #InstancePrefix "prefix-"
 #      InstanceFrom "td[1]"
 #      ValuesFrom "td[2]/span[@class=\"level\"]"
@@ -404,20 +481,23 @@
 #	Device "/dev/hda1"
 #	Device "192.168.0.2:/mnt/nfs"
 #	MountPoint "/home"
 #	FSType "ext3"
 #	IgnoreSelected false
 #	ReportByDevice false
+#	ReportReserved false
 #	ReportInodes false
 #	ValuesAbsolute true
 #	ValuesPercentage false
 #</Plugin>
 
 #<Plugin disk>
 #	Disk "/^[hs]d[a-f][0-9]?$/"
 #	IgnoreSelected false
+#	UseBSDName false
+#	UdevNameAttr "DEVNAME"
 #</Plugin>
 
 #<Plugin dns>
 #	Interface "eth0"
 #	IgnoreSource "192.168.0.1"
 #	SelectNumericQueryTypes true
@@ -439,24 +519,29 @@
 
 #<Plugin exec>
 #	Exec "user:group" "/path/to/exec"
 #	NotificationExec "user:group" "/path/to/exec"
 #</Plugin>
 
+#<Plugin fhcount>
+#	ValuesAbsolute true
+#	ValuesPercentage false
+#</Plugin>
+
 #<Plugin filecount>
 #	<Directory "/path/to/dir">
 #		Instance "foodir"
 #		Name "*.conf"
 #		MTime "-5m"
 #		Size "+10k"
 #		Recursive true
 #		IncludeHidden false
 #	</Directory>
 #</Plugin>
 
-#<Plugin "gmond">
+#<Plugin gmond>
 #  MCReceiveFrom "239.2.11.71" "8649"
 #  <Metric "swap_total">
 #    Type "swap"
 #    TypeInstance "total"
 #    DataSource "value"
 #  </Metric>
@@ -485,41 +570,33 @@
 #	NotifySensorRemove true
 #	NotifySensorNotPresent false
 #</Plugin>
 
 #<Plugin iptables>
 #	Chain table chain
-#	Chain6 table chain
 #</Plugin>
 
 #<Plugin irq>
 #	Irq 7
 #	Irq 8
 #	Irq 9
 #	IgnoreSelected true
 #</Plugin>
 
-#<Plugin "java">
+#<Plugin java>
 #	JVMArg "-verbose:jni"
 #	JVMArg "-Djava.class.path=@prefix@/share/collectd/java/collectd-api.jar"
 #
 #	LoadPlugin "org.collectd.java.Foobar"
 #	<Plugin "org.collectd.java.Foobar">
 #	  # To be parsed by the plugin
 #	</Plugin>
 #</Plugin>
 
-#<Plugin libvirt>
-#	Connection "xen:///"
-#	RefreshInterval 60
-#	Domain "name"
-#	BlockDevice "name:device"
-#	InterfaceDevice "name:device"
-#	IgnoreSelected false
-#	HostnameFormat name
-#	InterfaceFormat name
+#<Plugin load>
+#        ReportRelative true
 #</Plugin>
 
 #<Plugin lpar>
 #	CpuPoolStats   false
 #	ReportBySerial false
 #</Plugin>
@@ -563,15 +640,21 @@
 #	<Instance "local">
 #		Host "127.0.0.1"
 #		Port "11211"
 #	</Instance>
 #</Plugin>
 
+#<Plugin memory>
+#	ValuesAbsolute true
+#	ValuesPercentage false
+#</Plugin>
+
 #<Plugin modbus>
 #	<Data "data_name">
 #		RegisterBase 1234
+#		RegisterCmd ReadHolding
 #		RegisterType float
 #		Type gauge
 #		Instance "..."
 #	</Data>
 #
 #	<Host "name">
@@ -590,15 +673,18 @@
 #	<Database db_name>
 #		Host "database.serv.er"
 #		User "db_user"
 #		Password "secret"
 #		Database "db_name"
 #		MasterStats true
+#		ConnectTimeout 10
+#		InnodbStats true
 #	</Database>
 #
 #	<Database db_name2>
+#		Alias "squeeze"
 #		Host "localhost"
 #		Socket "/var/run/mysql/mysqld.sock"
 #		SlaveStats true
 #		SlaveNotifications true
 #	</Database>
 #</Plugin>
@@ -669,12 +755,13 @@
 @LOAD_PLUGIN_NETWORK@	Server "ff18::efc0:4a42" "25826"
 @LOAD_PLUGIN_NETWORK@	<Server "239.192.74.66" "25826">
 #		SecurityLevel Encrypt
 #		Username "user"
 #		Password "secret"
 #		Interface "eth0"
+#		ResolveInterval 14400
 @LOAD_PLUGIN_NETWORK@	</Server>
 #	TimeToLive 128
 #
 #	# server setup:
 #	Listen "ff18::efc0:4a42" "25826"
 #	<Listen "239.192.74.66" "25826">
@@ -741,12 +828,23 @@
 #<Plugin onewire>
 #	Device "-s localhost:4304"
 #	Sensor "F10FCA000800"
 #	IgnoreSelected false
 #</Plugin>
 
+#<Plugin openldap>
+#  <Instance "localhost">
+#    URL "ldap://localhost:389"
+#    StartTLS false
+#    VerifyHost true
+#    CACert "/path/to/ca.crt"
+#    Timeout -1
+#    Version 3
+#  </Instance>
+#</Plugin>
+
 #<Plugin openvpn>
 #	StatusFile "/etc/openvpn/openvpn-status.log"
 #	ImprovedNamingSchema false
 #	CollectCompression true
 #	CollectIndividualUsers true
 #	CollectUserCount false
@@ -945,12 +1043,17 @@
 #  <Device "Sound Level">
 #    Driver "cem-dt-885x"
 #    Conn "/dev/ttyUSB1"
 #  </Device>
 #</Plugin>
 
+#<Plugin smart>
+#  Disk "/^[hs]d[a-f][0-9]?$/"
+#  IgnoreSelected false
+#</Plugin>
+
 #<Plugin snmp>
 #   <Data "powerplus_voltge_input">
 #       Type "voltage"
 #       Table false
 #       Instance "input_line1"
 #       Values "SNMPv2-SMI::enterprises.6050.5.4.1.1.2.1"
@@ -1003,18 +1106,20 @@
 #  TimerLower     false
 #  TimerUpper     false
 #  TimerSum       false
 #  TimerCount     false
 #</Plugin>
 
-#<Plugin "swap">
+#<Plugin swap>
 #	ReportByDevice false
 #	ReportBytes true
+#	ValuesAbsolute true
+#	ValuesPercentage false
 #</Plugin>
 
-#<Plugin "table">
+#<Plugin table>
 #	<Table "/proc/slabinfo">
 #		Instance "slabinfo"
 #		Separator " "
 #		<Result>
 #			Type gauge
 #			InstancePrefix "active_objs"
@@ -1027,15 +1132,16 @@
 #			InstancesFrom 0
 #			ValuesFrom 4
 #		</Result>
 #	</Table>
 #</Plugin>
 
-#<Plugin "tail">
+#<Plugin tail>
 #  <File "/var/log/exim4/mainlog">
 #    Instance "exim"
+#    Interval 60
 #    <Match>
 #      Regex "S=([1-9][0-9]*)"
 #      DSType "CounterAdd"
 #      Type "ipt_bytes"
 #      Instance "total"
 #    </Match>
@@ -1046,13 +1152,13 @@
 #      Type "counter"
 #      Instance "local_user"
 #    </Match>
 #  </File>
 #</Plugin>
 
-#<Plugin "tail_csv">
+#<Plugin tail_csv>
 #   <Metric "dropped">
 #       Type "percent"
 #       Instance "dropped"
 #       ValueFrom 1
 #   </Metric>
 #   <Metric "mbps">
@@ -1075,12 +1181,13 @@
 #       TimeFrom 0
 #   </File>
 #</Plugin>
 
 #<Plugin tcpconns>
 #	ListeningPorts false
+#	AllPortsSummary false
 #	LocalPort "25"
 #	RemotePort "25"
 #</Plugin>
 
 #<Plugin teamspeak2>
 #	Host "127.0.0.1"
@@ -1101,12 +1208,31 @@
 
 #<Plugin tokyotyrant>
 #	Host "localhost"
 #	Port "1978"
 #</Plugin>
 
+#<Plugin turbostat>
+##	None of the following option should be set manually
+##	This plugin automatically detect most optimal options
+##	Only set values here if:
+##	- The module ask you to
+##	- You want to disable the collection of some data
+##	- Your (intel) CPU is not supported (yet) by the module
+##	- The module generate a lot of errors 'MSR offset 0x... read failed'
+##	In the last two cases, please open a bug request
+#
+#	TCCActivationTemp "100"
+#	CoreCstates "392"
+# 	PackageCstates "396"
+#	SystemManagementInterrupt true
+#	DigitalTemperatureSensor true
+#	PackageThermalManagement true
+#	RunningAveragePowerLimit "7"	
+#</Plugin>
+
 #<Plugin unixsock>
 #	SocketFile "@prefix@/var/run/@PACKAGE_NAME@-unixsock"
 #	SocketGroup "collectd"
 #	SocketPerms "0660"
 #	DeleteSocket false
 #</Plugin>
@@ -1136,35 +1262,48 @@
 #<Plugin varnish>
 #   This tag support an argument if you want to
 #   monitor the local instance just use </Instance>
 #   If you prefer defining another instance you can do
 #   so by using <Instance "myinstance">
 #   <Instance>
-#      CollectCache true
 #      CollectBackend true
-#      CollectBan false           # Varnish 3 only
+#      CollectBan false           # Varnish 3 and above
+#      CollectCache true
 #      CollectConnections true
 #      CollectDirectorDNS false   # Varnish 3 only
-#      CollectSHM true
 #      CollectESI false
 #      CollectFetch false
 #      CollectHCB false
 #      CollectObjects false
 #      CollectPurge false         # Varnish 2 only
 #      CollectSession false
+#      CollectSHM true
 #      CollectSMA false           # Varnish 2 only
 #      CollectSMS false
 #      CollectSM false            # Varnish 2 only
 #      CollectStruct false
 #      CollectTotals false
-#      CollectUptime false
+#      CollectUptime false        # Varnish 3 and above
 #      CollectVCL false
+#      CollectVSM false           # Varnish 4 only
 #      CollectWorkers false
 #   </Instance>
 #</Plugin>
 
+#<Plugin virt>
+#	Connection "xen:///"
+#	RefreshInterval 60
+#	Domain "name"
+#	BlockDevice "name:device"
+#	InterfaceDevice "name:device"
+#	IgnoreSelected false
+#	HostnameFormat name
+#	InterfaceFormat name
+#	PluginInstanceFormat name
+#</Plugin>
+
 #<Plugin vmem>
 #	Verbose false
 #</Plugin>
 
 #<Plugin write_graphite>
 #  <Node "example">
@@ -1178,21 +1317,37 @@
 #    AlwaysAppendDS false
 #    EscapeCharacter "_"
 #  </Node>
 #</Plugin>
 
 #<Plugin write_http>
-#	<URL "http://example.com/collectd-post">
+#	<Node "example">
+#		URL "http://example.com/collectd-post"
 #		User "collectd"
 #		Password "weCh3ik0"
 #		VerifyPeer true
 #		VerifyHost true
 #		CACert "/etc/ssl/ca.crt"
+#		CAPath "/etc/ssl/certs/"
+#		ClientKey "/etc/ssl/client.pem"
+#		ClientCert "/etc/ssl/client.crt"
+#		ClientKeyPass "secret"
+#		SSLVersion "TLSv1"
 #		Format "Command"
 #		StoreRates false
-#	</URL>
+#		BufferSize 4096
+#		LowSpeedLimit 0
+#		Timeout 0
+#	</Node>
+#</Plugin>
+
+#<Plugin write_kafka>
+#  Property "metadata.broker.list" "localhost:9092"
+#  <Topic "collectd">
+#    Format JSON
+#  </Topic>
 #</Plugin>
 
 #<Plugin write_mongodb>
 #	<Node "example">
 #		Host "localhost"
 #		Port "27017"
@@ -1213,18 +1368,57 @@
 #</Plugin>
 
 #<Plugin write_riemann>
 #	<Node "example">
 #		Host "localhost"
 #		Port 5555
-#		Protocol UDP
+#		Protocol TCP
+#		Batch true
+#		BatchMaxSize 8192
 #		StoreRates true
 #		AlwaysAppendDS false
 #		TTLFactor 2.0
+#		Notifications true
+#		CheckThresholds false
+#		EventServicePrefix ""
+#	</Node>
+#	Tag "foobar"
+#	Attribute "foo" "bar"
+#</Plugin>
+
+#<Plugin write_sensu>
+#	<Node "example">
+#		Host "localhost"
+#		Port 3030
+#		StoreRates true
+#		AlwaysAppendDS false
+#		Notifications true
+#		Metrics true
+#		EventServicePrefix ""
+#		MetricHandler "influx"
+#		MetricHandler "default"
+#		NotificationHandler "flapjack"
+#		NotificationHandler "howling_monkey"
 #	</Node>
 #	Tag "foobar"
+#	Attribute "foo" "bar"
+#</Plugin>
+
+#<Plugin write_tsdb>
+#	<Node>
+#		Host "localhost"
+#		Port "4242"
+#		HostTags "status=production"
+#		StoreRates false
+#		AlwaysAppendDS false
+#	</Node>
+#</Plugin>
+
+#<Plugin zookeeper>
+#    Host "localhost"
+#    Port "2181"
 #</Plugin>
 
 ##############################################################################
 # Filter configuration                                                       #
 #----------------------------------------------------------------------------#
 # The following configures collectd's filtering mechanism. Before changing   #
@@ -1261,13 +1455,13 @@
 # The following outlines how to configure collectd's threshold checking      #
 # plugin. The plugin and possible configuration options are documented in    #
 # the collectd-threshold(5) manual page.                                     #
 ##############################################################################
 
 #@BUILD_PLUGIN_THRESHOLD_TRUE@LoadPlugin "threshold"
-#<Plugin "threshold">
+#<Plugin threshold>
 #  <Type "foo">
 #    WarningMin    0.00
 #    WarningMax 1000.00
 #    FailureMin    0.00
 #    FailureMax 1200.00
 #    Invert false
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.conf.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.conf.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.conf.pod	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.conf.pod	2015-05-20 20:05:42.672060002 +0800
@@ -6,23 +6,23 @@
 
 =head1 SYNOPSIS
 
   BaseDir "/var/lib/collectd"
   PIDFile "/run/collectd.pid"
   Interval 10.0
-  
+
   LoadPlugin cpu
   LoadPlugin load
-  
+
   <LoadPlugin df>
     Interval 3600
   </LoadPlugin>
   <Plugin df>
     ValuesPercentage true
   </Plugin>
-  
+
   LoadPlugin ping
   <Plugin ping>
     Host "example.org"
     Host "provider.net"
   </Plugin>
 
@@ -142,12 +142,24 @@
 
 When set to B<true>, explicit B<LoadPlugin> statements are not required. Each
 B<E<lt>PluginE<nbsp>...E<gt>> block acts as if it was immediately preceded by a
 B<LoadPlugin> statement. B<LoadPlugin> statements are still required for
 plugins that don't provide any configuration, e.g. the I<Load plugin>.
 
+=item B<CollectInternalStats> B<false>|B<true>
+
+When set to B<true>, various statistics about the I<collectd> daemon will be
+collected, with "collectd" as the I<plugin name>. Defaults to B<false>.
+
+The "write_queue" I<plugin instance> reports the number of elements currently
+queued and the number of elements dropped off the queue by the
+B<WriteQueueLimitLow>/B<WriteQueueLimitHigh> mechanism.
+
+The "cache" I<plugin instance> reports the number of elements in the value list
+cache (the cache you can interact with using L<collectd-unixsock(5)>).
+
 =item B<Include> I<Path> [I<pattern>]
 
 If I<Path> points to a file, includes that file. If I<Path> points to a
 directory, recursively includes all files within that directory and its
 subdirectories. If the C<wordexp> function is available on your system,
 shell-like wildcards are expanded before files are included. This means you can
@@ -169,13 +181,15 @@
 
 If the C<fnmatch> function is available on your system, a shell-like wildcard
 I<pattern> may be specified to filter which files to include. This may be used
 in combination with recursively including a directory to easily be able to
 arbitrarily mix configuration files and other documents (e.g. README files).
 The given example is similar to the first example above but includes all files
-matching C<*.conf> in any subdirectory of C</etc/collectd.d>.
+matching C<*.conf> in any subdirectory of C</etc/collectd.d>:
+
+  Include "/etc/collectd.d" "*.conf"
 
 =back
 
 If more than one files are included by a single B<Include> option, the files
 will be included in lexicographical order (as defined by the C<strcmp>
 function). Thus, you can e.E<nbsp>g. use numbered prefixes to specify the
@@ -212,12 +226,20 @@
 lead to more coarse statistics.
 
 B<Warning:> You should set this once and then never touch it again. If you do,
 I<you will have to delete all your RRD files> or know some serious RRDtool
 magic! (Assuming you're using the I<RRDtool> or I<RRDCacheD> plugin.)
 
+=item B<MaxReadInterval> I<Seconds>
+
+Read plugin doubles interval between queries after each failed attempt
+to get data.
+
+This options limits the maximum value of the interval. The default value is
+B<86400>.
+
 =item B<Timeout> I<Iterations>
 
 Consider a value list "missing" when no update has been read or received for
 I<Iterations> iterations. By default, I<collectd> considers a value list
 missing when no update has been received for twice the update interval. Since
 this setting uses iterations, the maximum allowed time without update depends
@@ -262,14 +284,17 @@
 until it reaches 100%.)
 
 If B<WriteQueueLimitHigh> is set to non-zero and B<WriteQueueLimitLow> is
 unset, the latter will default to half of B<WriteQueueLimitHigh>.
 
 If you do not want to randomly drop values when the queue size is between
-I<LowNum> and I<HighNum>, set If B<WriteQueueLimitHigh> and
-B<WriteQueueLimitLow> to same value.
+I<LowNum> and I<HighNum>, set B<WriteQueueLimitHigh> and B<WriteQueueLimitLow>
+to the same value.
+
+Enabling the B<CollectInternalStats> option is of great help to figure out the
+values to set B<WriteQueueLimitHigh> and B<WriteQueueLimitLow> to.
 
 =item B<Hostname> I<Name>
 
 Sets the hostname that identifies a host. If you omit this setting, the
 hostname will be determined using the L<gethostname(2)> system call.
 
@@ -341,32 +366,32 @@
 The full example configuration looks like this:
 
  <Plugin "aggregation">
    <Aggregation>
      Plugin "cpu"
      Type "cpu"
-     
+
      GroupBy "Host"
      GroupBy "TypeInstance"
-     
+
      CalculateSum true
      CalculateAverage true
    </Aggregation>
  </Plugin>
 
 There are a couple of limitations you should be aware of:
 
 =over 4
 
-=item *
+=item
 
 The I<Type> cannot be left unspecified, because it is not reasonable to add
 apples to oranges. Also, the internal lookup structure won't work if you try
 to group by type.
 
-=item *
+=item
 
 There must be at least one unspecified, ungrouped field. Otherwise nothing
 will be aggregated.
 
 =back
 
@@ -420,40 +445,40 @@
 
  <Plugin "aggregation">
    <Aggregation>
      Plugin "cpu"
      PluginInstance "/[0,2,4,6,8]$/"
      Type "cpu"
-     
+
      SetPlugin "cpu"
      SetPluginInstance "even-%{aggregation}"
-     
+
      GroupBy "Host"
      GroupBy "TypeInstance"
-     
+
      CalculateAverage true
    </Aggregation>
  </Plugin>
 
 This will create the files:
 
 =over 4
 
-=item *
+=item
 
 foo.example.com/cpu-even-average/cpu-idle
 
-=item *
+=item
 
 foo.example.com/cpu-even-average/cpu-system
 
-=item *
+=item
 
 foo.example.com/cpu-even-average/cpu-user
 
-=item *
+=item
 
 ...
 
 =back
 
 =item B<CalculateNum> B<true>|B<false>
@@ -473,13 +498,13 @@
 are disabled by default.
 
 =back
 
 =head2 Plugin C<amqp>
 
-The I<AMQP plugin> can be used to communicate with other instances of
+The I<AMQMP plugin> can be used to communicate with other instances of
 I<collectd> or third party applications using an AMQP message broker. Values
 are sent to or received from the broker, which handles routing, queueing and
 possibly filtering or messages.
 
  <Plugin "amqp">
    # Send values to an AMQP broker
@@ -490,12 +515,13 @@
      User "guest"
      Password "guest"
      Exchange "amq.fanout"
  #   ExchangeType "fanout"
  #   RoutingKey "collectd"
  #   Persistent false
+ #   ConnectionRetryDelay 0
  #   Format "command"
  #   StoreRates false
  #   GraphitePrefix "collectd."
  #   GraphiteEscapeChar "_"
  #   GraphiteSeparateInstances false
  #   GraphiteAlwaysAppendDS false
@@ -508,13 +534,16 @@
      VHost "/"
      User "guest"
      Password "guest"
      Exchange "amq.fanout"
  #   ExchangeType "fanout"
  #   Queue "queue_name"
+ #   QueueDurable false
+ #   QueueAutoDelete true
  #   RoutingKey "collectd.#"
+ #   ConnectionRetryDelay 0
    </Subscribe>
  </Plugin>
 
 The plugin's configuration consists of a number of I<Publish> and I<Subscribe>
 blocks, which configure sending and receiving of values respectively. The two
 blocks are very similar, so unless otherwise noted, an option can be used in
@@ -560,15 +589,29 @@
 If given, the plugin will try to create the configured I<exchange> with this
 I<type> after connecting. When in a I<Subscribe> block, the I<queue> will then
 be bound to this exchange.
 
 =item B<Queue> I<Queue> (Subscribe only)
 
-Configures the I<queue> name to subscribe to. If no queue name was configures
+Configures the I<queue> name to subscribe to. If no queue name was configured
 explicitly, a unique queue name will be created by the broker.
 
+=item B<QueueDurable> B<true>|B<false> (Subscribe only)
+
+Defines if the I<queue> subscribed to is durable (saved to persistent storage)
+or transient (will disappear if the AMQP broker is restarted). Defaults to
+"false".
+
+This option should be used in conjunction with the I<Persistent> option on the
+publish side.
+
+=item B<QueueAutoDelete> B<true>|B<false> (Subscribe only)
+
+Defines if the I<queue> subscribed to will be deleted once the last consumer
+unsubscribes. Defaults to "true".
+
 =item B<RoutingKey> I<Key>
 
 In I<Publish> blocks, this configures the routing key to set on all outgoing
 messages. If not given, the routing key will be computed from the I<identifier>
 of the value. The host, plugin, type and the two instances are concatenated
 together using dots as the separator and all containing dots replaced with
@@ -585,12 +628,19 @@
 
 Selects the I<delivery method> to use. If set to B<true>, the I<persistent>
 mode will be used, i.e. delivery is guaranteed. If set to B<false> (the
 default), the I<transient> delivery mode will be used, i.e. messages may be
 lost due to high load, overflowing queues or similar issues.
 
+=item B<ConnectionRetryDelay> I<Delay>
+
+When the connection to the AMQP broker is lost, defines the time in seconds to
+wait before attempting to reconnect. Defaults to 0, which implies collectd will
+attempt to reconnect at each read interval (in Subscribe mode) or each time
+values are ready for submission (in Publish mode).
+
 =item B<Format> B<Command>|B<JSON>|B<Graphite> (Publish only)
 
 Selects the format in which messages are sent to the broker. If set to
 B<Command> (the default), values are sent as C<PUTVAL> commands which are
 identical to the syntax used by the I<Exec> and I<UnixSock plugins>. In this
 case, the C<Content-Type> header field will be set to C<text/collectd>.
@@ -721,12 +771,24 @@
 =item B<CACert> I<File>
 
 File that holds one or more SSL certificates. If you want to use HTTPS you will
 possibly need this option. What CA certificates come bundled with C<libcurl>
 and are checked by default depends on the distribution you use.
 
+=item B<SSLCiphers> I<list of ciphers>
+
+Specifies which ciphers to use in the connection. The list of ciphers
+must specify valid ciphers. See
+L<http://www.openssl.org/docs/apps/ciphers.html> for details.
+
+=item B<Timeout> I<Milliseconds>
+
+The B<Timeout> option sets the overall timeout for HTTP requests to B<URL>, in
+milliseconds. By default, the configured B<Interval> is used to set the
+timeout.
+
 =back
 
 =head2 Plugin C<apcups>
 
 =over 4
 
@@ -809,12 +871,210 @@
 =item B<CACert> I<File>
 
 File that holds one or more SSL certificates. If you want to use HTTPS you will
 possibly need this option. What CA certificates come bundled with C<libcurl>
 and are checked by default depends on the distribution you use.
 
+=item B<Timeout> I<Milliseconds>
+
+The B<Timeout> option sets the overall timeout for HTTP requests to B<URL>, in
+milliseconds. By default, the configured B<Interval> is used to set the
+timeout.
+
+=back
+
+=head2 Plugin C<barometer>
+
+This plugin reads absolute air pressure using digital barometer sensor on a I2C
+bus. Supported sensors are:
+
+=over 5
+
+=item I<MPL115A2> from Freescale,
+see L<http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MPL115A>.
+
+
+=item I<MPL3115> from Freescale
+see L<http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=MPL3115A2>.
+
+
+=item I<BMP085> from Bosch Sensortec
+
+=back
+
+The sensor type - one of the above - is detected automatically by the plugin
+and indicated in the plugin_instance (you will see subdirectory
+"barometer-mpl115" or "barometer-mpl3115", or "barometer-bmp085"). The order of
+detection is BMP085 -> MPL3115 -> MPL115A2, the first one found will be used
+(only one sensor can be used by the plugin).
+
+The plugin provides absolute barometric pressure, air pressure reduced to sea
+level (several possible approximations) and as an auxiliary value also internal
+sensor temperature. It uses (expects/provides) typical metric units - pressure
+in [hPa], temperature in [C], altitude in [m].
+
+It was developed and tested under Linux only. The only platform dependency is
+the standard Linux i2c-dev interface (the particular bus driver has to
+support the SM Bus command subset).
+
+The reduction or normalization to mean sea level pressure requires (depending
+on selected method/approximation) also altitude and reference to temperature
+sensor(s).  When multiple temperature sensors are configured the minumum of
+their values is always used (expecting that the warmer ones are affected by
+e.g. direct sun light at that moment).
+
+Synopsis:
+
+  <Plugin "barometer">
+     Device            "/dev/i2c-0";
+     Oversampling      512
+     PressureOffset    0.0
+     TemperatureOffset 0.0
+     Normalization     2
+     Altitude          238.0
+     TemperatureSensor "myserver/onewire-F10FCA000800/temperature"
+  </Plugin>
+
+=over 4
+
+=item B<Device> I<device>
+
+The only mandatory configuration parameter.
+
+Device name of the I2C bus to which the sensor is connected. Note that
+typically you need to have loaded the i2c-dev module.
+Using i2c-tools you can check/list i2c buses available on your system by:
+
+  i2cdetect -l
+
+Then you can scan for devices on given bus. E.g. to scan the whole bus 0 use:
+
+  i2cdetect -y -a 0
+
+This way you should be able to verify that the pressure sensor (either type) is
+connected and detected on address 0x60.
+
+=item B<Oversampling> I<value>
+
+Optional parameter controlling the oversampling/accuracy. Default value
+is 1 providing fastest and least accurate reading.
+
+For I<MPL115> this is the size of the averaging window. To filter out sensor
+noise a simple averaging using floating window of this configurable size is
+used. The plugin will use average of the last C<value> measurements (value of 1
+means no averaging).  Minimal size is 1, maximal 1024.
+
+For I<MPL3115> this is the oversampling value. The actual oversampling is
+performed by the sensor and the higher value the higher accuracy and longer
+conversion time (although nothing to worry about in the collectd context).
+Supported values are: 1, 2, 4, 8, 16, 32, 64 and 128. Any other value is
+adjusted by the plugin to the closest supported one.
+
+For I<BMP085> this is the oversampling value. The actual oversampling is
+performed by the sensor and the higher value the higher accuracy and longer
+conversion time (although nothing to worry about in the collectd context).
+Supported values are: 1, 2, 4, 8. Any other value is adjusted by the plugin to
+the closest supported one.
+
+=item B<PressureOffset> I<offset>
+
+Optional parameter for MPL3115 only.
+
+You can further calibrate the sensor by supplying pressure and/or temperature
+offsets.  This is added to the measured/caclulated value (i.e. if the measured
+value is too high then use negative offset).
+In hPa, default is 0.0.
+
+=item B<TemperatureOffset> I<offset>
+
+Optional parameter for MPL3115 only.
+
+You can further calibrate the sensor by supplying pressure and/or temperature
+offsets.  This is added to the measured/caclulated value (i.e. if the measured
+value is too high then use negative offset).
+In C, default is 0.0.
+
+=item B<Normalization> I<method>
+
+Optional parameter, default value is 0.
+
+Normalization method - what approximation/model is used to compute the mean sea
+level pressure from the air absolute pressure.
+
+Supported values of the C<method> (integer between from 0 to 2) are:
+
+=over 5
+
+=item B<0> - no conversion, absolute pressure is simply copied over. For this method you
+       do not need to configure C<Altitude> or C<TemperatureSensor>.
+
+=item B<1> - international formula for conversion ,
+See
+L<http://en.wikipedia.org/wiki/Atmospheric_pressure#Altitude_atmospheric_pressure_variation>.
+For this method you have to configure C<Altitude> but do not need
+C<TemperatureSensor> (uses fixed global temperature average instead).
+
+=item B<2> - formula as recommended by the Deutsche Wetterdienst (German
+Meteorological Service).
+See L<http://de.wikipedia.org/wiki/Barometrische_H%C3%B6henformel#Theorie>
+For this method you have to configure both  C<Altitude> and
+C<TemperatureSensor>.
+
+=back
+
+
+=item B<Altitude> I<altitude>
+
+The altitude (in meters) of the location where you meassure the pressure.
+
+=item B<TemperatureSensor> I<reference>
+
+Temperature sensor(s) which should be used as a reference when normalizing the
+pressure using C<Normalization> method 2.
+When specified more sensors a minumum is found and used each time.  The
+temperature reading directly from this pressure sensor/plugin is typically not
+suitable as the pressure sensor will be probably inside while we want outside
+temperature.  The collectd reference name is something like
+<hostname>/<plugin_name>-<plugin_instance>/<type>-<type_instance>
+(<type_instance> is usually omitted when there is just single value type). Or
+you can figure it out from the path of the output data files.
+
+=back
+
+=head2 Plugin C<battery>
+
+The I<battery plugin> reports the remaining capacity, power and voltage of
+laptop batteries.
+
+=over 4
+
+=item B<ValuesPercentage> B<false>|B<true>
+
+When enabled, remaining capacity is reported as a percentage, e.g. "42%
+capacity remaining". Otherwise the capacity is stored as reported by the
+battery, most likely in "Wh". This option does not work with all input methods,
+in particular when only C</proc/pmu> is available on an old Linux system.
+Defaults to B<false>.
+
+=item B<ReportDegraded> B<false>|B<true>
+
+Typical laptop batteries degrade over time, meaning the capacity decreases with
+recharge cycles. The maximum charge of the previous charge cycle is tracked as
+"last full capacity" and used to determine that a battery is "fully charged".
+
+When this option is set to B<false>, the default, the I<battery plugin> will
+only report the remaining capacity. If the B<ValuesPercentage> option is
+enabled, the relative remaining capacity is calculated as the ratio of the
+"remaining capacity" and the "last full capacity". This is what most tools,
+such as the status bar of desktop environments, also do.
+
+When set to B<true>, the battery plugin will report three values: B<charged>
+(remaining capacity), B<discharged> (difference between "last full capacity"
+and "remaining capacity") and B<degraded> (difference between "design capacity"
+and "last full capacity").
+
 =back
 
 =head2 Plugin C<bind>
 
 Starting with BIND 9.5.0, the most widely used DNS server software provides
 extensive statistics about queries, responses and lots of other information.
@@ -837,23 +1097,23 @@
 
  <Plugin "bind">
    URL "http://localhost:8053/"
    ParseTime       false
    OpCodes         true
    QTypes          true
- 
+
    ServerStats     true
    ZoneMaintStats  true
    ResolverStats   false
    MemoryStats     true
- 
+
    <View "_default">
      QTypes        true
      ResolverStats true
      CacheRRSets   true
- 
+
      Zone "127.in-addr.arpa/IN"
    </View>
  </Plugin>
 
 The bind plugin accepts the following configuration options:
 
@@ -914,12 +1174,18 @@
 =item B<MemoryStats>
 
 Collect global memory statistics.
 
 Default: Enabled.
 
+=item B<Timeout> I<Milliseconds>
+
+The B<Timeout> option sets the overall timeout for HTTP requests to B<URL>, in
+milliseconds. By default, the configured B<Interval> is used to set the
+timeout.
+
 =item B<View> I<Name>
 
 Collect statistics about a specific I<"view">. BIND can behave different,
 mostly depending on the source IP-address of the request. These different
 configurations are called "views". If you don't use this feature, you most
 likely are only interested in the C<_default> view.
@@ -965,12 +1231,80 @@
 By default no detailed zone information is collected.
 
 =back
 
 =back
 
+=head2 Plugin C<ceph>
+
+The ceph plugin collects values from JSON data to be parsed by B<libyajl>
+(L<https://lloyd.github.io/yajl/>) retrieved from ceph daemon admin sockets.
+
+A separate B<Daemon> block must be configured for each ceph daemon to be
+monitored. The following example will read daemon statistics from four
+separate ceph daemons running on the same device (two OSDs, one MON, one MDS) :
+
+  <Plugin ceph>
+    LongRunAvgLatency false
+    ConvertSpecialMetricTypes true
+    <Daemon "osd.0">
+      SocketPath "/var/run/ceph/ceph-osd.0.asok"
+    </Daemon>
+    <Daemon "osd.1">
+      SocketPath "/var/run/ceph/ceph-osd.1.asok"
+    </Daemon>
+    <Daemon "mon.a">
+      SocketPath "/var/run/ceph/ceph-mon.ceph1.asok"
+    </Daemon>
+    <Daemon "mds.a">
+      SocketPath "/var/run/ceph/ceph-mds.ceph1.asok"
+    </Daemon>
+  </Plugin>
+
+The ceph plugin accepts the following configuration options:
+
+=over 4
+
+=item B<LongRunAvgLatency> B<true>|B<false>
+
+If enabled, latency values(sum,count pairs) are calculated as the long run
+average - average since the ceph daemon was started = (sum / count).
+When disabled, latency values are calculated as the average since the last
+collection = (sum_now - sum_last) / (count_now - count_last).
+
+Default: Disabled
+
+=item B<ConvertSpecialMetricTypes> B<true>|B<false>
+
+If enabled, special metrics (metrics that differ in type from similar counters)
+are converted to the type of those similar counters. This currently only
+applies to filestore.journal_wr_bytes which is a counter for OSD daemons. The
+ceph schema reports this metric type as a sum,count pair while similar counters
+are treated as derive types. When converted, the sum is used as the counter
+value and is treated as a derive type.
+When disabled, all metrics are treated as the types received from the ceph schema.
+
+Default: Enabled
+
+=back
+
+Each B<Daemon> block must have a string argument for the plugin instance name.
+A B<SocketPath> is also required for each B<Daemon> block:
+
+=over 4
+
+=item B<Daemon> I<DaemonName>
+
+Name to be used as the instance name for this daemon.
+
+=item B<SocketPath> I<SocketPath>
+
+Specifies the path to the UNIX admin socket of the ceph daemon.
+
+=back
+
 =head2 Plugin C<cgroups>
 
 This plugin collects the CPU user/system time for each I<cgroup> by reading the
 F<cpuacct.stat> files in the first cpuacct-mountpoint (typically
 F</sys/fs/cgroup/cpu.cpuacct> on machines using systemd).
 
@@ -988,12 +1322,74 @@
 match any one of the criteria are collected. By default only selected
 cgroups are collected if a selection is made. If no selection is configured
 at all, B<all> cgroups are selected.
 
 =back
 
+=head2 Plugin C<conntrack>
+
+This plugin collects IP conntrack statistics.
+
+=over 4
+
+=item B<OldFiles>
+
+Assume the B<conntrack_count> and B<conntrack_max> files to be found in
+F</proc/sys/net/ipv4/netfilter> instead of F</proc/sys/net/netfilter/>.
+
+=back
+
+=head2 Plugin C<cpu>
+
+The I<CPU plugin> collects CPU usage metrics. By default, CPU usage is reported
+as Jiffies, using the C<cpu> type. Two aggregations are available:
+
+=over 4
+
+=item
+
+Sum, per-state, over all CPUs installed in the system; and
+
+=item
+
+Sum, per-CPU, over all non-idle states of a CPU, creating an "active" state.
+
+=back
+
+The two aggregations can be combined, leading to I<collectd> only emitting a
+single "active" metric for the entire system. As soon as one of these
+aggregations (or both) is enabled, the I<cpu plugin> will report a percentage,
+rather than Jiffies. In addition, you can request individual, per-state,
+per-CPU metrics to be reported as percentage.
+
+The following configuration options are available:
+
+=over 4
+
+=item B<ReportByState> B<true>|B<false>
+
+When set to B<true>, the default, reports per-state metrics, e.g. "system",
+"user" and "idle".
+When set to B<false>, aggregates (sums) all I<non-idle> states into one
+"active" metric.
+
+=item B<ReportByCpu> B<true>|B<false>
+
+When set to B<true>, the default, reports per-CPU (per-core) metrics.
+When set to B<false>, instead of reporting metrics for individual CPUs, only a
+global sum of CPU states is emitted.
+
+=item B<ValuesPercentage> B<false>|B<true>
+
+This option is only considered when both, B<ReportByCpu> and B<ReportByState>
+are set to B<true>. In this case, by default, metrics will be reported as
+Jiffies. By setting this option to B<true>, you can request percentage values
+in the un-aggregated (per-CPU, per-state) mode as well.
+
+=back
+
 =head2 Plugin C<cpufreq>
 
 This plugin doesn't have any options. It reads
 F</sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq> (for the first CPU
 installed) to get the current CPU frequency. If this file does not exist make
 sure B<cpufreqd> (L<http://cpufreqd.sourceforge.net/>) or a similar tool is
@@ -1030,12 +1426,22 @@
 
   <Plugin curl>
     <Page "stock_quotes">
       URL "http://finance.google.com/finance?q=NYSE%3AAMD"
       User "foo"
       Password "bar"
+      Digest false
+      VerifyPeer true
+      VerifyHost true
+      CACert "/path/to/ca.crt"
+      Header "X-Custom-Header: foobar"
+      Post "foo=bar"
+
+      MeasureResponseTime false
+      MeasureResponseCode false
+
       <Match>
         Regex "<span +class=\"pr\"[^>]*> *([0-9]*\\.[0-9]+) *</span>"
         DSType "GaugeAverage"
         # Note: `stock_value' is not a standard type.
         Type "stock_value"
         Instance "AMD"
@@ -1061,12 +1467,16 @@
 Username to use if authorization is required to read the page.
 
 =item B<Password> I<Password>
 
 Password to use if authorization is required to read the page.
 
+=item B<Digest> B<true>|B<false>
+
+Enable HTTP digest authentication.
+
 =item B<VerifyPeer> B<true>|B<false>
 
 Enable or disable peer SSL certificate verification. See
 L<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
 
 =item B<VerifyHost> B<true>|B<false>
@@ -1098,26 +1508,48 @@
 
 =item B<MeasureResponseTime> B<true>|B<false>
 
 Measure response time for the request. If this setting is enabled, B<Match>
 blocks (see below) are optional. Disabled by default.
 
+Beware that requests will get aborted if they take too long to complete. Adjust
+B<Timeout> accordingly if you expect B<MeasureResponseTime> to report such slow
+requests.
+
+=item B<MeasureResponseCode> B<true>|B<false>
+
+Measure response code for the request. If this setting is enabled, B<Match>
+blocks (see below) are optional. Disabled by default.
+
 =item B<E<lt>MatchE<gt>>
 
 One or more B<Match> blocks that define how to match information in the data
 returned by C<libcurl>. The C<curl> plugin uses the same infrastructure that's
 used by the C<tail> plugin, so please see the documentation of the C<tail>
-plugin below on how matches are defined. If the B<MeasureResponseTime> option
-is set to B<true>, B<Match> blocks are optional.
+plugin below on how matches are defined. If the B<MeasureResponseTime> or
+B<MeasureResponseCode> options are set to B<true>, B<Match> blocks are
+optional.
+
+=item B<Timeout> I<Milliseconds>
+
+The B<Timeout> option sets the overall timeout for HTTP requests to B<URL>, in
+milliseconds. By default, the configured B<Interval> is used to set the
+timeout. Prior to version 5.5.0, there was no timeout and requests could hang
+indefinitely. This legacy behaviour can be achieved by setting the value of
+B<Timeout> to 0.
+
+If B<Timeout> is 0 or bigger than the B<Interval>, keep in mind that each slow
+network connection will stall one read thread. Adjust the B<ReadThreads> global
+setting accordingly to prevent this from blocking other plugins.
 
 =back
 
 =head2 Plugin C<curl_json>
 
 The B<curl_json plugin> collects values from JSON data to be parsed by
-B<libyajl> (L<https://lloyd.github.io/yajl/>) retrieved via
+B<libyajl> (L<http://www.lloydforge.org/projects/yajl/>) retrieved via
 either B<libcurl> (L<http://curl.haxx.se/>) or read directly from a
 unix socket. The former can be used, for example, to collect values
 from CouchDB documents (which are stored JSON notation), and the
 latter to collect values from a uWSGI stats socket.
 
 The following example will collect several values from the built-in
@@ -1171,26 +1603,35 @@
 =over 4
 
 =item B<Instance> I<Instance>
 
 Sets the plugin instance to I<Instance>.
 
+=item B<Interval> I<Interval>
+
+Sets the interval (in seconds) in which the values will be collected from this
+URL. By default the global B<Interval> setting will be used.
+
 =item B<User> I<Name>
 
 =item B<Password> I<Password>
 
+=item B<Digest> B<true>|B<false>
+
 =item B<VerifyPeer> B<true>|B<false>
 
 =item B<VerifyHost> B<true>|B<false>
 
 =item B<CACert> I<file>
 
 =item B<Header> I<Header>
 
 =item B<Post> I<Body>
 
+=item B<Timeout> I<Milliseconds>
+
 These options behave exactly equivalent to the appropriate options of the
 I<cURL> plugin. Please see there for a detailed description.
 
 =back
 
 The following options are valid within B<Key> blocks:
@@ -1220,12 +1661,14 @@
      Instance "some_instance"
      User "collectd"
      Password "thaiNg0I"
      VerifyPeer true
      VerifyHost true
      CACert "/path/to/ca.crt"
+     Header "X-Custom-Header: foobar"
+     Post "foo=bar"
 
      <XPath "table[@id=\"magic_level\"]/tr">
        Type "magic_level"
        #InstancePrefix "prefix-"
        InstanceFrom "td[1]"
        ValuesFrom "td[2]/span[@class=\"level\"]"
@@ -1271,22 +1714,26 @@
   Namespace "m" "http://www.w3.org/1998/Math/MathML"
 
 =item B<User> I<User>
 
 =item B<Password> I<Password>
 
+=item B<Digest> B<true>|B<false>
+
 =item B<VerifyPeer> B<true>|B<false>
 
 =item B<VerifyHost> B<true>|B<false>
 
 =item B<CACert> I<CA Cert File>
 
 =item B<Header> I<Header>
 
 =item B<Post> I<Body>
 
+=item B<Timeout> I<Milliseconds>
+
 These options behave exactly equivalent to the appropriate options of the
 I<cURL plugin>. Please see there for a detailed description.
 
 =item E<lt>B<XPath> I<XPath-expression>E<gt>
 
 Within each B<URL> block, there must be one or more B<XPath> blocks. Each
@@ -1510,12 +1957,22 @@
 automatically cast the values to the right type if it know how to do that. So
 it should be able to handle integer an floating point types, as well as strings
 (if they include a number at the beginning).
 
 There must be at least one B<ValuesFrom> option inside each B<Result> block.
 
+=item B<MetadataFrom> [I<column0> I<column1> ...]
+
+Names the columns whose content is used as metadata for the data sets
+that are dispatched to the daemon.
+
+The actual data type in the columns is not that important. The plugin will
+automatically cast the values to the right type if it know how to do that. So
+it should be able to handle integer an floating point types, as well as strings
+(if they include a number at the beginning).
+
 =back
 
 =head3 B<Database> blocks
 
 Database blocks define a connection to a database and which queries should be
 sent to that database. Since the used "dbi" library can handle a wide variety
@@ -1624,23 +2081,23 @@
 Enable this option if inodes are a scarce resource for you, usually because
 many small files are stored on the disk. This is a usual scenario for mail
 transfer agents and web caches.
 
 =item B<ValuesAbsolute> B<true>|B<false>
 
-Enables or disables reporting of free, used and used disk space in 1K-blocks. 
-Defaults to true.
+Enables or disables reporting of free and used disk space in 1K-blocks.
+Defaults to B<true>.
 
-=item B<ValuesPercentage> B<true>|B<false>
+=item B<ValuesPercentage> B<false>|B<true>
 
-Enables or disables reporting of free, used and used disk space in percentage.
-Defaults to false.
+Enables or disables reporting of free and used disk space in percentage.
+Defaults to B<false>.
 
-This is useful for deploying collectd on the cloud, where machines with
-different disk size may exist. Then it is more practical to configure thresholds
-based on relative disk size.
+This is useful for deploying I<collectd> on the cloud, where machines with
+different disk size may exist. Then it is more practical to configure
+thresholds based on relative disk size.
 
 =back
 
 =head2 Plugin C<disk>
 
 The C<disk> plugin collects information about the usage of physical disks and
@@ -1670,12 +2127,26 @@
 statements, are ignored or if all other disks are ignored. The behavior
 (hopefully) is intuitive: If no B<Disk> option is configured, all disks are
 collected. If at least one B<Disk> option is given and no B<IgnoreSelected> or
 set to B<false>, B<only> matching disks will be collected. If B<IgnoreSelected>
 is set to B<true>, all disks are collected B<except> the ones matched.
 
+=item B<UseBSDName> B<true>|B<false>
+
+Whether to use the device's "BSD Name", on MacE<nbsp>OSE<nbsp>X, instead of the
+default major/minor numbers. Requires collectd to be built with Apple's
+IOKitLib support.
+
+=item B<UdevNameAttr> I<Attribute>
+
+Attempt to override disk instance name with the value of a specified udev
+attribute when built with B<libudev>.  If the attribute is not defined for the
+given device, the default name is used. Example:
+
+  UdevNameAttr "DM_NAME"
+
 =back
 
 =head2 Plugin C<dns>
 
 =over 4
 
@@ -1790,12 +2261,33 @@
 The B<Exec> and B<NotificationExec> statements change the semantics of the
 programs executed, i.E<nbsp>e. the data passed to them and the response
 expected from them. This is documented in great detail in L<collectd-exec(5)>.
 
 =back
 
+=head2 Plugin C<fhcount>
+
+The C<fhcount> plugin provides statistics about used, unused and total number of
+file handles.
+
+The I<fhcount plugin> provides the following configuration options:
+
+=over 4
+
+=item B<ValuesAbsolute> B<true>|B<false>
+
+Enables or disables reporting of file handles usage in absolute numbers,
+e.g. file handles used. Defaults to B<true>.
+
+=item B<ValuesPercentage> B<false>|B<true>
+
+Enables or disables reporting of file handles usage in percentages, e.g.
+percent of file handles used. Defaults to B<false>.
+
+=back
+
 =head2 Plugin C<filecount>
 
 The C<filecount> plugin counts the number of files in a certain directory (and
 its subdirectories) and their combined size. The configuration is very straight
 forward:
 
@@ -1994,38 +2486,21 @@
 
 Select this interface. By default these interfaces will then be collected. For
 a more detailed description see B<IgnoreSelected> below.
 
 =item B<IgnoreSelected> I<true>|I<false>
 
-If no configuration if given, the B<interface>-plugin will collect data from
+If no configuration if given, the B<traffic>-plugin will collect data from
 all interfaces. This may not be practical, especially for loopback- and
 similar interfaces. Thus, you can use the B<Interface>-option to pick the
 interfaces you're interested in. Sometimes, however, it's easier/preferred
 to collect all interfaces I<except> a few ones. This option enables you to
 do that: By setting B<IgnoreSelected> to I<true> the effect of
 B<Interface> is inverted: All selected interfaces are ignored and all
 other interfaces are collected.
 
-It is possible to use regular expressions to match interface names, if the
-name is surrounded by I</.../> and collectd was compiled with support for
-regexps. This is useful if there's a need to collect (or ignore) data
-for a group of interfaces that are similarly named, without the need to
-explicitly list all of them (especially useful if the list is dynamic).
-Example:
-
- Interface "lo"
- Interface "/^veth/"
- Interface "/^tun[0-9]+/"
- IgnoreSelected "true"
-
-This will ignore the loopback interface, all interfaces with names starting
-with I<veth> and all interfaces with names starting with I<tun> followed by
-at least one digit.
-
-
 =back
 
 =head2 Plugin C<ipmi>
 
 =over 4
 
@@ -2060,19 +2535,15 @@
 =head2 Plugin C<iptables>
 
 =over 4
 
 =item B<Chain> I<Table> I<Chain> [I<Comment|Number> [I<Name>]]
 
-=item B<Chain6> I<Table> I<Chain> [I<Comment|Number> [I<Name>]]
-
-Select the iptables/ip6tables filter rules to count packets and bytes from.
-
-If only I<Table> and I<Chain> are given, this plugin will collect the counters
-of all rules which have a comment-match. The comment is then used as
-type-instance.
+Select the rules to count. If only I<Table> and I<Chain> are given, this plugin
+will collect the counters of all rules which have a comment-match. The comment
+is then used as type-instance.
 
 If I<Comment> or I<Number> is given, only the rule with the matching comment or
 the I<n>th rule will be collected. Again, the comment (or the number) will be
 used as the type-instance.
 
 If I<Name> is supplied, it will be used as the type-instance instead of the
@@ -2154,100 +2625,69 @@
 must appear after the appropriate B<LoadPlugin> block. Also note, that I<Name>
 depends on the (Java) plugin registering the callback and is completely
 independent from the I<JavaClass> argument passed to B<LoadPlugin>.
 
 =back
 
-=head2 Plugin C<libvirt>
+=head2 Plugin C<load>
 
-This plugin allows CPU, disk and network load to be collected for virtualized
-guests on the machine. This means that these characteristics can be collected
-for guest systems without installing any software on them - collectd only runs
-on the hosting system. The statistics are collected through libvirt
-(L<http://libvirt.org/>).
+The I<Load plugin> collects the system load. These numbers give a rough overview
+over the utilization of a machine. The system load is defined as the number of
+runnable tasks in the run-queue and is provided by many operating systems as a
+one, five or fifteen minute average.
 
-Only I<Connection> is required.
+The following configuration options are available:
 
 =over 4
 
-=item B<Connection> I<uri>
+=item B<ReportRelative> B<false>|B<true>
 
-Connect to the hypervisor given by I<uri>. For example if using Xen use:
+When enabled, system load divided by number of available CPU cores is reported
+for intervals 1 min, 5 min and 15 min. Defaults to false.
 
- Connection "xen:///"
+=back
 
-Details which URIs allowed are given at L<http://libvirt.org/uri.html>.
 
-=item B<RefreshInterval> I<seconds>
+=head2 Plugin C<logfile>
 
-Refresh the list of domains and devices every I<seconds>. The default is 60
-seconds. Setting this to be the same or smaller than the I<Interval> will cause
-the list of domains and devices to be refreshed on every iteration.
+=over 4
 
-Refreshing the devices in particular is quite a costly operation, so if your
-virtualization setup is static you might consider increasing this. If this
-option is set to 0, refreshing is disabled completely.
+=item B<LogLevel> B<debug|info|notice|warning|err>
 
-=item B<Domain> I<name>
+Sets the log-level. If, for example, set to B<notice>, then all events with
+severity B<notice>, B<warning>, or B<err> will be written to the logfile.
 
-=item B<BlockDevice> I<name:dev>
+Please note that B<debug> is only available if collectd has been compiled with
+debugging support.
 
-=item B<InterfaceDevice> I<name:dev>
+=item B<File> I<File>
 
-=item B<IgnoreSelected> I<true>|I<false>
+Sets the file to write log messages to. The special strings B<stdout> and
+B<stderr> can be used to write to the standard output and standard error
+channels, respectively. This, of course, only makes much sense when I<collectd>
+is running in foreground- or non-daemon-mode.
 
-Select which domains and devices are collected.
+=item B<Timestamp> B<true>|B<false>
 
-If I<IgnoreSelected> is not given or I<false> then only the listed domains and
-disk/network devices are collected.
+Prefix all lines printed by the current time. Defaults to B<true>.
 
-If I<IgnoreSelected> is I<true> then the test is reversed and the listed
-domains and disk/network devices are ignored, while the rest are collected.
-
-The domain name and device names may use a regular expression, if the name is
-surrounded by I</.../> and collectd was compiled with support for regexps.
-
-The default is to collect statistics for all domains and all their devices.
-
-Example:
-
- BlockDevice "/:hdb/"
- IgnoreSelected "true"
-
-Ignore all I<hdb> devices on any domain, but other block devices (eg. I<hda>)
-will be collected.
-
-=item B<HostnameFormat> B<name|uuid|hostname|...>
-
-When the libvirt plugin logs data, it sets the hostname of the collected data
-according to this setting. The default is to use the guest name as provided by
-the hypervisor, which is equal to setting B<name>.
-
-B<uuid> means use the guest's UUID. This is useful if you want to track the
-same guest across migrations.
-
-B<hostname> means to use the global B<Hostname> setting, which is probably not
-useful on its own because all guests will appear to have the same name.
-
-You can also specify combinations of these fields. For example B<name uuid>
-means to concatenate the guest name and UUID (with a literal colon character
-between, thus I<"foo:1234-1234-1234-1234">).
+=item B<PrintSeverity> B<true>|B<false>
 
-=item B<InterfaceFormat> B<name>|B<address>
+When enabled, all lines are prefixed by the severity of the log message, for
+example "warning". Defaults to B<false>.
 
-When the libvirt plugin logs interface data, it sets the name of the collected
-data according to this setting. The default is to use the path as provided by
-the hypervisor (the "dev" property of the target node), which is equal to
-setting B<name>.
+=back
 
-B<address> means use the interface's mac address. This is useful since the
-interface path might change between reboots of a guest or across migrations.
+B<Note>: There is no need to notify the daemon after moving or removing the
+log file (e.E<nbsp>g. when rotating the logs). The plugin reopens the file
+for each line it writes.
 
-=back
+=head2 Plugin C<log_logstash>
 
-=head2 Plugin C<logfile>
+The I<log logstash plugin> behaves like the logfile plugin but formats
+messages as JSON events for logstash to parse and input.
 
 =over 4
 
 =item B<LogLevel> B<debug|info|notice|warning|err>
 
 Sets the log-level. If, for example, set to B<notice>, then all events with
@@ -2260,21 +2700,12 @@
 
 Sets the file to write log messages to. The special strings B<stdout> and
 B<stderr> can be used to write to the standard output and standard error
 channels, respectively. This, of course, only makes much sense when I<collectd>
 is running in foreground- or non-daemon-mode.
 
-=item B<Timestamp> B<true>|B<false>
-
-Prefix all lines printed by the current time. Defaults to B<true>.
-
-=item B<PrintSeverity> B<true>|B<false>
-
-When enabled, all lines are prefixed by the severity of the log message, for
-example "warning". Defaults to B<false>.
-
 =back
 
 B<Note>: There is no need to notify the daemon after moving or removing the
 log file (e.E<nbsp>g. when rotating the logs). The plugin reopens the file
 for each line it writes.
 
@@ -2448,31 +2879,31 @@
 B<Synopsis:>
 
  <Plugin mic>
    ShowCPU true
    ShowCPUCores true
    ShowMemory true
-   
+
    ShowTemperatures true
    Temperature vddg
    Temperature vddq
    IgnoreSelectedTemperature true
 
    ShowPower true
    Power total0
    Power total1
-   IgnoreSelectedPower true   
+   IgnoreSelectedPower true
  </Plugin>
 
 The following options are valid inside the B<PluginE<nbsp>mic> block:
 
 =over 4
 
 =item B<ShowCPU> B<true>|B<false>
 
-If enabled (the default) a sum of the CPU usage accross all cores is reported.
+If enabled (the default) a sum of the CPU usage across all cores is reported.
 
 =item B<ShowCPUCores> B<true>|B<false>
 
 If enabled (the default) per-core CPU usage is reported.
 
 =item B<ShowMemory> B<true>|B<false>
@@ -2514,13 +2945,13 @@
 =item fin
 
 Fan In
 
 =item fout
 
-Fan Out 
+Fan Out
 
 =item vccp
 
 Voltage ccp
 
 =item vddg
@@ -2555,89 +2986,131 @@
 Known power names are:
 
 =over 4
 
 =item total0
 
-Total power utilization averaged over Time Window 0 (uWatts). 
+Total power utilization averaged over Time Window 0 (uWatts).
 
 =item total1
 
-Total power utilization averaged over Time Window 0 (uWatts). 
+Total power utilization averaged over Time Window 0 (uWatts).
 
 =item inst
 
 Instantaneous power (uWatts).
 
 =item imax
 
-Max instantaneous power (uWatts). 
+Max instantaneous power (uWatts).
 
 =item pcie
 
-PCI-E connector power (uWatts). 
+PCI-E connector power (uWatts).
 
 =item c2x3
 
-2x3 connector power (uWatts). 
+2x3 connector power (uWatts).
 
 =item c2x4
 
-2x4 connector power (uWatts). 
+2x4 connector power (uWatts).
 
 =item vccp
 
-Core rail (uVolts). 
+Core rail (uVolts).
 
 =item vddg
 
-Uncore rail (uVolts). 
+Uncore rail (uVolts).
 
 =item vddq
 
-Memory subsystem rail (uVolts). 
+Memory subsystem rail (uVolts).
+
+=back
 
 =back
 
+=head2 Plugin C<memory>
+
+The I<memory plugin> provides the following configuration options:
+
+=over 4
+
+=item B<ValuesAbsolute> B<true>|B<false>
+
+Enables or disables reporting of physical memory usage in absolute numbers,
+i.e. bytes. Defaults to B<true>.
+
+=item B<ValuesPercentage> B<false>|B<true>
+
+Enables or disables reporting of physical memory usage in percentages, e.g.
+percent of physical memory used. Defaults to B<false>.
+
+This is useful for deploying I<collectd> in a heterogeneous environment in
+which the sizes of physical memory vary.
+
 =back
 
 =head2 Plugin C<modbus>
 
-The B<modbus plugin> connects to a Modbus "slave" via Modbus/TCP and reads
-register values. It supports reading single registers (unsigned 16E<nbsp>bit
+The B<modbus plugin> connects to a Modbus "slave" via Modbus/TCP or Modbus/RTU and
+reads register values. It supports reading single registers (unsigned 16E<nbsp>bit
 values), large integer values (unsigned 32E<nbsp>bit values) and floating point
 values (two registers interpreted as IEEE floats in big endian notation).
 
 B<Synopsis:>
 
  <Data "voltage-input-1">
    RegisterBase 0
    RegisterType float
+   RegisterCmd ReadHolding
    Type voltage
    Instance "input-1"
  </Data>
- 
+
  <Data "voltage-input-2">
    RegisterBase 2
    RegisterType float
+   RegisterCmd ReadHolding
    Type voltage
    Instance "input-2"
  </Data>
- 
+
+ <Data "supply-temperature-1">
+   RegisterBase 0
+   RegisterType Int16
+   RegisterCmd ReadHolding
+   Type temperature
+   Instance "temp-1"
+ </Data>
+
  <Host "modbus.example.com">
    Address "192.168.0.42"
    Port    "502"
    Interval 60
-   
+
    <Slave 1>
      Instance "power-supply"
      Collect  "voltage-input-1"
      Collect  "voltage-input-2"
    </Slave>
  </Host>
 
+ <Host "localhost">
+   Device "/dev/ttyUSB0"
+   Baudrate 38400
+   Interval 20
+
+   <Slave 1>
+     Instance "temperature"
+     Collect  "supply-temperature-1"
+   </Slave>
+ </Host>
+
 =over 4
 
 =item E<lt>B<Data> I<Name>E<gt> blocks
 
 Data blocks define a mapping between register numbers and the "types" used by
 I<collectd>.
@@ -2655,12 +3128,17 @@
 =item B<RegisterType> B<Int16>|B<Int32>|B<Uint16>|B<Uint32>|B<Float>
 
 Specifies what kind of data is returned by the device. If the type is B<Int32>,
 B<Uint32> or B<Float>, two 16E<nbsp>bit registers will be read and the data is
 combined into one value. Defaults to B<Uint16>.
 
+=item B<RegisterCmd> B<ReadHolding>|B<ReadInput>
+
+Specifies register type to be collected from device. Works only with libmodbus
+2.9.2 or higher. Defaults to B<ReadHolding>.
+
 =item B<Type> I<Type>
 
 Specifies the "type" (data set) to use when dispatching the value to
 I<collectd>. Currently, only data sets with exactly one data source are
 supported.
 
@@ -2680,30 +3158,40 @@
 Within E<lt>HostE<nbsp>/E<gt> blocks, the following options are allowed:
 
 =over 4
 
 =item B<Address> I<Hostname>
 
-Specifies the node name (the actual network address) used to connect to the
-host. This may be an IP address or a hostname. Please note that the used
-I<libmodbus> library only supports IPv4 at the moment.
+For Modbus/TCP, specifies the node name (the actual network address) used to
+connect to the host. This may be an IP address or a hostname. Please note that
+the used I<libmodbus> library only supports IPv4 at the moment.
 
 =item B<Port> I<Service>
 
-Specifies the port used to connect to the host. The port can either be given as
-a number or as a service name. Please note that the I<Service> argument must be
-a string, even if ports are given in their numerical form. Defaults to "502".
+for Modbus/TCP, specifies the port used to connect to the host. The port can
+either be given as a number or as a service name. Please note that the
+I<Service> argument must be a string, even if ports are given in their numerical
+form. Defaults to "502".
+
+=item B<Device> I<Devicenode>
+
+For Modbus/RTU, specifies the path to the serial device being used.
+
+=item B<Baudrate> I<Baudrate>
+
+For Modbus/RTU, specifies the baud rate of the serial device.
+Note, connections currently support only 8/N/1.
 
 =item B<Interval> I<Interval>
 
 Sets the interval (in seconds) in which the values will be collected from this
 host. By default the global B<Interval> setting will be used.
 
 =item E<lt>B<Slave> I<ID>E<gt>
 
-Over each TCP connection, multiple Modbus devices may be reached. The slave ID
+Over each connection, multiple Modbus devices may be reached. The slave ID
 is used to specify which device should be addressed. For each device you want
 to query, one B<Slave> block must be given.
 
 Within E<lt>SlaveE<nbsp>/E<gt> blocks, the following options are allowed:
 
 =over 4
@@ -2755,15 +3243,17 @@
     <Database foo>
       Host "hostname"
       User "username"
       Password "password"
       Port "3306"
       MasterStats true
+      ConnectTimeout 10
     </Database>
 
     <Database bar>
+      Alias "squeeze"
       Host "localhost"
       Socket "/var/run/mysql/mysqld.sock"
       SlaveStats true
       SlaveNotifications true
     </Database>
   </Plugin>
@@ -2772,12 +3262,17 @@
 single argument which specifies the name of the database. None of the other
 options are required. MySQL will use default values as documented in the
 section "mysql_real_connect()" in the B<MySQL reference manual>.
 
 =over 4
 
+=item B<Alias> I<Alias>
+
+Alias to use as sender instead of hostname when reporting. This may be useful
+when having cryptic hostnames.
+
 =item B<Host> I<Hostname>
 
 Hostname of the database server. Defaults to B<localhost>.
 
 =item B<User> I<Username>
 
@@ -2810,12 +3305,17 @@
 
 Specifies the path to the UNIX domain socket of the MySQL server. This option
 only has any effect, if B<Host> is set to B<localhost> (the default).
 Otherwise, use the B<Port> option above. See the documentation for the
 C<mysql_real_connect> function for details.
 
+=item B<InnodbStats> I<true|false>
+
+If enabled, metrics about the InnoDB storage engine are collected.
+Disabled by default.
+
 =item B<MasterStats> I<true|false>
 
 =item B<SlaveStats> I<true|false>
 
 Enable the collection of master / slave statistics in a replication setup. In
 order to be able to get access to these statistics, the user needs special
@@ -2823,12 +3323,16 @@
 
 =item B<SlaveNotifications> I<true|false>
 
 If enabled, the plugin sends a notification if the replication slave I/O and /
 or SQL threads are not running. Defaults to B<false>.
 
+=item B<ConnectTimeout> I<Seconds>
+
+Sets the connect timeout for the MySQL client.
+
 =back
 
 =head2 Plugin C<netapp>
 
 The netapp plugin can collect various performance and capacity information
 from a NetApp filer using the NetApp API.
@@ -2857,54 +3361,54 @@
     Protocol      "https"
     Address       "10.0.0.1"
     Port          443
     User          "username"
     Password      "aef4Aebe"
     Interval      30
-    
+
     <WAFL>
       Interval 30
       GetNameCache   true
       GetDirCache    true
       GetBufferCache true
       GetInodeCache  true
     </WAFL>
-    
+
     <Disks>
       Interval 30
       GetBusy true
     </Disks>
-    
+
     <VolumePerf>
       Interval 30
       GetIO      "volume0"
       IgnoreSelectedIO      false
       GetOps     "volume0"
       IgnoreSelectedOps     false
       GetLatency "volume0"
       IgnoreSelectedLatency false
     </VolumePerf>
-    
+
     <VolumeUsage>
       Interval 30
       GetCapacity "vol0"
       GetCapacity "vol1"
       IgnoreSelectedCapacity false
       GetSnapshot "vol1"
       GetSnapshot "vol3"
       IgnoreSelectedSnapshot false
     </VolumeUsage>
-    
+
     <Quota>
       Interval 60
     </Quota>
-    
+
     <Snapvault>
       Interval 30
     </Snapvault>
-    
+
     <System>
       Interval 30
       GetCPULoad     true
       GetInterfaces  true
       GetDiskOps     true
       GetDiskIO      true
@@ -3459,13 +3963,13 @@
 signature):
 
  <Plugin "network">
    # Export to an internal server
    # (demonstrates usage without additional options)
    Server "collectd.internal.tld"
-   
+
    # Export to an external server
    # (demonstrates usage with signature options)
    <Server "collectd.external.tld">
      SecurityLevel "sign"
      Username "myhostname"
      Password "ohl0eQue"
@@ -3522,12 +4026,18 @@
 to IPv6 packets and if possible to IPv4. If this option is not applicable,
 undefined or a non-existent interface name is specified, the default
 behavior is to let the kernel choose the appropriate interface. Be warned
 that the manual selection of an interface for unicast traffic is only
 necessary in rare cases.
 
+=item B<ResolveInterval> I<Seconds>
+
+Sets the interval at which to re-resolve the DNS for the I<Host>. This is
+useful to force a regular DNS lookup to support a high availability setup. If
+not specified, re-resolves are never attempted.
+
 =back
 
 =item B<E<lt>Listen> I<Host> [I<Port>]B<E<gt>>
 
 The B<Listen> statement sets the interfaces to bind to. When multiple
 statements are found the daemon will bind to multiple interfaces.
@@ -3666,12 +4176,18 @@
 =item B<CACert> I<File>
 
 File that holds one or more SSL certificates. If you want to use HTTPS you will
 possibly need this option. What CA certificates come bundled with C<libcurl>
 and are checked by default depends on the distribution you use.
 
+=item B<Timeout> I<Milliseconds>
+
+The B<Timeout> option sets the overall timeout for HTTP requests to B<URL>, in
+milliseconds. By default, the configured B<Interval> is used to set the
+timeout.
+
 =back
 
 =head2 Plugin C<notify_desktop>
 
 This plugin sends a desktop notification to a notification daemon, as defined
 in the Desktop Notification Specification. To actually display the
@@ -3752,24 +4268,12 @@
 Default: C<Collectd notify: %s@%s>
 
 =back
 
 =head2 Plugin C<ntpd>
 
-The C<ntpd> plugin collects per-peer ntp data such as time offset and time
-dispersion.
-
-For talking to B<ntpd>, it mimics what the B<ntpdc> control program does on
-the wire - using B<mode 7> specific requests. This mode is deprecated with
-newer B<ntpd> releases (4.2.7p230 and later). For the C<ntpd> plugin to work
-correctly with them, the ntp daemon must be explicitly configured to
-enable B<mode 7> (which is disabled by default). Refer to the I<ntp.conf(5)>
-manual page for details.
-
-Available configuration options for the C<ntpd> plugin:
-
 =over 4
 
 =item B<Host> I<Hostname>
 
 Hostname of the host running B<ntpd>. Defaults to B<localhost>.
 
@@ -3860,19 +4364,42 @@
 
 B<EXPERIMENTAL!> See notes below.
 
 The C<onewire> plugin uses the B<owcapi> library from the B<owfs> project
 L<http://owfs.org/> to read sensors connected via the onewire bus.
 
-Currently only temperature sensors (sensors with the family code C<10>,
-e.E<nbsp>g. DS1820, DS18S20, DS1920) can be read. If you have other sensors you
-would like to have included, please send a sort request to the mailing list.
+It can be used in two possible modes - standard or advanced.
+
+In the standard mode only temperature sensors (sensors with the family code
+C<10>, C<22> and C<28> - e.g. DS1820, DS18S20, DS1920) can be read. If you have
+other sensors you would like to have included, please send a sort request to
+the mailing list. You can select sensors to be read or to be ignored depending
+on the option B<IgnoreSelected>). When no list is provided the whole bus is
+walked and all sensors are read.
 
 Hubs (the DS2409 chips) are working, but read the note, why this plugin is
 experimental, below.
 
+In the advanced mode you can configure any sensor to be read (only numerical
+value) using full OWFS path (e.g. "/uncached/10.F10FCA000800/temperature").
+In this mode you have to list all the sensors. Neither default bus walk nor
+B<IgnoreSelected> are used here. Address and type (file) is extracted from
+the path automatically and should produce compatible structure with the "standard"
+mode (basically the path is expected as for example
+"/uncached/10.F10FCA000800/temperature" where it would extract address part
+"F10FCA000800" and the rest after the slash is considered the type - here
+"temperature").
+There are two advantages to this mode - you can access virtually any sensor
+(not just temperature), select whether to use cached or directly read values
+and it is slighlty faster. The downside is more complex configuration.
+
+The two modes are distinguished automatically by the format of the address.
+It is not possible to mix the two modes. Once a full path is detected in any
+B<Sensor> then the whole addressing (all sensors) is considered to be this way
+(and as standard addresses will fail parsing they will be ignored).
+
 =over 4
 
 =item B<Device> I<Device>
 
 Sets the device to read the values from. This can either be a "real" hardware
 device, such as a serial port or an USB port, or the address of the
@@ -3887,27 +4414,38 @@
   </Plugin>
 
 This directive is B<required> and does not have a default value.
 
 =item B<Sensor> I<Sensor>
 
-Selects sensors to collect or to ignore, depending on B<IgnoreSelected>, see
-below. Sensors are specified without the family byte at the beginning, to you'd
-use C<F10FCA000800>, and B<not> include the leading C<10.> family byte and
-point.
+In the standard mode selects sensors to collect or to ignore
+(depending on B<IgnoreSelected>, see below). Sensors are specified without
+the family byte at the beginning, so you have to use for example C<F10FCA000800>,
+and B<not> include the leading C<10.> family byte and point.
+When no B<Sensor> is configured the whole Onewire bus is walked and all supported
+sensors (see above) are read.
+
+In the advanced mode the B<Sensor> specifies full OWFS path - e.g.
+C</uncached/10.F10FCA000800/temperature> (or when cached values are OK
+C</10.F10FCA000800/temperature>). B<IgnoreSelected> is not used.
+
+As there can be multiple devices on the bus you can list multiple sensor (use
+multiple B<Sensor> elements).
 
 =item B<IgnoreSelected> I<true>|I<false>
 
-If no configuration if given, the B<onewire> plugin will collect data from all
+If no configuration is given, the B<onewire> plugin will collect data from all
 sensors found. This may not be practical, especially if sensors are added and
 removed regularly. Sometimes, however, it's easier/preferred to collect only
 specific sensors or all sensors I<except> a few specified ones. This option
 enables you to do that: By setting B<IgnoreSelected> to I<true> the effect of
 B<Sensor> is inverted: All selected interfaces are ignored and all other
 interfaces are collected.
 
+Used only in the standard mode - see above.
+
 =item B<Interval> I<Seconds>
 
 Sets the interval in which all sensors should be read. If not specified, the
 global B<Interval> setting is used.
 
 =back
@@ -3920,12 +4458,76 @@
 and some cache or something like that, but it's not done yet. We will try to
 maintain backwards compatibility in the future, but we can't promise. So in
 short: If it works for you: Great! But keep in mind that the config I<might>
 change, though this is unlikely. Oh, and if you want to help improving this
 plugin, just send a short notice to the mailing list. ThanksE<nbsp>:)
 
+=head2 Plugin C<openldap>
+
+To use the C<openldap> plugin you first need to configure the I<OpenLDAP>
+server correctly. The backend database C<monitor> needs to be loaded and
+working. See slapd-monitor(5) for the details.
+
+The configuration of the C<openldap> plugin consists of one or more B<Instance>
+blocks. Each block requires one string argument as the instance name. For
+example:
+
+ <Plugin "openldap">
+   <Instance "foo">
+     URL "ldap://localhost/"
+   </Instance>
+   <Instance "bar">
+     URL "ldaps://localhost/"
+   </Instance>
+ </Plugin>
+
+The instance name will be used as the I<plugin instance>. To emulate the old
+(versionE<nbsp>4) behavior, you can use an empty string (""). In order for the
+plugin to work correctly, each instance name must be unique. This is not
+enforced by the plugin and it is your responsibility to ensure it is.
+
+The following options are accepted within each B<Instance> block:
+
+=over 4
+
+=item B<URL> I<ldap://host/binddn>
+
+Sets the URL to use to connect to the I<OpenLDAP> server. This option is
+I<mandatory>.
+
+=item B<StartTLS> B<true|false>
+
+Defines whether TLS must be used when connecting to the I<OpenLDAP> server.
+Disabled by default.
+
+=item B<VerifyHost> B<true|false>
+
+Enables or disables peer host name verification. If enabled, the plugin checks
+if the C<Common Name> or a C<Subject Alternate Name> field of the SSL
+certificate matches the host name provided by the B<URL> option. If this
+identity check fails, the connection is aborted. Enabled by default.
+
+=item B<CACert> I<File>
+
+File that holds one or more SSL certificates. If you want to use TLS/SSL you
+may possibly need this option. What CA certificates are checked by default
+depends on the distribution you use and can be changed with the usual ldap
+client configuration mechanisms. See ldap.conf(5) for the details.
+
+=item B<Timeout> I<Seconds>
+
+Sets the timeout value for ldap operations. Defaults to B<-1> which results in
+an infinite timeout.
+
+=item B<Version> I<Version>
+
+An integer which sets the LDAP protocol version number to use when connecting
+to the I<OpenLDAP> server. Defaults to B<3> for using I<LDAPv3>.
+
+=back
+
 =head2 Plugin C<openvpn>
 
 The OpenVPN plugin reads a status file maintained by OpenVPN and gathers
 traffic statistics about connected clients.
 
 To set up OpenVPN to write to the status file periodically, use the
@@ -4580,12 +5182,16 @@
 Specify the username to be used when connecting to the server.
 
 =item B<Password> I<password>
 
 Specify the password to be used when connecting to the server.
 
+=item B<ExpireDelay> I<delay>
+
+Skip expired values in query output.
+
 =item B<SSLMode> I<disable>|I<allow>|I<prefer>|I<require>
 
 Specify whether to use an SSL connection when contacting the server. The
 following modes are supported:
 
 =over 4
@@ -4605,12 +5211,19 @@
 =item I<require>
 
 Use SSL only.
 
 =back
 
+=item B<Instance> I<name>
+
+Specify the plugin instance name that should be used instead of the database
+name (which is the default, if this option has not been specified). This
+allows to query multiple databases of the same name on the same host (e.g.
+when running multiple database server versions in parallel).
+
 =item B<KRBSrvName> I<kerberos_service_name>
 
 Specify the Kerberos service name to use when authenticating with Kerberos 5
 or GSSAPI. See the sections "Kerberos authentication" and "GSSAPI" of the
 B<PostgreSQL Documentation> for details.
 
@@ -4797,15 +5410,12 @@
 
 Select more detailed statistics of processes matching this name. The statistics
 collected for these selected processes are size of the resident segment size
 (RSS), user- and system-time used, number of processes and number of threads,
 io data (where available) and minor and major pagefaults.
 
-Some platforms have a limit on the length of process names. I<Name> must stay
-below this limit.
-
 =item B<ProcessMatch> I<name> I<regex>
 
 Similar to the B<Process> option this allows to select more detailed
 statistics of processes matching the specified I<regex> (see L<regex(7)> for
 details). The statistics of all matching processes are summed up and
 dispatched to the daemon using the specified I<name> as an identifier. This
@@ -4947,12 +5557,16 @@
 
   <Plugin redis>
     <Node "example">
         Host "localhost"
         Port "6379"
         Timeout 2000
+        <Query "LLEN myqueue">
+          Type "queue_length"
+          Instance "myqueue"
+        <Query>
     </Node>
   </Plugin>
 
 The information shown in the synopsis above is the I<default configuration>
 which is used by the plugin if no configuration is present.
 
@@ -4984,12 +5598,28 @@
 
 The B<Timeout> option set the socket timeout for node response. Since the Redis
 read function is blocking, you should keep this value as low as possible. Keep
 in mind that the sum of all B<Timeout> values for all B<Nodes> should be lower
 than B<Interval> defined globally.
 
+=item B<Query> I<Querystring>
+
+The B<Query> block identifies a query to execute against the redis server.
+There may be an arbitrary number of queries to execute.
+
+=item B<Type> I<Collectd type>
+
+Within a query definition, a valid collectd type to use as when submitting
+the result of the query. When not supplied, will default to B<gauge>.
+
+=item B<Instance> I<Type instance>
+
+Within a query definition, an optional type instance to use when submitting
+the result of the query. When not supplied will default to the escaped
+command, up to 64 chars.
+
 =back
 
 =head2 Plugin C<rrdcached>
 
 The C<rrdcached> plugin uses the RRDtool accelerator daemon, L<rrdcached(1)>,
 to store values to RRD files in an efficient manner. The combination of the
@@ -5325,12 +5955,46 @@
 The default B<MinimumInterval> is B<0>, meaning measurements received from the
 device are always dispatched to I<collectd>. When throttled, unused
 measurements are discarded.
 
 =back
 
+=head2 Plugin C<smart>
+
+The C<smart> plugin collects SMART information from physical
+disks. Values collectd include temperature, power cycle count, poweron
+time and bad sectors. Also, all SMART attributes are collected along
+with the normalized current value, the worst value, the threshold and
+a human readable value.
+
+Using the following two options you can ignore some disks or configure the
+collection only of specific disks.
+
+=over 4
+
+=item B<Disk> I<Name>
+
+Select the disk I<Name>. Whether it is collected or ignored depends on the
+B<IgnoreSelected> setting, see below. As with other plugins that use the
+daemon's ignorelist functionality, a string that starts and ends with a slash
+is interpreted as a regular expression. Examples:
+
+  Disk "sdd"
+  Disk "/hda[34]/"
+
+=item B<IgnoreSelected> B<true>|B<false>
+
+Sets whether selected disks, i.E<nbsp>e. the ones matches by any of the B<Disk>
+statements, are ignored or if all other disks are ignored. The behavior
+(hopefully) is intuitive: If no B<Disk> option is configured, all disks are
+collected. If at least one B<Disk> option is given and no B<IgnoreSelected> or
+set to B<false>, B<only> matching disks will be collected. If B<IgnoreSelected>
+is set to B<true>, all disks are collected B<except> the ones matched.
+
+=back
+
 =head2 Plugin C<snmp>
 
 Since the configuration of the C<snmp plugin> is a little more complicated than
 other plugins, its documentation has been moved to an own manpage,
 L<collectd-snmp(5)>. Please see there for details.
 
@@ -5415,12 +6079,25 @@
 
 =item B<ReportBytes> B<false>|B<true>
 
 When enabled, the I<swap I/O> is reported in bytes. When disabled, the default,
 I<swap I/O> is reported in pages. This option is available under Linux only.
 
+=item B<ValuesAbsolute> B<true>|B<false>
+
+Enables or disables reporting of absolute swap metrics, i.e. number of I<bytes>
+available and used. Defaults to B<true>.
+
+=item B<ValuesPercentage> B<false>|B<true>
+
+Enables or disables reporting of relative swap metrics, i.e. I<percent>
+available and free. Defaults to B<false>.
+
+This is useful for deploying I<collectd> in a heterogeneous environment, where
+swap sizes differ and you want to specify generic thresholds or similar.
+
 =back
 
 =head2 Plugin C<syslog>
 
 =over 4
 
@@ -5550,12 +6227,13 @@
 each line and dispatches found values. What is matched can be configured by the
 user using (extended) regular expressions, as described in L<regex(7)>.
 
   <Plugin "tail">
     <File "/var/log/exim4/mainlog">
       Instance "exim"
+      Interval 60
       <Match>
         Regex "S=([1-9][0-9]*)"
         DSType "CounterAdd"
         Type "ipt_bytes"
         Instance "total"
       </Match>
@@ -5576,12 +6254,15 @@
 The B<Instance> option in the B<File> block may be used to set the plugin
 instance. So in the above example the plugin name C<tail-foo> would be used.
 This plugin instance is for all B<Match> blocks that B<follow> it, until the
 next B<Instance> option. This way you can extract several plugin instances from
 one logfile, handy when parsing syslog and the like.
 
+The B<Interval> option allows you to define the length of time between reads. If
+this is not set, the default Interval will be used.
+
 Each B<Match> block has the following options to describe how the match should
 be performed:
 
 =over 4
 
 =item B<Regex> I<regex>
@@ -5631,20 +6312,24 @@
 
 =item B<AbsoluteSet>
 
 The matched number is a counter. Simply I<sets> the internal counter to this
 value. Variants exist for C<COUNTER>, C<DERIVE>, and C<ABSOLUTE> data sources.
 
+=item B<GaugeAdd>
+
 =item B<CounterAdd>
 
 =item B<DeriveAdd>
 
 Add the matched value to the internal counter. In case of B<DeriveAdd>, the
 matched number may be negative, which will effectively subtract from the
 internal counter.
 
+=item B<GaugeInc>
+
 =item B<CounterInc>
 
 =item B<DeriveInc>
 
 Increase the internal counter by one. These B<DSType> are the only ones that do
 not use the matched subexpression, but simply count the number of matched
@@ -5858,12 +6543,17 @@
 much a remote service is used. This is most useful if you want to know how many
 connections a local service has opened to remote services, e.E<nbsp>g. how many
 connections a mail server or news server has to other mail or news servers, or
 how many connections a web proxy holds to web servers. You have to give the
 port in numeric form.
 
+=item B<AllPortsSummary> I<true>|I<false>
+
+If this option is set to I<true> a summary of statistics from all connections
+are collectd. This option defaults to I<false>.
+
 =back
 
 =head2 Plugin C<thermal>
 
 =over 4
 
@@ -5915,12 +6605,85 @@
 The query port of the server. This needs to be a string, even if the port is
 given in its numeric form.
 Default: B<1978>
 
 =back
 
+=head2 Plugin C<turbostat>
+
+The I<Turbostat plugin> reads CPU frequency and C-state residency on modern
+Intel processors by using the new Model Specific Registers.
+
+=over 4
+
+=item B<CoreCstates> I<Bitmask(Integer)>
+
+Bitmask of the list of core C states supported by the processor.
+This option should only be used if the automated detection fails.
+Default value extracted from the cpu model and family.
+
+Currently supported C-states (by this plugin): 3, 6, 7
+
+Example: (1<<3)+(1<<6)+(1<<7) = 392 for all states
+
+=item B<PackageCstates> I<Bitmask(Integer)>
+
+Bitmask of the list of pacages C states supported by the processor.
+This option should only be used if the automated detection fails.
+Default value extracted from the cpu model and family.
+
+Currently supported C-states (by this plugin): 2, 3, 6, 7, 8, 9, 10
+
+Example: (1<<2)+(1<<3)+(1<<6)+(1<<7) = 396 for states 2, 3, 6 and 7
+
+=item B<SystemManagementInterrupt> I<true>|I<false>
+
+Boolean enabling the collection of the I/O System-Management Interrupt
+counter'. This option should only be used if the automated detection
+fails or if you want to disable this feature.
+
+=item B<DigitalTemperatureSensor> I<true>|I<false>
+
+Boolean enabling the collection of the temperature of each core.
+This option should only be used if the automated detectionfails or 
+if you want to disable this feature.
+
+=item B<DigitalTemperatureSensor> I<true>|I<false>
+
+Boolean enabling the collection of the temperature of each package.
+This option should only be used if the automated detectionfails or 
+if you want to disable this feature.
+
+=item B<TCCActivationTemp> I<Temperature>
+
+Thermal Control Circuit Activation Temperature of the installed
+CPU. This temperature is used when collecting the temperature of
+cores or packages. This option should only be used if the automated
+detection fails. Default value extracted from B<MSR_IA32_TEMPERATURE_TARGET>
+
+=item B<RunningAveragePowerLimit> I<Bitmask(Integer)>
+
+Bitmask of the list of elements to be thermally monitored. This option
+should only be used if the automated detection fails or if you want to
+disable some collections. The different bits of this bitmask accepted
+by this plugin are:
+
+=over 4
+
+=item 0 ('1'): Package
+
+=item 1 ('2'): DRAM
+
+=item 2 ('4'): Cores
+
+=item 3 ('8'): Embedded graphic device
+
+=back
+
+=back
+
 =head2 Plugin C<unixsock>
 
 =over 4
 
 =item B<SocketFile> I<Path>
 
@@ -5955,26 +6718,26 @@
 shutdowns and migration.
 
 The following methods are used to find the machine's UUID, in order:
 
 =over 4
 
-=item *
+=item
 
 Check I</etc/uuid> (or I<UUIDFile>).
 
-=item *
+=item
 
 Check for UUID from HAL (L<http://www.freedesktop.org/wiki/Software/hal>) if
 present.
 
-=item *
+=item
 
 Check for UUID from C<dmidecode> / SMBIOS.
 
-=item *
+=item
 
 Check for UUID from Xen hypervisor.
 
 =back
 
 If no UUID can be found then the hostname is not modified.
@@ -5987,28 +6750,41 @@
 
 =back
 
 =head2 Plugin C<varnish>
 
 The I<varnish plugin> collects information about Varnish, an HTTP accelerator.
+It collects a subset of the values displayed by L<varnishstat(1)>, and
+organizes them in categories which can be enabled or disabled. Currently only
+metrics shown in L<varnishstat(1)>'s I<MAIN> section are collected. The exact
+meaning of each metric can be found in L<varnish-counters(7)>.
 
 Synopsis:
 
  <Plugin "varnish">
    <Instance "example">
+     CollectBackend     true
+     CollectBan         false
      CollectCache       true
      CollectConnections true
-     CollectBackend     true
-     CollectSHM         true
+     CollectDirectorDNS false
      CollectESI         false
      CollectFetch       false
      CollectHCB         false
+     CollectObjects     false
+     CollectPurge       false
+     CollectSession     false
+     CollectSHM         true
      CollectSMA         false
      CollectSMS         false
      CollectSM          false
+     CollectStruct      false
      CollectTotals      false
+     CollectUptime      false
+     CollectVCL         false
+     CollectVSM         false
      CollectWorkers     false
    </Instance>
  </Plugin>
 
 The configuration consists of one or more E<lt>B<Instance>E<nbsp>I<Name>E<gt>
 blocks. I<Name> is the parameter passed to "varnishd -n". If left empty, it
@@ -6016,42 +6792,37 @@
 fine in most cases).
 
 Inside each E<lt>B<Instance>E<gt> blocks, the following options are recognized:
 
 =over 4
 
-=item B<CollectCache> B<true>|B<false>
-
-Cache hits and misses. True by default.
-
-=item B<CollectConnections> B<true>|B<false>
-
-Number of client connections received, accepted and dropped. True by default.
-
 =item B<CollectBackend> B<true>|B<false>
 
 Back-end connection statistics, such as successful, reused,
 and closed connections. True by default.
 
-=item B<CollectSHM> B<true>|B<false>
-
-Statistics about the shared memory log, a memory region to store
-log messages which is flushed to disk when full. True by default.
-
 =item B<CollectBan> B<true>|B<false>
 
 Statistics about ban operations, such as number of bans added, retired, and
 number of objects tested against ban operations. Only available with Varnish
-3.x. False by default.
+3.x and above. False by default.
 
-=item B<CollectDirectorDNS> B<true>|B<false>
+=item B<CollectCache> B<true>|B<false>
 
-DNS director lookup cache statistics. Only available with Varnish 3.x. False by
-default.
+Cache hits and misses. True by default.
 
-=item B<CollectESI> B<true>|B<false>
+=item B<CollectConnections> B<true>|B<false>
+
+Number of client connections received, accepted and dropped. True by default.
+
+=item B<CollectDirectorDNS> B<true>|B<false>
+
+DNS director lookup cache statistics. Only available with Varnish 3.x. False by
+default.
+
+=item B<CollectESI> B<true>|B<false>
 
 Edge Side Includes (ESI) parse statistics. False by default.
 
 =item B<CollectFetch> B<true>|B<false>
 
 Statistics about fetches (HTTP requests sent to the backend). False by default.
@@ -6072,13 +6843,20 @@
 number of objects tested against purge operations. Only available with Varnish
 2.x. False by default.
 
 =item B<CollectSession> B<true>|B<false>
 
 Client session statistics. Number of past and current sessions, session herd and
-linger counters, etc. False by default.
+linger counters, etc. False by default. Note that if using Varnish 4.x, some
+metrics found in the Connections and Threads sections with previous versions of
+Varnish have been moved here.
+
+=item B<CollectSHM> B<true>|B<false>
+
+Statistics about the shared memory log, a memory region to store
+log messages which is flushed to disk when full. True by default.
 
 =item B<CollectSMA> B<true>|B<false>
 
 malloc or umem (umem_alloc(3MALLOC) based) storage statistics. The umem storage
 component is Solaris specific. Only available with Varnish 2.x. False by
 default.
@@ -6103,24 +6881,124 @@
 
 Collects overview counters, such as the number of sessions created,
 the number of requests and bytes transferred. False by default.
 
 =item B<CollectUptime> B<true>|B<false>
 
-Varnish uptime. False by default.
+Varnish uptime. Only available with Varnish 3.x and above. False by default.
 
 =item B<CollectVCL> B<true>|B<false>
 
 Number of total (available + discarded) VCL (config files). False by default.
 
+=item B<CollectVSM> B<true>|B<false>
+
+Collect statistics about Varnish's shared memory usage (used by the logging and
+statistics subsystems). Only available with Varnish 4.x. False by default.
+
 =item B<CollectWorkers> B<true>|B<false>
 
 Collect statistics about worker threads. False by default.
 
 =back
 
+=head2 Plugin C<virt>
+
+This plugin allows CPU, disk and network load to be collected for virtualized
+guests on the machine. This means that these metrics can be collected for guest
+systems without installing any software on them - I<collectd> only runs on the
+host system. The statistics are collected through libvirt
+(L<http://libvirt.org/>).
+
+Only I<Connection> is required.
+
+=over 4
+
+=item B<Connection> I<uri>
+
+Connect to the hypervisor given by I<uri>. For example if using Xen use:
+
+ Connection "xen:///"
+
+Details which URIs allowed are given at L<http://libvirt.org/uri.html>.
+
+=item B<RefreshInterval> I<seconds>
+
+Refresh the list of domains and devices every I<seconds>. The default is 60
+seconds. Setting this to be the same or smaller than the I<Interval> will cause
+the list of domains and devices to be refreshed on every iteration.
+
+Refreshing the devices in particular is quite a costly operation, so if your
+virtualization setup is static you might consider increasing this. If this
+option is set to 0, refreshing is disabled completely.
+
+=item B<Domain> I<name>
+
+=item B<BlockDevice> I<name:dev>
+
+=item B<InterfaceDevice> I<name:dev>
+
+=item B<IgnoreSelected> B<true>|B<false>
+
+Select which domains and devices are collected.
+
+If I<IgnoreSelected> is not given or B<false> then only the listed domains and
+disk/network devices are collected.
+
+If I<IgnoreSelected> is B<true> then the test is reversed and the listed
+domains and disk/network devices are ignored, while the rest are collected.
+
+The domain name and device names may use a regular expression, if the name is
+surrounded by I</.../> and collectd was compiled with support for regexps.
+
+The default is to collect statistics for all domains and all their devices.
+
+Example:
+
+ BlockDevice "/:hdb/"
+ IgnoreSelected "true"
+
+Ignore all I<hdb> devices on any domain, but other block devices (eg. I<hda>)
+will be collected.
+
+=item B<HostnameFormat> B<name|uuid|hostname|...>
+
+When the virt plugin logs data, it sets the hostname of the collected data
+according to this setting. The default is to use the guest name as provided by
+the hypervisor, which is equal to setting B<name>.
+
+B<uuid> means use the guest's UUID. This is useful if you want to track the
+same guest across migrations.
+
+B<hostname> means to use the global B<Hostname> setting, which is probably not
+useful on its own because all guests will appear to have the same name.
+
+You can also specify combinations of these fields. For example B<name uuid>
+means to concatenate the guest name and UUID (with a literal colon character
+between, thus I<"foo:1234-1234-1234-1234">).
+
+=item B<InterfaceFormat> B<name>|B<address>
+
+When the virt plugin logs interface data, it sets the name of the collected
+data according to this setting. The default is to use the path as provided by
+the hypervisor (the "dev" property of the target node), which is equal to
+setting B<name>.
+
+B<address> means use the interface's mac address. This is useful since the
+interface path might change between reboots of a guest or across migrations.
+
+=item B<PluginInstanceFormat> B<name|uuid>
+
+When the virt plugin logs data, it sets the plugin_instance of the collected
+data according to this setting. The default is to use the guest name as provided
+by the hypervisor, which is equal to setting B<name>.
+
+B<uuid> means use the guest's UUID.
+
+=back
+
 =head2 Plugin C<vmem>
 
 The C<vmem> plugin collects information about the usage of virtual memory.
 Since the statistics provided by the Linux kernel are very detailed, they are
 collected very detailed. However, to get all the details, you have to switch
 them on manually. Most people just want an overview over, such as the number of
@@ -6231,12 +7109,65 @@
 If set to B<true>, append the name of the I<Data Source> (DS) to the "metric"
 identifier. If set to B<false> (the default), this is only done when there is
 more than one DS.
 
 =back
 
+=head2 Plugin C<write_tsdb>
+
+The C<write_tsdb> plugin writes data to I<OpenTSDB>, a scalable open-source
+time series database. The plugin connects to a I<TSD>, a masterless, no shared
+state daemon that ingests metrics and stores them in HBase. The plugin uses
+I<TCP> over the "line based" protocol with a default port 4242. The data will
+be sent in blocks of at most 1428 bytes to minimize the number of network
+packets.
+
+Synopsis:
+
+ <Plugin write_tsdb>
+   <Node "example">
+     Host "tsd-1.my.domain"
+     Port "4242"
+     HostTags "status=production"
+   </Node>
+ </Plugin>
+
+The configuration consists of one or more E<lt>B<Node>E<nbsp>I<Name>E<gt>
+blocks. Inside the B<Node> blocks, the following options are recognized:
+
+=over 4
+
+=item B<Host> I<Address>
+
+Hostname or address to connect to. Defaults to C<localhost>.
+
+=item B<Port> I<Service>
+
+Service name or port number to connect to. Defaults to C<4242>.
+
+
+=item B<HostTags> I<String>
+
+When set, I<HostTags> is added to the end of the metric. It is intended to be
+used for name=value pairs that the TSD will tag the metric with. Dots and
+whitespace are I<not> escaped in this string.
+
+=item B<StoreRates> B<false>|B<true>
+
+If set to B<true>, convert counter values to rates. If set to B<false>
+(the default) counter values are stored as is, as an increasing
+integer number.
+
+=item B<AlwaysAppendDS> B<false>|B<true>
+
+If set the B<true>, append the name of the I<Data Source> (DS) to the "metric"
+identifier. If set to B<false> (the default), this is only done when there is
+more than one DS.
+
+=back
+
 =head2 Plugin C<write_mongodb>
 
 The I<write_mongodb plugin> will send values to I<MongoDB>, a schema-less
 NoSQL database.
 
 B<Synopsis:>
@@ -6286,31 +7217,37 @@
 want to use authentication all three fields must be set.
 
 =back
 
 =head2 Plugin C<write_http>
 
-This output plugin submits values to an http server by POST them using the
-PUTVAL plain-text protocol. Each destination you want to post data to needs to
-have one B<URL> block, within which the destination can be configured further,
-for example by specifying authentication data.
+This output plugin submits values to an HTTP server using POST requests and
+encoding metrics with JSON or using the C<PUTVAL> command described in
+L<collectd-unixsock(5)>.
 
 Synopsis:
 
  <Plugin "write_http">
-   <URL "http://example.com/post-collectd">
+   <Node "example">
+     URL "http://example.com/post-collectd"
      User "collectd"
      Password "weCh3ik0"
-   </URL>
+     Format JSON
+   </Node>
  </Plugin>
 
-B<URL> blocks need one string argument which is used as the URL to which data
-is posted. The following options are understood within B<URL> blocks.
+The plugin can send values to multiple HTTP servers by specifying one
+E<lt>B<Node>E<nbsp>I<Name>E<gt> block for each server. Within each B<Node>
+block, the following options are available:
 
 =over 4
 
+=item B<URL> I<URL>
+
+URL to which the values are submitted to. Mandatory.
+
 =item B<User> I<Username>
 
 Optional user name needed for authentication.
 
 =item B<Password> I<Password>
 
@@ -6332,25 +7269,187 @@
 =item B<CACert> I<File>
 
 File that holds one or more SSL certificates. If you want to use HTTPS you will
 possibly need this option. What CA certificates come bundled with C<libcurl>
 and are checked by default depends on the distribution you use.
 
+=item B<CAPath> I<Directory>
+
+Directory holding one or more CA certificate files. You can use this if for
+some reason all the needed CA certificates aren't in the same file and can't be
+pointed to using the B<CACert> option. Requires C<libcurl> to be built against
+OpenSSL.
+
+=item B<ClientKey> I<File>
+
+File that holds the private key in PEM format to be used for certificate-based
+authentication.
+
+=item B<ClientCert> I<File>
+
+File that holds the SSL certificate to be used for certificate-based
+authentication.
+
+=item B<ClientKeyPass> I<Password>
+
+Password required to load the private key in B<ClientKey>.
+
+=item B<SSLVersion> B<SSLv2>|B<SSLv3>|B<TLSv1>|B<TLSv1_0>|B<TLSv1_1>|B<TLSv1_2>
+
+Define which SSL protocol version must be used. By default C<libcurl> will
+attempt to figure out the remote SSL protocol version. See
+L<curl_easy_setopt(3)> for more details.
+
 =item B<Format> B<Command>|B<JSON>
 
 Format of the output to generate. If set to B<Command>, will create output that
 is understood by the I<Exec> and I<UnixSock> plugins. When set to B<JSON>, will
 create output in the I<JavaScript Object Notation> (JSON).
 
 Defaults to B<Command>.
 
 =item B<StoreRates> B<true|false>
 
 If set to B<true>, convert counter values to rates. If set to B<false> (the
-default) counter values are stored as is, i.E<nbsp>e. as an increasing integer
-number.
+default) counter values are stored as is, i.e. as an increasing integer number.
+
+=item B<BufferSize> I<Bytes>
+
+Sets the send buffer size to I<Bytes>. By increasing this buffer, less HTTP
+requests will be generated, but more metrics will be batched / metrics are
+cached for longer before being sent, introducing additional delay until they
+are available on the server side. I<Bytes> must be at least 1024 and cannot
+exceed the size of an C<int>, i.e. 2E<nbsp>GByte.
+Defaults to C<4096>.
+
+=item B<LowSpeedLimit> I<Bytes per Second>
+
+Sets the minimal transfer rate in I<Bytes per Second> below which the
+connection with the HTTP server will be considered too slow and aborted. All
+the data submitted over this connection will probably be lost. Defaults to 0,
+which means no minimum transfer rate is enforced.
+
+=item B<Timeout> I<Timeout>
+
+Sets the maximum time in milliseconds given for HTTP POST operations to
+complete. When this limit is reached, the POST operation will be aborted, and
+all the data in the current send buffer will probably be lost. Defaults to 0,
+which means the connection never times out.
+
+The C<write_http> plugin regularly submits the collected values to the HTTP
+server. How frequently this happens depends on how much data you are collecting
+and the size of B<BufferSize>. The optimal value to set B<Timeout> to is
+slightly below this interval, which you can estimate by monitoring the network
+traffic between collectd and the HTTP server.
+
+=back
+
+=head2 Plugin C<write_kafka>
+
+The I<write_kafka plugin> will send values to a I<Kafka> topic, a distributed
+queue.
+Synopsis:
+
+ <Plugin "write_kafka">
+   Property "metadata.broker.list" "broker1:9092,broker2:9092"
+   <Topic "collectd">
+     Format JSON
+   </Topic>
+ </Plugin>
+
+The following options are understood by the I<write_kafka plugin>:
+
+=over 4
+
+=item E<lt>B<Topic> I<Name>E<gt>
+
+The plugin's configuration consists of one or more B<Topic> blocks. Each block
+is given a unique I<Name> and specifies one kafka producer.
+Inside the B<Topic> block, the following per-topic options are
+understood:
+
+=over 4
+
+=item B<Property> I<String> I<String>
+
+Configure the named property for the current topic. Properties are
+forwarded to the kafka producer library B<librdkafka>.
+
+=item B<Key> I<String>
+
+Use the specified string as a partioning key for the topic. Kafka breaks
+topic into partitions and guarantees that for a given topology, the same
+consumer will be used for a specific key. The special (case insensitive)
+string B<Random> can be used to specify that an arbitrary partition should
+be used.
+
+=item B<Format> B<Command>|B<JSON>|B<Graphite>
+
+Selects the format in which messages are sent to the broker. If set to
+B<Command> (the default), values are sent as C<PUTVAL> commands which are
+identical to the syntax used by the I<Exec> and I<UnixSock plugins>.
+
+If set to B<JSON>, the values are encoded in the I<JavaScript Object Notation>,
+an easy and straight forward exchange format.
+
+If set to B<Graphite>, values are encoded in the I<Graphite> format, which is
+C<E<lt>metricE<gt> E<lt>valueE<gt> E<lt>timestampE<gt>\n>.
+
+=item B<StoreRates> B<true>|B<false>
+
+Determines whether or not C<COUNTER>, C<DERIVE> and C<ABSOLUTE> data sources
+are converted to a I<rate> (i.e. a C<GAUGE> value). If set to B<false> (the
+default), no conversion is performed. Otherwise the conversion is performed
+using the internal value cache.
+
+Please note that currently this option is only used if the B<Format> option has
+been set to B<JSON>.
+
+=item B<GraphitePrefix> (B<Format>=I<Graphite> only)
+
+A prefix can be added in the metric name when outputting in the I<Graphite>
+format. It's added before the I<Host> name.
+Metric name will be
+C<E<lt>prefixE<gt>E<lt>hostE<gt>E<lt>postfixE<gt>E<lt>pluginE<gt>E<lt>typeE<gt>E<lt>nameE<gt>>
+
+=item B<GraphitePostfix> (B<Format>=I<Graphite> only)
+
+A postfix can be added in the metric name when outputting in the I<Graphite>
+format. It's added after the I<Host> name.
+Metric name will be
+C<E<lt>prefixE<gt>E<lt>hostE<gt>E<lt>postfixE<gt>E<lt>pluginE<gt>E<lt>typeE<gt>E<lt>nameE<gt>>
+
+=item B<GraphiteEscapeChar> (B<Format>=I<Graphite> only)
+
+Specify a character to replace dots (.) in the host part of the metric name.
+In I<Graphite> metric name, dots are used as separators between different
+metric parts (host, plugin, type).
+Default is C<_> (I<Underscore>).
+
+=item B<GraphiteSeparateInstances> B<false>|B<true>
+
+If set to B<true>, the plugin instance and type instance will be in their own
+path component, for example C<host.cpu.0.cpu.idle>. If set to B<false> (the
+default), the plugin and plugin instance (and likewise the type and type
+instance) are put into one component, for example C<host.cpu-0.cpu-idle>.
+
+=item B<StoreRates> B<true>|B<false>
+
+If set to B<true> (the default), convert counter values to rates. If set to
+B<false> counter values are stored as is, i.e. as an increasing integer number.
+
+This will be reflected in the C<ds_type> tag: If B<StoreRates> is enabled,
+converted values will have "rate" appended to the data source type, e.g.
+C<ds_type:derive:rate>.
+
+=back
+
+=item B<Property> I<String> I<String>
+
+Configure the kafka producer through properties, you almost always will
+want to set B<metadata.broker.list> to your Kafka broker list.
 
 =back
 
 =head2 Plugin C<write_redis>
 
 The I<write_redis plugin> submits values to I<Redis>, a data structure server.
@@ -6405,13 +7504,13 @@
 The B<Timeout> option sets the socket connection timeout, in milliseconds.
 
 =back
 
 =head2 Plugin C<write_riemann>
 
-The I<write_riemann plugin> will send values to I<Riemann>, a powerfull stream
+The I<write_riemann plugin> will send values to I<Riemann>, a powerful stream
 aggregation and monitoring system. The plugin sends I<Protobuf> encoded data to
 I<Riemann> using UDP packets.
 
 Synopsis:
 
  <Plugin "write_riemann">
@@ -6421,12 +7520,13 @@
      Protocol UDP
      StoreRates true
      AlwaysAppendDS false
      TTLFactor 2.0
    </Node>
    Tag "foobar"
+   Attribute "foo" "bar"
  </Plugin>
 
 The following options are understood by the I<write_riemann plugin>:
 
 =over 4
 
@@ -6447,26 +7547,45 @@
 
 Service name or port number to connect to. Defaults to C<5555>.
 
 =item B<Protocol> B<UDP>|B<TCP>
 
 Specify the protocol to use when communicating with I<Riemann>. Defaults to
-B<UDP>.
+B<TCP>.
+
+=item B<Batch> B<true>|B<false>
+
+If set to B<true> and B<Protocol> is set to B<TCP>,
+events will be batched in memory and flushed at
+regular intervals or when B<BatchMaxSize> is exceeded.
+
+Notifications are not batched and sent as soon as possible.
+
+When enabled, it can occur that events get processed by the Riemann server
+close to or after their expiration time. Tune the B<TTLFactor> and
+B<BatchMaxSize> settings according to the amount of values collected, if this
+is an issue.
+
+Defaults to true
+
+=item B<BatchMaxSize> I<size>
+
+Maximum payload size for a riemann packet. Defaults to 8192
 
 =item B<StoreRates> B<true>|B<false>
 
 If set to B<true> (the default), convert counter values to rates. If set to
 B<false> counter values are stored as is, i.e. as an increasing integer number.
 
 This will be reflected in the C<ds_type> tag: If B<StoreRates> is enabled,
 converted values will have "rate" appended to the data source type, e.g.
 C<ds_type:derive:rate>.
 
 =item B<AlwaysAppendDS> B<false>|B<true>
 
-If set to B<true>, append the name of the I<Data Source> (DS) to the
+If set the B<true>, append the name of the I<Data Source> (DS) to the
 "service", i.e. the field that, together with the "host" field, uniquely
 identifies a metric in I<Riemann>. If set to B<false> (the default), this is
 only done when there is more than one DS.
 
 =item B<TTLFactor> I<Factor>
 
@@ -6474,19 +7593,176 @@
 event is considered active. I<collectd> populates this field based on the
 metrics interval setting. This setting controls the factor with which the
 interval is multiplied to set the TTL. The default value is B<2.0>. Unless you
 know exactly what you're doing, you should only increase this setting from its
 default value.
 
+=item B<Notifications> B<false>|B<true>
+
+If set to B<true>, create riemann events for notifications. This is B<true>
+by default. When processing thresholds from write_riemann, it might prove
+useful to avoid getting notification events.
+
+=item B<CheckThresholds> B<false>|B<true>
+
+If set to B<true>, attach state to events based on thresholds defined
+in the B<Threshold> plugin. Defaults to B<false>.
+
+=item B<EventServicePrefix> I<String>
+
+Add the given string as a prefix to the event service name.
+If B<EventServicePrefix> not set or set to an empty string (""),
+no prefix will be used.
+
 =back
 
 =item B<Tag> I<String>
 
 Add the given string as an additional tag to the metric being sent to
 I<Riemann>.
 
+=item B<Attribute> I<String> I<String>
+
+Consider the two given strings to be the key and value of an additional
+attribute for each metric being sent out to I<Riemann>.
+
+=back
+
+=head2 Plugin C<write_sensu>
+
+The I<write_sensu plugin> will send values to I<Sensu>, a powerful stream
+aggregation and monitoring system. The plugin sends I<JSON> encoded data to
+a local I<Sensu> client using a TCP socket.
+
+At the moment, the I<write_sensu plugin> does not send over a collectd_host
+parameter so it is not possible to use one collectd instance as a gateway for
+others. Each collectd host must pair with one I<Sensu> client.
+
+Synopsis:
+
+ <Plugin "write_sensu">
+   <Node "example">
+     Host "localhost"
+     Port "3030"
+     StoreRates true
+     AlwaysAppendDS false
+     MetricHandler "influx"
+     MetricHandler "default"
+     NotificationHandler "flapjack"
+     NotificationHandler "howling_monkey"
+     Notifications true
+   </Node>
+   Tag "foobar"
+   Attribute "foo" "bar"
+ </Plugin>
+
+The following options are understood by the I<write_sensu plugin>:
+
+=over 4
+
+=item E<lt>B<Node> I<Name>E<gt>
+
+The plugin's configuration consists of one or more B<Node> blocks. Each block
+is given a unique I<Name> and specifies one connection to an instance of
+I<Sensu>. Inside the B<Node> block, the following per-connection options are
+understood:
+
+=over 4
+
+=item B<Host> I<Address>
+
+Hostname or address to connect to. Defaults to C<localhost>.
+
+=item B<Port> I<Service>
+
+Service name or port number to connect to. Defaults to C<3030>.
+
+=item B<StoreRates> B<true>|B<false>
+
+If set to B<true> (the default), convert counter values to rates. If set to
+B<false> counter values are stored as is, i.e. as an increasing integer number.
+
+This will be reflected in the C<collectd_data_source_type> tag: If
+B<StoreRates> is enabled, converted values will have "rate" appended to the
+data source type, e.g.  C<collectd_data_source_type:derive:rate>.
+
+=item B<AlwaysAppendDS> B<false>|B<true>
+
+If set the B<true>, append the name of the I<Data Source> (DS) to the
+"service", i.e. the field that, together with the "host" field, uniquely
+identifies a metric in I<Sensu>. If set to B<false> (the default), this is
+only done when there is more than one DS.
+
+=item B<Notifications> B<false>|B<true>
+
+If set to B<true>, create I<Sensu> events for notifications. This is B<false>
+by default. At least one of B<Notifications> or B<Metrics> should be enabled.
+
+=item B<Metrics> B<false>|B<true>
+
+If set to B<true>, create I<Sensu> events for metrics. This is B<false>
+by default. At least one of B<Notifications> or B<Metrics> should be enabled.
+
+
+=item B<Separator> I<String>
+
+Sets the separator for I<Sensu> metrics name or checks. Defaults to "/".
+
+=item B<MetricHandler> I<String>
+
+Add a handler that will be set when metrics are sent to I<Sensu>. You can add
+several of them, one per line. Defaults to no handler.
+
+=item B<NotificationHandler> I<String>
+
+Add a handler that will be set when notifications are sent to I<Sensu>. You can
+add several of them, one per line. Defaults to no handler.
+
+=item B<EventServicePrefix> I<String>
+
+Add the given string as a prefix to the event service name.
+If B<EventServicePrefix> not set or set to an empty string (""),
+no prefix will be used.
+
+=back
+
+=item B<Tag> I<String>
+
+Add the given string as an additional tag to the metric being sent to
+I<Sensu>.
+
+=item B<Attribute> I<String> I<String>
+
+Consider the two given strings to be the key and value of an additional
+attribute for each metric being sent out to I<Sensu>.
+
+=back
+
+=head2 Plugin C<zookeeper>
+
+The I<zookeeper plugin> will collect statistics from a I<Zookeeper> server
+using the mntr command.  It requires Zookeeper 3.4.0+ and access to the
+client port.
+
+B<Synopsis:>
+
+ <Plugin "zookeeper">
+   Host "127.0.0.1"
+   Port "2181"
+ </Plugin>
+
+=over 4
+
+=item B<Host> I<Address>
+
+Hostname or address to connect to. Defaults to C<localhost>.
+
+=item B<Port> I<Service>
+
+Service name or port number to connect to. Defaults to C<2181>.
+
 =back
 
 =head1 THRESHOLD CONFIGURATION
 
 Starting with version C<4.3.0> collectd has support for B<monitoring>. By that
 we mean that the values are not only stored or sent somewhere, but that they
@@ -7152,13 +8428,13 @@
  # Match all values smaller than or equal to 100. Matches only if all data
  # sources are below 100.
  <Match "value">
    Max 100
    Satisfy "All"
  </Match>
- 
+
  # Match if the value of any data source is outside the range of 0 - 100.
  <Match "value">
    Min   0
    Max 100
    Invert true
    Satisfy "Any"
@@ -7334,13 +8610,13 @@
 
 Example:
 
  <Target "replace">
    # Replace "example.net" with "example.com"
    Host "\\<example.net\\>" "example.com"
- 
+
    # Strip "www." from hostnames
    Host "\\<www\\." ""
  </Target>
 
 =item B<set>
 
@@ -7417,9 +8693,9 @@
 L<regex(7)>,
 L<rrdtool(1)>,
 L<sensors(1)>
 
 =head1 AUTHOR
 
-Florian Forster E<lt>octo@verplant.orgE<gt>
+Florian Forster E<lt>octo@collectd.orgE<gt>
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdctl.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdctl.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdctl.1	2016-07-26 15:48:07.721847477 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdctl.1	2015-03-10 22:29:57.380964860 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTDCTL 1"
-.TH COLLECTDCTL 1 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTDCTL 1 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectdctl \- Control interface for collectd
@@ -253,12 +253,12 @@
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 \&\fItypes.db\fR\|(5)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-collectd has been written by Florian Forster <octo at verplant.org>
+collectd has been written by Florian Forster <octo at collectd.org>
 and many contributors (see `\s-1AUTHORS\s0').
 .PP
 collectdctl has been written by
 HXkon J Dugstad Johnsen <hakon\-dugstad.johnsen\ at\ telenor.com>
 and Sebastian Harl <sh at tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdctl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdctl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdctl.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdctl.c	2015-03-10 22:14:45.821113976 +0800
@@ -96,13 +96,13 @@
       "  [<hostname>/]<plugin>[-<plugin_instance>]/<type>[-<type_instance>]\n\n"
 
       "Hostname defaults to the local hostname if omitted (e.g., uptime/uptime).\n"
       "No error is returned if the specified identifier does not exist.\n"
 
       "\n"PACKAGE" "VERSION", http://collectd.org/\n"
-      "by Florian octo Forster <octo@verplant.org>\n"
+      "by Florian octo Forster <octo@collectd.org>\n"
       "for contributions see `AUTHORS'\n"
       , name);
   exit (status);
 }
 
 /* Count the number of occurrences of the character 'chr'
@@ -548,20 +548,20 @@
 
   lcc_connection_t *c;
 
   int status;
 
   while (42) {
-    int n;
+    int c;
 
-    n = getopt (argc, argv, "s:h");
+    c = getopt (argc, argv, "s:h");
 
-    if (n == -1)
+    if (c == -1)
       break;
 
-    switch (n) {
+    switch (c) {
       case 's':
         snprintf (address, sizeof (address), "unix:%s", optarg);
         address[sizeof (address) - 1] = '\0';
         break;
       case 'h':
         exit_usage (argv[0], 0);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdctl.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdctl.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdctl.pod	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdctl.pod	2015-03-10 22:14:45.825114063 +0800
@@ -149,13 +149,13 @@
 L<collectd.conf(5)>,
 L<collectd-unixsock(5)>,
 L<types.db(5)>
 
 =head1 AUTHOR
 
-collectd has been written by Florian Forster E<lt>octo at verplant.orgE<gt>
+collectd has been written by Florian Forster E<lt>octo at collectd.orgE<gt>
 and many contributors (see `AUTHORS').
 
 collectdctl has been written by
 Hkon J Dugstad Johnsen E<lt>hakon-dugstad.johnsenE<nbsp>atE<nbsp>telenor.comE<gt>
 and Sebastian Harl E<lt>sh at tokkee.orgE<gt>.
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-email.5	2016-07-26 15:48:07.557847078 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-email.5	2015-03-10 22:29:57.164960167 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-EMAIL 5 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-email \- Documentation of collectd's "email plugin"
@@ -196,7 +196,7 @@
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 The \f(CW\*(C`email plugin\*(C'\fR has been written by Sebastian Harl <sh\ at\ tokkee.org>.
 .PP
 The SpamAssassin-plugin has been written by Alexander Wirt <formorer\ at\ formorer.de>.
 .PP
-This manpage has been written by Florian Forster <octo\ at\ verplant.org>.
+This manpage has been written by Florian Forster <octo\ at\ collectd.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-email.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-email.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-email.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-email.pod	2015-03-10 22:14:45.817113888 +0800
@@ -30,27 +30,27 @@
 This plugin collects data indirectly by providing a UNIX-socket that external
 programs can connect to. A simple line based protocol is used to communicate
 with the plugin:
 
 =over 4
 
-=item *
+=item
 
 E-Mail type (e.g. "ham", "spam", "virus", ...) and size (bytes):
 
   e:<type>:<size>
 
 If C<size> is less than or equal to zero, C<size> is ignored.
 
-=item *
+=item
 
 Spam score:
 
   s:<value>
 
-=item *
+=item
 
 Successful spam checks (e.g. "BAYES_99", "SUBJECT_DRUG_GAP_C", ...):
 
   c:<type1>[,<type2>,...]
 
 Each line is limited to 256 characters (including the newline character). 
@@ -66,9 +66,9 @@
 =head1 AUTHOR
 
 The C<email plugin> has been written by Sebastian Harl E<lt>shE<nbsp>atE<nbsp>tokkee.orgE<gt>.
 
 The SpamAssassin-plugin has been written by Alexander Wirt E<lt>formorerE<nbsp>atE<nbsp>formorer.deE<gt>.
 
-This manpage has been written by Florian Forster E<lt>octoE<nbsp>atE<nbsp>verplant.orgE<gt>.
+This manpage has been written by Florian Forster E<lt>octoE<nbsp>atE<nbsp>collectd.orgE<gt>.
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-exec.5	2016-07-26 15:48:07.645847292 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-exec.5	2015-05-21 04:02:33.068554446 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-EXEC 5 "2015-05-20" "5.4.2.911.g0c88d3b" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's "exec plugin"
@@ -151,13 +151,13 @@
 \&    Exec "otheruser" "/path/to/another/binary" "arg0" "arg1"
 \&    NotificationExec "user" "/usr/lib/collectd/exec/handle_notification"
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`exec plugin\*(C'\fR forks off an executable either to receive values or to
+The \f(CW\*(C`exec plugin\*(C'\fR forks of an executable either to receive values or to
 dispatch notifications to the outside world. The syntax of the configuration is
 explained in \fIcollectd.conf\fR\|(5) but summarized in the above synopsis.
 .PP
 If you want/need better performance or more functionality you should take a
 long look at the \f(CW\*(C`perl plugin\*(C'\fR, \fIcollectd\-perl\fR\|(5).
 .SH "EXECUTABLE TYPES"
@@ -173,13 +173,13 @@
 \&\fIInterval\fR seconds. It is perfectly legal for the executable to run for a long
 time and continuously write values to \f(CW\*(C`STDOUT\*(C'\fR.
 .Sp
 See \*(L"\s-1EXEC DATA FORMAT\*(R"\s0 below for a description of the output format expected
 from these programs.
 .Sp
-\&\fBWarning:\fR If the executable only writes one value and then exits it will be
+\&\fBWarning:\fR If the executable only writes one value and then exits I will be
 executed every \fIInterval\fR seconds. If \fIInterval\fR is short (the default is 10
 seconds) this may result in serious system load.
 .ie n .IP """NotificationExec""" 4
 .el .IP "\f(CWNotificationExec\fR" 4
 .IX Item "NotificationExec"
 The program is forked once for each notification that is handled by the daemon.
@@ -218,13 +218,13 @@
 double quotes.
 .Sp
 \&\fIValuelist\fR is a colon-separated list of the time and the values, each either
 an integer if the data-source is a counter, or a double if the data-source is
 of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
 submitting \fBU\fR to a counter the behavior is undefined. The time is given as
-epoch (i.\ e. standard \s-1UNIX\s0 time) or \fBN\fR to use the current time.
+epoch (i.\ e. standard \s-1UNIX\s0 time).
 .Sp
 You can mix options and values, but the order is important: Options only
 effect following values, so specifying an option as last field is allowed, but
 useless. Also, an option applies to \fBall\fR following values, so you don't need
 to re-set an option over and over again.
 .Sp
@@ -289,12 +289,24 @@
 collected performance data. This connection is purely informal, i.\ e. the
 daemon itself doesn't do anything with this information. However, websites or
 GUIs may use this information to place notifications near the affected graph or
 table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
 or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
 avoided.
+.IP "\fBtype:key=\fR\fIvalue\fR" 4
+.IX Item "type:key=value"
+Sets user defined meta information. The \fBtype\fR key is a single character
+defining the type of the meta information.
+.Sp
+The current supported types are:
+.RS 4
+.IP "\fBs\fR A string passed as-is." 8
+.IX Item "s A string passed as-is."
+.RE
+.RS 4
+.RE
 .RE
 .RS 4
 .RE
 .PP
 Please note that this is the same format as used in the \fBunixsock plugin\fR, see
 \&\fIcollectd\-unixsock\fR\|(5).
@@ -393,7 +405,7 @@
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 \&\fIfork\fR\|(2), \fIexec\fR\|(3)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+Florian Forster <octo@collectd.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-exec.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-exec.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-exec.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-exec.pod	2015-05-20 20:04:47.183035394 +0800
@@ -14,13 +14,13 @@
     Exec "otheruser" "/path/to/another/binary" "arg0" "arg1"
     NotificationExec "user" "/usr/lib/collectd/exec/handle_notification"
   </Plugin>
 
 =head1 DESCRIPTION
 
-The C<exec plugin> forks off an executable either to receive values or to
+The C<exec plugin> forks of an executable either to receive values or to
 dispatch notifications to the outside world. The syntax of the configuration is
 explained in L<collectd.conf(5)> but summarized in the above synopsis.
 
 If you want/need better performance or more functionality you should take a
 long look at the C<perl plugin>, L<collectd-perl(5)>.
 
@@ -39,13 +39,13 @@
 I<Interval> seconds. It is perfectly legal for the executable to run for a long
 time and continuously write values to C<STDOUT>.
 
 See L<EXEC DATA FORMAT> below for a description of the output format expected
 from these programs.
 
-B<Warning:> If the executable only writes one value and then exits it will be
+B<Warning:> If the executable only writes one value and then exits I will be
 executed every I<Interval> seconds. If I<Interval> is short (the default is 10
 seconds) this may result in serious system load.
 
 =item C<NotificationExec>
 
 The program is forked once for each notification that is handled by the daemon.
@@ -91,13 +91,13 @@
 double quotes.
 
 I<Valuelist> is a colon-separated list of the time and the values, each either
 an integer if the data-source is a counter, or a double if the data-source is
 of type "gauge". You can submit an undefined gauge-value by using B<U>. When
 submitting B<U> to a counter the behavior is undefined. The time is given as
-epoch (i.E<nbsp>e. standard UNIX time) or B<N> to use the current time.
+epoch (i.E<nbsp>e. standard UNIX time).
 
 You can mix options and values, but the order is important: Options only
 effect following values, so specifying an option as last field is allowed, but
 useless. Also, an option applies to B<all> following values, so you don't need
 to re-set an option over and over again.
 
@@ -166,12 +166,25 @@
 daemon itself doesn't do anything with this information. However, websites or
 GUIs may use this information to place notifications near the affected graph or
 table. All the options are optional, but B<plugin_instance> without B<plugin>
 or B<type_instance> without B<type> doesn't make much sense and should be
 avoided.
 
+=item B<type:key=>I<value>
+
+Sets user defined meta information. The B<type> key is a single character
+defining the type of the meta information.
+
+The current supported types are:
+
+=over 8
+
+=item B<s> A string passed as-is.
+
+=back
+
 =back
 
 =back
 
 Please note that this is the same format as used in the B<unixsock plugin>, see
 L<collectd-unixsock(5)>.
@@ -265,18 +278,18 @@
 to make use of collectd's more powerful interface.
 
 =head1 CAVEATS
 
 =over 4
 
-=item *
+=item
 
 The user, the binary is executed as, may not have root privileges, i.E<nbsp>e.
 must have an UID that is non-zero. This is for your own good.
 
-=item *
+=item
 
 Early versions of the plugin did not use a command but treated all lines as if
 they were arguments to the I<PUTVAL> command. When the I<PUTNOTIF> command was
 implemented, this behavior was kept for lines which start with an unknown
 command for backwards compatibility. This compatibility code has been removed
 in I<collectdE<nbsp>5>.
@@ -290,9 +303,9 @@
 L<collectd-perl(5)>,
 L<collectd-unixsock(5)>,
 L<fork(2)>, L<exec(3)>
 
 =head1 AUTHOR
 
-Florian Forster E<lt>octo@verplant.orgE<gt>
+Florian Forster E<lt>octo@collectd.orgE<gt>
 
 =cut
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: collectd.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-java.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-java.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-java.5	2016-07-26 15:48:07.869847837 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-java.5	2015-03-10 22:29:57.560968771 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-JAVA 5"
-.TH COLLECTD-JAVA 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-JAVA 5 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-java \- Documentation of collectd's "java plugin"
@@ -735,7 +735,7 @@
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
 \&\fItypes.db\fR\|(5)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo\ at\ verplant.org>
+Florian Forster <octo\ at\ collectd.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-java.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-java.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-java.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-java.pod	2015-03-10 22:14:45.821113976 +0800
@@ -690,8 +690,8 @@
 L<collectd.conf(5)>,
 L<collectd-perl(5)>,
 L<types.db(5)>
 
 =head1 AUTHOR
 
-Florian Forster E<lt>octoE<nbsp>atE<nbsp>verplant.orgE<gt>
+Florian Forster E<lt>octoE<nbsp>atE<nbsp>collectd.orgE<gt>
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdmon.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdmon.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdmon.1	2016-07-26 15:48:07.953848042 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdmon.1	2015-03-10 22:29:57.444966250 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTDMON 1"
-.TH COLLECTDMON 1 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTDMON 1 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectdmon \- Monitoring daemon for collectd
@@ -181,10 +181,10 @@
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 <http://collectd.org/>
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-collectd has been written by Florian Forster <octo at verplant.org>
+collectd has been written by Florian Forster <octo at collectd.org>
 and many contributors (see `\s-1AUTHORS\s0').
 .PP
 collectdmon has been written by Sebastian Harl <sh@tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdmon.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdmon.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdmon.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdmon.c	2015-03-10 22:14:45.825114063 +0800
@@ -1,24 +1,29 @@
 /**
  * collectd - src/collectdmon.c
- * Copyright (C) 2007  Sebastian Harl
+ * Copyright (C) 2007       Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
+ * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
 #if !defined(__GNUC__) || !__GNUC__
 # define __attribute__(x) /**/
 #endif
@@ -73,13 +78,13 @@
 			"  -c <path>  Path to the collectd binary.\n"
 			"  -P <file>  PID-file.\n"
 
 			"\nFor <collectd options> see collectd.conf(5).\n"
 
 			"\n"PACKAGE" "VERSION", http://collectd.org/\n"
-			"by Florian octo Forster <octo@verplant.org>\n"
+			"by Florian octo Forster <octo@collectd.org>\n"
 			"for contributions see `AUTHORS'\n", name);
 	exit (0);
 } /* exit_usage */
 
 static int pidfile_create (void)
 {
@@ -309,38 +314,32 @@
 
 	collectd_argv[collectd_argc] = NULL;
 
 	openlog ("collectdmon", LOG_CONS | LOG_PID, LOG_DAEMON);
 
 	if (-1 == daemonize ())
-	{
-		free (collectd_argv);
 		return 1;
-	}
 
 	sa.sa_handler = sig_int_term_handler;
 	sa.sa_flags   = 0;
 	sigemptyset (&sa.sa_mask);
 
 	if (0 != sigaction (SIGINT, &sa, NULL)) {
 		syslog (LOG_ERR, "Error: sigaction() failed: %s", strerror (errno));
-		free (collectd_argv);
 		return 1;
 	}
 
 	if (0 != sigaction (SIGTERM, &sa, NULL)) {
 		syslog (LOG_ERR, "Error: sigaction() failed: %s", strerror (errno));
-		free (collectd_argv);
 		return 1;
 	}
 
 	sa.sa_handler = sig_hup_handler;
 
 	if (0 != sigaction (SIGHUP, &sa, NULL)) {
 		syslog (LOG_ERR, "Error: sigaction() failed: %s", strerror (errno));
-		free (collectd_argv);
 		return 1;
 	}
 
 	while (0 == loop) {
 		int status = 0;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdmon.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdmon.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectdmon.pod	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectdmon.pod	2015-03-10 22:14:45.825114063 +0800
@@ -64,12 +64,12 @@
 L<collectd(1)>,
 L<collectd.conf(5)>,
 L<http://collectd.org/>
 
 =head1 AUTHOR
 
-collectd has been written by Florian Forster E<lt>octo at verplant.orgE<gt>
+collectd has been written by Florian Forster E<lt>octo at collectd.orgE<gt>
 and many contributors (see `AUTHORS').
 
 collectdmon has been written by Sebastian Harl E<lt>sh@tokkee.orgE<gt>.
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-nagios.1	2016-07-26 15:48:08.041848256 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-nagios.1	2015-03-10 22:29:57.552968596 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-NAGIOS 1 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
@@ -236,7 +236,7 @@
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 <http://nagios.org/>
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo\ at\ verplant.org>
+Florian Forster <octo\ at\ collectd.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-nagios.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-nagios.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-nagios.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-nagios.c	2015-03-10 22:14:45.821113976 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd-nagios - src/collectd-nagios.c
  * Copyright (C) 2008-2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #if HAVE_CONFIG_H
 # include "config.h"
 #endif
 
@@ -300,13 +305,14 @@
 
 		if ((hostname_g != NULL) && (strcasecmp (hostname_g, ret_ident[i].host)))
 			continue;
 
 		if ((hostname == NULL) || strcasecmp (hostname, ret_ident[i].host))
 		{
-			free (hostname);
+			if (hostname != NULL)
+				free (hostname);
 			hostname = strdup (ret_ident[i].host);
 			printf ("Host: %s\n", hostname);
 		}
 
 		/* empty hostname; not to be printed again */
 		ret_ident[i].host[0] = '\0';
@@ -314,23 +320,21 @@
 		status = lcc_identifier_to_string (connection,
 				id, sizeof (id), ret_ident + i);
 		if (status != 0) {
 			printf ("ERROR: listval: Failed to convert returned "
 					"identifier to a string: %s\n",
 					lcc_strerror (connection));
-			free (hostname);
-			hostname = NULL;
 			continue;
 		}
 
 		/* skip over the (empty) hostname and following '/' */
 		printf ("\t%s\n", id + 1);
 	}
 
-	free (ret_ident);
-	free (hostname);
+	if (ret_ident != NULL)
+		free (ret_ident);
 	return (RET_OKAY);
 } /* int do_listval */
 
 static int do_check_con_none (size_t values_num,
 		double *values, char **values_names)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-nagios.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-nagios.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-nagios.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-nagios.pod	2015-03-10 22:14:45.821113976 +0800
@@ -118,9 +118,9 @@
 L<collectd.conf(5)>,
 L<collectd-unixsock(5)>,
 L<http://nagios.org/>
 
 =head1 AUTHOR
 
-Florian Forster E<lt>octoE<nbsp>atE<nbsp>verplant.orgE<gt>
+Florian Forster E<lt>octoE<nbsp>atE<nbsp>collectd.orgE<gt>
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-perl.5	2016-07-26 15:48:08.157848538 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-perl.5	2015-05-21 04:02:33.212556949 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-PERL 5 "2015-05-20" "5.4.2.911.g0c88d3b" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-perl \- Documentation of collectd's "perl plugin"
@@ -793,13 +793,13 @@
 See the section \*(L"\s-1DATA TYPES\*(R"\s0 above for a complete documentation of the data
 types used by the read, write and match functions.
 .SH "NOTES"
 .IX Header "NOTES"
 .IP "\(bu" 4
 Please feel free to send in new plugins to collectd's mailing list at
-<collectd\ at\ verplant.org> for review and, possibly,
+<collectd\ at\ collectd.org> for review and, possibly,
 inclusion in the main distribution. In the latter case, we will take care of
 keeping the plugin up to date and adapting it to new versions of collectd.
 .Sp
 Before submitting your plugin, please take a look at
 <http://collectd.org/dev\-info.shtml>.
 .SH "CAVEATS"
@@ -851,8 +851,8 @@
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 The \f(CW\*(C`perl plugin\*(C'\fR has been written by Sebastian Harl
 <sh\ at\ tokkee.org>.
 .PP
 This manpage has been written by Florian Forster
-<octo\ at\ verplant.org> and Sebastian Harl
+<octo\ at\ collectd.org> and Sebastian Harl
 <sh\ at\ tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-perl.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-perl.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-perl.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-perl.pod	2015-05-20 20:04:47.183035394 +0800
@@ -702,57 +702,57 @@
 types used by the read, write and match functions.
 
 =head1 NOTES
 
 =over 4
 
-=item *
+=item
 
 Please feel free to send in new plugins to collectd's mailing list at
-E<lt>collectdE<nbsp>atE<nbsp>verplant.orgE<gt> for review and, possibly,
+E<lt>collectdE<nbsp>atE<nbsp>collectd.orgE<gt> for review and, possibly,
 inclusion in the main distribution. In the latter case, we will take care of
 keeping the plugin up to date and adapting it to new versions of collectd.
 
 Before submitting your plugin, please take a look at
 L<http://collectd.org/dev-info.shtml>.
 
 =back
 
 =head1 CAVEATS
 
 =over 4
 
-=item *
+=item
 
 collectd is heavily multi-threaded. Each collectd thread accessing the perl
 plugin will be mapped to a Perl interpreter thread (see L<threads(3perl)>).
 Any such thread will be created and destroyed transparently and on-the-fly.
 
 Hence, any plugin has to be thread-safe if it provides several entry points
 from collectd (i.E<nbsp>e. if it registers more than one callback or if a
 registered callback may be called more than once in parallel). Please note
 that no data is shared between threads by default. You have to use the
 B<threads::shared> module to do so.
 
-=item *
+=item
 
 Each function name registered with collectd has to be available before the
 first thread has been created (i.E<nbsp>e. basically at compile time). This
 basically means that hacks (yes, I really consider this to be a hack) like
 C<*foo = \&bar; plugin_register (TYPE_READ, "plugin", "foo");> most likely
 will not work. This is due to the fact that the symbol table is not shared
 across different threads.
 
-=item *
+=item
 
 Each plugin is usually only loaded once and kept in memory for performance
 reasons. Therefore, END blocks are only executed once when collectd shuts
 down. You should not rely on END blocks anyway - use B<shutdown functions>
 instead.
 
-=item *
+=item
 
 The perl plugin exports the internal API of collectd which is considered
 unstable and subject to change at any time. We try hard to not break backwards
 compatibility in the Perl API during the life cycle of one major release.
 However, this cannot be guaranteed at all times. Watch out for warnings
 dispatched by the perl plugin after upgrades.
@@ -760,13 +760,13 @@
 =back
 
 =head1 KNOWN BUGS
 
 =over 4
 
-=item *
+=item
 
 Currently, it is not possible to flush a single Perl plugin only. You can
 either flush all Perl plugins or none at all and you have to use C<perl> as
 plugin name when doing so.
 
 =back
@@ -785,11 +785,11 @@
 =head1 AUTHOR
 
 The C<perl plugin> has been written by Sebastian Harl
 E<lt>shE<nbsp>atE<nbsp>tokkee.orgE<gt>.
 
 This manpage has been written by Florian Forster
-E<lt>octoE<nbsp>atE<nbsp>verplant.orgE<gt> and Sebastian Harl
+E<lt>octoE<nbsp>atE<nbsp>collectd.orgE<gt> and Sebastian Harl
 E<lt>shE<nbsp>atE<nbsp>tokkee.orgE<gt>.
 
 =cut
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd.pod	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd.pod	2015-03-10 22:14:45.821113976 +0800
@@ -46,13 +46,17 @@
 config-option.
 
 =item B<-f>
 
 Don't fork to the background. I<collectd> will also B<not> close standard file
 descriptors, detach from the session nor write a pid file. This is mainly
-thought for 'supervising' init replacements such as I<runit>.
+thought for 'supervising' init replacements such as I<runit>. If using
+I<upstart> or I<systemd> though, starting with version 5.5.0 I<collectd> is
+able to notify these two init replacements, and B<does> require forking to the
+background for process supervision. The F<contrib/> directory has sample
+I<upstart> and I<systemd> configuration files.
 
 =item B<-h>
 
 Output usage information and exit.
 
 =back
@@ -65,21 +69,21 @@
 package it's a good bet to search somewhere near F</usr/share/doc/collectd>.
 
 There are two big groups of plugins, B<input> and B<output> plugins:
 
 =over 4
 
-=item *
+=item
 
 Input plugins are queried periodically. They somehow acquire the current value
 of whatever they where designed to work with and submit these values back to
 the daemon, i. e. they "dispatch" the values. As an example, the C<cpu plugin>
 reads the current cpu-counters of time spent in the various modes (user,
 system, nice, ...) and dispatches these counters to the daemon.
 
-=item *
+=item
 
 Output plugins get the dispatched values from the daemon and does something
 with them. Common applications are writing to RRD-files, CSV-files or sending
 the data over a network link to a remote box.
 
 =back
@@ -135,9 +139,9 @@
 L<collectd-unixsock(5)>,
 L<types.db(5)>,
 L<http://collectd.org/>
 
 =head1 AUTHOR
 
-Florian Forster E<lt>octo@verplant.orgE<gt>
+Florian Forster E<lt>octo@collectd.orgE<gt>
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-python.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-python.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-python.5	2016-07-26 15:48:08.281848841 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-python.5	2015-05-21 04:02:33.380559869 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PYTHON 5"
-.TH COLLECTD-PYTHON 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-PYTHON 5 "2015-05-20" "5.4.2.911.g0c88d3b" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-python \- Documentation of collectd's "python plugin"
@@ -170,18 +170,20 @@
 .IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
 .IX Item "LoadPlugin Plugin"
 Loads the Python plugin \fIPlugin\fR.
 .IP "\fBEncoding\fR \fIName\fR" 4
 .IX Item "Encoding Name"
 The default encoding for Unicode objects you pass to collectd. If you omit this
-option it will default to \fBascii\fR on \fIPython 2\fR and \fButf\-8\fR on \fIPython 3\fR.
-This is hardcoded in Python and will ignore everything else, including your
-locale.
+option it will default to \fBascii\fR on \fIPython 2\fR. On \fIPython 3\fR it will
+always be \fButf\-8\fR, as this function was removed, so this will be silently
+ignored.
+These defaults are hardcoded in Python and will ignore everything else,
+including your locale.
 .IP "\fBModulePath\fR \fIName\fR" 4
 .IX Item "ModulePath Name"
-Appends \fIName\fR to \fBsys.path\fR. You won't be able to import any scripts you
+Prepends \fIName\fR to \fBsys.path\fR. You won't be able to import any scripts you
 wrote unless they are located in one of the directories in this list. Please
 note that it only has effect on plugins loaded after this option. You can
 use multiple \fBModulePath\fR lines to add more than one directory.
 .IP "\fBLogTraces\fR \fIbool\fR" 4
 .IX Item "LogTraces bool"
 If a Python script throws an exception it will be logged by collectd with the
@@ -588,13 +590,13 @@
 Note that you cannot receive the whole config files this way, only \fBModule\fR
 blocks inside the Python configuration block. Additionally you will only
 receive blocks where your callback identifier matches \fBpython.\fR\fIblockname\fR.
 .IP "register_init" 4
 .IX Item "register_init"
 The callback will be called without arguments.
-.IP "register_read(callback[, interval][, data][, name]) \-> identifier" 4
+.IP "register_read(callback[, interval][, data][, name]) \-> \fIidentifier\fR" 4
 .IX Item "register_read(callback[, interval][, data][, name]) -> identifier"
 This function takes an additional parameter: \fIinterval\fR. It specifies the
 time between calls to the callback function.
 .Sp
 The callback will be called without arguments.
 .IP "register_shutdown" 4
@@ -636,14 +638,35 @@
 .IX Item "unregister_*(identifier) -> None"
 Removes a callback or data-set from collectd's internal list of callback
 functions. Every \fIregister_*\fR function has an \fIunregister_*\fR function.
 \&\fIidentifier\fR is either the string that was returned by the register function
 or a callback function. The identifier will be constructed in the same way as
 for the register functions.
-.IP "\fBflush\fR(\fIplugin[, timeout][, identifier]) \-\fR None" 4
-.IX Item "flush(plugin[, timeout][, identifier]) - None"
+.IP "\fBget_dataset\fR(\fIname\fR) \-> \fIdefinition\fR" 4
+.IX Item "get_dataset(name) -> definition"
+Returns the definition of a dataset specified by \fIname\fR. \fIdefinition\fR is a list
+of tuples, each representing one data source. Each tuple has 4 values:
+.RS 4
+.IP "name" 4
+.IX Item "name"
+A string, the name of the data source.
+.IP "type" 4
+.IX Item "type"
+A string that is equal to either of the variables \fB\s-1DS_TYPE_COUNTER\s0\fR,
+\&\fB\s-1DS_TYPE_GAUGE\s0\fR, \fB\s-1DS_TYPE_DERIVE\s0\fR or \fB\s-1DS_TYPE_ABSOLUTE\s0\fR.
+.IP "min" 4
+.IX Item "min"
+A float or None, the minimum value.
+.IP "max" 4
+.IX Item "max"
+A float or None, the maximum value.
+.RE
+.RS 4
+.RE
+.IP "\fBflush\fR(\fIplugin\fR[, \fItimeout\fR][, \fIidentifier\fR]) \-> None" 4
+.IX Item "flush(plugin[, timeout][, identifier]) -> None"
 Flush one or all plugins. \fItimeout\fR and the specified \fIidentifiers\fR are
 passed on to the registered flush-callbacks. If omitted, the timeout defaults
 to \f(CW\*(C`\-1\*(C'\fR. The identifier defaults to None. If the \fBplugin\fR argument has been
 specified, only named plugin will be flushed.
 .IP "\fBerror\fR, \fBwarning\fR, \fBnotice\fR, \fBinfo\fR, \fBdebug\fR(\fImessage\fR)" 4
 .IX Item "error, warning, notice, info, debug(message)"
@@ -683,13 +706,13 @@
 See the section \*(L"\s-1CLASSES\*(R"\s0 above for a complete documentation of the data
 types used by the read, write and match functions.
 .SH "NOTES"
 .IX Header "NOTES"
 .IP "\(bu" 4
 Please feel free to send in new plugins to collectd's mailing list at
-<collectd\ at\ verplant.org> for review and, possibly,
+<collectd\ at\ collectd.org> for review and, possibly,
 inclusion in the main distribution. In the latter case, we will take care of
 keeping the plugin up to date and adapting it to new versions of collectd.
 .Sp
 Before submitting your plugin, please take a look at
 <http://collectd.org/dev\-info.shtml>.
 .SH "CAVEATS"
@@ -730,8 +753,8 @@
 The \f(CW\*(C`python plugin\*(C'\fR has been written by
 Sven Trenkel <collectd\ at\ semidefinite.de>.
 .PP
 This manpage has been written by Sven Trenkel
 <collectd\ at\ semidefinite.de>.
 It is based on the \fIcollectd\-perl\fR\|(5) manual page by
-Florian Forster <octo\ at\ verplant.org> and
+Florian Forster <octo\ at\ collectd.org> and
 Sebastian Harl <sh\ at\ tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-python.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-python.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-python.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-python.pod	2015-05-20 20:04:47.183035394 +0800
@@ -47,19 +47,21 @@
 
 Loads the Python plugin I<Plugin>.
 
 =item B<Encoding> I<Name>
 
 The default encoding for Unicode objects you pass to collectd. If you omit this
-option it will default to B<ascii> on I<Python 2> and B<utf-8> on I<Python 3>.
-This is hardcoded in Python and will ignore everything else, including your
-locale.
+option it will default to B<ascii> on I<Python 2>. On I<Python 3> it will
+always be B<utf-8>, as this function was removed, so this will be silently
+ignored.
+These defaults are hardcoded in Python and will ignore everything else,
+including your locale.
 
 =item B<ModulePath> I<Name>
 
-Appends I<Name> to B<sys.path>. You won't be able to import any scripts you
+Prepends I<Name> to B<sys.path>. You won't be able to import any scripts you
 wrote unless they are located in one of the directories in this list. Please
 note that it only has effect on plugins loaded after this option. You can
 use multiple B<ModulePath> lines to add more than one directory.
 
 =item B<LogTraces> I<bool>
 
@@ -82,28 +84,28 @@
 
 This interactive session will behave slightly differently from a daemonized
 collectd script as well as from a normal Python interpreter:
 
 =over 4
 
-=item *
+=item
 
 B<1.> collectd will try to import the B<readline> module to give you a decent
 way of entering your commands. The daemonized collectd won't do that.
 
-=item *
+=item
 
 B<2.> collectd will block I<SIGINT>. Pressing I<Ctrl+C> will usually cause
 collectd to shut down. This would be problematic in an interactive session,
 therefore this signal will be blocked. You can still use it to interrupt
 syscalls like sleep and pause but it won't generate a I<KeyboardInterrupt>
 exception either.
 
 To quit collectd send I<EOF> (press I<Ctrl+D> at the beginning of a new line).
 
-=item *
+=item
 
 B<3.> collectd handles I<SIGCHLD>. This means that Python won't be able to
 determine the return code of spawned processes with system(), popen() and
 subprocess. This will result in Python not using external programs like less
 to display help texts. You can override this behavior with the B<PAGER>
 environment variable, e.g. I<export PAGER=less> before starting collectd.
@@ -510,32 +512,32 @@
 
 There are eight different register functions to get callback for eight
 different events. With one exception all of them are called as shown above.
 
 =over 4
 
-=item *
+=item
 
 I<callback> is a callable object that will be called every time the event is
 triggered.
 
-=item *
+=item
 
 I<data> is an optional object that will be passed back to the callback function
 every time it is called. If you omit this parameter no object is passed back to
 your callback, not even None.
 
-=item *
+=item
 
 I<name> is an optional identifier for this callback. The default name is
 B<python>.I<module>. I<module> is taken from the B<__module__> attribute of
 your callback function. Every callback needs a unique identifier, so if you
 want to register the same callback multiple times in the same module you need to
 specify a name here. Otherwise it's safe to ignore this parameter.
 
-=item *
+=item
 
 I<identifier> is the full identifier assigned to this callback.
 
 =back
 
 These functions are called in the various stages of the daemon (see the section
@@ -552,13 +554,13 @@
 receive blocks where your callback identifier matches B<python.>I<blockname>.
 
 =item register_init
 
 The callback will be called without arguments.
 
-=item register_read(callback[, interval][, data][, name]) -> identifier
+=item register_read(callback[, interval][, data][, name]) -> I<identifier>
 
 This function takes an additional parameter: I<interval>. It specifies the
 time between calls to the callback function.
 
 The callback will be called without arguments.
 
@@ -606,13 +608,39 @@
 Removes a callback or data-set from collectd's internal list of callback
 functions. Every I<register_*> function has an I<unregister_*> function.
 I<identifier> is either the string that was returned by the register function
 or a callback function. The identifier will be constructed in the same way as
 for the register functions.
 
-=item B<flush>(I<plugin[, timeout][, identifier]) -> None
+=item B<get_dataset>(I<name>) -> I<definition>
+
+Returns the definition of a dataset specified by I<name>. I<definition> is a list
+of tuples, each representing one data source. Each tuple has 4 values:
+
+=over 4
+
+=item name
+
+A string, the name of the data source.
+
+=item type
+
+A string that is equal to either of the variables B<DS_TYPE_COUNTER>,
+B<DS_TYPE_GAUGE>, B<DS_TYPE_DERIVE> or B<DS_TYPE_ABSOLUTE>.
+
+=item min
+
+A float or None, the minimum value.
+
+=item max
+
+A float or None, the maximum value.
+
+=back
+
+=item B<flush>(I<plugin>[, I<timeout>][, I<identifier>]) -> None
 
 Flush one or all plugins. I<timeout> and the specified I<identifiers> are
 passed on to the registered flush-callbacks. If omitted, the timeout defaults
 to C<-1>. The identifier defaults to None. If the B<plugin> argument has been
 specified, only named plugin will be flushed.
 
@@ -650,45 +678,45 @@
 types used by the read, write and match functions.
 
 =head1 NOTES
 
 =over 4
 
-=item *
+=item
 
 Please feel free to send in new plugins to collectd's mailing list at
-E<lt>collectdE<nbsp>atE<nbsp>verplant.orgE<gt> for review and, possibly,
+E<lt>collectdE<nbsp>atE<nbsp>collectd.orgE<gt> for review and, possibly,
 inclusion in the main distribution. In the latter case, we will take care of
 keeping the plugin up to date and adapting it to new versions of collectd.
 
 Before submitting your plugin, please take a look at
 L<http://collectd.org/dev-info.shtml>.
 
 =back
 
 =head1 CAVEATS
 
 =over 4
 
-=item *
+=item
 
 collectd is heavily multi-threaded. Each collectd thread accessing the Python
 plugin will be mapped to a Python interpreter thread. Any such thread will be
 created and destroyed transparently and on-the-fly.
 
 Hence, any plugin has to be thread-safe if it provides several entry points
 from collectd (i.E<nbsp>e. if it registers more than one callback or if a
 registered callback may be called more than once in parallel).
 
-=item *
+=item
 
 The Python thread module is initialized just before calling the init callbacks.
 This means you must not use Python's threading module prior to this point. This
 includes all config and possibly other callback as well.
 
-=item *
+=item
 
 The python plugin exports the internal API of collectd which is considered
 unstable and subject to change at any time. We try hard to not break backwards
 compatibility in the Python API during the life cycle of one major release.
 However, this cannot be guaranteed at all times. Watch out for warnings
 dispatched by the python plugin after upgrades.
@@ -696,13 +724,13 @@
 =back
 
 =head1 KNOWN BUGS
 
 =over 4
 
-=item *
+=item
 
 Not all aspects of the collectd API are accessible from Python. This includes
 but is not limited to filters and data sets.
 
 =back
 
@@ -720,10 +748,10 @@
 The C<python plugin> has been written by
 Sven Trenkel E<lt>collectdE<nbsp>atE<nbsp>semidefinite.deE<gt>.
 
 This manpage has been written by Sven Trenkel
 E<lt>collectdE<nbsp>atE<nbsp>semidefinite.deE<gt>.
 It is based on the L<collectd-perl(5)> manual page by
-Florian Forster E<lt>octoE<nbsp>atE<nbsp>verplant.orgE<gt> and
+Florian Forster E<lt>octoE<nbsp>atE<nbsp>collectd.orgE<gt> and
 Sebastian Harl E<lt>shE<nbsp>atE<nbsp>tokkee.orgE<gt>.
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-snmp.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-snmp.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-snmp.5	2016-07-26 15:48:08.377849074 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-snmp.5	2015-03-10 22:29:57.812974246 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-SNMP 5"
-.TH COLLECTD-SNMP 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-SNMP 5 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-snmp \- Documentation of collectd's "snmp plugin"
@@ -177,12 +177,23 @@
 \&    <Host "some.server.mydomain.org">
 \&      Address "192.168.0.42"
 \&      Version 2
 \&      Community "another_string"
 \&      Collect "std_traffic" "hr_users"
 \&    </Host>
+\&    <Host "secure.router.mydomain.org">
+\&      Address "192.168.0.7"
+\&      Version 3
+\&      SecurityLevel "authPriv"
+\&      Username "cosmo"
+\&      AuthProtocol "SHA"
+\&      AuthPassphrase "setec_astronomy"
+\&      PrivacyProtocol "AES"
+\&      PrivacyPassphrase "too_many_secrets"
+\&      Collect "std_traffic"
+\&    </Host>
 \&    <Host "some.ups.mydomain.org">
 \&      Address "192.168.0.3"
 \&      Version 1
 \&      Community "more_communities"
 \&      Collect "powerplus_voltge_input"
 \&      Interval 300
@@ -299,13 +310,13 @@
 If \fBTable\fR is set to \fIfalse\fR, each \fI\s-1OID\s0\fR must be the \s-1OID\s0 of exactly one
 value, e.\ g. \f(CW\*(C`IF\-MIB::ifInOctets.3\*(C'\fR for the third counter of incoming
 traffic.
 .IP "\fBScale\fR \fIValue\fR" 4
 .IX Item "Scale Value"
 The gauge-values returned by the SNMP-agent are multiplied by \fIValue\fR.  This
-is useful when values are transfered as a fixed point real number. For example,
+is useful when values are transferred as a fixed point real number. For example,
 thermometers may transfer \fB243\fR but actually mean \fB24.3\fR, so you can specify
 a scale value of \fB0.1\fR to correct this. The default value is, of course,
 \&\fB1.0\fR.
 .Sp
 This value is not applied to counter-values.
 .IP "\fBShift\fR \fIValue\fR" 4
@@ -313,29 +324,59 @@
 \&\fIValue\fR is added to gauge-values returned by the SNMP-agent after they have
 been multiplied by any \fBScale\fR value. If, for example, a thermometer returns
 degrees Kelvin you could specify a shift of \fB273.15\fR here to store values in
 degrees Celsius. The default value is, of course, \fB0.0\fR.
 .Sp
 This value is not applied to counter-values.
+.IP "\fBIgnore\fR \fIValue\fR [, \fIValue\fR ...]" 4
+.IX Item "Ignore Value [, Value ...]"
+The ignore values allows to ignore Instances based on their name and the patterns
+specified by the various values you've entered. The match is a glob-type shell
+matching.
+.IP "\fBInvertMatch\fR \fItrue|false(default)\fR" 4
+.IX Item "InvertMatch true|false(default)"
+The invertmatch value should be use in combination of the Ignore option.
+It changes the behaviour of the Ignore option, from a blacklist behaviour
+when InvertMatch is set to false, to a whitelist when specified to true.
 .SS "The Host block"
 .IX Subsection "The Host block"
 The \fBHost\fR block defines which hosts to query, which \s-1SNMP\s0 community and
 version to use and which of the defined \fBData\fR to query.
 .PP
 The argument passed to the \fBHost\fR block is used as the hostname in the data
 stored by collectd.
 .IP "\fBAddress\fR \fIIP-Address\fR|\fIHostname\fR" 4
 .IX Item "Address IP-Address|Hostname"
 Set the address to connect to.
-.IP "\fBVersion\fR \fB1\fR|\fB2\fR" 4
-.IX Item "Version 1|2"
+.IP "\fBVersion\fR \fB1\fR|\fB2\fR|\fB3\fR" 4
+.IX Item "Version 1|2|3"
 Set the \s-1SNMP\s0 version to use. When giving \fB2\fR version \f(CW\*(C`2c\*(C'\fR is actually used.
-Version 3 is not supported by this plugin.
 .IP "\fBCommunity\fR \fICommunity\fR" 4
 .IX Item "Community Community"
-Pass \fICommunity\fR to the host.
+Pass \fICommunity\fR to the host. (Ignored for SNMPv3).
+.IP "\fBUsername\fR \fIUsername\fR" 4
+.IX Item "Username Username"
+Sets the \fIUsername\fR to use for SNMPv3 security.
+.IP "\fBSecurityLevel\fR \fIauthPriv\fR|\fIauthNoPriv\fR|\fInoAuthNoPriv\fR" 4
+.IX Item "SecurityLevel authPriv|authNoPriv|noAuthNoPriv"
+Selects the security level for SNMPv3 security.
+.IP "\fBContext\fR \fIContext\fR" 4
+.IX Item "Context Context"
+Sets the \fIContext\fR for SNMPv3 security.
+.IP "\fBAuthProtocol\fR \fI\s-1MD5\s0\fR|\fI\s-1SHA\s0\fR" 4
+.IX Item "AuthProtocol MD5|SHA"
+Selects the authentication protocol for SNMPv3 security.
+.IP "\fBAuthPassphrase\fR \fIPassphrase\fR" 4
+.IX Item "AuthPassphrase Passphrase"
+Sets the authentication passphrase for SNMPv3 security.
+.IP "\fBPrivacyProtocol\fR \fI\s-1AES\s0\fR|\fI\s-1DES\s0\fR" 4
+.IX Item "PrivacyProtocol AES|DES"
+Selects the privacy (encryption) protocol for SNMPv3 security.
+.IP "\fBPrivacyPassphrase\fR \fIPassphrase\fR" 4
+.IX Item "PrivacyPassphrase Passphrase"
+Sets the privacy (encryption) passphrase for SNMPv3 security.
 .IP "\fBCollect\fR \fIData\fR [\fIData\fR ...]" 4
 .IX Item "Collect Data [Data ...]"
 Defines which values to collect. \fIData\fR refers to one of the \fBData\fR block
 above. Since the config file is read top-down you need to define the data
 before using it here.
 .IP "\fBInterval\fR \fISeconds\fR" 4
@@ -350,9 +391,10 @@
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIsnmpget\fR\|(1),
 \&\fIsnmpgetnext\fR\|(1),
 \&\fIvariables\fR\|(5),
 \&\fIunix\fR\|(7)
-.SH "AUTHOR"
-.IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+.SH "AUTHORS"
+.IX Header "AUTHORS"
+Florian Forster <octo@collectd.org>
+Michael Pilat <mike@mikepilat.com>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-snmp.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-snmp.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-snmp.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-snmp.pod	2015-03-10 22:14:45.821113976 +0800
@@ -40,12 +40,23 @@
     <Host "some.server.mydomain.org">
       Address "192.168.0.42"
       Version 2
       Community "another_string"
       Collect "std_traffic" "hr_users"
     </Host>
+    <Host "secure.router.mydomain.org">
+      Address "192.168.0.7"
+      Version 3
+      SecurityLevel "authPriv"
+      Username "cosmo"
+      AuthProtocol "SHA"
+      AuthPassphrase "setec_astronomy"
+      PrivacyProtocol "AES"
+      PrivacyPassphrase "too_many_secrets"
+      Collect "std_traffic"
+    </Host>
     <Host "some.ups.mydomain.org">
       Address "192.168.0.3"
       Version 1
       Community "more_communities"
       Collect "powerplus_voltge_input"
       Interval 300
@@ -172,13 +183,13 @@
 value, e.E<nbsp>g. C<IF-MIB::ifInOctets.3> for the third counter of incoming
 traffic.
 
 =item B<Scale> I<Value>
 
 The gauge-values returned by the SNMP-agent are multiplied by I<Value>.  This
-is useful when values are transfered as a fixed point real number. For example,
+is useful when values are transferred as a fixed point real number. For example,
 thermometers may transfer B<243> but actually mean B<24.3>, so you can specify
 a scale value of B<0.1> to correct this. The default value is, of course,
 B<1.0>.
 
 This value is not applied to counter-values.
 
@@ -188,12 +199,24 @@
 been multiplied by any B<Scale> value. If, for example, a thermometer returns
 degrees Kelvin you could specify a shift of B<273.15> here to store values in
 degrees Celsius. The default value is, of course, B<0.0>.
 
 This value is not applied to counter-values.
 
+=item B<Ignore> I<Value> [, I<Value> ...]
+
+The ignore values allows to ignore Instances based on their name and the patterns
+specified by the various values you've entered. The match is a glob-type shell
+matching.
+
+=item B<InvertMatch> I<true|false(default)>
+
+The invertmatch value should be use in combination of the Ignore option.
+It changes the behaviour of the Ignore option, from a blacklist behaviour
+when InvertMatch is set to false, to a whitelist when specified to true.
+
 =back
 
 =head2 The Host block
 
 The B<Host> block defines which hosts to query, which SNMP community and
 version to use and which of the defined B<Data> to query.
@@ -204,20 +227,47 @@
 =over 4
 
 =item B<Address> I<IP-Address>|I<Hostname>
 
 Set the address to connect to.
 
-=item B<Version> B<1>|B<2>
+=item B<Version> B<1>|B<2>|B<3>
 
 Set the SNMP version to use. When giving B<2> version C<2c> is actually used.
-Version 3 is not supported by this plugin.
 
 =item B<Community> I<Community>
 
-Pass I<Community> to the host.
+Pass I<Community> to the host. (Ignored for SNMPv3).
+
+=item B<Username> I<Username>
+
+Sets the I<Username> to use for SNMPv3 security.
+
+=item B<SecurityLevel> I<authPriv>|I<authNoPriv>|I<noAuthNoPriv>
+
+Selects the security level for SNMPv3 security.
+
+=item B<Context> I<Context>
+
+Sets the I<Context> for SNMPv3 security.
+
+=item B<AuthProtocol> I<MD5>|I<SHA>
+
+Selects the authentication protocol for SNMPv3 security.
+
+=item B<AuthPassphrase> I<Passphrase>
+
+Sets the authentication passphrase for SNMPv3 security. 
+
+=item B<PrivacyProtocol> I<AES>|I<DES>
+
+Selects the privacy (encryption) protocol for SNMPv3 security.
+
+=item B<PrivacyPassphrase> I<Passphrase>
+
+Sets the privacy (encryption) passphrase for SNMPv3 security. 
 
 =item B<Collect> I<Data> [I<Data> ...]
 
 Defines which values to collect. I<Data> refers to one of the B<Data> block
 above. Since the config file is read top-down you need to define the data
 before using it here.
@@ -238,11 +288,12 @@
 L<collectd.conf(5)>,
 L<snmpget(1)>,
 L<snmpgetnext(1)>,
 L<variables(5)>,
 L<unix(7)>
 
-=head1 AUTHOR
+=head1 AUTHORS
 
-Florian Forster E<lt>octo@verplant.orgE<gt>
+Florian Forster E<lt>octo@collectd.orgE<gt>
+Michael Pilat E<lt>mike@mikepilat.comE<gt>
 
 =cut
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-tg.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-tg.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-tg.1	2016-07-19 16:44:20.475958237 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-tg.1	2014-08-18 15:51:38.787539710 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
+.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
@@ -35,42 +35,33 @@
 'br\}
 .el\{\
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
-.    ds C`
-.    ds C'
 'br\}
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.\"
-.\" Avoid warning from groff about undefined register 'F'.
-.de IX
+.ie \nF \{\
+.    de IX
+.    tm Index:\\$1\t\\n%\t"\\$2"
 ..
-.nr rF 0
-.if \n(.g .if rF .nr rF 1
-.if (\n(rF:(\n(.g==0)) \{
-.    if \nF \{
-.        de IX
-.        tm Index:\\$1\t\\n%\t"\\$2"
+.    nr % 0
+.    rr F
+.\}
+.el \{\
+.    de IX
 ..
-.        if !\nF==2 \{
-.            nr % 0
-.            nr F 2
-.        \}
-.    \}
 .\}
-.rr rF
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -130,13 +121,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-TG 1"
-.TH COLLECTD-TG 1 "2016-07-19" "5.4.2.398.g4474714" "collectd"
+.TH COLLECTD-TG 1 "2014-08-18" "5.4.1.359.g103f05e" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-tg \- Traffic generator for collectd.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-tg.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-tg.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-tg.c	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-tg.c	2015-05-26 16:50:06.288318128 +0800
@@ -1,22 +1,27 @@
 /**
- * collectd-td - collectd traffic generator
+ * collectd-tg - src/collectd-tg.c
  * Copyright (C) 2010-2012  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian Forster <octo at collectd.org>
  **/
 
 #if HAVE_CONFIG_H
@@ -91,13 +96,13 @@
       "                   (Default: %s)\n"
       "    -D <port>      Destination port of the network packets.\n"
       "                   (Default: %s)\n"
       "    -h             Print usage information (this output).\n"
       "\n"
       "Copyright (C) 2010-2012  Florian Forster\n"
-      "Licensed under the GNU General Public License, version 2 (GPLv2)\n",
+      "Licensed under the MIT license.\n",
       DEF_NUM_VALUES, DEF_NUM_HOSTS, DEF_NUM_PLUGINS,
       DEF_INTERVAL,
       NET_DEFAULT_V6_ADDR, NET_DEFAULT_PORT);
   exit (exit_status);
 } /* }}} void exit_usage */
 
@@ -180,13 +185,12 @@
       "host%04i", host_num);
   snprintf (vl->identifier.plugin, sizeof (vl->identifier.plugin),
       "plugin%03i", get_boundet_random (0, conf_num_plugins));
   strncpy (vl->identifier.type,
       (vl->values_types[0] == LCC_TYPE_GAUGE) ? "gauge" : "derive",
       sizeof (vl->identifier.type));
-  vl->identifier.type[sizeof (vl->identifier.type) - 1] = 0;
   snprintf (vl->identifier.type_instance, sizeof (vl->identifier.type_instance),
       "ti%li", random ());
 
   return (vl);
 } /* }}} int create_value_list */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-threshold.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-threshold.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-threshold.5	2016-07-19 16:44:20.531958360 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-threshold.5	2014-08-18 15:51:38.859541348 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
+.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
@@ -35,42 +35,33 @@
 'br\}
 .el\{\
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
-.    ds C`
-.    ds C'
 'br\}
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.\"
-.\" Avoid warning from groff about undefined register 'F'.
-.de IX
+.ie \nF \{\
+.    de IX
+.    tm Index:\\$1\t\\n%\t"\\$2"
 ..
-.nr rF 0
-.if \n(.g .if rF .nr rF 1
-.if (\n(rF:(\n(.g==0)) \{
-.    if \nF \{
-.        de IX
-.        tm Index:\\$1\t\\n%\t"\\$2"
+.    nr % 0
+.    rr F
+.\}
+.el \{\
+.    de IX
 ..
-.        if !\nF==2 \{
-.            nr % 0
-.            nr F 2
-.        \}
-.    \}
 .\}
-.rr rF
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -130,13 +121,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-THRESHOLD 5"
-.TH COLLECTD-THRESHOLD 5 "2016-07-19" "5.4.2.398.g4474714" "collectd"
+.TH COLLECTD-THRESHOLD 5 "2014-08-18" "5.4.1.359.g103f05e" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-threshold \- Documentation of collectd's Threshold plugin
@@ -173,13 +164,13 @@
 threshold only once for a notification to be generated. There's no such thing
 as a moving average or similar \- at least not now.
 .PP
 Also, all values that match a threshold are considered to be relevant or
 \&\*(L"interesting\*(R". As a consequence collectd will issue a notification if they are
 not received for \fBTimeout\fR iterations. The \fBTimeout\fR configuration option is
-explained in section \*(L"\s-1GLOBAL OPTIONS\*(R"\s0 in \fIcollectd.conf\fR\|(5). If, for example,
+explained in section \*(L"\s-1GLOBAL\s0 \s-1OPTIONS\s0\*(R" in \fIcollectd.conf\fR\|(5). If, for example,
 \&\fBTimeout\fR is set to \*(L"2\*(R" (the default) and some hosts sends it's \s-1CPU\s0 statistics
 to the server every 60 seconds, a notification will be dispatched after about
 120 seconds. It may take a little longer because the timeout is checked only
 once each \fBInterval\fR on the server.
 .PP
 When a value comes within range again or is received after it was missing, an
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-unixsock.5	2016-07-26 15:48:08.481849327 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-unixsock.5	2015-03-10 22:29:57.956977374 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2016-07-26" "5.4.3" "collectd"
+.TH COLLECTD-UNIXSOCK 5 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-unixsock \- Documentation of collectd's "unixsock plugin"
@@ -299,17 +299,29 @@
 collected performance data. This connection is purely informal, i.\ e. the
 daemon itself doesn't do anything with this information. However, websites or
 GUIs may use this information to place notifications near the affected graph or
 table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
 or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
 avoided.
+.IP "\fBtype:key=\fR\fIvalue\fR" 4
+.IX Item "type:key=value"
+Sets user defined meta information. The \fBtype\fR key is a single character
+defining the type of the meta information.
 .Sp
-Please note that this is the same format as used in the \fBexec plugin\fR, see
-\&\fIcollectd\-exec\fR\|(5).
+The current supported types are:
+.RS 4
+.IP "\fBs\fR A string passed as-is." 8
+.IX Item "s A string passed as-is."
 .RE
 .RS 4
+.RE
+.RE
+.RS 4
+.Sp
+Please note that this is the same format as used in the \fBexec plugin\fR, see
+\&\fIcollectd\-exec\fR\|(5).
 .Sp
 Example:
   \-> | \s-1PUTNOTIF\s0 type=temperature severity=warning time=1201094702 message=The roof is on fire!
   <\- | 0 Success
 .RE
 .IP "\fB\s-1FLUSH\s0\fR [\fBtimeout=\fR\fITimeout\fR] [\fBplugin=\fR\fIPlugin\fR [...]] [\fBidentifier=\fR\fIIdent\fR [...]]" 4
@@ -362,7 +374,7 @@
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-nagios\fR\|(1),
 \&\fIunix\fR\|(7)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+Florian Forster <octo@collectd.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-unixsock.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-unixsock.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/collectd-unixsock.pod	2016-07-26 15:47:12.953713783 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/collectd-unixsock.pod	2015-03-10 22:14:45.821113976 +0800
@@ -174,17 +174,30 @@
 daemon itself doesn't do anything with this information. However, websites or
 GUIs may use this information to place notifications near the affected graph or
 table. All the options are optional, but B<plugin_instance> without B<plugin>
 or B<type_instance> without B<type> doesn't make much sense and should be
 avoided.
 
-Please note that this is the same format as used in the B<exec plugin>, see
-L<collectd-exec(5)>.
+=item B<type:key=>I<value>
+
+Sets user defined meta information. The B<type> key is a single character
+defining the type of the meta information.
+
+The current supported types are:
+
+=over 8
+
+=item B<s> A string passed as-is.
 
 =back
 
+=back
+
+Please note that this is the same format as used in the B<exec plugin>, see
+L<collectd-exec(5)>.
+
 Example:
   -> | PUTNOTIF type=temperature severity=warning time=1201094702 message=The roof is on fire!
   <- | 0 Success
 
 =item B<FLUSH> [B<timeout=>I<Timeout>] [B<plugin=>I<Plugin> [...]] [B<identifier=>I<Ident> [...]]
 
@@ -240,9 +253,9 @@
 L<collectd.conf(5)>,
 L<collectd-nagios(1)>,
 L<unix(7)>
 
 =head1 AUTHOR
 
-Florian Forster E<lt>octo@verplant.orgE<gt>
+Florian Forster E<lt>octo@collectd.orgE<gt>
 
 =cut
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: common.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: common.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: configfile.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: configfile.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/config.h.in	2016-07-26 15:48:06.793845218 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/config.h.in	2015-05-27 15:53:03.419129546 +0800
@@ -1,8 +1,11 @@
 /* src/config.h.in.  Generated from configure.ac by autoheader.  */
 
+/* User agent for http requests */
+#undef COLLECTD_USERAGENT
+
 /* wether or not to enable feature daemon mode */
 #undef COLLECT_DAEMON
 
 /* wether or not to enable feature debugging */
 #undef COLLECT_DEBUG
 
@@ -66,15 +69,21 @@
 /* Define to 1 if you have the <arpa/nameser_compat.h> header file. */
 #undef HAVE_ARPA_NAMESER_COMPAT_H
 
 /* Define to 1 if you have the <arpa/nameser.h> header file. */
 #undef HAVE_ARPA_NAMESER_H
 
+/* Define to 1 if you have the <asm/msr-index.h> header file. */
+#undef HAVE_ASM_MSR_INDEX_H
+
 /* Define to 1 if you have the <assert.h> header file. */
 #undef HAVE_ASSERT_H
 
+/* Define to 1 if you have the <atasmart.h> header file. */
+#undef HAVE_ATASMART_H
+
 /* Define to 1 if you have the <bsd/nlist.h> header file. */
 #undef HAVE_BSD_NLIST_H
 
 /* Define if the clock_gettime(2) function is available. */
 #undef HAVE_CLOCK_GETTIME
 
@@ -85,18 +94,24 @@
 #undef HAVE_CLOSELOG
 
 /* Define to 1 if you have the <CoreFoundation/CoreFoundation.h> header file.
    */
 #undef HAVE_COREFOUNDATION_COREFOUNDATION_H
 
-/* Define to 1 if you have the <credis.h> header file. */
-#undef HAVE_CREDIS_H
+/* Define to 1 if you have the <cpuid.h> header file. */
+#undef HAVE_CPUID_H
 
 /* Define to 1 if you have the <ctype.h> header file. */
 #undef HAVE_CTYPE_H
 
+/* Define if libcurl supports CURLOPT_TIMEOUT_MS option. */
+#undef HAVE_CURLOPT_TIMEOUT_MS
+
+/* Define if libcurl supports CURLOPT_USERNAME option. */
+#undef HAVE_CURLOPT_USERNAME
+
 /* Define to 1 if you have the <curl/curl.h> header file. */
 #undef HAVE_CURL_CURL_H
 
 /* Define to 1 if you have the <dbi/dbi.h> header file. */
 #undef HAVE_DBI_DBI_H
 
@@ -176,15 +191,12 @@
 /* Define to 1 if you have the `getloadavg' function. */
 #undef HAVE_GETLOADAVG
 
 /* Define to 1 if you have the `getmntent' function. */
 #undef HAVE_GETMNTENT
 
-/* Define to 1 if you have the `getmntent_r' function. */
-#undef HAVE_GETMNTENT_R
-
 /* Define to 1 if you have the `getnameinfo' function. */
 #undef HAVE_GETNAMEINFO
 
 /* Define to 1 if you have the `getpwnam_r' function. */
 #undef HAVE_GETPWNAM_R
 
@@ -207,12 +219,15 @@
    */
 #undef HAVE_GOOGLE_PROTOBUF_C_PROTOBUF_C_H
 
 /* Define to 1 if you have the <grp.h> header file. */
 #undef HAVE_GRP_H
 
+/* Define to 1 if you have the <hiredis/hiredis.h> header file. */
+#undef HAVE_HIREDIS_HIREDIS_H
+
 /* Define to 1 if you have the `host_statistics' function. */
 #undef HAVE_HOST_STATISTICS
 
 /* Define if the function htonll exists. */
 #undef HAVE_HTONLL
 
@@ -271,15 +286,21 @@
 /* Define to 1 if `wtime' is a member of `kstat_io_t'. */
 #undef HAVE_KSTAT_IO_T_WTIME
 
 /* Define to 1 if you have the <kvm.h> header file. */
 #undef HAVE_KVM_H
 
+/* Define to 1 if you have the <ldap.h> header file. */
+#undef HAVE_LDAP_H
+
 /* Define to 1 if you have the <libaquaero5.h> header file. */
 #undef HAVE_LIBAQUAERO5_H
 
+/* Define if libatasmart is present and usable. */
+#undef HAVE_LIBATASMART
+
 /* Define if you have the libdl library or equivalent. */
 #undef HAVE_LIBDL
 
 /* Define if libdlloader will be built on this platform */
 #undef HAVE_LIBDLLOADER
 
@@ -355,12 +376,24 @@
 /* Wether or not to use pthread (POSIX threads) library */
 #undef HAVE_LIBPTHREAD
 
 /* Define if librabbitmq is present and usable. */
 #undef HAVE_LIBRABBITMQ
 
+/* Define if librdkafka is present and usable. */
+#undef HAVE_LIBRDKAFKA
+
+/* Define if librdkafka log facility is present and usable. */
+#undef HAVE_LIBRDKAFKA_LOGGER
+
+/* Define if librdkafka log facility is present and usable. */
+#undef HAVE_LIBRDKAFKA_LOG_CB
+
+/* Define to 1 if you have the <librdkafka/rdkafka.h> header file. */
+#undef HAVE_LIBRDKAFKA_RDKAFKA_H
+
 /* Define to 1 if you have the 'resolv' library (-lresolv). */
 #undef HAVE_LIBRESOLV
 
 /* Define to 1 if you have the sensors library (-lsensors). */
 #undef HAVE_LIBSENSORS
 
@@ -370,15 +403,24 @@
 /* Define to 1 if you have the <libsigrok/libsigrok.h> header file. */
 #undef HAVE_LIBSIGROK_LIBSIGROK_H
 
 /* Define to 1 if you have the 'statgrab' library (-lstatgrab) */
 #undef HAVE_LIBSTATGRAB
 
+/* Define to 1 if libstatgrab version >= 0.90 */
+#undef HAVE_LIBSTATGRAB_0_90
+
 /* Define to 1 if you have the tokyotyrant library (-ltokyotyrant). */
 #undef HAVE_LIBTOKYOTYRANT
 
+/* Define to 1 if you have the udev library (-ludev). */
+#undef HAVE_LIBUDEV
+
+/* Define to 1 if you have the <libudev.h> header file. */
+#undef HAVE_LIBUDEV_H
+
 /* Define to 1 if you have the <libvirt/libvirt.h> header file. */
 #undef HAVE_LIBVIRT_LIBVIRT_H
 
 /* Define to 1 if you have the <libxml/parser.h> header file. */
 #undef HAVE_LIBXML_PARSER_H
 
@@ -412,23 +454,12 @@
 /* Define to 1 if you have the <linux/major.h> header file. */
 #undef HAVE_LINUX_MAJOR_H
 
 /* Define to 1 if you have the <linux/netdevice.h> header file. */
 #undef HAVE_LINUX_NETDEVICE_H
 
-/* Define to 1 if you have the <linux/netfilter_ipv4/ip_tables.h> header file.
-   */
-#undef HAVE_LINUX_NETFILTER_IPV4_IP_TABLES_H
-
-/* Define to 1 if you have the <linux/netfilter_ipv6/ip6_tables.h> header
-   file. */
-#undef HAVE_LINUX_NETFILTER_IPV6_IP6_TABLES_H
-
-/* Define to 1 if you have the <linux/netfilter/x_tables.h> header file. */
-#undef HAVE_LINUX_NETFILTER_X_TABLES_H
-
 /* Define to 1 if you have the <linux/pkt_sched.h> header file. */
 #undef HAVE_LINUX_PKT_SCHED_H
 
 /* Define to 1 if you have the <linux/raid/md_u.h> header file. */
 #undef HAVE_LINUX_RAID_MD_U_H
 
@@ -441,12 +472,15 @@
 /* Define to 1 if you have the <linux/wireless.h> header file. */
 #undef HAVE_LINUX_WIRELESS_H
 
 /* Define to 1 if you have the `listmntent' function. */
 #undef HAVE_LISTMNTENT
 
+/* Define to 1 if you have the <locale.h> header file. */
+#undef HAVE_LOCALE_H
+
 /* Define this if a modern libltdl is already installed */
 #undef HAVE_LTDL
 
 /* Define to 1 if you have the <lvm2app.h> header file. */
 #undef HAVE_LVM2APP_H
 
@@ -519,14 +553,14 @@
 /* Define to 1 if you have the <mntent.h> header file. */
 #undef HAVE_MNTENT_H
 
 /* Define to 1 if you have the <mnttab.h> header file. */
 #undef HAVE_MNTTAB_H
 
-/* Define to 1 if you have the <modbus.h> header file. */
-#undef HAVE_MODBUS_H
+/* Define to 1 if you have the <modbus/modbus.h> header file. */
+#undef HAVE_MODBUS_MODBUS_H
 
 /* Define to 1 if you have the <mongo.h> header file. */
 #undef HAVE_MONGO_H
 
 /* Define to 1 if you have the <mysql.h> header file. */
 #undef HAVE_MYSQL_H
@@ -624,12 +658,15 @@
 /* Define to 1 if you have the <owcapi.h> header file. */
 #undef HAVE_OWCAPI_H
 
 /* Define to 1 if you have the <paths.h> header file. */
 #undef HAVE_PATHS_H
 
+/* Define to 1 if you have the <pcap-bpf.h> header file. */
+#undef HAVE_PCAP_BPF_H
+
 /* Define to 1 if you have the <pcap.h> header file. */
 #undef HAVE_PCAP_H
 
 /* Define to 1 if you have the 'perfstat' library (-lperfstat) */
 #undef HAVE_PERFSTAT
 
@@ -657,18 +694,24 @@
 /* Define to 1 if the aquaero plugin is enabled. */
 #undef HAVE_PLUGIN_AQUAERO
 
 /* Define to 1 if the ascent plugin is enabled. */
 #undef HAVE_PLUGIN_ASCENT
 
+/* Define to 1 if the barometer plugin is enabled. */
+#undef HAVE_PLUGIN_BAROMETER
+
 /* Define to 1 if the battery plugin is enabled. */
 #undef HAVE_PLUGIN_BATTERY
 
 /* Define to 1 if the bind plugin is enabled. */
 #undef HAVE_PLUGIN_BIND
 
+/* Define to 1 if the ceph plugin is enabled. */
+#undef HAVE_PLUGIN_CEPH
+
 /* Define to 1 if the cgroups plugin is enabled. */
 #undef HAVE_PLUGIN_CGROUPS
 
 /* Define to 1 if the conntrack plugin is enabled. */
 #undef HAVE_PLUGIN_CONNTRACK
 
@@ -702,24 +745,30 @@
 /* Define to 1 if the disk plugin is enabled. */
 #undef HAVE_PLUGIN_DISK
 
 /* Define to 1 if the dns plugin is enabled. */
 #undef HAVE_PLUGIN_DNS
 
+/* Define to 1 if the drbd plugin is enabled. */
+#undef HAVE_PLUGIN_DRBD
+
 /* Define to 1 if the email plugin is enabled. */
 #undef HAVE_PLUGIN_EMAIL
 
 /* Define to 1 if the entropy plugin is enabled. */
 #undef HAVE_PLUGIN_ENTROPY
 
 /* Define to 1 if the ethstat plugin is enabled. */
 #undef HAVE_PLUGIN_ETHSTAT
 
 /* Define to 1 if the exec plugin is enabled. */
 #undef HAVE_PLUGIN_EXEC
 
+/* Define to 1 if the fhcount plugin is enabled. */
+#undef HAVE_PLUGIN_FHCOUNT
+
 /* Define to 1 if the filecount plugin is enabled. */
 #undef HAVE_PLUGIN_FILECOUNT
 
 /* Define to 1 if the fscache plugin is enabled. */
 #undef HAVE_PLUGIN_FSCACHE
 
@@ -729,12 +778,15 @@
 /* Define to 1 if the hddtemp plugin is enabled. */
 #undef HAVE_PLUGIN_HDDTEMP
 
 /* Define to 1 if the interface plugin is enabled. */
 #undef HAVE_PLUGIN_INTERFACE
 
+/* Define to 1 if the ipc plugin is enabled. */
+#undef HAVE_PLUGIN_IPC
+
 /* Define to 1 if the ipmi plugin is enabled. */
 #undef HAVE_PLUGIN_IPMI
 
 /* Define to 1 if the iptables plugin is enabled. */
 #undef HAVE_PLUGIN_IPTABLES
 
@@ -744,21 +796,21 @@
 /* Define to 1 if the irq plugin is enabled. */
 #undef HAVE_PLUGIN_IRQ
 
 /* Define to 1 if the java plugin is enabled. */
 #undef HAVE_PLUGIN_JAVA
 
-/* Define to 1 if the libvirt plugin is enabled. */
-#undef HAVE_PLUGIN_LIBVIRT
-
 /* Define to 1 if the load plugin is enabled. */
 #undef HAVE_PLUGIN_LOAD
 
 /* Define to 1 if the logfile plugin is enabled. */
 #undef HAVE_PLUGIN_LOGFILE
 
+/* Define to 1 if the log_logstash plugin is enabled. */
+#undef HAVE_PLUGIN_LOG_LOGSTASH
+
 /* Define to 1 if the lpar plugin is enabled. */
 #undef HAVE_PLUGIN_LPAR
 
 /* Define to 1 if the lvm plugin is enabled. */
 #undef HAVE_PLUGIN_LVM
 
@@ -840,12 +892,15 @@
 /* Define to 1 if the olsrd plugin is enabled. */
 #undef HAVE_PLUGIN_OLSRD
 
 /* Define to 1 if the onewire plugin is enabled. */
 #undef HAVE_PLUGIN_ONEWIRE
 
+/* Define to 1 if the openldap plugin is enabled. */
+#undef HAVE_PLUGIN_OPENLDAP
+
 /* Define to 1 if the openvpn plugin is enabled. */
 #undef HAVE_PLUGIN_OPENVPN
 
 /* Define to 1 if the oracle plugin is enabled. */
 #undef HAVE_PLUGIN_ORACLE
 
@@ -894,12 +949,15 @@
 /* Define to 1 if the serial plugin is enabled. */
 #undef HAVE_PLUGIN_SERIAL
 
 /* Define to 1 if the sigrok plugin is enabled. */
 #undef HAVE_PLUGIN_SIGROK
 
+/* Define to 1 if the smart plugin is enabled. */
+#undef HAVE_PLUGIN_SMART
+
 /* Define to 1 if the snmp plugin is enabled. */
 #undef HAVE_PLUGIN_SNMP
 
 /* Define to 1 if the statsd plugin is enabled. */
 #undef HAVE_PLUGIN_STATSD
 
@@ -951,12 +1009,15 @@
 /* Define to 1 if the threshold plugin is enabled. */
 #undef HAVE_PLUGIN_THRESHOLD
 
 /* Define to 1 if the tokyotyrant plugin is enabled. */
 #undef HAVE_PLUGIN_TOKYOTYRANT
 
+/* Define to 1 if the turbostat plugin is enabled. */
+#undef HAVE_PLUGIN_TURBOSTAT
+
 /* Define to 1 if the unixsock plugin is enabled. */
 #undef HAVE_PLUGIN_UNIXSOCK
 
 /* Define to 1 if the uptime plugin is enabled. */
 #undef HAVE_PLUGIN_UPTIME
 
@@ -966,12 +1027,15 @@
 /* Define to 1 if the uuid plugin is enabled. */
 #undef HAVE_PLUGIN_UUID
 
 /* Define to 1 if the varnish plugin is enabled. */
 #undef HAVE_PLUGIN_VARNISH
 
+/* Define to 1 if the virt plugin is enabled. */
+#undef HAVE_PLUGIN_VIRT
+
 /* Define to 1 if the vmem plugin is enabled. */
 #undef HAVE_PLUGIN_VMEM
 
 /* Define to 1 if the vserver plugin is enabled. */
 #undef HAVE_PLUGIN_VSERVER
 
@@ -981,42 +1045,54 @@
 /* Define to 1 if the write_graphite plugin is enabled. */
 #undef HAVE_PLUGIN_WRITE_GRAPHITE
 
 /* Define to 1 if the write_http plugin is enabled. */
 #undef HAVE_PLUGIN_WRITE_HTTP
 
+/* Define to 1 if the write_kafka plugin is enabled. */
+#undef HAVE_PLUGIN_WRITE_KAFKA
+
+/* Define to 1 if the write_log plugin is enabled. */
+#undef HAVE_PLUGIN_WRITE_LOG
+
 /* Define to 1 if the write_mongodb plugin is enabled. */
 #undef HAVE_PLUGIN_WRITE_MONGODB
 
 /* Define to 1 if the write_redis plugin is enabled. */
 #undef HAVE_PLUGIN_WRITE_REDIS
 
 /* Define to 1 if the write_riemann plugin is enabled. */
 #undef HAVE_PLUGIN_WRITE_RIEMANN
 
+/* Define to 1 if the write_sensu plugin is enabled. */
+#undef HAVE_PLUGIN_WRITE_SENSU
+
+/* Define to 1 if the write_tsdb plugin is enabled. */
+#undef HAVE_PLUGIN_WRITE_TSDB
+
 /* Define to 1 if the xmms plugin is enabled. */
 #undef HAVE_PLUGIN_XMMS
 
 /* Define to 1 if the zfs_arc plugin is enabled. */
 #undef HAVE_PLUGIN_ZFS_ARC
 
+/* Define to 1 if the zookeeper plugin is enabled. */
+#undef HAVE_PLUGIN_ZOOKEEPER
+
 /* Define to 1 if you have the <poll.h> header file. */
 #undef HAVE_POLL_H
 
 /* Define if libtool can extract symbol lists from object files. */
 #undef HAVE_PRELOADED_SYMBOLS
 
 /* Define to 1 if you have the `processor_info' function. */
 #undef HAVE_PROCESSOR_INFO
 
 /* Define to 1 if you have the procinfo.h */
 #undef HAVE_PROCINFO_H
 
-/* Define to 1 if you have the <protobuf-c/protobuf-c.h> header file. */
-#undef HAVE_PROTOBUF_C_PROTOBUF_C_H
-
 /* Define to 1 if you have the <pthread.h> header file. */
 #undef HAVE_PTHREAD_H
 
 /* Define to 1 if you have the <pwd.h> header file. */
 #undef HAVE_PWD_H
 
@@ -1044,12 +1120,15 @@
 /* Define to 1 if you have the <routeros_api.h> header file. */
 #undef HAVE_ROUTEROS_API_H
 
 /* Define to 1 if you have the <rrd.h> header file. */
 #undef HAVE_RRD_H
 
+/* Define if struct rtnl_link_stats64 exists and is usable. */
+#undef HAVE_RTNL_LINK_STATS64
+
 /* Define to 1 if you have the `select' function. */
 #undef HAVE_SELECT
 
 /* Define to 1 if you have the <sensors/sensors.h> header file. */
 #undef HAVE_SENSORS_SENSORS_H
 
@@ -1059,12 +1138,15 @@
 /* Define to 1 if you have the `setenv' function. */
 #undef HAVE_SETENV
 
 /* Define to 1 if you have the `setgroups' function. */
 #undef HAVE_SETGROUPS
 
+/* Define to 1 if you have the `setlocale' function. */
+#undef HAVE_SETLOCALE
+
 /* Define if you have the shl_load function. */
 #undef HAVE_SHL_LOAD
 
 /* Define to 1 if you have the <signal.h> header file. */
 #undef HAVE_SIGNAL_H
 
@@ -1158,15 +1240,12 @@
 /* Define to 1 if `id' is a member of `struct inet_diag_req'. */
 #undef HAVE_STRUCT_INET_DIAG_REQ_ID
 
 /* Define to 1 if `idiag_states' is a member of `struct inet_diag_req'. */
 #undef HAVE_STRUCT_INET_DIAG_REQ_IDIAG_STATES
 
-/* Define to 1 if the system has the type `struct ip6_ext'. */
-#undef HAVE_STRUCT_IP6_EXT
-
 /* Define to 1 if `imr_ifindex' is a member of `struct ip_mreqn'. */
 #undef HAVE_STRUCT_IP_MREQN_IMR_IFINDEX
 
 /* Define if struct kinfo_proc exists in the FreeBSD variant. */
 #undef HAVE_STRUCT_KINFO_PROC_FREEBSD
 
@@ -1176,21 +1255,21 @@
 /* Define to 1 if `ki_rssize' is a member of `struct kinfo_proc'. */
 #undef HAVE_STRUCT_KINFO_PROC_KI_RSSIZE
 
 /* Define to 1 if `ki_rusage' is a member of `struct kinfo_proc'. */
 #undef HAVE_STRUCT_KINFO_PROC_KI_RUSAGE
 
-/* Define to 1 if `kp_eproc' is a member of `struct kinfo_proc'. */
-#undef HAVE_STRUCT_KINFO_PROC_KP_EPROC
-
-/* Define to 1 if `kp_proc' is a member of `struct kinfo_proc'. */
-#undef HAVE_STRUCT_KINFO_PROC_KP_PROC
-
 /* Define if struct kinfo_proc exists in the OpenBSD variant. */
 #undef HAVE_STRUCT_KINFO_PROC_OPENBSD
 
+/* Define to 1 if `p_pid' is a member of `struct kinfo_proc'. */
+#undef HAVE_STRUCT_KINFO_PROC_P_PID
+
+/* Define to 1 if `p_vm_rssize' is a member of `struct kinfo_proc'. */
+#undef HAVE_STRUCT_KINFO_PROC_P_VM_RSSIZE
+
 /* Define if struct inet_diag_req exists and is usable. */
 #undef HAVE_STRUCT_LINUX_INET_DIAG_REQ
 
 /* Define if struct net_device_stats exists and is usable. */
 #undef HAVE_STRUCT_NET_DEVICE_STATS
 
@@ -1200,12 +1279,16 @@
 /* Define to 1 if `rx_errors' is a member of `struct net_device_stats'. */
 #undef HAVE_STRUCT_NET_DEVICE_STATS_RX_ERRORS
 
 /* Define to 1 if `tx_packets' is a member of `struct net_device_stats'. */
 #undef HAVE_STRUCT_NET_DEVICE_STATS_TX_PACKETS
 
+/* Define to 1 if `tx_window_errors' is a member of `struct
+   rtnl_link_stats64'. */
+#undef HAVE_STRUCT_RTNL_LINK_STATS64_TX_WINDOW_ERRORS
+
 /* Define to 1 if `dest' is a member of `struct udphdr'. */
 #undef HAVE_STRUCT_UDPHDR_DEST
 
 /* Define to 1 if `source' is a member of `struct udphdr'. */
 #undef HAVE_STRUCT_UDPHDR_SOURCE
 
@@ -1242,12 +1325,15 @@
 /* Define to 1 if you have the `syslog' function. */
 #undef HAVE_SYSLOG
 
 /* Define to 1 if you have the <syslog.h> header file. */
 #undef HAVE_SYSLOG_H
 
+/* Define to 1 if you have the <sys/capability.h> header file. */
+#undef HAVE_SYS_CAPABILITY_H
+
 /* Define to 1 if you have the <sys/dir.h> header file, and it defines `DIR'.
    */
 #undef HAVE_SYS_DIR_H
 
 /* Define to 1 if you have the <sys/dkstat.h> header file. */
 #undef HAVE_SYS_DKSTAT_H
@@ -1322,12 +1408,15 @@
 /* Define to 1 if you have the <sys/vfstab.h> header file. */
 #undef HAVE_SYS_VFSTAB_H
 
 /* Define to 1 if you have the <sys/vfs.h> header file. */
 #undef HAVE_SYS_VFS_H
 
+/* Define to 1 if you have the <sys/vmmeter.h> header file. */
+#undef HAVE_SYS_VMMETER_H
+
 /* Define to 1 if you have <sys/wait.h> that is POSIX.1 compatible. */
 #undef HAVE_SYS_WAIT_H
 
 /* True if the enum-member TCA_STATS exists */
 #undef HAVE_TCA_STATS
 
@@ -1337,13 +1426,13 @@
 /* Define to 1 if you have the <tcrdb.h> header file. */
 #undef HAVE_TCRDB_H
 
 /* Define to 1 if you have the <termios.h> header file. */
 #undef HAVE_TERMIOS_H
 
-/* Define to 1 if the rrd library is thread-safe */
+/* Define to 1 if you have the threadsafe rrd library (-lrrd_th). */
 #undef HAVE_THREADSAFE_LIBRRD
 
 /* Define to 1 if you have the `thread_info' function. */
 #undef HAVE_THREAD_INFO
 
 /* Define if the function getmntent exists and takes two arguments. */
@@ -1370,12 +1459,18 @@
 /* Varnish 2 API support */
 #undef HAVE_VARNISH_V2
 
 /* Varnish 3 API support */
 #undef HAVE_VARNISH_V3
 
+/* Varnish 4 API support */
+#undef HAVE_VARNISH_V4
+
+/* Define to 1 if you have the <varnish/vapi/vsc.h> header file. */
+#undef HAVE_VARNISH_VAPI_VSC_H
+
 /* Define to 1 if you have the <varnish/varnishapi.h> header file. */
 #undef HAVE_VARNISH_VARNISHAPI_H
 
 /* Define to 1 if you have the <varnish/vsc.h> header file. */
 #undef HAVE_VARNISH_VSC_H
 
@@ -1400,18 +1495,24 @@
 /* Define to 1 if the system has the type `_Bool'. */
 #undef HAVE__BOOL
 
 /* True if program is to be compiled for a AIX kernel */
 #undef KERNEL_AIX
 
+/* True if program is to be compiled for a Darwin kernel */
+#undef KERNEL_DARWIN
+
 /* True if program is to be compiled for a FreeBSD kernel */
 #undef KERNEL_FREEBSD
 
 /* True if program is to be compiled for a Linux kernel */
 #undef KERNEL_LINUX
 
+/* True if program is to be compiled for an OpenBSD kernel */
+#undef KERNEL_OPENBSD
+
 /* True if program is to be compiled for a Solaris kernel */
 #undef KERNEL_SOLARIS
 
 /* Define to used libtool version. */
 #undef LIBTOOL_VERSION
 
@@ -1451,15 +1552,12 @@
 /* Define if NAN can be defined as (0.0 / 0.0) */
 #undef NAN_ZERO_ZERO
 
 /* Define if dlsym() requires a leading underscore in symbol names. */
 #undef NEED_USCORE
 
-/* Define to 1 if we use the shipped iptc library. */
-#undef OWN_LIBIPTC
-
 /* Name of package */
 #undef PACKAGE
 
 /* Define to the address where bug reports for this package should be sent. */
 #undef PACKAGE_BUGREPORT
 
@@ -1523,12 +1621,17 @@
 /* Define to enable reentrancy interfaces. */
 #undef _REENTRANT
 
 /* Define to use the thread-safe version of errno under AIX. */
 #undef _THREAD_SAFE_ERRNO
 
+/* Define for Solaris 2.5.1 so the uint32_t typedef from <sys/synch.h>,
+   <pthread.h>, or <semaphore.h> is not used. If the typedef were allowed, the
+   #define below would cause a syntax error. */
+#undef _UINT32_T
+
 /* Define to enforce X/Open 7 (XSI) compliance. */
 #undef _XOPEN_SOURCE
 
 /* Define so that glibc/gnulib argp.h does not typedef error_t. */
 #undef __error_t_defined
 
@@ -1538,14 +1641,30 @@
 /* Define to a type to use for `error_t' if it is not otherwise available. */
 #undef error_t
 
 /* Define to `int' if <sys/types.h> doesn't define. */
 #undef gid_t
 
+/* Define to `__inline__' or `__inline' if that's what the C compiler
+   calls it, or to nothing if 'inline' is not supported under any name.  */
+#ifndef __cplusplus
+#undef inline
+#endif
+
+/* Define to `long int' if <sys/types.h> does not define. */
+#undef off_t
+
 /* Define to `int' if <sys/types.h> does not define. */
 #undef pid_t
 
 /* Define to `unsigned int' if <sys/types.h> does not define. */
 #undef size_t
 
+/* Define to `int' if <sys/types.h> does not define. */
+#undef ssize_t
+
 /* Define to `int' if <sys/types.h> doesn't define. */
 #undef uid_t
+
+/* Define to the type of an unsigned integer type of width exactly 32 bits if
+   such a type exists and the standard includes do not define it. */
+#undef uint32_t
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/conntrack.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/conntrack.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/conntrack.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/conntrack.c	2015-03-10 22:14:45.825114063 +0800
@@ -15,46 +15,72 @@
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Tomasz Pala <gotar at pld-linux.org>
  * based on entropy.c by:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #if !KERNEL_LINUX
 # error "No applicable input method."
 #endif
 
 #define CONNTRACK_FILE "/proc/sys/net/netfilter/nf_conntrack_count"
+#define CONNTRACK_MAX_FILE "/proc/sys/net/netfilter/nf_conntrack_max"
+#define CONNTRACK_FILE_OLD "/proc/sys/net/ipv4/netfilter/ip_conntrack_count"
+#define CONNTRACK_MAX_FILE_OLD "/proc/sys/net/ipv4/netfilter/ip_conntrack_max"
 
-static void conntrack_submit (value_t conntrack)
+static const char *config_keys[] =
+{
+	"OldFiles"
+};
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+/*
+    Each table/chain combo that will be queried goes into this list
+*/
+
+static int old_files = 0;
+
+static int conntrack_config(const char *key, const char *value)
+{
+    if (strcmp(key, "OldFiles") == 0)
+        old_files = 1;
+
+    return 0;
+}
+
+static void conntrack_submit (const char *type, const char *type_instance,
+			      value_t conntrack)
 {
 	value_list_t vl = VALUE_LIST_INIT;
 
 	vl.values = &conntrack;
 	vl.values_len = 1;
 	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
 	sstrncpy (vl.plugin, "conntrack", sizeof (vl.plugin));
-	sstrncpy (vl.type, "conntrack", sizeof (vl.type));
+	sstrncpy (vl.type, type, sizeof (vl.type));
+	if (type_instance != NULL)
+		sstrncpy (vl.type_instance, type_instance,
+			  sizeof (vl.type_instance));
 
 	plugin_dispatch_values (&vl);
 } /* static void conntrack_submit */
 
 static int conntrack_read (void)
 {
-	value_t conntrack;
+	value_t conntrack, conntrack_max, conntrack_pct;
 	FILE *fh;
 	char buffer[64];
 	size_t buffer_len;
 
-	fh = fopen (CONNTRACK_FILE, "r");
+	fh = fopen (old_files?CONNTRACK_FILE_OLD:CONNTRACK_FILE, "r");
 	if (fh == NULL)
 		return (-1);
 
 	memset (buffer, 0, sizeof (buffer));
 	if (fgets (buffer, sizeof (buffer), fh) == NULL)
 	{
@@ -71,15 +97,45 @@
 		buffer_len--;
 	}
 
 	if (parse_value (buffer, &conntrack, DS_TYPE_GAUGE) != 0)
 		return (-1);
 
-	conntrack_submit (conntrack);
+	conntrack_submit ("conntrack", NULL, conntrack);
+
+	fh = fopen (old_files?CONNTRACK_MAX_FILE_OLD:CONNTRACK_MAX_FILE, "r");
+	if (fh == NULL)
+		return (-1);
+
+	memset (buffer, 0, sizeof (buffer));
+	if (fgets (buffer, sizeof (buffer), fh) == NULL)
+	{
+		fclose (fh);
+		return (-1);
+	}
+	fclose (fh);
+
+	/* strip trailing newline. */
+	buffer_len = strlen (buffer);
+	while ((buffer_len > 0) && isspace ((int) buffer[buffer_len - 1]))
+	{
+		buffer[buffer_len - 1] = 0;
+		buffer_len--;
+	}
+
+	if (parse_value (buffer, &conntrack_max, DS_TYPE_GAUGE) != 0)
+		return (-1);
+
+	conntrack_submit ("conntrack", "max", conntrack_max);
+	conntrack_pct.gauge = (conntrack.gauge / conntrack_max.gauge) * 100;
+	conntrack_submit ("percent", "used", conntrack_pct);
+
 
 	return (0);
 } /* static int conntrack_read */
 
 void module_register (void)
 {
+    plugin_register_config ("conntrack", conntrack_config,
+                            config_keys, config_keys_num);
 	plugin_register_read ("conntrack", conntrack_read);
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/cpu.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/cpu.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/cpu.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/cpu.c	2015-03-10 22:14:45.825114063 +0800
@@ -1,12 +1,13 @@
 /**
  * collectd - src/cpu.c
- * Copyright (C) 2005-2010  Florian octo Forster
+ * Copyright (C) 2005-2014  Florian octo Forster
  * Copyright (C) 2008       Oleg King
  * Copyright (C) 2009       Simon Kuhnle
  * Copyright (C) 2009       Manuel Sanmartin
+ * Copyright (C) 2013-2014  Pierre-Yves Ritschard
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -16,16 +17,17 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Oleg King <king2 at kaluga.ru>
  *   Simon Kuhnle <simon at blarzwurst.de>
  *   Manuel Sanmartin
+ *   Pierre-Yves Ritschard <pyr at spootnik.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
@@ -83,12 +85,24 @@
 #  define CAN_USE_SYSCTL 0
 # endif
 #else
 # define CAN_USE_SYSCTL 0
 #endif
 
+#define COLLECTD_CPU_STATE_USER 0
+#define COLLECTD_CPU_STATE_SYSTEM 1
+#define COLLECTD_CPU_STATE_WAIT 2
+#define COLLECTD_CPU_STATE_NICE 3
+#define COLLECTD_CPU_STATE_SWAP 4
+#define COLLECTD_CPU_STATE_INTERRUPT 5
+#define COLLECTD_CPU_STATE_SOFTIRQ 6
+#define COLLECTD_CPU_STATE_STEAL 7
+#define COLLECTD_CPU_STATE_IDLE 8
+#define COLLECTD_CPU_STATE_ACTIVE 9 /* sum of (!idle) */
+#define COLLECTD_CPU_STATE_MAX 10 /* #states */
+
 #if HAVE_STATGRAB_H
 # include <statgrab.h>
 #endif
 
 # ifdef HAVE_PERFSTAT
 #  include <sys/protosw.h>
@@ -97,12 +111,25 @@
 
 #if !PROCESSOR_CPU_LOAD_INFO && !KERNEL_LINUX && !HAVE_LIBKSTAT \
 	&& !CAN_USE_SYSCTL && !HAVE_SYSCTLBYNAME && !HAVE_LIBSTATGRAB && !HAVE_PERFSTAT
 # error "No applicable input method."
 #endif
 
+static const char *cpu_state_names[] = {
+	"user",
+	"system",
+	"wait",
+	"nice",
+	"swap",
+	"interrupt",
+	"softirq",
+	"steal",
+	"idle",
+	"active"
+};
+
 #ifdef PROCESSOR_CPU_LOAD_INFO
 static mach_port_t port_host;
 static processor_port_array_t cpu_list;
 static mach_msg_type_number_t cpu_list_len;
 /* #endif PROCESSOR_CPU_LOAD_INFO */
 
@@ -136,38 +163,76 @@
 #elif defined(HAVE_PERFSTAT)
 static perfstat_cpu_t *perfcpu;
 static int numcpu;
 static int pnumcpu;
 #endif /* HAVE_PERFSTAT */
 
+#define RATE_ADD(sum, val) do { \
+	if (isnan (sum))        \
+	(sum) = (val);          \
+	else if (!isnan (val))  \
+	(sum) += (val);         \
+} while (0)
+
+struct cpu_state_s
+{
+	value_to_rate_state_t conv;
+	gauge_t rate;
+	_Bool has_value;
+};
+typedef struct cpu_state_s cpu_state_t;
+
+static cpu_state_t *cpu_states = NULL;
+static size_t cpu_states_num = 0; /* #cpu_states allocated */
+
+/* Highest CPU number in the current iteration. Used by the dispatch logic to
+ * determine how many CPUs there were. Reset to 0 by cpu_reset(). */
+static size_t global_cpu_num = 0;
+
+static _Bool report_by_cpu = 1;
+static _Bool report_by_state = 1;
+static _Bool report_percent = 0;
+
+static const char *config_keys[] =
+{
+	"ReportByCpu",
+	"ReportByState",
+	"ValuesPercentage"
+};
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+
+static int cpu_config (char const *key, char const *value) /* {{{ */
+{
+	if (strcasecmp (key, "ReportByCpu") == 0)
+		report_by_cpu = IS_TRUE (value) ? 1 : 0;
+	else if (strcasecmp (key, "ValuesPercentage") == 0)
+		report_percent = IS_TRUE (value) ? 1 : 0;
+	else if (strcasecmp (key, "ReportByState") == 0)
+		report_by_state = IS_TRUE (value) ? 1 : 0;
+	else
+		return (-1);
+
+	return (0);
+} /* }}} int cpu_config */
+
 static int init (void)
 {
 #if PROCESSOR_CPU_LOAD_INFO
 	kern_return_t status;
 
 	port_host = mach_host_self ();
 
-	status = host_processors (port_host, &cpu_list, &cpu_list_len);
-	if (status == KERN_INVALID_ARGUMENT)
-	{
-		ERROR ("cpu plugin: Don't have a privileged host control port. "
-				"The most common cause for this problem is "
-				"that collectd is running without root "
-				"privileges, which are required to read CPU "
-				"load information. "
-				"<https://collectd.org/bugs/22>");
-		cpu_list_len = 0;
-		return (-1);
-	}
-	if (status != KERN_SUCCESS)
+	/* FIXME: Free `cpu_list' if it's not NULL */
+	if ((status = host_processors (port_host, &cpu_list, &cpu_list_len)) != KERN_SUCCESS)
 	{
-		ERROR ("cpu plugin: host_processors() failed with status %d.", (int) status);
+		ERROR ("cpu plugin: host_processors returned %i", (int) status);
 		cpu_list_len = 0;
 		return (-1);
 	}
 
+	DEBUG ("host_processors returned %i %s", (int) cpu_list_len, cpu_list_len == 1 ? "processor" : "processors");
 	INFO ("cpu plugin: Found %i processor%s.", (int) cpu_list_len, cpu_list_len == 1 ? "" : "s");
 /* #endif PROCESSOR_CPU_LOAD_INFO */
 
 #elif defined(HAVE_LIBKSTAT)
 	kstat_t *ksp_chain;
 
@@ -240,34 +305,263 @@
 	/* nothing to initialize */
 #endif /* HAVE_PERFSTAT */
 
 	return (0);
 } /* int init */
 
-static void submit (int cpu_num, const char *type_instance, derive_t value)
+static void submit_value (int cpu_num, int cpu_state, const char *type, value_t value)
 {
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
-	values[0].derive = value;
+	memcpy(&values[0], &value, sizeof(value));
 
 	vl.values = values;
 	vl.values_len = 1;
+
 	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
 	sstrncpy (vl.plugin, "cpu", sizeof (vl.plugin));
-	ssnprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
-			"%i", cpu_num);
-	sstrncpy (vl.type, "cpu", sizeof (vl.type));
-	sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
-
+	sstrncpy (vl.type, type, sizeof (vl.type));
+	sstrncpy (vl.type_instance, cpu_state_names[cpu_state],
+			sizeof (vl.type_instance));
+
+	if (cpu_num >= 0) {
+		ssnprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
+				"%i", cpu_num);
+	}
 	plugin_dispatch_values (&vl);
 }
 
+static void submit_percent(int cpu_num, int cpu_state, gauge_t percent)
+{
+	value_t value;
+
+	/* This function is called for all known CPU states, but each read
+	 * method will only report a subset. The remaining states are left as
+	 * NAN and we ignore them here. */
+	if (isnan (percent))
+		return;
+
+	value.gauge = percent;
+	submit_value (cpu_num, cpu_state, "percent", value);
+}
+
+static void submit_derive(int cpu_num, int cpu_state, derive_t derive)
+{
+	value_t value;
+
+	value.derive = derive;
+	submit_value (cpu_num, cpu_state, "cpu", value);
+}
+
+/* Takes the zero-index number of a CPU and makes sure that the module-global
+ * cpu_states buffer is large enough. Returne ENOMEM on erorr. */
+static int cpu_states_alloc (size_t cpu_num) /* {{{ */
+{
+	cpu_state_t *tmp;
+	size_t sz;
+
+	sz = (((size_t) cpu_num) + 1) * COLLECTD_CPU_STATE_MAX;
+	assert (sz > 0);
+
+	/* We already have enough space. */
+	if (cpu_states_num >= sz)
+		return 0;
+
+	tmp = realloc (cpu_states, sz * sizeof (*cpu_states));
+	if (tmp == NULL)
+	{
+		ERROR ("cpu plugin: realloc failed.");
+		return (ENOMEM);
+	}
+	cpu_states = tmp;
+	tmp = cpu_states + cpu_states_num;
+
+	memset (tmp, 0, (sz - cpu_states_num) * sizeof (*cpu_states));
+	cpu_states_num = sz;
+	return 0;
+} /* }}} cpu_states_alloc */
+
+static cpu_state_t *get_cpu_state (size_t cpu_num, size_t state) /* {{{ */
+{
+	size_t index = ((cpu_num * COLLECTD_CPU_STATE_MAX) + state);
+
+	if (index >= cpu_states_num)
+		return (NULL);
+
+	return (&cpu_states[index]);
+} /* }}} cpu_state_t *get_cpu_state */
+
+/* Populates the per-CPU COLLECTD_CPU_STATE_ACTIVE rate and the global rate_by_state
+ * array. */
+static void aggregate (gauge_t *sum_by_state) /* {{{ */
+{
+	size_t cpu_num;
+	size_t state;
+
+	for (state = 0; state < COLLECTD_CPU_STATE_MAX; state++)
+		sum_by_state[state] = NAN;
+
+	for (cpu_num = 0; cpu_num < global_cpu_num; cpu_num++)
+	{
+		cpu_state_t *this_cpu_states = get_cpu_state (cpu_num, 0);
+
+		this_cpu_states[COLLECTD_CPU_STATE_ACTIVE].rate = NAN;
+
+		for (state = 0; state < COLLECTD_CPU_STATE_ACTIVE; state++)
+		{
+			if (!this_cpu_states[state].has_value)
+				continue;
+
+			RATE_ADD (sum_by_state[state], this_cpu_states[state].rate);
+			if (state != COLLECTD_CPU_STATE_IDLE)
+				RATE_ADD (this_cpu_states[COLLECTD_CPU_STATE_ACTIVE].rate, this_cpu_states[state].rate);
+		}
+
+		if (!isnan (this_cpu_states[COLLECTD_CPU_STATE_ACTIVE].rate))
+			this_cpu_states[COLLECTD_CPU_STATE_ACTIVE].has_value = 1;
+
+		RATE_ADD (sum_by_state[COLLECTD_CPU_STATE_ACTIVE], this_cpu_states[COLLECTD_CPU_STATE_ACTIVE].rate);
+	}
+} /* }}} void aggregate */
+
+/* Commits (dispatches) the values for one CPU or the global aggregation.
+ * cpu_num is the index of the CPU to be committed or -1 in case of the global
+ * aggregation. rates is a pointer to COLLECTD_CPU_STATE_MAX gauge_t values holding the
+ * current rate; each rate may be NAN. Calculates the percentage of each state
+ * and dispatches the metric. */
+static void cpu_commit_one (int cpu_num, /* {{{ */
+		gauge_t rates[static COLLECTD_CPU_STATE_MAX])
+{
+	size_t state;
+	gauge_t sum;
+
+	sum = rates[COLLECTD_CPU_STATE_ACTIVE];
+	RATE_ADD (sum, rates[COLLECTD_CPU_STATE_IDLE]);
+
+	if (!report_by_state)
+	{
+		gauge_t percent = 100.0 * rates[COLLECTD_CPU_STATE_ACTIVE] / sum;
+		submit_percent (cpu_num, COLLECTD_CPU_STATE_ACTIVE, percent);
+		return;
+	}
+
+	for (state = 0; state < COLLECTD_CPU_STATE_ACTIVE; state++)
+	{
+		gauge_t percent = 100.0 * rates[state] / sum;
+		submit_percent (cpu_num, state, percent);
+	}
+} /* }}} void cpu_commit_one */
+
+/* Resets the internal aggregation. This is called by the read callback after
+ * each iteration / after each call to cpu_commit(). */
+static void cpu_reset (void) /* {{{ */
+{
+	size_t i;
+
+	for (i = 0; i < cpu_states_num; i++)
+		cpu_states[i].has_value = 0;
+
+	global_cpu_num = 0;
+} /* }}} void cpu_reset */
+
+/* Legacy behavior: Dispatches the raw derive values without any aggregation. */
+static void cpu_commit_without_aggregation (void) /* {{{ */
+{
+	int state;
+
+	for (state = 0; state < COLLECTD_CPU_STATE_ACTIVE; state++)
+	{
+		size_t cpu_num;
+
+		for (cpu_num = 0; cpu_num < global_cpu_num; cpu_num++)
+		{
+			cpu_state_t *s = get_cpu_state (cpu_num, state);
+
+			if (!s->has_value)
+				continue;
+
+			submit_derive ((int) cpu_num, (int) state, s->conv.last_value.derive);
+		}
+	}
+} /* }}} void cpu_commit_without_aggregation */
+
+/* Aggregates the internal state and dispatches the metrics. */
+static void cpu_commit (void) /* {{{ */
+{
+	gauge_t global_rates[COLLECTD_CPU_STATE_MAX] = {
+		NAN, NAN, NAN, NAN, NAN, NAN, NAN, NAN, NAN, NAN /* Batman! */
+	};
+	size_t cpu_num;
+
+	if (report_by_state && report_by_cpu && !report_percent)
+	{
+		cpu_commit_without_aggregation ();
+		return;
+	}
+
+	aggregate (global_rates);
+
+	if (!report_by_cpu)
+	{
+		cpu_commit_one (-1, global_rates);
+		return;
+	}
+
+	for (cpu_num = 0; cpu_num < global_cpu_num; cpu_num++)
+	{
+		cpu_state_t *this_cpu_states = get_cpu_state (cpu_num, 0);
+		gauge_t local_rates[COLLECTD_CPU_STATE_MAX] = {
+			NAN, NAN, NAN, NAN, NAN, NAN, NAN, NAN, NAN, NAN
+		};
+		size_t state;
+
+		for (state = 0; state < COLLECTD_CPU_STATE_MAX; state++)
+			if (this_cpu_states[state].has_value)
+				local_rates[state] = this_cpu_states[state].rate;
+
+		cpu_commit_one ((int) cpu_num, local_rates);
+	}
+} /* }}} void cpu_commit */
+
+/* Adds a derive value to the internal state. This should be used by each read
+ * function for each state. At the end of the iteration, the read function
+ * should call cpu_commit(). */
+static int cpu_stage (size_t cpu_num, size_t state, derive_t value, cdtime_t now) /* {{{ */
+{
+	int status;
+	cpu_state_t *s;
+	value_t v;
+
+	if (state >= COLLECTD_CPU_STATE_ACTIVE)
+		return (EINVAL);
+
+	status = cpu_states_alloc (cpu_num);
+	if (status != 0)
+		return (status);
+
+	if (global_cpu_num <= cpu_num)
+		global_cpu_num = cpu_num + 1;
+
+	s = get_cpu_state (cpu_num, state);
+
+	v.gauge = NAN;
+	status = value_to_rate (&v, value, &s->conv, DS_TYPE_DERIVE, now);
+	if (status != 0)
+		return (status);
+
+	s->rate = v.gauge;
+	s->has_value = 1;
+	return (0);
+} /* }}} int cpu_stage */
+
 static int cpu_read (void)
 {
-#if PROCESSOR_CPU_LOAD_INFO
+	cdtime_t now = cdtime ();
+
+#if PROCESSOR_CPU_LOAD_INFO /* {{{ */
 	int cpu;
 
 	kern_return_t status;
 
 	processor_cpu_load_info_data_t cpu_info;
 	mach_msg_type_number_t         cpu_info_len;
@@ -285,29 +579,27 @@
 		{
 			ERROR ("cpu plugin: processor_info (PROCESSOR_CPU_LOAD_INFO) failed: %s",
 					mach_error_string (status));
 			continue;
 		}
 
-		if (cpu_info_len < CPU_STATE_MAX)
+		if (cpu_info_len < COLLECTD_CPU_STATE_MAX)
 		{
 			ERROR ("cpu plugin: processor_info returned only %i elements..", cpu_info_len);
 			continue;
 		}
 
-		submit (cpu, "user", (derive_t) cpu_info.cpu_ticks[CPU_STATE_USER]);
-		submit (cpu, "nice", (derive_t) cpu_info.cpu_ticks[CPU_STATE_NICE]);
-		submit (cpu, "system", (derive_t) cpu_info.cpu_ticks[CPU_STATE_SYSTEM]);
-		submit (cpu, "idle", (derive_t) cpu_info.cpu_ticks[CPU_STATE_IDLE]);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_USER,   (derive_t) cpu_info.cpu_ticks[COLLECTD_CPU_STATE_USER],   now);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_NICE,   (derive_t) cpu_info.cpu_ticks[COLLECTD_CPU_STATE_NICE],   now);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_SYSTEM, (derive_t) cpu_info.cpu_ticks[COLLECTD_CPU_STATE_SYSTEM], now);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_IDLE,   (derive_t) cpu_info.cpu_ticks[COLLECTD_CPU_STATE_IDLE],   now);
 	}
-/* #endif PROCESSOR_CPU_LOAD_INFO */
+/* }}} #endif PROCESSOR_CPU_LOAD_INFO */
 
-#elif defined(KERNEL_LINUX)
+#elif defined(KERNEL_LINUX) /* {{{ */
 	int cpu;
-	derive_t user, nice, syst, idle;
-	derive_t wait, intr, sitr; /* sitr == soft interrupt */
 	FILE *fh;
 	char buf[1024];
 
 	char *fields[9];
 	int numfields;
 
@@ -328,66 +620,51 @@
 
 		numfields = strsplit (buf, fields, 9);
 		if (numfields < 5)
 			continue;
 
 		cpu = atoi (fields[0] + 3);
-		user = atoll (fields[1]);
-		nice = atoll (fields[2]);
-		syst = atoll (fields[3]);
-		idle = atoll (fields[4]);
-
-		submit (cpu, "user", user);
-		submit (cpu, "nice", nice);
-		submit (cpu, "system", syst);
-		submit (cpu, "idle", idle);
+
+		cpu_stage (cpu, COLLECTD_CPU_STATE_USER,   (derive_t) atoll(fields[1]), now);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_NICE,   (derive_t) atoll(fields[2]), now);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_SYSTEM, (derive_t) atoll(fields[3]), now);
+		cpu_stage (cpu, COLLECTD_CPU_STATE_IDLE,   (derive_t) atoll(fields[4]), now);
 
 		if (numfields >= 8)
 		{
-			wait = atoll (fields[5]);
-			intr = atoll (fields[6]);
-			sitr = atoll (fields[7]);
-
-			submit (cpu, "wait", wait);
-			submit (cpu, "interrupt", intr);
-			submit (cpu, "softirq", sitr);
+			cpu_stage (cpu, COLLECTD_CPU_STATE_WAIT,      (derive_t) atoll(fields[5]), now);
+			cpu_stage (cpu, COLLECTD_CPU_STATE_INTERRUPT, (derive_t) atoll(fields[6]), now);
+			cpu_stage (cpu, COLLECTD_CPU_STATE_SOFTIRQ,   (derive_t) atoll(fields[7]), now);
 
 			if (numfields >= 9)
-				submit (cpu, "steal", atoll (fields[8]));
+				cpu_stage (cpu, COLLECTD_CPU_STATE_STEAL, (derive_t) atoll(fields[8]), now);
 		}
 	}
-
 	fclose (fh);
-/* #endif defined(KERNEL_LINUX) */
+/* }}} #endif defined(KERNEL_LINUX) */
 
-#elif defined(HAVE_LIBKSTAT)
+#elif defined(HAVE_LIBKSTAT) /* {{{ */
 	int cpu;
-	derive_t user, syst, idle, wait;
 	static cpu_stat_t cs;
 
 	if (kc == NULL)
 		return (-1);
 
 	for (cpu = 0; cpu < numcpu; cpu++)
 	{
 		if (kstat_read (kc, ksp[cpu], &cs) == -1)
 			continue; /* error message? */
 
-		idle = (derive_t) cs.cpu_sysinfo.cpu[CPU_IDLE];
-		user = (derive_t) cs.cpu_sysinfo.cpu[CPU_USER];
-		syst = (derive_t) cs.cpu_sysinfo.cpu[CPU_KERNEL];
-		wait = (derive_t) cs.cpu_sysinfo.cpu[CPU_WAIT];
-
-		submit (ksp[cpu]->ks_instance, "user", user);
-		submit (ksp[cpu]->ks_instance, "system", syst);
-		submit (ksp[cpu]->ks_instance, "idle", idle);
-		submit (ksp[cpu]->ks_instance, "wait", wait);
+		cpu_stage (ksp[cpu]->ks_instance, COLLECTD_CPU_STATE_IDLE,   (derive_t) cs.cpu_sysinfo.cpu[CPU_IDLE],   now);
+		cpu_stage (ksp[cpu]->ks_instance, COLLECTD_CPU_STATE_USER,   (derive_t) cs.cpu_sysinfo.cpu[CPU_USER],   now);
+		cpu_stage (ksp[cpu]->ks_instance, COLLECTD_CPU_STATE_SYSTEM, (derive_t) cs.cpu_sysinfo.cpu[CPU_KERNEL], now);
+		cpu_stage (ksp[cpu]->ks_instance, COLLECTD_CPU_STATE_WAIT,   (derive_t) cs.cpu_sysinfo.cpu[CPU_WAIT],   now);
 	}
-/* #endif defined(HAVE_LIBKSTAT) */
+/* }}} #endif defined(HAVE_LIBKSTAT) */
 
-#elif CAN_USE_SYSCTL
+#elif CAN_USE_SYSCTL /* {{{ */
 	uint64_t cpuinfo[numcpu][CPUSTATES];
 	size_t cpuinfo_size;
 	int status;
 	int i;
 
 	if (numcpu < 1)
@@ -437,20 +714,21 @@
 		for(i = 0; i < CPUSTATES; i++) {
 			cpuinfo[0][i] = cpuinfo_tmp[i];
 		}
 	}
 
 	for (i = 0; i < numcpu; i++) {
-		submit (i, "user",      cpuinfo[i][CP_USER]);
-		submit (i, "nice",      cpuinfo[i][CP_NICE]);
-		submit (i, "system",    cpuinfo[i][CP_SYS]);
-		submit (i, "idle",      cpuinfo[i][CP_IDLE]);
-		submit (i, "interrupt", cpuinfo[i][CP_INTR]);
+		cpu_stage (i, COLLECTD_CPU_STATE_USER,      (derive_t) cpuinfo[i][CP_USER], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_NICE,      (derive_t) cpuinfo[i][CP_NICE], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_SYSTEM,    (derive_t) cpuinfo[i][CP_SYS], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_IDLE,      (derive_t) cpuinfo[i][CP_IDLE], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_INTERRUPT, (derive_t) cpuinfo[i][CP_INTR], now);
 	}
-/* #endif CAN_USE_SYSCTL */
-#elif defined(HAVE_SYSCTLBYNAME) && defined(HAVE_SYSCTL_KERN_CP_TIMES)
+/* }}} #endif CAN_USE_SYSCTL */
+
+#elif defined(HAVE_SYSCTLBYNAME) && defined(HAVE_SYSCTL_KERN_CP_TIMES) /* {{{ */
 	long cpuinfo[maxcpu][CPUSTATES];
 	size_t cpuinfo_size;
 	int i;
 
 	memset (cpuinfo, 0, sizeof (cpuinfo));
 
@@ -461,20 +739,21 @@
 		ERROR ("cpu plugin: sysctlbyname failed: %s.",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
 	for (i = 0; i < numcpu; i++) {
-		submit (i, "user", cpuinfo[i][CP_USER]);
-		submit (i, "nice", cpuinfo[i][CP_NICE]);
-		submit (i, "system", cpuinfo[i][CP_SYS]);
-		submit (i, "idle", cpuinfo[i][CP_IDLE]);
-		submit (i, "interrupt", cpuinfo[i][CP_INTR]);
+		cpu_stage (i, COLLECTD_CPU_STATE_USER,      (derive_t) cpuinfo[i][CP_USER], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_NICE,      (derive_t) cpuinfo[i][CP_NICE], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_SYSTEM,    (derive_t) cpuinfo[i][CP_SYS], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_IDLE,      (derive_t) cpuinfo[i][CP_IDLE], now);
+		cpu_stage (i, COLLECTD_CPU_STATE_INTERRUPT, (derive_t) cpuinfo[i][CP_INTR], now);
 	}
-/* #endif HAVE_SYSCTL_KERN_CP_TIMES */
-#elif defined(HAVE_SYSCTLBYNAME)
+/* }}} #endif HAVE_SYSCTL_KERN_CP_TIMES */
+
+#elif defined(HAVE_SYSCTLBYNAME) /* {{{ */
 	long cpuinfo[CPUSTATES];
 	size_t cpuinfo_size;
 
 	cpuinfo_size = sizeof (cpuinfo);
 
 	if (sysctlbyname("kern.cp_time", &cpuinfo, &cpuinfo_size, NULL, 0) < 0)
@@ -482,38 +761,38 @@
 		char errbuf[1024];
 		ERROR ("cpu plugin: sysctlbyname failed: %s.",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
-	submit (0, "user", cpuinfo[CP_USER]);
-	submit (0, "nice", cpuinfo[CP_NICE]);
-	submit (0, "system", cpuinfo[CP_SYS]);
-	submit (0, "idle", cpuinfo[CP_IDLE]);
-	submit (0, "interrupt", cpuinfo[CP_INTR]);
-/* #endif HAVE_SYSCTLBYNAME */
+	cpu_stage (0, COLLECTD_CPU_STATE_USER,      (derive_t) cpuinfo[CP_USER], now);
+	cpu_stage (0, COLLECTD_CPU_STATE_NICE,      (derive_t) cpuinfo[CP_NICE], now);
+	cpu_stage (0, COLLECTD_CPU_STATE_SYSTEM,    (derive_t) cpuinfo[CP_SYS], now);
+	cpu_stage (0, COLLECTD_CPU_STATE_IDLE,      (derive_t) cpuinfo[CP_IDLE], now);
+	cpu_stage (0, COLLECTD_CPU_STATE_INTERRUPT, (derive_t) cpuinfo[CP_INTR], now);
+/* }}} #endif HAVE_SYSCTLBYNAME */
 
-#elif defined(HAVE_LIBSTATGRAB)
+#elif defined(HAVE_LIBSTATGRAB) /* {{{ */
 	sg_cpu_stats *cs;
 	cs = sg_get_cpu_stats ();
 
 	if (cs == NULL)
 	{
 		ERROR ("cpu plugin: sg_get_cpu_stats failed.");
 		return (-1);
 	}
 
-	submit (0, "idle",   (derive_t) cs->idle);
-	submit (0, "nice",   (derive_t) cs->nice);
-	submit (0, "swap",   (derive_t) cs->swap);
-	submit (0, "system", (derive_t) cs->kernel);
-	submit (0, "user",   (derive_t) cs->user);
-	submit (0, "wait",   (derive_t) cs->iowait);
-/* #endif HAVE_LIBSTATGRAB */
+	cpu_state (0, COLLECTD_CPU_STATE_IDLE,   (derive_t) cs->idle);
+	cpu_state (0, COLLECTD_CPU_STATE_NICE,   (derive_t) cs->nice);
+	cpu_state (0, COLLECTD_CPU_STATE_SWAP,   (derive_t) cs->swap);
+	cpu_state (0, COLLECTD_CPU_STATE_SYSTEM, (derive_t) cs->kernel);
+	cpu_state (0, COLLECTD_CPU_STATE_USER,   (derive_t) cs->user);
+	cpu_state (0, COLLECTD_CPU_STATE_WAIT,   (derive_t) cs->iowait);
+/* }}} #endif HAVE_LIBSTATGRAB */
 
-#elif defined(HAVE_PERFSTAT)
+#elif defined(HAVE_PERFSTAT) /* {{{ */
 	perfstat_id_t id;
 	int i, cpus;
 
 	numcpu =  perfstat_cpu(NULL, NULL, sizeof(perfstat_cpu_t), 0);
 	if(numcpu == -1)
 	{
@@ -539,21 +818,26 @@
 			sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
 	for (i = 0; i < cpus; i++)
 	{
-		submit (i, "idle",   (derive_t) perfcpu[i].idle);
-		submit (i, "system", (derive_t) perfcpu[i].sys);
-		submit (i, "user",   (derive_t) perfcpu[i].user);
-		submit (i, "wait",   (derive_t) perfcpu[i].wait);
+		cpu_stage (i, COLLECTD_CPU_STATE_IDLE,   (derive_t) perfcpu[i].idle, now);
+		cpu_stage (i, COLLECTD_CPU_STATE_SYSTEM, (derive_t) perfcpu[i].sys,  now);
+		cpu_stage (i, COLLECTD_CPU_STATE_USER,   (derive_t) perfcpu[i].user, now);
+		cpu_stage (i, COLLECTD_CPU_STATE_WAIT,   (derive_t) perfcpu[i].wait, now);
 	}
-#endif /* HAVE_PERFSTAT */
+#endif /* }}} HAVE_PERFSTAT */
 
+	cpu_commit ();
+	cpu_reset ();
 	return (0);
 }
 
 void module_register (void)
 {
 	plugin_register_init ("cpu", init);
+	plugin_register_config ("cpu", cpu_config, config_keys, config_keys_num);
 	plugin_register_read ("cpu", cpu_read);
 } /* void module_register */
+
+/* vim: set sw=8 sts=8 noet fdm=marker : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/cpython.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/cpython.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/cpython.h	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/cpython.h	2015-03-10 22:14:45.825114063 +0800
@@ -25,21 +25,21 @@
  **/
 
 /* Some python versions don't include this by default. */
 
 #include <longintrepr.h>
 
-/* These two macros are basicly Py_BEGIN_ALLOW_THREADS and Py_BEGIN_ALLOW_THREADS
+/* These two macros are basically Py_BEGIN_ALLOW_THREADS and Py_BEGIN_ALLOW_THREADS
  * from the other direction. If a Python thread calls a C function
  * Py_BEGIN_ALLOW_THREADS is used to allow other python threads to run because
  * we don't intend to call any Python functions.
  *
  * These two macros are used whenever a C thread intends to call some Python
  * function, usually because some registered callback was triggered.
  * Just like Py_BEGIN_ALLOW_THREADS it opens a block so these macros have to be
- * used in pairs. They aquire the GIL, create a new Python thread state and swap
+ * used in pairs. They acquire the GIL, create a new Python thread state and swap
  * the current thread state with the new one. This means this thread is now allowed
  * to execute Python code. */
 
 #define CPY_LOCK_THREADS {\
 	PyGILState_STATE gil_state;\
 	gil_state = PyGILState_Ensure();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/csv.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/csv.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/csv.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/csv.c	2015-03-10 22:14:45.825114063 +0800
@@ -14,21 +14,20 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Doug MacEachern <dougm@hyperic.com>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 #include "utils_cache.h"
-#include "utils_parse_option.h"
 
 /*
  * Private variables
  */
 static const char *config_keys[] =
 {
@@ -62,22 +61,19 @@
 	for (i = 0; i < ds->ds_num; i++)
 	{
 		if ((ds->ds[i].type != DS_TYPE_COUNTER)
 				&& (ds->ds[i].type != DS_TYPE_GAUGE)
 				&& (ds->ds[i].type != DS_TYPE_DERIVE)
 				&& (ds->ds[i].type != DS_TYPE_ABSOLUTE))
-		{
-			sfree (rates);
 			return (-1);
-		}
 
-		if (ds->ds[i].type == DS_TYPE_GAUGE)
+		if (ds->ds[i].type == DS_TYPE_GAUGE) 
 		{
 			status = ssnprintf (buffer + offset, buffer_len - offset,
 					",%lf", vl->values[i].gauge);
-		}
+		} 
 		else if (store_rates != 0)
 		{
 			if (rates == NULL)
 				rates = uc_get_rate (ds, vl);
 			if (rates == NULL)
 			{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/curl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/curl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/curl.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/curl.c	2015-05-20 20:04:47.187035468 +0800
@@ -14,13 +14,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Aman Gupta <aman at tmm1.net>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
@@ -55,19 +55,21 @@
   char *instance;
 
   char *url;
   char *user;
   char *pass;
   char *credentials;
+  _Bool digest;
   _Bool verify_peer;
   _Bool verify_host;
   char *cacert;
   struct curl_slist *headers;
   char *post_body;
   _Bool response_time;
   _Bool response_code;
+  int timeout;
 
   CURL *curl;
   char curl_errbuf[CURL_ERROR_SIZE];
   char *buffer;
   size_t buffer_size;
   size_t buffer_fill;
@@ -162,25 +164,22 @@
   sfree (wp);
 } /* }}} void cc_web_page_free */
 
 static int cc_config_append_string (const char *name, struct curl_slist **dest, /* {{{ */
     oconfig_item_t *ci)
 {
-  struct curl_slist *temp = NULL;
   if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
     WARNING ("curl plugin: `%s' needs exactly one string argument.", name);
     return (-1);
   }
 
-  temp = curl_slist_append(*dest, ci->values[0].value.string);
-  if (temp == NULL)
+  *dest = curl_slist_append(*dest, ci->values[0].value.string);
+  if (*dest == NULL)
     return (-1);
 
-  *dest = temp;
-
   return (0);
 } /* }}} int cc_config_append_string */
 
 static int cc_config_add_match_dstype (int *dstype_ret, /* {{{ */
     oconfig_item_t *ci)
 {
@@ -325,16 +324,13 @@
     }
 
     break;
   } /* while (status == 0) */
 
   if (status != 0)
-  {
-    cc_web_match_free (match);
     return (status);
-  }
 
   match->match = match_create_simple (match->regex, match->exclude_regex,
       match->dstype);
   if (match->match == NULL)
   {
     ERROR ("curl plugin: tail_match_add_match_simple failed.");
@@ -367,21 +363,25 @@
     return (-1);
   }
 
   curl_easy_setopt (wp->curl, CURLOPT_NOSIGNAL, 1L);
   curl_easy_setopt (wp->curl, CURLOPT_WRITEFUNCTION, cc_curl_callback);
   curl_easy_setopt (wp->curl, CURLOPT_WRITEDATA, wp);
-  curl_easy_setopt (wp->curl, CURLOPT_USERAGENT,
-      PACKAGE_NAME"/"PACKAGE_VERSION);
+  curl_easy_setopt (wp->curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
   curl_easy_setopt (wp->curl, CURLOPT_ERRORBUFFER, wp->curl_errbuf);
   curl_easy_setopt (wp->curl, CURLOPT_URL, wp->url);
   curl_easy_setopt (wp->curl, CURLOPT_FOLLOWLOCATION, 1L);
   curl_easy_setopt (wp->curl, CURLOPT_MAXREDIRS, 50L);
 
   if (wp->user != NULL)
   {
+#ifdef HAVE_CURLOPT_USERNAME
+    curl_easy_setopt (wp->curl, CURLOPT_USERNAME, wp->user);
+    curl_easy_setopt (wp->curl, CURLOPT_PASSWORD,
+        (wp->pass == NULL) ? "" : wp->pass);
+#else
     size_t credentials_size;
 
     credentials_size = strlen (wp->user) + 2;
     if (wp->pass != NULL)
       credentials_size += strlen (wp->pass);
 
@@ -392,24 +392,36 @@
       return (-1);
     }
 
     ssnprintf (wp->credentials, credentials_size, "%s:%s",
         wp->user, (wp->pass == NULL) ? "" : wp->pass);
     curl_easy_setopt (wp->curl, CURLOPT_USERPWD, wp->credentials);
+#endif
+
+    if (wp->digest)
+      curl_easy_setopt (wp->curl, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
   }
 
   curl_easy_setopt (wp->curl, CURLOPT_SSL_VERIFYPEER, (long) wp->verify_peer);
   curl_easy_setopt (wp->curl, CURLOPT_SSL_VERIFYHOST,
       wp->verify_host ? 2L : 0L);
   if (wp->cacert != NULL)
     curl_easy_setopt (wp->curl, CURLOPT_CAINFO, wp->cacert);
   if (wp->headers != NULL)
     curl_easy_setopt (wp->curl, CURLOPT_HTTPHEADER, wp->headers);
   if (wp->post_body != NULL)
     curl_easy_setopt (wp->curl, CURLOPT_POSTFIELDS, wp->post_body);
 
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+  if (wp->timeout >= 0)
+    curl_easy_setopt (wp->curl, CURLOPT_TIMEOUT_MS, (long) wp->timeout);
+  else
+    curl_easy_setopt (wp->curl, CURLOPT_TIMEOUT_MS,
+       CDTIME_T_TO_MS(plugin_get_interval()));
+#endif
+
   return (0);
 } /* }}} int cc_page_init_curl */
 
 static int cc_config_add_page (oconfig_item_t *ci) /* {{{ */
 {
   web_page_t *page;
@@ -429,16 +441,18 @@
     return (-1);
   }
   memset (page, 0, sizeof (*page));
   page->url = NULL;
   page->user = NULL;
   page->pass = NULL;
+  page->digest = 0;
   page->verify_peer = 1;
   page->verify_host = 1;
   page->response_time = 0;
   page->response_code = 0;
+  page->timeout = -1;
 
   page->instance = strdup (ci->values[0].value.string);
   if (page->instance == NULL)
   {
     ERROR ("curl plugin: strdup failed.");
     sfree (page);
@@ -454,12 +468,14 @@
     if (strcasecmp ("URL", child->key) == 0)
       status = cf_util_get_string (child, &page->url);
     else if (strcasecmp ("User", child->key) == 0)
       status = cf_util_get_string (child, &page->user);
     else if (strcasecmp ("Password", child->key) == 0)
       status = cf_util_get_string (child, &page->pass);
+    else if (strcasecmp ("Digest", child->key) == 0)
+      status = cf_util_get_boolean (child, &page->digest);
     else if (strcasecmp ("VerifyPeer", child->key) == 0)
       status = cf_util_get_boolean (child, &page->verify_peer);
     else if (strcasecmp ("VerifyHost", child->key) == 0)
       status = cf_util_get_boolean (child, &page->verify_host);
     else if (strcasecmp ("MeasureResponseTime", child->key) == 0)
       status = cf_util_get_boolean (child, &page->response_time);
@@ -471,12 +487,14 @@
       /* Be liberal with failing matches => don't set `status'. */
       cc_config_add_match (page, child);
     else if (strcasecmp ("Header", child->key) == 0)
       status = cc_config_append_string ("Header", &page->headers, child);
     else if (strcasecmp ("Post", child->key) == 0)
       status = cf_util_get_string (child, &page->post_body);
+    else if (strcasecmp ("Timeout", child->key) == 0)
+      status = cf_util_get_int (child, &page->timeout);
     else
     {
       WARNING ("curl plugin: Option `%s' not allowed here.", child->key);
       status = -1;
     }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/curl_json.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/curl_json.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/curl_json.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/curl_json.c	2015-05-20 20:04:47.187035468 +0800
@@ -68,17 +68,20 @@
   char *sock;
 
   char *url;
   char *user;
   char *pass;
   char *credentials;
+  _Bool digest;
   _Bool verify_peer;
   _Bool verify_host;
   char *cacert;
   struct curl_slist *headers;
   char *post_body;
+  cdtime_t interval;
+  int timeout;
 
   CURL *curl;
   char curl_errbuf[CURL_ERROR_SIZE];
 
   yajl_handle yajl;
   c_avl_tree_t *tree;
@@ -126,17 +129,23 @@
     return (len);
 #if !HAVE_YAJL_V2
   else if (status == yajl_status_insufficient_data)
     return (len);
 #endif
 
-  unsigned char *msg = yajl_get_error(db->yajl, /* verbose = */ 1,
-        /* jsonText = */ (unsigned char *) buf, (unsigned int) len);
-  ERROR ("curl_json plugin: yajl_parse failed: %s", msg);
-  yajl_free_error(db->yajl, msg);
-  return (0); /* abort write callback */
+  if (status != yajl_status_ok)
+  {
+    unsigned char *msg =
+      yajl_get_error(db->yajl, /* verbose = */ 1,
+          /* jsonText = */ (unsigned char *) buf, (unsigned int) len);
+    ERROR ("curl_json plugin: yajl_parse failed: %s", msg);
+    yajl_free_error(db->yajl, msg);
+    return (0); /* abort write callback */
+  }
+
+  return (len);
 } /* }}} size_t cj_curl_callback */
 
 static int cj_get_type (cj_key_t *key)
 {
   const data_set_t *ds;
 
@@ -220,13 +229,13 @@
 
   /* Create a null-terminated version of the string. */
   memcpy (buffer, number, number_len);
   buffer[sizeof (buffer) - 1] = 0;
 
   if ((key == NULL) || !CJ_IS_KEY (key)) {
-    if (key != NULL)
+    if (key != NULL && !db->state[db->depth].in_array/*can be inhomogeneous*/)
       NOTICE ("curl_json plugin: Found \"%s\", but the configuration expects"
               " a map.", buffer);
     cj_cb_inc_array_index (ctx, /* update_key = */ 1);
     key = db->state[db->depth].key;
     if (key == NULL) {
       return (CJ_CB_CONTINUE);
@@ -441,25 +450,22 @@
   return c_avl_create ((int (*) (const void *, const void *)) strcmp);
 }
 
 static int cj_config_append_string (const char *name, struct curl_slist **dest, /* {{{ */
     oconfig_item_t *ci)
 {
-  struct curl_slist *temp = NULL;
   if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
     WARNING ("curl_json plugin: `%s' needs exactly one string argument.", name);
     return (-1);
   }
 
-  temp = curl_slist_append(*dest, ci->values[0].value.string);
-  if (temp == NULL)
+  *dest = curl_slist_append(*dest, ci->values[0].value.string);
+  if (*dest == NULL)
     return (-1);
 
-  *dest = temp;
-
   return (0);
 } /* }}} int cj_config_append_string */
 
 static int cj_config_add_key (cj_t *db, /* {{{ */
                                    oconfig_item_t *ci)
 {
@@ -494,13 +500,12 @@
     }
   }
   else
   {
     ERROR ("curl_json plugin: cj_config: "
            "Invalid key: %s", ci->key);
-    cj_key_free (key);
     return (-1);
   }
 
   status = 0;
   for (i = 0; i < ci->children_num; i++)
   {
@@ -517,74 +522,78 @@
     }
 
     if (status != 0)
       break;
   } /* for (i = 0; i < ci->children_num; i++) */
 
-  if (status != 0)
+  while (status == 0)
   {
-    cj_key_free (key);
-    return (-1);
-  }
+    if (key->type == NULL)
+    {
+      WARNING ("curl_json plugin: `Type' missing in `Key' block.");
+      status = -1;
+    }
 
-  if (key->type == NULL)
-  {
-    WARNING ("curl_json plugin: `Type' missing in `Key' block.");
-    cj_key_free (key);
-    return (-1);
-  }
+    break;
+  } /* while (status == 0) */
 
   /* store path in a tree that will match the json map structure, example:
    * "httpd/requests/count",
    * "httpd/requests/current" ->
    * { "httpd": { "requests": { "count": $key, "current": $key } } }
    */
-  char *ptr;
-  char *name;
-  c_avl_tree_t *tree;
-
-  if (db->tree == NULL)
-    db->tree = cj_avl_create();
-
-  tree = db->tree;
-  ptr = key->path;
-  if (*ptr == '/')
-    ++ptr;
-
-  name = ptr;
-  while ((ptr = strchr (name, '/')) != NULL)
+  if (status == 0)
   {
+    char *ptr;
+    char *name;
     char ent[PATH_MAX];
-    c_avl_tree_t *value;
-    size_t len;
+    c_avl_tree_t *tree;
 
-    len = ptr - name;
-    if (len == 0)
-      break;
+    if (db->tree == NULL)
+      db->tree = cj_avl_create();
 
-    len = COUCH_MIN(len, sizeof (ent)-1);
-    sstrncpy (ent, name, len+1);
+    tree = db->tree;
+    name = key->path;
+    ptr = key->path;
+    if (*ptr == '/')
+      ++ptr;
 
-    if (c_avl_get (tree, ent, (void *) &value) != 0)
+    name = ptr;
+    while (*ptr)
     {
-      value = cj_avl_create ();
-      c_avl_insert (tree, strdup (ent), value);
-    }
-
-    tree = value;
-    name = ptr + 1;
-  }
+      if (*ptr == '/')
+      {
+        c_avl_tree_t *value;
+        int len;
+
+        len = ptr-name;
+        if (len == 0)
+          break;
+        len = COUCH_MIN(len, sizeof (ent)-1);
+        sstrncpy (ent, name, len+1);
+
+        if (c_avl_get (tree, ent, (void *) &value) != 0)
+        {
+          value = cj_avl_create ();
+          c_avl_insert (tree, strdup (ent), value);
+        }
 
-  if (strlen (name) == 0)
-  {
-    ERROR ("curl_json plugin: invalid key: %s", key->path);
-    cj_key_free (key);
-    return (-1);
+        tree = value;
+        name = ptr+1;
+      }
+      ++ptr;
+    }
+    if (*name)
+      c_avl_insert (tree, strdup(name), key);
+    else
+    {
+      ERROR ("curl_json plugin: invalid key: %s", key->path);
+      status = -1;
+    }
   }
 
-  c_avl_insert (tree, strdup (name), key);
   return (status);
 } /* }}} int cj_config_add_key */
 
 static int cj_init_curl (cj_t *db) /* {{{ */
 {
   db->curl = curl_easy_init ();
@@ -594,19 +603,25 @@
     return (-1);
   }
 
   curl_easy_setopt (db->curl, CURLOPT_NOSIGNAL, 1L);
   curl_easy_setopt (db->curl, CURLOPT_WRITEFUNCTION, cj_curl_callback);
   curl_easy_setopt (db->curl, CURLOPT_WRITEDATA, db);
-  curl_easy_setopt (db->curl, CURLOPT_USERAGENT,
-                    PACKAGE_NAME"/"PACKAGE_VERSION);
+  curl_easy_setopt (db->curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
   curl_easy_setopt (db->curl, CURLOPT_ERRORBUFFER, db->curl_errbuf);
   curl_easy_setopt (db->curl, CURLOPT_URL, db->url);
+  curl_easy_setopt (db->curl, CURLOPT_FOLLOWLOCATION, 1L);
+  curl_easy_setopt (db->curl, CURLOPT_MAXREDIRS, 50L);
 
   if (db->user != NULL)
   {
+#ifdef HAVE_CURLOPT_USERNAME
+    curl_easy_setopt (db->curl, CURLOPT_USERNAME, db->user);
+    curl_easy_setopt (db->curl, CURLOPT_PASSWORD,
+        (db->pass == NULL) ? "" : db->pass);
+#else
     size_t credentials_size;
 
     credentials_size = strlen (db->user) + 2;
     if (db->pass != NULL)
       credentials_size += strlen (db->pass);
 
@@ -617,24 +632,39 @@
       return (-1);
     }
 
     ssnprintf (db->credentials, credentials_size, "%s:%s",
                db->user, (db->pass == NULL) ? "" : db->pass);
     curl_easy_setopt (db->curl, CURLOPT_USERPWD, db->credentials);
+#endif
+
+    if (db->digest)
+      curl_easy_setopt (db->curl, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
   }
 
   curl_easy_setopt (db->curl, CURLOPT_SSL_VERIFYPEER, (long) db->verify_peer);
   curl_easy_setopt (db->curl, CURLOPT_SSL_VERIFYHOST,
                     db->verify_host ? 2L : 0L);
   if (db->cacert != NULL)
     curl_easy_setopt (db->curl, CURLOPT_CAINFO, db->cacert);
   if (db->headers != NULL)
     curl_easy_setopt (db->curl, CURLOPT_HTTPHEADER, db->headers);
   if (db->post_body != NULL)
     curl_easy_setopt (db->curl, CURLOPT_POSTFIELDS, db->post_body);
 
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+  if (db->timeout >= 0)
+    curl_easy_setopt (db->curl, CURLOPT_TIMEOUT_MS, (long) db->timeout);
+  else if (db->interval > 0)
+    curl_easy_setopt (db->curl, CURLOPT_TIMEOUT_MS,
+        CDTIME_T_TO_MS(db->timeout));
+  else
+    curl_easy_setopt (db->curl, CURLOPT_TIMEOUT_MS,
+        CDTIME_T_TO_MS(plugin_get_interval()));
+#endif
+
   return (0);
 } /* }}} int cj_init_curl */
 
 static int cj_config_add_url (oconfig_item_t *ci) /* {{{ */
 {
   cj_t *db;
@@ -654,21 +684,22 @@
   {
     ERROR ("curl_json plugin: malloc failed.");
     return (-1);
   }
   memset (db, 0, sizeof (*db));
 
+  db->timeout = -1;
+
   if (strcasecmp ("URL", ci->key) == 0)
     status = cf_util_get_string (ci, &db->url);
   else if (strcasecmp ("Sock", ci->key) == 0)
     status = cf_util_get_string (ci, &db->sock);
   else
   {
     ERROR ("curl_json plugin: cj_config: "
            "Invalid key: %s", ci->key);
-    cj_free (db);
     return (-1);
   }
   if (status != 0)
   {
     sfree (db);
     return (status);
@@ -684,24 +715,30 @@
     else if (strcasecmp ("Host", child->key) == 0)
       status = cf_util_get_string (child, &db->host);
     else if (db->url && strcasecmp ("User", child->key) == 0)
       status = cf_util_get_string (child, &db->user);
     else if (db->url && strcasecmp ("Password", child->key) == 0)
       status = cf_util_get_string (child, &db->pass);
+    else if (strcasecmp ("Digest", child->key) == 0)
+      status = cf_util_get_boolean (child, &db->digest);
     else if (db->url && strcasecmp ("VerifyPeer", child->key) == 0)
       status = cf_util_get_boolean (child, &db->verify_peer);
     else if (db->url && strcasecmp ("VerifyHost", child->key) == 0)
       status = cf_util_get_boolean (child, &db->verify_host);
     else if (db->url && strcasecmp ("CACert", child->key) == 0)
       status = cf_util_get_string (child, &db->cacert);
     else if (db->url && strcasecmp ("Header", child->key) == 0)
       status = cj_config_append_string ("Header", &db->headers, child);
     else if (db->url && strcasecmp ("Post", child->key) == 0)
       status = cf_util_get_string (child, &db->post_body);
     else if (strcasecmp ("Key", child->key) == 0)
       status = cj_config_add_key (db, child);
+    else if (strcasecmp ("Interval", child->key) == 0)
+      status = cf_util_get_cdtime(child, &db->interval);
+    else if (strcasecmp ("Timeout", child->key) == 0)
+      status = cf_util_get_int (child, &db->timeout);
     else
     {
       WARNING ("curl_json plugin: Option `%s' not allowed here.", child->key);
       status = -1;
     }
 
@@ -723,12 +760,15 @@
 
   /* If all went well, register this database for reading */
   if (status == 0)
   {
     user_data_t ud;
     char *cb_name;
+    struct timespec interval = { 0, 0 };
+
+    CDTIME_T_TO_TIMESPEC (db->interval, &interval);
 
     if (db->instance == NULL)
       db->instance = strdup("default");
 
     DEBUG ("curl_json plugin: Registering new read callback: %s",
            db->instance);
@@ -737,14 +777,15 @@
     ud.data = (void *) db;
     ud.free_func = cj_free;
 
     cb_name = ssnprintf_alloc ("curl_json-%s-%s",
                db->instance, db->url ? db->url : db->sock);
 
-    plugin_register_complex_read (/* group = */ "curl_json", cb_name, cj_read,
-                                  /* interval = */ NULL, &ud);
+    plugin_register_complex_read (/* group = */ NULL, cb_name, cj_read,
+                                  /* interval = */ (db->interval > 0) ? &interval : NULL,
+                                  &ud);
     sfree (cb_name);
   }
   else
   {
     cj_free (db);
     return (-1);
@@ -809,26 +850,28 @@
     host = hostname_g;
   else
     host = db->host;
 
   if (key->instance == NULL)
   {
-    if ((db->depth == 0) || (strcmp ("", db->state[db->depth-1].name) == 0))
-      sstrncpy (vl.type_instance, db->state[db->depth].name, sizeof (vl.type_instance));
-    else
-      ssnprintf (vl.type_instance, sizeof (vl.type_instance), "%s-%s",
-          db->state[db->depth-1].name, db->state[db->depth].name);
+    int i, len = 0;
+    for (i = 0; i < db->depth; i++)
+      len += ssnprintf(vl.type_instance+len, sizeof(vl.type_instance)-len,
+                       i ? "-%s" : "%s", db->state[i+1].name);
   }
   else
     sstrncpy (vl.type_instance, key->instance, sizeof (vl.type_instance));
 
   sstrncpy (vl.host, host, sizeof (vl.host));
   sstrncpy (vl.plugin, "curl_json", sizeof (vl.plugin));
   sstrncpy (vl.plugin_instance, db->instance, sizeof (vl.plugin_instance));
   sstrncpy (vl.type, key->type, sizeof (vl.type));
 
+  if (db->interval > 0)
+    vl.interval = db->interval;
+
   plugin_dispatch_values (&vl);
 } /* }}} int cj_submit */
 
 static int cj_sock_perform (cj_t *db) /* {{{ */
 {
   char errbuf[1024];
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/curl_xml.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/curl_xml.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/curl_xml.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/curl_xml.c	2015-05-21 04:09:46.035448950 +0800
@@ -73,16 +73,18 @@
   char *host;
 
   char *url;
   char *user;
   char *pass;
   char *credentials;
+  _Bool digest;
   _Bool verify_peer;
   _Bool verify_host;
   char *cacert;
   char *post_body;
+  int timeout;
   struct curl_slist *headers;
 
   cx_namespace_t *namespaces;
   size_t namespaces_num;
 
   CURL *curl;
@@ -212,25 +214,22 @@
   sfree (db);
 } /* }}} void cx_free */
 
 static int cx_config_append_string (const char *name, struct curl_slist **dest, /* {{{ */
     oconfig_item_t *ci)
 {
-  struct curl_slist *temp = NULL;
   if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
     WARNING ("curl_xml plugin: `%s' needs exactly one string argument.", name);
     return (-1);
   }
 
-  temp = curl_slist_append(*dest, ci->values[0].value.string);
-  if (temp == NULL)
+  *dest = curl_slist_append(*dest, ci->values[0].value.string);
+  if (*dest == NULL)
     return (-1);
 
-  *dest = temp;
-
   return (0);
 } /* }}} int cx_config_append_string */
 
 static int cx_check_type (const data_set_t *ds, cx_xpath_t *xpath) /* {{{ */
 {
   if (!ds)
@@ -696,44 +695,42 @@
   for (i = 0; i < ci->values_num; i++)
   {
     xpath->values[i].path_len = sizeof (ci->values[i].value.string);
     sstrncpy (xpath->values[i].path, ci->values[i].value.string, sizeof (xpath->values[i].path));
   }
 
-  return (0);
+  return (0); 
 } /* }}} cx_config_add_values */
 
-static int cx_config_add_xpath (cx_t *db, oconfig_item_t *ci) /* {{{ */
+static int cx_config_add_xpath (cx_t *db, /* {{{ */
+                                   oconfig_item_t *ci)
 {
   cx_xpath_t *xpath;
-  char *name;
-  llentry_t *le;
   int status;
   int i;
 
-  xpath = malloc (sizeof (*xpath));
+  xpath = (cx_xpath_t *) malloc (sizeof (*xpath));
   if (xpath == NULL)
   {
     ERROR ("curl_xml plugin: malloc failed.");
     return (-1);
   }
   memset (xpath, 0, sizeof (*xpath));
 
   status = cf_util_get_string (ci, &xpath->path);
   if (status != 0)
   {
-    cx_xpath_free (xpath);
+    sfree (xpath);
     return (status);
   }
 
   /* error out if xpath->path is an empty string */
-  if (strlen (xpath->path) == 0)
+  if (*xpath->path == 0)
   {
     ERROR ("curl_xml plugin: invalid xpath. "
            "xpath value can't be an empty string");
-    cx_xpath_free (xpath);
     return (-1);
   }
 
   status = 0;
   for (i = 0; i < ci->children_num; i++)
   {
@@ -754,55 +751,51 @@
     }
 
     if (status != 0)
       break;
   } /* for (i = 0; i < ci->children_num; i++) */
 
-  if (status != 0)
-  {
-    cx_xpath_free (xpath);
-    return status;
-  }
-
-  if (xpath->type == NULL)
+  if (status == 0 && xpath->type == NULL)
   {
     WARNING ("curl_xml plugin: `Type' missing in `xpath' block.");
-    cx_xpath_free (xpath);
-    return -1;
+    status = -1;
   }
 
-  if (db->list == NULL)
+  if (status == 0)
   {
-    db->list = llist_create();
+    char *name;
+    llentry_t *le;
+
     if (db->list == NULL)
     {
-      ERROR ("curl_xml plugin: list creation failed.");
-      cx_xpath_free (xpath);
-      return (-1);
+      db->list = llist_create();
+      if (db->list == NULL)
+      {
+        ERROR ("curl_xml plugin: list creation failed.");
+        return (-1);
+      }
     }
-  }
 
-  name = strdup (xpath->path);
-  if (name == NULL)
-  {
-    ERROR ("curl_xml plugin: strdup failed.");
-    cx_xpath_free (xpath);
-    return (-1);
-  }
+    name = strdup(xpath->path);
+    if (name == NULL)
+    {
+        ERROR ("curl_xml plugin: strdup failed.");
+        return (-1);
+    }
 
-  le = llentry_create (name, xpath);
-  if (le == NULL)
-  {
-    ERROR ("curl_xml plugin: llentry_create failed.");
-    cx_xpath_free (xpath);
-    sfree (name);
-    return (-1);
+    le = llentry_create (name, xpath);
+    if (le == NULL)
+    {
+      ERROR ("curl_xml plugin: llentry_create failed.");
+      return (-1);
+    }
+
+    llist_append (db->list, le);
   }
 
-  llist_append (db->list, le);
-  return (0);
+  return (status);
 } /* }}} int cx_config_add_xpath */
 
 static int cx_config_add_namespace (cx_t *db, /* {{{ */
     oconfig_item_t *ci)
 {
   cx_namespace_t *ns;
@@ -852,19 +845,25 @@
     return (-1);
   }
 
   curl_easy_setopt (db->curl, CURLOPT_NOSIGNAL, 1L);
   curl_easy_setopt (db->curl, CURLOPT_WRITEFUNCTION, cx_curl_callback);
   curl_easy_setopt (db->curl, CURLOPT_WRITEDATA, db);
-  curl_easy_setopt (db->curl, CURLOPT_USERAGENT,
-                    PACKAGE_NAME"/"PACKAGE_VERSION);
+  curl_easy_setopt (db->curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
   curl_easy_setopt (db->curl, CURLOPT_ERRORBUFFER, db->curl_errbuf);
   curl_easy_setopt (db->curl, CURLOPT_URL, db->url);
+  curl_easy_setopt (db->curl, CURLOPT_FOLLOWLOCATION, 1L);
+  curl_easy_setopt (db->curl, CURLOPT_MAXREDIRS, 50L);
 
   if (db->user != NULL)
   {
+#ifdef HAVE_CURLOPT_USERNAME
+    curl_easy_setopt (db->curl, CURLOPT_USERNAME, db->user);
+    curl_easy_setopt (db->curl, CURLOPT_PASSWORD,
+        (db->pass == NULL) ? "" : db->pass);
+#else
     size_t credentials_size;
 
     credentials_size = strlen (db->user) + 2;
     if (db->pass != NULL)
       credentials_size += strlen (db->pass);
 
@@ -875,24 +874,36 @@
       return (-1);
     }
 
     ssnprintf (db->credentials, credentials_size, "%s:%s",
                db->user, (db->pass == NULL) ? "" : db->pass);
     curl_easy_setopt (db->curl, CURLOPT_USERPWD, db->credentials);
+#endif
+
+    if (db->digest)
+      curl_easy_setopt (db->curl, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
   }
 
   curl_easy_setopt (db->curl, CURLOPT_SSL_VERIFYPEER, db->verify_peer ? 1L : 0L);
   curl_easy_setopt (db->curl, CURLOPT_SSL_VERIFYHOST,
                     db->verify_host ? 2L : 0L);
   if (db->cacert != NULL)
     curl_easy_setopt (db->curl, CURLOPT_CAINFO, db->cacert);
   if (db->headers != NULL)
     curl_easy_setopt (db->curl, CURLOPT_HTTPHEADER, db->headers);
   if (db->post_body != NULL)
     curl_easy_setopt (db->curl, CURLOPT_POSTFIELDS, db->post_body);
 
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+  if (db->timeout >= 0)
+    curl_easy_setopt (db->curl, CURLOPT_TIMEOUT_MS, (long) db->timeout);
+  else
+    curl_easy_setopt (db->curl, CURLOPT_TIMEOUT_MS,
+       CDTIME_T_TO_MS(plugin_get_interval()));
+#endif
+
   return (0);
 } /* }}} int cx_init_curl */
 
 static int cx_config_add_url (oconfig_item_t *ci) /* {{{ */
 {
   cx_t *db;
@@ -912,12 +923,14 @@
   {
     ERROR ("curl_xml plugin: malloc failed.");
     return (-1);
   }
   memset (db, 0, sizeof (*db));
 
+  db->timeout = -1;
+
   if (strcasecmp ("URL", ci->key) == 0)
   {
     status = cf_util_get_string (ci, &db->url);
     if (status != 0)
     {
       sfree (db);
@@ -925,13 +938,12 @@
     }
   }
   else
   {
     ERROR ("curl_xml plugin: cx_config: "
            "Invalid key: %s", ci->key);
-    cx_free (db);
     return (-1);
   }
 
   /* Fill the `cx_t' structure.. */
   for (i = 0; i < ci->children_num; i++)
   {
@@ -942,12 +954,14 @@
     else if (strcasecmp ("Host", child->key) == 0)
       status = cf_util_get_string (child, &db->host);
     else if (strcasecmp ("User", child->key) == 0)
       status = cf_util_get_string (child, &db->user);
     else if (strcasecmp ("Password", child->key) == 0)
       status = cf_util_get_string (child, &db->pass);
+    else if (strcasecmp ("Digest", child->key) == 0)
+      status = cf_util_get_boolean (child, &db->digest);
     else if (strcasecmp ("VerifyPeer", child->key) == 0)
       status = cf_util_get_boolean (child, &db->verify_peer);
     else if (strcasecmp ("VerifyHost", child->key) == 0)
       status = cf_util_get_boolean (child, &db->verify_host);
     else if (strcasecmp ("CACert", child->key) == 0)
       status = cf_util_get_string (child, &db->cacert);
@@ -956,12 +970,14 @@
     else if (strcasecmp ("Header", child->key) == 0)
       status = cx_config_append_string ("Header", &db->headers, child);
     else if (strcasecmp ("Post", child->key) == 0)
       status = cf_util_get_string (child, &db->post_body);
     else if (strcasecmp ("Namespace", child->key) == 0)
       status = cx_config_add_namespace (db, child);
+    else if (strcasecmp ("Timeout", child->key) == 0)
+      status = cf_util_get_int (child, &db->timeout);
     else
     {
       WARNING ("curl_xml plugin: Option `%s' not allowed here.", child->key);
       status = -1;
     }
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: daemon
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/dbi.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/dbi.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/dbi.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/dbi.c	2015-05-20 20:04:47.187035468 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/dbi.c
  * Copyright (C) 2008-2015  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -80,12 +85,14 @@
 #endif
 static udb_query_t     **queries       = NULL;
 static size_t            queries_num   = 0;
 static cdbi_database_t **databases     = NULL;
 static size_t            databases_num = 0;
 
+static int cdbi_read_database (user_data_t *ud);
+
 /*
  * Functions
  */
 static const char *cdbi_strerror (dbi_conn conn, /* {{{ */
     char *buffer, size_t buffer_size)
 {
@@ -381,15 +388,30 @@
     {
       ERROR ("dbi plugin: realloc failed");
       status = -1;
     }
     else
     {
+      user_data_t ud;
+      char *name = NULL;
+
       databases = temp;
       databases[databases_num] = db;
       databases_num++;
+
+      memset (&ud, 0, sizeof (ud));
+      ud.data = (void *) db;
+      ud.free_func = NULL;
+      name = ssnprintf_alloc("dbi:%s", db->name);
+
+      plugin_register_complex_read (/* group = */ NULL,
+          /* name = */ name ? name : db->name,
+          /* callback = */ cdbi_read_database,
+          /* interval = */ NULL,
+          /* user_data = */ &ud);
+      free (name);
     }
   }
 
   if (status != 0)
   {
     cdbi_database_free (db);
@@ -770,14 +792,15 @@
   }
 
   db->connection = connection;
   return (0);
 } /* }}} int cdbi_connect_database */
 
-static int cdbi_read_database (cdbi_database_t *db) /* {{{ */
+static int cdbi_read_database (user_data_t *ud) /* {{{ */
 {
+  cdbi_database_t *db = (cdbi_database_t *) ud->data;
   size_t i;
   int success;
   int status;
 
   unsigned int db_version;
 
@@ -810,38 +833,12 @@
     return (-1);
   }
 
   return (0);
 } /* }}} int cdbi_read_database */
 
-static int cdbi_read (void) /* {{{ */
-{
-  size_t i;
-  int success = 0;
-  int status;
-
-  /* TODO(octo): Starting with libdbi 0.9.0, there is an "instance" argument to
-   * the *_r-functions. We should probably have multiple read callbacks instead
-   * of this loop. */
-  for (i = 0; i < databases_num; i++)
-  {
-    status = cdbi_read_database (databases[i]);
-    if (status == 0)
-      success++;
-  }
-
-  if (success == 0)
-  {
-    ERROR ("dbi plugin: No database could be read. Will return an error so "
-        "the plugin will be delayed.");
-    return (-1);
-  }
-
-  return (0);
-} /* }}} int cdbi_read */
-
 static int cdbi_shutdown (void) /* {{{ */
 {
   size_t i;
 
   for (i = 0; i < databases_num; i++)
   {
@@ -863,13 +860,12 @@
 } /* }}} int cdbi_shutdown */
 
 void module_register (void) /* {{{ */
 {
   plugin_register_complex_config ("dbi", cdbi_config);
   plugin_register_init ("dbi", cdbi_init);
-  plugin_register_read ("dbi", cdbi_read);
   plugin_register_shutdown ("dbi", cdbi_shutdown);
 } /* }}} void module_register */
 
 /*
  * vim: shiftwidth=2 softtabstop=2 et fdm=marker
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/df.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/df.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/df.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/df.c	2015-03-10 22:14:45.833114238 +0800
@@ -14,13 +14,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Paul Sadauskas <psadauskas at gmail.com>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
@@ -50,12 +50,13 @@
 {
 	"Device",
 	"MountPoint",
 	"FSType",
 	"IgnoreSelected",
 	"ReportByDevice",
+	"ReportReserved",
 	"ReportInodes",
 	"ValuesAbsolute",
 	"ValuesPercentage"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
@@ -200,49 +201,26 @@
 	}
 
 	for (mnt_ptr = mnt_list; mnt_ptr != NULL; mnt_ptr = mnt_ptr->next)
 	{
 		unsigned long long blocksize;
 		char disk_name[256];
-		cu_mount_t *dup_ptr;
 		uint64_t blk_free;
 		uint64_t blk_reserved;
 		uint64_t blk_used;
 
-		char const *dev = (mnt_ptr->spec_device != NULL)
-			? mnt_ptr->spec_device
-			: mnt_ptr->device;
-
-		if (ignorelist_match (il_device, dev))
+		if (ignorelist_match (il_device,
+					(mnt_ptr->spec_device != NULL)
+					? mnt_ptr->spec_device
+					: mnt_ptr->device))
 			continue;
 		if (ignorelist_match (il_mountpoint, mnt_ptr->dir))
 			continue;
 		if (ignorelist_match (il_fstype, mnt_ptr->type))
 			continue;
 
-		/* search for duplicates *in front of* the current mnt_ptr. */
-		for (dup_ptr = mnt_list; dup_ptr != NULL; dup_ptr = dup_ptr->next)
-		{
-			/* No duplicate found: mnt_ptr is the first of its kind. */
-			if (dup_ptr == mnt_ptr)
-			{
-				dup_ptr = NULL;
-				break;
-			}
-
-			/* Duplicate found: leave non-NULL dup_ptr. */
-			if (by_device && (strcmp (mnt_ptr->spec_device, dup_ptr->spec_device) == 0))
-				break;
-			else if (!by_device && (strcmp (mnt_ptr->dir, dup_ptr->dir) == 0))
-				break;
-		}
-
-		/* ignore duplicates */
-		if (dup_ptr != NULL)
-			continue;
-
 		if (STATANYFS (mnt_ptr->dir, &statbuf) < 0)
 		{
 			char errbuf[1024];
 			ERROR (STATANYFS_STR"(%s) failed: %s",
 					mnt_ptr->dir,
 					sstrerror (errno, errbuf,
@@ -253,27 +231,31 @@
 		if (!statbuf.f_blocks)
 			continue;
 
 		if (by_device)
 		{
 			/* eg, /dev/hda1  -- strip off the "/dev/" */
-			if (strncmp (dev, "/dev/", strlen ("/dev/")) == 0)
-				sstrncpy (disk_name, dev + strlen ("/dev/"), sizeof (disk_name));
+			if (strncmp (mnt_ptr->spec_device, "/dev/", strlen ("/dev/")) == 0)
+				sstrncpy (disk_name, mnt_ptr->spec_device + strlen ("/dev/"), sizeof (disk_name));
 			else
-				sstrncpy (disk_name, dev, sizeof (disk_name));
+				sstrncpy (disk_name, mnt_ptr->spec_device, sizeof (disk_name));
 
 			if (strlen(disk_name) < 1)
 			{
 				DEBUG("df: no device name for mountpoint %s, skipping", mnt_ptr->dir);
 				continue;
 			}
 		}
 		else
 		{
 			if (strcmp (mnt_ptr->dir, "/") == 0)
+			{
+				if (strcmp (mnt_ptr->type, "rootfs") == 0)
+					continue;
 				sstrncpy (disk_name, "root", sizeof (disk_name));
+			}
 			else
 			{
 				int i, len;
 
 				sstrncpy (disk_name, mnt_ptr->dir + 1, sizeof (disk_name));
 				len = strlen (disk_name);
@@ -335,13 +317,13 @@
 					(gauge_t) ((float_t)(blk_used) / statbuf.f_blocks * 100));
 				}
 			else return (-1);
 		}
 
 		/* inode handling */
-		if (report_inodes && statbuf.f_files != 0 && statbuf.f_ffree != 0)
+		if (report_inodes)
 		{
 			uint64_t inode_free;
 			uint64_t inode_reserved;
 			uint64_t inode_used;
 
 			/* Sanity-check for the values in the struct */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/disk.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/disk.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/disk.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/disk.c	2015-03-10 22:14:45.833114238 +0800
@@ -125,17 +125,25 @@
 /* #endif HAVE_PERFSTAT */
 
 #else
 # error "No applicable input method."
 #endif
 
+#if HAVE_LIBUDEV
+#include <libudev.h>
+
+static char *conf_udev_name_attr = NULL;
+static struct udev *handle_udev;
+#endif
+
 static const char *config_keys[] =
 {
 	"Disk",
 	"UseBSDName",
-	"IgnoreSelected"
+	"IgnoreSelected",
+	"UdevNameAttr"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static ignorelist_t *ignorelist = NULL;
 
 static int disk_config (const char *key, const char *value)
@@ -162,12 +170,27 @@
     use_bsd_name = IS_TRUE (value) ? 1 : 0;
 #else
     WARNING ("disk plugin: The \"UseBSDName\" option is only supported "
         "on Mach / Mac OS X and will be ignored.");
 #endif
   }
+  else if (strcasecmp ("UdevNameAttr", key) == 0)
+  {
+#if HAVE_LIBUDEV
+    if (conf_udev_name_attr != NULL)
+    {
+      free (conf_udev_name_attr);
+      conf_udev_name_attr = NULL;
+    }
+    if ((conf_udev_name_attr = strdup (value)) == NULL)
+      return (1);
+#else
+    WARNING ("disk plugin: The \"UdevNameAttr\" option is only supported "
+        "if collectd is built with libudev support");
+#endif
+  }
   else
   {
     return (-1);
   }
 
   return (0);
@@ -246,22 +269,92 @@
 	sstrncpy (vl.type, type, sizeof (vl.type));
 
 	plugin_dispatch_values (&vl);
 } /* void disk_submit */
 
 #if KERNEL_LINUX
+static void submit_in_progress (char const *disk_name, gauge_t in_progress)
+{
+	value_t v;
+	value_list_t vl = VALUE_LIST_INIT;
+
+	if (ignorelist_match (ignorelist, disk_name) != 0)
+	  return;
+
+	v.gauge = in_progress;
+
+	vl.values = &v;
+	vl.values_len = 1;
+	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
+	sstrncpy (vl.plugin, "disk", sizeof (vl.plugin));
+	sstrncpy (vl.plugin_instance, disk_name, sizeof (vl.plugin_instance));
+	sstrncpy (vl.type, "pending_operations", sizeof (vl.type));
+
+	plugin_dispatch_values (&vl);
+}
+
+static void submit_io_time (char const *plugin_instance, derive_t io_time, derive_t weighted_time)
+{
+	value_t values[2];
+	value_list_t vl = VALUE_LIST_INIT;
+
+	if (ignorelist_match (ignorelist, plugin_instance) != 0)
+	  return;
+
+	values[0].derive = io_time;
+	values[1].derive = weighted_time;
+
+	vl.values = values;
+	vl.values_len = 2;
+	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
+	sstrncpy (vl.plugin, "disk", sizeof (vl.plugin));
+	sstrncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
+	sstrncpy (vl.type, "disk_io_time", sizeof (vl.type));
+
+	plugin_dispatch_values (&vl);
+}
+
+
 static counter_t disk_calc_time_incr (counter_t delta_time, counter_t delta_ops)
 {
 	double interval = CDTIME_T_TO_DOUBLE (plugin_get_interval ());
 	double avg_time = ((double) delta_time) / ((double) delta_ops);
 	double avg_time_incr = interval * avg_time;
 
 	return ((counter_t) (avg_time_incr + .5));
 }
 #endif
 
+#if HAVE_LIBUDEV
+/**
+ * Attempt to provide an rename disk instance from an assigned udev attribute.
+ *
+ * On success, it returns a strduped char* to the desired attribute value.
+ * Otherwise it returns NULL.
+ */
+
+static char *disk_udev_attr_name (struct udev *udev, char *disk_name, const char *attr)
+{
+	struct udev_device *dev;
+	const char *prop;
+	char *output = NULL;
+
+	dev = udev_device_new_from_subsystem_sysname (udev, "block", disk_name);
+	if (dev != NULL)
+	{
+		prop = udev_device_get_property_value (dev, attr);
+		if (prop) {
+			output = strdup (prop);
+			DEBUG ("disk plugin: renaming %s => %s", disk_name, output);
+		}
+		udev_device_unref (dev);
+	}
+	return output;
+}
+#endif
+
 #if HAVE_IOKIT_IOKITLIB_H
 static signed long long dict_get_value (CFDictionaryRef dict, const char *key)
 {
 	signed long long val_int;
 	CFNumberRef      val_obj;
 	CFStringRef      key_obj;
@@ -485,12 +578,15 @@
 	derive_t read_ops      = 0;
 	derive_t read_merged   = 0;
 	derive_t read_time     = 0;
 	derive_t write_ops     = 0;
 	derive_t write_merged  = 0;
 	derive_t write_time    = 0;
+	gauge_t in_progress    = NAN;
+	derive_t io_time       = 0;
+	derive_t weighted_time = 0;
 	int is_disk = 0;
 
 	diskstats_t *ds, *pre_ds;
 
 	if ((fh = fopen ("/proc/diskstats", "r")) == NULL)
 	{
@@ -502,15 +598,21 @@
 		}
 
 		/* Kernel is 2.4.* */
 		fieldshift = 1;
 	}
 
+#if HAVE_LIBUDEV
+	handle_udev = udev_new();
+#endif
+
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
 		char *disk_name;
+		char *output_name;
+		char *alt_name;
 
 		numfields = strsplit (buffer, fields, 32);
 
 		if ((numfields != (14 + fieldshift)) && (numfields != 7))
 			continue;
 
@@ -560,12 +662,17 @@
 			{
 				is_disk = 1;
 				read_merged  = atoll (fields[4 + fieldshift]);
 				read_time    = atoll (fields[6 + fieldshift]);
 				write_merged = atoll (fields[8 + fieldshift]);
 				write_time   = atoll (fields[10+ fieldshift]);
+
+				in_progress = atof (fields[11 + fieldshift]);
+
+				io_time       = atof (fields[12 + fieldshift]);
+				weighted_time = atof (fields[13 + fieldshift]);
 			}
 		}
 		else
 		{
 			DEBUG ("numfields = %i; => unknown file format.", numfields);
 			continue;
@@ -656,31 +763,51 @@
 		{
 			DEBUG ("disk plugin: ((read_ops == 0) && "
 					"(write_ops == 0)); => Not writing.");
 			continue;
 		}
 
+		output_name = disk_name;
+
+#if HAVE_LIBUDEV
+		alt_name = disk_udev_attr_name (handle_udev, disk_name,
+				conf_udev_name_attr);
+#else
+		alt_name = NULL;
+#endif
+		if (alt_name != NULL)
+			output_name = alt_name;
+
 		if ((ds->read_bytes != 0) || (ds->write_bytes != 0))
-			disk_submit (disk_name, "disk_octets",
+			disk_submit (output_name, "disk_octets",
 					ds->read_bytes, ds->write_bytes);
 
 		if ((ds->read_ops != 0) || (ds->write_ops != 0))
-			disk_submit (disk_name, "disk_ops",
+			disk_submit (output_name, "disk_ops",
 					read_ops, write_ops);
 
 		if ((ds->avg_read_time != 0) || (ds->avg_write_time != 0))
-			disk_submit (disk_name, "disk_time",
+			disk_submit (output_name, "disk_time",
 					ds->avg_read_time, ds->avg_write_time);
 
 		if (is_disk)
 		{
-			disk_submit (disk_name, "disk_merged",
+			disk_submit (output_name, "disk_merged",
 					read_merged, write_merged);
+			submit_in_progress (output_name, in_progress);
+			submit_io_time (output_name, io_time, weighted_time);
 		} /* if (is_disk) */
+
+		/* release udev-based alternate name, if allocated */
+		free(alt_name);
 	} /* while (fgets (buffer, sizeof (buffer), fh) != NULL) */
 
+#if HAVE_LIBUDEV
+	udev_unref(handle_udev);
+#endif
+
 	fclose (fh);
 /* #endif defined(KERNEL_LINUX) */
 
 #elif HAVE_LIBKSTAT
 # if HAVE_KSTAT_IO_T_WRITES && HAVE_KSTAT_IO_T_NWRITES && HAVE_KSTAT_IO_T_WTIME
 #  define KIO_ROCTETS reads
@@ -729,13 +856,18 @@
 		}
 	}
 /* #endif defined(HAVE_LIBKSTAT) */
 
 #elif defined(HAVE_LIBSTATGRAB)
 	sg_disk_io_stats *ds;
-	int disks, counter;
+# if HAVE_LIBSTATGRAB_0_90
+	size_t disks;
+# else
+	int disks;
+#endif
+	int counter;
 	char name[DATA_MAX_NAME_LEN];
 	
 	if ((ds = sg_get_disk_io_stats(&disks)) == NULL)
 		return (0);
 		
 	for (counter=0; counter < disks; counter++) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/dns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/dns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/dns.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/dns.c	2015-03-10 22:14:45.833114238 +0800
@@ -31,12 +31,13 @@
 
 #include "utils_dns.h"
 #include <pthread.h>
 #include <poll.h>
 
 #include <pcap.h>
+#include <pcap-bpf.h>
 
 /*
  * Private data types
  */
 struct counter_list_s
 {
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: drbd.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/email.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/email.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/email.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/email.c	2015-03-10 22:14:45.837114325 +0800
@@ -1,24 +1,29 @@
 /**
  * collectd - src/email.c
  * Copyright (C) 2006-2008  Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
+ * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
 /*
  * This plugin communicates with a spam filter, a virus scanner or similar
  * software using a UNIX socket and a very simple protocol:
@@ -248,12 +253,14 @@
 
 static void *collect (void *arg)
 {
 	collector_t *this = (collector_t *)arg;
 
 	while (1) {
+		int loop = 1;
+
 		conn_t *connection;
 
 		pthread_mutex_lock (&conns_mutex);
 
 		while (NULL == conns.head) {
 			pthread_cond_wait (&conn_available, &conns_mutex);
@@ -272,19 +279,21 @@
 		 * thread and connection management */
 		this->socket = connection->socket;
 
 		log_debug ("collect: handling connection on fd #%i",
 				fileno (this->socket));
 
-		while (42) {
+		while (loop) {
 			/* 256 bytes ought to be enough for anybody ;-) */
 			char line[256 + 1]; /* line + '\0' */
 			int  len = 0;
 
 			errno = 0;
 			if (NULL == fgets (line, sizeof (line), this->socket)) {
+				loop = 0;
+
 				if (0 != errno) {
 					char errbuf[1024];
 					log_err ("collect: reading from socket (fd #%i) "
 							"failed: %s", fileno (this->socket),
 							sstrerror (errno, errbuf, sizeof (errbuf)));
 				}
@@ -298,17 +307,14 @@
 
 				while (NULL != fgets (line, sizeof (line), this->socket))
 					if (('\n' == line[len - 1]) || ('\r' == line[len - 1]))
 						break;
 				continue;
 			}
-			if (len < 3) { /* [a-z] ':' '\n' */
-				continue;
-			}
 
-			line[len - 1] = 0;
+			line[len - 1] = '\0';
 
 			log_debug ("collect: line = '%s'", line);
 
 			if (':' != line[1]) {
 				log_err ("collect: syntax error in line '%s'", line);
 				continue;
@@ -325,45 +331,42 @@
 					continue;
 				}
 
 				bytes = atoi (tmp);
 
 				pthread_mutex_lock (&count_mutex);
-				type_list_incr (&list_count, type, /* increment = */ 1);
+				type_list_incr (&list_count, type, 1);
 				pthread_mutex_unlock (&count_mutex);
 
 				if (bytes > 0) {
 					pthread_mutex_lock (&size_mutex);
-					type_list_incr (&list_size, type, /* increment = */ bytes);
+					type_list_incr (&list_size, type, bytes);
 					pthread_mutex_unlock (&size_mutex);
 				}
 			}
 			else if ('s' == line[0]) { /* s:<value> */
 				pthread_mutex_lock (&score_mutex);
 				score = (score * (double)score_count + atof (line + 2))
 						/ (double)(score_count + 1);
 				++score_count;
 				pthread_mutex_unlock (&score_mutex);
 			}
 			else if ('c' == line[0]) { /* c:<type1>[,<type2>,...] */
-				char *dummy = line + 2;
-				char *endptr = NULL;
-				char *type;
-
-				pthread_mutex_lock (&check_mutex);
-				while ((type = strtok_r (dummy, ",", &endptr)) != NULL)
-				{
-					dummy = NULL;
-					type_list_incr (&list_check, type, /* increment = */ 1);
-				}
-				pthread_mutex_unlock (&check_mutex);
+				char *ptr  = NULL;
+				char *type = strtok_r (line + 2, ",", &ptr);
+
+				do {
+					pthread_mutex_lock (&check_mutex);
+					type_list_incr (&list_check, type, 1);
+					pthread_mutex_unlock (&check_mutex);
+				} while (NULL != (type = strtok_r (NULL, ",", &ptr)));
 			}
 			else {
 				log_err ("collect: unknown type '%c'", line[0]);
 			}
-		} /* while (42) */
+		} /* while (loop) */
 
 		log_debug ("Shutting down connection on fd #%i",
 				fileno (this->socket));
 
 		fclose (connection->socket);
 		free (connection);
@@ -508,48 +511,34 @@
 		}
 
 		--available_collectors;
 
 		pthread_mutex_unlock (&available_mutex);
 
-		while (42) {
+		do {
 			errno = 0;
-
-			remote = accept (connector_socket, NULL, NULL);
-			if (remote == -1) {
-				char errbuf[1024];
-
-				if (errno == EINTR)
-					continue;
-
-				disabled = 1;
-				close (connector_socket);
-				connector_socket = -1;
-				log_err ("accept() failed: %s",
-						 sstrerror (errno, errbuf, sizeof (errbuf)));
-				pthread_exit ((void *)1);
+			if (-1 == (remote = accept (connector_socket, NULL, NULL))) {
+				if (EINTR != errno) {
+					char errbuf[1024];
+					disabled = 1;
+					close (connector_socket);
+					connector_socket = -1;
+					log_err ("accept() failed: %s",
+							sstrerror (errno, errbuf, sizeof (errbuf)));
+					pthread_exit ((void *)1);
+				}
 			}
+		} while (EINTR == errno);
 
-			/* access() succeeded. */
-			break;
-		}
-
-		connection = malloc (sizeof (*connection));
-		if (connection == NULL)
-		{
-			close (remote);
-			continue;
-		}
-		memset (connection, 0, sizeof (*connection));
+		connection = (conn_t *)smalloc (sizeof (conn_t));
 
 		connection->socket = fdopen (remote, "r");
 		connection->next   = NULL;
 
 		if (NULL == connection->socket) {
 			close (remote);
-			sfree (connection);
 			continue;
 		}
 
 		pthread_mutex_lock (&conns_mutex);
 
 		if (NULL == conns.head) {
@@ -583,33 +572,16 @@
 		return (-1);
 	}
 
 	return (0);
 } /* int email_init */
 
-static void type_list_free (type_list_t *t)
-{
-	type_t *this;
-
-	this = t->head;
-	while (this != NULL)
-	{
-		type_t *next = this->next;
-
-		sfree (this->name);
-		sfree (this);
-
-		this = next;
-	}
-
-	t->head = NULL;
-	t->tail = NULL;
-}
-
 static int email_shutdown (void)
 {
+	type_t *ptr = NULL;
+
 	int i = 0;
 
 	if (connector != ((pthread_t) 0)) {
 		pthread_kill (connector, SIGTERM);
 		connector = (pthread_t) 0;
 	}
@@ -643,18 +615,41 @@
 		}
 		sfree (collectors);
 	} /* if (collectors != NULL) */
 
 	pthread_mutex_unlock (&conns_mutex);
 
-	type_list_free (&list_count);
-	type_list_free (&list_count_copy);
-	type_list_free (&list_size);
-	type_list_free (&list_size_copy);
-	type_list_free (&list_check);
-	type_list_free (&list_check_copy);
+	for (ptr = list_count.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_count_copy.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_size.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_size_copy.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_check.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_check_copy.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
 
 	unlink ((NULL == sock_file) ? SOCK_PATH : sock_file);
 
 	sfree (sock_file);
 	sfree (sock_group);
 	return (0);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/entropy.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/entropy.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/entropy.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/entropy.c	2015-03-10 22:14:45.837114325 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/entropy.c
- * Copyright (C) 2007  Florian octo Forster
+ * Copyright (C) 2007       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ethstat.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ethstat.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ethstat.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ethstat.c	2014-08-18 15:33:14.288460635 +0800
@@ -309,19 +309,15 @@
         sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
 
   for (i = 0; i < n_stats; i++)
   {
-    char *stat_name;
+    const char *stat_name;
 
     stat_name = (void *) &strings->data[i * ETH_GSTRING_LEN];
-    /* Remove leading spaces in key name */
-    while (isspace ((int) *stat_name))
-        stat_name++;
-
     DEBUG("ethstat plugin: device = \"%s\": %s = %"PRIu64,
         device, stat_name, (uint64_t) stats->data[i]);
     ethstat_submit_value (device,
         stat_name, (derive_t) stats->data[i]);
   }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/exec.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/exec.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/exec.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/exec.c	2015-05-20 20:04:47.187035468 +0800
@@ -15,13 +15,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Sebastian Harl <sh at tokkee.org>
  *   Peter Holik <peter at holik.at>
  **/
 
 #define _DEFAULT_SOURCE
 #define _BSD_SOURCE /* For setgroups */
@@ -336,13 +336,13 @@
   {
     ERROR ("exec plugin: setuid (%i) failed: %s",
         uid, sstrerror (errno, errbuf, sizeof (errbuf)));
     exit (-1);
   }
 
-  execvp (pl->exec, pl->argv);
+  status = execvp (pl->exec, pl->argv);
 
   ERROR ("exec plugin: Failed to execute ``%s'': %s",
       pl->exec, sstrerror (errno, errbuf, sizeof (errbuf)));
   exit (-1);
 } /* void exec_child }}} */
 
@@ -352,48 +352,23 @@
 
   memset (&ss, 0, sizeof (ss));
   sigemptyset (&ss);
   sigprocmask (SIG_SETMASK, &ss, /* old mask = */ NULL);
 } /* }}} void reset_signal_mask */
 
-static int create_pipe (int fd_pipe[2]) /* {{{ */
-{
-  char errbuf[1024];
-  int status;
-
-  status = pipe (fd_pipe);
-  if (status != 0)
-  {
-    ERROR ("exec plugin: pipe failed: %s",
-        sstrerror (errno, errbuf, sizeof (errbuf)));
-    return (-1);
-  }
-
-  return 0;
-} /* }}} int create_pipe */
-
-static void close_pipe (int fd_pipe[2]) /* {{{ */
-{
-  if (fd_pipe[0] != -1)
-    close (fd_pipe[0]);
-
-  if (fd_pipe[1] != -1)
-    close (fd_pipe[1]);
-} /* }}} void close_pipe */
-
 /*
  * Creates three pipes (one for reading, one for writing and one for errors),
  * forks a child, sets up the pipes so that fd_in is connected to STDIN of
  * the child and fd_out is connected to STDOUT and fd_err is connected to STDERR
  * of the child. Then is calls `exec_child'.
  */
 static int fork_child (program_list_t *pl, int *fd_in, int *fd_out, int *fd_err) /* {{{ */
 {
-  int fd_pipe_in[2] = {-1, -1};
-  int fd_pipe_out[2] = {-1, -1};
-  int fd_pipe_err[2] = {-1, -1};
+  int fd_pipe_in[2];
+  int fd_pipe_out[2];
+  int fd_pipe_err[2];
   char errbuf[1024];
   int status;
   int pid;
 
   int uid;
   int gid;
@@ -403,38 +378,56 @@
   struct passwd sp;
   char nambuf[2048];
 
   if (pl->pid != 0)
     return (-1);
 
-  if ((create_pipe(fd_pipe_in) == -1)
-      || (create_pipe(fd_pipe_out) == -1)
-      || (create_pipe(fd_pipe_err) == -1))
-    goto failed;
+  status = pipe (fd_pipe_in);
+  if (status != 0)
+  {
+    ERROR ("exec plugin: pipe failed: %s",
+        sstrerror (errno, errbuf, sizeof (errbuf)));
+    return (-1);
+  }
+
+  status = pipe (fd_pipe_out);
+  if (status != 0)
+  {
+    ERROR ("exec plugin: pipe failed: %s",
+        sstrerror (errno, errbuf, sizeof (errbuf)));
+    return (-1);
+  }
+
+  status = pipe (fd_pipe_err);
+  if (status != 0)
+  {
+    ERROR ("exec plugin: pipe failed: %s",
+        sstrerror (errno, errbuf, sizeof (errbuf)));
+    return (-1);
+  }
 
   sp_ptr = NULL;
   status = getpwnam_r (pl->user, &sp, nambuf, sizeof (nambuf), &sp_ptr);
   if (status != 0)
   {
     ERROR ("exec plugin: Failed to get user information for user ``%s'': %s",
         pl->user, sstrerror (errno, errbuf, sizeof (errbuf)));
-    goto failed;
+    return (-1);
   }
-
   if (sp_ptr == NULL)
   {
     ERROR ("exec plugin: No such user: `%s'", pl->user);
-    goto failed;
+    return (-1);
   }
 
   uid = sp.pw_uid;
   gid = sp.pw_gid;
   if (uid == 0)
   {
     ERROR ("exec plugin: Cowardly refusing to exec program as root.");
-    goto failed;
+    return (-1);
   }
 
   /* The group configured in the configfile is set as effective group, because
    * this way the forked process can (re-)gain the user's primary group. */
   egid = -1;
   if (NULL != pl->group)
@@ -446,18 +439,18 @@
       status = getgrnam_r (pl->group, &gr, nambuf, sizeof (nambuf), &gr_ptr);
       if (0 != status)
       {
         ERROR ("exec plugin: Failed to get group information "
             "for group ``%s'': %s", pl->group,
             sstrerror (errno, errbuf, sizeof (errbuf)));
-        goto failed;
+        return (-1);
       }
       if (NULL == gr_ptr)
       {
         ERROR ("exec plugin: No such group: `%s'", pl->group);
-        goto failed;
+        return (-1);
       }
 
       egid = gr.gr_gid;
     }
     else
     {
@@ -467,13 +460,13 @@
 
   pid = fork ();
   if (pid < 0)
   {
     ERROR ("exec plugin: fork failed: %s",
         sstrerror (errno, errbuf, sizeof (errbuf)));
-    goto failed;
+    return (-1);
   }
   else if (pid == 0)
   {
     int fd_num;
     int fd;
 
@@ -535,19 +528,12 @@
   if (fd_err != NULL)
     *fd_err = fd_pipe_err[0];
   else
     close (fd_pipe_err[0]);
 
   return (pid);
-
-failed:
-  close_pipe(fd_pipe_in);
-  close_pipe(fd_pipe_out);
-  close_pipe(fd_pipe_err);
-
-  return (-1);
 } /* int fork_child }}} */
 
 static int parse_line (char *buffer) /* {{{ */
 {
   if (strncasecmp ("PUTVAL", buffer, strlen ("PUTVAL")) == 0)
     return (handle_putval (stdout, buffer));
@@ -741,13 +727,14 @@
   fh = fdopen (fd, "w");
   if (fh == NULL)
   {
     char errbuf[1024];
     ERROR ("exec plugin: fdopen (%i) failed: %s", fd,
         sstrerror (errno, errbuf, sizeof (errbuf)));
-    kill (pid, SIGTERM);
+    kill (pl->pid, SIGTERM);
+    pl->pid = 0;
     close (fd);
     sfree (arg);
     pthread_exit ((void *) 1);
   }
 
   severity = "FAILURE";
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: fhcount.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/filecount.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/filecount.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/filecount.c	2016-07-26 15:47:12.957713794 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/filecount.c	2015-03-10 22:14:45.837114325 +0800
@@ -15,13 +15,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Alessandro Iurlano <alessandro.iurlano at gmail.com>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"       
 
@@ -353,13 +353,12 @@
   memset (dir, 0, sizeof (*dir));
 
   dir->path = strdup (ci->values[0].value.string);
   if (dir->path == NULL)
   {
     ERROR ("filecount plugin: strdup failed.");
-    sfree (dir);
     return (-1);
   }
 
   fc_config_set_instance (dir, dir->path);
 
   dir->options = FC_RECURSIVE;
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: filter_chain.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: filter_chain.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/gmond.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/gmond.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/gmond.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/gmond.c	2015-03-10 22:14:45.837114325 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/gmond.c
- * Copyright (C) 2009-2015  Florian octo Forster
+ * Copyright (C) 2009,2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -214,19 +219,19 @@
 {
   struct addrinfo  ai_hints;
   struct addrinfo *ai_list;
   struct addrinfo *ai_ptr;
   int              ai_return;
 
-  socket_entry_t *sockets = NULL;
-  size_t          sockets_num = 0;
+  socket_entry_t *sockets;
+  size_t          sockets_num;
 
   int status;
-
-  if (*ret_sockets != NULL)
-    return (EINVAL);
+    
+  sockets     = *ret_sockets;
+  sockets_num = *ret_sockets_num;
 
   memset (&ai_hints, 0, sizeof (ai_hints));
   ai_hints.ai_flags    = 0;
 #ifdef AI_PASSIVE
   ai_hints.ai_flags |= AI_PASSIVE;
 #endif
@@ -283,20 +288,14 @@
       break;
     }
     else
     {
       int yes = 1;
 
-      status = setsockopt (sockets[sockets_num].fd, SOL_SOCKET, SO_REUSEADDR,
+      setsockopt (sockets[sockets_num].fd, SOL_SOCKET, SO_REUSEADDR,
           (void *) &yes, sizeof (yes));
-      if (status != 0)
-      {
-        char errbuf[1024];
-        WARNING ("gmond plugin: setsockopt(2) failed: %s",
-                 sstrerror (errno, errbuf, sizeof (errbuf)));
-      }
     }
 
     status = bind (sockets[sockets_num].fd, ai_ptr->ai_addr, ai_ptr->ai_addrlen);
     if (status != 0)
     {
       char errbuf[1024];
@@ -358,17 +357,14 @@
 
     sockets_num++;
   } /* }}} for (ai_ptr = ai_list; ai_ptr != NULL; ai_ptr = ai_ptr->ai_next) */
 
   freeaddrinfo (ai_list);
 
-  if (sockets_num == 0)
-  {
-    sfree (sockets);
+  if ((*ret_sockets_num) >= sockets_num)
     return (-1);
-  }
 
   *ret_sockets = sockets;
   *ret_sockets_num = sockets_num;
   return (0);
 } /* }}} int create_sockets */
 
@@ -408,25 +404,16 @@
 
   DEBUG ("gmond plugin: Requesting meta data for %s/%s.",
       host, name);
 
   pthread_mutex_lock (&mc_send_sockets_lock);
   for (i = 0; i < mc_send_sockets_num; i++)
-  {
-    ssize_t status = sendto (mc_send_sockets[i].fd, buffer, (size_t) buffer_size,
+    sendto (mc_send_sockets[i].fd, buffer, (size_t) buffer_size,
         /* flags = */ 0,
         (struct sockaddr *) &mc_send_sockets[i].addr,
         mc_send_sockets[i].addrlen);
-    if (status == -1)
-    {
-      char errbuf[1024];
-      ERROR ("gmond plugin: sendto(2) failed: %s",
-             sstrerror (errno, errbuf, sizeof (errbuf)));
-      continue;
-    }
-  }
   pthread_mutex_unlock (&mc_send_sockets_lock);
 
   sfree (msg.Ganglia_metadata_msg_u.grequest.metric_id.host);
   sfree (msg.Ganglia_metadata_msg_u.grequest.metric_id.name);
   return (0);
 } /* }}} int request_meta_data */
@@ -486,12 +473,42 @@
     return (NULL);
   }
 
   return (se);
 } /* }}} staging_entry_t *staging_entry_get */
 
+static int staging_entry_submit (const char *host, const char *name, /* {{{ */
+    staging_entry_t *se)
+{
+  value_list_t vl;
+  value_t values[se->vl.values_len];
+
+  if (se->vl.interval == 0)
+  {
+    /* No meta data has been received for this metric yet. */
+    se->flags = 0;
+    pthread_mutex_unlock (&staging_lock);
+    request_meta_data (host, name);
+    return (0);
+  }
+
+  se->flags = 0;
+
+  memcpy (values, se->vl.values, sizeof (values));
+  memcpy (&vl, &se->vl, sizeof (vl));
+
+  /* Unlock before calling `plugin_dispatch_values'.. */
+  pthread_mutex_unlock (&staging_lock);
+
+  vl.values = values;
+
+  plugin_dispatch_values (&vl);
+
+  return (0);
+} /* }}} int staging_entry_submit */
+
 static int staging_entry_update (const char *host, const char *name, /* {{{ */
     const char *type, const char *type_instance,
     int ds_index, int ds_type, value_t value)
 {
   const data_set_t *ds;
   staging_entry_t *se;
@@ -535,36 +552,23 @@
     se->vl.values[ds_index].absolute = value.absolute;
   else
     assert (23 == 42);
 
   se->flags |= (0x01 << ds_index);
 
-  /* Check if all data sources have been set. If not, return here. */
-  if (se->flags != ((0x01 << se->vl.values_len) - 1))
+  /* Check if all values have been set and submit if so. */
+  if (se->flags == ((0x01 << se->vl.values_len) - 1))
   {
-    pthread_mutex_unlock (&staging_lock);
-    return (0);
+    /* `staging_lock' is unlocked in `staging_entry_submit'. */
+    staging_entry_submit (host, name, se);
   }
-
-  /* Check if the interval of this metric is known. If not, request meta data
-   * and return. */
-  if (se->vl.interval == 0)
+  else
   {
-    /* No meta data has been received for this metric yet. */
-    se->flags = 0;
     pthread_mutex_unlock (&staging_lock);
-
-    request_meta_data (host, name);
-    return (0);
   }
 
-  plugin_dispatch_values (&se->vl);
-
-  se->flags = 0;
-  pthread_mutex_unlock (&staging_lock);
-
   return (0);
 } /* }}} int staging_entry_update */
 
 static int mc_handle_value_msg (Ganglia_value_msg *msg) /* {{{ */
 {
   const char *host;
@@ -658,13 +662,13 @@
   {
     value_t val_copy;
 
     if ((map->ds_type == DS_TYPE_COUNTER)
         || (map->ds_type == DS_TYPE_ABSOLUTE))
       val_copy = value_counter;
-    else if (map->ds_type == DS_TYPE_GAUGE)
+    if (map->ds_type == DS_TYPE_GAUGE)
       val_copy = value_gauge;
     else if (map->ds_type == DS_TYPE_DERIVE)
       val_copy = value_derive;
     else
       assert (23 == 42);
 
@@ -865,13 +869,12 @@
     {
       if (mc_receive_sockets[i].revents != 0)
         mc_handle_socket (mc_receive_sockets + i);
     }
   } /* while (mc_receive_thread_loop != 0) */
 
-  free (mc_receive_socket_entries);
   return ((void *) 0);
 } /* }}} void *mc_receive_thread */
 
 static int mc_receive_thread_start (void) /* {{{ */
 {
   int status;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/hddtemp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/hddtemp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/hddtemp.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/hddtemp.c	2015-03-10 22:14:45.837114325 +0800
@@ -17,13 +17,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Vincent Stehl <vincent.stehle at free.fr>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Sebastian Harl <sh at tokkee.org>
  *
  * TODO:
  *   Do a pass, some day, and spare some memory. We consume too much for now
  *   in string buffers and the like.
  *
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/interface.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/interface.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/interface.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/interface.c	2015-03-10 22:14:45.837114325 +0800
@@ -14,13 +14,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Sune Marcher <sm at flork.dk>
  *   Manuel Sanmartin
  **/
 
 #include "collectd.h"
 #include "common.h"
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: ipc.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ipmi.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ipmi.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ipmi.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ipmi.c	2015-03-10 22:14:45.837114325 +0800
@@ -15,13 +15,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Peter Holik <peter at holik.at>
  *   Bruno Prémont <bonbons at linux-vserver.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/iptables.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/iptables.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/iptables.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/iptables.c	2014-08-18 15:33:14.288460635 +0800
@@ -108,133 +108,136 @@
 	protocol_version_t ip_version = 0;
 
 	if (strcasecmp (key, "Chain") == 0)
 		ip_version = IPV4;
 	else if (strcasecmp (key, "Chain6") == 0)
 		ip_version = IPV6;
-	else
-		return (1);
 
-	ip_chain_t temp, *final, **list;
-	char *table;
-	int   table_len;
-	char *chain;
-	int   chain_len;
-
-	char *value_copy;
-	char *fields[4];
-	int   fields_num;
+	if (( ip_version == IPV4 ) || ( ip_version == IPV6 ))
+	{
+		ip_chain_t temp, *final, **list;
+		char *table;
+		int   table_len;
+		char *chain;
+		int   chain_len;
+
+		char *value_copy;
+		char *fields[4];
+		int   fields_num;
+		
+		memset (&temp, 0, sizeof (temp));
 
-	memset (&temp, 0, sizeof (temp));
+		value_copy = strdup (value);
+		if (value_copy == NULL)
+		{
+		    char errbuf[1024];
+		    ERROR ("strdup failed: %s",
+			    sstrerror (errno, errbuf, sizeof (errbuf)));
+		    return (1);
+		}
 
-	value_copy = strdup (value);
-	if (value_copy == NULL)
-	{
-	    char errbuf[1024];
-	    ERROR ("strdup failed: %s",
-		    sstrerror (errno, errbuf, sizeof (errbuf)));
-	    return (1);
-	}
+		/*
+	         *  Time to fill the temp element
+        	 *  Examine value string, it should look like:
+	         *  Chain[6] <table> <chain> [<comment|num> [name]]
+       		 */
+
+		/* set IPv4 or IPv6 */
+                temp.ip_version = ip_version;
+
+		/* Chain <table> <chain> [<comment|num> [name]] */
+		fields_num = strsplit (value_copy, fields, 4);
+		if (fields_num < 2)
+		{
+		    free (value_copy);
+		    return (1);
+		}
 
-	/*
-	 *  Time to fill the temp element
-	 *  Examine value string, it should look like:
-	 *  Chain[6] <table> <chain> [<comment|num> [name]]
-	 */
-
-	/* set IPv4 or IPv6 */
-	temp.ip_version = ip_version;
-
-	/* Chain <table> <chain> [<comment|num> [name]] */
-	fields_num = strsplit (value_copy, fields, 4);
-	if (fields_num < 2)
-	{
-	    free (value_copy);
-	    return (1);
-	}
+		table = fields[0];
+		chain = fields[1];
 
-	table = fields[0];
-	chain = fields[1];
+		table_len = strlen (table) + 1;
+		if ((unsigned int)table_len > sizeof(temp.table))
+		{
+			ERROR ("Table `%s' too long.", table);
+			free (value_copy);
+			return (1);
+		}
+		sstrncpy (temp.table, table, table_len);
 
-	table_len = strlen (table) + 1;
-	if ((unsigned int)table_len > sizeof(temp.table))
-	{
-		ERROR ("Table `%s' too long.", table);
-		free (value_copy);
-		return (1);
-	}
-	sstrncpy (temp.table, table, table_len);
+		chain_len = strlen (chain) + 1;
+		if ((unsigned int)chain_len > sizeof(temp.chain))
+		{
+			ERROR ("Chain `%s' too long.", chain);
+			free (value_copy);
+			return (1);
+		}
+		sstrncpy (temp.chain, chain, chain_len);
 
-	chain_len = strlen (chain) + 1;
-	if ((unsigned int)chain_len > sizeof(temp.chain))
-	{
-		ERROR ("Chain `%s' too long.", chain);
-		free (value_copy);
-		return (1);
-	}
-	sstrncpy (temp.chain, chain, chain_len);
+		if (fields_num >= 3)
+		{
+		    char *comment = fields[2];
+		    int   rule = atoi (comment);
 
-	if (fields_num >= 3)
-	{
-	    char *comment = fields[2];
-	    int   rule = atoi (comment);
+		    if (rule)
+		    {
+			temp.rule.num = rule;
+			temp.rule_type = RTYPE_NUM;
+		    }
+		    else
+		    {
+			temp.rule.comment = strdup (comment);
+			if (temp.rule.comment == NULL)
+			{
+			    free (value_copy);
+			    return (1);
+			}
+			temp.rule_type = RTYPE_COMMENT;
+		    }
+		}
+		else
+		{
+		    temp.rule_type = RTYPE_COMMENT_ALL;
+		}
+
+		if (fields_num >= 4)
+		    sstrncpy (temp.name, fields[3], sizeof (temp.name));
 
-	    if (rule)
-	    {
-		temp.rule.num = rule;
-		temp.rule_type = RTYPE_NUM;
-	    }
-	    else
-	    {
-		temp.rule.comment = strdup (comment);
-		if (temp.rule.comment == NULL)
+		free (value_copy);
+		value_copy = NULL;
+		table = NULL;
+		chain = NULL;
+
+		list = (ip_chain_t **) realloc (chain_list, (chain_num + 1) * sizeof (ip_chain_t *));
+		if (list == NULL)
 		{
-		    free (value_copy);
+		    char errbuf[1024];
+		    ERROR ("realloc failed: %s",
+			    sstrerror (errno, errbuf, sizeof (errbuf)));
 		    return (1);
 		}
-		temp.rule_type = RTYPE_COMMENT;
-	    }
-	}
-	else
-	{
-	    temp.rule_type = RTYPE_COMMENT_ALL;
-	}
 
-	if (fields_num >= 4)
-	    sstrncpy (temp.name, fields[3], sizeof (temp.name));
-
-	free (value_copy);
-	value_copy = NULL;
-	table = NULL;
-	chain = NULL;
+		chain_list = list;
+		final = (ip_chain_t *) malloc( sizeof(temp) );
+		if (final == NULL) 
+		{
+		    char errbuf[1024];
+		    ERROR ("malloc failed: %s",
+			    sstrerror (errno, errbuf, sizeof (errbuf)));
+		    return (1);
+		}
+		memcpy (final, &temp, sizeof (temp));
+		chain_list[chain_num] = final;
+		chain_num++;
 
-	list = (ip_chain_t **) realloc (chain_list, (chain_num + 1) * sizeof (ip_chain_t *));
-	if (list == NULL)
-	{
-	    char errbuf[1024];
-	    ERROR ("realloc failed: %s",
-		    sstrerror (errno, errbuf, sizeof (errbuf)));
-	    sfree (temp.rule.comment);
-	    return (1);
+		DEBUG ("Chain #%i: table = %s; chain = %s;", chain_num, final->table, final->chain);
 	}
-
-	chain_list = list;
-	final = (ip_chain_t *) malloc( sizeof(temp) );
-	if (final == NULL)
+	else 
 	{
-	    char errbuf[1024];
-	    ERROR ("malloc failed: %s",
-		    sstrerror (errno, errbuf, sizeof (errbuf)));
-	    sfree (temp.rule.comment);
-	    return (1);
+		return (-1);
 	}
-	memcpy (final, &temp, sizeof (temp));
-	chain_list[chain_num] = final;
-	chain_num++;
-
-	DEBUG ("Chain #%i: table = %s; chain = %s;", chain_num, final->table, final->chain);
 
 	return (0);
 } /* int iptables_config */
 
 static int submit6_match (const struct ip6t_entry_match *match,
                 const struct ip6t_entry *entry,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ipvs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ipvs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ipvs.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ipvs.c	2014-08-18 15:33:14.288460635 +0800
@@ -292,16 +292,13 @@
 
 	char pi[DATA_MAX_NAME_LEN];
 
 	int i = 0;
 
 	if (0 != get_pi (se, pi, sizeof (pi)))
-	{
-		free (dests);
 		return;
-	}
 
 	cipvs_submit_connections (pi, NULL, stats.conns);
 	cipvs_submit_if (pi, "if_packets", NULL, stats.inpkts, stats.outpkts);
 	cipvs_submit_if (pi, "if_octets", NULL, stats.inbytes, stats.outbytes);
 
 	for (i = 0; i < dests->num_dests; ++i)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/irq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/irq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/irq.c	2016-07-19 16:42:46.635749808 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/irq.c	2014-09-05 16:57:01.456282539 +0800
@@ -117,13 +117,12 @@
 	if(fgets (buffer, sizeof (buffer), fh) != NULL) {
 		cpu_count = strsplit (buffer, fields,
 				STATIC_ARRAY_SIZE (fields));
 	} else {
 		ERROR ("irq plugin: unable to get CPU count from first line "
 				"of /proc/interrupts");
-		fclose (fh);
 		return (-1);
 	}
 
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
 		char *irq_name;
@@ -153,16 +152,12 @@
 
 		/* Check if irq name ends with colon.
 		 * Otherwise it's a header. */
 		if (irq_name[irq_name_len - 1] != ':')
 			continue;
 
-		/* Is it the the ARM fast interrupt (FIQ)? */
-		if (irq_name_len == 4 && (strncmp(irq_name, "FIQ:", 4) == 0))
-			continue;
-
 		irq_name[irq_name_len - 1] = 0;
 		irq_name_len--;
 
 		irq_value = 0;
 		for (i = 1; i <= irq_values_to_parse; i++)
 		{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/java.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/java.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/java.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/java.c	2015-05-20 20:04:47.187035468 +0800
@@ -14,13 +14,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Justo Alonso Achaques <justo.alonso at gmail.com>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
@@ -117,13 +117,13 @@
  * targets. */
 static int cjni_match_target_create (const oconfig_item_t *ci, void **user_data);
 static int cjni_match_target_destroy (void **user_data);
 static int cjni_match_target_invoke (const data_set_t *ds, value_list_t *vl,
     notification_meta_t **meta, void **user_data);
 
-/* 
+/*
  * C to Java conversion functions
  */
 static int ctoj_string (JNIEnv *jvm_env, /* {{{ */
     const char *string,
     jclass class_ptr, jobject object_ptr, const char *method_name)
 {
@@ -156,12 +156,29 @@
   /* Decrease reference counter on the java.lang.String object. */
   (*jvm_env)->DeleteLocalRef (jvm_env, o_string);
 
   return (0);
 } /* }}} int ctoj_string */
 
+static jstring ctoj_output_string (JNIEnv *jvm_env, /* {{{ */
+    const char *string)
+{
+  jstring o_string;
+
+  /* Create a java.lang.String */
+  o_string = (*jvm_env)->NewStringUTF (jvm_env,
+      (string != NULL) ? string : "");
+  if (o_string == NULL)
+  {
+    ERROR ("java plugin: ctoj_output_string: NewStringUTF failed.");
+    return NULL;
+  }
+
+  return (o_string);
+} /* }}} int ctoj_output_string */
+
 static int ctoj_int (JNIEnv *jvm_env, /* {{{ */
     jint value,
     jclass class_ptr, jobject object_ptr, const char *method_name)
 {
   jmethodID m_set;
 
@@ -1316,13 +1333,13 @@
     return (-1);
   }
   n->severity = (int) tmp_int;
 
   return (0);
 } /* }}} int jtoc_notification */
-/* 
+/*
  * Functions accessible from Java
  */
 static jint JNICALL cjni_api_dispatch_values (JNIEnv *jvm_env, /* {{{ */
     jobject this, jobject java_vl)
 {
   value_list_t vl = VALUE_LIST_INIT;
@@ -1626,12 +1643,17 @@
 
   plugin_log (severity, "%s", c_str);
 
   (*jvm_env)->ReleaseStringUTFChars (jvm_env, o_message, c_str);
 } /* }}} void cjni_api_log */
 
+static jstring JNICALL cjni_api_get_hostname (JNIEnv *jvm_env, jobject this)
+{
+    return ctoj_output_string(jvm_env, hostname_g);
+}
+
 /* List of ``native'' functions, i. e. C-functions that can be called from
  * Java. */
 static JNINativeMethod jni_api_functions[] = /* {{{ */
 {
   { "dispatchValues",
     "(Lorg/collectd/api/ValueList;)I",
@@ -1685,12 +1707,17 @@
     "(Ljava/lang/String;Lorg/collectd/api/CollectdTargetFactoryInterface;)I",
     cjni_api_register_target },
 
   { "log",
     "(ILjava/lang/String;)V",
     cjni_api_log },
+
+  { "getHostname",
+    "()Ljava/lang/String;",
+    cjni_api_get_hostname },
+
 };
 static size_t jni_api_functions_num = sizeof (jni_api_functions)
   / sizeof (jni_api_functions[0]);
 /* }}} */
 
 /*
@@ -1787,47 +1814,41 @@
   cbi->name = strdup (c_name);
   if (cbi->name == NULL)
   {
     pthread_mutex_unlock (&java_callbacks_lock);
     ERROR ("java plugin: cjni_callback_info_create: strdup failed.");
     (*jvm_env)->ReleaseStringUTFChars (jvm_env, o_name, c_name);
-    sfree (cbi);
     return (NULL);
   }
 
   (*jvm_env)->ReleaseStringUTFChars (jvm_env, o_name, c_name);
 
   cbi->object = (*jvm_env)->NewGlobalRef (jvm_env, o_callback);
   if (cbi->object == NULL)
   {
     ERROR ("java plugin: cjni_callback_info_create: NewGlobalRef failed.");
-    sfree (cbi->name);
-    sfree (cbi);
+    free (cbi);
     return (NULL);
   }
 
   cbi->class  = (*jvm_env)->GetObjectClass (jvm_env, cbi->object);
   if (cbi->class == NULL)
   {
     ERROR ("java plugin: cjni_callback_info_create: GetObjectClass failed.");
-    (*jvm_env)->DeleteGlobalRef (jvm_env, cbi->object);
-    sfree (cbi->name);
-    sfree (cbi);
+    free (cbi);
     return (NULL);
   }
 
   cbi->method = (*jvm_env)->GetMethodID (jvm_env, cbi->class,
       method_name, method_signature);
   if (cbi->method == NULL)
   {
     ERROR ("java plugin: cjni_callback_info_create: "
         "Cannot find the `%s' method with signature `%s'.",
         method_name, method_signature);
-    (*jvm_env)->DeleteGlobalRef (jvm_env, cbi->object);
-    sfree (cbi->name);
-    sfree (cbi);
+    free (cbi);
     return (NULL);
   }
 
   return (cbi);
 } /* }}} cjni_callback_info_t cjni_callback_info_create */
 
@@ -2439,13 +2460,13 @@
   cjni_callback_info_t *cbi;
 
   DEBUG ("java plugin: cjni_callback_info_destroy (arg = %p);", arg);
 
   cbi = (cjni_callback_info_t *) arg;
 
-  /* This condition can occurr when shutting down. */
+  /* This condition can occur when shutting down. */
   if (jvm == NULL)
   {
     sfree (cbi);
     return;
   }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/client.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/client.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/client.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/client.c	2015-03-10 22:14:45.837114325 +0800
@@ -81,13 +81,13 @@
 #define SSTRCATF(d, ...) do { \
     char _b[sizeof (d)]; \
     snprintf (_b, sizeof (_b), __VA_ARGS__); \
     _b[sizeof (_b) - 1] = 0; \
     SSTRCAT ((d), _b); \
   } while (0)
-    
+
 
 #define LCC_SET_ERRSTR(c, ...) do { \
   snprintf ((c)->errbuf, sizeof ((c)->errbuf), __VA_ARGS__); \
   (c)->errbuf[sizeof ((c)->errbuf) - 1] = 0; \
 } while (0)
 
@@ -497,43 +497,44 @@
   for (ai_ptr = ai_res; ai_ptr != NULL; ai_ptr = ai_ptr->ai_next)
   {
     fd = socket (ai_ptr->ai_family, ai_ptr->ai_socktype, ai_ptr->ai_protocol);
     if (fd < 0)
     {
       status = errno;
+      fd = -1;
       continue;
     }
 
     status = connect (fd, ai_ptr->ai_addr, ai_ptr->ai_addrlen);
     if (status != 0)
     {
       status = errno;
       close (fd);
+      fd = -1;
       continue;
     }
 
     c->fh = fdopen (fd, "r+");
     if (c->fh == NULL)
     {
       status = errno;
       close (fd);
+      fd = -1;
       continue;
     }
 
     assert (status == 0);
     break;
   } /* for (ai_ptr) */
 
   if (status != 0)
   {
     lcc_set_errno (c, status);
-    freeaddrinfo (ai_res);
     return (-1);
   }
 
-  freeaddrinfo (ai_res);
   return (0);
 } /* }}} int lcc_open_netsocket */
 
 static int lcc_open_socket (lcc_connection_t *c, const char *addr) /* {{{ */
 {
   int status = 0;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/collectd/lcc_features.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/collectd/lcc_features.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/collectd/lcc_features.h	2016-07-26 15:47:50.817806296 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/collectd/lcc_features.h	2015-05-27 15:52:29.266575803 +0800
@@ -35,18 +35,18 @@
 # define LCC_END_DECLS
 #endif
 
 #define LCC_API_VERSION 0
 
 #define LCC_VERSION_MAJOR 5
-#define LCC_VERSION_MINOR 4
-#define LCC_VERSION_PATCH 3
+#define LCC_VERSION_MINOR 5
+#define LCC_VERSION_PATCH 0
 
 #define LCC_VERSION_EXTRA ""
 
-#define LCC_VERSION_STRING "5.4.3"
+#define LCC_VERSION_STRING "5.5.0"
 
 #define LCC_VERSION_ENCODE(major, minor, patch) \
 	((major) * 10000 + (minor) * 100 + (patch))
 
 #define LCC_VERSION \
 	LCC_VERSION_ENCODE(LCC_VERSION_MAJOR, LCC_VERSION_MINOR, LCC_VERSION_PATCH)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/collectd/network.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/collectd/network.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/collectd/network.h	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/collectd/network.h	2015-03-10 22:14:45.837114325 +0800
@@ -62,12 +62,13 @@
 lcc_server_t *lcc_server_create (lcc_network_t *net,
     const char *node, const char *service);
 int lcc_server_destroy (lcc_network_t *net, lcc_server_t *srv);
 
 /* Configure servers */
 int lcc_server_set_ttl (lcc_server_t *srv, uint8_t ttl);
+int lcc_server_set_interface (lcc_server_t *srv, char const *interface);
 int lcc_server_set_security_level (lcc_server_t *srv,
     lcc_security_level_t level,
     const char *username, const char *password);
 
 /*
  * Send data
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/Makefile.am	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/Makefile.am	2015-03-10 22:14:45.837114325 +0800
@@ -8,13 +8,16 @@
 lib_LTLIBRARIES = libcollectdclient.la
 nodist_pkgconfig_DATA = libcollectdclient.pc
 
 BUILT_SOURCES = collectd/lcc_features.h
 
 libcollectdclient_la_SOURCES = client.c network.c network_buffer.c
-libcollectdclient_la_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd -I$(top_srcdir)/src
+libcollectdclient_la_CPPFLAGS = $(AM_CPPFLAGS) \
+				-I$(top_srcdir)/src/libcollectdclient/collectd \
+				-I$(top_builddir)/src/libcollectdclient/collectd \
+				-I$(top_srcdir)/src/daemon
 libcollectdclient_la_LDFLAGS = -version-info 1:0:0
 libcollectdclient_la_LIBADD = 
 if BUILD_WITH_LIBGCRYPT
 libcollectdclient_la_CPPFLAGS += $(GCRYPT_CPPFLAGS)
 libcollectdclient_la_LDFLAGS += $(GCRYPT_LDFLAGS)
 libcollectdclient_la_LIBADD += $(GCRYPT_LIBS)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/Makefile.in	2016-07-26 15:47:21.817735475 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/Makefile.in	2015-05-27 15:51:49.241926851 +0800
@@ -209,23 +209,28 @@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 BUILD_WITH_LIBAQUAERO5_CFLAGS = @BUILD_WITH_LIBAQUAERO5_CFLAGS@
 BUILD_WITH_LIBAQUAERO5_LDFLAGS = @BUILD_WITH_LIBAQUAERO5_LDFLAGS@
-BUILD_WITH_LIBCREDIS_CPPFLAGS = @BUILD_WITH_LIBCREDIS_CPPFLAGS@
-BUILD_WITH_LIBCREDIS_LDFLAGS = @BUILD_WITH_LIBCREDIS_LDFLAGS@
+BUILD_WITH_LIBATASMART_CPPFLAGS = @BUILD_WITH_LIBATASMART_CPPFLAGS@
+BUILD_WITH_LIBATASMART_LDFLAGS = @BUILD_WITH_LIBATASMART_LDFLAGS@
+BUILD_WITH_LIBATASMART_LIBS = @BUILD_WITH_LIBATASMART_LIBS@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBDBI_CPPFLAGS = @BUILD_WITH_LIBDBI_CPPFLAGS@
 BUILD_WITH_LIBDBI_LDFLAGS = @BUILD_WITH_LIBDBI_LDFLAGS@
 BUILD_WITH_LIBDBI_LIBS = @BUILD_WITH_LIBDBI_LIBS@
 BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
 BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBHIREDIS_CPPFLAGS = @BUILD_WITH_LIBHIREDIS_CPPFLAGS@
+BUILD_WITH_LIBHIREDIS_LDFLAGS = @BUILD_WITH_LIBHIREDIS_LDFLAGS@
 BUILD_WITH_LIBIPTC_CPPFLAGS = @BUILD_WITH_LIBIPTC_CPPFLAGS@
 BUILD_WITH_LIBIPTC_LDFLAGS = @BUILD_WITH_LIBIPTC_LDFLAGS@
+BUILD_WITH_LIBLDAP_CPPFLAGS = @BUILD_WITH_LIBLDAP_CPPFLAGS@
+BUILD_WITH_LIBLDAP_LDFLAGS = @BUILD_WITH_LIBLDAP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_CPPFLAGS = @BUILD_WITH_LIBLVM2APP_CPPFLAGS@
 BUILD_WITH_LIBLVM2APP_LDFLAGS = @BUILD_WITH_LIBLVM2APP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_LIBS = @BUILD_WITH_LIBLVM2APP_LIBS@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS = @BUILD_WITH_LIBMEMCACHED_CPPFLAGS@
 BUILD_WITH_LIBMEMCACHED_LDFLAGS = @BUILD_WITH_LIBMEMCACHED_LDFLAGS@
 BUILD_WITH_LIBMEMCACHED_LIBS = @BUILD_WITH_LIBMEMCACHED_LIBS@
@@ -243,28 +248,32 @@
 BUILD_WITH_LIBOWCAPI_LIBS = @BUILD_WITH_LIBOWCAPI_LIBS@
 BUILD_WITH_LIBPQ_CPPFLAGS = @BUILD_WITH_LIBPQ_CPPFLAGS@
 BUILD_WITH_LIBPQ_LDFLAGS = @BUILD_WITH_LIBPQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS = @BUILD_WITH_LIBRABBITMQ_CPPFLAGS@
 BUILD_WITH_LIBRABBITMQ_LDFLAGS = @BUILD_WITH_LIBRABBITMQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_LIBS = @BUILD_WITH_LIBRABBITMQ_LIBS@
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS = @BUILD_WITH_LIBRDKAFKA_CPPFLAGS@
+BUILD_WITH_LIBRDKAFKA_LDFLAGS = @BUILD_WITH_LIBRDKAFKA_LDFLAGS@
+BUILD_WITH_LIBRDKAFKA_LIBS = @BUILD_WITH_LIBRDKAFKA_LIBS@
 BUILD_WITH_LIBROUTEROS_CPPFLAGS = @BUILD_WITH_LIBROUTEROS_CPPFLAGS@
 BUILD_WITH_LIBROUTEROS_LDFLAGS = @BUILD_WITH_LIBROUTEROS_LDFLAGS@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
-BUILD_WITH_LIBRRD_LIBS = @BUILD_WITH_LIBRRD_LIBS@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSIGROK_CFLAGS = @BUILD_WITH_LIBSIGROK_CFLAGS@
 BUILD_WITH_LIBSIGROK_LDFLAGS = @BUILD_WITH_LIBSIGROK_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSTATGRAB_CFLAGS = @BUILD_WITH_LIBSTATGRAB_CFLAGS@
 BUILD_WITH_LIBSTATGRAB_LDFLAGS = @BUILD_WITH_LIBSTATGRAB_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LIBS = @BUILD_WITH_LIBTOKYOTYRANT_LIBS@
+BUILD_WITH_LIBUDEV_CFLAGS = @BUILD_WITH_LIBUDEV_CFLAGS@
+BUILD_WITH_LIBUDEV_LDFLAGS = @BUILD_WITH_LIBUDEV_LDFLAGS@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBVARNISH_CFLAGS = @BUILD_WITH_LIBVARNISH_CFLAGS@
 BUILD_WITH_LIBVARNISH_LIBS = @BUILD_WITH_LIBVARNISH_LIBS@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
@@ -357,12 +366,13 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIPO = @LIPO@
 LN_S = @LN_S@
 LOAD_PLUGIN_CSV = @LOAD_PLUGIN_CSV@
 LOAD_PLUGIN_LOGFILE = @LOAD_PLUGIN_LOGFILE@
+LOAD_PLUGIN_LOG_LOGSTASH = @LOAD_PLUGIN_LOG_LOGSTASH@
 LOAD_PLUGIN_NETWORK = @LOAD_PLUGIN_NETWORK@
 LOAD_PLUGIN_RRDTOOL = @LOAD_PLUGIN_RRDTOOL@
 LOAD_PLUGIN_SYSLOG = @LOAD_PLUGIN_SYSLOG@
 LTDLDEPS = @LTDLDEPS@
 LTDLINCL = @LTDLINCL@
 LTDLOPEN = @LTDLOPEN@
@@ -393,14 +403,12 @@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LIBS = @PERL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
 PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
 PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 RANLIB = @RANLIB@
-RRD_CFLAGS = @RRD_CFLAGS@
-RRD_LIBS = @RRD_LIBS@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
@@ -468,14 +476,15 @@
 pkginclude_HEADERS = collectd/client.h collectd/network.h collectd/network_buffer.h collectd/lcc_features.h
 lib_LTLIBRARIES = libcollectdclient.la
 nodist_pkgconfig_DATA = libcollectdclient.pc
 BUILT_SOURCES = collectd/lcc_features.h
 libcollectdclient_la_SOURCES = client.c network.c network_buffer.c
 libcollectdclient_la_CPPFLAGS = $(AM_CPPFLAGS) \
+	-I$(top_srcdir)/src/libcollectdclient/collectd \
 	-I$(top_builddir)/src/libcollectdclient/collectd \
-	-I$(top_srcdir)/src $(am__append_1)
+	-I$(top_srcdir)/src/daemon $(am__append_1)
 libcollectdclient_la_LDFLAGS = -version-info 1:0:0 $(am__append_2)
 libcollectdclient_la_LIBADD = $(am__append_3)
 all: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) all-am
 
 .SUFFIXES:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/network_buffer.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/network_buffer.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/network_buffer.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/network_buffer.c	2015-05-20 20:04:47.187035468 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/libcollectdclient/network_buffer.c
- * Copyright (C) 2010-2012  Florian octo Forster
+ * Copyright (C) 2010-2015  Florian octo Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -131,22 +131,19 @@
   if (!need_init)
     return (result);
   need_init = 0;
 
 #if HAVE_LIBGCRYPT
 # if GCRYPT_VERSION_NUMBER < 0x010600
-  if (gcry_control (GCRYCTL_SET_THREAD_CBS, &gcry_threads_pthread))
-    return (0);
+  gcry_control (GCRYCTL_SET_THREAD_CBS, &gcry_threads_pthread);
 # endif
 
   if (!gcry_check_version (GCRYPT_VERSION))
     return (0);
 
-  if (!gcry_control (GCRYCTL_INIT_SECMEM, 32768, 0))
-    return (0);
-
+  gcry_control (GCRYCTL_INIT_SECMEM, 32768, 0);
   gcry_control (GCRYCTL_INITIALIZATION_FINISHED, 0);
 
   result = 1;
   return (1);
 #else
   return(0);
@@ -792,15 +789,15 @@
 {
   if (nb == NULL)
     return (EINVAL);
 
 #if HAVE_LIBGCRYPT
   if (nb->seclevel == SIGN)
-    nb_add_signature (nb);
+    return nb_add_signature (nb);
   else if (nb->seclevel == ENCRYPT)
-    nb_add_encryption (nb);
+    return nb_add_encryption (nb);
 #endif
 
   return (0);
 } /* }}} int lcc_network_buffer_finalize */
 
 int lcc_network_buffer_add_value (lcc_network_buffer_t *nb, /* {{{ */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/libcollectdclient/network.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/libcollectdclient/network.c	2015-05-20 20:04:47.187035468 +0800
@@ -1,9 +1,10 @@
 /**
  * collectd - src/libcollectdclient/network.c
- * Copyright (C) 2005-2012  Florian octo Forster
+ * Copyright (C) 2005-2015  Florian Forster
+ * Copyright (C) 2010       Max Henkel
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -18,13 +19,14 @@
  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
  * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at collectd.org>
+ *   Florian Forster <octo at collectd.org>
+ *   Max Henkel <henkel at gmx.at>
  **/
 
 #include "collectd.h"
 
 #include <stdlib.h>
 #include <stdio.h>
@@ -38,12 +40,16 @@
 #include <netdb.h>
 
 #if HAVE_NETINET_IN_H
 # include <netinet/in.h>
 #endif
 
+#if HAVE_NET_IF_H
+# include <net/if.h>
+#endif
+
 #include "collectd/network.h"
 #include "collectd/network_buffer.h"
 
 /*
  * Private data types
  */
@@ -80,13 +86,12 @@
     return (EINVAL);
 
   if (srv->fd < 0)
     return (0);
 
   close (srv->fd);
-  srv->fd = -1;
   free (srv->sa);
   srv->sa = NULL;
   srv->sa_len = 0;
 
   return (0);
 } /* }}} int server_close_socket */
@@ -99,12 +104,18 @@
     return;
 
   server_close_socket (srv);
 
   next = srv->next;
 
+  if (srv->fd >= 0)
+  {
+    close (srv->fd);
+    srv->fd = -1;
+  }
+
   free (srv->node);
   free (srv->service);
   free (srv->username);
   free (srv->password);
   free (srv);
 
@@ -148,35 +160,30 @@
 
       if (IN_MULTICAST (ntohl (addr->sin_addr.s_addr)))
         optname = IP_MULTICAST_TTL;
       else
         optname = IP_TTL;
 
-      status = setsockopt (srv->fd, IPPROTO_IP, optname,
-          &srv->ttl, sizeof (srv->ttl));
+      setsockopt (srv->fd, IPPROTO_IP, optname,
+          &srv->ttl,
+          sizeof (srv->ttl));
     }
     else if (ai_ptr->ai_family == AF_INET6)
     {
       /* Useful example: http://gsyc.escet.urjc.es/~eva/IPv6-web/examples/mcast.html */
       struct sockaddr_in6 *addr = (struct sockaddr_in6 *) ai_ptr->ai_addr;
       int optname;
 
       if (IN6_IS_ADDR_MULTICAST (&addr->sin6_addr))
         optname = IPV6_MULTICAST_HOPS;
       else
         optname = IPV6_UNICAST_HOPS;
 
-      status = setsockopt (srv->fd, IPPROTO_IPV6, optname,
-          &srv->ttl, sizeof (srv->ttl));
-    }
-    if (status != 0)
-    {
-      /* setsockopt failed. */
-      close (srv->fd);
-      srv->fd = -1;
-      continue;
+      setsockopt (srv->fd, IPPROTO_IPV6, optname,
+          &srv->ttl,
+          sizeof (srv->ttl));
     }
 
     srv->sa = malloc (ai_ptr->ai_addrlen);
     if (srv->sa == NULL)
     {
       close (srv->fd);
@@ -209,13 +216,19 @@
       return (status);
   }
 
   memset (buffer, 0, sizeof (buffer));
   buffer_size = sizeof (buffer);
 
-  lcc_network_buffer_finalize (srv->buffer);
+  status = lcc_network_buffer_finalize (srv->buffer);
+  if (status != 0)
+  {
+    lcc_network_buffer_initialize (srv->buffer);
+    return (status);
+  }
+
   status = lcc_network_buffer_get (srv->buffer, buffer, &buffer_size);
   lcc_network_buffer_initialize (srv->buffer);
 
   if (status != 0)
     return (status);
 
@@ -375,12 +388,87 @@
 
   srv->ttl = (int) ttl;
 
   return (0);
 } /* }}} int lcc_server_set_ttl */
 
+int lcc_server_set_interface (lcc_server_t *srv, char const *interface) /* {{{ */
+{
+  int if_index;
+  int status;
+
+  if ((srv == NULL) || (interface == NULL))
+    return (EINVAL);
+
+  if_index = if_nametoindex (interface);
+  if (if_index == 0)
+    return (ENOENT);
+
+  /* IPv4 multicast */
+  if (srv->sa->sa_family == AF_INET)
+  {
+    struct sockaddr_in *addr = (struct sockaddr_in *) srv->sa;
+
+    if (IN_MULTICAST (ntohl (addr->sin_addr.s_addr)))
+    {
+#if HAVE_STRUCT_IP_MREQN_IMR_IFINDEX
+      /* If possible, use the "ip_mreqn" structure which has
+       * an "interface index" member. Using the interface
+       * index is preferred here, because of its similarity
+       * to the way IPv6 handles this. Unfortunately, it
+       * appears not to be portable. */
+      struct ip_mreqn mreq;
+
+      memset (&mreq, 0, sizeof (mreq));
+      mreq.imr_multiaddr.s_addr = addr->sin_addr.s_addr;
+      mreq.imr_address.s_addr = ntohl (INADDR_ANY);
+      mreq.imr_ifindex = if_index;
+#else
+      struct ip_mreq mreq;
+
+      memset (&mreq, 0, sizeof (mreq));
+      mreq.imr_multiaddr.s_addr = addr->sin_addr.s_addr;
+      mreq.imr_interface.s_addr = ntohl (INADDR_ANY);
+#endif
+
+      status = setsockopt (srv->fd, IPPROTO_IP, IP_MULTICAST_IF,
+          &mreq, sizeof (mreq));
+      if (status != 0)
+        return (status);
+
+      return (0);
+    }
+  }
+
+  /* IPv6 multicast */
+  if (srv->sa->sa_family == AF_INET6)
+  {
+    struct sockaddr_in6 *addr = (struct sockaddr_in6 *) srv->sa;
+
+    if (IN6_IS_ADDR_MULTICAST (&addr->sin6_addr))
+    {
+      status = setsockopt (srv->fd, IPPROTO_IPV6, IPV6_MULTICAST_IF,
+          &if_index, sizeof (if_index));
+      if (status != 0)
+        return (status);
+
+      return (0);
+    }
+  }
+
+  /* else: Not a multicast interface. */
+#if defined(SO_BINDTODEVICE)
+  status = setsockopt (srv->fd, SOL_SOCKET, SO_BINDTODEVICE,
+      interface, strlen (interface) + 1);
+  if (status != 0)
+    return (-1);
+#endif
+
+  return (0);
+} /* }}} int lcc_server_set_interface */
+
 int lcc_server_set_security_level (lcc_server_t *srv, /* {{{ */
     lcc_security_level_t level,
     const char *username, const char *password)
 {
   return (lcc_network_buffer_set_security_level (srv->buffer,
         level, username, password));
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/Makefile.am	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/Makefile.am	2012-09-13 19:10:50.000000000 +0800
@@ -3,8 +3,8 @@
 BUILT_SOURCES = parser.h
 #CLEANFILES = parser.[ch] scanner.c
 AM_YFLAGS = -d
 
 noinst_LTLIBRARIES = liboconfig.la
 
-liboconfig_la_LDFLAGS = -avoid-version $(LEXLIB)
+liboconfig_la_LDFLAGS = -version-info 0:0:0 $(LEXLIB)
 liboconfig_la_SOURCES = oconfig.c oconfig.h aux_types.h scanner.l parser.y
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/Makefile.in	2016-07-26 15:47:21.881735631 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/Makefile.in	2015-05-27 15:51:49.321928148 +0800
@@ -186,23 +186,28 @@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 BUILD_WITH_LIBAQUAERO5_CFLAGS = @BUILD_WITH_LIBAQUAERO5_CFLAGS@
 BUILD_WITH_LIBAQUAERO5_LDFLAGS = @BUILD_WITH_LIBAQUAERO5_LDFLAGS@
-BUILD_WITH_LIBCREDIS_CPPFLAGS = @BUILD_WITH_LIBCREDIS_CPPFLAGS@
-BUILD_WITH_LIBCREDIS_LDFLAGS = @BUILD_WITH_LIBCREDIS_LDFLAGS@
+BUILD_WITH_LIBATASMART_CPPFLAGS = @BUILD_WITH_LIBATASMART_CPPFLAGS@
+BUILD_WITH_LIBATASMART_LDFLAGS = @BUILD_WITH_LIBATASMART_LDFLAGS@
+BUILD_WITH_LIBATASMART_LIBS = @BUILD_WITH_LIBATASMART_LIBS@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBDBI_CPPFLAGS = @BUILD_WITH_LIBDBI_CPPFLAGS@
 BUILD_WITH_LIBDBI_LDFLAGS = @BUILD_WITH_LIBDBI_LDFLAGS@
 BUILD_WITH_LIBDBI_LIBS = @BUILD_WITH_LIBDBI_LIBS@
 BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
 BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBHIREDIS_CPPFLAGS = @BUILD_WITH_LIBHIREDIS_CPPFLAGS@
+BUILD_WITH_LIBHIREDIS_LDFLAGS = @BUILD_WITH_LIBHIREDIS_LDFLAGS@
 BUILD_WITH_LIBIPTC_CPPFLAGS = @BUILD_WITH_LIBIPTC_CPPFLAGS@
 BUILD_WITH_LIBIPTC_LDFLAGS = @BUILD_WITH_LIBIPTC_LDFLAGS@
+BUILD_WITH_LIBLDAP_CPPFLAGS = @BUILD_WITH_LIBLDAP_CPPFLAGS@
+BUILD_WITH_LIBLDAP_LDFLAGS = @BUILD_WITH_LIBLDAP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_CPPFLAGS = @BUILD_WITH_LIBLVM2APP_CPPFLAGS@
 BUILD_WITH_LIBLVM2APP_LDFLAGS = @BUILD_WITH_LIBLVM2APP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_LIBS = @BUILD_WITH_LIBLVM2APP_LIBS@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS = @BUILD_WITH_LIBMEMCACHED_CPPFLAGS@
 BUILD_WITH_LIBMEMCACHED_LDFLAGS = @BUILD_WITH_LIBMEMCACHED_LDFLAGS@
 BUILD_WITH_LIBMEMCACHED_LIBS = @BUILD_WITH_LIBMEMCACHED_LIBS@
@@ -220,28 +225,32 @@
 BUILD_WITH_LIBOWCAPI_LIBS = @BUILD_WITH_LIBOWCAPI_LIBS@
 BUILD_WITH_LIBPQ_CPPFLAGS = @BUILD_WITH_LIBPQ_CPPFLAGS@
 BUILD_WITH_LIBPQ_LDFLAGS = @BUILD_WITH_LIBPQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS = @BUILD_WITH_LIBRABBITMQ_CPPFLAGS@
 BUILD_WITH_LIBRABBITMQ_LDFLAGS = @BUILD_WITH_LIBRABBITMQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_LIBS = @BUILD_WITH_LIBRABBITMQ_LIBS@
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS = @BUILD_WITH_LIBRDKAFKA_CPPFLAGS@
+BUILD_WITH_LIBRDKAFKA_LDFLAGS = @BUILD_WITH_LIBRDKAFKA_LDFLAGS@
+BUILD_WITH_LIBRDKAFKA_LIBS = @BUILD_WITH_LIBRDKAFKA_LIBS@
 BUILD_WITH_LIBROUTEROS_CPPFLAGS = @BUILD_WITH_LIBROUTEROS_CPPFLAGS@
 BUILD_WITH_LIBROUTEROS_LDFLAGS = @BUILD_WITH_LIBROUTEROS_LDFLAGS@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
-BUILD_WITH_LIBRRD_LIBS = @BUILD_WITH_LIBRRD_LIBS@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSIGROK_CFLAGS = @BUILD_WITH_LIBSIGROK_CFLAGS@
 BUILD_WITH_LIBSIGROK_LDFLAGS = @BUILD_WITH_LIBSIGROK_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSTATGRAB_CFLAGS = @BUILD_WITH_LIBSTATGRAB_CFLAGS@
 BUILD_WITH_LIBSTATGRAB_LDFLAGS = @BUILD_WITH_LIBSTATGRAB_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LIBS = @BUILD_WITH_LIBTOKYOTYRANT_LIBS@
+BUILD_WITH_LIBUDEV_CFLAGS = @BUILD_WITH_LIBUDEV_CFLAGS@
+BUILD_WITH_LIBUDEV_LDFLAGS = @BUILD_WITH_LIBUDEV_LDFLAGS@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBVARNISH_CFLAGS = @BUILD_WITH_LIBVARNISH_CFLAGS@
 BUILD_WITH_LIBVARNISH_LIBS = @BUILD_WITH_LIBVARNISH_LIBS@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
@@ -334,12 +343,13 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIPO = @LIPO@
 LN_S = @LN_S@
 LOAD_PLUGIN_CSV = @LOAD_PLUGIN_CSV@
 LOAD_PLUGIN_LOGFILE = @LOAD_PLUGIN_LOGFILE@
+LOAD_PLUGIN_LOG_LOGSTASH = @LOAD_PLUGIN_LOG_LOGSTASH@
 LOAD_PLUGIN_NETWORK = @LOAD_PLUGIN_NETWORK@
 LOAD_PLUGIN_RRDTOOL = @LOAD_PLUGIN_RRDTOOL@
 LOAD_PLUGIN_SYSLOG = @LOAD_PLUGIN_SYSLOG@
 LTDLDEPS = @LTDLDEPS@
 LTDLINCL = @LTDLINCL@
 LTDLOPEN = @LTDLOPEN@
@@ -370,14 +380,12 @@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LIBS = @PERL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
 PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
 PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 RANLIB = @RANLIB@
-RRD_CFLAGS = @RRD_CFLAGS@
-RRD_LIBS = @RRD_LIBS@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
@@ -442,13 +450,13 @@
 top_srcdir = @top_srcdir@
 AUTOMAKE_OPTIONS = foreign no-dependencies
 BUILT_SOURCES = parser.h
 #CLEANFILES = parser.[ch] scanner.c
 AM_YFLAGS = -d
 noinst_LTLIBRARIES = liboconfig.la
-liboconfig_la_LDFLAGS = -avoid-version $(LEXLIB)
+liboconfig_la_LDFLAGS = -version-info 0:0:0 $(LEXLIB)
 liboconfig_la_SOURCES = oconfig.c oconfig.h aux_types.h scanner.l parser.y
 all: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) all-am
 
 .SUFFIXES:
 .SUFFIXES: .c .l .lo .o .obj .y
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/oconfig.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/oconfig.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/oconfig.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/oconfig.c	2015-05-20 20:04:47.187035468 +0800
@@ -1,34 +1,41 @@
 /**
- * oconfig - src/oconfig.c
- * Copyright (C) 2006,2007  Florian octo Forster <octo at verplant.org>
+ * collectd - src/liboconfig/oconfig.c
+ * Copyright (C) 2006,2007  Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
- * more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along with
- * this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
- */
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
+ *
+ * Authors:
+ *   Florian Forster <octo at collectd.org>
+ **/
 
 #include <stdlib.h>
 #include <stdio.h>
 #include <string.h>
 #include <assert.h>
 #include <errno.h>
 
 #include "oconfig.h"
 
 extern FILE *yyin;
-extern int yyparse (void);
 
 oconfig_item_t *ci_root;
 const char     *c_file;
 
 static void yyset_in  (FILE *fd)
 {
@@ -42,12 +49,14 @@
 
   char file[10];
 
   yyset_in (fh);
 
   if (NULL == c_file) {
+    int status;
+
     status = snprintf (file, sizeof (file), "<fd#%d>", fileno (fh));
 
     if ((status < 0) || (status >= sizeof (file))) {
       c_file = "<unknown>";
     }
     else {
@@ -183,13 +192,13 @@
     } /* for (i = 0; i < ci_copy->children_num; i++) */
   } /* }}} if (ci_orig->children_num > 0) */
 
   return (ci_copy);
 } /* oconfig_item_t *oconfig_clone */
 
-static void oconfig_free_all (oconfig_item_t *ci)
+void oconfig_free_all (oconfig_item_t *ci)
 {
   int i;
 
   if (ci == NULL)
     return;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/oconfig.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/oconfig.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/oconfig.h	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/oconfig.h	2015-03-10 22:14:45.837114325 +0800
@@ -1,29 +1,37 @@
-#ifndef OCONFIG_H
-#define OCONFIG_H 1
-
-#include <stdio.h>
-
 /**
- * oconfig - src/oconfig.h
- * Copyright (C) 2006-2009  Florian octo Forster <octo at verplant.org>
+ * collectd - src/liboconfig/oconfig.h
+ * Copyright (C) 2006-2009  Florian Forster
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
- * more details.
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * You should have received a copy of the GNU General Public License along with
- * this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * Authors:
+ *   Florian Forster <octo at collectd.org>
  */
 
+#ifndef OCONFIG_H
+#define OCONFIG_H 1
+
+#include <stdio.h>
+
 /*
  * Types
  */
 #define OCONFIG_TYPE_STRING  0
 #define OCONFIG_TYPE_NUMBER  1
 #define OCONFIG_TYPE_BOOLEAN 2
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/parser.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/parser.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/parser.c	2016-07-26 15:48:09.017850632 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/parser.c	2015-03-10 22:29:59.785017090 +0800
@@ -59,31 +59,30 @@
 #define YYPULL 1
 
 
 
 
 /* Copy the first part of user declarations.  */
-#line 19 "parser.y" /* yacc.c:339  */
+#line 27 "parser.y" /* yacc.c:339  */
 
 #include <stdlib.h>
 #include <string.h>
 #include "oconfig.h"
 #include "aux_types.h"
 
 static char *unquote (const char *orig);
 static int yyerror (const char *s);
 
 /* Lexer variables */
 extern int yylineno;
 extern char *yytext;
-extern int yylex (void);
 
 extern oconfig_item_t *ci_root;
 extern char           *c_file;
 
-#line 84 "parser.c" /* yacc.c:339  */
+#line 83 "parser.c" /* yacc.c:339  */
 
 # ifndef YY_NULLPTR
 #  if defined __cplusplus && 201103L <= __cplusplus
 #   define YY_NULLPTR nullptr
 #  else
 #   define YY_NULLPTR 0
@@ -139,23 +138,23 @@
 
 /* Value type.  */
 #if ! defined YYSTYPE && ! defined YYSTYPE_IS_DECLARED
 typedef union YYSTYPE YYSTYPE;
 union YYSTYPE
 {
-#line 39 "parser.y" /* yacc.c:355  */
+#line 46 "parser.y" /* yacc.c:355  */
 
 	double  number;
 	int     boolean;
 	char   *string;
 	oconfig_value_t  cv;
 	oconfig_item_t   ci;
 	argument_list_t  al;
 	statement_list_t sl;
 
-#line 156 "parser.c" /* yacc.c:355  */
+#line 155 "parser.c" /* yacc.c:355  */
 };
 # define YYSTYPE_IS_TRIVIAL 1
 # define YYSTYPE_IS_DECLARED 1
 #endif
 
 
@@ -164,13 +163,13 @@
 int yyparse (void);
 
 #endif /* !YY_YY_Y_TAB_H_INCLUDED  */
 
 /* Copy the second part of user declarations.  */
 
-#line 171 "parser.c" /* yacc.c:358  */
+#line 170 "parser.c" /* yacc.c:358  */
 
 #ifdef short
 # undef short
 #endif
 
 #ifdef YYTYPE_UINT8
@@ -462,15 +461,15 @@
 };
 
 #if YYDEBUG
   /* YYRLINE[YYN] -- Source line where rule number YYN was defined.  */
 static const yytype_uint8 yyrline[] =
 {
-       0,    74,    74,    75,    79,    80,    81,    82,    86,    93,
-     102,   106,   116,   122,   132,   139,   152,   168,   169,   170,
-     174,   184,   201,   209
+       0,    81,    81,    82,    86,    87,    88,    89,    93,   100,
+     109,   113,   123,   129,   139,   146,   159,   175,   176,   177,
+     181,   191,   208,   216
 };
 #endif
 
 #if YYDEBUG || YYERROR_VERBOSE || 1
 /* YYTNAME[SYMBOL-NUM] -- String name of the symbol SYMBOL-NUM.
    First, the terminals, then, starting at YYNTOKENS, nonterminals.  */
@@ -1257,181 +1256,181 @@
 
 
   YY_REDUCE_PRINT (yyn);
   switch (yyn)
     {
         case 2:
-#line 74 "parser.y" /* yacc.c:1646  */
+#line 81 "parser.y" /* yacc.c:1646  */
     {(yyval.string) = unquote ((yyvsp[0].string));}
-#line 1266 "parser.c" /* yacc.c:1646  */
+#line 1265 "parser.c" /* yacc.c:1646  */
     break;
 
   case 3:
-#line 75 "parser.y" /* yacc.c:1646  */
+#line 82 "parser.y" /* yacc.c:1646  */
     {(yyval.string) = strdup ((yyvsp[0].string));}
-#line 1272 "parser.c" /* yacc.c:1646  */
+#line 1271 "parser.c" /* yacc.c:1646  */
     break;
 
   case 4:
-#line 79 "parser.y" /* yacc.c:1646  */
+#line 86 "parser.y" /* yacc.c:1646  */
     {(yyval.cv).value.number = (yyvsp[0].number); (yyval.cv).type = OCONFIG_TYPE_NUMBER;}
-#line 1278 "parser.c" /* yacc.c:1646  */
+#line 1277 "parser.c" /* yacc.c:1646  */
     break;
 
   case 5:
-#line 80 "parser.y" /* yacc.c:1646  */
+#line 87 "parser.y" /* yacc.c:1646  */
     {(yyval.cv).value.boolean = 1; (yyval.cv).type = OCONFIG_TYPE_BOOLEAN;}
-#line 1284 "parser.c" /* yacc.c:1646  */
+#line 1283 "parser.c" /* yacc.c:1646  */
     break;
 
   case 6:
-#line 81 "parser.y" /* yacc.c:1646  */
+#line 88 "parser.y" /* yacc.c:1646  */
     {(yyval.cv).value.boolean = 0; (yyval.cv).type = OCONFIG_TYPE_BOOLEAN;}
-#line 1290 "parser.c" /* yacc.c:1646  */
+#line 1289 "parser.c" /* yacc.c:1646  */
     break;
 
   case 7:
-#line 82 "parser.y" /* yacc.c:1646  */
+#line 89 "parser.y" /* yacc.c:1646  */
     {(yyval.cv).value.string = (yyvsp[0].string); (yyval.cv).type = OCONFIG_TYPE_STRING;}
-#line 1296 "parser.c" /* yacc.c:1646  */
+#line 1295 "parser.c" /* yacc.c:1646  */
     break;
 
   case 8:
-#line 87 "parser.y" /* yacc.c:1646  */
+#line 94 "parser.y" /* yacc.c:1646  */
     {
 	 (yyval.al) = (yyvsp[-1].al);
 	 (yyval.al).argument_num++;
 	 (yyval.al).argument = realloc ((yyval.al).argument, (yyval.al).argument_num * sizeof (oconfig_value_t));
 	 (yyval.al).argument[(yyval.al).argument_num-1] = (yyvsp[0].cv);
 	}
-#line 1307 "parser.c" /* yacc.c:1646  */
+#line 1306 "parser.c" /* yacc.c:1646  */
     break;
 
   case 9:
-#line 94 "parser.y" /* yacc.c:1646  */
+#line 101 "parser.y" /* yacc.c:1646  */
     {
 	 (yyval.al).argument = malloc (sizeof (oconfig_value_t));
 	 (yyval.al).argument[0] = (yyvsp[0].cv);
 	 (yyval.al).argument_num = 1;
 	}
-#line 1317 "parser.c" /* yacc.c:1646  */
+#line 1316 "parser.c" /* yacc.c:1646  */
     break;
 
   case 10:
-#line 102 "parser.y" /* yacc.c:1646  */
+#line 109 "parser.y" /* yacc.c:1646  */
     {(yyval.string) = strdup ((yyvsp[0].string));}
-#line 1323 "parser.c" /* yacc.c:1646  */
+#line 1322 "parser.c" /* yacc.c:1646  */
     break;
 
   case 11:
-#line 107 "parser.y" /* yacc.c:1646  */
+#line 114 "parser.y" /* yacc.c:1646  */
     {
 	 memset (&(yyval.ci), '\0', sizeof ((yyval.ci)));
 	 (yyval.ci).key = (yyvsp[-2].string);
 	 (yyval.ci).values = (yyvsp[-1].al).argument;
 	 (yyval.ci).values_num = (yyvsp[-1].al).argument_num;
 	}
-#line 1334 "parser.c" /* yacc.c:1646  */
+#line 1333 "parser.c" /* yacc.c:1646  */
     break;
 
   case 12:
-#line 117 "parser.y" /* yacc.c:1646  */
+#line 124 "parser.y" /* yacc.c:1646  */
     {
 	 memset (&(yyval.ci), '\0', sizeof ((yyval.ci)));
 	 (yyval.ci).key = (yyvsp[-2].string);
 	}
-#line 1343 "parser.c" /* yacc.c:1646  */
+#line 1342 "parser.c" /* yacc.c:1646  */
     break;
 
   case 13:
-#line 123 "parser.y" /* yacc.c:1646  */
+#line 130 "parser.y" /* yacc.c:1646  */
     {
 	 memset (&(yyval.ci), '\0', sizeof ((yyval.ci)));
 	 (yyval.ci).key = (yyvsp[-3].string);
 	 (yyval.ci).values = (yyvsp[-2].al).argument;
 	 (yyval.ci).values_num = (yyvsp[-2].al).argument_num;
 	}
-#line 1354 "parser.c" /* yacc.c:1646  */
+#line 1353 "parser.c" /* yacc.c:1646  */
     break;
 
   case 14:
-#line 133 "parser.y" /* yacc.c:1646  */
+#line 140 "parser.y" /* yacc.c:1646  */
     {
 	 (yyval.string) = (yyvsp[-2].string);
 	}
-#line 1362 "parser.c" /* yacc.c:1646  */
+#line 1361 "parser.c" /* yacc.c:1646  */
     break;
 
   case 15:
-#line 140 "parser.y" /* yacc.c:1646  */
+#line 147 "parser.y" /* yacc.c:1646  */
     {
 	 if (strcmp ((yyvsp[-2].ci).key, (yyvsp[0].string)) != 0)
 	 {
 		printf ("block_begin = %s; block_end = %s;\n", (yyvsp[-2].ci).key, (yyvsp[0].string));
 	 	yyerror ("Block not closed..\n");
 		exit (1);
 	 }
 	 free ((yyvsp[0].string)); (yyvsp[0].string) = NULL;
 	 (yyval.ci) = (yyvsp[-2].ci);
 	 (yyval.ci).children = (yyvsp[-1].sl).statement;
 	 (yyval.ci).children_num = (yyvsp[-1].sl).statement_num;
 	}
-#line 1379 "parser.c" /* yacc.c:1646  */
+#line 1378 "parser.c" /* yacc.c:1646  */
     break;
 
   case 16:
-#line 153 "parser.y" /* yacc.c:1646  */
+#line 160 "parser.y" /* yacc.c:1646  */
     {
 	 if (strcmp ((yyvsp[-1].ci).key, (yyvsp[0].string)) != 0)
 	 {
 		printf ("block_begin = %s; block_end = %s;\n", (yyvsp[-1].ci).key, (yyvsp[0].string));
 		yyerror ("Block not closed..\n");
 		exit (1);
 	 }
 	 free ((yyvsp[0].string)); (yyvsp[0].string) = NULL;
 	 (yyval.ci) = (yyvsp[-1].ci);
 	 (yyval.ci).children = NULL;
 	 (yyval.ci).children_num = 0;
 	}
-#line 1396 "parser.c" /* yacc.c:1646  */
+#line 1395 "parser.c" /* yacc.c:1646  */
     break;
 
   case 17:
-#line 168 "parser.y" /* yacc.c:1646  */
+#line 175 "parser.y" /* yacc.c:1646  */
     {(yyval.ci) = (yyvsp[0].ci);}
-#line 1402 "parser.c" /* yacc.c:1646  */
+#line 1401 "parser.c" /* yacc.c:1646  */
     break;
 
   case 18:
-#line 169 "parser.y" /* yacc.c:1646  */
+#line 176 "parser.y" /* yacc.c:1646  */
     {(yyval.ci) = (yyvsp[0].ci);}
-#line 1408 "parser.c" /* yacc.c:1646  */
+#line 1407 "parser.c" /* yacc.c:1646  */
     break;
 
   case 19:
-#line 170 "parser.y" /* yacc.c:1646  */
+#line 177 "parser.y" /* yacc.c:1646  */
     {(yyval.ci).values_num = 0;}
-#line 1414 "parser.c" /* yacc.c:1646  */
+#line 1413 "parser.c" /* yacc.c:1646  */
     break;
 
   case 20:
-#line 175 "parser.y" /* yacc.c:1646  */
+#line 182 "parser.y" /* yacc.c:1646  */
     {
 	 (yyval.sl) = (yyvsp[-1].sl);
 	 if (((yyvsp[0].ci).values_num > 0) || ((yyvsp[0].ci).children_num > 0))
 	 {
 		 (yyval.sl).statement_num++;
 		 (yyval.sl).statement = realloc ((yyval.sl).statement, (yyval.sl).statement_num * sizeof (oconfig_item_t));
 		 (yyval.sl).statement[(yyval.sl).statement_num-1] = (yyvsp[0].ci);
 	 }
 	}
-#line 1428 "parser.c" /* yacc.c:1646  */
+#line 1427 "parser.c" /* yacc.c:1646  */
     break;
 
   case 21:
-#line 185 "parser.y" /* yacc.c:1646  */
+#line 192 "parser.y" /* yacc.c:1646  */
     {
 	 if (((yyvsp[0].ci).values_num > 0) || ((yyvsp[0].ci).children_num > 0))
 	 {
 		 (yyval.sl).statement = malloc (sizeof (oconfig_item_t));
 		 (yyval.sl).statement[0] = (yyvsp[0].ci);
 		 (yyval.sl).statement_num = 1;
@@ -1439,39 +1438,39 @@
 	 else
 	 {
 	 	(yyval.sl).statement = NULL;
 		(yyval.sl).statement_num = 0;
 	 }
 	}
-#line 1446 "parser.c" /* yacc.c:1646  */
+#line 1445 "parser.c" /* yacc.c:1646  */
     break;
 
   case 22:
-#line 202 "parser.y" /* yacc.c:1646  */
+#line 209 "parser.y" /* yacc.c:1646  */
     {
 	 ci_root = malloc (sizeof (oconfig_item_t));
 	 memset (ci_root, '\0', sizeof (oconfig_item_t));
 	 ci_root->children = (yyvsp[0].sl).statement;
 	 ci_root->children_num = (yyvsp[0].sl).statement_num;
 	}
-#line 1457 "parser.c" /* yacc.c:1646  */
+#line 1456 "parser.c" /* yacc.c:1646  */
     break;
 
   case 23:
-#line 209 "parser.y" /* yacc.c:1646  */
+#line 216 "parser.y" /* yacc.c:1646  */
     {
 	 ci_root = malloc (sizeof (oconfig_item_t));
 	 memset (ci_root, '\0', sizeof (oconfig_item_t));
 	 ci_root->children = NULL;
 	 ci_root->children_num = 0;
 	}
-#line 1468 "parser.c" /* yacc.c:1646  */
+#line 1467 "parser.c" /* yacc.c:1646  */
     break;
 
 
-#line 1472 "parser.c" /* yacc.c:1646  */
+#line 1471 "parser.c" /* yacc.c:1646  */
       default: break;
     }
   /* User semantic actions sometimes alter yychar, and that requires
      that yytoken be updated with the new translation.  We take the
      approach of translating immediately before every use of yytoken.
      One alternative is translating here after every semantic action,
@@ -1693,13 +1692,13 @@
 #if YYERROR_VERBOSE
   if (yymsg != yymsgbuf)
     YYSTACK_FREE (yymsg);
 #endif
   return yyresult;
 }
-#line 217 "parser.y" /* yacc.c:1906  */
+#line 224 "parser.y" /* yacc.c:1906  */
 
 static int yyerror (const char *s)
 {
 	char *text;
 
 	if (*yytext == '\n')
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/parser.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/parser.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/parser.h	2016-07-26 15:36:37.772091094 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/parser.h	2015-03-10 22:29:59.793017264 +0800
@@ -69,13 +69,13 @@
 
 /* Value type.  */
 #if ! defined YYSTYPE && ! defined YYSTYPE_IS_DECLARED
 typedef union YYSTYPE YYSTYPE;
 union YYSTYPE
 {
-#line 39 "parser.y" /* yacc.c:1909  */
+#line 46 "parser.y" /* yacc.c:1909  */
 
 	double  number;
 	int     boolean;
 	char   *string;
 	oconfig_value_t  cv;
 	oconfig_item_t   ci;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/parser.y /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/parser.y
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/parser.y	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/parser.y	2015-03-10 22:14:45.841114412 +0800
@@ -1,22 +1,30 @@
 /**
- * oconfig - src/parser.y
- * Copyright (C) 2007,2008  Florian octo Forster <octo at verplant.org>
+ * collectd - src/liboconfig/parser.y
+ * Copyright (C) 2007,2008  Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
- * more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along with
- * this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
+ *
+ * Authors:
+ *   Florian Forster <octo at collectd.org>
  */
 
 %{
 #include <stdlib.h>
 #include <string.h>
 #include "oconfig.h"
@@ -25,13 +33,12 @@
 static char *unquote (const char *orig);
 static int yyerror (const char *s);
 
 /* Lexer variables */
 extern int yylineno;
 extern char *yytext;
-extern int yylex (void);
 
 extern oconfig_item_t *ci_root;
 extern char           *c_file;
 %}
 
 %start entire_file
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/scanner.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/scanner.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/scanner.c	2016-07-26 15:48:08.949850466 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/scanner.c	2015-03-10 22:29:59.893019436 +0800
@@ -388,36 +388,190 @@
 	(yytext_ptr) = yy_bp; \
 	yyleng = (size_t) (yy_cp - yy_bp); \
 	(yy_hold_char) = *yy_cp; \
 	*yy_cp = '\0'; \
 	(yy_c_buf_p) = yy_cp;
 
-#define YY_NUM_RULES 18
-#define YY_END_OF_BUFFER 19
+#define YY_NUM_RULES 19
+#define YY_END_OF_BUFFER 20
 /* This struct is not used in this scanner,
    but its presence is necessary. */
 struct yy_trans_info
 	{
 	flex_int32_t yy_verify;
 	flex_int32_t yy_nxt;
 	};
-static yyconst flex_int16_t yy_accept[118] =
+static yyconst flex_int16_t yy_accept[1519] =
     {   0,
-        0,    0,    0,    0,   19,   18,    1,    4,   18,   18,
-        2,   18,   18,    5,   11,   11,   11,   11,    6,    7,
-       13,   18,   13,   13,   13,   13,   13,   18,   15,    4,
-        0,   12,    0,    2,    0,   11,   11,    0,   11,   11,
-       13,   13,   11,   11,   11,   11,    3,    0,   13,    9,
-       13,    8,   13,   13,    0,   17,    0,   15,    0,   14,
-        0,    0,   11,   11,   11,   11,   11,   13,   13,    0,
-       16,    0,   14,    0,    0,   11,   11,   11,   13,   16,
-       11,    0,    0,    0,    0,    0,    0,    0,    0,   10,
-       10,   10,   10,    0,   10,   10,   10,   10,   10,   10,
+        0,    0,    0,    0,   20,   19,    1,    4,   19,   19,
+        2,   19,   19,    5,   12,   12,   12,   12,   19,    6,
+        7,   14,   14,   19,   19,   14,   14,   14,   14,   14,
+       19,   16,    4,    0,   13,    0,    2,    0,   12,   12,
+        0,   12,   12,    0,   14,   14,   14,   12,   12,   12,
+       12,   11,    0,    0,    3,    0,   14,    9,   14,    8,
+       14,   14,    0,   18,    0,   16,    0,   15,    0,    0,
+       12,   12,   12,   12,   12,   12,   14,    0,   11,   12,
+       12,   11,   11,   11,   11,   11,    0,    0,    0,   14,
+       14,    0,   17,    0,   15,    0,    0,   12,   12,   12,
+
+       12,   12,   14,    0,    0,   11,   11,   11,   11,   11,
+        0,   11,    0,   11,   11,   11,   11,    0,    0,    0,
+        0,    0,    0,    0,    0,   11,   14,   17,   12,    0,
+        0,    0,    0,   12,   12,    0,    0,   11,   11,    0,
+       11,   11,   11,   11,    0,    0,    0,    0,   11,   11,
+       11,   11,   11,   11,   11,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+        0,    0,    0,    0,   11,    0,   11,    0,   11,   11,
+
+       11,   11,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,   11,   11,   11,   10,   10,   10,   10,    0,
+        0,   11,   11,    0,   11,   11,   11,   11,   11,   11,
+        0,   11,   11,   11,   11,    0,    0,    0,    0,    0,
+        0,    0,    0,   11,   11,   11,   11,   11,   11,   11,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,   11,   11,   11,
+       11,    0,   10,   10,   10,    0,    0,    0,   11,   11,
+
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,    0,    0,    0,
+        0,    0,    0,    0,    0,   11,    0,   11,    0,   11,
+       11,   11,   11,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,   11,   11,   11,   11,   11,   10,
+       10,   10,    0,    0,   11,   11,    0,   11,   11,   11,
+       11,   11,   11,    0,   11,   11,   11,   11,   11,   11,
+        0,   11,   11,   11,   11,   11,   11,   11,   11,    0,
+
+        0,    0,    0,    0,    0,    0,    0,   11,   11,   11,
+       11,   11,   11,   11,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,   11,   11,   11,   11,   11,   11,   10,   10,
+       10,   10,    0,    0,    0,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,    0,   11,   11,   11,    0,    0,    0,    0,    0,
+
+        0,    0,    0,   11,    0,   11,    0,   11,   11,   11,
+       11,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,   11,   10,   10,   10,   10,   10,    0,
+        0,   11,   11,    0,   11,   11,   11,   11,   11,   11,
+        0,   11,   11,   11,   11,   11,   11,    0,   11,   11,
+       11,   11,   11,   11,    0,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,    0,    0,    0,    0,
+
+        0,    0,    0,    0,   11,   11,   11,   11,   11,   11,
+       11,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+       10,   10,   10,   10,   10,   10,    0,    0,    0,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+
+       11,   11,   11,   11,   11,   11,    0,   11,   11,   11,
+        0,    0,    0,    0,    0,    0,    0,    0,   11,    0,
+       11,    0,   11,   11,   11,   11,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,   10,    0,
+        0,    0,    0,    0,   11,    0,   11,    0,   11,   11,
+       11,   11,   11,   11,    0,   11,   11,   11,   11,   11,
+
+       11,    0,   11,   11,   11,   11,   11,   11,    0,   11,
+       11,   11,   11,   11,   11,    0,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,    0,    0,    0,    0,    0,    0,    0,    0,
+       11,   11,   11,   11,   11,   11,   11,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,    0,   11,   11,   11,    0,    0,    0,    0,    0,
+        0,    0,    0,   11,    0,   11,    0,   11,   11,   11,
+       11,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,   11,   11,    0,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,    0,    0,    0,    0,    0,    0,    0,    0,   11,
+       11,   11,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,    0,   11,
+       11,   11,    0,    0,    0,    0,    0,    0,    0,    0,
+       11,   11,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,    0,
+        0,    0,    0,   11,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,    0,   11,   11,   11,    0,    0,
+        0,    0,   11,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,    0,   11,   11,   11,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,   11,   11,   11,
+
+       11,   11,   11,   11,   11,   11,   11,   11,   11,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,   11,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+       11,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,   11,   11,   11,   11,   11,   11,   11,
+       11,   11,   11,   11,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,   11,   11,
+       11,   11,   11,   11,   11,   11,   11,   11,   11,   11,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
 
-       10,   10,   10,   10,   10,   10,   10,   10,   10,   10,
-       10,   10,   10,   10,   10,   10,    0
+        0,   11,   11,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0
     } ;
 
 static yyconst flex_int32_t yy_ec[256] =
     {   0,
         1,    1,    1,    1,    1,    1,    1,    2,    2,    3,
         1,    1,    4,    1,    1,    1,    1,    1,    1,    1,
@@ -425,17 +579,17 @@
         1,    2,    1,    5,    6,    1,    1,    1,    1,    1,
         1,    1,    7,    1,    7,    8,    9,   10,   11,   12,
        13,   14,   15,   16,   17,   18,   18,   19,    1,   20,
         1,   21,    1,    1,   22,   22,   22,   22,   23,   22,
        24,   24,   24,   24,   24,   24,   24,   24,   24,   24,
        24,   24,   24,   24,   24,   24,   24,   25,   24,   24,
-        1,   26,    1,    1,   24,    1,   27,   22,   22,   22,
+       26,   27,   28,    1,   24,    1,   29,   22,   22,   22,
 
-       28,   29,   24,   24,   24,   24,   24,   30,   24,   31,
-       32,   24,   24,   33,   34,   35,   36,   24,   24,   25,
-       37,   24,    1,    1,    1,    1,    1,    1,    1,    1,
+       30,   31,   24,   24,   24,   24,   24,   32,   24,   33,
+       34,   24,   24,   35,   36,   37,   38,   24,   24,   25,
+       39,   24,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
@@ -446,172 +600,2715 @@
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1
     } ;
 
-static yyconst flex_int32_t yy_meta[38] =
+static yyconst flex_int32_t yy_meta[40] =
     {   0,
         1,    1,    2,    1,    1,    1,    1,    3,    1,    4,
         5,    5,    5,    5,    5,    6,    6,    6,    7,    1,
-        1,    1,    8,    1,    1,    1,    1,    8,    1,    1,
-        1,    1,    1,    1,    1,    1,    1
+        1,    8,    9,   10,   10,    1,    1,   11,    8,    9,
+        8,   10,   10,   10,   10,   10,   10,   10,   10
     } ;
 
-static yyconst flex_int16_t yy_base[147] =
+static yyconst flex_int16_t yy_base[2140] =
     {   0,
-        0,    0,  415,  414,  415,  418,  418,  418,  411,   33,
-        0,  405,    0,  418,   52,   80,   96,  105,  418,  418,
-      113,   36,  385,  379,   12,  377,  381,   45,  406,  418,
-       46,  418,   41,    0,    0,  399,   19,   42,   48,  124,
-        0,  140,    0,    0,   83,  398,  418,  402,  374,    0,
-      374,    0,  366,  339,   52,  418,   45,  337,  117,  418,
-      156,  287,  158,  170,  191,  210,    0,  193,  185,  174,
-      418,  184,  185,    0,   92,    0,    0,  128,  169,  186,
-        0,  184,  180,  218,  172,  173,  152,  140,  139,  123,
-      114,  227,   42,  178,   39,   36,   27,    0,  237,    0,
-
-        0,    0,  246,    0,    0,    0,    0,  255,  205,    0,
-        0,    0,    0,  258,  418,  418,  418,  276,  284,  292,
-      298,  301,  307,  315,  320,  326,  332,  337,  340,  344,
-      348,  351,  355,  357,  361,  364,  367,  371,  374,  377,
-      380,  383,  386,  389,  392,  395
+        0,    0, 4302, 4301, 4302, 9978, 9978, 9978, 4298,   35,
+        0, 4292,    0, 9978,   55,   85,  101,  110, 4280, 9978,
+     9978,  118,    0, 4279,   38, 4263, 4257,   12, 4255, 4259,
+       48, 4283, 9978,   49, 9978,   43,    0,    0, 4266,   21,
+       38,  129,  159, 4250,  169,    0,  178,  210,    0,   39,
+     4260,  219, 4248, 4247, 9978, 4262, 4230,    0, 4230,    0,
+     4222, 4210,   54, 9978,   57, 4243,   77, 9978,  235, 4237,
+      231,  235,  258,  279,  287,  317,  327, 4224,  336,    0,
+     4232,  119,  360,  384,  406,  236, 4220, 4219,  412, 4189,
+     4194,   78, 9978,  280,  151,    0,   96,    0,    0,  181,
+
+      436,  446, 4204, 4203, 4202,  237,  456,  480,  502,  238,
+      194, 4199,  508,  532,    0,  235,  259, 4198, 4187,  554,
+      567,  588,  612,  634,  631, 4182, 4170,  255,    0, 4191,
+     4190,  652, 4189, 4175, 4174, 4173, 4145,  661, 4144,  683,
+      707,    0,  297,  361, 4154, 4153,  731, 4152, 4138,  385,
+      742,  766,  788,  457,  481, 4137, 4126, 4121,  785,  806,
+      830,  852,  849,  345,  258,  868,  892,    0,  344,  868,
+      368,  398, 4131, 4130, 4129, 4117, 4114, 4113,  533,  916,
+      940,  962,  570, 4102,  571,  970,  994, 1016,  572,  573,
+      421, 4102, 4101, 4100, 4088,  426, 4087, 1022, 1046,    0,
+
+      464,  589, 4084, 4083, 1068,  268, 1090, 1114,    0,  488,
+     1127, 4083, 4078, 1148, 4077,  508, 1149, 1170, 1194, 1216,
+     1213, 1225,    0, 1244,    0, 4065, 4064, 1253, 4063, 4060,
+     4059, 1263, 4048, 1285, 1309,    0,  516,  613, 4037, 4036,
+     1331, 1355,    0,  540,  708, 4046, 4045, 1379, 4044, 4041,
+     4040, 1390, 4029, 4013,  732, 1401, 1425, 1447,  767,  786,
+     4012, 4011, 4010, 1444, 1465, 1489, 1511, 1508,  633, 1520,
+     1541, 1565, 1587, 1522, 1584,  602, 4020, 4017, 4016,  661,
+      626,  683, 1603, 1627,    0,  637, 1603,    0,    0, 1649,
+        0,  640, 3994, 3983, 3982, 3981, 3980, 3979,  807, 1660,
+
+     1684, 1706,  831, 3976,  893, 1714, 1738, 1760,  917,  941,
+     3975,  960, 1768, 1792, 1814,  995, 1047,  675, 3975, 3970,
+     3969,  697, 3968, 3967, 3966, 3952,  721, 3951, 1820, 1844,
+        0,  750, 1115, 3940, 3929, 1866, 1022, 1888, 1912,    0,
+      774, 1925, 1090, 1119, 1944, 1968,    0,  790, 1944, 3939,
+     3938, 1992, 3937, 3936, 3933, 2003, 3932, 1120, 2004, 2025,
+     2049, 2071, 2068, 2080,    0,    0,    0, 2099,  799,    0,
+     2108,    0, 3905, 3904, 2117, 3903, 2139, 2163,    0,  814,
+     1132, 3902, 3898, 2185, 2209,    0,  838, 1133, 3897, 3881,
+     2231, 2255,    0,  853, 1171, 3880, 3879, 2277, 3878, 3885,
+
+     3884, 2289, 3869, 3868, 3867, 2300, 3866, 3852, 1195, 2311,
+     2335, 2357, 1226, 1227, 3851, 3834, 3833, 2354, 2375, 2399,
+     2421, 2418, 1148, 2430, 2451, 2475, 2497, 2432, 2494, 1219,
+     2506, 2527, 2551, 2573, 2508, 2570,  862, 3843, 3839, 3838,
+      882, 3825, 3824, 3823, 1220,  906, 1221, 2589, 2613,    0,
+      924, 2589,    0,    0,    0,    0,  948, 9978,    0,    0,
+     2635,    0, 3811, 3810, 3809, 1310, 2646, 2670, 2692, 1356,
+     3808, 1380, 2700, 2724, 2746, 1402, 1426, 3795, 1445, 2754,
+     2778, 2800, 1466, 1490, 3794, 1521, 2808, 2832, 2854, 1523,
+     1524,  978, 3793, 3790, 3789, 1008, 3783, 3782, 3781, 1036,
+
+     3777, 3776, 3762, 3749, 1060, 3736, 2860, 2884,    0, 1071,
+     1525, 3719, 3718, 2906, 1223, 2928, 2952,    0, 1076, 2965,
+     1224, 1263, 2984, 3008,    0, 1098, 2984, 1285, 1331, 3030,
+     3054,    0, 1153, 3067, 1518, 1519, 3086, 1546, 3728, 3725,
+     3107, 3724, 3707, 3706, 3118, 3705, 1608, 3119, 3140, 3164,
+     3186, 3183, 3195, 9978,    0,    0,    0, 3214, 1162, 3690,
+     3689, 3223, 3675, 3245, 3269,    0, 1178, 1526, 3673, 3660,
+     3291, 3315,    0, 1202, 1661, 3643, 3642, 3337, 3361,    0,
+     1271, 1685, 3641, 3638, 3383, 3407,    0, 1293, 1704,    0,
+     3429,    0, 3637, 3620, 3438, 3619, 3629, 3625, 3450, 3624,
+
+     3610, 3608, 3461, 3595, 3567, 1739, 3472, 3496, 3518, 1758,
+     1793, 3566, 3565, 3562, 3515, 3536, 3560, 3582, 3579, 1820,
+     3591, 3612, 3636, 3658, 3593, 3655, 1825, 3667, 3688, 3712,
+     3734, 3669, 3731, 1888, 3743, 3764, 3788, 3810, 3745, 3807,
+     1317, 1893, 1917, 1918, 1345, 3572, 3555, 3554, 1369, 3553,
+     3549, 3548, 1919, 1415, 1920, 3826, 3850,    0, 1433, 3826,
+        0,    0,    0,    0, 1449, 9978, 3523, 3522, 3872, 1969,
+     3896, 3920, 3942, 2026, 3521, 2050, 3950, 3974, 3996, 2081,
+     2082, 3520, 2083, 4004, 4028, 4050, 2084, 2085, 3519, 2086,
+     4058, 4082, 4104, 2087, 2164, 3518, 2210, 4112, 4136, 4158,
+
+     2256, 2290,    0,    0, 4164,    0, 1452, 3516, 3505, 3503,
+     1479, 3513, 3512, 3509, 1503, 3508, 3492, 3491, 3479, 1556,
+     3478, 4173, 4197,    0, 1573, 2312, 3474, 3473, 4219, 1973,
+     4241, 4265,    0, 1588, 4278, 2003, 2079, 4297, 4321,    0,
+     1591, 4297, 2117, 2139, 4343, 4367,    0, 1612, 4380, 2185,
+     2231, 4399, 4423,    0, 1635, 4399, 3453, 4445, 3442, 2316,
+     2356, 4464, 2380, 3451, 3427, 4485, 3420, 3419, 3402, 4496,
+     3401, 2420, 4497, 4518, 4542, 4564, 4561, 4573, 9978, 3389,
+     2355, 4594, 4618, 4640,    0, 2433, 3385,    0, 4648,    0,
+     1668, 2434, 3384, 3370,    0, 4672,    0, 1692, 2435, 3363,
+
+     3362,    0, 4696,    0, 1722, 2436, 3339, 3338,    0, 4720,
+        0, 1746, 2437, 3324, 3317,    0, 4744,    0, 1776, 2476,
+        0,    0,    0, 4766, 1806,    0, 4775,    0, 3293, 3292,
+     4784, 3278, 3282, 3281, 4796, 3258, 3257, 3242, 4807, 3236,
+     3224, 2507, 4818, 4842, 4864, 2509, 2510, 3201, 3187, 4870,
+     4575, 4894, 4918, 4940, 4937, 2502, 4949, 4970, 4994, 5016,
+     4951, 5013, 2504, 5025, 5046, 5070, 5092, 5027, 5089, 2505,
+     5101, 5122, 5146, 5168, 5103, 5165, 2532, 5177, 5198, 5222,
+     5244, 5179, 5241, 3177, 3157, 5260, 3156, 1829, 2594, 2651,
+     2705, 1858, 3153, 3152, 3137, 1875, 3131, 3105, 3104, 2759,
+
+     1880, 2813, 5279, 5303,    0, 1897, 5279, 3087, 1939, 3075,
+     3055, 5327,    0, 1952, 2512,    0, 3032,    0, 2647, 3031,
+        0, 2690, 3016,    0, 2744, 3010,    0, 2798, 3009,    0,
+     2885,    0,    0,    0,    0, 1977, 9978,    0,    0, 5349,
+        0, 2008, 2986, 2985, 2972, 2017, 2978, 2977, 2947, 2039,
+     2941, 2940, 2904, 2886, 2063, 2868,    0, 5360,    0, 2125,
+     2953, 2862, 2968, 5384, 5408, 5430, 2852, 2969, 2860,    0,
+     5438,    0, 2147, 5451, 2928, 2989,    0, 5472,    0, 2171,
+     5485, 3030, 3035,    0, 5506,    0, 2193, 5519, 3059, 3060,
+        0, 5540,    0, 2217, 5553, 3061, 3062,    0, 5574,    0,
+
+     2239, 5587, 2832, 2831, 2825, 5606, 2269, 2824, 5625, 2808,
+     3088, 3118, 5644, 3121, 2821, 2820, 5665, 2797, 2791, 2790,
+     5676, 2774, 3145, 5677, 5698, 5722, 5744, 5741, 5753, 2767,
+     2766, 5774, 2743, 2726,    0, 9978, 2970,    0, 2725,    0,
+     2709,    0, 2702,    0, 2701,    0, 2678,    0, 9978,    0,
+        0,    0, 5783, 2326,    0, 5792,    0, 2672, 2671, 5801,
+     2648, 2626, 2625, 5813, 2602, 2601, 2588, 5824, 2564, 2552,
+        0, 2971, 2529, 2349, 2528, 2500, 5835,    0, 2360, 3196,
+     2468, 3188, 2450, 5755, 3189, 2444, 5848, 3190, 2443, 5851,
+     3191, 2429, 5852, 3193, 2422, 5853, 2419, 2392, 2391, 2368,
+
+     2367, 2328, 2327, 2304, 5872, 2255, 2363, 3194, 3223, 3245,
+     2390, 2268, 2250, 2244, 2413, 2243, 2229, 2228, 3250, 2465,
+     3291,    0, 5893,    0, 2483, 5906, 2542, 2222, 2204, 2198,
+     2186,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0, 2559, 9978,    0,    0, 5925,    0, 2574, 2172,
+     2171, 2165, 2583, 2158, 2152, 2151, 2604, 2136, 2130, 2129,
+     2078,    0, 2062, 2044, 5936, 2038, 2011, 1961, 1943, 3316,
+     1937, 3337, 1936, 3342, 1904, 3383, 1881, 3388, 1880, 3477,
+     1865, 1844, 1843, 1837, 1836, 5945, 2627, 1813, 5964, 1812,
+     3517, 3541, 5983, 3581, 1812, 1805, 6004, 1788, 1787, 1781,
+
+     6015, 1780, 3583, 1737, 6016, 1751, 1734, 6037, 1733,    0,
+     9978, 9978, 9978, 9978, 9978, 9978, 9978,    0,    0,    0,
+     6046, 2661,    0, 6055,    0, 1716, 1715, 6064, 1692, 1697,
+     1680, 6076, 1679,    0, 2684, 1673, 1646, 1640, 1628, 1596,
+     1595, 1582, 1558, 1557, 1534, 1533, 1507, 1482, 1464, 1458,
+     1443, 1418, 1401, 1400, 6085, 1394, 2709, 3585, 3586, 3587,
+     2738, 1375, 1374, 1368, 2769, 1350, 1344, 1343, 3589, 1309,
+     2792, 1328, 1322, 1304,    0,    0,    0,    0, 2817, 9978,
+        0,    0, 6104,    0, 2840, 1287, 1286, 1271, 2874, 1276,
+     1275, 1242, 9978, 1229, 1228, 6115, 1207, 1169, 1163, 1126,
+
+     1125, 1122, 1121, 1089, 1083, 1082, 1067, 1046, 6124, 2898,
+     1045, 6143, 1039, 3617, 3657, 6162, 3659, 1041, 1035, 6183,
+     1034,  994, 1002,  996, 6192,  979, 9978,    0,    0,    0,
+     6202, 2920,    0, 6211,    0,  978,  972, 6220,  971, 2915,
+      959,  953,  936,  915,  909,  891,  885,  867,  861,  860,
+      847, 6230,  823, 2936, 3661, 3662, 3663, 2999,  825,  819,
+      779,  742, 3016,  750,  744,  743,    0,    0,    0,    0,
+     3039, 9978,    0,    0, 6249,    0, 3075,  716,  715,  709,
+     3665, 3693, 6258, 3733,  682,  676,  675,  660, 6277, 3098,
+      654, 6296,  653, 3735, 3737, 6315, 3738,    0, 6334,    0,
+
+     9978,    0,    0,    0, 6343, 3131,    0, 6352,    0, 3149,
+     3739, 3741, 3769,  623,  605,  587,  581,  566,  565,  560,
+      559, 6361,  546, 3172, 3831, 3877, 3901,    0,    0, 6380,
+        0,    0,    0,    0,    0, 3231, 9978,    0,    0, 6389,
+        0,  545, 6398,  532,  531,  525,  507,  501, 6417, 3283,
+      500, 6436,  480,    0,    0,    0, 6455, 3305, 9978,    0,
+        0,    0, 6464, 3329,  479,  473, 6473,  456,  455,  449,
+      417,  411,  384,  383,  377,  360, 6492,  359,    0,    0,
+        0,    0, 3254, 9978,    0,    0,    0,    0, 3346, 9978,
+      353,  336,  335, 6511, 3375,  308,  280,   24,   30, 6530,
+
+     3421, 9978, 9978,   36,   81,  121,  122,  127,  129,  191,
+      219,  231,  235,  236,  251,  252,  256, 9978, 6558, 6569,
+     6580, 6589, 6592, 6595, 6602, 6611, 6622, 6630, 6633, 6639,
+     6648, 6657, 6663, 6670, 6676, 6682, 6688, 6691, 6694, 6700,
+     6707, 6713, 6716, 6722, 6728, 6735, 6744, 6748, 6751, 6757,
+     6763, 6770, 6774, 6777, 6784, 6790, 6796, 6803, 6811, 6814,
+     6821, 6824, 6828, 6830, 6836, 6843, 6849, 6856, 6862, 6866,
+     6868, 6871, 6877, 6883, 6889, 6898, 6902, 6905, 6914, 6922,
+     6925, 6928, 6932, 6936, 6942, 6948, 6954, 6961, 6965, 6969,
+     6973, 6976, 6983, 6989, 6995, 7002, 7010, 7019, 7027, 7031,
+
+     7033, 7036, 7044, 7047, 7050, 7052, 7055, 7059, 7065, 7072,
+     7078, 7085, 7091, 7098, 7104, 7108, 7112, 7114, 7118, 7122,
+     7124, 7127, 7133, 7139, 7145, 7153, 7162, 7166, 7170, 7174,
+     7177, 7186, 7194, 7197, 7200, 7203, 7206, 7209, 7215, 7221,
+     7227, 7233, 7239, 7243, 7248, 7252, 7256, 7260, 7263, 7270,
+     7276, 7282, 7289, 7297, 7306, 7314, 7323, 7331, 7335, 7339,
+     7341, 7345, 7349, 7351, 7354, 7362, 7365, 7368, 7371, 7374,
+     7380, 7387, 7393, 7400, 7406, 7413, 7419, 7426, 7431, 7434,
+     7438, 7442, 7446, 7450, 7452, 7456, 7460, 7462, 7465, 7471,
+     7477, 7483, 7491, 7499, 7507, 7515, 7524, 7528, 7532, 7536,
+
+     7539, 7548, 7556, 7559, 7562, 7565, 7571, 7577, 7583, 7589,
+     7595, 7601, 7604, 7607, 7611, 7616, 7620, 7624, 7628, 7631,
+     7638, 7644, 7650, 7657, 7665, 7674, 7682, 7691, 7699, 7708,
+     7715, 7718, 7726, 7734, 7738, 7742, 7744, 7748, 7752, 7754,
+     7757, 7765, 7768, 7775, 7781, 7788, 7794, 7801, 7807, 7814,
+     7820, 7827, 7833, 7836, 7839, 7841, 7844, 7848, 7852, 7856,
+     7860, 7862, 7866, 7870, 7872, 7875, 7881, 7887, 7893, 7901,
+     7909, 7917, 7925, 7933, 7941, 7949, 7958, 7962, 7966, 7970,
+     7973, 7982, 7990, 7997, 8003, 8009, 8015, 8021, 8027, 8033,
+     8039, 8045, 8051, 8057, 8063, 8069, 8072, 8075, 8078, 8081,
+
+     8084, 8088, 8093, 8097, 8101, 8105, 8108, 8115, 8121, 8128,
+     8136, 8145, 8153, 8162, 8170, 8179, 8187, 8196, 8204, 8212,
+     8220, 8227, 8230, 8238, 8246, 8250, 8254, 8256, 8260, 8264,
+     8266, 8269, 8277, 8280, 8286, 8292, 8298, 8304, 8310, 8316,
+     8322, 8328, 8334, 8340, 8346, 8352, 8358, 8361, 8364, 8367,
+     8369, 8372, 8376, 8380, 8384, 8388, 8390, 8394, 8398, 8400,
+     8403, 8409, 8415, 8422, 8428, 8436, 8444, 8450, 8458, 8464,
+     8472, 8478, 8486, 8492, 8500, 8506, 8514, 8522, 8530, 8538,
+     8546, 8554, 8563, 8567, 8571, 8575, 8578, 8587, 8596, 8600,
+     8603, 8609, 8615, 8621, 8627, 8633, 8639, 8645, 8651, 8654,
+
+     8657, 8660, 8663, 8666, 8670, 8675, 8679, 8683, 8687, 8690,
+     8696, 8702, 8705, 8711, 8717, 8725, 8733, 8741, 8749, 8757,
+     8765, 8773, 8781, 8789, 8797, 8805, 8813, 8821, 8829, 8837,
+     8844, 8847, 8855, 8863, 8867, 8871, 8873, 8877, 8881, 8883,
+     8886, 8894, 8900, 8904, 8908, 8910, 8916, 8922, 8928, 8934,
+     8940, 8946, 8952, 8955, 8958, 8961, 8963, 8966, 8970, 8974,
+     8978, 8982, 8984, 8988, 8992, 8994, 9001, 9005, 9008, 9014,
+     9022, 9030, 9038, 9046, 9054, 9062, 9070, 9078, 9086, 9094,
+     9102, 9110, 9118, 9127, 9131, 9135, 9139, 9142, 9150, 9159,
+     9163, 9166, 9172, 9175, 9178, 9181, 9184, 9187, 9191, 9196,
+
+     9200, 9203, 9209, 9213, 9215, 9223, 9231, 9239, 9247, 9255,
+     9263, 9271, 9279, 9287, 9295, 9303, 9310, 9313, 9321, 9325,
+     9327, 9331, 9333, 9341, 9345, 9347, 9350, 9353, 9356, 9358,
+     9361, 9365, 9369, 9372, 9376, 9379, 9387, 9395, 9403, 9411,
+     9419, 9427, 9435, 9444, 9448, 9451, 9459, 9463, 9467, 9470,
+     9473, 9476, 9479, 9482, 9486, 9490, 9494, 9496, 9504, 9512,
+     9520, 9528, 9535, 9538, 9546, 9550, 9551, 9554, 9558, 9561,
+     9564, 9567, 9569, 9572, 9576, 9584, 9592, 9600, 9608, 9616,
+     9624, 9632, 9640, 9648, 9651, 9654, 9657, 9660, 9663, 9666,
+     9668, 9671, 9679, 9687, 9695, 9703, 9711, 9718, 9721, 9729,
+
+     9732, 9735, 9738, 9741, 9744, 9747, 9750, 9758, 9766, 9774,
+     9782, 9790, 9798, 9806, 9809, 9812, 9815, 9818, 9821, 9824,
+     9832, 9840, 9848, 9856, 9864, 9872, 9880, 9888, 9891, 9894,
+     9902, 9910, 9918, 9926, 9934, 9942, 9950, 9958, 9966
     } ;
 
-static yyconst flex_int16_t yy_def[147] =
+static yyconst flex_int16_t yy_def[2140] =
     {   0,
-      117,    1,  118,  118,  117,  117,  117,  117,  117,  119,
-      120,  121,  122,  117,  117,   15,   16,   17,  117,  117,
-       17,  117,   21,   21,   21,   21,   21,  123,  117,  117,
-      119,  117,  124,  120,  122,  121,  122,  125,   15,   15,
-       21,  117,   18,   18,   18,   40,  117,  117,   21,   21,
-       21,   21,   21,   21,  123,  117,  126,  117,  119,  117,
-      119,  117,  122,  127,  117,   65,   42,   21,   21,  123,
-      117,  123,  119,  128,  129,   66,   66,   66,   21,  123,
-      128,  117,  130,  117,  131,  132,  131,  131,  133,  117,
-      134,  117,  135,  136,  135,  135,  137,  138,  117,  139,
-
-      140,  141,  117,  142,  143,  144,  145,  117,  108,  146,
-      146,  146,  146,  146,  117,  117,    0,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117,  117
+     1518,    1, 1519, 1519, 1518, 1518, 1518, 1518, 1518, 1520,
+     1521, 1522, 1523, 1518, 1518,   15,   16,   17, 1518, 1518,
+     1518,   17, 1524, 1525, 1518,   22, 1524, 1524, 1524, 1524,
+     1526, 1518, 1518, 1520, 1518, 1527, 1521, 1523, 1522, 1523,
+     1528, 1518,   42, 1529,   42, 1524, 1518,   42,   48,   48,
+       43, 1518, 1530, 1518, 1518, 1518,   45, 1524, 1524, 1524,
+     1524, 1524, 1526, 1518, 1531, 1518, 1520, 1518, 1520, 1518,
+     1523, 1532, 1518,   73, 1518,   75,   75, 1533, 1518,   47,
+       76, 1534, 1518, 1518,   84, 1534, 1535, 1536, 1518, 1524,
+     1524, 1526, 1518, 1526, 1520, 1537, 1538,   74,   74,   74,
+
+     1524,  101, 1524, 1539, 1540, 1541, 1518, 1518,  108, 1541,
+     1542, 1543, 1518, 1518,  114,  114, 1543, 1544, 1545, 1518,
+     1546, 1518, 1518,  123, 1546, 1518, 1524, 1526, 1537, 1518,
+     1547, 1518, 1548,  101,  102, 1549, 1550, 1518, 1551, 1518,
+     1518,  141,  141, 1551, 1518, 1552, 1518, 1553, 1554, 1555,
+     1518, 1518,  152, 1555, 1554, 1518, 1556, 1557, 1558, 1518,
+     1518,  161, 1558, 1559, 1560, 1518, 1518,  167,  167, 1560,
+     1561, 1562, 1548, 1548, 1563, 1518, 1564, 1565, 1566, 1518,
+     1518,  181, 1566, 1567, 1568, 1518, 1518,  187, 1568, 1567,
+     1569, 1553, 1553, 1570, 1518, 1571, 1572, 1518, 1518,  199,
+
+      199, 1572, 1573, 1574, 1518, 1575, 1518, 1518,  208,  208,
+     1575, 1518, 1576, 1518, 1577, 1578, 1579, 1518, 1518,  219,
+     1579, 1578, 1580, 1518, 1581, 1518, 1582, 1518, 1583, 1584,
+     1585, 1518, 1586, 1518, 1518,  235,  235, 1586, 1518, 1587,
+     1518, 1518,  242,  242, 1587, 1518, 1588, 1518, 1589, 1518,
+     1590, 1518, 1591, 1592, 1593, 1518, 1518,  257, 1593, 1592,
+     1518, 1594, 1595, 1596, 1518, 1518,  266, 1596, 1597, 1598,
+     1518, 1518,  272, 1598, 1597, 1599, 1577, 1577, 1600, 1518,
+     1601, 1602, 1518, 1518,  284,  284, 1602, 1603, 1604, 1518,
+     1605, 1606, 1583, 1583, 1607, 1518, 1608, 1609, 1610, 1518,
+
+     1518,  301, 1610, 1611, 1612, 1518, 1518,  307, 1612, 1611,
+     1613, 1614, 1518, 1518,  314, 1614, 1613, 1615, 1616, 1616,
+     1617, 1618, 1619, 1619, 1620, 1518, 1621, 1622, 1518, 1518,
+      330,  330, 1622, 1623, 1624, 1518, 1625, 1518, 1518,  339,
+      339, 1625, 1518, 1626, 1518, 1518,  346,  346, 1626, 1518,
+     1627, 1518, 1628, 1518, 1629, 1518, 1630, 1631, 1632, 1518,
+     1518,  361, 1632, 1631, 1633, 1634, 1635, 1518,  368, 1636,
+     1518, 1637, 1638, 1639, 1518, 1640, 1518, 1518,  378,  378,
+     1640, 1518, 1641, 1518, 1518,  385,  385, 1641, 1518, 1642,
+     1518, 1518,  392,  392, 1642, 1518, 1643, 1518, 1644, 1518,
+
+     1645, 1518, 1646, 1518, 1647, 1518, 1648, 1649, 1650, 1518,
+     1518,  411, 1650, 1649, 1518, 1651, 1652, 1653, 1518, 1518,
+      420, 1653, 1654, 1655, 1518, 1518,  426, 1655, 1654, 1656,
+     1657, 1518, 1518,  433, 1657, 1656, 1658, 1659, 1659, 1660,
+     1661, 1662, 1662, 1663, 1518, 1664, 1665, 1518, 1518,  449,
+      449, 1665, 1666, 1666, 1666, 1666, 1666, 1518, 1667, 1668,
+     1518, 1669, 1518, 1670, 1671, 1672, 1518, 1518,  468, 1672,
+     1673, 1674, 1518, 1518,  474, 1674, 1673, 1675, 1676, 1518,
+     1518,  481, 1676, 1675, 1677, 1678, 1518, 1518,  488, 1678,
+     1677, 1679, 1680, 1680, 1681, 1682, 1683, 1683, 1684, 1685,
+
+     1686, 1686, 1687, 1518, 1688, 1689, 1518, 1518,  508,  508,
+     1689, 1690, 1691, 1518, 1692, 1518, 1518,  517,  517, 1692,
+     1518, 1693, 1518, 1518,  524,  524, 1693, 1518, 1694, 1518,
+     1518,  531,  531, 1694, 1518, 1695, 1518, 1696, 1518, 1697,
+     1518, 1698, 1518, 1699, 1518, 1700, 1701, 1702, 1518, 1518,
+      550, 1702, 1701, 1518, 1703, 1704, 1705, 1518,  558, 1706,
+     1707, 1518, 1708, 1518, 1518,  565,  565, 1708, 1518, 1709,
+     1518, 1518,  572,  572, 1709, 1518, 1710, 1518, 1518,  579,
+      579, 1710, 1518, 1711, 1518, 1518,  586,  586, 1711, 1712,
+     1518, 1713, 1518, 1714, 1518, 1715, 1518, 1716, 1518, 1717,
+
+     1518, 1718, 1518, 1719, 1720, 1721, 1518, 1518,  608, 1721,
+     1720, 1518, 1722, 1723, 1724, 1518, 1518,  617, 1724, 1725,
+     1726, 1518, 1518,  623, 1726, 1725, 1727, 1728, 1518, 1518,
+      630, 1728, 1727, 1729, 1730, 1518, 1518,  637, 1730, 1729,
+     1731, 1732, 1732, 1733, 1734, 1735, 1735, 1736, 1737, 1738,
+     1738, 1739, 1518, 1740, 1741, 1518, 1518,  657,  657, 1741,
+     1742, 1742, 1742, 1742, 1742, 1518, 1518, 1743, 1518, 1744,
+     1518, 1518,  672, 1744, 1745, 1746, 1518, 1518,  678, 1746,
+     1745, 1747, 1748, 1518, 1518,  685, 1748, 1747, 1749, 1750,
+     1518, 1518,  692, 1750, 1749, 1751, 1752, 1518, 1518,  699,
+
+     1752, 1751, 1753, 1754, 1518, 1755, 1756, 1757, 1757, 1758,
+     1759, 1760, 1760, 1761, 1762, 1763, 1763, 1764, 1518, 1765,
+     1766, 1518, 1518,  723,  723, 1766, 1767, 1768, 1518, 1769,
+     1518, 1518,  732,  732, 1769, 1518, 1770, 1518, 1518,  739,
+      739, 1770, 1518, 1771, 1518, 1518,  746,  746, 1771, 1518,
+     1772, 1518, 1518,  753,  753, 1772, 1773, 1518, 1774, 1518,
+     1775, 1518, 1776, 1518, 1777, 1518, 1778, 1518, 1779, 1518,
+     1780, 1781, 1782, 1518, 1518,  775, 1782, 1781, 1518, 1783,
+     1784, 1518, 1518,  783, 1785, 1784, 1786, 1787, 1518,  789,
+      789, 1786, 1518, 1788, 1789, 1518,  796,  796, 1788, 1518,
+
+     1790, 1791, 1518,  803,  803, 1790, 1518, 1792, 1793, 1518,
+      810,  810, 1792, 1518, 1794, 1795, 1518,  817,  817, 1794,
+     1796, 1797, 1798, 1518,  824, 1799, 1518, 1800, 1518, 1801,
+     1518, 1802, 1518, 1803, 1518, 1804, 1518, 1805, 1518, 1806,
+     1807, 1808, 1518, 1518,  844, 1808, 1807, 1518, 1809, 1518,
+     1810, 1518, 1518,  853, 1810, 1811, 1812, 1518, 1518,  859,
+     1812, 1811, 1813, 1814, 1518, 1518,  866, 1814, 1813, 1815,
+     1816, 1518, 1518,  873, 1816, 1815, 1817, 1818, 1518, 1518,
+      880, 1818, 1817, 1819, 1820, 1518, 1821, 1822, 1823, 1823,
+     1824, 1825, 1826, 1826, 1827, 1828, 1829, 1829, 1830, 1518,
+
+     1831, 1832, 1518, 1518,  904,  904, 1832, 1518, 1833, 1834,
+     1835, 1518,  912,  912, 1834, 1836, 1837, 1838, 1837, 1839,
+     1840, 1839, 1841, 1842, 1841, 1843, 1844, 1843, 1845, 1846,
+     1845, 1847, 1847, 1847, 1847, 1847, 1518, 1848, 1849, 1518,
+     1850, 1851, 1852, 1852, 1853, 1854, 1855, 1855, 1856, 1857,
+     1858, 1858, 1859, 1518, 1860, 1861, 1862, 1518,  958,  958,
+     1861, 1863, 1864, 1518, 1518,  965, 1865, 1864, 1866, 1867,
+     1518,  971,  971, 1866, 1518, 1868, 1869, 1518,  978,  978,
+     1868, 1518, 1870, 1871, 1518,  985,  985, 1870, 1518, 1872,
+     1873, 1518,  992,  992, 1872, 1518, 1874, 1875, 1518,  999,
+
+      999, 1874, 1876, 1877, 1878, 1518, 1006, 1879, 1518, 1880,
+     1518, 1881, 1518, 1882, 1518, 1883, 1518, 1884, 1518, 1885,
+     1518, 1886, 1887, 1888, 1518, 1518, 1026, 1888, 1887, 1518,
+     1889, 1518, 1890, 1891, 1892, 1518, 1891, 1893, 1518, 1894,
+     1518, 1895, 1518, 1896, 1518, 1897, 1518, 1898, 1518, 1899,
+     1900, 1901, 1518, 1053, 1902, 1518, 1903, 1518, 1904, 1518,
+     1905, 1518, 1906, 1518, 1907, 1518, 1908, 1518, 1909, 1910,
+     1911, 1910, 1518, 1912, 1913, 1914, 1518, 1077, 1077, 1913,
+     1915, 1916, 1917, 1916, 1918, 1919, 1918, 1920, 1921, 1920,
+     1922, 1923, 1922, 1924, 1925, 1924, 1926, 1926, 1926, 1926,
+
+     1927, 1518, 1928, 1929, 1518, 1930, 1931, 1932, 1932, 1933,
+     1934, 1935, 1935, 1936, 1937, 1938, 1938, 1939, 1518, 1940,
+     1941, 1942, 1518, 1123, 1123, 1941, 1943, 1944, 1944, 1945,
+     1518, 1946, 1947, 1948, 1949, 1950, 1951, 1952, 1953, 1953,
+     1953, 1953, 1953, 1518, 1954, 1955, 1518, 1956, 1957, 1958,
+     1958, 1959, 1960, 1961, 1961, 1962, 1963, 1964, 1964, 1965,
+     1518, 1966, 1518, 1967, 1518, 1968, 1969, 1970, 1518, 1969,
+     1971, 1518, 1972, 1518, 1973, 1518, 1974, 1518, 1975, 1518,
+     1976, 1518, 1977, 1978, 1979, 1518, 1186, 1980, 1518, 1981,
+     1518, 1982, 1518, 1983, 1518, 1984, 1518, 1985, 1518, 1986,
+
+     1518, 1987, 1988, 1989, 1988, 1518, 1990, 1518, 1991, 1992,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1993, 1994, 1995,
+     1518, 1221, 1996, 1518, 1997, 1518, 1998, 1518, 1999, 1518,
+     2000, 1518, 2001, 2002, 2003, 1968, 1968, 2004, 1518, 2005,
+     2006, 2007, 2008, 2009, 2010, 2011, 2012, 2012, 2012, 2012,
+     2013, 1518, 2014, 2015, 1518, 2016, 2017, 1983, 1983, 2018,
+     2019, 1985, 1985, 2020, 2021, 1987, 1987, 2022, 1518, 2023,
+     2024, 1991, 1991, 2025, 2026, 2026, 2026, 2026, 2026, 1518,
+     2027, 2028, 1518, 2029, 2030, 1999, 1999, 2031, 2032, 2001,
+     2001, 2033, 1518, 1518, 2034, 1518, 2035, 2036, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 2037, 2038, 2039, 1518, 1309,
+     2040, 1518, 2041, 1518, 2042, 1518, 2043, 1518, 2044, 1518,
+     2045, 2046, 1518, 2047, 1518, 2048, 1518, 2049, 2050, 2051,
+     1518, 1331, 2052, 1518, 2053, 1518, 2054, 1518, 2055, 2056,
+     2035, 2035, 2057, 2058, 2058, 2058, 2058, 2059, 1518, 2060,
+     2061, 1518, 2062, 2063, 2043, 2043, 2064, 2065, 2045, 2045,
+     2066, 1518, 2067, 2048, 2048, 2068, 2069, 2069, 2069, 2069,
+     2069, 1518, 2070, 2071, 1518, 2072, 2073, 2055, 2055, 2074,
+     1518, 2075, 1518, 2076, 1518, 2077, 2078, 2079, 1518, 1389,
+     2080, 1518, 2081, 1518, 2082, 1518, 2083, 2084, 1518, 2085,
+
+     1518, 2086, 2087, 2088, 1518, 1405, 2089, 1518, 2090, 2091,
+     2076, 2076, 2092, 2093, 2093, 2093, 2093, 2094, 1518, 2095,
+     2096, 1518, 2097, 2098, 2083, 2083, 2099, 2100, 2101, 1518,
+     2102, 2103, 2103, 2103, 2103, 2103, 1518, 2104, 2105, 1518,
+     2106, 2107, 1518, 2108, 1518, 2109, 2110, 2111, 1518, 1449,
+     2112, 1518, 2113, 2114, 2115, 2116, 1518, 1457, 1518, 2117,
+     2118, 2119, 1518, 1463, 2120, 2121, 1518, 2122, 2123, 2123,
+     2123, 2123, 2124, 1518, 2125, 2126, 1518, 2127, 2128, 2128,
+     2128, 2128, 2128, 1518, 2129, 2129, 2129, 2129, 2129, 1518,
+     2130, 2131, 2132, 1518, 1494, 1518, 2133, 2134, 2135, 1518,
+
+     1500, 1518, 1518, 2136, 2136, 2136, 2136, 2137, 1518, 2138,
+     2138, 2138, 2138, 2139, 1518, 1518, 1518,    0, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518
     } ;
 
-static yyconst flex_int16_t yy_nxt[456] =
+static yyconst flex_int16_t yy_nxt[10018] =
     {   0,
         6,    7,    8,    9,   10,   11,   12,   13,   14,   15,
-       16,   17,   18,   18,   18,   18,   18,   18,    6,   19,
-       20,   21,   21,   21,   21,   22,   21,   21,   23,   21,
-       24,   25,   21,   21,   26,   21,   27,   32,   47,   48,
-       51,   62,   52,   60,   61,   94,   62,   71,   72,   56,
-       32,   63,   64,   65,   94,   35,   56,   94,   33,   38,
-       94,   39,   39,   39,   39,   39,   39,   39,   39,   40,
-       57,   33,   41,   41,   41,   41,   42,   57,   41,   41,
-       41,   41,   41,   41,   41,   41,   41,   41,   41,   43,
-       43,   43,   43,   43,   43,   43,   43,   43,   40,   40,
-
-       40,   82,   83,   84,   41,   44,   44,   44,   44,   44,
-       45,   46,   46,   46,   46,   46,   46,   46,   46,   46,
-      117,   32,   41,   41,   41,   41,   41,   41,   41,   41,
-       41,   35,   94,   40,   40,   40,   40,   40,   40,   40,
-       40,   94,   33,   37,   37,   37,   86,   86,   41,   67,
-       67,   67,   67,   67,   67,   67,   67,   67,   73,   86,
-       32,   67,   67,   41,   41,   75,   67,   67,   67,   41,
-       41,   41,   41,   41,   41,   41,   41,   75,   56,   86,
-       62,   33,   90,   91,   92,   62,   80,   86,   56,   32,
-       56,   86,   62,   99,  100,  100,   50,   62,   75,   57,
-
-       77,   77,   77,   77,   77,   78,   63,   63,   63,   57,
-       33,   57,   52,   62,  115,  115,  115,  115,   62,   63,
-       63,   63,   63,   63,   63,   86,   79,   88,   88,   88,
-       88,   88,   89,   82,   82,   82,   96,   96,   96,   96,
-       96,   97,   90,   90,   90,   94,  102,  102,  102,  102,
-      102,  103,  104,  104,  104,  107,  107,  107,  107,  107,
-      108,  109,  109,  109,  113,  113,  113,  114,  115,  115,
-      115,  115,  115,  117,  117,  117,   28,   28,   28,   28,
-       28,   28,   28,   28,   31,   31,   31,   31,   31,   31,
-       31,   31,   34,   74,   34,   34,   34,   34,   34,   34,
-
-       36,   36,   36,   36,   37,   37,   37,   55,   55,   55,
-       55,   55,   55,   55,   55,   59,   59,   59,   59,   59,
-       59,   59,   59,   66,   66,   66,   70,   70,   70,   70,
-       70,   70,   70,   70,   76,   76,   76,   76,   58,   76,
-       81,   81,   81,   85,   85,   85,   87,   87,   87,   87,
-       82,   82,   82,   82,   93,   93,   93,   82,   82,   82,
-       95,   95,   95,   95,   90,   90,   90,   90,   98,   98,
-       90,   90,   52,   90,  101,  101,  101,  104,  104,  104,
-      105,  105,  105,  106,  106,  106,  109,  109,  109,  110,
-      110,  110,  111,  111,  111,  112,  112,  112,  116,  116,
-
-      116,   69,   50,   68,   47,   38,   35,   58,   54,   53,
-       50,   49,   35,   30,  117,   29,    6,    5,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117
+       16,   17,   18,   18,   18,   18,   18,   18,   19,   20,
+       21,   22,   22,   23,   23,   24,   25,    6,   22,   22,
+       26,   23,   27,   28,   23,   23,   29,   23,   30,   35,
+       55,   56,   59,   70,   60,   68,   69,   71,   72,   73,
+       70,  126,   64,   35,   76,   76,   76,  126,   64,   93,
+       94,   36,   41,  126,   42,   42,   42,   42,   42,   42,
+       42,   42,   43,   44,   65,   36,   45,   45,   46,   47,
+       65,   35,   64,   45,   45,   45,   46,   46,   46,   46,
+       46,   46,   46,   46,   48,   48,   48,   48,   48,   48,
+
+       48,   48,   48,   36,   65,  130,  131,  132,  126,   46,
+       49,   49,   49,   49,   49,   50,   51,   51,   51,   51,
+       51,   51,   51,   51,   51, 1518,  111,   45,   45,   45,
+       45,   45,   45,   45,   45,   45,   38,  113,   75,   75,
+       75,   75,   75,   75,   75,   75,   76,   44,  126,  126,
+       77,   77,   46,   46,  126,   35,  126,   77,   77,   77,
+       46,   46,   46,   46,   46,   46,   46,   46,   76,   76,
+       76,   76,   76,   76,   76,   76, 1518,   36,   77,   77,
+       77,   77,   77,   77,   77,   77,   77,   80,   80,   80,
+       80,   80,   80,   80,   80,   80,   40,   40,   40,   80,
+
+       80,   46,   46,  145,  146,  147,   80,   80,   80,   46,
+       46,   46,   46,   46,   46,   46,   46,   41,  126,   81,
+       81,   81,   81,   81,   81,   81,   81,   81,   82,   83,
+       84,   85,   85,   85,   85,   85,   85,   95,   97,   35,
+       86,   86,   97, 1518,  111, 1518,  126,   86,   86,   86,
+      149,  149,  149,   70,  113,  140,  140,   70,  126,   64,
+       70,   36,  126,  126,   70,   97,  111,   99,   99,   99,
+       99,   99,  100,   71,   71,   71,  166,  113,  126,  126,
+       70,   65,  128,  126,   64,  126,  207,   70,   71,   71,
+       71,   71,   71,   71,   38,  126,  101,  101,  101,  101,
+
+      101,  101,  101,  101,  102,   44,   65,  126,  103,  103,
+       46,   46,  184,  184,  184,  103,  103,  103,   46,   46,
+       46,   46,   46,   46,   46,   46,  102,  102,  102,  102,
+      102,  102,  102,  102, 1518,  126,  103,  103,  103,  103,
+      103,  103,  103,  103,  103,  106,  107,  108,  109,  109,
+      109,  109,  109,  109,  212,  213,  214,  110,  110,  216,
+      216,  216,  126,  126,  110,  110,  110,  111,  111,  114,
+      114,  114,  114,  114,  114,  114,  114,  114,  113,  140,
+      126,  112,  112,  224,  225,  225,  126,  126,  112,  112,
+      112,  111,  196,  115,  115,  115,  115,  115,  116,  117,
+
+      117,  117,  113,  198,  126,  112,  112,  226,  227,  228,
+      126,  126,  112,  112,  112,  117,  117,  117,  117,  117,
+      117,  121,  122,  123,  124,  124,  124,  124,  124,  124,
+      246,  247,  248,  125,  125,  250,  251,  252,  126,  126,
+      125,  125,  125,   38,  126,  134,  134,  134,  134,  134,
+      134,  134,  134,  135,   44,  135,  135,  135,  135,  135,
+      135,  135,  135,  111, 1518,  141,  141,  141,  141,  141,
+      141,  141,  141,  141,  140,  198,  126,  139,  139,  254,
+      254,  254,  126,  126,  139,  139,  139,  111,  111,  142,
+      142,  142,  142,  142,  143,  144,  144,  144,  140,  113,
+
+      126,  139,  139,  269,  269,  269,  126,  126,  139,  139,
+      139,  144,  144,  144,  144,  144,  144,  150,  151,  152,
+      153,  153,  153,  153,  153,  153,  166,  126,  126,  154,
+      154,  304,  304,  304,  126,  126,  154,  154,  154,  111,
+      111,  155,  155,  155,  155,  155,  155,  155,  155,  155,
+      113,  234,  126,  149,  149,  311,  311,  311,  126,  126,
+      149,  149,  149,  159,  160,  161,  162,  162,  162,  162,
+      162,  162,  126,  126,  164,  163,  163, 1518,  196, 1518,
+      111,  126,  163,  163,  163,  166,  126,  126,  234,  241,
+      241,  140,  126,  126,  126,  164,  196,  167,  167,  167,
+
+      167,  167,  167,  167,  167,  167,  166,  198,  126,  165,
+      165,  350,  351,  352,  126,  126,  165,  165,  165,  164,
+      111,  168,  168,  168,  168,  168,  169,  170,  170,  170,
+      166,  234,  126,  165,  165,  354,  355,  356, 1518,  126,
+      165,  165,  165,  170,  170,  170,  170,  170,  170,  166,
+      126,  207,  358,  358,  358,  371,  372,  372,  126,  172,
+      126,  174,  174,  174,  174,  174,  175,  130,  130,  130,
+      179,  180,  181,  182,  182,  182,  182,  182,  182,  166,
+      126,  126,  183,  183,  396,  397,  398,  126,  126,  183,
+      183,  183,  185,  186,  187,  188,  188,  188,  188,  188,
+
+      188,  283,  126,  126,  189,  189,  400,  401,  402,  126,
+      126,  189,  189,  189,  111,  196,  190,  190,  190,  190,
+      190,  190,  190,  190,  190,  140,  241, 1377,  184,  184,
+      404,  405,  406, 1377, 1377,  184,  184,  184,  191,  327,
+      193,  193,  193,  193,  193,  194,  145,  145,  145,  196,
+      329,  199,  199,  199,  199,  199,  199,  199,  199,  199,
+      198, 1363, 1363,  197,  197,  408,  408,  408, 1363,  126,
+      197,  197,  197,  196, 1518,  200,  200,  200,  200,  200,
+      201,  202,  202,  202,  198,  329, 1358,  197,  197,  423,
+      423,  423,  164,  196,  197,  197,  197,  202,  202,  202,
+
+      202,  202,  202,  207,  198,  430,  430,  430,  458,  458,
+      458,  458,  126,  164,  111,  208,  208,  208,  208,  208,
+      208,  208,  208,  208,  207,  377, 1358,  206,  206,  471,
+      471,  471, 1358,  126,  206,  206,  206,  164, 1518,  209,
+      209,  209,  209,  209,  210,  211,  211,  211,  207,  377,
+      126,  206,  206,  478,  478,  478, 1518,  126,  206,  206,
+      206,  211,  211,  211,  211,  211,  211,  207,  485,  485,
+      485,  535,  536,  537,  126,  164,  126,  217,  218,  219,
+      220,  220,  220,  220,  220,  220,  166,  126,  126,  221,
+      221,  539,  540,  541,  126,  126,  221,  221,  221,  164,
+
+      196,  222,  222,  222,  222,  222,  222,  222,  222,  222,
+      166,  384,  126,  216,  216,  543,  544,  545,  126,  126,
+      216,  216,  216,  111, 1518,  235,  235,  235,  235,  235,
+      235,  235,  235,  235,  234,  384,  126,  233,  233,  547,
+      547,  547,  126, 1340,  233,  233,  233,  111,  111,  236,
+      236,  236,  236,  236,  237,  238,  238,  238,  234,  234,
+     1340,  233,  233, 1518, 1518, 1518, 1340,  327,  233,  233,
+      233,  238,  238,  238,  238,  238,  238,  196,  391,  242,
+      242,  242,  242,  242,  242,  242,  242,  242,  241, 1377,
+     1377,  240,  240,  591,  592,  592, 1377, 1363,  240,  240,
+
+      240,  196, 1518,  243,  243,  243,  243,  243,  244,  245,
+      245,  245,  241,  391, 1363,  240,  240,  593,  594,  595,
+     1363,  126,  240,  240,  240,  245,  245,  245,  245,  245,
+      245,  255,  256,  257,  258,  258,  258,  258,  258,  258,
+      338, 1358, 1358,  259,  259,  597,  598,  599, 1358,  126,
+      259,  259,  259,  196,  196,  260,  260,  260,  260,  260,
+      260,  260,  260,  260,  198,  241,  126,  254,  254,  601,
+      602,  603,  126,  126,  254,  254,  254,  264,  265,  266,
+      267,  267,  267,  267,  267,  267,  605,  605,  605,  268,
+      268,  620,  620,  620,  126,  126,  268,  268,  268,  270,
+
+      271,  272,  273,  273,  273,  273,  273,  273,  207,  126,
+      126,  274,  274,  627,  627,  627,  126,  126,  274,  274,
+      274,  164,  327,  275,  275,  275,  275,  275,  275,  275,
+      275,  275,  207,  329,  164,  269,  269,  345,  283,  111,
+      196,  126,  269,  269,  269,  207,  126,  126,  126,  126,
+      377,  384,  126,  126,  126,  276,  281,  278,  278,  278,
+      278,  278,  279,  212,  212,  212,  338,  283,  634,  634,
+      634,  666,  666,  666,  666,  126,  126,  281,  327,  284,
+      284,  284,  284,  284,  284,  284,  284,  284,  283,  391,
+      126,  282,  282,  675,  675,  675,  126,  126,  282,  282,
+
+      282,  281,  505,  285,  285,  285,  285,  285,  286,  287,
+      287,  287,  283,  507, 1340,  282,  282,  682,  682,  682,
+     1518,  126,  282,  282,  282,  287,  287,  287,  287,  287,
+      287,  283,  164, 1518,  327, 1340, 1340,  345,  283,  448,
+      126,  516,  338,  166,  507,  329,  126,  126,  126, 1289,
+      126,  126,  126,  289,  289,  289,  289,  289,  290,  291,
+      291,  291,  294,  294,  294,  294,  294,  295,  226,  226,
+      226,  292,  299,  300,  301,  302,  302,  302,  302,  302,
+      302,  523, 1289, 1289,  303,  303,  689,  689,  689, 1285,
+      126,  303,  303,  303,  305,  306,  307,  308,  308,  308,
+
+      308,  308,  308,  345, 1285, 1285,  309,  309,  696,  696,
+      696, 1271,  126,  309,  309,  309,  111,  111,  310,  310,
+      310,  310,  310,  310,  310,  310,  310,  234,  564, 1271,
+      304,  304,  758,  759,  759, 1271,  126,  304,  304,  304,
+      312,  313,  314,  315,  315,  315,  315,  315,  315,  530,
+     1265, 1265,  316,  316,  760,  761,  762, 1265,  126,  316,
+      316,  316,  196, 1518,  317,  317,  317,  317,  317,  317,
+      317,  317,  317,  241,  564, 1261,  311,  311,  764,  765,
+      766, 1261, 1261,  311,  311,  311,  318,  196,  320,  320,
+      320,  320,  320,  321,  246,  246,  246,  322,  571,  324,
+
+      324,  324,  324,  324,  325,  250,  250,  250,  327, 1518,
+      330,  330,  330,  330,  330,  330,  330,  330,  330,  329,
+      571,  126,  328,  328,  768,  769,  770,  126,  126,  328,
+      328,  328,  327,  111,  331,  331,  331,  331,  331,  332,
+      333,  333,  333,  329,  377,  126,  328,  328,  772,  772,
+      772,  164,  327,  328,  328,  328,  333,  333,  333,  333,
+      333,  333,  338,  578, 1518, 1518, 1518,  827,  828,  828,
+      126,  126,  164, 1518,  339,  339,  339,  339,  339,  339,
+      339,  339,  339,  338,  578,  126,  337,  337,  829,  830,
+      831,  126,  126,  337,  337,  337,  164,  196,  340,  340,
+
+      340,  340,  340,  341,  342,  342,  342,  338,  384,  126,
+      337,  337,  833,  834,  835, 1518,  126,  337,  337,  337,
+      342,  342,  342,  342,  342,  342,  338,  281,  505, 1518,
+     1518,  327,  505,  111,  126,  126,  641,  641,  345,  585,
+      345,  585,  391,  507,  564,  126,  126,  126,  281,  126,
+      346,  346,  346,  346,  346,  346,  346,  346,  346,  345,
+      126,  126,  344,  344,  641,  837,  838,  839,  126,  344,
+      344,  344,  281,  126,  347,  347,  347,  347,  347,  348,
+      349,  349,  349,  345,  126,  126,  344,  344,  841,  841,
+      841,  164,  126,  344,  344,  344,  349,  349,  349,  349,
+
+      349,  349,  207,  856,  856,  856,  863,  863,  863,  126,
+      281,  126,  359,  360,  361,  362,  362,  362,  362,  362,
+      362,  283,  126,  126,  363,  363,  448,  870,  870,  870,
+      126,  363,  363,  363,  281,  126,  364,  364,  364,  364,
+      364,  364,  364,  364,  364,  283, 1076, 1235,  358,  358,
+      877,  877,  877, 1235,  126,  358,  358,  358,  367,  367,
+      367,  367,  367,  368,  369,  369,  369,  111,  196,  378,
+      378,  378,  378,  378,  378,  378,  378,  378,  377,  571,
+     1235,  376,  376,  917,  917,  917, 1289, 1289,  376,  376,
+      376,  111,  327,  379,  379,  379,  379,  379,  380,  381,
+
+      381,  381,  377,  578, 1289,  376,  376,  920,  920,  920,
+     1285,  505,  376,  376,  376,  381,  381,  381,  381,  381,
+      381,  196,  585,  385,  385,  385,  385,  385,  385,  385,
+      385,  385,  384, 1285, 1285,  383,  383,  923,  923,  923,
+     1271, 1271,  383,  383,  383,  196,  720,  386,  386,  386,
+      386,  386,  387,  388,  388,  388,  384,  722, 1271,  383,
+      383,  926,  926,  926,  126, 1518,  383,  383,  383,  388,
+      388,  388,  388,  388,  388,  327,  722,  392,  392,  392,
+      392,  392,  392,  392,  392,  392,  391, 1265, 1265,  390,
+      390,  929,  929,  929, 1265, 1261,  390,  390,  390,  327,
+
+      505,  393,  393,  393,  393,  393,  394,  395,  395,  395,
+      391,  507, 1261,  390,  390,  937,  937,  937,  937, 1261,
+      390,  390,  390,  395,  395,  395,  395,  395,  395,  409,
+      410,  411,  412,  412,  412,  412,  412,  412,  516,  126,
+      126,  413,  413,  523, 1009, 1010, 1010,  126,  413,  413,
+      413,  327,  126,  414,  414,  414,  414,  414,  414,  414,
+      414,  414,  329,  126,  126,  408,  408, 1011, 1012, 1013,
+      126,  126,  408,  408,  408,  418,  419,  420,  421,  421,
+      421,  421,  421,  421, 1015, 1016, 1017,  422,  422, 1019,
+     1020, 1021,  126,  126,  422,  422,  422,  424,  425,  426,
+
+      427,  427,  427,  427,  427,  427,  530,  126,  126,  428,
+      428,  641, 1023, 1023, 1023,  126,  428,  428,  428,  164,
+      126,  429,  429,  429,  429,  429,  429,  429,  429,  429,
+      338,  126,  164,  423,  423,  641,  641,  448,  656,  126,
+      423,  423,  423,  338,  126,  126,  126,  126, 1030, 1031,
+     1032,  281,  126,  431,  432,  433,  434,  434,  434,  434,
+      434,  434,  345,  126,  126,  435,  435, 1034, 1034, 1034,
+      126,  126,  435,  435,  435,  281,  111,  436,  436,  436,
+      436,  436,  436,  436,  436,  436,  345,  788,  126,  430,
+      430,  731, 1518, 1518, 1518,  126,  430,  430,  430,  437,
+
+      126,  439,  439,  439,  439,  439,  440,  350,  350,  350,
+      441,  446,  443,  443,  443,  443,  443,  444,  354,  354,
+      354,  516,  448, 1056, 1057, 1057, 1058, 1059, 1060, 1076,
+      126,  126,  446, 1518,  449,  449,  449,  449,  449,  449,
+      449,  449,  449,  448,  788, 1235,  447,  447, 1062, 1063,
+     1064, 1235,  126,  447,  447,  447,  446,  196,  450,  450,
+      450,  450,  450,  451,  452,  452,  452,  448,  795, 1235,
+      447,  447, 1066, 1067, 1068, 1518,  126,  447,  447,  447,
+      452,  452,  452,  452,  452,  452,  448,  281, 1518,  111,
+      327, 1518,  196,  505, 1518,  126,  957,  738,  283,  795,
+
+      564,  802,  802,  571,  809,  809,  126,  126,  456,  456,
+      456,  457,  458,  458,  458,  458,  458,  460,  460,  460,
+      460,  460,  461,  462,  462,  462,  466,  467,  468,  469,
+      469,  469,  469,  469,  469,  523, 1157, 1157,  470,  470,
+     1070, 1070, 1070, 1157,  126,  470,  470,  470,  472,  473,
+      474,  475,  475,  475,  475,  475,  475,  745, 1153, 1153,
+      476,  476, 1082, 1082, 1082, 1153,  126,  476,  476,  476,
+      111,  327,  477,  477,  477,  477,  477,  477,  477,  477,
+      477,  377,  578, 1149,  471,  471, 1085, 1085, 1085, 1149,
+     1149,  471,  471,  471,  479,  480,  481,  482,  482,  482,
+
+      482,  482,  482,  530,  911, 1127,  483,  483, 1088, 1088,
+     1088, 1127,  126,  483,  483,  483,  196,  720,  484,  484,
+      484,  484,  484,  484,  484,  484,  484,  384,  816, 1127,
+      478,  478, 1091, 1091, 1091, 1115, 1115,  478,  478,  478,
+      486,  487,  488,  489,  489,  489,  489,  489,  489,  752,
+     1115, 1111,  490,  490, 1094, 1094, 1094, 1111,  126,  490,
+      490,  490,  327, 1518,  491,  491,  491,  491,  491,  491,
+      491,  491,  491,  391,  816, 1111,  485,  485, 1102, 1102,
+     1102, 1102,  126,  485,  485,  485,  494,  494,  494,  494,
+      494,  495,  396,  396,  396,  492,  496,  505,  498,  498,
+
+      498,  498,  498,  499,  400,  400,  400,  500,  585,  502,
+      502,  502,  502,  502,  503,  404,  404,  404,  505,  720,
+      508,  508,  508,  508,  508,  508,  508,  508,  508,  507,
+      722,  126,  506,  506,  888, 1144, 1144, 1144, 1144,  506,
+      506,  506,  505,  126,  509,  509,  509,  509,  509,  510,
+      511,  511,  511,  507,  126,  126,  506,  506, 1163, 1164,
+     1165,  164,  909,  506,  506,  506,  511,  511,  511,  511,
+      511,  511,  516,  911,  888, 1167, 1167, 1167, 1189, 1190,
+     1190,  126,  164,  126,  517,  517,  517,  517,  517,  517,
+      517,  517,  517,  516,  126,  126,  515,  515,  888, 1191,
+
+     1192, 1193,  126,  515,  515,  515,  164,  126,  518,  518,
+      518,  518,  518,  519,  520,  520,  520,  516,  126,  126,
+      515,  515, 1195, 1196, 1197, 1518,  126,  515,  515,  515,
+      520,  520,  520,  520,  520,  520,  516,  281,  656, 1518,
+     1518,  111,  196,  327,  505,  126,  126,  126,  523,  126,
+      523,  911,  788,  795,  802,  809,  126,  126,  281,  126,
+      524,  524,  524,  524,  524,  524,  524,  524,  524,  523,
+      126,  126,  522,  522, 1199, 1200, 1201,  126,  126,  522,
+      522,  522,  281,  720,  525,  525,  525,  525,  525,  526,
+      527,  527,  527,  523,  816,  126,  522,  522, 1203, 1203,
+
+     1203,  164,  126,  522,  522,  522,  527,  527,  527,  527,
+      527,  527,  338,  446,  955, 1518, 1518,  720, 1169,  909,
+      731,  126,  738,  745,  530,  957,  530,  957,  722,  126,
+      911,  126,  126,  126,  446,  126,  531,  531,  531,  531,
+      531,  531,  531,  531,  531,  530, 1076,  850,  529,  529,
+      752, 1206, 1207, 1208,  126,  529,  529,  529,  446,  126,
+      532,  532,  532,  532,  532,  533,  534,  534,  534,  530,
+      957, 1157,  529,  529, 1518, 1518, 1518,  281,  126,  529,
+      529,  529,  534,  534,  534,  534,  534,  534,  345, 1224,
+     1225, 1225, 1226, 1227, 1228, 1157,  446,  126,  548,  549,
+
+      550,  551,  551,  551,  551,  551,  551,  448, 1157, 1153,
+      552,  552,  888, 1230, 1231, 1232,  126,  552,  552,  552,
+      446,  126,  553,  553,  553,  553,  553,  553,  553,  553,
+      553,  448, 1153, 1153,  547,  547, 1252, 1252, 1252, 1252,
+      126,  547,  547,  547,  557,  557,  557,  557,  557,  558,
+      559,  559,  559,  111,  111,  565,  565,  565,  565,  565,
+      565,  565,  565,  565,  564,  788, 1149,  563,  563,  888,
+     1280, 1280, 1280, 1280,  563,  563,  563,  111,  126,  566,
+      566,  566,  566,  566,  567,  568,  568,  568,  564, 1149,
+     1149,  563,  563, 1294, 1295, 1296,  816,  196,  563,  563,
+
+      563,  568,  568,  568,  568,  568,  568,  196,  795,  572,
+      572,  572,  572,  572,  572,  572,  572,  572,  571,  809,
+      802,  570,  570,  888, 1312, 1313, 1313,  795,  570,  570,
+      570,  196,  126,  573,  573,  573,  573,  573,  574,  575,
+      575,  575,  571,  788,  911,  570,  570, 1314, 1315, 1316,
+     1127,  327,  570,  570,  570,  575,  575,  575,  575,  575,
+      575,  327,  802,  579,  579,  579,  579,  579,  579,  579,
+      579,  579,  578, 1127, 1127,  577,  577,  656, 1318, 1319,
+     1320, 1115,  577,  577,  577,  327,  126,  580,  580,  580,
+      580,  580,  581,  582,  582,  582,  578, 1115, 1115,  577,
+
+      577, 1323, 1324, 1325, 1111,  505,  577,  577,  577,  582,
+      582,  582,  582,  582,  582,  505,  809,  586,  586,  586,
+      586,  586,  586,  586,  586,  586,  585, 1111, 1111,  584,
+      584,  903, 1518, 1518, 1518,  126,  584,  584,  584,  505,
+      126,  587,  587,  587,  587,  587,  588,  589,  589,  589,
+      585,  126,  126,  584,  584, 1334, 1335, 1335,  126,  126,
+      584,  584,  584,  589,  589,  589,  589,  589,  589,  606,
+      607,  608,  609,  609,  609,  609,  609,  609,  970,  126,
+      850,  610,  610, 1336, 1337, 1338,  957,  126,  610,  610,
+      610,  505,  720,  611,  611,  611,  611,  611,  611,  611,
+
+      611,  611,  507,  816,  722,  605,  605, 1349, 1349, 1349,
+     1349,  950,  605,  605,  605,  615,  616,  617,  618,  618,
+      618,  618,  618,  618, 1381, 1382, 1383,  619,  619, 1372,
+     1372, 1372, 1372,  126,  619,  619,  619,  621,  622,  623,
+      624,  624,  624,  624,  624,  624,  731,  950,  950,  625,
+      625, 1392, 1393, 1393,  946,  126,  625,  625,  625,  164,
+      955,  626,  626,  626,  626,  626,  626,  626,  626,  626,
+      516,  957,  164,  620,  620, 1074, 1518,  909,  955,  126,
+      620,  620,  620,  516,  946,  946, 1076, 1076,  911,  957,
+      942,  281,  126,  628,  629,  630,  631,  631,  631,  631,
+
+      631,  631,  523,  942,  942,  632,  632,  977, 1394, 1395,
+     1396,  126,  632,  632,  632,  281,  126,  633,  633,  633,
+      633,  633,  633,  633,  633,  633,  523,  816,  809,  627,
+      627, 1399, 1400, 1400,  802,  126,  627,  627,  627,  635,
+      636,  637,  638,  638,  638,  638,  638,  638,  738,  795,
+      788,  639,  639,  984, 1518, 1518, 1518,  126,  639,  639,
+      639,  446,  126,  640,  640,  640,  640,  640,  640,  640,
+      640,  640,  530, 1036,  446,  634,  634,  745,  991,  752,
+      998,  126,  634,  634,  634,  530,  126,  126,  126,  126,
+     1408, 1409, 1409,  911,  126,  643,  643,  643,  643,  643,
+
+      644,  535,  535,  535,  641,  669, 1107, 1419, 1419, 1419,
+     1419,  896,  896,  126,  645,  126,  647,  647,  647,  647,
+      647,  648,  539,  539,  539,  649,  654,  651,  651,  651,
+      651,  651,  652,  543,  543,  543, 1107,  656,  896, 1107,
+     1437, 1437, 1437, 1437,  892,  126,  126,  654,  126,  657,
+      657,  657,  657,  657,  657,  657,  657,  657,  656,  892,
+      892,  655,  655,  903, 1443, 1444, 1444,  126,  655,  655,
+      655,  654,  126,  658,  658,  658,  658,  658,  659,  660,
+      660,  660,  656,  126,  126,  655,  655, 1452, 1453, 1453,
+     1518,  126,  655,  655,  655,  660,  660,  660,  660,  660,
+
+      660,  656,  446, 1074,  126,  850,  970,  977,  984,  991,
+      126,  998, 1107,  448, 1076,  126,  126,  126,  126,  614,
+      126,  126,  126,  664,  664,  664,  665,  666,  666,  666,
+      666,  666,  670,  671,  672,  673,  673,  673,  673,  673,
+      673, 1107,  722,  950,  674,  674, 1518, 1518, 1518,  950,
+      126,  674,  674,  674,  676,  677,  678,  679,  679,  679,
+      679,  679,  679, 1107,  950,  946,  680,  680,  903, 1518,
+     1518, 1518,  126,  680,  680,  680,  111,  126,  681,  681,
+      681,  681,  681,  681,  681,  681,  681,  564,  946,  946,
+      675,  675, 1474, 1474, 1474, 1474,  942,  675,  675,  675,
+
+      683,  684,  685,  686,  686,  686,  686,  686,  686, 1122,
+      942,  942,  687,  687, 1484, 1484, 1484, 1484,  126,  687,
+      687,  687,  196, 1074,  688,  688,  688,  688,  688,  688,
+      688,  688,  688,  571, 1076,  816,  682,  682, 1490, 1490,
+     1490, 1490,  585,  682,  682,  682,  690,  691,  692,  693,
+      693,  693,  693,  693,  693,  970,  809,  578,  694,  694,
+      977, 1518, 1518, 1518,  126,  694,  694,  694,  327,  126,
+      695,  695,  695,  695,  695,  695,  695,  695,  695,  578,
+      802,  571,  689,  689, 1509, 1509, 1509, 1509,  795,  689,
+      689,  689,  697,  698,  699,  700,  700,  700,  700,  700,
+
+      700,  984,  564,  788,  701,  701,  991,  669,  896,  896,
+      126,  701,  701,  701,  505,  126,  702,  702,  702,  702,
+      702,  702,  702,  702,  702,  585,  896,  892,  696,  696,
+     1515, 1515, 1515, 1515,  892,  696,  696,  696,  704,  704,
+      704,  704,  704,  705,  706,  706,  706,  709,  709,  709,
+      709,  709,  710,  593,  593,  593,  707,  711,  892,  713,
+      713,  713,  713,  713,  714,  597,  597,  597,  715,  126,
+      717,  717,  717,  717,  717,  718,  601,  601,  601,  720,
+      126,  723,  723,  723,  723,  723,  723,  723,  723,  723,
+      722,  850,  614,  721,  721,  998,  722,  507,  715,  715,
+
+      721,  721,  721,  720,  126,  724,  724,  724,  724,  724,
+      725,  726,  726,  726,  722,  715,  711,  721,  721,  711,
+      711,  707,  164,  707,  721,  721,  721,  726,  726,  726,
+      726,  726,  726,  731,  707, 1257,  585,  578,  571,  564,
+      669,  465,  126,  164,  126,  732,  732,  732,  732,  732,
+      732,  732,  732,  732,  731,  649,  649,  730,  730, 1257,
+      649,  645,  645,  126,  730,  730,  730,  164,  126,  733,
+      733,  733,  733,  733,  734,  735,  735,  735,  731,  645,
+      729,  730,  730,  614,  417,  507, 1518,  126,  730,  730,
+      730,  735,  735,  735,  735,  735,  735,  731,  281, 1257,
+
+     1518, 1122,  715, 1257, 1257, 1257,  126, 1122,  126,  738,
+      126,  738,  126,  126,  126,  715,  126,  715,  126,  281,
+      126,  739,  739,  739,  739,  739,  739,  739,  739,  739,
+      738,  711,  711,  737,  737, 1354,  711,  707,  707,  126,
+      737,  737,  737,  281,  126,  740,  740,  740,  740,  740,
+      741,  742,  742,  742,  738,  707,  585,  737,  737,  391,
+      578,  384,  164,  126,  737,  737,  737,  742,  742,  742,
+      742,  742,  742,  516,  446, 1354, 1518, 1354,  571, 1354,
+     1354, 1354,  126, 1410,  126,  745,  126,  745,  126,  126,
+      126,  377,  126,  564,  126,  446,  126,  746,  746,  746,
+
+      746,  746,  746,  746,  746,  746,  745,  669,  465,  744,
+      744, 1410,  649,  649,  649,  126,  744,  744,  744,  446,
+      126,  747,  747,  747,  747,  747,  748,  749,  749,  749,
+      745,  645,  645,  744,  744,  645,  614,  417,  281,  126,
+      744,  744,  744,  749,  749,  749,  749,  749,  749,  523,
+      654, 1410, 1518, 1424,  507, 1424, 1424, 1410,  126, 1410,
+      126,  752,  126,  752,  126,  126,  126,  329,  126,  500,
+      126,  654,  126,  753,  753,  753,  753,  753,  753,  753,
+      753,  753,  752,  500,  500,  751,  751, 1410,  496,  496,
+      496,  126,  751,  751,  751,  654,  126,  754,  754,  754,
+
+      754,  754,  755,  756,  756,  756,  752,  492,  492,  751,
+      751,  492,  391,  384,  446,  126,  751,  751,  751,  756,
+      756,  756,  756,  756,  756,  530,  377,  562,  465,  298,
+      441,  441,  441,  654,  126,  773,  774,  775,  776,  776,
+      776,  776,  776,  776,  656,  437,  437,  777,  777, 1424,
+      437,  514,  417,  126,  777,  777,  777,  654,  126,  778,
+      778,  778,  778,  778,  778,  778,  778,  778,  656,  263,
+      329,  772,  772,  500,  500,  500,  496,  126,  772,  772,
+      772,  781,  782,  783,  784,  784,  784,  784,  784,  784,
+      785,  496,  496,  786,  786, 1424,  492,  492,  492,  391,
+
+      786,  786,  786,  111,  126,  789,  789,  789,  789,  789,
+      789,  789,  789,  789,  788,  241,  384,  787,  787, 1424,
+      234,  377,  465,  298,  787,  787,  787,  111,  126,  790,
+      790,  790,  790,  790,  791,  792,  792,  792,  788,  441,
+      441,  787,  787,  441,  437,  437,  437,  417,  787,  787,
+      787,  792,  792,  792,  792,  792,  792,  196,  263,  796,
+      796,  796,  796,  796,  796,  796,  796,  796,  795,  329,
+      198,  794,  794,  322,  322,  322,  318,  318,  794,  794,
+      794,  196,  318,  797,  797,  797,  797,  797,  798,  799,
+      799,  799,  795,  241,  234,  794,  794,  375,  298,  178,
+
+      292,  292,  794,  794,  794,  799,  799,  799,  799,  799,
+      799,  327,  292,  803,  803,  803,  803,  803,  803,  803,
+      803,  803,  802,  276,  276,  801,  801,  276,  336,  263,
+      158,  198,  801,  801,  801,  327,  322,  804,  804,  804,
+      804,  804,  805,  806,  806,  806,  802,  322,  322,  801,
+      801,  318,  318,  318,  241,  140,  801,  801,  801,  806,
+      806,  806,  806,  806,  806,  505,  234,  810,  810,  810,
+      810,  810,  810,  810,  810,  810,  809,  298,  178,  808,
+      808,  292,  292,  292,  276,  276,  808,  808,  808,  505,
+      276,  811,  811,  811,  811,  811,  812,  813,  813,  813,
+
+      809,  263,  158,  808,  808,  198,  113,  191,  191,  191,
+      808,  808,  808,  813,  813,  813,  813,  813,  813,  720,
+      140,  817,  817,  817,  817,  817,  817,  817,  817,  817,
+      816,  232,  178,  815,  815,  105,  172,  172,  172,  205,
+      815,  815,  815,  720,  158,  818,  818,  818,  818,  818,
+      819,  820,  820,  820,  816,   88,  113,  815,  815,  191,
+      191,  191,  140,  178,  815,  815,  815,  820,  820,  820,
+      820,  820,  820,  823,  823,  823,  823,  823,  824,  825,
+      825,  825,  842,  843,  844,  845,  845,  845,  845,  845,
+      845,  105, 1518, 1518,  846,  846,  172,  172,  172,   58,
+
+      171,  846,  846,  846,  720,  158,  847,  847,  847,  847,
+      847,  847,  847,  847,  847,  722,   88,  113,  841,  841,
+      138,  105,   44,   60,  127,  841,  841,  841,  851,  852,
+      853,  854,  854,  854,  854,  854,  854,  120,   88,   41,
+      855,  855,  105,   96,   66,   60,  126,  855,  855,  855,
+      857,  858,  859,  860,  860,  860,  860,  860,  860,   91,
+       58,   90,  861,  861,   55,   89,   88,   41,   79,  861,
+      861,  861,  164,   38,  862,  862,  862,  862,  862,  862,
+      862,  862,  862,  731,   66,  164,  856,  856,   62,   61,
+       58,   57,  126,  856,  856,  856,  731,   54,   52,   38,
+
+       33, 1518,   32,    6,  281,  126,  864,  865,  866,  867,
+      867,  867,  867,  867,  867,  738, 1518, 1518,  868,  868,
+     1518, 1518, 1518, 1518,  126,  868,  868,  868,  281, 1518,
+      869,  869,  869,  869,  869,  869,  869,  869,  869,  738,
+     1518, 1518,  863,  863, 1518, 1518, 1518, 1518,  126,  863,
+      863,  863,  871,  872,  873,  874,  874,  874,  874,  874,
+      874, 1518, 1518, 1518,  875,  875, 1518, 1518, 1518, 1518,
+     1518,  875,  875,  875,  446, 1518,  876,  876,  876,  876,
+      876,  876,  876,  876,  876,  745, 1518,  446,  870,  870,
+     1518, 1518, 1518, 1518,  126,  870,  870,  870,  745, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518,  654,  126,  878,  879,
+      880,  881,  881,  881,  881,  881,  881,  752, 1518, 1518,
+      882,  882, 1518, 1518, 1518, 1518,  126,  882,  882,  882,
+      654, 1518,  883,  883,  883,  883,  883,  883,  883,  883,
+      883,  752, 1518, 1518,  877,  877, 1518, 1518, 1518, 1518,
+      126,  877,  877,  877,  885,  885,  885,  885,  885,  886,
+      887,  887,  887, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126,  890,  890,  890,  890,  890,  891,  760,
+      760,  760,  888, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518,  126,  892, 1518,  894,  894,  894,  894,  894,  895,
+
+      764,  764,  764,  896,  901,  898,  898,  898,  898,  898,
+      899,  768,  768,  768, 1518,  903, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518,  126,  901, 1518,  904,  904,  904,
+      904,  904,  904,  904,  904,  904,  903, 1518, 1518,  902,
+      902, 1518, 1518, 1518, 1518,  126,  902,  902,  902,  901,
+     1518,  905,  905,  905,  905,  905,  906,  907,  907,  907,
+      903, 1518, 1518,  902,  902, 1518, 1518, 1518, 1518,  126,
+      902,  902,  902,  907,  907,  907,  907,  907,  907,  903,
+      654, 1518,  164, 1518, 1518, 1518, 1518, 1518,  126, 1518,
+     1518,  656, 1518,  970, 1518, 1518, 1518, 1518, 1518, 1518,
+
+      126,  909,  126,  912,  912,  912,  912,  912,  912,  912,
+      912,  912,  911, 1518, 1518,  910,  910, 1518, 1518, 1518,
+     1518, 1518,  910,  910,  910,  909, 1518,  913,  913,  913,
+      913,  913,  914,  915,  915,  915,  911, 1518, 1518,  910,
+      910, 1518, 1518, 1518, 1518, 1518,  910,  910,  910,  915,
+      915,  915,  915,  915,  915,  111, 1518,  919,  919,  919,
+      919,  919,  919,  919,  919,  919,  788, 1518, 1518,  917,
+      917, 1518, 1518, 1518, 1518, 1518,  917,  917,  917,  196,
+     1518,  922,  922,  922,  922,  922,  922,  922,  922,  922,
+      795, 1518, 1518,  920,  920, 1518, 1518, 1518, 1518, 1518,
+
+      920,  920,  920,  327, 1518,  925,  925,  925,  925,  925,
+      925,  925,  925,  925,  802, 1518, 1518,  923,  923, 1518,
+     1518, 1518, 1518, 1518,  923,  923,  923,  505, 1518,  928,
+      928,  928,  928,  928,  928,  928,  928,  928,  809, 1518,
+     1518,  926,  926, 1518, 1518, 1518, 1518, 1518,  926,  926,
+      926,  720, 1518,  931,  931,  931,  931,  931,  931,  931,
+      931,  931,  816, 1518, 1518,  929,  929, 1518, 1518, 1518,
+     1518, 1518,  929,  929,  929,  935,  935,  935,  936,  937,
+      937,  937,  937,  937,  939,  939,  939,  939,  939,  940,
+      941,  941,  941,  944,  944,  944,  944,  944,  945,  829,
+
+      829,  829,  942,  946, 1518,  948,  948,  948,  948,  948,
+      949,  833,  833,  833,  950, 1518,  952,  952,  952,  952,
+      952,  953,  837,  837,  837,  955, 1518,  958,  958,  958,
+      958,  958,  958,  958,  958,  958,  957, 1518, 1518,  956,
+      956, 1518, 1518, 1518, 1518, 1518,  956,  956,  956,  955,
+     1518,  959,  959,  959,  959,  959,  960,  961,  961,  961,
+      957, 1518, 1518,  956,  956, 1518, 1518, 1518, 1518, 1518,
+      956,  956,  956,  961,  961,  961,  961,  961,  961,  963,
+      964,  965,  966,  966,  966,  966,  966,  966,  967, 1518,
+     1518,  968,  968, 1518, 1518, 1518, 1518, 1518,  968,  968,
+
+      968,  164, 1518,  971,  971,  971,  971,  971,  971,  971,
+      971,  971,  970, 1518, 1518,  969,  969, 1518, 1518, 1518,
+     1518,  126,  969,  969,  969,  164, 1518,  972,  972,  972,
+      972,  972,  973,  974,  974,  974,  970, 1518, 1518,  969,
+      969, 1518, 1518, 1518, 1518,  126,  969,  969,  969,  974,
+      974,  974,  974,  974,  974,  970,  281, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518,  126, 1518, 1518,  977, 1518,  977,
+     1518, 1518, 1518, 1518, 1518, 1518,  126,  281,  126,  978,
+      978,  978,  978,  978,  978,  978,  978,  978,  977, 1518,
+     1518,  976,  976, 1518, 1518, 1518, 1518,  126,  976,  976,
+
+      976,  281, 1518,  979,  979,  979,  979,  979,  980,  981,
+      981,  981,  977, 1518, 1518,  976,  976, 1518, 1518, 1518,
+      164,  126,  976,  976,  976,  981,  981,  981,  981,  981,
+      981,  731,  446, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+      126, 1518, 1518,  984, 1518,  984, 1518, 1518, 1518, 1518,
+     1518, 1518,  126,  446,  126,  985,  985,  985,  985,  985,
+      985,  985,  985,  985,  984, 1518, 1518,  983,  983, 1518,
+     1518, 1518, 1518,  126,  983,  983,  983,  446, 1518,  986,
+      986,  986,  986,  986,  987,  988,  988,  988,  984, 1518,
+     1518,  983,  983, 1518, 1518, 1518,  281,  126,  983,  983,
+
+      983,  988,  988,  988,  988,  988,  988,  738,  654, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518,  126, 1518, 1518,  991,
+     1518,  991, 1518, 1518, 1518, 1518, 1518, 1518,  126,  654,
+      126,  992,  992,  992,  992,  992,  992,  992,  992,  992,
+      991, 1518, 1518,  990,  990, 1518, 1518, 1518, 1518,  126,
+      990,  990,  990,  654, 1518,  993,  993,  993,  993,  993,
+      994,  995,  995,  995,  991, 1518, 1518,  990,  990, 1518,
+     1518, 1518,  446,  126,  990,  990,  990,  995,  995,  995,
+      995,  995,  995,  745,  901, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126, 1518, 1518,  998, 1518,  998, 1518, 1518,
+
+     1518, 1518, 1518, 1518,  126,  901,  126,  999,  999,  999,
+      999,  999,  999,  999,  999,  999,  998, 1518, 1518,  997,
+      997, 1518, 1518, 1518, 1518,  126,  997,  997,  997,  901,
+     1518, 1000, 1000, 1000, 1000, 1000, 1001, 1002, 1002, 1002,
+      998, 1518, 1518,  997,  997, 1518, 1518, 1518,  654,  126,
+      997,  997,  997, 1002, 1002, 1002, 1002, 1002, 1002,  752,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126, 1005,
+     1005, 1005, 1005, 1005, 1006, 1007, 1007, 1007, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518,  901,  126, 1024, 1025,
+     1026, 1027, 1027, 1027, 1027, 1027, 1027,  903, 1518, 1518,
+
+     1028, 1028, 1518, 1518, 1518, 1518,  126, 1028, 1028, 1028,
+      901, 1518, 1029, 1029, 1029, 1029, 1029, 1029, 1029, 1029,
+     1029,  903, 1518, 1518, 1023, 1023, 1518, 1518, 1518, 1518,
+      126, 1023, 1023, 1023,  909, 1518, 1037, 1037, 1037, 1037,
+     1037, 1037, 1037, 1037, 1037,  911, 1518, 1518, 1034, 1034,
+     1518, 1518, 1518, 1518, 1518, 1034, 1034, 1034, 1052, 1052,
+     1052, 1052, 1052, 1053, 1054, 1054, 1054,  955, 1518, 1072,
+     1072, 1072, 1072, 1072, 1072, 1072, 1072, 1072,  957, 1518,
+     1518, 1070, 1070, 1518, 1518, 1518, 1518, 1518, 1070, 1070,
+     1070, 1074, 1518, 1077, 1077, 1077, 1077, 1077, 1077, 1077,
+
+     1077, 1077, 1076, 1518, 1518, 1075, 1075, 1518, 1518, 1518,
+     1518, 1518, 1075, 1075, 1075, 1074, 1518, 1078, 1078, 1078,
+     1078, 1078, 1079, 1080, 1080, 1080, 1076, 1518, 1518, 1075,
+     1075, 1518, 1518, 1518, 1518, 1518, 1075, 1075, 1075, 1080,
+     1080, 1080, 1080, 1080, 1080,  164, 1518, 1084, 1084, 1084,
+     1084, 1084, 1084, 1084, 1084, 1084,  970, 1518,  164, 1082,
+     1082, 1518, 1518, 1518, 1518,  126, 1082, 1082, 1082,  970,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126,  281,
+     1518, 1087, 1087, 1087, 1087, 1087, 1087, 1087, 1087, 1087,
+      977, 1518,  281, 1085, 1085, 1518, 1518, 1518, 1518,  126,
+
+     1085, 1085, 1085,  977, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126,  446, 1518, 1090, 1090, 1090, 1090, 1090,
+     1090, 1090, 1090, 1090,  984, 1518,  446, 1088, 1088, 1518,
+     1518, 1518, 1518,  126, 1088, 1088, 1088,  984, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518,  126,  654, 1518, 1093,
+     1093, 1093, 1093, 1093, 1093, 1093, 1093, 1093,  991, 1518,
+      654, 1091, 1091, 1518, 1518, 1518, 1518,  126, 1091, 1091,
+     1091,  991, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+      126,  901, 1518, 1096, 1096, 1096, 1096, 1096, 1096, 1096,
+     1096, 1096,  998, 1518,  901, 1094, 1094, 1518, 1518, 1518,
+
+     1518,  126, 1094, 1094, 1094,  998, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518,  126, 1100, 1100, 1100, 1101, 1102,
+     1102, 1102, 1102, 1102, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518,  126, 1104, 1104, 1104, 1104, 1104, 1105,
+     1106, 1106, 1106, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126, 1109, 1109, 1109, 1109, 1109, 1110, 1011,
+     1011, 1011, 1107, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518,  126, 1111, 1518, 1113, 1113, 1113, 1113, 1113, 1114,
+     1015, 1015, 1015, 1115, 1120, 1117, 1117, 1117, 1117, 1117,
+     1118, 1019, 1019, 1019, 1518, 1122, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518,  126, 1120, 1518, 1123, 1123, 1123,
+     1123, 1123, 1123, 1123, 1123, 1123, 1122, 1518, 1518, 1121,
+     1121, 1518, 1518, 1518, 1518,  126, 1121, 1121, 1121, 1120,
+     1518, 1124, 1124, 1124, 1124, 1124, 1125, 1126, 1126, 1126,
+     1122, 1518, 1518, 1121, 1121, 1518, 1518, 1518, 1518,  126,
+     1121, 1121, 1121, 1126, 1126, 1126, 1126, 1126, 1126, 1122,
+      901, 1518,  164, 1518, 1518, 1518, 1518, 1518,  126, 1518,
+     1518,  903, 1518,  970, 1518, 1518, 1518, 1518, 1518, 1518,
+      126, 1127,  126, 1129, 1129, 1129, 1129, 1129, 1130, 1030,
+     1030, 1030, 1142, 1142, 1142, 1143, 1144, 1144, 1144, 1144,
+
+     1144, 1146, 1146, 1146, 1146, 1146, 1147, 1148, 1148, 1148,
+     1151, 1151, 1151, 1151, 1151, 1152, 1058, 1058, 1058, 1149,
+     1153, 1518, 1155, 1155, 1155, 1155, 1155, 1156, 1062, 1062,
+     1062, 1157, 1518, 1159, 1159, 1159, 1159, 1159, 1160, 1066,
+     1066, 1066, 1074, 1518, 1170, 1170, 1170, 1170, 1170, 1170,
+     1170, 1170, 1170, 1076, 1518,  281, 1167, 1167,  446,  654,
+      901, 1518, 1518, 1167, 1167, 1167,  977, 1518, 1518,  984,
+      991,  998, 1518, 1518, 1518,  126, 1518, 1518,  126,  126,
+      126, 1185, 1185, 1185, 1185, 1185, 1186, 1187, 1187, 1187,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126,
+
+     1120, 1518, 1205, 1205, 1205, 1205, 1205, 1205, 1205, 1205,
+     1205, 1122, 1518, 1120, 1203, 1203, 1518, 1518, 1518, 1518,
+      126, 1203, 1203, 1203, 1122, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518,  126, 1220, 1220, 1220, 1220, 1220, 1221,
+     1222, 1222, 1222, 1235, 1518, 1237, 1237, 1237, 1237, 1237,
+     1238, 1163, 1163, 1163, 1250, 1250, 1250, 1251, 1252, 1252,
+     1252, 1252, 1252, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126, 1254, 1254, 1254, 1254, 1254, 1255, 1256,
+     1256, 1256, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518,  126, 1259, 1259, 1259, 1259, 1259, 1260, 1191, 1191,
+
+     1191, 1257, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+      126, 1261, 1518, 1263, 1263, 1263, 1263, 1263, 1264, 1195,
+     1195, 1195, 1265, 1120, 1267, 1267, 1267, 1267, 1267, 1268,
+     1199, 1199, 1199, 1518, 1122, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518,  126, 1271, 1518, 1273, 1273, 1273, 1273,
+     1273, 1274, 1206, 1206, 1206, 1278, 1278, 1278, 1279, 1280,
+     1280, 1280, 1280, 1280, 1282, 1282, 1282, 1282, 1282, 1283,
+     1284, 1284, 1284, 1287, 1287, 1287, 1287, 1287, 1288, 1226,
+     1226, 1226, 1285, 1289, 1518, 1291, 1291, 1291, 1291, 1291,
+     1292, 1230, 1230, 1230, 1308, 1308, 1308, 1308, 1308, 1309,
+
+     1310, 1310, 1310, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126, 1330, 1330, 1330, 1330, 1330, 1331, 1332,
+     1332, 1332, 1340, 1518, 1342, 1342, 1342, 1342, 1342, 1343,
+     1294, 1294, 1294, 1347, 1347, 1347, 1348, 1349, 1349, 1349,
+     1349, 1349, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518,  126, 1351, 1351, 1351, 1351, 1351, 1352, 1353, 1353,
+     1353, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+      126, 1356, 1356, 1356, 1356, 1356, 1357, 1314, 1314, 1314,
+     1354, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126,
+     1358, 1518, 1360, 1360, 1360, 1360, 1360, 1361, 1318, 1318,
+
+     1318, 1365, 1365, 1365, 1365, 1365, 1366, 1323, 1323, 1323,
+     1363, 1370, 1370, 1370, 1371, 1372, 1372, 1372, 1372, 1372,
+     1374, 1374, 1374, 1374, 1374, 1375, 1376, 1376, 1376, 1379,
+     1379, 1379, 1379, 1379, 1380, 1336, 1336, 1336, 1377, 1388,
+     1388, 1388, 1388, 1388, 1389, 1390, 1390, 1390, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518,  126, 1404, 1404,
+     1404, 1404, 1404, 1405, 1406, 1406, 1406, 1412, 1412, 1412,
+     1412, 1412, 1413, 1381, 1381, 1381, 1410, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518,  126, 1417, 1417, 1417, 1418,
+     1419, 1419, 1419, 1419, 1419, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518,  126, 1421, 1421, 1421, 1421, 1421,
+     1422, 1423, 1423, 1423, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518,  126, 1426, 1426, 1426, 1426, 1426, 1427,
+     1394, 1394, 1394, 1424, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518,  126, 1429, 1429, 1429, 1429, 1429, 1430, 1431,
+     1431, 1431, 1435, 1435, 1435, 1436, 1437, 1437, 1437, 1437,
+     1437, 1439, 1439, 1439, 1439, 1439, 1440, 1441, 1441, 1441,
+     1448, 1448, 1448, 1448, 1448, 1449, 1450, 1450, 1450, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126, 1456,
+     1456, 1456, 1456, 1456, 1457, 1458, 1458, 1458, 1462, 1462,
+
+     1462, 1462, 1462, 1463, 1464, 1464, 1464, 1466, 1466, 1466,
+     1466, 1466, 1467, 1468, 1468, 1468, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518,  126, 1472, 1472, 1472, 1473,
+     1474, 1474, 1474, 1474, 1474, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518,  126, 1476, 1476, 1476, 1476, 1476,
+     1477, 1478, 1478, 1478, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518,  126, 1482, 1482, 1482, 1483, 1484, 1484,
+     1484, 1484, 1484, 1488, 1488, 1488, 1489, 1490, 1490, 1490,
+     1490, 1490, 1493, 1493, 1493, 1493, 1493, 1494, 1495, 1495,
+     1495, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+      126, 1499, 1499, 1499, 1499, 1499, 1500, 1501, 1501, 1501,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126,
+     1507, 1507, 1507, 1508, 1509, 1509, 1509, 1509, 1509, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,  126, 1513,
+     1513, 1513, 1514, 1515, 1515, 1515, 1515, 1515, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518,  126,   31,   31,
+       31,   31,   31,   31,   31,   31,   31,   31,   31,   34,
+       34,   34,   34,   34,   34,   34,   34,   34,   34,   34,
+       37, 1518,   37,   37,   37,   37,   37,   37,   37,   37,
+       37,   39,   39,   39,   39,   40,   40,   40,   46,   46,
+
+       46, 1518,   46,   46,   46,   53,   53,   53,   53,   53,
+       53,   63,   63,   63,   63,   63,   63,   63,   63,   63,
+       63,   63,   67,   67,   67,   67,   67,   67,   67,   67,
+       67,   67,   67,   74,   74,   74,   78,   78,   78,   78,
+       78,   78,   87,   87,   87,   87,   87,   87,   92,   92,
+       92,   92,   92,   92,   92,   92,   92,   92,   92,   98,
+       98,   98,   98, 1518, 1518,   98,  104,  104,  104,  104,
+      104,  104,  112,  112,  112,  112,  112,  112,  112,  118,
+      118,  118,  118,  118,  118,  119,  119,  119,  119,  119,
+      119,  129,  129,  129,  133,  133,  133,  136,  136,  136,
+
+      136,  136,  136,  137,  137,  137,  137,  137,  137,  139,
+      139,  139,  139,  139,  139,  139,  148,  148,  148,  149,
+      149,  149,  149,  149,  149,  156,  156,  156,  156,  156,
+      156,  157,  157,  157,  157,  157,  157,  165,  165,  165,
+      165,  165,  165,  165, 1518,  165,  173,  173,  173,  173,
+      130,  130,  130,  130,  176,  176,  176,  176,  176,  176,
+      177,  177,  177,  177,  177,  177,  184,  184,  184,  184,
+      184,  184,  192,  192,  192,  192,  145,  145,  145,  145,
+      195,  195,  195,  195,  195,  195,  197,  197,  197,  197,
+      197,  197,  197,  203,  203,  203,  203,  203,  203,  204,
+
+      204,  204,  204,  204,  204,  206,  206,  206,  206,  206,
+      206,  206, 1518,  206,  215,  215,  215,  216,  216,  216,
+      216,  216,  216, 1518,  216,  223,  223,  229,  229,  229,
+      130,  130,  130,  230,  230,  230,  230,  230,  230,  231,
+      231,  231,  231,  231,  231,  233,  233,  233,  233,  233,
+      233,  233,  239,  239,  239,  239,  239,  239,  240,  240,
+      240,  240,  240,  240,  240,  249,  249,  249,  145,  145,
+      145,  253,  253,  253,  254,  254,  254,  254,  254,  254,
+      261,  261,  261,  261,  261,  261,  262,  262,  262,  262,
+      262,  262,  269,  269,  269,  269,  269,  269, 1518,  269,
+
+      277,  277,  277,  277,  212,  212,  212,  212,  280,  280,
+      280,  280,  280,  280, 1518,  280,  282,  282,  282,  282,
+      282,  282,  282, 1518,  282,  288,  288,  288,  291,  291,
+      291,  293,  293,  293,  293,  226,  226,  226,  226,  296,
+      296,  296,  296,  296,  296,  297,  297,  297,  297,  297,
+      297,  304,  304,  304,  304,  304,  304,  311,  311,  311,
+      311,  311,  311,  319,  319,  319,  319,  246,  246,  246,
+      246,  323,  323,  323,  323,  250,  250,  250,  250,  326,
+      326,  326,  326,  326,  326,  328,  328,  328,  328,  328,
+      328,  328,  334,  334,  334,  334,  334,  334,  335,  335,
+
+      335,  335,  335,  335,  337,  337,  337,  337,  337,  337,
+      337, 1518,  337,  343,  343,  343,  343,  343,  343, 1518,
+      343,  344,  344,  344,  344,  344,  344,  344, 1518,  344,
+      353,  353,  353,  212,  212,  212,  357,  357,  357,  358,
+      358,  358,  358,  358,  358, 1518,  358,  365,  365,  365,
+      366,  366,  366,  369,  369,  369,  370,  370,  226,  226,
+     1518,  226,  373,  373,  373,  373,  373,  373,  374,  374,
+      374,  374,  374,  374,  376,  376,  376,  376,  376,  376,
+      376,  382,  382,  382,  382,  382,  382,  383,  383,  383,
+      383,  383,  383,  383,  389,  389,  389,  389,  389,  389,
+
+      390,  390,  390,  390,  390,  390,  390,  399,  399,  399,
+      246,  246,  246,  246,  246,  246,  246,  403,  403,  403,
+      250,  250,  250,  250,  250,  250,  250,  407,  407,  407,
+      408,  408,  408,  408,  408,  408,  415,  415,  415,  415,
+      415,  415,  416,  416,  416,  416,  416,  416,  423,  423,
+      423,  423,  423,  423, 1518,  423,  430,  430,  430,  430,
+      430,  430, 1518,  430,  438,  438,  438,  438,  350,  350,
+      350,  350,  442,  442,  442,  442,  354,  354,  354,  354,
+      445,  445,  445,  445,  445,  445, 1518,  445,  447,  447,
+      447,  447,  447,  447,  447, 1518,  447,  453,  453,  453,
+
+      454,  454,  454,  455,  455,  455,  459,  459,  459,  462,
+      462,  462,  463,  463,  463,  463,  463,  463,  464,  464,
+      464,  464,  464,  464,  471,  471,  471,  471,  471,  471,
+      478,  478,  478,  478,  478,  478,  485,  485,  485,  485,
+      485,  485,  493,  493,  493,  493,  396,  396,  396,  396,
+      497,  497,  497,  497,  400,  400,  400,  400,  501,  501,
+      501,  501,  404,  404,  404,  404,  504,  504,  504,  504,
+      504,  504,  506,  506,  506,  506,  506,  506,  506,  512,
+      512,  512,  512,  512,  512,  513,  513,  513,  513,  513,
+      513,  515,  515,  515,  515,  515,  515,  515, 1518,  515,
+
+      521,  521,  521,  521,  521,  521, 1518,  521,  522,  522,
+      522,  522,  522,  522,  522, 1518,  522,  528,  528,  528,
+      528,  528,  528, 1518,  528,  529,  529,  529,  529,  529,
+      529,  529, 1518,  529,  538,  538,  538,  350,  350,  350,
+      350,  350,  350,  350,  542,  542,  542,  354,  354,  354,
+      354,  354,  354,  354,  546,  546,  546,  547,  547,  547,
+      547,  547,  547, 1518,  547,  554,  554,  554,  555,  555,
+      555,  556,  556,  556,  559,  559,  559,  560,  560,  560,
+      560,  560,  560,  561,  561,  561,  561,  561,  561,  563,
+      563,  563,  563,  563,  563,  563,  569,  569,  569,  569,
+
+      569,  569,  570,  570,  570,  570,  570,  570,  570,  576,
+      576,  576,  576,  576,  576,  577,  577,  577,  577,  577,
+      577,  577,  583,  583,  583,  583,  583,  583,  584,  584,
+      584,  584,  584,  584,  584,  590,  590,  396,  396,  396,
+      396,  396,  396, 1518,  396,  596,  596,  596,  400,  400,
+      400,  400,  400,  400,  400,  600,  600,  600,  404,  404,
+      404,  404,  404,  404,  404,  604,  604,  604,  605,  605,
+      605,  605,  605,  605,  612,  612,  612,  612,  612,  612,
+      613,  613,  613,  613,  613,  613,  620,  620,  620,  620,
+      620,  620, 1518,  620,  627,  627,  627,  627,  627,  627,
+
+     1518,  627,  634,  634,  634,  634,  634,  634, 1518,  634,
+      642,  642,  642,  642, 1518, 1518, 1518,  642,  535,  535,
+      535,  535, 1518, 1518, 1518,  535,  646,  646,  646,  646,
+      539,  539,  539,  539,  650,  650,  650,  650,  543,  543,
+      543,  543,  653,  653,  653,  653,  653,  653, 1518,  653,
+      655,  655,  655,  655,  655,  655,  655, 1518,  655,  661,
+      661,  661,  662,  662,  662,  663,  663,  663,  667,  667,
+      667,  667,  667,  667,  668,  668,  668,  668,  668,  668,
+      675,  675,  675,  675,  675,  675,  682,  682,  682,  682,
+      682,  682,  689,  689,  689,  689,  689,  689,  696,  696,
+
+      696,  696,  696,  696,  703,  703,  703,  706,  706,  706,
+      708,  708,  708,  708,  593,  593,  593,  593,  712,  712,
+      712,  712,  597,  597,  597,  597,  716,  716,  716,  716,
+      601,  601,  601,  601,  719,  719,  719,  719,  719,  719,
+      721,  721,  721,  721,  721,  721,  721,  727,  727,  727,
+      727,  727,  727,  728,  728,  728,  728,  728,  728,  730,
+      730,  730,  730,  730,  730,  730, 1518,  730,  736,  736,
+      736,  736,  736,  736, 1518,  736,  737,  737,  737,  737,
+      737,  737,  737, 1518,  737,  743,  743,  743,  743,  743,
+      743, 1518,  743,  744,  744,  744,  744,  744,  744,  744,
+
+     1518,  744,  750,  750,  750,  750,  750,  750, 1518,  750,
+      751,  751,  751,  751,  751,  751,  751, 1518,  751,  757,
+      757,  535,  535,  535,  535, 1518, 1518, 1518,  535,  535,
+      535, 1518,  535, 1518, 1518, 1518,  535,  763,  763,  763,
+      539,  539,  539,  539,  539,  539,  539,  767,  767,  767,
+      543,  543,  543,  543,  543,  543,  543,  771,  771,  771,
+      772,  772,  772,  772,  772,  772, 1518,  772,  779,  779,
+      779,  780,  780,  780,  780,  780,  780,  787,  787,  787,
+      787,  787,  787,  787,  793,  793,  793,  793,  793,  793,
+      794,  794,  794,  794,  794,  794,  794,  800,  800,  800,
+
+      800,  800,  800,  801,  801,  801,  801,  801,  801,  801,
+      807,  807,  807,  807,  807,  807,  808,  808,  808,  808,
+      808,  808,  808,  814,  814,  814,  814,  814,  814,  815,
+      815,  815,  815,  815,  815,  815,  821,  821,  821,  822,
+      822,  822,  825,  825,  825,  826,  826,  593,  593,  593,
+      593,  593,  593, 1518,  593,  832,  832,  832,  597,  597,
+      597,  597,  597,  597,  597,  836,  836,  836,  601,  601,
+      601,  601,  601,  601,  601,  840,  840,  840,  841,  841,
+      841,  841,  841,  841,  848,  848,  848,  848,  848,  848,
+      849,  849,  849,  849,  849,  849,  856,  856,  856,  856,
+
+      856,  856, 1518,  856,  863,  863,  863,  863,  863,  863,
+     1518,  863,  870,  870,  870,  870,  870,  870, 1518,  870,
+      877,  877,  877,  877,  877,  877, 1518,  877,  884,  884,
+      884, 1518, 1518, 1518, 1518,  884,  887,  887,  887, 1518,
+     1518, 1518, 1518,  887,  889,  889,  889,  889, 1518, 1518,
+     1518,  889,  760,  760,  760,  760, 1518, 1518, 1518,  760,
+      893,  893,  893,  893,  764,  764,  764,  764,  897,  897,
+      897,  897,  768,  768,  768,  768,  900,  900,  900,  900,
+      900,  900, 1518,  900,  902,  902,  902,  902,  902,  902,
+      902, 1518,  902,  908,  908,  908,  908,  908,  908,  910,
+
+      910,  910,  910,  910,  910,  910,  916,  916,  916, 1518,
+      916,  916,  917,  917,  917,  917,  917,  917,  918,  918,
+      918, 1518,  918,  918,  920,  920,  920,  920,  920,  920,
+      921,  921,  921, 1518,  921,  921,  923,  923,  923,  923,
+      923,  923,  924,  924,  924, 1518,  924,  924,  926,  926,
+      926,  926,  926,  926,  927,  927,  927, 1518,  927,  927,
+      929,  929,  929,  929,  929,  929,  930,  930,  930, 1518,
+      930,  930,  932,  932,  932,  933,  933,  933,  934,  934,
+      934,  938,  938,  938,  941,  941,  941,  943,  943,  943,
+      943,  829,  829,  829,  829,  947,  947,  947,  947,  833,
+
+      833,  833,  833,  951,  951,  951,  951,  837,  837,  837,
+      837,  954,  954,  954,  954,  954,  954,  956,  956,  956,
+      956,  956,  956,  956,  962,  962,  962,  962,  962,  962,
+      969,  969,  969,  969,  969,  969,  969, 1518,  969,  975,
+      975,  975,  975,  975,  975, 1518,  975,  976,  976,  976,
+      976,  976,  976,  976, 1518,  976,  982,  982,  982,  982,
+      982,  982, 1518,  982,  983,  983,  983,  983,  983,  983,
+      983, 1518,  983,  989,  989,  989,  989,  989,  989, 1518,
+      989,  990,  990,  990,  990,  990,  990,  990, 1518,  990,
+      996,  996,  996,  996,  996,  996, 1518,  996,  997,  997,
+
+      997,  997,  997,  997,  997, 1518,  997, 1003, 1003, 1003,
+     1518, 1518, 1518, 1518, 1003, 1004, 1004, 1004, 1518, 1518,
+     1518, 1518, 1004, 1007, 1007, 1007, 1518, 1518, 1518, 1518,
+     1007, 1008, 1008,  760,  760,  760,  760, 1518, 1518, 1518,
+      760,  760,  760, 1518,  760, 1518, 1518, 1518,  760, 1014,
+     1014, 1014,  764,  764,  764,  764,  764,  764,  764, 1018,
+     1018, 1018,  768,  768,  768,  768,  768,  768,  768, 1022,
+     1022, 1022, 1023, 1023, 1023, 1023, 1023, 1023, 1518, 1023,
+     1033, 1033, 1033, 1034, 1034, 1034, 1034, 1034, 1034, 1035,
+     1035, 1035, 1035, 1035, 1035, 1038, 1038, 1038, 1518, 1038,
+
+     1038, 1039, 1039, 1039, 1039, 1039, 1039, 1040, 1040, 1040,
+     1518, 1040, 1040, 1041, 1041, 1041, 1041, 1041, 1041, 1042,
+     1042, 1042, 1518, 1042, 1042, 1043, 1043, 1043, 1043, 1043,
+     1043, 1044, 1044, 1044, 1518, 1044, 1044, 1045, 1045, 1045,
+     1045, 1045, 1045, 1046, 1046, 1046, 1518, 1046, 1046, 1047,
+     1047, 1047, 1047, 1047, 1047, 1048, 1048, 1048, 1518, 1048,
+     1048, 1049, 1049, 1049, 1050, 1050, 1050, 1051, 1051, 1051,
+     1054, 1054, 1054, 1055, 1055,  829,  829,  829,  829,  829,
+      829, 1518,  829, 1061, 1061, 1061,  833,  833,  833,  833,
+      833,  833,  833, 1065, 1065, 1065,  837,  837,  837,  837,
+
+      837,  837,  837, 1069, 1069, 1069, 1070, 1070, 1070, 1070,
+     1070, 1070, 1071, 1071, 1071, 1518, 1071, 1071, 1073, 1073,
+     1073, 1073, 1073, 1073, 1075, 1075, 1075, 1075, 1075, 1075,
+     1075, 1081, 1081, 1081, 1518, 1081, 1081, 1518, 1081, 1082,
+     1082, 1082, 1082, 1082, 1082, 1518, 1082, 1083, 1083, 1083,
+     1518, 1083, 1083, 1085, 1085, 1085, 1085, 1085, 1085, 1518,
+     1085, 1086, 1086, 1086, 1518, 1086, 1086, 1088, 1088, 1088,
+     1088, 1088, 1088, 1518, 1088, 1089, 1089, 1089, 1518, 1089,
+     1089, 1091, 1091, 1091, 1091, 1091, 1091, 1518, 1091, 1092,
+     1092, 1092, 1518, 1092, 1092, 1094, 1094, 1094, 1094, 1094,
+
+     1094, 1518, 1094, 1095, 1095, 1095, 1518, 1095, 1095, 1097,
+     1097, 1097, 1518, 1518, 1518, 1518, 1097, 1098, 1098, 1098,
+     1518, 1518, 1518, 1518, 1098, 1099, 1099, 1099, 1518, 1518,
+     1518, 1518, 1099, 1103, 1103, 1103, 1518, 1518, 1518, 1518,
+     1103, 1106, 1106, 1106, 1518, 1518, 1518, 1518, 1106, 1108,
+     1108, 1108, 1108, 1518, 1518, 1518, 1108, 1011, 1011, 1011,
+     1011, 1518, 1518, 1518, 1011, 1112, 1112, 1112, 1112, 1015,
+     1015, 1015, 1015, 1116, 1116, 1116, 1116, 1019, 1019, 1019,
+     1019, 1119, 1119, 1119, 1119, 1119, 1119, 1518, 1119, 1121,
+     1121, 1121, 1121, 1121, 1121, 1121, 1518, 1121, 1128, 1128,
+
+     1128, 1128, 1030, 1030, 1030, 1030, 1131, 1131, 1131, 1131,
+     1131, 1131, 1132, 1132, 1132, 1518, 1132, 1132, 1133, 1133,
+     1133, 1518, 1133, 1133, 1134, 1134, 1134, 1518, 1134, 1134,
+     1135, 1135, 1135, 1518, 1135, 1135, 1136, 1136, 1136, 1518,
+     1136, 1136, 1137, 1137, 1137, 1518, 1137, 1137, 1138, 1138,
+     1138, 1518, 1138, 1138, 1139, 1139, 1139, 1140, 1140, 1140,
+     1141, 1141, 1141, 1145, 1145, 1145, 1148, 1148, 1148, 1150,
+     1150, 1150, 1150, 1058, 1058, 1058, 1058, 1154, 1154, 1154,
+     1154, 1062, 1062, 1062, 1062, 1158, 1158, 1158, 1158, 1066,
+     1066, 1066, 1066, 1161, 1161, 1161, 1161, 1161, 1161, 1162,
+
+     1162, 1162, 1518, 1162, 1162, 1166, 1166, 1166, 1167, 1167,
+     1167, 1167, 1167, 1167, 1168, 1168, 1168, 1168, 1168, 1168,
+     1171, 1171, 1171, 1518, 1171, 1171, 1518, 1171, 1172, 1172,
+     1172, 1172, 1172, 1172, 1518, 1172, 1173, 1173, 1173, 1518,
+     1173, 1173, 1518, 1173, 1174, 1174, 1174, 1174, 1174, 1174,
+     1518, 1174, 1175, 1175, 1175, 1518, 1175, 1175, 1518, 1175,
+     1176, 1176, 1176, 1176, 1176, 1176, 1518, 1176, 1177, 1177,
+     1177, 1518, 1177, 1177, 1518, 1177, 1178, 1178, 1178, 1178,
+     1178, 1178, 1518, 1178, 1179, 1179, 1179, 1518, 1179, 1179,
+     1518, 1179, 1180, 1180, 1180, 1180, 1180, 1180, 1518, 1180,
+
+     1181, 1181, 1181, 1518, 1181, 1181, 1518, 1181, 1182, 1182,
+     1182, 1518, 1518, 1518, 1518, 1182, 1182, 1182, 1518, 1518,
+     1518, 1518, 1518, 1182, 1183, 1183, 1183, 1518, 1518, 1518,
+     1518, 1183, 1184, 1184, 1184, 1518, 1518, 1518, 1518, 1184,
+     1187, 1187, 1187, 1518, 1518, 1518, 1518, 1187, 1188, 1188,
+     1011, 1011, 1011, 1011, 1518, 1518, 1518, 1011, 1011, 1011,
+     1518, 1011, 1518, 1518, 1518, 1011, 1194, 1194, 1194, 1015,
+     1015, 1015, 1015, 1015, 1015, 1015, 1198, 1198, 1198, 1019,
+     1019, 1019, 1019, 1019, 1019, 1019, 1202, 1202, 1202, 1203,
+     1203, 1203, 1203, 1203, 1203, 1518, 1203, 1204, 1204, 1204,
+
+     1518, 1204, 1204, 1209, 1209, 1209, 1030, 1030, 1030, 1030,
+     1030, 1030, 1030, 1210, 1210, 1210, 1518, 1210, 1210, 1211,
+     1211, 1211, 1518, 1211, 1211, 1212, 1212, 1212, 1518, 1212,
+     1212, 1213, 1213, 1213, 1518, 1213, 1213, 1214, 1214, 1214,
+     1518, 1214, 1214, 1215, 1215, 1215, 1518, 1215, 1215, 1216,
+     1216, 1216, 1518, 1216, 1216, 1217, 1217, 1217, 1218, 1218,
+     1218, 1219, 1219, 1219, 1222, 1222, 1222, 1223, 1223, 1058,
+     1058, 1058, 1058, 1058, 1058, 1518, 1058, 1229, 1229, 1229,
+     1062, 1062, 1062, 1062, 1062, 1062, 1062, 1233, 1233, 1233,
+     1066, 1066, 1066, 1066, 1066, 1066, 1066, 1234, 1234, 1234,
+
+     1518, 1234, 1234, 1236, 1236, 1236, 1236, 1163, 1163, 1163,
+     1163, 1239, 1239, 1239, 1239, 1239, 1239, 1240, 1240, 1240,
+     1518, 1240, 1240, 1518, 1240, 1241, 1241, 1241, 1518, 1241,
+     1241, 1518, 1241, 1242, 1242, 1242, 1518, 1242, 1242, 1518,
+     1242, 1243, 1243, 1243, 1518, 1243, 1243, 1518, 1243, 1244,
+     1244, 1244, 1518, 1244, 1244, 1518, 1244, 1245, 1245, 1245,
+     1518, 1245, 1245, 1518, 1245, 1246, 1246, 1246, 1518, 1246,
+     1246, 1518, 1246, 1247, 1247, 1247, 1518, 1518, 1518, 1518,
+     1247, 1248, 1248, 1248, 1518, 1518, 1518, 1518, 1248, 1249,
+     1249, 1249, 1518, 1518, 1518, 1518, 1249, 1253, 1253, 1253,
+
+     1518, 1518, 1518, 1518, 1253, 1256, 1256, 1256, 1518, 1518,
+     1518, 1518, 1256, 1258, 1258, 1258, 1258, 1518, 1518, 1518,
+     1258, 1191, 1191, 1191, 1191, 1518, 1518, 1518, 1191, 1262,
+     1262, 1262, 1262, 1195, 1195, 1195, 1195, 1266, 1266, 1266,
+     1266, 1199, 1199, 1199, 1199, 1269, 1269, 1269, 1269, 1269,
+     1269, 1518, 1269, 1270, 1270, 1270, 1518, 1270, 1270, 1518,
+     1270, 1272, 1272, 1272, 1272, 1206, 1206, 1206, 1206, 1036,
+     1036, 1036, 1518, 1036, 1036, 1275, 1275, 1275, 1276, 1276,
+     1276, 1277, 1277, 1277, 1281, 1281, 1281, 1284, 1284, 1284,
+     1286, 1286, 1286, 1286, 1226, 1226, 1226, 1226, 1290, 1290,
+
+     1290, 1290, 1230, 1230, 1230, 1230, 1293, 1293, 1293, 1518,
+     1293, 1293, 1297, 1297, 1297, 1163, 1163, 1163, 1298, 1298,
+     1298, 1518, 1298, 1298, 1518, 1298, 1299, 1299, 1299, 1518,
+     1299, 1299, 1518, 1299, 1300, 1300, 1300, 1518, 1300, 1300,
+     1518, 1300, 1301, 1301, 1301, 1518, 1301, 1301, 1518, 1301,
+     1302, 1302, 1302, 1518, 1302, 1302, 1518, 1302, 1303, 1303,
+     1303, 1518, 1303, 1303, 1518, 1303, 1304, 1304, 1304, 1518,
+     1304, 1304, 1518, 1304, 1305, 1305, 1305, 1518, 1518, 1518,
+     1518, 1305, 1305, 1305, 1518, 1518, 1518, 1518, 1518, 1305,
+     1306, 1306, 1306, 1518, 1518, 1518, 1518, 1306, 1307, 1307,
+
+     1307, 1518, 1518, 1518, 1518, 1307, 1310, 1310, 1310, 1518,
+     1518, 1518, 1518, 1310, 1311, 1311, 1191, 1191, 1518, 1191,
+     1518, 1518, 1518, 1191, 1317, 1317, 1317, 1195, 1195, 1195,
+     1321, 1321, 1321, 1199, 1199, 1199, 1322, 1322, 1322, 1518,
+     1322, 1322, 1518, 1322, 1326, 1326, 1326, 1206, 1206, 1206,
+     1327, 1327, 1327, 1328, 1328, 1328, 1329, 1329, 1329, 1332,
+     1332, 1332, 1333, 1333, 1226, 1226, 1518, 1226, 1339, 1339,
+     1339, 1230, 1230, 1230, 1341, 1341, 1341, 1341, 1294, 1294,
+     1294, 1294, 1169, 1169, 1169, 1518, 1169, 1169, 1518, 1169,
+     1344, 1344, 1344, 1518, 1518, 1518, 1518, 1344, 1345, 1345,
+
+     1345, 1518, 1518, 1518, 1518, 1345, 1346, 1346, 1346, 1518,
+     1518, 1518, 1518, 1346, 1350, 1350, 1350, 1518, 1518, 1518,
+     1518, 1350, 1353, 1353, 1353, 1518, 1518, 1518, 1518, 1353,
+     1355, 1355, 1355, 1355, 1518, 1518, 1518, 1355, 1314, 1314,
+     1314, 1314, 1518, 1518, 1518, 1314, 1359, 1359, 1359, 1359,
+     1318, 1318, 1318, 1318, 1362, 1362, 1362, 1518, 1362, 1362,
+     1518, 1362, 1364, 1364, 1364, 1364, 1323, 1323, 1323, 1323,
+     1367, 1367, 1367, 1368, 1368, 1368, 1369, 1369, 1369, 1373,
+     1373, 1373, 1376, 1376, 1376, 1378, 1378, 1378, 1378, 1336,
+     1336, 1336, 1336, 1384, 1384, 1384, 1294, 1294, 1294, 1385,
+
+     1385, 1385, 1518, 1518, 1518, 1518, 1385, 1385, 1385, 1518,
+     1518, 1518, 1518, 1518, 1385, 1386, 1386, 1386, 1518, 1518,
+     1518, 1518, 1386, 1387, 1387, 1387, 1518, 1518, 1518, 1518,
+     1387, 1390, 1390, 1390, 1518, 1518, 1518, 1518, 1390, 1391,
+     1391, 1314, 1314, 1518, 1314, 1518, 1518, 1518, 1314, 1397,
+     1397, 1397, 1318, 1318, 1318, 1398, 1398, 1323, 1323, 1518,
+     1323, 1401, 1401, 1401, 1402, 1402, 1402, 1403, 1403, 1403,
+     1406, 1406, 1406, 1407, 1407, 1336, 1336, 1518, 1336, 1411,
+     1411, 1411, 1411, 1518, 1518, 1518, 1411, 1381, 1381, 1381,
+     1381, 1518, 1518, 1518, 1381, 1414, 1414, 1414, 1518, 1518,
+
+     1518, 1518, 1414, 1415, 1415, 1415, 1518, 1518, 1518, 1518,
+     1415, 1416, 1416, 1416, 1518, 1518, 1518, 1518, 1416, 1420,
+     1420, 1420, 1518, 1518, 1518, 1518, 1420, 1423, 1423, 1423,
+     1518, 1518, 1518, 1518, 1423, 1425, 1425, 1425, 1425, 1518,
+     1518, 1518, 1425, 1394, 1394, 1394, 1394, 1518, 1518, 1518,
+     1394, 1428, 1428, 1428, 1431, 1431, 1431, 1432, 1432, 1432,
+     1433, 1433, 1433, 1434, 1434, 1434, 1438, 1438, 1438, 1441,
+     1441, 1441, 1442, 1442, 1381, 1381, 1518, 1381, 1518, 1518,
+     1518, 1381, 1445, 1445, 1445, 1518, 1518, 1518, 1518, 1445,
+     1445, 1445, 1518, 1518, 1518, 1518, 1518, 1445, 1446, 1446,
+
+     1446, 1518, 1518, 1518, 1518, 1446, 1447, 1447, 1447, 1518,
+     1518, 1518, 1518, 1447, 1450, 1450, 1450, 1518, 1518, 1518,
+     1518, 1450, 1451, 1451, 1394, 1394, 1518, 1394, 1518, 1518,
+     1518, 1394, 1454, 1454, 1454, 1455, 1455, 1455, 1458, 1458,
+     1458, 1459, 1459, 1459, 1460, 1460, 1460, 1461, 1461, 1461,
+     1464, 1464, 1464, 1465, 1465, 1465, 1518, 1518, 1518, 1518,
+     1465, 1468, 1468, 1468, 1518, 1518, 1518, 1518, 1468, 1469,
+     1469, 1469, 1518, 1518, 1518, 1518, 1469, 1470, 1470, 1470,
+     1518, 1518, 1518, 1518, 1470, 1471, 1471, 1471, 1518, 1518,
+     1518, 1518, 1471, 1475, 1475, 1475, 1518, 1518, 1518, 1518,
+
+     1475, 1478, 1478, 1478, 1518, 1518, 1518, 1518, 1478, 1479,
+     1479, 1479, 1480, 1480, 1480, 1481, 1481, 1481, 1485, 1485,
+     1485, 1486, 1486, 1486, 1487, 1487, 1487, 1491, 1491, 1491,
+     1518, 1518, 1518, 1518, 1491, 1492, 1492, 1492, 1518, 1518,
+     1518, 1518, 1492, 1495, 1495, 1495, 1518, 1518, 1518, 1518,
+     1495, 1496, 1496, 1496, 1518, 1518, 1518, 1518, 1496, 1496,
+     1496, 1518, 1518, 1518, 1518, 1518, 1496, 1497, 1497, 1497,
+     1518, 1518, 1518, 1518, 1497, 1498, 1498, 1498, 1518, 1518,
+     1518, 1518, 1498, 1501, 1501, 1501, 1518, 1518, 1518, 1518,
+     1501, 1502, 1502, 1502, 1503, 1503, 1503, 1504, 1504, 1504,
+
+     1518, 1518, 1518, 1518, 1504, 1505, 1505, 1505, 1518, 1518,
+     1518, 1518, 1505, 1506, 1506, 1506, 1518, 1518, 1518, 1518,
+     1506, 1510, 1510, 1510, 1518, 1518, 1518, 1518, 1510, 1511,
+     1511, 1511, 1518, 1518, 1518, 1518, 1511, 1512, 1512, 1512,
+     1518, 1518, 1518, 1518, 1512, 1516, 1516, 1516, 1518, 1518,
+     1518, 1518, 1516, 1516, 1516, 1518, 1518, 1518, 1518, 1518,
+     1516, 1517, 1517, 1517, 1518, 1518, 1518, 1518, 1517, 1517,
+     1517, 1518, 1518, 1518, 1518, 1518, 1517,    5, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518
     } ;
 
-static yyconst flex_int16_t yy_chk[456] =
+static yyconst flex_int16_t yy_chk[10018] =
     {   0,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-        1,    1,    1,    1,    1,    1,    1,   10,   22,   22,
-       25,   37,   25,   33,   33,   97,   37,   57,   57,   28,
-       31,   38,   38,   38,   96,   39,   55,   95,   10,   15,
-       93,   15,   15,   15,   15,   15,   15,   15,   15,   15,
-       28,   31,   39,   15,   15,   15,   15,   55,   15,   15,
-       15,   15,   15,   15,   15,   15,   15,   15,   15,   16,
-       16,   16,   16,   16,   16,   16,   16,   16,   45,   45,
-
-       45,   75,   75,   75,   16,   17,   17,   17,   17,   17,
-       17,   17,   17,   17,   18,   18,   18,   18,   18,   18,
-       21,   59,   21,   21,   21,   21,   21,   21,   21,   21,
-       21,   40,   91,   40,   40,   40,   40,   40,   40,   40,
-       40,   90,   59,   78,   78,   78,   89,   88,   40,   42,
-       42,   42,   42,   42,   42,   42,   42,   42,   61,   87,
-       61,   42,   42,   42,   42,   63,   42,   42,   42,   42,
-       42,   42,   42,   42,   42,   42,   42,   64,   70,   85,
-       63,   61,   86,   86,   86,   63,   72,   83,   72,   73,
-       80,   82,   64,   94,   94,   94,   79,   64,   65,   70,
-
-       65,   65,   65,   65,   65,   65,   65,   65,   65,   72,
-       73,   80,   69,   65,  109,  109,  109,  109,   65,   66,
-       66,   66,   66,   66,   66,   84,   68,   84,   84,   84,
-       84,   84,   84,   84,   84,   84,   92,   92,   92,   92,
-       92,   92,   92,   92,   92,   92,   99,   99,   99,   99,
-       99,   99,   99,   99,   99,  103,  103,  103,  103,  103,
-      103,  103,  103,  103,  108,  108,  108,  108,  108,  108,
-      108,  108,  108,  114,  114,  114,  118,  118,  118,  118,
-      118,  118,  118,  118,  119,  119,  119,  119,  119,  119,
-      119,  119,  120,   62,  120,  120,  120,  120,  120,  120,
-
-      121,  121,  121,  121,  122,  122,  122,  123,  123,  123,
-      123,  123,  123,  123,  123,  124,  124,  124,  124,  124,
-      124,  124,  124,  125,  125,  125,  126,  126,  126,  126,
-      126,  126,  126,  126,  127,  127,  127,  127,   58,  127,
-      128,  128,  128,  129,  129,  129,  130,  130,  130,  130,
-      131,  131,  131,  131,  132,  132,  132,  133,  133,  133,
-      134,  134,  134,  134,  135,  135,  135,  135,  136,  136,
-      137,  137,   54,  137,  138,  138,  138,  139,  139,  139,
-      140,  140,  140,  141,  141,  141,  142,  142,  142,  143,
-      143,  143,  144,  144,  144,  145,  145,  145,  146,  146,
-
-      146,   53,   51,   49,   48,   46,   36,   29,   27,   26,
-       24,   23,   12,    9,    5,    4,    3,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117,  117,  117,  117,  117,  117,
-      117,  117,  117,  117,  117
+        1,    1,    1,    1,    1,    1,    1,    1,    1,   10,
+       25,   25,   28,   40,   28,   36,   36,   41,   41,   41,
+       40, 1498,   31,   34,   50,   50,   50, 1499,   63,   65,
+       65,   10,   15, 1504,   15,   15,   15,   15,   15,   15,
+       15,   15,   15,   15,   31,   34,   15,   15,   15,   15,
+       63,   67,   92,   15,   15,   15,   15,   15,   15,   15,
+       15,   15,   15,   15,   16,   16,   16,   16,   16,   16,
+
+       16,   16,   16,   67,   92,   97,   97,   97, 1505,   16,
+       17,   17,   17,   17,   17,   17,   17,   17,   17,   18,
+       18,   18,   18,   18,   18,   22,   82,   22,   22,   22,
+       22,   22,   22,   22,   22,   22,   42,   82,   42,   42,
+       42,   42,   42,   42,   42,   42,   42,   42, 1506, 1507,
+       42,   42,   42,   42, 1508,   95, 1509,   42,   42,   42,
+       42,   42,   42,   42,   42,   42,   42,   42,   43,   43,
+       43,   43,   43,   43,   43,   43,   45,   95,   45,   45,
+       45,   45,   45,   45,   45,   45,   45,   47,   47,   47,
+       47,   47,   47,   47,   47,   47,  100,  100,  100,   47,
+
+       47,   47,   47,  111,  111,  111,   47,   47,   47,   47,
+       47,   47,   47,   47,   47,   47,   47,   48, 1510,   48,
+       48,   48,   48,   48,   48,   48,   48,   48,   52,   52,
+       52,   52,   52,   52,   52,   52,   52,   69,   71,   69,
+       52,   52,   72,   86,  106,  110, 1511,   52,   52,   52,
+      116,  116,  116,   71,   86,  106,  110,   72, 1512,  128,
+       71,   69, 1513, 1514,   72,   73,  117,   73,   73,   73,
+       73,   73,   73,   73,   73,   73,  165,  117, 1515, 1516,
+       73,  128,   94, 1517,   94,  165,  206,   73,   74,   74,
+       74,   74,   74,   74,   75,  206,   75,   75,   75,   75,
+
+       75,   75,   75,   75,   75,   75,   94, 1497,   75,   75,
+       75,   75,  143,  143,  143,   75,   75,   75,   75,   75,
+       75,   75,   75,   75,   75,   75,   76,   76,   76,   76,
+       76,   76,   76,   76,   77, 1496,   77,   77,   77,   77,
+       77,   77,   77,   77,   77,   79,   79,   79,   79,   79,
+       79,   79,   79,   79,  164,  164,  164,   79,   79,  169,
+      169,  169, 1493, 1492,   79,   79,   79,   83,  144,   83,
+       83,   83,   83,   83,   83,   83,   83,   83,   83,  144,
+     1491,   83,   83,  171,  171,  171, 1478, 1476,   83,   83,
+       83,   84,  150,   84,   84,   84,   84,   84,   84,   84,
+
+       84,   84,   84,  150, 1475,   84,   84,  172,  172,  172,
+     1474, 1473,   84,   84,   84,   85,   85,   85,   85,   85,
+       85,   89,   89,   89,   89,   89,   89,   89,   89,   89,
+      191,  191,  191,   89,   89,  196,  196,  196, 1472,   89,
+       89,   89,   89,  101, 1471,  101,  101,  101,  101,  101,
+      101,  101,  101,  101,  101,  102,  102,  102,  102,  102,
+      102,  102,  102,  107,  154,  107,  107,  107,  107,  107,
+      107,  107,  107,  107,  107,  154, 1470,  107,  107,  201,
+      201,  201, 1469, 1468,  107,  107,  107,  108,  155,  108,
+      108,  108,  108,  108,  108,  108,  108,  108,  108,  155,
+
+     1466,  108,  108,  210,  210,  210, 1465, 1453,  108,  108,
+      108,  109,  109,  109,  109,  109,  109,  113,  113,  113,
+      113,  113,  113,  113,  113,  113,  216, 1451, 1448,  113,
+      113,  237,  237,  237, 1447,  216,  113,  113,  113,  114,
+      179,  114,  114,  114,  114,  114,  114,  114,  114,  114,
+      114,  179, 1446,  114,  114,  244,  244,  244, 1445, 1444,
+      114,  114,  114,  120,  120,  120,  120,  120,  120,  120,
+      120,  120, 1442, 1423,  121,  120,  120,  183,  185,  189,
+      190,  120,  120,  120,  120,  121, 1421, 1420,  183,  185,
+      189,  190, 1419, 1418,  121,  122,  202,  122,  122,  122,
+
+      122,  122,  122,  122,  122,  122,  122,  202, 1417,  122,
+      122,  276,  276,  276, 1416,  122,  122,  122,  122,  123,
+      238,  123,  123,  123,  123,  123,  123,  123,  123,  123,
+      123,  238, 1415,  123,  123,  281,  281,  281,  125,  123,
+      123,  123,  123,  124,  124,  124,  124,  124,  124,  125,
+     1414,  269,  286,  286,  286,  292,  292,  292,  125,  132,
+      269,  132,  132,  132,  132,  132,  132,  132,  132,  132,
+      138,  138,  138,  138,  138,  138,  138,  138,  138,  280,
+     1393, 1391,  138,  138,  318,  318,  318, 1388,  280,  138,
+      138,  138,  140,  140,  140,  140,  140,  140,  140,  140,
+
+      140,  282, 1387, 1386,  140,  140,  322,  322,  322, 1385,
+      282,  140,  140,  140,  141,  245,  141,  141,  141,  141,
+      141,  141,  141,  141,  141,  141,  245, 1380,  141,  141,
+      327,  327,  327, 1379, 1378,  141,  141,  141,  147,  255,
+      147,  147,  147,  147,  147,  147,  147,  147,  147,  151,
+      255,  151,  151,  151,  151,  151,  151,  151,  151,  151,
+      151, 1366, 1365,  151,  151,  332,  332,  332, 1364, 1362,
+      151,  151,  151,  152,  259,  152,  152,  152,  152,  152,
+      152,  152,  152,  152,  152,  259, 1361,  152,  152,  341,
+      341,  341,  159,  260,  152,  152,  152,  153,  153,  153,
+
+      153,  153,  153,  159,  260,  348,  348,  348,  369,  369,
+      369,  369,  159,  160,  299,  160,  160,  160,  160,  160,
+      160,  160,  160,  160,  160,  299, 1360,  160,  160,  380,
+      380,  380, 1359,  160,  160,  160,  160,  161,  303,  161,
+      161,  161,  161,  161,  161,  161,  161,  161,  161,  303,
+     1353,  161,  161,  387,  387,  387,  163,  161,  161,  161,
+      161,  162,  162,  162,  162,  162,  162,  163,  394,  394,
+      394,  437,  437,  437, 1351,  170,  163,  166,  166,  166,
+      166,  166,  166,  166,  166,  166,  170, 1350, 1349,  166,
+      166,  441,  441,  441, 1348,  170,  166,  166,  166,  167,
+
+      305,  167,  167,  167,  167,  167,  167,  167,  167,  167,
+      167,  305, 1347,  167,  167,  446,  446,  446, 1346,  167,
+      167,  167,  167,  180,  309,  180,  180,  180,  180,  180,
+      180,  180,  180,  180,  180,  309, 1345,  180,  180,  451,
+      451,  451, 1344, 1343,  180,  180,  180,  181,  310,  181,
+      181,  181,  181,  181,  181,  181,  181,  181,  181,  310,
+     1342,  181,  181,  457,  457,  457, 1341,  312,  181,  181,
+      181,  182,  182,  182,  182,  182,  182,  186,  312,  186,
+      186,  186,  186,  186,  186,  186,  186,  186,  186, 1339,
+     1337,  186,  186,  492,  492,  492, 1336, 1326,  186,  186,
+
+      186,  187,  316,  187,  187,  187,  187,  187,  187,  187,
+      187,  187,  187,  316, 1324,  187,  187,  496,  496,  496,
+     1323, 1322,  187,  187,  187,  188,  188,  188,  188,  188,
+      188,  198,  198,  198,  198,  198,  198,  198,  198,  198,
+      337, 1321, 1319,  198,  198,  500,  500,  500, 1318,  337,
+      198,  198,  198,  199,  317,  199,  199,  199,  199,  199,
+      199,  199,  199,  199,  199,  317, 1313,  199,  199,  505,
+      505,  505, 1311, 1308,  199,  199,  199,  205,  205,  205,
+      205,  205,  205,  205,  205,  205,  510,  510,  510,  205,
+      205,  519,  519,  519, 1307,  205,  205,  205,  205,  207,
+
+      207,  207,  207,  207,  207,  207,  207,  207,  343, 1306,
+     1305,  207,  207,  526,  526,  526, 1304,  343,  207,  207,
+      207,  208,  333,  208,  208,  208,  208,  208,  208,  208,
+      208,  208,  208,  333,  211,  208,  208,  344,  358,  381,
+      388,  208,  208,  208,  208,  211,  344,  358, 1303, 1302,
+      381,  388, 1301, 1300,  211,  214,  217,  214,  214,  214,
+      214,  214,  214,  214,  214,  214,  423,  217,  533,  533,
+      533,  559,  559,  559,  559,  423,  217,  218,  395,  218,
+      218,  218,  218,  218,  218,  218,  218,  218,  218,  395,
+     1299,  218,  218,  567,  567,  567, 1298,  218,  218,  218,
+
+      218,  219,  409,  219,  219,  219,  219,  219,  219,  219,
+      219,  219,  219,  409, 1297,  219,  219,  574,  574,  574,
+      221,  219,  219,  219,  219,  220,  220,  220,  220,  220,
+      220,  221,  222,  413,  414, 1295, 1294,  430,  445,  447,
+      221,  515,  521,  222,  413,  414,  430,  445,  447, 1292,
+      515,  521,  222,  224,  224,  224,  224,  224,  224,  224,
+      224,  224,  228,  228,  228,  228,  228,  228,  228,  228,
+      228,  228,  232,  232,  232,  232,  232,  232,  232,  232,
+      232,  522, 1291, 1290,  232,  232,  581,  581,  581, 1288,
+      522,  232,  232,  232,  234,  234,  234,  234,  234,  234,
+
+      234,  234,  234,  528, 1287, 1286,  234,  234,  588,  588,
+      588, 1274,  528,  234,  234,  234,  235,  466,  235,  235,
+      235,  235,  235,  235,  235,  235,  235,  235,  466, 1273,
+      235,  235,  641,  641,  641, 1272, 1270,  235,  235,  235,
+      241,  241,  241,  241,  241,  241,  241,  241,  241,  529,
+     1268, 1267,  241,  241,  645,  645,  645, 1266,  529,  241,
+      241,  241,  242,  470,  242,  242,  242,  242,  242,  242,
+      242,  242,  242,  242,  470, 1264,  242,  242,  649,  649,
+      649, 1263, 1262,  242,  242,  242,  248,  472,  248,  248,
+      248,  248,  248,  248,  248,  248,  248,  252,  472,  252,
+
+      252,  252,  252,  252,  252,  252,  252,  252,  256,  476,
+      256,  256,  256,  256,  256,  256,  256,  256,  256,  256,
+      476, 1256,  256,  256,  654,  654,  654, 1254, 1253,  256,
+      256,  256,  257,  477,  257,  257,  257,  257,  257,  257,
+      257,  257,  257,  257,  477, 1252,  257,  257,  659,  659,
+      659,  264,  479,  257,  257,  257,  258,  258,  258,  258,
+      258,  258,  264,  479,  665,  665,  665,  707,  707,  707,
+     1251,  264,  265,  483,  265,  265,  265,  265,  265,  265,
+      265,  265,  265,  265,  483, 1250,  265,  265,  711,  711,
+      711, 1249,  265,  265,  265,  265,  266,  484,  266,  266,
+
+      266,  266,  266,  266,  266,  266,  266,  266,  484, 1248,
+      266,  266,  715,  715,  715,  268,  266,  266,  266,  266,
+      267,  267,  267,  267,  267,  267,  268,  270,  486,  274,
+      490,  491,  511,  568, 1247,  268,  535,  536,  270,  486,
+      274,  490,  491,  511,  568,  535,  536,  270,  271,  274,
+      271,  271,  271,  271,  271,  271,  271,  271,  271,  271,
+     1246, 1245,  271,  271,  538,  720,  720,  720,  271,  271,
+      271,  271,  272,  538,  272,  272,  272,  272,  272,  272,
+      272,  272,  272,  272, 1244, 1243,  272,  272,  725,  725,
+      725,  275,  272,  272,  272,  272,  273,  273,  273,  273,
+
+      273,  273,  275,  734,  734,  734,  741,  741,  741, 1242,
+      287,  275,  283,  283,  283,  283,  283,  283,  283,  283,
+      283,  287, 1241, 1240,  283,  283,  547,  748,  748,  748,
+      287,  283,  283,  283,  284,  547,  284,  284,  284,  284,
+      284,  284,  284,  284,  284,  284, 1239, 1238,  284,  284,
+      755,  755,  755, 1237,  284,  284,  284,  284,  290,  290,
+      290,  290,  290,  290,  290,  290,  290,  300,  575,  300,
+      300,  300,  300,  300,  300,  300,  300,  300,  300,  575,
+     1236,  300,  300,  791,  791,  791, 1233, 1231,  300,  300,
+      300,  301,  582,  301,  301,  301,  301,  301,  301,  301,
+
+      301,  301,  301,  582, 1230,  301,  301,  798,  798,  798,
+     1229,  589,  301,  301,  301,  302,  302,  302,  302,  302,
+      302,  306,  589,  306,  306,  306,  306,  306,  306,  306,
+      306,  306,  306, 1227, 1226,  306,  306,  805,  805,  805,
+     1209, 1207,  306,  306,  306,  307,  606,  307,  307,  307,
+      307,  307,  307,  307,  307,  307,  307,  606, 1206,  307,
+      307,  812,  812,  812, 1204,  610,  307,  307,  307,  308,
+      308,  308,  308,  308,  308,  313,  610,  313,  313,  313,
+      313,  313,  313,  313,  313,  313,  313, 1202, 1200,  313,
+      313,  819,  819,  819, 1199, 1198,  313,  313,  313,  314,
+
+      611,  314,  314,  314,  314,  314,  314,  314,  314,  314,
+      314,  611, 1196,  314,  314,  825,  825,  825,  825, 1195,
+      314,  314,  314,  315,  315,  315,  315,  315,  315,  329,
+      329,  329,  329,  329,  329,  329,  329,  329,  620, 1190,
+     1188,  329,  329,  627,  888,  888,  888,  620,  329,  329,
+      329,  330,  627,  330,  330,  330,  330,  330,  330,  330,
+      330,  330,  330, 1185, 1184,  330,  330,  892,  892,  892,
+     1183, 1182,  330,  330,  330,  336,  336,  336,  336,  336,
+      336,  336,  336,  336,  896,  896,  896,  336,  336,  901,
+      901,  901, 1181,  336,  336,  336,  336,  338,  338,  338,
+
+      338,  338,  338,  338,  338,  338,  634, 1179, 1177,  338,
+      338,  642,  906,  906,  906,  634,  338,  338,  338,  339,
+      642,  339,  339,  339,  339,  339,  339,  339,  339,  339,
+      339, 1175,  342,  339,  339,  643,  644,  653,  655,  339,
+      339,  339,  339,  342,  643,  644,  653,  655,  909,  909,
+      909,  349,  342,  345,  345,  345,  345,  345,  345,  345,
+      345,  345,  349, 1173, 1171,  345,  345,  914,  914,  914,
+     1169,  349,  345,  345,  345,  346,  670,  346,  346,  346,
+      346,  346,  346,  346,  346,  346,  346,  670, 1168,  346,
+      346,  730,  936,  936,  936,  346,  346,  346,  346,  352,
+
+      730,  352,  352,  352,  352,  352,  352,  352,  352,  352,
+      356,  359,  356,  356,  356,  356,  356,  356,  356,  356,
+      356,  736,  359,  942,  942,  942,  946,  946,  946, 1167,
+      736,  359,  360,  674,  360,  360,  360,  360,  360,  360,
+      360,  360,  360,  360,  674, 1166,  360,  360,  950,  950,
+      950, 1164,  360,  360,  360,  360,  361,  676,  361,  361,
+      361,  361,  361,  361,  361,  361,  361,  361,  676, 1163,
+      361,  361,  955,  955,  955,  363,  361,  361,  361,  361,
+      362,  362,  362,  362,  362,  362,  363,  364,  680,  681,
+      683,  687,  688,  690,  694,  363, 1161,  737,  364,  680,
+
+      681,  683,  687,  688,  690,  694,  737,  364,  368,  368,
+      368,  368,  368,  368,  368,  368,  368,  371,  371,  371,
+      371,  371,  371,  371,  371,  371,  375,  375,  375,  375,
+      375,  375,  375,  375,  375,  743, 1160, 1159,  375,  375,
+      960,  960,  960, 1158,  743,  375,  375,  375,  377,  377,
+      377,  377,  377,  377,  377,  377,  377,  744, 1156, 1155,
+      377,  377,  973,  973,  973, 1154,  744,  377,  377,  377,
+      378,  695,  378,  378,  378,  378,  378,  378,  378,  378,
+      378,  378,  695, 1152,  378,  378,  980,  980,  980, 1151,
+     1150,  378,  378,  378,  384,  384,  384,  384,  384,  384,
+
+      384,  384,  384,  750, 1131, 1130,  384,  384,  987,  987,
+      987, 1129,  750,  384,  384,  384,  385,  697,  385,  385,
+      385,  385,  385,  385,  385,  385,  385,  385,  697, 1128,
+      385,  385,  994,  994,  994, 1118, 1117,  385,  385,  385,
+      391,  391,  391,  391,  391,  391,  391,  391,  391,  751,
+     1116, 1114,  391,  391, 1001, 1001, 1001, 1113,  751,  391,
+      391,  391,  392,  701,  392,  392,  392,  392,  392,  392,
+      392,  392,  392,  392,  701, 1112,  392,  392, 1007, 1007,
+     1007, 1007, 1106,  392,  392,  392,  398,  398,  398,  398,
+      398,  398,  398,  398,  398,  398,  402,  702,  402,  402,
+
+      402,  402,  402,  402,  402,  402,  402,  406,  702,  406,
+      406,  406,  406,  406,  406,  406,  406,  406,  410,  726,
+      410,  410,  410,  410,  410,  410,  410,  410,  410,  410,
+      726, 1104,  410,  410,  760, 1054, 1054, 1054, 1054,  410,
+      410,  410,  411,  760,  411,  411,  411,  411,  411,  411,
+      411,  411,  411,  411, 1103, 1102,  411,  411, 1074, 1074,
+     1074,  418,  781,  411,  411,  411,  412,  412,  412,  412,
+      412,  412,  418,  781,  761, 1079, 1079, 1079, 1107, 1107,
+     1107,  418,  419,  761,  419,  419,  419,  419,  419,  419,
+      419,  419,  419,  419, 1101, 1100,  419,  419,  763, 1111,
+
+     1111, 1111,  419,  419,  419,  419,  420,  763,  420,  420,
+      420,  420,  420,  420,  420,  420,  420,  420, 1099, 1098,
+      420,  420, 1115, 1115, 1115,  422,  420,  420,  420,  420,
+      421,  421,  421,  421,  421,  421,  422,  424,  772,  428,
+      786,  792,  799,  806,  813,  422, 1097,  772,  424, 1095,
+      428,  786,  792,  799,  806,  813, 1092,  424,  425,  428,
+      425,  425,  425,  425,  425,  425,  425,  425,  425,  425,
+     1089, 1086,  425,  425, 1120, 1120, 1120, 1083,  425,  425,
+      425,  425,  426,  820,  426,  426,  426,  426,  426,  426,
+      426,  426,  426,  426,  820, 1081,  426,  426, 1125, 1125,
+
+     1125,  429,  426,  426,  426,  426,  427,  427,  427,  427,
+      427,  427,  429,  431,  842,  435,  846,  847, 1076,  915,
+      856,  429,  863,  870,  431,  842,  435,  846,  847,  856,
+      915,  863,  870,  431,  432,  435,  432,  432,  432,  432,
+      432,  432,  432,  432,  432,  432, 1075, 1073,  432,  432,
+      877, 1127, 1127, 1127,  432,  432,  432,  432,  433,  877,
+      433,  433,  433,  433,  433,  433,  433,  433,  433,  433,
+     1070, 1069,  433,  433, 1143, 1143, 1143,  436,  433,  433,
+      433,  433,  434,  434,  434,  434,  434,  434,  436, 1149,
+     1149, 1149, 1153, 1153, 1153, 1067,  452,  436,  448,  448,
+
+      448,  448,  448,  448,  448,  448,  448,  452, 1066, 1065,
+      448,  448,  889, 1157, 1157, 1157,  452,  448,  448,  448,
+      449,  889,  449,  449,  449,  449,  449,  449,  449,  449,
+      449,  449, 1063, 1062,  449,  449, 1187, 1187, 1187, 1187,
+      449,  449,  449,  449,  461,  461,  461,  461,  461,  461,
+      461,  461,  461,  467,  919,  467,  467,  467,  467,  467,
+      467,  467,  467,  467,  467,  919, 1061,  467,  467,  890,
+     1222, 1222, 1222, 1222,  467,  467,  467,  468,  890,  468,
+      468,  468,  468,  468,  468,  468,  468,  468,  468, 1059,
+     1058,  468,  468, 1235, 1235, 1235, 1047,  922,  468,  468,
+
+      468,  469,  469,  469,  469,  469,  469,  473,  922,  473,
+      473,  473,  473,  473,  473,  473,  473,  473,  473, 1045,
+     1043,  473,  473,  891, 1257, 1257, 1257, 1041,  473,  473,
+      473,  474,  891,  474,  474,  474,  474,  474,  474,  474,
+      474,  474,  474, 1039, 1034,  474,  474, 1261, 1261, 1261,
+     1033,  925,  474,  474,  474,  475,  475,  475,  475,  475,
+      475,  480,  925,  480,  480,  480,  480,  480,  480,  480,
+      480,  480,  480, 1031, 1030,  480,  480,  900, 1265, 1265,
+     1265, 1022,  480,  480,  480,  481,  900,  481,  481,  481,
+      481,  481,  481,  481,  481,  481,  481, 1020, 1019,  481,
+
+      481, 1271, 1271, 1271, 1018,  928,  481,  481,  481,  482,
+      482,  482,  482,  482,  482,  487,  928,  487,  487,  487,
+      487,  487,  487,  487,  487,  487,  487, 1016, 1015,  487,
+      487,  902, 1279, 1279, 1279, 1010,  487,  487,  487,  488,
+      902,  488,  488,  488,  488,  488,  488,  488,  488,  488,
+      488, 1008, 1005,  488,  488, 1285, 1285, 1285, 1004, 1003,
+      488,  488,  488,  489,  489,  489,  489,  489,  489,  507,
+      507,  507,  507,  507,  507,  507,  507,  507,  969,  967,
+      962,  507,  507, 1289, 1289, 1289,  956,  969,  507,  507,
+      507,  508,  931,  508,  508,  508,  508,  508,  508,  508,
+
+      508,  508,  508,  931,  954,  508,  508, 1310, 1310, 1310,
+     1310,  953,  508,  508,  508,  514,  514,  514,  514,  514,
+      514,  514,  514,  514, 1340, 1340, 1340,  514,  514, 1332,
+     1332, 1332, 1332,  514,  514,  514,  514,  516,  516,  516,
+      516,  516,  516,  516,  516,  516,  975,  952,  951,  516,
+      516, 1354, 1354, 1354,  949,  975,  516,  516,  516,  517,
+      961,  517,  517,  517,  517,  517,  517,  517,  517,  517,
+      517,  961,  520,  517,  517,  963,  968, 1037, 1072,  517,
+      517,  517,  517,  520,  948,  947,  963,  968, 1037, 1072,
+      945,  527,  520,  523,  523,  523,  523,  523,  523,  523,
+
+      523,  523,  527,  944,  943,  523,  523,  976, 1358, 1358,
+     1358,  527,  523,  523,  523,  524,  976,  524,  524,  524,
+      524,  524,  524,  524,  524,  524,  524,  929,  926,  524,
+      524, 1363, 1363, 1363,  923,  524,  524,  524,  524,  530,
+      530,  530,  530,  530,  530,  530,  530,  530,  982,  920,
+      917,  530,  530,  983, 1371, 1371, 1371,  982,  530,  530,
+      530,  531,  983,  531,  531,  531,  531,  531,  531,  531,
+      531,  531,  531,  911,  534,  531,  531,  989,  990,  996,
+      997,  531,  531,  531,  531,  534,  989,  990,  996,  997,
+     1377, 1377, 1377,  910,  534,  537,  537,  537,  537,  537,
+
+      537,  537,  537,  537,  537,  908, 1011, 1390, 1390, 1390,
+     1390,  899,  898,  537,  541, 1011,  541,  541,  541,  541,
+      541,  541,  541,  541,  541,  545,  548,  545,  545,  545,
+      545,  545,  545,  545,  545,  545, 1012,  548,  897, 1014,
+     1406, 1406, 1406, 1406,  895, 1012,  548,  549, 1014,  549,
+      549,  549,  549,  549,  549,  549,  549,  549,  549,  894,
+      893,  549,  549, 1023, 1410, 1410, 1410,  549,  549,  549,
+      549,  550, 1023,  550,  550,  550,  550,  550,  550,  550,
+      550,  550,  550,  887,  885,  550,  550, 1424, 1424, 1424,
+      552,  550,  550,  550,  550,  551,  551,  551,  551,  551,
+
+      551,  552,  553, 1080,  884,  849, 1082, 1085, 1088, 1091,
+      552, 1094, 1108,  553, 1080, 1082, 1085, 1088, 1091,  848,
+     1094, 1108,  553,  558,  558,  558,  558,  558,  558,  558,
+      558,  558,  562,  562,  562,  562,  562,  562,  562,  562,
+      562, 1109,  841,  840,  562,  562, 1436, 1436, 1436,  838,
+     1109,  562,  562,  562,  564,  564,  564,  564,  564,  564,
+      564,  564,  564, 1110,  837,  836,  564,  564, 1119, 1483,
+     1483, 1483, 1110,  564,  564,  564,  565, 1119,  565,  565,
+      565,  565,  565,  565,  565,  565,  565,  565,  834,  833,
+      565,  565, 1450, 1450, 1450, 1450,  832,  565,  565,  565,
+
+      571,  571,  571,  571,  571,  571,  571,  571,  571, 1121,
+      830,  829,  571,  571, 1458, 1458, 1458, 1458, 1121,  571,
+      571,  571,  572, 1170,  572,  572,  572,  572,  572,  572,
+      572,  572,  572,  572, 1170,  815,  572,  572, 1464, 1464,
+     1464, 1464,  814,  572,  572,  572,  578,  578,  578,  578,
+      578,  578,  578,  578,  578, 1172,  808,  807,  578,  578,
+     1174, 1489, 1489, 1489, 1172,  578,  578,  578,  579, 1174,
+      579,  579,  579,  579,  579,  579,  579,  579,  579,  579,
+      801,  800,  579,  579, 1495, 1495, 1495, 1495,  794,  579,
+      579,  579,  585,  585,  585,  585,  585,  585,  585,  585,
+
+      585, 1176,  793,  787,  585,  585, 1178,  780,  771,  769,
+     1176,  585,  585,  585,  586, 1178,  586,  586,  586,  586,
+      586,  586,  586,  586,  586,  586,  768,  767,  586,  586,
+     1501, 1501, 1501, 1501,  765,  586,  586,  586,  591,  591,
+      591,  591,  591,  591,  591,  591,  591,  595,  595,  595,
+      595,  595,  595,  595,  595,  595,  595,  599,  764,  599,
+      599,  599,  599,  599,  599,  599,  599,  599,  603,  759,
+      603,  603,  603,  603,  603,  603,  603,  603,  603,  607,
+      757,  607,  607,  607,  607,  607,  607,  607,  607,  607,
+      607,  728,  727,  607,  607, 1180,  721,  719,  718,  717,
+
+      607,  607,  607,  608, 1180,  608,  608,  608,  608,  608,
+      608,  608,  608,  608,  608,  716,  714,  608,  608,  713,
+      712,  710,  615,  709,  608,  608,  608,  609,  609,  609,
+      609,  609,  609,  615,  708, 1191,  696,  689,  682,  675,
+      668,  667,  615,  616, 1191,  616,  616,  616,  616,  616,
+      616,  616,  616,  616,  616,  652,  651,  616,  616, 1192,
+      650,  648,  647,  616,  616,  616,  616,  617, 1192,  617,
+      617,  617,  617,  617,  617,  617,  617,  617,  617,  646,
+      614,  617,  617,  613,  612,  605,  619,  617,  617,  617,
+      617,  618,  618,  618,  618,  618,  618,  619,  621, 1194,
+
+      625, 1203,  604, 1258, 1259, 1260,  619, 1269, 1194,  621,
+     1203,  625, 1258, 1259, 1260,  602, 1269,  601,  621,  622,
+      625,  622,  622,  622,  622,  622,  622,  622,  622,  622,
+      622,  600,  598,  622,  622, 1314,  597,  596,  594,  622,
+      622,  622,  622,  623, 1314,  623,  623,  623,  623,  623,
+      623,  623,  623,  623,  623,  593,  584,  623,  623,  583,
+      577,  576,  626,  623,  623,  623,  623,  624,  624,  624,
+      624,  624,  624,  626,  628, 1315,  632, 1317,  570, 1355,
+     1356, 1357,  626, 1381, 1315,  628, 1317,  632, 1355, 1356,
+     1357,  569, 1381,  563,  628,  629,  632,  629,  629,  629,
+
+      629,  629,  629,  629,  629,  629,  629,  561,  560,  629,
+      629, 1382,  546,  544,  543,  629,  629,  629,  629,  630,
+     1382,  630,  630,  630,  630,  630,  630,  630,  630,  630,
+      630,  542,  540,  630,  630,  539,  513,  512,  633,  630,
+      630,  630,  630,  631,  631,  631,  631,  631,  631,  633,
+      635, 1384,  639, 1394,  506, 1395, 1397, 1411,  633, 1412,
+     1384,  635, 1394,  639, 1395, 1397, 1411,  504, 1412,  503,
+      635,  636,  639,  636,  636,  636,  636,  636,  636,  636,
+      636,  636,  636,  502,  501,  636,  636, 1413,  499,  498,
+      497,  636,  636,  636,  636,  637, 1413,  637,  637,  637,
+
+      637,  637,  637,  637,  637,  637,  637,  495,  494,  637,
+      637,  493,  485,  478,  640,  637,  637,  637,  637,  638,
+      638,  638,  638,  638,  638,  640,  471,  465,  464,  463,
+      444,  443,  442,  660,  640,  656,  656,  656,  656,  656,
+      656,  656,  656,  656,  660,  440,  439,  656,  656, 1425,
+      438,  417,  416,  660,  656,  656,  656,  657, 1425,  657,
+      657,  657,  657,  657,  657,  657,  657,  657,  657,  415,
+      408,  657,  657,  407,  405,  404,  403,  657,  657,  657,
+      657,  669,  669,  669,  669,  669,  669,  669,  669,  669,
+      669,  401,  400,  669,  669, 1426,  399,  397,  396,  390,
+
+      669,  669,  669,  671, 1426,  671,  671,  671,  671,  671,
+      671,  671,  671,  671,  671,  389,  383,  671,  671, 1427,
+      382,  376,  374,  373,  671,  671,  671,  672, 1427,  672,
+      672,  672,  672,  672,  672,  672,  672,  672,  672,  357,
+      355,  672,  672,  354,  353,  351,  350,  335,  672,  672,
+      672,  673,  673,  673,  673,  673,  673,  677,  334,  677,
+      677,  677,  677,  677,  677,  677,  677,  677,  677,  328,
+      326,  677,  677,  325,  324,  323,  321,  320,  677,  677,
+      677,  678,  319,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  311,  304,  678,  678,  298,  297,  296,
+
+      295,  294,  678,  678,  678,  679,  679,  679,  679,  679,
+      679,  684,  293,  684,  684,  684,  684,  684,  684,  684,
+      684,  684,  684,  279,  278,  684,  684,  277,  263,  262,
+      261,  254,  684,  684,  684,  685,  253,  685,  685,  685,
+      685,  685,  685,  685,  685,  685,  685,  251,  250,  685,
+      685,  249,  247,  246,  240,  239,  685,  685,  685,  686,
+      686,  686,  686,  686,  686,  691,  233,  691,  691,  691,
+      691,  691,  691,  691,  691,  691,  691,  231,  230,  691,
+      691,  229,  227,  226,  215,  213,  691,  691,  691,  692,
+      212,  692,  692,  692,  692,  692,  692,  692,  692,  692,
+
+      692,  204,  203,  692,  692,  197,  195,  194,  193,  192,
+      692,  692,  692,  693,  693,  693,  693,  693,  693,  698,
+      184,  698,  698,  698,  698,  698,  698,  698,  698,  698,
+      698,  178,  177,  698,  698,  176,  175,  174,  173,  158,
+      698,  698,  698,  699,  157,  699,  699,  699,  699,  699,
+      699,  699,  699,  699,  699,  156,  149,  699,  699,  148,
+      146,  145,  139,  137,  699,  699,  699,  700,  700,  700,
+      700,  700,  700,  705,  705,  705,  705,  705,  705,  705,
+      705,  705,  722,  722,  722,  722,  722,  722,  722,  722,
+      722,  136,  135,  134,  722,  722,  133,  131,  130,  127,
+
+      126,  722,  722,  722,  723,  119,  723,  723,  723,  723,
+      723,  723,  723,  723,  723,  723,  118,  112,  723,  723,
+      105,  104,  103,   91,   90,  723,  723,  723,  729,  729,
+      729,  729,  729,  729,  729,  729,  729,   88,   87,   81,
+      729,  729,   78,   70,   66,   62,  729,  729,  729,  729,
+      731,  731,  731,  731,  731,  731,  731,  731,  731,   61,
+       59,   57,  731,  731,   56,   54,   53,   51,   44,  731,
+      731,  731,  732,   39,  732,  732,  732,  732,  732,  732,
+      732,  732,  732,  732,   32,  735,  732,  732,   30,   29,
+       27,   26,  732,  732,  732,  732,  735,   24,   19,   12,
+
+        9,    5,    4,    3,  742,  735,  738,  738,  738,  738,
+      738,  738,  738,  738,  738,  742,    0,    0,  738,  738,
+        0,    0,    0,    0,  742,  738,  738,  738,  739,    0,
+      739,  739,  739,  739,  739,  739,  739,  739,  739,  739,
+        0,    0,  739,  739,    0,    0,    0,    0,  739,  739,
+      739,  739,  745,  745,  745,  745,  745,  745,  745,  745,
+      745,    0,    0,    0,  745,  745,    0,    0,    0,    0,
+        0,  745,  745,  745,  746,    0,  746,  746,  746,  746,
+      746,  746,  746,  746,  746,  746,    0,  749,  746,  746,
+        0,    0,    0,    0,  746,  746,  746,  746,  749,    0,
+
+        0,    0,    0,    0,    0,    0,  756,  749,  752,  752,
+      752,  752,  752,  752,  752,  752,  752,  756,    0,    0,
+      752,  752,    0,    0,    0,    0,  756,  752,  752,  752,
+      753,    0,  753,  753,  753,  753,  753,  753,  753,  753,
+      753,  753,    0,    0,  753,  753,    0,    0,    0,    0,
+      753,  753,  753,  753,  758,  758,  758,  758,  758,  758,
+      758,  758,  758,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,  758,  762,  762,  762,  762,  762,  762,  762,
+      762,  762,  762,    0,    0,    0,    0,    0,    0,    0,
+        0,  762,  766,    0,  766,  766,  766,  766,  766,  766,
+
+      766,  766,  766,  770,  773,  770,  770,  770,  770,  770,
+      770,  770,  770,  770,    0,  773,    0,    0,    0,    0,
+        0,    0,    0,    0,  773,  774,    0,  774,  774,  774,
+      774,  774,  774,  774,  774,  774,  774,    0,    0,  774,
+      774,    0,    0,    0,    0,  774,  774,  774,  774,  775,
+        0,  775,  775,  775,  775,  775,  775,  775,  775,  775,
+      775,    0,    0,  775,  775,    0,    0,    0,  777,  775,
+      775,  775,  775,  776,  776,  776,  776,  776,  776,  777,
+      778,    0,  851,    0,    0,    0,    0,    0,  777,    0,
+        0,  778,    0,  851,    0,    0,    0,    0,    0,    0,
+
+      778,  782,  851,  782,  782,  782,  782,  782,  782,  782,
+      782,  782,  782,    0,    0,  782,  782,    0,    0,    0,
+        0,    0,  782,  782,  782,  783,    0,  783,  783,  783,
+      783,  783,  783,  783,  783,  783,  783,    0,    0,  783,
+      783,    0,    0,    0,    0,    0,  783,  783,  783,  784,
+      784,  784,  784,  784,  784,  789,    0,  789,  789,  789,
+      789,  789,  789,  789,  789,  789,  789,    0,    0,  789,
+      789,    0,    0,    0,    0,    0,  789,  789,  789,  796,
+        0,  796,  796,  796,  796,  796,  796,  796,  796,  796,
+      796,    0,    0,  796,  796,    0,    0,    0,    0,    0,
+
+      796,  796,  796,  803,    0,  803,  803,  803,  803,  803,
+      803,  803,  803,  803,  803,    0,    0,  803,  803,    0,
+        0,    0,    0,    0,  803,  803,  803,  810,    0,  810,
+      810,  810,  810,  810,  810,  810,  810,  810,  810,    0,
+        0,  810,  810,    0,    0,    0,    0,    0,  810,  810,
+      810,  817,    0,  817,  817,  817,  817,  817,  817,  817,
+      817,  817,  817,    0,    0,  817,  817,    0,    0,    0,
+        0,    0,  817,  817,  817,  824,  824,  824,  824,  824,
+      824,  824,  824,  824,  827,  827,  827,  827,  827,  827,
+      827,  827,  827,  831,  831,  831,  831,  831,  831,  831,
+
+      831,  831,  831,  835,    0,  835,  835,  835,  835,  835,
+      835,  835,  835,  835,  839,    0,  839,  839,  839,  839,
+      839,  839,  839,  839,  839,  843,    0,  843,  843,  843,
+      843,  843,  843,  843,  843,  843,  843,    0,    0,  843,
+      843,    0,    0,    0,    0,    0,  843,  843,  843,  844,
+        0,  844,  844,  844,  844,  844,  844,  844,  844,  844,
+      844,    0,    0,  844,  844,    0,    0,    0,    0,    0,
+      844,  844,  844,  845,  845,  845,  845,  845,  845,  850,
+      850,  850,  850,  850,  850,  850,  850,  850,  850,    0,
+        0,  850,  850,    0,    0,    0,    0,    0,  850,  850,
+
+      850,  852,    0,  852,  852,  852,  852,  852,  852,  852,
+      852,  852,  852,    0,    0,  852,  852,    0,    0,    0,
+        0,  852,  852,  852,  852,  853,    0,  853,  853,  853,
+      853,  853,  853,  853,  853,  853,  853,    0,    0,  853,
+      853,    0,    0,    0,  855,  853,  853,  853,  853,  854,
+      854,  854,  854,  854,  854,  855,  857,    0,  861,    0,
+        0,    0,    0,    0,  855,    0,    0,  857,    0,  861,
+        0,    0,    0,    0,    0,    0,  857,  858,  861,  858,
+      858,  858,  858,  858,  858,  858,  858,  858,  858,    0,
+        0,  858,  858,    0,    0,    0,    0,  858,  858,  858,
+
+      858,  859,    0,  859,  859,  859,  859,  859,  859,  859,
+      859,  859,  859,    0,    0,  859,  859,    0,    0,    0,
+      862,  859,  859,  859,  859,  860,  860,  860,  860,  860,
+      860,  862,  864,    0,  868,    0,    0,    0,    0,    0,
+      862,    0,    0,  864,    0,  868,    0,    0,    0,    0,
+        0,    0,  864,  865,  868,  865,  865,  865,  865,  865,
+      865,  865,  865,  865,  865,    0,    0,  865,  865,    0,
+        0,    0,    0,  865,  865,  865,  865,  866,    0,  866,
+      866,  866,  866,  866,  866,  866,  866,  866,  866,    0,
+        0,  866,  866,    0,    0,    0,  869,  866,  866,  866,
+
+      866,  867,  867,  867,  867,  867,  867,  869,  871,    0,
+      875,    0,    0,    0,    0,    0,  869,    0,    0,  871,
+        0,  875,    0,    0,    0,    0,    0,    0,  871,  872,
+      875,  872,  872,  872,  872,  872,  872,  872,  872,  872,
+      872,    0,    0,  872,  872,    0,    0,    0,    0,  872,
+      872,  872,  872,  873,    0,  873,  873,  873,  873,  873,
+      873,  873,  873,  873,  873,    0,    0,  873,  873,    0,
+        0,    0,  876,  873,  873,  873,  873,  874,  874,  874,
+      874,  874,  874,  876,  878,    0,  882,    0,    0,    0,
+        0,    0,  876,    0,    0,  878,    0,  882,    0,    0,
+
+        0,    0,    0,    0,  878,  879,  882,  879,  879,  879,
+      879,  879,  879,  879,  879,  879,  879,    0,    0,  879,
+      879,    0,    0,    0,    0,  879,  879,  879,  879,  880,
+        0,  880,  880,  880,  880,  880,  880,  880,  880,  880,
+      880,    0,    0,  880,  880,    0,    0,    0,  883,  880,
+      880,  880,  880,  881,  881,  881,  881,  881,  881,  883,
+        0,    0,    0,    0,    0,    0,    0,    0,  883,  886,
+      886,  886,  886,  886,  886,  886,  886,  886,    0,    0,
+        0,    0,    0,    0,    0,    0,  907,  886,  903,  903,
+      903,  903,  903,  903,  903,  903,  903,  907,    0,    0,
+
+      903,  903,    0,    0,    0,    0,  907,  903,  903,  903,
+      904,    0,  904,  904,  904,  904,  904,  904,  904,  904,
+      904,  904,    0,    0,  904,  904,    0,    0,    0,    0,
+      904,  904,  904,  904,  912,    0,  912,  912,  912,  912,
+      912,  912,  912,  912,  912,  912,    0,    0,  912,  912,
+        0,    0,    0,    0,    0,  912,  912,  912,  940,  940,
+      940,  940,  940,  940,  940,  940,  940,  958,    0,  958,
+      958,  958,  958,  958,  958,  958,  958,  958,  958,    0,
+        0,  958,  958,    0,    0,    0,    0,    0,  958,  958,
+      958,  964,    0,  964,  964,  964,  964,  964,  964,  964,
+
+      964,  964,  964,    0,    0,  964,  964,    0,    0,    0,
+        0,    0,  964,  964,  964,  965,    0,  965,  965,  965,
+      965,  965,  965,  965,  965,  965,  965,    0,    0,  965,
+      965,    0,    0,    0,    0,    0,  965,  965,  965,  966,
+      966,  966,  966,  966,  966,  971,    0,  971,  971,  971,
+      971,  971,  971,  971,  971,  971,  971,    0,  974,  971,
+      971,    0,    0,    0,    0,  971,  971,  971,  971,  974,
+        0,    0,    0,    0,    0,    0,    0,    0,  974,  978,
+        0,  978,  978,  978,  978,  978,  978,  978,  978,  978,
+      978,    0,  981,  978,  978,    0,    0,    0,    0,  978,
+
+      978,  978,  978,  981,    0,    0,    0,    0,    0,    0,
+        0,    0,  981,  985,    0,  985,  985,  985,  985,  985,
+      985,  985,  985,  985,  985,    0,  988,  985,  985,    0,
+        0,    0,    0,  985,  985,  985,  985,  988,    0,    0,
+        0,    0,    0,    0,    0,    0,  988,  992,    0,  992,
+      992,  992,  992,  992,  992,  992,  992,  992,  992,    0,
+      995,  992,  992,    0,    0,    0,    0,  992,  992,  992,
+      992,  995,    0,    0,    0,    0,    0,    0,    0,    0,
+      995,  999,    0,  999,  999,  999,  999,  999,  999,  999,
+      999,  999,  999,    0, 1002,  999,  999,    0,    0,    0,
+
+        0,  999,  999,  999,  999, 1002,    0,    0,    0,    0,
+        0,    0,    0,    0, 1002, 1006, 1006, 1006, 1006, 1006,
+     1006, 1006, 1006, 1006,    0,    0,    0,    0,    0,    0,
+        0,    0,    0, 1006, 1009, 1009, 1009, 1009, 1009, 1009,
+     1009, 1009, 1009,    0,    0,    0,    0,    0,    0,    0,
+        0,    0, 1009, 1013, 1013, 1013, 1013, 1013, 1013, 1013,
+     1013, 1013, 1013,    0,    0,    0,    0,    0,    0,    0,
+        0, 1013, 1017,    0, 1017, 1017, 1017, 1017, 1017, 1017,
+     1017, 1017, 1017, 1021, 1024, 1021, 1021, 1021, 1021, 1021,
+     1021, 1021, 1021, 1021,    0, 1024,    0,    0,    0,    0,
+
+        0,    0,    0,    0, 1024, 1025,    0, 1025, 1025, 1025,
+     1025, 1025, 1025, 1025, 1025, 1025, 1025,    0,    0, 1025,
+     1025,    0,    0,    0,    0, 1025, 1025, 1025, 1025, 1026,
+        0, 1026, 1026, 1026, 1026, 1026, 1026, 1026, 1026, 1026,
+     1026,    0,    0, 1026, 1026,    0,    0,    0, 1028, 1026,
+     1026, 1026, 1026, 1027, 1027, 1027, 1027, 1027, 1027, 1028,
+     1029,    0, 1084,    0,    0,    0,    0,    0, 1028,    0,
+        0, 1029,    0, 1084,    0,    0,    0,    0,    0,    0,
+     1029, 1032, 1084, 1032, 1032, 1032, 1032, 1032, 1032, 1032,
+     1032, 1032, 1053, 1053, 1053, 1053, 1053, 1053, 1053, 1053,
+
+     1053, 1056, 1056, 1056, 1056, 1056, 1056, 1056, 1056, 1056,
+     1060, 1060, 1060, 1060, 1060, 1060, 1060, 1060, 1060, 1060,
+     1064,    0, 1064, 1064, 1064, 1064, 1064, 1064, 1064, 1064,
+     1064, 1068,    0, 1068, 1068, 1068, 1068, 1068, 1068, 1068,
+     1068, 1068, 1077,    0, 1077, 1077, 1077, 1077, 1077, 1077,
+     1077, 1077, 1077, 1077,    0, 1087, 1077, 1077, 1090, 1093,
+     1096,    0,    0, 1077, 1077, 1077, 1087,    0,    0, 1090,
+     1093, 1096,    0,    0,    0, 1087,    0,    0, 1090, 1093,
+     1096, 1105, 1105, 1105, 1105, 1105, 1105, 1105, 1105, 1105,
+        0,    0,    0,    0,    0,    0,    0,    0,    0, 1105,
+
+     1123,    0, 1123, 1123, 1123, 1123, 1123, 1123, 1123, 1123,
+     1123, 1123,    0, 1126, 1123, 1123,    0,    0,    0,    0,
+     1123, 1123, 1123, 1123, 1126,    0,    0,    0,    0,    0,
+        0,    0,    0, 1126, 1147, 1147, 1147, 1147, 1147, 1147,
+     1147, 1147, 1147, 1165,    0, 1165, 1165, 1165, 1165, 1165,
+     1165, 1165, 1165, 1165, 1186, 1186, 1186, 1186, 1186, 1186,
+     1186, 1186, 1186,    0,    0,    0,    0,    0,    0,    0,
+        0,    0, 1186, 1189, 1189, 1189, 1189, 1189, 1189, 1189,
+     1189, 1189,    0,    0,    0,    0,    0,    0,    0,    0,
+        0, 1189, 1193, 1193, 1193, 1193, 1193, 1193, 1193, 1193,
+
+     1193, 1193,    0,    0,    0,    0,    0,    0,    0,    0,
+     1193, 1197,    0, 1197, 1197, 1197, 1197, 1197, 1197, 1197,
+     1197, 1197, 1201, 1205, 1201, 1201, 1201, 1201, 1201, 1201,
+     1201, 1201, 1201,    0, 1205,    0,    0,    0,    0,    0,
+        0,    0,    0, 1205, 1208,    0, 1208, 1208, 1208, 1208,
+     1208, 1208, 1208, 1208, 1208, 1221, 1221, 1221, 1221, 1221,
+     1221, 1221, 1221, 1221, 1224, 1224, 1224, 1224, 1224, 1224,
+     1224, 1224, 1224, 1228, 1228, 1228, 1228, 1228, 1228, 1228,
+     1228, 1228, 1228, 1232,    0, 1232, 1232, 1232, 1232, 1232,
+     1232, 1232, 1232, 1232, 1255, 1255, 1255, 1255, 1255, 1255,
+
+     1255, 1255, 1255,    0,    0,    0,    0,    0,    0,    0,
+        0,    0, 1255, 1283, 1283, 1283, 1283, 1283, 1283, 1283,
+     1283, 1283, 1296,    0, 1296, 1296, 1296, 1296, 1296, 1296,
+     1296, 1296, 1296, 1309, 1309, 1309, 1309, 1309, 1309, 1309,
+     1309, 1309,    0,    0,    0,    0,    0,    0,    0,    0,
+        0, 1309, 1312, 1312, 1312, 1312, 1312, 1312, 1312, 1312,
+     1312,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+     1312, 1316, 1316, 1316, 1316, 1316, 1316, 1316, 1316, 1316,
+     1316,    0,    0,    0,    0,    0,    0,    0,    0, 1316,
+     1320,    0, 1320, 1320, 1320, 1320, 1320, 1320, 1320, 1320,
+
+     1320, 1325, 1325, 1325, 1325, 1325, 1325, 1325, 1325, 1325,
+     1325, 1331, 1331, 1331, 1331, 1331, 1331, 1331, 1331, 1331,
+     1334, 1334, 1334, 1334, 1334, 1334, 1334, 1334, 1334, 1338,
+     1338, 1338, 1338, 1338, 1338, 1338, 1338, 1338, 1338, 1352,
+     1352, 1352, 1352, 1352, 1352, 1352, 1352, 1352,    0,    0,
+        0,    0,    0,    0,    0,    0,    0, 1352, 1375, 1375,
+     1375, 1375, 1375, 1375, 1375, 1375, 1375, 1383, 1383, 1383,
+     1383, 1383, 1383, 1383, 1383, 1383, 1383,    0,    0,    0,
+        0,    0,    0,    0,    0, 1383, 1389, 1389, 1389, 1389,
+     1389, 1389, 1389, 1389, 1389,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0, 1389, 1392, 1392, 1392, 1392, 1392,
+     1392, 1392, 1392, 1392,    0,    0,    0,    0,    0,    0,
+        0,    0,    0, 1392, 1396, 1396, 1396, 1396, 1396, 1396,
+     1396, 1396, 1396, 1396,    0,    0,    0,    0,    0,    0,
+        0,    0, 1396, 1399, 1399, 1399, 1399, 1399, 1399, 1399,
+     1399, 1399, 1405, 1405, 1405, 1405, 1405, 1405, 1405, 1405,
+     1405, 1408, 1408, 1408, 1408, 1408, 1408, 1408, 1408, 1408,
+     1422, 1422, 1422, 1422, 1422, 1422, 1422, 1422, 1422,    0,
+        0,    0,    0,    0,    0,    0,    0,    0, 1422, 1430,
+     1430, 1430, 1430, 1430, 1430, 1430, 1430, 1430, 1440, 1440,
+
+     1440, 1440, 1440, 1440, 1440, 1440, 1440, 1443, 1443, 1443,
+     1443, 1443, 1443, 1443, 1443, 1443,    0,    0,    0,    0,
+        0,    0,    0,    0,    0, 1443, 1449, 1449, 1449, 1449,
+     1449, 1449, 1449, 1449, 1449,    0,    0,    0,    0,    0,
+        0,    0,    0,    0, 1449, 1452, 1452, 1452, 1452, 1452,
+     1452, 1452, 1452, 1452,    0,    0,    0,    0,    0,    0,
+        0,    0,    0, 1452, 1457, 1457, 1457, 1457, 1457, 1457,
+     1457, 1457, 1457, 1463, 1463, 1463, 1463, 1463, 1463, 1463,
+     1463, 1463, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467,
+     1467,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+     1467, 1477, 1477, 1477, 1477, 1477, 1477, 1477, 1477, 1477,
+        0,    0,    0,    0,    0,    0,    0,    0,    0, 1477,
+     1494, 1494, 1494, 1494, 1494, 1494, 1494, 1494, 1494,    0,
+        0,    0,    0,    0,    0,    0,    0,    0, 1494, 1500,
+     1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500,    0,    0,
+        0,    0,    0,    0,    0,    0,    0, 1500, 1519, 1519,
+     1519, 1519, 1519, 1519, 1519, 1519, 1519, 1519, 1519, 1520,
+     1520, 1520, 1520, 1520, 1520, 1520, 1520, 1520, 1520, 1520,
+     1521,    0, 1521, 1521, 1521, 1521, 1521, 1521, 1521, 1521,
+     1521, 1522, 1522, 1522, 1522, 1523, 1523, 1523, 1524, 1524,
+
+     1524,    0, 1524, 1524, 1524, 1525, 1525, 1525, 1525, 1525,
+     1525, 1526, 1526, 1526, 1526, 1526, 1526, 1526, 1526, 1526,
+     1526, 1526, 1527, 1527, 1527, 1527, 1527, 1527, 1527, 1527,
+     1527, 1527, 1527, 1528, 1528, 1528, 1529, 1529, 1529, 1529,
+     1529, 1529, 1530, 1530, 1530, 1530, 1530, 1530, 1531, 1531,
+     1531, 1531, 1531, 1531, 1531, 1531, 1531, 1531, 1531, 1532,
+     1532, 1532, 1532,    0,    0, 1532, 1533, 1533, 1533, 1533,
+     1533, 1533, 1534, 1534, 1534, 1534, 1534, 1534, 1534, 1535,
+     1535, 1535, 1535, 1535, 1535, 1536, 1536, 1536, 1536, 1536,
+     1536, 1537, 1537, 1537, 1538, 1538, 1538, 1539, 1539, 1539,
+
+     1539, 1539, 1539, 1540, 1540, 1540, 1540, 1540, 1540, 1541,
+     1541, 1541, 1541, 1541, 1541, 1541, 1542, 1542, 1542, 1543,
+     1543, 1543, 1543, 1543, 1543, 1544, 1544, 1544, 1544, 1544,
+     1544, 1545, 1545, 1545, 1545, 1545, 1545, 1546, 1546, 1546,
+     1546, 1546, 1546, 1546,    0, 1546, 1547, 1547, 1547, 1547,
+     1548, 1548, 1548, 1548, 1549, 1549, 1549, 1549, 1549, 1549,
+     1550, 1550, 1550, 1550, 1550, 1550, 1551, 1551, 1551, 1551,
+     1551, 1551, 1552, 1552, 1552, 1552, 1553, 1553, 1553, 1553,
+     1554, 1554, 1554, 1554, 1554, 1554, 1555, 1555, 1555, 1555,
+     1555, 1555, 1555, 1556, 1556, 1556, 1556, 1556, 1556, 1557,
+
+     1557, 1557, 1557, 1557, 1557, 1558, 1558, 1558, 1558, 1558,
+     1558, 1558,    0, 1558, 1559, 1559, 1559, 1560, 1560, 1560,
+     1560, 1560, 1560,    0, 1560, 1561, 1561, 1562, 1562, 1562,
+     1563, 1563, 1563, 1564, 1564, 1564, 1564, 1564, 1564, 1565,
+     1565, 1565, 1565, 1565, 1565, 1566, 1566, 1566, 1566, 1566,
+     1566, 1566, 1567, 1567, 1567, 1567, 1567, 1567, 1568, 1568,
+     1568, 1568, 1568, 1568, 1568, 1569, 1569, 1569, 1570, 1570,
+     1570, 1571, 1571, 1571, 1572, 1572, 1572, 1572, 1572, 1572,
+     1573, 1573, 1573, 1573, 1573, 1573, 1574, 1574, 1574, 1574,
+     1574, 1574, 1575, 1575, 1575, 1575, 1575, 1575,    0, 1575,
+
+     1576, 1576, 1576, 1576, 1577, 1577, 1577, 1577, 1578, 1578,
+     1578, 1578, 1578, 1578,    0, 1578, 1579, 1579, 1579, 1579,
+     1579, 1579, 1579,    0, 1579, 1580, 1580, 1580, 1581, 1581,
+     1581, 1582, 1582, 1582, 1582, 1583, 1583, 1583, 1583, 1584,
+     1584, 1584, 1584, 1584, 1584, 1585, 1585, 1585, 1585, 1585,
+     1585, 1586, 1586, 1586, 1586, 1586, 1586, 1587, 1587, 1587,
+     1587, 1587, 1587, 1588, 1588, 1588, 1588, 1589, 1589, 1589,
+     1589, 1590, 1590, 1590, 1590, 1591, 1591, 1591, 1591, 1592,
+     1592, 1592, 1592, 1592, 1592, 1593, 1593, 1593, 1593, 1593,
+     1593, 1593, 1594, 1594, 1594, 1594, 1594, 1594, 1595, 1595,
+
+     1595, 1595, 1595, 1595, 1596, 1596, 1596, 1596, 1596, 1596,
+     1596,    0, 1596, 1597, 1597, 1597, 1597, 1597, 1597,    0,
+     1597, 1598, 1598, 1598, 1598, 1598, 1598, 1598,    0, 1598,
+     1599, 1599, 1599, 1600, 1600, 1600, 1601, 1601, 1601, 1602,
+     1602, 1602, 1602, 1602, 1602,    0, 1602, 1603, 1603, 1603,
+     1604, 1604, 1604, 1605, 1605, 1605, 1606, 1606, 1607, 1607,
+        0, 1607, 1608, 1608, 1608, 1608, 1608, 1608, 1609, 1609,
+     1609, 1609, 1609, 1609, 1610, 1610, 1610, 1610, 1610, 1610,
+     1610, 1611, 1611, 1611, 1611, 1611, 1611, 1612, 1612, 1612,
+     1612, 1612, 1612, 1612, 1613, 1613, 1613, 1613, 1613, 1613,
+
+     1614, 1614, 1614, 1614, 1614, 1614, 1614, 1615, 1615, 1615,
+     1616, 1616, 1616, 1616, 1617, 1617, 1617, 1618, 1618, 1618,
+     1619, 1619, 1619, 1619, 1620, 1620, 1620, 1621, 1621, 1621,
+     1622, 1622, 1622, 1622, 1622, 1622, 1623, 1623, 1623, 1623,
+     1623, 1623, 1624, 1624, 1624, 1624, 1624, 1624, 1625, 1625,
+     1625, 1625, 1625, 1625,    0, 1625, 1626, 1626, 1626, 1626,
+     1626, 1626,    0, 1626, 1627, 1627, 1627, 1627, 1628, 1628,
+     1628, 1628, 1629, 1629, 1629, 1629, 1630, 1630, 1630, 1630,
+     1631, 1631, 1631, 1631, 1631, 1631,    0, 1631, 1632, 1632,
+     1632, 1632, 1632, 1632, 1632,    0, 1632, 1633, 1633, 1633,
+
+     1634, 1634, 1634, 1635, 1635, 1635, 1636, 1636, 1636, 1637,
+     1637, 1637, 1638, 1638, 1638, 1638, 1638, 1638, 1639, 1639,
+     1639, 1639, 1639, 1639, 1640, 1640, 1640, 1640, 1640, 1640,
+     1641, 1641, 1641, 1641, 1641, 1641, 1642, 1642, 1642, 1642,
+     1642, 1642, 1643, 1643, 1643, 1643, 1644, 1644, 1644, 1644,
+     1645, 1645, 1645, 1645, 1646, 1646, 1646, 1646, 1647, 1647,
+     1647, 1647, 1648, 1648, 1648, 1648, 1649, 1649, 1649, 1649,
+     1649, 1649, 1650, 1650, 1650, 1650, 1650, 1650, 1650, 1651,
+     1651, 1651, 1651, 1651, 1651, 1652, 1652, 1652, 1652, 1652,
+     1652, 1653, 1653, 1653, 1653, 1653, 1653, 1653,    0, 1653,
+
+     1654, 1654, 1654, 1654, 1654, 1654,    0, 1654, 1655, 1655,
+     1655, 1655, 1655, 1655, 1655,    0, 1655, 1656, 1656, 1656,
+     1656, 1656, 1656,    0, 1656, 1657, 1657, 1657, 1657, 1657,
+     1657, 1657,    0, 1657, 1658, 1658, 1658, 1659, 1659, 1659,
+     1659, 1660, 1660, 1660, 1661, 1661, 1661, 1662, 1662, 1662,
+     1662, 1663, 1663, 1663, 1664, 1664, 1664, 1665, 1665, 1665,
+     1665, 1665, 1665,    0, 1665, 1666, 1666, 1666, 1667, 1667,
+     1667, 1668, 1668, 1668, 1669, 1669, 1669, 1670, 1670, 1670,
+     1670, 1670, 1670, 1671, 1671, 1671, 1671, 1671, 1671, 1672,
+     1672, 1672, 1672, 1672, 1672, 1672, 1673, 1673, 1673, 1673,
+
+     1673, 1673, 1674, 1674, 1674, 1674, 1674, 1674, 1674, 1675,
+     1675, 1675, 1675, 1675, 1675, 1676, 1676, 1676, 1676, 1676,
+     1676, 1676, 1677, 1677, 1677, 1677, 1677, 1677, 1678, 1678,
+     1678, 1678, 1678, 1678, 1678, 1679, 1679, 1680, 1680, 1680,
+     1680, 1681, 1681,    0, 1681, 1682, 1682, 1682, 1683, 1683,
+     1683, 1683, 1684, 1684, 1684, 1685, 1685, 1685, 1686, 1686,
+     1686, 1686, 1687, 1687, 1687, 1688, 1688, 1688, 1689, 1689,
+     1689, 1689, 1689, 1689, 1690, 1690, 1690, 1690, 1690, 1690,
+     1691, 1691, 1691, 1691, 1691, 1691, 1692, 1692, 1692, 1692,
+     1692, 1692,    0, 1692, 1693, 1693, 1693, 1693, 1693, 1693,
+
+        0, 1693, 1694, 1694, 1694, 1694, 1694, 1694,    0, 1694,
+     1695, 1695, 1695, 1695,    0,    0,    0, 1695, 1696, 1696,
+     1696, 1696,    0,    0,    0, 1696, 1697, 1697, 1697, 1697,
+     1698, 1698, 1698, 1698, 1699, 1699, 1699, 1699, 1700, 1700,
+     1700, 1700, 1701, 1701, 1701, 1701, 1701, 1701,    0, 1701,
+     1702, 1702, 1702, 1702, 1702, 1702, 1702,    0, 1702, 1703,
+     1703, 1703, 1704, 1704, 1704, 1705, 1705, 1705, 1706, 1706,
+     1706, 1706, 1706, 1706, 1707, 1707, 1707, 1707, 1707, 1707,
+     1708, 1708, 1708, 1708, 1708, 1708, 1709, 1709, 1709, 1709,
+     1709, 1709, 1710, 1710, 1710, 1710, 1710, 1710, 1711, 1711,
+
+     1711, 1711, 1711, 1711, 1712, 1712, 1712, 1713, 1713, 1713,
+     1714, 1714, 1714, 1714, 1715, 1715, 1715, 1715, 1716, 1716,
+     1716, 1716, 1717, 1717, 1717, 1717, 1718, 1718, 1718, 1718,
+     1719, 1719, 1719, 1719, 1720, 1720, 1720, 1720, 1720, 1720,
+     1721, 1721, 1721, 1721, 1721, 1721, 1721, 1722, 1722, 1722,
+     1722, 1722, 1722, 1723, 1723, 1723, 1723, 1723, 1723, 1724,
+     1724, 1724, 1724, 1724, 1724, 1724,    0, 1724, 1725, 1725,
+     1725, 1725, 1725, 1725,    0, 1725, 1726, 1726, 1726, 1726,
+     1726, 1726, 1726,    0, 1726, 1727, 1727, 1727, 1727, 1727,
+     1727,    0, 1727, 1728, 1728, 1728, 1728, 1728, 1728, 1728,
+
+        0, 1728, 1729, 1729, 1729, 1729, 1729, 1729,    0, 1729,
+     1730, 1730, 1730, 1730, 1730, 1730, 1730,    0, 1730, 1731,
+     1731, 1732, 1732, 1732, 1732,    0,    0,    0, 1732, 1733,
+     1733,    0, 1733,    0,    0,    0, 1733, 1734, 1734, 1734,
+     1735, 1735, 1735, 1735, 1736, 1736, 1736, 1737, 1737, 1737,
+     1738, 1738, 1738, 1738, 1739, 1739, 1739, 1740, 1740, 1740,
+     1741, 1741, 1741, 1741, 1741, 1741,    0, 1741, 1742, 1742,
+     1742, 1743, 1743, 1743, 1743, 1743, 1743, 1744, 1744, 1744,
+     1744, 1744, 1744, 1744, 1745, 1745, 1745, 1745, 1745, 1745,
+     1746, 1746, 1746, 1746, 1746, 1746, 1746, 1747, 1747, 1747,
+
+     1747, 1747, 1747, 1748, 1748, 1748, 1748, 1748, 1748, 1748,
+     1749, 1749, 1749, 1749, 1749, 1749, 1750, 1750, 1750, 1750,
+     1750, 1750, 1750, 1751, 1751, 1751, 1751, 1751, 1751, 1752,
+     1752, 1752, 1752, 1752, 1752, 1752, 1753, 1753, 1753, 1754,
+     1754, 1754, 1755, 1755, 1755, 1756, 1756, 1757, 1757, 1757,
+     1757, 1758, 1758,    0, 1758, 1759, 1759, 1759, 1760, 1760,
+     1760, 1760, 1761, 1761, 1761, 1762, 1762, 1762, 1763, 1763,
+     1763, 1763, 1764, 1764, 1764, 1765, 1765, 1765, 1766, 1766,
+     1766, 1766, 1766, 1766, 1767, 1767, 1767, 1767, 1767, 1767,
+     1768, 1768, 1768, 1768, 1768, 1768, 1769, 1769, 1769, 1769,
+
+     1769, 1769,    0, 1769, 1770, 1770, 1770, 1770, 1770, 1770,
+        0, 1770, 1771, 1771, 1771, 1771, 1771, 1771,    0, 1771,
+     1772, 1772, 1772, 1772, 1772, 1772,    0, 1772, 1773, 1773,
+     1773,    0,    0,    0,    0, 1773, 1774, 1774, 1774,    0,
+        0,    0,    0, 1774, 1775, 1775, 1775, 1775,    0,    0,
+        0, 1775, 1776, 1776, 1776, 1776,    0,    0,    0, 1776,
+     1777, 1777, 1777, 1777, 1778, 1778, 1778, 1778, 1779, 1779,
+     1779, 1779, 1780, 1780, 1780, 1780, 1781, 1781, 1781, 1781,
+     1781, 1781,    0, 1781, 1782, 1782, 1782, 1782, 1782, 1782,
+     1782,    0, 1782, 1783, 1783, 1783, 1783, 1783, 1783, 1784,
+
+     1784, 1784, 1784, 1784, 1784, 1784, 1785, 1785, 1785,    0,
+     1785, 1785, 1786, 1786, 1786, 1786, 1786, 1786, 1787, 1787,
+     1787,    0, 1787, 1787, 1788, 1788, 1788, 1788, 1788, 1788,
+     1789, 1789, 1789,    0, 1789, 1789, 1790, 1790, 1790, 1790,
+     1790, 1790, 1791, 1791, 1791,    0, 1791, 1791, 1792, 1792,
+     1792, 1792, 1792, 1792, 1793, 1793, 1793,    0, 1793, 1793,
+     1794, 1794, 1794, 1794, 1794, 1794, 1795, 1795, 1795,    0,
+     1795, 1795, 1796, 1796, 1796, 1797, 1797, 1797, 1798, 1798,
+     1798, 1799, 1799, 1799, 1800, 1800, 1800, 1801, 1801, 1801,
+     1801, 1802, 1802, 1802, 1802, 1803, 1803, 1803, 1803, 1804,
+
+     1804, 1804, 1804, 1805, 1805, 1805, 1805, 1806, 1806, 1806,
+     1806, 1807, 1807, 1807, 1807, 1807, 1807, 1808, 1808, 1808,
+     1808, 1808, 1808, 1808, 1809, 1809, 1809, 1809, 1809, 1809,
+     1810, 1810, 1810, 1810, 1810, 1810, 1810,    0, 1810, 1811,
+     1811, 1811, 1811, 1811, 1811,    0, 1811, 1812, 1812, 1812,
+     1812, 1812, 1812, 1812,    0, 1812, 1813, 1813, 1813, 1813,
+     1813, 1813,    0, 1813, 1814, 1814, 1814, 1814, 1814, 1814,
+     1814,    0, 1814, 1815, 1815, 1815, 1815, 1815, 1815,    0,
+     1815, 1816, 1816, 1816, 1816, 1816, 1816, 1816,    0, 1816,
+     1817, 1817, 1817, 1817, 1817, 1817,    0, 1817, 1818, 1818,
+
+     1818, 1818, 1818, 1818, 1818,    0, 1818, 1819, 1819, 1819,
+        0,    0,    0,    0, 1819, 1820, 1820, 1820,    0,    0,
+        0,    0, 1820, 1821, 1821, 1821,    0,    0,    0,    0,
+     1821, 1822, 1822, 1823, 1823, 1823, 1823,    0,    0,    0,
+     1823, 1824, 1824,    0, 1824,    0,    0,    0, 1824, 1825,
+     1825, 1825, 1826, 1826, 1826, 1826, 1827, 1827, 1827, 1828,
+     1828, 1828, 1829, 1829, 1829, 1829, 1830, 1830, 1830, 1831,
+     1831, 1831, 1832, 1832, 1832, 1832, 1832, 1832,    0, 1832,
+     1833, 1833, 1833, 1834, 1834, 1834, 1834, 1834, 1834, 1835,
+     1835, 1835, 1835, 1835, 1835, 1836, 1836, 1836,    0, 1836,
+
+     1836, 1837, 1837, 1837, 1837, 1837, 1837, 1838, 1838, 1838,
+        0, 1838, 1838, 1839, 1839, 1839, 1839, 1839, 1839, 1840,
+     1840, 1840,    0, 1840, 1840, 1841, 1841, 1841, 1841, 1841,
+     1841, 1842, 1842, 1842,    0, 1842, 1842, 1843, 1843, 1843,
+     1843, 1843, 1843, 1844, 1844, 1844,    0, 1844, 1844, 1845,
+     1845, 1845, 1845, 1845, 1845, 1846, 1846, 1846,    0, 1846,
+     1846, 1847, 1847, 1847, 1848, 1848, 1848, 1849, 1849, 1849,
+     1850, 1850, 1850, 1851, 1851, 1852, 1852, 1852, 1852, 1853,
+     1853,    0, 1853, 1854, 1854, 1854, 1855, 1855, 1855, 1855,
+     1856, 1856, 1856, 1857, 1857, 1857, 1858, 1858, 1858, 1858,
+
+     1859, 1859, 1859, 1860, 1860, 1860, 1861, 1861, 1861, 1861,
+     1861, 1861, 1862, 1862, 1862,    0, 1862, 1862, 1863, 1863,
+     1863, 1863, 1863, 1863, 1864, 1864, 1864, 1864, 1864, 1864,
+     1864, 1865, 1865, 1865,    0, 1865, 1865,    0, 1865, 1866,
+     1866, 1866, 1866, 1866, 1866,    0, 1866, 1867, 1867, 1867,
+        0, 1867, 1867, 1868, 1868, 1868, 1868, 1868, 1868,    0,
+     1868, 1869, 1869, 1869,    0, 1869, 1869, 1870, 1870, 1870,
+     1870, 1870, 1870,    0, 1870, 1871, 1871, 1871,    0, 1871,
+     1871, 1872, 1872, 1872, 1872, 1872, 1872,    0, 1872, 1873,
+     1873, 1873,    0, 1873, 1873, 1874, 1874, 1874, 1874, 1874,
+
+     1874,    0, 1874, 1875, 1875, 1875,    0, 1875, 1875, 1876,
+     1876, 1876,    0,    0,    0,    0, 1876, 1877, 1877, 1877,
+        0,    0,    0,    0, 1877, 1878, 1878, 1878,    0,    0,
+        0,    0, 1878, 1879, 1879, 1879,    0,    0,    0,    0,
+     1879, 1880, 1880, 1880,    0,    0,    0,    0, 1880, 1881,
+     1881, 1881, 1881,    0,    0,    0, 1881, 1882, 1882, 1882,
+     1882,    0,    0,    0, 1882, 1883, 1883, 1883, 1883, 1884,
+     1884, 1884, 1884, 1885, 1885, 1885, 1885, 1886, 1886, 1886,
+     1886, 1887, 1887, 1887, 1887, 1887, 1887,    0, 1887, 1888,
+     1888, 1888, 1888, 1888, 1888, 1888,    0, 1888, 1889, 1889,
+
+     1889, 1889, 1890, 1890, 1890, 1890, 1891, 1891, 1891, 1891,
+     1891, 1891, 1892, 1892, 1892,    0, 1892, 1892, 1893, 1893,
+     1893,    0, 1893, 1893, 1894, 1894, 1894,    0, 1894, 1894,
+     1895, 1895, 1895,    0, 1895, 1895, 1896, 1896, 1896,    0,
+     1896, 1896, 1897, 1897, 1897,    0, 1897, 1897, 1898, 1898,
+     1898,    0, 1898, 1898, 1899, 1899, 1899, 1900, 1900, 1900,
+     1901, 1901, 1901, 1902, 1902, 1902, 1903, 1903, 1903, 1904,
+     1904, 1904, 1904, 1905, 1905, 1905, 1905, 1906, 1906, 1906,
+     1906, 1907, 1907, 1907, 1907, 1908, 1908, 1908, 1908, 1909,
+     1909, 1909, 1909, 1910, 1910, 1910, 1910, 1910, 1910, 1911,
+
+     1911, 1911,    0, 1911, 1911, 1912, 1912, 1912, 1913, 1913,
+     1913, 1913, 1913, 1913, 1914, 1914, 1914, 1914, 1914, 1914,
+     1915, 1915, 1915,    0, 1915, 1915,    0, 1915, 1916, 1916,
+     1916, 1916, 1916, 1916,    0, 1916, 1917, 1917, 1917,    0,
+     1917, 1917,    0, 1917, 1918, 1918, 1918, 1918, 1918, 1918,
+        0, 1918, 1919, 1919, 1919,    0, 1919, 1919,    0, 1919,
+     1920, 1920, 1920, 1920, 1920, 1920,    0, 1920, 1921, 1921,
+     1921,    0, 1921, 1921,    0, 1921, 1922, 1922, 1922, 1922,
+     1922, 1922,    0, 1922, 1923, 1923, 1923,    0, 1923, 1923,
+        0, 1923, 1924, 1924, 1924, 1924, 1924, 1924,    0, 1924,
+
+     1925, 1925, 1925,    0, 1925, 1925,    0, 1925, 1926, 1926,
+     1926,    0,    0,    0,    0, 1926, 1927, 1927,    0,    0,
+        0,    0,    0, 1927, 1928, 1928, 1928,    0,    0,    0,
+        0, 1928, 1929, 1929, 1929,    0,    0,    0,    0, 1929,
+     1930, 1930, 1930,    0,    0,    0,    0, 1930, 1931, 1931,
+     1932, 1932, 1932, 1932,    0,    0,    0, 1932, 1933, 1933,
+        0, 1933,    0,    0,    0, 1933, 1934, 1934, 1934, 1935,
+     1935, 1935, 1935, 1936, 1936, 1936, 1937, 1937, 1937, 1938,
+     1938, 1938, 1938, 1939, 1939, 1939, 1940, 1940, 1940, 1941,
+     1941, 1941, 1941, 1941, 1941,    0, 1941, 1942, 1942, 1942,
+
+        0, 1942, 1942, 1943, 1943, 1943, 1944, 1944, 1944, 1944,
+     1945, 1945, 1945, 1946, 1946, 1946,    0, 1946, 1946, 1947,
+     1947, 1947,    0, 1947, 1947, 1948, 1948, 1948,    0, 1948,
+     1948, 1949, 1949, 1949,    0, 1949, 1949, 1950, 1950, 1950,
+        0, 1950, 1950, 1951, 1951, 1951,    0, 1951, 1951, 1952,
+     1952, 1952,    0, 1952, 1952, 1953, 1953, 1953, 1954, 1954,
+     1954, 1955, 1955, 1955, 1956, 1956, 1956, 1957, 1957, 1958,
+     1958, 1958, 1958, 1959, 1959,    0, 1959, 1960, 1960, 1960,
+     1961, 1961, 1961, 1961, 1962, 1962, 1962, 1963, 1963, 1963,
+     1964, 1964, 1964, 1964, 1965, 1965, 1965, 1966, 1966, 1966,
+
+        0, 1966, 1966, 1967, 1967, 1967, 1967, 1968, 1968, 1968,
+     1968, 1969, 1969, 1969, 1969, 1969, 1969, 1970, 1970, 1970,
+        0, 1970, 1970,    0, 1970, 1971, 1971, 1971,    0, 1971,
+     1971,    0, 1971, 1972, 1972, 1972,    0, 1972, 1972,    0,
+     1972, 1973, 1973, 1973,    0, 1973, 1973,    0, 1973, 1974,
+     1974, 1974,    0, 1974, 1974,    0, 1974, 1975, 1975, 1975,
+        0, 1975, 1975,    0, 1975, 1976, 1976, 1976,    0, 1976,
+     1976,    0, 1976, 1977, 1977, 1977,    0,    0,    0,    0,
+     1977, 1978, 1978, 1978,    0,    0,    0,    0, 1978, 1979,
+     1979, 1979,    0,    0,    0,    0, 1979, 1980, 1980, 1980,
+
+        0,    0,    0,    0, 1980, 1981, 1981, 1981,    0,    0,
+        0,    0, 1981, 1982, 1982, 1982, 1982,    0,    0,    0,
+     1982, 1983, 1983, 1983, 1983,    0,    0,    0, 1983, 1984,
+     1984, 1984, 1984, 1985, 1985, 1985, 1985, 1986, 1986, 1986,
+     1986, 1987, 1987, 1987, 1987, 1988, 1988, 1988, 1988, 1988,
+     1988,    0, 1988, 1989, 1989, 1989,    0, 1989, 1989,    0,
+     1989, 1990, 1990, 1990, 1990, 1991, 1991, 1991, 1991, 1992,
+     1992, 1992,    0, 1992, 1992, 1993, 1993, 1993, 1994, 1994,
+     1994, 1995, 1995, 1995, 1996, 1996, 1996, 1997, 1997, 1997,
+     1998, 1998, 1998, 1998, 1999, 1999, 1999, 1999, 2000, 2000,
+
+     2000, 2000, 2001, 2001, 2001, 2001, 2002, 2002, 2002,    0,
+     2002, 2002, 2003, 2003, 2003, 2004, 2004, 2004, 2005, 2005,
+     2005,    0, 2005, 2005,    0, 2005, 2006, 2006, 2006,    0,
+     2006, 2006,    0, 2006, 2007, 2007, 2007,    0, 2007, 2007,
+        0, 2007, 2008, 2008, 2008,    0, 2008, 2008,    0, 2008,
+     2009, 2009, 2009,    0, 2009, 2009,    0, 2009, 2010, 2010,
+     2010,    0, 2010, 2010,    0, 2010, 2011, 2011, 2011,    0,
+     2011, 2011,    0, 2011, 2012, 2012, 2012,    0,    0,    0,
+        0, 2012, 2013, 2013,    0,    0,    0,    0,    0, 2013,
+     2014, 2014, 2014,    0,    0,    0,    0, 2014, 2015, 2015,
+
+     2015,    0,    0,    0,    0, 2015, 2016, 2016, 2016,    0,
+        0,    0,    0, 2016, 2017, 2017, 2018, 2018,    0, 2018,
+        0,    0,    0, 2018, 2019, 2019, 2019, 2020, 2020, 2020,
+     2021, 2021, 2021, 2022, 2022, 2022, 2023, 2023, 2023,    0,
+     2023, 2023,    0, 2023, 2024, 2024, 2024, 2025, 2025, 2025,
+     2026, 2026, 2026, 2027, 2027, 2027, 2028, 2028, 2028, 2029,
+     2029, 2029, 2030, 2030, 2031, 2031,    0, 2031, 2032, 2032,
+     2032, 2033, 2033, 2033, 2034, 2034, 2034, 2034, 2035, 2035,
+     2035, 2035, 2036, 2036, 2036,    0, 2036, 2036,    0, 2036,
+     2037, 2037, 2037,    0,    0,    0,    0, 2037, 2038, 2038,
+
+     2038,    0,    0,    0,    0, 2038, 2039, 2039, 2039,    0,
+        0,    0,    0, 2039, 2040, 2040, 2040,    0,    0,    0,
+        0, 2040, 2041, 2041, 2041,    0,    0,    0,    0, 2041,
+     2042, 2042, 2042, 2042,    0,    0,    0, 2042, 2043, 2043,
+     2043, 2043,    0,    0,    0, 2043, 2044, 2044, 2044, 2044,
+     2045, 2045, 2045, 2045, 2046, 2046, 2046,    0, 2046, 2046,
+        0, 2046, 2047, 2047, 2047, 2047, 2048, 2048, 2048, 2048,
+     2049, 2049, 2049, 2050, 2050, 2050, 2051, 2051, 2051, 2052,
+     2052, 2052, 2053, 2053, 2053, 2054, 2054, 2054, 2054, 2055,
+     2055, 2055, 2055, 2056, 2056, 2056, 2057, 2057, 2057, 2058,
+
+     2058, 2058,    0,    0,    0,    0, 2058, 2059, 2059,    0,
+        0,    0,    0,    0, 2059, 2060, 2060, 2060,    0,    0,
+        0,    0, 2060, 2061, 2061, 2061,    0,    0,    0,    0,
+     2061, 2062, 2062, 2062,    0,    0,    0,    0, 2062, 2063,
+     2063, 2064, 2064,    0, 2064,    0,    0,    0, 2064, 2065,
+     2065, 2065, 2066, 2066, 2066, 2067, 2067, 2068, 2068,    0,
+     2068, 2069, 2069, 2069, 2070, 2070, 2070, 2071, 2071, 2071,
+     2072, 2072, 2072, 2073, 2073, 2074, 2074,    0, 2074, 2075,
+     2075, 2075, 2075,    0,    0,    0, 2075, 2076, 2076, 2076,
+     2076,    0,    0,    0, 2076, 2077, 2077, 2077,    0,    0,
+
+        0,    0, 2077, 2078, 2078, 2078,    0,    0,    0,    0,
+     2078, 2079, 2079, 2079,    0,    0,    0,    0, 2079, 2080,
+     2080, 2080,    0,    0,    0,    0, 2080, 2081, 2081, 2081,
+        0,    0,    0,    0, 2081, 2082, 2082, 2082, 2082,    0,
+        0,    0, 2082, 2083, 2083, 2083, 2083,    0,    0,    0,
+     2083, 2084, 2084, 2084, 2085, 2085, 2085, 2086, 2086, 2086,
+     2087, 2087, 2087, 2088, 2088, 2088, 2089, 2089, 2089, 2090,
+     2090, 2090, 2091, 2091, 2092, 2092,    0, 2092,    0,    0,
+        0, 2092, 2093, 2093, 2093,    0,    0,    0,    0, 2093,
+     2094, 2094,    0,    0,    0,    0,    0, 2094, 2095, 2095,
+
+     2095,    0,    0,    0,    0, 2095, 2096, 2096, 2096,    0,
+        0,    0,    0, 2096, 2097, 2097, 2097,    0,    0,    0,
+        0, 2097, 2098, 2098, 2099, 2099,    0, 2099,    0,    0,
+        0, 2099, 2100, 2100, 2100, 2101, 2101, 2101, 2102, 2102,
+     2102, 2103, 2103, 2103, 2104, 2104, 2104, 2105, 2105, 2105,
+     2106, 2106, 2106, 2107, 2107, 2107,    0,    0,    0,    0,
+     2107, 2108, 2108, 2108,    0,    0,    0,    0, 2108, 2109,
+     2109, 2109,    0,    0,    0,    0, 2109, 2110, 2110, 2110,
+        0,    0,    0,    0, 2110, 2111, 2111, 2111,    0,    0,
+        0,    0, 2111, 2112, 2112, 2112,    0,    0,    0,    0,
+
+     2112, 2113, 2113, 2113,    0,    0,    0,    0, 2113, 2114,
+     2114, 2114, 2115, 2115, 2115, 2116, 2116, 2116, 2117, 2117,
+     2117, 2118, 2118, 2118, 2119, 2119, 2119, 2120, 2120, 2120,
+        0,    0,    0,    0, 2120, 2121, 2121, 2121,    0,    0,
+        0,    0, 2121, 2122, 2122, 2122,    0,    0,    0,    0,
+     2122, 2123, 2123, 2123,    0,    0,    0,    0, 2123, 2124,
+     2124,    0,    0,    0,    0,    0, 2124, 2125, 2125, 2125,
+        0,    0,    0,    0, 2125, 2126, 2126, 2126,    0,    0,
+        0,    0, 2126, 2127, 2127, 2127,    0,    0,    0,    0,
+     2127, 2128, 2128, 2128, 2129, 2129, 2129, 2130, 2130, 2130,
+
+        0,    0,    0,    0, 2130, 2131, 2131, 2131,    0,    0,
+        0,    0, 2131, 2132, 2132, 2132,    0,    0,    0,    0,
+     2132, 2133, 2133, 2133,    0,    0,    0,    0, 2133, 2134,
+     2134, 2134,    0,    0,    0,    0, 2134, 2135, 2135, 2135,
+        0,    0,    0,    0, 2135, 2136, 2136, 2136,    0,    0,
+        0,    0, 2136, 2137, 2137,    0,    0,    0,    0,    0,
+     2137, 2138, 2138, 2138,    0,    0,    0,    0, 2138, 2139,
+     2139,    0,    0,    0,    0,    0, 2139, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+
+     1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518, 1518,
+     1518, 1518, 1518, 1518, 1518, 1518, 1518
     } ;
 
 /* Table of booleans, true if rule could match eol. */
-static yyconst flex_int32_t yy_rule_can_match_eol[19] =
+static yyconst flex_int32_t yy_rule_can_match_eol[20] =
     {   0,
-0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0,     };
+0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 
+        };
 
 static yy_state_type yy_last_accepting_state;
 static char *yy_last_accepting_cpos;
 
 extern int yy_flex_debug;
 int yy_flex_debug = 0;
@@ -623,32 +3320,40 @@
 #define yymore() yymore_used_but_not_detected
 #define YY_MORE_ADJ 0
 #define YY_RESTORE_YY_MORE_OFFSET
 char *yytext;
 #line 1 "scanner.l"
 /**
- * oconfig - src/scanner.l
- * Copyright (C) 2007  Florian octo Forster <octo at verplant.org>
- * Copyright (C) 2008  Sebastian tokkee Harl <sh at tokkee.org>
+ * collectd - src/liboconfig/scanner.l
+ * Copyright (C) 2007  Florian Forster
+ * Copyright (C) 2008  Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
- * more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along with
- * this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
+ *
+ * Authors:
+ *   Florian Forster <octo at collectd.org>
+ *   Sebastian Harl <sh at tokkee.org>
  */
-#line 21 "scanner.l"
+#line 30 "scanner.l"
 #include <stdlib.h>
-#include <string.h>
 #include "oconfig.h"
 #include "aux_types.h"
 #include "parser.h"
 
 /* multiline string buffer */
 static char *ml_buffer = NULL;
@@ -662,15 +3367,19 @@
 #ifdef yyterminate
 # undef yyterminate
 #endif
 #define yyterminate() \
 	do { free (ml_buffer); ml_buffer = NULL; ml_pos = 0; ml_len = 0; \
 		return YY_NULL; } while (0)
-#define YY_NO_INPUT 1
 
-#line 671 "scanner.c"
+/* IPv6 address according to http://www.ietf.org/rfc/rfc2373.txt
+ * This supports embedded IPv4 addresses as well but does not strictly check
+ * for the right prefix (::0:<v4> or ::FFFF:<v4>) because there are too many
+ * ways to correctly represent the zero bytes. It's up to the user to check
+ * for valid addresses. */
+#line 3380 "scanner.c"
 
 #define INITIAL 0
 #define ML 1
 
 #ifndef YY_NO_UNISTD_H
 /* Special case for "unistd.h", since it is non-ANSI. We include it way
@@ -724,12 +3433,14 @@
 extern "C" int yywrap (void );
 #else
 extern int yywrap (void );
 #endif
 #endif
 
+    static void yyunput (int c,char *buf_ptr  );
+    
 #ifndef yytext_ptr
 static void yy_flex_strncpy (char *,yyconst char *,int );
 #endif
 
 #ifdef YY_NEED_STRLEN
 static int yy_flex_strlen (yyconst char * );
@@ -880,15 +3591,15 @@
 		}
 
 		yy_load_buffer_state( );
 		}
 
 	{
-#line 65 "scanner.l"
+#line 82 "scanner.l"
 
-#line 889 "scanner.c"
+#line 3600 "scanner.c"
 
 	while ( 1 )		/* loops until end-of-file is reached */
 		{
 		yy_cp = (yy_c_buf_p);
 
 		/* Support of yytext. */
@@ -910,19 +3621,19 @@
 				(yy_last_accepting_state) = yy_current_state;
 				(yy_last_accepting_cpos) = yy_cp;
 				}
 			while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
 				{
 				yy_current_state = (int) yy_def[yy_current_state];
-				if ( yy_current_state >= 118 )
+				if ( yy_current_state >= 1519 )
 					yy_c = yy_meta[(unsigned int) yy_c];
 				}
 			yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
 			++yy_cp;
 			}
-		while ( yy_base[yy_current_state] != 418 );
+		while ( yy_base[yy_current_state] != 9978 );
 
 yy_find_action:
 		yy_act = yy_accept[yy_current_state];
 		if ( yy_act == 0 )
 			{ /* have to back up */
 			yy_cp = (yy_last_accepting_cpos);
@@ -951,80 +3662,85 @@
 			*yy_cp = (yy_hold_char);
 			yy_cp = (yy_last_accepting_cpos);
 			yy_current_state = (yy_last_accepting_state);
 			goto yy_find_action;
 
 case 1:
-#line 67 "scanner.l"
+#line 84 "scanner.l"
 case 2:
 YY_RULE_SETUP
-#line 67 "scanner.l"
+#line 84 "scanner.l"
 {/* ignore */}
 	YY_BREAK
 case 3:
 /* rule 3 can match eol */
 YY_RULE_SETUP
-#line 69 "scanner.l"
+#line 86 "scanner.l"
 {/* continue line */}
 	YY_BREAK
 case 4:
 /* rule 4 can match eol */
 YY_RULE_SETUP
-#line 71 "scanner.l"
+#line 88 "scanner.l"
 {return (EOL);}
 	YY_BREAK
 case 5:
 YY_RULE_SETUP
-#line 72 "scanner.l"
+#line 89 "scanner.l"
 {return (SLASH);}
 	YY_BREAK
 case 6:
 YY_RULE_SETUP
-#line 73 "scanner.l"
+#line 90 "scanner.l"
 {return (OPENBRAC);}
 	YY_BREAK
 case 7:
 YY_RULE_SETUP
-#line 74 "scanner.l"
+#line 91 "scanner.l"
 {return (CLOSEBRAC);}
 	YY_BREAK
 case 8:
 YY_RULE_SETUP
-#line 75 "scanner.l"
+#line 92 "scanner.l"
 {yylval.boolean = 1; return (BTRUE);}
 	YY_BREAK
 case 9:
 YY_RULE_SETUP
-#line 76 "scanner.l"
+#line 93 "scanner.l"
 {yylval.boolean = 0; return (BFALSE);}
 	YY_BREAK
 case 10:
 YY_RULE_SETUP
-#line 78 "scanner.l"
+#line 95 "scanner.l"
 {yylval.string = yytext; return (UNQUOTED_STRING);}
 	YY_BREAK
 case 11:
 YY_RULE_SETUP
-#line 80 "scanner.l"
-{yylval.number = strtod (yytext, NULL); return (NUMBER);}
+#line 96 "scanner.l"
+{yylval.string = yytext; return (UNQUOTED_STRING);}
 	YY_BREAK
 case 12:
-/* rule 12 can match eol */
 YY_RULE_SETUP
-#line 82 "scanner.l"
-{yylval.string = yytext; return (QUOTED_STRING);}
+#line 98 "scanner.l"
+{yylval.number = strtod (yytext, NULL); return (NUMBER);}
 	YY_BREAK
 case 13:
+/* rule 13 can match eol */
 YY_RULE_SETUP
-#line 83 "scanner.l"
-{yylval.string = yytext; return (UNQUOTED_STRING);}
+#line 100 "scanner.l"
+{yylval.string = yytext; return (QUOTED_STRING);}
 	YY_BREAK
 case 14:
-/* rule 14 can match eol */
 YY_RULE_SETUP
-#line 85 "scanner.l"
+#line 101 "scanner.l"
+{yylval.string = yytext; return (UNQUOTED_STRING);}
+	YY_BREAK
+case 15:
+/* rule 15 can match eol */
+YY_RULE_SETUP
+#line 103 "scanner.l"
 {
 	int len = strlen (yytext);
 
 	ml_pos = 0;
 
 	/* remove "\\<EOL>" */
@@ -1035,21 +3751,21 @@
 	yytext[len] = '\0';
 
 	ml_append (yytext);
 	BEGIN (ML);
 }
 	YY_BREAK
-case 15:
+case 16:
 YY_RULE_SETUP
-#line 100 "scanner.l"
+#line 118 "scanner.l"
 {/* remove leading white-space */}
 	YY_BREAK
-case 16:
-/* rule 16 can match eol */
+case 17:
+/* rule 17 can match eol */
 YY_RULE_SETUP
-#line 101 "scanner.l"
+#line 119 "scanner.l"
 {
 	int len = strlen (yytext);
 
 	/* remove "\\<EOL>" */
 	if ('\r' == yytext[len - 2])
 		len -= 3;
@@ -1057,30 +3773,30 @@
 		len -= 2;
 	yytext[len] = '\0';
 
 	ml_append(yytext);
 }
 	YY_BREAK
-case 17:
-/* rule 17 can match eol */
+case 18:
+/* rule 18 can match eol */
 YY_RULE_SETUP
-#line 113 "scanner.l"
+#line 131 "scanner.l"
 {
 	ml_append(yytext);
 	yylval.string = ml_buffer;
 
 	BEGIN (INITIAL);
 	return (QUOTED_STRING);
 }
 	YY_BREAK
-case 18:
+case 19:
 YY_RULE_SETUP
-#line 120 "scanner.l"
+#line 138 "scanner.l"
 ECHO;
 	YY_BREAK
-#line 1081 "scanner.c"
+#line 3797 "scanner.c"
 case YY_STATE_EOF(INITIAL):
 case YY_STATE_EOF(ML):
 	yyterminate();
 
 	case YY_END_OF_BUFFER:
 		{
@@ -1369,13 +4085,13 @@
 			(yy_last_accepting_state) = yy_current_state;
 			(yy_last_accepting_cpos) = yy_cp;
 			}
 		while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
 			{
 			yy_current_state = (int) yy_def[yy_current_state];
-			if ( yy_current_state >= 118 )
+			if ( yy_current_state >= 1519 )
 				yy_c = yy_meta[(unsigned int) yy_c];
 			}
 		yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
 		}
 
 	return yy_current_state;
@@ -1397,21 +4113,62 @@
 		(yy_last_accepting_state) = yy_current_state;
 		(yy_last_accepting_cpos) = yy_cp;
 		}
 	while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
 		{
 		yy_current_state = (int) yy_def[yy_current_state];
-		if ( yy_current_state >= 118 )
+		if ( yy_current_state >= 1519 )
 			yy_c = yy_meta[(unsigned int) yy_c];
 		}
 	yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
-	yy_is_jam = (yy_current_state == 117);
+	yy_is_jam = (yy_current_state == 1518);
 
 		return yy_is_jam ? 0 : yy_current_state;
 }
 
+    static void yyunput (int c, register char * yy_bp )
+{
+	register char *yy_cp;
+    
+    yy_cp = (yy_c_buf_p);
+
+	/* undo effects of setting up yytext */
+	*yy_cp = (yy_hold_char);
+
+	if ( yy_cp < YY_CURRENT_BUFFER_LVALUE->yy_ch_buf + 2 )
+		{ /* need to shift things up to make room */
+		/* +2 for EOB chars. */
+		register yy_size_t number_to_move = (yy_n_chars) + 2;
+		register char *dest = &YY_CURRENT_BUFFER_LVALUE->yy_ch_buf[
+					YY_CURRENT_BUFFER_LVALUE->yy_buf_size + 2];
+		register char *source =
+				&YY_CURRENT_BUFFER_LVALUE->yy_ch_buf[number_to_move];
+
+		while ( source > YY_CURRENT_BUFFER_LVALUE->yy_ch_buf )
+			*--dest = *--source;
+
+		yy_cp += (int) (dest - source);
+		yy_bp += (int) (dest - source);
+		YY_CURRENT_BUFFER_LVALUE->yy_n_chars =
+			(yy_n_chars) = YY_CURRENT_BUFFER_LVALUE->yy_buf_size;
+
+		if ( yy_cp < YY_CURRENT_BUFFER_LVALUE->yy_ch_buf + 2 )
+			YY_FATAL_ERROR( "flex scanner push-back overflow" );
+		}
+
+	*--yy_cp = (char) c;
+
+    if ( c == '\n' ){
+        --yylineno;
+    }
+
+	(yytext_ptr) = yy_bp;
+	(yy_hold_char) = *yy_cp;
+	(yy_c_buf_p) = yy_cp;
+}
+
 #ifndef YY_NO_INPUT
 #ifdef __cplusplus
     static int yyinput (void)
 #else
     static int input  (void)
 #endif
@@ -2043,13 +4800,13 @@
 {
 	free( (char *) ptr );	/* see yyrealloc() for (char *) cast */
 }
 
 #define YYTABLES_NAME "yytables"
 
-#line 119 "scanner.l"
+#line 137 "scanner.l"
 
 
 static void ml_append (char *string)
 {
 	int len = strlen (string);
 	int s;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/scanner.l /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/scanner.l
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/liboconfig/scanner.l	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/liboconfig/scanner.l	2015-03-10 22:14:45.841114412 +0800
@@ -1,28 +1,36 @@
 /**
- * oconfig - src/scanner.l
- * Copyright (C) 2007  Florian octo Forster <octo at verplant.org>
- * Copyright (C) 2008  Sebastian tokkee Harl <sh at tokkee.org>
+ * collectd - src/liboconfig/scanner.l
+ * Copyright (C) 2007  Florian Forster
+ * Copyright (C) 2008  Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
- * more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along with
- * this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
+ *
+ * Authors:
+ *   Florian Forster <octo at collectd.org>
+ *   Sebastian Harl <sh at tokkee.org>
  */
 
 %{
 #include <stdlib.h>
-#include <string.h>
 #include "oconfig.h"
 #include "aux_types.h"
 #include "parser.h"
 
 /* multiline string buffer */
 static char *ml_buffer = NULL;
@@ -39,14 +47,12 @@
 #define yyterminate() \
 	do { free (ml_buffer); ml_buffer = NULL; ml_pos = 0; ml_len = 0; \
 		return YY_NULL; } while (0)
 %}
 %option yylineno
 %option noyywrap
-%option noinput
-%option nounput
 %x ML
 WHITE_SPACE [\ \t\b]
 NON_WHITE_SPACE [^\ \t\b]
 EOL (\r\n|\n)
 QUOTED_STRING ([^\\"]+|\\.)*
 UNQUOTED_STRING [0-9A-Za-z_]+
@@ -56,15 +62,26 @@
 FLOAT_NUMBER [\+\-]?[0-9]*\.[0-9]+([eE][\+\-][0-9]+)?
 NUMBER ({FLOAT_NUMBER}|{HEX_NUMBER}|{OCT_NUMBER}|{DEC_NUMBER})
 BOOL_TRUE (true|yes|on)
 BOOL_FALSE (false|no|off)
 COMMENT #.*
 PORT (6(5(5(3[0-5]|[0-2][0-9])|[0-4][0-9][0-9])|[0-4][0-9][0-9][0-9])|[1-5][0-9][0-9][0-9][0-9]|[1-9][0-9]?[0-9]?[0-9]?)
+
 IP_BYTE (2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])
 IPV4_ADDR {IP_BYTE}\.{IP_BYTE}\.{IP_BYTE}\.{IP_BYTE}(:{PORT})?
 
+/* IPv6 address according to http://www.ietf.org/rfc/rfc2373.txt
+ * This supports embedded IPv4 addresses as well but does not strictly check
+ * for the right prefix (::0:<v4> or ::FFFF:<v4>) because there are too many
+ * ways to correctly represent the zero bytes. It's up to the user to check
+ * for valid addresses. */
+HEX16 ([0-9A-Fa-f]{1,4})
+V6_PART ({HEX16}:{HEX16}|{IPV4_ADDR})
+IPV6_BASE ({HEX16}:){6}{V6_PART}|::({HEX16}:){5}{V6_PART}|({HEX16})?::({HEX16}:){4}{V6_PART}|(({HEX16}:){0,1}{HEX16})?::({HEX16}:){3}{V6_PART}|(({HEX16}:){0,2}{HEX16})?::({HEX16}:){2}{V6_PART}|(({HEX16}:){0,3}{HEX16})?::{HEX16}:{V6_PART}|(({HEX16}:){0,4}{HEX16})?::{V6_PART}|(({HEX16}:){0,5}{HEX16})?::{HEX16}|(({HEX16}:){0,6}{HEX16})?::
+IPV6_ADDR ({IPV6_BASE})|(\[{IPV6_BASE}\](:{PORT})?)
+
 %%
 {WHITE_SPACE}		|
 {COMMENT}		{/* ignore */}
 
 \\{EOL}			{/* continue line */}
 
@@ -73,12 +90,13 @@
 "<"			{return (OPENBRAC);}
 ">"			{return (CLOSEBRAC);}
 {BOOL_TRUE}		{yylval.boolean = 1; return (BTRUE);}
 {BOOL_FALSE}		{yylval.boolean = 0; return (BFALSE);}
 
 {IPV4_ADDR}		{yylval.string = yytext; return (UNQUOTED_STRING);}
+{IPV6_ADDR}		{yylval.string = yytext; return (UNQUOTED_STRING);}
 
 {NUMBER}		{yylval.number = strtod (yytext, NULL); return (NUMBER);}
 
 \"{QUOTED_STRING}\"	{yylval.string = yytext; return (QUOTED_STRING);}
 {UNQUOTED_STRING}	{yylval.string = yytext; return (UNQUOTED_STRING);}
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: libvirt.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/load.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/load.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/load.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/load.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,10 +1,11 @@
 /**
  * collectd - src/load.c
  * Copyright (C) 2005-2008  Florian octo Forster
  * Copyright (C) 2009       Manuel Sanmartin
+ * Copyright (C) 2013       Vedran Bartonicek
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -14,23 +15,26 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Manuel Sanmartin
+ *   Vedran Bartonicek <vbartoni at gmail.com>
  **/
 
 #define _DEFAULT_SOURCE
 #define _BSD_SOURCE
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
+#include <unistd.h>
+
 #ifdef HAVE_SYS_LOADAVG_H
 #include <sys/loadavg.h>
 #endif
 
 #if HAVE_STATGRAB_H
 # include <statgrab.h>
@@ -47,16 +51,53 @@
 #ifdef HAVE_PERFSTAT
 # include <sys/proc.h> /* AIX 5 */
 # include <sys/protosw.h>
 # include <libperfstat.h>
 #endif /* HAVE_PERFSTAT */
 
+static _Bool report_relative_load = 0;
+
+static const char *config_keys[] =
+{
+	"ReportRelative"
+};
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+
+static int load_config (const char *key, const char *value)
+{
+	if (strcasecmp (key, "ReportRelative") == 0)
+#ifdef _SC_NPROCESSORS_ONLN
+		report_relative_load = IS_TRUE (value) ? 1 : 0;
+#else
+                WARNING ("load plugin: The \"ReportRelative\" configuration "
+                         "is not available, because I can't determine the "
+                         "number of CPUS on this system. Sorry.");
+#endif
+	return (-1);
+
+}
 static void load_submit (gauge_t snum, gauge_t mnum, gauge_t lnum)
 {
 	value_t values[3];
 	value_list_t vl = VALUE_LIST_INIT;
+        int cores = 0;
+        char errbuf[1024];
+
+#ifdef  _SC_NPROCESSORS_ONLN
+        if (report_relative_load) {
+                if ((cores = sysconf(_SC_NPROCESSORS_ONLN)) < 1) {
+			WARNING ("load: sysconf failed : %s",
+				 sstrerror (errno, errbuf, sizeof (errbuf)));
+		}
+	}
+#endif
+	if (cores > 0) {
+		snum /= cores;
+		mnum /= cores;
+		lnum /= cores;
+	}
 
 	values[0].gauge = snum;
 	values[1].gauge = mnum;
 	values[2].gauge = lnum;
 
 	vl.values = values;
@@ -58,16 +99,22 @@
 	values[0].gauge = snum;
 	values[1].gauge = mnum;
 	values[2].gauge = lnum;
 
 	vl.values = values;
 	vl.values_len = STATIC_ARRAY_SIZE (values);
+
 	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
 	sstrncpy (vl.plugin, "load", sizeof (vl.plugin));
 	sstrncpy (vl.type, "load", sizeof (vl.type));
 
+	if (cores > 0) {
+		sstrncpy(vl.type_instance, "relative",
+			 sizeof (vl.type_instance));
+	}
+
 	plugin_dispatch_values (&vl);
 }
 
 static int load_read (void)
 {
 #if defined(HAVE_GETLOADAVG)
@@ -76,13 +123,13 @@
 	if (getloadavg (load, 3) == 3)
 		load_submit (load[LOADAVG_1MIN], load[LOADAVG_5MIN], load[LOADAVG_15MIN]);
 	else
 	{
 		char errbuf[1024];
 		WARNING ("load: getloadavg failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
+                         sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 /* #endif HAVE_GETLOADAVG */
 
 #elif defined(KERNEL_LINUX)
 	gauge_t snum, mnum, lnum;
 	FILE *loadavg;
@@ -121,27 +168,26 @@
 		return (-1);
 
 	snum = atof (fields[0]);
 	mnum = atof (fields[1]);
 	lnum = atof (fields[2]);
 
-	load_submit (snum, mnum, lnum);
+        load_submit(snum, mnum, lnum);
 /* #endif KERNEL_LINUX */
 
 #elif HAVE_LIBSTATGRAB
 	gauge_t snum, mnum, lnum;
 	sg_load_stats *ls;
 
 	if ((ls = sg_get_load_stats ()) == NULL)
 		return;
 
 	snum = ls->min1;
 	mnum = ls->min5;
 	lnum = ls->min15;
-
-	load_submit (snum, mnum, lnum);
+        load_submit(snum, mnum, lnum);
 /* #endif HAVE_LIBSTATGRAB */
 
 #elif HAVE_PERFSTAT
 	gauge_t snum, mnum, lnum;
 	perfstat_cpu_total_t cputotal;
 
@@ -153,21 +199,21 @@
 		return (-1);
 	}
 
 	snum = (float)cputotal.loadavg[0]/(float)(1<<SBITS);
 	mnum = (float)cputotal.loadavg[1]/(float)(1<<SBITS);
 	lnum = (float)cputotal.loadavg[2]/(float)(1<<SBITS);
-
-	load_submit (snum, mnum, lnum);
+        load_submit(snum, mnum, lnum);
 /* #endif HAVE_PERFSTAT */
 
 #else
 # error "No applicable input method."
 #endif
 
 	return (0);
 }
 
 void module_register (void)
 {
+	plugin_register_config ("load", load_config, config_keys, config_keys_num);
 	plugin_register_read ("load", load_read);
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/logfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/logfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/logfile.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/logfile.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,27 +1,32 @@
 /**
  * collectd - src/logfile.c
- * Copyright (C) 2007  Sebastian Harl
+ * Copyright (C) 2007       Sebastian Harl
  * Copyright (C) 2007,2008  Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
@@ -193,13 +198,13 @@
 		buf_ptr += status;
 		buf_len -= status;
 	}
 
 #define APPEND(bufptr, buflen, key, value) \
 	if ((buflen > 0) && (strlen (value) > 0)) { \
-		status = ssnprintf (bufptr, buflen, ", %s = %s", key, value); \
+		int status = ssnprintf (bufptr, buflen, ", %s = %s", key, value); \
 		if (status > 0) { \
 			bufptr += status; \
 			buflen -= status; \
 		} \
 	}
 	APPEND (buf_ptr, buf_len, "host", n->host);
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: log_logstash.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/lvm.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/lvm.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/lvm.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/lvm.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,9 +1,10 @@
 /**
  * collectd - src/lvm.c
  * Copyright (C) 2013       Chad Malfait
+ * Copyright (C) 2014       Carnegie Mellon University
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -14,20 +15,45 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Chad Malfait <malfaitc at yahoo.com>
+ *   Benjamin Gilbert <bgilbert at cs.cmu.edu>
  **/
 
 #include <lvm2app.h>
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
+#define NO_VALUE UINT64_MAX
+#define PERCENT_SCALE_FACTOR 1e-8
+
+static uint64_t get_lv_property_int(lv_t lv, char const *property)
+{
+    lvm_property_value_t v;
+
+    v = lvm_lv_get_property(lv, property);
+    if (!v.is_valid || !v.is_integer)
+        return NO_VALUE;
+    /* May be NO_VALUE if @property does not apply to this LV */
+    return v.value.integer;
+}
+
+static char const *get_lv_property_string(lv_t lv, char const *property)
+{
+    lvm_property_value_t v;
+
+    v = lvm_lv_get_property(lv, property);
+    if (!v.is_valid || !v.is_string)
+        return NULL;
+    return v.value.string;
+}
+
 static void lvm_submit (char const *plugin_instance, char const *type_instance,
         uint64_t ivalue)
 {
     value_t v;
     value_list_t vl = VALUE_LIST_INIT;
 
@@ -42,30 +68,97 @@
     sstrncpy(vl.type, "df_complex", sizeof (vl.type));
     sstrncpy(vl.type_instance, type_instance, sizeof (vl.type_instance));
 
     plugin_dispatch_values (&vl);
 }
 
-static int vg_read(vg_t vg, char const *vg_name)
+static void report_lv_utilization(lv_t lv, char const *vg_name,
+        char const *lv_name, uint64_t lv_size,
+        char const *used_percent_property)
+{
+    uint64_t used_percent_unscaled;
+    uint64_t used_bytes;
+    char plugin_instance[DATA_MAX_NAME_LEN];
+
+    used_percent_unscaled = get_lv_property_int(lv, used_percent_property);
+    if (used_percent_unscaled == NO_VALUE)
+        return;
+    used_bytes = lv_size * (used_percent_unscaled * PERCENT_SCALE_FACTOR);
+
+    ssnprintf(plugin_instance, sizeof(plugin_instance), "%s-%s",
+            vg_name, lv_name);
+    lvm_submit(plugin_instance, "used", used_bytes);
+    lvm_submit(plugin_instance, "free", lv_size - used_bytes);
+}
+
+static void report_thin_pool_utilization(lv_t lv, char const *vg_name,
+        uint64_t lv_size)
+{
+    char const *data_lv;
+    char const *metadata_lv;
+    uint64_t metadata_size;
+
+    data_lv = get_lv_property_string(lv, "data_lv");
+    metadata_lv = get_lv_property_string(lv, "metadata_lv");
+    metadata_size = get_lv_property_int(lv, "lv_metadata_size");
+    if (data_lv == NULL || metadata_lv == NULL || metadata_size == NO_VALUE)
+        return;
+
+    report_lv_utilization(lv, vg_name, data_lv, lv_size, "data_percent");
+    report_lv_utilization(lv, vg_name, metadata_lv, metadata_size,
+            "metadata_percent");
+}
+
+static void vg_read(vg_t vg, char const *vg_name)
 {
     struct dm_list *lvs;
     struct lvm_lv_list *lvl;
+    char const *name;
+    char const *attrs;
+    uint64_t size;
 
     lvm_submit (vg_name, "free", lvm_vg_get_free_size(vg));
 
     lvs = lvm_vg_list_lvs(vg);
     if (!lvs) {
         /* no VGs are defined, which is not an error per se */
-        return (0);
+        return;
     }
 
     dm_list_iterate_items(lvl, lvs) {
-         lvm_submit(vg_name, lvm_lv_get_name(lvl->lv), lvm_lv_get_size(lvl->lv));
+        name = lvm_lv_get_name(lvl->lv);
+        attrs = get_lv_property_string(lvl->lv, "lv_attr");
+        size = lvm_lv_get_size(lvl->lv);
+        if (name == NULL || attrs == NULL || size == NO_VALUE)
+            continue;
+
+        /* Condition on volume type.  We want the reported sizes in the
+           volume group to sum to the size of the volume group, so we ignore
+           virtual volumes.  */
+        switch (attrs[0]) {
+            case 's':
+            case 'S':
+                /* Snapshot.  Also report used/free space. */
+                report_lv_utilization(lvl->lv, vg_name, name, size,
+                        "data_percent");
+                break;
+            case 't':
+                /* Thin pool virtual volume.  We report the underlying data
+                   and metadata volumes, not this one.  Report used/free
+                   space, then ignore. */
+                report_thin_pool_utilization(lvl->lv, vg_name, size);
+                continue;
+            case 'v':
+                /* Virtual volume.  Ignore. */
+                continue;
+            case 'V':
+                /* Thin volume or thin snapshot.  Ignore. */
+                continue;
+        }
+        lvm_submit(vg_name, name, size);
     }
-
-    return (0);
 }
 
 static int lvm_read(void)
 {
     lvm_t lvm;
     struct dm_list *vg_names;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/madwifi.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/madwifi.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/madwifi.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/madwifi.c	2014-08-18 15:33:14.292460715 +0800
@@ -818,22 +818,21 @@
 	char buf[PATH_MAX];
 	char buf2[PATH_MAX];
 	int i;
 
 	if (dev[0] == '.')
 		return 0;
-
+	
 	ssnprintf (buf, sizeof (buf), "/sys/class/net/%s/device/driver", dev);
-	buf[sizeof (buf) - 1] = '\0';
+	buf[sizeof (buf) - 1] = 0;
 
+	memset (buf2, 0, sizeof (buf2));
 	i = readlink (buf, buf2, sizeof (buf2) - 1);
 	if (i < 0)
 		return 0;
 
-	buf2[i] = '\0';
-
 	if (strstr (buf2, "/drivers/ath_") == NULL)
 		return 0;
 	return 1;
 }
 
 static int
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/Makefile.am	2016-07-26 15:47:12.949713774 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/Makefile.am	2015-05-27 03:38:14.116865752 +0800
@@ -1,100 +1,47 @@
 SUBDIRS = libcollectdclient
 if BUILD_WITH_OWN_LIBOCONFIG
 SUBDIRS += liboconfig
 endif
+SUBDIRS += daemon
+
+PLUGIN_LDFLAGS = -module -avoid-version -export-symbols-regex '\<module_register\>'
 
 if COMPILER_IS_GCC
 AM_CFLAGS = -Wall -Werror
 endif
 
-AM_CPPFLAGS = -DPREFIX='"${prefix}"'
+AM_CPPFLAGS = -I$(srcdir)/daemon
+AM_CPPFLAGS += -DPREFIX='"${prefix}"'
 AM_CPPFLAGS += -DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"'
 AM_CPPFLAGS += -DLOCALSTATEDIR='"${localstatedir}"'
 AM_CPPFLAGS += -DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"'
 if BUILD_FEATURE_DAEMON
 AM_CPPFLAGS += -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
 endif
 AM_CPPFLAGS += -DPLUGINDIR='"${pkglibdir}"'
 AM_CPPFLAGS += -DPKGDATADIR='"${pkgdatadir}"'
 
-sbin_PROGRAMS = collectd collectdmon
-bin_PROGRAMS = collectd-nagios collectdctl collectd-tg
+AUTOMAKE_OPTIONS = subdir-objects
 
-collectd_SOURCES = collectd.c collectd.h \
-		   common.c common.h \
-		   configfile.c configfile.h \
-		   filter_chain.c filter_chain.h \
-		   meta_data.c meta_data.h \
-		   plugin.c plugin.h \
-		   utils_avltree.c utils_avltree.h \
-		   utils_cache.c utils_cache.h \
-		   utils_complain.c utils_complain.h \
-		   utils_heap.c utils_heap.h \
-		   utils_ignorelist.c utils_ignorelist.h \
-		   utils_llist.c utils_llist.h \
-		   utils_parse_option.c utils_parse_option.h \
-		   utils_random.c utils_random.h \
-		   utils_tail_match.c utils_tail_match.h \
-		   utils_match.c utils_match.h \
-		   utils_subst.c utils_subst.h \
-		   utils_tail.c utils_tail.h \
-		   utils_time.c utils_time.h \
-		   types_list.c types_list.h
-
-collectd_CPPFLAGS =  $(AM_CPPFLAGS) $(LTDLINCL)
-collectd_CFLAGS = $(AM_CFLAGS)
-collectd_LDFLAGS = -export-dynamic
-collectd_LDADD = -lm
-collectd_DEPENDENCIES =
+noinst_LTLIBRARIES = libmount.la liblookup.la
 
-# Link to these libraries..
-if BUILD_WITH_LIBRT
-collectd_LDADD += -lrt
-endif
-if BUILD_WITH_LIBPOSIX4
-collectd_LDADD += -lposix4
-endif
-if BUILD_WITH_LIBSOCKET
-collectd_LDADD += -lsocket
-endif
-if BUILD_WITH_LIBRESOLV
-collectd_LDADD += -lresolv
-endif
-if BUILD_WITH_LIBPTHREAD
-collectd_LDADD += -lpthread
-endif
-if BUILD_WITH_LIBKSTAT
-collectd_LDADD += -lkstat
-endif
-if BUILD_WITH_LIBDEVINFO
-collectd_LDADD += -ldevinfo
-endif
-if BUILD_AIX
-collectd_LDFLAGS += -Wl,-bexpall,-brtllib
-endif
+libmount_la_SOURCES = utils_mount.c utils_mount.h
+libmount_la_LIBADD = daemon/libcommon.la
 
-# The daemon needs to call sg_init, so we need to link it against libstatgrab,
-# too. -octo
-if BUILD_WITH_LIBSTATGRAB
-collectd_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-collectd_LDADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-endif
+liblookup_la_SOURCES = utils_vl_lookup.c utils_vl_lookup.h
+liblookup_la_LIBADD = daemon/libavltree.la daemon/libcommon.la
 
-if BUILD_WITH_OWN_LIBOCONFIG
-collectd_LDADD += $(LIBLTDL) liboconfig/liboconfig.la
-collectd_DEPENDENCIES += liboconfig/liboconfig.la
-else
-collectd_LDADD += -loconfig
-endif
+sbin_PROGRAMS = collectdmon
+bin_PROGRAMS = collectd-nagios collectdctl collectd-tg
 
 collectdmon_SOURCES = collectdmon.c
 collectdmon_CPPFLAGS = $(AM_CPPFLAGS)
 
 collectd_nagios_SOURCES = collectd-nagios.c
-collectd_nagios_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd
+collectd_nagios_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_srcdir)/src/libcollectdclient/collectd -I$(top_builddir)/src/libcollectdclient/collectd
 collectd_nagios_LDADD =
 if BUILD_WITH_LIBSOCKET
 collectd_nagios_LDADD += -lsocket
 endif
 if BUILD_AIX
 collectd_nagios_LDADD += -lm
@@ -102,27 +49,26 @@
 
 collectd_nagios_LDADD += libcollectdclient/libcollectdclient.la
 collectd_nagios_DEPENDENCIES = libcollectdclient/libcollectdclient.la
 
 
 collectdctl_SOURCES = collectdctl.c
-collectdctl_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd
+collectdctl_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_srcdir)/src/libcollectdclient/collectd -I$(top_builddir)/src/libcollectdclient/collectd
 collectdctl_LDADD =
 if BUILD_WITH_LIBSOCKET
 collectdctl_LDADD += -lsocket
 endif
 if BUILD_AIX
 collectdctl_LDADD += -lm
 endif
 collectdctl_LDADD += libcollectdclient/libcollectdclient.la
 collectdctl_DEPENDENCIES = libcollectdclient/libcollectdclient.la
 
-collectd_tg_SOURCES = collectd-tg.c \
-		      utils_heap.c utils_heap.h
-collectd_tg_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd
-collectd_tg_LDADD =
+collectd_tg_SOURCES = collectd-tg.c
+collectd_tg_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_srcdir)/src/libcollectdclient/collectd -I$(top_builddir)/src/libcollectdclient/collectd
+collectd_tg_LDADD = daemon/libheap.la
 if BUILD_WITH_LIBSOCKET
 collectd_tg_LDADD += -lsocket
 endif
 if BUILD_WITH_LIBRT
 collectd_tg_LDADD += -lrt
 endif
@@ -133,154 +79,147 @@
 collectd_tg_LDADD += -lpthread
 endif
 collectd_tg_LDADD += libcollectdclient/libcollectdclient.la
 collectd_tg_DEPENDENCIES = libcollectdclient/libcollectdclient.la
 
 
-pkglib_LTLIBRARIES = 
+pkglib_LTLIBRARIES =
 
-BUILT_SOURCES = 
+BUILT_SOURCES =
 CLEANFILES =
 
 if BUILD_PLUGIN_AGGREGATION
 pkglib_LTLIBRARIES += aggregation.la
 aggregation_la_SOURCES = aggregation.c \
                          utils_vl_lookup.c utils_vl_lookup.h
-aggregation_la_LDFLAGS = -module -avoid-version
+aggregation_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 aggregation_la_LIBADD = -lm
-collectd_LDADD += "-dlopen" aggregation.la
-collectd_DEPENDENCIES += aggregation.la
 endif
 
 if BUILD_PLUGIN_AMQP
 pkglib_LTLIBRARIES += amqp.la
 amqp_la_SOURCES = amqp.c \
 		  utils_cmd_putval.c utils_cmd_putval.h \
-  	          utils_parse_option.c utils_parse_option.h \
 		  utils_format_graphite.c utils_format_graphite.h \
 		  utils_format_json.c utils_format_json.h
-amqp_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBRABBITMQ_LDFLAGS)
+amqp_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBRABBITMQ_LDFLAGS)
 amqp_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBRABBITMQ_CPPFLAGS)
 amqp_la_LIBADD = $(BUILD_WITH_LIBRABBITMQ_LIBS)
-collectd_LDADD += "-dlopen" amqp.la
-collectd_DEPENDENCIES += amqp.la
 endif
 
 if BUILD_PLUGIN_APACHE
 pkglib_LTLIBRARIES += apache.la
 apache_la_SOURCES = apache.c
-apache_la_LDFLAGS = -module -avoid-version
+apache_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 apache_la_CFLAGS = $(AM_CFLAGS)
 apache_la_LIBADD =
-collectd_LDADD += "-dlopen" apache.la
 if BUILD_WITH_LIBCURL
 apache_la_CFLAGS += $(BUILD_WITH_LIBCURL_CFLAGS)
 apache_la_LIBADD += $(BUILD_WITH_LIBCURL_LIBS)
 endif
-collectd_DEPENDENCIES += apache.la
 endif
 
 if BUILD_PLUGIN_APCUPS
 pkglib_LTLIBRARIES += apcups.la
 apcups_la_SOURCES = apcups.c
-apcups_la_LDFLAGS = -module -avoid-version
+apcups_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 apcups_la_LIBADD =
 if BUILD_WITH_LIBSOCKET
 apcups_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" apcups.la
-collectd_DEPENDENCIES += apcups.la
 endif
 
 if BUILD_PLUGIN_APPLE_SENSORS
 pkglib_LTLIBRARIES += apple_sensors.la
 apple_sensors_la_SOURCES = apple_sensors.c
-apple_sensors_la_LDFLAGS = -module -avoid-version
+apple_sensors_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 apple_sensors_la_LDFLAGS += -framework IOKit
-collectd_LDADD += "-dlopen" apple_sensors.la
-collectd_DEPENDENCIES += apple_sensors.la
 endif
 
 if BUILD_PLUGIN_AQUAERO
 pkglib_LTLIBRARIES += aquaero.la
 aquaero_la_SOURCES = aquaero.c
-aquaero_la_LDFLAGS = -module -avoid-version
+aquaero_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 aquaero_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBAQUAERO5_CFLAGS)
 aquaero_la_LIBADD = $(BUILD_WITH_LIBAQUAERO5_LDFLAGS) -laquaero5
-collectd_LDADD += "-dlopen" aquaero.la
-collectd_DEPENDENCIES += aquaero.la
 endif
 
 if BUILD_PLUGIN_ASCENT
 pkglib_LTLIBRARIES += ascent.la
 ascent_la_SOURCES = ascent.c
-ascent_la_LDFLAGS = -module -avoid-version
+ascent_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 ascent_la_CFLAGS = $(AM_CFLAGS) \
 		$(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 ascent_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-collectd_LDADD += "-dlopen" ascent.la
-collectd_DEPENDENCIES += ascent.la
+endif
+
+if BUILD_PLUGIN_BAROMETER
+pkglib_LTLIBRARIES += barometer.la
+barometer_la_SOURCES = barometer.c
+barometer_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+barometer_la_LIBADD = -lm
 endif
 
 if BUILD_PLUGIN_BATTERY
 pkglib_LTLIBRARIES += battery.la
 battery_la_SOURCES = battery.c
-battery_la_LDFLAGS = -module -avoid-version
+battery_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 battery_la_LIBADD =
 if BUILD_WITH_LIBIOKIT
 battery_la_LDFLAGS += -framework IOKit
 endif
-collectd_LDADD += "-dlopen" battery.la
-collectd_DEPENDENCIES += battery.la
 endif
 
 if BUILD_PLUGIN_BIND
 pkglib_LTLIBRARIES += bind.la
 bind_la_SOURCES = bind.c
-bind_la_LDFLAGS = -module -avoid-version
+bind_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 bind_la_CFLAGS = $(AM_CFLAGS) \
-		$(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+		 $(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 bind_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-collectd_LDADD += "-dlopen" bind.la
-collectd_DEPENDENCIES += bind.la
+endif
+
+if BUILD_PLUGIN_CEPH
+pkglib_LTLIBRARIES += ceph.la
+ceph_la_SOURCES = ceph.c
+ceph_la_CFLAGS = $(AM_CFLAGS)
+ceph_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBYAJL_LDFLAGS)
+ceph_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBYAJL_CPPFLAGS)
+ceph_la_LIBADD = $(BUILD_WITH_LIBYAJL_LIBS)
 endif
 
 if BUILD_PLUGIN_CGROUPS
 pkglib_LTLIBRARIES += cgroups.la
-cgroups_la_SOURCES = cgroups.c utils_mount.c utils_mount.h
-cgroups_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" cgroups.la
-collectd_DEPENDENCIES += cgroups.la
+cgroups_la_SOURCES = cgroups.c \
+		     utils_ignorelist.c utils_ignorelist.h
+cgroups_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+cgroups_la_LIBADD = libmount.la
 endif
 
 if BUILD_PLUGIN_CONNTRACK
 pkglib_LTLIBRARIES += conntrack.la
 conntrack_la_SOURCES = conntrack.c
-conntrack_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" conntrack.la
-collectd_DEPENDENCIES += conntrack.la
+conntrack_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_CONTEXTSWITCH
 pkglib_LTLIBRARIES += contextswitch.la
 contextswitch_la_SOURCES = contextswitch.c
-contextswitch_la_LDFLAGS = -module -avoid-version
+contextswitch_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 contextswitch_la_LIBADD =
 if BUILD_WITH_PERFSTAT
 contextswitch_la_LIBADD += -lperfstat
 endif
-collectd_LDADD += "-dlopen" contextswitch.la
-collectd_DEPENDENCIES += contextswitch.la
 endif
 
 if BUILD_PLUGIN_CPU
 pkglib_LTLIBRARIES += cpu.la
 cpu_la_SOURCES = cpu.c
 cpu_la_CFLAGS = $(AM_CFLAGS)
-cpu_la_LDFLAGS = -module -avoid-version
-cpu_la_LIBADD = 
+cpu_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+cpu_la_LIBADD =
 if BUILD_WITH_LIBKSTAT
 cpu_la_LIBADD += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 cpu_la_LIBADD += -ldevinfo
 endif
@@ -288,200 +227,185 @@
 cpu_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
 cpu_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 endif
 if BUILD_WITH_PERFSTAT
 cpu_la_LIBADD += -lperfstat
 endif
-collectd_LDADD += "-dlopen" cpu.la
-collectd_DEPENDENCIES += cpu.la
 endif
 
 if BUILD_PLUGIN_CPUFREQ
 pkglib_LTLIBRARIES += cpufreq.la
 cpufreq_la_SOURCES = cpufreq.c
-cpufreq_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" cpufreq.la
-collectd_DEPENDENCIES += cpufreq.la
+cpufreq_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_CSV
 pkglib_LTLIBRARIES += csv.la
 csv_la_SOURCES = csv.c
-csv_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" csv.la
-collectd_DEPENDENCIES += csv.la
+csv_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_CURL
 pkglib_LTLIBRARIES += curl.la
 curl_la_SOURCES = curl.c
-curl_la_LDFLAGS = -module -avoid-version
+curl_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 curl_la_CFLAGS = $(AM_CFLAGS)
 curl_la_LIBADD =
-collectd_LDADD += "-dlopen" curl.la
 if BUILD_WITH_LIBCURL
 curl_la_CFLAGS += $(BUILD_WITH_LIBCURL_CFLAGS)
 curl_la_LIBADD += $(BUILD_WITH_LIBCURL_LIBS)
 endif
-collectd_DEPENDENCIES += curl.la
 endif
 
 if BUILD_PLUGIN_CURL_JSON
 pkglib_LTLIBRARIES += curl_json.la
 curl_json_la_SOURCES = curl_json.c
 curl_json_la_CFLAGS = $(AM_CFLAGS)
-curl_json_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBYAJL_LDFLAGS)
-curl_json_la_CPPFLAGS = $(BUILD_WITH_LIBYAJL_CPPFLAGS)
+curl_json_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBYAJL_LDFLAGS)
+curl_json_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBYAJL_CPPFLAGS)
 curl_json_la_LIBADD = $(BUILD_WITH_LIBYAJL_LIBS)
 if BUILD_WITH_LIBCURL
 curl_json_la_CFLAGS += $(BUILD_WITH_LIBCURL_CFLAGS)
 curl_json_la_LIBADD += $(BUILD_WITH_LIBCURL_LIBS)
 endif
-collectd_LDADD += "-dlopen" curl_json.la
-collectd_DEPENDENCIES += curl_json.la
 endif
 
 if BUILD_PLUGIN_CURL_XML
 pkglib_LTLIBRARIES += curl_xml.la
 curl_xml_la_SOURCES = curl_xml.c
-curl_xml_la_LDFLAGS = -module -avoid-version
+curl_xml_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 curl_xml_la_CFLAGS = $(AM_CFLAGS) \
 		$(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 curl_xml_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-collectd_LDADD += "-dlopen" curl_xml.la
-collectd_DEPENDENCIES += curl_xml.la
 endif
 
 if BUILD_PLUGIN_DBI
 pkglib_LTLIBRARIES += dbi.la
 dbi_la_SOURCES = dbi.c \
 		 utils_db_query.c utils_db_query.h
 dbi_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBDBI_CPPFLAGS)
-dbi_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBDBI_LDFLAGS)
+dbi_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBDBI_LDFLAGS)
 dbi_la_LIBADD = $(BUILD_WITH_LIBDBI_LIBS)
-collectd_LDADD += "-dlopen" dbi.la
-collectd_DEPENDENCIES += dbi.la
 endif
 
 if BUILD_PLUGIN_DF
 pkglib_LTLIBRARIES += df.la
-df_la_SOURCES = df.c utils_mount.c utils_mount.h
-df_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" df.la
-collectd_DEPENDENCIES += df.la
+df_la_SOURCES = df.c \
+		utils_ignorelist.c utils_ignorelist.h
+df_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+df_la_LIBADD = libmount.la
 endif
 
 if BUILD_PLUGIN_DISK
 pkglib_LTLIBRARIES += disk.la
-disk_la_SOURCES = disk.c
+disk_la_SOURCES = disk.c \
+		  utils_ignorelist.c utils_ignorelist.h
 disk_la_CFLAGS = $(AM_CFLAGS)
-disk_la_LDFLAGS = -module -avoid-version
-disk_la_LIBADD = 
+disk_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+disk_la_LIBADD =
 if BUILD_WITH_LIBKSTAT
 disk_la_LIBADD += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 disk_la_LIBADD += -ldevinfo
 endif
 if BUILD_WITH_LIBIOKIT
 disk_la_LDFLAGS += -framework IOKit
 endif
 if BUILD_WITH_LIBSTATGRAB
-disk_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)  
+disk_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
 disk_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 endif
+if BUILD_WITH_LIBUDEV
+disk_la_LIBADD += -ludev
+endif
 if BUILD_WITH_PERFSTAT
 disk_la_LIBADD += -lperfstat
 endif
-collectd_LDADD += "-dlopen" disk.la
-collectd_DEPENDENCIES += disk.la
 endif
 
 if BUILD_PLUGIN_DNS
 pkglib_LTLIBRARIES += dns.la
 dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
-dns_la_LDFLAGS = -module -avoid-version
+dns_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 dns_la_LIBADD = -lpcap -lpthread
-collectd_LDADD += "-dlopen" dns.la
-collectd_DEPENDENCIES += dns.la
+endif
+
+if BUILD_PLUGIN_DRBD
+pkglib_LTLIBRARIES += drbd.la
+drbd_la_SOURCES = drbd.c
+drbd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+drbd_la_LIBADD = -lpthread
 endif
 
 if BUILD_PLUGIN_EMAIL
 pkglib_LTLIBRARIES += email.la
 email_la_SOURCES = email.c
-email_la_LDFLAGS = -module -avoid-version
+email_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 email_la_LIBADD = -lpthread
-collectd_LDADD += "-dlopen" email.la
-collectd_DEPENDENCIES += email.la
 endif
 
 if BUILD_PLUGIN_ENTROPY
 pkglib_LTLIBRARIES += entropy.la
 entropy_la_SOURCES = entropy.c
-entropy_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" entropy.la
-collectd_DEPENDENCIES += entropy.la
+entropy_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_EXEC
 pkglib_LTLIBRARIES += exec.la
 exec_la_SOURCES = exec.c \
 		  utils_cmd_putnotif.c utils_cmd_putnotif.h \
-		  utils_cmd_putval.c utils_cmd_putval.h
-exec_la_LDFLAGS = -module -avoid-version
+		  utils_cmd_putval.c utils_cmd_putval.h \
+		  utils_parse_option.h utils_parse_option.c
+exec_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 exec_la_LIBADD = -lpthread
-collectd_LDADD += "-dlopen" exec.la
-collectd_DEPENDENCIES += exec.la
 endif
 
 if BUILD_PLUGIN_ETHSTAT
 pkglib_LTLIBRARIES += ethstat.la
 ethstat_la_SOURCES = ethstat.c
-ethstat_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" ethstat.la
-collectd_DEPENDENCIES += ethstat.la
+ethstat_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+endif
+
+if BUILD_PLUGIN_FHCOUNT
+pkglib_LTLIBRARIES += fhcount.la
+fhcount_la_SOURCES = fhcount.c
+fhcount_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_FILECOUNT
 pkglib_LTLIBRARIES += filecount.la
 filecount_la_SOURCES = filecount.c
-filecount_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" filecount.la
-collectd_DEPENDENCIES += filecount.la
+filecount_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_GMOND
 pkglib_LTLIBRARIES += gmond.la
 gmond_la_SOURCES = gmond.c
 gmond_la_CPPFLAGS = $(AM_CPPFLAGS) $(GANGLIA_CPPFLAGS)
-gmond_la_LDFLAGS = -module -avoid-version $(GANGLIA_LDFLAGS)
+gmond_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(GANGLIA_LDFLAGS)
 gmond_la_LIBADD = $(GANGLIA_LIBS)
-collectd_LDADD += "-dlopen" gmond.la
-collectd_DEPENDENCIES += gmond.la
 endif
 
 if BUILD_PLUGIN_HDDTEMP
 pkglib_LTLIBRARIES += hddtemp.la
 hddtemp_la_SOURCES = hddtemp.c
-hddtemp_la_LDFLAGS = -module -avoid-version
+hddtemp_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 hddtemp_la_LIBADD =
 if BUILD_WITH_LIBSOCKET
 hddtemp_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" hddtemp.la
-collectd_DEPENDENCIES += hddtemp.la
 endif
 
 if BUILD_PLUGIN_INTERFACE
 pkglib_LTLIBRARIES += interface.la
-interface_la_SOURCES = interface.c
+interface_la_SOURCES = interface.c \
+		       utils_ignorelist.c utils_ignorelist.h
 interface_la_CFLAGS = $(AM_CFLAGS)
-interface_la_LDFLAGS = -module -avoid-version
+interface_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 interface_la_LIBADD =
-collectd_LDADD += "-dlopen" interface.la
-collectd_DEPENDENCIES += interface.la
 if BUILD_WITH_LIBSTATGRAB
 interface_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
 interface_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 else
 if BUILD_WITH_LIBKSTAT
 interface_la_LIBADD += -lkstat
@@ -492,214 +416,183 @@
 endif # !BUILD_WITH_LIBSTATGRAB
 if BUILD_WITH_PERFSTAT
 interface_la_LIBADD += -lperfstat
 endif
 endif # BUILD_PLUGIN_INTERFACE
 
+if BUILD_PLUGIN_IPC
+pkglib_LTLIBRARIES += ipc.la
+ipc_la_SOURCES = ipc.c
+ipc_la_CFLAGS = $(AM_CFLAGS)
+ipc_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+endif
+
 if BUILD_PLUGIN_IPTABLES
 pkglib_LTLIBRARIES += iptables.la
 iptables_la_SOURCES = iptables.c
 iptables_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBIPTC_CPPFLAGS)
-iptables_la_LDFLAGS = -module -avoid-version
+iptables_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 iptables_la_LIBADD = $(BUILD_WITH_LIBIPTC_LDFLAGS)
-collectd_LDADD += "-dlopen" iptables.la
-collectd_DEPENDENCIES += iptables.la
 endif
 
 if BUILD_PLUGIN_IPMI
 pkglib_LTLIBRARIES += ipmi.la
-ipmi_la_SOURCES = ipmi.c
+ipmi_la_SOURCES = ipmi.c \
+		  utils_ignorelist.c utils_ignorelist.h
 ipmi_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_OPENIPMI_CFLAGS)
-ipmi_la_LDFLAGS = -module -avoid-version
+ipmi_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 ipmi_la_LIBADD = $(BUILD_WITH_OPENIPMI_LIBS)
-collectd_LDADD += "-dlopen" ipmi.la
-collectd_DEPENDENCIES += ipmi.la
 endif
 
 if BUILD_PLUGIN_IPVS
 pkglib_LTLIBRARIES += ipvs.la
 ipvs_la_SOURCES = ipvs.c
 if IP_VS_H_NEEDS_KERNEL_CFLAGS
 ipvs_la_CFLAGS = $(AM_CFLAGS) $(KERNEL_CFLAGS)
 endif
-ipvs_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" ipvs.la
-collectd_DEPENDENCIES += ipvs.la
+ipvs_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_IRQ
 pkglib_LTLIBRARIES += irq.la
-irq_la_SOURCES = irq.c
-irq_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" irq.la
-collectd_DEPENDENCIES += irq.la
+irq_la_SOURCES = irq.c \
+		 utils_ignorelist.c utils_ignorelist.h
+irq_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_JAVA
 pkglib_LTLIBRARIES += java.la
 java_la_SOURCES = java.c
 java_la_CPPFLAGS = $(AM_CPPFLAGS) $(JAVA_CPPFLAGS)
 java_la_CFLAGS = $(AM_CFLAGS) $(JAVA_CFLAGS)
-java_la_LDFLAGS = -module -avoid-version $(JAVA_LDFLAGS)
+java_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(JAVA_LDFLAGS)
 java_la_LIBADD = $(JAVA_LIBS)
-collectd_LDADD += "-dlopen" java.la
-collectd_DEPENDENCIES += java.la
-endif
-
-if BUILD_PLUGIN_LIBVIRT
-pkglib_LTLIBRARIES += libvirt.la
-libvirt_la_SOURCES = libvirt.c
-libvirt_la_CFLAGS = $(AM_CFLAGS) \
-		$(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
-libvirt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-libvirt_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" libvirt.la
-collectd_DEPENDENCIES += libvirt.la
 endif
 
 if BUILD_PLUGIN_LOAD
 pkglib_LTLIBRARIES += load.la
 load_la_SOURCES = load.c
 load_la_CFLAGS = $(AM_CFLAGS)
-load_la_LDFLAGS = -module -avoid-version
+load_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 load_la_LIBADD =
-collectd_LDADD += "-dlopen" load.la
-collectd_DEPENDENCIES += load.la
 if BUILD_WITH_LIBSTATGRAB
 load_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
 load_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 endif # BUILD_WITH_LIBSTATGRAB
 if BUILD_WITH_PERFSTAT
 load_la_LIBADD += -lperfstat
 endif
 endif # BUILD_PLUGIN_LOAD
 
 if BUILD_PLUGIN_LOGFILE
 pkglib_LTLIBRARIES += logfile.la
 logfile_la_SOURCES = logfile.c
-logfile_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" logfile.la
-collectd_DEPENDENCIES += logfile.la
+logfile_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+endif
+
+if BUILD_PLUGIN_LOG_LOGSTASH
+pkglib_LTLIBRARIES += log_logstash.la
+log_logstash_la_SOURCES = log_logstash.c
+log_logstash_la_CFLAGS = $(AM_CFLAGS)
+log_logstash_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBYAJL_LDFLAGS)
+log_logstash_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBYAJL_CPPFLAGS)
+log_logstash_la_LIBADD = $(BUILD_WITH_LIBYAJL_LIBS)
 endif
 
 if BUILD_PLUGIN_LPAR
 pkglib_LTLIBRARIES += lpar.la
 lpar_la_SOURCES = lpar.c
-lpar_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" lpar.la
-collectd_DEPENDENCIES += lpar.la
+lpar_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 lpar_la_LIBADD = -lperfstat
 endif
 
 if BUILD_PLUGIN_LVM
 pkglib_LTLIBRARIES += lvm.la
 lvm_la_SOURCES = lvm.c
-lvm_la_LDFLAGS = -module -avoid-version
+lvm_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 lvm_la_LIBADD = $(BUILD_WITH_LIBLVM2APP_LIBS)
-collectd_LDADD += "-dlopen" lvm.la
-collectd_DEPENDENCIES += lvm.la
 endif
 
 if BUILD_PLUGIN_MADWIFI
 pkglib_LTLIBRARIES += madwifi.la
-madwifi_la_SOURCES = madwifi.c madwifi.h
-madwifi_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" madwifi.la
-collectd_DEPENDENCIES += madwifi.la
+madwifi_la_SOURCES = madwifi.c madwifi.h \
+		     utils_ignorelist.c utils_ignorelist.h
+madwifi_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MATCH_EMPTY_COUNTER
 pkglib_LTLIBRARIES += match_empty_counter.la
 match_empty_counter_la_SOURCES = match_empty_counter.c
-match_empty_counter_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" match_empty_counter.la
-collectd_DEPENDENCIES += match_empty_counter.la
+match_empty_counter_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MATCH_HASHED
 pkglib_LTLIBRARIES += match_hashed.la
 match_hashed_la_SOURCES = match_hashed.c
-match_hashed_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" match_hashed.la
-collectd_DEPENDENCIES += match_hashed.la
+match_hashed_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MATCH_REGEX
 pkglib_LTLIBRARIES += match_regex.la
 match_regex_la_SOURCES = match_regex.c
-match_regex_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" match_regex.la
-collectd_DEPENDENCIES += match_regex.la
+match_regex_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MATCH_TIMEDIFF
 pkglib_LTLIBRARIES += match_timediff.la
 match_timediff_la_SOURCES = match_timediff.c
-match_timediff_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" match_timediff.la
-collectd_DEPENDENCIES += match_timediff.la
+match_timediff_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MATCH_VALUE
 pkglib_LTLIBRARIES += match_value.la
 match_value_la_SOURCES = match_value.c
-match_value_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" match_value.la
-collectd_DEPENDENCIES += match_value.la
+match_value_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MBMON
 pkglib_LTLIBRARIES += mbmon.la
 mbmon_la_SOURCES = mbmon.c
-mbmon_la_LDFLAGS = -module -avoid-version
+mbmon_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 mbmon_la_LIBADD =
 if BUILD_WITH_LIBSOCKET
 mbmon_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" mbmon.la
-collectd_DEPENDENCIES += mbmon.la
 endif
 
 if BUILD_PLUGIN_MD
 pkglib_LTLIBRARIES += md.la
-md_la_SOURCES = md.c
-md_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" md.la
-collectd_DEPENDENCIES += md.la
+md_la_SOURCES = md.c \
+		utils_ignorelist.c utils_ignorelist.h
+md_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MEMCACHEC
 pkglib_LTLIBRARIES += memcachec.la
 memcachec_la_SOURCES = memcachec.c
-memcachec_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBMEMCACHED_LDFLAGS)
-memcachec_la_CPPFLAGS = $(BUILD_WITH_LIBMEMCACHED_CPPFLAGS)
+memcachec_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBMEMCACHED_LDFLAGS)
+memcachec_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBMEMCACHED_CPPFLAGS)
 memcachec_la_LIBADD = $(BUILD_WITH_LIBMEMCACHED_LIBS)
-collectd_LDADD += "-dlopen" memcachec.la
-collectd_DEPENDENCIES += memcachec.la
 endif
 
 if BUILD_PLUGIN_MEMCACHED
 pkglib_LTLIBRARIES += memcached.la
 memcached_la_SOURCES = memcached.c
-memcached_la_LDFLAGS = -module -avoid-version
+memcached_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 memcached_la_LIBADD =
 if BUILD_WITH_LIBSOCKET
 memcached_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" memcached.la
-collectd_DEPENDENCIES += memcached.la
 endif
 
 if BUILD_PLUGIN_MEMORY
 pkglib_LTLIBRARIES += memory.la
 memory_la_SOURCES = memory.c
 memory_la_CFLAGS = $(AM_CFLAGS)
-memory_la_LDFLAGS = -module -avoid-version
+memory_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 memory_la_LIBADD =
-collectd_LDADD += "-dlopen" memory.la
-collectd_DEPENDENCIES += memory.la
 if BUILD_WITH_LIBKSTAT
 memory_la_LIBADD += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 memory_la_LIBADD += -ldevinfo
 endif
@@ -709,204 +602,187 @@
 endif
 if BUILD_WITH_PERFSTAT
 memory_la_LIBADD += -lperfstat
 endif
 endif
 
+if BUILD_PLUGIN_MIC
+pkglib_LTLIBRARIES += mic.la
+mic_la_SOURCES = mic.c \
+		 utils_ignorelist.c utils_ignorelist.h
+mic_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_MIC_LIBPATH)
+mic_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_MIC_CPPFLAGS)
+mic_la_LIBADD = $(BUILD_WITH_MIC_LDADD)
+endif
+
 if BUILD_PLUGIN_MODBUS
 pkglib_LTLIBRARIES += modbus.la
 modbus_la_SOURCES = modbus.c
-modbus_la_LDFLAGS = -module -avoid-version
+modbus_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 modbus_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBMODBUS_CFLAGS)
 modbus_la_LIBADD = $(BUILD_WITH_LIBMODBUS_LIBS)
-collectd_LDADD += "-dlopen" modbus.la
-collectd_DEPENDENCIES += modbus.la
 endif
 
 if BUILD_PLUGIN_MULTIMETER
 pkglib_LTLIBRARIES += multimeter.la
 multimeter_la_SOURCES = multimeter.c
-multimeter_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" multimeter.la
-collectd_DEPENDENCIES += multimeter.la
+multimeter_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_MYSQL
 pkglib_LTLIBRARIES += mysql.la
 mysql_la_SOURCES = mysql.c
-mysql_la_LDFLAGS = -module -avoid-version
+mysql_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 mysql_la_CFLAGS = $(AM_CFLAGS)
 mysql_la_LIBADD =
-collectd_LDADD += "-dlopen" mysql.la
 if BUILD_WITH_LIBMYSQL
 mysql_la_CFLAGS += $(BUILD_WITH_LIBMYSQL_CFLAGS)
 mysql_la_LIBADD += $(BUILD_WITH_LIBMYSQL_LIBS)
 endif
-collectd_DEPENDENCIES += mysql.la
 endif
 
 if BUILD_PLUGIN_NETAPP
 pkglib_LTLIBRARIES += netapp.la
-netapp_la_SOURCES = netapp.c
+netapp_la_SOURCES = netapp.c \
+		    utils_ignorelist.c utils_ignorelist.h
 netapp_la_CPPFLAGS = $(AM_CPPFLAGS) $(LIBNETAPP_CPPFLAGS)
-netapp_la_LDFLAGS = -module -avoid-version $(LIBNETAPP_LDFLAGS)
+netapp_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(LIBNETAPP_LDFLAGS)
 netapp_la_LIBADD = $(LIBNETAPP_LIBS)
-collectd_LDADD += "-dlopen" netapp.la
-collectd_DEPENDENCIES += netapp.la
 endif
 
 if BUILD_PLUGIN_NETLINK
 pkglib_LTLIBRARIES += netlink.la
 netlink_la_SOURCES = netlink.c
-netlink_la_LDFLAGS = -module -avoid-version
+netlink_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 netlink_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBMNL_CFLAGS)
 netlink_la_LIBADD = $(BUILD_WITH_LIBMNL_LIBS)
-collectd_LDADD += "-dlopen" netlink.la
-collectd_DEPENDENCIES += netlink.la
 endif
 
 if BUILD_PLUGIN_NETWORK
 pkglib_LTLIBRARIES += network.la
 network_la_SOURCES = network.c network.h \
 		     utils_fbhash.c utils_fbhash.h
 network_la_CPPFLAGS = $(AM_CPPFLAGS)
-network_la_LDFLAGS = -module -avoid-version
+network_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 network_la_LIBADD = -lpthread
 if BUILD_WITH_LIBSOCKET
 network_la_LIBADD += -lsocket
 endif
 if BUILD_WITH_LIBGCRYPT
 network_la_CPPFLAGS += $(GCRYPT_CPPFLAGS)
 network_la_LDFLAGS += $(GCRYPT_LDFLAGS)
 network_la_LIBADD += $(GCRYPT_LIBS)
 endif
-collectd_LDADD += "-dlopen" network.la
-collectd_DEPENDENCIES += network.la
 endif
 
 if BUILD_PLUGIN_NFS
 pkglib_LTLIBRARIES += nfs.la
 nfs_la_SOURCES = nfs.c
-nfs_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" nfs.la
-collectd_DEPENDENCIES += nfs.la
+nfs_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_FSCACHE
 pkglib_LTLIBRARIES += fscache.la
 fscache_la_SOURCES = fscache.c
-fscache_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" fscache.la
-collectd_DEPENDENCIES += fscache.la
+fscache_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_NGINX
 pkglib_LTLIBRARIES += nginx.la
 nginx_la_SOURCES = nginx.c
 nginx_la_CFLAGS = $(AM_CFLAGS)
 nginx_la_LIBADD =
-nginx_la_LDFLAGS = -module -avoid-version
+nginx_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 if BUILD_WITH_LIBCURL
 nginx_la_CFLAGS += $(BUILD_WITH_LIBCURL_CFLAGS)
 nginx_la_LIBADD += $(BUILD_WITH_LIBCURL_LIBS)
 endif
-collectd_LDADD += "-dlopen" nginx.la
-collectd_DEPENDENCIES += nginx.la
 endif
 
 if BUILD_PLUGIN_NOTIFY_DESKTOP
 pkglib_LTLIBRARIES += notify_desktop.la
 notify_desktop_la_SOURCES = notify_desktop.c
 notify_desktop_la_CFLAGS = $(AM_CFLAGS) $(LIBNOTIFY_CFLAGS)
-notify_desktop_la_LDFLAGS = -module -avoid-version
+notify_desktop_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 notify_desktop_la_LIBADD = $(LIBNOTIFY_LIBS)
-collectd_LDADD += "-dlopen" notify_desktop.la
-collectd_DEPENDENCIES += notify_desktop.la
 endif
 
 if BUILD_PLUGIN_NOTIFY_EMAIL
 pkglib_LTLIBRARIES += notify_email.la
 notify_email_la_SOURCES = notify_email.c
-notify_email_la_LDFLAGS = -module -avoid-version
+notify_email_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 notify_email_la_LIBADD = -lesmtp -lssl -lcrypto -lpthread
-collectd_LDADD += "-dlopen" notify_email.la
-collectd_DEPENDENCIES += notify_email.la
 endif
 
 if BUILD_PLUGIN_NTPD
 pkglib_LTLIBRARIES += ntpd.la
 ntpd_la_SOURCES = ntpd.c
-ntpd_la_LDFLAGS = -module -avoid-version
+ntpd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 ntpd_la_LIBADD =
 if BUILD_WITH_LIBSOCKET
 ntpd_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" ntpd.la
-collectd_DEPENDENCIES += ntpd.la
 endif
 
 if BUILD_PLUGIN_NUMA
 pkglib_LTLIBRARIES += numa.la
 numa_la_SOURCES = numa.c
-numa_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" numa.la
-collectd_DEPENDENCIES += numa.la
+numa_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_NUT
 pkglib_LTLIBRARIES += nut.la
 nut_la_SOURCES = nut.c
 nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
-nut_la_LDFLAGS = -module -avoid-version
+nut_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 nut_la_LIBADD = -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
-collectd_LDADD += "-dlopen" nut.la
-collectd_DEPENDENCIES += nut.la
 endif
 
 if BUILD_PLUGIN_OLSRD
 pkglib_LTLIBRARIES += olsrd.la
 olsrd_la_SOURCES = olsrd.c
-olsrd_la_LDFLAGS = -module -avoid-version
-olsrd_la_LIBADD = 
+olsrd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+olsrd_la_LIBADD =
 if BUILD_WITH_LIBSOCKET
 olsrd_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" olsrd.la
-collectd_DEPENDENCIES += olsrd.la
 endif
 
 if BUILD_PLUGIN_ONEWIRE
 pkglib_LTLIBRARIES += onewire.la
-onewire_la_SOURCES = onewire.c
+onewire_la_SOURCES = onewire.c \
+		     utils_ignorelist.c utils_ignorelist.h
 onewire_la_CFLAGS = $(AM_CFLAGS)
-onewire_la_CPPFLAGS = $(BUILD_WITH_LIBOWCAPI_CPPFLAGS)
+onewire_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBOWCAPI_CPPFLAGS)
 onewire_la_LIBADD = $(BUILD_WITH_LIBOWCAPI_LIBS)
-onewire_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" onewire.la
-collectd_DEPENDENCIES += onewire.la
+onewire_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+endif
+
+if BUILD_PLUGIN_OPENLDAP
+pkglib_LTLIBRARIES += openldap.la
+openldap_la_SOURCES = openldap.c
+openldap_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBLDAP_LDFLAGS)
+openldap_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBLDAP_CPPFLAGS)
+openldap_la_LIBADD = -lldap
 endif
 
 if BUILD_PLUGIN_OPENVPN
 pkglib_LTLIBRARIES += openvpn.la
 openvpn_la_SOURCES = openvpn.c
 openvpn_la_CFLAGS = $(AM_CFLAGS)
-openvpn_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" openvpn.la
-collectd_DEPENDENCIES += openvpn.la
+openvpn_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_ORACLE
 pkglib_LTLIBRARIES += oracle.la
 oracle_la_SOURCES = oracle.c \
 	utils_db_query.c utils_db_query.h
 oracle_la_CFLAGS = $(AM_CFLAGS)
-oracle_la_CPPFLAGS = $(BUILD_WITH_ORACLE_CFLAGS)
+oracle_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_ORACLE_CFLAGS)
 oracle_la_LIBADD = $(BUILD_WITH_ORACLE_LIBS)
-oracle_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" oracle.la
-collectd_DEPENDENCIES += oracle.la
+oracle_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_PERL
 pkglib_LTLIBRARIES += perl.la
 perl_la_SOURCES = perl.c
 # Despite C99 providing the "bool" type thru stdbool.h, Perl defines its own
@@ -917,204 +793,179 @@
 		-DXS_VERSION=\"$(VERSION)\" -DVERSION=\"$(VERSION)\"
 # Work-around for issues #41 and #42 - Perl 5.10 incorrectly introduced
 # __attribute__nonnull__(3) for Perl_load_module().
 if HAVE_BROKEN_PERL_LOAD_MODULE
 perl_la_CFLAGS += -Wno-nonnull
 endif
-perl_la_LDFLAGS = -module -avoid-version \
+perl_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
 		$(PERL_LDFLAGS)
 perl_la_LIBADD = $(PERL_LIBS)
-collectd_LDADD += "-dlopen" perl.la
-collectd_DEPENDENCIES += perl.la
 endif
 
 if BUILD_PLUGIN_PF
 pkglib_LTLIBRARIES += pf.la
 pf_la_SOURCES = pf.c
-pf_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" pf.la
-collectd_DEPENDENCIES += pf.la
+pf_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_PINBA
 pkglib_LTLIBRARIES += pinba.la
 pinba_la_SOURCES = pinba.c
 nodist_pinba_la_SOURCES = pinba.pb-c.c pinba.pb-c.h
-pinba_la_LDFLAGS = -module -avoid-version
+pinba_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 pinba_la_LIBADD = -lprotobuf-c
-collectd_LDADD += "-dlopen" pinba.la
-collectd_DEPENDENCIES += pinba.la
 endif
 
 if BUILD_PLUGIN_PING
 pkglib_LTLIBRARIES += ping.la
 ping_la_SOURCES = ping.c
 ping_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBOPING_CPPFLAGS)
-ping_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBOPING_LDFLAGS)
+ping_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBOPING_LDFLAGS)
 ping_la_LIBADD = -loping -lm
-collectd_LDADD += "-dlopen" ping.la
-collectd_DEPENDENCIES += ping.la
 endif
 
 if BUILD_PLUGIN_POSTGRESQL
 pkglib_LTLIBRARIES += postgresql.la
 postgresql_la_SOURCES = postgresql.c \
 		 utils_db_query.c utils_db_query.h
 postgresql_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBPQ_CPPFLAGS)
-postgresql_la_LDFLAGS = -module -avoid-version \
+postgresql_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
 		$(BUILD_WITH_LIBPQ_LDFLAGS)
 postgresql_la_LIBADD = -lpq
-collectd_LDADD += "-dlopen" postgresql.la
-collectd_DEPENDENCIES += postgresql.la
 endif
 
 if BUILD_PLUGIN_POWERDNS
 pkglib_LTLIBRARIES += powerdns.la
 powerdns_la_SOURCES = powerdns.c
-powerdns_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" powerdns.la
-collectd_DEPENDENCIES += powerdns.la
+powerdns_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_PYTHON
 pkglib_LTLIBRARIES += python.la
 python_la_SOURCES = python.c pyconfig.c pyvalues.c cpython.h
 python_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_PYTHON_CPPFLAGS)
 python_la_CFLAGS = $(AM_CFLAGS)
 if COMPILER_IS_GCC
 python_la_CFLAGS += -fno-strict-aliasing -Wno-strict-aliasing
 endif
-python_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_PYTHON_LDFLAGS)
+python_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_PYTHON_LDFLAGS)
 python_la_LIBADD = $(BUILD_WITH_PYTHON_LIBS)
-collectd_LDADD += "-dlopen" python.la
-collectd_DEPENDENCIES += python.la
 endif
 
 if BUILD_PLUGIN_PROCESSES
 pkglib_LTLIBRARIES += processes.la
 processes_la_SOURCES = processes.c
-processes_la_LDFLAGS = -module -avoid-version
+processes_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 processes_la_LIBADD =
-collectd_LDADD += "-dlopen" processes.la
-collectd_DEPENDENCIES += processes.la
 if BUILD_WITH_LIBKVM_GETPROCS
 processes_la_LIBADD += -lkvm
 endif
 endif
 
 if BUILD_PLUGIN_PROTOCOLS
 pkglib_LTLIBRARIES += protocols.la
-protocols_la_SOURCES = protocols.c
-protocols_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" protocols.la
-collectd_DEPENDENCIES += protocols.la
+protocols_la_SOURCES = protocols.c \
+		       utils_ignorelist.c utils_ignorelist.h
+protocols_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_REDIS
 pkglib_LTLIBRARIES += redis.la
 redis_la_SOURCES = redis.c
-redis_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBCREDIS_LDFLAGS)
-redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBCREDIS_CPPFLAGS)
-redis_la_LIBADD = -lcredis
-collectd_LDADD += "-dlopen" redis.la
-collectd_DEPENDENCIES += redis.la
+redis_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBHIREDIS_LDFLAGS)
+redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBHIREDIS_CPPFLAGS)
+redis_la_LIBADD = -lhiredis
 endif
 
 if BUILD_PLUGIN_ROUTEROS
 pkglib_LTLIBRARIES += routeros.la
 routeros_la_SOURCES = routeros.c
-routeros_la_CPPFLAGS = $(BUILD_WITH_LIBROUTEROS_CPPFLAGS)
-routeros_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBROUTEROS_LDFLAGS)
+routeros_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBROUTEROS_CPPFLAGS)
+routeros_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBROUTEROS_LDFLAGS)
 routeros_la_LIBADD = -lrouteros
-collectd_LDADD += "-dlopen" routeros.la
-collectd_DEPENDENCIES += routeros.la
 endif
 
 if BUILD_PLUGIN_RRDCACHED
 pkglib_LTLIBRARIES += rrdcached.la
 rrdcached_la_SOURCES = rrdcached.c utils_rrdcreate.c utils_rrdcreate.h
-rrdcached_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBRRD_LDFLAGS)
+rrdcached_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 rrdcached_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBRRD_CFLAGS)
-rrdcached_la_LIBADD = $(BUILD_WITH_LIBRRD_LIBS)
-collectd_LDADD += "-dlopen" rrdcached.la
-collectd_DEPENDENCIES += rrdcached.la
+rrdcached_la_LIBADD = $(BUILD_WITH_LIBRRD_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_RRDTOOL
 pkglib_LTLIBRARIES += rrdtool.la
 rrdtool_la_SOURCES = rrdtool.c utils_rrdcreate.c utils_rrdcreate.h
-rrdtool_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBRRD_LDFLAGS)
+rrdtool_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 rrdtool_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBRRD_CFLAGS)
-rrdtool_la_LIBADD = $(BUILD_WITH_LIBRRD_LIBS)
-collectd_LDADD += "-dlopen" rrdtool.la
-collectd_DEPENDENCIES += rrdtool.la
+rrdtool_la_LIBADD = $(BUILD_WITH_LIBRRD_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_SENSORS
 pkglib_LTLIBRARIES += sensors.la
-sensors_la_SOURCES = sensors.c
+sensors_la_SOURCES = sensors.c \
+		     utils_ignorelist.c utils_ignorelist.h
 sensors_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBSENSORS_CFLAGS)
-sensors_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSENSORS_LDFLAGS)
+sensors_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBSENSORS_LDFLAGS)
 sensors_la_LIBADD = -lsensors
-collectd_LDADD += "-dlopen" sensors.la
-collectd_DEPENDENCIES += sensors.la
 endif
 
 if BUILD_PLUGIN_SERIAL
 pkglib_LTLIBRARIES += serial.la
 serial_la_SOURCES = serial.c
-serial_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" serial.la
-collectd_DEPENDENCIES += serial.la
+serial_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_SIGROK
 pkglib_LTLIBRARIES += sigrok.la
 sigrok_la_SOURCES = sigrok.c
 sigrok_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBSIGROK_CFLAGS)
-sigrok_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSIGROK_LDFLAGS)
+sigrok_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBSIGROK_LDFLAGS)
 sigrok_la_LIBADD = -lsigrok
-collectd_LDADD += "-dlopen" sigrok.la
-collectd_DEPENDENCIES += sigrok.la
+endif
+
+if BUILD_PLUGIN_SMART
+if BUILD_WITH_LIBUDEV
+pkglib_LTLIBRARIES += smart.la
+smart_la_SOURCES = smart.c \
+		   utils_ignorelist.c utils_ignorelist.h
+smart_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBATASMART_CPPFLAGS)
+smart_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBATASMART_LDFLAGS)
+smart_la_LIBADD = $(BUILD_WITH_LIBATASMART_LIBS) -ludev
+endif
 endif
 
 if BUILD_PLUGIN_SNMP
 pkglib_LTLIBRARIES += snmp.la
 snmp_la_SOURCES = snmp.c
-snmp_la_LDFLAGS = -module -avoid-version
+snmp_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 snmp_la_CFLAGS = $(AM_CFLAGS)
 snmp_la_LIBADD =
 if BUILD_WITH_LIBNETSNMP
 snmp_la_CFLAGS += $(BUILD_WITH_LIBSNMP_CFLAGS)
 snmp_la_LIBADD += $(BUILD_WITH_LIBSNMP_LIBS)
 endif
 if BUILD_WITH_LIBPTHREAD
 snmp_la_LIBADD += -lpthread
 endif
-collectd_LDADD += "-dlopen" snmp.la
-collectd_DEPENDENCIES += snmp.la
 endif
 
 if BUILD_PLUGIN_STATSD
 pkglib_LTLIBRARIES += statsd.la
 statsd_la_SOURCES = statsd.c \
                     utils_latency.h utils_latency.c
-statsd_la_LDFLAGS = -module -avoid-version
-statsd_la_LIBADD = -lpthread -lm
-collectd_LDADD += "-dlopen" statsd.la
-collectd_DEPENDENCIES += statsd.la
+statsd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+statsd_la_LIBADD = -lpthread
 endif
 
 if BUILD_PLUGIN_SWAP
 pkglib_LTLIBRARIES += swap.la
 swap_la_SOURCES = swap.c
 swap_la_CFLAGS = $(AM_CFLAGS)
-swap_la_LDFLAGS = -module -avoid-version
+swap_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 swap_la_LIBADD =
-collectd_LDADD += "-dlopen" swap.la
-collectd_DEPENDENCIES += swap.la
 if BUILD_WITH_LIBKSTAT
 swap_la_LIBADD += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 swap_la_LIBADD += -ldevinfo
 endif
@@ -1131,322 +982,311 @@
 
 endif
 
 if BUILD_PLUGIN_SYSLOG
 pkglib_LTLIBRARIES += syslog.la
 syslog_la_SOURCES = syslog.c
-syslog_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" syslog.la
-collectd_DEPENDENCIES += syslog.la
+syslog_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TABLE
 pkglib_LTLIBRARIES += table.la
 table_la_SOURCES = table.c
-table_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" table.la
-collectd_DEPENDENCIES += table.la
+table_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TAIL
 pkglib_LTLIBRARIES += tail.la
 tail_la_SOURCES = tail.c
-tail_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" tail.la
-collectd_DEPENDENCIES += tail.la
+tail_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TAIL_CSV
 pkglib_LTLIBRARIES += tail_csv.la
 tail_csv_la_SOURCES = tail_csv.c
-tail_csv_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" tail_csv.la
-collectd_DEPENDENCIES += tail_csv.la
+tail_csv_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TAPE
 pkglib_LTLIBRARIES += tape.la
 tape_la_SOURCES = tape.c
-tape_la_LDFLAGS = -module -avoid-version
+tape_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 tape_la_LIBADD = -lkstat -ldevinfo
-collectd_LDADD += "-dlopen" tape.la
-collectd_DEPENDENCIES += tape.la
 endif
 
 if BUILD_PLUGIN_TARGET_NOTIFICATION
 pkglib_LTLIBRARIES += target_notification.la
 target_notification_la_SOURCES = target_notification.c
-target_notification_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" target_notification.la
-collectd_DEPENDENCIES += target_notification.la
+target_notification_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TARGET_REPLACE
 pkglib_LTLIBRARIES += target_replace.la
 target_replace_la_SOURCES = target_replace.c
-target_replace_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" target_replace.la
-collectd_DEPENDENCIES += target_replace.la
+target_replace_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TARGET_SCALE
 pkglib_LTLIBRARIES += target_scale.la
 target_scale_la_SOURCES = target_scale.c
-target_scale_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" target_scale.la
-collectd_DEPENDENCIES += target_scale.la
+target_scale_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TARGET_SET
 pkglib_LTLIBRARIES += target_set.la
 target_set_la_SOURCES = target_set.c
-target_set_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" target_set.la
-collectd_DEPENDENCIES += target_set.la
+target_set_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TARGET_V5UPGRADE
 pkglib_LTLIBRARIES += target_v5upgrade.la
 target_v5upgrade_la_SOURCES = target_v5upgrade.c
-target_v5upgrade_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" target_v5upgrade.la
-collectd_DEPENDENCIES += target_v5upgrade.la
+target_v5upgrade_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TCPCONNS
 pkglib_LTLIBRARIES += tcpconns.la
 tcpconns_la_SOURCES = tcpconns.c
-tcpconns_la_LDFLAGS = -module -avoid-version
+tcpconns_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 tcpconns_la_LIBADD =
-collectd_LDADD += "-dlopen" tcpconns.la
-collectd_DEPENDENCIES += tcpconns.la
 if BUILD_WITH_LIBKVM_NLIST
 tcpconns_la_LIBADD += -lkvm
 endif
 endif
 
 if BUILD_PLUGIN_TEAMSPEAK2
 pkglib_LTLIBRARIES += teamspeak2.la
 teamspeak2_la_SOURCES = teamspeak2.c
-teamspeak2_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" teamspeak2.la
-collectd_DEPENDENCIES += teamspeak2.la
+teamspeak2_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TED
 pkglib_LTLIBRARIES += ted.la
 ted_la_SOURCES = ted.c
-ted_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" ted.la
-collectd_DEPENDENCIES += ted.la
+ted_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_THERMAL
 pkglib_LTLIBRARIES += thermal.la
-thermal_la_SOURCES = thermal.c
-thermal_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" thermal.la
-collectd_DEPENDENCIES += thermal.la
+thermal_la_SOURCES = thermal.c \
+		     utils_ignorelist.c utils_ignorelist.h
+thermal_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_THRESHOLD
 pkglib_LTLIBRARIES += threshold.la
 threshold_la_SOURCES = threshold.c
-threshold_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" threshold.la
-collectd_DEPENDENCIES += threshold.la
+threshold_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_TOKYOTYRANT
 pkglib_LTLIBRARIES += tokyotyrant.la
 tokyotyrant_la_SOURCES = tokyotyrant.c
 tokyotyrant_la_CPPFLAGS  = $(AM_CPPFLAGS) $(BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS)
-tokyotyrant_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS)
+tokyotyrant_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS)
 tokyotyrant_la_LIBADD  = $(BUILD_WITH_LIBTOKYOTYRANT_LIBS)
 if BUILD_WITH_LIBSOCKET
 tokyotyrant_la_LIBADD += -lsocket
 endif
-collectd_LDADD += "-dlopen" tokyotyrant.la
-collectd_DEPENDENCIES += tokyotyrant.la
+endif
+
+if BUILD_PLUGIN_TURBOSTAT
+pkglib_LTLIBRARIES += turbostat.la
+turbostat_la_SOURCES = turbostat.c
+turbostat_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_UNIXSOCK
 pkglib_LTLIBRARIES += unixsock.la
 unixsock_la_SOURCES = unixsock.c \
 		      utils_cmd_flush.h utils_cmd_flush.c \
 		      utils_cmd_getval.h utils_cmd_getval.c \
+		      utils_cmd_getthreshold.h utils_cmd_getthreshold.c \
 		      utils_cmd_listval.h utils_cmd_listval.c \
 		      utils_cmd_putval.h utils_cmd_putval.c \
-		      utils_cmd_putnotif.h utils_cmd_putnotif.c
-unixsock_la_LDFLAGS = -module -avoid-version
+		      utils_cmd_putnotif.h utils_cmd_putnotif.c \
+		      utils_parse_option.h utils_parse_option.c
+unixsock_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 unixsock_la_LIBADD = -lpthread
-collectd_LDADD += "-dlopen" unixsock.la
-collectd_DEPENDENCIES += unixsock.la
 endif
 
 if BUILD_PLUGIN_UPTIME
 pkglib_LTLIBRARIES += uptime.la
 uptime_la_SOURCES = uptime.c
 uptime_la_CFLAGS = $(AM_CFLAGS)
-uptime_la_LDFLAGS = -module -avoid-version
+uptime_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 uptime_la_LIBADD =
 if BUILD_WITH_LIBKSTAT
 uptime_la_LIBADD += -lkstat
 endif
 if BUILD_WITH_PERFSTAT
 uptime_la_LIBADD += -lperfstat
 endif
-collectd_LDADD += "-dlopen" uptime.la
-collectd_DEPENDENCIES += uptime.la
 endif
 
 if BUILD_PLUGIN_USERS
 pkglib_LTLIBRARIES += users.la
 users_la_SOURCES = users.c
 users_la_CFLAGS = $(AM_CFLAGS)
-users_la_LDFLAGS = -module -avoid-version
+users_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 users_la_LIBADD =
 if BUILD_WITH_LIBSTATGRAB
 users_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
 users_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 endif
-collectd_LDADD += "-dlopen" users.la
-collectd_DEPENDENCIES += users.la
 endif
 
 if BUILD_PLUGIN_UUID
 pkglib_LTLIBRARIES += uuid.la
 uuid_la_SOURCES = uuid.c
 uuid_la_CFLAGS  = $(AM_CFLAGS) $(BUILD_WITH_LIBHAL_CFLAGS)
 uuid_la_LIBADD  = $(BUILD_WITH_LIBHAL_LIBS)
-uuid_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" uuid.la
-collectd_DEPENDENCIES += uuid.la
-endif
-
-if BUILD_PLUGIN_MIC
-pkglib_LTLIBRARIES += mic.la
-mic_la_SOURCES = mic.c
-mic_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_MIC_LIBPATH)
-mic_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_MIC_CPPFLAGS)
-mic_la_LIBADD = $(BUILD_WITH_MIC_LDADD)
-collectd_LDADD += "-dlopen" mic.la
-collectd_DEPENDENCIES += mic.la
+uuid_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_VARNISH
 pkglib_LTLIBRARIES += varnish.la
 varnish_la_SOURCES = varnish.c
-varnish_la_LDFLAGS = -module -avoid-version
+varnish_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 varnish_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBVARNISH_CFLAGS)
 varnish_la_LIBADD = $(BUILD_WITH_LIBVARNISH_LIBS)
-collectd_LDADD += "-dlopen" varnish.la
-collectd_DEPENDENCIES += varnish.la
+endif
+
+if BUILD_PLUGIN_VIRT
+pkglib_LTLIBRARIES += virt.la
+virt_la_SOURCES = virt.c \
+		  utils_ignorelist.c utils_ignorelist.h
+virt_la_CFLAGS = $(AM_CFLAGS) \
+		$(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+virt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
+virt_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_VMEM
 pkglib_LTLIBRARIES += vmem.la
 vmem_la_SOURCES = vmem.c
-vmem_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" vmem.la
-collectd_DEPENDENCIES += vmem.la
+vmem_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_VSERVER
 pkglib_LTLIBRARIES += vserver.la
 vserver_la_SOURCES = vserver.c
-vserver_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" vserver.la
-collectd_DEPENDENCIES += vserver.la
+vserver_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_WIRELESS
 pkglib_LTLIBRARIES += wireless.la
 wireless_la_SOURCES = wireless.c
-wireless_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" wireless.la
-collectd_DEPENDENCIES += wireless.la
+wireless_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_WRITE_GRAPHITE
 pkglib_LTLIBRARIES += write_graphite.la
 write_graphite_la_SOURCES = write_graphite.c \
                         utils_format_graphite.c utils_format_graphite.h \
                         utils_format_json.c utils_format_json.h
-write_graphite_la_LDFLAGS = -module -avoid-version
-collectd_LDADD += "-dlopen" write_graphite.la
-collectd_DEPENDENCIES += write_graphite.la
+write_graphite_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_WRITE_HTTP
 pkglib_LTLIBRARIES += write_http.la
 write_http_la_SOURCES = write_http.c \
 			utils_format_json.c utils_format_json.h
-write_http_la_LDFLAGS = -module -avoid-version
+write_http_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 write_http_la_CFLAGS = $(AM_CFLAGS)
 write_http_la_LIBADD =
-collectd_LDADD += "-dlopen" write_http.la
 if BUILD_WITH_LIBCURL
 write_http_la_CFLAGS += $(BUILD_WITH_LIBCURL_CFLAGS)
 write_http_la_LIBADD += $(BUILD_WITH_LIBCURL_LIBS)
 endif
-collectd_DEPENDENCIES += write_http.la
+endif
+
+if BUILD_PLUGIN_WRITE_KAFKA
+pkglib_LTLIBRARIES += write_kafka.la
+write_kafka_la_SOURCES = write_kafka.c \
+                        utils_format_graphite.c utils_format_graphite.h \
+                        utils_format_json.c utils_format_json.h \
+                        utils_cmd_putval.c utils_cmd_putval.h \
+                        utils_crc32.c utils_crc32.h
+write_kafka_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBRDKAFKA_CPPFLAGS)
+write_kafka_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBRDKAFKA_LDFLAGS)
+write_kafka_la_LIBADD = $(BUILD_WITH_LIBRDKAFKA_LIBS)
+endif
+
+if BUILD_PLUGIN_WRITE_LOG
+pkglib_LTLIBRARIES += write_log.la
+write_log_la_SOURCES = write_log.c \
+                        utils_format_graphite.c utils_format_graphite.h
+write_log_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_WRITE_MONGODB
 pkglib_LTLIBRARIES += write_mongodb.la
 write_mongodb_la_SOURCES = write_mongodb.c
 write_mongodb_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBMONGOC_CPPFLAGS)
-write_mongodb_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBMONGOC_LDFLAGS)
+write_mongodb_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBMONGOC_LDFLAGS)
 write_mongodb_la_LIBADD = -lmongoc
-collectd_LDADD += "-dlopen" write_mongodb.la
-collectd_DEPENDENCIES += write_mongodb.la
 endif
 
 if BUILD_PLUGIN_WRITE_REDIS
 pkglib_LTLIBRARIES += write_redis.la
 write_redis_la_SOURCES = write_redis.c
-write_redis_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBCREDIS_LDFLAGS)
-write_redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBCREDIS_CPPFLAGS)
-write_redis_la_LIBADD = -lcredis
-collectd_LDADD += "-dlopen" write_redis.la
-collectd_DEPENDENCIES += write_redis.la
+write_redis_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBHIREDIS_LDFLAGS)
+write_redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBHIREDIS_CPPFLAGS)
+write_redis_la_LIBADD = -lhiredis
 endif
 
 if BUILD_PLUGIN_WRITE_RIEMANN
 pkglib_LTLIBRARIES += write_riemann.la
-write_riemann_la_SOURCES = write_riemann.c
+write_riemann_la_SOURCES = write_riemann.c write_riemann_threshold.c
 nodist_write_riemann_la_SOURCES = riemann.pb-c.c riemann.pb-c.h
-write_riemann_la_LDFLAGS = -module -avoid-version
+write_riemann_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 write_riemann_la_LIBADD = -lprotobuf-c
-collectd_LDADD += "-dlopen" write_riemann.la
-collectd_DEPENDENCIES += write_riemann.la
+endif
+
+if BUILD_PLUGIN_WRITE_SENSU
+pkglib_LTLIBRARIES += write_sensu.la
+write_sensu_la_SOURCES = write_sensu.c
+write_sensu_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+endif
+
+if BUILD_PLUGIN_WRITE_TSDB
+pkglib_LTLIBRARIES += write_tsdb.la
+write_tsdb_la_SOURCES = write_tsdb.c
+write_tsdb_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 if BUILD_PLUGIN_XMMS
 pkglib_LTLIBRARIES += xmms.la
 xmms_la_SOURCES = xmms.c
 xmms_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBXMMS_CFLAGS)
-xmms_la_LDFLAGS = -module -avoid-version
+xmms_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 xmms_la_LIBADD = $(BUILD_WITH_LIBXMMS_LIBS)
-collectd_LDADD += "-dlopen" xmms.la
-collectd_DEPENDENCIES += xmms.la
 endif
 
 if BUILD_PLUGIN_ZFS_ARC
 pkglib_LTLIBRARIES += zfs_arc.la
 zfs_arc_la_SOURCES = zfs_arc.c
 zfs_arc_la_CFLAGS = $(AM_CFLAGS)
-zfs_arc_la_LDFLAGS = -module -avoid-version
+zfs_arc_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 if BUILD_FREEBSD
 zfs_arc_la_LIBADD = -lm
 else
+if BUILD_LINUX
+# zfs_arc requires no library on linux
+else
+# solaris
 zfs_arc_la_LIBADD = -lkstat
 endif
-collectd_LDADD += "-dlopen" zfs_arc.la
-collectd_DEPENDENCIES += zfs_arc.la
+endif
+endif
+
+if BUILD_PLUGIN_ZOOKEEPER
+pkglib_LTLIBRARIES += zookeeper.la
+zookeeper_la_SOURCES = zookeeper.c
+zookeeper_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 endif
 
 BUILT_SOURCES += $(dist_man_MANS)
 
 dist_man_MANS = collectd.1 \
 		collectd.conf.5 \
@@ -1498,36 +1338,31 @@
 		>.pod2man.tmp.$$$$ 2>/dev/null && mv -f .pod2man.tmp.$$$$ $@ || true
 	@if grep '\<POD ERRORS\>' $@ >/dev/null 2>&1; \
 	then \
 		echo "$@ has some POD errors!"; false; \
 	fi
 
-AM_V_PROTOC_C = $(am__v_PROTOC_C_@AM_V@)
-am__v_PROTOC_C_ = $(am__v_PROTOC_C_@AM_DEFAULT_V@)
-am__v_PROTOC_C_0 = @echo "  PROTOC-C    " $@;
-am__v_PROTOC_C_1 =
-
 # Protocol buffer for the "pinba" plugin.
 EXTRA_DIST += pinba.proto
-if BUILD_PLUGIN_PINBA
+if HAVE_PROTOC_C
 CLEANFILES += pinba.pb-c.c pinba.pb-c.h
 BUILT_SOURCES += pinba.pb-c.c pinba.pb-c.h
 
 pinba.pb-c.c pinba.pb-c.h: pinba.proto
-	$(AM_V_PROTOC_C)protoc-c -I$(srcdir) --c_out . $(srcdir)/pinba.proto
+	protoc-c -I$(srcdir) --c_out . $(srcdir)/pinba.proto
 endif
 
 # Protocol buffer for the "write_riemann" plugin.
 EXTRA_DIST += riemann.proto
-if BUILD_PLUGIN_WRITE_RIEMANN
+if HAVE_PROTOC_C
 CLEANFILES += riemann.pb-c.c riemann.pb-c.h
 
 BUILT_SOURCES += riemann.pb-c.c riemann.pb-c.h
 
 riemann.pb-c.c riemann.pb-c.h: riemann.proto
-	$(AM_V_PROTOC_C)protoc-c -I$(srcdir) --c_out . $(srcdir)/riemann.proto
+	protoc-c -I$(srcdir) --c_out . $(srcdir)/riemann.proto
 endif
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	if test -e $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	then \
@@ -1542,18 +1377,15 @@
 
 uninstall-hook:
 	rm -f $(DESTDIR)$(pkgdatadir)/types.db;
 	rm -f $(DESTDIR)$(sysconfdir)/collectd.conf
 	rm -f $(DESTDIR)$(pkgdatadir)/postgresql_default.conf;
 
-if BUILD_FEATURE_DEBUG
-bin_PROGRAMS += utils_vl_lookup_test
-utils_vl_lookup_test_SOURCES = utils_vl_lookup_test.c \
-                               utils_vl_lookup.h utils_vl_lookup.c \
-                               utils_avltree.c utils_avltree.h \
-                               common.h
-
-utils_vl_lookup_test_CPPFLAGS =  $(AM_CPPFLAGS) $(LTDLINCL) -DBUILD_TEST=1
-utils_vl_lookup_test_CFLAGS = $(AM_CFLAGS)
-utils_vl_lookup_test_LDFLAGS = -export-dynamic
-utils_vl_lookup_test_LDADD =
-endif
+check_PROGRAMS = test_utils_mount test_utils_vl_lookup
+
+test_utils_mount_SOURCES = utils_mount_test.c testing.h
+test_utils_mount_LDADD = libmount.la daemon/libplugin_mock.la
+
+test_utils_vl_lookup_SOURCES = utils_vl_lookup_test.c testing.h
+test_utils_vl_lookup_LDADD = liblookup.la daemon/libplugin_mock.la
+
+TESTS = test_utils_mount test_utils_vl_lookup
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/Makefile.in	2016-07-26 15:47:21.733735269 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/Makefile.in	2015-05-27 15:51:49.001922959 +0800
@@ -78,478 +78,238 @@
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_1 = liboconfig
 @BUILD_FEATURE_DAEMON_TRUE@am__append_2 = -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
-sbin_PROGRAMS = collectd$(EXEEXT) collectdmon$(EXEEXT)
+sbin_PROGRAMS = collectdmon$(EXEEXT)
 bin_PROGRAMS = collectd-nagios$(EXEEXT) collectdctl$(EXEEXT) \
-	collectd-tg$(EXEEXT) $(am__EXEEXT_1)
-
-# Link to these libraries..
-@BUILD_WITH_LIBRT_TRUE@am__append_3 = -lrt
-@BUILD_WITH_LIBPOSIX4_TRUE@am__append_4 = -lposix4
+	collectd-tg$(EXEEXT)
+@BUILD_WITH_LIBSOCKET_TRUE@am__append_3 = -lsocket
+@BUILD_AIX_TRUE@am__append_4 = -lm
 @BUILD_WITH_LIBSOCKET_TRUE@am__append_5 = -lsocket
-@BUILD_WITH_LIBRESOLV_TRUE@am__append_6 = -lresolv
-@BUILD_WITH_LIBPTHREAD_TRUE@am__append_7 = -lpthread
-@BUILD_WITH_LIBKSTAT_TRUE@am__append_8 = -lkstat
-@BUILD_WITH_LIBDEVINFO_TRUE@am__append_9 = -ldevinfo
-@BUILD_AIX_TRUE@am__append_10 = -Wl,-bexpall,-brtllib
-
-# The daemon needs to call sg_init, so we need to link it against libstatgrab,
-# too. -octo
-@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_11 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_12 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_13 = $(LIBLTDL) liboconfig/liboconfig.la
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_14 = liboconfig/liboconfig.la
-@BUILD_WITH_OWN_LIBOCONFIG_FALSE@am__append_15 = -loconfig
-@BUILD_WITH_LIBSOCKET_TRUE@am__append_16 = -lsocket
-@BUILD_AIX_TRUE@am__append_17 = -lm
-@BUILD_WITH_LIBSOCKET_TRUE@am__append_18 = -lsocket
-@BUILD_AIX_TRUE@am__append_19 = -lm
-@BUILD_WITH_LIBSOCKET_TRUE@am__append_20 = -lsocket
-@BUILD_WITH_LIBRT_TRUE@am__append_21 = -lrt
-@BUILD_AIX_TRUE@am__append_22 = -lm
-@BUILD_WITH_LIBPTHREAD_TRUE@am__append_23 = -lpthread
-@BUILD_PLUGIN_AGGREGATION_TRUE@am__append_24 = aggregation.la
-@BUILD_PLUGIN_AGGREGATION_TRUE@am__append_25 = "-dlopen" aggregation.la
-@BUILD_PLUGIN_AGGREGATION_TRUE@am__append_26 = aggregation.la
-@BUILD_PLUGIN_AMQP_TRUE@am__append_27 = amqp.la
-@BUILD_PLUGIN_AMQP_TRUE@am__append_28 = "-dlopen" amqp.la
-@BUILD_PLUGIN_AMQP_TRUE@am__append_29 = amqp.la
-@BUILD_PLUGIN_APACHE_TRUE@am__append_30 = apache.la
-@BUILD_PLUGIN_APACHE_TRUE@am__append_31 = "-dlopen" apache.la
-@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_32 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_33 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_APACHE_TRUE@am__append_34 = apache.la
-@BUILD_PLUGIN_APCUPS_TRUE@am__append_35 = apcups.la
-@BUILD_PLUGIN_APCUPS_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_36 = -lsocket
-@BUILD_PLUGIN_APCUPS_TRUE@am__append_37 = "-dlopen" apcups.la
-@BUILD_PLUGIN_APCUPS_TRUE@am__append_38 = apcups.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_39 = apple_sensors.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_40 = "-dlopen" apple_sensors.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_41 = apple_sensors.la
-@BUILD_PLUGIN_AQUAERO_TRUE@am__append_42 = aquaero.la
-@BUILD_PLUGIN_AQUAERO_TRUE@am__append_43 = "-dlopen" aquaero.la
-@BUILD_PLUGIN_AQUAERO_TRUE@am__append_44 = aquaero.la
-@BUILD_PLUGIN_ASCENT_TRUE@am__append_45 = ascent.la
-@BUILD_PLUGIN_ASCENT_TRUE@am__append_46 = "-dlopen" ascent.la
-@BUILD_PLUGIN_ASCENT_TRUE@am__append_47 = ascent.la
-@BUILD_PLUGIN_BATTERY_TRUE@am__append_48 = battery.la
-@BUILD_PLUGIN_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_49 = -framework IOKit
-@BUILD_PLUGIN_BATTERY_TRUE@am__append_50 = "-dlopen" battery.la
-@BUILD_PLUGIN_BATTERY_TRUE@am__append_51 = battery.la
-@BUILD_PLUGIN_BIND_TRUE@am__append_52 = bind.la
-@BUILD_PLUGIN_BIND_TRUE@am__append_53 = "-dlopen" bind.la
-@BUILD_PLUGIN_BIND_TRUE@am__append_54 = bind.la
-@BUILD_PLUGIN_CGROUPS_TRUE@am__append_55 = cgroups.la
-@BUILD_PLUGIN_CGROUPS_TRUE@am__append_56 = "-dlopen" cgroups.la
-@BUILD_PLUGIN_CGROUPS_TRUE@am__append_57 = cgroups.la
-@BUILD_PLUGIN_CONNTRACK_TRUE@am__append_58 = conntrack.la
-@BUILD_PLUGIN_CONNTRACK_TRUE@am__append_59 = "-dlopen" conntrack.la
-@BUILD_PLUGIN_CONNTRACK_TRUE@am__append_60 = conntrack.la
-@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@am__append_61 = contextswitch.la
-@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_62 = -lperfstat
-@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@am__append_63 = "-dlopen" contextswitch.la
-@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@am__append_64 = contextswitch.la
-@BUILD_PLUGIN_CPU_TRUE@am__append_65 = cpu.la
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_66 = -lkstat
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_67 = -ldevinfo
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_68 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_69 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_70 = -lperfstat
-@BUILD_PLUGIN_CPU_TRUE@am__append_71 = "-dlopen" cpu.la
-@BUILD_PLUGIN_CPU_TRUE@am__append_72 = cpu.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_73 = cpufreq.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_74 = "-dlopen" cpufreq.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_75 = cpufreq.la
-@BUILD_PLUGIN_CSV_TRUE@am__append_76 = csv.la
-@BUILD_PLUGIN_CSV_TRUE@am__append_77 = "-dlopen" csv.la
-@BUILD_PLUGIN_CSV_TRUE@am__append_78 = csv.la
-@BUILD_PLUGIN_CURL_TRUE@am__append_79 = curl.la
-@BUILD_PLUGIN_CURL_TRUE@am__append_80 = "-dlopen" curl.la
-@BUILD_PLUGIN_CURL_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_81 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_CURL_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_82 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_CURL_TRUE@am__append_83 = curl.la
-@BUILD_PLUGIN_CURL_JSON_TRUE@am__append_84 = curl_json.la
-@BUILD_PLUGIN_CURL_JSON_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_85 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_CURL_JSON_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_86 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_CURL_JSON_TRUE@am__append_87 = "-dlopen" curl_json.la
-@BUILD_PLUGIN_CURL_JSON_TRUE@am__append_88 = curl_json.la
-@BUILD_PLUGIN_CURL_XML_TRUE@am__append_89 = curl_xml.la
-@BUILD_PLUGIN_CURL_XML_TRUE@am__append_90 = "-dlopen" curl_xml.la
-@BUILD_PLUGIN_CURL_XML_TRUE@am__append_91 = curl_xml.la
-@BUILD_PLUGIN_DBI_TRUE@am__append_92 = dbi.la
-@BUILD_PLUGIN_DBI_TRUE@am__append_93 = "-dlopen" dbi.la
-@BUILD_PLUGIN_DBI_TRUE@am__append_94 = dbi.la
-@BUILD_PLUGIN_DF_TRUE@am__append_95 = df.la
-@BUILD_PLUGIN_DF_TRUE@am__append_96 = "-dlopen" df.la
-@BUILD_PLUGIN_DF_TRUE@am__append_97 = df.la
-@BUILD_PLUGIN_DISK_TRUE@am__append_98 = disk.la
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_99 = -lkstat
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_100 = -ldevinfo
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_101 = -framework IOKit
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_102 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)  
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_103 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_104 = -lperfstat
-@BUILD_PLUGIN_DISK_TRUE@am__append_105 = "-dlopen" disk.la
-@BUILD_PLUGIN_DISK_TRUE@am__append_106 = disk.la
-@BUILD_PLUGIN_DNS_TRUE@am__append_107 = dns.la
-@BUILD_PLUGIN_DNS_TRUE@am__append_108 = "-dlopen" dns.la
-@BUILD_PLUGIN_DNS_TRUE@am__append_109 = dns.la
-@BUILD_PLUGIN_EMAIL_TRUE@am__append_110 = email.la
-@BUILD_PLUGIN_EMAIL_TRUE@am__append_111 = "-dlopen" email.la
-@BUILD_PLUGIN_EMAIL_TRUE@am__append_112 = email.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__append_113 = entropy.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__append_114 = "-dlopen" entropy.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__append_115 = entropy.la
-@BUILD_PLUGIN_EXEC_TRUE@am__append_116 = exec.la
-@BUILD_PLUGIN_EXEC_TRUE@am__append_117 = "-dlopen" exec.la
-@BUILD_PLUGIN_EXEC_TRUE@am__append_118 = exec.la
-@BUILD_PLUGIN_ETHSTAT_TRUE@am__append_119 = ethstat.la
-@BUILD_PLUGIN_ETHSTAT_TRUE@am__append_120 = "-dlopen" ethstat.la
-@BUILD_PLUGIN_ETHSTAT_TRUE@am__append_121 = ethstat.la
-@BUILD_PLUGIN_FILECOUNT_TRUE@am__append_122 = filecount.la
-@BUILD_PLUGIN_FILECOUNT_TRUE@am__append_123 = "-dlopen" filecount.la
-@BUILD_PLUGIN_FILECOUNT_TRUE@am__append_124 = filecount.la
-@BUILD_PLUGIN_GMOND_TRUE@am__append_125 = gmond.la
-@BUILD_PLUGIN_GMOND_TRUE@am__append_126 = "-dlopen" gmond.la
-@BUILD_PLUGIN_GMOND_TRUE@am__append_127 = gmond.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_128 = hddtemp.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_129 = -lsocket
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_130 = "-dlopen" hddtemp.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_131 = hddtemp.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__append_132 = interface.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__append_133 = "-dlopen" interface.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__append_134 = interface.la
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_135 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_136 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_137 = -lkstat
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_138 = -ldevinfo
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_139 = -lperfstat
-@BUILD_PLUGIN_IPTABLES_TRUE@am__append_140 = iptables.la
-@BUILD_PLUGIN_IPTABLES_TRUE@am__append_141 = "-dlopen" iptables.la
-@BUILD_PLUGIN_IPTABLES_TRUE@am__append_142 = iptables.la
-@BUILD_PLUGIN_IPMI_TRUE@am__append_143 = ipmi.la
-@BUILD_PLUGIN_IPMI_TRUE@am__append_144 = "-dlopen" ipmi.la
-@BUILD_PLUGIN_IPMI_TRUE@am__append_145 = ipmi.la
-@BUILD_PLUGIN_IPVS_TRUE@am__append_146 = ipvs.la
-@BUILD_PLUGIN_IPVS_TRUE@am__append_147 = "-dlopen" ipvs.la
-@BUILD_PLUGIN_IPVS_TRUE@am__append_148 = ipvs.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_149 = irq.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_150 = "-dlopen" irq.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_151 = irq.la
-@BUILD_PLUGIN_JAVA_TRUE@am__append_152 = java.la
-@BUILD_PLUGIN_JAVA_TRUE@am__append_153 = "-dlopen" java.la
-@BUILD_PLUGIN_JAVA_TRUE@am__append_154 = java.la
-@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_155 = libvirt.la
-@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_156 = "-dlopen" libvirt.la
-@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_157 = libvirt.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_158 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_159 = "-dlopen" load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_160 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_161 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_162 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_163 = -lperfstat
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_164 = logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_165 = "-dlopen" logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_166 = logfile.la
-@BUILD_PLUGIN_LPAR_TRUE@am__append_167 = lpar.la
-@BUILD_PLUGIN_LPAR_TRUE@am__append_168 = "-dlopen" lpar.la
-@BUILD_PLUGIN_LPAR_TRUE@am__append_169 = lpar.la
-@BUILD_PLUGIN_LVM_TRUE@am__append_170 = lvm.la
-@BUILD_PLUGIN_LVM_TRUE@am__append_171 = "-dlopen" lvm.la
-@BUILD_PLUGIN_LVM_TRUE@am__append_172 = lvm.la
-@BUILD_PLUGIN_MADWIFI_TRUE@am__append_173 = madwifi.la
-@BUILD_PLUGIN_MADWIFI_TRUE@am__append_174 = "-dlopen" madwifi.la
-@BUILD_PLUGIN_MADWIFI_TRUE@am__append_175 = madwifi.la
-@BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@am__append_176 = match_empty_counter.la
-@BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@am__append_177 = "-dlopen" match_empty_counter.la
-@BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@am__append_178 = match_empty_counter.la
-@BUILD_PLUGIN_MATCH_HASHED_TRUE@am__append_179 = match_hashed.la
-@BUILD_PLUGIN_MATCH_HASHED_TRUE@am__append_180 = "-dlopen" match_hashed.la
-@BUILD_PLUGIN_MATCH_HASHED_TRUE@am__append_181 = match_hashed.la
-@BUILD_PLUGIN_MATCH_REGEX_TRUE@am__append_182 = match_regex.la
-@BUILD_PLUGIN_MATCH_REGEX_TRUE@am__append_183 = "-dlopen" match_regex.la
-@BUILD_PLUGIN_MATCH_REGEX_TRUE@am__append_184 = match_regex.la
-@BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@am__append_185 = match_timediff.la
-@BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@am__append_186 = "-dlopen" match_timediff.la
-@BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@am__append_187 = match_timediff.la
-@BUILD_PLUGIN_MATCH_VALUE_TRUE@am__append_188 = match_value.la
-@BUILD_PLUGIN_MATCH_VALUE_TRUE@am__append_189 = "-dlopen" match_value.la
-@BUILD_PLUGIN_MATCH_VALUE_TRUE@am__append_190 = match_value.la
-@BUILD_PLUGIN_MBMON_TRUE@am__append_191 = mbmon.la
-@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_192 = -lsocket
-@BUILD_PLUGIN_MBMON_TRUE@am__append_193 = "-dlopen" mbmon.la
-@BUILD_PLUGIN_MBMON_TRUE@am__append_194 = mbmon.la
-@BUILD_PLUGIN_MD_TRUE@am__append_195 = md.la
-@BUILD_PLUGIN_MD_TRUE@am__append_196 = "-dlopen" md.la
-@BUILD_PLUGIN_MD_TRUE@am__append_197 = md.la
-@BUILD_PLUGIN_MEMCACHEC_TRUE@am__append_198 = memcachec.la
-@BUILD_PLUGIN_MEMCACHEC_TRUE@am__append_199 = "-dlopen" memcachec.la
-@BUILD_PLUGIN_MEMCACHEC_TRUE@am__append_200 = memcachec.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_201 = memcached.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_202 = -lsocket
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_203 = "-dlopen" memcached.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_204 = memcached.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_205 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_206 = "-dlopen" memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_207 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_208 = -lkstat
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_209 = -ldevinfo
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_210 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_211 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_212 = -lperfstat
-@BUILD_PLUGIN_MODBUS_TRUE@am__append_213 = modbus.la
-@BUILD_PLUGIN_MODBUS_TRUE@am__append_214 = "-dlopen" modbus.la
-@BUILD_PLUGIN_MODBUS_TRUE@am__append_215 = modbus.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_216 = multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_217 = "-dlopen" multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_218 = multimeter.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_219 = mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_220 = "-dlopen" mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_221 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_222 = $(BUILD_WITH_LIBMYSQL_LIBS)
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_223 = mysql.la
-@BUILD_PLUGIN_NETAPP_TRUE@am__append_224 = netapp.la
-@BUILD_PLUGIN_NETAPP_TRUE@am__append_225 = "-dlopen" netapp.la
-@BUILD_PLUGIN_NETAPP_TRUE@am__append_226 = netapp.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_227 = netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_228 = "-dlopen" netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_229 = netlink.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_230 = network.la
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_231 = -lsocket
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBGCRYPT_TRUE@am__append_232 = $(GCRYPT_CPPFLAGS)
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBGCRYPT_TRUE@am__append_233 = $(GCRYPT_LDFLAGS)
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBGCRYPT_TRUE@am__append_234 = $(GCRYPT_LIBS)
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_235 = "-dlopen" network.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_236 = network.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_237 = nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_238 = "-dlopen" nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_239 = nfs.la
-@BUILD_PLUGIN_FSCACHE_TRUE@am__append_240 = fscache.la
-@BUILD_PLUGIN_FSCACHE_TRUE@am__append_241 = "-dlopen" fscache.la
-@BUILD_PLUGIN_FSCACHE_TRUE@am__append_242 = fscache.la
-@BUILD_PLUGIN_NGINX_TRUE@am__append_243 = nginx.la
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_244 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_245 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_NGINX_TRUE@am__append_246 = "-dlopen" nginx.la
-@BUILD_PLUGIN_NGINX_TRUE@am__append_247 = nginx.la
-@BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@am__append_248 = notify_desktop.la
-@BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@am__append_249 = "-dlopen" notify_desktop.la
-@BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@am__append_250 = notify_desktop.la
-@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@am__append_251 = notify_email.la
-@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@am__append_252 = "-dlopen" notify_email.la
-@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@am__append_253 = notify_email.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_254 = ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_255 = -lsocket
-@BUILD_PLUGIN_NTPD_TRUE@am__append_256 = "-dlopen" ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_257 = ntpd.la
-@BUILD_PLUGIN_NUMA_TRUE@am__append_258 = numa.la
-@BUILD_PLUGIN_NUMA_TRUE@am__append_259 = "-dlopen" numa.la
-@BUILD_PLUGIN_NUMA_TRUE@am__append_260 = numa.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_261 = nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_262 = "-dlopen" nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_263 = nut.la
-@BUILD_PLUGIN_OLSRD_TRUE@am__append_264 = olsrd.la
-@BUILD_PLUGIN_OLSRD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_265 = -lsocket
-@BUILD_PLUGIN_OLSRD_TRUE@am__append_266 = "-dlopen" olsrd.la
-@BUILD_PLUGIN_OLSRD_TRUE@am__append_267 = olsrd.la
-@BUILD_PLUGIN_ONEWIRE_TRUE@am__append_268 = onewire.la
-@BUILD_PLUGIN_ONEWIRE_TRUE@am__append_269 = "-dlopen" onewire.la
-@BUILD_PLUGIN_ONEWIRE_TRUE@am__append_270 = onewire.la
-@BUILD_PLUGIN_OPENVPN_TRUE@am__append_271 = openvpn.la
-@BUILD_PLUGIN_OPENVPN_TRUE@am__append_272 = "-dlopen" openvpn.la
-@BUILD_PLUGIN_OPENVPN_TRUE@am__append_273 = openvpn.la
-@BUILD_PLUGIN_ORACLE_TRUE@am__append_274 = oracle.la
-@BUILD_PLUGIN_ORACLE_TRUE@am__append_275 = "-dlopen" oracle.la
-@BUILD_PLUGIN_ORACLE_TRUE@am__append_276 = oracle.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_277 = perl.la
+@BUILD_AIX_TRUE@am__append_6 = -lm
+@BUILD_WITH_LIBSOCKET_TRUE@am__append_7 = -lsocket
+@BUILD_WITH_LIBRT_TRUE@am__append_8 = -lrt
+@BUILD_AIX_TRUE@am__append_9 = -lm
+@BUILD_WITH_LIBPTHREAD_TRUE@am__append_10 = -lpthread
+@BUILD_PLUGIN_AGGREGATION_TRUE@am__append_11 = aggregation.la
+@BUILD_PLUGIN_AMQP_TRUE@am__append_12 = amqp.la
+@BUILD_PLUGIN_APACHE_TRUE@am__append_13 = apache.la
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_14 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_15 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_16 = apcups.la
+@BUILD_PLUGIN_APCUPS_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_17 = -lsocket
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_18 = apple_sensors.la
+@BUILD_PLUGIN_AQUAERO_TRUE@am__append_19 = aquaero.la
+@BUILD_PLUGIN_ASCENT_TRUE@am__append_20 = ascent.la
+@BUILD_PLUGIN_BAROMETER_TRUE@am__append_21 = barometer.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_22 = battery.la
+@BUILD_PLUGIN_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_23 = -framework IOKit
+@BUILD_PLUGIN_BIND_TRUE@am__append_24 = bind.la
+@BUILD_PLUGIN_CEPH_TRUE@am__append_25 = ceph.la
+@BUILD_PLUGIN_CGROUPS_TRUE@am__append_26 = cgroups.la
+@BUILD_PLUGIN_CONNTRACK_TRUE@am__append_27 = conntrack.la
+@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@am__append_28 = contextswitch.la
+@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_29 = -lperfstat
+@BUILD_PLUGIN_CPU_TRUE@am__append_30 = cpu.la
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_31 = -lkstat
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_32 = -ldevinfo
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_33 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_34 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_35 = -lperfstat
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_36 = cpufreq.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_37 = csv.la
+@BUILD_PLUGIN_CURL_TRUE@am__append_38 = curl.la
+@BUILD_PLUGIN_CURL_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_39 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_CURL_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_40 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_CURL_JSON_TRUE@am__append_41 = curl_json.la
+@BUILD_PLUGIN_CURL_JSON_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_42 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_CURL_JSON_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_43 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_CURL_XML_TRUE@am__append_44 = curl_xml.la
+@BUILD_PLUGIN_DBI_TRUE@am__append_45 = dbi.la
+@BUILD_PLUGIN_DF_TRUE@am__append_46 = df.la
+@BUILD_PLUGIN_DISK_TRUE@am__append_47 = disk.la
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_48 = -lkstat
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_49 = -ldevinfo
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_50 = -framework IOKit
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_51 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_52 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBUDEV_TRUE@am__append_53 = -ludev
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_54 = -lperfstat
+@BUILD_PLUGIN_DNS_TRUE@am__append_55 = dns.la
+@BUILD_PLUGIN_DRBD_TRUE@am__append_56 = drbd.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_57 = email.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_58 = entropy.la
+@BUILD_PLUGIN_EXEC_TRUE@am__append_59 = exec.la
+@BUILD_PLUGIN_ETHSTAT_TRUE@am__append_60 = ethstat.la
+@BUILD_PLUGIN_FHCOUNT_TRUE@am__append_61 = fhcount.la
+@BUILD_PLUGIN_FILECOUNT_TRUE@am__append_62 = filecount.la
+@BUILD_PLUGIN_GMOND_TRUE@am__append_63 = gmond.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_64 = hddtemp.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_65 = -lsocket
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_66 = interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_67 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_68 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_69 = -lkstat
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_70 = -ldevinfo
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_71 = -lperfstat
+@BUILD_PLUGIN_IPC_TRUE@am__append_72 = ipc.la
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_73 = iptables.la
+@BUILD_PLUGIN_IPMI_TRUE@am__append_74 = ipmi.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_75 = ipvs.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_76 = irq.la
+@BUILD_PLUGIN_JAVA_TRUE@am__append_77 = java.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_78 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_79 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_80 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_81 = -lperfstat
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_82 = logfile.la
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@am__append_83 = log_logstash.la
+@BUILD_PLUGIN_LPAR_TRUE@am__append_84 = lpar.la
+@BUILD_PLUGIN_LVM_TRUE@am__append_85 = lvm.la
+@BUILD_PLUGIN_MADWIFI_TRUE@am__append_86 = madwifi.la
+@BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@am__append_87 = match_empty_counter.la
+@BUILD_PLUGIN_MATCH_HASHED_TRUE@am__append_88 = match_hashed.la
+@BUILD_PLUGIN_MATCH_REGEX_TRUE@am__append_89 = match_regex.la
+@BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@am__append_90 = match_timediff.la
+@BUILD_PLUGIN_MATCH_VALUE_TRUE@am__append_91 = match_value.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_92 = mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_93 = -lsocket
+@BUILD_PLUGIN_MD_TRUE@am__append_94 = md.la
+@BUILD_PLUGIN_MEMCACHEC_TRUE@am__append_95 = memcachec.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_96 = memcached.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_97 = -lsocket
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_98 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_99 = -lkstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_100 = -ldevinfo
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_101 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_102 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_103 = -lperfstat
+@BUILD_PLUGIN_MIC_TRUE@am__append_104 = mic.la
+@BUILD_PLUGIN_MODBUS_TRUE@am__append_105 = modbus.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_106 = multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_107 = mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_108 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_109 = $(BUILD_WITH_LIBMYSQL_LIBS)
+@BUILD_PLUGIN_NETAPP_TRUE@am__append_110 = netapp.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_111 = netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_112 = network.la
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_113 = -lsocket
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBGCRYPT_TRUE@am__append_114 = $(GCRYPT_CPPFLAGS)
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBGCRYPT_TRUE@am__append_115 = $(GCRYPT_LDFLAGS)
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBGCRYPT_TRUE@am__append_116 = $(GCRYPT_LIBS)
+@BUILD_PLUGIN_NFS_TRUE@am__append_117 = nfs.la
+@BUILD_PLUGIN_FSCACHE_TRUE@am__append_118 = fscache.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_119 = nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_120 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_121 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@am__append_122 = notify_desktop.la
+@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@am__append_123 = notify_email.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_124 = ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_125 = -lsocket
+@BUILD_PLUGIN_NUMA_TRUE@am__append_126 = numa.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_127 = nut.la
+@BUILD_PLUGIN_OLSRD_TRUE@am__append_128 = olsrd.la
+@BUILD_PLUGIN_OLSRD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_129 = -lsocket
+@BUILD_PLUGIN_ONEWIRE_TRUE@am__append_130 = onewire.la
+@BUILD_PLUGIN_OPENLDAP_TRUE@am__append_131 = openldap.la
+@BUILD_PLUGIN_OPENVPN_TRUE@am__append_132 = openvpn.la
+@BUILD_PLUGIN_ORACLE_TRUE@am__append_133 = oracle.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_134 = perl.la
 # Work-around for issues #41 and #42 - Perl 5.10 incorrectly introduced
 # __attribute__nonnull__(3) for Perl_load_module().
-@BUILD_PLUGIN_PERL_TRUE@@HAVE_BROKEN_PERL_LOAD_MODULE_TRUE@am__append_278 = -Wno-nonnull
-@BUILD_PLUGIN_PERL_TRUE@am__append_279 = "-dlopen" perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_280 = perl.la
-@BUILD_PLUGIN_PF_TRUE@am__append_281 = pf.la
-@BUILD_PLUGIN_PF_TRUE@am__append_282 = "-dlopen" pf.la
-@BUILD_PLUGIN_PF_TRUE@am__append_283 = pf.la
-@BUILD_PLUGIN_PINBA_TRUE@am__append_284 = pinba.la
-@BUILD_PLUGIN_PINBA_TRUE@am__append_285 = "-dlopen" pinba.la
-@BUILD_PLUGIN_PINBA_TRUE@am__append_286 = pinba.la
-@BUILD_PLUGIN_PING_TRUE@am__append_287 = ping.la
-@BUILD_PLUGIN_PING_TRUE@am__append_288 = "-dlopen" ping.la
-@BUILD_PLUGIN_PING_TRUE@am__append_289 = ping.la
-@BUILD_PLUGIN_POSTGRESQL_TRUE@am__append_290 = postgresql.la
-@BUILD_PLUGIN_POSTGRESQL_TRUE@am__append_291 = "-dlopen" postgresql.la
-@BUILD_PLUGIN_POSTGRESQL_TRUE@am__append_292 = postgresql.la
-@BUILD_PLUGIN_POWERDNS_TRUE@am__append_293 = powerdns.la
-@BUILD_PLUGIN_POWERDNS_TRUE@am__append_294 = "-dlopen" powerdns.la
-@BUILD_PLUGIN_POWERDNS_TRUE@am__append_295 = powerdns.la
-@BUILD_PLUGIN_PYTHON_TRUE@am__append_296 = python.la
-@BUILD_PLUGIN_PYTHON_TRUE@@COMPILER_IS_GCC_TRUE@am__append_297 = -fno-strict-aliasing -Wno-strict-aliasing
-@BUILD_PLUGIN_PYTHON_TRUE@am__append_298 = "-dlopen" python.la
-@BUILD_PLUGIN_PYTHON_TRUE@am__append_299 = python.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_300 = processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_301 = "-dlopen" processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_302 = processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@@BUILD_WITH_LIBKVM_GETPROCS_TRUE@am__append_303 = -lkvm
-@BUILD_PLUGIN_PROTOCOLS_TRUE@am__append_304 = protocols.la
-@BUILD_PLUGIN_PROTOCOLS_TRUE@am__append_305 = "-dlopen" protocols.la
-@BUILD_PLUGIN_PROTOCOLS_TRUE@am__append_306 = protocols.la
-@BUILD_PLUGIN_REDIS_TRUE@am__append_307 = redis.la
-@BUILD_PLUGIN_REDIS_TRUE@am__append_308 = "-dlopen" redis.la
-@BUILD_PLUGIN_REDIS_TRUE@am__append_309 = redis.la
-@BUILD_PLUGIN_ROUTEROS_TRUE@am__append_310 = routeros.la
-@BUILD_PLUGIN_ROUTEROS_TRUE@am__append_311 = "-dlopen" routeros.la
-@BUILD_PLUGIN_ROUTEROS_TRUE@am__append_312 = routeros.la
-@BUILD_PLUGIN_RRDCACHED_TRUE@am__append_313 = rrdcached.la
-@BUILD_PLUGIN_RRDCACHED_TRUE@am__append_314 = "-dlopen" rrdcached.la
-@BUILD_PLUGIN_RRDCACHED_TRUE@am__append_315 = rrdcached.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_316 = rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_317 = "-dlopen" rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_318 = rrdtool.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_319 = sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_320 = "-dlopen" sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_321 = sensors.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_322 = serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_323 = "-dlopen" serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_324 = serial.la
-@BUILD_PLUGIN_SIGROK_TRUE@am__append_325 = sigrok.la
-@BUILD_PLUGIN_SIGROK_TRUE@am__append_326 = "-dlopen" sigrok.la
-@BUILD_PLUGIN_SIGROK_TRUE@am__append_327 = sigrok.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_328 = snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_329 = $(BUILD_WITH_LIBSNMP_CFLAGS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_330 = $(BUILD_WITH_LIBSNMP_LIBS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_331 = -lpthread
-@BUILD_PLUGIN_SNMP_TRUE@am__append_332 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_333 = snmp.la
-@BUILD_PLUGIN_STATSD_TRUE@am__append_334 = statsd.la
-@BUILD_PLUGIN_STATSD_TRUE@am__append_335 = "-dlopen" statsd.la
-@BUILD_PLUGIN_STATSD_TRUE@am__append_336 = statsd.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_337 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_338 = "-dlopen" swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_339 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_340 = -lkstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_341 = -ldevinfo
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE@am__append_342 = -lkvm
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_343 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_344 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_345 = -lperfstat
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_346 = syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_347 = "-dlopen" syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_348 = syslog.la
-@BUILD_PLUGIN_TABLE_TRUE@am__append_349 = table.la
-@BUILD_PLUGIN_TABLE_TRUE@am__append_350 = "-dlopen" table.la
-@BUILD_PLUGIN_TABLE_TRUE@am__append_351 = table.la
-@BUILD_PLUGIN_TAIL_TRUE@am__append_352 = tail.la
-@BUILD_PLUGIN_TAIL_TRUE@am__append_353 = "-dlopen" tail.la
-@BUILD_PLUGIN_TAIL_TRUE@am__append_354 = tail.la
-@BUILD_PLUGIN_TAIL_CSV_TRUE@am__append_355 = tail_csv.la
-@BUILD_PLUGIN_TAIL_CSV_TRUE@am__append_356 = "-dlopen" tail_csv.la
-@BUILD_PLUGIN_TAIL_CSV_TRUE@am__append_357 = tail_csv.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_358 = tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_359 = "-dlopen" tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_360 = tape.la
-@BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@am__append_361 = target_notification.la
-@BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@am__append_362 = "-dlopen" target_notification.la
-@BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@am__append_363 = target_notification.la
-@BUILD_PLUGIN_TARGET_REPLACE_TRUE@am__append_364 = target_replace.la
-@BUILD_PLUGIN_TARGET_REPLACE_TRUE@am__append_365 = "-dlopen" target_replace.la
-@BUILD_PLUGIN_TARGET_REPLACE_TRUE@am__append_366 = target_replace.la
-@BUILD_PLUGIN_TARGET_SCALE_TRUE@am__append_367 = target_scale.la
-@BUILD_PLUGIN_TARGET_SCALE_TRUE@am__append_368 = "-dlopen" target_scale.la
-@BUILD_PLUGIN_TARGET_SCALE_TRUE@am__append_369 = target_scale.la
-@BUILD_PLUGIN_TARGET_SET_TRUE@am__append_370 = target_set.la
-@BUILD_PLUGIN_TARGET_SET_TRUE@am__append_371 = "-dlopen" target_set.la
-@BUILD_PLUGIN_TARGET_SET_TRUE@am__append_372 = target_set.la
-@BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@am__append_373 = target_v5upgrade.la
-@BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@am__append_374 = "-dlopen" target_v5upgrade.la
-@BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@am__append_375 = target_v5upgrade.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_376 = tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_377 = "-dlopen" tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_378 = tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@@BUILD_WITH_LIBKVM_NLIST_TRUE@am__append_379 = -lkvm
-@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_380 = teamspeak2.la
-@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_381 = "-dlopen" teamspeak2.la
-@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_382 = teamspeak2.la
-@BUILD_PLUGIN_TED_TRUE@am__append_383 = ted.la
-@BUILD_PLUGIN_TED_TRUE@am__append_384 = "-dlopen" ted.la
-@BUILD_PLUGIN_TED_TRUE@am__append_385 = ted.la
-@BUILD_PLUGIN_THERMAL_TRUE@am__append_386 = thermal.la
-@BUILD_PLUGIN_THERMAL_TRUE@am__append_387 = "-dlopen" thermal.la
-@BUILD_PLUGIN_THERMAL_TRUE@am__append_388 = thermal.la
-@BUILD_PLUGIN_THRESHOLD_TRUE@am__append_389 = threshold.la
-@BUILD_PLUGIN_THRESHOLD_TRUE@am__append_390 = "-dlopen" threshold.la
-@BUILD_PLUGIN_THRESHOLD_TRUE@am__append_391 = threshold.la
-@BUILD_PLUGIN_TOKYOTYRANT_TRUE@am__append_392 = tokyotyrant.la
-@BUILD_PLUGIN_TOKYOTYRANT_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_393 = -lsocket
-@BUILD_PLUGIN_TOKYOTYRANT_TRUE@am__append_394 = "-dlopen" tokyotyrant.la
-@BUILD_PLUGIN_TOKYOTYRANT_TRUE@am__append_395 = tokyotyrant.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_396 = unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_397 = "-dlopen" unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_398 = unixsock.la
-@BUILD_PLUGIN_UPTIME_TRUE@am__append_399 = uptime.la
-@BUILD_PLUGIN_UPTIME_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_400 = -lkstat
-@BUILD_PLUGIN_UPTIME_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_401 = -lperfstat
-@BUILD_PLUGIN_UPTIME_TRUE@am__append_402 = "-dlopen" uptime.la
-@BUILD_PLUGIN_UPTIME_TRUE@am__append_403 = uptime.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_404 = users.la
-@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_405 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_406 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_USERS_TRUE@am__append_407 = "-dlopen" users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_408 = users.la
-@BUILD_PLUGIN_UUID_TRUE@am__append_409 = uuid.la
-@BUILD_PLUGIN_UUID_TRUE@am__append_410 = "-dlopen" uuid.la
-@BUILD_PLUGIN_UUID_TRUE@am__append_411 = uuid.la
-@BUILD_PLUGIN_MIC_TRUE@am__append_412 = mic.la
-@BUILD_PLUGIN_MIC_TRUE@am__append_413 = "-dlopen" mic.la
-@BUILD_PLUGIN_MIC_TRUE@am__append_414 = mic.la
-@BUILD_PLUGIN_VARNISH_TRUE@am__append_415 = varnish.la
-@BUILD_PLUGIN_VARNISH_TRUE@am__append_416 = "-dlopen" varnish.la
-@BUILD_PLUGIN_VARNISH_TRUE@am__append_417 = varnish.la
-@BUILD_PLUGIN_VMEM_TRUE@am__append_418 = vmem.la
-@BUILD_PLUGIN_VMEM_TRUE@am__append_419 = "-dlopen" vmem.la
-@BUILD_PLUGIN_VMEM_TRUE@am__append_420 = vmem.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_421 = vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_422 = "-dlopen" vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_423 = vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_424 = wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_425 = "-dlopen" wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_426 = wireless.la
-@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@am__append_427 = write_graphite.la
-@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@am__append_428 = "-dlopen" write_graphite.la
-@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@am__append_429 = write_graphite.la
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@am__append_430 = write_http.la
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@am__append_431 = "-dlopen" write_http.la
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_432 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_433 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@am__append_434 = write_http.la
-@BUILD_PLUGIN_WRITE_MONGODB_TRUE@am__append_435 = write_mongodb.la
-@BUILD_PLUGIN_WRITE_MONGODB_TRUE@am__append_436 = "-dlopen" write_mongodb.la
-@BUILD_PLUGIN_WRITE_MONGODB_TRUE@am__append_437 = write_mongodb.la
-@BUILD_PLUGIN_WRITE_REDIS_TRUE@am__append_438 = write_redis.la
-@BUILD_PLUGIN_WRITE_REDIS_TRUE@am__append_439 = "-dlopen" write_redis.la
-@BUILD_PLUGIN_WRITE_REDIS_TRUE@am__append_440 = write_redis.la
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am__append_441 = write_riemann.la
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am__append_442 = "-dlopen" write_riemann.la
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am__append_443 = write_riemann.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_444 = xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_445 = "-dlopen" xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_446 = xmms.la
-@BUILD_PLUGIN_ZFS_ARC_TRUE@am__append_447 = zfs_arc.la
-@BUILD_PLUGIN_ZFS_ARC_TRUE@am__append_448 = "-dlopen" zfs_arc.la
-@BUILD_PLUGIN_ZFS_ARC_TRUE@am__append_449 = zfs_arc.la
-@BUILD_PLUGIN_PINBA_TRUE@am__append_450 = pinba.pb-c.c pinba.pb-c.h
-@BUILD_PLUGIN_PINBA_TRUE@am__append_451 = pinba.pb-c.c pinba.pb-c.h
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am__append_452 = riemann.pb-c.c riemann.pb-c.h
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am__append_453 = riemann.pb-c.c riemann.pb-c.h
-@BUILD_FEATURE_DEBUG_TRUE@am__append_454 = utils_vl_lookup_test
+@BUILD_PLUGIN_PERL_TRUE@@HAVE_BROKEN_PERL_LOAD_MODULE_TRUE@am__append_135 = -Wno-nonnull
+@BUILD_PLUGIN_PF_TRUE@am__append_136 = pf.la
+@BUILD_PLUGIN_PINBA_TRUE@am__append_137 = pinba.la
+@BUILD_PLUGIN_PING_TRUE@am__append_138 = ping.la
+@BUILD_PLUGIN_POSTGRESQL_TRUE@am__append_139 = postgresql.la
+@BUILD_PLUGIN_POWERDNS_TRUE@am__append_140 = powerdns.la
+@BUILD_PLUGIN_PYTHON_TRUE@am__append_141 = python.la
+@BUILD_PLUGIN_PYTHON_TRUE@@COMPILER_IS_GCC_TRUE@am__append_142 = -fno-strict-aliasing -Wno-strict-aliasing
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_143 = processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@@BUILD_WITH_LIBKVM_GETPROCS_TRUE@am__append_144 = -lkvm
+@BUILD_PLUGIN_PROTOCOLS_TRUE@am__append_145 = protocols.la
+@BUILD_PLUGIN_REDIS_TRUE@am__append_146 = redis.la
+@BUILD_PLUGIN_ROUTEROS_TRUE@am__append_147 = routeros.la
+@BUILD_PLUGIN_RRDCACHED_TRUE@am__append_148 = rrdcached.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_149 = rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_150 = sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_151 = serial.la
+@BUILD_PLUGIN_SIGROK_TRUE@am__append_152 = sigrok.la
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@am__append_153 = smart.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_154 = snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_155 = $(BUILD_WITH_LIBSNMP_CFLAGS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_156 = $(BUILD_WITH_LIBSNMP_LIBS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_157 = -lpthread
+@BUILD_PLUGIN_STATSD_TRUE@am__append_158 = statsd.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_159 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_160 = -lkstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_161 = -ldevinfo
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE@am__append_162 = -lkvm
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_163 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_164 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_165 = -lperfstat
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_166 = syslog.la
+@BUILD_PLUGIN_TABLE_TRUE@am__append_167 = table.la
+@BUILD_PLUGIN_TAIL_TRUE@am__append_168 = tail.la
+@BUILD_PLUGIN_TAIL_CSV_TRUE@am__append_169 = tail_csv.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_170 = tape.la
+@BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@am__append_171 = target_notification.la
+@BUILD_PLUGIN_TARGET_REPLACE_TRUE@am__append_172 = target_replace.la
+@BUILD_PLUGIN_TARGET_SCALE_TRUE@am__append_173 = target_scale.la
+@BUILD_PLUGIN_TARGET_SET_TRUE@am__append_174 = target_set.la
+@BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@am__append_175 = target_v5upgrade.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_176 = tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@@BUILD_WITH_LIBKVM_NLIST_TRUE@am__append_177 = -lkvm
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_178 = teamspeak2.la
+@BUILD_PLUGIN_TED_TRUE@am__append_179 = ted.la
+@BUILD_PLUGIN_THERMAL_TRUE@am__append_180 = thermal.la
+@BUILD_PLUGIN_THRESHOLD_TRUE@am__append_181 = threshold.la
+@BUILD_PLUGIN_TOKYOTYRANT_TRUE@am__append_182 = tokyotyrant.la
+@BUILD_PLUGIN_TOKYOTYRANT_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_183 = -lsocket
+@BUILD_PLUGIN_TURBOSTAT_TRUE@am__append_184 = turbostat.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_185 = unixsock.la
+@BUILD_PLUGIN_UPTIME_TRUE@am__append_186 = uptime.la
+@BUILD_PLUGIN_UPTIME_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_187 = -lkstat
+@BUILD_PLUGIN_UPTIME_TRUE@@BUILD_WITH_PERFSTAT_TRUE@am__append_188 = -lperfstat
+@BUILD_PLUGIN_USERS_TRUE@am__append_189 = users.la
+@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_190 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_191 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_UUID_TRUE@am__append_192 = uuid.la
+@BUILD_PLUGIN_VARNISH_TRUE@am__append_193 = varnish.la
+@BUILD_PLUGIN_VIRT_TRUE@am__append_194 = virt.la
+@BUILD_PLUGIN_VMEM_TRUE@am__append_195 = vmem.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_196 = vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_197 = wireless.la
+@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@am__append_198 = write_graphite.la
+@BUILD_PLUGIN_WRITE_HTTP_TRUE@am__append_199 = write_http.la
+@BUILD_PLUGIN_WRITE_HTTP_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_200 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_WRITE_HTTP_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_201 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@am__append_202 = write_kafka.la
+@BUILD_PLUGIN_WRITE_LOG_TRUE@am__append_203 = write_log.la
+@BUILD_PLUGIN_WRITE_MONGODB_TRUE@am__append_204 = write_mongodb.la
+@BUILD_PLUGIN_WRITE_REDIS_TRUE@am__append_205 = write_redis.la
+@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am__append_206 = write_riemann.la
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@am__append_207 = write_sensu.la
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@am__append_208 = write_tsdb.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_209 = xmms.la
+@BUILD_PLUGIN_ZFS_ARC_TRUE@am__append_210 = zfs_arc.la
+@BUILD_PLUGIN_ZOOKEEPER_TRUE@am__append_211 = zookeeper.la
+@HAVE_PROTOC_C_TRUE@am__append_212 = pinba.pb-c.c pinba.pb-c.h \
+@HAVE_PROTOC_C_TRUE@	riemann.pb-c.c riemann.pb-c.h
+@HAVE_PROTOC_C_TRUE@am__append_213 = pinba.pb-c.c pinba.pb-c.h \
+@HAVE_PROTOC_C_TRUE@	riemann.pb-c.c riemann.pb-c.h
+check_PROGRAMS = test_utils_mount$(EXEEXT) \
+	test_utils_vl_lookup$(EXEEXT)
+TESTS = test_utils_mount$(EXEEXT) test_utils_vl_lookup$(EXEEXT)
 subdir = src
 DIST_COMMON = $(srcdir)/Makefile.in $(srcdir)/Makefile.am \
 	$(srcdir)/config.h.in $(srcdir)/collectd.conf.in \
-	$(top_srcdir)/libltdl/config/depcomp $(dist_man_MANS)
+	$(top_srcdir)/libltdl/config/depcomp $(dist_man_MANS) \
+	$(top_srcdir)/libltdl/config/test-driver
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.ac
 am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
 	$(ACLOCAL_M4)
 mkinstalldirs = $(install_sh) -d
 CONFIG_HEADER = config.h
@@ -582,13 +342,13 @@
     || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
          $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 am__installdirs = "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(bindir)" \
 	"$(DESTDIR)$(sbindir)" "$(DESTDIR)$(man1dir)" \
 	"$(DESTDIR)$(man5dir)"
-LTLIBRARIES = $(pkglib_LTLIBRARIES)
+LTLIBRARIES = $(noinst_LTLIBRARIES) $(pkglib_LTLIBRARIES)
 aggregation_la_DEPENDENCIES =
 am__aggregation_la_SOURCES_DIST = aggregation.c utils_vl_lookup.c \
 	utils_vl_lookup.h
 @BUILD_PLUGIN_AGGREGATION_TRUE@am_aggregation_la_OBJECTS =  \
 @BUILD_PLUGIN_AGGREGATION_TRUE@	aggregation.lo \
 @BUILD_PLUGIN_AGGREGATION_TRUE@	utils_vl_lookup.lo
@@ -603,18 +363,17 @@
 	$@
 @BUILD_PLUGIN_AGGREGATION_TRUE@am_aggregation_la_rpath = -rpath \
 @BUILD_PLUGIN_AGGREGATION_TRUE@	$(pkglibdir)
 am__DEPENDENCIES_1 =
 @BUILD_PLUGIN_AMQP_TRUE@amqp_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__amqp_la_SOURCES_DIST = amqp.c utils_cmd_putval.c \
-	utils_cmd_putval.h utils_parse_option.c utils_parse_option.h \
-	utils_format_graphite.c utils_format_graphite.h \
-	utils_format_json.c utils_format_json.h
+	utils_cmd_putval.h utils_format_graphite.c \
+	utils_format_graphite.h utils_format_json.c \
+	utils_format_json.h
 @BUILD_PLUGIN_AMQP_TRUE@am_amqp_la_OBJECTS = amqp_la-amqp.lo \
 @BUILD_PLUGIN_AMQP_TRUE@	amqp_la-utils_cmd_putval.lo \
-@BUILD_PLUGIN_AMQP_TRUE@	amqp_la-utils_parse_option.lo \
 @BUILD_PLUGIN_AMQP_TRUE@	amqp_la-utils_format_graphite.lo \
 @BUILD_PLUGIN_AMQP_TRUE@	amqp_la-utils_format_json.lo
 amqp_la_OBJECTS = $(am_amqp_la_OBJECTS)
 amqp_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(amqp_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -666,12 +425,21 @@
 @BUILD_PLUGIN_ASCENT_TRUE@am_ascent_la_OBJECTS = ascent_la-ascent.lo
 ascent_la_OBJECTS = $(am_ascent_la_OBJECTS)
 ascent_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(ascent_la_CFLAGS) \
 	$(CFLAGS) $(ascent_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_ASCENT_TRUE@am_ascent_la_rpath = -rpath $(pkglibdir)
+barometer_la_DEPENDENCIES =
+am__barometer_la_SOURCES_DIST = barometer.c
+@BUILD_PLUGIN_BAROMETER_TRUE@am_barometer_la_OBJECTS = barometer.lo
+barometer_la_OBJECTS = $(am_barometer_la_OBJECTS)
+barometer_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(barometer_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_BAROMETER_TRUE@am_barometer_la_rpath = -rpath \
+@BUILD_PLUGIN_BAROMETER_TRUE@	$(pkglibdir)
 battery_la_DEPENDENCIES =
 am__battery_la_SOURCES_DIST = battery.c
 @BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_OBJECTS = battery.lo
 battery_la_OBJECTS = $(am_battery_la_OBJECTS)
 battery_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -683,16 +451,25 @@
 @BUILD_PLUGIN_BIND_TRUE@am_bind_la_OBJECTS = bind_la-bind.lo
 bind_la_OBJECTS = $(am_bind_la_OBJECTS)
 bind_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(bind_la_CFLAGS) \
 	$(CFLAGS) $(bind_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_BIND_TRUE@am_bind_la_rpath = -rpath $(pkglibdir)
-cgroups_la_LIBADD =
-am__cgroups_la_SOURCES_DIST = cgroups.c utils_mount.c utils_mount.h
+@BUILD_PLUGIN_CEPH_TRUE@ceph_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
+am__ceph_la_SOURCES_DIST = ceph.c
+@BUILD_PLUGIN_CEPH_TRUE@am_ceph_la_OBJECTS = ceph_la-ceph.lo
+ceph_la_OBJECTS = $(am_ceph_la_OBJECTS)
+ceph_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(ceph_la_CFLAGS) \
+	$(CFLAGS) $(ceph_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_CEPH_TRUE@am_ceph_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_CGROUPS_TRUE@cgroups_la_DEPENDENCIES = libmount.la
+am__cgroups_la_SOURCES_DIST = cgroups.c utils_ignorelist.c \
+	utils_ignorelist.h
 @BUILD_PLUGIN_CGROUPS_TRUE@am_cgroups_la_OBJECTS = cgroups.lo \
-@BUILD_PLUGIN_CGROUPS_TRUE@	utils_mount.lo
+@BUILD_PLUGIN_CGROUPS_TRUE@	utils_ignorelist.lo
 cgroups_la_OBJECTS = $(am_cgroups_la_OBJECTS)
 cgroups_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(cgroups_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_CGROUPS_TRUE@am_cgroups_la_rpath = -rpath $(pkglibdir)
 conntrack_la_LIBADD =
@@ -783,27 +560,30 @@
 @BUILD_PLUGIN_DBI_TRUE@	dbi_la-utils_db_query.lo
 dbi_la_OBJECTS = $(am_dbi_la_OBJECTS)
 dbi_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(dbi_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_DBI_TRUE@am_dbi_la_rpath = -rpath $(pkglibdir)
-df_la_LIBADD =
-am__df_la_SOURCES_DIST = df.c utils_mount.c utils_mount.h
-@BUILD_PLUGIN_DF_TRUE@am_df_la_OBJECTS = df.lo utils_mount.lo
+@BUILD_PLUGIN_DF_TRUE@df_la_DEPENDENCIES = libmount.la
+am__df_la_SOURCES_DIST = df.c utils_ignorelist.c utils_ignorelist.h
+@BUILD_PLUGIN_DF_TRUE@am_df_la_OBJECTS = df.lo utils_ignorelist.lo
 df_la_OBJECTS = $(am_df_la_OBJECTS)
 df_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(df_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_6 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_DISK_TRUE@disk_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_DISK_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_DISK_TRUE@	$(am__DEPENDENCIES_6) \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_DISK_TRUE@	$(am__DEPENDENCIES_1)
-am__disk_la_SOURCES_DIST = disk.c
-@BUILD_PLUGIN_DISK_TRUE@am_disk_la_OBJECTS = disk_la-disk.lo
+am__disk_la_SOURCES_DIST = disk.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_DISK_TRUE@am_disk_la_OBJECTS = disk_la-disk.lo \
+@BUILD_PLUGIN_DISK_TRUE@	disk_la-utils_ignorelist.lo
 disk_la_OBJECTS = $(am_disk_la_OBJECTS)
 disk_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(disk_la_CFLAGS) \
 	$(CFLAGS) $(disk_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
 dns_la_DEPENDENCIES =
@@ -811,12 +591,20 @@
 @BUILD_PLUGIN_DNS_TRUE@am_dns_la_OBJECTS = dns.lo utils_dns.lo
 dns_la_OBJECTS = $(am_dns_la_OBJECTS)
 dns_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(dns_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_DNS_TRUE@am_dns_la_rpath = -rpath $(pkglibdir)
+drbd_la_DEPENDENCIES =
+am__drbd_la_SOURCES_DIST = drbd.c
+@BUILD_PLUGIN_DRBD_TRUE@am_drbd_la_OBJECTS = drbd.lo
+drbd_la_OBJECTS = $(am_drbd_la_OBJECTS)
+drbd_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(drbd_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_DRBD_TRUE@am_drbd_la_rpath = -rpath $(pkglibdir)
 email_la_DEPENDENCIES =
 am__email_la_SOURCES_DIST = email.c
 @BUILD_PLUGIN_EMAIL_TRUE@am_email_la_OBJECTS = email.lo
 email_la_OBJECTS = $(am_email_la_OBJECTS)
 email_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -837,21 +625,31 @@
 ethstat_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(ethstat_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_ETHSTAT_TRUE@am_ethstat_la_rpath = -rpath $(pkglibdir)
 exec_la_DEPENDENCIES =
 am__exec_la_SOURCES_DIST = exec.c utils_cmd_putnotif.c \
-	utils_cmd_putnotif.h utils_cmd_putval.c utils_cmd_putval.h
+	utils_cmd_putnotif.h utils_cmd_putval.c utils_cmd_putval.h \
+	utils_parse_option.h utils_parse_option.c
 @BUILD_PLUGIN_EXEC_TRUE@am_exec_la_OBJECTS = exec.lo \
 @BUILD_PLUGIN_EXEC_TRUE@	utils_cmd_putnotif.lo \
-@BUILD_PLUGIN_EXEC_TRUE@	utils_cmd_putval.lo
+@BUILD_PLUGIN_EXEC_TRUE@	utils_cmd_putval.lo \
+@BUILD_PLUGIN_EXEC_TRUE@	utils_parse_option.lo
 exec_la_OBJECTS = $(am_exec_la_OBJECTS)
 exec_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(exec_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_EXEC_TRUE@am_exec_la_rpath = -rpath $(pkglibdir)
+fhcount_la_LIBADD =
+am__fhcount_la_SOURCES_DIST = fhcount.c
+@BUILD_PLUGIN_FHCOUNT_TRUE@am_fhcount_la_OBJECTS = fhcount.lo
+fhcount_la_OBJECTS = $(am_fhcount_la_OBJECTS)
+fhcount_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(fhcount_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_FHCOUNT_TRUE@am_fhcount_la_rpath = -rpath $(pkglibdir)
 filecount_la_LIBADD =
 am__filecount_la_SOURCES_DIST = filecount.c
 @BUILD_PLUGIN_FILECOUNT_TRUE@am_filecount_la_OBJECTS = filecount.lo
 filecount_la_OBJECTS = $(am_filecount_la_OBJECTS)
 filecount_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -887,24 +685,36 @@
 @BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_7 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_INTERFACE_TRUE@interface_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(am__DEPENDENCIES_7) \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(am__DEPENDENCIES_1)
-am__interface_la_SOURCES_DIST = interface.c
+am__interface_la_SOURCES_DIST = interface.c utils_ignorelist.c \
+	utils_ignorelist.h
 @BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_OBJECTS =  \
-@BUILD_PLUGIN_INTERFACE_TRUE@	interface_la-interface.lo
+@BUILD_PLUGIN_INTERFACE_TRUE@	interface_la-interface.lo \
+@BUILD_PLUGIN_INTERFACE_TRUE@	interface_la-utils_ignorelist.lo
 interface_la_OBJECTS = $(am_interface_la_OBJECTS)
 interface_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(interface_la_CFLAGS) \
 	$(CFLAGS) $(interface_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_rpath = -rpath \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(pkglibdir)
+ipc_la_LIBADD =
+am__ipc_la_SOURCES_DIST = ipc.c
+@BUILD_PLUGIN_IPC_TRUE@am_ipc_la_OBJECTS = ipc_la-ipc.lo
+ipc_la_OBJECTS = $(am_ipc_la_OBJECTS)
+ipc_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(ipc_la_CFLAGS) $(CFLAGS) \
+	$(ipc_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_IPC_TRUE@am_ipc_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_IPMI_TRUE@ipmi_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
-am__ipmi_la_SOURCES_DIST = ipmi.c
-@BUILD_PLUGIN_IPMI_TRUE@am_ipmi_la_OBJECTS = ipmi_la-ipmi.lo
+am__ipmi_la_SOURCES_DIST = ipmi.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_IPMI_TRUE@am_ipmi_la_OBJECTS = ipmi_la-ipmi.lo \
+@BUILD_PLUGIN_IPMI_TRUE@	ipmi_la-utils_ignorelist.lo
 ipmi_la_OBJECTS = $(am_ipmi_la_OBJECTS)
 ipmi_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(ipmi_la_CFLAGS) \
 	$(CFLAGS) $(ipmi_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_IPMI_TRUE@am_ipmi_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_DEPENDENCIES =  \
@@ -923,14 +733,14 @@
 ipvs_la_OBJECTS = $(am_ipvs_la_OBJECTS)
 ipvs_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(ipvs_la_CFLAGS) \
 	$(CFLAGS) $(ipvs_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_IPVS_TRUE@am_ipvs_la_rpath = -rpath $(pkglibdir)
 irq_la_LIBADD =
-am__irq_la_SOURCES_DIST = irq.c
-@BUILD_PLUGIN_IRQ_TRUE@am_irq_la_OBJECTS = irq.lo
+am__irq_la_SOURCES_DIST = irq.c utils_ignorelist.c utils_ignorelist.h
+@BUILD_PLUGIN_IRQ_TRUE@am_irq_la_OBJECTS = irq.lo utils_ignorelist.lo
 irq_la_OBJECTS = $(am_irq_la_OBJECTS)
 irq_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(irq_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_IRQ_TRUE@am_irq_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_JAVA_TRUE@java_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
@@ -938,33 +748,39 @@
 @BUILD_PLUGIN_JAVA_TRUE@am_java_la_OBJECTS = java_la-java.lo
 java_la_OBJECTS = $(am_java_la_OBJECTS)
 java_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(java_la_CFLAGS) \
 	$(CFLAGS) $(java_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_JAVA_TRUE@am_java_la_rpath = -rpath $(pkglibdir)
-@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_DEPENDENCIES =  \
-@BUILD_PLUGIN_LIBVIRT_TRUE@	$(am__DEPENDENCIES_1) \
-@BUILD_PLUGIN_LIBVIRT_TRUE@	$(am__DEPENDENCIES_1)
-am__libvirt_la_SOURCES_DIST = libvirt.c
-@BUILD_PLUGIN_LIBVIRT_TRUE@am_libvirt_la_OBJECTS =  \
-@BUILD_PLUGIN_LIBVIRT_TRUE@	libvirt_la-libvirt.lo
-libvirt_la_OBJECTS = $(am_libvirt_la_OBJECTS)
-libvirt_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(libvirt_la_CFLAGS) \
-	$(CFLAGS) $(libvirt_la_LDFLAGS) $(LDFLAGS) -o $@
-@BUILD_PLUGIN_LIBVIRT_TRUE@am_libvirt_la_rpath = -rpath $(pkglibdir)
+liblookup_la_DEPENDENCIES = daemon/libavltree.la daemon/libcommon.la
+am_liblookup_la_OBJECTS = utils_vl_lookup.lo
+liblookup_la_OBJECTS = $(am_liblookup_la_OBJECTS)
+libmount_la_DEPENDENCIES = daemon/libcommon.la
+am_libmount_la_OBJECTS = utils_mount.lo
+libmount_la_OBJECTS = $(am_libmount_la_OBJECTS)
 @BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_8 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_LOAD_TRUE@load_la_DEPENDENCIES = $(am__DEPENDENCIES_8) \
 @BUILD_PLUGIN_LOAD_TRUE@	$(am__DEPENDENCIES_1)
 am__load_la_SOURCES_DIST = load.c
 @BUILD_PLUGIN_LOAD_TRUE@am_load_la_OBJECTS = load_la-load.lo
 load_la_OBJECTS = $(am_load_la_OBJECTS)
 load_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(load_la_CFLAGS) \
 	$(CFLAGS) $(load_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_LOAD_TRUE@am_load_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@log_logstash_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@	$(am__DEPENDENCIES_1)
+am__log_logstash_la_SOURCES_DIST = log_logstash.c
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@am_log_logstash_la_OBJECTS = log_logstash_la-log_logstash.lo
+log_logstash_la_OBJECTS = $(am_log_logstash_la_OBJECTS)
+log_logstash_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
+	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
+	$(log_logstash_la_CFLAGS) $(CFLAGS) $(log_logstash_la_LDFLAGS) \
+	$(LDFLAGS) -o $@
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@am_log_logstash_la_rpath = -rpath \
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@	$(pkglibdir)
 logfile_la_LIBADD =
 am__logfile_la_SOURCES_DIST = logfile.c
 @BUILD_PLUGIN_LOGFILE_TRUE@am_logfile_la_OBJECTS = logfile.lo
 logfile_la_OBJECTS = $(am_logfile_la_OBJECTS)
 logfile_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -984,14 +800,16 @@
 lvm_la_OBJECTS = $(am_lvm_la_OBJECTS)
 lvm_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(lvm_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_LVM_TRUE@am_lvm_la_rpath = -rpath $(pkglibdir)
 madwifi_la_LIBADD =
-am__madwifi_la_SOURCES_DIST = madwifi.c madwifi.h
-@BUILD_PLUGIN_MADWIFI_TRUE@am_madwifi_la_OBJECTS = madwifi.lo
+am__madwifi_la_SOURCES_DIST = madwifi.c madwifi.h utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_MADWIFI_TRUE@am_madwifi_la_OBJECTS = madwifi.lo \
+@BUILD_PLUGIN_MADWIFI_TRUE@	utils_ignorelist.lo
 madwifi_la_OBJECTS = $(am_madwifi_la_OBJECTS)
 madwifi_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(madwifi_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MADWIFI_TRUE@am_madwifi_la_rpath = -rpath $(pkglibdir)
 match_empty_counter_la_LIBADD =
@@ -1056,14 +874,14 @@
 mbmon_la_OBJECTS = $(am_mbmon_la_OBJECTS)
 mbmon_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(mbmon_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_rpath = -rpath $(pkglibdir)
 md_la_LIBADD =
-am__md_la_SOURCES_DIST = md.c
-@BUILD_PLUGIN_MD_TRUE@am_md_la_OBJECTS = md.lo
+am__md_la_SOURCES_DIST = md.c utils_ignorelist.c utils_ignorelist.h
+@BUILD_PLUGIN_MD_TRUE@am_md_la_OBJECTS = md.lo utils_ignorelist.lo
 md_la_OBJECTS = $(am_md_la_OBJECTS)
 md_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(md_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MD_TRUE@am_md_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_DEPENDENCIES =  \
@@ -1098,14 +916,15 @@
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
 memory_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(memory_la_CFLAGS) \
 	$(CFLAGS) $(memory_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_MIC_TRUE@mic_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
-am__mic_la_SOURCES_DIST = mic.c
-@BUILD_PLUGIN_MIC_TRUE@am_mic_la_OBJECTS = mic_la-mic.lo
+am__mic_la_SOURCES_DIST = mic.c utils_ignorelist.c utils_ignorelist.h
+@BUILD_PLUGIN_MIC_TRUE@am_mic_la_OBJECTS = mic_la-mic.lo \
+@BUILD_PLUGIN_MIC_TRUE@	mic_la-utils_ignorelist.lo
 mic_la_OBJECTS = $(am_mic_la_OBJECTS)
 mic_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(mic_la_CFLAGS) $(CFLAGS) \
 	$(mic_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MIC_TRUE@am_mic_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_MODBUS_TRUE@modbus_la_DEPENDENCIES =  \
@@ -1136,14 +955,16 @@
 mysql_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(mysql_la_CFLAGS) \
 	$(CFLAGS) $(mysql_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MYSQL_TRUE@am_mysql_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_NETAPP_TRUE@netapp_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_NETAPP_TRUE@	$(am__DEPENDENCIES_1)
-am__netapp_la_SOURCES_DIST = netapp.c
-@BUILD_PLUGIN_NETAPP_TRUE@am_netapp_la_OBJECTS = netapp_la-netapp.lo
+am__netapp_la_SOURCES_DIST = netapp.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_NETAPP_TRUE@am_netapp_la_OBJECTS = netapp_la-netapp.lo \
+@BUILD_PLUGIN_NETAPP_TRUE@	netapp_la-utils_ignorelist.lo
 netapp_la_OBJECTS = $(am_netapp_la_OBJECTS)
 netapp_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(netapp_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_NETAPP_TRUE@am_netapp_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_DEPENDENCIES =  \
@@ -1242,20 +1063,31 @@
 olsrd_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(olsrd_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_OLSRD_TRUE@am_olsrd_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_ONEWIRE_TRUE@	$(am__DEPENDENCIES_1)
-am__onewire_la_SOURCES_DIST = onewire.c
+am__onewire_la_SOURCES_DIST = onewire.c utils_ignorelist.c \
+	utils_ignorelist.h
 @BUILD_PLUGIN_ONEWIRE_TRUE@am_onewire_la_OBJECTS =  \
-@BUILD_PLUGIN_ONEWIRE_TRUE@	onewire_la-onewire.lo
+@BUILD_PLUGIN_ONEWIRE_TRUE@	onewire_la-onewire.lo \
+@BUILD_PLUGIN_ONEWIRE_TRUE@	onewire_la-utils_ignorelist.lo
 onewire_la_OBJECTS = $(am_onewire_la_OBJECTS)
 onewire_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(onewire_la_CFLAGS) \
 	$(CFLAGS) $(onewire_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_ONEWIRE_TRUE@am_onewire_la_rpath = -rpath $(pkglibdir)
+openldap_la_DEPENDENCIES =
+am__openldap_la_SOURCES_DIST = openldap.c
+@BUILD_PLUGIN_OPENLDAP_TRUE@am_openldap_la_OBJECTS =  \
+@BUILD_PLUGIN_OPENLDAP_TRUE@	openldap_la-openldap.lo
+openldap_la_OBJECTS = $(am_openldap_la_OBJECTS)
+openldap_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(openldap_la_CFLAGS) \
+	$(CFLAGS) $(openldap_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_OPENLDAP_TRUE@am_openldap_la_rpath = -rpath $(pkglibdir)
 openvpn_la_LIBADD =
 am__openvpn_la_SOURCES_DIST = openvpn.c
 @BUILD_PLUGIN_OPENVPN_TRUE@am_openvpn_la_OBJECTS =  \
 @BUILD_PLUGIN_OPENVPN_TRUE@	openvpn_la-openvpn.lo
 openvpn_la_OBJECTS = $(am_openvpn_la_OBJECTS)
 openvpn_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
@@ -1334,14 +1166,16 @@
 processes_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(processes_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_PROCESSES_TRUE@am_processes_la_rpath = -rpath \
 @BUILD_PLUGIN_PROCESSES_TRUE@	$(pkglibdir)
 protocols_la_LIBADD =
-am__protocols_la_SOURCES_DIST = protocols.c
-@BUILD_PLUGIN_PROTOCOLS_TRUE@am_protocols_la_OBJECTS = protocols.lo
+am__protocols_la_SOURCES_DIST = protocols.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_PROTOCOLS_TRUE@am_protocols_la_OBJECTS = protocols.lo \
+@BUILD_PLUGIN_PROTOCOLS_TRUE@	utils_ignorelist.lo
 protocols_la_OBJECTS = $(am_protocols_la_OBJECTS)
 protocols_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(protocols_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_PROTOCOLS_TRUE@am_protocols_la_rpath = -rpath \
 @BUILD_PLUGIN_PROTOCOLS_TRUE@	$(pkglibdir)
@@ -1396,15 +1230,17 @@
 rrdtool_la_OBJECTS = $(am_rrdtool_la_OBJECTS)
 rrdtool_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(rrdtool_la_CFLAGS) \
 	$(CFLAGS) $(rrdtool_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_rpath = -rpath $(pkglibdir)
 sensors_la_DEPENDENCIES =
-am__sensors_la_SOURCES_DIST = sensors.c
+am__sensors_la_SOURCES_DIST = sensors.c utils_ignorelist.c \
+	utils_ignorelist.h
 @BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_OBJECTS =  \
-@BUILD_PLUGIN_SENSORS_TRUE@	sensors_la-sensors.lo
+@BUILD_PLUGIN_SENSORS_TRUE@	sensors_la-sensors.lo \
+@BUILD_PLUGIN_SENSORS_TRUE@	sensors_la-utils_ignorelist.lo
 sensors_la_OBJECTS = $(am_sensors_la_OBJECTS)
 sensors_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(sensors_la_CFLAGS) \
 	$(CFLAGS) $(sensors_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
 serial_la_LIBADD =
@@ -1420,12 +1256,24 @@
 @BUILD_PLUGIN_SIGROK_TRUE@am_sigrok_la_OBJECTS = sigrok_la-sigrok.lo
 sigrok_la_OBJECTS = $(am_sigrok_la_OBJECTS)
 sigrok_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(sigrok_la_CFLAGS) \
 	$(CFLAGS) $(sigrok_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SIGROK_TRUE@am_sigrok_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@smart_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
+am__smart_la_SOURCES_DIST = smart.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@am_smart_la_OBJECTS = smart_la-smart.lo \
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@	smart_la-utils_ignorelist.lo
+smart_la_OBJECTS = $(am_smart_la_OBJECTS)
+smart_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(smart_la_CFLAGS) \
+	$(CFLAGS) $(smart_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@am_smart_la_rpath =  \
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@	-rpath \
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@	$(pkglibdir)
 @BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__DEPENDENCIES_13 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_DEPENDENCIES = $(am__DEPENDENCIES_13) \
 @BUILD_PLUGIN_SNMP_TRUE@	$(am__DEPENDENCIES_1)
 am__snmp_la_SOURCES_DIST = snmp.c
 @BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_OBJECTS = snmp_la-snmp.lo
 snmp_la_OBJECTS = $(am_snmp_la_OBJECTS)
@@ -1574,14 +1422,16 @@
 ted_la_OBJECTS = $(am_ted_la_OBJECTS)
 ted_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(ted_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_TED_TRUE@am_ted_la_rpath = -rpath $(pkglibdir)
 thermal_la_LIBADD =
-am__thermal_la_SOURCES_DIST = thermal.c
-@BUILD_PLUGIN_THERMAL_TRUE@am_thermal_la_OBJECTS = thermal.lo
+am__thermal_la_SOURCES_DIST = thermal.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_THERMAL_TRUE@am_thermal_la_OBJECTS = thermal.lo \
+@BUILD_PLUGIN_THERMAL_TRUE@	utils_ignorelist.lo
 thermal_la_OBJECTS = $(am_thermal_la_OBJECTS)
 thermal_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(thermal_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_THERMAL_TRUE@am_thermal_la_rpath = -rpath $(pkglibdir)
 threshold_la_LIBADD =
@@ -1603,23 +1453,36 @@
 tokyotyrant_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(AM_CFLAGS) $(CFLAGS) $(tokyotyrant_la_LDFLAGS) $(LDFLAGS) -o \
 	$@
 @BUILD_PLUGIN_TOKYOTYRANT_TRUE@am_tokyotyrant_la_rpath = -rpath \
 @BUILD_PLUGIN_TOKYOTYRANT_TRUE@	$(pkglibdir)
+turbostat_la_LIBADD =
+am__turbostat_la_SOURCES_DIST = turbostat.c
+@BUILD_PLUGIN_TURBOSTAT_TRUE@am_turbostat_la_OBJECTS = turbostat.lo
+turbostat_la_OBJECTS = $(am_turbostat_la_OBJECTS)
+turbostat_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(turbostat_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_TURBOSTAT_TRUE@am_turbostat_la_rpath = -rpath \
+@BUILD_PLUGIN_TURBOSTAT_TRUE@	$(pkglibdir)
 unixsock_la_DEPENDENCIES =
 am__unixsock_la_SOURCES_DIST = unixsock.c utils_cmd_flush.h \
 	utils_cmd_flush.c utils_cmd_getval.h utils_cmd_getval.c \
+	utils_cmd_getthreshold.h utils_cmd_getthreshold.c \
 	utils_cmd_listval.h utils_cmd_listval.c utils_cmd_putval.h \
-	utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
+	utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c \
+	utils_parse_option.h utils_parse_option.c
 @BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS = unixsock.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_flush.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_getval.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_getthreshold.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_listval.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putval.lo \
-@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putnotif.lo
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putnotif.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_parse_option.lo
 unixsock_la_OBJECTS = $(am_unixsock_la_OBJECTS)
 unixsock_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(unixsock_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_UPTIME_TRUE@uptime_la_DEPENDENCIES =  \
@@ -1657,12 +1520,23 @@
 @BUILD_PLUGIN_VARNISH_TRUE@	varnish_la-varnish.lo
 varnish_la_OBJECTS = $(am_varnish_la_OBJECTS)
 varnish_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(varnish_la_CFLAGS) \
 	$(CFLAGS) $(varnish_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_VARNISH_TRUE@am_varnish_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_VIRT_TRUE@virt_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
+@BUILD_PLUGIN_VIRT_TRUE@	$(am__DEPENDENCIES_1)
+am__virt_la_SOURCES_DIST = virt.c utils_ignorelist.c \
+	utils_ignorelist.h
+@BUILD_PLUGIN_VIRT_TRUE@am_virt_la_OBJECTS = virt_la-virt.lo \
+@BUILD_PLUGIN_VIRT_TRUE@	virt_la-utils_ignorelist.lo
+virt_la_OBJECTS = $(am_virt_la_OBJECTS)
+virt_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(virt_la_CFLAGS) \
+	$(CFLAGS) $(virt_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_VIRT_TRUE@am_virt_la_rpath = -rpath $(pkglibdir)
 vmem_la_LIBADD =
 am__vmem_la_SOURCES_DIST = vmem.c
 @BUILD_PLUGIN_VMEM_TRUE@am_vmem_la_OBJECTS = vmem.lo
 vmem_la_OBJECTS = $(am_vmem_la_OBJECTS)
 vmem_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -1710,12 +1584,42 @@
 write_http_la_OBJECTS = $(am_write_http_la_OBJECTS)
 write_http_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(write_http_la_CFLAGS) \
 	$(CFLAGS) $(write_http_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_WRITE_HTTP_TRUE@am_write_http_la_rpath = -rpath \
 @BUILD_PLUGIN_WRITE_HTTP_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@write_kafka_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	$(am__DEPENDENCIES_1)
+am__write_kafka_la_SOURCES_DIST = write_kafka.c \
+	utils_format_graphite.c utils_format_graphite.h \
+	utils_format_json.c utils_format_json.h utils_cmd_putval.c \
+	utils_cmd_putval.h utils_crc32.c utils_crc32.h
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@am_write_kafka_la_OBJECTS =  \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	write_kafka_la-write_kafka.lo \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	write_kafka_la-utils_format_graphite.lo \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	write_kafka_la-utils_format_json.lo \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	write_kafka_la-utils_cmd_putval.lo \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	write_kafka_la-utils_crc32.lo
+write_kafka_la_OBJECTS = $(am_write_kafka_la_OBJECTS)
+write_kafka_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
+	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
+	$(AM_CFLAGS) $(CFLAGS) $(write_kafka_la_LDFLAGS) $(LDFLAGS) -o \
+	$@
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@am_write_kafka_la_rpath = -rpath \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@	$(pkglibdir)
+write_log_la_LIBADD =
+am__write_log_la_SOURCES_DIST = write_log.c utils_format_graphite.c \
+	utils_format_graphite.h
+@BUILD_PLUGIN_WRITE_LOG_TRUE@am_write_log_la_OBJECTS = write_log.lo \
+@BUILD_PLUGIN_WRITE_LOG_TRUE@	utils_format_graphite.lo
+write_log_la_OBJECTS = $(am_write_log_la_OBJECTS)
+write_log_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(write_log_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_WRITE_LOG_TRUE@am_write_log_la_rpath = -rpath \
+@BUILD_PLUGIN_WRITE_LOG_TRUE@	$(pkglibdir)
 write_mongodb_la_DEPENDENCIES =
 am__write_mongodb_la_SOURCES_DIST = write_mongodb.c
 @BUILD_PLUGIN_WRITE_MONGODB_TRUE@am_write_mongodb_la_OBJECTS = write_mongodb_la-write_mongodb.lo
 write_mongodb_la_OBJECTS = $(am_write_mongodb_la_OBJECTS)
 write_mongodb_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -1732,25 +1636,48 @@
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(write_redis_la_CFLAGS) $(CFLAGS) $(write_redis_la_LDFLAGS) \
 	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_WRITE_REDIS_TRUE@am_write_redis_la_rpath = -rpath \
 @BUILD_PLUGIN_WRITE_REDIS_TRUE@	$(pkglibdir)
 write_riemann_la_DEPENDENCIES =
-am__write_riemann_la_SOURCES_DIST = write_riemann.c
+am__write_riemann_la_SOURCES_DIST = write_riemann.c \
+	write_riemann_threshold.c
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am_write_riemann_la_OBJECTS =  \
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@	write_riemann.lo
+@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@	write_riemann.lo \
+@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@	write_riemann_threshold.lo
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@nodist_write_riemann_la_OBJECTS =  \
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@	riemann.pb-c.lo
 write_riemann_la_OBJECTS = $(am_write_riemann_la_OBJECTS) \
 	$(nodist_write_riemann_la_OBJECTS)
 write_riemann_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(AM_CFLAGS) $(CFLAGS) $(write_riemann_la_LDFLAGS) $(LDFLAGS) \
 	-o $@
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@am_write_riemann_la_rpath = -rpath \
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@	$(pkglibdir)
+write_sensu_la_LIBADD =
+am__write_sensu_la_SOURCES_DIST = write_sensu.c
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@am_write_sensu_la_OBJECTS =  \
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@	write_sensu.lo
+write_sensu_la_OBJECTS = $(am_write_sensu_la_OBJECTS)
+write_sensu_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
+	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
+	$(AM_CFLAGS) $(CFLAGS) $(write_sensu_la_LDFLAGS) $(LDFLAGS) -o \
+	$@
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@am_write_sensu_la_rpath = -rpath \
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@	$(pkglibdir)
+write_tsdb_la_LIBADD =
+am__write_tsdb_la_SOURCES_DIST = write_tsdb.c
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@am_write_tsdb_la_OBJECTS =  \
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@	write_tsdb.lo
+write_tsdb_la_OBJECTS = $(am_write_tsdb_la_OBJECTS)
+write_tsdb_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(write_tsdb_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@am_write_tsdb_la_rpath = -rpath \
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@	$(pkglibdir)
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__xmms_la_SOURCES_DIST = xmms.c
 @BUILD_PLUGIN_XMMS_TRUE@am_xmms_la_OBJECTS = xmms_la-xmms.lo
 xmms_la_OBJECTS = $(am_xmms_la_OBJECTS)
 xmms_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(xmms_la_CFLAGS) \
@@ -1762,62 +1689,39 @@
 @BUILD_PLUGIN_ZFS_ARC_TRUE@	zfs_arc_la-zfs_arc.lo
 zfs_arc_la_OBJECTS = $(am_zfs_arc_la_OBJECTS)
 zfs_arc_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(zfs_arc_la_CFLAGS) \
 	$(CFLAGS) $(zfs_arc_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_ZFS_ARC_TRUE@am_zfs_arc_la_rpath = -rpath $(pkglibdir)
-@BUILD_FEATURE_DEBUG_TRUE@am__EXEEXT_1 =  \
-@BUILD_FEATURE_DEBUG_TRUE@	utils_vl_lookup_test$(EXEEXT)
+zookeeper_la_LIBADD =
+am__zookeeper_la_SOURCES_DIST = zookeeper.c
+@BUILD_PLUGIN_ZOOKEEPER_TRUE@am_zookeeper_la_OBJECTS = zookeeper.lo
+zookeeper_la_OBJECTS = $(am_zookeeper_la_OBJECTS)
+zookeeper_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(zookeeper_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_ZOOKEEPER_TRUE@am_zookeeper_la_rpath = -rpath \
+@BUILD_PLUGIN_ZOOKEEPER_TRUE@	$(pkglibdir)
 PROGRAMS = $(bin_PROGRAMS) $(sbin_PROGRAMS)
-am_collectd_OBJECTS = collectd-collectd.$(OBJEXT) \
-	collectd-common.$(OBJEXT) collectd-configfile.$(OBJEXT) \
-	collectd-filter_chain.$(OBJEXT) collectd-meta_data.$(OBJEXT) \
-	collectd-plugin.$(OBJEXT) collectd-utils_avltree.$(OBJEXT) \
-	collectd-utils_cache.$(OBJEXT) \
-	collectd-utils_complain.$(OBJEXT) \
-	collectd-utils_heap.$(OBJEXT) \
-	collectd-utils_ignorelist.$(OBJEXT) \
-	collectd-utils_llist.$(OBJEXT) \
-	collectd-utils_parse_option.$(OBJEXT) \
-	collectd-utils_random.$(OBJEXT) \
-	collectd-utils_tail_match.$(OBJEXT) \
-	collectd-utils_match.$(OBJEXT) collectd-utils_subst.$(OBJEXT) \
-	collectd-utils_tail.$(OBJEXT) collectd-utils_time.$(OBJEXT) \
-	collectd-types_list.$(OBJEXT)
-collectd_OBJECTS = $(am_collectd_OBJECTS)
-@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_17 =  \
-@BUILD_WITH_LIBSTATGRAB_TRUE@	$(am__DEPENDENCIES_1)
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_18 =  \
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@	$(am__DEPENDENCIES_1) \
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@	liboconfig/liboconfig.la
-collectd_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(collectd_CFLAGS) \
-	$(CFLAGS) $(collectd_LDFLAGS) $(LDFLAGS) -o $@
 am_collectd_nagios_OBJECTS =  \
 	collectd_nagios-collectd-nagios.$(OBJEXT)
 collectd_nagios_OBJECTS = $(am_collectd_nagios_OBJECTS)
-am_collectd_tg_OBJECTS = collectd_tg-collectd-tg.$(OBJEXT) \
-	collectd_tg-utils_heap.$(OBJEXT)
+am_collectd_tg_OBJECTS = collectd_tg-collectd-tg.$(OBJEXT)
 collectd_tg_OBJECTS = $(am_collectd_tg_OBJECTS)
 am_collectdctl_OBJECTS = collectdctl-collectdctl.$(OBJEXT)
 collectdctl_OBJECTS = $(am_collectdctl_OBJECTS)
 am_collectdmon_OBJECTS = collectdmon-collectdmon.$(OBJEXT)
 collectdmon_OBJECTS = $(am_collectdmon_OBJECTS)
 collectdmon_LDADD = $(LDADD)
-am__utils_vl_lookup_test_SOURCES_DIST = utils_vl_lookup_test.c \
-	utils_vl_lookup.h utils_vl_lookup.c utils_avltree.c \
-	utils_avltree.h common.h
-@BUILD_FEATURE_DEBUG_TRUE@am_utils_vl_lookup_test_OBJECTS = utils_vl_lookup_test-utils_vl_lookup_test.$(OBJEXT) \
-@BUILD_FEATURE_DEBUG_TRUE@	utils_vl_lookup_test-utils_vl_lookup.$(OBJEXT) \
-@BUILD_FEATURE_DEBUG_TRUE@	utils_vl_lookup_test-utils_avltree.$(OBJEXT)
-utils_vl_lookup_test_OBJECTS = $(am_utils_vl_lookup_test_OBJECTS)
-utils_vl_lookup_test_DEPENDENCIES =
-utils_vl_lookup_test_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(utils_vl_lookup_test_CFLAGS) $(CFLAGS) \
-	$(utils_vl_lookup_test_LDFLAGS) $(LDFLAGS) -o $@
+am_test_utils_mount_OBJECTS = utils_mount_test.$(OBJEXT)
+test_utils_mount_OBJECTS = $(am_test_utils_mount_OBJECTS)
+test_utils_mount_DEPENDENCIES = libmount.la daemon/libplugin_mock.la
+am_test_utils_vl_lookup_OBJECTS = utils_vl_lookup_test.$(OBJEXT)
+test_utils_vl_lookup_OBJECTS = $(am_test_utils_vl_lookup_OBJECTS)
+test_utils_vl_lookup_DEPENDENCIES = liblookup.la \
+	daemon/libplugin_mock.la
 AM_V_P = $(am__v_P_@AM_V@)
 am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)
 am__v_P_0 = false
 am__v_P_1 = :
 AM_V_GEN = $(am__v_GEN_@AM_V@)
 am__v_GEN_ = $(am__v_GEN_@AM_DEFAULT_V@)
@@ -1849,88 +1753,100 @@
 am__v_CCLD_ = $(am__v_CCLD_@AM_DEFAULT_V@)
 am__v_CCLD_0 = @echo "  CCLD    " $@;
 am__v_CCLD_1 = 
 SOURCES = $(aggregation_la_SOURCES) $(amqp_la_SOURCES) \
 	$(apache_la_SOURCES) $(apcups_la_SOURCES) \
 	$(apple_sensors_la_SOURCES) $(aquaero_la_SOURCES) \
-	$(ascent_la_SOURCES) $(battery_la_SOURCES) $(bind_la_SOURCES) \
+	$(ascent_la_SOURCES) $(barometer_la_SOURCES) \
+	$(battery_la_SOURCES) $(bind_la_SOURCES) $(ceph_la_SOURCES) \
 	$(cgroups_la_SOURCES) $(conntrack_la_SOURCES) \
 	$(contextswitch_la_SOURCES) $(cpu_la_SOURCES) \
 	$(cpufreq_la_SOURCES) $(csv_la_SOURCES) $(curl_la_SOURCES) \
 	$(curl_json_la_SOURCES) $(curl_xml_la_SOURCES) \
 	$(dbi_la_SOURCES) $(df_la_SOURCES) $(disk_la_SOURCES) \
-	$(dns_la_SOURCES) $(email_la_SOURCES) $(entropy_la_SOURCES) \
-	$(ethstat_la_SOURCES) $(exec_la_SOURCES) \
-	$(filecount_la_SOURCES) $(fscache_la_SOURCES) \
-	$(gmond_la_SOURCES) $(hddtemp_la_SOURCES) \
-	$(interface_la_SOURCES) $(ipmi_la_SOURCES) \
-	$(iptables_la_SOURCES) $(ipvs_la_SOURCES) $(irq_la_SOURCES) \
-	$(java_la_SOURCES) $(libvirt_la_SOURCES) $(load_la_SOURCES) \
+	$(dns_la_SOURCES) $(drbd_la_SOURCES) $(email_la_SOURCES) \
+	$(entropy_la_SOURCES) $(ethstat_la_SOURCES) $(exec_la_SOURCES) \
+	$(fhcount_la_SOURCES) $(filecount_la_SOURCES) \
+	$(fscache_la_SOURCES) $(gmond_la_SOURCES) \
+	$(hddtemp_la_SOURCES) $(interface_la_SOURCES) \
+	$(ipc_la_SOURCES) $(ipmi_la_SOURCES) $(iptables_la_SOURCES) \
+	$(ipvs_la_SOURCES) $(irq_la_SOURCES) $(java_la_SOURCES) \
+	$(liblookup_la_SOURCES) $(libmount_la_SOURCES) \
+	$(load_la_SOURCES) $(log_logstash_la_SOURCES) \
 	$(logfile_la_SOURCES) $(lpar_la_SOURCES) $(lvm_la_SOURCES) \
 	$(madwifi_la_SOURCES) $(match_empty_counter_la_SOURCES) \
 	$(match_hashed_la_SOURCES) $(match_regex_la_SOURCES) \
 	$(match_timediff_la_SOURCES) $(match_value_la_SOURCES) \
 	$(mbmon_la_SOURCES) $(md_la_SOURCES) $(memcachec_la_SOURCES) \
 	$(memcached_la_SOURCES) $(memory_la_SOURCES) $(mic_la_SOURCES) \
 	$(modbus_la_SOURCES) $(multimeter_la_SOURCES) \
 	$(mysql_la_SOURCES) $(netapp_la_SOURCES) $(netlink_la_SOURCES) \
 	$(network_la_SOURCES) $(nfs_la_SOURCES) $(nginx_la_SOURCES) \
 	$(notify_desktop_la_SOURCES) $(notify_email_la_SOURCES) \
 	$(ntpd_la_SOURCES) $(numa_la_SOURCES) $(nut_la_SOURCES) \
 	$(olsrd_la_SOURCES) $(onewire_la_SOURCES) \
-	$(openvpn_la_SOURCES) $(oracle_la_SOURCES) $(perl_la_SOURCES) \
-	$(pf_la_SOURCES) $(pinba_la_SOURCES) \
-	$(nodist_pinba_la_SOURCES) $(ping_la_SOURCES) \
-	$(postgresql_la_SOURCES) $(powerdns_la_SOURCES) \
-	$(processes_la_SOURCES) $(protocols_la_SOURCES) \
-	$(python_la_SOURCES) $(redis_la_SOURCES) \
-	$(routeros_la_SOURCES) $(rrdcached_la_SOURCES) \
-	$(rrdtool_la_SOURCES) $(sensors_la_SOURCES) \
-	$(serial_la_SOURCES) $(sigrok_la_SOURCES) $(snmp_la_SOURCES) \
+	$(openldap_la_SOURCES) $(openvpn_la_SOURCES) \
+	$(oracle_la_SOURCES) $(perl_la_SOURCES) $(pf_la_SOURCES) \
+	$(pinba_la_SOURCES) $(nodist_pinba_la_SOURCES) \
+	$(ping_la_SOURCES) $(postgresql_la_SOURCES) \
+	$(powerdns_la_SOURCES) $(processes_la_SOURCES) \
+	$(protocols_la_SOURCES) $(python_la_SOURCES) \
+	$(redis_la_SOURCES) $(routeros_la_SOURCES) \
+	$(rrdcached_la_SOURCES) $(rrdtool_la_SOURCES) \
+	$(sensors_la_SOURCES) $(serial_la_SOURCES) \
+	$(sigrok_la_SOURCES) $(smart_la_SOURCES) $(snmp_la_SOURCES) \
 	$(statsd_la_SOURCES) $(swap_la_SOURCES) $(syslog_la_SOURCES) \
 	$(table_la_SOURCES) $(tail_la_SOURCES) $(tail_csv_la_SOURCES) \
 	$(tape_la_SOURCES) $(target_notification_la_SOURCES) \
 	$(target_replace_la_SOURCES) $(target_scale_la_SOURCES) \
 	$(target_set_la_SOURCES) $(target_v5upgrade_la_SOURCES) \
 	$(tcpconns_la_SOURCES) $(teamspeak2_la_SOURCES) \
 	$(ted_la_SOURCES) $(thermal_la_SOURCES) \
 	$(threshold_la_SOURCES) $(tokyotyrant_la_SOURCES) \
-	$(unixsock_la_SOURCES) $(uptime_la_SOURCES) \
-	$(users_la_SOURCES) $(uuid_la_SOURCES) $(varnish_la_SOURCES) \
-	$(vmem_la_SOURCES) $(vserver_la_SOURCES) \
-	$(wireless_la_SOURCES) $(write_graphite_la_SOURCES) \
-	$(write_http_la_SOURCES) $(write_mongodb_la_SOURCES) \
-	$(write_redis_la_SOURCES) $(write_riemann_la_SOURCES) \
-	$(nodist_write_riemann_la_SOURCES) $(xmms_la_SOURCES) \
-	$(zfs_arc_la_SOURCES) $(collectd_SOURCES) \
-	$(collectd_nagios_SOURCES) $(collectd_tg_SOURCES) \
-	$(collectdctl_SOURCES) $(collectdmon_SOURCES) \
-	$(utils_vl_lookup_test_SOURCES)
+	$(turbostat_la_SOURCES) $(unixsock_la_SOURCES) \
+	$(uptime_la_SOURCES) $(users_la_SOURCES) $(uuid_la_SOURCES) \
+	$(varnish_la_SOURCES) $(virt_la_SOURCES) $(vmem_la_SOURCES) \
+	$(vserver_la_SOURCES) $(wireless_la_SOURCES) \
+	$(write_graphite_la_SOURCES) $(write_http_la_SOURCES) \
+	$(write_kafka_la_SOURCES) $(write_log_la_SOURCES) \
+	$(write_mongodb_la_SOURCES) $(write_redis_la_SOURCES) \
+	$(write_riemann_la_SOURCES) $(nodist_write_riemann_la_SOURCES) \
+	$(write_sensu_la_SOURCES) $(write_tsdb_la_SOURCES) \
+	$(xmms_la_SOURCES) $(zfs_arc_la_SOURCES) \
+	$(zookeeper_la_SOURCES) $(collectd_nagios_SOURCES) \
+	$(collectd_tg_SOURCES) $(collectdctl_SOURCES) \
+	$(collectdmon_SOURCES) $(test_utils_mount_SOURCES) \
+	$(test_utils_vl_lookup_SOURCES)
 DIST_SOURCES = $(am__aggregation_la_SOURCES_DIST) \
 	$(am__amqp_la_SOURCES_DIST) $(am__apache_la_SOURCES_DIST) \
 	$(am__apcups_la_SOURCES_DIST) \
 	$(am__apple_sensors_la_SOURCES_DIST) \
 	$(am__aquaero_la_SOURCES_DIST) $(am__ascent_la_SOURCES_DIST) \
+	$(am__barometer_la_SOURCES_DIST) \
 	$(am__battery_la_SOURCES_DIST) $(am__bind_la_SOURCES_DIST) \
-	$(am__cgroups_la_SOURCES_DIST) \
+	$(am__ceph_la_SOURCES_DIST) $(am__cgroups_la_SOURCES_DIST) \
 	$(am__conntrack_la_SOURCES_DIST) \
 	$(am__contextswitch_la_SOURCES_DIST) \
 	$(am__cpu_la_SOURCES_DIST) $(am__cpufreq_la_SOURCES_DIST) \
 	$(am__csv_la_SOURCES_DIST) $(am__curl_la_SOURCES_DIST) \
 	$(am__curl_json_la_SOURCES_DIST) \
 	$(am__curl_xml_la_SOURCES_DIST) $(am__dbi_la_SOURCES_DIST) \
 	$(am__df_la_SOURCES_DIST) $(am__disk_la_SOURCES_DIST) \
-	$(am__dns_la_SOURCES_DIST) $(am__email_la_SOURCES_DIST) \
-	$(am__entropy_la_SOURCES_DIST) $(am__ethstat_la_SOURCES_DIST) \
-	$(am__exec_la_SOURCES_DIST) $(am__filecount_la_SOURCES_DIST) \
+	$(am__dns_la_SOURCES_DIST) $(am__drbd_la_SOURCES_DIST) \
+	$(am__email_la_SOURCES_DIST) $(am__entropy_la_SOURCES_DIST) \
+	$(am__ethstat_la_SOURCES_DIST) $(am__exec_la_SOURCES_DIST) \
+	$(am__fhcount_la_SOURCES_DIST) \
+	$(am__filecount_la_SOURCES_DIST) \
 	$(am__fscache_la_SOURCES_DIST) $(am__gmond_la_SOURCES_DIST) \
 	$(am__hddtemp_la_SOURCES_DIST) \
-	$(am__interface_la_SOURCES_DIST) $(am__ipmi_la_SOURCES_DIST) \
-	$(am__iptables_la_SOURCES_DIST) $(am__ipvs_la_SOURCES_DIST) \
-	$(am__irq_la_SOURCES_DIST) $(am__java_la_SOURCES_DIST) \
-	$(am__libvirt_la_SOURCES_DIST) $(am__load_la_SOURCES_DIST) \
+	$(am__interface_la_SOURCES_DIST) $(am__ipc_la_SOURCES_DIST) \
+	$(am__ipmi_la_SOURCES_DIST) $(am__iptables_la_SOURCES_DIST) \
+	$(am__ipvs_la_SOURCES_DIST) $(am__irq_la_SOURCES_DIST) \
+	$(am__java_la_SOURCES_DIST) $(liblookup_la_SOURCES) \
+	$(libmount_la_SOURCES) $(am__load_la_SOURCES_DIST) \
+	$(am__log_logstash_la_SOURCES_DIST) \
 	$(am__logfile_la_SOURCES_DIST) $(am__lpar_la_SOURCES_DIST) \
 	$(am__lvm_la_SOURCES_DIST) $(am__madwifi_la_SOURCES_DIST) \
 	$(am__match_empty_counter_la_SOURCES_DIST) \
 	$(am__match_hashed_la_SOURCES_DIST) \
 	$(am__match_regex_la_SOURCES_DIST) \
 	$(am__match_timediff_la_SOURCES_DIST) \
@@ -1944,51 +1860,59 @@
 	$(am__network_la_SOURCES_DIST) $(am__nfs_la_SOURCES_DIST) \
 	$(am__nginx_la_SOURCES_DIST) \
 	$(am__notify_desktop_la_SOURCES_DIST) \
 	$(am__notify_email_la_SOURCES_DIST) \
 	$(am__ntpd_la_SOURCES_DIST) $(am__numa_la_SOURCES_DIST) \
 	$(am__nut_la_SOURCES_DIST) $(am__olsrd_la_SOURCES_DIST) \
-	$(am__onewire_la_SOURCES_DIST) $(am__openvpn_la_SOURCES_DIST) \
-	$(am__oracle_la_SOURCES_DIST) $(am__perl_la_SOURCES_DIST) \
-	$(am__pf_la_SOURCES_DIST) $(am__pinba_la_SOURCES_DIST) \
-	$(am__ping_la_SOURCES_DIST) $(am__postgresql_la_SOURCES_DIST) \
+	$(am__onewire_la_SOURCES_DIST) $(am__openldap_la_SOURCES_DIST) \
+	$(am__openvpn_la_SOURCES_DIST) $(am__oracle_la_SOURCES_DIST) \
+	$(am__perl_la_SOURCES_DIST) $(am__pf_la_SOURCES_DIST) \
+	$(am__pinba_la_SOURCES_DIST) $(am__ping_la_SOURCES_DIST) \
+	$(am__postgresql_la_SOURCES_DIST) \
 	$(am__powerdns_la_SOURCES_DIST) \
 	$(am__processes_la_SOURCES_DIST) \
 	$(am__protocols_la_SOURCES_DIST) $(am__python_la_SOURCES_DIST) \
 	$(am__redis_la_SOURCES_DIST) $(am__routeros_la_SOURCES_DIST) \
 	$(am__rrdcached_la_SOURCES_DIST) \
 	$(am__rrdtool_la_SOURCES_DIST) $(am__sensors_la_SOURCES_DIST) \
 	$(am__serial_la_SOURCES_DIST) $(am__sigrok_la_SOURCES_DIST) \
-	$(am__snmp_la_SOURCES_DIST) $(am__statsd_la_SOURCES_DIST) \
-	$(am__swap_la_SOURCES_DIST) $(am__syslog_la_SOURCES_DIST) \
-	$(am__table_la_SOURCES_DIST) $(am__tail_la_SOURCES_DIST) \
-	$(am__tail_csv_la_SOURCES_DIST) $(am__tape_la_SOURCES_DIST) \
+	$(am__smart_la_SOURCES_DIST) $(am__snmp_la_SOURCES_DIST) \
+	$(am__statsd_la_SOURCES_DIST) $(am__swap_la_SOURCES_DIST) \
+	$(am__syslog_la_SOURCES_DIST) $(am__table_la_SOURCES_DIST) \
+	$(am__tail_la_SOURCES_DIST) $(am__tail_csv_la_SOURCES_DIST) \
+	$(am__tape_la_SOURCES_DIST) \
 	$(am__target_notification_la_SOURCES_DIST) \
 	$(am__target_replace_la_SOURCES_DIST) \
 	$(am__target_scale_la_SOURCES_DIST) \
 	$(am__target_set_la_SOURCES_DIST) \
 	$(am__target_v5upgrade_la_SOURCES_DIST) \
 	$(am__tcpconns_la_SOURCES_DIST) \
 	$(am__teamspeak2_la_SOURCES_DIST) $(am__ted_la_SOURCES_DIST) \
 	$(am__thermal_la_SOURCES_DIST) \
 	$(am__threshold_la_SOURCES_DIST) \
 	$(am__tokyotyrant_la_SOURCES_DIST) \
+	$(am__turbostat_la_SOURCES_DIST) \
 	$(am__unixsock_la_SOURCES_DIST) $(am__uptime_la_SOURCES_DIST) \
 	$(am__users_la_SOURCES_DIST) $(am__uuid_la_SOURCES_DIST) \
-	$(am__varnish_la_SOURCES_DIST) $(am__vmem_la_SOURCES_DIST) \
-	$(am__vserver_la_SOURCES_DIST) $(am__wireless_la_SOURCES_DIST) \
+	$(am__varnish_la_SOURCES_DIST) $(am__virt_la_SOURCES_DIST) \
+	$(am__vmem_la_SOURCES_DIST) $(am__vserver_la_SOURCES_DIST) \
+	$(am__wireless_la_SOURCES_DIST) \
 	$(am__write_graphite_la_SOURCES_DIST) \
 	$(am__write_http_la_SOURCES_DIST) \
+	$(am__write_kafka_la_SOURCES_DIST) \
+	$(am__write_log_la_SOURCES_DIST) \
 	$(am__write_mongodb_la_SOURCES_DIST) \
 	$(am__write_redis_la_SOURCES_DIST) \
 	$(am__write_riemann_la_SOURCES_DIST) \
-	$(am__xmms_la_SOURCES_DIST) $(am__zfs_arc_la_SOURCES_DIST) \
-	$(collectd_SOURCES) $(collectd_nagios_SOURCES) \
+	$(am__write_sensu_la_SOURCES_DIST) \
+	$(am__write_tsdb_la_SOURCES_DIST) $(am__xmms_la_SOURCES_DIST) \
+	$(am__zfs_arc_la_SOURCES_DIST) \
+	$(am__zookeeper_la_SOURCES_DIST) $(collectd_nagios_SOURCES) \
 	$(collectd_tg_SOURCES) $(collectdctl_SOURCES) \
-	$(collectdmon_SOURCES) \
-	$(am__utils_vl_lookup_test_SOURCES_DIST)
+	$(collectdmon_SOURCES) $(test_utils_mount_SOURCES) \
+	$(test_utils_vl_lookup_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive cscopelist-recursive \
 	ctags-recursive dvi-recursive html-recursive info-recursive \
 	install-data-recursive install-dvi-recursive \
 	install-exec-recursive install-html-recursive \
 	install-info-recursive install-pdf-recursive \
 	install-ps-recursive install-recursive installcheck-recursive \
@@ -2007,13 +1931,13 @@
   distclean-recursive maintainer-clean-recursive
 am__recursive_targets = \
   $(RECURSIVE_TARGETS) \
   $(RECURSIVE_CLEAN_TARGETS) \
   $(am__extra_recursive_targets)
 AM_RECURSIVE_TARGETS = $(am__recursive_targets:-recursive=) TAGS CTAGS \
-	distdir
+	check recheck distdir
 am__tagged_files = $(HEADERS) $(SOURCES) $(TAGS_FILES) \
 	$(LISP)config.h.in
 # Read a list of newline-separated strings from the standard input,
 # and print each of them once, without duplicates.  Input order is
 # *not* preserved.
 am__uniquify_input = $(AWK) '\
@@ -2028,13 +1952,189 @@
   list='$(am__tagged_files)'; \
   unique=`for i in $$list; do \
     if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
   done | $(am__uniquify_input)`
 ETAGS = etags
 CTAGS = ctags
-DIST_SUBDIRS = libcollectdclient liboconfig
+am__tty_colors_dummy = \
+  mgn= red= grn= lgn= blu= brg= std=; \
+  am__color_tests=no
+am__tty_colors = { \
+  $(am__tty_colors_dummy); \
+  if test "X$(AM_COLOR_TESTS)" = Xno; then \
+    am__color_tests=no; \
+  elif test "X$(AM_COLOR_TESTS)" = Xalways; then \
+    am__color_tests=yes; \
+  elif test "X$$TERM" != Xdumb && { test -t 1; } 2>/dev/null; then \
+    am__color_tests=yes; \
+  fi; \
+  if test $$am__color_tests = yes; then \
+    red='[0;31m'; \
+    grn='[0;32m'; \
+    lgn='[1;32m'; \
+    blu='[1;34m'; \
+    mgn='[0;35m'; \
+    brg='[1m'; \
+    std='[m'; \
+  fi; \
+}
+am__recheck_rx = ^[ 	]*:recheck:[ 	]*
+am__global_test_result_rx = ^[ 	]*:global-test-result:[ 	]*
+am__copy_in_global_log_rx = ^[ 	]*:copy-in-global-log:[ 	]*
+# A command that, given a newline-separated list of test names on the
+# standard input, print the name of the tests that are to be re-run
+# upon "make recheck".
+am__list_recheck_tests = $(AWK) '{ \
+  recheck = 1; \
+  while ((rc = (getline line < ($$0 ".trs"))) != 0) \
+    { \
+      if (rc < 0) \
+        { \
+          if ((getline line2 < ($$0 ".log")) < 0) \
+	    recheck = 0; \
+          break; \
+        } \
+      else if (line ~ /$(am__recheck_rx)[nN][Oo]/) \
+        { \
+          recheck = 0; \
+          break; \
+        } \
+      else if (line ~ /$(am__recheck_rx)[yY][eE][sS]/) \
+        { \
+          break; \
+        } \
+    }; \
+  if (recheck) \
+    print $$0; \
+  close ($$0 ".trs"); \
+  close ($$0 ".log"); \
+}'
+# A command that, given a newline-separated list of test names on the
+# standard input, create the global log from their .trs and .log files.
+am__create_global_log = $(AWK) ' \
+function fatal(msg) \
+{ \
+  print "fatal: making $@: " msg | "cat >&2"; \
+  exit 1; \
+} \
+function rst_section(header) \
+{ \
+  print header; \
+  len = length(header); \
+  for (i = 1; i <= len; i = i + 1) \
+    printf "="; \
+  printf "\n\n"; \
+} \
+{ \
+  copy_in_global_log = 1; \
+  global_test_result = "RUN"; \
+  while ((rc = (getline line < ($$0 ".trs"))) != 0) \
+    { \
+      if (rc < 0) \
+         fatal("failed to read from " $$0 ".trs"); \
+      if (line ~ /$(am__global_test_result_rx)/) \
+        { \
+          sub("$(am__global_test_result_rx)", "", line); \
+          sub("[ 	]*$$", "", line); \
+          global_test_result = line; \
+        } \
+      else if (line ~ /$(am__copy_in_global_log_rx)[nN][oO]/) \
+        copy_in_global_log = 0; \
+    }; \
+  if (copy_in_global_log) \
+    { \
+      rst_section(global_test_result ": " $$0); \
+      while ((rc = (getline line < ($$0 ".log"))) != 0) \
+      { \
+        if (rc < 0) \
+          fatal("failed to read from " $$0 ".log"); \
+        print line; \
+      }; \
+      printf "\n"; \
+    }; \
+  close ($$0 ".trs"); \
+  close ($$0 ".log"); \
+}'
+# Restructured Text title.
+am__rst_title = { sed 's/.*/   &   /;h;s/./=/g;p;x;s/ *$$//;p;g' && echo; }
+# Solaris 10 'make', and several other traditional 'make' implementations,
+# pass "-e" to $(SHELL), and POSIX 2008 even requires this.  Work around it
+# by disabling -e (using the XSI extension "set +e") if it's set.
+am__sh_e_setup = case $$- in *e*) set +e;; esac
+# Default flags passed to test drivers.
+am__common_driver_flags = \
+  --color-tests "$$am__color_tests" \
+  --enable-hard-errors "$$am__enable_hard_errors" \
+  --expect-failure "$$am__expect_failure"
+# To be inserted before the command running the test.  Creates the
+# directory for the log if needed.  Stores in $dir the directory
+# containing $f, in $tst the test, in $log the log.  Executes the
+# developer- defined test setup AM_TESTS_ENVIRONMENT (if any), and
+# passes TESTS_ENVIRONMENT.  Set up options for the wrapper that
+# will run the test scripts (or their associated LOG_COMPILER, if
+# thy have one).
+am__check_pre = \
+$(am__sh_e_setup);					\
+$(am__vpath_adj_setup) $(am__vpath_adj)			\
+$(am__tty_colors);					\
+srcdir=$(srcdir); export srcdir;			\
+case "$@" in						\
+  */*) am__odir=`echo "./$@" | sed 's|/[^/]*$$||'`;;	\
+    *) am__odir=.;; 					\
+esac;							\
+test "x$$am__odir" = x"." || test -d "$$am__odir" 	\
+  || $(MKDIR_P) "$$am__odir" || exit $$?;		\
+if test -f "./$$f"; then dir=./;			\
+elif test -f "$$f"; then dir=;				\
+else dir="$(srcdir)/"; fi;				\
+tst=$$dir$$f; log='$@'; 				\
+if test -n '$(DISABLE_HARD_ERRORS)'; then		\
+  am__enable_hard_errors=no; 				\
+else							\
+  am__enable_hard_errors=yes; 				\
+fi; 							\
+case " $(XFAIL_TESTS) " in				\
+  *[\ \	]$$f[\ \	]* | *[\ \	]$$dir$$f[\ \	]*) \
+    am__expect_failure=yes;;				\
+  *)							\
+    am__expect_failure=no;;				\
+esac; 							\
+$(AM_TESTS_ENVIRONMENT) $(TESTS_ENVIRONMENT)
+# A shell command to get the names of the tests scripts with any registered
+# extension removed (i.e., equivalently, the names of the test logs, with
+# the '.log' extension removed).  The result is saved in the shell variable
+# '$bases'.  This honors runtime overriding of TESTS and TEST_LOGS.  Sadly,
+# we cannot use something simpler, involving e.g., "$(TEST_LOGS:.log=)",
+# since that might cause problem with VPATH rewrites for suffix-less tests.
+# See also 'test-harness-vpath-rewrite.sh' and 'test-trs-basic.sh'.
+am__set_TESTS_bases = \
+  bases='$(TEST_LOGS)'; \
+  bases=`for i in $$bases; do echo $$i; done | sed 's/\.log$$//'`; \
+  bases=`echo $$bases`
+RECHECK_LOGS = $(TEST_LOGS)
+TEST_SUITE_LOG = test-suite.log
+TEST_EXTENSIONS = @EXEEXT@ .test
+LOG_DRIVER = $(SHELL) $(top_srcdir)/libltdl/config/test-driver
+LOG_COMPILE = $(LOG_COMPILER) $(AM_LOG_FLAGS) $(LOG_FLAGS)
+am__set_b = \
+  case '$@' in \
+    */*) \
+      case '$*' in \
+        */*) b='$*';; \
+          *) b=`echo '$@' | sed 's/\.log$$//'`; \
+       esac;; \
+    *) \
+      b='$*';; \
+  esac
+am__test_logs1 = $(TESTS:=.log)
+am__test_logs2 = $(am__test_logs1:@EXEEXT@.log=.log)
+TEST_LOGS = $(am__test_logs2:.test.log=.log)
+TEST_LOG_DRIVER = $(SHELL) $(top_srcdir)/libltdl/config/test-driver
+TEST_LOG_COMPILE = $(TEST_LOG_COMPILER) $(AM_TEST_LOG_FLAGS) \
+	$(TEST_LOG_FLAGS)
+DIST_SUBDIRS = libcollectdclient liboconfig daemon
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 am__relativize = \
   dir0=`pwd`; \
   sed_first='s,^\([^/]*\)/.*$$,\1,'; \
   sed_rest='s,^[^/]*/*,,'; \
   sed_last='s,^.*/\([^/]*\)$$,\1,'; \
@@ -2066,23 +2166,28 @@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
 BUILD_WITH_LIBAQUAERO5_CFLAGS = @BUILD_WITH_LIBAQUAERO5_CFLAGS@
 BUILD_WITH_LIBAQUAERO5_LDFLAGS = @BUILD_WITH_LIBAQUAERO5_LDFLAGS@
-BUILD_WITH_LIBCREDIS_CPPFLAGS = @BUILD_WITH_LIBCREDIS_CPPFLAGS@
-BUILD_WITH_LIBCREDIS_LDFLAGS = @BUILD_WITH_LIBCREDIS_LDFLAGS@
+BUILD_WITH_LIBATASMART_CPPFLAGS = @BUILD_WITH_LIBATASMART_CPPFLAGS@
+BUILD_WITH_LIBATASMART_LDFLAGS = @BUILD_WITH_LIBATASMART_LDFLAGS@
+BUILD_WITH_LIBATASMART_LIBS = @BUILD_WITH_LIBATASMART_LIBS@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBDBI_CPPFLAGS = @BUILD_WITH_LIBDBI_CPPFLAGS@
 BUILD_WITH_LIBDBI_LDFLAGS = @BUILD_WITH_LIBDBI_LDFLAGS@
 BUILD_WITH_LIBDBI_LIBS = @BUILD_WITH_LIBDBI_LIBS@
 BUILD_WITH_LIBHAL_CFLAGS = @BUILD_WITH_LIBHAL_CFLAGS@
 BUILD_WITH_LIBHAL_LIBS = @BUILD_WITH_LIBHAL_LIBS@
+BUILD_WITH_LIBHIREDIS_CPPFLAGS = @BUILD_WITH_LIBHIREDIS_CPPFLAGS@
+BUILD_WITH_LIBHIREDIS_LDFLAGS = @BUILD_WITH_LIBHIREDIS_LDFLAGS@
 BUILD_WITH_LIBIPTC_CPPFLAGS = @BUILD_WITH_LIBIPTC_CPPFLAGS@
 BUILD_WITH_LIBIPTC_LDFLAGS = @BUILD_WITH_LIBIPTC_LDFLAGS@
+BUILD_WITH_LIBLDAP_CPPFLAGS = @BUILD_WITH_LIBLDAP_CPPFLAGS@
+BUILD_WITH_LIBLDAP_LDFLAGS = @BUILD_WITH_LIBLDAP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_CPPFLAGS = @BUILD_WITH_LIBLVM2APP_CPPFLAGS@
 BUILD_WITH_LIBLVM2APP_LDFLAGS = @BUILD_WITH_LIBLVM2APP_LDFLAGS@
 BUILD_WITH_LIBLVM2APP_LIBS = @BUILD_WITH_LIBLVM2APP_LIBS@
 BUILD_WITH_LIBMEMCACHED_CPPFLAGS = @BUILD_WITH_LIBMEMCACHED_CPPFLAGS@
 BUILD_WITH_LIBMEMCACHED_LDFLAGS = @BUILD_WITH_LIBMEMCACHED_LDFLAGS@
 BUILD_WITH_LIBMEMCACHED_LIBS = @BUILD_WITH_LIBMEMCACHED_LIBS@
@@ -2100,28 +2205,32 @@
 BUILD_WITH_LIBOWCAPI_LIBS = @BUILD_WITH_LIBOWCAPI_LIBS@
 BUILD_WITH_LIBPQ_CPPFLAGS = @BUILD_WITH_LIBPQ_CPPFLAGS@
 BUILD_WITH_LIBPQ_LDFLAGS = @BUILD_WITH_LIBPQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_CPPFLAGS = @BUILD_WITH_LIBRABBITMQ_CPPFLAGS@
 BUILD_WITH_LIBRABBITMQ_LDFLAGS = @BUILD_WITH_LIBRABBITMQ_LDFLAGS@
 BUILD_WITH_LIBRABBITMQ_LIBS = @BUILD_WITH_LIBRABBITMQ_LIBS@
+BUILD_WITH_LIBRDKAFKA_CPPFLAGS = @BUILD_WITH_LIBRDKAFKA_CPPFLAGS@
+BUILD_WITH_LIBRDKAFKA_LDFLAGS = @BUILD_WITH_LIBRDKAFKA_LDFLAGS@
+BUILD_WITH_LIBRDKAFKA_LIBS = @BUILD_WITH_LIBRDKAFKA_LIBS@
 BUILD_WITH_LIBROUTEROS_CPPFLAGS = @BUILD_WITH_LIBROUTEROS_CPPFLAGS@
 BUILD_WITH_LIBROUTEROS_LDFLAGS = @BUILD_WITH_LIBROUTEROS_LDFLAGS@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
-BUILD_WITH_LIBRRD_LIBS = @BUILD_WITH_LIBRRD_LIBS@
 BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
 BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSIGROK_CFLAGS = @BUILD_WITH_LIBSIGROK_CFLAGS@
 BUILD_WITH_LIBSIGROK_LDFLAGS = @BUILD_WITH_LIBSIGROK_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSTATGRAB_CFLAGS = @BUILD_WITH_LIBSTATGRAB_CFLAGS@
 BUILD_WITH_LIBSTATGRAB_LDFLAGS = @BUILD_WITH_LIBSTATGRAB_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS = @BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS@
 BUILD_WITH_LIBTOKYOTYRANT_LIBS = @BUILD_WITH_LIBTOKYOTYRANT_LIBS@
+BUILD_WITH_LIBUDEV_CFLAGS = @BUILD_WITH_LIBUDEV_CFLAGS@
+BUILD_WITH_LIBUDEV_LDFLAGS = @BUILD_WITH_LIBUDEV_LDFLAGS@
 BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBVARNISH_CFLAGS = @BUILD_WITH_LIBVARNISH_CFLAGS@
 BUILD_WITH_LIBVARNISH_LIBS = @BUILD_WITH_LIBVARNISH_LIBS@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
@@ -2214,12 +2323,13 @@
 LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LIPO = @LIPO@
 LN_S = @LN_S@
 LOAD_PLUGIN_CSV = @LOAD_PLUGIN_CSV@
 LOAD_PLUGIN_LOGFILE = @LOAD_PLUGIN_LOGFILE@
+LOAD_PLUGIN_LOG_LOGSTASH = @LOAD_PLUGIN_LOG_LOGSTASH@
 LOAD_PLUGIN_NETWORK = @LOAD_PLUGIN_NETWORK@
 LOAD_PLUGIN_RRDTOOL = @LOAD_PLUGIN_RRDTOOL@
 LOAD_PLUGIN_SYSLOG = @LOAD_PLUGIN_SYSLOG@
 LTDLDEPS = @LTDLDEPS@
 LTDLINCL = @LTDLINCL@
 LTDLOPEN = @LTDLOPEN@
@@ -2250,14 +2360,12 @@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LIBS = @PERL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
 PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
 PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 RANLIB = @RANLIB@
-RRD_CFLAGS = @RRD_CFLAGS@
-RRD_LIBS = @RRD_LIBS@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
 STRIP = @STRIP@
 VERSION = @VERSION@
 YACC = @YACC@
@@ -2317,657 +2425,643 @@
 sys_symbol_underscore = @sys_symbol_underscore@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
 top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-SUBDIRS = libcollectdclient $(am__append_1)
+SUBDIRS = libcollectdclient $(am__append_1) daemon
+PLUGIN_LDFLAGS = -module -avoid-version -export-symbols-regex '\<module_register\>'
 @COMPILER_IS_GCC_TRUE@AM_CFLAGS = -Wall -Werror
-AM_CPPFLAGS = -DPREFIX='"${prefix}"' \
+AM_CPPFLAGS = -I$(srcdir)/daemon -DPREFIX='"${prefix}"' \
 	-DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"' \
 	-DLOCALSTATEDIR='"${localstatedir}"' \
 	-DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"' \
 	$(am__append_2) -DPLUGINDIR='"${pkglibdir}"' \
 	-DPKGDATADIR='"${pkgdatadir}"'
-collectd_SOURCES = collectd.c collectd.h \
-		   common.c common.h \
-		   configfile.c configfile.h \
-		   filter_chain.c filter_chain.h \
-		   meta_data.c meta_data.h \
-		   plugin.c plugin.h \
-		   utils_avltree.c utils_avltree.h \
-		   utils_cache.c utils_cache.h \
-		   utils_complain.c utils_complain.h \
-		   utils_heap.c utils_heap.h \
-		   utils_ignorelist.c utils_ignorelist.h \
-		   utils_llist.c utils_llist.h \
-		   utils_parse_option.c utils_parse_option.h \
-		   utils_random.c utils_random.h \
-		   utils_tail_match.c utils_tail_match.h \
-		   utils_match.c utils_match.h \
-		   utils_subst.c utils_subst.h \
-		   utils_tail.c utils_tail.h \
-		   utils_time.c utils_time.h \
-		   types_list.c types_list.h
-
-collectd_CPPFLAGS = $(AM_CPPFLAGS) $(LTDLINCL)
-collectd_CFLAGS = $(AM_CFLAGS) $(am__append_11)
-collectd_LDFLAGS = -export-dynamic $(am__append_10)
-collectd_LDADD = -lm $(am__append_3) $(am__append_4) $(am__append_5) \
-	$(am__append_6) $(am__append_7) $(am__append_8) \
-	$(am__append_9) $(am__append_12) $(am__append_13) \
-	$(am__append_15) $(am__append_25) $(am__append_28) \
-	$(am__append_31) $(am__append_37) $(am__append_40) \
-	$(am__append_43) $(am__append_46) $(am__append_50) \
-	$(am__append_53) $(am__append_56) $(am__append_59) \
-	$(am__append_63) $(am__append_71) $(am__append_74) \
-	$(am__append_77) $(am__append_80) $(am__append_87) \
-	$(am__append_90) $(am__append_93) $(am__append_96) \
-	$(am__append_105) $(am__append_108) $(am__append_111) \
-	$(am__append_114) $(am__append_117) $(am__append_120) \
-	$(am__append_123) $(am__append_126) $(am__append_130) \
-	$(am__append_133) $(am__append_141) $(am__append_144) \
-	$(am__append_147) $(am__append_150) $(am__append_153) \
-	$(am__append_156) $(am__append_159) $(am__append_165) \
-	$(am__append_168) $(am__append_171) $(am__append_174) \
-	$(am__append_177) $(am__append_180) $(am__append_183) \
-	$(am__append_186) $(am__append_189) $(am__append_193) \
-	$(am__append_196) $(am__append_199) $(am__append_203) \
-	$(am__append_206) $(am__append_214) $(am__append_217) \
-	$(am__append_220) $(am__append_225) $(am__append_228) \
-	$(am__append_235) $(am__append_238) $(am__append_241) \
-	$(am__append_246) $(am__append_249) $(am__append_252) \
-	$(am__append_256) $(am__append_259) $(am__append_262) \
-	$(am__append_266) $(am__append_269) $(am__append_272) \
-	$(am__append_275) $(am__append_279) $(am__append_282) \
-	$(am__append_285) $(am__append_288) $(am__append_291) \
-	$(am__append_294) $(am__append_298) $(am__append_301) \
-	$(am__append_305) $(am__append_308) $(am__append_311) \
-	$(am__append_314) $(am__append_317) $(am__append_320) \
-	$(am__append_323) $(am__append_326) $(am__append_332) \
-	$(am__append_335) $(am__append_338) $(am__append_347) \
-	$(am__append_350) $(am__append_353) $(am__append_356) \
-	$(am__append_359) $(am__append_362) $(am__append_365) \
-	$(am__append_368) $(am__append_371) $(am__append_374) \
-	$(am__append_377) $(am__append_381) $(am__append_384) \
-	$(am__append_387) $(am__append_390) $(am__append_394) \
-	$(am__append_397) $(am__append_402) $(am__append_407) \
-	$(am__append_410) $(am__append_413) $(am__append_416) \
-	$(am__append_419) $(am__append_422) $(am__append_425) \
-	$(am__append_428) $(am__append_431) $(am__append_436) \
-	$(am__append_439) $(am__append_442) $(am__append_445) \
-	$(am__append_448)
-collectd_DEPENDENCIES = $(am__append_14) $(am__append_26) \
-	$(am__append_29) $(am__append_34) $(am__append_38) \
-	$(am__append_41) $(am__append_44) $(am__append_47) \
-	$(am__append_51) $(am__append_54) $(am__append_57) \
-	$(am__append_60) $(am__append_64) $(am__append_72) \
-	$(am__append_75) $(am__append_78) $(am__append_83) \
-	$(am__append_88) $(am__append_91) $(am__append_94) \
-	$(am__append_97) $(am__append_106) $(am__append_109) \
-	$(am__append_112) $(am__append_115) $(am__append_118) \
-	$(am__append_121) $(am__append_124) $(am__append_127) \
-	$(am__append_131) $(am__append_134) $(am__append_142) \
-	$(am__append_145) $(am__append_148) $(am__append_151) \
-	$(am__append_154) $(am__append_157) $(am__append_160) \
-	$(am__append_166) $(am__append_169) $(am__append_172) \
-	$(am__append_175) $(am__append_178) $(am__append_181) \
-	$(am__append_184) $(am__append_187) $(am__append_190) \
-	$(am__append_194) $(am__append_197) $(am__append_200) \
-	$(am__append_204) $(am__append_207) $(am__append_215) \
-	$(am__append_218) $(am__append_223) $(am__append_226) \
-	$(am__append_229) $(am__append_236) $(am__append_239) \
-	$(am__append_242) $(am__append_247) $(am__append_250) \
-	$(am__append_253) $(am__append_257) $(am__append_260) \
-	$(am__append_263) $(am__append_267) $(am__append_270) \
-	$(am__append_273) $(am__append_276) $(am__append_280) \
-	$(am__append_283) $(am__append_286) $(am__append_289) \
-	$(am__append_292) $(am__append_295) $(am__append_299) \
-	$(am__append_302) $(am__append_306) $(am__append_309) \
-	$(am__append_312) $(am__append_315) $(am__append_318) \
-	$(am__append_321) $(am__append_324) $(am__append_327) \
-	$(am__append_333) $(am__append_336) $(am__append_339) \
-	$(am__append_348) $(am__append_351) $(am__append_354) \
-	$(am__append_357) $(am__append_360) $(am__append_363) \
-	$(am__append_366) $(am__append_369) $(am__append_372) \
-	$(am__append_375) $(am__append_378) $(am__append_382) \
-	$(am__append_385) $(am__append_388) $(am__append_391) \
-	$(am__append_395) $(am__append_398) $(am__append_403) \
-	$(am__append_408) $(am__append_411) $(am__append_414) \
-	$(am__append_417) $(am__append_420) $(am__append_423) \
-	$(am__append_426) $(am__append_429) $(am__append_434) \
-	$(am__append_437) $(am__append_440) $(am__append_443) \
-	$(am__append_446) $(am__append_449)
+AUTOMAKE_OPTIONS = subdir-objects
+noinst_LTLIBRARIES = libmount.la liblookup.la
+libmount_la_SOURCES = utils_mount.c utils_mount.h
+libmount_la_LIBADD = daemon/libcommon.la
+liblookup_la_SOURCES = utils_vl_lookup.c utils_vl_lookup.h
+liblookup_la_LIBADD = daemon/libavltree.la daemon/libcommon.la
 collectdmon_SOURCES = collectdmon.c
 collectdmon_CPPFLAGS = $(AM_CPPFLAGS)
 collectd_nagios_SOURCES = collectd-nagios.c
-collectd_nagios_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd
-collectd_nagios_LDADD = $(am__append_16) $(am__append_17) \
+collectd_nagios_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_srcdir)/src/libcollectdclient/collectd -I$(top_builddir)/src/libcollectdclient/collectd
+collectd_nagios_LDADD = $(am__append_3) $(am__append_4) \
 	libcollectdclient/libcollectdclient.la
 collectd_nagios_DEPENDENCIES = libcollectdclient/libcollectdclient.la
 collectdctl_SOURCES = collectdctl.c
-collectdctl_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd
-collectdctl_LDADD = $(am__append_18) $(am__append_19) \
+collectdctl_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_srcdir)/src/libcollectdclient/collectd -I$(top_builddir)/src/libcollectdclient/collectd
+collectdctl_LDADD = $(am__append_5) $(am__append_6) \
 	libcollectdclient/libcollectdclient.la
 collectdctl_DEPENDENCIES = libcollectdclient/libcollectdclient.la
-collectd_tg_SOURCES = collectd-tg.c \
-		      utils_heap.c utils_heap.h
-
-collectd_tg_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_builddir)/src/libcollectdclient/collectd
-collectd_tg_LDADD = $(am__append_20) $(am__append_21) $(am__append_22) \
-	$(am__append_23) libcollectdclient/libcollectdclient.la
+collectd_tg_SOURCES = collectd-tg.c
+collectd_tg_CPPFLAGS = $(AM_CPPFLAGS) -I$(top_srcdir)/src/libcollectdclient/collectd -I$(top_builddir)/src/libcollectdclient/collectd
+collectd_tg_LDADD = daemon/libheap.la $(am__append_7) $(am__append_8) \
+	$(am__append_9) $(am__append_10) \
+	libcollectdclient/libcollectdclient.la
 collectd_tg_DEPENDENCIES = libcollectdclient/libcollectdclient.la
-pkglib_LTLIBRARIES = $(am__append_24) $(am__append_27) \
-	$(am__append_30) $(am__append_35) $(am__append_39) \
-	$(am__append_42) $(am__append_45) $(am__append_48) \
-	$(am__append_52) $(am__append_55) $(am__append_58) \
-	$(am__append_61) $(am__append_65) $(am__append_73) \
-	$(am__append_76) $(am__append_79) $(am__append_84) \
-	$(am__append_89) $(am__append_92) $(am__append_95) \
-	$(am__append_98) $(am__append_107) $(am__append_110) \
-	$(am__append_113) $(am__append_116) $(am__append_119) \
-	$(am__append_122) $(am__append_125) $(am__append_128) \
-	$(am__append_132) $(am__append_140) $(am__append_143) \
-	$(am__append_146) $(am__append_149) $(am__append_152) \
-	$(am__append_155) $(am__append_158) $(am__append_164) \
-	$(am__append_167) $(am__append_170) $(am__append_173) \
-	$(am__append_176) $(am__append_179) $(am__append_182) \
-	$(am__append_185) $(am__append_188) $(am__append_191) \
-	$(am__append_195) $(am__append_198) $(am__append_201) \
-	$(am__append_205) $(am__append_213) $(am__append_216) \
-	$(am__append_219) $(am__append_224) $(am__append_227) \
-	$(am__append_230) $(am__append_237) $(am__append_240) \
-	$(am__append_243) $(am__append_248) $(am__append_251) \
-	$(am__append_254) $(am__append_258) $(am__append_261) \
-	$(am__append_264) $(am__append_268) $(am__append_271) \
-	$(am__append_274) $(am__append_277) $(am__append_281) \
-	$(am__append_284) $(am__append_287) $(am__append_290) \
-	$(am__append_293) $(am__append_296) $(am__append_300) \
-	$(am__append_304) $(am__append_307) $(am__append_310) \
-	$(am__append_313) $(am__append_316) $(am__append_319) \
-	$(am__append_322) $(am__append_325) $(am__append_328) \
-	$(am__append_334) $(am__append_337) $(am__append_346) \
-	$(am__append_349) $(am__append_352) $(am__append_355) \
-	$(am__append_358) $(am__append_361) $(am__append_364) \
-	$(am__append_367) $(am__append_370) $(am__append_373) \
-	$(am__append_376) $(am__append_380) $(am__append_383) \
-	$(am__append_386) $(am__append_389) $(am__append_392) \
-	$(am__append_396) $(am__append_399) $(am__append_404) \
-	$(am__append_409) $(am__append_412) $(am__append_415) \
-	$(am__append_418) $(am__append_421) $(am__append_424) \
-	$(am__append_427) $(am__append_430) $(am__append_435) \
-	$(am__append_438) $(am__append_441) $(am__append_444) \
-	$(am__append_447)
-BUILT_SOURCES = $(dist_man_MANS) $(am__append_451) $(am__append_453)
-CLEANFILES = $(am__append_450) $(am__append_452)
+pkglib_LTLIBRARIES = $(am__append_11) $(am__append_12) \
+	$(am__append_13) $(am__append_16) $(am__append_18) \
+	$(am__append_19) $(am__append_20) $(am__append_21) \
+	$(am__append_22) $(am__append_24) $(am__append_25) \
+	$(am__append_26) $(am__append_27) $(am__append_28) \
+	$(am__append_30) $(am__append_36) $(am__append_37) \
+	$(am__append_38) $(am__append_41) $(am__append_44) \
+	$(am__append_45) $(am__append_46) $(am__append_47) \
+	$(am__append_55) $(am__append_56) $(am__append_57) \
+	$(am__append_58) $(am__append_59) $(am__append_60) \
+	$(am__append_61) $(am__append_62) $(am__append_63) \
+	$(am__append_64) $(am__append_66) $(am__append_72) \
+	$(am__append_73) $(am__append_74) $(am__append_75) \
+	$(am__append_76) $(am__append_77) $(am__append_78) \
+	$(am__append_82) $(am__append_83) $(am__append_84) \
+	$(am__append_85) $(am__append_86) $(am__append_87) \
+	$(am__append_88) $(am__append_89) $(am__append_90) \
+	$(am__append_91) $(am__append_92) $(am__append_94) \
+	$(am__append_95) $(am__append_96) $(am__append_98) \
+	$(am__append_104) $(am__append_105) $(am__append_106) \
+	$(am__append_107) $(am__append_110) $(am__append_111) \
+	$(am__append_112) $(am__append_117) $(am__append_118) \
+	$(am__append_119) $(am__append_122) $(am__append_123) \
+	$(am__append_124) $(am__append_126) $(am__append_127) \
+	$(am__append_128) $(am__append_130) $(am__append_131) \
+	$(am__append_132) $(am__append_133) $(am__append_134) \
+	$(am__append_136) $(am__append_137) $(am__append_138) \
+	$(am__append_139) $(am__append_140) $(am__append_141) \
+	$(am__append_143) $(am__append_145) $(am__append_146) \
+	$(am__append_147) $(am__append_148) $(am__append_149) \
+	$(am__append_150) $(am__append_151) $(am__append_152) \
+	$(am__append_153) $(am__append_154) $(am__append_158) \
+	$(am__append_159) $(am__append_166) $(am__append_167) \
+	$(am__append_168) $(am__append_169) $(am__append_170) \
+	$(am__append_171) $(am__append_172) $(am__append_173) \
+	$(am__append_174) $(am__append_175) $(am__append_176) \
+	$(am__append_178) $(am__append_179) $(am__append_180) \
+	$(am__append_181) $(am__append_182) $(am__append_184) \
+	$(am__append_185) $(am__append_186) $(am__append_189) \
+	$(am__append_192) $(am__append_193) $(am__append_194) \
+	$(am__append_195) $(am__append_196) $(am__append_197) \
+	$(am__append_198) $(am__append_199) $(am__append_202) \
+	$(am__append_203) $(am__append_204) $(am__append_205) \
+	$(am__append_206) $(am__append_207) $(am__append_208) \
+	$(am__append_209) $(am__append_210) $(am__append_211)
+BUILT_SOURCES = $(dist_man_MANS) $(am__append_213)
+CLEANFILES = $(am__append_212)
 @BUILD_PLUGIN_AGGREGATION_TRUE@aggregation_la_SOURCES = aggregation.c \
 @BUILD_PLUGIN_AGGREGATION_TRUE@                         utils_vl_lookup.c utils_vl_lookup.h
 
-@BUILD_PLUGIN_AGGREGATION_TRUE@aggregation_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_AGGREGATION_TRUE@aggregation_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_AGGREGATION_TRUE@aggregation_la_LIBADD = -lm
 @BUILD_PLUGIN_AMQP_TRUE@amqp_la_SOURCES = amqp.c \
 @BUILD_PLUGIN_AMQP_TRUE@		  utils_cmd_putval.c utils_cmd_putval.h \
-@BUILD_PLUGIN_AMQP_TRUE@  	          utils_parse_option.c utils_parse_option.h \
 @BUILD_PLUGIN_AMQP_TRUE@		  utils_format_graphite.c utils_format_graphite.h \
 @BUILD_PLUGIN_AMQP_TRUE@		  utils_format_json.c utils_format_json.h
 
-@BUILD_PLUGIN_AMQP_TRUE@amqp_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBRABBITMQ_LDFLAGS)
+@BUILD_PLUGIN_AMQP_TRUE@amqp_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBRABBITMQ_LDFLAGS)
 @BUILD_PLUGIN_AMQP_TRUE@amqp_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBRABBITMQ_CPPFLAGS)
 @BUILD_PLUGIN_AMQP_TRUE@amqp_la_LIBADD = $(BUILD_WITH_LIBRABBITMQ_LIBS)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_SOURCES = apache.c
-@BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_APACHE_TRUE@	$(am__append_32)
-@BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_33)
+@BUILD_PLUGIN_APACHE_TRUE@	$(am__append_14)
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_15)
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
-@BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LIBADD = $(am__append_36)
+@BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LIBADD = $(am__append_17)
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_SOURCES = apple_sensors.c
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_LDFLAGS = -module \
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@	-avoid-version -framework \
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_LDFLAGS =  \
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@	$(PLUGIN_LDFLAGS) -framework \
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@	IOKit
 @BUILD_PLUGIN_AQUAERO_TRUE@aquaero_la_SOURCES = aquaero.c
-@BUILD_PLUGIN_AQUAERO_TRUE@aquaero_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_AQUAERO_TRUE@aquaero_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_AQUAERO_TRUE@aquaero_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBAQUAERO5_CFLAGS)
 @BUILD_PLUGIN_AQUAERO_TRUE@aquaero_la_LIBADD = $(BUILD_WITH_LIBAQUAERO5_LDFLAGS) -laquaero5
 @BUILD_PLUGIN_ASCENT_TRUE@ascent_la_SOURCES = ascent.c
-@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_ASCENT_TRUE@ascent_la_CFLAGS = $(AM_CFLAGS) \
 @BUILD_PLUGIN_ASCENT_TRUE@		$(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 
 @BUILD_PLUGIN_ASCENT_TRUE@ascent_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
+@BUILD_PLUGIN_BAROMETER_TRUE@barometer_la_SOURCES = barometer.c
+@BUILD_PLUGIN_BAROMETER_TRUE@barometer_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_BAROMETER_TRUE@barometer_la_LIBADD = -lm
 @BUILD_PLUGIN_BATTERY_TRUE@battery_la_SOURCES = battery.c
-@BUILD_PLUGIN_BATTERY_TRUE@battery_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_BATTERY_TRUE@	$(am__append_49)
+@BUILD_PLUGIN_BATTERY_TRUE@battery_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
+@BUILD_PLUGIN_BATTERY_TRUE@	$(am__append_23)
 @BUILD_PLUGIN_BATTERY_TRUE@battery_la_LIBADD = 
 @BUILD_PLUGIN_BIND_TRUE@bind_la_SOURCES = bind.c
-@BUILD_PLUGIN_BIND_TRUE@bind_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_BIND_TRUE@bind_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_BIND_TRUE@bind_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_BIND_TRUE@		$(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+@BUILD_PLUGIN_BIND_TRUE@		 $(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 
 @BUILD_PLUGIN_BIND_TRUE@bind_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-@BUILD_PLUGIN_CGROUPS_TRUE@cgroups_la_SOURCES = cgroups.c utils_mount.c utils_mount.h
-@BUILD_PLUGIN_CGROUPS_TRUE@cgroups_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CEPH_TRUE@ceph_la_SOURCES = ceph.c
+@BUILD_PLUGIN_CEPH_TRUE@ceph_la_CFLAGS = $(AM_CFLAGS)
+@BUILD_PLUGIN_CEPH_TRUE@ceph_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBYAJL_LDFLAGS)
+@BUILD_PLUGIN_CEPH_TRUE@ceph_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBYAJL_CPPFLAGS)
+@BUILD_PLUGIN_CEPH_TRUE@ceph_la_LIBADD = $(BUILD_WITH_LIBYAJL_LIBS)
+@BUILD_PLUGIN_CGROUPS_TRUE@cgroups_la_SOURCES = cgroups.c \
+@BUILD_PLUGIN_CGROUPS_TRUE@		     utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_CGROUPS_TRUE@cgroups_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_CGROUPS_TRUE@cgroups_la_LIBADD = libmount.la
 @BUILD_PLUGIN_CONNTRACK_TRUE@conntrack_la_SOURCES = conntrack.c
-@BUILD_PLUGIN_CONNTRACK_TRUE@conntrack_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CONNTRACK_TRUE@conntrack_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_CONTEXTSWITCH_TRUE@contextswitch_la_SOURCES = contextswitch.c
-@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@contextswitch_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@contextswitch_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_CONTEXTSWITCH_TRUE@contextswitch_la_LIBADD =  \
-@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@	$(am__append_62)
+@BUILD_PLUGIN_CONTEXTSWITCH_TRUE@	$(am__append_29)
 @BUILD_PLUGIN_CPU_TRUE@cpu_la_SOURCES = cpu.c
-@BUILD_PLUGIN_CPU_TRUE@cpu_la_CFLAGS = $(AM_CFLAGS) $(am__append_68)
-@BUILD_PLUGIN_CPU_TRUE@cpu_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_CPU_TRUE@cpu_la_LIBADD = $(am__append_66) \
-@BUILD_PLUGIN_CPU_TRUE@	$(am__append_67) $(am__append_69) \
-@BUILD_PLUGIN_CPU_TRUE@	$(am__append_70)
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_CFLAGS = $(AM_CFLAGS) $(am__append_33)
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_LIBADD = $(am__append_31) \
+@BUILD_PLUGIN_CPU_TRUE@	$(am__append_32) $(am__append_34) \
+@BUILD_PLUGIN_CPU_TRUE@	$(am__append_35)
 @BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_SOURCES = cpufreq.c
-@BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_CSV_TRUE@csv_la_SOURCES = csv.c
-@BUILD_PLUGIN_CSV_TRUE@csv_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CSV_TRUE@csv_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_CURL_TRUE@curl_la_SOURCES = curl.c
-@BUILD_PLUGIN_CURL_TRUE@curl_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_CURL_TRUE@curl_la_CFLAGS = $(AM_CFLAGS) $(am__append_81)
-@BUILD_PLUGIN_CURL_TRUE@curl_la_LIBADD = $(am__append_82)
+@BUILD_PLUGIN_CURL_TRUE@curl_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_CURL_TRUE@curl_la_CFLAGS = $(AM_CFLAGS) $(am__append_39)
+@BUILD_PLUGIN_CURL_TRUE@curl_la_LIBADD = $(am__append_40)
 @BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_SOURCES = curl_json.c
 @BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_CURL_JSON_TRUE@	$(am__append_85)
-@BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBYAJL_LDFLAGS)
-@BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_CPPFLAGS = $(BUILD_WITH_LIBYAJL_CPPFLAGS)
+@BUILD_PLUGIN_CURL_JSON_TRUE@	$(am__append_42)
+@BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBYAJL_LDFLAGS)
+@BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBYAJL_CPPFLAGS)
 @BUILD_PLUGIN_CURL_JSON_TRUE@curl_json_la_LIBADD =  \
 @BUILD_PLUGIN_CURL_JSON_TRUE@	$(BUILD_WITH_LIBYAJL_LIBS) \
-@BUILD_PLUGIN_CURL_JSON_TRUE@	$(am__append_86)
+@BUILD_PLUGIN_CURL_JSON_TRUE@	$(am__append_43)
 @BUILD_PLUGIN_CURL_XML_TRUE@curl_xml_la_SOURCES = curl_xml.c
-@BUILD_PLUGIN_CURL_XML_TRUE@curl_xml_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CURL_XML_TRUE@curl_xml_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_CURL_XML_TRUE@curl_xml_la_CFLAGS = $(AM_CFLAGS) \
 @BUILD_PLUGIN_CURL_XML_TRUE@		$(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 
 @BUILD_PLUGIN_CURL_XML_TRUE@curl_xml_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
 @BUILD_PLUGIN_DBI_TRUE@dbi_la_SOURCES = dbi.c \
 @BUILD_PLUGIN_DBI_TRUE@		 utils_db_query.c utils_db_query.h
 
 @BUILD_PLUGIN_DBI_TRUE@dbi_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBDBI_CPPFLAGS)
-@BUILD_PLUGIN_DBI_TRUE@dbi_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBDBI_LDFLAGS)
+@BUILD_PLUGIN_DBI_TRUE@dbi_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBDBI_LDFLAGS)
 @BUILD_PLUGIN_DBI_TRUE@dbi_la_LIBADD = $(BUILD_WITH_LIBDBI_LIBS)
-@BUILD_PLUGIN_DF_TRUE@df_la_SOURCES = df.c utils_mount.c utils_mount.h
-@BUILD_PLUGIN_DF_TRUE@df_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_DISK_TRUE@disk_la_SOURCES = disk.c
-@BUILD_PLUGIN_DISK_TRUE@disk_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_DISK_TRUE@	$(am__append_102)
-@BUILD_PLUGIN_DISK_TRUE@disk_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_DISK_TRUE@	$(am__append_101)
-@BUILD_PLUGIN_DISK_TRUE@disk_la_LIBADD = $(am__append_99) \
-@BUILD_PLUGIN_DISK_TRUE@	$(am__append_100) $(am__append_103) \
-@BUILD_PLUGIN_DISK_TRUE@	$(am__append_104)
+@BUILD_PLUGIN_DF_TRUE@df_la_SOURCES = df.c \
+@BUILD_PLUGIN_DF_TRUE@		utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_DF_TRUE@df_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_DF_TRUE@df_la_LIBADD = libmount.la
+@BUILD_PLUGIN_DISK_TRUE@disk_la_SOURCES = disk.c \
+@BUILD_PLUGIN_DISK_TRUE@		  utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_DISK_TRUE@disk_la_CFLAGS = $(AM_CFLAGS) $(am__append_51)
+@BUILD_PLUGIN_DISK_TRUE@disk_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_50)
+@BUILD_PLUGIN_DISK_TRUE@disk_la_LIBADD = $(am__append_48) \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_49) $(am__append_52) \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_53) $(am__append_54)
 @BUILD_PLUGIN_DNS_TRUE@dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
-@BUILD_PLUGIN_DNS_TRUE@dns_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_DNS_TRUE@dns_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_DNS_TRUE@dns_la_LIBADD = -lpcap -lpthread
+@BUILD_PLUGIN_DRBD_TRUE@drbd_la_SOURCES = drbd.c
+@BUILD_PLUGIN_DRBD_TRUE@drbd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_DRBD_TRUE@drbd_la_LIBADD = -lpthread
 @BUILD_PLUGIN_EMAIL_TRUE@email_la_SOURCES = email.c
-@BUILD_PLUGIN_EMAIL_TRUE@email_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_EMAIL_TRUE@email_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_EMAIL_TRUE@email_la_LIBADD = -lpthread
 @BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_SOURCES = entropy.c
-@BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_EXEC_TRUE@exec_la_SOURCES = exec.c \
 @BUILD_PLUGIN_EXEC_TRUE@		  utils_cmd_putnotif.c utils_cmd_putnotif.h \
-@BUILD_PLUGIN_EXEC_TRUE@		  utils_cmd_putval.c utils_cmd_putval.h
+@BUILD_PLUGIN_EXEC_TRUE@		  utils_cmd_putval.c utils_cmd_putval.h \
+@BUILD_PLUGIN_EXEC_TRUE@		  utils_parse_option.h utils_parse_option.c
 
-@BUILD_PLUGIN_EXEC_TRUE@exec_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_EXEC_TRUE@exec_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_EXEC_TRUE@exec_la_LIBADD = -lpthread
 @BUILD_PLUGIN_ETHSTAT_TRUE@ethstat_la_SOURCES = ethstat.c
-@BUILD_PLUGIN_ETHSTAT_TRUE@ethstat_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_ETHSTAT_TRUE@ethstat_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_FHCOUNT_TRUE@fhcount_la_SOURCES = fhcount.c
+@BUILD_PLUGIN_FHCOUNT_TRUE@fhcount_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_FILECOUNT_TRUE@filecount_la_SOURCES = filecount.c
-@BUILD_PLUGIN_FILECOUNT_TRUE@filecount_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_FILECOUNT_TRUE@filecount_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_GMOND_TRUE@gmond_la_SOURCES = gmond.c
 @BUILD_PLUGIN_GMOND_TRUE@gmond_la_CPPFLAGS = $(AM_CPPFLAGS) $(GANGLIA_CPPFLAGS)
-@BUILD_PLUGIN_GMOND_TRUE@gmond_la_LDFLAGS = -module -avoid-version $(GANGLIA_LDFLAGS)
+@BUILD_PLUGIN_GMOND_TRUE@gmond_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(GANGLIA_LDFLAGS)
 @BUILD_PLUGIN_GMOND_TRUE@gmond_la_LIBADD = $(GANGLIA_LIBS)
 @BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_SOURCES = hddtemp.c
-@BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_LIBADD = $(am__append_129)
-@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_SOURCES = interface.c
+@BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_LIBADD = $(am__append_65)
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_SOURCES = interface.c \
+@BUILD_PLUGIN_INTERFACE_TRUE@		       utils_ignorelist.c utils_ignorelist.h
+
 @BUILD_PLUGIN_INTERFACE_TRUE@interface_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_135)
-@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LIBADD = $(am__append_136) \
-@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_137) \
-@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_138) \
-@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_139)
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_67)
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LIBADD = $(am__append_68) \
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_69) $(am__append_70) \
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_71)
+@BUILD_PLUGIN_IPC_TRUE@ipc_la_SOURCES = ipc.c
+@BUILD_PLUGIN_IPC_TRUE@ipc_la_CFLAGS = $(AM_CFLAGS)
+@BUILD_PLUGIN_IPC_TRUE@ipc_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_SOURCES = iptables.c
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBIPTC_CPPFLAGS)
-@BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LIBADD = $(BUILD_WITH_LIBIPTC_LDFLAGS)
-@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_SOURCES = ipmi.c
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_SOURCES = ipmi.c \
+@BUILD_PLUGIN_IPMI_TRUE@		  utils_ignorelist.c utils_ignorelist.h
+
 @BUILD_PLUGIN_IPMI_TRUE@ipmi_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_OPENIPMI_CFLAGS)
-@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_IPMI_TRUE@ipmi_la_LIBADD = $(BUILD_WITH_OPENIPMI_LIBS)
 @BUILD_PLUGIN_IPVS_TRUE@ipvs_la_SOURCES = ipvs.c
 @BUILD_PLUGIN_IPVS_TRUE@@IP_VS_H_NEEDS_KERNEL_CFLAGS_TRUE@ipvs_la_CFLAGS = $(AM_CFLAGS) $(KERNEL_CFLAGS)
-@BUILD_PLUGIN_IPVS_TRUE@ipvs_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_IRQ_TRUE@irq_la_SOURCES = irq.c
-@BUILD_PLUGIN_IRQ_TRUE@irq_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_IPVS_TRUE@ipvs_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_IRQ_TRUE@irq_la_SOURCES = irq.c \
+@BUILD_PLUGIN_IRQ_TRUE@		 utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_IRQ_TRUE@irq_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_JAVA_TRUE@java_la_SOURCES = java.c
 @BUILD_PLUGIN_JAVA_TRUE@java_la_CPPFLAGS = $(AM_CPPFLAGS) $(JAVA_CPPFLAGS)
 @BUILD_PLUGIN_JAVA_TRUE@java_la_CFLAGS = $(AM_CFLAGS) $(JAVA_CFLAGS)
-@BUILD_PLUGIN_JAVA_TRUE@java_la_LDFLAGS = -module -avoid-version $(JAVA_LDFLAGS)
+@BUILD_PLUGIN_JAVA_TRUE@java_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(JAVA_LDFLAGS)
 @BUILD_PLUGIN_JAVA_TRUE@java_la_LIBADD = $(JAVA_LIBS)
-@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_SOURCES = libvirt.c
-@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_LIBVIRT_TRUE@		$(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
-
-@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-@BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_LOAD_TRUE@load_la_SOURCES = load.c
-@BUILD_PLUGIN_LOAD_TRUE@load_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_161)
-@BUILD_PLUGIN_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_LOAD_TRUE@load_la_LIBADD = $(am__append_162) \
-@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_163)
+@BUILD_PLUGIN_LOAD_TRUE@load_la_CFLAGS = $(AM_CFLAGS) $(am__append_79)
+@BUILD_PLUGIN_LOAD_TRUE@load_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_LOAD_TRUE@load_la_LIBADD = $(am__append_80) \
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_81)
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_SOURCES = logfile.c
-@BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@log_logstash_la_SOURCES = log_logstash.c
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@log_logstash_la_CFLAGS = $(AM_CFLAGS)
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@log_logstash_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBYAJL_LDFLAGS)
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@log_logstash_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBYAJL_CPPFLAGS)
+@BUILD_PLUGIN_LOG_LOGSTASH_TRUE@log_logstash_la_LIBADD = $(BUILD_WITH_LIBYAJL_LIBS)
 @BUILD_PLUGIN_LPAR_TRUE@lpar_la_SOURCES = lpar.c
-@BUILD_PLUGIN_LPAR_TRUE@lpar_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_LPAR_TRUE@lpar_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_LPAR_TRUE@lpar_la_LIBADD = -lperfstat
 @BUILD_PLUGIN_LVM_TRUE@lvm_la_SOURCES = lvm.c
-@BUILD_PLUGIN_LVM_TRUE@lvm_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_LVM_TRUE@lvm_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_LVM_TRUE@lvm_la_LIBADD = $(BUILD_WITH_LIBLVM2APP_LIBS)
-@BUILD_PLUGIN_MADWIFI_TRUE@madwifi_la_SOURCES = madwifi.c madwifi.h
-@BUILD_PLUGIN_MADWIFI_TRUE@madwifi_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MADWIFI_TRUE@madwifi_la_SOURCES = madwifi.c madwifi.h \
+@BUILD_PLUGIN_MADWIFI_TRUE@		     utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_MADWIFI_TRUE@madwifi_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@match_empty_counter_la_SOURCES = match_empty_counter.c
-@BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@match_empty_counter_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MATCH_EMPTY_COUNTER_TRUE@match_empty_counter_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MATCH_HASHED_TRUE@match_hashed_la_SOURCES = match_hashed.c
-@BUILD_PLUGIN_MATCH_HASHED_TRUE@match_hashed_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MATCH_HASHED_TRUE@match_hashed_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MATCH_REGEX_TRUE@match_regex_la_SOURCES = match_regex.c
-@BUILD_PLUGIN_MATCH_REGEX_TRUE@match_regex_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MATCH_REGEX_TRUE@match_regex_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@match_timediff_la_SOURCES = match_timediff.c
-@BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@match_timediff_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MATCH_TIMEDIFF_TRUE@match_timediff_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MATCH_VALUE_TRUE@match_value_la_SOURCES = match_value.c
-@BUILD_PLUGIN_MATCH_VALUE_TRUE@match_value_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MATCH_VALUE_TRUE@match_value_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
-@BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LIBADD = $(am__append_192)
-@BUILD_PLUGIN_MD_TRUE@md_la_SOURCES = md.c
-@BUILD_PLUGIN_MD_TRUE@md_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LIBADD = $(am__append_93)
+@BUILD_PLUGIN_MD_TRUE@md_la_SOURCES = md.c \
+@BUILD_PLUGIN_MD_TRUE@		utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_MD_TRUE@md_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_SOURCES = memcachec.c
-@BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBMEMCACHED_LDFLAGS)
-@BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_CPPFLAGS = $(BUILD_WITH_LIBMEMCACHED_CPPFLAGS)
+@BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBMEMCACHED_LDFLAGS)
+@BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBMEMCACHED_CPPFLAGS)
 @BUILD_PLUGIN_MEMCACHEC_TRUE@memcachec_la_LIBADD = $(BUILD_WITH_LIBMEMCACHED_LIBS)
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_SOURCES = memcached.c
-@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LIBADD = $(am__append_202)
+@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LIBADD = $(am__append_97)
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_SOURCES = memory.c
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_210)
-@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LIBADD = $(am__append_208) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_209) $(am__append_211) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_212)
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_101)
+@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LIBADD = $(am__append_99) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_100) $(am__append_102) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_103)
+@BUILD_PLUGIN_MIC_TRUE@mic_la_SOURCES = mic.c \
+@BUILD_PLUGIN_MIC_TRUE@		 utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_MIC_TRUE@mic_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_MIC_LIBPATH)
+@BUILD_PLUGIN_MIC_TRUE@mic_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_MIC_CPPFLAGS)
+@BUILD_PLUGIN_MIC_TRUE@mic_la_LIBADD = $(BUILD_WITH_MIC_LDADD)
 @BUILD_PLUGIN_MODBUS_TRUE@modbus_la_SOURCES = modbus.c
-@BUILD_PLUGIN_MODBUS_TRUE@modbus_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MODBUS_TRUE@modbus_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MODBUS_TRUE@modbus_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBMODBUS_CFLAGS)
 @BUILD_PLUGIN_MODBUS_TRUE@modbus_la_LIBADD = $(BUILD_WITH_LIBMODBUS_LIBS)
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
-@BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_MYSQL_TRUE@	$(am__append_221)
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_222)
-@BUILD_PLUGIN_NETAPP_TRUE@netapp_la_SOURCES = netapp.c
+@BUILD_PLUGIN_MYSQL_TRUE@	$(am__append_108)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_109)
+@BUILD_PLUGIN_NETAPP_TRUE@netapp_la_SOURCES = netapp.c \
+@BUILD_PLUGIN_NETAPP_TRUE@		    utils_ignorelist.c utils_ignorelist.h
+
 @BUILD_PLUGIN_NETAPP_TRUE@netapp_la_CPPFLAGS = $(AM_CPPFLAGS) $(LIBNETAPP_CPPFLAGS)
-@BUILD_PLUGIN_NETAPP_TRUE@netapp_la_LDFLAGS = -module -avoid-version $(LIBNETAPP_LDFLAGS)
+@BUILD_PLUGIN_NETAPP_TRUE@netapp_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(LIBNETAPP_LDFLAGS)
 @BUILD_PLUGIN_NETAPP_TRUE@netapp_la_LIBADD = $(LIBNETAPP_LIBS)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_SOURCES = netlink.c
-@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBMNL_CFLAGS)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LIBADD = $(BUILD_WITH_LIBMNL_LIBS)
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_SOURCES = network.c network.h \
 @BUILD_PLUGIN_NETWORK_TRUE@		     utils_fbhash.c utils_fbhash.h
 
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_CPPFLAGS = $(AM_CPPFLAGS) \
-@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_232)
-@BUILD_PLUGIN_NETWORK_TRUE@network_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_233)
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_114)
+@BUILD_PLUGIN_NETWORK_TRUE@network_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_115)
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_LIBADD = -lpthread \
-@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_231) $(am__append_234)
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_113) $(am__append_116)
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_SOURCES = nfs.c
-@BUILD_PLUGIN_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NFS_TRUE@nfs_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_FSCACHE_TRUE@fscache_la_SOURCES = fscache.c
-@BUILD_PLUGIN_FSCACHE_TRUE@fscache_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_FSCACHE_TRUE@fscache_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_SOURCES = nginx.c
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_244)
-@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LIBADD = $(am__append_245)
-@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_120)
+@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LIBADD = $(am__append_121)
+@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@notify_desktop_la_SOURCES = notify_desktop.c
 @BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@notify_desktop_la_CFLAGS = $(AM_CFLAGS) $(LIBNOTIFY_CFLAGS)
-@BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@notify_desktop_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@notify_desktop_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NOTIFY_DESKTOP_TRUE@notify_desktop_la_LIBADD = $(LIBNOTIFY_LIBS)
 @BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@notify_email_la_SOURCES = notify_email.c
-@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@notify_email_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@notify_email_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NOTIFY_EMAIL_TRUE@notify_email_la_LIBADD = -lesmtp -lssl -lcrypto -lpthread
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
-@BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LIBADD = $(am__append_255)
+@BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LIBADD = $(am__append_125)
 @BUILD_PLUGIN_NUMA_TRUE@numa_la_SOURCES = numa.c
-@BUILD_PLUGIN_NUMA_TRUE@numa_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NUMA_TRUE@numa_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_SOURCES = nut.c
 @BUILD_PLUGIN_NUT_TRUE@nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
-@BUILD_PLUGIN_NUT_TRUE@nut_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NUT_TRUE@nut_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_LIBADD = -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
 @BUILD_PLUGIN_OLSRD_TRUE@olsrd_la_SOURCES = olsrd.c
-@BUILD_PLUGIN_OLSRD_TRUE@olsrd_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_OLSRD_TRUE@olsrd_la_LIBADD = $(am__append_265)
-@BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_SOURCES = onewire.c
+@BUILD_PLUGIN_OLSRD_TRUE@olsrd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_OLSRD_TRUE@olsrd_la_LIBADD = $(am__append_129)
+@BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_SOURCES = onewire.c \
+@BUILD_PLUGIN_ONEWIRE_TRUE@		     utils_ignorelist.c utils_ignorelist.h
+
 @BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_CFLAGS = $(AM_CFLAGS)
-@BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_CPPFLAGS = $(BUILD_WITH_LIBOWCAPI_CPPFLAGS)
+@BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBOWCAPI_CPPFLAGS)
 @BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_LIBADD = $(BUILD_WITH_LIBOWCAPI_LIBS)
-@BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_ONEWIRE_TRUE@onewire_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_OPENLDAP_TRUE@openldap_la_SOURCES = openldap.c
+@BUILD_PLUGIN_OPENLDAP_TRUE@openldap_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBLDAP_LDFLAGS)
+@BUILD_PLUGIN_OPENLDAP_TRUE@openldap_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBLDAP_CPPFLAGS)
+@BUILD_PLUGIN_OPENLDAP_TRUE@openldap_la_LIBADD = -lldap
 @BUILD_PLUGIN_OPENVPN_TRUE@openvpn_la_SOURCES = openvpn.c
 @BUILD_PLUGIN_OPENVPN_TRUE@openvpn_la_CFLAGS = $(AM_CFLAGS)
-@BUILD_PLUGIN_OPENVPN_TRUE@openvpn_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_OPENVPN_TRUE@openvpn_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_ORACLE_TRUE@oracle_la_SOURCES = oracle.c \
 @BUILD_PLUGIN_ORACLE_TRUE@	utils_db_query.c utils_db_query.h
 
 @BUILD_PLUGIN_ORACLE_TRUE@oracle_la_CFLAGS = $(AM_CFLAGS)
-@BUILD_PLUGIN_ORACLE_TRUE@oracle_la_CPPFLAGS = $(BUILD_WITH_ORACLE_CFLAGS)
+@BUILD_PLUGIN_ORACLE_TRUE@oracle_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_ORACLE_CFLAGS)
 @BUILD_PLUGIN_ORACLE_TRUE@oracle_la_LIBADD = $(BUILD_WITH_ORACLE_LIBS)
-@BUILD_PLUGIN_ORACLE_TRUE@oracle_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_ORACLE_TRUE@oracle_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_PERL_TRUE@perl_la_SOURCES = perl.c
 # Despite C99 providing the "bool" type thru stdbool.h, Perl defines its own
 # version of that type if HAS_BOOL is not defined... *sigh*
 @BUILD_PLUGIN_PERL_TRUE@perl_la_CPPFLAGS = $(AM_CPPFLAGS) -DHAS_BOOL=1
 @BUILD_PLUGIN_PERL_TRUE@perl_la_CFLAGS = $(AM_CFLAGS) $(PERL_CFLAGS) \
 @BUILD_PLUGIN_PERL_TRUE@	-DXS_VERSION=\"$(VERSION)\" \
 @BUILD_PLUGIN_PERL_TRUE@	-DVERSION=\"$(VERSION)\" \
-@BUILD_PLUGIN_PERL_TRUE@	$(am__append_278)
-@BUILD_PLUGIN_PERL_TRUE@perl_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_PERL_TRUE@	$(am__append_135)
+@BUILD_PLUGIN_PERL_TRUE@perl_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
 @BUILD_PLUGIN_PERL_TRUE@		$(PERL_LDFLAGS)
 
 @BUILD_PLUGIN_PERL_TRUE@perl_la_LIBADD = $(PERL_LIBS)
 @BUILD_PLUGIN_PF_TRUE@pf_la_SOURCES = pf.c
-@BUILD_PLUGIN_PF_TRUE@pf_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_PF_TRUE@pf_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_PINBA_TRUE@pinba_la_SOURCES = pinba.c
 @BUILD_PLUGIN_PINBA_TRUE@nodist_pinba_la_SOURCES = pinba.pb-c.c pinba.pb-c.h
-@BUILD_PLUGIN_PINBA_TRUE@pinba_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_PINBA_TRUE@pinba_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_PINBA_TRUE@pinba_la_LIBADD = -lprotobuf-c
 @BUILD_PLUGIN_PING_TRUE@ping_la_SOURCES = ping.c
 @BUILD_PLUGIN_PING_TRUE@ping_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBOPING_CPPFLAGS)
-@BUILD_PLUGIN_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBOPING_LDFLAGS)
+@BUILD_PLUGIN_PING_TRUE@ping_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBOPING_LDFLAGS)
 @BUILD_PLUGIN_PING_TRUE@ping_la_LIBADD = -loping -lm
 @BUILD_PLUGIN_POSTGRESQL_TRUE@postgresql_la_SOURCES = postgresql.c \
 @BUILD_PLUGIN_POSTGRESQL_TRUE@		 utils_db_query.c utils_db_query.h
 
 @BUILD_PLUGIN_POSTGRESQL_TRUE@postgresql_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBPQ_CPPFLAGS)
-@BUILD_PLUGIN_POSTGRESQL_TRUE@postgresql_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_POSTGRESQL_TRUE@postgresql_la_LDFLAGS = $(PLUGIN_LDFLAGS) \
 @BUILD_PLUGIN_POSTGRESQL_TRUE@		$(BUILD_WITH_LIBPQ_LDFLAGS)
 
 @BUILD_PLUGIN_POSTGRESQL_TRUE@postgresql_la_LIBADD = -lpq
 @BUILD_PLUGIN_POWERDNS_TRUE@powerdns_la_SOURCES = powerdns.c
-@BUILD_PLUGIN_POWERDNS_TRUE@powerdns_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_POWERDNS_TRUE@powerdns_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_PYTHON_TRUE@python_la_SOURCES = python.c pyconfig.c pyvalues.c cpython.h
 @BUILD_PLUGIN_PYTHON_TRUE@python_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_PYTHON_CPPFLAGS)
 @BUILD_PLUGIN_PYTHON_TRUE@python_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_PYTHON_TRUE@	$(am__append_297)
-@BUILD_PLUGIN_PYTHON_TRUE@python_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_PYTHON_LDFLAGS)
+@BUILD_PLUGIN_PYTHON_TRUE@	$(am__append_142)
+@BUILD_PLUGIN_PYTHON_TRUE@python_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_PYTHON_LDFLAGS)
 @BUILD_PLUGIN_PYTHON_TRUE@python_la_LIBADD = $(BUILD_WITH_PYTHON_LIBS)
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_SOURCES = processes.c
-@BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LIBADD = $(am__append_303)
-@BUILD_PLUGIN_PROTOCOLS_TRUE@protocols_la_SOURCES = protocols.c
-@BUILD_PLUGIN_PROTOCOLS_TRUE@protocols_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LIBADD = $(am__append_144)
+@BUILD_PLUGIN_PROTOCOLS_TRUE@protocols_la_SOURCES = protocols.c \
+@BUILD_PLUGIN_PROTOCOLS_TRUE@		       utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_PROTOCOLS_TRUE@protocols_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_REDIS_TRUE@redis_la_SOURCES = redis.c
-@BUILD_PLUGIN_REDIS_TRUE@redis_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBCREDIS_LDFLAGS)
-@BUILD_PLUGIN_REDIS_TRUE@redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBCREDIS_CPPFLAGS)
-@BUILD_PLUGIN_REDIS_TRUE@redis_la_LIBADD = -lcredis
+@BUILD_PLUGIN_REDIS_TRUE@redis_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBHIREDIS_LDFLAGS)
+@BUILD_PLUGIN_REDIS_TRUE@redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBHIREDIS_CPPFLAGS)
+@BUILD_PLUGIN_REDIS_TRUE@redis_la_LIBADD = -lhiredis
 @BUILD_PLUGIN_ROUTEROS_TRUE@routeros_la_SOURCES = routeros.c
-@BUILD_PLUGIN_ROUTEROS_TRUE@routeros_la_CPPFLAGS = $(BUILD_WITH_LIBROUTEROS_CPPFLAGS)
-@BUILD_PLUGIN_ROUTEROS_TRUE@routeros_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBROUTEROS_LDFLAGS)
+@BUILD_PLUGIN_ROUTEROS_TRUE@routeros_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBROUTEROS_CPPFLAGS)
+@BUILD_PLUGIN_ROUTEROS_TRUE@routeros_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBROUTEROS_LDFLAGS)
 @BUILD_PLUGIN_ROUTEROS_TRUE@routeros_la_LIBADD = -lrouteros
 @BUILD_PLUGIN_RRDCACHED_TRUE@rrdcached_la_SOURCES = rrdcached.c utils_rrdcreate.c utils_rrdcreate.h
-@BUILD_PLUGIN_RRDCACHED_TRUE@rrdcached_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBRRD_LDFLAGS)
+@BUILD_PLUGIN_RRDCACHED_TRUE@rrdcached_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_RRDCACHED_TRUE@rrdcached_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBRRD_CFLAGS)
-@BUILD_PLUGIN_RRDCACHED_TRUE@rrdcached_la_LIBADD = $(BUILD_WITH_LIBRRD_LIBS)
+@BUILD_PLUGIN_RRDCACHED_TRUE@rrdcached_la_LIBADD = $(BUILD_WITH_LIBRRD_LDFLAGS)
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_SOURCES = rrdtool.c utils_rrdcreate.c utils_rrdcreate.h
-@BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBRRD_LDFLAGS)
+@BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBRRD_CFLAGS)
-@BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LIBADD = $(BUILD_WITH_LIBRRD_LIBS)
-@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_SOURCES = sensors.c
+@BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LIBADD = $(BUILD_WITH_LIBRRD_LDFLAGS)
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_SOURCES = sensors.c \
+@BUILD_PLUGIN_SENSORS_TRUE@		     utils_ignorelist.c utils_ignorelist.h
+
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBSENSORS_CFLAGS)
-@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSENSORS_LDFLAGS)
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBSENSORS_LDFLAGS)
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LIBADD = -lsensors
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_SOURCES = serial.c
-@BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_SIGROK_TRUE@sigrok_la_SOURCES = sigrok.c
 @BUILD_PLUGIN_SIGROK_TRUE@sigrok_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBSIGROK_CFLAGS)
-@BUILD_PLUGIN_SIGROK_TRUE@sigrok_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSIGROK_LDFLAGS)
+@BUILD_PLUGIN_SIGROK_TRUE@sigrok_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBSIGROK_LDFLAGS)
 @BUILD_PLUGIN_SIGROK_TRUE@sigrok_la_LIBADD = -lsigrok
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@smart_la_SOURCES = smart.c \
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@		   utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@smart_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBATASMART_CPPFLAGS)
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@smart_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBATASMART_LDFLAGS)
+@BUILD_PLUGIN_SMART_TRUE@@BUILD_WITH_LIBUDEV_TRUE@smart_la_LIBADD = $(BUILD_WITH_LIBATASMART_LIBS) -ludev
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_SOURCES = snmp.c
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_329)
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_330) \
-@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_331)
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_155)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_156) \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_157)
 @BUILD_PLUGIN_STATSD_TRUE@statsd_la_SOURCES = statsd.c \
 @BUILD_PLUGIN_STATSD_TRUE@                    utils_latency.h utils_latency.c
 
-@BUILD_PLUGIN_STATSD_TRUE@statsd_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_STATSD_TRUE@statsd_la_LIBADD = -lpthread -lm
+@BUILD_PLUGIN_STATSD_TRUE@statsd_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_STATSD_TRUE@statsd_la_LIBADD = -lpthread
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_SOURCES = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_343)
-@BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_SWAP_TRUE@swap_la_LIBADD = $(am__append_340) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_341) $(am__append_342) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_344) $(am__append_345)
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_163)
+@BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_SWAP_TRUE@swap_la_LIBADD = $(am__append_160) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_161) $(am__append_162) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_164) $(am__append_165)
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
-@BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TABLE_TRUE@table_la_SOURCES = table.c
-@BUILD_PLUGIN_TABLE_TRUE@table_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TABLE_TRUE@table_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TAIL_TRUE@tail_la_SOURCES = tail.c
-@BUILD_PLUGIN_TAIL_TRUE@tail_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TAIL_TRUE@tail_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TAIL_CSV_TRUE@tail_csv_la_SOURCES = tail_csv.c
-@BUILD_PLUGIN_TAIL_CSV_TRUE@tail_csv_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TAIL_CSV_TRUE@tail_csv_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_SOURCES = tape.c
-@BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_LIBADD = -lkstat -ldevinfo
 @BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@target_notification_la_SOURCES = target_notification.c
-@BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@target_notification_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TARGET_NOTIFICATION_TRUE@target_notification_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TARGET_REPLACE_TRUE@target_replace_la_SOURCES = target_replace.c
-@BUILD_PLUGIN_TARGET_REPLACE_TRUE@target_replace_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TARGET_REPLACE_TRUE@target_replace_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TARGET_SCALE_TRUE@target_scale_la_SOURCES = target_scale.c
-@BUILD_PLUGIN_TARGET_SCALE_TRUE@target_scale_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TARGET_SCALE_TRUE@target_scale_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TARGET_SET_TRUE@target_set_la_SOURCES = target_set.c
-@BUILD_PLUGIN_TARGET_SET_TRUE@target_set_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TARGET_SET_TRUE@target_set_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@target_v5upgrade_la_SOURCES = target_v5upgrade.c
-@BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@target_v5upgrade_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TARGET_V5UPGRADE_TRUE@target_v5upgrade_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_SOURCES = tcpconns.c
-@BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LIBADD = $(am__append_379)
+@BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LIBADD = $(am__append_177)
 @BUILD_PLUGIN_TEAMSPEAK2_TRUE@teamspeak2_la_SOURCES = teamspeak2.c
-@BUILD_PLUGIN_TEAMSPEAK2_TRUE@teamspeak2_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@teamspeak2_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TED_TRUE@ted_la_SOURCES = ted.c
-@BUILD_PLUGIN_TED_TRUE@ted_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_THERMAL_TRUE@thermal_la_SOURCES = thermal.c
-@BUILD_PLUGIN_THERMAL_TRUE@thermal_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TED_TRUE@ted_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_THERMAL_TRUE@thermal_la_SOURCES = thermal.c \
+@BUILD_PLUGIN_THERMAL_TRUE@		     utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_THERMAL_TRUE@thermal_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_THRESHOLD_TRUE@threshold_la_SOURCES = threshold.c
-@BUILD_PLUGIN_THRESHOLD_TRUE@threshold_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_THRESHOLD_TRUE@threshold_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_TOKYOTYRANT_TRUE@tokyotyrant_la_SOURCES = tokyotyrant.c
 @BUILD_PLUGIN_TOKYOTYRANT_TRUE@tokyotyrant_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBTOKYOTYRANT_CPPFLAGS)
-@BUILD_PLUGIN_TOKYOTYRANT_TRUE@tokyotyrant_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS)
+@BUILD_PLUGIN_TOKYOTYRANT_TRUE@tokyotyrant_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBTOKYOTYRANT_LDFLAGS)
 @BUILD_PLUGIN_TOKYOTYRANT_TRUE@tokyotyrant_la_LIBADD = $(BUILD_WITH_LIBTOKYOTYRANT_LIBS) \
-@BUILD_PLUGIN_TOKYOTYRANT_TRUE@	$(am__append_393)
+@BUILD_PLUGIN_TOKYOTYRANT_TRUE@	$(am__append_183)
+@BUILD_PLUGIN_TURBOSTAT_TRUE@turbostat_la_SOURCES = turbostat.c
+@BUILD_PLUGIN_TURBOSTAT_TRUE@turbostat_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_flush.h utils_cmd_flush.c \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_getval.h utils_cmd_getval.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_getthreshold.h utils_cmd_getthreshold.c \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_listval.h utils_cmd_listval.c \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_putval.h utils_cmd_putval.c \
-@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_putnotif.h utils_cmd_putnotif.c
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_putnotif.h utils_cmd_putnotif.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_parse_option.h utils_parse_option.c
 
-@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LIBADD = -lpthread
 @BUILD_PLUGIN_UPTIME_TRUE@uptime_la_SOURCES = uptime.c
 @BUILD_PLUGIN_UPTIME_TRUE@uptime_la_CFLAGS = $(AM_CFLAGS)
-@BUILD_PLUGIN_UPTIME_TRUE@uptime_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_UPTIME_TRUE@uptime_la_LIBADD = $(am__append_400) \
-@BUILD_PLUGIN_UPTIME_TRUE@	$(am__append_401)
+@BUILD_PLUGIN_UPTIME_TRUE@uptime_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_UPTIME_TRUE@uptime_la_LIBADD = $(am__append_187) \
+@BUILD_PLUGIN_UPTIME_TRUE@	$(am__append_188)
 @BUILD_PLUGIN_USERS_TRUE@users_la_SOURCES = users.c
 @BUILD_PLUGIN_USERS_TRUE@users_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_USERS_TRUE@	$(am__append_405)
-@BUILD_PLUGIN_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_USERS_TRUE@users_la_LIBADD = $(am__append_406)
+@BUILD_PLUGIN_USERS_TRUE@	$(am__append_190)
+@BUILD_PLUGIN_USERS_TRUE@users_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_USERS_TRUE@users_la_LIBADD = $(am__append_191)
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_SOURCES = uuid.c
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBHAL_CFLAGS)
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_LIBADD = $(BUILD_WITH_LIBHAL_LIBS)
-@BUILD_PLUGIN_UUID_TRUE@uuid_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MIC_TRUE@mic_la_SOURCES = mic.c
-@BUILD_PLUGIN_MIC_TRUE@mic_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_MIC_LIBPATH)
-@BUILD_PLUGIN_MIC_TRUE@mic_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_MIC_CPPFLAGS)
-@BUILD_PLUGIN_MIC_TRUE@mic_la_LIBADD = $(BUILD_WITH_MIC_LDADD)
+@BUILD_PLUGIN_UUID_TRUE@uuid_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_VARNISH_TRUE@varnish_la_SOURCES = varnish.c
-@BUILD_PLUGIN_VARNISH_TRUE@varnish_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_VARNISH_TRUE@varnish_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_VARNISH_TRUE@varnish_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBVARNISH_CFLAGS)
 @BUILD_PLUGIN_VARNISH_TRUE@varnish_la_LIBADD = $(BUILD_WITH_LIBVARNISH_LIBS)
+@BUILD_PLUGIN_VIRT_TRUE@virt_la_SOURCES = virt.c \
+@BUILD_PLUGIN_VIRT_TRUE@		  utils_ignorelist.c utils_ignorelist.h
+
+@BUILD_PLUGIN_VIRT_TRUE@virt_la_CFLAGS = $(AM_CFLAGS) \
+@BUILD_PLUGIN_VIRT_TRUE@		$(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+
+@BUILD_PLUGIN_VIRT_TRUE@virt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
+@BUILD_PLUGIN_VIRT_TRUE@virt_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_VMEM_TRUE@vmem_la_SOURCES = vmem.c
-@BUILD_PLUGIN_VMEM_TRUE@vmem_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_VMEM_TRUE@vmem_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
-@BUILD_PLUGIN_VSERVER_TRUE@vserver_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_VSERVER_TRUE@vserver_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_SOURCES = wireless.c
-@BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@write_graphite_la_SOURCES = write_graphite.c \
 @BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@                        utils_format_graphite.c utils_format_graphite.h \
 @BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@                        utils_format_json.c utils_format_json.h
 
-@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@write_graphite_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_WRITE_GRAPHITE_TRUE@write_graphite_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_WRITE_HTTP_TRUE@write_http_la_SOURCES = write_http.c \
 @BUILD_PLUGIN_WRITE_HTTP_TRUE@			utils_format_json.c utils_format_json.h
 
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@write_http_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_WRITE_HTTP_TRUE@write_http_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_WRITE_HTTP_TRUE@write_http_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@	$(am__append_432)
+@BUILD_PLUGIN_WRITE_HTTP_TRUE@	$(am__append_200)
 @BUILD_PLUGIN_WRITE_HTTP_TRUE@write_http_la_LIBADD =  \
-@BUILD_PLUGIN_WRITE_HTTP_TRUE@	$(am__append_433)
+@BUILD_PLUGIN_WRITE_HTTP_TRUE@	$(am__append_201)
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@write_kafka_la_SOURCES = write_kafka.c \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@                        utils_format_graphite.c utils_format_graphite.h \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@                        utils_format_json.c utils_format_json.h \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@                        utils_cmd_putval.c utils_cmd_putval.h \
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@                        utils_crc32.c utils_crc32.h
+
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@write_kafka_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBRDKAFKA_CPPFLAGS)
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@write_kafka_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBRDKAFKA_LDFLAGS)
+@BUILD_PLUGIN_WRITE_KAFKA_TRUE@write_kafka_la_LIBADD = $(BUILD_WITH_LIBRDKAFKA_LIBS)
+@BUILD_PLUGIN_WRITE_LOG_TRUE@write_log_la_SOURCES = write_log.c \
+@BUILD_PLUGIN_WRITE_LOG_TRUE@                        utils_format_graphite.c utils_format_graphite.h
+
+@BUILD_PLUGIN_WRITE_LOG_TRUE@write_log_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_WRITE_MONGODB_TRUE@write_mongodb_la_SOURCES = write_mongodb.c
 @BUILD_PLUGIN_WRITE_MONGODB_TRUE@write_mongodb_la_CPPFLAGS = $(AM_CPPFLAGS) $(BUILD_WITH_LIBMONGOC_CPPFLAGS)
-@BUILD_PLUGIN_WRITE_MONGODB_TRUE@write_mongodb_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBMONGOC_LDFLAGS)
+@BUILD_PLUGIN_WRITE_MONGODB_TRUE@write_mongodb_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBMONGOC_LDFLAGS)
 @BUILD_PLUGIN_WRITE_MONGODB_TRUE@write_mongodb_la_LIBADD = -lmongoc
 @BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_SOURCES = write_redis.c
-@BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBCREDIS_LDFLAGS)
-@BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBCREDIS_CPPFLAGS)
-@BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_LIBADD = -lcredis
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@write_riemann_la_SOURCES = write_riemann.c
+@BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_LDFLAGS = $(PLUGIN_LDFLAGS) $(BUILD_WITH_LIBHIREDIS_LDFLAGS)
+@BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBHIREDIS_CPPFLAGS)
+@BUILD_PLUGIN_WRITE_REDIS_TRUE@write_redis_la_LIBADD = -lhiredis
+@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@write_riemann_la_SOURCES = write_riemann.c write_riemann_threshold.c
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@nodist_write_riemann_la_SOURCES = riemann.pb-c.c riemann.pb-c.h
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@write_riemann_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@write_riemann_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_WRITE_RIEMANN_TRUE@write_riemann_la_LIBADD = -lprotobuf-c
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@write_sensu_la_SOURCES = write_sensu.c
+@BUILD_PLUGIN_WRITE_SENSU_TRUE@write_sensu_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@write_tsdb_la_SOURCES = write_tsdb.c
+@BUILD_PLUGIN_WRITE_TSDB_TRUE@write_tsdb_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_SOURCES = xmms.c
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBXMMS_CFLAGS)
-@BUILD_PLUGIN_XMMS_TRUE@xmms_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_XMMS_TRUE@xmms_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_LIBADD = $(BUILD_WITH_LIBXMMS_LIBS)
 @BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_SOURCES = zfs_arc.c
 @BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_CFLAGS = $(AM_CFLAGS)
-@BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_LDFLAGS = -module -avoid-version
-@BUILD_FREEBSD_FALSE@@BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_LIBADD = -lkstat
+@BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_LDFLAGS = $(PLUGIN_LDFLAGS)
+# zfs_arc requires no library on linux
+# solaris
+@BUILD_FREEBSD_FALSE@@BUILD_LINUX_FALSE@@BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_LIBADD = -lkstat
 @BUILD_FREEBSD_TRUE@@BUILD_PLUGIN_ZFS_ARC_TRUE@zfs_arc_la_LIBADD = -lm
+@BUILD_PLUGIN_ZOOKEEPER_TRUE@zookeeper_la_SOURCES = zookeeper.c
+@BUILD_PLUGIN_ZOOKEEPER_TRUE@zookeeper_la_LDFLAGS = $(PLUGIN_LDFLAGS)
 dist_man_MANS = collectd.1 \
 		collectd.conf.5 \
 		collectd-email.5 \
 		collectd-exec.5 \
 		collectdctl.1 \
 		collectd-java.5 \
@@ -2990,30 +3084,21 @@
 EXTRA_DIST = types.db collectd.conf.pod collectd-email.pod \
 	collectd-exec.pod collectdctl.pod collectd-java.pod \
 	collectdmon.pod collectd-nagios.pod collectd-perl.pod \
 	collectd-python.pod collectd.pod collectd-snmp.pod \
 	collectd-tg.pod collectd-threshold.pod collectd-unixsock.pod \
 	postgresql_default.conf types.db.pod pinba.proto riemann.proto
-AM_V_PROTOC_C = $(am__v_PROTOC_C_@AM_V@)
-am__v_PROTOC_C_ = $(am__v_PROTOC_C_@AM_DEFAULT_V@)
-am__v_PROTOC_C_0 = @echo "  PROTOC-C    " $@;
-am__v_PROTOC_C_1 = 
-@BUILD_FEATURE_DEBUG_TRUE@utils_vl_lookup_test_SOURCES = utils_vl_lookup_test.c \
-@BUILD_FEATURE_DEBUG_TRUE@                               utils_vl_lookup.h utils_vl_lookup.c \
-@BUILD_FEATURE_DEBUG_TRUE@                               utils_avltree.c utils_avltree.h \
-@BUILD_FEATURE_DEBUG_TRUE@                               common.h
-
-@BUILD_FEATURE_DEBUG_TRUE@utils_vl_lookup_test_CPPFLAGS = $(AM_CPPFLAGS) $(LTDLINCL) -DBUILD_TEST=1
-@BUILD_FEATURE_DEBUG_TRUE@utils_vl_lookup_test_CFLAGS = $(AM_CFLAGS)
-@BUILD_FEATURE_DEBUG_TRUE@utils_vl_lookup_test_LDFLAGS = -export-dynamic
-@BUILD_FEATURE_DEBUG_TRUE@utils_vl_lookup_test_LDADD = 
+test_utils_mount_SOURCES = utils_mount_test.c testing.h
+test_utils_mount_LDADD = libmount.la daemon/libplugin_mock.la
+test_utils_vl_lookup_SOURCES = utils_vl_lookup_test.c testing.h
+test_utils_vl_lookup_LDADD = liblookup.la daemon/libplugin_mock.la
 all: $(BUILT_SOURCES) config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
 .SUFFIXES:
-.SUFFIXES: .1 .5 .c .lo .o .obj .pod
+.SUFFIXES: .1 .5 .c .lo .log .o .obj .pod .test .test$(EXEEXT) .trs
 $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
 	@for dep in $?; do \
 	  case '$(am__configure_deps)' in \
 	    *$$dep*) \
 	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
 	        && { if test -f $@; then exit 0; else break; fi; }; \
@@ -3056,12 +3141,23 @@
 
 distclean-hdr:
 	-rm -f config.h stamp-h1
 collectd.conf: $(top_builddir)/config.status $(srcdir)/collectd.conf.in
 	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@
 
+clean-noinstLTLIBRARIES:
+	-test -z "$(noinst_LTLIBRARIES)" || rm -f $(noinst_LTLIBRARIES)
+	@list='$(noinst_LTLIBRARIES)'; \
+	locs=`for p in $$list; do echo $$p; done | \
+	      sed 's|^[^/]*$$|.|; s|/[^/]*$$||; s|$$|/so_locations|' | \
+	      sort -u`; \
+	test -z "$$locs" || { \
+	  echo rm -f $${locs}; \
+	  rm -f $${locs}; \
+	}
+
 install-pkglibLTLIBRARIES: $(pkglib_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
 	@list='$(pkglib_LTLIBRARIES)'; test -n "$(pkglibdir)" || list=; \
 	list2=; for p in $$list; do \
 	  if test -f $$p; then \
 	    list2="$$list2 $$p"; \
@@ -3112,18 +3208,24 @@
 aquaero.la: $(aquaero_la_OBJECTS) $(aquaero_la_DEPENDENCIES) $(EXTRA_aquaero_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(aquaero_la_LINK) $(am_aquaero_la_rpath) $(aquaero_la_OBJECTS) $(aquaero_la_LIBADD) $(LIBS)
 
 ascent.la: $(ascent_la_OBJECTS) $(ascent_la_DEPENDENCIES) $(EXTRA_ascent_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(ascent_la_LINK) $(am_ascent_la_rpath) $(ascent_la_OBJECTS) $(ascent_la_LIBADD) $(LIBS)
 
+barometer.la: $(barometer_la_OBJECTS) $(barometer_la_DEPENDENCIES) $(EXTRA_barometer_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(barometer_la_LINK) $(am_barometer_la_rpath) $(barometer_la_OBJECTS) $(barometer_la_LIBADD) $(LIBS)
+
 battery.la: $(battery_la_OBJECTS) $(battery_la_DEPENDENCIES) $(EXTRA_battery_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(battery_la_LINK) $(am_battery_la_rpath) $(battery_la_OBJECTS) $(battery_la_LIBADD) $(LIBS)
 
 bind.la: $(bind_la_OBJECTS) $(bind_la_DEPENDENCIES) $(EXTRA_bind_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(bind_la_LINK) $(am_bind_la_rpath) $(bind_la_OBJECTS) $(bind_la_LIBADD) $(LIBS)
 
+ceph.la: $(ceph_la_OBJECTS) $(ceph_la_DEPENDENCIES) $(EXTRA_ceph_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(ceph_la_LINK) $(am_ceph_la_rpath) $(ceph_la_OBJECTS) $(ceph_la_LIBADD) $(LIBS)
+
 cgroups.la: $(cgroups_la_OBJECTS) $(cgroups_la_DEPENDENCIES) $(EXTRA_cgroups_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(cgroups_la_LINK) $(am_cgroups_la_rpath) $(cgroups_la_OBJECTS) $(cgroups_la_LIBADD) $(LIBS)
 
 conntrack.la: $(conntrack_la_OBJECTS) $(conntrack_la_DEPENDENCIES) $(EXTRA_conntrack_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(conntrack_la_LINK) $(am_conntrack_la_rpath) $(conntrack_la_OBJECTS) $(conntrack_la_LIBADD) $(LIBS)
 
@@ -3157,24 +3259,30 @@
 disk.la: $(disk_la_OBJECTS) $(disk_la_DEPENDENCIES) $(EXTRA_disk_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(disk_la_LINK) $(am_disk_la_rpath) $(disk_la_OBJECTS) $(disk_la_LIBADD) $(LIBS)
 
 dns.la: $(dns_la_OBJECTS) $(dns_la_DEPENDENCIES) $(EXTRA_dns_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(dns_la_LINK) $(am_dns_la_rpath) $(dns_la_OBJECTS) $(dns_la_LIBADD) $(LIBS)
 
+drbd.la: $(drbd_la_OBJECTS) $(drbd_la_DEPENDENCIES) $(EXTRA_drbd_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(drbd_la_LINK) $(am_drbd_la_rpath) $(drbd_la_OBJECTS) $(drbd_la_LIBADD) $(LIBS)
+
 email.la: $(email_la_OBJECTS) $(email_la_DEPENDENCIES) $(EXTRA_email_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(email_la_LINK) $(am_email_la_rpath) $(email_la_OBJECTS) $(email_la_LIBADD) $(LIBS)
 
 entropy.la: $(entropy_la_OBJECTS) $(entropy_la_DEPENDENCIES) $(EXTRA_entropy_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(entropy_la_LINK) $(am_entropy_la_rpath) $(entropy_la_OBJECTS) $(entropy_la_LIBADD) $(LIBS)
 
 ethstat.la: $(ethstat_la_OBJECTS) $(ethstat_la_DEPENDENCIES) $(EXTRA_ethstat_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(ethstat_la_LINK) $(am_ethstat_la_rpath) $(ethstat_la_OBJECTS) $(ethstat_la_LIBADD) $(LIBS)
 
 exec.la: $(exec_la_OBJECTS) $(exec_la_DEPENDENCIES) $(EXTRA_exec_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(exec_la_LINK) $(am_exec_la_rpath) $(exec_la_OBJECTS) $(exec_la_LIBADD) $(LIBS)
 
+fhcount.la: $(fhcount_la_OBJECTS) $(fhcount_la_DEPENDENCIES) $(EXTRA_fhcount_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(fhcount_la_LINK) $(am_fhcount_la_rpath) $(fhcount_la_OBJECTS) $(fhcount_la_LIBADD) $(LIBS)
+
 filecount.la: $(filecount_la_OBJECTS) $(filecount_la_DEPENDENCIES) $(EXTRA_filecount_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(filecount_la_LINK) $(am_filecount_la_rpath) $(filecount_la_OBJECTS) $(filecount_la_LIBADD) $(LIBS)
 
 fscache.la: $(fscache_la_OBJECTS) $(fscache_la_DEPENDENCIES) $(EXTRA_fscache_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(fscache_la_LINK) $(am_fscache_la_rpath) $(fscache_la_OBJECTS) $(fscache_la_LIBADD) $(LIBS)
 
@@ -3184,12 +3292,15 @@
 hddtemp.la: $(hddtemp_la_OBJECTS) $(hddtemp_la_DEPENDENCIES) $(EXTRA_hddtemp_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(hddtemp_la_LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
 
 interface.la: $(interface_la_OBJECTS) $(interface_la_DEPENDENCIES) $(EXTRA_interface_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(interface_la_LINK) $(am_interface_la_rpath) $(interface_la_OBJECTS) $(interface_la_LIBADD) $(LIBS)
 
+ipc.la: $(ipc_la_OBJECTS) $(ipc_la_DEPENDENCIES) $(EXTRA_ipc_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(ipc_la_LINK) $(am_ipc_la_rpath) $(ipc_la_OBJECTS) $(ipc_la_LIBADD) $(LIBS)
+
 ipmi.la: $(ipmi_la_OBJECTS) $(ipmi_la_DEPENDENCIES) $(EXTRA_ipmi_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(ipmi_la_LINK) $(am_ipmi_la_rpath) $(ipmi_la_OBJECTS) $(ipmi_la_LIBADD) $(LIBS)
 
 iptables.la: $(iptables_la_OBJECTS) $(iptables_la_DEPENDENCIES) $(EXTRA_iptables_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(iptables_la_LINK) $(am_iptables_la_rpath) $(iptables_la_OBJECTS) $(iptables_la_LIBADD) $(LIBS)
 
@@ -3199,18 +3310,24 @@
 irq.la: $(irq_la_OBJECTS) $(irq_la_DEPENDENCIES) $(EXTRA_irq_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(irq_la_LINK) $(am_irq_la_rpath) $(irq_la_OBJECTS) $(irq_la_LIBADD) $(LIBS)
 
 java.la: $(java_la_OBJECTS) $(java_la_DEPENDENCIES) $(EXTRA_java_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(java_la_LINK) $(am_java_la_rpath) $(java_la_OBJECTS) $(java_la_LIBADD) $(LIBS)
 
-libvirt.la: $(libvirt_la_OBJECTS) $(libvirt_la_DEPENDENCIES) $(EXTRA_libvirt_la_DEPENDENCIES) 
-	$(AM_V_CCLD)$(libvirt_la_LINK) $(am_libvirt_la_rpath) $(libvirt_la_OBJECTS) $(libvirt_la_LIBADD) $(LIBS)
+liblookup.la: $(liblookup_la_OBJECTS) $(liblookup_la_DEPENDENCIES) $(EXTRA_liblookup_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(LINK)  $(liblookup_la_OBJECTS) $(liblookup_la_LIBADD) $(LIBS)
+
+libmount.la: $(libmount_la_OBJECTS) $(libmount_la_DEPENDENCIES) $(EXTRA_libmount_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(LINK)  $(libmount_la_OBJECTS) $(libmount_la_LIBADD) $(LIBS)
 
 load.la: $(load_la_OBJECTS) $(load_la_DEPENDENCIES) $(EXTRA_load_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(load_la_LINK) $(am_load_la_rpath) $(load_la_OBJECTS) $(load_la_LIBADD) $(LIBS)
 
+log_logstash.la: $(log_logstash_la_OBJECTS) $(log_logstash_la_DEPENDENCIES) $(EXTRA_log_logstash_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(log_logstash_la_LINK) $(am_log_logstash_la_rpath) $(log_logstash_la_OBJECTS) $(log_logstash_la_LIBADD) $(LIBS)
+
 logfile.la: $(logfile_la_OBJECTS) $(logfile_la_DEPENDENCIES) $(EXTRA_logfile_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(logfile_la_LINK) $(am_logfile_la_rpath) $(logfile_la_OBJECTS) $(logfile_la_LIBADD) $(LIBS)
 
 lpar.la: $(lpar_la_OBJECTS) $(lpar_la_DEPENDENCIES) $(EXTRA_lpar_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(lpar_la_LINK) $(am_lpar_la_rpath) $(lpar_la_OBJECTS) $(lpar_la_LIBADD) $(LIBS)
 
@@ -3295,12 +3412,15 @@
 olsrd.la: $(olsrd_la_OBJECTS) $(olsrd_la_DEPENDENCIES) $(EXTRA_olsrd_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(olsrd_la_LINK) $(am_olsrd_la_rpath) $(olsrd_la_OBJECTS) $(olsrd_la_LIBADD) $(LIBS)
 
 onewire.la: $(onewire_la_OBJECTS) $(onewire_la_DEPENDENCIES) $(EXTRA_onewire_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(onewire_la_LINK) $(am_onewire_la_rpath) $(onewire_la_OBJECTS) $(onewire_la_LIBADD) $(LIBS)
 
+openldap.la: $(openldap_la_OBJECTS) $(openldap_la_DEPENDENCIES) $(EXTRA_openldap_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(openldap_la_LINK) $(am_openldap_la_rpath) $(openldap_la_OBJECTS) $(openldap_la_LIBADD) $(LIBS)
+
 openvpn.la: $(openvpn_la_OBJECTS) $(openvpn_la_DEPENDENCIES) $(EXTRA_openvpn_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(openvpn_la_LINK) $(am_openvpn_la_rpath) $(openvpn_la_OBJECTS) $(openvpn_la_LIBADD) $(LIBS)
 
 oracle.la: $(oracle_la_OBJECTS) $(oracle_la_DEPENDENCIES) $(EXTRA_oracle_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(oracle_la_LINK) $(am_oracle_la_rpath) $(oracle_la_OBJECTS) $(oracle_la_LIBADD) $(LIBS)
 
@@ -3349,12 +3469,15 @@
 serial.la: $(serial_la_OBJECTS) $(serial_la_DEPENDENCIES) $(EXTRA_serial_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(serial_la_LINK) $(am_serial_la_rpath) $(serial_la_OBJECTS) $(serial_la_LIBADD) $(LIBS)
 
 sigrok.la: $(sigrok_la_OBJECTS) $(sigrok_la_DEPENDENCIES) $(EXTRA_sigrok_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(sigrok_la_LINK) $(am_sigrok_la_rpath) $(sigrok_la_OBJECTS) $(sigrok_la_LIBADD) $(LIBS)
 
+smart.la: $(smart_la_OBJECTS) $(smart_la_DEPENDENCIES) $(EXTRA_smart_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(smart_la_LINK) $(am_smart_la_rpath) $(smart_la_OBJECTS) $(smart_la_LIBADD) $(LIBS)
+
 snmp.la: $(snmp_la_OBJECTS) $(snmp_la_DEPENDENCIES) $(EXTRA_snmp_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(snmp_la_LINK) $(am_snmp_la_rpath) $(snmp_la_OBJECTS) $(snmp_la_LIBADD) $(LIBS)
 
 statsd.la: $(statsd_la_OBJECTS) $(statsd_la_DEPENDENCIES) $(EXTRA_statsd_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(statsd_la_LINK) $(am_statsd_la_rpath) $(statsd_la_OBJECTS) $(statsd_la_LIBADD) $(LIBS)
 
@@ -3406,12 +3529,15 @@
 threshold.la: $(threshold_la_OBJECTS) $(threshold_la_DEPENDENCIES) $(EXTRA_threshold_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(threshold_la_LINK) $(am_threshold_la_rpath) $(threshold_la_OBJECTS) $(threshold_la_LIBADD) $(LIBS)
 
 tokyotyrant.la: $(tokyotyrant_la_OBJECTS) $(tokyotyrant_la_DEPENDENCIES) $(EXTRA_tokyotyrant_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(tokyotyrant_la_LINK) $(am_tokyotyrant_la_rpath) $(tokyotyrant_la_OBJECTS) $(tokyotyrant_la_LIBADD) $(LIBS)
 
+turbostat.la: $(turbostat_la_OBJECTS) $(turbostat_la_DEPENDENCIES) $(EXTRA_turbostat_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(turbostat_la_LINK) $(am_turbostat_la_rpath) $(turbostat_la_OBJECTS) $(turbostat_la_LIBADD) $(LIBS)
+
 unixsock.la: $(unixsock_la_OBJECTS) $(unixsock_la_DEPENDENCIES) $(EXTRA_unixsock_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(unixsock_la_LINK) $(am_unixsock_la_rpath) $(unixsock_la_OBJECTS) $(unixsock_la_LIBADD) $(LIBS)
 
 uptime.la: $(uptime_la_OBJECTS) $(uptime_la_DEPENDENCIES) $(EXTRA_uptime_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(uptime_la_LINK) $(am_uptime_la_rpath) $(uptime_la_OBJECTS) $(uptime_la_LIBADD) $(LIBS)
 
@@ -3421,12 +3547,15 @@
 uuid.la: $(uuid_la_OBJECTS) $(uuid_la_DEPENDENCIES) $(EXTRA_uuid_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(uuid_la_LINK) $(am_uuid_la_rpath) $(uuid_la_OBJECTS) $(uuid_la_LIBADD) $(LIBS)
 
 varnish.la: $(varnish_la_OBJECTS) $(varnish_la_DEPENDENCIES) $(EXTRA_varnish_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(varnish_la_LINK) $(am_varnish_la_rpath) $(varnish_la_OBJECTS) $(varnish_la_LIBADD) $(LIBS)
 
+virt.la: $(virt_la_OBJECTS) $(virt_la_DEPENDENCIES) $(EXTRA_virt_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(virt_la_LINK) $(am_virt_la_rpath) $(virt_la_OBJECTS) $(virt_la_LIBADD) $(LIBS)
+
 vmem.la: $(vmem_la_OBJECTS) $(vmem_la_DEPENDENCIES) $(EXTRA_vmem_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(vmem_la_LINK) $(am_vmem_la_rpath) $(vmem_la_OBJECTS) $(vmem_la_LIBADD) $(LIBS)
 
 vserver.la: $(vserver_la_OBJECTS) $(vserver_la_DEPENDENCIES) $(EXTRA_vserver_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(vserver_la_LINK) $(am_vserver_la_rpath) $(vserver_la_OBJECTS) $(vserver_la_LIBADD) $(LIBS)
 
@@ -3436,26 +3565,41 @@
 write_graphite.la: $(write_graphite_la_OBJECTS) $(write_graphite_la_DEPENDENCIES) $(EXTRA_write_graphite_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(write_graphite_la_LINK) $(am_write_graphite_la_rpath) $(write_graphite_la_OBJECTS) $(write_graphite_la_LIBADD) $(LIBS)
 
 write_http.la: $(write_http_la_OBJECTS) $(write_http_la_DEPENDENCIES) $(EXTRA_write_http_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(write_http_la_LINK) $(am_write_http_la_rpath) $(write_http_la_OBJECTS) $(write_http_la_LIBADD) $(LIBS)
 
+write_kafka.la: $(write_kafka_la_OBJECTS) $(write_kafka_la_DEPENDENCIES) $(EXTRA_write_kafka_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(write_kafka_la_LINK) $(am_write_kafka_la_rpath) $(write_kafka_la_OBJECTS) $(write_kafka_la_LIBADD) $(LIBS)
+
+write_log.la: $(write_log_la_OBJECTS) $(write_log_la_DEPENDENCIES) $(EXTRA_write_log_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(write_log_la_LINK) $(am_write_log_la_rpath) $(write_log_la_OBJECTS) $(write_log_la_LIBADD) $(LIBS)
+
 write_mongodb.la: $(write_mongodb_la_OBJECTS) $(write_mongodb_la_DEPENDENCIES) $(EXTRA_write_mongodb_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(write_mongodb_la_LINK) $(am_write_mongodb_la_rpath) $(write_mongodb_la_OBJECTS) $(write_mongodb_la_LIBADD) $(LIBS)
 
 write_redis.la: $(write_redis_la_OBJECTS) $(write_redis_la_DEPENDENCIES) $(EXTRA_write_redis_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(write_redis_la_LINK) $(am_write_redis_la_rpath) $(write_redis_la_OBJECTS) $(write_redis_la_LIBADD) $(LIBS)
 
 write_riemann.la: $(write_riemann_la_OBJECTS) $(write_riemann_la_DEPENDENCIES) $(EXTRA_write_riemann_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(write_riemann_la_LINK) $(am_write_riemann_la_rpath) $(write_riemann_la_OBJECTS) $(write_riemann_la_LIBADD) $(LIBS)
 
+write_sensu.la: $(write_sensu_la_OBJECTS) $(write_sensu_la_DEPENDENCIES) $(EXTRA_write_sensu_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(write_sensu_la_LINK) $(am_write_sensu_la_rpath) $(write_sensu_la_OBJECTS) $(write_sensu_la_LIBADD) $(LIBS)
+
+write_tsdb.la: $(write_tsdb_la_OBJECTS) $(write_tsdb_la_DEPENDENCIES) $(EXTRA_write_tsdb_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(write_tsdb_la_LINK) $(am_write_tsdb_la_rpath) $(write_tsdb_la_OBJECTS) $(write_tsdb_la_LIBADD) $(LIBS)
+
 xmms.la: $(xmms_la_OBJECTS) $(xmms_la_DEPENDENCIES) $(EXTRA_xmms_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(xmms_la_LINK) $(am_xmms_la_rpath) $(xmms_la_OBJECTS) $(xmms_la_LIBADD) $(LIBS)
 
 zfs_arc.la: $(zfs_arc_la_OBJECTS) $(zfs_arc_la_DEPENDENCIES) $(EXTRA_zfs_arc_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(zfs_arc_la_LINK) $(am_zfs_arc_la_rpath) $(zfs_arc_la_OBJECTS) $(zfs_arc_la_LIBADD) $(LIBS)
+
+zookeeper.la: $(zookeeper_la_OBJECTS) $(zookeeper_la_DEPENDENCIES) $(EXTRA_zookeeper_la_DEPENDENCIES) 
+	$(AM_V_CCLD)$(zookeeper_la_LINK) $(am_zookeeper_la_rpath) $(zookeeper_la_OBJECTS) $(zookeeper_la_LIBADD) $(LIBS)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
 	@list='$(bin_PROGRAMS)'; test -n "$(bindir)" || list=; \
 	if test -n "$$list"; then \
 	  echo " $(MKDIR_P) '$(DESTDIR)$(bindir)'"; \
 	  $(MKDIR_P) "$(DESTDIR)$(bindir)" || exit 1; \
@@ -3499,12 +3643,21 @@
 	echo " rm -f" $$list; \
 	rm -f $$list || exit $$?; \
 	test -n "$(EXEEXT)" || exit 0; \
 	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
 	echo " rm -f" $$list; \
 	rm -f $$list
+
+clean-checkPROGRAMS:
+	@list='$(check_PROGRAMS)'; test -n "$$list" || exit 0; \
+	echo " rm -f" $$list; \
+	rm -f $$list || exit $$?; \
+	test -n "$(EXEEXT)" || exit 0; \
+	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
+	echo " rm -f" $$list; \
+	rm -f $$list
 install-sbinPROGRAMS: $(sbin_PROGRAMS)
 	@$(NORMAL_INSTALL)
 	@list='$(sbin_PROGRAMS)'; test -n "$(sbindir)" || list=; \
 	if test -n "$$list"; then \
 	  echo " $(MKDIR_P) '$(DESTDIR)$(sbindir)'"; \
 	  $(MKDIR_P) "$(DESTDIR)$(sbindir)" || exit 1; \
@@ -3549,16 +3702,12 @@
 	rm -f $$list || exit $$?; \
 	test -n "$(EXEEXT)" || exit 0; \
 	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
 	echo " rm -f" $$list; \
 	rm -f $$list
 
-collectd$(EXEEXT): $(collectd_OBJECTS) $(collectd_DEPENDENCIES) $(EXTRA_collectd_DEPENDENCIES) 
-	@rm -f collectd$(EXEEXT)
-	$(AM_V_CCLD)$(collectd_LINK) $(collectd_OBJECTS) $(collectd_LDADD) $(LIBS)
-
 collectd-nagios$(EXEEXT): $(collectd_nagios_OBJECTS) $(collectd_nagios_DEPENDENCIES) $(EXTRA_collectd_nagios_DEPENDENCIES) 
 	@rm -f collectd-nagios$(EXEEXT)
 	$(AM_V_CCLD)$(LINK) $(collectd_nagios_OBJECTS) $(collectd_nagios_LDADD) $(LIBS)
 
 collectd-tg$(EXEEXT): $(collectd_tg_OBJECTS) $(collectd_tg_DEPENDENCIES) $(EXTRA_collectd_tg_DEPENDENCIES) 
 	@rm -f collectd-tg$(EXEEXT)
@@ -3569,59 +3718,43 @@
 	$(AM_V_CCLD)$(LINK) $(collectdctl_OBJECTS) $(collectdctl_LDADD) $(LIBS)
 
 collectdmon$(EXEEXT): $(collectdmon_OBJECTS) $(collectdmon_DEPENDENCIES) $(EXTRA_collectdmon_DEPENDENCIES) 
 	@rm -f collectdmon$(EXEEXT)
 	$(AM_V_CCLD)$(LINK) $(collectdmon_OBJECTS) $(collectdmon_LDADD) $(LIBS)
 
-utils_vl_lookup_test$(EXEEXT): $(utils_vl_lookup_test_OBJECTS) $(utils_vl_lookup_test_DEPENDENCIES) $(EXTRA_utils_vl_lookup_test_DEPENDENCIES) 
-	@rm -f utils_vl_lookup_test$(EXEEXT)
-	$(AM_V_CCLD)$(utils_vl_lookup_test_LINK) $(utils_vl_lookup_test_OBJECTS) $(utils_vl_lookup_test_LDADD) $(LIBS)
+test_utils_mount$(EXEEXT): $(test_utils_mount_OBJECTS) $(test_utils_mount_DEPENDENCIES) $(EXTRA_test_utils_mount_DEPENDENCIES) 
+	@rm -f test_utils_mount$(EXEEXT)
+	$(AM_V_CCLD)$(LINK) $(test_utils_mount_OBJECTS) $(test_utils_mount_LDADD) $(LIBS)
+
+test_utils_vl_lookup$(EXEEXT): $(test_utils_vl_lookup_OBJECTS) $(test_utils_vl_lookup_DEPENDENCIES) $(EXTRA_test_utils_vl_lookup_DEPENDENCIES) 
+	@rm -f test_utils_vl_lookup$(EXEEXT)
+	$(AM_V_CCLD)$(LINK) $(test_utils_vl_lookup_OBJECTS) $(test_utils_vl_lookup_LDADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
 
 distclean-compile:
 	-rm -f *.tab.c
 
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/aggregation.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/amqp_la-amqp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/amqp_la-utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/amqp_la-utils_format_graphite.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/amqp_la-utils_format_json.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/amqp_la-utils_parse_option.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/apache_la-apache.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/apcups.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/apple_sensors.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/aquaero_la-aquaero.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ascent_la-ascent.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/barometer.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/battery.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/bind_la-bind.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ceph_la-ceph.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cgroups.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-collectd.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-common.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-configfile.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-filter_chain.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-meta_data.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-plugin.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-types_list.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_avltree.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_cache.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_complain.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_heap.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_ignorelist.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_llist.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_match.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_parse_option.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_random.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_subst.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_tail.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_tail_match.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_time.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd_nagios-collectd-nagios.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd_tg-collectd-tg.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd_tg-utils_heap.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectdctl-collectdctl.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectdmon-collectdmon.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/conntrack.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/contextswitch.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu_la-cpu.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpufreq.Plo@am__quote@
@@ -3630,29 +3763,35 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_la-curl.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/curl_xml_la-curl_xml.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dbi_la-dbi.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dbi_la-utils_db_query.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/df.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk_la-disk.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk_la-utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dns.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/drbd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/email.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/entropy.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ethstat.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/exec.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fhcount.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/filecount.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fscache.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/gmond_la-gmond.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/interface_la-interface.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/interface_la-utils_ignorelist.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipc_la-ipc.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipmi_la-ipmi.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipmi_la-utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/iptables_la-iptables.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipvs_la-ipvs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/irq.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/java_la-java.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libvirt_la-libvirt.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load_la-load.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/log_logstash_la-log_logstash.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/logfile.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lpar.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lvm.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/madwifi.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/match_empty_counter.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/match_hashed.Plo@am__quote@
@@ -3662,28 +3801,32 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mbmon.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/md.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memcachec_la-memcachec.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memcached.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory_la-memory.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mic_la-mic.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mic_la-utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/modbus_la-modbus.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/multimeter.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mysql_la-mysql.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/netapp_la-netapp.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/netapp_la-utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/netlink_la-netlink.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/network_la-network.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/network_la-utils_fbhash.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nginx_la-nginx.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/notify_desktop_la-notify_desktop.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/notify_email.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ntpd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/numa.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nut_la-nut.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/olsrd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/onewire_la-onewire.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/onewire_la-utils_ignorelist.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/openldap_la-openldap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/openvpn_la-openvpn.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/oracle_la-oracle.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/oracle_la-utils_db_query.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/perl_la-perl.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pf.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pinba.Plo@am__quote@
@@ -3702,14 +3845,17 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/routeros_la-routeros.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdcached_la-rrdcached.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdcached_la-utils_rrdcreate.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdtool_la-rrdtool.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdtool_la-utils_rrdcreate.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors_la-sensors.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors_la-utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sigrok_la-sigrok.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/smart_la-smart.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/smart_la-utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp_la-snmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/statsd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap_la-swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/syslog.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/table.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tail.Plo@am__quote@
@@ -3723,60 +3869,78 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tcpconns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/teamspeak2.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ted.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/thermal.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/threshold.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tokyotyrant_la-tokyotyrant.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/turbostat.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/uptime_la-uptime.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users_la-users.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_flush.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_getthreshold.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_getval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_listval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putnotif.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_dns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_format_graphite.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_format_json.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_ignorelist.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_latency.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_mount.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_mount_test.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_parse_option.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_vl_lookup.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_vl_lookup_test-utils_avltree.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_vl_lookup_test.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/uuid_la-uuid.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/varnish_la-varnish.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/virt_la-utils_ignorelist.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/virt_la-virt.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vmem.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vserver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/wireless.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_graphite.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_http_la-utils_format_json.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_http_la-write_http.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_kafka_la-utils_cmd_putval.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_kafka_la-utils_crc32.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_kafka_la-utils_format_graphite.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_kafka_la-utils_format_json.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_kafka_la-write_kafka.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_log.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_mongodb_la-write_mongodb.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_redis_la-write_redis.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_riemann.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_riemann_threshold.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_sensu.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/write_tsdb.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/xmms_la-xmms.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/zfs_arc_la-zfs_arc.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/zookeeper.Plo@am__quote@
 
 .c.o:
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Po
+@am__fastdepCC_TRUE@	$(AM_V_CC)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\.o$$||'`;\
+@am__fastdepCC_TRUE@	$(COMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ $< &&\
+@am__fastdepCC_TRUE@	$(am__mv) $$depbase.Tpo $$depbase.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(COMPILE) -c -o $@ $<
 
 .c.obj:
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ `$(CYGPATH_W) '$<'`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Po
+@am__fastdepCC_TRUE@	$(AM_V_CC)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\.obj$$||'`;\
+@am__fastdepCC_TRUE@	$(COMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ `$(CYGPATH_W) '$<'` &&\
+@am__fastdepCC_TRUE@	$(am__mv) $$depbase.Tpo $$depbase.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(COMPILE) -c -o $@ `$(CYGPATH_W) '$<'`
 
 .c.lo:
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(LTCOMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Plo
+@am__fastdepCC_TRUE@	$(AM_V_CC)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\.lo$$||'`;\
+@am__fastdepCC_TRUE@	$(LTCOMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ $< &&\
+@am__fastdepCC_TRUE@	$(am__mv) $$depbase.Tpo $$depbase.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LTCOMPILE) -c -o $@ $<
 
 amqp_la-amqp.lo: amqp.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT amqp_la-amqp.lo -MD -MP -MF $(DEPDIR)/amqp_la-amqp.Tpo -c -o amqp_la-amqp.lo `test -f 'amqp.c' || echo '$(srcdir)/'`amqp.c
@@ -3789,19 +3953,12 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT amqp_la-utils_cmd_putval.lo -MD -MP -MF $(DEPDIR)/amqp_la-utils_cmd_putval.Tpo -c -o amqp_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/amqp_la-utils_cmd_putval.Tpo $(DEPDIR)/amqp_la-utils_cmd_putval.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_cmd_putval.c' object='amqp_la-utils_cmd_putval.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o amqp_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
 
-amqp_la-utils_parse_option.lo: utils_parse_option.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT amqp_la-utils_parse_option.lo -MD -MP -MF $(DEPDIR)/amqp_la-utils_parse_option.Tpo -c -o amqp_la-utils_parse_option.lo `test -f 'utils_parse_option.c' || echo '$(srcdir)/'`utils_parse_option.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/amqp_la-utils_parse_option.Tpo $(DEPDIR)/amqp_la-utils_parse_option.Plo
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_parse_option.c' object='amqp_la-utils_parse_option.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o amqp_la-utils_parse_option.lo `test -f 'utils_parse_option.c' || echo '$(srcdir)/'`utils_parse_option.c
-
 amqp_la-utils_format_graphite.lo: utils_format_graphite.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT amqp_la-utils_format_graphite.lo -MD -MP -MF $(DEPDIR)/amqp_la-utils_format_graphite.Tpo -c -o amqp_la-utils_format_graphite.lo `test -f 'utils_format_graphite.c' || echo '$(srcdir)/'`utils_format_graphite.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/amqp_la-utils_format_graphite.Tpo $(DEPDIR)/amqp_la-utils_format_graphite.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_format_graphite.c' object='amqp_la-utils_format_graphite.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(amqp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o amqp_la-utils_format_graphite.lo `test -f 'utils_format_graphite.c' || echo '$(srcdir)/'`utils_format_graphite.c
@@ -3838,12 +3995,19 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(bind_la_CFLAGS) $(CFLAGS) -MT bind_la-bind.lo -MD -MP -MF $(DEPDIR)/bind_la-bind.Tpo -c -o bind_la-bind.lo `test -f 'bind.c' || echo '$(srcdir)/'`bind.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/bind_la-bind.Tpo $(DEPDIR)/bind_la-bind.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='bind.c' object='bind_la-bind.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(bind_la_CFLAGS) $(CFLAGS) -c -o bind_la-bind.lo `test -f 'bind.c' || echo '$(srcdir)/'`bind.c
 
+ceph_la-ceph.lo: ceph.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(ceph_la_CPPFLAGS) $(CPPFLAGS) $(ceph_la_CFLAGS) $(CFLAGS) -MT ceph_la-ceph.lo -MD -MP -MF $(DEPDIR)/ceph_la-ceph.Tpo -c -o ceph_la-ceph.lo `test -f 'ceph.c' || echo '$(srcdir)/'`ceph.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/ceph_la-ceph.Tpo $(DEPDIR)/ceph_la-ceph.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='ceph.c' object='ceph_la-ceph.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(ceph_la_CPPFLAGS) $(CPPFLAGS) $(ceph_la_CFLAGS) $(CFLAGS) -c -o ceph_la-ceph.lo `test -f 'ceph.c' || echo '$(srcdir)/'`ceph.c
+
 cpu_la-cpu.lo: cpu.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpu_la_CFLAGS) $(CFLAGS) -MT cpu_la-cpu.lo -MD -MP -MF $(DEPDIR)/cpu_la-cpu.Tpo -c -o cpu_la-cpu.lo `test -f 'cpu.c' || echo '$(srcdir)/'`cpu.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/cpu_la-cpu.Tpo $(DEPDIR)/cpu_la-cpu.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='cpu.c' object='cpu_la-cpu.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpu_la_CFLAGS) $(CFLAGS) -c -o cpu_la-cpu.lo `test -f 'cpu.c' || echo '$(srcdir)/'`cpu.c
@@ -3887,12 +4051,19 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -MT disk_la-disk.lo -MD -MP -MF $(DEPDIR)/disk_la-disk.Tpo -c -o disk_la-disk.lo `test -f 'disk.c' || echo '$(srcdir)/'`disk.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/disk_la-disk.Tpo $(DEPDIR)/disk_la-disk.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='disk.c' object='disk_la-disk.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -c -o disk_la-disk.lo `test -f 'disk.c' || echo '$(srcdir)/'`disk.c
 
+disk_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -MT disk_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/disk_la-utils_ignorelist.Tpo -c -o disk_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/disk_la-utils_ignorelist.Tpo $(DEPDIR)/disk_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='disk_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -c -o disk_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 gmond_la-gmond.lo: gmond.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(gmond_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT gmond_la-gmond.lo -MD -MP -MF $(DEPDIR)/gmond_la-gmond.Tpo -c -o gmond_la-gmond.lo `test -f 'gmond.c' || echo '$(srcdir)/'`gmond.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/gmond_la-gmond.Tpo $(DEPDIR)/gmond_la-gmond.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='gmond.c' object='gmond_la-gmond.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(gmond_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o gmond_la-gmond.lo `test -f 'gmond.c' || echo '$(srcdir)/'`gmond.c
@@ -3901,19 +4072,40 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(interface_la_CFLAGS) $(CFLAGS) -MT interface_la-interface.lo -MD -MP -MF $(DEPDIR)/interface_la-interface.Tpo -c -o interface_la-interface.lo `test -f 'interface.c' || echo '$(srcdir)/'`interface.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/interface_la-interface.Tpo $(DEPDIR)/interface_la-interface.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='interface.c' object='interface_la-interface.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(interface_la_CFLAGS) $(CFLAGS) -c -o interface_la-interface.lo `test -f 'interface.c' || echo '$(srcdir)/'`interface.c
 
+interface_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(interface_la_CFLAGS) $(CFLAGS) -MT interface_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/interface_la-utils_ignorelist.Tpo -c -o interface_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/interface_la-utils_ignorelist.Tpo $(DEPDIR)/interface_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='interface_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(interface_la_CFLAGS) $(CFLAGS) -c -o interface_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
+ipc_la-ipc.lo: ipc.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipc_la_CFLAGS) $(CFLAGS) -MT ipc_la-ipc.lo -MD -MP -MF $(DEPDIR)/ipc_la-ipc.Tpo -c -o ipc_la-ipc.lo `test -f 'ipc.c' || echo '$(srcdir)/'`ipc.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/ipc_la-ipc.Tpo $(DEPDIR)/ipc_la-ipc.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='ipc.c' object='ipc_la-ipc.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipc_la_CFLAGS) $(CFLAGS) -c -o ipc_la-ipc.lo `test -f 'ipc.c' || echo '$(srcdir)/'`ipc.c
+
 ipmi_la-ipmi.lo: ipmi.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipmi_la_CFLAGS) $(CFLAGS) -MT ipmi_la-ipmi.lo -MD -MP -MF $(DEPDIR)/ipmi_la-ipmi.Tpo -c -o ipmi_la-ipmi.lo `test -f 'ipmi.c' || echo '$(srcdir)/'`ipmi.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/ipmi_la-ipmi.Tpo $(DEPDIR)/ipmi_la-ipmi.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='ipmi.c' object='ipmi_la-ipmi.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipmi_la_CFLAGS) $(CFLAGS) -c -o ipmi_la-ipmi.lo `test -f 'ipmi.c' || echo '$(srcdir)/'`ipmi.c
 
+ipmi_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipmi_la_CFLAGS) $(CFLAGS) -MT ipmi_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/ipmi_la-utils_ignorelist.Tpo -c -o ipmi_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/ipmi_la-utils_ignorelist.Tpo $(DEPDIR)/ipmi_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='ipmi_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipmi_la_CFLAGS) $(CFLAGS) -c -o ipmi_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 iptables_la-iptables.lo: iptables.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(iptables_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT iptables_la-iptables.lo -MD -MP -MF $(DEPDIR)/iptables_la-iptables.Tpo -c -o iptables_la-iptables.lo `test -f 'iptables.c' || echo '$(srcdir)/'`iptables.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/iptables_la-iptables.Tpo $(DEPDIR)/iptables_la-iptables.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='iptables.c' object='iptables_la-iptables.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(iptables_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o iptables_la-iptables.lo `test -f 'iptables.c' || echo '$(srcdir)/'`iptables.c
@@ -3929,26 +4121,26 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(java_la_CPPFLAGS) $(CPPFLAGS) $(java_la_CFLAGS) $(CFLAGS) -MT java_la-java.lo -MD -MP -MF $(DEPDIR)/java_la-java.Tpo -c -o java_la-java.lo `test -f 'java.c' || echo '$(srcdir)/'`java.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/java_la-java.Tpo $(DEPDIR)/java_la-java.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='java.c' object='java_la-java.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(java_la_CPPFLAGS) $(CPPFLAGS) $(java_la_CFLAGS) $(CFLAGS) -c -o java_la-java.lo `test -f 'java.c' || echo '$(srcdir)/'`java.c
 
-libvirt_la-libvirt.lo: libvirt.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_la_CFLAGS) $(CFLAGS) -MT libvirt_la-libvirt.lo -MD -MP -MF $(DEPDIR)/libvirt_la-libvirt.Tpo -c -o libvirt_la-libvirt.lo `test -f 'libvirt.c' || echo '$(srcdir)/'`libvirt.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/libvirt_la-libvirt.Tpo $(DEPDIR)/libvirt_la-libvirt.Plo
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='libvirt.c' object='libvirt_la-libvirt.lo' libtool=yes @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_la_CFLAGS) $(CFLAGS) -c -o libvirt_la-libvirt.lo `test -f 'libvirt.c' || echo '$(srcdir)/'`libvirt.c
-
 load_la-load.lo: load.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(load_la_CFLAGS) $(CFLAGS) -MT load_la-load.lo -MD -MP -MF $(DEPDIR)/load_la-load.Tpo -c -o load_la-load.lo `test -f 'load.c' || echo '$(srcdir)/'`load.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/load_la-load.Tpo $(DEPDIR)/load_la-load.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='load.c' object='load_la-load.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(load_la_CFLAGS) $(CFLAGS) -c -o load_la-load.lo `test -f 'load.c' || echo '$(srcdir)/'`load.c
 
+log_logstash_la-log_logstash.lo: log_logstash.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(log_logstash_la_CPPFLAGS) $(CPPFLAGS) $(log_logstash_la_CFLAGS) $(CFLAGS) -MT log_logstash_la-log_logstash.lo -MD -MP -MF $(DEPDIR)/log_logstash_la-log_logstash.Tpo -c -o log_logstash_la-log_logstash.lo `test -f 'log_logstash.c' || echo '$(srcdir)/'`log_logstash.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/log_logstash_la-log_logstash.Tpo $(DEPDIR)/log_logstash_la-log_logstash.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='log_logstash.c' object='log_logstash_la-log_logstash.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(log_logstash_la_CPPFLAGS) $(CPPFLAGS) $(log_logstash_la_CFLAGS) $(CFLAGS) -c -o log_logstash_la-log_logstash.lo `test -f 'log_logstash.c' || echo '$(srcdir)/'`log_logstash.c
+
 memcachec_la-memcachec.lo: memcachec.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(memcachec_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT memcachec_la-memcachec.lo -MD -MP -MF $(DEPDIR)/memcachec_la-memcachec.Tpo -c -o memcachec_la-memcachec.lo `test -f 'memcachec.c' || echo '$(srcdir)/'`memcachec.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/memcachec_la-memcachec.Tpo $(DEPDIR)/memcachec_la-memcachec.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='memcachec.c' object='memcachec_la-memcachec.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(memcachec_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o memcachec_la-memcachec.lo `test -f 'memcachec.c' || echo '$(srcdir)/'`memcachec.c
@@ -3964,12 +4156,19 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mic_la_CFLAGS) $(CFLAGS) -MT mic_la-mic.lo -MD -MP -MF $(DEPDIR)/mic_la-mic.Tpo -c -o mic_la-mic.lo `test -f 'mic.c' || echo '$(srcdir)/'`mic.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/mic_la-mic.Tpo $(DEPDIR)/mic_la-mic.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='mic.c' object='mic_la-mic.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mic_la_CFLAGS) $(CFLAGS) -c -o mic_la-mic.lo `test -f 'mic.c' || echo '$(srcdir)/'`mic.c
 
+mic_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mic_la_CFLAGS) $(CFLAGS) -MT mic_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/mic_la-utils_ignorelist.Tpo -c -o mic_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/mic_la-utils_ignorelist.Tpo $(DEPDIR)/mic_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='mic_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mic_la_CFLAGS) $(CFLAGS) -c -o mic_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 modbus_la-modbus.lo: modbus.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(modbus_la_CFLAGS) $(CFLAGS) -MT modbus_la-modbus.lo -MD -MP -MF $(DEPDIR)/modbus_la-modbus.Tpo -c -o modbus_la-modbus.lo `test -f 'modbus.c' || echo '$(srcdir)/'`modbus.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/modbus_la-modbus.Tpo $(DEPDIR)/modbus_la-modbus.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='modbus.c' object='modbus_la-modbus.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(modbus_la_CFLAGS) $(CFLAGS) -c -o modbus_la-modbus.lo `test -f 'modbus.c' || echo '$(srcdir)/'`modbus.c
@@ -3985,12 +4184,19 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(netapp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT netapp_la-netapp.lo -MD -MP -MF $(DEPDIR)/netapp_la-netapp.Tpo -c -o netapp_la-netapp.lo `test -f 'netapp.c' || echo '$(srcdir)/'`netapp.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/netapp_la-netapp.Tpo $(DEPDIR)/netapp_la-netapp.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='netapp.c' object='netapp_la-netapp.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(netapp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o netapp_la-netapp.lo `test -f 'netapp.c' || echo '$(srcdir)/'`netapp.c
 
+netapp_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(netapp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT netapp_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/netapp_la-utils_ignorelist.Tpo -c -o netapp_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/netapp_la-utils_ignorelist.Tpo $(DEPDIR)/netapp_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='netapp_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(netapp_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o netapp_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 netlink_la-netlink.lo: netlink.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -MT netlink_la-netlink.lo -MD -MP -MF $(DEPDIR)/netlink_la-netlink.Tpo -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/netlink_la-netlink.Tpo $(DEPDIR)/netlink_la-netlink.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='netlink.c' object='netlink_la-netlink.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c
@@ -4034,12 +4240,26 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(onewire_la_CPPFLAGS) $(CPPFLAGS) $(onewire_la_CFLAGS) $(CFLAGS) -MT onewire_la-onewire.lo -MD -MP -MF $(DEPDIR)/onewire_la-onewire.Tpo -c -o onewire_la-onewire.lo `test -f 'onewire.c' || echo '$(srcdir)/'`onewire.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/onewire_la-onewire.Tpo $(DEPDIR)/onewire_la-onewire.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='onewire.c' object='onewire_la-onewire.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(onewire_la_CPPFLAGS) $(CPPFLAGS) $(onewire_la_CFLAGS) $(CFLAGS) -c -o onewire_la-onewire.lo `test -f 'onewire.c' || echo '$(srcdir)/'`onewire.c
 
+onewire_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(onewire_la_CPPFLAGS) $(CPPFLAGS) $(onewire_la_CFLAGS) $(CFLAGS) -MT onewire_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/onewire_la-utils_ignorelist.Tpo -c -o onewire_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/onewire_la-utils_ignorelist.Tpo $(DEPDIR)/onewire_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='onewire_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(onewire_la_CPPFLAGS) $(CPPFLAGS) $(onewire_la_CFLAGS) $(CFLAGS) -c -o onewire_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
+openldap_la-openldap.lo: openldap.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(openldap_la_CFLAGS) $(CFLAGS) -MT openldap_la-openldap.lo -MD -MP -MF $(DEPDIR)/openldap_la-openldap.Tpo -c -o openldap_la-openldap.lo `test -f 'openldap.c' || echo '$(srcdir)/'`openldap.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/openldap_la-openldap.Tpo $(DEPDIR)/openldap_la-openldap.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='openldap.c' object='openldap_la-openldap.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(openldap_la_CFLAGS) $(CFLAGS) -c -o openldap_la-openldap.lo `test -f 'openldap.c' || echo '$(srcdir)/'`openldap.c
+
 openvpn_la-openvpn.lo: openvpn.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(openvpn_la_CFLAGS) $(CFLAGS) -MT openvpn_la-openvpn.lo -MD -MP -MF $(DEPDIR)/openvpn_la-openvpn.Tpo -c -o openvpn_la-openvpn.lo `test -f 'openvpn.c' || echo '$(srcdir)/'`openvpn.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/openvpn_la-openvpn.Tpo $(DEPDIR)/openvpn_la-openvpn.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='openvpn.c' object='openvpn_la-openvpn.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(openvpn_la_CFLAGS) $(CFLAGS) -c -o openvpn_la-openvpn.lo `test -f 'openvpn.c' || echo '$(srcdir)/'`openvpn.c
@@ -4153,19 +4373,40 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -MT sensors_la-sensors.lo -MD -MP -MF $(DEPDIR)/sensors_la-sensors.Tpo -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/sensors_la-sensors.Tpo $(DEPDIR)/sensors_la-sensors.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='sensors.c' object='sensors_la-sensors.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
 
+sensors_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -MT sensors_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/sensors_la-utils_ignorelist.Tpo -c -o sensors_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/sensors_la-utils_ignorelist.Tpo $(DEPDIR)/sensors_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='sensors_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -c -o sensors_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 sigrok_la-sigrok.lo: sigrok.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sigrok_la_CFLAGS) $(CFLAGS) -MT sigrok_la-sigrok.lo -MD -MP -MF $(DEPDIR)/sigrok_la-sigrok.Tpo -c -o sigrok_la-sigrok.lo `test -f 'sigrok.c' || echo '$(srcdir)/'`sigrok.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/sigrok_la-sigrok.Tpo $(DEPDIR)/sigrok_la-sigrok.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='sigrok.c' object='sigrok_la-sigrok.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sigrok_la_CFLAGS) $(CFLAGS) -c -o sigrok_la-sigrok.lo `test -f 'sigrok.c' || echo '$(srcdir)/'`sigrok.c
 
+smart_la-smart.lo: smart.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(smart_la_CFLAGS) $(CFLAGS) -MT smart_la-smart.lo -MD -MP -MF $(DEPDIR)/smart_la-smart.Tpo -c -o smart_la-smart.lo `test -f 'smart.c' || echo '$(srcdir)/'`smart.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/smart_la-smart.Tpo $(DEPDIR)/smart_la-smart.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='smart.c' object='smart_la-smart.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(smart_la_CFLAGS) $(CFLAGS) -c -o smart_la-smart.lo `test -f 'smart.c' || echo '$(srcdir)/'`smart.c
+
+smart_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(smart_la_CFLAGS) $(CFLAGS) -MT smart_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/smart_la-utils_ignorelist.Tpo -c -o smart_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/smart_la-utils_ignorelist.Tpo $(DEPDIR)/smart_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='smart_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(smart_la_CFLAGS) $(CFLAGS) -c -o smart_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 snmp_la-snmp.lo: snmp.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -MT snmp_la-snmp.lo -MD -MP -MF $(DEPDIR)/snmp_la-snmp.Tpo -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/snmp_la-snmp.Tpo $(DEPDIR)/snmp_la-snmp.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='snmp.c' object='snmp_la-snmp.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
@@ -4209,12 +4450,26 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(varnish_la_CFLAGS) $(CFLAGS) -MT varnish_la-varnish.lo -MD -MP -MF $(DEPDIR)/varnish_la-varnish.Tpo -c -o varnish_la-varnish.lo `test -f 'varnish.c' || echo '$(srcdir)/'`varnish.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/varnish_la-varnish.Tpo $(DEPDIR)/varnish_la-varnish.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='varnish.c' object='varnish_la-varnish.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(varnish_la_CFLAGS) $(CFLAGS) -c -o varnish_la-varnish.lo `test -f 'varnish.c' || echo '$(srcdir)/'`varnish.c
 
+virt_la-virt.lo: virt.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(virt_la_CFLAGS) $(CFLAGS) -MT virt_la-virt.lo -MD -MP -MF $(DEPDIR)/virt_la-virt.Tpo -c -o virt_la-virt.lo `test -f 'virt.c' || echo '$(srcdir)/'`virt.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/virt_la-virt.Tpo $(DEPDIR)/virt_la-virt.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='virt.c' object='virt_la-virt.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(virt_la_CFLAGS) $(CFLAGS) -c -o virt_la-virt.lo `test -f 'virt.c' || echo '$(srcdir)/'`virt.c
+
+virt_la-utils_ignorelist.lo: utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(virt_la_CFLAGS) $(CFLAGS) -MT virt_la-utils_ignorelist.lo -MD -MP -MF $(DEPDIR)/virt_la-utils_ignorelist.Tpo -c -o virt_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/virt_la-utils_ignorelist.Tpo $(DEPDIR)/virt_la-utils_ignorelist.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='virt_la-utils_ignorelist.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(virt_la_CFLAGS) $(CFLAGS) -c -o virt_la-utils_ignorelist.lo `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
 write_http_la-write_http.lo: write_http.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(write_http_la_CFLAGS) $(CFLAGS) -MT write_http_la-write_http.lo -MD -MP -MF $(DEPDIR)/write_http_la-write_http.Tpo -c -o write_http_la-write_http.lo `test -f 'write_http.c' || echo '$(srcdir)/'`write_http.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_http_la-write_http.Tpo $(DEPDIR)/write_http_la-write_http.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='write_http.c' object='write_http_la-write_http.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(write_http_la_CFLAGS) $(CFLAGS) -c -o write_http_la-write_http.lo `test -f 'write_http.c' || echo '$(srcdir)/'`write_http.c
@@ -4223,12 +4478,47 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(write_http_la_CFLAGS) $(CFLAGS) -MT write_http_la-utils_format_json.lo -MD -MP -MF $(DEPDIR)/write_http_la-utils_format_json.Tpo -c -o write_http_la-utils_format_json.lo `test -f 'utils_format_json.c' || echo '$(srcdir)/'`utils_format_json.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_http_la-utils_format_json.Tpo $(DEPDIR)/write_http_la-utils_format_json.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_format_json.c' object='write_http_la-utils_format_json.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(write_http_la_CFLAGS) $(CFLAGS) -c -o write_http_la-utils_format_json.lo `test -f 'utils_format_json.c' || echo '$(srcdir)/'`utils_format_json.c
 
+write_kafka_la-write_kafka.lo: write_kafka.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT write_kafka_la-write_kafka.lo -MD -MP -MF $(DEPDIR)/write_kafka_la-write_kafka.Tpo -c -o write_kafka_la-write_kafka.lo `test -f 'write_kafka.c' || echo '$(srcdir)/'`write_kafka.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_kafka_la-write_kafka.Tpo $(DEPDIR)/write_kafka_la-write_kafka.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='write_kafka.c' object='write_kafka_la-write_kafka.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o write_kafka_la-write_kafka.lo `test -f 'write_kafka.c' || echo '$(srcdir)/'`write_kafka.c
+
+write_kafka_la-utils_format_graphite.lo: utils_format_graphite.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT write_kafka_la-utils_format_graphite.lo -MD -MP -MF $(DEPDIR)/write_kafka_la-utils_format_graphite.Tpo -c -o write_kafka_la-utils_format_graphite.lo `test -f 'utils_format_graphite.c' || echo '$(srcdir)/'`utils_format_graphite.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_kafka_la-utils_format_graphite.Tpo $(DEPDIR)/write_kafka_la-utils_format_graphite.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_format_graphite.c' object='write_kafka_la-utils_format_graphite.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o write_kafka_la-utils_format_graphite.lo `test -f 'utils_format_graphite.c' || echo '$(srcdir)/'`utils_format_graphite.c
+
+write_kafka_la-utils_format_json.lo: utils_format_json.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT write_kafka_la-utils_format_json.lo -MD -MP -MF $(DEPDIR)/write_kafka_la-utils_format_json.Tpo -c -o write_kafka_la-utils_format_json.lo `test -f 'utils_format_json.c' || echo '$(srcdir)/'`utils_format_json.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_kafka_la-utils_format_json.Tpo $(DEPDIR)/write_kafka_la-utils_format_json.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_format_json.c' object='write_kafka_la-utils_format_json.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o write_kafka_la-utils_format_json.lo `test -f 'utils_format_json.c' || echo '$(srcdir)/'`utils_format_json.c
+
+write_kafka_la-utils_cmd_putval.lo: utils_cmd_putval.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT write_kafka_la-utils_cmd_putval.lo -MD -MP -MF $(DEPDIR)/write_kafka_la-utils_cmd_putval.Tpo -c -o write_kafka_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_kafka_la-utils_cmd_putval.Tpo $(DEPDIR)/write_kafka_la-utils_cmd_putval.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_cmd_putval.c' object='write_kafka_la-utils_cmd_putval.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o write_kafka_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
+
+write_kafka_la-utils_crc32.lo: utils_crc32.c
+@am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT write_kafka_la-utils_crc32.lo -MD -MP -MF $(DEPDIR)/write_kafka_la-utils_crc32.Tpo -c -o write_kafka_la-utils_crc32.lo `test -f 'utils_crc32.c' || echo '$(srcdir)/'`utils_crc32.c
+@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_kafka_la-utils_crc32.Tpo $(DEPDIR)/write_kafka_la-utils_crc32.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_crc32.c' object='write_kafka_la-utils_crc32.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_kafka_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o write_kafka_la-utils_crc32.lo `test -f 'utils_crc32.c' || echo '$(srcdir)/'`utils_crc32.c
+
 write_mongodb_la-write_mongodb.lo: write_mongodb.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_mongodb_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT write_mongodb_la-write_mongodb.lo -MD -MP -MF $(DEPDIR)/write_mongodb_la-write_mongodb.Tpo -c -o write_mongodb_la-write_mongodb.lo `test -f 'write_mongodb.c' || echo '$(srcdir)/'`write_mongodb.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/write_mongodb_la-write_mongodb.Tpo $(DEPDIR)/write_mongodb_la-write_mongodb.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='write_mongodb.c' object='write_mongodb_la-write_mongodb.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(write_mongodb_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o write_mongodb_la-write_mongodb.lo `test -f 'write_mongodb.c' || echo '$(srcdir)/'`write_mongodb.c
@@ -4251,292 +4541,12 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(zfs_arc_la_CFLAGS) $(CFLAGS) -MT zfs_arc_la-zfs_arc.lo -MD -MP -MF $(DEPDIR)/zfs_arc_la-zfs_arc.Tpo -c -o zfs_arc_la-zfs_arc.lo `test -f 'zfs_arc.c' || echo '$(srcdir)/'`zfs_arc.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/zfs_arc_la-zfs_arc.Tpo $(DEPDIR)/zfs_arc_la-zfs_arc.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='zfs_arc.c' object='zfs_arc_la-zfs_arc.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(zfs_arc_la_CFLAGS) $(CFLAGS) -c -o zfs_arc_la-zfs_arc.lo `test -f 'zfs_arc.c' || echo '$(srcdir)/'`zfs_arc.c
 
-collectd-collectd.o: collectd.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-collectd.o -MD -MP -MF $(DEPDIR)/collectd-collectd.Tpo -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-collectd.Tpo $(DEPDIR)/collectd-collectd.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='collectd.c' object='collectd-collectd.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c
-
-collectd-collectd.obj: collectd.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-collectd.obj -MD -MP -MF $(DEPDIR)/collectd-collectd.Tpo -c -o collectd-collectd.obj `if test -f 'collectd.c'; then $(CYGPATH_W) 'collectd.c'; else $(CYGPATH_W) '$(srcdir)/collectd.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-collectd.Tpo $(DEPDIR)/collectd-collectd.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='collectd.c' object='collectd-collectd.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-collectd.obj `if test -f 'collectd.c'; then $(CYGPATH_W) 'collectd.c'; else $(CYGPATH_W) '$(srcdir)/collectd.c'; fi`
-
-collectd-common.o: common.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-common.o -MD -MP -MF $(DEPDIR)/collectd-common.Tpo -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-common.Tpo $(DEPDIR)/collectd-common.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='common.c' object='collectd-common.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c
-
-collectd-common.obj: common.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-common.obj -MD -MP -MF $(DEPDIR)/collectd-common.Tpo -c -o collectd-common.obj `if test -f 'common.c'; then $(CYGPATH_W) 'common.c'; else $(CYGPATH_W) '$(srcdir)/common.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-common.Tpo $(DEPDIR)/collectd-common.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='common.c' object='collectd-common.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-common.obj `if test -f 'common.c'; then $(CYGPATH_W) 'common.c'; else $(CYGPATH_W) '$(srcdir)/common.c'; fi`
-
-collectd-configfile.o: configfile.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-configfile.o -MD -MP -MF $(DEPDIR)/collectd-configfile.Tpo -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-configfile.Tpo $(DEPDIR)/collectd-configfile.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='configfile.c' object='collectd-configfile.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c
-
-collectd-configfile.obj: configfile.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-configfile.obj -MD -MP -MF $(DEPDIR)/collectd-configfile.Tpo -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-configfile.Tpo $(DEPDIR)/collectd-configfile.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='configfile.c' object='collectd-configfile.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`
-
-collectd-filter_chain.o: filter_chain.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-filter_chain.o -MD -MP -MF $(DEPDIR)/collectd-filter_chain.Tpo -c -o collectd-filter_chain.o `test -f 'filter_chain.c' || echo '$(srcdir)/'`filter_chain.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-filter_chain.Tpo $(DEPDIR)/collectd-filter_chain.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='filter_chain.c' object='collectd-filter_chain.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-filter_chain.o `test -f 'filter_chain.c' || echo '$(srcdir)/'`filter_chain.c
-
-collectd-filter_chain.obj: filter_chain.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-filter_chain.obj -MD -MP -MF $(DEPDIR)/collectd-filter_chain.Tpo -c -o collectd-filter_chain.obj `if test -f 'filter_chain.c'; then $(CYGPATH_W) 'filter_chain.c'; else $(CYGPATH_W) '$(srcdir)/filter_chain.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-filter_chain.Tpo $(DEPDIR)/collectd-filter_chain.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='filter_chain.c' object='collectd-filter_chain.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-filter_chain.obj `if test -f 'filter_chain.c'; then $(CYGPATH_W) 'filter_chain.c'; else $(CYGPATH_W) '$(srcdir)/filter_chain.c'; fi`
-
-collectd-meta_data.o: meta_data.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-meta_data.o -MD -MP -MF $(DEPDIR)/collectd-meta_data.Tpo -c -o collectd-meta_data.o `test -f 'meta_data.c' || echo '$(srcdir)/'`meta_data.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-meta_data.Tpo $(DEPDIR)/collectd-meta_data.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='meta_data.c' object='collectd-meta_data.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-meta_data.o `test -f 'meta_data.c' || echo '$(srcdir)/'`meta_data.c
-
-collectd-meta_data.obj: meta_data.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-meta_data.obj -MD -MP -MF $(DEPDIR)/collectd-meta_data.Tpo -c -o collectd-meta_data.obj `if test -f 'meta_data.c'; then $(CYGPATH_W) 'meta_data.c'; else $(CYGPATH_W) '$(srcdir)/meta_data.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-meta_data.Tpo $(DEPDIR)/collectd-meta_data.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='meta_data.c' object='collectd-meta_data.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-meta_data.obj `if test -f 'meta_data.c'; then $(CYGPATH_W) 'meta_data.c'; else $(CYGPATH_W) '$(srcdir)/meta_data.c'; fi`
-
-collectd-plugin.o: plugin.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-plugin.o -MD -MP -MF $(DEPDIR)/collectd-plugin.Tpo -c -o collectd-plugin.o `test -f 'plugin.c' || echo '$(srcdir)/'`plugin.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-plugin.Tpo $(DEPDIR)/collectd-plugin.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='plugin.c' object='collectd-plugin.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-plugin.o `test -f 'plugin.c' || echo '$(srcdir)/'`plugin.c
-
-collectd-plugin.obj: plugin.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-plugin.obj -MD -MP -MF $(DEPDIR)/collectd-plugin.Tpo -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-plugin.Tpo $(DEPDIR)/collectd-plugin.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='plugin.c' object='collectd-plugin.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`
-
-collectd-utils_avltree.o: utils_avltree.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_avltree.o -MD -MP -MF $(DEPDIR)/collectd-utils_avltree.Tpo -c -o collectd-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_avltree.Tpo $(DEPDIR)/collectd-utils_avltree.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_avltree.c' object='collectd-utils_avltree.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
-
-collectd-utils_avltree.obj: utils_avltree.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_avltree.obj -MD -MP -MF $(DEPDIR)/collectd-utils_avltree.Tpo -c -o collectd-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_avltree.Tpo $(DEPDIR)/collectd-utils_avltree.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_avltree.c' object='collectd-utils_avltree.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
-
-collectd-utils_cache.o: utils_cache.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_cache.o -MD -MP -MF $(DEPDIR)/collectd-utils_cache.Tpo -c -o collectd-utils_cache.o `test -f 'utils_cache.c' || echo '$(srcdir)/'`utils_cache.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_cache.Tpo $(DEPDIR)/collectd-utils_cache.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_cache.c' object='collectd-utils_cache.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_cache.o `test -f 'utils_cache.c' || echo '$(srcdir)/'`utils_cache.c
-
-collectd-utils_cache.obj: utils_cache.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_cache.obj -MD -MP -MF $(DEPDIR)/collectd-utils_cache.Tpo -c -o collectd-utils_cache.obj `if test -f 'utils_cache.c'; then $(CYGPATH_W) 'utils_cache.c'; else $(CYGPATH_W) '$(srcdir)/utils_cache.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_cache.Tpo $(DEPDIR)/collectd-utils_cache.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_cache.c' object='collectd-utils_cache.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_cache.obj `if test -f 'utils_cache.c'; then $(CYGPATH_W) 'utils_cache.c'; else $(CYGPATH_W) '$(srcdir)/utils_cache.c'; fi`
-
-collectd-utils_complain.o: utils_complain.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_complain.o -MD -MP -MF $(DEPDIR)/collectd-utils_complain.Tpo -c -o collectd-utils_complain.o `test -f 'utils_complain.c' || echo '$(srcdir)/'`utils_complain.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_complain.Tpo $(DEPDIR)/collectd-utils_complain.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_complain.c' object='collectd-utils_complain.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_complain.o `test -f 'utils_complain.c' || echo '$(srcdir)/'`utils_complain.c
-
-collectd-utils_complain.obj: utils_complain.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_complain.obj -MD -MP -MF $(DEPDIR)/collectd-utils_complain.Tpo -c -o collectd-utils_complain.obj `if test -f 'utils_complain.c'; then $(CYGPATH_W) 'utils_complain.c'; else $(CYGPATH_W) '$(srcdir)/utils_complain.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_complain.Tpo $(DEPDIR)/collectd-utils_complain.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_complain.c' object='collectd-utils_complain.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_complain.obj `if test -f 'utils_complain.c'; then $(CYGPATH_W) 'utils_complain.c'; else $(CYGPATH_W) '$(srcdir)/utils_complain.c'; fi`
-
-collectd-utils_heap.o: utils_heap.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_heap.o -MD -MP -MF $(DEPDIR)/collectd-utils_heap.Tpo -c -o collectd-utils_heap.o `test -f 'utils_heap.c' || echo '$(srcdir)/'`utils_heap.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_heap.Tpo $(DEPDIR)/collectd-utils_heap.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_heap.c' object='collectd-utils_heap.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_heap.o `test -f 'utils_heap.c' || echo '$(srcdir)/'`utils_heap.c
-
-collectd-utils_heap.obj: utils_heap.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_heap.obj -MD -MP -MF $(DEPDIR)/collectd-utils_heap.Tpo -c -o collectd-utils_heap.obj `if test -f 'utils_heap.c'; then $(CYGPATH_W) 'utils_heap.c'; else $(CYGPATH_W) '$(srcdir)/utils_heap.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_heap.Tpo $(DEPDIR)/collectd-utils_heap.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_heap.c' object='collectd-utils_heap.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_heap.obj `if test -f 'utils_heap.c'; then $(CYGPATH_W) 'utils_heap.c'; else $(CYGPATH_W) '$(srcdir)/utils_heap.c'; fi`
-
-collectd-utils_ignorelist.o: utils_ignorelist.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.o -MD -MP -MF $(DEPDIR)/collectd-utils_ignorelist.Tpo -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_ignorelist.Tpo $(DEPDIR)/collectd-utils_ignorelist.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='collectd-utils_ignorelist.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
-
-collectd-utils_ignorelist.obj: utils_ignorelist.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.obj -MD -MP -MF $(DEPDIR)/collectd-utils_ignorelist.Tpo -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_ignorelist.Tpo $(DEPDIR)/collectd-utils_ignorelist.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_ignorelist.c' object='collectd-utils_ignorelist.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`
-
-collectd-utils_llist.o: utils_llist.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.o -MD -MP -MF $(DEPDIR)/collectd-utils_llist.Tpo -c -o collectd-utils_llist.o `test -f 'utils_llist.c' || echo '$(srcdir)/'`utils_llist.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_llist.Tpo $(DEPDIR)/collectd-utils_llist.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_llist.c' object='collectd-utils_llist.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.o `test -f 'utils_llist.c' || echo '$(srcdir)/'`utils_llist.c
-
-collectd-utils_llist.obj: utils_llist.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.obj -MD -MP -MF $(DEPDIR)/collectd-utils_llist.Tpo -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_llist.Tpo $(DEPDIR)/collectd-utils_llist.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_llist.c' object='collectd-utils_llist.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
-
-collectd-utils_parse_option.o: utils_parse_option.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_parse_option.o -MD -MP -MF $(DEPDIR)/collectd-utils_parse_option.Tpo -c -o collectd-utils_parse_option.o `test -f 'utils_parse_option.c' || echo '$(srcdir)/'`utils_parse_option.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_parse_option.Tpo $(DEPDIR)/collectd-utils_parse_option.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_parse_option.c' object='collectd-utils_parse_option.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_parse_option.o `test -f 'utils_parse_option.c' || echo '$(srcdir)/'`utils_parse_option.c
-
-collectd-utils_parse_option.obj: utils_parse_option.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_parse_option.obj -MD -MP -MF $(DEPDIR)/collectd-utils_parse_option.Tpo -c -o collectd-utils_parse_option.obj `if test -f 'utils_parse_option.c'; then $(CYGPATH_W) 'utils_parse_option.c'; else $(CYGPATH_W) '$(srcdir)/utils_parse_option.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_parse_option.Tpo $(DEPDIR)/collectd-utils_parse_option.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_parse_option.c' object='collectd-utils_parse_option.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_parse_option.obj `if test -f 'utils_parse_option.c'; then $(CYGPATH_W) 'utils_parse_option.c'; else $(CYGPATH_W) '$(srcdir)/utils_parse_option.c'; fi`
-
-collectd-utils_random.o: utils_random.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_random.o -MD -MP -MF $(DEPDIR)/collectd-utils_random.Tpo -c -o collectd-utils_random.o `test -f 'utils_random.c' || echo '$(srcdir)/'`utils_random.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_random.Tpo $(DEPDIR)/collectd-utils_random.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_random.c' object='collectd-utils_random.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_random.o `test -f 'utils_random.c' || echo '$(srcdir)/'`utils_random.c
-
-collectd-utils_random.obj: utils_random.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_random.obj -MD -MP -MF $(DEPDIR)/collectd-utils_random.Tpo -c -o collectd-utils_random.obj `if test -f 'utils_random.c'; then $(CYGPATH_W) 'utils_random.c'; else $(CYGPATH_W) '$(srcdir)/utils_random.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_random.Tpo $(DEPDIR)/collectd-utils_random.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_random.c' object='collectd-utils_random.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_random.obj `if test -f 'utils_random.c'; then $(CYGPATH_W) 'utils_random.c'; else $(CYGPATH_W) '$(srcdir)/utils_random.c'; fi`
-
-collectd-utils_tail_match.o: utils_tail_match.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail_match.o -MD -MP -MF $(DEPDIR)/collectd-utils_tail_match.Tpo -c -o collectd-utils_tail_match.o `test -f 'utils_tail_match.c' || echo '$(srcdir)/'`utils_tail_match.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_tail_match.Tpo $(DEPDIR)/collectd-utils_tail_match.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_tail_match.c' object='collectd-utils_tail_match.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail_match.o `test -f 'utils_tail_match.c' || echo '$(srcdir)/'`utils_tail_match.c
-
-collectd-utils_tail_match.obj: utils_tail_match.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail_match.obj -MD -MP -MF $(DEPDIR)/collectd-utils_tail_match.Tpo -c -o collectd-utils_tail_match.obj `if test -f 'utils_tail_match.c'; then $(CYGPATH_W) 'utils_tail_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail_match.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_tail_match.Tpo $(DEPDIR)/collectd-utils_tail_match.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_tail_match.c' object='collectd-utils_tail_match.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail_match.obj `if test -f 'utils_tail_match.c'; then $(CYGPATH_W) 'utils_tail_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail_match.c'; fi`
-
-collectd-utils_match.o: utils_match.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_match.o -MD -MP -MF $(DEPDIR)/collectd-utils_match.Tpo -c -o collectd-utils_match.o `test -f 'utils_match.c' || echo '$(srcdir)/'`utils_match.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_match.Tpo $(DEPDIR)/collectd-utils_match.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_match.c' object='collectd-utils_match.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_match.o `test -f 'utils_match.c' || echo '$(srcdir)/'`utils_match.c
-
-collectd-utils_match.obj: utils_match.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_match.obj -MD -MP -MF $(DEPDIR)/collectd-utils_match.Tpo -c -o collectd-utils_match.obj `if test -f 'utils_match.c'; then $(CYGPATH_W) 'utils_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_match.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_match.Tpo $(DEPDIR)/collectd-utils_match.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_match.c' object='collectd-utils_match.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_match.obj `if test -f 'utils_match.c'; then $(CYGPATH_W) 'utils_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_match.c'; fi`
-
-collectd-utils_subst.o: utils_subst.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_subst.o -MD -MP -MF $(DEPDIR)/collectd-utils_subst.Tpo -c -o collectd-utils_subst.o `test -f 'utils_subst.c' || echo '$(srcdir)/'`utils_subst.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_subst.Tpo $(DEPDIR)/collectd-utils_subst.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_subst.c' object='collectd-utils_subst.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_subst.o `test -f 'utils_subst.c' || echo '$(srcdir)/'`utils_subst.c
-
-collectd-utils_subst.obj: utils_subst.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_subst.obj -MD -MP -MF $(DEPDIR)/collectd-utils_subst.Tpo -c -o collectd-utils_subst.obj `if test -f 'utils_subst.c'; then $(CYGPATH_W) 'utils_subst.c'; else $(CYGPATH_W) '$(srcdir)/utils_subst.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_subst.Tpo $(DEPDIR)/collectd-utils_subst.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_subst.c' object='collectd-utils_subst.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_subst.obj `if test -f 'utils_subst.c'; then $(CYGPATH_W) 'utils_subst.c'; else $(CYGPATH_W) '$(srcdir)/utils_subst.c'; fi`
-
-collectd-utils_tail.o: utils_tail.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail.o -MD -MP -MF $(DEPDIR)/collectd-utils_tail.Tpo -c -o collectd-utils_tail.o `test -f 'utils_tail.c' || echo '$(srcdir)/'`utils_tail.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_tail.Tpo $(DEPDIR)/collectd-utils_tail.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_tail.c' object='collectd-utils_tail.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail.o `test -f 'utils_tail.c' || echo '$(srcdir)/'`utils_tail.c
-
-collectd-utils_tail.obj: utils_tail.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail.obj -MD -MP -MF $(DEPDIR)/collectd-utils_tail.Tpo -c -o collectd-utils_tail.obj `if test -f 'utils_tail.c'; then $(CYGPATH_W) 'utils_tail.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_tail.Tpo $(DEPDIR)/collectd-utils_tail.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_tail.c' object='collectd-utils_tail.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail.obj `if test -f 'utils_tail.c'; then $(CYGPATH_W) 'utils_tail.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail.c'; fi`
-
-collectd-utils_time.o: utils_time.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_time.o -MD -MP -MF $(DEPDIR)/collectd-utils_time.Tpo -c -o collectd-utils_time.o `test -f 'utils_time.c' || echo '$(srcdir)/'`utils_time.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_time.Tpo $(DEPDIR)/collectd-utils_time.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_time.c' object='collectd-utils_time.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_time.o `test -f 'utils_time.c' || echo '$(srcdir)/'`utils_time.c
-
-collectd-utils_time.obj: utils_time.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_time.obj -MD -MP -MF $(DEPDIR)/collectd-utils_time.Tpo -c -o collectd-utils_time.obj `if test -f 'utils_time.c'; then $(CYGPATH_W) 'utils_time.c'; else $(CYGPATH_W) '$(srcdir)/utils_time.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-utils_time.Tpo $(DEPDIR)/collectd-utils_time.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_time.c' object='collectd-utils_time.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_time.obj `if test -f 'utils_time.c'; then $(CYGPATH_W) 'utils_time.c'; else $(CYGPATH_W) '$(srcdir)/utils_time.c'; fi`
-
-collectd-types_list.o: types_list.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-types_list.o -MD -MP -MF $(DEPDIR)/collectd-types_list.Tpo -c -o collectd-types_list.o `test -f 'types_list.c' || echo '$(srcdir)/'`types_list.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-types_list.Tpo $(DEPDIR)/collectd-types_list.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='types_list.c' object='collectd-types_list.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-types_list.o `test -f 'types_list.c' || echo '$(srcdir)/'`types_list.c
-
-collectd-types_list.obj: types_list.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-types_list.obj -MD -MP -MF $(DEPDIR)/collectd-types_list.Tpo -c -o collectd-types_list.obj `if test -f 'types_list.c'; then $(CYGPATH_W) 'types_list.c'; else $(CYGPATH_W) '$(srcdir)/types_list.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd-types_list.Tpo $(DEPDIR)/collectd-types_list.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='types_list.c' object='collectd-types_list.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-types_list.obj `if test -f 'types_list.c'; then $(CYGPATH_W) 'types_list.c'; else $(CYGPATH_W) '$(srcdir)/types_list.c'; fi`
-
 collectd_nagios-collectd-nagios.o: collectd-nagios.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_nagios_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd_nagios-collectd-nagios.o -MD -MP -MF $(DEPDIR)/collectd_nagios-collectd-nagios.Tpo -c -o collectd_nagios-collectd-nagios.o `test -f 'collectd-nagios.c' || echo '$(srcdir)/'`collectd-nagios.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd_nagios-collectd-nagios.Tpo $(DEPDIR)/collectd_nagios-collectd-nagios.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='collectd-nagios.c' object='collectd_nagios-collectd-nagios.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_nagios_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd_nagios-collectd-nagios.o `test -f 'collectd-nagios.c' || echo '$(srcdir)/'`collectd-nagios.c
@@ -4559,26 +4569,12 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_tg_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd_tg-collectd-tg.obj -MD -MP -MF $(DEPDIR)/collectd_tg-collectd-tg.Tpo -c -o collectd_tg-collectd-tg.obj `if test -f 'collectd-tg.c'; then $(CYGPATH_W) 'collectd-tg.c'; else $(CYGPATH_W) '$(srcdir)/collectd-tg.c'; fi`
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd_tg-collectd-tg.Tpo $(DEPDIR)/collectd_tg-collectd-tg.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='collectd-tg.c' object='collectd_tg-collectd-tg.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_tg_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd_tg-collectd-tg.obj `if test -f 'collectd-tg.c'; then $(CYGPATH_W) 'collectd-tg.c'; else $(CYGPATH_W) '$(srcdir)/collectd-tg.c'; fi`
 
-collectd_tg-utils_heap.o: utils_heap.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_tg_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd_tg-utils_heap.o -MD -MP -MF $(DEPDIR)/collectd_tg-utils_heap.Tpo -c -o collectd_tg-utils_heap.o `test -f 'utils_heap.c' || echo '$(srcdir)/'`utils_heap.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd_tg-utils_heap.Tpo $(DEPDIR)/collectd_tg-utils_heap.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_heap.c' object='collectd_tg-utils_heap.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_tg_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd_tg-utils_heap.o `test -f 'utils_heap.c' || echo '$(srcdir)/'`utils_heap.c
-
-collectd_tg-utils_heap.obj: utils_heap.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_tg_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd_tg-utils_heap.obj -MD -MP -MF $(DEPDIR)/collectd_tg-utils_heap.Tpo -c -o collectd_tg-utils_heap.obj `if test -f 'utils_heap.c'; then $(CYGPATH_W) 'utils_heap.c'; else $(CYGPATH_W) '$(srcdir)/utils_heap.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectd_tg-utils_heap.Tpo $(DEPDIR)/collectd_tg-utils_heap.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_heap.c' object='collectd_tg-utils_heap.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_tg_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd_tg-utils_heap.obj `if test -f 'utils_heap.c'; then $(CYGPATH_W) 'utils_heap.c'; else $(CYGPATH_W) '$(srcdir)/utils_heap.c'; fi`
-
 collectdctl-collectdctl.o: collectdctl.c
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdctl_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectdctl-collectdctl.o -MD -MP -MF $(DEPDIR)/collectdctl-collectdctl.Tpo -c -o collectdctl-collectdctl.o `test -f 'collectdctl.c' || echo '$(srcdir)/'`collectdctl.c
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectdctl-collectdctl.Tpo $(DEPDIR)/collectdctl-collectdctl.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='collectdctl.c' object='collectdctl-collectdctl.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdctl_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectdctl-collectdctl.o `test -f 'collectdctl.c' || echo '$(srcdir)/'`collectdctl.c
@@ -4601,54 +4597,12 @@
 @am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdmon_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectdmon-collectdmon.obj -MD -MP -MF $(DEPDIR)/collectdmon-collectdmon.Tpo -c -o collectdmon-collectdmon.obj `if test -f 'collectdmon.c'; then $(CYGPATH_W) 'collectdmon.c'; else $(CYGPATH_W) '$(srcdir)/collectdmon.c'; fi`
 @am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/collectdmon-collectdmon.Tpo $(DEPDIR)/collectdmon-collectdmon.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='collectdmon.c' object='collectdmon-collectdmon.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectdmon_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectdmon-collectdmon.obj `if test -f 'collectdmon.c'; then $(CYGPATH_W) 'collectdmon.c'; else $(CYGPATH_W) '$(srcdir)/collectdmon.c'; fi`
 
-utils_vl_lookup_test-utils_vl_lookup_test.o: utils_vl_lookup_test.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -MT utils_vl_lookup_test-utils_vl_lookup_test.o -MD -MP -MF $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Tpo -c -o utils_vl_lookup_test-utils_vl_lookup_test.o `test -f 'utils_vl_lookup_test.c' || echo '$(srcdir)/'`utils_vl_lookup_test.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Tpo $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_vl_lookup_test.c' object='utils_vl_lookup_test-utils_vl_lookup_test.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -c -o utils_vl_lookup_test-utils_vl_lookup_test.o `test -f 'utils_vl_lookup_test.c' || echo '$(srcdir)/'`utils_vl_lookup_test.c
-
-utils_vl_lookup_test-utils_vl_lookup_test.obj: utils_vl_lookup_test.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -MT utils_vl_lookup_test-utils_vl_lookup_test.obj -MD -MP -MF $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Tpo -c -o utils_vl_lookup_test-utils_vl_lookup_test.obj `if test -f 'utils_vl_lookup_test.c'; then $(CYGPATH_W) 'utils_vl_lookup_test.c'; else $(CYGPATH_W) '$(srcdir)/utils_vl_lookup_test.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Tpo $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup_test.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_vl_lookup_test.c' object='utils_vl_lookup_test-utils_vl_lookup_test.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -c -o utils_vl_lookup_test-utils_vl_lookup_test.obj `if test -f 'utils_vl_lookup_test.c'; then $(CYGPATH_W) 'utils_vl_lookup_test.c'; else $(CYGPATH_W) '$(srcdir)/utils_vl_lookup_test.c'; fi`
-
-utils_vl_lookup_test-utils_vl_lookup.o: utils_vl_lookup.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -MT utils_vl_lookup_test-utils_vl_lookup.o -MD -MP -MF $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Tpo -c -o utils_vl_lookup_test-utils_vl_lookup.o `test -f 'utils_vl_lookup.c' || echo '$(srcdir)/'`utils_vl_lookup.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Tpo $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_vl_lookup.c' object='utils_vl_lookup_test-utils_vl_lookup.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -c -o utils_vl_lookup_test-utils_vl_lookup.o `test -f 'utils_vl_lookup.c' || echo '$(srcdir)/'`utils_vl_lookup.c
-
-utils_vl_lookup_test-utils_vl_lookup.obj: utils_vl_lookup.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -MT utils_vl_lookup_test-utils_vl_lookup.obj -MD -MP -MF $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Tpo -c -o utils_vl_lookup_test-utils_vl_lookup.obj `if test -f 'utils_vl_lookup.c'; then $(CYGPATH_W) 'utils_vl_lookup.c'; else $(CYGPATH_W) '$(srcdir)/utils_vl_lookup.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Tpo $(DEPDIR)/utils_vl_lookup_test-utils_vl_lookup.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_vl_lookup.c' object='utils_vl_lookup_test-utils_vl_lookup.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -c -o utils_vl_lookup_test-utils_vl_lookup.obj `if test -f 'utils_vl_lookup.c'; then $(CYGPATH_W) 'utils_vl_lookup.c'; else $(CYGPATH_W) '$(srcdir)/utils_vl_lookup.c'; fi`
-
-utils_vl_lookup_test-utils_avltree.o: utils_avltree.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -MT utils_vl_lookup_test-utils_avltree.o -MD -MP -MF $(DEPDIR)/utils_vl_lookup_test-utils_avltree.Tpo -c -o utils_vl_lookup_test-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/utils_vl_lookup_test-utils_avltree.Tpo $(DEPDIR)/utils_vl_lookup_test-utils_avltree.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_avltree.c' object='utils_vl_lookup_test-utils_avltree.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -c -o utils_vl_lookup_test-utils_avltree.o `test -f 'utils_avltree.c' || echo '$(srcdir)/'`utils_avltree.c
-
-utils_vl_lookup_test-utils_avltree.obj: utils_avltree.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -MT utils_vl_lookup_test-utils_avltree.obj -MD -MP -MF $(DEPDIR)/utils_vl_lookup_test-utils_avltree.Tpo -c -o utils_vl_lookup_test-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/utils_vl_lookup_test-utils_avltree.Tpo $(DEPDIR)/utils_vl_lookup_test-utils_avltree.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='utils_avltree.c' object='utils_vl_lookup_test-utils_avltree.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(utils_vl_lookup_test_CPPFLAGS) $(CPPFLAGS) $(utils_vl_lookup_test_CFLAGS) $(CFLAGS) -c -o utils_vl_lookup_test-utils_avltree.obj `if test -f 'utils_avltree.c'; then $(CYGPATH_W) 'utils_avltree.c'; else $(CYGPATH_W) '$(srcdir)/utils_avltree.c'; fi`
-
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
 install-man1: $(dist_man_MANS)
@@ -4834,12 +4788,182 @@
 	  fi; \
 	done >> $(top_builddir)/cscope.files
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 
+# Recover from deleted '.trs' file; this should ensure that
+# "rm -f foo.log; make foo.trs" re-run 'foo.test', and re-create
+# both 'foo.log' and 'foo.trs'.  Break the recipe in two subshells
+# to avoid problems with "make -n".
+.log.trs:
+	rm -f $< $@
+	$(MAKE) $(AM_MAKEFLAGS) $<
+
+# Leading 'am--fnord' is there to ensure the list of targets does not
+# expand to empty, as could happen e.g. with make check TESTS=''.
+am--fnord $(TEST_LOGS) $(TEST_LOGS:.log=.trs): $(am__force_recheck)
+am--force-recheck:
+	@:
+
+$(TEST_SUITE_LOG): $(TEST_LOGS)
+	@$(am__set_TESTS_bases); \
+	am__f_ok () { test -f "$$1" && test -r "$$1"; }; \
+	redo_bases=`for i in $$bases; do \
+	              am__f_ok $$i.trs && am__f_ok $$i.log || echo $$i; \
+	            done`; \
+	if test -n "$$redo_bases"; then \
+	  redo_logs=`for i in $$redo_bases; do echo $$i.log; done`; \
+	  redo_results=`for i in $$redo_bases; do echo $$i.trs; done`; \
+	  if $(am__make_dryrun); then :; else \
+	    rm -f $$redo_logs && rm -f $$redo_results || exit 1; \
+	  fi; \
+	fi; \
+	if test -n "$$am__remaking_logs"; then \
+	  echo "fatal: making $(TEST_SUITE_LOG): possible infinite" \
+	       "recursion detected" >&2; \
+	else \
+	  am__remaking_logs=yes $(MAKE) $(AM_MAKEFLAGS) $$redo_logs; \
+	fi; \
+	if $(am__make_dryrun); then :; else \
+	  st=0;  \
+	  errmsg="fatal: making $(TEST_SUITE_LOG): failed to create"; \
+	  for i in $$redo_bases; do \
+	    test -f $$i.trs && test -r $$i.trs \
+	      || { echo "$$errmsg $$i.trs" >&2; st=1; }; \
+	    test -f $$i.log && test -r $$i.log \
+	      || { echo "$$errmsg $$i.log" >&2; st=1; }; \
+	  done; \
+	  test $$st -eq 0 || exit 1; \
+	fi
+	@$(am__sh_e_setup); $(am__tty_colors); $(am__set_TESTS_bases); \
+	ws='[ 	]'; \
+	results=`for b in $$bases; do echo $$b.trs; done`; \
+	test -n "$$results" || results=/dev/null; \
+	all=`  grep "^$$ws*:test-result:"           $$results | wc -l`; \
+	pass=` grep "^$$ws*:test-result:$$ws*PASS"  $$results | wc -l`; \
+	fail=` grep "^$$ws*:test-result:$$ws*FAIL"  $$results | wc -l`; \
+	skip=` grep "^$$ws*:test-result:$$ws*SKIP"  $$results | wc -l`; \
+	xfail=`grep "^$$ws*:test-result:$$ws*XFAIL" $$results | wc -l`; \
+	xpass=`grep "^$$ws*:test-result:$$ws*XPASS" $$results | wc -l`; \
+	error=`grep "^$$ws*:test-result:$$ws*ERROR" $$results | wc -l`; \
+	if test `expr $$fail + $$xpass + $$error` -eq 0; then \
+	  success=true; \
+	else \
+	  success=false; \
+	fi; \
+	br='==================='; br=$$br$$br$$br$$br; \
+	result_count () \
+	{ \
+	    if test x"$$1" = x"--maybe-color"; then \
+	      maybe_colorize=yes; \
+	    elif test x"$$1" = x"--no-color"; then \
+	      maybe_colorize=no; \
+	    else \
+	      echo "$@: invalid 'result_count' usage" >&2; exit 4; \
+	    fi; \
+	    shift; \
+	    desc=$$1 count=$$2; \
+	    if test $$maybe_colorize = yes && test $$count -gt 0; then \
+	      color_start=$$3 color_end=$$std; \
+	    else \
+	      color_start= color_end=; \
+	    fi; \
+	    echo "$${color_start}# $$desc $$count$${color_end}"; \
+	}; \
+	create_testsuite_report () \
+	{ \
+	  result_count $$1 "TOTAL:" $$all   "$$brg"; \
+	  result_count $$1 "PASS: " $$pass  "$$grn"; \
+	  result_count $$1 "SKIP: " $$skip  "$$blu"; \
+	  result_count $$1 "XFAIL:" $$xfail "$$lgn"; \
+	  result_count $$1 "FAIL: " $$fail  "$$red"; \
+	  result_count $$1 "XPASS:" $$xpass "$$red"; \
+	  result_count $$1 "ERROR:" $$error "$$mgn"; \
+	}; \
+	{								\
+	  echo "$(PACKAGE_STRING): $(subdir)/$(TEST_SUITE_LOG)" |	\
+	    $(am__rst_title);						\
+	  create_testsuite_report --no-color;				\
+	  echo;								\
+	  echo ".. contents:: :depth: 2";				\
+	  echo;								\
+	  for b in $$bases; do echo $$b; done				\
+	    | $(am__create_global_log);					\
+	} >$(TEST_SUITE_LOG).tmp || exit 1;				\
+	mv $(TEST_SUITE_LOG).tmp $(TEST_SUITE_LOG);			\
+	if $$success; then						\
+	  col="$$grn";							\
+	 else								\
+	  col="$$red";							\
+	  test x"$$VERBOSE" = x || cat $(TEST_SUITE_LOG);		\
+	fi;								\
+	echo "$${col}$$br$${std}"; 					\
+	echo "$${col}Testsuite summary for $(PACKAGE_STRING)$${std}";	\
+	echo "$${col}$$br$${std}"; 					\
+	create_testsuite_report --maybe-color;				\
+	echo "$$col$$br$$std";						\
+	if $$success; then :; else					\
+	  echo "$${col}See $(subdir)/$(TEST_SUITE_LOG)$${std}";		\
+	  if test -n "$(PACKAGE_BUGREPORT)"; then			\
+	    echo "$${col}Please report to $(PACKAGE_BUGREPORT)$${std}";	\
+	  fi;								\
+	  echo "$$col$$br$$std";					\
+	fi;								\
+	$$success || exit 1
+
+check-TESTS:
+	@list='$(RECHECK_LOGS)';           test -z "$$list" || rm -f $$list
+	@list='$(RECHECK_LOGS:.log=.trs)'; test -z "$$list" || rm -f $$list
+	@test -z "$(TEST_SUITE_LOG)" || rm -f $(TEST_SUITE_LOG)
+	@set +e; $(am__set_TESTS_bases); \
+	log_list=`for i in $$bases; do echo $$i.log; done`; \
+	trs_list=`for i in $$bases; do echo $$i.trs; done`; \
+	log_list=`echo $$log_list`; trs_list=`echo $$trs_list`; \
+	$(MAKE) $(AM_MAKEFLAGS) $(TEST_SUITE_LOG) TEST_LOGS="$$log_list"; \
+	exit $$?;
+recheck: all $(check_PROGRAMS)
+	@test -z "$(TEST_SUITE_LOG)" || rm -f $(TEST_SUITE_LOG)
+	@set +e; $(am__set_TESTS_bases); \
+	bases=`for i in $$bases; do echo $$i; done \
+	         | $(am__list_recheck_tests)` || exit 1; \
+	log_list=`for i in $$bases; do echo $$i.log; done`; \
+	log_list=`echo $$log_list`; \
+	$(MAKE) $(AM_MAKEFLAGS) $(TEST_SUITE_LOG) \
+	        am__force_recheck=am--force-recheck \
+	        TEST_LOGS="$$log_list"; \
+	exit $$?
+test_utils_mount.log: test_utils_mount$(EXEEXT)
+	@p='test_utils_mount$(EXEEXT)'; \
+	b='test_utils_mount'; \
+	$(am__check_pre) $(LOG_DRIVER) --test-name "$$f" \
+	--log-file $$b.log --trs-file $$b.trs \
+	$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \
+	"$$tst" $(AM_TESTS_FD_REDIRECT)
+test_utils_vl_lookup.log: test_utils_vl_lookup$(EXEEXT)
+	@p='test_utils_vl_lookup$(EXEEXT)'; \
+	b='test_utils_vl_lookup'; \
+	$(am__check_pre) $(LOG_DRIVER) --test-name "$$f" \
+	--log-file $$b.log --trs-file $$b.trs \
+	$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \
+	"$$tst" $(AM_TESTS_FD_REDIRECT)
+.test.log:
+	@p='$<'; \
+	$(am__set_b); \
+	$(am__check_pre) $(TEST_LOG_DRIVER) --test-name "$$f" \
+	--log-file $$b.log --trs-file $$b.trs \
+	$(am__common_driver_flags) $(AM_TEST_LOG_DRIVER_FLAGS) $(TEST_LOG_DRIVER_FLAGS) -- $(TEST_LOG_COMPILE) \
+	"$$tst" $(AM_TESTS_FD_REDIRECT)
+@am__EXEEXT_TRUE@.test$(EXEEXT).log:
+@am__EXEEXT_TRUE@	@p='$<'; \
+@am__EXEEXT_TRUE@	$(am__set_b); \
+@am__EXEEXT_TRUE@	$(am__check_pre) $(TEST_LOG_DRIVER) --test-name "$$f" \
+@am__EXEEXT_TRUE@	--log-file $$b.log --trs-file $$b.trs \
+@am__EXEEXT_TRUE@	$(am__common_driver_flags) $(AM_TEST_LOG_DRIVER_FLAGS) $(TEST_LOG_DRIVER_FLAGS) -- $(TEST_LOG_COMPILE) \
+@am__EXEEXT_TRUE@	"$$tst" $(AM_TESTS_FD_REDIRECT)
+
 distdir: $(DISTFILES)
 	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
 	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
 	list='$(DISTFILES)'; \
 	  dist_files=`for file in $$list; do echo $$file; done | \
 	  sed -e "s|^$$srcdirstrip/||;t" \
@@ -4890,12 +5014,14 @@
 		am__skip_mode_fix=: \
 	        distdir) \
 	      || exit 1; \
 	  fi; \
 	done
 check-am: all-am
+	$(MAKE) $(AM_MAKEFLAGS) $(check_PROGRAMS)
+	$(MAKE) $(AM_MAKEFLAGS) check-TESTS
 check: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) check-recursive
 all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) $(MANS) config.h
 installdirs: installdirs-recursive
 installdirs-am:
 	for dir in "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(bindir)" "$(DESTDIR)$(sbindir)" "$(DESTDIR)$(man1dir)" "$(DESTDIR)$(man5dir)"; do \
@@ -4919,12 +5045,15 @@
 	else \
 	  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
 	    install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
 	    "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'" install; \
 	fi
 mostlyclean-generic:
+	-test -z "$(TEST_LOGS)" || rm -f $(TEST_LOGS)
+	-test -z "$(TEST_LOGS:.log=.trs)" || rm -f $(TEST_LOGS:.log=.trs)
+	-test -z "$(TEST_SUITE_LOG)" || rm -f $(TEST_SUITE_LOG)
 
 clean-generic:
 	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)
 
 distclean-generic:
 	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
@@ -4933,14 +5062,15 @@
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
 	@echo "it deletes files that may require special tools to rebuild."
 	-test -z "$(BUILT_SOURCES)" || rm -f $(BUILT_SOURCES)
 clean: clean-recursive
 
-clean-am: clean-binPROGRAMS clean-generic clean-libtool \
-	clean-pkglibLTLIBRARIES clean-sbinPROGRAMS mostlyclean-am
+clean-am: clean-binPROGRAMS clean-checkPROGRAMS clean-generic \
+	clean-libtool clean-noinstLTLIBRARIES clean-pkglibLTLIBRARIES \
+	clean-sbinPROGRAMS mostlyclean-am
 
 distclean: distclean-recursive
 	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
 distclean-am: clean-am distclean-compile distclean-generic \
 	distclean-hdr distclean-tags
@@ -5008,33 +5138,36 @@
 uninstall-am: uninstall-binPROGRAMS uninstall-man \
 	uninstall-pkglibLTLIBRARIES uninstall-sbinPROGRAMS
 	@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) uninstall-hook
 uninstall-man: uninstall-man1 uninstall-man5
 
-.MAKE: $(am__recursive_targets) all check install install-am \
+.MAKE: $(am__recursive_targets) all check check-am install install-am \
 	install-exec-am install-strip uninstall-am
 
 .PHONY: $(am__recursive_targets) CTAGS GTAGS TAGS all all-am check \
-	check-am clean clean-binPROGRAMS clean-generic clean-libtool \
-	clean-pkglibLTLIBRARIES clean-sbinPROGRAMS cscopelist-am ctags \
-	ctags-am distclean distclean-compile distclean-generic \
-	distclean-hdr distclean-libtool distclean-tags distdir dvi \
-	dvi-am html html-am info info-am install install-am \
-	install-binPROGRAMS install-data install-data-am install-dvi \
-	install-dvi-am install-exec install-exec-am install-exec-hook \
-	install-html install-html-am install-info install-info-am \
-	install-man install-man1 install-man5 install-pdf \
-	install-pdf-am install-pkglibLTLIBRARIES install-ps \
-	install-ps-am install-sbinPROGRAMS install-strip installcheck \
+	check-TESTS check-am clean clean-binPROGRAMS \
+	clean-checkPROGRAMS clean-generic clean-libtool \
+	clean-noinstLTLIBRARIES clean-pkglibLTLIBRARIES \
+	clean-sbinPROGRAMS cscopelist-am ctags ctags-am distclean \
+	distclean-compile distclean-generic distclean-hdr \
+	distclean-libtool distclean-tags distdir dvi dvi-am html \
+	html-am info info-am install install-am install-binPROGRAMS \
+	install-data install-data-am install-dvi install-dvi-am \
+	install-exec install-exec-am install-exec-hook install-html \
+	install-html-am install-info install-info-am install-man \
+	install-man1 install-man5 install-pdf install-pdf-am \
+	install-pkglibLTLIBRARIES install-ps install-ps-am \
+	install-sbinPROGRAMS install-strip installcheck \
 	installcheck-am installdirs installdirs-am maintainer-clean \
 	maintainer-clean-generic mostlyclean mostlyclean-compile \
 	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
-	tags tags-am uninstall uninstall-am uninstall-binPROGRAMS \
-	uninstall-hook uninstall-man uninstall-man1 uninstall-man5 \
-	uninstall-pkglibLTLIBRARIES uninstall-sbinPROGRAMS
+	recheck tags tags-am uninstall uninstall-am \
+	uninstall-binPROGRAMS uninstall-hook uninstall-man \
+	uninstall-man1 uninstall-man5 uninstall-pkglibLTLIBRARIES \
+	uninstall-sbinPROGRAMS
 
 
 .pod.1:
 	pod2man --release=$(VERSION) --center=$(PACKAGE) $< \
 		>.pod2man.tmp.$$$$ 2>/dev/null && mv -f .pod2man.tmp.$$$$ $@ || true
 	@if grep '\<POD ERRORS\>' $@ >/dev/null 2>&1; \
@@ -5047,17 +5180,17 @@
 		>.pod2man.tmp.$$$$ 2>/dev/null && mv -f .pod2man.tmp.$$$$ $@ || true
 	@if grep '\<POD ERRORS\>' $@ >/dev/null 2>&1; \
 	then \
 		echo "$@ has some POD errors!"; false; \
 	fi
 
-@BUILD_PLUGIN_PINBA_TRUE@pinba.pb-c.c pinba.pb-c.h: pinba.proto
-@BUILD_PLUGIN_PINBA_TRUE@	$(AM_V_PROTOC_C)protoc-c -I$(srcdir) --c_out . $(srcdir)/pinba.proto
+@HAVE_PROTOC_C_TRUE@pinba.pb-c.c pinba.pb-c.h: pinba.proto
+@HAVE_PROTOC_C_TRUE@	protoc-c -I$(srcdir) --c_out . $(srcdir)/pinba.proto
 
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@riemann.pb-c.c riemann.pb-c.h: riemann.proto
-@BUILD_PLUGIN_WRITE_RIEMANN_TRUE@	$(AM_V_PROTOC_C)protoc-c -I$(srcdir) --c_out . $(srcdir)/riemann.proto
+@HAVE_PROTOC_C_TRUE@riemann.pb-c.c riemann.pb-c.h: riemann.proto
+@HAVE_PROTOC_C_TRUE@	protoc-c -I$(srcdir) --c_out . $(srcdir)/riemann.proto
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	if test -e $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	then \
 		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_empty_counter.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_empty_counter.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_empty_counter.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_empty_counter.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/match_empty_counter.c
- * Copyright (C) 2009  Florian Forster
+ * Copyright (C) 2009       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "utils_cache.h"
 #include "filter_chain.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_hashed.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_hashed.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_hashed.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_hashed.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/match_hashed.c
- * Copyright (C) 2009  Florian Forster
+ * Copyright (C) 2009       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "utils_cache.h"
 #include "filter_chain.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_regex.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_regex.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_regex.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_regex.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,27 +1,32 @@
 /**
  * collectd - src/match_regex.c
- * Copyright (C) 2008  Sebastian Harl
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Sebastian Harl
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 /*
  * This module allows to filter and rewrite value lists based on
  * Perl-compatible regular expressions.
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_timediff.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_timediff.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_timediff.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_timediff.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/match_timediff.c
  * Copyright (C) 2008,2009  Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "utils_cache.h"
 #include "filter_chain.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_value.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_value.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/match_value.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/match_value.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/match_value.c
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 /*
  * This module allows to filter and rewrite value lists based on
  * Perl-compatible regular expressions.
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/mbmon.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/mbmon.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/mbmon.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/mbmon.c	2015-03-10 22:14:45.841114412 +0800
@@ -17,13 +17,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Flavio Stanchina <flavio at stanchina.net>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/memcachec.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/memcachec.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/memcachec.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/memcachec.c	2015-03-10 22:14:45.841114412 +0800
@@ -15,13 +15,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Doug MacEachern <Doug.MacEachern at hyperic.com>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
@@ -260,16 +260,13 @@
     }
 
     break;
   } /* while (status == 0) */
 
   if (status != 0)
-  {
-    cmc_web_match_free (match);
     return (status);
-  }
 
   match->match = match_create_simple (match->regex, match->exclude_regex,
       match->dstype);
   if (match->match == NULL)
   {
     ERROR ("memcachec plugin: tail_match_add_match_simple failed.");
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/memcached.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/memcached.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/memcached.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/memcached.c	2015-03-10 22:14:45.841114412 +0800
@@ -59,13 +59,12 @@
     return;
 
   sfree (st->name);
   sfree (st->socket);
   sfree (st->host);
   sfree (st->port);
-  sfree (st);
 }
 
 static int memcached_connect_unix (memcached_t *st)
 {
   struct sockaddr_un serv_addr;
   int fd;
@@ -385,13 +384,13 @@
     name_len = strlen(fields[1]);
     if (name_len == 0)
       continue;
 
     /*
      * For an explanation on these fields please refer to
-     * <http://code.sixapart.com/svn/memcached/trunk/server/doc/protocol.txt>
+     * <https://github.com/memcached/memcached/blob/master/doc/protocol.txt>
      */
 
     /*
      * CPU time consumed by the memcached process
      */
     if (FIELD_IS ("rusage_user"))
@@ -435,12 +434,16 @@
      * Connections
      */
     else if (FIELD_IS ("curr_connections"))
     {
       submit_gauge ("memcached_connections", "current", atof (fields[2]), st);
     }
+    else if (FIELD_IS ("listen_disabled_num"))
+    {
+      submit_derive ("memcached_connections", "listen_disabled", atof (fields[2]), st);
+    }
 
     /*
      * Commands
      */
     else if ((name_len > 4) && (strncmp (fields[1], "cmd_", 4) == 0))
     {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/memory.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/memory.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/memory.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/memory.c	2015-03-10 22:14:45.841114412 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/memory.c
- * Copyright (C) 2005-2008  Florian octo Forster
+ * Copyright (C) 2005-2014  Florian octo Forster
  * Copyright (C) 2009       Simon Kuhnle
  * Copyright (C) 2009       Manuel Sanmartin
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
@@ -15,24 +15,27 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Simon Kuhnle <simon at blarzwurst.de>
  *   Manuel Sanmartin
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #ifdef HAVE_SYS_SYSCTL_H
 # include <sys/sysctl.h>
 #endif
+#ifdef HAVE_SYS_VMMETER_H
+# include <sys/vmmeter.h>
+#endif
 
 #ifdef HAVE_MACH_KERN_RETURN_H
 # include <mach/kern_return.h>
 #endif
 #ifdef HAVE_MACH_MACH_INIT_H
 # include <mach/mach_init.h>
@@ -81,18 +84,39 @@
 
 #elif HAVE_LIBSTATGRAB
 /* no global variables */
 /* endif HAVE_LIBSTATGRAB */
 #elif HAVE_PERFSTAT
 static int pagesize;
-static perfstat_memory_total_t pmemory;
 /* endif HAVE_PERFSTAT */
 #else
 # error "No applicable input method."
 #endif
 
+static _Bool values_absolute = 1;
+static _Bool values_percentage = 0;
+
+static int memory_config (oconfig_item_t *ci) /* {{{ */
+{
+	int i;
+
+	for (i = 0; i < ci->children_num; i++)
+	{
+		oconfig_item_t *child = ci->children + i;
+		if (strcasecmp ("ValuesAbsolute", child->key) == 0)
+			cf_util_get_boolean (child, &values_absolute);
+		else if (strcasecmp ("ValuesPercentage", child->key) == 0)
+			cf_util_get_boolean (child, &values_percentage);
+		else
+			ERROR ("memory plugin: Invalid configuration option: "
+					"\"%s\".", child->key);
+	}
+
+	return (0);
+} /* }}} int memory_config */
+
 static int memory_init (void)
 {
 #if HAVE_HOST_STATISTICS
 	port_host = mach_host_self ();
 	host_page_size (port_host, &pagesize);
 /* #endif HAVE_HOST_STATISTICS */
@@ -131,30 +155,20 @@
 #elif HAVE_PERFSTAT
 	pagesize = getpagesize ();
 #endif /* HAVE_PERFSTAT */
 	return (0);
 } /* int memory_init */
 
-static void memory_submit (const char *type_instance, gauge_t value)
-{
-	value_t values[1];
-	value_list_t vl = VALUE_LIST_INIT;
-
-	values[0].gauge = value;
-
-	vl.values = values;
-	vl.values_len = 1;
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "memory", sizeof (vl.plugin));
-	sstrncpy (vl.type, "memory", sizeof (vl.type));
-	sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
+#define MEMORY_SUBMIT(...) do { \
+	if (values_absolute) \
+		plugin_dispatch_multivalue (vl, 0, DS_TYPE_GAUGE, __VA_ARGS__, NULL); \
+	if (values_percentage) \
+		plugin_dispatch_multivalue (vl, 1, DS_TYPE_GAUGE, __VA_ARGS__, NULL); \
+} while (0)
 
-	plugin_dispatch_values (&vl);
-}
-
-static int memory_read (void)
+static int memory_read_internal (value_list_t *vl)
 {
 #if HAVE_HOST_STATISTICS
 	kern_return_t status;
 	vm_statistics_data_t   vm_data;
 	mach_msg_type_number_t vm_data_len;
 
@@ -197,16 +211,16 @@
 
 	wired    = (gauge_t) (((uint64_t) vm_data.wire_count)     * ((uint64_t) pagesize));
 	active   = (gauge_t) (((uint64_t) vm_data.active_count)   * ((uint64_t) pagesize));
 	inactive = (gauge_t) (((uint64_t) vm_data.inactive_count) * ((uint64_t) pagesize));
 	free     = (gauge_t) (((uint64_t) vm_data.free_count)     * ((uint64_t) pagesize));
 
-	memory_submit ("wired",    wired);
-	memory_submit ("active",   active);
-	memory_submit ("inactive", inactive);
-	memory_submit ("free",     free);
+	MEMORY_SUBMIT ("wired",    wired,
+	               "active",   active,
+	               "inactive", inactive,
+	               "free",     free);
 /* #endif HAVE_HOST_STATISTICS */
 
 #elif HAVE_SYSCTLBYNAME
 	/*
 	 * vm.stats.vm.v_page_size: 4096
 	 * vm.stats.vm.v_page_count: 246178
@@ -250,77 +264,106 @@
 
 	/* multiply all all page counts with the pagesize */
 	for (i = 1; sysctl_keys[i] != NULL; i++)
 		if (!isnan (sysctl_vals[i]))
 			sysctl_vals[i] *= sysctl_vals[0];
 
-	memory_submit ("free",     sysctl_vals[2]);
-	memory_submit ("wired",    sysctl_vals[3]);
-	memory_submit ("active",   sysctl_vals[4]);
-	memory_submit ("inactive", sysctl_vals[5]);
-	memory_submit ("cache",    sysctl_vals[6]);
+	MEMORY_SUBMIT ("free",     (gauge_t) sysctl_vals[2],
+	               "wired",    (gauge_t) sysctl_vals[3],
+	               "active",   (gauge_t) sysctl_vals[4],
+	               "inactive", (gauge_t) sysctl_vals[5],
+	               "cache",    (gauge_t) sysctl_vals[6]);
 /* #endif HAVE_SYSCTLBYNAME */
 
 #elif KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 
 	char *fields[8];
 	int numfields;
 
-	long long mem_used = 0;
-	long long mem_buffered = 0;
-	long long mem_cached = 0;
-	long long mem_free = 0;
+	_Bool detailed_slab_info = 0;
+
+	gauge_t mem_total = 0;
+	gauge_t mem_used = 0;
+	gauge_t mem_buffered = 0;
+	gauge_t mem_cached = 0;
+	gauge_t mem_free = 0;
+	gauge_t mem_slab_total = 0;
+	gauge_t mem_slab_reclaimable = 0;
+	gauge_t mem_slab_unreclaimable = 0;
 
 	if ((fh = fopen ("/proc/meminfo", "r")) == NULL)
 	{
 		char errbuf[1024];
 		WARNING ("memory: fopen: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
-	while (fgets (buffer, 1024, fh) != NULL)
+	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
-		long long *val = NULL;
+		gauge_t *val = NULL;
 
 		if (strncasecmp (buffer, "MemTotal:", 9) == 0)
-			val = &mem_used;
+			val = &mem_total;
 		else if (strncasecmp (buffer, "MemFree:", 8) == 0)
 			val = &mem_free;
 		else if (strncasecmp (buffer, "Buffers:", 8) == 0)
 			val = &mem_buffered;
 		else if (strncasecmp (buffer, "Cached:", 7) == 0)
 			val = &mem_cached;
+		else if (strncasecmp (buffer, "Slab:", 5) == 0)
+			val = &mem_slab_total;
+		else if (strncasecmp (buffer, "SReclaimable:", 13) == 0) {
+			val = &mem_slab_reclaimable;
+			detailed_slab_info = 1;
+		}
+		else if (strncasecmp (buffer, "SUnreclaim:", 11) == 0) {
+			val = &mem_slab_unreclaimable;
+			detailed_slab_info = 1;
+		}
 		else
 			continue;
 
-		numfields = strsplit (buffer, fields, 8);
-
+		numfields = strsplit (buffer, fields, STATIC_ARRAY_SIZE (fields));
 		if (numfields < 2)
 			continue;
 
-		*val = atoll (fields[1]) * 1024LL;
+		*val = 1024.0 * atof (fields[1]);
 	}
 
 	if (fclose (fh))
 	{
 		char errbuf[1024];
 		WARNING ("memory: fclose: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 
-	if (mem_used >= (mem_free + mem_buffered + mem_cached))
-	{
-		mem_used -= mem_free + mem_buffered + mem_cached;
-		memory_submit ("used",     mem_used);
-		memory_submit ("buffered", mem_buffered);
-		memory_submit ("cached",   mem_cached);
-		memory_submit ("free",     mem_free);
-	}
+	if (mem_total < (mem_free + mem_buffered + mem_cached + mem_slab_total))
+		return (-1);
+
+	mem_used = mem_total - (mem_free + mem_buffered + mem_cached + mem_slab_total);
+
+	/* SReclaimable and SUnreclaim were introduced in kernel 2.6.19
+	 * They sum up to the value of Slab, which is available on older & newer
+	 * kernels. So SReclaimable/SUnreclaim are submitted if available, and Slab
+	 * if not. */
+	if (detailed_slab_info)
+		MEMORY_SUBMIT ("used",        mem_used,
+		               "buffered",    mem_buffered,
+		               "cached",      mem_cached,
+		               "free",        mem_free,
+		               "slab_unrecl", mem_slab_unreclaimable,
+		               "slab_recl",   mem_slab_reclaimable);
+	else
+		MEMORY_SUBMIT ("used",     mem_used,
+		               "buffered", mem_buffered,
+		               "cached",   mem_cached,
+		               "free",     mem_free,
+		               "slab",     mem_slab_total);
 /* #endif KERNEL_LINUX */
 
 #elif HAVE_LIBKSTAT
         /* Most of the additions here were taken as-is from the k9toolkit from
          * Brendan Gregg and are subject to change I guess */
 	long long mem_used;
@@ -369,13 +412,13 @@
 	else
 	{
 		mem_used -= mem_free + mem_lock;
 	}
 
 	/* mem_kern is accounted for in mem_lock */
-	if ( pp_kernel < mem_lock )
+	if (pp_kernel < mem_lock)
 	{
 		mem_kern = pp_kernel;
 		mem_lock -= pp_kernel;
 	}
 	else
 	{
@@ -386,22 +429,25 @@
 	mem_used *= pagesize; /* If this overflows you have some serious */
 	mem_free *= pagesize; /* memory.. Why not call me up and give me */
 	mem_lock *= pagesize; /* some? ;) */
 	mem_kern *= pagesize; /* it's 2011 RAM is cheap */
 	mem_unus *= pagesize;
 
-	memory_submit ("used",   mem_used);
-	memory_submit ("free",   mem_free);
-	memory_submit ("locked", mem_lock);
-	memory_submit ("kernel", mem_kern);
-	memory_submit ("unusable", mem_unus);
+	MEMORY_SUBMIT ("used",     (gauge_t) mem_used,
+	               "free",     (gauge_t) mem_free,
+	               "locked",   (gauge_t) mem_lock,
+	               "kernel",   (gauge_t) mem_kern,
+	               "unusable", (gauge_t) mem_unus);
 /* #endif HAVE_LIBKSTAT */
 
 #elif HAVE_SYSCTL
 	int mib[] = {CTL_VM, VM_METER};
 	struct vmtotal vmtotal;
+	gauge_t mem_active;
+	gauge_t mem_inactive;
+	gauge_t mem_free;
 	size_t size;
 
 	memset (&vmtotal, 0, sizeof (vmtotal));
 	size = sizeof (vmtotal);
 
 	if (sysctl (mib, 2, &vmtotal, &size, NULL, 0) < 0) {
@@ -409,45 +455,79 @@
 		WARNING ("memory plugin: sysctl failed: %s",
 			sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
 	assert (pagesize > 0);
-	memory_submit ("active",   vmtotal.t_arm * pagesize);
-	memory_submit ("inactive", (vmtotal.t_rm - vmtotal.t_arm) * pagesize);
-	memory_submit ("free",     vmtotal.t_free * pagesize);
+	mem_active   = (gauge_t) (vmtotal.t_arm * pagesize);
+	mem_inactive = (gauge_t) ((vmtotal.t_rm - vmtotal.t_arm) * pagesize);
+	mem_free     = (gauge_t) (vmtotal.t_free * pagesize);
+
+	MEMORY_SUBMIT ("active",   mem_active,
+	               "inactive", mem_inactive,
+	               "free",     mem_free);
 /* #endif HAVE_SYSCTL */
 
 #elif HAVE_LIBSTATGRAB
 	sg_mem_stats *ios;
 
-	if ((ios = sg_get_mem_stats ()) != NULL)
-	{
-		memory_submit ("used",   ios->used);
-		memory_submit ("cached", ios->cache);
-		memory_submit ("free",   ios->free);
-	}
+	ios = sg_get_mem_stats ();
+	if (ios == NULL)
+		return (-1);
+
+	MEMORY_SUBMIT ("used",   (gauge_t) ios->used,
+	               "cached", (gauge_t) ios->cache,
+	               "free",   (gauge_t) ios->free);
 /* #endif HAVE_LIBSTATGRAB */
 
 #elif HAVE_PERFSTAT
-	if (perfstat_memory_total(NULL, &pmemory, sizeof(perfstat_memory_total_t), 1) < 0)
+	perfstat_memory_total_t pmemory;
+
+	memset (&pmemory, 0, sizeof (pmemory));
+	if (perfstat_memory_total(NULL, &pmemory, sizeof(pmemory), 1) < 0)
 	{
 		char errbuf[1024];
 		WARNING ("memory plugin: perfstat_memory_total failed: %s",
 			sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
-	memory_submit ("used",   pmemory.real_inuse * pagesize);
-	memory_submit ("free",   pmemory.real_free * pagesize);
-	memory_submit ("cached", pmemory.numperm * pagesize);
-	memory_submit ("system", pmemory.real_system * pagesize);
-	memory_submit ("user",   pmemory.real_process * pagesize);
+
+	/* Unfortunately, the AIX documentation is not very clear on how these
+	 * numbers relate to one another. The only thing is states explcitly
+	 * is:
+	 *   real_total = real_process + real_free + numperm + real_system
+	 *
+	 * Another segmentation, which would be closer to the numbers reported
+	 * by the "svmon" utility, would be:
+	 *   real_total = real_free + real_inuse
+	 *   real_inuse = "active" + real_pinned + numperm
+	 */
+	MEMORY_SUBMIT ("free",   (gauge_t) (pmemory.real_free    * pagesize),
+	               "cached", (gauge_t) (pmemory.numperm      * pagesize),
+	               "system", (gauge_t) (pmemory.real_system  * pagesize),
+	               "user",   (gauge_t) (pmemory.real_process * pagesize));
 #endif /* HAVE_PERFSTAT */
 
 	return (0);
-}
+} /* }}} int memory_read_internal */
+
+static int memory_read (void) /* {{{ */
+{
+	value_t v[1];
+	value_list_t vl = VALUE_LIST_INIT;
+
+	vl.values = v;
+	vl.values_len = STATIC_ARRAY_SIZE (v);
+	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
+	sstrncpy (vl.plugin, "memory", sizeof (vl.plugin));
+	sstrncpy (vl.type, "memory", sizeof (vl.type));
+	vl.time = cdtime ();
+
+	return (memory_read_internal (&vl));
+} /* }}} int memory_read */
 
 void module_register (void)
 {
+	plugin_register_complex_config ("memory", memory_config);
 	plugin_register_init ("memory", memory_init);
 	plugin_register_read ("memory", memory_read);
 } /* void module_register */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: meta_data.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: meta_data.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/modbus.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/modbus.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/modbus.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/modbus.c	2015-05-20 20:04:47.187035468 +0800
@@ -24,13 +24,13 @@
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
 #include <netdb.h>
 
-#include <modbus.h>
+#include <modbus/modbus.h>
 
 #ifndef LIBMODBUS_VERSION_CHECK
 /* Assume version 2.0.3 */
 # define LEGACY_LIBMODBUS 1
 #else
 /* Assume version 2.9.2 */
@@ -44,20 +44,25 @@
 # endif
 #endif
 
 /*
  * <Data "data_name">
  *   RegisterBase 1234
+ *   RegisterCmd ReadHolding
  *   RegisterType float
  *   Type gauge
  *   Instance "..."
  * </Data>
  *
  * <Host "name">
  *   Address "addr"
  *   Port "1234"
+ *   # Or:
+ *   # Device "/dev/ttyUSB0"
+ *   # Baudrate 38400
+ *   # (Assumes 8N1)
  *   Interval 60
  *
  *   <Slave 1>
  *     Instance "foobar" # optional
  *     Collect "data_name"
  *   </Slave>
@@ -72,21 +77,36 @@
   REG_TYPE_INT16,
   REG_TYPE_INT32,
   REG_TYPE_UINT16,
   REG_TYPE_UINT32,
   REG_TYPE_FLOAT
 }; /* }}} */
+enum mb_mreg_type_e /* {{{ */ 
+{
+  MREG_HOLDING,
+  MREG_INPUT
+}; /* }}} */
 typedef enum mb_register_type_e mb_register_type_t;
+typedef enum mb_mreg_type_e mb_mreg_type_t;
+
+/* TCP or RTU depending on what is specified in host config block */
+enum mb_conntype_e /* {{{ */
+{
+  MBCONN_TCP,
+  MBCONN_RTU
+}; /* }}} */
+typedef enum mb_conntype_e mb_conntype_t;
 
 struct mb_data_s;
 typedef struct mb_data_s mb_data_t;
 struct mb_data_s /* {{{ */
 {
   char *name;
   int register_base;
   mb_register_type_t register_type;
+  mb_mreg_type_t modbus_register_type;
   char type[DATA_MAX_NAME_LEN];
   char instance[DATA_MAX_NAME_LEN];
 
   mb_data_t *next;
 }; /* }}} */
 
@@ -98,15 +118,17 @@
 }; /* }}} */
 typedef struct mb_slave_s mb_slave_t;
 
 struct mb_host_s /* {{{ */
 {
   char host[DATA_MAX_NAME_LEN];
-  char node[NI_MAXHOST];
+  char node[NI_MAXHOST];	/* TCP hostname or RTU serial device */
   /* char service[NI_MAXSERV]; */
-  int port;
+  int port;			/* for Modbus/TCP */
+  int baudrate;			/* for Modbus/RTU */
+  mb_conntype_t conntype;
   cdtime_t interval;
 
   mb_slave_t *slaves;
   size_t slaves_num;
 
 #if LEGACY_LIBMODBUS
@@ -285,34 +307,44 @@
 {
   int status;
 
   if (host == NULL)
     return (EINVAL);
 
-#if COLLECT_DEBUG
   modbus_set_debug (&host->connection, 1);
-#endif
 
   /* We'll do the error handling ourselves. */
   modbus_set_error_handling (&host->connection, NOP_ON_ERROR);
 
-  if ((host->port < 1) || (host->port > 65535))
-    host->port = MODBUS_TCP_DEFAULT_PORT;
+  if (host->conntype == MBCONN_TCP)
+  {
+    if ((host->port < 1) || (host->port > 65535))
+      host->port = MODBUS_TCP_DEFAULT_PORT;
+
+    DEBUG ("Modbus plugin: Trying to connect to \"%s\", port %i.",
+        host->node, host->port);
 
-  DEBUG ("Modbus plugin: Trying to connect to \"%s\", port %i.",
-      host->node, host->port);
+    modbus_init_tcp (&host->connection,
+        /* host = */ host->node,
+        /* port = */ host->port);
+  }
+  else	/* MBCONN_RTU */
+  {
+    DEBUG ("Modbus plugin: Trying to connect to \"%s\".", host->node);
 
-  modbus_init_tcp (&host->connection,
-      /* host = */ host->node,
-      /* port = */ host->port);
+    modbus_init_rtu (&host->connection,
+       /* device = */ host->node,
+     /* baudrate = */ host->baudrate,
+                      'N', 8, 1, 0);
+  }
 
   status = modbus_connect (&host->connection);
   if (status != 0)
   {
     ERROR ("Modbus plugin: modbus_connect (%s, %i) failed with status %i.",
-        host->node, host->port, status);
+        host->node, host->port ? host->port : host->baudrate, status);
     return (status);
   }
 
   host->is_connected = 1;
   return (0);
 } /* }}} int mb_init_connection */
@@ -327,37 +359,50 @@
   if (host == NULL)
     return (EINVAL);
 
   if (host->connection != NULL)
     return (0);
 
-  if ((host->port < 1) || (host->port > 65535))
-    host->port = MODBUS_TCP_DEFAULT_PORT;
+  if (host->conntype == MBCONN_TCP)
+  {
+    if ((host->port < 1) || (host->port > 65535))
+      host->port = MODBUS_TCP_DEFAULT_PORT;
 
-  DEBUG ("Modbus plugin: Trying to connect to \"%s\", port %i.",
-      host->node, host->port);
+    DEBUG ("Modbus plugin: Trying to connect to \"%s\", port %i.",
+        host->node, host->port);
 
-  host->connection = modbus_new_tcp (host->node, host->port);
-  if (host->connection == NULL)
+    host->connection = modbus_new_tcp (host->node, host->port);
+    if (host->connection == NULL)
+    {
+      ERROR ("Modbus plugin: Creating new Modbus/TCP object failed.");
+      return (-1);
+    }
+  }
+  else
   {
-    ERROR ("Modbus plugin: Creating new Modbus/TCP object failed.");
-    return (-1);
+    DEBUG ("Modbus plugin: Trying to connect to \"%s\", baudrate %i.",
+        host->node, host->baudrate);
+
+    host->connection = modbus_new_rtu (host->node, host->baudrate, 'N', 8, 1);
+    if (host->connection == NULL)
+    {
+      ERROR ("Modbus plugin: Creating new Modbus/RTU object failed.");
+      return (-1);
+    }
   }
 
-#if COLLECT_DEBUG
   modbus_set_debug (host->connection, 1);
-#endif
 
   /* We'll do the error handling ourselves. */
   modbus_set_error_recovery (host->connection, 0);
 
   status = modbus_connect (host->connection);
   if (status != 0)
   {
     ERROR ("Modbus plugin: modbus_connect (%s, %i) failed with status %i.",
-        host->node, host->port, status);
+        host->node, host->port ? host->port : host->baudrate, status);
     modbus_free (host->connection);
     host->connection = NULL;
     return (status);
   }
 
   return (0);
@@ -378,13 +423,13 @@
 static int mb_read_data (mb_host_t *host, mb_slave_t *slave, /* {{{ */
     mb_data_t *data)
 {
   uint16_t values[2];
   int values_num;
   const data_set_t *ds;
-  int status = 0;
+  int status;
 
   if ((host == NULL) || (slave == NULL) || (data == NULL))
     return (EINVAL);
 
   ds = plugin_get_ds (data->type);
   if (ds == NULL)
@@ -415,17 +460,18 @@
       || (data->register_type == REG_TYPE_UINT32)
       || (data->register_type == REG_TYPE_FLOAT))
     values_num = 2;
   else
     values_num = 1;
 
+  status = 0;
   if (host->connection == NULL)
   {
     status = EBADF;
   }
-  else
+  else if (host->conntype == MBCONN_TCP)
   {
     struct sockaddr sockaddr;
     socklen_t saddrlen = sizeof (sockaddr);
 
     status = getpeername (modbus_get_socket (host->connection),
         &sockaddr, &saddrlen);
@@ -467,20 +513,27 @@
   {
     ERROR ("Modbus plugin: modbus_set_slave (%i) failed with status %i.",
         slave->id, status);
     return (-1);
   }
 #endif
-
-  status = modbus_read_registers (host->connection,
+  if (data->modbus_register_type == MREG_INPUT){
+    status = modbus_read_input_registers (host->connection,
+        /* start_addr = */ data->register_base,
+        /* num_registers = */ values_num, /* buffer = */ values);
+  }
+  else{
+    status = modbus_read_registers (host->connection,
         /* start_addr = */ data->register_base,
         /* num_registers = */ values_num, /* buffer = */ values);
+  }
   if (status != values_num)
   {
-    ERROR ("Modbus plugin: modbus_read_registers (%s/%s) failed. status = %i, values_num = %i "
-        "Giving up.", host->host, host->node, status, values_num);
+    ERROR ("Modbus plugin: modbus read function (%s/%s) failed. "
+           " status = %i, values_num = %i. Giving up.",
+           host->host, host->node, status, values_num);
 #if LEGACY_LIBMODBUS
     modbus_close (&host->connection);
 #else
     modbus_close (host->connection);
     modbus_free (host->connection);
 #endif
@@ -677,12 +730,13 @@
   if (status != 0)
     return (status);
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *child = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Type", child->key) == 0)
       status = cf_util_get_string_buffer (child,
           data.type, sizeof (data.type));
     else if (strcasecmp ("Instance", child->key) == 0)
       status = cf_util_get_string_buffer (child,
@@ -708,12 +762,34 @@
       else
       {
         ERROR ("Modbus plugin: The register type \"%s\" is unknown.", tmp);
         status = -1;
       }
     }
+    else if (strcasecmp ("RegisterCmd", child->key) == 0)
+    {
+#if LEGACY_LIBMODBUS
+      ERROR("Modbus plugin: RegisterCmd parameter can not be used "
+            "with your libmodbus version");
+#else
+      char tmp[16];
+      status = cf_util_get_string_buffer (child, tmp, sizeof (tmp));
+      if (status != 0)
+        /* do nothing */;
+      else if (strcasecmp ("ReadHolding", tmp) == 0)
+        data.modbus_register_type = MREG_HOLDING;
+      else if (strcasecmp ("ReadInput", tmp) == 0)
+        data.modbus_register_type = MREG_INPUT;
+      else
+      {
+        ERROR ("Modbus plugin: The modbus_register_type \"%s\" is unknown.",
+               tmp);
+        status = -1;
+      }
+#endif
+    }
     else
     {
       ERROR ("Modbus plugin: Unknown configuration option: %s", child->key);
       status = -1;
     }
 
@@ -815,12 +891,13 @@
   if (status != 0)
     return (status);
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *child = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Instance", child->key) == 0)
       status = cf_util_get_string_buffer (child,
           slave->instance, sizeof (slave->instance));
     else if (strcasecmp ("Collect", child->key) == 0)
     {
@@ -865,40 +942,44 @@
     return (ENOMEM);
   memset (host, 0, sizeof (*host));
   host->slaves = NULL;
 
   status = cf_util_get_string_buffer (ci, host->host, sizeof (host->host));
   if (status != 0)
-  {
-    sfree (host);
     return (status);
-  }
   if (host->host[0] == 0)
-  {
-    sfree (host);
     return (EINVAL);
-  }
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *child = ci->children + i;
     status = 0;
 
     if (strcasecmp ("Address", child->key) == 0)
     {
       char buffer[NI_MAXHOST];
       status = cf_util_get_string_buffer (child, buffer, sizeof (buffer));
       if (status == 0)
         status = mb_config_set_host_address (host, buffer);
+      if (status == 0)
+        host->conntype = MBCONN_TCP;
     }
     else if (strcasecmp ("Port", child->key) == 0)
     {
       host->port = cf_util_get_port_number (child);
       if (host->port <= 0)
         status = -1;
     }
+    else if (strcasecmp ("Device", child->key) == 0)
+    {
+      status = cf_util_get_string_buffer (child, host->node, sizeof (host->node));
+      if (status == 0)
+        host->conntype = MBCONN_RTU;
+    }
+    else if (strcasecmp ("Baudrate", child->key) == 0)
+      status = cf_util_get_int(child, &host->baudrate);
     else if (strcasecmp ("Interval", child->key) == 0)
       status = cf_util_get_cdtime (child, &host->interval);
     else if (strcasecmp ("Slave", child->key) == 0)
       /* Don't set status: Gracefully continue if a slave fails. */
       mb_config_add_slave (host, child);
     else
@@ -909,15 +990,28 @@
 
     if (status != 0)
       break;
   } /* for (i = 0; i < ci->children_num; i++) */
 
   assert (host->host[0] != 0);
-  if (host->host[0] == 0)
+  if (host->node[0] == 0)
   {
-    ERROR ("Modbus plugin: Data block \"%s\": No type has been specified.",
+    ERROR ("Modbus plugin: Data block \"%s\": No address or device has been specified.",
+        host->host);
+    status = -1;
+  }
+  if (host->conntype == MBCONN_RTU && !host->baudrate)
+  {
+    ERROR ("Modbus plugin: Data block \"%s\": No serial baudrate has been specified.",
+        host->host);
+    status = -1;
+  }
+  if ((host->conntype == MBCONN_TCP && host->baudrate) ||
+      (host->conntype == MBCONN_RTU && host->port))
+  {
+    ERROR ("Modbus plugin: Data block \"%s\": You've mixed up RTU and TCP options.",
         host->host);
     status = -1;
   }
 
   if (status == 0)
   {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/multimeter.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/multimeter.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/multimeter.c	2016-07-19 16:42:46.639749817 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/multimeter.c	2012-09-13 19:10:50.000000000 +0800
@@ -150,32 +150,31 @@
 {
 	int i;
 	char device[] = "/dev/ttyS ";
 
 	for (i = 0; i < 10; i++)
 	{
-		device[strlen(device)-1] = i + '0';
+		device[strlen(device)-1] = i + '0'; 
 
-		if ((fd = open(device, O_RDWR | O_NOCTTY)) != -1)
+		if ((fd = open(device, O_RDWR | O_NOCTTY)) > 0)
 		{
 			struct termios tios;
 			int rts = TIOCM_RTS;
 			double value;
 
-			memset (&tios, 0, sizeof (tios));
 			tios.c_cflag = B1200 | CS7 | CSTOPB | CREAD | CLOCAL;
 			tios.c_iflag = IGNBRK | IGNPAR;
 			tios.c_oflag = 0;
 			tios.c_lflag = 0;
 			tios.c_cc[VTIME] = 3;
 			tios.c_cc[VMIN]  = LINE_LENGTH;
 
 			tcflush(fd, TCIFLUSH);
 			tcsetattr(fd, TCSANOW, &tios);
 			ioctl(fd, TIOCMBIC, &rts);
-
+			
     			if (multimeter_read_value (&value) < -1)
 			{
 				close (fd);
 				fd = -1;
 			}
 			else
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/mysql.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/mysql.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/mysql.c	2016-07-26 15:47:12.961713803 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/mysql.c	2015-03-10 22:14:45.841114412 +0800
@@ -35,38 +35,42 @@
 #ifdef HAVE_MYSQL_H
 #include <mysql.h>
 #elif defined(HAVE_MYSQL_MYSQL_H)
 #include <mysql/mysql.h>
 #endif
 
-/* TODO: Understand `Select_*' and possibly do that stuff as well.. */
-
 struct mysql_database_s /* {{{ */
 {
 	char *instance;
+	char *alias;
 	char *host;
 	char *user;
 	char *pass;
 	char *database;
 	char *socket;
 	int   port;
+	int   timeout;
 
 	_Bool master_stats;
 	_Bool slave_stats;
+	_Bool innodb_stats;
 
 	_Bool slave_notif;
 	_Bool slave_io_running;
 	_Bool slave_sql_running;
 
 	MYSQL *con;
 	_Bool  is_connected;
 };
 typedef struct mysql_database_s mysql_database_t; /* }}} */
 
 static int mysql_read (user_data_t *ud);
 
+void mysql_read_default_options(struct st_mysql_options *options,
+		const char *filename,const char *group);
+
 static void mysql_database_free (void *arg) /* {{{ */
 {
 	mysql_database_t *db;
 
 	DEBUG ("mysql plugin: mysql_database_free (arg = %p);", arg);
 
@@ -75,12 +79,13 @@
 	if (db == NULL)
 		return;
 
 	if (db->con != NULL)
 		mysql_close (db->con);
 
+	sfree (db->alias);
 	sfree (db->host);
 	sfree (db->user);
 	sfree (db->pass);
 	sfree (db->socket);
 	sfree (db->instance);
 	sfree (db->database);
@@ -117,18 +122,20 @@
 		ERROR ("mysql plugin: malloc failed.");
 		return (-1);
 	}
 	memset (db, 0, sizeof (*db));
 
 	/* initialize all the pointers */
+	db->alias    = NULL;
 	db->host     = NULL;
 	db->user     = NULL;
 	db->pass     = NULL;
 	db->database = NULL;
 	db->socket   = NULL;
 	db->con      = NULL;
+	db->timeout  = 0;
 
 	/* trigger a notification, if it's not running */
 	db->slave_io_running  = 1;
 	db->slave_sql_running = 1;
 
 	status = cf_util_get_string (ci, &db->instance);
@@ -141,13 +148,15 @@
 
 	/* Fill the `mysql_database_t' structure.. */
 	for (i = 0; i < ci->children_num; i++)
 	{
 		oconfig_item_t *child = ci->children + i;
 
-		if (strcasecmp ("Host", child->key) == 0)
+		if (strcasecmp ("Alias", child->key) == 0)
+			status = cf_util_get_string (child, &db->alias);
+		else if (strcasecmp ("Host", child->key) == 0)
 			status = cf_util_get_string (child, &db->host);
 		else if (strcasecmp ("User", child->key) == 0)
 			status = cf_util_get_string (child, &db->user);
 		else if (strcasecmp ("Password", child->key) == 0)
 			status = cf_util_get_string (child, &db->pass);
 		else if (strcasecmp ("Port", child->key) == 0)
@@ -160,18 +169,22 @@
 			}
 		}
 		else if (strcasecmp ("Socket", child->key) == 0)
 			status = cf_util_get_string (child, &db->socket);
 		else if (strcasecmp ("Database", child->key) == 0)
 			status = cf_util_get_string (child, &db->database);
+		else if (strcasecmp ("ConnectTimeout", child->key) == 0)
+			status = cf_util_get_int (child, &db->timeout);
 		else if (strcasecmp ("MasterStats", child->key) == 0)
 			status = cf_util_get_boolean (child, &db->master_stats);
 		else if (strcasecmp ("SlaveStats", child->key) == 0)
 			status = cf_util_get_boolean (child, &db->slave_stats);
 		else if (strcasecmp ("SlaveNotifications", child->key) == 0)
 			status = cf_util_get_boolean (child, &db->slave_notif);
+		else if (strcasecmp ("InnodbStats", child->key) == 0)
+			status = cf_util_get_boolean (child, &db->innodb_stats);
 		else
 		{
 			WARNING ("mysql plugin: Option `%s' not allowed here.", child->key);
 			status = -1;
 		}
 
@@ -258,12 +271,15 @@
 			ERROR ("mysql plugin: mysql_init failed: %s",
 					mysql_error (db->con));
 			return (NULL);
 		}
 	}
 
+	/* Configure TCP connect timeout (default: 0) */
+	db->con->options.connect_timeout = db->timeout;
+
 	if (mysql_real_connect (db->con, db->host, db->user, db->pass,
 				db->database, db->port, db->socket, 0) == NULL)
 	{
 		ERROR ("mysql plugin: Failed to connect to database %s "
 				"at server %s: %s",
 				(db->database != NULL) ? db->database : "<none>",
@@ -282,14 +298,17 @@
 	db->is_connected = 1;
 	return (db->con);
 } /* static MYSQL *getconnection (mysql_database_t *db) */
 
 static void set_host (mysql_database_t *db, char *buf, size_t buflen)
 {
-	if ((db->host == NULL)
+	if (db->alias)
+		sstrncpy (buf, db->alias, buflen);
+	else if ((db->host == NULL)
 			|| (strcmp ("", db->host) == 0)
+			|| (strcmp ("127.0.0.1", db->host) == 0)
 			|| (strcmp ("localhost", db->host) == 0))
 		sstrncpy (buf, hostname_g, buflen);
 	else
 		sstrncpy (buf, db->host, buflen);
 } /* void set_host */
 
@@ -545,12 +564,136 @@
 
 	mysql_free_result (res);
 
 	return (0);
 } /* mysql_read_slave_stats */
 
+static int mysql_read_innodb_stats (mysql_database_t *db, MYSQL *con)
+{
+	MYSQL_RES *res;
+	MYSQL_ROW  row;
+
+	char *query;
+    struct {
+        char *key;
+        char *type;
+        int ds_type;
+    } metrics[] = {
+        { "metadata_mem_pool_size",         "bytes",        DS_TYPE_GAUGE },
+        { "lock_deadlocks",                 "mysql_locks",  DS_TYPE_DERIVE },
+        { "lock_timeouts",                  "mysql_locks",  DS_TYPE_DERIVE },
+        { "lock_row_lock_current_waits",    "mysql_locks",  DS_TYPE_DERIVE },
+        { "buffer_pool_size",               "bytes",        DS_TYPE_GAUGE },
+
+        { "buffer_pool_reads",              "operations",   DS_TYPE_DERIVE },
+        { "buffer_pool_read_requests",      "operations",   DS_TYPE_DERIVE },
+        { "buffer_pool_write_requests",     "operations",   DS_TYPE_DERIVE },
+        { "buffer_pool_wait_free",          "operations",   DS_TYPE_DERIVE },
+        { "buffer_pool_read_ahead",         "operations",   DS_TYPE_DERIVE },
+        { "buffer_pool_read_ahead_evicted", "operations",   DS_TYPE_DERIVE },
+
+        { "buffer_pool_pages_total",        "gauge",        DS_TYPE_GAUGE },
+        { "buffer_pool_pages_misc",         "gauge",        DS_TYPE_GAUGE },
+        { "buffer_pool_pages_data",         "gauge",        DS_TYPE_GAUGE },
+        { "buffer_pool_bytes_data",         "gauge",        DS_TYPE_GAUGE },
+        { "buffer_pool_pages_dirty",        "gauge",        DS_TYPE_GAUGE },
+        { "buffer_pool_bytes_dirty",        "gauge",        DS_TYPE_GAUGE },
+        { "buffer_pool_pages_free",         "gauge",        DS_TYPE_GAUGE },
+
+        { "buffer_pages_created",           "operations",   DS_TYPE_DERIVE },
+        { "buffer_pages_written",           "operations",   DS_TYPE_DERIVE },
+        { "buffer_pages_read",              "operations",   DS_TYPE_DERIVE },
+        { "buffer_data_reads",              "operations",   DS_TYPE_DERIVE },
+        { "buffer_data_written",            "operations",   DS_TYPE_DERIVE },
+
+        { "os_data_reads",                  "operations",   DS_TYPE_DERIVE },
+        { "os_data_writes",                 "operations",   DS_TYPE_DERIVE },
+        { "os_data_fsyncs",                 "operations",   DS_TYPE_DERIVE },
+        { "os_log_bytes_written",           "operations",   DS_TYPE_DERIVE },
+        { "os_log_fsyncs",                  "operations",   DS_TYPE_DERIVE },
+        { "os_log_pending_fsyncs",          "operations",   DS_TYPE_DERIVE },
+        { "os_log_pending_writes",          "operations",   DS_TYPE_DERIVE },
+
+        { "trx_rseg_history_len",           "gauge",        DS_TYPE_GAUGE },
+
+        { "log_waits",                      "operations",   DS_TYPE_DERIVE },
+        { "log_write_requests",             "operations",   DS_TYPE_DERIVE },
+        { "log_writes",                     "operations",   DS_TYPE_DERIVE },
+        { "adaptive_hash_searches",         "operations",   DS_TYPE_DERIVE },
+
+        { "file_num_open_files",            "gauge",        DS_TYPE_GAUGE },
+
+        { "ibuf_merges_insert",             "operations",   DS_TYPE_DERIVE },
+        { "ibuf_merges_delete_mark",        "operations",   DS_TYPE_DERIVE },
+        { "ibuf_merges_delete",             "operations",   DS_TYPE_DERIVE },
+        { "ibuf_merges_discard_insert",     "operations",   DS_TYPE_DERIVE },
+        { "ibuf_merges_discard_delete_mark","operations",   DS_TYPE_DERIVE },
+        { "ibuf_merges_discard_delete",     "operations",   DS_TYPE_DERIVE },
+        { "ibuf_merges_discard_merges",     "operations",   DS_TYPE_DERIVE },
+        { "ibuf_size",                      "bytes",        DS_TYPE_GAUGE },
+
+        { "innodb_activity_count",          "gauge",        DS_TYPE_GAUGE },
+        { "innodb_dblwr_writes",            "operations",   DS_TYPE_DERIVE },
+        { "innodb_dblwr_pages_written",     "operations",   DS_TYPE_DERIVE },
+        { "innodb_dblwr_page_size",         "gauge",        DS_TYPE_GAUGE },
+
+        { "innodb_rwlock_s_spin_waits",     "operations",   DS_TYPE_DERIVE },
+        { "innodb_rwlock_x_spin_waits",     "operations",   DS_TYPE_DERIVE },
+        { "innodb_rwlock_s_spin_rounds",    "operations",   DS_TYPE_DERIVE },
+        { "innodb_rwlock_x_spin_rounds",    "operations",   DS_TYPE_DERIVE },
+        { "innodb_rwlock_s_os_waits",       "operations",   DS_TYPE_DERIVE },
+        { "innodb_rwlock_x_os_waits",       "operations",   DS_TYPE_DERIVE },
+
+        { "dml_reads",                      "operations",   DS_TYPE_DERIVE },
+        { "dml_inserts",                    "operations",   DS_TYPE_DERIVE },
+        { "dml_deletes",                    "operations",   DS_TYPE_DERIVE },
+        { "dml_updates",                    "operations",   DS_TYPE_DERIVE },
+
+        { NULL,                     NULL,           0}
+    };
+
+	query = "SELECT name, count, type FROM information_schema.innodb_metrics WHERE status = 'enabled'";
+
+	res = exec_query (con, query);
+	if (res == NULL)
+		return (-1);
+
+	while ((row = mysql_fetch_row (res)))
+	{
+        int i;
+		char *key;
+		unsigned long long val;
+
+		key = row[0];
+		val = atoll (row[1]);
+
+        for (i = 0;
+             metrics[i].key != NULL && strcmp(metrics[i].key, key) != 0;
+             i++)
+            ;
+
+        if (metrics[i].key == NULL)
+            continue;
+
+        switch (metrics[i].ds_type) {
+        case DS_TYPE_COUNTER:
+            counter_submit(metrics[i].type, key, (counter_t)val, db);
+            break;
+        case DS_TYPE_GAUGE:
+            gauge_submit(metrics[i].type, key, (gauge_t)val, db);
+            break;
+        case DS_TYPE_DERIVE:
+            derive_submit(metrics[i].type, key, (derive_t)val, db);
+            break;
+        }
+    }
+
+    mysql_free_result(res);
+    return (0);
+}
+
 static int mysql_read (user_data_t *ud)
 {
 	mysql_database_t *db;
 	MYSQL     *con;
 	MYSQL_RES *res;
 	MYSQL_ROW  row;
@@ -566,12 +709,13 @@
 	gauge_t threads_connected = NAN;
 	gauge_t threads_cached    = NAN;
 	derive_t threads_created = 0;
 
 	unsigned long long traffic_incoming = 0ULL;
 	unsigned long long traffic_outgoing = 0ULL;
+    unsigned long mysql_version = 0ULL;
 
 	if ((ud == NULL) || (ud->data == NULL))
 	{
 		ERROR ("mysql plugin: mysql_database_read: Invalid user data.");
 		return (-1);
 	}
@@ -579,14 +723,16 @@
 	db = (mysql_database_t *) ud->data;
 
 	/* An error message will have been printed in this case */
 	if ((con = getconnection (db)) == NULL)
 		return (-1);
 
+  mysql_version = mysql_get_server_version(con);
+
 	query = "SHOW STATUS";
-	if (mysql_get_server_version (con) >= 50002)
+	if (mysql_version >= 50002)
 		query = "SHOW GLOBAL STATUS";
 
 	res = exec_query (con, query);
 	if (res == NULL)
 		return (-1);
 
@@ -658,12 +804,108 @@
 					strlen ("Table_locks_")) == 0)
 		{
 			counter_submit ("mysql_locks",
 					key + strlen ("Table_locks_"),
 					val, db);
 		}
+		else if (db->innodb_stats && strncmp (key, "Innodb_", strlen ("Innodb_")) == 0)
+		{
+			/* buffer pool */
+			if (strcmp (key, "Innodb_buffer_pool_pages_data") == 0)
+				gauge_submit ("mysql_bpool_pages", "data", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_pages_dirty") == 0)
+				gauge_submit ("mysql_bpool_pages", "dirty", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_pages_flushed") == 0)
+				counter_submit ("mysql_bpool_pages", "flushed", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_pages_free") == 0)
+				gauge_submit ("mysql_bpool_pages", "free", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_pages_misc") == 0)
+				gauge_submit ("mysql_bpool_pages", "misc", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_pages_total") == 0)
+				gauge_submit ("mysql_bpool_pages", "total", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_read_ahead_rnd") == 0)
+				counter_submit ("mysql_bpool_counters", "read_ahead_rnd", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_read_ahead") == 0)
+				counter_submit ("mysql_bpool_counters", "read_ahead", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_read_ahead_evicted") == 0)
+				counter_submit ("mysql_bpool_counters", "read_ahead_evicted", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_read_requests") == 0)
+				counter_submit ("mysql_bpool_counters", "read_requests", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_reads") == 0)
+				counter_submit ("mysql_bpool_counters", "reads", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_write_requests") == 0)
+				counter_submit ("mysql_bpool_counters", "write_requests", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_bytes_data") == 0)
+				gauge_submit ("mysql_bpool_bytes", "data", val, db);
+			else if (strcmp (key, "Innodb_buffer_pool_bytes_dirty") == 0)
+				gauge_submit ("mysql_bpool_bytes", "dirty", val, db);
+
+			/* data */
+			if (strcmp (key, "Innodb_data_fsyncs") == 0)
+				counter_submit ("mysql_innodb_data", "fsyncs", val, db);
+			else if (strcmp (key, "Innodb_data_read") == 0)
+				counter_submit ("mysql_innodb_data", "read", val, db);
+			else if (strcmp (key, "Innodb_data_reads") == 0)
+				counter_submit ("mysql_innodb_data", "reads", val, db);
+			else if (strcmp (key, "Innodb_data_writes") == 0)
+				counter_submit ("mysql_innodb_data", "writes", val, db);
+			else if (strcmp (key, "Innodb_data_written") == 0)
+				counter_submit ("mysql_innodb_data", "written", val, db);
+
+			/* double write */
+			else if (strcmp (key, "Innodb_dblwr_writes") == 0)
+				counter_submit ("mysql_innodb_dblwr", "writes", val, db);
+			else if (strcmp (key, "Innodb_dblwr_pages_written") == 0)
+				counter_submit ("mysql_innodb_dblwr", "written", val, db);
+
+			/* log */
+			else if (strcmp (key, "Innodb_log_waits") == 0)
+				counter_submit ("mysql_innodb_log", "waits", val, db);
+			else if (strcmp (key, "Innodb_log_write_requests") == 0)
+				counter_submit ("mysql_innodb_log", "write_requests", val, db);
+			else if (strcmp (key, "Innodb_log_writes") == 0)
+				counter_submit ("mysql_innodb_log", "writes", val, db);
+			else if (strcmp (key, "Innodb_os_log_fsyncs") == 0)
+				counter_submit ("mysql_innodb_log", "fsyncs", val, db);
+			else if (strcmp (key, "Innodb_os_log_written") == 0)
+				counter_submit ("mysql_innodb_log", "written", val, db);
+
+			/* pages */
+			else if (strcmp (key, "Innodb_pages_created") == 0)
+				counter_submit ("mysql_innodb_pages", "created", val, db);
+			else if (strcmp (key, "Innodb_pages_read") == 0)
+				counter_submit ("mysql_innodb_pages", "read", val, db);
+			else if (strcmp (key, "Innodb_pages_written") == 0)
+				counter_submit ("mysql_innodb_pages", "written", val, db);
+
+			/* row lock */
+			else if (strcmp (key, "Innodb_row_lock_time") == 0)
+				counter_submit ("mysql_innodb_row_lock", "time", val, db);
+			else if (strcmp (key, "Innodb_row_lock_waits") == 0)
+				counter_submit ("mysql_innodb_row_lock", "waits", val, db);
+
+			/* rows */
+			else if (strcmp (key, "Innodb_rows_deleted") == 0)
+				counter_submit ("mysql_innodb_rows", "deleted", val, db);
+			else if (strcmp (key, "Innodb_rows_inserted") == 0)
+				counter_submit ("mysql_innodb_rows", "inserted", val, db);
+			else if (strcmp (key, "Innodb_rows_read") == 0)
+				counter_submit ("mysql_innodb_rows", "read", val, db);
+			else if (strcmp (key, "Innodb_rows_updated") == 0)
+				counter_submit ("mysql_innodb_rows", "updated", val, db);
+		}
+		else if (strncmp (key, "Select_", strlen ("Select_")) == 0)
+		{
+			counter_submit ("mysql_select", key + strlen ("Select_"),
+					val, db);
+		}
+		else if (strncmp (key, "Sort_", strlen ("Sort_")) == 0)
+		{
+			counter_submit ("mysql_sort", key + strlen ("Sort_"),
+					val, db);
+		}
 	}
 	mysql_free_result (res); res = NULL;
 
 	if ((qcache_hits != 0)
 			|| (qcache_inserts != 0)
 			|| (qcache_not_cached != 0)
@@ -694,12 +936,15 @@
 		derive_submit ("total_threads", "created",
 				threads_created, db);
 	}
 
 	traffic_submit  (traffic_incoming, traffic_outgoing, db);
 
+	if (mysql_version >= 50600 && db->innodb_stats)
+        mysql_read_innodb_stats (db, con);
+
 	if (db->master_stats)
 		mysql_read_master_stats (db, con);
 
 	if ((db->slave_stats) || (db->slave_notif))
 		mysql_read_slave_stats (db, con);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/netapp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/netapp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/netapp.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/netapp.c	2014-08-18 15:33:14.292460715 +0800
@@ -1521,13 +1521,13 @@
  * notification. */
 static int cna_change_volume_status (const char *hostname, /* {{{ */
 		data_volume_usage_t *v)
 {
 	notification_t n;
 
-	memset (&n, 0, sizeof (n));
+	memset (&n, 0, sizeof (&n));
 	n.time = cdtime ();
 	sstrncpy (n.host, hostname, sizeof (n.host));
 	sstrncpy (n.plugin, "netapp", sizeof (n.plugin));
 	sstrncpy (n.plugin_instance, v->name, sizeof (n.plugin_instance));
 
 	if ((v->flags & IS_VOLUME_USAGE_OFFLINE) != 0) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/netlink.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/netlink.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/netlink.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/netlink.c	2015-03-10 22:14:45.841114412 +0800
@@ -40,12 +40,47 @@
 #if HAVE_LINUX_PKT_SCHED_H
 # include <linux/pkt_sched.h>
 #endif
 
 #include <libmnl/libmnl.h>
 
+struct ir_link_stats_storage_s {
+
+  uint64_t rx_packets;
+  uint64_t tx_packets;
+  uint64_t rx_bytes;
+  uint64_t tx_bytes;
+  uint64_t rx_errors;
+  uint64_t tx_errors;
+
+  uint64_t rx_dropped;
+  uint64_t tx_dropped;
+  uint64_t multicast;
+  uint64_t collisions;
+
+  uint64_t rx_length_errors;
+  uint64_t rx_over_errors;
+  uint64_t rx_crc_errors;
+  uint64_t rx_frame_errors;
+  uint64_t rx_fifo_errors;
+  uint64_t rx_missed_errors;
+
+  uint64_t tx_aborted_errors;
+  uint64_t tx_carrier_errors;
+  uint64_t tx_fifo_errors;
+  uint64_t tx_heartbeat_errors;
+  uint64_t tx_window_errors;
+};
+
+union ir_link_stats_u {
+  struct rtnl_link_stats *stats32;
+#ifdef HAVE_RTNL_LINK_STATS64
+  struct rtnl_link_stats64 *stats64;
+#endif
+};
+
 typedef struct ir_ignorelist_s
 {
   char *device;
   char *type;
   char *inst;
   struct ir_ignorelist_s *next;
@@ -232,13 +267,13 @@
   }
 
   return (0);
 } /* int update_iflist */
 
 static void check_ignorelist_and_submit (const char *dev,
-    struct rtnl_link_stats *stats)
+    struct ir_link_stats_storage_s *stats)
 {
 
   if (check_ignorelist (dev, "interface", NULL) == 0)
   {
     submit_two (dev, "if_octets", NULL, stats->rx_bytes, stats->tx_bytes);
     submit_two (dev, "if_packets", NULL, stats->rx_packets, stats->tx_packets);
@@ -272,19 +307,67 @@
   {
     DEBUG ("netlink plugin: Ignoring %s/if_detail.", dev);
   }
 
 } /* void check_ignorelist_and_submit */
 
+#define COPY_RTNL_LINK_VALUE(dst_stats, src_stats, value_name) \
+  (dst_stats)->value_name = (src_stats)->value_name
+
+#define COPY_RTNL_LINK_STATS(dst_stats, src_stats) \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_packets); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_packets); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_bytes); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_bytes); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_dropped); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_dropped); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, multicast); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, collisions); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_length_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_over_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_crc_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_frame_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_fifo_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, rx_missed_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_aborted_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_carrier_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_fifo_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_heartbeat_errors); \
+  COPY_RTNL_LINK_VALUE (dst_stats, src_stats, tx_window_errors)
+
+#ifdef HAVE_RTNL_LINK_STATS64
+static void check_ignorelist_and_submit64 (const char *dev,
+    struct rtnl_link_stats64 *stats)
+{
+  struct ir_link_stats_storage_s s;
+
+  COPY_RTNL_LINK_STATS (&s, stats);
+
+  check_ignorelist_and_submit (dev, &s);
+}
+#endif
+
+static void check_ignorelist_and_submit32 (const char *dev,
+    struct rtnl_link_stats *stats)
+{
+  struct ir_link_stats_storage_s s;
+
+  COPY_RTNL_LINK_STATS(&s, stats);
+
+  check_ignorelist_and_submit (dev, &s);
+}
+
 static int link_filter_cb (const struct nlmsghdr *nlh,
     void *args __attribute__((unused)))
 {
   struct ifinfomsg *ifm = mnl_nlmsg_get_payload (nlh);
   struct nlattr *attr;
-  struct rtnl_link_stats *stats = NULL;
   const char *dev = NULL;
+  union ir_link_stats_u stats;
 
   if (nlh->nlmsg_type != RTM_NEWLINK)
   {
     ERROR ("netlink plugin: link_filter_cb: Don't know how to handle type %i.",
         nlh->nlmsg_type);
     return MNL_CB_ERROR;
@@ -310,36 +393,50 @@
 
   if (dev == NULL)
   {
     ERROR ("netlink plugin: link_filter_cb: dev == NULL");
     return MNL_CB_ERROR;
   }
+#ifdef HAVE_RTNL_LINK_STATS64
+  mnl_attr_for_each (attr, nlh, sizeof (*ifm))
+  {
+    if (mnl_attr_get_type (attr) != IFLA_STATS64)
+      continue;
+
+    if (mnl_attr_validate2 (attr, MNL_TYPE_UNSPEC, sizeof (*stats.stats64)) < 0)
+    {
+      ERROR ("netlink plugin: link_filter_cb: IFLA_STATS64 mnl_attr_validate2 failed.");
+      return MNL_CB_ERROR;
+    }
+    stats.stats64 = mnl_attr_get_payload (attr);
 
+    check_ignorelist_and_submit64 (dev, stats.stats64);
+
+    return MNL_CB_OK;
+  }
+#endif
   mnl_attr_for_each (attr, nlh, sizeof (*ifm))
   {
     if (mnl_attr_get_type (attr) != IFLA_STATS)
       continue;
 
-    if (mnl_attr_validate2 (attr, MNL_TYPE_UNSPEC, sizeof (*stats)) < 0)
+    if (mnl_attr_validate2 (attr, MNL_TYPE_UNSPEC, sizeof (*stats.stats32)) < 0)
     {
       ERROR ("netlink plugin: link_filter_cb: IFLA_STATS mnl_attr_validate2 failed.");
       return MNL_CB_ERROR;
     }
-    stats = mnl_attr_get_payload (attr);
+    stats.stats32 = mnl_attr_get_payload (attr);
 
-    check_ignorelist_and_submit (dev, stats);
-    break;
-  }
+    check_ignorelist_and_submit32 (dev, stats.stats32);
 
-  if (stats == NULL)
-  {
-    DEBUG ("netlink plugin: link_filter: No statistics for interface %s.", dev);
     return MNL_CB_OK;
   }
 
+  DEBUG ("netlink plugin: link_filter: No statistics for interface %s.", dev);
   return MNL_CB_OK;
+
 } /* int link_filter_cb */
 
 #if HAVE_TCA_STATS2
 static int qos_attr_cb (const struct nlattr *attr, void *data)
 {
   struct gnet_stats_basic **bs = (struct gnet_stats_basic **)data;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/network.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/network.c	2015-03-12 17:33:23.010207874 +0800
@@ -117,12 +117,14 @@
 	int security_level;
 	char *username;
 	char *password;
 	gcry_cipher_hd_t cypher;
 	unsigned char password_hash[32];
 #endif
+	cdtime_t next_resolve_reconnect;
+	cdtime_t resolve_interval;
 };
 
 struct sockent_server
 {
 	int *fd;
 	size_t fd_num;
@@ -495,14 +497,12 @@
   return (status);
 } /* }}} int network_dispatch_notification */
 
 #if HAVE_LIBGCRYPT
 static void network_init_gcrypt (void) /* {{{ */
 {
-  gcry_error_t err;
-
   /* http://lists.gnupg.org/pipermail/gcrypt-devel/2003-August/000458.html
    * Because you can't know in a library whether another library has
    * already initialized the library */
   if (gcry_control (GCRYCTL_ANY_INITIALIZATION_P))
     return;
 
@@ -511,29 +511,16 @@
   * *before* initalizing Libgcrypt with gcry_check_version(), which itself must
   * be called before any other gcry_* function. GCRYCTL_ANY_INITIALIZATION_P
   * above doesn't count, as it doesn't implicitly initalize Libgcrypt.
   *
   * tl;dr: keep all these gry_* statements in this exact order please. */
 # if GCRYPT_VERSION_NUMBER < 0x010600
-  err = gcry_control (GCRYCTL_SET_THREAD_CBS, &gcry_threads_pthread);
-  if (err)
-  {
-    ERROR ("network plugin: gcry_control (GCRYCTL_SET_THREAD_CBS) failed: %s", gcry_strerror (err));
-    abort ();
-  }
+  gcry_control (GCRYCTL_SET_THREAD_CBS, &gcry_threads_pthread);
 # endif
-
   gcry_check_version (NULL);
-
-  err = gcry_control (GCRYCTL_INIT_SECMEM, 32768);
-  if (err)
-  {
-    ERROR ("network plugin: gcry_control (GCRYCTL_INIT_SECMEM) failed: %s", gcry_strerror (err));
-    abort ();
-  }
-
+  gcry_control (GCRYCTL_INIT_SECMEM, 32768);
   gcry_control (GCRYCTL_INITIALIZATION_FINISHED);
 } /* }}} void network_init_gcrypt */
 
 static gcry_cipher_hd_t network_get_aes256_cypher (sockent_t *se, /* {{{ */
     const void *iv, size_t iv_size, const char *username)
 {
@@ -934,21 +921,25 @@
 	*ret_buffer_len = buffer_len - pkg_length;
 
 	return (0);
 } /* int parse_part_number */
 
 static int parse_part_string (void **ret_buffer, size_t *ret_buffer_len,
-		char *output, int output_len)
+		char *output, size_t const output_len)
 {
 	char *buffer = *ret_buffer;
 	size_t buffer_len = *ret_buffer_len;
 
 	uint16_t tmp16;
-	size_t header_size = 2 * sizeof (uint16_t);
+	size_t const header_size = 2 * sizeof (uint16_t);
 
 	uint16_t pkg_length;
+	size_t payload_size;
+
+	if (output_len <= 0)
+		return (EINVAL);
 
 	if (buffer_len < header_size)
 	{
 		WARNING ("network plugin: parse_part_string: "
 				"Packet too short: "
 				"Chunk of at least size %zu expected, "
@@ -961,12 +952,13 @@
 	buffer += sizeof (tmp16);
 	/* pkg_type = ntohs (tmp16); */
 
 	memcpy ((void *) &tmp16, buffer, sizeof (tmp16));
 	buffer += sizeof (tmp16);
 	pkg_length = ntohs (tmp16);
+	payload_size = ((size_t) pkg_length) - header_size;
 
 	/* Check that packet fits in the input buffer */
 	if (pkg_length > buffer_len)
 	{
 		WARNING ("network plugin: parse_part_string: "
 				"Packet too big: "
@@ -986,28 +978,30 @@
 		return (-1);
 	}
 
 	/* Check that the package data fits into the output buffer.
 	 * The previous if-statement ensures that:
 	 * `pkg_length > header_size' */
-	if ((output_len < 0)
-			|| ((size_t) output_len < ((size_t) pkg_length - header_size)))
+	if (output_len < payload_size)
 	{
 		WARNING ("network plugin: parse_part_string: "
-				"Output buffer too small.");
+				"Buffer too small: "
+				"Output buffer holds %zu bytes, "
+				"which is too small to hold the received "
+				"%zu byte string.",
+				output_len, payload_size);
 		return (-1);
 	}
 
 	/* All sanity checks successfull, let's copy the data over */
-	output_len = pkg_length - header_size;
-	memcpy ((void *) output, (void *) buffer, output_len);
-	buffer += output_len;
+	memcpy ((void *) output, (void *) buffer, payload_size);
+	buffer += payload_size;
 
 	/* For some very weird reason '\0' doesn't do the trick on SPARC in
 	 * this statement. */
-	if (output[output_len - 1] != 0)
+	if (output[payload_size - 1] != 0)
 	{
 		WARNING ("network plugin: parse_part_string: "
 				"Received string does not end "
 				"with a NULL-byte.");
 		return (-1);
 	}
@@ -1447,13 +1441,12 @@
 			{
 				INFO ("network plugin: Unencrypted packet or "
 						"part has been ignored.");
 				printed_ignore_warning = 1;
 			}
 			buffer = ((char *) buffer) + pkg_length;
-			buffer_size -= (size_t) pkg_length;
 			continue;
 		}
 #endif /* HAVE_LIBGCRYPT */
 		else if (pkg_type == TYPE_SIGN_SHA256)
 		{
 			status = parse_part_sign_sha256 (se,
@@ -1475,13 +1468,12 @@
 			{
 				INFO ("network plugin: Unsigned packet or "
 						"part has been ignored.");
 				printed_ignore_warning = 1;
 			}
 			buffer = ((char *) buffer) + pkg_length;
-			buffer_size -= (size_t) pkg_length;
 			continue;
 		}
 #endif /* HAVE_LIBGCRYPT */
 		else if (pkg_type == TYPE_VALUES)
 		{
 			status = parse_part_values (&buffer, &buffer_size,
@@ -1617,13 +1609,12 @@
 		}
 		else
 		{
 			DEBUG ("network plugin: parse_packet: Unknown part"
 					" type: 0x%04hx", pkg_type);
 			buffer = ((char *) buffer) + pkg_length;
-			buffer_size -= (size_t) pkg_length;
 		}
 	} /* while (buffer_size > sizeof (part_header_t)) */
 
 	if (status == 0 && buffer_size > 0)
 		WARNING ("network plugin: parse_packet: Received truncated "
 				"packet, try increasing `MaxPacketSize'");
@@ -2033,24 +2024,25 @@
 	se->interface = 0;
 	se->next = NULL;
 
 	if (type == SOCKENT_TYPE_SERVER)
 	{
 		se->data.server.fd = NULL;
-		se->data.server.fd_num = 0;
 #if HAVE_LIBGCRYPT
 		se->data.server.security_level = SECURITY_LEVEL_NONE;
 		se->data.server.auth_file = NULL;
 		se->data.server.userdb = NULL;
 		se->data.server.cypher = NULL;
 #endif
 	}
 	else
 	{
 		se->data.client.fd = -1;
 		se->data.client.addr = NULL;
+		se->data.client.resolve_interval = 0;
+		se->data.client.next_resolve_reconnect = 0;
 #if HAVE_LIBGCRYPT
 		se->data.client.security_level = SECURITY_LEVEL_NONE;
 		se->data.client.username = NULL;
 		se->data.client.password = NULL;
 		se->data.client.cypher = NULL;
 #endif
@@ -2111,26 +2103,56 @@
 	}
 #endif /* }}} HAVE_LIBGCRYPT */
 
 	return (0);
 } /* }}} int sockent_init_crypto */
 
+static int sockent_client_disconnect (sockent_t *se) /* {{{ */
+{
+	struct sockent_client *client;
+
+	if ((se == NULL) || (se->type != SOCKENT_TYPE_CLIENT))
+		return (EINVAL);
+
+	client = &se->data.client;
+	if (client->fd >= 0) /* connected */
+	{
+		close (client->fd);
+		client->fd = -1;
+	}
+
+	sfree (client->addr);
+	client->addrlen = 0;
+
+	return (0);
+} /* }}} int sockent_client_disconnect */
+
 static int sockent_client_connect (sockent_t *se) /* {{{ */
 {
 	static c_complain_t complaint = C_COMPLAIN_INIT_STATIC;
 
 	struct sockent_client *client;
 	struct addrinfo  ai_hints;
 	struct addrinfo *ai_list = NULL, *ai_ptr;
 	int status;
+	_Bool reconnect = 0;
+	cdtime_t now;
 
 	if ((se == NULL) || (se->type != SOCKENT_TYPE_CLIENT))
 		return (EINVAL);
 
 	client = &se->data.client;
-	if (client->fd >= 0) /* already connected */
+
+	now = cdtime ();
+	if (client->resolve_interval != 0 && client->next_resolve_reconnect < now) {
+		DEBUG("network plugin: Reconnecting socket, resolve_interval = %lf, next_resolve_reconnect = %lf",
+			CDTIME_T_TO_DOUBLE(client->resolve_interval), CDTIME_T_TO_DOUBLE(client->next_resolve_reconnect));
+		reconnect = 1;
+	}
+
+	if (client->fd >= 0 && !reconnect) /* already connected and not stale*/
 		return (0);
 
 	memset (&ai_hints, 0, sizeof (ai_hints));
 #ifdef AI_ADDRCONFIG
 	ai_hints.ai_flags |= AI_ADDRCONFIG;
 #endif
@@ -2156,12 +2178,15 @@
 				"network plugin: Successfully resolved \"%s\".",
 				se->node);
 	}
 
 	for (ai_ptr = ai_list; ai_ptr != NULL; ai_ptr = ai_ptr->ai_next)
 	{
+		if (client->fd >= 0) /* when we reconnect */
+			sockent_client_disconnect(se);
+
 		client->fd = socket (ai_ptr->ai_family,
 				ai_ptr->ai_socktype,
 				ai_ptr->ai_protocol);
 		if (client->fd < 0)
 		{
 			char errbuf[1024];
@@ -2193,34 +2218,17 @@
 		break;
 	}
 
 	freeaddrinfo (ai_list);
 	if (client->fd < 0)
 		return (-1);
-	return (0);
-} /* }}} int sockent_client_connect */
-
-static int sockent_client_disconnect (sockent_t *se) /* {{{ */
-{
-	struct sockent_client *client;
-
-	if ((se == NULL) || (se->type != SOCKENT_TYPE_CLIENT))
-		return (EINVAL);
-
-	client = &se->data.client;
-	if (client->fd >= 0) /* connected */
-	{
-		close (client->fd);
-		client->fd = -1;
-	}
-
-	sfree (client->addr);
-	client->addrlen = 0;
 
+	if (client->resolve_interval > 0)
+		client->next_resolve_reconnect = now + client->resolve_interval;
 	return (0);
-} /* }}} int sockent_client_disconnect */
+} /* }}} int sockent_client_connect */
 
 /* Open the file descriptors for a initialized sockent structure. */
 static int sockent_server_listen (sockent_t *se) /* {{{ */
 {
 	struct addrinfo  ai_hints;
 	struct addrinfo *ai_list, *ai_ptr;
@@ -2229,15 +2237,12 @@
         const char *node;
         const char *service;
 
 	if (se == NULL)
 		return (-1);
 
-	assert (se->data.server.fd == NULL);
-	assert (se->data.server.fd_num == 0);
-
         node = se->node;
         service = se->service;
 
         if (service == NULL)
           service = NET_DEFAULT_PORT;
 
@@ -2431,13 +2436,13 @@
 static int network_receive (void) /* {{{ */
 {
 	char buffer[network_config_packet_size];
 	int  buffer_len;
 
 	int i;
-	int status = 0;
+	int status;
 
 	receive_list_entry_t *private_list_head;
 	receive_list_entry_t *private_list_tail;
 	uint64_t              private_list_length;
 
 	assert (listen_sockets_num > 0);
@@ -2446,20 +2451,21 @@
 	private_list_tail = NULL;
 	private_list_length = 0;
 
 	while (listen_loop == 0)
 	{
 		status = poll (listen_sockets_pollfd, listen_sockets_num, -1);
+
 		if (status <= 0)
 		{
 			char errbuf[1024];
 			if (errno == EINTR)
 				continue;
-			ERROR ("network plugin: poll(2) failed: %s",
+			ERROR ("poll failed: %s",
 					sstrerror (errno, errbuf, sizeof (errbuf)));
-			break;
+			return (-1);
 		}
 
 		for (i = 0; (i < listen_sockets_num) && (status > 0); i++)
 		{
 			receive_list_entry_t *ent;
 
@@ -2471,16 +2477,16 @@
 			buffer_len = recv (listen_sockets_pollfd[i].fd,
 					buffer, sizeof (buffer),
 					0 /* no flags */);
 			if (buffer_len < 0)
 			{
 				char errbuf[1024];
-				status = (errno != 0) ? errno : -1;
-				ERROR ("network plugin: recv(2) failed: %s",
-						sstrerror (errno, errbuf, sizeof (errbuf)));
-				break;
+				ERROR ("recv failed: %s",
+						sstrerror (errno, errbuf,
+							sizeof (errbuf)));
+				return (-1);
 			}
 
 			stats_octets_rx += ((uint64_t) buffer_len);
 			stats_packets_rx++;
 
 			/* TODO: Possible performance enhancement: Do not free
@@ -2488,23 +2494,21 @@
 			 * another list, so we don't have to allocate more and
 			 * more of these structures. */
 			ent = malloc (sizeof (receive_list_entry_t));
 			if (ent == NULL)
 			{
 				ERROR ("network plugin: malloc failed.");
-				status = ENOMEM;
-				break;
+				return (-1);
 			}
 			memset (ent, 0, sizeof (receive_list_entry_t));
 			ent->data = malloc (network_config_packet_size);
 			if (ent->data == NULL)
 			{
 				sfree (ent);
 				ERROR ("network plugin: malloc failed.");
-				status = ENOMEM;
-				break;
+				return (-1);
 			}
 			ent->fd = listen_sockets_pollfd[i].fd;
 			ent->next = NULL;
 
 			memcpy (ent->data, buffer, buffer_len);
 			ent->data_len = buffer_len;
@@ -2534,18 +2538,13 @@
 				pthread_mutex_unlock (&receive_list_lock);
 
 				private_list_head = NULL;
 				private_list_tail = NULL;
 				private_list_length = 0;
 			}
-
-			status = 0;
 		} /* for (listen_sockets_pollfd) */
-
-		if (status != 0)
-			break;
 	} /* while (listen_loop == 0) */
 
 	/* Make sure everything is dispatched before exiting. */
 	if (private_list_head != NULL)
 	{
 		pthread_mutex_lock (&receive_list_lock);
@@ -2554,17 +2553,21 @@
 			receive_list_head = private_list_head;
 		else
 			receive_list_tail->next = private_list_head;
 		receive_list_tail = private_list_tail;
 		receive_list_length += private_list_length;
 
+		private_list_head = NULL;
+		private_list_tail = NULL;
+		private_list_length = 0;
+
 		pthread_cond_signal (&receive_list_cond);
 		pthread_mutex_unlock (&receive_list_lock);
 	}
 
-	return (status);
+	return (0);
 } /* }}} int network_receive */
 
 static void *receive_thread (void __attribute__((unused)) *arg)
 {
 	return (network_receive () ? (void *) 1 : (void *) 0);
 } /* void *receive_thread */
@@ -3228,12 +3231,14 @@
           &se->data.client.security_level);
     else
 #endif /* HAVE_LIBGCRYPT */
     if (strcasecmp ("Interface", child->key) == 0)
       network_config_set_interface (child,
           &se->interface);
+		else if (strcasecmp ("ResolveInterval", child->key) == 0)
+			cf_util_get_cdtime(child, &se->data.client.resolve_interval);
     else
     {
       WARNING ("network plugin: Option `%s' is not allowed here.",
           child->key);
     }
   }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/network.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/network.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/network.h	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/network.h	2015-03-10 22:14:45.845114500 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/network.h
  * Copyright (C) 2005-2008  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef NETWORK_H
 #define NETWORK_H
 
 /*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/nfs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/nfs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/nfs.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/nfs.c	2015-03-10 22:14:45.845114500 +0800
@@ -168,24 +168,176 @@
 	"verify",
 	"write"
 };
 static size_t nfs4_procedures_names_num = STATIC_ARRAY_SIZE (nfs4_procedures_names);
 #endif
 
+#if KERNEL_LINUX
+static const char *nfs4_server40_procedures_names[] =
+{
+	"null",
+	"compound",
+	"reserved",
+	"access",
+	"close",
+	"commit",
+	"create",
+	"delegpurge",
+	"delegreturn",
+	"getattr",
+	"getfh",
+	"link",
+	"lock",
+	"lockt",
+	"locku",
+	"lookup",
+	"lookupp",
+	"nverify",
+	"open",
+	"openattr",
+	"open_confirm",
+	"open_downgrade",
+	"putfh",
+	"putpubfh",
+	"putrootfh",
+	"read",
+	"readdir",
+	"readlink",
+	"remove",
+	"rename",
+	"renew",
+	"restorefh",
+	"savefh",
+	"secinfo",
+	"setattr",
+	"setclientid",
+	"setcltid_confirm",
+	"verify",
+	"write",
+	"release_lockowner"
+};
+
+static size_t nfs4_server40_procedures_names_num = STATIC_ARRAY_SIZE (nfs4_server40_procedures_names);
+
+static const char *nfs4_server41_procedures_names[] =
+{
+	"backchannel_ctl",
+	"bind_conn_to_session",	
+	"exchange_id",
+	"create_session",
+	"destroy_session",
+	"free_stateid",
+	"get_dir_delegation",
+	"getdeviceinfo",
+	"getdevicelist",
+	"layoutcommit",
+	"layoutget",
+	"layoutreturn",
+	"secinfo_no_name",
+	"sequence",
+	"set_ssv",
+	"test_stateid",
+	"want_delegation",
+	"destroy_clientid",
+	"reclaim_complete",
+};
+
+static size_t nfs4_server41_procedures_names_num = STATIC_ARRAY_SIZE (nfs4_server41_procedures_names);
+
+#define NFS4_SERVER40_NUM_PROC ( \
+	STATIC_ARRAY_SIZE (nfs4_server40_procedures_names) )
+
+#define NFS4_SERVER41_NUM_PROC ( \
+	STATIC_ARRAY_SIZE (nfs4_server40_procedures_names) + \
+	STATIC_ARRAY_SIZE (nfs4_server41_procedures_names) )
+
+#define NFS4_SERVER_MAX_PROC (NFS4_SERVER41_NUM_PROC)
+
+static const char *nfs4_client40_procedures_names[] =
+{
+	"null",
+	"read",
+	"write",
+	"commit",
+	"open",
+	"open_confirm",
+	"open_noattr",
+	"open_downgrade",
+	"close",
+	"setattr",
+	"fsinfo",
+	"renew",
+	"setclientid",
+	"setclientid_confirm",
+	"lock",
+	"lockt",
+	"locku",
+	"access",
+	"getattr",
+	"lookup",
+	"lookupp",
+	"remove",
+	"rename",
+	"link",
+	"symlink",
+	"create",
+	"pathconf",
+	"statfs",
+	"readlink",
+	"readdir",
+	"server_caps",
+	"delegreturn",
+	"getacl",
+	"setacl",
+	"fs_locations",		/* |35| 2.6.18 */
+	"release_lockowner",	/* |42| 2.6.36 */
+	"secinfo",		/* |46| 2.6.39 */
+	"fsid_present"		/* |54| 3.13 */
+};
+
+static const char *nfs4_client41_procedures_names[] =
+{
+	"exchange_id",		/* |40| 2.6.30 */
+	"create_session",	/* |40| 2.6.30 */
+	"destroy_session",	/* |40| 2.6.30 */
+	"sequence",		/* |40| 2.6.30 */
+	"get_lease_time",	/* |40| 2.6.30 */
+	"reclaim_complete",	/* |41| 2.6.33 */
+	"layoutget",		/* |44| 2.6.37 */
+	"getdeviceinfo",	/* |44| 2.6.37 */
+	"layoutcommit",		/* |46| 2.6.39 */
+	"layoutreturn",		/* |47| 3.0 */
+	"secinfo_no_name",	/* |51| 3.1 */
+	"test_stateid",		/* |51| 3.1 */
+	"free_stateid",		/* |51| 3.1 */
+	"getdevicelist",	/* |51| 3.1 */
+	"bind_conn_to_session",	/* |53| 3.5 */
+	"destroy_clientid"	/* |53| 3.5 */
+};
+
+#define NFS4_CLIENT40_NUM_PROC ( \
+	STATIC_ARRAY_SIZE (nfs4_client40_procedures_names) )
+
+#define NFS4_CLIENT41_NUM_PROC ( \
+	STATIC_ARRAY_SIZE (nfs4_client40_procedures_names) + \
+	STATIC_ARRAY_SIZE (nfs4_client41_procedures_names) )
+
+#define NFS4_CLIENT_MAX_PROC (NFS4_CLIENT41_NUM_PROC)
+
+#endif
+
 #if HAVE_LIBKSTAT
 extern kstat_ctl_t *kc;
 static kstat_t *nfs2_ksp_client;
 static kstat_t *nfs2_ksp_server;
 static kstat_t *nfs3_ksp_client;
 static kstat_t *nfs3_ksp_server;
 static kstat_t *nfs4_ksp_client;
 static kstat_t *nfs4_ksp_server;
 #endif
 
-/* Possibly TODO: NFSv4 statistics */
-
 #if KERNEL_LINUX
 static int nfs_init (void)
 {
 	return (0);
 }
 /* #endif KERNEL_LINUX */
@@ -249,46 +401,166 @@
 				sizeof (vl.type_instance));
 		plugin_dispatch_values (&vl);
 	}
 } /* void nfs_procedures_submit */
 
 #if KERNEL_LINUX
-static int nfs_submit_fields (int nfs_version, const char *instance,
-		char **fields, size_t fields_num,
-		const char **proc_names, size_t proc_names_num)
+static void nfs_submit_fields (int nfs_version, const char *instance, 
+		char **fields, size_t fields_num, const char **proc_names)
 {
 	char plugin_instance[DATA_MAX_NAME_LEN];
 	value_t values[fields_num];
 	size_t i;
 
+	ssnprintf (plugin_instance, sizeof (plugin_instance), "v%i%s",
+			nfs_version, instance);
+
+	for (i = 0; i < fields_num; i++)
+		(void) parse_value (fields[i], &values[i], DS_TYPE_DERIVE);
+
+	nfs_procedures_submit (plugin_instance, proc_names, values,
+			fields_num);
+}
+
+static int nfs_submit_fields_safe (int nfs_version, const char *instance,
+		char **fields, size_t fields_num,
+		const char **proc_names, size_t proc_names_num)
+{
 	if (fields_num != proc_names_num)
 	{
 		WARNING ("nfs plugin: Wrong number of fields for "
 				"NFSv%i %s statistics. Expected %zu, got %zu.",
 				nfs_version, instance,
 				proc_names_num, fields_num);
 		return (EINVAL);
 	}
 
-	ssnprintf (plugin_instance, sizeof (plugin_instance), "v%i%s",
-			nfs_version, instance);
+	nfs_submit_fields (nfs_version, instance, fields, fields_num, 
+			proc_names);
 
-	for (i = 0; i < proc_names_num; i++)
-		(void) parse_value (fields[i], &values[i], DS_TYPE_DERIVE);
+	return (0);
+}
 
-	nfs_procedures_submit (plugin_instance, proc_names, values,
-			proc_names_num);
+static int nfs_submit_nfs4_server (const char *instance, char **fields, 
+		size_t fields_num)
+{
+	static int suppress_warning = 0;
+
+	if (fields_num != NFS4_SERVER40_NUM_PROC &&
+		fields_num != NFS4_SERVER41_NUM_PROC) 
+	{
+		if (!suppress_warning)
+		{
+			WARNING ("nfs plugin: Unexpected number of fields for "
+					"NFSv4 %s statistics: %zu. ",
+					instance, fields_num);
+		}
+
+		if (fields_num > NFS4_SERVER_MAX_PROC)
+		{
+			fields_num = NFS4_SERVER_MAX_PROC;
+			suppress_warning = 1;
+		}
+		else
+		{
+			return (EINVAL);
+		}
+	}
+
+        nfs_submit_fields (4, instance, fields, 
+			nfs4_server40_procedures_names_num,
+			nfs4_server40_procedures_names);
+
+	if (fields_num >= NFS4_SERVER41_NUM_PROC)
+	{
+		fields += nfs4_server40_procedures_names_num;
+
+	        nfs_submit_fields (4, instance, fields, 
+				nfs4_server41_procedures_names_num, 
+				nfs4_server41_procedures_names);
+	}
+
+	return (0);
+}
+
+static int nfs_submit_nfs4_client (const char *instance, char **fields, 
+		size_t fields_num)
+{
+	size_t proc40_names_num, proc41_names_num;
+
+	static int suppress_warning = 0;
+
+	switch (fields_num)
+	{
+		case 34:
+		case 35:
+		case 36:
+		case 37:
+		case 38:
+			/* 4.0-only configuration */
+			proc40_names_num = fields_num;
+			break;
+		case 40:
+		case 41:
+			proc40_names_num = 35;
+			break;
+		case 42:
+		case 44:
+			proc40_names_num = 36;
+		case 46:
+		case 47:
+		case 51:
+		case 53:
+			proc40_names_num = 37;
+			break;
+		case 54:
+			proc40_names_num = 38;
+			break;
+		default:
+			if (!suppress_warning)
+			{
+				WARNING ("nfs plugin: Unexpected number of "
+						"fields for NFSv4 %s "
+						"statistics: %zu. ",
+						instance, fields_num);
+			}
+
+			if (fields_num > 34)
+			{
+				/* safe fallback to basic nfs40 procedures */
+				fields_num = 34;
+				proc40_names_num = 34;
+
+				suppress_warning = 1;
+			}
+			else
+			{
+				return (EINVAL);
+			}
+	}
+
+	nfs_submit_fields (4, instance, fields, proc40_names_num,
+			nfs4_client40_procedures_names);
+
+	if (fields_num > proc40_names_num)
+	{
+		proc41_names_num = fields_num - proc40_names_num;
+		fields += proc40_names_num;
+
+		nfs_submit_fields (4, instance, fields,proc41_names_num,
+				 nfs4_client41_procedures_names);
+	}
 
 	return (0);
 }
 
 static void nfs_read_linux (FILE *fh, char *inst)
 {
 	char buffer[1024];
 
-	char *fields[48];
+	char *fields[64];
 	int fields_num = 0;
 
 	if (fh == NULL)
 		return;
 
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
@@ -298,24 +570,36 @@
 
 		if (fields_num < 3)
 			continue;
 
 		if (strcmp (fields[0], "proc2") == 0)
 		{
-			nfs_submit_fields (/* version = */ 2, inst,
+			nfs_submit_fields_safe (/* version = */ 2, inst,
 					fields + 2, (size_t) (fields_num - 2),
 					nfs2_procedures_names,
 					nfs2_procedures_names_num);
 		}
 		else if (strncmp (fields[0], "proc3", 5) == 0)
 		{
-			nfs_submit_fields (/* version = */ 3, inst,
+			nfs_submit_fields_safe (/* version = */ 3, inst,
 					fields + 2, (size_t) (fields_num - 2),
 					nfs3_procedures_names,
 					nfs3_procedures_names_num);
 		}
+		else if (strcmp (fields[0], "proc4ops") == 0)
+		{
+			if (inst[0] == 's')
+				nfs_submit_nfs4_server (inst, fields + 2, 
+						(size_t) (fields_num - 2));
+		}
+		else if (strcmp (fields[0], "proc4") == 0)
+		{
+			if (inst[0] == 'c')
+				nfs_submit_nfs4_client (inst, fields + 2,
+						(size_t) (fields_num - 2));			
+		}
 	} /* while (fgets) */
 } /* void nfs_read_linux */
 #endif /* KERNEL_LINUX */
 
 #if HAVE_LIBKSTAT
 static int nfs_read_kstat (kstat_t *ksp, int nfs_version, char *inst,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/nginx.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/nginx.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/nginx.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/nginx.c	2015-05-20 20:04:47.187035468 +0800
@@ -1,24 +1,28 @@
 /**
  * collectd - src/nginx.c
  * Copyright (C) 2006-2010  Florian octo Forster
  * Copyright (C) 2008       Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; either version 2 of the License, or (at your
- * option) any later version.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
@@ -32,12 +36,13 @@
 static char *url         = NULL;
 static char *user        = NULL;
 static char *pass        = NULL;
 static char *verify_peer = NULL;
 static char *verify_host = NULL;
 static char *cacert      = NULL;
+static char *timeout     = NULL;
 
 static CURL *curl = NULL;
 
 static char   nginx_buffer[16384];
 static size_t nginx_buffer_len = 0;
 static char   nginx_curl_error[CURL_ERROR_SIZE];
@@ -46,13 +51,14 @@
 {
   "URL",
   "User",
   "Password",
   "VerifyPeer",
   "VerifyHost",
-  "CACert"
+  "CACert",
+  "Timeout"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static size_t nginx_curl_callback (void *buf, size_t size, size_t nmemb,
     void __attribute__((unused)) *stream)
 {
@@ -100,45 +106,51 @@
   else if (strcasecmp (key, "verifypeer") == 0)
     return (config_set (&verify_peer, value));
   else if (strcasecmp (key, "verifyhost") == 0)
     return (config_set (&verify_host, value));
   else if (strcasecmp (key, "cacert") == 0)
     return (config_set (&cacert, value));
+  else if (strcasecmp (key, "timeout") == 0)
+    return (config_set (&timeout, value));
   else
     return (-1);
 } /* int config */
 
 static int init (void)
 {
-  static char credentials[1024];
-
   if (curl != NULL)
     curl_easy_cleanup (curl);
 
   if ((curl = curl_easy_init ()) == NULL)
   {
     ERROR ("nginx plugin: curl_easy_init failed.");
     return (-1);
   }
 
   curl_easy_setopt (curl, CURLOPT_NOSIGNAL, 1L);
   curl_easy_setopt (curl, CURLOPT_WRITEFUNCTION, nginx_curl_callback);
-  curl_easy_setopt (curl, CURLOPT_USERAGENT, PACKAGE_NAME"/"PACKAGE_VERSION);
+  curl_easy_setopt (curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
   curl_easy_setopt (curl, CURLOPT_ERRORBUFFER, nginx_curl_error);
 
   if (user != NULL)
   {
+#ifdef HAVE_CURLOPT_USERNAME
+    curl_easy_setopt (curl, CURLOPT_USERNAME, user);
+    curl_easy_setopt (curl, CURLOPT_PASSWORD, (pass == NULL) ? "" : pass);
+#else
+    static char credentials[1024];
     int status = ssnprintf (credentials, sizeof (credentials),
 	"%s:%s", user, pass == NULL ? "" : pass);
     if ((status < 0) || ((size_t) status >= sizeof (credentials)))
     {
       ERROR ("nginx plugin: Credentials would have been truncated.");
       return (-1);
     }
 
     curl_easy_setopt (curl, CURLOPT_USERPWD, credentials);
+#endif
   }
 
   if (url != NULL)
   {
     curl_easy_setopt (curl, CURLOPT_URL, url);
   }
@@ -166,12 +178,24 @@
 
   if (cacert != NULL)
   {
     curl_easy_setopt (curl, CURLOPT_CAINFO, cacert);
   }
 
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+  if (timeout != NULL)
+  {
+    curl_easy_setopt (curl, CURLOPT_TIMEOUT_MS, atol(timeout));
+  }
+  else
+  {
+    curl_easy_setopt (curl, CURLOPT_TIMEOUT_MS,
+       CDTIME_T_TO_MS(plugin_get_interval()));
+  }
+#endif
+
   return (0);
 } /* void init */
 
 static void submit (char *type, char *inst, long long value)
 {
   value_t values[1];
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/notify_desktop.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/notify_desktop.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/notify_desktop.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/notify_desktop.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,24 +1,29 @@
 /**
  * collectd - src/notify_desktop.c
- * Copyright (C) 2008  Sebastian Harl
+ * Copyright (C) 2008       Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
+ * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
 /*
  * This plugin sends desktop notifications to a notification daemon.
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/notify_email.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/notify_email.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/notify_email.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/notify_email.c	2014-08-18 15:33:14.296460794 +0800
@@ -290,12 +290,13 @@
 
   for (i = 0; i < recipients_len; i++)
     smtp_add_recipient (message, recipients[i]);
 
   /* Initiate a connection to the SMTP server and transfer the message. */
   if (!smtp_start_session (session)) {
+    char buf[MAXSTRING];
     ERROR ("notify_email plugin: SMTP server problem: %s",
         smtp_strerror (smtp_errno (), buf, sizeof buf));
     pthread_mutex_unlock (&session_lock);
     return (-1);
   } else {
     #if COLLECT_DEBUG
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ntpd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ntpd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ntpd.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ntpd.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/ntpd.c
  * Copyright (C) 2006-2012  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #define _DEFAULT_SOURCE
@@ -158,22 +163,22 @@
 			(v_i) = ~(v_i); \
 		} \
 	} while(0)
 /* l_fp to double */
 #define M_LFPTOD(r_i, r_uf, d) \
 	do { \
-		register int32_t  ri; \
-		register uint32_t rf; \
+		register int32_t  i; \
+		register uint32_t f; \
 		\
-		ri = (r_i); \
-		rf = (r_uf); \
-		if (ri < 0) { \
-			M_NEG(ri, rf); \
-			(d) = -((double) ri + ((double) rf) / 4294967296.0); \
+		i = (r_i); \
+		f = (r_uf); \
+		if (i < 0) { \
+			M_NEG(i, f); \
+			(d) = -((double) i + ((double) f) / 4294967296.0); \
 		} else { \
-			(d) = (double) ri + ((double) rf) / 4294967296.0; \
+			(d) = (double) i + ((double) f) / 4294967296.0; \
 		} \
 	} while (0)
 
 #define REQ_PEER_LIST_SUM 1
 struct info_peer_summary
 {
@@ -302,13 +307,13 @@
 		return (-1);
 	}
 
 	return (0);
 }
 
-static void ntpd_submit (char *type, char *type_inst, gauge_t value)
+static void ntpd_submit (char *type, char *type_inst, double value)
 {
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	values[0].gauge = value;
 
@@ -324,13 +329,13 @@
 }
 
 /* Each time a peer is polled, ntpd shifts the reach register to the left and
  * sets the LSB based on whether the peer was reachable. If the LSB is zero,
  * the values are out of date. */
 static void ntpd_submit_reach (char *type, char *type_inst, uint8_t reach,
-		gauge_t value)
+		double value)
 {
 	if (!(reach & 1))
 		value = NAN;
 
 	ntpd_submit (type, type_inst, value);
 }
@@ -662,12 +667,13 @@
 		DEBUG ("realloc (%p, %zu)", (void *) *res_data,
 				(items_num + pkt_item_num) * res_item_size);
 		items = realloc ((void *) *res_data,
 				(items_num + pkt_item_num) * res_item_size);
 		if (items == NULL)
 		{
+			items = *res_data;
 			ERROR ("ntpd plugin: realloc failed.");
 			continue;
 		}
 		items_num += pkt_item_num;
 		*res_data = items;
 
@@ -897,25 +903,15 @@
 	int                 ik_size;
 
 	struct info_peer_summary *ps;
 	int                       ps_num;
 	int                       ps_size;
 
-	gauge_t offset_loop;
-	gauge_t freq_loop;
-	gauge_t offset_error;
-
 	int status;
 	int i;
 
-	/* On Linux, if the STA_NANO bit is set in ik->status, then ik->offset
-	 * is is nanoseconds, otherwise it's microseconds.
-	 * TODO(octo): STA_NANO is defined in the Linux specific <sys/timex.h> header. */
-	double scale_loop  = 1e-6;
-	double scale_error = 1e-6;
-
 	ik      = NULL;
 	ik_num  = 0;
 	ik_size = 0;
 
 	status = ntpd_do_query (REQ_GET_KERNEL,
 			0, 0, NULL, /* request data */
@@ -932,25 +928,24 @@
 				"(ik = %p; ik_num = %i; ik_size = %i)",
 				(void *) ik, ik_num, ik_size);
 		return (-1);
 	}
 
 	/* kerninfo -> estimated error */
-	offset_loop  = scale_loop * ((gauge_t) ntohl (ik->offset));
-	freq_loop    = ntpd_read_fp (ik->freq);
-	offset_error = scale_error * ((gauge_t) ntohl (ik->esterror));
 
 	DEBUG ("info_kernel:\n"
-			"  pll offset    = %.8g\n"
-			"  pll frequency = %.8g\n" /* drift compensation */
-			"  est error     = %.8g\n",
-			offset_loop, freq_loop, offset_error);
-
-	ntpd_submit ("frequency_offset", "loop",  freq_loop);
-	ntpd_submit ("time_offset",      "loop",  offset_loop);
-	ntpd_submit ("time_offset",      "error", offset_error);
+			"  pll offset    = %.8f\n"
+			"  pll frequency = %.8f\n" /* drift compensation */
+			"  est error     = %.8f\n",
+			ntpd_read_fp (ik->offset),
+			ntpd_read_fp (ik->freq),
+			ntpd_read_fp (ik->esterror));
+
+	ntpd_submit ("frequency_offset", "loop",  ntpd_read_fp (ik->freq));
+	ntpd_submit ("time_offset",      "loop",  ntpd_read_fp (ik->offset));
+	ntpd_submit ("time_offset",      "error", ntpd_read_fp (ik->esterror));
 
 	free (ik);
 	ik = NULL;
 
 	status = ntpd_do_query (REQ_PEER_LIST_SUM,
 			0, 0, NULL, /* request data */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/numa.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/numa.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/numa.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/numa.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/numa.c
- * Copyright (C) 2012  Florian Forster
+ * Copyright (C) 2012       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/nut.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/nut.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/nut.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/nut.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/nut.c
- * Copyright (C) 2007  Florian octo Forster
+ * Copyright (C) 2007       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/olsrd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/olsrd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/olsrd.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/olsrd.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/olsrd.c
- * Copyright (C) 2009  Florian octo Forster
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/onewire.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/onewire.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/onewire.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/onewire.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,9 +1,9 @@
 /**
- * collectd - src/owfs.c
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/onewire.c
+ * Copyright (C) 2008  noris network AG
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -21,12 +21,15 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_ignorelist.h"
 
+#include <sys/time.h>
+#include <sys/types.h>
+#include <regex.h>
 #include <owcapi.h>
 
 #define OW_FAMILY_LENGTH 8
 #define OW_FAMILY_MAX_FEATURES 2
 struct ow_family_features_s
 {
@@ -38,55 +41,263 @@
     char type_instance[DATA_MAX_NAME_LEN];
   } features[OW_FAMILY_MAX_FEATURES];
   size_t features_num;
 };
 typedef struct ow_family_features_s ow_family_features_t;
 
+/* internal timing info collected in debug version only */
+#if COLLECT_DEBUG
+static struct timeval tv_begin, tv_end, tv_diff;
+#endif /* COLLECT_DEBUG */
+
+/* regexp to extract address (without family) and file from the owfs path */
+static const char *regexp_to_match = "[A-Fa-f0-9]{2}\\.([A-Fa-f0-9]{12})/([[:alnum:]]+)$";
+
 /* see http://owfs.sourceforge.net/ow_table.html for a list of families */
 static ow_family_features_t ow_family_features[] =
 {
-  {
+  { /* DS18S20 Precision Thermometer and DS1920 ibutton */
     /* family = */ "10.",
     {
       {
         /* filename = */ "temperature",
         /* type = */ "temperature",
         /* type_instance = */ ""
       }
     },
     /* features_num = */ 1
+  },
+  { /* DS1822 Econo Thermometer */
+    /* family = */ "22.",
+    {
+      {
+        /* filename = */ "temperature",
+        /* type = */ "temperature",
+        /* type_instance = */ ""
+      }
+    },
+    /* features_num = */ 1
+  },
+  { /* DS18B20 Programmable Resolution Thermometer */
+    /* family = */ "28.",
+    {
+      {
+        /* filename = */ "temperature",
+        /* type = */ "temperature",
+        /* type_instance = */ ""
+      }
+    },
+    /* features_num = */ 1
+  },
+  { /* DS2436 Volts/Temp */
+    /* family = */ "1B.",
+    {
+      {
+        /* filename = */ "temperature",
+        /* type = */ "temperature",
+        /* type_instance = */ ""
+      }
+    },
+    /* features_num = */ 1
+  },
+  { /* DS2438 Volts/Temp */
+    /* family = */ "26.",
+    {
+      {
+        /* filename = */ "temperature",
+        /* type = */ "temperature",
+        /* type_instance = */ ""
+      }
+    },
+    /* features_num = */ 1
   }
 };
 static int ow_family_features_num = STATIC_ARRAY_SIZE (ow_family_features);
 
 static char *device_g = NULL;
 static cdtime_t ow_interval = 0;
+static _Bool direct_access = 0;
 
 static const char *config_keys[] =
 {
   "Device",
   "IgnoreSelected",
   "Sensor",
   "Interval"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static ignorelist_t *sensor_list;
 
+static _Bool   regex_direct_initialized = 0;
+static regex_t regex_direct;
+
+/**
+ * List of onewire owfs "files" to be directly read
+ */
+typedef struct direct_access_element_s
+{
+	char *path;                 /**< The whole owfs path */
+    char *address;              /**< 1-wire address without family */
+    char *file;                 /**< owfs file - e.g. temperature */
+	struct direct_access_element_s *next; /**< Next in the list */
+} direct_access_element_t;
+
+static direct_access_element_t * direct_list = NULL;
+
+/* =================================================================================== */
+
+#if COLLECT_DEBUG
+/* Return 1 if the difference is negative, otherwise 0.  */
+static int timeval_subtract(struct timeval *result, struct timeval *t2, struct timeval *t1)
+{
+    long int diff = (t2->tv_usec + 1000000 * t2->tv_sec) - (t1->tv_usec + 1000000 * t1->tv_sec);
+    result->tv_sec = diff / 1000000;
+    result->tv_usec = diff % 1000000;
+
+    return (diff<0);
+}
+#endif /* COLLECT_DEBUG */
+
+/* =================================================================================== */
+
+static void direct_list_element_free(direct_access_element_t *el)
+{
+    if (el != NULL)
+    {
+        DEBUG ("onewire plugin: direct_list_element_free - deleting <%s>", el->path);
+        sfree (el->path);
+        sfree (el->address);
+        sfree (el->file);
+        free (el);
+    }
+}
+
+static int direct_list_insert(const char * config)
+{
+    regmatch_t               pmatch[3];
+    size_t                   nmatch = 3;
+    direct_access_element_t *element = NULL;
+
+    DEBUG ("onewire plugin: direct_list_insert <%s>", config);
+
+    element = (direct_access_element_t *) malloc (sizeof(*element));
+    if (element == NULL)
+    {
+        ERROR ("onewire plugin: direct_list_insert - cannot allocate element");
+        return 1;
+    }
+    element->path    = NULL;
+    element->address = NULL;
+    element->file    = NULL;
+
+    element->path = strdup (config);
+    if (element->path == NULL)
+    {
+        ERROR ("onewire plugin: direct_list_insert - cannot allocate path");
+        direct_list_element_free (element);
+        return 1;
+    }
+
+    DEBUG ("onewire plugin: direct_list_insert - about to match %s", config);
+
+    if (!regex_direct_initialized)
+    {
+        if (regcomp (&regex_direct, regexp_to_match, REG_EXTENDED))
+        {
+            ERROR ("onewire plugin: Cannot compile regex");
+            direct_list_element_free (element);
+            return (1);
+        }
+        regex_direct_initialized = 1;
+        DEBUG ("onewire plugin: Compiled regex!!");
+    }
+
+    if (regexec (&regex_direct, config, nmatch, pmatch, 0))
+    {
+        ERROR ("onewire plugin: direct_list_insert - no regex  match");
+        direct_list_element_free (element);
+        return 1;
+    }
+
+    if (pmatch[1].rm_so<0)
+    {
+        ERROR ("onewire plugin: direct_list_insert - no address regex match");
+        direct_list_element_free (element);
+        return 1;
+    }
+    element->address = strndup (config+pmatch[1].rm_so,
+                                pmatch[1].rm_eo - pmatch[1].rm_so);
+    if (element->address == NULL)
+    {
+        ERROR ("onewire plugin: direct_list_insert - cannot allocate address");
+        direct_list_element_free (element);
+        return 1;
+    }
+    DEBUG ("onewire plugin: direct_list_insert - found address <%s>",
+           element->address);
+
+    if (pmatch[2].rm_so<0)
+    {
+        ERROR ("onewire plugin: direct_list_insert - no file regex match");
+        direct_list_element_free (element);
+        return 1;
+    }
+    element->file = strndup (config+pmatch[2].rm_so,
+                             pmatch[2].rm_eo - pmatch[2].rm_so);
+    if (element->file == NULL)
+    {
+        ERROR ("onewire plugin: direct_list_insert - cannot allocate file");
+        direct_list_element_free (element);
+        return 1;
+    }
+    DEBUG ("onewire plugin: direct_list_insert - found file <%s>", element->file);
+
+    element->next = direct_list;
+    direct_list = element;
+
+    return 0;
+}
+
+static void direct_list_free(void)
+{
+    direct_access_element_t *traverse = direct_list;
+    direct_access_element_t *tmp = NULL;;
+
+    while(traverse != NULL)
+    {
+        tmp = traverse;
+        traverse = traverse->next;
+        direct_list_element_free (tmp);
+        tmp = NULL;
+    }
+}
+
+/* =================================================================================== */
+
 static int cow_load_config (const char *key, const char *value)
 {
   if (sensor_list == NULL)
     sensor_list = ignorelist_create (1);
 
   if (strcasecmp (key, "Sensor") == 0)
   {
-    if (ignorelist_add (sensor_list, value))
+    if (direct_list_insert (value))
     {
-      ERROR ("sensors plugin: "
-          "Cannot add value to ignorelist.");
-      return (1);
+        DEBUG ("onewire plugin: Cannot add %s to direct_list_insert.", value);
+
+        if (ignorelist_add (sensor_list, value))
+        {
+            ERROR ("onewire plugin: Cannot add value to ignorelist.");
+            return (1);
+        }
+    }
+    else
+    {
+        DEBUG ("onewire plugin: %s is a direct access", value);
+        direct_access = 1;
     }
   }
   else if (strcasecmp (key, "IgnoreSelected") == 0)
   {
     ignorelist_set_invert (sensor_list, 1);
     if (IS_TRUE (value))
@@ -155,25 +366,28 @@
     snprintf (file, sizeof (file), "%s/%s",
         path, family_info->features[i].filename);
     file[sizeof (file) - 1] = 0;
 
     buffer = NULL;
     buffer_size = 0;
+    DEBUG ("Start reading onewire device %s", file);
     status = OW_get (file, &buffer, &buffer_size);
     if (status < 0)
     {
       ERROR ("onewire plugin: OW_get (%s/%s) failed. status = %#x;",
           path, family_info->features[i].filename, status);
       return (-1);
     }
+    DEBUG ("Read onewire device %s as %s", file, buffer);
 
     endptr = NULL;
     values[0].gauge = strtod (buffer, &endptr);
     if (endptr == NULL)
     {
       ERROR ("onewire plugin: Buffer is not a number: %s", buffer);
+      status = -1;
       continue;
     }
 
     sstrncpy (vl.type, family_info->features[i].type, sizeof (vl.type));
     sstrncpy (vl.type_instance, family_info->features[i].type_instance,
         sizeof (vl.type_instance));
@@ -272,22 +486,110 @@
   } /* while (strtok_r) */
 
   free (buffer);
   return (0);
 } /* int cow_read_bus */
 
+
+/* =================================================================================== */
+
+static int cow_simple_read (void)
+{
+  value_t      values[1];
+  value_list_t vl = VALUE_LIST_INIT;
+  char        *buffer;
+  size_t       buffer_size;
+  int          status;
+  char        *endptr;
+  direct_access_element_t *traverse;
+
+  /* traverse list and check entries */
+  for (traverse = direct_list; traverse != NULL; traverse = traverse->next)
+  {
+      vl.values = values;
+      vl.values_len = 1;
+
+      sstrncpy (vl.host, hostname_g, sizeof (vl.host));
+      sstrncpy (vl.plugin, "onewire", sizeof (vl.plugin));
+      sstrncpy (vl.plugin_instance, traverse->address, sizeof (vl.plugin_instance));
+
+      status = OW_get (traverse->path, &buffer, &buffer_size);
+      if (status < 0)
+      {
+          ERROR ("onewire plugin: OW_get (%s) failed. status = %#x;",
+                 traverse->path,
+                 status);
+          return (-1);
+      }
+      DEBUG ("onewire plugin: Read onewire device %s as %s", traverse->path, buffer);
+
+
+      endptr = NULL;
+      values[0].gauge = strtod (buffer, &endptr);
+      if (endptr == NULL)
+      {
+          ERROR ("onewire plugin: Buffer is not a number: %s", buffer);
+          status = -1;
+          continue;
+      }
+
+      sstrncpy (vl.type, traverse->file, sizeof (vl.type));
+      sstrncpy (vl.type_instance, "",   sizeof (""));
+
+      plugin_dispatch_values (&vl);
+      free (buffer);
+  } /* for (traverse) */
+
+  return 0;
+} /* int cow_simple_read */
+
+/* =================================================================================== */
+
 static int cow_read (user_data_t *ud __attribute__((unused)))
 {
-  return (cow_read_bus ("/"));
+    int result=0;
+
+#if COLLECT_DEBUG
+    gettimeofday (&tv_begin, NULL);
+#endif /* COLLECT_DEBUG */
+
+    if (direct_access)
+    {
+        DEBUG ("onewire plugin: Direct access read");
+        result = cow_simple_read ();
+    }
+    else
+    {
+        DEBUG ("onewire plugin: Standard access read");
+        result = cow_read_bus ("/");
+    }
+
+#if COLLECT_DEBUG
+    gettimeofday (&tv_end, NULL);
+    timeval_subtract (&tv_diff, &tv_end, &tv_begin);
+    DEBUG ("onewire plugin: Onewire read took us %ld.%06ld s",
+           tv_diff.tv_sec,
+           tv_diff.tv_usec);
+#endif /* COLLECT_DEBUG */
+
+    return result;
 } /* int cow_read */
 
 static int cow_shutdown (void)
 {
-  OW_finish ();
-  ignorelist_free (sensor_list);
-  return (0);
+    OW_finish ();
+    ignorelist_free (sensor_list);
+
+    direct_list_free ();
+
+    if (regex_direct_initialized)
+    {
+        regfree(&regex_direct);
+    }
+
+    return (0);
 } /* int cow_shutdown */
 
 static int cow_init (void)
 {
   int status;
   struct timespec cb_interval;
@@ -295,12 +597,13 @@
   if (device_g == NULL)
   {
     ERROR ("onewire plugin: cow_init: No device configured.");
     return (-1);
   }
 
+  DEBUG ("onewire plugin: about to init device <%s>.", device_g);
   status = (int) OW_init (device_g);
   if (status != 0)
   {
     ERROR ("onewire plugin: OW_init(%s) failed: %i.", device_g, status);
     return (1);
   }
@@ -316,10 +619,10 @@
 } /* int cow_init */
 
 void module_register (void)
 {
   plugin_register_init ("onewire", cow_init);
   plugin_register_config ("onewire", cow_load_config,
-    config_keys, config_keys_num);
+                          config_keys, config_keys_num);
 }
 
 /* vim: set sw=2 sts=2 ts=8 et fdm=marker cindent : */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: openldap.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/openvpn.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/openvpn.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/openvpn.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/openvpn.c	2015-03-10 22:14:45.845114500 +0800
@@ -29,23 +29,25 @@
 #include "common.h"
 #include "plugin.h"
 
 #define V1STRING "Common Name,Real Address,Bytes Received,Bytes Sent,Connected Since\n"
 #define V2STRING "HEADER,CLIENT_LIST,Common Name,Real Address,Virtual Address,Bytes Received,Bytes Sent,Connected Since,Connected Since (time_t)\n"
 #define V3STRING "HEADER CLIENT_LIST Common Name Real Address Virtual Address Bytes Received Bytes Sent Connected Since Connected Since (time_t)\n"
+#define V4STRING "HEADER,CLIENT_LIST,Common Name,Real Address,Virtual Address,Bytes Received,Bytes Sent,Connected Since,Connected Since (time_t),Username\n"
 #define VSSTRING "OpenVPN STATISTICS\n"
 
 
 struct vpn_status_s
 {
 	char *file;
 	enum
 	{
 		MULTI1 = 1, /* status-version 1 */
 		MULTI2,     /* status-version 2 */
 		MULTI3,     /* status-version 3 */
+		MULTI4,     /* status-version 4 */
 		SINGLE = 10 /* currently no versions for single mode, maybe in the future */
 	} version;
 	char *name;
 };
 typedef struct vpn_status_s vpn_status_t;
 
@@ -184,12 +186,14 @@
 	tun_rx = 0;
 	tun_tx = 0;
 	pre_compress = 0;
 	post_compress = 0;
 	pre_decompress = 0;
 	post_decompress = 0;
+	overhead_rx = 0;
+	overhead_tx = 0;
 
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
 		fields_num = openvpn_strsplit (buffer, fields, max_fields);
 
 		/* status file is generated by openvpn/sig.c:print_status()
@@ -445,19 +449,83 @@
 		read = 1;
 	}
 
 	return (read);
 } /* int multi3_read */
 
+/* for reading status version 4 */
+static int multi4_read (char *name, FILE *fh)
+{
+	char buffer[1024];
+	char *fields[11];
+	const int max_fields = STATIC_ARRAY_SIZE (fields);
+	int  fields_num, read = 0;
+	long long sum_users    = 0;
+
+	while (fgets (buffer, sizeof (buffer), fh) != NULL)
+	{
+		fields_num = openvpn_strsplit (buffer, fields, max_fields);
+
+		/* status file is generated by openvpn/multi.c:multi_print_status()
+		 * http://svn.openvpn.net/projects/openvpn/trunk/openvpn/multi.c
+		 *
+		 * The line we're expecting has 9 fields. We ignore all lines
+		 *  with more or less fields.
+		 */
+		if (fields_num != 9)
+			continue;
+
+
+		if (strcmp (fields[0], "CLIENT_LIST") != 0)
+			continue;
+
+
+		if (collect_user_count)
+			/* If so, sum all users, ignore the individuals*/
+		{
+			sum_users += 1;
+		}
+		if (collect_individual_users)
+		{
+			if (new_naming_schema)
+			{
+				/* plugin inst = file name, type inst = fields[1] */
+				iostats_submit (name,               /* vpn instance */
+						fields[1],          /* "Common Name" */
+						atoll (fields[4]),  /* "Bytes Received" */
+						atoll (fields[5])); /* "Bytes Sent" */
+			}
+			else
+			{
+				/* plugin inst = fields[1], type inst = "" */
+				iostats_submit (fields[1],          /* "Common Name" */
+						NULL,               /* unused when in multimode */
+						atoll (fields[4]),  /* "Bytes Received" */
+						atoll (fields[5])); /* "Bytes Sent" */
+			}
+		}
+
+		read = 1;
+	}
+
+	if (collect_user_count)
+	{
+		numusers_submit(name, name, sum_users);
+		read = 1;
+	}
+
+	return (read);
+} /* int multi4_read */
+
 /* read callback */
 static int openvpn_read (void)
 {
 	FILE *fh;
-	int  i, read;
+	int  i, vpn_read, read;
 
-	read = 0;
+	vpn_read = read = 0;
 
 	/* call the right read function for every status entry in the list */
 	for (i = 0; i < vpn_num; i++)
 	{
 		fh = fopen (vpn_list[i]->file, "r");
 		if (fh == NULL)
@@ -469,29 +537,34 @@
 			continue;
 		}
 
 		switch (vpn_list[i]->version)
 		{
 			case SINGLE:
-				read = single_read(vpn_list[i]->name, fh);
+				vpn_read = single_read(vpn_list[i]->name, fh);
 				break;
 
 			case MULTI1:
-				read = multi1_read(vpn_list[i]->name, fh);
+				vpn_read = multi1_read(vpn_list[i]->name, fh);
 				break;
 
 			case MULTI2:
-				read = multi2_read(vpn_list[i]->name, fh);
+				vpn_read = multi2_read(vpn_list[i]->name, fh);
 				break;
 
 			case MULTI3:
-				read = multi3_read(vpn_list[i]->name, fh);
+				vpn_read = multi3_read(vpn_list[i]->name, fh);
+				break;
+
+			case MULTI4:
+				vpn_read = multi4_read(vpn_list[i]->name, fh);
 				break;
 		}
 
 		fclose (fh);
+		read += vpn_read;
 	}
 
 	return (read ? 0 : -1);
 } /* int openvpn_read */
 
 static int version_detect (const char *filename)
@@ -542,12 +615,19 @@
 		else if (strcmp (buffer, V3STRING) == 0)
 		{
 			DEBUG ("openvpn plugin: found status file version MULTI3");
 			version = MULTI3;
 			break;
 		}
+		/* searching for multi version 4 */
+		else if (strcmp (buffer, V4STRING) == 0)
+		{
+			DEBUG ("openvpn plugin: found status file version MULTI4");
+			version = MULTI4;
+			break;
+		}
 	}
 
 	if (version == 0)
 	{
 		/* This is only reached during configuration, so complaining to
 		 * the user is in order. */
@@ -614,29 +694,21 @@
 				return (1);
 			}
 		}
 
 		/* create a new vpn element since file, version and name are ok */
 		temp = (vpn_status_t *) malloc (sizeof (vpn_status_t));
-		if (temp == NULL)
-		{
-			char errbuf[1024];
-			ERROR ("openvpn plugin: malloc failed: %s",
-					sstrerror (errno, errbuf, sizeof (errbuf)));
-			sfree (status_file);
-			return (1);
-		}
 		temp->file = status_file;
 		temp->version = status_version;
 		temp->name = status_name;
 
 		vpn_list = (vpn_status_t **) realloc (vpn_list, (vpn_num + 1) * sizeof (vpn_status_t *));
 		if (vpn_list == NULL)
 		{
 			char errbuf[1024];
-			ERROR ("openvpn plugin: realloc failed: %s",
+			ERROR ("openvpn plugin: malloc failed: %s",
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 
 			sfree (temp->file);
 			sfree (temp);
 			return (1);
 		}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/perl.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/perl.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,33 +1,38 @@
 /**
  * collectd - src/perl.c
  * Copyright (C) 2007-2009  Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
- *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
+ * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
 /*
  * This plugin embeds a Perl interpreter into collectd and provides an
  * interface for collectd plugins written in perl.
  */
 
-/* do not automatically get the thread specific Perl interpreter */
+/* do not automatically get the thread specific perl interpreter */
 #define PERL_NO_GET_CONTEXT
 
 #define DONT_POISON_SPRINTF_YET 1
 #include "collectd.h"
 #undef DONT_POISON_SPRINTF_YET
 
@@ -38,12 +43,13 @@
 #endif
 
 #include <EXTERN.h>
 #include <perl.h>
 
 #if defined(COLLECT_DEBUG) && COLLECT_DEBUG && defined(__GNUC__) && __GNUC__
+# undef sprintf
 # pragma GCC poison sprintf
 #endif
 
 #include <XSUB.h>
 
 /* Some versions of Perl define their own version of DEBUG... :-/ */
@@ -114,15 +120,12 @@
  * private data types
  */
 
 typedef struct c_ithread_s {
 	/* the thread's Perl interpreter */
 	PerlInterpreter *interp;
-	_Bool running;  /* thread is inside Perl interpreter */
-	_Bool shutdown;
-	pthread_t pthread;
 
 	/* double linked list of threads */
 	struct c_ithread_s *prev;
 	struct c_ithread_s *next;
 } c_ithread_t;
 
@@ -133,13 +136,12 @@
 #if COLLECT_DEBUG
 	/* some usage stats */
 	int number_of_threads;
 #endif /* COLLECT_DEBUG */
 
 	pthread_mutex_t mutex;
-	pthread_mutexattr_t mutexattr;
 } c_ithread_list_t;
 
 /* name / user_data for Perl matches / targets */
 typedef struct {
 	char *name;
 	SV   *user_data;
@@ -511,12 +513,13 @@
 		}
 		sstrncpy ((*m)->name, SvPV_nolen (*tmp), sizeof ((*m)->name));
 
 		if (NULL == (tmp = hv_fetch (hash, "value", 5, 0))) {
 			log_warn ("av2notification_meta: Skipping invalid "
 					"meta information.");
+			free ((*m)->name);
 			free (*m);
 			continue;
 		}
 
 		if (SvNOK (*tmp)) {
 			(*m)->nm_value.nm_double = SvNVX (*tmp);
@@ -1003,38 +1006,12 @@
 	ret = plugin_dispatch_notification (&n);
 	plugin_notification_meta_free (n.meta);
 	return ret;
 } /* static int pplugin_dispatch_notification (HV *) */
 
 /*
- * Call perl sub with thread locking flags handled.
- */
-static int call_pv_locked (pTHX_ const char* sub_name)
-{
-	_Bool old_running;
-	int ret;
-
-	c_ithread_t *t = (c_ithread_t *)pthread_getspecific(perl_thr_key);
-	if (t == NULL) /* thread destroyed */
-		return 0;
-
-	old_running = t->running;
-	t->running = 1;
-
-	if (t->shutdown) {
-		t->running = old_running;
-		return 0;
-	}
-
-	ret = call_pv (sub_name, G_SCALAR);
-
-	t->running = old_running;
-	return ret;
-} /* static int call_pv_locked (pTHX, *sub_name) */
-
-/*
  * Call all working functions of the given type.
  */
 static int pplugin_call_all (pTHX_ int type, ...)
 {
 	int retvals = 0;
 
@@ -1157,13 +1134,13 @@
 		XPUSHs (sv_2mortal (newSVnv (CDTIME_T_TO_DOUBLE (timeout))));
 		XPUSHs (sv_2mortal (newSVpv (va_arg (ap, char *), 0)));
 	}
 
 	PUTBACK;
 
-	retvals = call_pv_locked (aTHX_ "Collectd::plugin_call_all");
+	retvals = call_pv ("Collectd::plugin_call_all", G_SCALAR);
 
 	SPAGAIN;
 	if (0 < retvals) {
 		SV *tmp = POPs;
 		if (! SvTRUE (tmp))
 			ret = -1;
@@ -1175,13 +1152,13 @@
 
 	va_end (ap);
 	return ret;
 } /* static int pplugin_call_all (int, ...) */
 
 /*
- * collectd's Perl interpreter based thread implementation.
+ * collectd's perl interpreter based thread implementation.
  *
  * This has been inspired by Perl's ithreads introduced in version 5.6.0.
  */
 
 /* must be called with perl_threads->mutex locked */
 static void c_ithread_destroy (c_ithread_t *ithread)
@@ -1229,16 +1206,13 @@
 	for (t = perl_threads->head; NULL != t; t = t->next)
 		if (t == ithread)
 			break;
 
 	/* the ithread no longer exists */
 	if (NULL == t)
-	{
-		pthread_mutex_unlock (&perl_threads->mutex);
 		return;
-	}
 
 	c_ithread_destroy (ithread);
 
 	pthread_mutex_unlock (&perl_threads->mutex);
 	return;
 } /* static void c_ithread_destructor (void *) */
@@ -1278,15 +1252,12 @@
 	}
 	else {
 		perl_threads->tail->next = t;
 		t->prev = perl_threads->tail;
 	}
 
-	t->pthread = pthread_self();
-	t->running = 0;
-	t->shutdown = 0;
 	perl_threads->tail = t;
 
 	pthread_setspecific (perl_thr_key, (const void *)t);
 	return t;
 } /* static c_ithread_t *c_ithread_create (PerlInterpreter *) */
 
@@ -1401,13 +1372,13 @@
 	}
 
 	XPUSHs (sv_2mortal (newRV_inc (data->user_data)));
 
 	PUTBACK;
 
-	retvals = call_pv_locked (aTHX_ "Collectd::fc_call");
+	retvals = call_pv ("Collectd::fc_call", G_SCALAR);
 
 	if ((FC_CB_EXEC == cb_type) && (meta != NULL)) {
 		assert (pmeta != NULL);
 
 		plugin_notification_meta_free (*meta);
 		av2notification_meta (aTHX_ pmeta, meta);
@@ -1676,21 +1647,21 @@
 
 	log_debug ("Collectd::plugin_dispatch_values: values=\"%s\"",
 			SvPV_nolen (ST (/* stack index = */ 0)));
 
 	values = ST (/* stack index = */ 0);
 
-	if (NULL == values)
-		XSRETURN_EMPTY;
-
 	/* Make sure the argument is a hash reference. */
 	if (! (SvROK (values) && (SVt_PVHV == SvTYPE (SvRV (values))))) {
 		log_err ("Collectd::plugin_dispatch_values: Invalid values.");
 		XSRETURN_EMPTY;
 	}
 
+	if (NULL == values)
+		XSRETURN_EMPTY;
+
 	ret = pplugin_dispatch_values (aTHX_ (HV *)SvRV (values));
 
 	if (0 == ret)
 		XSRETURN_YES;
 	else
 		XSRETURN_EMPTY;
@@ -1941,13 +1912,12 @@
 /*
  * Interface to collectd.
  */
 
 static int perl_init (void)
 {
-	int status;
 	dTHX;
 
 	if (NULL == perl_threads)
 		return 0;
 
 	if (NULL == aTHX) {
@@ -1959,25 +1929,13 @@
 
 		aTHX = t->interp;
 	}
 
 	log_debug ("perl_init: c_ithread: interp = %p (active threads: %i)",
 			aTHX, perl_threads->number_of_threads);
-
-	/* Lock the base thread to avoid race conditions with c_ithread_create().
-	 * See https://github.com/collectd/collectd/issues/9 and
-	 *     https://github.com/collectd/collectd/issues/1706 for details.
-	*/
-	assert (aTHX == perl_threads->head->interp);
-	pthread_mutex_lock (&perl_threads->mutex);
-
-	status = pplugin_call_all (aTHX_ PLUGIN_INIT);
-
-	pthread_mutex_unlock (&perl_threads->mutex);
-
-	return status;
+	return pplugin_call_all (aTHX_ PLUGIN_INIT);
 } /* static int perl_init (void) */
 
 static int perl_read (void)
 {
 	dTHX;
 
@@ -2056,15 +2014,13 @@
 
 		aTHX = t->interp;
 	}
 
 	/* Lock the base thread if this is not called from one of the read threads
 	 * to avoid race conditions with c_ithread_create(). See
-	 * https://github.com/collectd/collectd/issues/9 for details.
-	*/
-
+	 * https://github.com/collectd/collectd/issues/9 for details. */
 	if (aTHX == perl_threads->head->interp)
 		pthread_mutex_lock (&perl_threads->mutex);
 
 	pplugin_call_all (aTHX_ PLUGIN_LOG, level, msg);
 
 	if (aTHX == perl_threads->head->interp)
@@ -2124,13 +2080,13 @@
 	plugin_unregister_complex_config ("perl");
 
 	if (NULL == perl_threads)
 		return 0;
 
 	if (NULL == aTHX) {
-		t = NULL;
+		c_ithread_t *t = NULL;
 
 		pthread_mutex_lock (&perl_threads->mutex);
 		t = c_ithread_create (perl_threads->head->interp);
 		pthread_mutex_unlock (&perl_threads->mutex);
 
 		aTHX = t->interp;
@@ -2149,37 +2105,23 @@
 	ret = pplugin_call_all (aTHX_ PLUGIN_SHUTDOWN);
 
 	pthread_mutex_lock (&perl_threads->mutex);
 	t = perl_threads->tail;
 
 	while (NULL != t) {
-		struct timespec ts_wait;
 		c_ithread_t *thr = t;
 
 		/* the pointer has to be advanced before destroying
 		 * the thread as this will free the memory */
 		t = t->prev;
 
-		thr->shutdown = 1;
-		if (thr->running) {
-			/* Give some time to thread to exit from Perl interpreter */
-			WARNING ("perl shutdown: Thread is running inside Perl. Waiting.");
-			ts_wait.tv_sec = 0;
-			ts_wait.tv_nsec = 500000;
-			nanosleep (&ts_wait, NULL);
-		}
-		if (thr->running) {
-			pthread_kill (thr->pthread, SIGTERM);
-			ERROR ("perl shutdown: Thread hangs inside Perl. Thread killed.");
-		}
 		c_ithread_destroy (thr);
 	}
 
 	pthread_mutex_unlock (&perl_threads->mutex);
 	pthread_mutex_destroy (&perl_threads->mutex);
-	pthread_mutexattr_destroy (&perl_threads->mutexattr);
 
 	sfree (perl_threads);
 
 	pthread_key_delete (perl_thr_key);
 
 	PERL_SYS_TERM ();
@@ -2317,15 +2259,13 @@
 #endif
 	PERL_SYS_INIT3 (&argc, &argv, &environ);
 
 	perl_threads = (c_ithread_list_t *)smalloc (sizeof (c_ithread_list_t));
 	memset (perl_threads, 0, sizeof (c_ithread_list_t));
 
-	pthread_mutexattr_init(&perl_threads->mutexattr);
-	pthread_mutexattr_settype(&perl_threads->mutexattr, PTHREAD_MUTEX_RECURSIVE);
-	pthread_mutex_init (&perl_threads->mutex, &perl_threads->mutexattr);
+	pthread_mutex_init (&perl_threads->mutex, NULL);
 	/* locking the mutex should not be necessary at this point
 	 * but let's just do it for the sake of completeness */
 	pthread_mutex_lock (&perl_threads->mutex);
 
 	perl_threads->head = c_ithread_create (NULL);
 	perl_threads->tail = perl_threads->head;
@@ -2400,13 +2340,13 @@
 
 	assert (NULL != perl_threads);
 	assert (NULL != perl_threads->head);
 
 	aTHX = perl_threads->head->interp;
 
-	log_debug ("perl_config: Loading Perl plugin \"%s\"", value);
+	log_debug ("perl_config: loading perl plugin \"%s\"", value);
 	load_module (PERL_LOADMOD_NOIMPORT,
 			newSVpv (module_name, strlen (module_name)), Nullsv);
 	return 0;
 } /* static int perl_config_loadplugin (oconfig_item_it *) */
 
 /*
@@ -2573,16 +2513,13 @@
 
 	for (i = 0; i < ci->children_num; ++i) {
 		oconfig_item_t *c = ci->children + i;
 		int current_status = 0;
 
 		if (NULL != perl_threads)
-		{
-			if ((aTHX = PERL_GET_CONTEXT) == NULL)
-				return -1;
-		}
+			aTHX = PERL_GET_CONTEXT;
 
 		if (0 == strcasecmp (c->key, "LoadPlugin"))
 			current_status = perl_config_loadplugin (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "BaseName"))
 			current_status = perl_config_basename (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "EnableDebugger"))
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/pf.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/pf.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/pf.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/pf.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,21 +1,25 @@
 /*
- * Copyright (c) 2010 Pierre-Yves Ritschard <pyr@openbsd.org>
- * Copyright (c) 2011 Stefan Rinkes <stefan.rinkes@gmail.org>
+ * Copyright (c) 2010 Pierre-Yves Ritschard
+ * Copyright (c) 2011 Stefan Rinkes
  *
  * Permission to use, copy, modify, and distribute this software for any
  * purpose with or without fee is hereby granted, provided that the above
  * copyright notice and this permission notice appear in all copies.
  *
  * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
  * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
  * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
  * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
  * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
  * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
+ *
+ * Authors:
+ *   Pierre-Yves Ritschard <pyr at openbsd.org>
+ *   Stefan Rinkes <stefan.rinkes at gmail.org>
  */
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 
@@ -25,15 +29,12 @@
 #if HAVE_SYS_SOCKET_H
 # include <sys/socket.h>
 #endif
 #if HAVE_NET_IF_H
 # include <net/if.h>
 #endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
 
 #include <net/pfvar.h>
 
 #ifndef FCNT_NAMES
 # if FCNT_MAX != 3
 #  error "Unexpected value for FCNT_MAX"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/pinba.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/pinba.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/pinba.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/pinba.c	2015-03-10 22:14:45.845114500 +0800
@@ -17,13 +17,13 @@
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Antony Dovgal <tony at daylessday.org>
  *   Phoenix Kayo <kayo.k11.4 at gmail.com>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
@@ -333,13 +333,12 @@
   status = bind (fd, ai->ai_addr, ai->ai_addrlen);
   if (status != 0)
   {
     char errbuf[1024];
     ERROR ("pinba plugin: bind(2) failed: %s",
         sstrerror (errno, errbuf, sizeof (errbuf)));
-    close (fd);
     return (0);
   }
 
   s->fd[s->fd_num].fd = fd;
   s->fd[s->fd_num].events = POLLIN | POLLPRI;
   s->fd[s->fd_num].revents = 0;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ping.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ping.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ping.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ping.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/ping.c
  * Copyright (C) 2005-2012  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -233,13 +238,13 @@
 
   return (0);
 } /* }}} int ping_dispatch_all */
 
 static void *ping_thread (void *arg) /* {{{ */
 {
-  pingobj_t *pingobj = NULL;
+  static pingobj_t *pingobj = NULL;
 
   struct timeval  tv_begin;
   struct timeval  tv_end;
   struct timespec ts_wait;
   struct timespec ts_int;
 
@@ -351,13 +356,13 @@
     }
 
     /* Calculate the absolute time until which to wait and store it in
      * `ts_wait'. */
     time_calc (&ts_wait, &ts_int, &tv_begin, &tv_end);
 
-    pthread_cond_timedwait (&ping_cond, &ping_lock, &ts_wait);
+    status = pthread_cond_timedwait (&ping_cond, &ping_lock, &ts_wait);
     if (ping_thread_loop <= 0)
       break;
   } /* while (ping_thread_loop > 0) */
 
   pthread_mutex_unlock (&ping_lock);
   ping_destroy (pingobj);
@@ -413,16 +418,14 @@
   if (status != 0)
   {
     ERROR ("ping plugin: Stopping thread failed.");
     status = -1;
   }
 
-  pthread_mutex_lock (&ping_lock);
   memset (&ping_thread_id, 0, sizeof (ping_thread_id));
   ping_thread_error = 0;
-  pthread_mutex_unlock (&ping_lock);
 
   return (status);
 } /* }}} int stop_thread */
 
 static int ping_init (void) /* {{{ */
 {
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: plugin.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: plugin.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/postgresql.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/postgresql.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/postgresql.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/postgresql.c	2015-05-22 18:04:36.951771009 +0800
@@ -1,38 +1,32 @@
 /**
  * collectd - src/postgresql.c
  * Copyright (C) 2008-2012  Sebastian Harl
  * Copyright (C) 2009       Florian Forster
- * All rights reserved.
  *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * - Redistributions of source code must retain the above copyright
- *   notice, this list of conditions and the following disclaimer.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * - Redistributions in binary form must reproduce the above copyright
- *   notice, this list of conditions and the following disclaimer in the
- *   documentation and/or other materials provided with the distribution.
- *
- * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
- * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
- * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
- * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
- * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
- * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
- * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
- * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
- * POSSIBILITY OF SUCH DAMAGE.
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 /*
  * This module collects PostgreSQL database statistics.
  */
 
@@ -138,12 +132,13 @@
 
 	cdtime_t interval;
 
 	/* writer "caching" settings */
 	cdtime_t commit_interval;
 	cdtime_t next_commit;
+	cdtime_t expire_delay;
 
 	char *host;
 	char *port;
 	char *database;
 	char *user;
 	char *password;
@@ -260,12 +255,13 @@
 	pthread_mutex_init (&db->db_lock, /* attrs = */ NULL);
 
 	db->interval   = 0;
 
 	db->commit_interval = 0;
 	db->next_commit     = 0;
+	db->expire_delay    = 0;
 
 	db->database   = sstrdup (name);
 	db->host       = NULL;
 	db->port       = NULL;
 	db->user       = NULL;
 	db->password   = NULL;
@@ -568,12 +564,13 @@
 			log_err ("Failed to resolve name of column %i.", col);
 			BAIL_OUT (-1);
 		}
 	}
 
 	if (C_PSQL_IS_UNIX_DOMAIN_SOCKET (db->host)
+			|| (0 == strcmp (db->host, "127.0.0.1"))
 			|| (0 == strcmp (db->host, "localhost")))
 		host = hostname_g;
 	else
 		host = db->host;
 
 	status = udb_query_prepare_result (q, prep_area, host, "postgresql",
@@ -869,12 +866,18 @@
 	params[4] = vl->type;
 	params[5] = VALUE_OR_NULL(vl->type_instance);
 	params[6] = values_name_str;
 
 #undef VALUE_OR_NULL
 
+	if( db->expire_delay > 0 && vl->time < (cdtime() - vl->interval - db->expire_delay) ) {
+		log_info ("c_psql_write: Skipped expired value @ %s - %s/%s-%s/%s-%s/%s", 
+			params[0], params[1], params[2], params[3], params[4], params[5], params[6] );
+		return 0;
+        }
+
 	pthread_mutex_lock (&db->db_lock);
 
 	if (0 != c_psql_check_connection (db)) {
 		pthread_mutex_unlock (&db->db_lock);
 		return -1;
 	}
@@ -1039,25 +1042,23 @@
 	const char *param_str;
 
 	c_psql_param_t *tmp;
 
 	data = udb_query_get_user_data (q);
 	if (NULL == data) {
-		data = malloc (sizeof (*data));
+		data = (c_psql_user_data_t *) smalloc (sizeof (*data));
 		if (NULL == data) {
 			log_err ("Out of memory.");
 			return -1;
 		}
 		memset (data, 0, sizeof (*data));
 		data->params = NULL;
-		data->params_num = 0;
-
-		udb_query_set_user_data (q, data);
 	}
 
-	tmp = realloc (data->params, (data->params_num + 1) * sizeof (*data->params));
+	tmp = (c_psql_param_t *) realloc (data->params,
+			(data->params_num + 1) * sizeof (c_psql_param_t));
 	if (NULL == tmp) {
 		log_err ("Out of memory.");
 		return -1;
 	}
 	data->params = tmp;
 
@@ -1075,12 +1076,14 @@
 	else {
 		log_err ("Invalid parameter \"%s\".", param_str);
 		return 1;
 	}
 
 	data->params_num++;
+	udb_query_set_user_data (q, data);
+
 	return (0);
 } /* config_query_param_add */
 
 static int config_query_callback (udb_query_t *q, oconfig_item_t *ci)
 {
 	if (0 == strcasecmp ("Param", ci->key))
@@ -1158,13 +1161,13 @@
 		log_err ("Out of memory.");
 		return -1;
 	}
 
 	writers = tmp;
 	writer  = writers + writers_num;
-	memset (writer, 0, sizeof (*writer));
+	++writers_num;
 
 	writer->name = sstrdup (ci->values[0].value.string);
 	writer->statement = NULL;
 	writer->store_rates = 1;
 
 	for (i = 0; i < ci->children_num; ++i) {
@@ -1178,16 +1181,16 @@
 			log_warn ("Ignoring unknown config key \"%s\".", c->key);
 	}
 
 	if (status != 0) {
 		sfree (writer->statement);
 		sfree (writer->name);
+		sfree (writer);
 		return status;
 	}
 
-	++writers_num;
 	return 0;
 } /* c_psql_config_writer */
 
 static int c_psql_config_database (oconfig_item_t *ci)
 {
 	c_psql_database_t *db;
@@ -1238,12 +1241,14 @@
 			config_add_writer (c, writers, writers_num,
 					&db->writers, &db->writers_num);
 		else if (0 == strcasecmp (c->key, "Interval"))
 			cf_util_get_cdtime (c, &db->interval);
 		else if (strcasecmp ("CommitInterval", c->key) == 0)
 			cf_util_get_cdtime (c, &db->commit_interval);
+		else if (strcasecmp ("ExpireDelay", c->key) == 0)
+			cf_util_get_cdtime (c, &db->expire_delay);
 		else
 			log_warn ("Ignoring unknown config key \"%s\".", c->key);
 	}
 
 	/* If no `Query' options were given, add the default queries.. */
 	if ((db->queries_num == 0) && (db->writers_num == 0)){
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/powerdns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/powerdns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/powerdns.c	2016-07-26 15:47:12.965713813 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/powerdns.c	2015-05-20 20:04:47.187035468 +0800
@@ -15,13 +15,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Author:
  *   Luke Heberling <lukeh at c-ware.com>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  *
  * DESCRIPTION
  *   Queries a PowerDNS control socket for statistics
  **/
 
 #include "collectd.h"
@@ -120,13 +120,13 @@
 uptime              number of seconds process has been running (since 3.1.5)
 user-msec           number of CPU milliseconds spent in 'user' mode
 }}} */
 
 const char* const default_server_fields[] = /* {{{ */
 {
-  "latency",
+  "latency"
   "packetcache-hit",
   "packetcache-miss",
   "packetcache-size",
   "query-cache-hit",
   "query-cache-miss",
   "recursing-answers",
@@ -144,40 +144,55 @@
    * Server statistics *
    *********************/
   /* Questions */
   {"recursing-questions",    "dns_question", "recurse"},
   {"tcp-queries",            "dns_question", "tcp"},
   {"udp-queries",            "dns_question", "udp"},
+  {"rd-queries",             "dns_question", "rd"},
 
   /* Answers */
   {"recursing-answers",      "dns_answer",   "recurse"},
   {"tcp-answers",            "dns_answer",   "tcp"},
   {"udp-answers",            "dns_answer",   "udp"},
+  {"recursion-unanswered",   "dns_answer",   "recursion-unanswered"},
+  {"udp-answers-bytes",      "total_bytes",  "udp-answers-bytes"},
 
   /* Cache stuff */
   {"packetcache-hit",        "cache_result", "packet-hit"},
   {"packetcache-miss",       "cache_result", "packet-miss"},
   {"packetcache-size",       "cache_size",   "packet"},
+  {"key-cache-size",         "cache_size",   "key"},
+  {"meta-cache-size",        "cache_size",   "meta"},
+  {"signature-cache-size",   "cache_size",   "signature"},
   {"query-cache-hit",        "cache_result", "query-hit"},
   {"query-cache-miss",       "cache_result", "query-miss"},
 
   /* Latency */
   {"latency",                "latency",      NULL},
 
+  /* DNS updates */
+  {"dnsupdate-answers",      "dns_answer",   "dnsupdate-answer"},
+  {"dnsupdate-changes",      "dns_question", "dnsupdate-changes"},
+  {"dnsupdate-queries",      "dns_question", "dnsupdate-queries"},
+  {"dnsupdate-refused",      "dns_answer",   "dnsupdate-refused"},
+
   /* Other stuff.. */
   {"corrupt-packets",        "ipt_packets",  "corrupt"},
   {"deferred-cache-inserts", "counter",      "cache-deferred_insert"},
   {"deferred-cache-lookup",  "counter",      "cache-deferred_lookup"},
   {"qsize-a",                "cache_size",   "answers"},
   {"qsize-q",                "cache_size",   "questions"},
   {"servfail-packets",       "ipt_packets",  "servfail"},
   {"timedout-packets",       "ipt_packets",  "timeout"},
   {"udp4-answers",           "dns_answer",   "udp4"},
   {"udp4-queries",           "dns_question", "queries-udp4"},
   {"udp6-answers",           "dns_answer",   "udp6"},
   {"udp6-queries",           "dns_question", "queries-udp6"},
+  {"security-status",        "dns_question", "security-status"},
+  {"udp-do-queries",         "dns_question", "udp-do_queries"},
+  {"signatures",             "counter",      "signatures"},
 
   /***********************
    * Recursor statistics *
    ***********************/
   /* Answers by return code */
   {"noerror-answers",     "dns_rcode",    "NOERROR"},
@@ -221,14 +236,14 @@
   {"tcp-outqueries",      "dns_question", "outgoing-tcp"},
   {"tcp-questions",       "dns_question", "incoming-tcp"},
   {"throttled-out",       "dns_question", "outgoing-throttled"},
   {"throttle-entries",    "gauge",        "entries-throttle"},
   {"unauthorized-tcp",    "counter",      "denied-unauthorized_tcp"},
   {"unauthorized-udp",    "counter",      "denied-unauthorized_udp"},
-  {"unexpected-packets",  "dns_answer",   "unexpected"}
-  /* {"uptime", "", ""} */
+  {"unexpected-packets",  "dns_answer",   "unexpected"},
+  {"uptime",              "uptime",       NULL}
 }; /* }}} */
 int lookup_table_length = STATIC_ARRAY_SIZE (lookup_table);
 
 static llist_t *list = NULL;
 
 #define PDNS_LOCAL_SOCKPATH LOCALSTATEDIR"/run/"PACKAGE_NAME"-powerdns"
@@ -444,18 +459,12 @@
   }
 
   struct timeval timeout;
   timeout.tv_sec=5;
   timeout.tv_usec=0;
   status = setsockopt (sd, SOL_SOCKET, SO_RCVTIMEO, &timeout, sizeof (timeout));
-  if (status != 0)
-  {
-    FUNC_ERROR ("setsockopt");
-    close (sd);
-    return (-1);
-  }
 
   status = connect (sd, (struct sockaddr *) &item->sockaddr,
       sizeof (item->sockaddr));
   if (status != 0)
   {
     FUNC_ERROR ("connect");
@@ -497,12 +506,13 @@
 
     memcpy (buffer + buffer_size, temp, status);
     buffer_size += status;
     buffer[buffer_size] = 0;
   } /* while (42) */
   close (sd);
+  sd = -1;
 
   if (status < 0)
   {
     sfree (buffer);
   }
   else
@@ -719,12 +729,31 @@
   sfree (buffer);
   sfree (keys_list);
 
   return (0);
 } /* }}} int powerdns_read_recursor */
 
+static int powerdns_config_add_string (const char *name, /* {{{ */
+    char **dest,
+    oconfig_item_t *ci)
+{
+  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
+  {
+    WARNING ("powerdns plugin: `%s' needs exactly one string argument.",
+	name);
+    return (-1);
+  }
+
+  sfree (*dest);
+  *dest = strdup (ci->values[0].value.string);
+  if (*dest == NULL)
+    return (-1);
+
+  return (0);
+} /* }}} int powerdns_config_add_string */
+
 static int powerdns_config_add_collect (list_item_t *li, /* {{{ */
     oconfig_item_t *ci)
 {
   int i;
   char **temp;
 
@@ -829,13 +858,13 @@
   {
     oconfig_item_t *option = ci->children + i;
 
     if (strcasecmp ("Collect", option->key) == 0)
       status = powerdns_config_add_collect (item, option);
     else if (strcasecmp ("Socket", option->key) == 0)
-      status = cf_util_get_string (option, &socket_temp);
+      status = powerdns_config_add_string ("Socket", &socket_temp, option);
     else
     {
       ERROR ("powerdns plugin: Option `%s' not allowed here.", option->key);
       status = -1;
     }
 
@@ -869,20 +898,18 @@
 
     break;
   }
 
   if (status != 0)
   {
-    sfree (socket_temp);
     sfree (item);
     return (-1);
   }
 
   DEBUG ("powerdns plugin: Add server: instance = %s;", item->instance);
 
-  sfree (socket_temp);
   return (0);
 } /* }}} int powerdns_config_add_server */
 
 static int powerdns_config (oconfig_item_t *ci) /* {{{ */
 {
   int i;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/processes.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/processes.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/processes.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/processes.c	2015-05-20 20:04:47.187035468 +0800
@@ -22,13 +22,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Lyonel Vincent <lyonel at ezix.org>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Oleg King <king2 at kaluga.ru>
  *   Sebastian Harl <sh at tokkee.org>
  *   Andrés J. Díaz <ajdiaz at connectical.com>
  *   Manuel Sanmartin
  *   Clément Stenac <clement.stenac at diwi.org>
  *   Cosmin Ioiart <cioiart at gmail.com>
@@ -91,19 +91,19 @@
 #  endif
 #  ifndef CONFIG_HZ
 #    define CONFIG_HZ 100
 #  endif
 /* #endif KERNEL_LINUX */
 
-#elif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD
+#elif HAVE_LIBKVM_GETPROCS && (HAVE_STRUCT_KINFO_PROC_FREEBSD || HAVE_STRUCT_KINFO_PROC_OPENBSD)
 #  include <kvm.h>
 #  include <sys/param.h>
 #  include <sys/sysctl.h>
 #  include <sys/user.h>
 #  include <sys/proc.h>
-/* #endif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD */
+/* #endif HAVE_LIBKVM_GETPROCS && (HAVE_STRUCT_KINFO_PROC_FREEBSD || HAVE_STRUCT_KINFO_PROC_OPENBSD) */
 
 #elif HAVE_PROCINFO_H
 #  include <procinfo.h>
 #  include <sys/types.h>
 
 #define MAXPROCENTRY 32
@@ -125,19 +125,13 @@
 
 #ifdef SAVE_FOB_64
 #  define _FILE_OFFSET_BITS 64
 #  undef SAVE_FOB_64
 #endif
 
-# include <sys/user.h>
 # include <dirent.h>
-
-#ifndef MAXCOMLEN
-#  define MAXCOMLEN 16
-#endif
-
 /* #endif KERNEL_SOLARIS */
 
 #else
 # error "No applicable input method."
 #endif
 
@@ -146,14 +140,18 @@
 #endif
 
 #if HAVE_KSTAT_H
 # include <kstat.h>
 #endif
 
-#ifndef ARG_MAX
-#  define ARG_MAX 4096
+#ifndef CMDLINE_BUFFER_SIZE
+# if defined(ARG_MAX) && (ARG_MAX < 4096)
+#  define CMDLINE_BUFFER_SIZE ARG_MAX
+# else
+#  define CMDLINE_BUFFER_SIZE 4096
+# endif
 #endif
 
 typedef struct procstat_entry_s
 {
 	unsigned long id;
 	unsigned long age;
@@ -228,15 +226,15 @@
 /* #endif HAVE_THREAD_INFO */
 
 #elif KERNEL_LINUX
 static long pagesize_g;
 /* #endif KERNEL_LINUX */
 
-#elif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD
+#elif HAVE_LIBKVM_GETPROCS && (HAVE_STRUCT_KINFO_PROC_FREEBSD || HAVE_STRUCT_KINFO_PROC_OPENBSD)
 static int pagesize;
-/* #endif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD */
+/* #endif HAVE_LIBKVM_GETPROCS && (HAVE_STRUCT_KINFO_PROC_FREEBSD || HAVE_STRUCT_KINFO_PROC_OPENBSD) */
 
 #elif HAVE_PROCINFO_H
 static  struct procentry64 procentry[MAXPROCENTRY];
 static  struct thrdentry64 thrdentry[MAXTHRDENTRY];
 static int pagesize;
 
@@ -279,13 +277,12 @@
 
 		status = regcomp (new->re, regexp, REG_EXTENDED | REG_NOSUB);
 		if (status != 0)
 		{
 			DEBUG ("ProcessMatch: compiling the regular expression \"%s\" failed.", regexp);
 			sfree(new->re);
-			sfree(new);
 			return;
 		}
 	}
 #else
 	if (regexp != NULL)
 	{
@@ -305,15 +302,13 @@
 		{
 			WARNING ("processes plugin: You have configured more "
 					"than one `Process' or "
 					"`ProcessMatch' with the same name. "
 					"All but the first setting will be "
 					"ignored.");
-#if HAVE_REGEX_H
 			sfree (new->re);
-#endif
 			sfree (new);
 			return;
 		}
 
 		if (ptr->next == NULL)
 			break;
@@ -549,18 +544,12 @@
 
 /* put all pre-defined 'Process' names from config to list_head_g tree */
 static int ps_config (oconfig_item_t *ci)
 {
 	int i;
 
-#if KERNEL_LINUX
-	const size_t max_procname_len = 15;
-#elif KERNEL_SOLARIS || KERNEL_FREEBSD
-	const size_t max_procname_len = MAXCOMLEN -1;
-#endif
-
 	for (i = 0; i < ci->children_num; ++i) {
 		oconfig_item_t *c = ci->children + i;
 
 		if (strcasecmp (c->key, "Process") == 0)
 		{
 			if ((c->values_num != 1)
@@ -575,21 +564,12 @@
 				WARNING ("processes plugin: the `Process' config option "
 						"does not expect any child elements -- ignoring "
 						"content (%i elements) of the <Process '%s'> block.",
 						c->children_num, c->values[0].value.string);
 			}
 
-#if KERNEL_LINUX || KERNEL_SOLARIS || KERNEL_FREEBSD
-			if (strlen (c->values[0].value.string) > max_procname_len) {
-				WARNING ("processes plugin: this platform has a %zu character limit "
-						"to process names. The `Process \"%s\"' option will "
-						"not work as expected.",
-						max_procname_len, c->values[0].value.string);
-			}
-#endif
-
 			ps_list_register (c->values[0].value.string, NULL);
 		}
 		else if (strcasecmp (c->key, "ProcessMatch") == 0)
 		{
 			if ((c->values_num != 2)
 					|| (OCONFIG_TYPE_STRING != c->values[0].type)
@@ -655,15 +635,15 @@
 #elif KERNEL_LINUX
 	pagesize_g = sysconf(_SC_PAGESIZE);
 	DEBUG ("pagesize_g = %li; CONFIG_HZ = %i;",
 			pagesize_g, CONFIG_HZ);
 /* #endif KERNEL_LINUX */
 
-#elif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD
+#elif HAVE_LIBKVM_GETPROCS && (HAVE_STRUCT_KINFO_PROC_FREEBSD || HAVE_STRUCT_KINFO_PROC_OPENBSD)
 	pagesize = getpagesize();
-/* #endif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD */
+/* #endif HAVE_LIBKVM_GETPROCS && (HAVE_STRUCT_KINFO_PROC_FREEBSD || HAVE_STRUCT_KINFO_PROC_OPENBSD) */
 
 #elif HAVE_PROCINFO_H
 	pagesize = getpagesize();
 #endif /* HAVE_PROCINFO_H */
 
 	return (0);
@@ -795,20 +775,20 @@
 	plugin_dispatch_values(&vl);
 }
 #endif /* KERNEL_LINUX || KERNEL_SOLARIS*/
 
 /* ------- additional functions for KERNEL_LINUX/HAVE_THREAD_INFO ------- */
 #if KERNEL_LINUX
-static int ps_read_tasks (long pid)
+static int ps_read_tasks (int pid)
 {
 	char           dirname[64];
 	DIR           *dh;
 	struct dirent *ent;
 	int count = 0;
 
-	ssnprintf (dirname, sizeof (dirname), "/proc/%li/task", pid);
+	ssnprintf (dirname, sizeof (dirname), "/proc/%i/task", pid);
 
 	if ((dh = opendir (dirname)) == NULL)
 	{
 		DEBUG ("Failed to open directory `%s'", dirname);
 		return (-1);
 	}
@@ -823,24 +803,24 @@
 	closedir (dh);
 
 	return ((count >= 1) ? count : 1);
 } /* int *ps_read_tasks */
 
 /* Read advanced virtual memory data from /proc/pid/status */
-static procstat_t *ps_read_vmem (long pid, procstat_t *ps)
+static procstat_t *ps_read_vmem (int pid, procstat_t *ps)
 {
 	FILE *fh;
 	char buffer[1024];
 	char filename[64];
 	unsigned long long lib = 0;
 	unsigned long long exe = 0;
 	unsigned long long data = 0;
 	char *fields[8];
 	int numfields;
 
-	ssnprintf (filename, sizeof (filename), "/proc/%li/status", pid);
+	ssnprintf (filename, sizeof (filename), "/proc/%i/status", pid);
 	if ((fh = fopen (filename, "r")) == NULL)
 		return (NULL);
 
 	while (fgets (buffer, sizeof(buffer), fh) != NULL)
 	{
 		long long tmp;
@@ -885,22 +865,22 @@
 	ps->vmem_data = data * 1024;
 	ps->vmem_code = (exe + lib) * 1024;
 
 	return (ps);
 } /* procstat_t *ps_read_vmem */
 
-static procstat_t *ps_read_io (long pid, procstat_t *ps)
+static procstat_t *ps_read_io (int pid, procstat_t *ps)
 {
 	FILE *fh;
 	char buffer[1024];
 	char filename[64];
 
 	char *fields[8];
 	int numfields;
 
-	ssnprintf (filename, sizeof (filename), "/proc/%li/io", pid);
+	ssnprintf (filename, sizeof (filename), "/proc/%i/io", pid);
 	if ((fh = fopen (filename, "r")) == NULL)
 		return (NULL);
 
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
 		derive_t *val = NULL;
@@ -940,13 +920,13 @@
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 
 	return (ps);
 } /* procstat_t *ps_read_io */
 
-static int ps_read_process (long pid, procstat_t *ps, char *state)
+int ps_read_process (int pid, procstat_t *ps, char *state)
 {
 	char  filename[64];
 	char  buffer[1024];
 
 	char *fields[64];
 	char  fields_len;
@@ -963,13 +943,13 @@
 	long long unsigned vmem_size;
 	long long unsigned vmem_rss;
 	long long unsigned stack_size;
 
 	memset (ps, 0, sizeof (procstat_t));
 
-	ssnprintf (filename, sizeof (filename), "/proc/%li/stat", pid);
+	ssnprintf (filename, sizeof (filename), "/proc/%i/stat", pid);
 
 	buffer_len = read_file_contents (filename,
 			buffer, sizeof(buffer) - 1);
 	if (buffer_len <= 0)
 		return (-1);
 	buffer[buffer_len] = 0;
@@ -1008,15 +988,15 @@
 		return (-1);
 	buffer_ptr = &buffer[name_end_pos + 2];
 
 	fields_len = strsplit (buffer_ptr, fields, STATIC_ARRAY_SIZE (fields));
 	if (fields_len < 22)
 	{
-		DEBUG ("processes plugin: ps_read_process (pid = %li):"
+		DEBUG ("processes plugin: ps_read_process (pid = %i):"
 				" `%s' has only %i fields..",
-				pid, filename, fields_len);
+				(int) pid, filename, fields_len);
 		return (-1);
 	}
 
 	*state = fields[0][0];
 
 	if (*state == 'Z')
@@ -1034,13 +1014,13 @@
 		ps->num_proc = 1;
 	}
 
 	/* Leave the rest at zero if this is only a zombi */
 	if (ps->num_proc == 0)
 	{
-		DEBUG ("processes plugin: This is only a zombie: pid = %li; "
+		DEBUG ("processes plugin: This is only a zombi: pid = %i; "
 				"name = %s;", pid, ps->name);
 		return (0);
 	}
 
 	cpu_user_counter   = atoll (fields[11]);
 	cpu_system_counter = atoll (fields[12]);
@@ -1065,13 +1045,13 @@
 
 	if ( (ps_read_vmem(pid, ps)) == NULL)
 	{
 		/* No VMem data */
 		ps->vmem_data = -1;
 		ps->vmem_code = -1;
-		DEBUG("ps_read_process: did not get vmem data for pid %li", pid);
+		DEBUG("ps_read_process: did not get vmem data for pid %i",pid);
 	}
 
 	ps->cpu_user_counter = cpu_user_counter;
 	ps->cpu_system_counter = cpu_system_counter;
 	ps->vmem_size = (unsigned long) vmem_size;
 	ps->vmem_rss = (unsigned long) vmem_rss;
@@ -1082,33 +1062,34 @@
 		/* no io data */
 		ps->io_rchar = -1;
 		ps->io_wchar = -1;
 		ps->io_syscr = -1;
 		ps->io_syscw = -1;
 
-		DEBUG("ps_read_process: not get io data for pid %li", pid);
+		DEBUG("ps_read_process: not get io data for pid %i",pid);
 	}
 
 	/* success */
 	return (0);
 } /* int ps_read_process (...) */
 
-static char *ps_get_cmdline (long pid, char *name, char *buf, size_t buf_len)
+static char *ps_get_cmdline (pid_t pid, char *name, char *buf, size_t buf_len)
 {
 	char  *buf_ptr;
 	size_t len;
 
 	char file[PATH_MAX];
 	int  fd;
 
 	size_t n;
 
 	if ((pid < 1) || (NULL == buf) || (buf_len < 2))
 		return NULL;
 
-	ssnprintf (file, sizeof (file), "/proc/%li/cmdline", pid);
+	ssnprintf (file, sizeof (file), "/proc/%u/cmdline",
+		       	(unsigned int) pid);
 
 	errno = 0;
 	fd = open (file, O_RDONLY);
 	if (fd < 0) {
 		char errbuf[4096];
 		/* ENOENT means the process exited while we were handling it.
@@ -1183,13 +1164,13 @@
 			buf[n] = ' ';
 		--n;
 	}
 	return buf;
 } /* char *ps_get_cmdline (...) */
 
-static int read_fork_rate (void)
+static int read_fork_rate ()
 {
 	FILE *proc_stat;
 	char buffer[1024];
 	value_t value;
 	_Bool value_valid = 0;
 
@@ -1230,14 +1211,14 @@
 	ps_submit_fork_rate (value.derive);
 	return (0);
 }
 #endif /*KERNEL_LINUX */
 
 #if KERNEL_SOLARIS
-static char *ps_get_cmdline (long pid, char *name __attribute__((unused)), /* {{{ */
-    char *buffer, size_t buffer_size)
+static const char *ps_get_cmdline (long pid, /* {{{ */
+		char *buffer, size_t buffer_size)
 {
 	char path[PATH_MAX];
 	psinfo_t info;
 	int status;
 
 	snprintf(path, sizeof (path), "/proc/%li/psinfo", pid);
@@ -1297,16 +1278,12 @@
 	sstrncpy(ps->name, myInfo->pr_fname, sizeof (myInfo->pr_fname));
 	ps->num_lwp = myStatus->pr_nlwp;
 	if (myInfo->pr_wstat != 0) {
 		ps->num_proc = 0;
 		ps->num_lwp = 0;
 		*state = (char) 'Z';
-
-		sfree(myStatus);
-		sfree(myInfo);
-		sfree(myUsage);
 		return (0);
 	} else {
 		ps->num_proc = 1;
 		ps->num_lwp = myInfo->pr_nlwp;
 	}
 
@@ -1723,15 +1700,15 @@
 	int stopped  = 0;
 	int paging   = 0;
 	int blocked  = 0;
 
 	struct dirent *ent;
 	DIR           *proc;
-	long           pid;
+	int            pid;
 
-	char cmdline[ARG_MAX];
+	char cmdline[CMDLINE_BUFFER_SIZE];
 
 	int        status;
 	procstat_t ps;
 	procstat_entry_t pse;
 	char       state;
 
@@ -1750,13 +1727,13 @@
 
 	while ((ent = readdir (proc)) != NULL)
 	{
 		if (!isdigit (ent->d_name[0]))
 			continue;
 
-		if ((pid = atol (ent->d_name)) < 1)
+		if ((pid = atoi (ent->d_name)) < 1)
 			continue;
 
 		status = ps_read_process (pid, &ps, &state);
 		if (status != 0)
 		{
 			DEBUG ("ps_read_process failed: %i", status);
@@ -1863,13 +1840,13 @@
 	for (i = 0; i < count; i++)
 	{
 		/* Create only one process list entry per _process_, i.e.
 		 * filter out threads (duplicate PID entries). */
 		if ((proc_ptr == NULL) || (proc_ptr->ki_pid != procs[i].ki_pid))
 		{
-			char cmdline[ARG_MAX] = "";
+			char cmdline[CMDLINE_BUFFER_SIZE] = "";
 			_Bool have_cmdline = 0;
 
 			proc_ptr = &(procs[i]);
 			/* Don't probe system processes and processes without arguments */
 			if (((procs[i].ki_flag & P_SYSTEM) == 0)
 					&& (procs[i].ki_args != NULL))
@@ -1932,24 +1909,24 @@
 			pse.io_rchar = -1;
 			pse.io_wchar = -1;
 			pse.io_syscr = -1;
 			pse.io_syscw = -1;
 
 			ps_list_add (procs[i].ki_comm, have_cmdline ? cmdline : NULL, &pse);
-
-			switch (procs[i].ki_stat)
-			{
-				case SSTOP:	stopped++;	break;
-				case SSLEEP:	sleeping++;	break;
-				case SRUN:	running++;	break;
-				case SIDL:	idle++;		break;
-				case SWAIT:	wait++;		break;
-				case SLOCK:	blocked++;	break;
-				case SZOMB:	zombies++;	break;
-			}
 		} /* if ((proc_ptr == NULL) || (proc_ptr->ki_pid != procs[i].ki_pid)) */
+
+		switch (procs[i].ki_stat)
+		{
+			case SSTOP: 	stopped++;	break;
+			case SSLEEP:	sleeping++;	break;
+			case SRUN:	running++;	break;
+			case SIDL:	idle++;		break;
+			case SWAIT:	wait++;		break;
+			case SLOCK:	blocked++;	break;
+			case SZOMB:	zombies++;	break;
+		}
 	}
 
 	kvm_close(kd);
 
 	ps_submit_state ("running",  running);
 	ps_submit_state ("sleeping", sleeping);
@@ -1960,12 +1937,144 @@
 	ps_submit_state ("wait",     wait);
 
 	for (ps_ptr = list_head_g; ps_ptr != NULL; ps_ptr = ps_ptr->next)
 		ps_submit_proc_list (ps_ptr);
 /* #endif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_FREEBSD */
 
+#elif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_OPENBSD
+	int running  = 0;
+	int sleeping = 0;
+	int zombies  = 0;
+	int stopped  = 0;
+	int onproc   = 0;
+	int idle     = 0;
+	int dead     = 0;
+
+	kvm_t *kd;
+	char errbuf[1024];
+	struct kinfo_proc *procs;          /* array of processes */
+	struct kinfo_proc *proc_ptr = NULL;
+	int count;                         /* returns number of processes */
+	int i;
+
+	procstat_t *ps_ptr;
+	procstat_entry_t pse;
+
+	ps_list_reset ();
+
+	/* Open the kvm interface, get a descriptor */
+	kd = kvm_open (NULL, NULL, NULL, 0, errbuf);
+	if (kd == NULL)
+	{
+		ERROR ("processes plugin: Cannot open kvm interface: %s",
+				errbuf);
+		return (0);
+	}
+
+	/* Get the list of processes. */
+	procs = kvm_getprocs(kd, KERN_PROC_ALL, 0, sizeof(struct kinfo_proc), &count);
+	if (procs == NULL)
+	{
+		ERROR ("processes plugin: Cannot get kvm processes list: %s",
+				kvm_geterr(kd));
+		kvm_close (kd);
+		return (0);
+	}
+
+	/* Iterate through the processes in kinfo_proc */
+	for (i = 0; i < count; i++)
+	{
+		/* Create only one process list entry per _process_, i.e.
+		 * filter out threads (duplicate PID entries). */
+		if ((proc_ptr == NULL) || (proc_ptr->p_pid != procs[i].p_pid))
+		{
+			char cmdline[CMDLINE_BUFFER_SIZE] = "";
+			_Bool have_cmdline = 0;
+
+			proc_ptr = &(procs[i]);
+			/* Don't probe zombie processes  */
+			if (!P_ZOMBIE(proc_ptr))
+			{
+				char **argv;
+				int argc;
+				int status;
+
+				/* retrieve the arguments */
+				argv = kvm_getargv (kd, proc_ptr, /* nchr = */ 0);
+				argc = 0;
+				if ((argv != NULL) && (argv[0] != NULL))
+				{
+					while (argv[argc] != NULL)
+						argc++;
+
+					status = strjoin (cmdline, sizeof (cmdline), argv, argc, " ");
+					if (status < 0)
+						WARNING ("processes plugin: Command line did not fit into buffer.");
+					else
+						have_cmdline = 1;
+				}
+			} /* if (process has argument list) */
+
+			pse.id       = procs[i].p_pid;
+			pse.age      = 0;
+
+			pse.num_proc = 1;
+			pse.num_lwp  = 1; /* XXX: accumulate p_tid values for a single p_pid ? */
+
+			pse.vmem_rss = procs[i].p_vm_rssize * pagesize;
+			pse.vmem_data = procs[i].p_vm_dsize * pagesize;
+			pse.vmem_code = procs[i].p_vm_tsize * pagesize;
+			pse.stack_size = procs[i].p_vm_ssize * pagesize;
+			pse.vmem_size = pse.stack_size + pse.vmem_code + pse.vmem_data;
+			pse.vmem_minflt = 0;
+			pse.vmem_minflt_counter = procs[i].p_uru_minflt;
+			pse.vmem_majflt = 0;
+			pse.vmem_majflt_counter = procs[i].p_uru_majflt;
+
+			pse.cpu_user = 0;
+			pse.cpu_system = 0;
+			pse.cpu_user_counter = procs[i].p_uutime_usec +
+						(1000000lu * procs[i].p_uutime_sec);
+			pse.cpu_system_counter = procs[i].p_ustime_usec +
+						(1000000lu * procs[i].p_ustime_sec);
+
+			/* no I/O data */
+			pse.io_rchar = -1;
+			pse.io_wchar = -1;
+			pse.io_syscr = -1;
+			pse.io_syscw = -1;
+
+			ps_list_add (procs[i].p_comm, have_cmdline ? cmdline : NULL, &pse);
+		} /* if ((proc_ptr == NULL) || (proc_ptr->p_pid != procs[i].p_pid)) */
+
+		switch (procs[i].p_stat)
+		{
+			case SSTOP: 	stopped++;	break;
+			case SSLEEP:	sleeping++;	break;
+			case SRUN:	running++;	break;
+			case SIDL:	idle++;		break;
+			case SONPROC:	onproc++;	break;
+			case SDEAD:	dead++;		break;
+			case SZOMB:	zombies++;	break;
+		}
+	}
+
+	kvm_close(kd);
+
+	ps_submit_state ("running",  running);
+	ps_submit_state ("sleeping", sleeping);
+	ps_submit_state ("zombies",  zombies);
+	ps_submit_state ("stopped",  stopped);
+	ps_submit_state ("onproc",   onproc);
+	ps_submit_state ("idle",     idle);
+	ps_submit_state ("dead",     dead);
+
+	for (ps_ptr = list_head_g; ps_ptr != NULL; ps_ptr = ps_ptr->next)
+		ps_submit_proc_list (ps_ptr);
+/* #endif HAVE_LIBKVM_GETPROCS && HAVE_STRUCT_KINFO_PROC_OPENBSD */
+
 #elif HAVE_PROCINFO_H
 	/* AIX */
 	int running  = 0;
 	int sleeping = 0;
 	int zombies  = 0;
 	int stopped  = 0;
@@ -2186,13 +2295,13 @@
 			case 'Y': system++;   break;
 			case 'O': orphan++;   break;
 		}
 
 
 		ps_list_add (ps.name,
-				ps_get_cmdline (pid, ps.name, cmdline, sizeof (cmdline)),
+				ps_get_cmdline (pid, cmdline, sizeof (cmdline)),
 				&pse);
 	} /* while(readdir) */
 	closedir (proc);
 
 	ps_submit_state ("running",  running);
 	ps_submit_state ("sleeping", sleeping);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/protocols.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/protocols.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/protocols.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/protocols.c	2015-03-10 22:14:45.845114500 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/protocols.c
  * Copyright (C) 2009,2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_ignorelist.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/python.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/python.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/python.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/python.c	2015-05-20 20:04:47.187035468 +0800
@@ -43,12 +43,25 @@
 	PyObject *data;
 	struct cpy_callback_s *next;
 } cpy_callback_t;
 
 static char log_doc[] = "This function sends a string to all logging plugins.";
 
+static char get_ds_doc[] = "get_dataset(name) -> definition\n"
+		"\n"
+		"Returns the definition of a dataset specified by name.\n"
+		"\n"
+		"'name' is a string specifying the dataset to query.\n"
+		"'definition' is a list of 4-tuples. Every tuple represents a \n"
+		"    data source within the data set and its 4 values are the \n"
+		"    name, type, min and max value.\n"
+		"    'name' is a string.\n"
+		"    'type' is a string that is equal to either DS_TYPE_COUNTER,\n"
+		"        DS_TYPE_GAUGE, DS_TYPE_DERIVE or DS_TYPE_ABSOLUTE.\n"
+		"    'min' and 'max' are either a float or None.";
+
 static char flush_doc[] = "flush([plugin][, timeout][, identifier]) -> None\n"
 		"\n"
 		"Flushes the cache of another plugin.";
 
 static char unregister_doc[] = "Unregisters a callback. This function needs exactly one parameter either\n"
 		"the function to unregister or the callback identifier to unregister.";
@@ -286,45 +299,35 @@
 		PyErr_Clear();
 		Py_DECREF(type);
 		Py_XDECREF(value);
 		Py_XDECREF(traceback);
 		return;
 	}
-	list = PyObject_CallFunction(cpy_format_exception, "NNN", type, value, traceback); /* New reference. Steals references from "type", "value" and "traceback". */
+	list = PyObject_CallFunction(cpy_format_exception, "NNN", type, value, traceback); /* New reference. */
 	if (list)
 		l = PyObject_Length(list);
-
 	for (i = 0; i < l; ++i) {
+		char *s;
 		PyObject *line;
-		char const *msg;
-		char *cpy;
-
+		
 		line = PyList_GET_ITEM(list, i); /* Borrowed reference. */
 		Py_INCREF(line);
-
-		msg = cpy_unicode_or_bytes_to_string(&line);
+		s = strdup(cpy_unicode_or_bytes_to_string(&line));
 		Py_DECREF(line);
-		if (msg == NULL)
-			continue;
-
-		cpy = strdup(msg);
-		if (cpy == NULL)
-			continue;
-
-		if (cpy[strlen(cpy) - 1] == '\n')
-			cpy[strlen(cpy) - 1] = 0;
-
+		if (s[strlen(s) - 1] == '\n')
+			s[strlen(s) - 1] = 0;
 		Py_BEGIN_ALLOW_THREADS
-		ERROR("%s", cpy);
+		ERROR("%s", s);
 		Py_END_ALLOW_THREADS
-
-		free(cpy);
+		free(s);
 	}
-
 	Py_XDECREF(list);
 	PyErr_Clear();
+	Py_DECREF(type);
+	Py_XDECREF(value);
+	Py_XDECREF(traceback);
 }
 
 static int cpy_read_callback(user_data_t *data) {
 	cpy_callback_t *c = data->data;
 	PyObject *ret;
 
@@ -383,13 +386,13 @@
 				Py_DECREF(list);
 				CPY_RETURN_FROM_THREADS 0;
 			}
 		}
 		dict = PyDict_New();  /* New reference. */
 		if (value_list->meta) {
-			int num;
+			int i, num;
 			char **table;
 			meta_data_t *meta = value_list->meta;
 
 			num = meta_data_toc(meta, &table);
 			for (i = 0; i < num; ++i) {
 				int type;
@@ -544,29 +547,56 @@
 		return NULL;
 	}
 	cpy_build_name(buf, sizeof(buf), callback, name);
 
 	Py_INCREF(callback);
 	Py_XINCREF(data);
-
 	c = malloc(sizeof(*c));
-	if (c == NULL)
-		return NULL;
-	memset (c, 0, sizeof (*c));
-
 	c->name = strdup(buf);
 	c->callback = callback;
 	c->data = data;
 	c->next = *list_head;
 	*list_head = c;
 	Py_XDECREF(mod);
 	PyMem_Free(name);
 	return cpy_string_to_unicode_or_bytes(buf);
 }
 
-static PyObject *cpy_flush(cpy_callback_t **list_head, PyObject *args, PyObject *kwds) {
+static PyObject *float_or_none(float number) {
+	if (isnan(number)) {
+		Py_RETURN_NONE;
+	}
+	return PyFloat_FromDouble(number);
+}
+
+static PyObject *cpy_get_dataset(PyObject *self, PyObject *args) {
+	int i;
+	char *name;
+	const data_set_t *ds;
+	PyObject *list, *tuple;
+
+	if (PyArg_ParseTuple(args, "et", NULL, &name) == 0) return NULL;
+	ds = plugin_get_ds(name);
+	PyMem_Free(name);
+	if (ds == NULL) {
+		PyErr_Format(PyExc_TypeError, "Dataset %s not found", name);
+		return NULL;
+	}
+	list = PyList_New(ds->ds_num); /* New reference. */
+	for (i = 0; i < ds->ds_num; ++i) {
+		tuple = PyTuple_New(4);
+		PyTuple_SET_ITEM(tuple, 0, cpy_string_to_unicode_or_bytes(ds->ds[i].name));
+		PyTuple_SET_ITEM(tuple, 1, cpy_string_to_unicode_or_bytes(DS_TYPE_TO_STRING(ds->ds[i].type)));
+		PyTuple_SET_ITEM(tuple, 2, float_or_none(ds->ds[i].min));
+		PyTuple_SET_ITEM(tuple, 3, float_or_none(ds->ds[i].max));
+		PyList_SET_ITEM(list, i, tuple);
+	}
+	return list;
+}
+
+static PyObject *cpy_flush(PyObject *self, PyObject *args, PyObject *kwds) {
 	int timeout = -1;
 	char *plugin = NULL, *identifier = NULL;
 	static char *kwlist[] = {"plugin", "timeout", "identifier", NULL};
 	
 	if (PyArg_ParseTupleAndKeywords(args, kwds, "|etiet", kwlist, NULL, &plugin, &timeout, NULL, &identifier) == 0) return NULL;
 	Py_BEGIN_ALLOW_THREADS
@@ -588,13 +618,13 @@
 typedef int reg_function_t(const char *name, void *callback, void *data);
 
 static PyObject *cpy_register_generic_userdata(void *reg, void *handler, PyObject *args, PyObject *kwds) {
 	char buf[512];
 	reg_function_t *register_function = (reg_function_t *) reg;
 	cpy_callback_t *c = NULL;
-	user_data_t user_data;
+	user_data_t *user_data = NULL;
 	char *name = NULL;
 	PyObject *callback = NULL, *data = NULL;
 	static char *kwlist[] = {"callback", "data", "name", NULL};
 	
 	if (PyArg_ParseTupleAndKeywords(args, kwds, "O|Oet", kwlist, &callback, &data, NULL, &name) == 0) return NULL;
 	if (PyCallable_Check(callback) == 0) {
@@ -604,35 +634,28 @@
 	}
 	cpy_build_name(buf, sizeof(buf), callback, name);
 	PyMem_Free(name);
 	
 	Py_INCREF(callback);
 	Py_XINCREF(data);
-
 	c = malloc(sizeof(*c));
-	if (c == NULL)
-		return NULL;
-	memset (c, 0, sizeof (*c));
-
 	c->name = strdup(buf);
 	c->callback = callback;
 	c->data = data;
 	c->next = NULL;
-
-	memset (&user_data, 0, sizeof (user_data));
-	user_data.free_func = cpy_destroy_user_data;
-	user_data.data = c;
-
-	register_function(buf, handler, &user_data);
+	user_data = malloc(sizeof(*user_data));
+	user_data->free_func = cpy_destroy_user_data;
+	user_data->data = c;
+	register_function(buf, handler, user_data);
 	return cpy_string_to_unicode_or_bytes(buf);
 }
 
 static PyObject *cpy_register_read(PyObject *self, PyObject *args, PyObject *kwds) {
 	char buf[512];
 	cpy_callback_t *c = NULL;
-	user_data_t user_data;
+	user_data_t *user_data = NULL;
 	double interval = 0;
 	char *name = NULL;
 	PyObject *callback = NULL, *data = NULL;
 	struct timespec ts;
 	static char *kwlist[] = {"callback", "interval", "data", "name", NULL};
 	
@@ -644,32 +667,24 @@
 	}
 	cpy_build_name(buf, sizeof(buf), callback, name);
 	PyMem_Free(name);
 	
 	Py_INCREF(callback);
 	Py_XINCREF(data);
-
 	c = malloc(sizeof(*c));
-	if (c == NULL)
-		return NULL;
-	memset (c, 0, sizeof (*c));
-
 	c->name = strdup(buf);
 	c->callback = callback;
 	c->data = data;
 	c->next = NULL;
-
-	memset (&user_data, 0, sizeof (user_data));
-	user_data.free_func = cpy_destroy_user_data;
-	user_data.data = c;
-
+	user_data = malloc(sizeof(*user_data));
+	user_data->free_func = cpy_destroy_user_data;
+	user_data->data = c;
 	ts.tv_sec = interval;
 	ts.tv_nsec = (interval - ts.tv_sec) * 1000000000;
-	plugin_register_complex_read(/* group = */ "python", buf,
-			cpy_read_callback, &ts, &user_data);
-
+	plugin_register_complex_read(/* group = */ NULL, buf,
+			cpy_read_callback, &ts, user_data);
 	return cpy_string_to_unicode_or_bytes(buf);
 }
 
 static PyObject *cpy_register_log(PyObject *self, PyObject *args, PyObject *kwds) {
 	return cpy_register_generic_userdata((void *) plugin_register_log,
 			(void *) cpy_log_callback, args, kwds);
@@ -763,13 +778,13 @@
 		cpy_build_name(buf, sizeof(buf), arg, NULL);
 		name = buf;
 	}
 	for (tmp = *list_head; tmp; prev = tmp, tmp = tmp->next)
 		if (strcmp(name, tmp->name) == 0)
 			break;
-
+	
 	Py_DECREF(arg);
 	if (tmp == NULL) {
 		PyErr_Format(PyExc_RuntimeError, "Unable to unregister %s callback '%s'.", desc, name);
 		return NULL;
 	}
 	/* Yes, this is actually save. To call this function the caller has to
@@ -844,12 +859,13 @@
 static PyMethodDef cpy_methods[] = {
 	{"debug", cpy_debug, METH_VARARGS, log_doc},
 	{"info", cpy_info, METH_VARARGS, log_doc},
 	{"notice", cpy_notice, METH_VARARGS, log_doc},
 	{"warning", cpy_warning, METH_VARARGS, log_doc},
 	{"error", cpy_error, METH_VARARGS, log_doc},
+	{"get_dataset", (PyCFunction) cpy_get_dataset, METH_VARARGS, get_ds_doc},
 	{"flush", (PyCFunction) cpy_flush, METH_VARARGS | METH_KEYWORDS, flush_doc},
 	{"register_log", (PyCFunction) cpy_register_log, METH_VARARGS | METH_KEYWORDS, reg_log_doc},
 	{"register_init", (PyCFunction) cpy_register_init, METH_VARARGS | METH_KEYWORDS, reg_init_doc},
 	{"register_config", (PyCFunction) cpy_register_config, METH_VARARGS | METH_KEYWORDS, reg_config_doc},
 	{"register_read", (PyCFunction) cpy_register_read, METH_VARARGS | METH_KEYWORDS, reg_read_doc},
 	{"register_write", (PyCFunction) cpy_register_write, METH_VARARGS | METH_KEYWORDS, reg_write_doc},
@@ -1014,20 +1030,22 @@
 
 PyMODINIT_FUNC PyInit_collectd(void) {
 	return PyModule_Create(&collectdmodule);
 }
 #endif
 
-static int cpy_init_python(void) {
-	char *argv = "";
+static int cpy_init_python() {
 	PyObject *sys;
 	PyObject *module;
 
 #ifdef IS_PY3K
+	wchar_t *argv = L"";
 	/* Add a builtin module, before Py_Initialize */
 	PyImport_AppendInittab("collectd", PyInit_collectd);
+#else
+	char *argv = "";
 #endif
 	
 	Py_Initialize();
 	
 	PyType_Ready(&ConfigType);
 	PyType_Ready(&PluginDataType);
@@ -1068,12 +1086,16 @@
 	PyModule_AddIntConstant(module, "LOG_NOTICE", LOG_NOTICE);
 	PyModule_AddIntConstant(module, "LOG_WARNING", LOG_WARNING);
 	PyModule_AddIntConstant(module, "LOG_ERROR", LOG_ERR);
 	PyModule_AddIntConstant(module, "NOTIF_FAILURE", NOTIF_FAILURE);
 	PyModule_AddIntConstant(module, "NOTIF_WARNING", NOTIF_WARNING);
 	PyModule_AddIntConstant(module, "NOTIF_OKAY", NOTIF_OKAY);
+	PyModule_AddStringConstant(module, "DS_TYPE_COUNTER", DS_TYPE_TO_STRING(DS_TYPE_COUNTER));
+	PyModule_AddStringConstant(module, "DS_TYPE_GAUGE", DS_TYPE_TO_STRING(DS_TYPE_GAUGE));
+	PyModule_AddStringConstant(module, "DS_TYPE_DERIVE", DS_TYPE_TO_STRING(DS_TYPE_DERIVE));
+	PyModule_AddStringConstant(module, "DS_TYPE_ABSOLUTE", DS_TYPE_TO_STRING(DS_TYPE_ABSOLUTE));
 	return 0;
 }
 
 static int cpy_config(oconfig_item_t *ci) {
 	int i;
 	PyObject *tb;
@@ -1094,15 +1116,19 @@
 			if (item->values_num != 1 || item->values[0].type != OCONFIG_TYPE_BOOLEAN)
 				continue;
 			do_interactive = item->values[0].value.boolean;
 		} else if (strcasecmp(item->key, "Encoding") == 0) {
 			if (item->values_num != 1 || item->values[0].type != OCONFIG_TYPE_STRING)
 				continue;
+#ifdef IS_PY3K
+			NOTICE("python: \"Encoding\" was used in the config file but Python3 was used, which does not support changing encodings. Ignoring this.");
+#else
 			/* Why is this even necessary? And undocumented? */
 			if (PyUnicode_SetDefaultEncoding(item->values[0].value.string))
 				cpy_log_exception("setting default encoding");
+#endif
 		} else if (strcasecmp(item->key, "LogTraces") == 0) {
 			if (item->values_num != 1 || item->values[0].type != OCONFIG_TYPE_BOOLEAN)
 				continue;
 			if (!item->values[0].value.boolean) {
 				Py_XDECREF(cpy_format_exception);
 				cpy_format_exception = NULL;
@@ -1130,14 +1156,14 @@
 				ERROR("python plugin: Unable to convert \"%s\" to "
 				      "a python object.", dir);
 				free(dir);
 				cpy_log_exception("python initialization");
 				continue;
 			}
-			if (PyList_Append(sys_path, dir_object) != 0) {
-				ERROR("python plugin: Unable to append \"%s\" to "
+			if (PyList_Insert(sys_path, 0, dir_object) != 0) {
+				ERROR("python plugin: Unable to prepend \"%s\" to "
 				      "python module path.", dir);
 				cpy_log_exception("python initialization");
 			}
 			Py_DECREF(dir_object);
 			free(dir);
 		} else if (strcasecmp(item->key, "Import") == 0) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/redis.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/redis.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/redis.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/redis.c	2015-03-10 22:14:45.849114587 +0800
@@ -23,44 +23,60 @@
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
 #include <pthread.h>
-#include <credis.h>
+#include <sys/time.h>
+#include <hiredis/hiredis.h>
 
 #ifndef HOST_NAME_MAX
 # define HOST_NAME_MAX _POSIX_HOST_NAME_MAX
 #endif
 
 #define REDIS_DEF_HOST   "localhost"
 #define REDIS_DEF_PASSWD ""
 #define REDIS_DEF_PORT    6379
 #define REDIS_DEF_TIMEOUT 2000
 #define MAX_REDIS_NODE_NAME 64
+#define MAX_REDIS_PASSWD_LENGTH 512
+#define MAX_REDIS_VAL_SIZE 256
+#define MAX_REDIS_QUERY 2048
 
 /* Redis plugin configuration example:
  *
  * <Plugin redis>
  *   <Node "mynode">
  *     Host "localhost"
  *     Port "6379"
- *     Timeout 2000
+ *     Timeout 2
+ *     Password "foobar"
  *   </Node>
  * </Plugin>
  */
 
+struct redis_query_s;
+typedef struct redis_query_s redis_query_t;
+struct redis_query_s
+{
+    char query[MAX_REDIS_QUERY];
+    char type[DATA_MAX_NAME_LEN];
+    char instance[DATA_MAX_NAME_LEN];
+    redis_query_t *next;
+};
+
 struct redis_node_s;
 typedef struct redis_node_s redis_node_t;
 struct redis_node_s
 {
   char name[MAX_REDIS_NODE_NAME];
   char host[HOST_NAME_MAX];
-  char passwd[HOST_NAME_MAX];
+  char passwd[MAX_REDIS_PASSWD_LENGTH];
   int port;
-  int timeout;
+  struct timeval timeout;
+  redis_query_t *queries;
 
   redis_node_t *next;
 };
 
 static redis_node_t *nodes_head = NULL;
 
@@ -103,22 +119,67 @@
     rn_ptr->next = rn_copy;
   }
 
   return (0);
 } /* }}} */
 
+static redis_query_t *redis_config_query (oconfig_item_t *ci) /* {{{ */
+{
+    redis_query_t *rq;
+    int status;
+    int i;
+
+    rq = calloc(1, sizeof(*rq));
+    if (rq == NULL) {
+        ERROR("redis plugin: calloca failed adding redis_query.");
+        return NULL;
+    }
+    status = cf_util_get_string_buffer(ci, rq->query, sizeof(rq->query));
+    if (status != 0)
+        goto err;
+
+    /*
+     * Default to a gauge type.
+     */
+    (void)strncpy(rq->type, "gauge", sizeof(rq->type));
+    (void)strncpy(rq->instance, rq->query, sizeof(rq->instance));
+    replace_special(rq->instance, sizeof(rq->instance));
+
+    for (i = 0; i < ci->children_num; i++) {
+        oconfig_item_t *option = ci->children + i;
+
+        if (strcasecmp("Type", option->key) == 0) {
+            status = cf_util_get_string_buffer(option, rq->type, sizeof(rq->type));
+        } else if (strcasecmp("Instance", option->key) == 0) {
+            status = cf_util_get_string_buffer(option, rq->instance, sizeof(rq->instance));
+        } else {
+            WARNING("redis plugin: unknown configuration option: %s", option->key);
+            status = -1;
+        }
+        if (status != 0)
+            goto err;
+    }
+    return rq;
+ err:
+    free(rq);
+    return NULL;
+} /* }}} */
+
 static int redis_config_node (oconfig_item_t *ci) /* {{{ */
 {
   redis_node_t rn;
+  redis_query_t *rq;
   int i;
   int status;
+  int timeout;
 
   memset (&rn, 0, sizeof (rn));
   sstrncpy (rn.host, REDIS_DEF_HOST, sizeof (rn.host));
   rn.port = REDIS_DEF_PORT;
-  rn.timeout = REDIS_DEF_TIMEOUT;
+  rn.timeout.tv_usec = REDIS_DEF_TIMEOUT;
+  rn.queries = NULL;
 
   status = cf_util_get_string_buffer (ci, rn.name, sizeof (rn.name));
   if (status != 0)
     return (status);
 
   for (i = 0; i < ci->children_num; i++)
@@ -133,14 +194,27 @@
       if (status > 0)
       {
         rn.port = status;
         status = 0;
       }
     }
+    else if (strcasecmp ("Query", option->key) == 0)
+    {
+      rq = redis_config_query(option);
+      if (rq == NULL) {
+          status =1;
+      } else {
+          rq->next = rn.queries;
+          rn.queries = rq;
+      }
+    }
     else if (strcasecmp ("Timeout", option->key) == 0)
-      status = cf_util_get_int (option, &rn.timeout);
+    {
+      status = cf_util_get_int (option, &timeout);
+      if (status == 0) rn.timeout.tv_usec = timeout;
+    }
     else if (strcasecmp ("Password", option->key) == 0)
       status = cf_util_get_string_buffer (option, rn.passwd, sizeof (rn.passwd));
     else
       WARNING ("redis plugin: Option `%s' not allowed inside a `Node' "
           "block. I'll ignore this option.", option->key);
 
@@ -176,45 +250,20 @@
   }
 
   return (0);
 } /* }}} */
 
   __attribute__ ((nonnull(2)))
-static void redis_submit_g (char *plugin_instance,
+static void redis_submit (char *plugin_instance,
     const char *type, const char *type_instance,
-    gauge_t value) /* {{{ */
+    value_t value) /* {{{ */
 {
   value_t values[1];
   value_list_t vl = VALUE_LIST_INIT;
 
-  values[0].gauge = value;
-
-  vl.values = values;
-  vl.values_len = 1;
-  sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-  sstrncpy (vl.plugin, "redis", sizeof (vl.plugin));
-  if (plugin_instance != NULL)
-    sstrncpy (vl.plugin_instance, plugin_instance,
-        sizeof (vl.plugin_instance));
-  sstrncpy (vl.type, type, sizeof (vl.type));
-  if (type_instance != NULL)
-    sstrncpy (vl.type_instance, type_instance,
-        sizeof (vl.type_instance));
-
-  plugin_dispatch_values (&vl);
-} /* }}} */
-
-  __attribute__ ((nonnull(2)))
-static void redis_submit_d (char *plugin_instance,
-    const char *type, const char *type_instance,
-    derive_t value) /* {{{ */
-{
-  value_t values[1];
-  value_list_t vl = VALUE_LIST_INIT;
-
-  values[0].derive = value;
+  values[0] = value;
 
   vl.values = values;
   vl.values_len = 1;
   sstrncpy (vl.host, hostname_g, sizeof (vl.host));
   sstrncpy (vl.plugin, "redis", sizeof (vl.plugin));
   if (plugin_instance != NULL)
@@ -227,94 +276,173 @@
 
   plugin_dispatch_values (&vl);
 } /* }}} */
 
 static int redis_init (void) /* {{{ */
 {
-  redis_node_t rn = { "default", REDIS_DEF_HOST, REDIS_DEF_PASSWD,
-    REDIS_DEF_PORT, REDIS_DEF_TIMEOUT, /* next = */ NULL };
+  redis_node_t rn = {
+    .name = "default",
+    .host = REDIS_DEF_HOST,
+    .port = REDIS_DEF_PORT,
+    .timeout.tv_sec = 0,
+    .timeout.tv_usec = REDIS_DEF_TIMEOUT,
+    .next = NULL
+};
 
   if (nodes_head == NULL)
     redis_node_add (&rn);
 
   return (0);
 } /* }}} int redis_init */
 
+int redis_handle_info (char *node, char const *info_line, char const *type, char const *type_instance, char const *field_name, int ds_type) /* {{{ */
+{
+  char *str = strstr (info_line, field_name);
+  static char buf[MAX_REDIS_VAL_SIZE];
+  value_t val;
+  if (str)
+  {
+    int i;
+
+    str += strlen (field_name) + 1; /* also skip the ':' */
+    for(i=0;(*str && (isdigit(*str) || *str == '.'));i++,str++)
+      buf[i] = *str;
+    buf[i] ='\0';
+
+    if(parse_value (buf, &val, ds_type) == -1)
+    {
+      WARNING ("redis plugin: Unable to parse field `%s'.", field_name);
+      return (-1);
+    }
+
+    redis_submit (node, type, type_instance, val);
+    return (0);
+  }
+  return (-1);
+
+} /* }}} int redis_handle_info */
+
+int redis_handle_query (redisContext *rh, redis_node_t *rn, redis_query_t *rq) /* {{{ */
+{
+    redisReply *rr;
+    const data_set_t *ds;
+    value_t val;
+
+    ds = plugin_get_ds (rq->type);
+    if (!ds) {
+        ERROR ("redis plugin: DataSet `%s' not defined.", rq->type);
+        return (-1);
+    }
+
+    if (ds->ds_num != 1) {
+        ERROR ("redis plugin: DS `%s' has too many types.", rq->type);
+        return (-1);
+    }
+
+    if ((rr = redisCommand(rh, rq->query)) == NULL) {
+        WARNING("redis plugin: unable to carry out query `%s'.", rq->query);
+        return (-1);
+    }
+
+    switch (rr->type) {
+    case REDIS_REPLY_INTEGER:
+        switch (ds->ds[0].type) {
+        case DS_TYPE_COUNTER:
+            val.counter = (counter_t)rr->integer;
+            break;
+        case DS_TYPE_GAUGE:
+            val.gauge = (gauge_t)rr->integer;
+            break;
+        case DS_TYPE_DERIVE:
+            val.gauge = (derive_t)rr->integer;
+            break;
+        case DS_TYPE_ABSOLUTE:
+            val.gauge = (absolute_t)rr->integer;
+            break;
+        }
+        break;
+    case REDIS_REPLY_STRING:
+        if (parse_value (rr->str, &val, ds->ds[0].type) == -1) {
+            WARNING("redis plugin: Unable to parse field `%s'.", rq->type);
+            freeReplyObject (rr);
+            return (-1);
+        }
+        break;
+    default:
+        WARNING("redis plugin: Cannot coerce redis type.");
+        freeReplyObject(rr);
+        return (-1);
+    }
+
+    redis_submit(rn->name, rq->type, (strlen(rq->instance) >0)?rq->instance:NULL, val);
+    freeReplyObject (rr);
+    return 0;
+} /* }}} int redis_handle_info */
+
 static int redis_read (void) /* {{{ */
 {
   redis_node_t *rn;
+  redis_query_t *rq;
 
   for (rn = nodes_head; rn != NULL; rn = rn->next)
   {
-    REDIS rh;
-    REDIS_INFO info;
-
-    int status;
+    redisContext *rh;
+    redisReply   *rr;
 
     DEBUG ("redis plugin: querying info from node `%s' (%s:%d).", rn->name, rn->host, rn->port);
 
-    rh = credis_connect (rn->host, rn->port, rn->timeout);
+    rh = redisConnectWithTimeout ((char *)rn->host, rn->port, rn->timeout);
     if (rh == NULL)
     {
       ERROR ("redis plugin: unable to connect to node `%s' (%s:%d).", rn->name, rn->host, rn->port);
       continue;
     }
 
     if (strlen (rn->passwd) > 0)
     {
       DEBUG ("redis plugin: authenticanting node `%s' passwd(%s).", rn->name, rn->passwd);
-      status = credis_auth(rh, rn->passwd);
-      if (status != 0)
+      rr = redisCommand (rh, "AUTH %s", rn->passwd);
+
+      if (rr == NULL || rr->type != REDIS_REPLY_STATUS)
       {
         WARNING ("redis plugin: unable to authenticate on node `%s'.", rn->name);
-        credis_close (rh);
+        if (rr != NULL)
+          freeReplyObject (rr);
+
+        redisFree (rh);
         continue;
       }
     }
 
-    memset (&info, 0, sizeof (info));
-    status = credis_info (rh, &info);
-    if (status != 0)
+    if ((rr = redisCommand(rh, "INFO")) == NULL)
     {
-      WARNING ("redis plugin: unable to get info from node `%s'.", rn->name);
-      credis_close (rh);
+      WARNING ("redis plugin: unable to connect to node `%s'.", rn->name);
+      redisFree (rh);
       continue;
     }
 
-    /* typedef struct _cr_info {
-     *   char redis_version[CREDIS_VERSION_STRING_SIZE];
-     *   int bgsave_in_progress;
-     *   int connected_clients;
-     *   int connected_slaves;
-     *   unsigned int used_memory;
-     *   long long changes_since_last_save;
-     *   int last_save_time;
-     *   long long total_connections_received;
-     *   long long total_commands_processed;
-     *   int uptime_in_seconds;
-     *   int uptime_in_days;
-     *   int role;
-     * } REDIS_INFO; */
-
-    DEBUG ("redis plugin: received info from node `%s': connected_clients = %d; "
-        "connected_slaves = %d; used_memory = %lu; changes_since_last_save = %lld; "
-        "bgsave_in_progress = %d; total_connections_received = %lld; "
-        "total_commands_processed = %lld; uptime_in_seconds = %ld", rn->name,
-        info.connected_clients, info.connected_slaves, info.used_memory,
-        info.changes_since_last_save, info.bgsave_in_progress,
-        info.total_connections_received, info.total_commands_processed,
-        info.uptime_in_seconds);
-
-    redis_submit_g (rn->name, "current_connections", "clients", info.connected_clients);
-    redis_submit_g (rn->name, "current_connections", "slaves", info.connected_slaves);
-    redis_submit_g (rn->name, "memory", "used", info.used_memory);
-    redis_submit_g (rn->name, "volatile_changes", NULL, info.changes_since_last_save);
-    redis_submit_d (rn->name, "total_connections", NULL, info.total_connections_received);
-    redis_submit_d (rn->name, "total_operations", NULL, info.total_commands_processed);
+    redis_handle_info (rn->name, rr->str, "uptime", NULL, "uptime_in_seconds", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "current_connections", "clients", "connected_clients", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "blocked_clients", NULL, "blocked_clients", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "memory", NULL, "used_memory", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "memory_lua", NULL, "used_memory_lua", DS_TYPE_GAUGE);
+    /* changes_since_last_save: Deprecated in redis version 2.6 and above */
+    redis_handle_info (rn->name, rr->str, "volatile_changes", NULL, "changes_since_last_save", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "total_connections", NULL, "total_connections_received", DS_TYPE_DERIVE);
+    redis_handle_info (rn->name, rr->str, "total_operations", NULL, "total_commands_processed", DS_TYPE_DERIVE);
+    redis_handle_info (rn->name, rr->str, "expired_keys", NULL, "expired_keys", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "pubsub", "channels", "pubsub_channels", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "pubsub", "patterns", "pubsub_patterns", DS_TYPE_GAUGE);
+    redis_handle_info (rn->name, rr->str, "current_connections", "slaves", "connected_slaves", DS_TYPE_GAUGE);
+
+    freeReplyObject (rr);
+
+    for (rq = rn->queries; rq != NULL; rq = rq->next)
+        redis_handle_query(rh, rn, rq);
 
-    credis_close (rh);
+    redisFree (rh);
   }
 
   return 0;
 }
 /* }}} */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/routeros.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/routeros.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/routeros.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/routeros.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/routeros.c
  * Copyright (C) 2009,2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -323,13 +328,13 @@
   int status;
   int i;
 
   router_data = malloc (sizeof (*router_data));
   if (router_data == NULL)
     return (-1);
-  memset (router_data, 0, sizeof (*router_data));
+  memset (router_data, 0, sizeof (router_data));
   router_data->connection = NULL;
   router_data->node = NULL;
   router_data->service = NULL;
   router_data->username = NULL;
   router_data->password = NULL;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/rrdcached.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/rrdcached.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/rrdcached.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/rrdcached.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/rrdcached.c
  * Copyright (C) 2008-2013  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/rrdtool.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/rrdtool.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/rrdtool.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/rrdtool.c	2015-05-22 18:04:36.951771009 +0800
@@ -730,26 +730,22 @@
 	c_avl_get (cache, filename, (void *) &rc);
 
 	if (rc == NULL)
 	{
 		rc = malloc (sizeof (*rc));
 		if (rc == NULL)
-		{
-			pthread_mutex_unlock (&cache_lock);
 			return (-1);
-		}
 		rc->values_num = 0;
 		rc->values = NULL;
 		rc->first_value = 0;
 		rc->last_value = 0;
 		rc->random_variation = rrd_get_random_variation ();
 		rc->flags = FLAG_NONE;
 		new_rc = 1;
 	}
 
-	assert (value_time > 0); /* plugin_dispatch() ensures this. */
 	if (rc->last_value >= value_time)
 	{
 		pthread_mutex_unlock (&cache_lock);
 		DEBUG ("rrdtool plugin: (rc->last_value = %"PRIu64") "
 				">= (value_time = %"PRIu64")",
 				rc->last_value, value_time);
@@ -1005,42 +1001,29 @@
 			return (1);
 		}
 		cache_flush_timeout = tmp;
 	}
 	else if (strcasecmp ("DataDir", key) == 0)
 	{
-		char *tmp;
-		size_t len;
-
-		tmp = strdup (value);
-		if (tmp == NULL)
-		{
-			ERROR ("rrdtool plugin: strdup failed.");
-			return (1);
-		}
-
-		len = strlen (tmp);
-		while ((len > 0) && (tmp[len - 1] == '/'))
-		{
-			len--;
-			tmp[len] = 0;
-		}
-
-		if (len == 0)
-		{
-			ERROR ("rrdtool plugin: Invalid \"DataDir\" option.");
-			sfree (tmp);
-			return (1);
-		}
-
+		if (datadir != NULL)
+			free (datadir);
+		datadir = strdup (value);
 		if (datadir != NULL)
 		{
-			sfree (datadir);
+			int len = strlen (datadir);
+			while ((len > 0) && (datadir[len - 1] == '/'))
+			{
+				len--;
+				datadir[len] = '\0';
+			}
+			if (len <= 0)
+			{
+				free (datadir);
+				datadir = NULL;
+			}
 		}
-
-		datadir = tmp;
 	}
 	else if (strcasecmp ("StepSize", key) == 0)
 	{
 		unsigned long temp = strtoul (value, NULL, 0);
 		if (temp > 0)
 			rrdcreate_config.stepsize = temp;
@@ -1217,13 +1200,12 @@
 	/* Set the cache up */
 	pthread_mutex_lock (&cache_lock);
 
 	cache = c_avl_create ((int (*) (const void *, const void *)) strcmp);
 	if (cache == NULL)
 	{
-		pthread_mutex_unlock (&cache_lock);
 		ERROR ("rrdtool plugin: c_avl_create failed.");
 		return (-1);
 	}
 
 	cache_flush_last = cdtime ();
 	if (cache_timeout == 0)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/sensors.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/sensors.c	2015-03-10 22:14:45.849114587 +0800
@@ -14,13 +14,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   
  *   Lubos Stanek <lubek at users.sourceforge.net> Wed Oct 27, 2006
  *   - config ExtendedSensorNaming option
  *   - precise sensor feature selection (chip-bus-address/type-feature)
  *     with ExtendedSensorNaming
  *   - more sensor features (finite list)
@@ -59,13 +59,15 @@
 # define SENSOR_TYPE_VOLTAGE     0
 	"voltage",
 # define SENSOR_TYPE_FANSPEED    1
 	"fanspeed",
 # define SENSOR_TYPE_TEMPERATURE 2
 	"temperature",
-# define SENSOR_TYPE_UNKNOWN     3
+# define SENSOR_TYPE_POWER       3
+	"power",
+# define SENSOR_TYPE_UNKNOWN     4
 	NULL
 };
 
 struct sensors_labeltypes_s
 {
 	char *label;
@@ -124,13 +126,14 @@
 	{ "vrm", SENSOR_TYPE_VOLTAGE },
 	{ "5.0V", SENSOR_TYPE_VOLTAGE },
 	{ "5V", SENSOR_TYPE_VOLTAGE },
 	{ "3.3V", SENSOR_TYPE_VOLTAGE },
 	{ "2.5V", SENSOR_TYPE_VOLTAGE },
 	{ "2.0V", SENSOR_TYPE_VOLTAGE },
-	{ "12V", SENSOR_TYPE_VOLTAGE }
+	{ "12V", SENSOR_TYPE_VOLTAGE },
+	{ "power1", SENSOR_TYPE_POWER }
 };
 static int known_features_num = STATIC_ARRAY_SIZE (known_features);
 /* end new naming */
 #endif /* SENSORS_API_VERSION < 0x400 */
 
 static const char *config_keys[] =
@@ -259,13 +262,13 @@
 		return (-1);
 	}
 
 	return (0);
 }
 
-static void sensors_free_features (void)
+void sensors_free_features (void)
 {
 	featurelist_t *thisft;
 	featurelist_t *nextft;
 
 	if (first_feature == NULL)
 		return;
@@ -408,13 +411,14 @@
 			const sensors_subfeature *subfeature;
 			int subfeature_num = 0;
 
 			/* Only handle voltage, fanspeeds and temperatures */
 			if ((feature->type != SENSORS_FEATURE_IN)
 					&& (feature->type != SENSORS_FEATURE_FAN)
-					&& (feature->type != SENSORS_FEATURE_TEMP))
+					&& (feature->type != SENSORS_FEATURE_TEMP)
+					&& (feature->type != SENSORS_FEATURE_POWER))
 			{
 				DEBUG ("sensors plugin: sensors_load_conf: "
 						"Ignoring feature `%s', "
 						"because its type is not "
 						"supported.", feature->name);
 				continue;
@@ -424,13 +428,14 @@
 							feature, &subfeature_num)) != NULL)
 			{
 				featurelist_t *fl;
 
 				if ((subfeature->type != SENSORS_SUBFEATURE_IN_INPUT)
 						&& (subfeature->type != SENSORS_SUBFEATURE_FAN_INPUT)
-						&& (subfeature->type != SENSORS_SUBFEATURE_TEMP_INPUT))
+						&& (subfeature->type != SENSORS_SUBFEATURE_TEMP_INPUT)
+						&& (subfeature->type != SENSORS_SUBFEATURE_POWER_INPUT))
 					continue;
 
 				fl = (featurelist_t *) malloc (sizeof (featurelist_t));
 				if (fl == NULL)
 				{
 					ERROR ("sensors plugin: malloc failed.");
@@ -570,12 +575,15 @@
 		else if (fl->feature->type
 				== SENSORS_FEATURE_FAN)
 			type = "fanspeed";
 		else if (fl->feature->type
 				== SENSORS_FEATURE_TEMP)
 			type = "temperature";
+		else if (fl->feature->type
+				== SENSORS_FEATURE_POWER)
+			type = "power";
 		else
 			continue;
 
 		sensors_submit (plugin_instance, type, type_instance, value);
 	} /* for fl = first_feature .. NULL */
 #endif /* (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500) */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/serial.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/serial.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/serial.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/serial.c	2015-03-10 22:14:45.849114587 +0800
@@ -15,13 +15,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   David Bacher <drbacher at gmail.com>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/sigrok.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/sigrok.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/sigrok.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/sigrok.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,9 +1,9 @@
 /*
  * collectd - src/sigrok.c
- * Copyright (C) 2013 Bert Vermeulen <bert@biot.com>
+ * Copyright (C) 2013 Bert Vermeulen
  *
  * This program is free software: you can redistribute it and/or modify
  * it under the terms of the GNU General Public License as published by
  * the Free Software Foundation, either version 2 of the License, or
  * (at your option) any later version.
  *
@@ -11,12 +11,15 @@
  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  * GNU General Public License for more details.
  *
  * You should have received a copy of the GNU General Public License
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ * Authors:
+ *   Bert Vermeulen <bert at biot.com>
  */
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
@@ -354,19 +357,16 @@
 
 	if (sr_thread_running) {
 		ERROR("sigrok plugin: Thread already running.");
 		return -1;
 	}
 
-	status = plugin_thread_create(&sr_thread, NULL, sigrok_read_thread,
-			NULL);
-	if (status != 0)
-	{
-		char errbuf[1024];
+	if ((status = plugin_thread_create(&sr_thread, NULL, sigrok_read_thread,
+			NULL)) != 0) {
 		ERROR("sigrok plugin: Failed to create thread: %s.",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
+				strerror(status));
 		return -1;
 	}
 	sr_thread_running = TRUE;
 
 	return 0;
 }
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: smart.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/snmp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/snmp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/snmp.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/snmp.c	2015-05-20 20:04:47.191035542 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/snmp.c
  * Copyright (C) 2007-2012  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -26,12 +31,14 @@
 
 #include <pthread.h>
 
 #include <net-snmp/net-snmp-config.h>
 #include <net-snmp/net-snmp-includes.h>
 
+#include <fnmatch.h>
+
 /*
  * Private data structes
  */
 struct oid_s
 {
   oid oid[MAX_OID_LEN];
@@ -47,29 +54,46 @@
 typedef union instance_u instance_t;
 
 struct data_definition_s
 {
   char *name; /* used to reference this from the `Collect' option */
   char *type; /* used to find the data_set */
-  int is_table;
+  _Bool is_table;
   instance_t instance;
   char *instance_prefix;
   oid_t *values;
   int values_len;
   double scale;
   double shift;
   struct data_definition_s *next;
+  char **ignores;
+  size_t ignores_len;
+  int invert_match;
 };
 typedef struct data_definition_s data_definition_t;
 
 struct host_definition_s
 {
   char *name;
   char *address;
-  char *community;
   int version;
+
+  /* snmpv1/2 options */
+  char *community;
+
+  /* snmpv3 security options */
+  char *username;
+  oid *auth_protocol;
+  size_t auth_protocol_len;
+  char *auth_passphrase;
+  oid *priv_protocol;
+  size_t priv_protocol_len;
+  char *priv_passphrase;
+  int security_level;
+  char *context;
+
   void *sess_handle;
   c_complain_t complaint;
   cdtime_t interval;
   data_definition_t **data_list;
   int data_list_len;
 };
@@ -180,12 +204,16 @@
 
   csnmp_host_close_session (hd);
 
   sfree (hd->name);
   sfree (hd->address);
   sfree (hd->community);
+  sfree (hd->username);
+  sfree (hd->auth_passphrase);
+  sfree (hd->priv_passphrase);
+  sfree (hd->context);
   sfree (hd->data_list);
 
   sfree (hd);
 } /* }}} void csnmp_host_definition_destroy */
 
 /* Many functions to handle the configuration. {{{ */
@@ -194,114 +222,76 @@
 
 /*
  * Callgraph for the config stuff:
  *  csnmp_config
  *  +-> call_snmp_init_once
  *  +-> csnmp_config_add_data
- *  !   +-> csnmp_config_add_data_type
- *  !   +-> csnmp_config_add_data_table
  *  !   +-> csnmp_config_add_data_instance
  *  !   +-> csnmp_config_add_data_instance_prefix
  *  !   +-> csnmp_config_add_data_values
  *  +-> csnmp_config_add_host
- *      +-> csnmp_config_add_host_address
- *      +-> csnmp_config_add_host_community
  *      +-> csnmp_config_add_host_version
  *      +-> csnmp_config_add_host_collect
+ *      +-> csnmp_config_add_host_auth_protocol
+ *      +-> csnmp_config_add_host_priv_protocol
+ *      +-> csnmp_config_add_host_security_level
  */
 static void call_snmp_init_once (void)
 {
   static int have_init = 0;
 
   if (have_init == 0)
     init_snmp (PACKAGE_NAME);
   have_init = 1;
 } /* void call_snmp_init_once */
 
-static int csnmp_config_add_data_type (data_definition_t *dd, oconfig_item_t *ci)
-{
-  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: `Type' needs exactly one string argument.");
-    return (-1);
-  }
-
-  sfree (dd->type);
-  dd->type = strdup (ci->values[0].value.string);
-  if (dd->type == NULL)
-    return (-1);
-
-  return (0);
-} /* int csnmp_config_add_data_type */
-
-static int csnmp_config_add_data_table (data_definition_t *dd, oconfig_item_t *ci)
-{
-  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_BOOLEAN))
-  {
-    WARNING ("snmp plugin: `Table' needs exactly one boolean argument.");
-    return (-1);
-  }
-
-  dd->is_table = ci->values[0].value.boolean ? 1 : 0;
-
-  return (0);
-} /* int csnmp_config_add_data_table */
-
 static int csnmp_config_add_data_instance (data_definition_t *dd, oconfig_item_t *ci)
 {
-  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: `Instance' needs exactly one string argument.");
-    return (-1);
-  }
+  char buffer[DATA_MAX_NAME_LEN];
+  int status;
+
+  status = cf_util_get_string_buffer(ci, buffer, sizeof(buffer));
+  if (status != 0)
+    return status;
 
   if (dd->is_table)
   {
     /* Instance is an OID */
     dd->instance.oid.oid_len = MAX_OID_LEN;
 
-    if (!read_objid (ci->values[0].value.string,
+    if (!read_objid (buffer,
           dd->instance.oid.oid, &dd->instance.oid.oid_len))
     {
-      ERROR ("snmp plugin: read_objid (%s) failed.",
-          ci->values[0].value.string);
+      ERROR ("snmp plugin: read_objid (%s) failed.", buffer);
       return (-1);
     }
   }
   else
   {
     /* Instance is a simple string */
-    sstrncpy (dd->instance.string, ci->values[0].value.string,
+    sstrncpy (dd->instance.string, buffer,
         sizeof (dd->instance.string));
   }
 
   return (0);
 } /* int csnmp_config_add_data_instance */
 
 static int csnmp_config_add_data_instance_prefix (data_definition_t *dd,
     oconfig_item_t *ci)
 {
-  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: `InstancePrefix' needs exactly one string argument.");
-    return (-1);
-  }
+  int status;
 
   if (!dd->is_table)
   {
     WARNING ("snmp plugin: data %s: InstancePrefix is ignored when `Table' "
         "is set to `false'.", dd->name);
     return (-1);
   }
 
-  sfree (dd->instance_prefix);
-  dd->instance_prefix = strdup (ci->values[0].value.string);
-  if (dd->instance_prefix == NULL)
-    return (-1);
-
-  return (0);
+  status = cf_util_get_string(ci, &dd->instance_prefix);
+  return status;
 } /* int csnmp_config_add_data_instance_prefix */
 
 static int csnmp_config_add_data_values (data_definition_t *dd, oconfig_item_t *ci)
 {
   int i;
 
@@ -341,64 +331,74 @@
     }
   }
 
   return (0);
 } /* int csnmp_config_add_data_instance */
 
-static int csnmp_config_add_data_shift (data_definition_t *dd, oconfig_item_t *ci)
+static int csnmp_config_add_data_blacklist(data_definition_t *dd, oconfig_item_t *ci)
 {
-  if ((ci->values_num != 1)
-      || (ci->values[0].type != OCONFIG_TYPE_NUMBER))
+  int i;
+
+  if (ci->values_num < 1)
+    return (0);
+
+  for (i = 0; i < ci->values_num; i++)
   {
-    WARNING ("snmp plugin: The `Shift' config option needs exactly one number argument.");
-    return (-1);
+    if (ci->values[i].type != OCONFIG_TYPE_STRING)
+    {
+      WARNING ("snmp plugin: `Ignore' needs only string argument.");
+      return (-1);
+    }
   }
 
-  dd->shift = ci->values[0].value.number;
+  dd->ignores_len = 0;
+  dd->ignores = NULL;
 
-  return (0);
-} /* int csnmp_config_add_data_shift */
+  for (i = 0; i < ci->values_num; ++i)
+  {
+    if (strarray_add(&(dd->ignores), &(dd->ignores_len), ci->values[i].value.string) != 0)
+    {
+      ERROR("snmp plugin: Can't allocate memory");
+      strarray_free(dd->ignores, dd->ignores_len);
+      return (ENOMEM);
+    }
+  }
+  return 0;
+} /* int csnmp_config_add_data_blacklist */
 
-static int csnmp_config_add_data_scale (data_definition_t *dd, oconfig_item_t *ci)
+static int csnmp_config_add_data_blacklist_match_inverted(data_definition_t *dd, oconfig_item_t *ci)
 {
-  if ((ci->values_num != 1)
-      || (ci->values[0].type != OCONFIG_TYPE_NUMBER))
+  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_BOOLEAN))
   {
-    WARNING ("snmp plugin: The `Scale' config option needs exactly one number argument.");
+    WARNING ("snmp plugin: `InvertMatch' needs exactly one boolean argument.");
     return (-1);
   }
 
-  dd->scale = ci->values[0].value.number;
+  dd->invert_match = ci->values[0].value.boolean ? 1 : 0;
 
   return (0);
-} /* int csnmp_config_add_data_scale */
+} /* int csnmp_config_add_data_blacklist_match_inverted */
 
 static int csnmp_config_add_data (oconfig_item_t *ci)
 {
   data_definition_t *dd;
   int status = 0;
   int i;
 
-  if ((ci->values_num != 1)
-      || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: The `Data' config option needs exactly one string argument.");
-    return (-1);
-  }
-
   dd = (data_definition_t *) malloc (sizeof (data_definition_t));
   if (dd == NULL)
     return (-1);
   memset (dd, '\0', sizeof (data_definition_t));
 
-  dd->name = strdup (ci->values[0].value.string);
-  if (dd->name == NULL)
+  status = cf_util_get_string(ci, &dd->name);
+  if (status != 0)
   {
     free (dd);
     return (-1);
   }
+
   dd->scale = 1.0;
   dd->shift = 0.0;
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
@@ -399,27 +399,32 @@
   dd->scale = 1.0;
   dd->shift = 0.0;
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Type", option->key) == 0)
-      status = csnmp_config_add_data_type (dd, option);
+      status = cf_util_get_string(option, &dd->type);
     else if (strcasecmp ("Table", option->key) == 0)
-      status = csnmp_config_add_data_table (dd, option);
+      status = cf_util_get_boolean(option, &dd->is_table);
     else if (strcasecmp ("Instance", option->key) == 0)
       status = csnmp_config_add_data_instance (dd, option);
     else if (strcasecmp ("InstancePrefix", option->key) == 0)
       status = csnmp_config_add_data_instance_prefix (dd, option);
     else if (strcasecmp ("Values", option->key) == 0)
       status = csnmp_config_add_data_values (dd, option);
     else if (strcasecmp ("Shift", option->key) == 0)
-      status = csnmp_config_add_data_shift (dd, option);
+      status = cf_util_get_double(option, &dd->shift);
     else if (strcasecmp ("Scale", option->key) == 0)
-      status = csnmp_config_add_data_scale (dd, option);
+      status = cf_util_get_double(option, &dd->scale);
+    else if (strcasecmp ("Ignore", option->key) == 0)
+      status = csnmp_config_add_data_blacklist(dd, option);
+    else if (strcasecmp ("InvertMatch", option->key) == 0)
+      status = csnmp_config_add_data_blacklist_match_inverted(dd, option);
     else
     {
       WARNING ("snmp plugin: Option `%s' not allowed here.", option->key);
       status = -1;
     }
 
@@ -447,12 +452,13 @@
 
   if (status != 0)
   {
     sfree (dd->name);
     sfree (dd->instance_prefix);
     sfree (dd->values);
+    sfree (dd->ignores);
     sfree (dd);
     return (-1);
   }
 
   DEBUG ("snmp plugin: dd = { name = %s, type = %s, is_table = %s, values_len = %i }",
       dd->name, dd->type, (dd->is_table != 0) ? "true" : "false", dd->values_len);
@@ -468,71 +474,27 @@
     last->next = dd;
   }
 
   return (0);
 } /* int csnmp_config_add_data */
 
-static int csnmp_config_add_host_address (host_definition_t *hd, oconfig_item_t *ci)
-{
-  if ((ci->values_num != 1)
-      || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: The `Address' config option needs exactly one string argument.");
-    return (-1);
-  }
-
-  if (hd->address == NULL)
-    free (hd->address);
-
-  hd->address = strdup (ci->values[0].value.string);
-  if (hd->address == NULL)
-    return (-1);
-
-  DEBUG ("snmp plugin: host = %s; host->address = %s;",
-      hd->name, hd->address);
-
-  return (0);
-} /* int csnmp_config_add_host_address */
-
-static int csnmp_config_add_host_community (host_definition_t *hd, oconfig_item_t *ci)
-{
-  if ((ci->values_num != 1)
-      || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: The `Community' config option needs exactly one string argument.");
-    return (-1);
-  }
-
-  if (hd->community == NULL)
-    free (hd->community);
-
-  hd->community = strdup (ci->values[0].value.string);
-  if (hd->community == NULL)
-    return (-1);
-
-  DEBUG ("snmp plugin: host = %s; host->community = %s;",
-      hd->name, hd->community);
-
-  return (0);
-} /* int csnmp_config_add_host_community */
-
 static int csnmp_config_add_host_version (host_definition_t *hd, oconfig_item_t *ci)
 {
   int version;
 
   if ((ci->values_num != 1)
       || (ci->values[0].type != OCONFIG_TYPE_NUMBER))
   {
     WARNING ("snmp plugin: The `Version' config option needs exactly one number argument.");
     return (-1);
   }
 
   version = (int) ci->values[0].value.number;
-  if ((version != 1) && (version != 2))
+  if ((version < 1) || (version > 3))
   {
-    WARNING ("snmp plugin: `Version' must either be `1' or `2'.");
+    WARNING ("snmp plugin: `Version' must either be `1', `2', or `3'.");
     return (-1);
   }
 
   hd->version = version;
 
   return (0);
@@ -586,61 +548,152 @@
     host->data_list_len++;
   } /* for (values_num) */
 
   return (0);
 } /* int csnmp_config_add_host_collect */
 
+static int csnmp_config_add_host_auth_protocol (host_definition_t *hd, oconfig_item_t *ci)
+{
+  char buffer[4];
+  int status;
+
+  status = cf_util_get_string_buffer(ci, buffer, sizeof(buffer));
+  if (status != 0)
+    return status;
+
+  if (strcasecmp("MD5", buffer) == 0) {
+    hd->auth_protocol = usmHMACMD5AuthProtocol;
+    hd->auth_protocol_len = sizeof(usmHMACMD5AuthProtocol)/sizeof(oid);
+  }
+  else if (strcasecmp("SHA", buffer) == 0) {
+    hd->auth_protocol = usmHMACSHA1AuthProtocol;
+    hd->auth_protocol_len = sizeof(usmHMACSHA1AuthProtocol)/sizeof(oid);
+  }
+  else
+  {
+    WARNING ("snmp plugin: The `AuthProtocol' config option must be `MD5' or `SHA'.");
+    return (-1);
+  }
+
+  DEBUG ("snmp plugin: host = %s; host->auth_protocol = %s;",
+      hd->name, hd->auth_protocol == usmHMACMD5AuthProtocol ? "MD5" : "SHA");
+
+  return (0);
+} /* int csnmp_config_add_host_auth_protocol */
+
+static int csnmp_config_add_host_priv_protocol (host_definition_t *hd, oconfig_item_t *ci)
+{
+  char buffer[4];
+  int status;
+
+  status = cf_util_get_string_buffer(ci, buffer, sizeof(buffer));
+  if (status != 0)
+    return status;
+
+  if (strcasecmp("AES", buffer) == 0)
+  {
+    hd->priv_protocol = usmAESPrivProtocol;
+    hd->priv_protocol_len = sizeof(usmAESPrivProtocol)/sizeof(oid);
+  }
+  else if (strcasecmp("DES", buffer) == 0) {
+    hd->priv_protocol = usmDESPrivProtocol;
+    hd->priv_protocol_len = sizeof(usmDESPrivProtocol)/sizeof(oid);
+  }
+  else
+  {
+    WARNING ("snmp plugin: The `PrivProtocol' config option must be `AES' or `DES'.");
+    return (-1);
+  }
+
+  DEBUG ("snmp plugin: host = %s; host->priv_protocol = %s;",
+      hd->name, hd->priv_protocol == usmAESPrivProtocol ? "AES" : "DES");
+
+  return (0);
+} /* int csnmp_config_add_host_priv_protocol */
+
+static int csnmp_config_add_host_security_level (host_definition_t *hd, oconfig_item_t *ci)
+{
+  char buffer[16];
+  int status;
+
+  status = cf_util_get_string_buffer(ci, buffer, sizeof(buffer));
+  if (status != 0)
+    return status;
+
+  if (strcasecmp("noAuthNoPriv", buffer) == 0)
+    hd->security_level = SNMP_SEC_LEVEL_NOAUTH;
+  else if (strcasecmp("authNoPriv", buffer) == 0)
+    hd->security_level = SNMP_SEC_LEVEL_AUTHNOPRIV;
+  else if (strcasecmp("authPriv", buffer) == 0)
+    hd->security_level = SNMP_SEC_LEVEL_AUTHPRIV;
+  else
+  {
+    WARNING ("snmp plugin: The `SecurityLevel' config option must be `noAuthNoPriv', `authNoPriv', or `authPriv'.");
+    return (-1);
+  }
+
+  DEBUG ("snmp plugin: host = %s; host->security_level = %d;",
+      hd->name, hd->security_level);
+
+  return (0);
+} /* int csnmp_config_add_host_security_level */
+
 static int csnmp_config_add_host (oconfig_item_t *ci)
 {
   host_definition_t *hd;
   int status = 0;
   int i;
 
   /* Registration stuff. */
   char cb_name[DATA_MAX_NAME_LEN];
   user_data_t cb_data;
   struct timespec cb_interval;
 
-  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    WARNING ("snmp plugin: `Host' needs exactly one string argument.");
-    return (-1);
-  }
-
   hd = (host_definition_t *) malloc (sizeof (host_definition_t));
   if (hd == NULL)
     return (-1);
   memset (hd, '\0', sizeof (host_definition_t));
   hd->version = 2;
   C_COMPLAIN_INIT (&hd->complaint);
 
-  hd->name = strdup (ci->values[0].value.string);
-  if (hd->name == NULL)
-  {
-    free (hd);
-    return (-1);
-  }
+  status = cf_util_get_string(ci, &hd->name);
+  if (status != 0)
+    return status;
 
   hd->sess_handle = NULL;
   hd->interval = 0;
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
     status = 0;
 
     if (strcasecmp ("Address", option->key) == 0)
-      status = csnmp_config_add_host_address (hd, option);
+      status = cf_util_get_string(option, &hd->address);
     else if (strcasecmp ("Community", option->key) == 0)
-      status = csnmp_config_add_host_community (hd, option);
+      status = cf_util_get_string(option, &hd->community);
     else if (strcasecmp ("Version", option->key) == 0)
       status = csnmp_config_add_host_version (hd, option);
     else if (strcasecmp ("Collect", option->key) == 0)
       csnmp_config_add_host_collect (hd, option);
     else if (strcasecmp ("Interval", option->key) == 0)
       cf_util_get_cdtime (option, &hd->interval);
+    else if (strcasecmp ("Username", option->key) == 0)
+      status = cf_util_get_string(option, &hd->username);
+    else if (strcasecmp ("AuthProtocol", option->key) == 0)
+      status = csnmp_config_add_host_auth_protocol (hd, option);
+    else if (strcasecmp ("PrivacyProtocol", option->key) == 0)
+      status = csnmp_config_add_host_priv_protocol (hd, option);
+    else if (strcasecmp ("AuthPassphrase", option->key) == 0)
+      status = cf_util_get_string(option, &hd->auth_passphrase);
+    else if (strcasecmp ("PrivacyPassphrase", option->key) == 0)
+      status = cf_util_get_string(option, &hd->priv_passphrase);
+    else if (strcasecmp ("SecurityLevel", option->key) == 0)
+      status = csnmp_config_add_host_security_level (hd, option);
+    else if (strcasecmp ("Context", option->key) == 0)
+      status = cf_util_get_string(option, &hd->context);
     else
     {
       WARNING ("snmp plugin: csnmp_config_add_host: Option `%s' not allowed here.", option->key);
       status = -1;
     }
 
@@ -653,18 +706,63 @@
     if (hd->address == NULL)
     {
       WARNING ("snmp plugin: `Address' not given for host `%s'", hd->name);
       status = -1;
       break;
     }
-    if (hd->community == NULL)
+    if (hd->community == NULL && hd->version < 3)
     {
       WARNING ("snmp plugin: `Community' not given for host `%s'", hd->name);
       status = -1;
       break;
     }
+    if (hd->version == 3)
+    {
+      if (hd->username == NULL)
+      {
+        WARNING ("snmp plugin: `Username' not given for host `%s'", hd->name);
+        status = -1;
+        break;
+      }
+      if (hd->security_level == 0)
+      {
+        WARNING ("snmp plugin: `SecurityLevel' not given for host `%s'", hd->name);
+        status = -1;
+        break;
+      }
+      if (hd->security_level == SNMP_SEC_LEVEL_AUTHNOPRIV || hd->security_level == SNMP_SEC_LEVEL_AUTHPRIV)
+      {
+	if (hd->auth_protocol == NULL)
+	{
+	  WARNING ("snmp plugin: `AuthProtocol' not given for host `%s'", hd->name);
+	  status = -1;
+	  break;
+	}
+	if (hd->auth_passphrase == NULL)
+	{
+	  WARNING ("snmp plugin: `AuthPassphrase' not given for host `%s'", hd->name);
+	  status = -1;
+	  break;
+	}
+      }
+      if (hd->security_level == SNMP_SEC_LEVEL_AUTHPRIV)
+      {
+	if (hd->priv_protocol == NULL)
+	{
+	  WARNING ("snmp plugin: `PrivacyProtocol' not given for host `%s'", hd->name);
+	  status = -1;
+	  break;
+	}
+	if (hd->priv_passphrase == NULL)
+	{
+	  WARNING ("snmp plugin: `PrivacyPassphrase' not given for host `%s'", hd->name);
+	  status = -1;
+	  break;
+	}
+      }
+    }
 
     break;
   } /* while (status == 0) */
 
   if (status != 0)
   {
@@ -720,21 +818,81 @@
 
 /* }}} End of the config stuff. Now the interesting part begins */
 
 static void csnmp_host_open_session (host_definition_t *host)
 {
   struct snmp_session sess;
+  int error;
 
   if (host->sess_handle != NULL)
     csnmp_host_close_session (host);
 
   snmp_sess_init (&sess);
   sess.peername = host->address;
-  sess.community = (u_char *) host->community;
-  sess.community_len = strlen (host->community);
-  sess.version = (host->version == 1) ? SNMP_VERSION_1 : SNMP_VERSION_2c;
+  switch (host->version)
+  {
+    case 1:
+      sess.version = SNMP_VERSION_1;
+      break;
+    case 3:
+      sess.version = SNMP_VERSION_3;
+      break;
+    default:
+      sess.version = SNMP_VERSION_2c;
+      break;
+  }
+
+  if (host->version == 3)
+  {
+    sess.securityName = host->username;
+    sess.securityNameLen = strlen (host->username);
+    sess.securityLevel = host->security_level;
+
+    if (sess.securityLevel == SNMP_SEC_LEVEL_AUTHNOPRIV || sess.securityLevel == SNMP_SEC_LEVEL_AUTHPRIV)
+    {
+      sess.securityAuthProto = host->auth_protocol;
+      sess.securityAuthProtoLen = host->auth_protocol_len;
+      sess.securityAuthKeyLen = USM_AUTH_KU_LEN;
+      error = generate_Ku (sess.securityAuthProto,
+	    sess.securityAuthProtoLen,
+	    (u_char *) host->auth_passphrase,
+	    strlen(host->auth_passphrase),
+	    sess.securityAuthKey,
+	    &sess.securityAuthKeyLen);
+      if (error != SNMPERR_SUCCESS) {
+	ERROR ("snmp plugin: host %s: Error generating Ku from auth_passphrase. (Error %d)", host->name, error);
+      }
+    }
+
+    if (sess.securityLevel == SNMP_SEC_LEVEL_AUTHPRIV)
+    {
+      sess.securityPrivProto = host->priv_protocol;
+      sess.securityPrivProtoLen = host->priv_protocol_len;
+      sess.securityPrivKeyLen = USM_PRIV_KU_LEN;
+      error = generate_Ku (sess.securityAuthProto,
+	    sess.securityAuthProtoLen,
+	    (u_char *) host->priv_passphrase,
+	    strlen(host->priv_passphrase),
+	    sess.securityPrivKey,
+	    &sess.securityPrivKeyLen);
+      if (error != SNMPERR_SUCCESS) {
+	ERROR ("snmp plugin: host %s: Error generating Ku from priv_passphrase. (Error %d)", host->name, error);
+      }
+    }
+
+    if (host->context != NULL)
+    {
+      sess.contextName = host->context;
+      sess.contextNameLen = strlen (host->context);
+    }
+  }
+  else /* SNMPv1/2 "authenticates" with community string */
+  {
+    sess.community = (u_char *) host->community;
+    sess.community_len = strlen (host->community);
+  }
 
   /* snmp_sess_open will copy the `struct snmp_session *'. */
   host->sess_handle = snmp_sess_open (&sess);
 
   if (host->sess_handle == NULL)
   {
@@ -768,13 +926,14 @@
 #endif
       || (vl->type == ASN_GAUGE))
   {
     tmp_unsigned = (uint32_t) *vl->val.integer;
     tmp_signed = (int32_t) *vl->val.integer;
 
-    if (vl->type == ASN_INTEGER)
+    if ((vl->type == ASN_INTEGER)
+        || (vl->type == ASN_GAUGE))
       prefer_signed = 1;
 
     DEBUG ("snmp plugin: Parsed int32 value is %"PRIu64".", tmp_unsigned);
   }
   else if (vl->type == ASN_COUNTER64)
   {
@@ -831,13 +990,14 @@
       memcpy (string, vl->val.string, string_length);
       string[string_length] = 0;
 
       status = parse_value (string, &ret, type);
       if (status != 0)
       {
-        ERROR ("snmp plugin: csnmp_value_list_to_value: Parsing string as %s failed: %s",
+        ERROR ("snmp plugin: host %s: csnmp_value_list_to_value: Parsing string as %s failed: %s",
+            (host_name != NULL) ? host_name : "UNKNOWN",
             DS_TYPE_TO_STRING (type), string);
       }
     }
 
     if (status != 0)
     {
@@ -966,12 +1126,14 @@
     const host_definition_t *hd, const data_definition_t *dd)
 {
   csnmp_list_instances_t *il;
   struct variable_list *vb;
   oid_t vb_name;
   int status;
+  uint32_t i;
+  uint32_t is_matched;
 
   /* Set vb on the last variable */
   for (vb = res->variables;
       (vb != NULL) && (vb->next_variable != NULL);
       vb = vb->next_variable)
     /* do nothing */;
@@ -999,13 +1161,35 @@
   /* Get instance name */
   if ((vb->type == ASN_OCTET_STR) || (vb->type == ASN_BIT_STR))
   {
     char *ptr;
 
     csnmp_strvbcopy (il->instance, vb, sizeof (il->instance));
-
+    is_matched = 0;
+    for (i = 0; i < dd->ignores_len; i++)
+    {
+      status = fnmatch(dd->ignores[i], il->instance, 0);
+      if (status == 0)
+      {
+        if (dd->invert_match == 0)
+        {
+          sfree(il);
+          return 0;
+        }
+	else
+	{
+          is_matched = 1;
+	  break;
+	}
+      }
+    }
+    if (dd->invert_match != 0 && is_matched == 0)
+    {
+      sfree(il);
+      return 0;
+    }
     for (ptr = il->instance; *ptr != '\0'; ptr++)
     {
       if ((*ptr > 0) && (*ptr < 32))
         *ptr = ' ';
       else if (*ptr == '/')
         *ptr = '_';
@@ -1049,23 +1233,22 @@
   if (!ds)
   {
     ERROR ("snmp plugin: DataSet `%s' not defined.", data->type);
     return (-1);
   }
   assert (ds->ds_num == data->values_len);
-  assert (data->values_len > 0);
 
   instance_list_ptr = instance_list;
 
-  value_table_ptr = calloc ((size_t) data->values_len, sizeof (*value_table_ptr));
+  value_table_ptr = malloc (sizeof (*value_table_ptr) * data->values_len);
   if (value_table_ptr == NULL)
     return (-1);
   for (i = 0; i < data->values_len; i++)
     value_table_ptr[i] = value_table[i];
 
-  vl.values_len = data->values_len;
+  vl.values_len = ds->ds_num;
   vl.values = malloc (sizeof (*vl.values) * vl.values_len);
   if (vl.values == NULL)
   {
     ERROR ("snmp plugin: malloc failed.");
     sfree (value_table_ptr);
     return (-1);
@@ -1191,13 +1374,13 @@
   return (0);
 } /* int csnmp_dispatch_table */
 
 static int csnmp_read_table (host_definition_t *host, data_definition_t *data)
 {
   struct snmp_pdu *req;
-  struct snmp_pdu *res = NULL;
+  struct snmp_pdu *res;
   struct variable_list *vb;
 
   const data_set_t *ds;
 
   uint32_t oid_list_len = (uint32_t) (data->values_len + 1);
   /* Holds the last OID returned by the device. We use this in the GETNEXT
@@ -1238,13 +1421,12 @@
   if (ds->ds_num != data->values_len)
   {
     ERROR ("snmp plugin: DataSet `%s' requires %i values, but config talks about %i",
         data->type, ds->ds_num, data->values_len);
     return (-1);
   }
-  assert (data->values_len > 0);
 
   /* We need a copy of all the OIDs, because GETNEXT will destroy them. */
   memcpy (oid_list, data->values, data->values_len * sizeof (oid_t));
   if (data->instance.oid.oid_len > 0)
     memcpy (oid_list + data->values_len, &data->instance.oid, sizeof (oid_t));
   else /* no InstanceFrom option specified. */
@@ -1338,13 +1520,13 @@
       break;
     }
 
     for (vb = res->variables, i = 0; (vb != NULL); vb = vb->next_variable, i++)
     {
       /* Calculate value index from todo list */
-      while ((i < oid_list_len) && !oid_list_todo[i])
+      while (!oid_list_todo[i] && (i < oid_list_len))
         i++;
 
       /* An instance is configured and the res variable we process is the
        * instance value (last index) */
       if ((data->instance.oid.oid_len > 0) && (i == data->values_len))
       {
@@ -1362,13 +1544,14 @@
 
         /* Allocate a new `csnmp_list_instances_t', insert the instance name and
          * add it to the list */
         if (csnmp_instance_list_add (&instance_list_head, &instance_list_tail,
               res, host, data) != 0)
         {
-          ERROR ("snmp plugin: csnmp_instance_list_add failed.");
+          ERROR ("snmp plugin: host %s: csnmp_instance_list_add failed.",
+              host->name);
           status = -1;
           break;
         }
       }
       else /* The variable we are processing is a normal value */
       {
@@ -1484,13 +1667,13 @@
 
   DEBUG ("snmp plugin: csnmp_read_value (host = %s, data = %s)",
       host->name, data->name);
 
   if (host->sess_handle == NULL)
   {
-    DEBUG ("snmp plugin: csnmp_read_value: host->sess_handle == NULL");
+    DEBUG ("snmp plugin: csnmp_read_table: host->sess_handle == NULL");
     return (-1);
   }
 
   ds = plugin_get_ds (data->type);
   if (!ds)
   {
@@ -1548,13 +1731,12 @@
 
     if (res != NULL)
       snmp_free_pdu (res);
     res = NULL;
 
     sfree (errstr);
-    sfree (vl.values);
     csnmp_host_close_session (host);
 
     return (-1);
   }
 
 
@@ -1659,12 +1841,13 @@
   {
     data_next = data_this->next;
 
     sfree (data_this->name);
     sfree (data_this->type);
     sfree (data_this->values);
+    sfree (data_this->ignores);
     sfree (data_this);
 
     data_this = data_next;
   }
 
   return (0);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/statsd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/statsd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/statsd.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/statsd.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/statsd.c
- *
  * Copyright (C) 2013       Florian octo Forster
  *
- * Permission to use, copy, modify, and distribute this software for any
- * purpose with or without fee is hereby granted, provided that the above
- * copyright notice and this permission notice appear in all copies.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
- * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
- * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
- * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
- * WHATSOEVER RESULTING FROM LOSS OF MIND, USE, DATA OR PROFITS, WHETHER
- * IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING
- * OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  */
 
 #include "collectd.h"
@@ -187,41 +192,12 @@
 
   pthread_mutex_unlock (&metrics_lock);
 
   return (0);
 } /* }}} int statsd_metric_add */
 
-static void statsd_metric_free (statsd_metric_t *metric) /* {{{ */
-{
-  if (metric == NULL)
-    return;
-
-  if (metric->latency != NULL)
-  {
-    latency_counter_destroy (metric->latency);
-    metric->latency = NULL;
-  }
-
-  if (metric->set != NULL)
-  {
-    void *key;
-    void *value;
-
-    while (c_avl_pick (metric->set, &key, &value) == 0)
-    {
-      sfree (key);
-      assert (value == NULL);
-    }
-
-    c_avl_destroy (metric->set);
-    metric->set = NULL;
-  }
-
-  sfree (metric);
-} /* }}} void statsd_metric_free */
-
 static int statsd_parse_value (char const *str, value_t *ret_value) /* {{{ */
 {
   char *endptr = NULL;
 
   ret_value->gauge = (gauge_t) strtod (str, &endptr);
   if ((str == endptr) || ((endptr != NULL) && (*endptr != 0)))
@@ -554,13 +530,12 @@
     }
 
     tmp = realloc (fds, sizeof (*fds) * (fds_num + 1));
     if (tmp == NULL)
     {
       ERROR ("statsd plugin: realloc failed.");
-      close (fd);
       continue;
     }
     fds = tmp;
     tmp = fds + fds_num;
     fds_num++;
 
@@ -775,58 +750,55 @@
 
   if (metric->type == STATSD_GAUGE)
     values[0].gauge = (gauge_t) metric->value;
   else if (metric->type == STATSD_TIMER)
   {
     size_t i;
-    _Bool have_events = (metric->updates_num > 0);
 
-    /* Make sure all timer metrics share the *same* timestamp. */
+    if (metric->updates_num == 0)
+      return (0);
+
     vl.time = cdtime ();
 
     ssnprintf (vl.type_instance, sizeof (vl.type_instance),
         "%s-average", name);
-    values[0].gauge = have_events
-      ? CDTIME_T_TO_DOUBLE (latency_counter_get_average (metric->latency))
-      : NAN;
+    values[0].gauge = CDTIME_T_TO_DOUBLE (
+        latency_counter_get_average (metric->latency));
     plugin_dispatch_values (&vl);
 
     if (conf_timer_lower) {
       ssnprintf (vl.type_instance, sizeof (vl.type_instance),
           "%s-lower", name);
-      values[0].gauge = have_events
-        ? CDTIME_T_TO_DOUBLE (latency_counter_get_min (metric->latency))
-        : NAN;
+      values[0].gauge = CDTIME_T_TO_DOUBLE (
+          latency_counter_get_min (metric->latency));
       plugin_dispatch_values (&vl);
     }
 
     if (conf_timer_upper) {
       ssnprintf (vl.type_instance, sizeof (vl.type_instance),
           "%s-upper", name);
-      values[0].gauge = have_events
-        ? CDTIME_T_TO_DOUBLE (latency_counter_get_max (metric->latency))
-        : NAN;
+      values[0].gauge = CDTIME_T_TO_DOUBLE (
+          latency_counter_get_max (metric->latency));
       plugin_dispatch_values (&vl);
     }
 
     if (conf_timer_sum) {
       ssnprintf (vl.type_instance, sizeof (vl.type_instance),
           "%s-sum", name);
-      values[0].gauge = have_events
-        ? CDTIME_T_TO_DOUBLE (latency_counter_get_sum (metric->latency))
-        : NAN;
+      values[0].gauge = CDTIME_T_TO_DOUBLE (
+          latency_counter_get_sum (metric->latency));
       plugin_dispatch_values (&vl);
     }
 
     for (i = 0; i < conf_timer_percentile_num; i++)
     {
       ssnprintf (vl.type_instance, sizeof (vl.type_instance),
           "%s-percentile-%.0f", name, conf_timer_percentile[i]);
-      values[0].gauge = have_events
-        ? CDTIME_T_TO_DOUBLE (latency_counter_get_percentile (metric->latency, conf_timer_percentile[i]))
-        : NAN;
+      values[0].gauge = CDTIME_T_TO_DOUBLE (
+          latency_counter_get_percentile (
+            metric->latency, conf_timer_percentile[i]));
       plugin_dispatch_values (&vl);
     }
 
     /* Keep this at the end, since vl.type is set to "gauge" here. The
      * vl.type's above are implicitly set to "latency". */
     if (conf_timer_count) {
@@ -844,25 +816,14 @@
   {
     if (metric->set == NULL)
       values[0].gauge = 0.0;
     else
       values[0].gauge = (gauge_t) c_avl_size (metric->set);
   }
-  else { /* STATSD_COUNTER */
-      /*
-       * Expand a single value to two metrics:
-       *
-       * - The absolute counter, as a gauge
-       * - A derived rate for this counter
-       */
-      values[0].derive = (derive_t) metric->value;
-      plugin_dispatch_values(&vl);
-
-      sstrncpy(vl.type, "gauge", sizeof (vl.type));
-      values[0].gauge = (gauge_t) metric->value;
-  }
+  else
+    values[0].derive = (derive_t) metric->value;
 
   return (plugin_dispatch_values (&vl));
 } /* }}} int statsd_metric_submit_unsafe */
 
 static int statsd_read (void) /* {{{ */
 {
@@ -918,13 +879,13 @@
       ERROR ("stats plugin: c_avl_remove (\"%s\") failed with status %i.",
           to_be_deleted[i], status);
       continue;
     }
 
     sfree (name);
-    statsd_metric_free (metric);
+    sfree (metric);
   }
 
   pthread_mutex_unlock (&metrics_lock);
 
   strarray_free (to_be_deleted, to_be_deleted_num);
 
@@ -933,26 +894,26 @@
 
 static int statsd_shutdown (void) /* {{{ */
 {
   void *key;
   void *value;
 
+  pthread_mutex_lock (&metrics_lock);
+
   if (network_thread_running)
   {
     network_thread_shutdown = 1;
     pthread_kill (network_thread, SIGTERM);
     pthread_join (network_thread, /* retval = */ NULL);
   }
   network_thread_running = 0;
 
-  pthread_mutex_lock (&metrics_lock);
-
   while (c_avl_pick (metrics_tree, &key, &value) == 0)
   {
     sfree (key);
-    statsd_metric_free (value);
+    sfree (value);
   }
   c_avl_destroy (metrics_tree);
   metrics_tree = NULL;
 
   sfree (conf_node);
   sfree (conf_service);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/swap.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/swap.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/swap.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/swap.c	2015-05-20 20:04:47.191035542 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/swap.c
- * Copyright (C) 2005-2012  Florian octo Forster
+ * Copyright (C) 2005-2014  Florian octo Forster
  * Copyright (C) 2009       Stefan Völkel
  * Copyright (C) 2009       Manuel Sanmartin
  * Copyright (C) 2010       Aurélien Reynaud
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
@@ -94,54 +94,51 @@
 #elif HAVE_LIBSTATGRAB
 /* No global variables */
 /* #endif HAVE_LIBSTATGRAB */
 
 #elif HAVE_PERFSTAT
 static int pagesize;
-static perfstat_memory_total_t pmemory;
 /*# endif HAVE_PERFSTAT */
 
 #else
 # error "No applicable input method."
 #endif /* HAVE_LIBSTATGRAB */
 
-static const char *config_keys[] =
-{
-	"ReportBytes",
-	"ReportByDevice"
-};
-static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+static _Bool values_absolute = 1;
+static _Bool values_percentage = 0;
 
-static int swap_config (const char *key, const char *value) /* {{{ */
+static int swap_config (oconfig_item_t *ci) /* {{{ */
 {
-	if (strcasecmp ("ReportBytes", key) == 0)
+	int i;
+
+	for (i = 0; i < ci->children_num; i++)
 	{
+		oconfig_item_t *child = ci->children + i;
+		if (strcasecmp ("ReportBytes", child->key) == 0)
 #if KERNEL_LINUX
-		report_bytes = IS_TRUE (value) ? 1 : 0;
+			cf_util_get_boolean (child, &report_bytes);
 #else
-		WARNING ("swap plugin: The \"ReportBytes\" option is only "
-				"valid under Linux. "
-				"The option is going to be ignored.");
+			WARNING ("swap plugin: The \"ReportBytes\" option "
+					"is only valid under Linux. "
+					"The option is going to be ignored.");
 #endif
-	}
-	else if (strcasecmp ("ReportByDevice", key) == 0)
-	{
+		else if (strcasecmp ("ReportByDevice", child->key) == 0)
 #if SWAP_HAVE_REPORT_BY_DEVICE
-		if (IS_TRUE (value))
-			report_by_device = 1;
-		else
-			report_by_device = 0;
+			cf_util_get_boolean (child, &report_by_device);
 #else
-		WARNING ("swap plugin: The \"ReportByDevice\" option is not "
-				"supported on this platform. "
-				"The option is going to be ignored.");
+			WARNING ("swap plugin: The \"ReportByDevice\" option "
+					"is not supported on this platform. "
+					"The option is going to be ignored.");
 #endif /* SWAP_HAVE_REPORT_BY_DEVICE */
-	}
-	else
-	{
-		return (-1);
+		else if (strcasecmp ("ValuesAbsolute", child->key) == 0)
+			cf_util_get_boolean (child, &values_absolute);
+		else if (strcasecmp ("ValuesPercentage", child->key) == 0)
+			cf_util_get_boolean (child, &values_percentage);
+		else
+			WARNING ("swap plugin: Unknown config option: \"%s\"",
+					child->key);
 	}
 
 	return (0);
 } /* }}} int swap_config */
 
 static int swap_init (void) /* {{{ */
@@ -187,50 +184,56 @@
 	pagesize = getpagesize();
 #endif /* HAVE_PERFSTAT */
 
 	return (0);
 } /* }}} int swap_init */
 
-static void swap_submit (const char *plugin_instance, /* {{{ */
-		const char *type, const char *type_instance,
-		value_t value)
+static void swap_submit_usage (char const *plugin_instance, /* {{{ */
+		gauge_t used, gauge_t free,
+		char const *other_name, gauge_t other_value)
 {
+	value_t v[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
-	assert (type != NULL);
-
-	vl.values = &value;
-	vl.values_len = 1;
+	vl.values = v;
+	vl.values_len = STATIC_ARRAY_SIZE (v);
 	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
 	sstrncpy (vl.plugin, "swap", sizeof (vl.plugin));
 	if (plugin_instance != NULL)
-		sstrncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
-	sstrncpy (vl.type, type, sizeof (vl.type));
-	if (type_instance != NULL)
-		sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
+		sstrncpy (vl.plugin_instance, plugin_instance,
+				sizeof (vl.plugin_instance));
+	sstrncpy (vl.type, "swap", sizeof (vl.type));
+
+	if (values_absolute)
+		plugin_dispatch_multivalue (&vl, 0, DS_TYPE_GAUGE,
+				"used", used, "free", free,
+				other_name, other_value, NULL);
+	if (values_percentage)
+		plugin_dispatch_multivalue (&vl, 1, DS_TYPE_GAUGE,
+				"used", used, "free", free,
+				other_name, other_value, NULL);
+} /* }}} void swap_submit_usage */
 
-	plugin_dispatch_values (&vl);
-} /* }}} void swap_submit_inst */
-
-static void swap_submit_gauge (const char *plugin_instance, /* {{{ */
-		const char *type_instance, gauge_t value)
+#if KERNEL_LINUX || HAVE_PERFSTAT
+__attribute__((nonnull(1)))
+static void swap_submit_derive (char const *type_instance, /* {{{ */
+		derive_t value)
 {
-	value_t v;
+	value_list_t vl = VALUE_LIST_INIT;
+	value_t v[1];
 
-	v.gauge = value;
-	swap_submit (plugin_instance, "swap", type_instance, v);
-} /* }}} void swap_submit_gauge */
+	v[0].derive = value;
 
-#if KERNEL_LINUX || HAVE_PERFSTAT
-static void swap_submit_derive (const char *plugin_instance, /* {{{ */
-		const char *type_instance, derive_t value)
-{
-	value_t v;
+	vl.values = v;
+	vl.values_len = STATIC_ARRAY_SIZE (v);
+	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
+	sstrncpy (vl.plugin, "swap", sizeof (vl.plugin));
+	sstrncpy (vl.type, "swap_io", sizeof (vl.type));
+	sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
-	v.derive = value;
-	swap_submit (plugin_instance, "swap_io", type_instance, v);
+	plugin_dispatch_values (&vl);
 } /* }}} void swap_submit_derive */
 #endif
 
 #if KERNEL_LINUX
 static int swap_read_separate (void) /* {{{ */
 {
@@ -250,59 +253,54 @@
 	{
 		char *fields[8];
 		int numfields;
 		char *endptr;
 
 		char path[PATH_MAX];
-		gauge_t size;
+		gauge_t total;
 		gauge_t used;
-		gauge_t free;
 
 		numfields = strsplit (buffer, fields, STATIC_ARRAY_SIZE (fields));
 		if (numfields != 5)
 			continue;
 
 		sstrncpy (path, fields[0], sizeof (path));
 		escape_slashes (path, sizeof (path));
 
 		errno = 0;
 		endptr = NULL;
-		size = strtod (fields[2], &endptr);
+		total = strtod (fields[2], &endptr);
 		if ((endptr == fields[2]) || (errno != 0))
 			continue;
 
 		errno = 0;
 		endptr = NULL;
 		used = strtod (fields[3], &endptr);
 		if ((endptr == fields[3]) || (errno != 0))
 			continue;
 
-		if (size < used)
+		if (total < used)
 			continue;
 
-		free = size - used;
-
-		swap_submit_gauge (path, "used", used);
-		swap_submit_gauge (path, "free", free);
+		swap_submit_usage (path, used, total - used, NULL, NAN);
 	}
 
 	fclose (fh);
 
 	return (0);
 } /* }}} int swap_read_separate */
 
 static int swap_read_combined (void) /* {{{ */
 {
 	FILE *fh;
 	char buffer[1024];
 
-	uint8_t have_data = 0;
-	gauge_t swap_used   = 0.0;
-	gauge_t swap_cached = 0.0;
-	gauge_t swap_free   = 0.0;
-	gauge_t swap_total  = 0.0;
+	gauge_t swap_used   = NAN;
+	gauge_t swap_cached = NAN;
+	gauge_t swap_free   = NAN;
+	gauge_t swap_total  = NAN;
 
 	fh = fopen ("/proc/meminfo", "r");
 	if (fh == NULL)
 	{
 		char errbuf[1024];
 		WARNING ("swap plugin: fopen (/proc/meminfo) failed: %s",
@@ -317,45 +315,36 @@
 
 		numfields = strsplit (buffer, fields, STATIC_ARRAY_SIZE (fields));
 		if (numfields < 2)
 			continue;
 
 		if (strcasecmp (fields[0], "SwapTotal:") == 0)
-		{
-			swap_total = strtod (fields[1], /* endptr = */ NULL);
-			have_data |= 0x01;
-		}
+			strtogauge (fields[1], &swap_total);
 		else if (strcasecmp (fields[0], "SwapFree:") == 0)
-		{
-			swap_free = strtod (fields[1], /* endptr = */ NULL);
-			have_data |= 0x02;
-		}
+			strtogauge (fields[1], &swap_free);
 		else if (strcasecmp (fields[0], "SwapCached:") == 0)
-		{
-			swap_cached = strtod (fields[1], /* endptr = */ NULL);
-			have_data |= 0x04;
-		}
+			strtogauge (fields[1], &swap_cached);
 	}
 
 	fclose (fh);
 
-	if ((have_data & 0x03) != 0x03)
+	if (isnan (swap_total) || isnan (swap_free))
 		return (ENOENT);
 
-	if (isnan (swap_total)
-			|| (swap_total <= 0.0)
-			|| ((swap_free + swap_cached) > swap_total))
-		return (EINVAL);
-
-	swap_used = swap_total - (swap_free + swap_cached);
+	/* Some systems, OpenVZ for example, don't provide SwapCached. */
+	if (isnan (swap_cached))
+		swap_used = swap_total - swap_free;
+	else
+		swap_used = swap_total - (swap_free + swap_cached);
+	assert (!isnan (swap_used));
 
-	swap_submit_gauge (NULL, "used",   1024.0 * swap_used);
-	swap_submit_gauge (NULL, "free",   1024.0 * swap_free);
-	if (have_data & 0x04)
-		swap_submit_gauge (NULL, "cached", 1024.0 * swap_cached);
+	if (swap_used < 0.0)
+		return (EINVAL);
 
+	swap_submit_usage (NULL, swap_used, swap_free,
+			isnan (swap_cached) ? NULL : "cached", swap_cached);
 	return (0);
 } /* }}} int swap_read_combined */
 
 static int swap_read_io (void) /* {{{ */
 {
 	FILE *fh;
@@ -427,14 +416,14 @@
 	if (report_bytes)
 	{
 		swap_in = swap_in * pagesize;
 		swap_out = swap_out * pagesize;
 	}
 
-	swap_submit_derive (NULL, "in",  swap_in);
-	swap_submit_derive (NULL, "out", swap_out);
+	swap_submit_derive ("in",  swap_in);
+	swap_submit_derive ("out", swap_out);
 
 	return (0);
 } /* }}} int swap_read_io */
 
 static int swap_read (void) /* {{{ */
 {
@@ -459,15 +448,15 @@
  * *this* plugin again. --octo
  */
 #elif 0 && HAVE_LIBKSTAT
 /* kstat-based read function */
 static int swap_read_kstat (void) /* {{{ */
 {
-	derive_t swap_alloc;
-	derive_t swap_resv;
-	derive_t swap_avail;
+	gauge_t swap_alloc;
+	gauge_t swap_resv;
+	gauge_t swap_avail;
 
 	struct anoninfo ai;
 
 	if (swapctl (SC_AINFO, &ai) == -1)
 	{
 		char errbuf[1024];
@@ -494,21 +483,17 @@
 	 * Does your brain hurt yet?  - Christophe Kalt
 	 *
 	 * Oh, and in case you wonder,
 	 * swap_alloc = pagesize * ( ai.ani_max - ai.ani_free );
 	 * can suffer from a 32bit overflow.
 	 */
-	swap_alloc  = (derive_t) ((ai.ani_max - ai.ani_free) * pagesize);
-	swap_resv   = (derive_t) ((ai.ani_resv + ai.ani_free - ai.ani_max)
-			* pagesize);
-	swap_avail  = (derive_t) ((ai.ani_max - ai.ani_resv) * pagesize);
-
-	swap_submit_gauge (NULL, "used", swap_alloc);
-	swap_submit_gauge (NULL, "free", swap_avail);
-	swap_submit_gauge (NULL, "reserved", swap_resv);
+	swap_alloc = (gauge_t) ((ai.ani_max - ai.ani_free) * pagesize);
+	swap_resv  = (gauge_t) ((ai.ani_resv + ai.ani_free - ai.ani_max) * pagesize);
+	swap_avail = (gauge_t) ((ai.ani_max - ai.ani_resv) * pagesize);
 
+	swap_submit_usage (NULL, swap_alloc, swap_avail, "reserved", swap_resv);
 	return (0);
 } /* }}} int swap_read_kstat */
 /* #endif 0 && HAVE_LIBKSTAT */
 
 #elif HAVE_SWAPCTL && HAVE_SWAPCTL_TWO_ARGS
 /* swapctl-based read function */
@@ -517,40 +502,40 @@
         swaptbl_t *s;
 	char *s_paths;
         int swap_num;
         int status;
         int i;
 
-        derive_t avail = 0;
-        derive_t total = 0;
+        gauge_t avail = 0;
+        gauge_t total = 0;
 
         swap_num = swapctl (SC_GETNSWP, NULL);
         if (swap_num < 0)
         {
                 ERROR ("swap plugin: swapctl (SC_GETNSWP) failed with status %i.",
                                 swap_num);
                 return (-1);
         }
         else if (swap_num == 0)
                 return (0);
 
 	/* Allocate and initialize the swaptbl_t structure */
-        s = malloc (swap_num * sizeof (swapent_t) + sizeof (struct swaptable));
+        s = (swaptbl_t *) smalloc (swap_num * sizeof (swapent_t) + sizeof (struct swaptable));
         if (s == NULL)
         {
-                ERROR ("swap plugin: malloc failed.");
+                ERROR ("swap plugin: smalloc failed.");
                 return (-1);
         }
 
 	/* Memory to store the path names. We only use these paths when the
 	 * separate option has been configured, but it's easier to just
 	 * allocate enough memory in any case. */
 	s_paths = calloc (swap_num, PATH_MAX);
 	if (s_paths == NULL)
 	{
-		ERROR ("swap plugin: calloc failed.");
+		ERROR ("swap plugin: malloc failed.");
 		sfree (s);
 		return (-1);
 	}
         for (i = 0; i < swap_num; i++)
 		s->swt_ent[i].ste_path = s_paths + (i * PATH_MAX);
         s->swt_n = swap_num;
@@ -581,53 +566,49 @@
 		/* less elements returned than requested */
 		swap_num = status;
 
         for (i = 0; i < swap_num; i++)
         {
 		char path[PATH_MAX];
-		derive_t this_total;
-		derive_t this_avail;
+		gauge_t this_total;
+		gauge_t this_avail;
 
                 if ((s->swt_ent[i].ste_flags & ST_INDEL) != 0)
                         continue;
 
-		this_total = ((derive_t) s->swt_ent[i].ste_pages) * pagesize;
-		this_avail = ((derive_t) s->swt_ent[i].ste_free)  * pagesize;
+		this_total = (gauge_t) (s->swt_ent[i].ste_pages * pagesize);
+		this_avail = (gauge_t) (s->swt_ent[i].ste_free  * pagesize);
 
 		/* Shortcut for the "combined" setting (default) */
 		if (!report_by_device)
 		{
 			avail += this_avail;
 			total += this_total;
 			continue;
 		}
 
 		sstrncpy (path, s->swt_ent[i].ste_path, sizeof (path));
 		escape_slashes (path, sizeof (path));
 
-		swap_submit_gauge (path, "used", (gauge_t) (this_total - this_avail));
-		swap_submit_gauge (path, "free", (gauge_t) this_avail);
+		swap_submit_usage (path, this_total - this_avail, this_avail,
+				NULL, NAN);
         } /* for (swap_num) */
 
         if (total < avail)
         {
-                ERROR ("swap plugin: Total swap space (%"PRIi64") "
-                                "is less than free swap space (%"PRIi64").",
+                ERROR ("swap plugin: Total swap space (%g) is less than free swap space (%g).",
                                 total, avail);
 		sfree (s_paths);
                 sfree (s);
                 return (-1);
         }
 
-	/* If the "separate" option was specified (report_by_device == 2), all
+	/* If the "separate" option was specified (report_by_device == 1), all
 	 * values have already been dispatched from within the loop. */
 	if (!report_by_device)
-	{
-		swap_submit_gauge (NULL, "used", (gauge_t) (total - avail));
-		swap_submit_gauge (NULL, "free", (gauge_t) avail);
-	}
+		swap_submit_usage (NULL, total - avail, avail, NULL, NAN);
 
 	sfree (s_paths);
         sfree (s);
 	return (0);
 } /* }}} int swap_read */
 /* #endif HAVE_SWAPCTL && HAVE_SWAPCTL_TWO_ARGS */
@@ -637,14 +618,14 @@
 {
 	struct swapent *swap_entries;
 	int swap_num;
 	int status;
 	int i;
 
-	derive_t used  = 0;
-	derive_t total = 0;
+	gauge_t used  = 0;
+	gauge_t total = 0;
 
 	swap_num = swapctl (SWAP_NSWAP, NULL, 0);
 	if (swap_num < 0)
 	{
 		ERROR ("swap plugin: swapctl (SWAP_NSWAP) failed with status %i.",
 				swap_num);
@@ -667,41 +648,38 @@
 				status);
 		sfree (swap_entries);
 		return (-1);
 	}
 
 #if defined(DEV_BSIZE) && (DEV_BSIZE > 0)
-# define C_SWAP_BLOCK_SIZE ((derive_t) DEV_BSIZE)
+# define C_SWAP_BLOCK_SIZE ((gauge_t) DEV_BSIZE)
 #else
-# define C_SWAP_BLOCK_SIZE ((derive_t) 512)
+# define C_SWAP_BLOCK_SIZE 512.0
 #endif
 
+	/* TODO: Report per-device stats. The path name is available from
+	 * swap_entries[i].se_path */
 	for (i = 0; i < swap_num; i++)
 	{
 		if ((swap_entries[i].se_flags & SWF_ENABLE) == 0)
 			continue;
 
-		used  += ((derive_t) swap_entries[i].se_inuse)
-			* C_SWAP_BLOCK_SIZE;
-		total += ((derive_t) swap_entries[i].se_nblks)
-			* C_SWAP_BLOCK_SIZE;
+		used  += ((gauge_t) swap_entries[i].se_inuse) * C_SWAP_BLOCK_SIZE;
+		total += ((gauge_t) swap_entries[i].se_nblks) * C_SWAP_BLOCK_SIZE;
 	}
 
 	if (total < used)
 	{
-		ERROR ("swap plugin: Total swap space (%"PRIu64") "
-				"is less than used swap space (%"PRIu64").",
+		ERROR ("swap plugin: Total swap space (%g) is less than used swap space (%g).",
 				total, used);
 		return (-1);
 	}
 
-	swap_submit_gauge (NULL, "used", (gauge_t) used);
-	swap_submit_gauge (NULL, "free", (gauge_t) (total - used));
+	swap_submit_usage (NULL, used, total - used, NULL, NAN);
 
 	sfree (swap_entries);
-
 	return (0);
 } /* }}} int swap_read */
 /* #endif HAVE_SWAPCTL && HAVE_SWAPCTL_THREE_ARGS */
 
 #elif defined(VM_SWAPUSAGE)
 static int swap_read (void) /* {{{ */
@@ -718,47 +696,44 @@
 	sw_usage_len = sizeof (struct xsw_usage);
 
 	if (sysctl (mib, mib_len, &sw_usage, &sw_usage_len, NULL, 0) != 0)
 		return (-1);
 
 	/* The returned values are bytes. */
-	swap_submit_gauge (NULL, "used", (gauge_t) sw_usage.xsu_used);
-	swap_submit_gauge (NULL, "free", (gauge_t) sw_usage.xsu_avail);
+	swap_submit_usage (NULL,
+			(gauge_t) sw_usage.xsu_used, (gauge_t) sw_usage.xsu_avail,
+			NULL, NAN);
 
 	return (0);
 } /* }}} int swap_read */
 /* #endif VM_SWAPUSAGE */
 
 #elif HAVE_LIBKVM_GETSWAPINFO
 static int swap_read (void) /* {{{ */
 {
 	struct kvm_swap data_s;
 	int             status;
 
-	derive_t used;
-	derive_t free;
-	derive_t total;
+	gauge_t used;
+	gauge_t total;
 
 	if (kvm_obj == NULL)
 		return (-1);
 
 	/* only one structure => only get the grand total, no details */
 	status = kvm_getswapinfo (kvm_obj, &data_s, 1, 0);
 	if (status == -1)
 		return (-1);
 
-	total = (derive_t) data_s.ksw_total;
-	used  = (derive_t) data_s.ksw_used;
-
-	total *= (derive_t) kvm_pagesize;
-	used  *= (derive_t) kvm_pagesize;
+	total = (gauge_t) data_s.ksw_total;
+	used  = (gauge_t) data_s.ksw_used;
 
-	free = total - used;
+	total *= (gauge_t) kvm_pagesize;
+	used  *= (gauge_t) kvm_pagesize;
 
-	swap_submit_gauge (NULL, "used", (gauge_t) used);
-	swap_submit_gauge (NULL, "free", (gauge_t) free);
+	swap_submit_usage (NULL, used, total - used, NULL, NAN);
 
 	return (0);
 } /* }}} int swap_read */
 /* #endif HAVE_LIBKVM_GETSWAPINFO */
 
 #elif HAVE_LIBSTATGRAB
@@ -764,47 +739,56 @@
 #elif HAVE_LIBSTATGRAB
 static int swap_read (void) /* {{{ */
 {
 	sg_swap_stats *swap;
 
 	swap = sg_get_swap_stats ();
-
 	if (swap == NULL)
 		return (-1);
 
-	swap_submit_gauge (NULL, "used", (gauge_t) swap->used);
-	swap_submit_gauge (NULL, "free", (gauge_t) swap->free);
+	swap_submit_usage (NULL, (gauge_t) swap->used, (gauge_t) swap->free,
+			NULL, NAN);
 
 	return (0);
 } /* }}} int swap_read */
 /* #endif  HAVE_LIBSTATGRAB */
 
 #elif HAVE_PERFSTAT
 static int swap_read (void) /* {{{ */
 {
-        if(perfstat_memory_total(NULL, &pmemory, sizeof(perfstat_memory_total_t), 1) < 0)
+	perfstat_memory_total_t pmemory;
+	int status;
+
+	gauge_t total;
+	gauge_t free;
+	gauge_t reserved;
+
+	memset (&pmemory, 0, sizeof (pmemory));
+        status = perfstat_memory_total (NULL, &pmemory, sizeof(perfstat_memory_total_t), 1);
+	if (status < 0)
 	{
                 char errbuf[1024];
-                WARNING ("memory plugin: perfstat_memory_total failed: %s",
+                WARNING ("swap plugin: perfstat_memory_total failed: %s",
                         sstrerror (errno, errbuf, sizeof (errbuf)));
                 return (-1);
         }
 
-	swap_submit_gauge (NULL, "used", (gauge_t) (pmemory.pgsp_total - pmemory.pgsp_free) * pagesize);
-	swap_submit_gauge (NULL, "free", (gauge_t) pmemory.pgsp_free * pagesize );
-	swap_submit_gauge (NULL, "reserved", (gauge_t) pmemory.pgsp_rsvd * pagesize);
-	swap_submit_derive (NULL, "in",  (derive_t) pmemory.pgspins * pagesize);
-	swap_submit_derive (NULL, "out", (derive_t) pmemory.pgspouts * pagesize);
+	total    = (gauge_t) (pmemory.pgsp_total * pagesize);
+	free     = (gauge_t) (pmemory.pgsp_free * pagesize);
+	reserved = (gauge_t) (pmemory.pgsp_rsvd * pagesize);
+
+	swap_submit_usage (NULL, total - free, free, "reserved", reserved);
+	swap_submit_derive ("in",  (derive_t) pmemory.pgspins * pagesize);
+	swap_submit_derive ("out", (derive_t) pmemory.pgspouts * pagesize);
 
 	return (0);
 } /* }}} int swap_read */
 #endif /* HAVE_PERFSTAT */
 
 void module_register (void)
 {
-	plugin_register_config ("swap", swap_config,
-			config_keys, config_keys_num);
+	plugin_register_complex_config ("swap", swap_config);
 	plugin_register_init ("swap", swap_init);
 	plugin_register_read ("swap", swap_read);
 } /* void module_register */
 
 /* vim: set fdm=marker : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/syslog.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/syslog.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/syslog.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/syslog.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,26 +1,30 @@
 /**
  * collectd - src/syslog.c
- * Copyright (C) 2007  Florian Forster
+ * Copyright (C) 2007       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; either version 2 of the License, or (at your
- * option) any later version.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/table.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/table.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/table.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/table.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/table.c
- * Copyright (C) 2009  Sebastian Harl
+ * Copyright (C) 2009       Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
 /*
@@ -180,13 +185,13 @@
 		log_err ("<Result> does not expect any arguments.");
 		return 1;
 	}
 
 	res = (tbl_result_t *)realloc (tbl->results,
 			(tbl->results_num + 1) * sizeof (*tbl->results));
-	if (res == NULL) {
+	if (NULL == tbl) {
 		char errbuf[1024];
 		log_err ("realloc failed: %s.",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return -1;
 	}
 
@@ -275,15 +280,14 @@
 					"in <Table %s>.", c->key, tbl->file);
 	}
 
 	if (NULL == tbl->sep) {
 		log_err ("Table \"%s\" does not specify any separator.", tbl->file);
 		status = 1;
-	} else {
-		strunescape (tbl->sep, strlen (tbl->sep) + 1);
 	}
+	strunescape (tbl->sep, strlen (tbl->sep) + 1);
 
 	if (NULL == tbl->instance) {
 		tbl->instance = sstrdup (tbl->file);
 		replace_special (tbl->instance, strlen (tbl->instance));
 	}
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tail.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tail.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tail.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tail.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,36 +1,42 @@
 /**
  * collectd - src/tail.c
- * Copyright (C) 2008  Florian octo Forster
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_tail_match.h"
 
 /*
  *  <Plugin tail>
  *    <File "/var/log/exim4/mainlog">
  *	Instance "exim"
+ *      Interval 60
  *	<Match>
  *	  Regex "S=([1-9][0-9]*)"
  *	  ExcludeRegex "U=root.*S="
  *	  DSType "CounterAdd"
  *	  Type "ipt_bytes"
  *	  Instance "total"
@@ -43,17 +49,19 @@
 {
   char *regex;
   char *excluderegex;
   int flags;
   char *type;
   char *type_instance;
+  cdtime_t interval;
 };
 typedef struct ctail_config_match_s ctail_config_match_t;
 
 cu_tail_match_t **tail_match_list = NULL;
 size_t tail_match_list_num = 0;
+cdtime_t tail_match_list_intervals[255];
 
 static int ctail_config_add_match_dstype (ctail_config_match_t *cm,
     oconfig_item_t *ci)
 {
   if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
@@ -69,12 +77,16 @@
     else if (strcasecmp ("GaugeMin", ci->values[0].value.string) == 0)
       cm->flags |= UTILS_MATCH_CF_GAUGE_MIN;
     else if (strcasecmp ("GaugeMax", ci->values[0].value.string) == 0)
       cm->flags |= UTILS_MATCH_CF_GAUGE_MAX;
     else if (strcasecmp ("GaugeLast", ci->values[0].value.string) == 0)
       cm->flags |= UTILS_MATCH_CF_GAUGE_LAST;
+    else if (strcasecmp ("GaugeInc", ci->values[0].value.string) == 0)
+      cm->flags |= UTILS_MATCH_CF_GAUGE_INC;
+    else if (strcasecmp ("GaugeAdd", ci->values[0].value.string) == 0)
+      cm->flags |= UTILS_MATCH_CF_GAUGE_ADD;
     else
       cm->flags = 0;
   }
   else if (strncasecmp ("Counter", ci->values[0].value.string, strlen ("Counter")) == 0)
   {
     cm->flags = UTILS_MATCH_DS_TYPE_COUNTER;
@@ -120,13 +132,13 @@
   }
 
   return (0);
 } /* int ctail_config_add_match_dstype */
 
 static int ctail_config_add_match (cu_tail_match_t *tm,
-    const char *plugin_instance, oconfig_item_t *ci)
+    const char *plugin_instance, oconfig_item_t *ci, cdtime_t interval)
 {
   ctail_config_match_t cm;
   int status;
   int i;
 
   memset (&cm, '\0', sizeof (cm));
@@ -187,13 +199,13 @@
     break;
   } /* while (status == 0) */
 
   if (status == 0)
   {
     status = tail_match_add_match_simple (tm, cm.regex, cm.excluderegex,
-	cm.flags, "tail", plugin_instance, cm.type, cm.type_instance);
+	cm.flags, "tail", plugin_instance, cm.type, cm.type_instance, interval);
 
     if (status != 0)
     {
       ERROR ("tail plugin: tail_match_add_match_simple failed.");
     }
   }
@@ -206,14 +218,16 @@
   return (status);
 } /* int ctail_config_add_match */
 
 static int ctail_config_add_file (oconfig_item_t *ci)
 {
   cu_tail_match_t *tm;
+  cdtime_t interval = 0;
   char *plugin_instance = NULL;
   int num_matches = 0;
+  int status;
   int i;
 
   if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
     WARNING ("tail plugin: `File' needs exactly one string argument.");
     return (-1);
@@ -224,39 +238,38 @@
   {
     ERROR ("tail plugin: tail_match_create (%s) failed.",
         ci->values[0].value.string);
     return (-1);
   }
 
+  status = 0;
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
-    int status = 0;
 
-    if (strcasecmp ("Match", option->key) == 0)
+    if (strcasecmp ("Instance", option->key) == 0)
+      status = cf_util_get_string (option, &plugin_instance);
+    else if (strcasecmp ("Interval", option->key) == 0)
+      cf_util_get_cdtime (option, &interval);
+    else if (strcasecmp ("Match", option->key) == 0)
     {
-      status = ctail_config_add_match (tm, plugin_instance, option);
+      status = ctail_config_add_match (tm, plugin_instance, option, interval);
       if (status == 0)
         num_matches++;
       /* Be mild with failed matches.. */
       status = 0;
     }
-    else if (strcasecmp ("Instance", option->key) == 0)
-      status = cf_util_get_string (option, &plugin_instance);
     else
     {
-      WARNING ("tail plugin: Option `%s' not allowed here.", option->key);
       status = -1;
     }
 
     if (status != 0)
       break;
   } /* for (i = 0; i < ci->children_num; i++) */
 
-  sfree (plugin_instance);
-
   if (num_matches == 0)
   {
     ERROR ("tail plugin: No (valid) matches found for file `%s'.",
         ci->values[0].value.string);
     tail_match_destroy (tm);
     return (-1);
@@ -273,12 +286,13 @@
       tail_match_destroy (tm);
       return (-1);
     }
 
     tail_match_list = temp;
     tail_match_list[tail_match_list_num] = tm;
+    tail_match_list_intervals[tail_match_list_num] = interval;
     tail_match_list_num++;
   }
 
   return (0);
 } /* int ctail_config_add_file */
 
@@ -298,47 +312,49 @@
     }
   } /* for (i = 0; i < ci->children_num; i++) */
 
   return (0);
 } /* int ctail_config */
 
-static int ctail_init (void)
+static int ctail_read (user_data_t *ud)
 {
-  if (tail_match_list_num == 0)
+  int status;
+
+  status = tail_match_read ((cu_tail_match_t *)ud->data);
+  if (status != 0)
   {
-    WARNING ("tail plugin: File list is empty. Returning an error.");
+    ERROR ("tail plugin: tail_match_read failed.");
     return (-1);
   }
 
   return (0);
-} /* int ctail_init */
+} /* int ctail_read */
 
-static int ctail_read (void)
+static int ctail_init (void)
 {
-  int success = 0;
+  struct timespec cb_interval;
+  char str[255];
+  user_data_t ud;
   size_t i;
 
-  for (i = 0; i < tail_match_list_num; i++)
+  if (tail_match_list_num == 0)
   {
-    int status;
+    WARNING ("tail plugin: File list is empty. Returning an error.");
+    return (-1);
+  }
 
-    status = tail_match_read (tail_match_list[i]);
-    if (status != 0)
-    {
-      ERROR ("tail plugin: tail_match_read[%zu] failed.", i);
-    }
-    else
-    {
-      success++;
-    }
+  for (i = 0; i < tail_match_list_num; i++)
+  {
+    ud.data = (void *)tail_match_list[i];
+    ssnprintf(str, sizeof(str), "tail-%zu", i);
+    CDTIME_T_TO_TIMESPEC (tail_match_list_intervals[i], &cb_interval);
+    plugin_register_complex_read (NULL, str, ctail_read, &cb_interval, &ud);
   }
 
-  if (success == 0)
-    return (-1);
   return (0);
-} /* int ctail_read */
+} /* int ctail_init */
 
 static int ctail_shutdown (void)
 {
   size_t i;
 
   for (i = 0; i < tail_match_list_num; i++)
@@ -353,11 +369,10 @@
 } /* int ctail_shutdown */
 
 void module_register (void)
 {
   plugin_register_complex_config ("tail", ctail_config);
   plugin_register_init ("tail", ctail_init);
-  plugin_register_read ("tail", ctail_read);
   plugin_register_shutdown ("tail", ctail_shutdown);
 } /* void module_register */
 
 /* vim: set sw=2 sts=2 ts=8 : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tail_csv.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tail_csv.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tail_csv.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tail_csv.c	2014-08-18 15:33:14.300460874 +0800
@@ -103,16 +103,13 @@
     cdtime_t t;
     int status;
 
     if (md->data_source_type == -1)
         return (EINVAL);
 
-    if (md->value_from >= fields_num)
-        return (EINVAL);
-
-    if (id->time_from >= 0 && (id->time_from >= fields_num))
+    if ((md->value_from >= fields_num) || (id->time_from >= fields_num))
         return (EINVAL);
 
     t = 0;
     if (id->time_from >= 0)
         t = parse_time (fields[id->time_from]);
 
@@ -309,12 +306,13 @@
         sfree (md);
         return (-1);
     }
 
     for (i = 0; i < ci->children_num; ++i){
         oconfig_item_t *option = ci->children + i;
+        status = 0;
 
         if (strcasecmp("Type", option->key) == 0)
             status = cf_util_get_string(option, &md->type);
         else if (strcasecmp("Instance", option->key) == 0)
             status = cf_util_get_string(option, &md->instance);
         else if (strcasecmp("ValueFrom", option->key) == 0)
@@ -373,48 +371,43 @@
     sfree(id->instance);
     sfree(id->path);
     sfree(id->metric_list);
     sfree(id);
 }
 
-static int tcsv_config_add_instance_collect(instance_definition_t *id, oconfig_item_t *ci) {
+static int tcsv_config_add_instance_collect(instance_definition_t *id, oconfig_item_t *ci){
     metric_definition_t *metric;
-    metric_definition_t **metric_list;
-    size_t metric_list_size;
     int i;
 
-    if (ci->values_num < 1) {
+    if (ci->values_num < 1){
         WARNING("tail_csv plugin: The `Collect' config option needs at least one argument.");
         return (-1);
     }
 
-    metric_list_size = id->metric_list_len + (size_t) ci->values_num;
-    metric_list = realloc (id->metric_list, sizeof (*id->metric_list) * metric_list_size);
-    if (metric_list == NULL)
-        return (-1);
-    id->metric_list = metric_list;
-
-    for (i = 0; i < ci->values_num; i++) {
-        char *metric_name;
-
-        if (ci->values[i].type != OCONFIG_TYPE_STRING) {
+    /* Verify string arguments */
+    for (i = 0; i < ci->values_num; ++i)
+        if (ci->values[i].type != OCONFIG_TYPE_STRING){
             WARNING("tail_csv plugin: All arguments to `Collect' must be strings.");
-            continue;
+            return (-1);
         }
-        metric_name = ci->values[i].value.string;
 
+    id->metric_list = (metric_definition_t **)malloc(sizeof(metric_definition_t *) * ci->values_num);
+    if (id->metric_list == NULL)
+        return (-1);
+
+    for (i = 0; i < ci->values_num; ++i){
         for (metric = metric_head; metric != NULL; metric = metric->next)
-            if (strcasecmp(metric_name, metric->name) == 0)
+            if (strcasecmp(ci->values[i].value.string, metric->name) == 0)
                 break;
 
-        if (metric == NULL) {
-            WARNING ("tail_csv plugin: `Collect' argument not found `%s'.", metric_name);
-            continue;
+        if (metric == NULL){
+            WARNING("tail_csv plugin: `Collect' argument not found `%s'.", ci->values[i].value.string);
+            return (-1);
         }
 
-        id->metric_list[id->metric_list_len] = metric;
+        id->metric_list[i] = metric;
         id->metric_list_len++;
     }
 
     return (0);
 }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_notification.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_notification.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_notification.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_notification.c	2015-05-22 18:04:36.951771009 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/target_notification.c
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "filter_chain.h"
 #include "utils_cache.h"
@@ -173,13 +178,13 @@
 
     break;
   }
 
   if (status != 0)
   {
-    tn_destroy ((void *) &data);
+    tn_destroy ((void *) data);
     return (status);
   }
 
   *user_data = data;
   return (0);
 } /* }}} int tn_create */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_replace.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_replace.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_replace.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_replace.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/target_replace.c
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "filter_chain.h"
 #include "utils_subst.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_scale.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_scale.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_scale.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_scale.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/target_scale.c
  * Copyright (C) 2008-2009  Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "filter_chain.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_set.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_set.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_set.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_set.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/target_set.c
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "filter_chain.h"
 
@@ -30,63 +35,31 @@
   char *plugin_instance;
   /* char *type; */
   char *type_instance;
 };
 typedef struct ts_data_s ts_data_t;
 
-static char *ts_strdup (const char *orig) /* {{{ */
-{
-  size_t sz;
-  char *dest;
-
-  if (orig == NULL)
-    return (NULL);
-
-  sz = strlen (orig) + 1;
-  dest = (char *) malloc (sz);
-  if (dest == NULL)
-    return (NULL);
-
-  memcpy (dest, orig, sz);
-
-  return (dest);
-} /* }}} char *ts_strdup */
-
 static int ts_config_add_string (char **dest, /* {{{ */
     const oconfig_item_t *ci, int may_be_empty)
 {
-  char *temp;
+  char *tmp = NULL;
+  int status;
 
-  if (dest == NULL)
-    return (-EINVAL);
+  status = cf_util_get_string (ci, &tmp);
+  if (status != 0)
+    return (status);
 
-  if ((ci->values_num != 1)
-      || (ci->values[0].type != OCONFIG_TYPE_STRING))
-  {
-    ERROR ("Target `set': The `%s' option requires exactly one string "
-        "argument.", ci->key);
-    return (-1);
-  }
-
-  if ((!may_be_empty) && (ci->values[0].value.string[0] == 0))
+  if (!may_be_empty && (strlen (tmp) == 0))
   {
     ERROR ("Target `set': The `%s' option does not accept empty strings.",
         ci->key);
+    sfree (tmp);
     return (-1);
   }
 
-  temp = ts_strdup (ci->values[0].value.string);
-  if (temp == NULL)
-  {
-    ERROR ("ts_config_add_string: ts_strdup failed.");
-    return (-1);
-  }
-
-  free (*dest);
-  *dest = temp;
-
+  *dest = tmp;
   return (0);
 } /* }}} int ts_config_add_string */
 
 static int ts_destroy (void **user_data) /* {{{ */
 {
   ts_data_t *data;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_v5upgrade.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_v5upgrade.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/target_v5upgrade.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/target_v5upgrade.c	2015-03-10 22:14:45.849114587 +0800
@@ -1,26 +1,30 @@
 /**
- * collectd - src/target_set.c
+ * collectd - src/target_v5upgrade.c
  * Copyright (C) 2008-2010  Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation; only version 2.1 of the License is
- * applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU Lesser General Public License
- * along with this program; if not, write to the Free Software Foundation,
- * Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 #include "filter_chain.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tcpconns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tcpconns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tcpconns.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tcpconns.c	2015-05-20 20:04:47.191035542 +0800
@@ -14,13 +14,13 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Author:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Michael Stapelberg <michael+git at stapelberg.de>
  **/
 
 /**
  * Code within `HAVE_LIBKVM_NLIST' blocks is provided under the following
  * license:
@@ -216,19 +216,19 @@
 #elif KERNEL_AIX
 static const char *tcp_state[] =
 {
   "CLOSED",
   "LISTEN",
   "SYN_SENT",
-  "SYN_RCVD",
+  "SYN_RECV",
   "ESTABLISHED",
   "CLOSE_WAIT",
-  "FIN_WAIT_1",
+  "FIN_WAIT1",
   "CLOSING",
   "LAST_ACK",
-  "FIN_WAIT_2",
+  "FIN_WAIT2",
   "TIME_WAIT"
 };
 
 # define TCP_STATE_LISTEN 1
 # define TCP_STATE_MIN 0
 # define TCP_STATE_MAX 10
@@ -269,18 +269,21 @@
 } port_entry_t;
 
 static const char *config_keys[] =
 {
   "ListeningPorts",
   "LocalPort",
-  "RemotePort"
+  "RemotePort",
+  "AllPortsSummary"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static int port_collect_listening = 0;
+static int port_collect_total = 0;
 static port_entry_t *port_list_head = NULL;
+static uint32_t count_total[TCP_STATE_MAX + 1];
 
 #if KERNEL_LINUX
 #if HAVE_STRUCT_LINUX_INET_DIAG_REQ
 /* This depends on linux inet_diag_req because if this structure is missing,
  * sequence_number is useless and we get a compilation warning.
  */
@@ -292,23 +295,28 @@
   SRC_DUNNO,
   SRC_NETLINK,
   SRC_PROC
 } linux_source = SRC_DUNNO;
 #endif
 
+static void conn_prepare_vl (value_list_t *vl, value_t *values)
+{
+  vl->values = values;
+  vl->values_len = 1;
+  sstrncpy (vl->host, hostname_g, sizeof (vl->host));
+  sstrncpy (vl->plugin, "tcpconns", sizeof (vl->plugin));
+  sstrncpy (vl->type, "tcp_connections", sizeof (vl->type));
+}
+
 static void conn_submit_port_entry (port_entry_t *pe)
 {
   value_t values[1];
   value_list_t vl = VALUE_LIST_INIT;
   int i;
 
-  vl.values = values;
-  vl.values_len = 1;
-  sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-  sstrncpy (vl.plugin, "tcpconns", sizeof (vl.plugin));
-  sstrncpy (vl.type, "tcp_connections", sizeof (vl.type));
+  conn_prepare_vl (&vl, values);
 
   if (((port_collect_listening != 0) && (pe->flags & PORT_IS_LISTENING))
       || (pe->flags & PORT_COLLECT_LOCAL))
   {
     ssnprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
 	"%"PRIu16"-local", pe->port);
@@ -336,16 +344,39 @@
 
       plugin_dispatch_values (&vl);
     }
   }
 } /* void conn_submit */
 
+static void conn_submit_port_total (void)
+{
+  value_t values[1];
+  value_list_t vl = VALUE_LIST_INIT;
+  int i;
+
+  conn_prepare_vl (&vl, values);
+
+  sstrncpy (vl.plugin_instance, "all", sizeof (vl.plugin_instance));
+
+  for (i = 1; i <= TCP_STATE_MAX; i++)
+  {
+    vl.values[0].gauge = count_total[i];
+
+    sstrncpy (vl.type_instance, tcp_state[i], sizeof (vl.type_instance));
+
+    plugin_dispatch_values (&vl);
+  }
+}
+
 static void conn_submit_all (void)
 {
   port_entry_t *pe;
 
+  if (port_collect_total)
+    conn_submit_port_total ();
+
   for (pe = port_list_head; pe != NULL; pe = pe->next)
     conn_submit_port_entry (pe);
 } /* void conn_submit_all */
 
 static port_entry_t *conn_get_port_entry (uint16_t port, int create)
 {
@@ -378,12 +409,14 @@
  * setting but which are no longer listening. */
 static void conn_reset_port_entry (void)
 {
   port_entry_t *prev = NULL;
   port_entry_t *pe = port_list_head;
 
+  memset (&count_total, '\0', sizeof(count_total));
+
   while (pe != NULL)
   {
     /* If this entry was created while reading the files (ant not when handling
      * the configuration) remove it now. */
     if ((pe->flags & (PORT_COLLECT_LOCAL
             | PORT_COLLECT_REMOTE
@@ -406,13 +439,12 @@
     }
 
     memset (pe->count_local, '\0', sizeof (pe->count_local));
     memset (pe->count_remote, '\0', sizeof (pe->count_remote));
     pe->flags &= ~PORT_IS_LISTENING;
 
-    prev = pe;
     pe = pe->next;
   }
 } /* void conn_reset_port_entry */
 
 static int conn_handle_ports (uint16_t port_local, uint16_t port_remote, uint8_t state)
 {
@@ -426,12 +458,14 @@
   {
     NOTICE ("tcpconns plugin: Ignoring connection with "
 	"unknown state 0x%02"PRIx8".", state);
     return (-1);
   }
 
+  count_total[state]++;
+
   /* Listening sockets */
   if ((state == TCP_STATE_LISTEN) && (port_collect_listening != 0))
   {
     pe = conn_get_port_entry (port_local, 1 /* create */);
     if (pe != NULL)
       pe->flags |= PORT_IS_LISTENING;
@@ -702,24 +736,31 @@
 
       if (strcasecmp (key, "LocalPort") == 0)
 	pe->flags |= PORT_COLLECT_LOCAL;
       else
 	pe->flags |= PORT_COLLECT_REMOTE;
   }
+  else if (strcasecmp (key, "AllPortsSummary") == 0)
+  {
+    if (IS_TRUE (value))
+      port_collect_total = 1;
+    else
+      port_collect_total = 0;
+  }
   else
   {
     return (-1);
   }
 
   return (0);
 } /* int conn_config */
 
 #if KERNEL_LINUX
 static int conn_init (void)
 {
-  if (port_list_head == NULL)
+  if (port_collect_total == 0 && port_list_head == NULL)
     port_collect_listening = 1;
 
   return (0);
 } /* int conn_init */
 
 static int conn_read (void)
@@ -907,39 +948,51 @@
   return (0);
 } /* int conn_init */
 
 static int conn_read (void)
 {
   struct inpcbtable table;
+#if !defined(__OpenBSD__) && (defined(__NetBSD_Version__) && __NetBSD_Version__ <= 699002700)
   struct inpcb *head;
+#endif
   struct inpcb *next;
   struct inpcb inpcb;
   struct tcpcb tcpcb;
   int status;
 
   conn_reset_port_entry ();
 
   /* Read the pcbtable from the kernel */
   status = kread (inpcbtable_off, &table, sizeof (table));
   if (status != 0)
     return (-1);
 
+#if defined(__OpenBSD__) || (defined(__NetBSD_Version__) && __NetBSD_Version__ > 699002700)
+  /* inpt_queue is a TAILQ on OpenBSD */
+  /* Get the first pcb */
+  next = (struct inpcb *)TAILQ_FIRST (&table.inpt_queue);
+  while (next)
+#else
   /* Get the `head' pcb */
   head = (struct inpcb *) &(inpcbtable_ptr->inpt_queue);
   /* Get the first pcb */
   next = (struct inpcb *)CIRCLEQ_FIRST (&table.inpt_queue);
 
   while (next != head)
+#endif
   {
     /* Read the pcb pointed to by `next' into `inpcb' */
-    status = kread ((u_long) next, &inpcb, sizeof (inpcb));
-    if (status != 0)
-      return (-1);
+    kread ((u_long) next, &inpcb, sizeof (inpcb));
 
     /* Advance `next' */
+#if defined(__OpenBSD__) || (defined(__NetBSD_Version__) && __NetBSD_Version__ > 699002700)
+    /* inpt_queue is a TAILQ on OpenBSD */
+    next = (struct inpcb *)TAILQ_NEXT (&inpcb, inp_queue);
+#else
     next = (struct inpcb *)CIRCLEQ_NEXT (&inpcb, inp_queue);
+#endif
 
     /* Ignore sockets, that are not connected. */
 #ifdef __NetBSD__
     if (inpcb.inp_af == AF_INET6)
       continue; /* XXX see netbsd/src/usr.bin/netstat/inet6.c */
 #else
@@ -948,15 +1001,13 @@
       continue;
     if ((inpcb.inp_flags & INP_IPV6)
 	&& IN6_IS_ADDR_UNSPECIFIED (&inpcb.inp_laddr6))
       continue;
 #endif
 
-    status = kread ((u_long) inpcb.inp_ppcb, &tcpcb, sizeof (tcpcb));
-    if (status != 0)
-      return (-1);
+    kread ((u_long) inpcb.inp_ppcb, &tcpcb, sizeof (tcpcb));
     conn_handle_ports (ntohs(inpcb.inp_lport), ntohs(inpcb.inp_fport), tcpcb.t_state);
   } /* while (next != head) */
 
   conn_submit_all ();
 
   return (0);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/teamspeak2.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/teamspeak2.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/teamspeak2.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/teamspeak2.c	2015-03-10 22:14:45.853114674 +0800
@@ -15,13 +15,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Stefan Hacker <d0t at dbclan dot de>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
@@ -255,13 +255,12 @@
 		if (status != 0)
 		{
 			char errbuf[1024];
 			WARNING ("teamspeak2 plugin: connect failed: %s",
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 			close (sd);
-			sd = -1;
 			continue;
 		}
 
 		/*
 		 * Success, we can break. Don't need more than one connection
 		 */
@@ -437,13 +436,13 @@
 		char *value;
 		char *endptr = NULL;
 		
 		status = tss2_receive_line (read_fh, buffer, sizeof (buffer));
 		if (status != 0)
 		{
-			/* Set to NULL just to make sure noone uses these FHs anymore. */
+			/* Set to NULL just to make sure no one uses these FHs anymore. */
 			read_fh = NULL;
 			write_fh = NULL;
 			ERROR ("teamspeak2 plugin: tss2_receive_line failed.");
 			return (-1);
 		}
 		buffer[sizeof (buffer) - 1] = 0;
@@ -562,13 +561,13 @@
 		char *endptr = NULL;
 		
 		/* Read one line of the server's answer */
 		status = tss2_receive_line (read_fh, buffer, sizeof (buffer));
 		if (status != 0)
 		{
-			/* Set to NULL just to make sure noone uses these FHs anymore. */
+			/* Set to NULL just to make sure no one uses these FHs anymore. */
 			read_fh = NULL;
 			write_fh = NULL;
 			ERROR ("teamspeak2 plugin: tss2_receive_line failed.");
 			break;
 		}
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ted.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ted.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/ted.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/ted.c	2014-08-18 15:33:14.304460953 +0800
@@ -101,12 +101,13 @@
         ERROR ("ted plugin: swrite failed.");
         return (-1);
     }
 
     /* Loop until we find the end of the package */
     end_flag = 0;
+    escape_flag = 0;
     package_buffer_pos = 0;
     while (end_flag == 0)
     {
         ssize_t receive_buffer_length;
         ssize_t i;
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: testing.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/threshold.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/threshold.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/threshold.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/threshold.c	2015-03-10 22:14:45.853114674 +0800
@@ -25,81 +25,23 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_avltree.h"
 #include "utils_cache.h"
+#include "utils_threshold.h"
 
 #include <assert.h>
 #include <pthread.h>
 
 /*
- * Private data structures
- * {{{ */
-#define UT_FLAG_INVERT  0x01
-#define UT_FLAG_PERSIST 0x02
-#define UT_FLAG_PERCENTAGE 0x04
-#define UT_FLAG_INTERESTING 0x08
-#define UT_FLAG_PERSIST_OK 0x10
-typedef struct threshold_s
-{
-  char host[DATA_MAX_NAME_LEN];
-  char plugin[DATA_MAX_NAME_LEN];
-  char plugin_instance[DATA_MAX_NAME_LEN];
-  char type[DATA_MAX_NAME_LEN];
-  char type_instance[DATA_MAX_NAME_LEN];
-  char data_source[DATA_MAX_NAME_LEN];
-  gauge_t warning_min;
-  gauge_t warning_max;
-  gauge_t failure_min;
-  gauge_t failure_max;
-  gauge_t hysteresis;
-  unsigned int flags;
-  int hits;
-  struct threshold_s *next;
-} threshold_t;
-/* }}} */
-
-/*
- * Private (static) variables
- * {{{ */
-static c_avl_tree_t   *threshold_tree = NULL;
-static pthread_mutex_t threshold_lock = PTHREAD_MUTEX_INITIALIZER;
-/* }}} */
-
-/*
  * Threshold management
  * ====================
  * The following functions add, delete, search, etc. configured thresholds to
  * the underlying AVL trees.
  */
-/*
- * threshold_t *threshold_get
- *
- * Retrieve one specific threshold configuration. For looking up a threshold
- * matching a value_list_t, see "threshold_search" below. Returns NULL if the
- * specified threshold doesn't exist.
- */
-static threshold_t *threshold_get (const char *hostname,
-    const char *plugin, const char *plugin_instance,
-    const char *type, const char *type_instance)
-{ /* {{{ */
-  char name[6 * DATA_MAX_NAME_LEN];
-  threshold_t *th = NULL;
-
-  format_name (name, sizeof (name),
-      (hostname == NULL) ? "" : hostname,
-      (plugin == NULL) ? "" : plugin, plugin_instance,
-      (type == NULL) ? "" : type, type_instance);
-  name[sizeof (name) - 1] = '\0';
-
-  if (c_avl_get (threshold_tree, name, (void *) &th) == 0)
-    return (th);
-  else
-    return (NULL);
-} /* }}} threshold_t *threshold_get */
 
 /*
  * int ut_threshold_add
  *
  * Adds a threshold configuration to the list of thresholds. The threshold_t
  * structure is copied and may be destroyed after this call. Returns zero on
@@ -168,64 +110,12 @@
     sfree (th_copy);
   }
 
   return (status);
 } /* }}} int ut_threshold_add */
 
-/* 
- * threshold_t *threshold_search
- *
- * Searches for a threshold configuration using all the possible variations of
- * "Host", "Plugin" and "Type" blocks. Returns NULL if no threshold could be
- * found.
- * XXX: This is likely the least efficient function in collectd.
- */
-static threshold_t *threshold_search (const value_list_t *vl)
-{ /* {{{ */
-  threshold_t *th;
-
-  if ((th = threshold_get (vl->host, vl->plugin, vl->plugin_instance,
-	  vl->type, vl->type_instance)) != NULL)
-    return (th);
-  else if ((th = threshold_get (vl->host, vl->plugin, vl->plugin_instance,
-	  vl->type, NULL)) != NULL)
-    return (th);
-  else if ((th = threshold_get (vl->host, vl->plugin, NULL,
-	  vl->type, vl->type_instance)) != NULL)
-    return (th);
-  else if ((th = threshold_get (vl->host, vl->plugin, NULL,
-	  vl->type, NULL)) != NULL)
-    return (th);
-  else if ((th = threshold_get (vl->host, "", NULL,
-	  vl->type, vl->type_instance)) != NULL)
-    return (th);
-  else if ((th = threshold_get (vl->host, "", NULL,
-	  vl->type, NULL)) != NULL)
-    return (th);
-  else if ((th = threshold_get ("", vl->plugin, vl->plugin_instance,
-	  vl->type, vl->type_instance)) != NULL)
-    return (th);
-  else if ((th = threshold_get ("", vl->plugin, vl->plugin_instance,
-	  vl->type, NULL)) != NULL)
-    return (th);
-  else if ((th = threshold_get ("", vl->plugin, NULL,
-	  vl->type, vl->type_instance)) != NULL)
-    return (th);
-  else if ((th = threshold_get ("", vl->plugin, NULL,
-	  vl->type, NULL)) != NULL)
-    return (th);
-  else if ((th = threshold_get ("", "", NULL,
-	  vl->type, vl->type_instance)) != NULL)
-    return (th);
-  else if ((th = threshold_get ("", "", NULL,
-	  vl->type, NULL)) != NULL)
-    return (th);
-
-  return (NULL);
-} /* }}} threshold_t *threshold_search */
-
 /*
  * Configuration
  * =============
  * The following approximately two hundred functions are used to handle the
  * configuration and fill the threshold list.
  * {{{ */
@@ -358,12 +248,13 @@
   th.hysteresis = 0;
   th.flags = UT_FLAG_INTERESTING; /* interesting by default */
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Instance", option->key) == 0)
       status = ut_config_type_instance (&th, option);
     else if (strcasecmp ("DataSource", option->key) == 0)
       status = ut_config_type_datasource (&th, option);
     else if ((strcasecmp ("WarningMax", option->key) == 0)
@@ -445,12 +336,13 @@
   memcpy (&th, th_orig, sizeof (th));
   sstrncpy (th.plugin, ci->values[0].value.string, sizeof (th.plugin));
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Type", option->key) == 0)
       status = ut_config_type (&th, option);
     else if (strcasecmp ("Instance", option->key) == 0)
       status = ut_config_plugin_instance (&th, option);
     else
@@ -491,12 +383,13 @@
   memcpy (&th, th_orig, sizeof (th));
   sstrncpy (th.host, ci->values[0].value.string, sizeof (th.host));
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Type", option->key) == 0)
       status = ut_config_type (&th, option);
     else if (strcasecmp ("Plugin", option->key) == 0)
       status = ut_config_plugin (&th, option);
     else
@@ -619,15 +512,21 @@
   plugin_notification_meta_add_double (&n, "FailureMax", th->failure_max);
 
   /* Send an okay notification */
   if (state == STATE_OKAY)
   {
     if (state_old == STATE_MISSING)
-      ssnprintf (buf, bufsize, ": Value is no longer missing.");
+      status = ssnprintf (buf, bufsize,
+          ": Value is no longer missing.");
     else
-      ssnprintf (buf, bufsize, ": All data sources are within range again.");
+      status = ssnprintf (buf, bufsize,
+          ": All data sources are within range again. "
+          "Current value of \"%s\" is %f.",
+          ds->ds[ds_index].name, values[ds_index]);
+    buf += status;
+    bufsize -= status;
   }
   else
   {
     double min;
     double max;
 
@@ -635,22 +534,22 @@
     max = (state == STATE_ERROR) ? th->failure_max : th->warning_max;
 
     if (th->flags & UT_FLAG_INVERT)
     {
       if (!isnan (min) && !isnan (max))
       {
-        ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
+        status = ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
             "%f. That is within the %s region of %f%s and %f%s.",
             ds->ds[ds_index].name, values[ds_index],
             (state == STATE_ERROR) ? "failure" : "warning",
             min, ((th->flags & UT_FLAG_PERCENTAGE) != 0) ? "%" : "",
             max, ((th->flags & UT_FLAG_PERCENTAGE) != 0) ? "%" : "");
       }
       else
       {
-        ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
+	status = ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
             "%f. That is %s the %s threshold of %f%s.",
             ds->ds[ds_index].name, values[ds_index],
             isnan (min) ? "below" : "above",
             (state == STATE_ERROR) ? "failure" : "warning",
             isnan (min) ? max : min,
             ((th->flags & UT_FLAG_PERCENTAGE) != 0) ? "%" : "");
@@ -673,28 +572,30 @@
 
       if (sum == 0.0)
         value = NAN;
       else
         value = 100.0 * values[ds_index] / sum;
 
-      ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
+      status = ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
           "%g (%.2f%%). That is %s the %s threshold of %.2f%%.",
           ds->ds[ds_index].name, values[ds_index], value,
           (value < min) ? "below" : "above",
           (state == STATE_ERROR) ? "failure" : "warning",
           (value < min) ? min : max);
     }
     else /* is not inverted */
     {
-      ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
+      status = ssnprintf (buf, bufsize, ": Data source \"%s\" is currently "
           "%f. That is %s the %s threshold of %f.",
           ds->ds[ds_index].name, values[ds_index],
           (values[ds_index] < min) ? "below" : "above",
           (state == STATE_ERROR) ? "failure" : "warning",
           (values[ds_index] < min) ? min : max);
     }
+    buf += status;
+    bufsize -= status;
   }
 
   plugin_dispatch_notification (&n);
 
   plugin_notification_meta_free (n.meta);
   return (0);
@@ -735,39 +636,56 @@
     is_warning--;
     is_failure--;
   }
 
   /* XXX: This is an experimental code, not optimized, not fast, not reliable,
    * and probably, do not work as you expect. Enjoy! :D */
-  if ( (th->hysteresis > 0) && ((prev_state = uc_get_state(ds,vl)) != STATE_OKAY) )
+  if (th->hysteresis > 0)
   {
-    switch(prev_state)
+    prev_state = uc_get_state(ds,vl);
+    /* The purpose of hysteresis is elliminating flapping state when the value
+     * oscilates around the thresholds. In other words, what is important is
+     * the previous state; if the new value would trigger a transition, make
+     * sure that we artificially widen the range which is considered to apply
+     * for the previous state, and only trigger the notification if the value
+     * is outside of this expanded range.
+     *
+     * There is no hysteresis for the OKAY state.
+     * */
+    gauge_t hysteresis_for_warning = 0, hysteresis_for_failure = 0;
+    switch (prev_state)
     {
       case STATE_ERROR:
-	if ( (!isnan (th->failure_min) && ((th->failure_min + th->hysteresis) < values[ds_index])) ||
-	     (!isnan (th->failure_max) && ((th->failure_max - th->hysteresis) > values[ds_index])) )
-	  return (STATE_OKAY);
-	else
-	  is_failure++;
+        hysteresis_for_failure = th->hysteresis;
+        break;
       case STATE_WARNING:
-	if ( (!isnan (th->warning_min) && ((th->warning_min + th->hysteresis) < values[ds_index])) ||
-	     (!isnan (th->warning_max) && ((th->warning_max - th->hysteresis) > values[ds_index])) )
-	  return (STATE_OKAY);
-	else
-	  is_warning++;
-     }
+        hysteresis_for_warning = th->hysteresis;
+        break;
+      case STATE_OKAY:
+        /* do nothing -- the hysteresis only applies to the non-normal states */
+        break;
+    }
+
+    if ((!isnan (th->failure_min) && (th->failure_min + hysteresis_for_failure > values[ds_index]))
+	|| (!isnan (th->failure_max) && (th->failure_max - hysteresis_for_failure < values[ds_index])))
+      is_failure++;
+
+    if ((!isnan (th->warning_min) && (th->warning_min + hysteresis_for_warning > values[ds_index]))
+	|| (!isnan (th->warning_max) && (th->warning_max - hysteresis_for_warning < values[ds_index])))
+      is_warning++;
+
   }
   else { /* no hysteresis */
     if ((!isnan (th->failure_min) && (th->failure_min > values[ds_index]))
 	|| (!isnan (th->failure_max) && (th->failure_max < values[ds_index])))
       is_failure++;
 
     if ((!isnan (th->warning_min) && (th->warning_min > values[ds_index]))
 	|| (!isnan (th->warning_max) && (th->warning_max < values[ds_index])))
       is_warning++;
- }
+  }
 
   if (is_failure != 0)
     return (STATE_ERROR);
 
   if (is_warning != 0)
     return (STATE_WARNING);
@@ -850,13 +768,13 @@
 
 /*
  * int ut_check_threshold
  *
  * Gets a list of matching thresholds and searches for the worst status by one
  * of the thresholds. Then reports that status using the ut_report_state
- * function above. 
+ * function above.
  * Returns zero on success and if no threshold has been configured. Returns
  * less than zero on failure.
  */
 static int ut_check_threshold (const data_set_t *ds, const value_list_t *vl,
     __attribute__((unused)) user_data_t *ud)
 { /* {{{ */
@@ -955,17 +873,16 @@
 
   plugin_dispatch_notification (&n);
 
   return (0);
 } /* }}} int ut_missing */
 
-static int ut_config (oconfig_item_t *ci)
+int ut_config (oconfig_item_t *ci)
 { /* {{{ */
   int i;
   int status = 0;
-  int old_size = c_avl_size (threshold_tree);
 
   threshold_t th;
 
   if (threshold_tree == NULL)
   {
     threshold_tree = c_avl_create ((void *) strcmp);
@@ -982,16 +899,17 @@
   th.failure_min = NAN;
   th.failure_max = NAN;
 
   th.hits = 0;
   th.hysteresis = 0;
   th.flags = UT_FLAG_INTERESTING; /* interesting by default */
-    
+
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
+    status = 0;
 
     if (strcasecmp ("Type", option->key) == 0)
       status = ut_config_type (&th, option);
     else if (strcasecmp ("Plugin", option->key) == 0)
       status = ut_config_plugin (&th, option);
     else if (strcasecmp ("Host", option->key) == 0)
@@ -1003,15 +921,13 @@
     }
 
     if (status != 0)
       break;
   }
 
-  /* register callbacks if this is the first time we see a valid config */
-  if ((old_size == 0) && (c_avl_size (threshold_tree) > 0))
-  {
+  if (c_avl_size (threshold_tree) > 0) {
     plugin_register_missing ("threshold", ut_missing,
         /* user data = */ NULL);
     plugin_register_write ("threshold", ut_check_threshold,
         /* user data = */ NULL);
   }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tokyotyrant.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tokyotyrant.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/tokyotyrant.c	2016-07-26 15:47:12.969713822 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/tokyotyrant.c	2015-03-10 22:14:45.853114674 +0800
@@ -20,13 +20,12 @@
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 #include "utils_cache.h"
-#include "utils_parse_option.h"
 
 #include <tcrdb.h>
 
 #define DEFAULT_HOST "127.0.0.1"
 #define DEFAULT_PORT 1978
 
@@ -76,13 +75,13 @@
 		return (-1);
 	}
 
 	return (0);
 }
 
-static void printerr (void)
+static void printerr()
 {
 	int ecode = tcrdbecode(rdb);
 	ERROR ("tokyotyrant plugin: error: %d, %s",
 			ecode, tcrdberrmsg(ecode));
 }
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: turbostat.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/types.db /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/types.db
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/types.db	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/types.db	2015-05-20 20:05:42.672060002 +0800
@@ -5,24 +5,30 @@
 apache_requests		value:DERIVE:0:U
 apache_scoreboard	value:GAUGE:0:65535
 ath_nodes		value:GAUGE:0:65535
 ath_stat		value:DERIVE:0:U
 backends		value:GAUGE:0:65535
 bitrate			value:GAUGE:0:4294967295
+blocked_clients value:GAUGE:0:U
 bytes			value:GAUGE:0:U
 cache_eviction		value:DERIVE:0:U
 cache_operation		value:DERIVE:0:U
 cache_ratio		value:GAUGE:0:100
 cache_result		value:DERIVE:0:U
 cache_size		value:GAUGE:0:U
+ceph_bytes		value:GAUGE:U:U
+ceph_latency	value:GAUGE:U:U
+ceph_rate			value:DERIVE:0:U
+changes_since_last_save   value:GAUGE:0:U
 charge			value:GAUGE:0:U
 compression_ratio	value:GAUGE:0:2
 compression		uncompressed:DERIVE:0:U, compressed:DERIVE:0:U
 connections		value:DERIVE:0:U
 conntrack		value:GAUGE:0:4294967295
 contextswitch		value:DERIVE:0:U
+count			value:GAUGE:0:U
 counter			value:COUNTER:U:U
 cpufreq			value:GAUGE:0:U
 cpu			value:DERIVE:0:U
 current_connections	value:GAUGE:0:U
 current_sessions	value:GAUGE:0:U
 current			value:GAUGE:U:U
@@ -34,12 +40,13 @@
 disk_latency		read:GAUGE:0:U, write:GAUGE:0:U
 disk_merged		read:DERIVE:0:U, write:DERIVE:0:U
 disk_octets		read:DERIVE:0:U, write:DERIVE:0:U
 disk_ops_complex	value:DERIVE:0:U
 disk_ops		read:DERIVE:0:U, write:DERIVE:0:U
 disk_time		read:DERIVE:0:U, write:DERIVE:0:U
+disk_io_time		io_time:DERIVE:0:U, weighted_io_time:DERIVE:0:U
 dns_answer		value:DERIVE:0:U
 dns_notify		value:DERIVE:0:U
 dns_octets		queries:DERIVE:0:U, responses:DERIVE:0:U
 dns_opcode		value:DERIVE:0:U
 dns_qtype_cached	value:GAUGE:0:4294967295
 dns_qtype		value:DERIVE:0:U
@@ -50,18 +57,21 @@
 dns_request		value:DERIVE:0:U
 dns_resolver		value:DERIVE:0:U
 dns_response		value:DERIVE:0:U
 dns_transfer		value:DERIVE:0:U
 dns_update		value:DERIVE:0:U
 dns_zops		value:DERIVE:0:U
+drbd_resource	value:DERIVE:0:U
 duration		seconds:GAUGE:0:U
 email_check		value:GAUGE:0:U
 email_count		value:GAUGE:0:U
 email_size		value:GAUGE:0:U
 entropy			value:GAUGE:0:4294967295
+expired_keys    value:GAUGE:0:U
 fanspeed		value:GAUGE:0:U
+file_handles		value:GAUGE:0:U
 file_size		value:GAUGE:0:U
 files			value:GAUGE:0:U
 flow			value:GAUGE:0:U
 fork_rate		value:DERIVE:0:U
 frequency_offset	value:GAUGE:-1000000:1000000
 frequency		value:GAUGE:0:U
@@ -95,28 +105,42 @@
 memcached_command	value:DERIVE:0:U
 memcached_connections	value:GAUGE:0:U
 memcached_items		value:GAUGE:0:U
 memcached_octets	rx:DERIVE:0:U, tx:DERIVE:0:U
 memcached_ops		value:DERIVE:0:U
 memory			value:GAUGE:0:281474976710656
+memory_lua		value:GAUGE:0:281474976710656
 multimeter		value:GAUGE:U:U
 mutex_operations	value:DERIVE:0:U
 mysql_commands		value:DERIVE:0:U
 mysql_handler		value:DERIVE:0:U
 mysql_locks		value:DERIVE:0:U
 mysql_log_position	value:DERIVE:0:U
 mysql_octets		rx:DERIVE:0:U, tx:DERIVE:0:U
+mysql_bpool_pages	value:GAUGE:0:U
+mysql_bpool_bytes	value:GAUGE:0:U
+mysql_bpool_counters	value:DERIVE:0:U
+mysql_innodb_data	value:DERIVE:0:U
+mysql_innodb_dblwr	value:DERIVE:0:U
+mysql_innodb_log	value:DERIVE:0:U
+mysql_innodb_pages	value:DERIVE:0:U
+mysql_innodb_row_lock	value:DERIVE:0:U
+mysql_innodb_rows	value:DERIVE:0:U
+mysql_select		value:DERIVE:0:U
+mysql_sort		value:DERIVE:0:U
 nfs_procedure		value:DERIVE:0:U
 nginx_connections	value:GAUGE:0:U
 nginx_requests		value:DERIVE:0:U
 node_octets		rx:DERIVE:0:U, tx:DERIVE:0:U
 node_rssi		value:GAUGE:0:255
 node_stat		value:DERIVE:0:U
 node_tx_rate		value:GAUGE:0:127
 objects			value:GAUGE:0:U
 operations		value:DERIVE:0:U
+packets			value:DERIVE:0:U
+pending_operations	value:GAUGE:0:U
 percent			value:GAUGE:0:100.1
 percent_bytes		value:GAUGE:0:100.1
 percent_inodes		value:GAUGE:0:100.1
 pf_counters		value:DERIVE:0:U
 pf_limits		value:DERIVE:0:U
 pf_source		value:DERIVE:0:U
@@ -131,36 +155,44 @@
 pg_xact			value:DERIVE:0:U
 ping_droprate		value:GAUGE:0:100
 ping_stddev		value:GAUGE:0:65535
 ping			value:GAUGE:0:65535
 players			value:GAUGE:0:1000000
 power			value:GAUGE:0:U
+pressure			value:GAUGE:0:U
 protocol_counter	value:DERIVE:0:U
 ps_code			value:GAUGE:0:9223372036854775807
 ps_count		processes:GAUGE:0:1000000, threads:GAUGE:0:1000000
 ps_cputime		user:DERIVE:0:U, syst:DERIVE:0:U
 ps_data			value:GAUGE:0:9223372036854775807
 ps_disk_octets		read:DERIVE:0:U, write:DERIVE:0:U
 ps_disk_ops		read:DERIVE:0:U, write:DERIVE:0:U
 ps_pagefaults		minflt:DERIVE:0:U, majflt:DERIVE:0:U
 ps_rss			value:GAUGE:0:9223372036854775807
 ps_stacksize		value:GAUGE:0:9223372036854775807
 ps_state		value:GAUGE:0:65535
 ps_vm			value:GAUGE:0:9223372036854775807
+pubsub        value:GAUGE:0:U
 queue_length		value:GAUGE:0:U
 records			value:GAUGE:0:U
 requests		value:GAUGE:0:U
 response_time		value:GAUGE:0:U
 response_code		value:GAUGE:0:U
 route_etx		value:GAUGE:0:U
 route_metric		value:GAUGE:0:U
 routes			value:GAUGE:0:U
+segments 		value:GAUGE:0:65535
 serial_octets		rx:DERIVE:0:U, tx:DERIVE:0:U
 signal_noise		value:GAUGE:U:0
 signal_power		value:GAUGE:U:0
 signal_quality		value:GAUGE:0:U
+smart_poweron		value:GAUGE:0:U
+smart_powercycles	value:GAUGE:0:U
+smart_badsectors	value:GAUGE:0:U
+smart_temperature	value:GAUGE:-300:300
+smart_attribute         current:GAUGE:0:255, worst:GAUGE:0:255, threshold:GAUGE:0:255, pretty:GAUGE:0:U
 snr			value:GAUGE:0:U
 spam_check		value:GAUGE:0:U
 spam_score		value:GAUGE:U:U
 spl			value:GAUGE:U:U
 swap_io			value:DERIVE:0:U
 swap			value:GAUGE:0:1099511627776
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/types.db.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/types.db.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/types.db.5	2016-07-26 15:48:08.573849551 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/types.db.5	2015-03-10 22:29:57.988978069 +0800
@@ -130,13 +130,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "TYPES.DB 5"
-.TH TYPES.DB 5 "2016-07-26" "5.4.3" "collectd"
+.TH TYPES.DB 5 "2015-03-10" "5.4.1.805.g42e4d6c" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 types.db \- Data\-set specifications for the system statistics collection daemon
@@ -191,10 +191,10 @@
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIrrdcreate\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 \&\fBcollectd\fR has been written by Florian Forster
-<octo\ at\ verplant.org>.
+<octo\ at\ collectd.org>.
 .PP
 This manpage has been written by Sebastian Harl
 <sh\ at\ tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/types.db.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/types.db.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/types.db.pod	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/types.db.pod	2015-03-10 22:14:45.853114674 +0800
@@ -56,13 +56,13 @@
 L<collectd.conf(5)>,
 L<rrdcreate(1)>
 
 =head1 AUTHOR
 
 B<collectd> has been written by Florian Forster
-E<lt>octoE<nbsp>atE<nbsp>verplant.orgE<gt>.
+E<lt>octoE<nbsp>atE<nbsp>collectd.orgE<gt>.
 
 This manpage has been written by Sebastian Harl
 E<lt>shE<nbsp>atE<nbsp>tokkee.orgE<gt>.
 
 =cut
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: types_list.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: types_list.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/unixsock.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/unixsock.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/unixsock.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/unixsock.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,34 +1,40 @@
 /**
  * collectd - src/unixsock.c
  * Copyright (C) 2007,2008  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
 #include "utils_cmd_flush.h"
 #include "utils_cmd_getval.h"
+#include "utils_cmd_getthreshold.h"
 #include "utils_cmd_listval.h"
 #include "utils_cmd_putval.h"
 #include "utils_cmd_putnotif.h"
 
 /* Folks without pthread will need to disable this plugin. */
 #include <pthread.h>
@@ -119,22 +125,13 @@
 		ERROR ("unixsock plugin: bind failed: %s", errbuf);
 		close (sock_fd);
 		sock_fd = -1;
 		return (-1);
 	}
 
-	status = chmod (sa.sun_path, sock_perms);
-	if (status == -1)
-	{
-		char errbuf[1024];
-		ERROR ("unixsock plugin: chmod failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		close (sock_fd);
-		sock_fd = -1;
-		return (-1);
-	}
+	chmod (sa.sun_path, sock_perms);
 
 	status = listen (sock_fd, 8);
 	if (status != 0)
 	{
 		char errbuf[1024];
 		ERROR ("unixsock plugin: listen failed: %s",
@@ -287,12 +284,16 @@
 		}
 
 		if (strcasecmp (fields[0], "getval") == 0)
 		{
 			handle_getval (fhout, buffer);
 		}
+		else if (strcasecmp (fields[0], "getthreshold") == 0)
+		{
+			handle_getthreshold (fhout, buffer);
+		}
 		else if (strcasecmp (fields[0], "putval") == 0)
 		{
 			handle_putval (fhout, buffer);
 		}
 		else if (strcasecmp (fields[0], "listval") == 0)
 		{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/uptime.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/uptime.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/uptime.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/uptime.c	2015-03-10 22:14:45.853114674 +0800
@@ -238,13 +238,13 @@
 
 static int uptime_read (void)
 {
 	gauge_t uptime;
 	time_t elapsed;
 
-	/* calculate the ammount of time elapsed since boot, AKA uptime */
+	/* calculate the amount of time elapsed since boot, AKA uptime */
 	elapsed = time (NULL) - boottime;
 
 	uptime = (gauge_t) elapsed;
 
 	uptime_submit (uptime);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/users.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/users.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/users.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/users.c	2015-03-10 22:14:45.853114674 +0800
@@ -18,13 +18,13 @@
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  *   Niki W. Waibel <niki.waibel at newlogic.com>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Oleg King <king2 at kaluga.ru>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
@@ -37,12 +37,15 @@
 # include <utmpx.h>
 /* #endif HAVE_UTMPX_H */
 
 #elif HAVE_UTMP_H
 # include <utmp.h>
 /* #endif HAVE_UTMP_H */
+
+#else
+# error "No applicable input method."
 #endif
 
 static void users_submit (gauge_t value)
 {
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
@@ -96,17 +99,27 @@
 	users_submit (users);
 /* #endif HAVE_GETUTENT */
 
 #elif HAVE_LIBSTATGRAB
 	sg_user_stats *us;
 
+# if HAVE_LIBSTATGRAB_0_90
+	size_t num_entries;
+	us = sg_get_user_stats (&num_entries);
+# else
 	us = sg_get_user_stats ();
+# endif
 	if (us == NULL)
 		return (-1);   
 
-	users_submit ((gauge_t) us->num_entries);
+	users_submit ((gauge_t)
+# if HAVE_LIBSTATGRAB_0_90
+		      num_entries);
+# else
+		      us->num_entries);
+# endif
 /* #endif HAVE_LIBSTATGRAB */
 
 #else
 # error "No applicable input method."
 #endif
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_avltree.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_avltree.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_cache.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_cache.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_flush.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_flush.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_flush.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_flush.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,70 +1,87 @@
 /**
  * collectd - src/utils_cmd_flush.c
- * Copyright (C) 2008  Sebastian Harl
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Sebastian Harl
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastian "tokkee" Harl <sh at tokkee.org>
- *   Florian "octo" Forster <octo at verplant.org>
+ *   Florian "octo" Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_parse_option.h"
-#include "utils_cmd_flush.h"
 
-int handle_flush (FILE *fh, char *buffer)
-{
-	int success = 0;
-	int error   = 0;
-
-	double timeout = 0.0;
-	char **plugins = NULL;
-	size_t plugins_num = 0;
-	char **identifiers = NULL;
-	size_t identifiers_num = 0;
-
-	size_t i;
-
-#define PRINT_TO_SOCK(fh, ...) \
+#define print_to_socket(fh, ...) \
 	do { \
 		if (fprintf (fh, __VA_ARGS__) < 0) { \
 			char errbuf[1024]; \
 			WARNING ("handle_flush: failed to write to socket #%i: %s", \
 					fileno (fh), sstrerror (errno, errbuf, sizeof (errbuf))); \
-			strarray_free (plugins, plugins_num); \
-			strarray_free (identifiers, identifiers_num); \
 			return -1; \
 		} \
 		fflush(fh); \
 	} while (0)
 
+static int add_to_array (char ***array, int *array_num, char *value)
+{
+	char **temp;
+
+	temp = (char **) realloc (*array, sizeof (char *) * (*array_num + 1));
+	if (temp == NULL)
+		return (-1);
+
+	*array = temp;
+	(*array)[*array_num] = value;
+	(*array_num)++;
+
+	return (0);
+} /* int add_to_array */
+
+int handle_flush (FILE *fh, char *buffer)
+{
+	int success = 0;
+	int error   = 0;
+
+	double timeout = 0.0;
+	char **plugins = NULL;
+	int plugins_num = 0;
+	char **identifiers = NULL;
+	int identifiers_num = 0;
+
+	int i;
+
 	if ((fh == NULL) || (buffer == NULL))
 		return (-1);
 
 	DEBUG ("utils_cmd_flush: handle_flush (fh = %p, buffer = %s);",
 			(void *) fh, buffer);
 
 	if (strncasecmp ("FLUSH", buffer, strlen ("FLUSH")) != 0)
 	{
-		PRINT_TO_SOCK (fh, "-1 Cannot parse command.\n");
+		print_to_socket (fh, "-1 Cannot parse command.\n");
 		return (-1);
 	}
 	buffer += strlen ("FLUSH");
 
 	while (*buffer != 0)
 	{
@@ -74,83 +91,99 @@
 
 		opt_key = NULL;
 		opt_value = NULL;
 		status = parse_option (&buffer, &opt_key, &opt_value);
 		if (status != 0)
 		{
-			PRINT_TO_SOCK (fh, "-1 Parsing options failed.\n");
-			strarray_free (plugins, plugins_num);
-			strarray_free (identifiers, identifiers_num);
+			print_to_socket (fh, "-1 Parsing options failed.\n");
+			sfree (plugins);
+			sfree (identifiers);
 			return (-1);
 		}
 
 		if (strcasecmp ("plugin", opt_key) == 0)
-			strarray_add (&plugins, &plugins_num, opt_value);
+		{
+			add_to_array (&plugins, &plugins_num, opt_value);
+		}
 		else if (strcasecmp ("identifier", opt_key) == 0)
-			strarray_add (&identifiers, &identifiers_num, opt_value);
+		{
+			add_to_array (&identifiers, &identifiers_num, opt_value);
+		}
 		else if (strcasecmp ("timeout", opt_key) == 0)
 		{
 			char *endptr;
-
+			
 			errno = 0;
 			endptr = NULL;
 			timeout = strtod (opt_value, &endptr);
 
 			if ((endptr == opt_value) || (errno != 0) || (!isfinite (timeout)))
 			{
-				PRINT_TO_SOCK (fh, "-1 Invalid value for option `timeout': "
+				print_to_socket (fh, "-1 Invalid value for option `timeout': "
 						"%s\n", opt_value);
-				strarray_free (plugins, plugins_num);
-				strarray_free (identifiers, identifiers_num);
+				sfree (plugins);
+				sfree (identifiers);
 				return (-1);
 			}
 			else if (timeout < 0.0)
 			{
 				timeout = 0.0;
 			}
 		}
 		else
 		{
-			PRINT_TO_SOCK (fh, "-1 Cannot parse option %s\n", opt_key);
-			strarray_free (plugins, plugins_num);
-			strarray_free (identifiers, identifiers_num);
+			print_to_socket (fh, "-1 Cannot parse option %s\n", opt_key);
+			sfree (plugins);
+			sfree (identifiers);
 			return (-1);
 		}
 	} /* while (*buffer != 0) */
 
-	for (i = 0; (i == 0) || (i < plugins_num); i++)
+	/* Add NULL entries for `any plugin' and/or `any value' if nothing was
+	 * specified. */
+	if (plugins_num == 0)
+		add_to_array (&plugins, &plugins_num, NULL);
+
+	if (identifiers_num == 0)
+		add_to_array (&identifiers, &identifiers_num, NULL);
+
+	for (i = 0; i < plugins_num; i++)
 	{
-		char *plugin = NULL;
+		char *plugin;
 		int j;
 
-		if (plugins_num != 0)
-			plugin = plugins[i];
+		plugin = plugins[i];
 
-		for (j = 0; (j == 0) || (j < identifiers_num); j++)
+		for (j = 0; j < identifiers_num; j++)
 		{
-			char *identifier = NULL;
+			char *identifier;
 			int status;
 
-			if (identifiers_num != 0)
-				identifier = identifiers[j];
-
+			identifier = identifiers[j];
 			status = plugin_flush (plugin,
 					DOUBLE_TO_CDTIME_T (timeout),
 					identifier);
 			if (status == 0)
 				success++;
 			else
 				error++;
 		}
 	}
 
-	PRINT_TO_SOCK (fh, "0 Done: %i successful, %i errors\n",
-			success, error);
+	if ((success + error) > 0)
+	{
+		print_to_socket (fh, "0 Done: %i successful, %i errors\n",
+				success, error);
+	}
+	else
+	{
+		plugin_flush (NULL, DOUBLE_TO_CDTIME_T (timeout), NULL);
+		print_to_socket (fh, "0 Done\n");
+	}
 
-	strarray_free (plugins, plugins_num);
-	strarray_free (identifiers, identifiers_num);
+	sfree (plugins);
+	sfree (identifiers);
 	return (0);
-#undef PRINT_TO_SOCK
 } /* int handle_flush */
 
 /* vim: set sw=4 ts=4 tw=78 noexpandtab : */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_flush.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_flush.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_flush.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_flush.h	2015-03-10 22:14:45.853114674 +0800
@@ -1,24 +1,29 @@
 /**
  * collectd - src/utils_cmd_flush.h
- * Copyright (C) 2008  Sebastian Harl
+ * Copyright (C) 2008       Sebastian Harl
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
+ * Authors:
  *   Sebastian "tokkee" Harl <sh at tokkee.org>
  **/
 
 #ifndef UTILS_CMD_FLUSH_H
 #define UTILS_CMD_FLUSH_H 1
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: utils_cmd_getthreshold.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: utils_cmd_getthreshold.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_getval.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_getval.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_getval.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_getval.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,34 +1,38 @@
 /**
- * collectd - src/utils_cms_getval.c
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/utils_cmd_getval.c
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #include "utils_cache.h"
 #include "utils_parse_option.h"
-#include "utils_cmd_getval.h"
 
 #define print_to_socket(fh, ...) \
   do { \
     if (fprintf (fh, __VA_ARGS__) < 0) { \
       char errbuf[1024]; \
       WARNING ("handle_getval: failed to write to socket #%i: %s", \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_getval.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_getval.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_getval.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_getval.h	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
- * collectd - src/utils_cms_getval.h
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/utils_cmd_getval.h
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_CMD_GETVAL_H
 #define UTILS_CMD_GETVAL_H 1
 
 #include <stdio.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_listval.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_listval.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_listval.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_listval.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
- * collectd - src/utils_cms_listval.c
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/utils_cmd_listval.c
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_listval.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_listval.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_listval.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_listval.h	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
- * collectd - src/utils_cms_listval.h
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/utils_cmd_listval.h
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_CMD_LISTVAL_H
 #define UTILS_CMD_LISTVAL_H 1
 
 #include <stdio.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putnotif.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putnotif.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putnotif.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putnotif.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,33 +1,37 @@
 /**
- * collectd - src/utils_cms_putnotif.c
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/utils_cmd_putnotif.c
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #include "utils_parse_option.h"
-#include "utils_cmd_putnotif.h"
 
 #define print_to_socket(fh, ...) \
   do { \
     if (fprintf (fh, __VA_ARGS__) < 0) { \
       char errbuf[1024]; \
       WARNING ("handle_putnotif: failed to write to socket #%i: %s", \
@@ -74,12 +78,24 @@
   if ((n == NULL) || (option == NULL) || (value == NULL))
     return (-1);
 
   DEBUG ("utils_cmd_putnotif: set_option (option = %s, value = %s);",
       option, value);
 
+  /* Add a meta option in the form: <type>:<key> */
+  if (option[0] != '\0' && option[1] == ':') {
+    /* Refuse empty key */
+    if (option[2] == '\0')
+      return (1);
+
+    if (option[0] == 's')
+      return plugin_notification_meta_add_string (n, option + 2, value);
+    else
+      return (1);
+  }
+
   if (strcasecmp ("severity", option) == 0)
     return (set_option_severity (n, value));
   else if (strcasecmp ("time", option) == 0)
     return (set_option_time (n, value));
   else if (strcasecmp ("message", option) == 0)
     sstrncpy (n->message, value, sizeof (n->message));
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putnotif.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putnotif.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putnotif.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putnotif.h	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
- * collectd - src/utils_cms_putnotif.h
- * Copyright (C) 2008  Florian octo Forster
+ * collectd - src/utils_cmd_putnotif.h
+ * Copyright (C) 2008       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_CMD_PUTNOTIF_H
 #define UTILS_CMD_PUTNOTIF_H 1
 
 #include <stdio.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putval.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putval.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putval.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putval.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,46 +1,65 @@
 /**
- * collectd - src/utils_cms_putval.c
+ * collectd - src/utils_cmd_putval.c
  * Copyright (C) 2007-2009  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #include "utils_parse_option.h"
-#include "utils_cmd_putval.h"
 
 #define print_to_socket(fh, ...) \
     do { \
         if (fprintf (fh, __VA_ARGS__) < 0) { \
             char errbuf[1024]; \
             WARNING ("handle_putval: failed to write to socket #%i: %s", \
                     fileno (fh), sstrerror (errno, errbuf, sizeof (errbuf))); \
-            sfree (vl.values); \
             return -1; \
         } \
         fflush(fh); \
     } while (0)
 
+static int dispatch_values (const data_set_t *ds, value_list_t *vl,
+	       	FILE *fh, char *buffer)
+{
+	int status;
+
+	status = parse_values (buffer, vl, ds);
+	if (status != 0)
+	{
+		print_to_socket (fh, "-1 Parsing the values string failed.\n");
+		return (-1);
+	}
+
+	plugin_dispatch_values (vl);
+	return (0);
+} /* int dispatch_values */
+
 static int set_option (value_list_t *vl, const char *key, const char *value)
 {
 	if ((vl == NULL) || (key == NULL) || (value == NULL))
 		return (-1);
 
 	if (strcasecmp ("interval", key) == 0)
@@ -75,13 +94,12 @@
 	int   values_submitted;
 
 	char *identifier_copy;
 
 	const data_set_t *ds;
 	value_list_t vl = VALUE_LIST_INIT;
-	vl.values = NULL;
 
 	DEBUG ("utils_cmd_putval: handle_putval (fh = %p, buffer = %s);",
 			(void *) fh, buffer);
 
 	command = NULL;
 	status = parse_string (&buffer, &command);
@@ -175,13 +193,12 @@
 		status = parse_option (&buffer, &string, &value);
 		if (status < 0)
 		{
 			/* parse_option failed, buffer has been modified.
 			 * => we need to abort */
 			print_to_socket (fh, "-1 Misformatted option.\n");
-			sfree (vl.values);
 			return (-1);
 		}
 		else if (status == 0)
 		{
 			assert (string != NULL);
 			assert (value != NULL);
@@ -192,35 +209,32 @@
 		 * the default if no `=' is found.. */
 
 		status = parse_string (&buffer, &string);
 		if (status != 0)
 		{
 			print_to_socket (fh, "-1 Misformatted value.\n");
-			sfree (vl.values);
 			return (-1);
 		}
 		assert (string != NULL);
 
-		status = parse_values (string, &vl, ds);
+		status = dispatch_values (ds, &vl, fh, string);
 		if (status != 0)
 		{
-			print_to_socket (fh, "-1 Parsing the values string failed.\n");
-			sfree (vl.values);
+			/* An error has already been printed. */
 			return (-1);
 		}
-
-		plugin_dispatch_values (&vl);
 		values_submitted++;
 	} /* while (*buffer != 0) */
 	/* Done parsing the options. */
 
 	print_to_socket (fh, "0 Success: %i %s been dispatched.\n",
 			values_submitted,
 			(values_submitted == 1) ? "value has" : "values have");
 
-	sfree (vl.values);
+	sfree (vl.values); 
+
 	return (0);
 } /* int handle_putval */
 
 int create_putval (char *ret, size_t ret_len, /* {{{ */
 	const data_set_t *ds, const value_list_t *vl)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putval.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putval.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_cmd_putval.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_cmd_putval.h	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
- * collectd - src/utils_cms_putval.h
- * Copyright (C) 2007  Florian octo Forster
+ * collectd - src/utils_cmd_putval.h
+ * Copyright (C) 2007       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_CMD_PUTVAL_H
 #define UTILS_CMD_PUTVAL_H 1
 
 #include <stdio.h>
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_complain.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_complain.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: utils_crc32.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: utils_crc32.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_db_query.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_db_query.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_db_query.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_db_query.c	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/utils_db_query.c
  * Copyright (C) 2008,2009  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
@@ -35,12 +40,14 @@
   char    *type;
   char    *instance_prefix;
   char   **instances;
   size_t   instances_num;
   char   **values;
   size_t   values_num;
+  char   **metadata;
+  size_t   metadata_num;
 
   udb_result_t *next;
 }; /* }}} */
 
 struct udb_query_s /* {{{ */
 {
@@ -56,14 +63,16 @@
 
 struct udb_result_preparation_area_s /* {{{ */
 {
   const   data_set_t *ds;
   size_t *instances_pos;
   size_t *values_pos;
+  size_t *metadata_pos;
   char  **instances_buffer;
   char  **values_buffer;
+  char  **metadata_buffer;
 
   struct udb_result_preparation_area_s *next;
 }; /* }}} */
 typedef struct udb_result_preparation_area_s udb_result_preparation_area_t;
 
 struct udb_query_preparation_area_s /* {{{ */
@@ -185,19 +194,19 @@
 static int udb_result_submit (udb_result_t *r, /* {{{ */
     udb_result_preparation_area_t *r_area,
     udb_query_t const *q, udb_query_preparation_area_t *q_area)
 {
   value_list_t vl = VALUE_LIST_INIT;
   size_t i;
+  int status;
 
   assert (r != NULL);
   assert (r_area->ds != NULL);
   assert (((size_t) r_area->ds->ds_num) == r->values_num);
-  assert (r->values_num > 0);
 
-  vl.values = (value_t *) calloc (r->values_num, sizeof (value_t));
+  vl.values = (value_t *) calloc (r_area->ds->ds_num, sizeof (value_t));
   if (vl.values == NULL)
   {
     ERROR ("db query utils: malloc failed.");
     return (-1);
   }
   vl.values_len = r_area->ds->ds_num;
@@ -251,14 +260,44 @@
           r->instance_prefix, tmp);
     }
   }
   vl.type_instance[sizeof (vl.type_instance) - 1] = 0;
   /* }}} */
 
+  /* Annotate meta data. {{{ */
+  if (r->metadata_num > 0)
+  {
+    vl.meta = meta_data_create ();
+    if (vl.meta == NULL)
+    {
+      ERROR ("db query utils:: meta_data_create failed.");
+      return (-ENOMEM);
+    }
+
+    for (i = 0; i < r->metadata_num; i++)
+    {
+      status = meta_data_add_string (vl.meta, r->metadata[i],
+          r_area->metadata_buffer[i]);
+      if (status != 0)
+      {
+        ERROR ("db query utils:: meta_data_add_string failed.");
+        meta_data_destroy (vl.meta);
+        vl.meta = NULL;
+        return (status);
+      }
+    }
+  }
+  /* }}} */
+
   plugin_dispatch_values (&vl);
 
+  if (r->metadata_num > 0)
+  {
+    meta_data_destroy (vl.meta);
+    vl.meta = NULL;
+  }
   sfree (vl.values);
   return (0);
 } /* }}} void udb_result_submit */
 
 static void udb_result_finish_result (udb_result_t const *r, /* {{{ */
     udb_result_preparation_area_t *prep_area)
@@ -266,14 +305,16 @@
   if ((r == NULL) || (prep_area == NULL))
     return;
 
   prep_area->ds = NULL;
   sfree (prep_area->instances_pos);
   sfree (prep_area->values_pos);
+  sfree (prep_area->metadata_pos);
   sfree (prep_area->instances_buffer);
   sfree (prep_area->values_buffer);
+  sfree (prep_area->metadata_buffer);
 } /* }}} void udb_result_finish_result */
 
 static int udb_result_handle_result (udb_result_t *r, /* {{{ */
     udb_query_preparation_area_t *q_area,
     udb_result_preparation_area_t *r_area,
     udb_query_t const *q, char **column_values)
@@ -285,12 +326,15 @@
   for (i = 0; i < r->instances_num; i++)
     r_area->instances_buffer[i] = column_values[r_area->instances_pos[i]];
 
   for (i = 0; i < r->values_num; i++)
     r_area->values_buffer[i] = column_values[r_area->values_pos[i]];
 
+  for (i = 0; i < r->metadata_num; i++)
+    r_area->metadata_buffer[i] = column_values[r_area->metadata_pos[i]];
+
   return udb_result_submit (r, r_area, q, q_area);
 } /* }}} int udb_result_handle_result */
 
 static int udb_result_prepare_result (udb_result_t const *r, /* {{{ */
     udb_result_preparation_area_t *prep_area,
     char **column_names, size_t column_num)
@@ -301,20 +345,23 @@
     return (-EINVAL);
 
 #define BAIL_OUT(status) \
   prep_area->ds = NULL; \
   sfree (prep_area->instances_pos); \
   sfree (prep_area->values_pos); \
+  sfree (prep_area->metadata_pos); \
   sfree (prep_area->instances_buffer); \
   sfree (prep_area->values_buffer); \
+  sfree (prep_area->metadata_buffer); \
   return (status)
 
   /* Make sure previous preparations are cleaned up. */
   udb_result_finish_result (r, prep_area);
   prep_area->instances_pos = NULL;
   prep_area->values_pos = NULL;
+  prep_area->metadata_pos = NULL;
 
   /* Read `ds' and check number of values {{{ */
   prep_area->ds = plugin_get_ds (r->type);
   if (prep_area->ds == NULL)
   {
     ERROR ("db query utils: udb_result_prepare_result: Type `%s' is not "
@@ -331,14 +378,14 @@
         prep_area->ds->ds_num, (prep_area->ds->ds_num == 1) ? "" : "s",
         r->values_num);
     BAIL_OUT (-1);
   }
   /* }}} */
 
-  /* Allocate r->instances_pos, r->values_pos, r->instances_buffer, and
-   * r->values_buffer {{{ */
+  /* Allocate r->instances_pos, r->values_pos, r->metadata_post,
+   * r->instances_buffer, r->values_buffer, and r->metadata_buffer {{{ */
   if (r->instances_num > 0)
   {
     prep_area->instances_pos
       = (size_t *) calloc (r->instances_num, sizeof (size_t));
     if (prep_area->instances_pos == NULL)
     {
@@ -367,12 +414,29 @@
     = (char **) calloc (r->values_num, sizeof (char *));
   if (prep_area->values_buffer == NULL)
   {
     ERROR ("db query utils: udb_result_prepare_result: malloc failed.");
     BAIL_OUT (-ENOMEM);
   }
+
+  prep_area->metadata_pos
+    = (size_t *) calloc (r->metadata_num, sizeof (size_t));
+  if (prep_area->metadata_pos == NULL)
+  {
+    ERROR ("db query utils: udb_result_prepare_result: malloc failed.");
+    BAIL_OUT (-ENOMEM);
+  }
+
+  prep_area->metadata_buffer
+    = (char **) calloc (r->metadata_num, sizeof (char *));
+  if (prep_area->metadata_buffer == NULL)
+  {
+    ERROR ("db query utils: udb_result_prepare_result: malloc failed.");
+    BAIL_OUT (-ENOMEM);
+  }
+
   /* }}} */
 
   /* Determine the position of the instance columns {{{ */
   for (i = 0; i < r->instances_num; i++)
   {
     size_t j;
@@ -415,12 +479,35 @@
           "Column `%s' could not be found.",
           r->values[i]);
       BAIL_OUT (-ENOENT);
     }
   } /* }}} for (i = 0; i < r->values_num; i++) */
 
+  /* Determine the position of the metadata columns {{{ */
+  for (i = 0; i < r->metadata_num; i++)
+  {
+    size_t j;
+
+    for (j = 0; j < column_num; j++)
+    {
+      if (strcasecmp (r->metadata[i], column_names[j]) == 0)
+      {
+        prep_area->metadata_pos[i] = j;
+        break;
+      }
+    }
+
+    if (j >= column_num)
+    {
+      ERROR ("db query utils: udb_result_prepare_result: "
+          "Metadata column `%s' could not be found.",
+          r->values[i]);
+      BAIL_OUT (-ENOENT);
+    }
+  } /* }}} for (i = 0; i < r->metadata_num; i++) */
+
 #undef BAIL_OUT
   return (0);
 } /* }}} int udb_result_prepare_result */
 
 static void udb_result_free (udb_result_t *r) /* {{{ */
 {
@@ -436,12 +523,16 @@
   sfree (r->instances);
 
   for (i = 0; i < r->values_num; i++)
     sfree (r->values[i]);
   sfree (r->values);
 
+  for (i = 0; i < r->metadata_num; i++)
+    sfree (r->metadata[i]);
+  sfree (r->metadata);
+
   udb_result_free (r->next);
 
   sfree (r);
 } /* }}} void udb_result_free */
 
 static int udb_result_create (const char *query_name, /* {{{ */
@@ -466,12 +557,13 @@
   }
   memset (r, 0, sizeof (*r));
   r->type = NULL;
   r->instance_prefix = NULL;
   r->instances = NULL;
   r->values = NULL;
+  r->metadata = NULL;
   r->next = NULL;
 
   /* Fill the `udb_result_t' structure.. */
   status = 0;
   for (i = 0; i < ci->children_num; i++)
   {
@@ -482,12 +574,14 @@
     else if (strcasecmp ("InstancePrefix", child->key) == 0)
       status = udb_config_set_string (&r->instance_prefix, child);
     else if (strcasecmp ("InstancesFrom", child->key) == 0)
       status = udb_config_add_string (&r->instances, &r->instances_num, child);
     else if (strcasecmp ("ValuesFrom", child->key) == 0)
       status = udb_config_add_string (&r->values, &r->values_num, child);
+    else if (strcasecmp ("MetadataFrom", child->key) == 0)
+      status = udb_config_add_string (&r->metadata, &r->metadata_num, child);
     else
     {
       WARNING ("db query utils: Query `%s': Option `%s' not allowed here.",
           query_name, child->key);
       status = -1;
     }
@@ -540,13 +634,13 @@
   return (0);
 } /* }}} int udb_result_create */
 
 /*
  * Query private functions
  */
-static void udb_query_free_one (udb_query_t *q) /* {{{ */
+void udb_query_free_one (udb_query_t *q) /* {{{ */
 {
   if (q == NULL)
     return;
 
   sfree (q->name);
   sfree (q->statement);
@@ -974,15 +1068,16 @@
 udb_query_allocate_preparation_area (udb_query_t *q) /* {{{ */
 {
   udb_query_preparation_area_t   *q_area;
   udb_result_preparation_area_t **next_r_area;
   udb_result_t *r;
 
-  q_area = malloc (sizeof (*q_area));
+  q_area = (udb_query_preparation_area_t *)malloc (sizeof (*q_area));
   if (q_area == NULL)
     return NULL;
+
   memset (q_area, 0, sizeof (*q_area));
 
   next_r_area = &q_area->result_prep_areas;
   for (r = q->results; r != NULL; r = r->next)
   {
     udb_result_preparation_area_t *r_area;
@@ -984,24 +1079,20 @@
 
   next_r_area = &q_area->result_prep_areas;
   for (r = q->results; r != NULL; r = r->next)
   {
     udb_result_preparation_area_t *r_area;
 
-    r_area = malloc (sizeof (*r_area));
+    r_area = (udb_result_preparation_area_t *)malloc (sizeof (*r_area));
     if (r_area == NULL)
     {
-      udb_result_preparation_area_t *a = q_area->result_prep_areas;
-
-      while (a != NULL)
+      for (r_area = q_area->result_prep_areas;
+          r_area != NULL; r_area = r_area->next)
       {
-        udb_result_preparation_area_t *next = a->next;
-        sfree (a);
-        a = next;
+        free (r_area);
       }
-
       free (q_area);
       return NULL;
     }
 
     memset (r_area, 0, sizeof (*r_area));
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_db_query.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_db_query.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_db_query.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_db_query.h	2015-03-10 22:14:45.853114674 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/utils_db_query.h
  * Copyright (C) 2008,2009  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_DB_QUERY_H
 #define UTILS_DB_QUERY_H 1
 
 #include "configfile.h"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_dns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_dns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_dns.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_dns.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,10 +1,10 @@
 /*
  * collectd - src/utils_dns.c
- * Modifications Copyright (C) 2006  Florian octo Forster
- * Copyright (C) 2002  The Measurement Factory, Inc.
+ * Copyright (C) 2006       Florian octo Forster
+ * Copyright (C) 2002       The Measurement Factory, Inc.
  * All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
  *
  * 1. Redistributions of source code must retain the above copyright notice,
@@ -27,13 +27,13 @@
  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  * POSSIBILITY OF SUCH DAMAGE.
  *
  * Authors:
  *   The Measurement Factory, Inc. <http://www.measurement-factory.com/>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
 #define _DEFAULT_SOURCE
 #define _BSD_SOURCE
 
 #include "collectd.h"
@@ -127,16 +127,12 @@
 # define UDP_DEST dest
 # define UDP_SRC  source
 #else
 # error "`struct udphdr' is unusable."
 #endif
 
-#if HAVE_NETINET_IP6_H && HAVE_STRUCT_IP6_EXT
-# define HAVE_IPV6 1
-#endif
-
 #include "utils_dns.h"
 
 /*
  * Type definitions
  */
 struct ip_list_s
@@ -446,13 +442,13 @@
     memcpy(buf, udp + 1, len - sizeof(*udp));
     if (0 == handle_dns(buf, len - sizeof(*udp)))
 	return 0;
     return 1;
 }
 
-#if HAVE_IPV6
+#if HAVE_NETINET_IP6_H
 static int
 handle_ipv6 (struct ip6_hdr *ipv6, int len)
 {
     char buf[PCAP_SNAPLEN];
     unsigned int offset;
     int nexthdr;
@@ -515,22 +511,22 @@
     memcpy (buf, (char *) ipv6 + offset, payload_len);
     if (handle_udp ((struct udphdr *) buf, payload_len) == 0)
 	return (0);
 
     return (1); /* Success */
 } /* int handle_ipv6 */
-/* #endif HAVE_IPV6 */
+/* #endif HAVE_NETINET_IP6_H */
 
-#else /* if !HAVE_IPV6 */
+#else /* if !HAVE_NETINET_IP6_H */
 static int
 handle_ipv6 (__attribute__((unused)) void *pkg,
 	__attribute__((unused)) int len)
 {
     return (0);
 }
-#endif /* !HAVE_IPV6 */
+#endif /* !HAVE_NETINET_IP6_H */
 
 static int
 handle_ip(const struct ip *ip, int len)
 {
     char buf[PCAP_SNAPLEN];
     int offset = ip->ip_hl << 2;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_dns.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_dns.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_dns.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_dns.h	2015-03-10 22:14:45.857114762 +0800
@@ -1,11 +1,10 @@
-#ifndef COLLECTD_UTILS_DNS_H
-#define COLLECTD_UTILS_DNS_H 1
 /*
  * collectd - src/utils_dns.h
- * Copyright (C) 2006  Florian octo Forster
+ * Copyright (C) 2006       Florian octo Forster
+ * Copyright (C) 2002       The Measurement Factory, Inc.
  * All rights reserved.
  * 
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
  * 
  * 1. Redistributions of source code must retain the above copyright notice,
@@ -27,15 +26,19 @@
  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  * POSSIBILITY OF SUCH DAMAGE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   The Measurement Factory, Inc. <http://www.measurement-factory.com/>
+ *   Florian octo Forster <octo at collectd.org>
  */
 
+#ifndef COLLECTD_UTILS_DNS_H
+#define COLLECTD_UTILS_DNS_H 1
+
 #include "config.h"
 
 #include <arpa/nameser.h>
 #include <stdint.h>
 
 #if HAVE_PCAP_H
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_fbhash.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_fbhash.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_fbhash.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_fbhash.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/utils_fbhash.c
- * Copyright (C) 2009  Florian octo Forster
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 
 #include <pthread.h>
@@ -33,13 +38,13 @@
   time_t mtime;
 
   pthread_mutex_t lock;
   c_avl_tree_t *tree;
 };
 
-/*
+/* 
  * Private functions
  */
 static void fbh_free_tree (c_avl_tree_t *tree) /* {{{ */
 {
   int status;
 
@@ -190,13 +195,13 @@
   if (status == 0)
     h->mtime = statbuf.st_mtime;
 
   return (status);
 } /* }}} int fbh_check_file */
 
-/*
+/* 
  * Public functions
  */
 fbhash_t *fbh_create (const char *file) /* {{{ */
 {
   fbhash_t *h;
   int status;
@@ -220,13 +225,12 @@
   pthread_mutex_init (&h->lock, /* attr = */ NULL);
 
   status = fbh_check_file (h);
   if (status != 0)
   {
     fbh_destroy (h);
-    free (h);
     return (NULL);
   }
 
   return (h);
 } /* }}} fbhash_t *fbh_create */
 
@@ -251,13 +255,13 @@
 
   value = NULL;
   value_copy = NULL;
 
   pthread_mutex_lock (&h->lock);
 
-  /* TODO: Checking this everytime may be a bit much..? */
+  /* TODO: Checking this every time may be a bit much..? */
   fbh_check_file (h);
 
   status = c_avl_get (h->tree, key, (void *) &value);
   if (status == 0)
   {
     assert (value != NULL);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_fbhash.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_fbhash.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_fbhash.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_fbhash.h	2015-03-10 22:14:45.857114762 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/utils_fbhash.h
- * Copyright (C) 2009  Florian octo Forster
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_FBHASH_H
 #define UTILS_FBHASH_H 1
 
 /*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_format_graphite.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_format_graphite.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_format_graphite.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_format_graphite.c	2015-05-22 18:04:36.951771009 +0800
@@ -24,13 +24,12 @@
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 
 #include "utils_format_graphite.h"
 #include "utils_cache.h"
-#include "utils_parse_option.h"
 
 #define GRAPHITE_FORBIDDEN " \t\"\\:!/()\n\r"
 
 /* Utils functions to format data sets in graphite format.
  * Largely taken from write_graphite.c as it remains the same formatting */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_format_json.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_format_json.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_format_json.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_format_json.c	2015-05-22 18:04:36.951771009 +0800
@@ -1,35 +1,40 @@
 /**
  * collectd - src/utils_format_json.c
- * Copyright (C) 2009  Florian octo Forster
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 
 #include "utils_cache.h"
 #include "utils_format_json.h"
 
-static int escape_string (char *buffer, size_t buffer_size, /* {{{ */
+static int json_escape_string (char *buffer, size_t buffer_size, /* {{{ */
     const char *string)
 {
   size_t src_pos;
   size_t dst_pos;
 
   if ((buffer == NULL) || (string == NULL))
@@ -67,13 +72,13 @@
   BUFFER_ADD ('"');
   buffer[dst_pos] = 0;
 
 #undef BUFFER_ADD
 
   return (0);
-} /* }}} int escape_string */
+} /* }}} int json_escape_string */
 
 static int values_to_json (char *buffer, size_t buffer_size, /* {{{ */
                 const data_set_t *ds, const value_list_t *vl, int store_rates)
 {
   size_t offset = 0;
   int i;
@@ -222,45 +227,57 @@
 
   DEBUG ("format_json: dsnames_to_json: buffer = %s;", buffer);
 
   return (0);
 } /* }}} int dsnames_to_json */
 
-static int meta_data_keys_to_json (char *buffer, size_t buffer_size, /* {{{ */
-    meta_data_t *meta, char **keys, size_t keys_num)
+static int meta_data_to_json (char *buffer, size_t buffer_size, /* {{{ */
+    meta_data_t *meta)
 {
   size_t offset = 0;
+  char **keys = NULL;
+  int keys_num;
   int status;
-  size_t i;
+  int i;
 
   buffer[0] = 0;
 
+  if (meta == NULL)
+    return (EINVAL);
+
 #define BUFFER_ADD(...) do { \
   status = ssnprintf (buffer + offset, buffer_size - offset, \
       __VA_ARGS__); \
   if (status < 1) \
     return (-1); \
   else if (((size_t) status) >= (buffer_size - offset)) \
     return (-ENOMEM); \
   else \
     offset += ((size_t) status); \
 } while (0)
 
+  keys_num = meta_data_toc (meta, &keys);
+  if (keys_num == 0)
+  {
+    sfree (keys);
+    return (0);
+  }
+
   for (i = 0; i < keys_num; ++i)
   {
     int type;
     char *key = keys[i];
 
     type = meta_data_type (meta, key);
     if (type == MD_TYPE_STRING)
     {
       char *value = NULL;
       if (meta_data_get_string (meta, key, &value) == 0)
       {
         char temp[512] = "";
-        escape_string (temp, sizeof (temp), value);
+        json_escape_string (temp, sizeof (temp), value);
         sfree (value);
         BUFFER_ADD (",\"%s\":%s", key, temp);
       }
     }
     else if (type == MD_TYPE_SIGNED_INT)
     {
@@ -283,48 +300,26 @@
     else if (type == MD_TYPE_BOOLEAN)
     {
       _Bool value = 0;
       if (meta_data_get_boolean (meta, key, &value) == 0)
         BUFFER_ADD (",\"%s\":%s", key, value ? "true" : "false");
     }
+
+    free (key);
   } /* for (keys) */
+  free (keys);
 
   if (offset <= 0)
     return (ENOENT);
 
   buffer[0] = '{'; /* replace leading ',' */
   BUFFER_ADD ("}");
 
 #undef BUFFER_ADD
 
   return (0);
-} /* }}} int meta_data_keys_to_json */
-
-static int meta_data_to_json (char *buffer, size_t buffer_size, /* {{{ */
-    meta_data_t *meta)
-{
-  char **keys = NULL;
-  size_t keys_num;
-  int status;
-  size_t i;
-
-  if ((buffer == NULL) || (buffer_size == 0) || (meta == NULL))
-    return (EINVAL);
-
-  status = meta_data_toc (meta, &keys);
-  if (status <= 0)
-    return (status);
-  keys_num = (size_t) status;
-
-  status = meta_data_keys_to_json (buffer, buffer_size, meta, keys, keys_num);
-
-  for (i = 0; i < keys_num; ++i)
-    sfree (keys[i]);
-  sfree (keys);
-
-  return status;
 } /* }}} int meta_data_to_json */
 
 static int value_list_to_json (char *buffer, size_t buffer_size, /* {{{ */
                 const data_set_t *ds, const value_list_t *vl, int store_rates)
 {
   char temp[512];
@@ -364,13 +359,13 @@
   BUFFER_ADD (",\"dsnames\":%s", temp);
 
   BUFFER_ADD (",\"time\":%.3f", CDTIME_T_TO_DOUBLE (vl->time));
   BUFFER_ADD (",\"interval\":%.3f", CDTIME_T_TO_DOUBLE (vl->interval));
 
 #define BUFFER_ADD_KEYVAL(key, value) do { \
-  status = escape_string (temp, sizeof (temp), (value)); \
+  status = json_escape_string (temp, sizeof (temp), (value)); \
   if (status != 0) \
     return (status); \
   BUFFER_ADD (",\"%s\":%s", (key), temp); \
 } while (0)
 
   BUFFER_ADD_KEYVAL ("host", vl->host);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_format_json.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_format_json.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_format_json.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_format_json.h	2015-05-22 18:04:36.951771009 +0800
@@ -1,25 +1,30 @@
 /**
- * collectd - src/utils_format_json.c
- * Copyright (C) 2009  Florian octo Forster
+ * collectd - src/utils_format_json.h
+ * Copyright (C) 2009       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_FORMAT_JSON_H
 #define UTILS_FORMAT_JSON_H 1
 
 #include "collectd.h"
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_heap.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_heap.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_ignorelist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_ignorelist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_ignorelist.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_ignorelist.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,28 +1,29 @@
 /**
  * collectd - src/utils_ignorelist.c
  * Copyright (C) 2006 Lubos Stanek <lubek at users.sourceforge.net>
- * Copyright (C) 2008 Florian Forster <octo at verplant.org>
+ * Copyright (C) 2008 Florian Forster <octo at collectd.org>
  *
  * This program is free software; you can redistribute it and/
  * or modify it under the terms of the GNU General Public Li-
  * cence as published by the Free Software Foundation; either
  * version 2 of the Licence, or any later version.
  *
  * This program is distributed in the hope that it will be use-
  * ful, but WITHOUT ANY WARRANTY; without even the implied war-
  * ranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  * See the GNU General Public Licence for more details.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * You should have received a copy of the GNU General Public
+ * Licence along with this program; if not, write to the Free
+ * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
+ * USA.
  *
  * Authors:
  *   Lubos Stanek <lubek at users.sourceforge.net>
- *   Florian Forster <octo at verplant.org>
+ *   Florian Forster <octo at collectd.org>
  **/
 /**
  * ignorelist handles plugin's list of configured collectable
  * entries with global ignore action
  **/
 /**
@@ -87,51 +88,68 @@
 	il->head = item;
 }
 
 #if HAVE_REGEX_H
 static int ignorelist_append_regex(ignorelist_t *il, const char *entry)
 {
-	regex_t *re;
-	ignorelist_item_t *item;
-	int status;
+	int rcompile;
+	regex_t *regtemp;
+	int errsize;
+	char *regerr = NULL;
+	ignorelist_item_t *new;
 
 	/* create buffer */
-	re = malloc (sizeof (*re));
-	if (re == NULL)
+	if ((regtemp = malloc(sizeof(regex_t))) == NULL)
 	{
-		ERROR ("ignorelist_append_regex: malloc failed.");
-		return ENOMEM;
+		ERROR ("cannot allocate new config entry");
+		return (1);
 	}
-	memset (re, 0, sizeof (*re));
+	memset (regtemp, '\0', sizeof(regex_t));
 
 	/* compile regex */
-	status = regcomp (re, entry, REG_EXTENDED);
-	if (status != 0)
+	if ((rcompile = regcomp (regtemp, entry, REG_EXTENDED)) != 0)
 	{
-		char errbuf[1024];
+		/* prepare message buffer */
+		errsize = regerror(rcompile, regtemp, NULL, 0);
+		if (errsize)
+			regerr = smalloc(errsize);
+		/* get error message */
+		if (regerror (rcompile, regtemp, regerr, errsize))
+		{
+			fprintf (stderr, "Cannot compile regex %s: %i/%s",
+					entry, rcompile, regerr);
+			ERROR ("Cannot compile regex %s: %i/%s",
+					entry, rcompile, regerr);
+		}
+		else
+		{
+			fprintf (stderr, "Cannot compile regex %s: %i",
+					entry, rcompile);
+			ERROR ("Cannot compile regex %s: %i",
+					entry, rcompile);
+		}
 
-		(void) regerror (status, re, errbuf, sizeof (errbuf));
-		ERROR ("ignorelist_append_regex: Compiling regular expression \"%s\" failed: %s", entry, errbuf);
-		sfree (re);
-		return status;
+		if (errsize)
+			sfree (regerr);
+		regfree (regtemp);
+		return (1);
 	}
+	DEBUG("regex compiled: %s - %i", entry, rcompile);
 
 	/* create new entry */
-	item = malloc (sizeof (*item));
-	if (item == NULL)
+	if ((new = malloc(sizeof(ignorelist_item_t))) == NULL)
 	{
-		ERROR ("ignorelist_append_regex: malloc failed.");
-		regfree (re);
-		sfree (re);
-		return ENOMEM;
+		ERROR ("cannot allocate new config entry");
+		regfree (regtemp);
+		return (1);
 	}
-	memset (item, 0, sizeof (*item));
-	item->rmatch = re;
+	memset (new, '\0', sizeof(ignorelist_item_t));
+	new->rmatch = regtemp;
 
 	/* append new entry */
-	ignorelist_append (il, item);
+	ignorelist_append (il, new);
 
 	return (0);
 } /* int ignorelist_append_regex(ignorelist_t *il, const char *entry) */
 #endif
 
 static int ignorelist_append_string(ignorelist_t *il, const char *entry)
@@ -196,16 +214,15 @@
  * return pointer to ignorelist_t
  */
 ignorelist_t *ignorelist_create (int invert)
 {
 	ignorelist_t *il;
 
-	il = malloc (sizeof (*il));
-	if (il == NULL)
-		return NULL;
-	memset (il, 0, sizeof (*il));
+	/* smalloc exits if it failes */
+	il = (ignorelist_t *) smalloc (sizeof (ignorelist_t));
+	memset (il, '\0', sizeof (ignorelist_t));
 
 	/*
 	 * ->ignore == 0  =>  collect
 	 * ->ignore == 1  =>  ignore
 	 */
 	il->ignore = invert ? 0 : 1;
@@ -228,13 +245,12 @@
 	{
 		next = this->next;
 #if HAVE_REGEX_H
 		if (this->rmatch != NULL)
 		{
 			regfree (this->rmatch);
-			sfree (this->rmatch);
 			this->rmatch = NULL;
 		}
 #endif
 		if (this->smatch != NULL)
 		{
 			sfree (this->smatch);
@@ -264,51 +280,54 @@
 /*
  * append entry into ignorelist_t
  * return 1 for success
  */
 int ignorelist_add (ignorelist_t *il, const char *entry)
 {
-	size_t len;
+	int ret;
+	size_t entry_len;
 
 	if (il == NULL)
 	{
 		DEBUG ("add called with ignorelist_t == NULL");
 		return (1);
 	}
 
-	len = strlen (entry);
+	entry_len = strlen (entry);
 
 	/* append nothing */
-	if (len == 0)
+	if (entry_len == 0)
 	{
 		DEBUG("not appending: empty entry");
 		return (1);
 	}
 
 #if HAVE_REGEX_H
 	/* regex string is enclosed in "/.../" */
-	if ((len > 2) && (entry[0] == '/') && entry[len - 1] == '/')
+	if ((entry_len > 2) && (entry[0] == '/') && entry[entry_len - 1] == '/')
 	{
-		char *copy;
-		int status;
+		char *entry_copy;
+		size_t entry_copy_size;
 
-		/* skip leading slash */
-		copy = strdup (entry + 1);
-		if (copy == NULL)
-			return ENOMEM;
-
-		/* trim trailing slash */
-		copy[strlen (copy) - 1] = 0;
-
-		status = ignorelist_append_regex (il, copy);
-		sfree (copy);
-		return status;
+		/* We need to copy `entry' since it's const */
+		entry_copy_size = entry_len - 1;
+		entry_copy = smalloc (entry_copy_size);
+		sstrncpy (entry_copy, entry + 1, entry_copy_size);
+
+		DEBUG("I'm about to add regex entry: %s", entry_copy);
+		ret = ignorelist_append_regex(il, entry_copy);
+		sfree (entry_copy);
 	}
+	else
 #endif
+	{
+		DEBUG("to add entry: %s", entry);
+		ret = ignorelist_append_string(il, entry);
+	}
 
-	return ignorelist_append_string(il, entry);
+	return (ret);
 } /* int ignorelist_add (ignorelist_t *il, const char *entry) */
 
 /*
  * check list for entry
  * return 1 for ignored entry
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_ignorelist.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_ignorelist.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_ignorelist.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_ignorelist.h	2014-09-20 12:42:58.283280006 +0800
@@ -9,15 +9,16 @@
  *
  * This program is distributed in the hope that it will be use-
  * ful, but WITHOUT ANY WARRANTY; without even the implied war-
  * ranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  * See the GNU General Public Licence for more details.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * You should have received a copy of the GNU General Public
+ * Licence along with this program; if not, write to the Free
+ * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
+ * USA.
  *
  * Authors:
  *   Lubos Stanek <lubek at users.sourceforge.net>
  **/
 /**
  * ignorelist handles plugin's list of configured collectable
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_latency.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_latency.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_latency.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_latency.c	2015-05-20 20:04:47.191035542 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/utils_latency.c
- * Copyright (C) 2013  Florian Forster
+ * Copyright (C) 2013       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -27,38 +27,30 @@
 #include "collectd.h"
 #include "plugin.h"
 #include "utils_latency.h"
 #include "common.h"
 
 #include <math.h>
-#include <limits.h>
-
-#ifndef LLONG_MAX
-# define LLONG_MAX 9223372036854775807LL
-#endif
 
 #ifndef HISTOGRAM_NUM_BINS
 # define HISTOGRAM_NUM_BINS 1000
 #endif
 
-#ifndef HISTOGRAM_DEFAULT_BIN_WIDTH
-/* 1048576 = 2^20 ^= 1/1024 s */
-# define HISTOGRAM_DEFAULT_BIN_WIDTH 1048576
-#endif
+static const int HISTOGRAM_DEFAULT_BIN_WIDTH = 1;
 
 struct latency_counter_s
 {
   cdtime_t start_time;
 
   cdtime_t sum;
   size_t num;
 
   cdtime_t min;
   cdtime_t max;
 
-  cdtime_t bin_width;
+  int bin_width;
   int histogram[HISTOGRAM_NUM_BINS];
 };
 
 /*
 * Histogram represents the distribution of data, it has a list of "bins".
 * Each bin represents an interval and has a count (frequency) of
@@ -72,62 +64,62 @@
 * to be visited to update it's count. To reduce frequent change of bin width,
 * new bin width will be the next nearest power of 2. Example: 2, 4, 8, 16, 32,
 * 64, 128, 256, 512, 1024, 2048, 5086, ...
 *
 * So, if the required bin width is 300, then new bin width will be 512 as it is
 * the next nearest power of 2.
+*
 */
-static void change_bin_width (latency_counter_t *lc, cdtime_t latency) /* {{{ */
+void change_bin_width (latency_counter_t *lc, size_t val) /* {{{ */
 {
+  int i=0;
   /* This function is called because the new value is above histogram's range.
    * First find the required bin width:
    *           requiredBinWidth = (value + 1) / numBins
    * then get the next nearest power of 2
    *           newBinWidth = 2^(ceil(log2(requiredBinWidth)))
    */
-  double required_bin_width = ((double) (latency + 1)) / ((double) HISTOGRAM_NUM_BINS);
-  double required_bin_width_logbase2 = log (required_bin_width) / log (2.0);
-  cdtime_t new_bin_width = (cdtime_t) (pow (2.0, ceil (required_bin_width_logbase2)) + .5);
-  cdtime_t old_bin_width = lc->bin_width;
-
+  double required_bin_width = (double)(val + 1) / HISTOGRAM_NUM_BINS;
+  double required_bin_width_logbase2 = log(required_bin_width) / log(2.0);
+  int new_bin_width = (int)(pow(2.0, ceil( required_bin_width_logbase2)));
+  int old_bin_width = lc->bin_width;
   lc->bin_width = new_bin_width;
 
-  /* bin_width has been increased, now iterate through all bins and move the
-   * old bin's count to new bin. */
+  /*
+   * bin width has been increased, now iterate through all bins and move the
+   * old bin's count to new bin.
+   */
   if (lc->num > 0) // if the histogram has data then iterate else skip
   {
-      double width_change_ratio = ((double) old_bin_width) / ((double) new_bin_width);
-      size_t i;
-
-      for (i = 0; i < HISTOGRAM_NUM_BINS; i++)
+      double width_change_ratio = old_bin_width / new_bin_width;
+      for (i=0; i<HISTOGRAM_NUM_BINS; i++)
       {
-         size_t new_bin = (size_t) (((double) i) * width_change_ratio);
+         int new_bin = (int)(i * width_change_ratio);
          if (i == new_bin)
              continue;
-         assert (new_bin < i);
-
          lc->histogram[new_bin] += lc->histogram[i];
          lc->histogram[i] = 0;
       }
+      DEBUG("utils_latency: change_bin_width: fixed all bins");
   }
 
-  DEBUG("utils_latency: change_bin_width: latency = %.3f; "
-      "old_bin_width = %.3f; new_bin_width = %.3f;",
-      CDTIME_T_TO_DOUBLE (latency),
-      CDTIME_T_TO_DOUBLE (old_bin_width),
-      CDTIME_T_TO_DOUBLE (new_bin_width));
+  DEBUG("utils_latency: change_bin_width: val-[%zu], oldBinWidth-[%d], "
+          "newBinWidth-[%d], required_bin_width-[%f], "
+          "required_bin_width_logbase2-[%f]",
+          val, old_bin_width, new_bin_width, required_bin_width,
+          required_bin_width_logbase2);
+
 } /* }}} void change_bin_width */
 
-latency_counter_t *latency_counter_create (void) /* {{{ */
+latency_counter_t *latency_counter_create () /* {{{ */
 {
   latency_counter_t *lc;
 
   lc = malloc (sizeof (*lc));
   if (lc == NULL)
     return (NULL);
-  memset (lc, 0, sizeof (*lc));
 
   latency_counter_reset (lc);
   lc->bin_width = HISTOGRAM_DEFAULT_BIN_WIDTH;
   return (lc);
 } /* }}} latency_counter_t *latency_counter_create */
 
@@ -135,15 +127,15 @@
 {
   sfree (lc);
 } /* }}} void latency_counter_destroy */
 
 void latency_counter_add (latency_counter_t *lc, cdtime_t latency) /* {{{ */
 {
-  cdtime_t bin;
+  size_t latency_ms;
 
-  if ((lc == NULL) || (latency == 0) || (latency > ((cdtime_t) LLONG_MAX)))
+  if ((lc == NULL) || (latency == 0))
     return;
 
   lc->sum += latency;
   lc->num++;
 
   if ((lc->min == 0) && (lc->max == 0))
@@ -153,32 +145,34 @@
   if (lc->max < latency)
     lc->max = latency;
 
   /* A latency of _exactly_ 1.0 ms should be stored in the buffer 0, so
    * subtract one from the cdtime_t value so that exactly 1.0 ms get sorted
    * accordingly. */
-  bin = (latency - 1) / lc->bin_width;
+  latency_ms = (size_t) CDTIME_T_TO_MS (latency - 1);
+
+  int bin = (int)(latency_ms / lc->bin_width);
   if (bin >= HISTOGRAM_NUM_BINS)
   {
-      change_bin_width (lc, latency);
-      bin = (latency - 1) / lc->bin_width;
+      change_bin_width(lc, latency_ms);
+      bin = (int)(latency_ms / lc->bin_width);
       if (bin >= HISTOGRAM_NUM_BINS)
       {
-          ERROR ("utils_latency: latency_counter_add: Invalid bin: %"PRIu64, bin);
+          ERROR("utils_latency: latency_counter_add: Invalid bin %d", bin);
           return;
       }
   }
   lc->histogram[bin]++;
 } /* }}} void latency_counter_add */
 
 void latency_counter_reset (latency_counter_t *lc) /* {{{ */
 {
   if (lc == NULL)
     return;
 
-  cdtime_t bin_width = lc->bin_width;
+  int bin_width = lc->bin_width;
   memset (lc, 0, sizeof (*lc));
 
   /* preserve bin width */
   lc->bin_width = bin_width;
   lc->start_time = cdtime ();
 } /* }}} void latency_counter_reset */
@@ -219,20 +213,20 @@
     return (0);
 
   average = CDTIME_T_TO_DOUBLE (lc->sum) / ((double) lc->num);
   return (DOUBLE_TO_CDTIME_T (average));
 } /* }}} cdtime_t latency_counter_get_average */
 
-cdtime_t latency_counter_get_percentile (latency_counter_t *lc, /* {{{ */
+cdtime_t latency_counter_get_percentile (latency_counter_t *lc,
     double percent)
 {
   double percent_upper;
   double percent_lower;
-  double p;
-  cdtime_t latency_lower;
-  cdtime_t latency_interpolated;
+  double ms_upper;
+  double ms_lower;
+  double ms_interpolated;
   int sum;
   size_t i;
 
   if ((lc == NULL) || (lc->num == 0) || !((percent > 0.0) && (percent < 100.0)))
     return (0);
 
@@ -256,21 +250,19 @@
   if (i >= HISTOGRAM_NUM_BINS)
     return (0);
 
   assert (percent_upper >= percent);
   assert (percent_lower < percent);
 
+  ms_upper = (double) ( (i + 1) * lc->bin_width );
+  ms_lower = (double) ( i * lc->bin_width );
   if (i == 0)
-    return (lc->bin_width);
-
-  latency_lower = ((cdtime_t) i) * lc->bin_width;
-  p = (percent - percent_lower) / (percent_upper - percent_lower);
+    return (MS_TO_CDTIME_T (ms_upper));
 
-  latency_interpolated = latency_lower
-    + DOUBLE_TO_CDTIME_T (p * CDTIME_T_TO_DOUBLE (lc->bin_width));
+  ms_interpolated = (((percent_upper - percent) * ms_lower)
+      + ((percent - percent_lower) * ms_upper))
+    / (percent_upper - percent_lower);
 
-  DEBUG ("latency_counter_get_percentile: latency_interpolated = %.3f",
-      CDTIME_T_TO_DOUBLE (latency_interpolated));
-  return (latency_interpolated);
+  return (MS_TO_CDTIME_T (ms_interpolated));
 } /* }}} cdtime_t latency_counter_get_percentile */
 
 /* vim: set sw=2 sts=2 et fdm=marker : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_latency.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_latency.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_latency.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_latency.h	2015-03-10 22:14:45.857114762 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/utils_latency.h
- * Copyright (C) 2013  Florian Forster
+ * Copyright (C) 2013       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -27,13 +27,13 @@
 #include "collectd.h"
 #include "utils_time.h"
 
 struct latency_counter_s;
 typedef struct latency_counter_s latency_counter_t;
 
-latency_counter_t *latency_counter_create (void);
+latency_counter_t *latency_counter_create ();
 void latency_counter_destroy (latency_counter_t *lc);
 
 void latency_counter_add (latency_counter_t *lc, cdtime_t latency);
 void latency_counter_reset (latency_counter_t *lc);
 
 cdtime_t latency_counter_get_min (latency_counter_t *lc);
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_llist.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_llist.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_match.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_match.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_mount.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_mount.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_mount.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_mount.c	2015-05-27 02:40:18.821717947 +0800
@@ -9,35 +9,33 @@
  *
  * This program is distributed in the hope that it will be use-
  * ful, but WITHOUT ANY WARRANTY; without even the implied war-
  * ranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  * See the GNU General Public Licence for more details.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * You should have received a copy of the GNU General Public
+ * Licence along with this program; if not, write to the Free
+ * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
+ * USA.
  *
  * Author:
  *   Niki W. Waibel <niki.waibel@gmx.net>
 **/
 
-#if HAVE_CONFIG_H
-# include "config.h"
-#endif
+#include "collectd.h"
+#include "utils_mount.h"
+
+#include "common.h" /* sstrncpy() et alii */
+#include "plugin.h" /* ERROR() macro */
 
 #if HAVE_XFS_XQM_H
-# define _GNU_SOURCE
 # include <xfs/xqm.h>
 #define XFS_SUPER_MAGIC_STR "XFSB"
 #define XFS_SUPER_MAGIC2_STR "BSFX"
 #endif
 
-#include "common.h"
-#include "plugin.h"
-#include "utils_mount.h"
-
 #if HAVE_GETVFSSTAT
 #  if HAVE_SYS_TYPES_H
 #    include <sys/types.h>
 #  endif
 #  if HAVE_SYS_STATVFS_H
 #    include <sys/statvfs.h>
@@ -429,22 +427,22 @@
 /* #endif HAVE_LISTMNTENT */
 
 /* 4.4BSD and Mac OS X (getfsstat) or NetBSD (getvfsstat) */
 #elif HAVE_GETVFSSTAT || HAVE_GETFSSTAT
 static cu_mount_t *cu_mount_getfsstat (void)
 {
-#if HAVE_GETFSSTAT
-#  define STRUCT_STATFS struct statfs
-#  define CMD_STATFS    getfsstat
-#  define FLAGS_STATFS  MNT_NOWAIT
-/* #endif HAVE_GETFSSTAT */
-#elif HAVE_GETVFSSTAT
+#if HAVE_GETVFSSTAT
 #  define STRUCT_STATFS struct statvfs
 #  define CMD_STATFS    getvfsstat
 #  define FLAGS_STATFS  ST_NOWAIT
-#endif /* HAVE_GETVFSSTAT */
+/* #endif HAVE_GETVFSSTAT */
+#elif HAVE_GETFSSTAT
+#  define STRUCT_STATFS struct statfs
+#  define CMD_STATFS    getfsstat
+#  define FLAGS_STATFS  MNT_NOWAIT
+#endif /* HAVE_GETFSSTAT */
 
 	int bufsize;
 	STRUCT_STATFS *buf;
 
 	int num;
 	int i;
@@ -570,70 +568,12 @@
 /* #endif HAVE_TWO_GETMNTENT || HAVE_GEN_GETMNTENT || HAVE_SUN_GETMNTENT */
 
 #elif HAVE_SEQ_GETMNTENT
 #warn "This version of `getmntent' hat not yet been implemented!"
 /* #endif HAVE_SEQ_GETMNTENT */
 
-#elif HAVE_GETMNTENT_R
-static cu_mount_t *cu_mount_getmntent (void)
-{
-	FILE *fp;
-	struct mntent me;
-	char mntbuf[1024];
-
-	cu_mount_t *first = NULL;
-	cu_mount_t *last  = NULL;
-	cu_mount_t *new   = NULL;
-
-	DEBUG ("utils_mount: (void); COLLECTD_MNTTAB = %s", COLLECTD_MNTTAB);
-
-	if ((fp = setmntent (COLLECTD_MNTTAB, "r")) == NULL)
-	{
-		char errbuf[1024];
-		ERROR ("setmntent (%s): %s", COLLECTD_MNTTAB,
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		return (NULL);
-	}
-
-	while (getmntent_r (fp, &me, mntbuf, sizeof (mntbuf) ))
-	{
-		if ((new = malloc (sizeof (cu_mount_t))) == NULL)
-			break;
-		memset (new, '\0', sizeof (cu_mount_t));
-
-		/* Copy values from `struct mntent *' */
-		new->dir         = sstrdup (me.mnt_dir);
-		new->spec_device = sstrdup (me.mnt_fsname);
-		new->type        = sstrdup (me.mnt_type);
-		new->options     = sstrdup (me.mnt_opts);
-		new->device      = get_device_name (new->options);
-		new->next        = NULL;
-
-		DEBUG ("utils_mount: new = {dir = %s, spec_device = %s, type = %s, options = %s, device = %s}",
-				new->dir, new->spec_device, new->type, new->options, new->device);
-
-		/* Append to list */
-		if (first == NULL)
-		{
-			first = new;
-			last  = new;
-		}
-		else
-		{
-			last->next = new;
-			last       = new;
-		}
-	}
-
-	endmntent (fp);
-
-	DEBUG ("utils_mount: return (0x%p)", (void *) first);
-
-	return (first);
-} /* HAVE_GETMNTENT_R */
-
 #elif HAVE_ONE_GETMNTENT
 static cu_mount_t *cu_mount_getmntent (void)
 {
 	FILE *fp;
 	struct mntent *me;
 
@@ -759,19 +699,19 @@
 	}
 } /* void cu_mount_freelist(cu_mount_t *list) */
 
 char *
 cu_mount_checkoption(char *line, char *keyword, int full)
 {
-	char *line2, *l2, *p1, *p2;
-	int l;
+	char *line2, *l2;
+	int l = strlen(keyword);
+	char *p1, *p2;
 
 	if(line == NULL || keyword == NULL) {
 		return NULL;
 	}
-
 	if(full != 0) {
 		full = 1;
 	}
 
 	line2 = sstrdup(line);
 	l2 = line2;
@@ -779,13 +719,12 @@
 		if(*l2 == ',') {
 			*l2 = '\0';
 		}
 		l2++;
 	}
 
-	l = strlen(keyword);
 	p1 = line - 1;
 	p2 = strchr(line, ',');
 	do {
 		if(strncmp(line2+(p1-line)+1, keyword, l+full) == 0) {
 			free(line2);
 			return p1+1;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_mount.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_mount.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_mount.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_mount.h	2015-03-10 22:14:45.857114762 +0800
@@ -9,15 +9,16 @@
  *
  * This program is distributed in the hope that it will be use-
  * ful, but WITHOUT ANY WARRANTY; without even the implied war-
  * ranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  * See the GNU General Public Licence for more details.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * You should have received a copy of the GNU General Public
+ * Licence along with this program; if not, write to the Free
+ * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
+ * USA.
  *
  * Author:
  *   Niki W. Waibel <niki.waibel@gmx.net>
 **/
 
 /* See below for instructions how to use the public functions. */
@@ -115,13 +116,13 @@
 
 char *cu_mount_checkoption(char *line, char *keyword, int full);
 /*
   DESCRIPTION
 	The cu_mount_checkoption() function is a replacement of
 	char *hasmntopt(const struct mntent *mnt, const char *opt).
-	In fact hasmntopt() just looks for the first occurence of the
+	In fact hasmntopt() just looks for the first occurrence of the
 	characters at opt in mnt->mnt_opts. cu_mount_checkoption()
 	checks for the *option* keyword in line, starting at the
 	first character of line or after a ','.
 
 	If full is not 0 then also the end of keyword has to match
 	either the end of line or a ',' after keyword.
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: utils_mount_test.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_parse_option.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_parse_option.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_parse_option.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_parse_option.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/utils_parse_option.c
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_parse_option.h"
@@ -124,13 +129,13 @@
     key++;
   if (*key == 0)
     return (1);
 
   /* Look for the equal sign */
   buffer = key;
-  while (isalnum ((int) *buffer) || *buffer == '_')
+  while (isalnum ((int) *buffer) || *buffer == '_' || *buffer == ':')
     buffer++;
   if ((*buffer != '=') || (buffer == key))
     return (1);
   *buffer = 0;
   buffer++;
   /* Empty values must be written as "" */
@@ -147,58 +152,7 @@
   *ret_key = key;
   *ret_value = value;
 
   return (0);
 } /* int parse_option */
 
-int escape_string (char *buffer, size_t buffer_size)
-{
-  char *temp;
-  size_t i;
-  size_t j;
-
-  /* Check if we need to escape at all first */
-  temp = strpbrk (buffer, " \t\"\\");
-  if (temp == NULL)
-    return (0);
-
-  temp = (char *) malloc (buffer_size);
-  if (temp == NULL)
-    return (-1);
-  memset (temp, 0, buffer_size);
-
-  temp[0] = '"';
-  j = 1;
-
-  for (i = 0; i < buffer_size; i++)
-  {
-    if (buffer[i] == 0)
-    {
-      break;
-    }
-    else if ((buffer[i] == '"') || (buffer[i] == '\\'))
-    {
-      if (j > (buffer_size - 4))
-        break;
-      temp[j] = '\\';
-      temp[j + 1] = buffer[i];
-      j += 2;
-    }
-    else
-    {
-      if (j > (buffer_size - 3))
-        break;
-      temp[j] = buffer[i];
-      j++;
-    }
-  }
-
-  assert ((j + 1) < buffer_size);
-  temp[j] = '"';
-  temp[j + 1] = 0;
-
-  sstrncpy (buffer, temp, buffer_size);
-  sfree (temp);
-  return (0);
-} /* int escape_string */
-
 /* vim: set sw=2 ts=8 tw=78 et : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_parse_option.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_parse_option.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_parse_option.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_parse_option.h	2015-03-10 22:14:45.857114762 +0800
@@ -1,32 +1,35 @@
 /**
  * collectd - src/utils_parse_option.h
- * Copyright (C) 2008  Florian Forster
+ * Copyright (C) 2008       Florian Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_PARSE_OPTION
 #define UTILS_PARSE_OPTION 1
 
 int parse_string (char **ret_buffer, char **ret_string);
 int parse_option (char **ret_buffer, char **ret_key, char **ret_value);
 
-int escape_string (char *buffer, size_t buffer_size);
-
 #endif /* UTILS_PARSE_OPTION */
 
 /* vim: set sw=2 ts=8 tw=78 et : */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_random.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_random.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_rrdcreate.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_rrdcreate.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_rrdcreate.c	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_rrdcreate.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/utils_rrdcreate.c
  * Copyright (C) 2006-2013  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -163,16 +168,20 @@
 
   int *rts;
   int  rts_num;
 
   int rra_max;
 
+  int span;
+
   int cdp_num;
   int cdp_len;
   int i, j;
 
+  char buffer[128];
+
   /* The stepsize we use here: If it is user-set, use it. If not, use the
    * interval of the value-list. */
   int ss;
 
   if (cfg->rrarows <= 0)
   {
@@ -206,23 +215,22 @@
   {
     rts = rra_timespans;
     rts_num = rra_timespans_num;
   }
 
   rra_max = rts_num * rra_types_num;
-  assert (rra_max > 0);
 
-  if ((rra_def = malloc ((rra_max + 1) * sizeof (*rra_def))) == NULL)
+  if ((rra_def = (char **) malloc ((rra_max + 1) * sizeof (char *))) == NULL)
     return (-1);
-  memset (rra_def, 0, (rra_max + 1) * sizeof (*rra_def));
+  memset (rra_def, '\0', (rra_max + 1) * sizeof (char *));
   rra_num = 0;
 
   cdp_len = 0;
   for (i = 0; i < rts_num; i++)
   {
-    int span = rts[i];
+    span = rts[i];
 
     if ((span / ss) < cfg->rrarows)
       span = ss * cfg->rrarows;
 
     if (cdp_len == 0)
       cdp_len = 1;
@@ -232,13 +240,12 @@
 
     cdp_num = (int) ceil (((double) span)
         / ((double) (cdp_len * ss)));
 
     for (j = 0; j < rra_types_num; j++)
     {
-      char buffer[128];
       int status;
 
       if (rra_num >= rra_max)
         break;
 
       status = ssnprintf (buffer, sizeof (buffer), "RRA:%s:%.10f:%u:%u",
@@ -251,18 +258,12 @@
       }
 
       rra_def[rra_num++] = sstrdup (buffer);
     }
   }
 
-  if (rra_num <= 0)
-  {
-    sfree (rra_def);
-    return (0);
-  }
-
   *ret = rra_def;
   return (rra_num);
 } /* }}} int rra_get */
 
 static void ds_free (int ds_num, char **ds_def) /* {{{ */
 {
@@ -282,23 +283,21 @@
   int ds_num;
 
   char min[32];
   char max[32];
   char buffer[128];
 
-  assert (ds->ds_num > 0);
-
-  ds_def = malloc (ds->ds_num * sizeof (*ds_def));
+  ds_def = (char **) malloc (ds->ds_num * sizeof (char *));
   if (ds_def == NULL)
   {
     char errbuf[1024];
     ERROR ("rrdtool plugin: malloc failed: %s",
         sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
-  memset (ds_def, 0, ds->ds_num * sizeof (*ds_def));
+  memset (ds_def, '\0', ds->ds_num * sizeof (char *));
 
   for (ds_num = 0; ds_num < ds->ds_num; ds_num++)
   {
     data_source_t *d = ds->ds + ds_num;
     char *type;
     int status;
@@ -350,18 +349,12 @@
   if (ds_num != ds->ds_num)
   {
     ds_free (ds_num, ds_def);
     return (-1);
   }
 
-  if (ds_num <= 0)
-  {
-    sfree (ds_def);
-    return (0);
-  }
-
   *ret = ds_def;
   return (ds_num);
 } /* }}} int ds_get */
 
 #if HAVE_THREADSAFE_LIBRRD
 static int srrd_create (const char *filename, /* {{{ */
@@ -655,15 +648,15 @@
 int cu_rrd_create_file (const char *filename, /* {{{ */
     const data_set_t *ds, const value_list_t *vl,
     const rrdcreate_config_t *cfg)
 {
   char **argv;
   int argc;
-  char **rra_def = NULL;
+  char **rra_def;
   int rra_num;
-  char **ds_def = NULL;
+  char **ds_def;
   int ds_num;
   int status = 0;
   time_t last_up;
   unsigned long stepsize;
 
   if (check_create_dir (filename))
@@ -675,25 +668,22 @@
     return (-1);
   }
 
   if ((ds_num = ds_get (&ds_def, ds, vl, cfg)) < 1)
   {
     ERROR ("cu_rrd_create_file failed: Could not calculate DSes");
-    rra_free (rra_num, rra_def);
     return (-1);
   }
 
   argc = ds_num + rra_num;
 
   if ((argv = (char **) malloc (sizeof (char *) * (argc + 1))) == NULL)
   {
     char errbuf[1024];
     ERROR ("cu_rrd_create_file failed: %s",
         sstrerror (errno, errbuf, sizeof (errbuf)));
-    rra_free (rra_num, rra_def);
-    ds_free (ds_num, ds_def);
     return (-1);
   }
 
   memcpy (argv, ds_def, ds_num * sizeof (char *));
   memcpy (argv + ds_num, rra_def, rra_num * sizeof (char *));
   argv[ds_num + rra_num] = NULL;
@@ -716,38 +706,24 @@
       WARNING ("cu_rrd_create_file: srrd_create_async (%s) "
           "returned status %i.",
           filename, status);
   }
   else /* synchronous */
   {
-    status = lock_file (filename);
+    status = srrd_create (filename, stepsize, last_up,
+        argc, (const char **) argv);
+
     if (status != 0)
     {
-      if (status == EEXIST)
-        NOTICE ("cu_rrd_create_file: File \"%s\" is already being created.",
-            filename);
-      else
-        ERROR ("cu_rrd_create_file: Unable to lock file \"%s\".",
-            filename);
+      WARNING ("cu_rrd_create_file: srrd_create (%s) returned status %i.",
+          filename, status);
     }
     else
     {
-      status = srrd_create (filename, stepsize, last_up,
-          argc, (const char **) argv);
-
-      if (status != 0)
-      {
-        WARNING ("cu_rrd_create_file: srrd_create (%s) returned status %i.",
-            filename, status);
-      }
-      else
-      {
-        DEBUG ("cu_rrd_create_file: Successfully created RRD file \"%s\".",
-            filename);
-      }
-      unlock_file (filename);
+      DEBUG ("cu_rrd_create_file: Successfully created RRD file \"%s\".",
+          filename);
     }
   }
 
   free (argv);
   ds_free (ds_num, ds_def);
   rra_free (rra_num, rra_def);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_rrdcreate.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_rrdcreate.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_rrdcreate.h	2016-07-26 15:47:12.973713833 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_rrdcreate.h	2015-03-10 22:14:45.857114762 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/utils_rrdcreate.h
  * Copyright (C) 2008-2013  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #ifndef UTILS_RRDCREATE_H
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_subst.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_subst.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_tail.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_tail.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_tail_match.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_tail_match.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_time.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src: utils_time.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_vl_lookup.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_vl_lookup.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_vl_lookup.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_vl_lookup.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/utils_vl_lookup.c
- * Copyright (C) 2012  Florian Forster
+ * Copyright (C) 2012       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -301,16 +301,15 @@
   pthread_mutex_lock (&user_class->lock);
   user_obj = lu_find_user_obj (user_class, vl);
   if (user_obj == NULL)
   {
     /* call lookup_class_callback_t() and insert into the list of user objects. */
     user_obj = lu_create_user_obj (obj, ds, vl, user_class);
-    if (user_obj == NULL) {
-      pthread_mutex_unlock (&user_class->lock);
+    pthread_mutex_unlock (&user_class->lock);
+    if (user_obj == NULL)
       return (-1);
-    }
   }
   pthread_mutex_unlock (&user_class->lock);
 
   status = obj->cb_user_obj (ds, vl,
       user_class->user_class, user_obj->user_obj);
   if (status != 0)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_vl_lookup.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_vl_lookup.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_vl_lookup.h	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_vl_lookup.h	2015-03-10 22:14:45.857114762 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/utils_vl_lookup.h
- * Copyright (C) 2012  Florian Forster
+ * Copyright (C) 2012       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_vl_lookup_test.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_vl_lookup_test.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/utils_vl_lookup_test.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/utils_vl_lookup_test.c	2015-05-27 02:40:18.825717997 +0800
@@ -1,9 +1,9 @@
 /**
- * collectd - src/utils_vl_lookup_test.c
- * Copyright (C) 2012  Florian Forster
+ * collectd - src/tests/test_utils_vl_lookup.c
+ * Copyright (C) 2012       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -21,12 +21,13 @@
  * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian Forster <octo at collectd.org>
  **/
 
+#include "testing.h"
 #include "collectd.h"
 #include "utils_vl_lookup.h"
 
 static _Bool expect_new_obj = 0;
 static _Bool have_new_obj = 0;
 
@@ -43,13 +44,14 @@
     value_list_t const *vl,
     void *user_class, void *user_obj)
 {
   identifier_t *class = user_class;
   identifier_t *obj = user_obj;
 
-  assert (expect_new_obj == have_new_obj);
+  OK1(expect_new_obj == have_new_obj,
+      (expect_new_obj ? "New obj is created." : "Updating existing obj."));
 
   memcpy (&last_class_ident, class, sizeof (last_class_ident));
   memcpy (&last_obj_ident, obj, sizeof (last_obj_ident));
 
   if (strcmp (obj->plugin_instance, "failure") == 0)
     return (-1);
@@ -60,13 +62,13 @@
 static void *lookup_class_callback (data_set_t const *ds,
     value_list_t const *vl, void *user_class)
 {
   identifier_t *class = user_class;
   identifier_t *obj;
 
-  assert (expect_new_obj);
+  OK(expect_new_obj);
 
   memcpy (&last_class_ident, class, sizeof (last_class_ident));
   
   obj = malloc (sizeof (*obj));
   strncpy (obj->host, vl->host, sizeof (obj->host));
   strncpy (obj->plugin, vl->plugin, sizeof (obj->plugin));
@@ -84,26 +86,24 @@
     char const *plugin, char const *plugin_instance,
     char const *type, char const *type_instance,
     unsigned int group_by)
 {
   identifier_t ident;
   void *user_class;
-  int status;
 
   memset (&ident, 0, sizeof (ident));
   strncpy (ident.host, host, sizeof (ident.host));
   strncpy (ident.plugin, plugin, sizeof (ident.plugin));
   strncpy (ident.plugin_instance, plugin_instance, sizeof (ident.plugin_instance));
   strncpy (ident.type, type, sizeof (ident.type));
   strncpy (ident.type_instance, type_instance, sizeof (ident.type_instance));
 
   user_class = malloc (sizeof (ident));
   memmove (user_class, &ident, sizeof (ident));
 
-  status = lookup_add (obj, &ident, group_by, user_class);
-  assert (status == 0);
+  OK(lookup_add (obj, &ident, group_by, user_class) == 0);
 } /* }}} void test_add */
 
 static int checked_lookup_search (lookup_t *obj,
     char const *host,
     char const *plugin, char const *plugin_instance,
     char const *type, char const *type_instance,
@@ -133,17 +133,17 @@
 {
   lookup_t *obj = lookup_create (
       lookup_class_callback,
       lookup_obj_callback,
       (void *) free,
       (void *) free);
-  assert (obj != NULL);
+  OK(obj != NULL);
   return (obj);
 }
 
-static void testcase0 (void)
+DEF_TEST(group_by_specific_host)
 {
   lookup_t *obj = checked_lookup_create ();
 
   checked_lookup_add (obj, "/.*/", "test", "", "test", "/.*/", LU_GROUP_BY_HOST);
   checked_lookup_search (obj, "host0", "test", "", "test", "0",
       /* expect new = */ 1);
@@ -152,15 +152,16 @@
   checked_lookup_search (obj, "host1", "test", "", "test", "0",
       /* expect new = */ 1);
   checked_lookup_search (obj, "host1", "test", "", "test", "1",
       /* expect new = */ 0);
 
   lookup_destroy (obj);
+  return (0);
 }
 
-static void testcase1 (void)
+DEF_TEST(group_by_any_host)
 {
   lookup_t *obj = checked_lookup_create ();
 
   checked_lookup_add (obj, "/.*/", "/.*/", "/.*/", "test", "/.*/", LU_GROUP_BY_HOST);
   checked_lookup_search (obj, "host0", "plugin0", "", "test", "0",
       /* expect new = */ 1);
@@ -177,15 +178,16 @@
   checked_lookup_search (obj, "host1", "plugin1", "", "test", "0",
       /* expect new = */ 0);
   checked_lookup_search (obj, "host1", "plugin1", "", "test", "1",
       /* expect new = */ 0);
 
   lookup_destroy (obj);
+  return (0);
 }
 
-static void testcase2 (void)
+DEF_TEST(multiple_lookups)
 {
   lookup_t *obj = checked_lookup_create ();
   int status;
 
   checked_lookup_add (obj, "/.*/", "plugin0", "", "test", "/.*/", LU_GROUP_BY_HOST);
   checked_lookup_add (obj, "/.*/", "/.*/", "", "test", "ti0", LU_GROUP_BY_HOST);
@@ -201,15 +203,16 @@
   assert (status == 1);
   status = checked_lookup_search (obj, "host0", "plugin0", "", "test", "ti0",
       /* expect new = */ 0);
   assert (status == 2);
 
   lookup_destroy (obj);
+  return (0);
 }
 
-static void testcase3 (void)
+DEF_TEST(regex)
 {
   lookup_t *obj = checked_lookup_create ();
 
   checked_lookup_add (obj, "/^db[0-9]\\./", "cpu", "/.*/", "cpu", "/.*/",
       LU_GROUP_BY_TYPE_INSTANCE);
   checked_lookup_search (obj, "db0.example.com", "cpu", "0", "cpu", "user",
@@ -229,16 +232,18 @@
   checked_lookup_search (obj, "db1.example.com", "cpu", "0", "cpu", "idle",
       /* expect new = */ 0);
   checked_lookup_search (obj, "db1.example.com", "cpu", "0", "cpu", "system",
       /* expect new = */ 1);
 
   lookup_destroy (obj);
+  return (0);
 }
 
 int main (int argc, char **argv) /* {{{ */
 {
-  testcase0 ();
-  testcase1 ();
-  testcase2 ();
-  testcase3 ();
-  return (EXIT_SUCCESS);
+  RUN_TEST(group_by_specific_host);
+  RUN_TEST(group_by_any_host);
+  RUN_TEST(multiple_lookups);
+  RUN_TEST(regex);
+
+  END_TEST;
 } /* }}} int main */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/varnish.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/varnish.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/varnish.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/varnish.c	2015-03-10 22:14:45.857114762 +0800
@@ -25,20 +25,26 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#include <varnish/varnishapi.h>
+#if HAVE_VARNISH_V4
+#include <varnish/vapi/vsm.h>
+#include <varnish/vapi/vsc.h>
+typedef struct VSC_C_main c_varnish_stats_t;
+#endif
 
 #if HAVE_VARNISH_V3
-# include <varnish/vsc.h>
+#include <varnish/varnishapi.h>
+#include <varnish/vsc.h>
 typedef struct VSC_C_main c_varnish_stats_t;
 #endif
 
 #if HAVE_VARNISH_V2
+#include <varnish/varnishapi.h>
 typedef struct varnish_stats c_varnish_stats_t;
 #endif
 
 /* {{{ user_config_s */
 struct user_config_s {
 	char *instance;
@@ -64,17 +70,20 @@
 #if HAVE_VARNISH_V2
 	_Bool collect_sm;
 	_Bool collect_sma;
 #endif
 	_Bool collect_struct;
 	_Bool collect_totals;
-#ifdef HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 	_Bool collect_uptime;
 #endif
 	_Bool collect_vcl;
 	_Bool collect_workers;
+#if HAVE_VARNISH_V4
+	_Bool collect_vsm;
+#endif
 };
 typedef struct user_config_s user_config_t; /* }}} */
 
 static _Bool have_instance = 0;
 
 static int varnish_submit (const char *plugin_instance, /* {{{ */
@@ -138,16 +147,18 @@
 		/* Cache hits for pass */
 		varnish_submit_derive (conf->instance, "cache", "cache_result", "hitpass", stats->cache_hitpass);
 	}
 
 	if (conf->collect_connections)
 	{
+#ifndef HAVE_VARNISH_V4
 		/* Client connections accepted */
 		varnish_submit_derive (conf->instance, "connections", "connections", "accepted", stats->client_conn);
 		/* Connection dropped, no sess */
 		varnish_submit_derive (conf->instance, "connections", "connections", "dropped" , stats->client_drop);
+#endif
 		/* Client requests received    */
 		varnish_submit_derive (conf->instance, "connections", "connections", "received", stats->client_req);
 	}
 
 #ifdef HAVE_VARNISH_V3
 	if (conf->collect_dirdns)
@@ -222,13 +233,13 @@
 		/* Fetch pre HTTP/1.1 closed */
 		varnish_submit_derive (conf->instance, "fetch", "http_requests", "oldhttp"    , stats->fetch_oldhttp);
 		/* Fetch zero len            */
 		varnish_submit_derive (conf->instance, "fetch", "http_requests", "zero"       , stats->fetch_zero);
 		/* Fetch failed              */
 		varnish_submit_derive (conf->instance, "fetch", "http_requests", "failed"     , stats->fetch_failed);
-#if HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 		/* Fetch no body (1xx)       */
 		varnish_submit_derive (conf->instance, "fetch", "http_requests", "no_body_1xx", stats->fetch_1xx);
 		/* Fetch no body (204)       */
 		varnish_submit_derive (conf->instance, "fetch", "http_requests", "no_body_204", stats->fetch_204);
 		/* Fetch no body (304)       */
 		varnish_submit_derive (conf->instance, "fetch", "http_requests", "no_body_304", stats->fetch_304);
@@ -260,18 +271,23 @@
 #if HAVE_VARNISH_V2
 		/* N objects on deathrow         */
 		varnish_submit_derive (conf->instance, "objects", "total_objects", "deathrow",           stats->n_deathrow);
 #endif
 		/* HTTP header overflows         */
 		varnish_submit_derive (conf->instance, "objects", "total_objects", "header_overflow",    stats->losthdr);
+#if HAVE_VARNISH_V4
+		/* N purged objects              */
+		varnish_submit_derive (conf->instance, "objects", "total_objects", "purged",             stats->n_obj_purged);
+#else
 		/* Objects sent with sendfile    */
 		varnish_submit_derive (conf->instance, "objects", "total_objects", "sent_sendfile",      stats->n_objsendfile);
 		/* Objects sent with write       */
 		varnish_submit_derive (conf->instance, "objects", "total_objects", "sent_write",         stats->n_objwrite);
 		/* Objects overflowing workspace */
 		varnish_submit_derive (conf->instance, "objects", "total_objects", "workspace_overflow", stats->n_objoverflow);
+#endif
 	}
 
 #if HAVE_VARNISH_V2
 	if (conf->collect_purge)
 	{
 		/* N total active purges      */
@@ -284,13 +300,14 @@
 		varnish_submit_derive (conf->instance, "purge", "total_operations", "objects_tested",   stats->n_purge_obj_test);
 		/* N regexps tested against   */
 		varnish_submit_derive (conf->instance, "purge", "total_operations", "regexps_tested",   stats->n_purge_re_test);
 		/* N duplicate purges removed */
 		varnish_submit_derive (conf->instance, "purge", "total_operations", "duplicate",        stats->n_purge_dups);
 	}
-#else
+#endif
+#if HAVE_VARNISH_V3
 	if (conf->collect_ban)
 	{
 		/* N total active bans      */
 		varnish_submit_derive (conf->instance, "ban", "total_operations", "total",          stats->n_ban);
 		/* N new bans added         */
 		varnish_submit_derive (conf->instance, "ban", "total_operations", "added",          stats->n_ban_add);
@@ -301,23 +318,57 @@
 		/* N regexps tested against */
 		varnish_submit_derive (conf->instance, "ban", "total_operations", "regexps_tested", stats->n_ban_re_test);
 		/* N duplicate bans removed */
 		varnish_submit_derive (conf->instance, "ban", "total_operations", "duplicate",      stats->n_ban_dups);
 	}
 #endif
+#if HAVE_VARNISH_V4
+	if (conf->collect_ban)
+	{
+		/* N total active bans      */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "total",          stats->bans);
+		/* N new bans added         */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "added",          stats->bans_added);
+		/* N bans using obj */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "obj",            stats->bans_obj);
+		/* N bans using req */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "req",            stats->bans_req);
+		/* N new bans completed     */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "completed",      stats->bans_completed);
+		/* N old bans deleted       */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "deleted",        stats->bans_deleted);
+		/* N objects tested         */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "tested",         stats->bans_tested);
+		/* N duplicate bans removed */
+		varnish_submit_derive (conf->instance, "ban", "total_operations", "duplicate",      stats->bans_dups);
+	}
+#endif
 
 	if (conf->collect_session)
 	{
 		/* Session Closed     */
 		varnish_submit_derive (conf->instance, "session", "total_operations", "closed",    stats->sess_closed);
 		/* Session Pipeline   */
 		varnish_submit_derive (conf->instance, "session", "total_operations", "pipeline",  stats->sess_pipeline);
 		/* Session Read Ahead */
 		varnish_submit_derive (conf->instance, "session", "total_operations", "readahead", stats->sess_readahead);
+#if HAVE_VARNISH_V4
+		/* Sessions accepted */
+		varnish_submit_derive (conf->instance, "session", "total_operations", "accepted",  stats->sess_conn);
+		/* Sessions dropped for thread */
+		varnish_submit_derive (conf->instance, "session", "total_operations", "dropped",   stats->sess_drop);
+		/* Sessions accept failure */
+		varnish_submit_derive (conf->instance, "session", "total_operations", "failed",    stats->sess_fail);
+		/* Sessions pipe overflow */
+		varnish_submit_derive (conf->instance, "session", "total_operations", "overflow",  stats->sess_pipe_overflow);
+		/* Sessions queued for thread */
+		varnish_submit_derive (conf->instance, "session", "total_operations", "queued",    stats->sess_queued);
+#else
 		/* Session Linger     */
 		varnish_submit_derive (conf->instance, "session", "total_operations", "linger",    stats->sess_linger);
+#endif
 		/* Session herd       */
 		varnish_submit_derive (conf->instance, "session", "total_operations", "herd",      stats->sess_herd);
 	}
 
 	if (conf->collect_shm)
 	{
@@ -374,23 +425,27 @@
 		/* SMS bytes freed */
 		varnish_submit_derive (conf->instance,  "sms", "total_bytes", "free",        stats->sms_bfree);
 	}
 
 	if (conf->collect_struct)
 	{
+#if !HAVE_VARNISH_V4
 		/* N struct sess_mem       */
 		varnish_submit_gauge (conf->instance, "struct", "current_sessions", "sess_mem",  stats->n_sess_mem);
 		/* N struct sess           */
 		varnish_submit_gauge (conf->instance, "struct", "current_sessions", "sess",      stats->n_sess);
+#endif
 		/* N struct object         */
 		varnish_submit_gauge (conf->instance, "struct", "objects", "object",             stats->n_object);
-#ifdef HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 		/* N unresurrected objects */
 		varnish_submit_gauge (conf->instance, "struct", "objects", "vampireobject",      stats->n_vampireobject);
 		/* N struct objectcore     */
 		varnish_submit_gauge (conf->instance, "struct", "objects", "objectcore",         stats->n_objectcore);
+		/* N struct waitinglist    */
+		varnish_submit_gauge (conf->instance, "struct", "objects", "waitinglist",        stats->n_waitinglist);
 #endif
 		/* N struct objecthead     */
 		varnish_submit_gauge (conf->instance, "struct", "objects", "objecthead",         stats->n_objecthead);
 #ifdef HAVE_VARNISH_V2
 		/* N struct smf            */
 		varnish_submit_gauge (conf->instance, "struct", "objects", "smf",                stats->n_smf);
@@ -412,19 +467,46 @@
 		/* Total pipe */
 		varnish_submit_derive (conf->instance, "totals", "total_operations", "pipe",    stats->s_pipe);
 		/* Total pass */
 		varnish_submit_derive (conf->instance, "totals", "total_operations", "pass",    stats->s_pass);
 		/* Total fetch */
 		varnish_submit_derive (conf->instance, "totals", "total_operations", "fetches", stats->s_fetch);
+#if HAVE_VARNISH_V4
+		/* Total synth */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "synth",       stats->s_synth);
+		/* Request header bytes */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "req_header",  stats->s_req_hdrbytes);
+		/* Request body byte */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "req_body",    stats->s_req_bodybytes);
+		/* Response header bytes */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "resp_header", stats->s_resp_hdrbytes);
+		/* Response body byte */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "resp_body",   stats->s_resp_bodybytes);
+		/* Pipe request header bytes */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "pipe_header", stats->s_pipe_hdrbytes);
+		/* Piped bytes from client */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "pipe_in",     stats->s_pipe_in);
+		/* Piped bytes to client */
+		varnish_submit_derive (conf->instance, "totals", "total_bytes", "pipe_out",    stats->s_pipe_out);
+		/* Number of purge operations */
+		varnish_submit_derive (conf->instance, "totals", "total_operations", "purges", stats->n_purges);
+#else
 		/* Total header bytes */
 		varnish_submit_derive (conf->instance, "totals", "total_bytes", "header-bytes", stats->s_hdrbytes);
 		/* Total body byte */
 		varnish_submit_derive (conf->instance, "totals", "total_bytes", "body-bytes",   stats->s_bodybytes);
+#endif
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
+		/* Gzip operations */
+		varnish_submit_derive (conf->instance, "totals", "total_operations", "gzip",    stats->n_gzip);
+		/* Gunzip operations */
+		varnish_submit_derive (conf->instance, "totals", "total_operations", "gunzip",  stats->n_gunzip);
+#endif
 	}
 
-#ifdef HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 	if (conf->collect_uptime)
 	{
 		/* Client uptime */
 		varnish_submit_gauge (conf->instance, "uptime", "uptime", "client_uptime", stats->uptime);
 	}
 #endif
@@ -434,41 +516,77 @@
 		/* N vcl total     */
 		varnish_submit_gauge (conf->instance, "vcl", "vcl", "total_vcl",     stats->n_vcl);
 		/* N vcl available */
 		varnish_submit_gauge (conf->instance, "vcl", "vcl", "avail_vcl",     stats->n_vcl_avail);
 		/* N vcl discarded */
 		varnish_submit_gauge (conf->instance, "vcl", "vcl", "discarded_vcl", stats->n_vcl_discard);
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
+		/* Loaded VMODs */
+		varnish_submit_gauge (conf->instance, "vcl", "objects", "vmod",      stats->vmods);
+#endif
 	}
 
 	if (conf->collect_workers)
 	{
+#ifdef HAVE_VARNISH_V4
+		/* total number of threads */
+		varnish_submit_gauge (conf->instance, "workers", "threads", "worker",             stats->threads);
+		/* threads created */
+		varnish_submit_derive (conf->instance, "workers", "total_threads", "created",     stats->threads_created);
+		/* thread creation failed */
+		varnish_submit_derive (conf->instance, "workers", "total_threads", "failed",      stats->threads_failed);
+		/* threads hit max */
+		varnish_submit_derive (conf->instance, "workers", "total_threads", "limited",     stats->threads_limited);
+		/* threads destroyed */
+		varnish_submit_derive (conf->instance, "workers", "total_threads", "dropped",     stats->threads_destroyed);
+		/* length of session queue */
+		varnish_submit_derive (conf->instance, "workers", "queue_length",  "threads",     stats->thread_queue_len);
+#else
 		/* worker threads */
 		varnish_submit_gauge (conf->instance, "workers", "threads", "worker",             stats->n_wrk);
 		/* worker threads created */
 		varnish_submit_derive (conf->instance, "workers", "total_threads", "created",     stats->n_wrk_create);
 		/* worker threads not created */
 		varnish_submit_derive (conf->instance, "workers", "total_threads", "failed",      stats->n_wrk_failed);
 		/* worker threads limited */
 		varnish_submit_derive (conf->instance, "workers", "total_threads", "limited",     stats->n_wrk_max);
 		/* dropped work requests */
-		varnish_submit_derive (conf->instance, "workers", "total_requests", "dropped",    stats->n_wrk_drop);
+		varnish_submit_derive (conf->instance, "workers", "total_threads", "dropped",     stats->n_wrk_drop);
 #ifdef HAVE_VARNISH_V2
 		/* queued work requests */
 		varnish_submit_derive (conf->instance, "workers", "total_requests", "queued",     stats->n_wrk_queue);
 		/* overflowed work requests */
 		varnish_submit_derive (conf->instance, "workers", "total_requests", "overflowed", stats->n_wrk_overflow);
-#else
+#else /* HAVE_VARNISH_V3 */
 		/* queued work requests */
 		varnish_submit_derive (conf->instance, "workers", "total_requests", "queued",       stats->n_wrk_queued);
 		/* work request queue length */
 		varnish_submit_derive (conf->instance, "workers", "total_requests", "queue_length", stats->n_wrk_lqueue);
 #endif
+#endif
+	}
+
+#if HAVE_VARNISH_V4
+	if (conf->collect_vsm)
+	{
+		/* Free VSM space */
+		varnish_submit_gauge (conf->instance, "vsm", "bytes", "free",              stats->vsm_free);
+		/* Used VSM space */
+		varnish_submit_gauge (conf->instance, "vsm", "bytes", "used",              stats->vsm_used);
+		/* Cooling VSM space */
+		varnish_submit_gauge (conf->instance, "vsm", "bytes", "cooling",           stats->vsm_cooling);
+		/* Overflow VSM space */
+		varnish_submit_gauge (conf->instance, "vsm", "bytes", "overflow",          stats->vsm_overflow);
+		/* Total overflowed VSM space */
+		varnish_submit_derive (conf->instance, "vsm", "total_bytes", "overflowed", stats->vsm_overflowed);
 	}
+#endif
+
 } /* }}} void varnish_monitor */
 
-#if HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 static int varnish_read (user_data_t *ud) /* {{{ */
 {
 	struct VSM_data *vd;
 	const c_varnish_stats_t *stats;
 
 	user_config_t *conf;
@@ -476,13 +594,15 @@
 	if ((ud == NULL) || (ud->data == NULL))
 		return (EINVAL);
 
 	conf = ud->data;
 
 	vd = VSM_New();
+#if HAVE_VARNISH_V3
 	VSC_Setup(vd);
+#endif
 
 	if (conf->instance != NULL)
 	{
 		int status;
 
 		status = VSM_n_Arg (vd, conf->instance);
@@ -492,23 +612,31 @@
 					"with status %i.",
 					conf->instance, status);
 			return (-1);
 		}
 	}
 
+#if HAVE_VARNISH_V3
 	if (VSC_Open (vd, /* diag = */ 1))
+#else /* if HAVE_VARNISH_V4 */
+	if (VSM_Open (vd))
+#endif
 	{
 		ERROR ("varnish plugin: Unable to load statistics.");
 
 		return (-1);
 	}
 
+#if HAVE_VARNISH_V3
 	stats = VSC_Main(vd);
+#else /* if HAVE_VARNISH_V4 */
+	stats = VSC_Main(vd, NULL);
+#endif
 
 	varnish_monitor (conf, stats);
-	VSM_Delete (vd);
+	VSM_Close (vd);
 
 	return (0);
 } /* }}} */
 #else /* if HAVE_VARNISH_V2 */
 static int varnish_read (user_data_t *ud) /* {{{ */
 {
@@ -572,17 +700,20 @@
 	conf->collect_sm          = 0;
 	conf->collect_sma         = 0;
 #endif
 	conf->collect_sms         = 0;
 	conf->collect_struct      = 0;
 	conf->collect_totals      = 0;
-#ifdef HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 	conf->collect_uptime      = 0;
 #endif
 	conf->collect_vcl         = 0;
 	conf->collect_workers     = 0;
+#if HAVE_VARNISH_V4
+	conf->collect_vsm         = 0;
+#endif
 
 	return (0);
 } /* }}} int varnish_config_apply_default */
 
 static int varnish_init (void) /* {{{ */
 {
@@ -648,13 +779,12 @@
 		}
 	}
 	else if (ci->values_num > 1)
 	{
 		WARNING ("Varnish plugin: \"Instance\" blocks accept only "
 				"one argument.");
-		sfree (conf);
 		return (EINVAL);
 	}
 
 	for (i = 0; i < ci->children_num; i++)
 	{
 		oconfig_item_t *child = ci->children + i;
@@ -697,20 +827,24 @@
 			cf_util_get_boolean (child, &conf->collect_sm);
 #endif
 		else if (strcasecmp ("CollectStruct", child->key) == 0)
 			cf_util_get_boolean (child, &conf->collect_struct);
 		else if (strcasecmp ("CollectTotals", child->key) == 0)
 			cf_util_get_boolean (child, &conf->collect_totals);
-#ifdef HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 		else if (strcasecmp ("CollectUptime", child->key) == 0)
 			cf_util_get_boolean (child, &conf->collect_uptime);
 #endif
 		else if (strcasecmp ("CollectVCL", child->key) == 0)
 			cf_util_get_boolean (child, &conf->collect_vcl);
 		else if (strcasecmp ("CollectWorkers", child->key) == 0)
 			cf_util_get_boolean (child, &conf->collect_workers);
+#if HAVE_VARNISH_V4
+		else if (strcasecmp ("CollectVSM", child->key) == 0)
+			cf_util_get_boolean (child, &conf->collect_vsm);
+#endif
 		else
 		{
 			WARNING ("Varnish plugin: Ignoring unknown "
 					"configuration option: \"%s\". Did "
 					"you forget to add an <Instance /> "
 					"block around the configuration?",
@@ -739,22 +873,25 @@
 #if HAVE_VARNISH_V2
 			&& !conf->collect_sma
 			&& !conf->collect_sm
 #endif
 			&& !conf->collect_struct
 			&& !conf->collect_totals
-#ifdef HAVE_VARNISH_V3
+#if HAVE_VARNISH_V3 || HAVE_VARNISH_V4
 			&& !conf->collect_uptime
 #endif
 			&& !conf->collect_vcl
-			&& !conf->collect_workers)
+			&& !conf->collect_workers
+#if HAVE_VARNISH_V4
+			&& !conf->collect_vsm
+#endif
+	)
 	{
 		WARNING ("Varnish plugin: No metric has been configured for "
 				"instance \"%s\". Disabling this instance.",
 				(conf->instance == NULL) ? "localhost" : conf->instance);
-		sfree (conf);
 		return (EINVAL);
 	}
 
 	ssnprintf (callback_name, sizeof (callback_name), "varnish/%s",
 			(conf->instance == NULL) ? "localhost" : conf->instance);
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: virt.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/vmem.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/vmem.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/vmem.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/vmem.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,22 +1,27 @@
 /**
  * collectd - src/vmem.c
  * Copyright (C) 2008-2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
@@ -147,22 +152,14 @@
      *
      * The total number of {inst} pages, e. g dirty pages.
      */
     if (strncmp ("nr_", key, strlen ("nr_")) == 0)
     {
       char *inst = key + strlen ("nr_");
-      if (strcmp(inst, "dirtied") == 0 || strcmp(inst, "written") == 0)
-      {
-        value_t value = { .derive = counter };
-        submit_one (NULL, "vmpage_action", inst, value);
-      }
-      else
-      {
-        value_t value = { .gauge = gauge };
-        submit_one (NULL, "vmpage_number", inst, value);
-      }
+      value_t value = { .gauge = gauge };
+      submit_one (NULL, "vmpage_number", inst, value);
     }
 
     /* 
      * Page in and page outs. For memory and swap.
      */
     else if (strcmp ("pgpgin", key) == 0)
@@ -219,25 +216,12 @@
     else if (strncmp ("pgrefill_", key, strlen ("pgrefill_")) == 0)
     {
       char *inst = key + strlen ("pgrefill_");
       value_t value  = { .derive = counter };
       submit_one (inst, "vmpage_action", "refill", value);
     }
-    else if (strncmp ("pgsteal_kswapd_", key, strlen ("pgsteal_kswapd_")) == 0)
-    {
-      char *inst = key + strlen ("pgsteal_kswapd_");
-      value_t value  = { .derive = counter };
-      submit_one (inst, "vmpage_action", "steal_kswapd", value);
-    }
-    else if (strncmp ("pgsteal_direct_", key, strlen ("pgsteal_direct_")) == 0)
-    {
-      char *inst = key + strlen ("pgsteal_direct_");
-      value_t value  = { .derive = counter };
-      submit_one (inst, "vmpage_action", "steal_direct", value);
-    }
-    /* For backwards compatibility (somewhen before 4.2.3) */
     else if (strncmp ("pgsteal_", key, strlen ("pgsteal_")) == 0)
     {
       char *inst = key + strlen ("pgsteal_");
       value_t value  = { .derive = counter };
       submit_one (inst, "vmpage_action", "steal", value);
     }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/vserver.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/vserver.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/vserver.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/vserver.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,27 +1,32 @@
 /**
  * collectd - src/vserver.c
  * Copyright (C) 2006,2007  Sebastian Harl
  * Copyright (C) 2007-2010  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the license is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/wireless.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/wireless.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/wireless.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/wireless.c	2015-03-10 22:14:45.857114762 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/wireless.c
  * Copyright (C) 2006,2007  Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
- * Author:
- *   Florian octo Forster <octo at verplant.org>
+ * Authors:
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_graphite.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_graphite.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_graphite.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_graphite.c	2015-03-10 22:14:45.857114762 +0800
@@ -46,13 +46,12 @@
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
 #include "utils_cache.h"
 #include "utils_complain.h"
-#include "utils_parse_option.h"
 #include "utils_format_graphite.h"
 
 /* Folks without pthread will need to disable this plugin. */
 #include <pthread.h>
 
 #include <sys/socket.h>
@@ -80,12 +79,16 @@
 
 /* Ethernet - (IPv6 + TCP) = 1500 - (40 + 32) = 1428 */
 #ifndef WG_SEND_BUF_SIZE
 # define WG_SEND_BUF_SIZE 1428
 #endif
 
+#ifndef WG_MIN_RECONNECT_INTERVAL
+# define WG_MIN_RECONNECT_INTERVAL TIME_T_TO_CDTIME_T (1)
+#endif
+
 /*
  * Private variables
  */
 struct wg_callback
 {
     int      sock_fd;
@@ -106,12 +109,13 @@
     size_t   send_buf_free;
     size_t   send_buf_fill;
     cdtime_t send_buf_init_time;
 
     pthread_mutex_t send_lock;
     c_complain_t init_complaint;
+    cdtime_t last_connect_time;
 };
 
 
 /*
  * Functions
  */
@@ -125,13 +129,13 @@
 
 static int wg_send_buffer (struct wg_callback *cb)
 {
     ssize_t status = 0;
 
     status = swrite (cb->sock_fd, cb->send_buf, strlen (cb->send_buf));
-    if (status != 0)
+    if (status < 0)
     {
         const char *protocol = cb->protocol ? cb->protocol : WG_DEFAULT_PROTOCOL;
 
         if (cb->log_send_errors)
         {
             char errbuf[1024];
@@ -183,23 +187,31 @@
 
 static int wg_callback_init (struct wg_callback *cb)
 {
     struct addrinfo ai_hints;
     struct addrinfo *ai_list;
     struct addrinfo *ai_ptr;
+    cdtime_t now;
     int status;
 
     const char *node = cb->node ? cb->node : WG_DEFAULT_NODE;
     const char *service = cb->service ? cb->service : WG_DEFAULT_SERVICE;
     const char *protocol = cb->protocol ? cb->protocol : WG_DEFAULT_PROTOCOL;
 
     char connerr[1024] = "";
 
     if (cb->sock_fd > 0)
         return (0);
 
+    /* Don't try to reconnect too often. By default, one reconnection attempt
+     * is made per second. */
+    now = cdtime ();
+    if ((now - cb->last_connect_time) < WG_MIN_RECONNECT_INTERVAL)
+        return (EAGAIN);
+    cb->last_connect_time = now;
+
     memset (&ai_hints, 0, sizeof (ai_hints));
 #ifdef AI_ADDRCONFIG
     ai_hints.ai_flags |= AI_ADDRCONFIG;
 #endif
     ai_hints.ai_family = AF_UNSPEC;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_http.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_http.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_http.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_http.c	2015-05-20 20:04:47.191035542 +0800
@@ -1,11 +1,11 @@
 /**
  * collectd - src/write_http.c
  * Copyright (C) 2009       Paul Sadauskas
  * Copyright (C) 2009       Doug MacEachern
- * Copyright (C) 2007-2009  Florian octo Forster
+ * Copyright (C) 2007-2014  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -15,66 +15,78 @@
  *
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  *   Doug MacEachern <dougm@hyperic.com>
  *   Paul Sadauskas <psadauskas@gmail.com>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 #include "utils_cache.h"
-#include "utils_parse_option.h"
 #include "utils_format_json.h"
 
 #if HAVE_PTHREAD_H
 # include <pthread.h>
 #endif
 
 #include <curl/curl.h>
 
+#ifndef WRITE_HTTP_DEFAULT_BUFFER_SIZE
+# define WRITE_HTTP_DEFAULT_BUFFER_SIZE 4096
+#endif
+
 /*
  * Private variables
  */
 struct wh_callback_s
 {
-        char *location;
+        char *name;
 
+        char *location;
         char *user;
         char *pass;
         char *credentials;
-        int   verify_peer;
-        int   verify_host;
+        _Bool verify_peer;
+        _Bool verify_host;
         char *cacert;
-        int   store_rates;
+        char *capath;
+        char *clientkey;
+        char *clientcert;
+        char *clientkeypass;
+        long sslversion;
+        _Bool store_rates;
+        int   low_speed_limit;
+        time_t low_speed_time;
+        int timeout;
 
 #define WH_FORMAT_COMMAND 0
 #define WH_FORMAT_JSON    1
         int format;
 
         CURL *curl;
-        struct curl_slist *headers;
         char curl_errbuf[CURL_ERROR_SIZE];
 
-        char   send_buffer[4096];
+        char  *send_buffer;
+        size_t send_buffer_size;
         size_t send_buffer_free;
         size_t send_buffer_fill;
         cdtime_t send_buffer_init_time;
 
         pthread_mutex_t send_lock;
 };
 typedef struct wh_callback_s wh_callback_t;
 
 static void wh_reset_buffer (wh_callback_t *cb)  /* {{{ */
 {
-        memset (cb->send_buffer, 0, sizeof (cb->send_buffer));
-        cb->send_buffer_free = sizeof (cb->send_buffer);
+        memset (cb->send_buffer, 0, cb->send_buffer_size);
+        cb->send_buffer_free = cb->send_buffer_size;
         cb->send_buffer_fill = 0;
         cb->send_buffer_init_time = cdtime ();
 
         if (cb->format == WH_FORMAT_JSON)
         {
                 format_json_initialize (cb->send_buffer,
@@ -97,39 +109,61 @@
         }
         return (status);
 } /* }}} wh_send_buffer */
 
 static int wh_callback_init (wh_callback_t *cb) /* {{{ */
 {
+        struct curl_slist *headers;
+
         if (cb->curl != NULL)
                 return (0);
 
         cb->curl = curl_easy_init ();
         if (cb->curl == NULL)
         {
                 ERROR ("curl plugin: curl_easy_init failed.");
                 return (-1);
         }
 
+        if (cb->low_speed_limit > 0 && cb->low_speed_time > 0)
+        {
+                curl_easy_setopt (cb->curl, CURLOPT_LOW_SPEED_LIMIT,
+                                  (long) (cb->low_speed_limit * cb->low_speed_time));
+                curl_easy_setopt (cb->curl, CURLOPT_LOW_SPEED_TIME,
+                                  (long) cb->low_speed_time);
+        }
+
+#ifdef HAVE_CURLOPT_TIMEOUT_MS
+        if (cb->timeout > 0)
+                curl_easy_setopt (cb->curl, CURLOPT_TIMEOUT_MS, (long) cb->timeout);
+#endif
+
         curl_easy_setopt (cb->curl, CURLOPT_NOSIGNAL, 1L);
-        curl_easy_setopt (cb->curl, CURLOPT_USERAGENT, PACKAGE_NAME"/"PACKAGE_VERSION);
+        curl_easy_setopt (cb->curl, CURLOPT_USERAGENT, COLLECTD_USERAGENT);
 
-        cb->headers = NULL;
-        cb->headers = curl_slist_append (cb->headers, "Accept:  */*");
+        headers = NULL;
+        headers = curl_slist_append (headers, "Accept:  */*");
         if (cb->format == WH_FORMAT_JSON)
-                cb->headers = curl_slist_append (cb->headers, "Content-Type: application/json");
+                headers = curl_slist_append (headers, "Content-Type: application/json");
         else
-                cb->headers = curl_slist_append (cb->headers, "Content-Type: text/plain");
-        cb->headers = curl_slist_append (cb->headers, "Expect:");
-        curl_easy_setopt (cb->curl, CURLOPT_HTTPHEADER, cb->headers);
+                headers = curl_slist_append (headers, "Content-Type: text/plain");
+        headers = curl_slist_append (headers, "Expect:");
+        curl_easy_setopt (cb->curl, CURLOPT_HTTPHEADER, headers);
 
         curl_easy_setopt (cb->curl, CURLOPT_ERRORBUFFER, cb->curl_errbuf);
         curl_easy_setopt (cb->curl, CURLOPT_URL, cb->location);
+        curl_easy_setopt (cb->curl, CURLOPT_FOLLOWLOCATION, 1L);
+        curl_easy_setopt (cb->curl, CURLOPT_MAXREDIRS, 50L);
 
         if (cb->user != NULL)
         {
+#ifdef HAVE_CURLOPT_USERNAME
+                curl_easy_setopt (cb->curl, CURLOPT_USERNAME, cb->user);
+                curl_easy_setopt (cb->curl, CURLOPT_PASSWORD,
+                        (cb->pass == NULL) ? "" : cb->pass);
+#else
                 size_t credentials_size;
 
                 credentials_size = strlen (cb->user) + 2;
                 if (cb->pass != NULL)
                         credentials_size += strlen (cb->pass);
 
@@ -140,20 +174,33 @@
                         return (-1);
                 }
 
                 ssnprintf (cb->credentials, credentials_size, "%s:%s",
                                 cb->user, (cb->pass == NULL) ? "" : cb->pass);
                 curl_easy_setopt (cb->curl, CURLOPT_USERPWD, cb->credentials);
+#endif
                 curl_easy_setopt (cb->curl, CURLOPT_HTTPAUTH, CURLAUTH_ANY);
         }
 
         curl_easy_setopt (cb->curl, CURLOPT_SSL_VERIFYPEER, (long) cb->verify_peer);
         curl_easy_setopt (cb->curl, CURLOPT_SSL_VERIFYHOST,
                         cb->verify_host ? 2L : 0L);
+        curl_easy_setopt (cb->curl, CURLOPT_SSLVERSION, cb->sslversion);
         if (cb->cacert != NULL)
                 curl_easy_setopt (cb->curl, CURLOPT_CAINFO, cb->cacert);
+        if (cb->capath != NULL)
+                curl_easy_setopt (cb->curl, CURLOPT_CAPATH, cb->capath);
+
+        if (cb->clientkey != NULL && cb->clientcert != NULL)
+        {
+            curl_easy_setopt (cb->curl, CURLOPT_SSLKEY, cb->clientkey);
+            curl_easy_setopt (cb->curl, CURLOPT_SSLCERT, cb->clientcert);
+
+            if (cb->clientkeypass != NULL)
+                curl_easy_setopt (cb->curl, CURLOPT_SSLKEYPASSWD, cb->clientkeypass);
+        }
 
         wh_reset_buffer (cb);
 
         return (0);
 } /* }}} int wh_callback_init */
 
@@ -259,25 +306,28 @@
                 return;
 
         cb = data;
 
         wh_flush_nolock (/* timeout = */ 0, cb);
 
-        curl_easy_cleanup (cb->curl);
-
-        if (cb->headers != NULL)
+        if (cb->curl != NULL)
         {
-                curl_slist_free_all (cb->headers);
-                cb->headers = NULL;
+                curl_easy_cleanup (cb->curl);
+                cb->curl = NULL;
         }
-
+        sfree (cb->name);
         sfree (cb->location);
         sfree (cb->user);
         sfree (cb->pass);
         sfree (cb->credentials);
         sfree (cb->cacert);
+        sfree (cb->capath);
+        sfree (cb->clientkey);
+        sfree (cb->clientcert);
+        sfree (cb->clientkeypass);
+        sfree (cb->send_buffer);
 
         sfree (cb);
 } /* }}} void wh_callback_free */
 
 static int wh_write_command (const data_set_t *ds, const value_list_t *vl, /* {{{ */
                 wh_callback_t *cb)
@@ -353,14 +403,14 @@
                         command, command_len + 1);
         cb->send_buffer_fill += command_len;
         cb->send_buffer_free -= command_len;
 
         DEBUG ("write_http plugin: <%s> buffer %zu/%zu (%g%%) \"%s\"",
                         cb->location,
-                        cb->send_buffer_fill, sizeof (cb->send_buffer),
-                        100.0 * ((double) cb->send_buffer_fill) / ((double) sizeof (cb->send_buffer)),
+                        cb->send_buffer_fill, cb->send_buffer_size,
+                        100.0 * ((double) cb->send_buffer_fill) / ((double) cb->send_buffer_size),
                         command);
 
         /* Check if we have enough space for this command. */
         pthread_mutex_unlock (&cb->send_lock);
 
         return (0);
@@ -408,14 +458,14 @@
                 pthread_mutex_unlock (&cb->send_lock);
                 return (status);
         }
 
         DEBUG ("write_http plugin: <%s> buffer %zu/%zu (%g%%)",
                         cb->location,
-                        cb->send_buffer_fill, sizeof (cb->send_buffer),
-                        100.0 * ((double) cb->send_buffer_fill) / ((double) sizeof (cb->send_buffer)));
+                        cb->send_buffer_fill, cb->send_buffer_size,
+                        100.0 * ((double) cb->send_buffer_fill) / ((double) cb->send_buffer_size));
 
         /* Check if we have enough space for this command. */
         pthread_mutex_unlock (&cb->send_lock);
 
         return (0);
 } /* }}} int wh_write_json */
@@ -436,53 +486,12 @@
         else
                 status = wh_write_command (ds, vl, cb);
 
         return (status);
 } /* }}} int wh_write */
 
-static int config_set_string (char **ret_string, /* {{{ */
-                oconfig_item_t *ci)
-{
-        char *string;
-
-        if ((ci->values_num != 1)
-                        || (ci->values[0].type != OCONFIG_TYPE_STRING))
-        {
-                WARNING ("write_http plugin: The `%s' config option "
-                                "needs exactly one string argument.", ci->key);
-                return (-1);
-        }
-
-        string = strdup (ci->values[0].value.string);
-        if (string == NULL)
-        {
-                ERROR ("write_http plugin: strdup failed.");
-                return (-1);
-        }
-
-        if (*ret_string != NULL)
-                free (*ret_string);
-        *ret_string = string;
-
-        return (0);
-} /* }}} int config_set_string */
-
-static int config_set_boolean (int *dest, oconfig_item_t *ci) /* {{{ */
-{
-        if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_BOOLEAN))
-        {
-                WARNING ("write_http plugin: The `%s' config option "
-                                "needs exactly one boolean argument.", ci->key);
-                return (-1);
-        }
-
-        *dest = ci->values[0].value.boolean ? 1 : 0;
-
-        return (0);
-} /* }}} int config_set_boolean */
-
 static int config_set_format (wh_callback_t *cb, /* {{{ */
                 oconfig_item_t *ci)
 {
         char *string;
 
         if ((ci->values_num != 1)
@@ -503,96 +512,175 @@
                 ERROR ("write_http plugin: Invalid format string: %s",
                                 string);
                 return (-1);
         }
 
         return (0);
-} /* }}} int config_set_string */
+} /* }}} int config_set_format */
 
-static int wh_config_url (oconfig_item_t *ci) /* {{{ */
+static int wh_config_node (oconfig_item_t *ci) /* {{{ */
 {
         wh_callback_t *cb;
+        int buffer_size = 0;
         user_data_t user_data;
         char callback_name[DATA_MAX_NAME_LEN];
         int i;
 
         cb = malloc (sizeof (*cb));
         if (cb == NULL)
         {
                 ERROR ("write_http plugin: malloc failed.");
                 return (-1);
         }
         memset (cb, 0, sizeof (*cb));
-        cb->location = NULL;
-        cb->user = NULL;
-        cb->pass = NULL;
-        cb->credentials = NULL;
         cb->verify_peer = 1;
         cb->verify_host = 1;
-        cb->cacert = NULL;
         cb->format = WH_FORMAT_COMMAND;
-        cb->curl = NULL;
-        cb->headers = NULL;
+        cb->sslversion = CURL_SSLVERSION_DEFAULT;
+        cb->low_speed_limit = 0;
+        cb->timeout = 0;
 
         pthread_mutex_init (&cb->send_lock, /* attr = */ NULL);
 
-        config_set_string (&cb->location, ci);
-        if (cb->location == NULL)
-                return (-1);
+        cf_util_get_string (ci, &cb->name);
+
+        /* FIXME: Remove this legacy mode in version 6. */
+        if (strcasecmp ("URL", ci->key) == 0)
+                cf_util_get_string (ci, &cb->location);
 
         for (i = 0; i < ci->children_num; i++)
         {
                 oconfig_item_t *child = ci->children + i;
 
-                if (strcasecmp ("User", child->key) == 0)
-                        config_set_string (&cb->user, child);
+                if (strcasecmp ("URL", child->key) == 0)
+                        cf_util_get_string (child, &cb->location);
+                else if (strcasecmp ("User", child->key) == 0)
+                        cf_util_get_string (child, &cb->user);
                 else if (strcasecmp ("Password", child->key) == 0)
-                        config_set_string (&cb->pass, child);
+                        cf_util_get_string (child, &cb->pass);
                 else if (strcasecmp ("VerifyPeer", child->key) == 0)
-                        config_set_boolean (&cb->verify_peer, child);
+                        cf_util_get_boolean (child, &cb->verify_peer);
                 else if (strcasecmp ("VerifyHost", child->key) == 0)
-                        config_set_boolean (&cb->verify_host, child);
+                        cf_util_get_boolean (child, &cb->verify_host);
                 else if (strcasecmp ("CACert", child->key) == 0)
-                        config_set_string (&cb->cacert, child);
+                        cf_util_get_string (child, &cb->cacert);
+                else if (strcasecmp ("CAPath", child->key) == 0)
+                        cf_util_get_string (child, &cb->capath);
+                else if (strcasecmp ("ClientKey", child->key) == 0)
+                        cf_util_get_string (child, &cb->clientkey);
+                else if (strcasecmp ("ClientCert", child->key) == 0)
+                        cf_util_get_string (child, &cb->clientcert);
+                else if (strcasecmp ("ClientKeyPass", child->key) == 0)
+                        cf_util_get_string (child, &cb->clientkeypass);
+                else if (strcasecmp ("SSLVersion", child->key) == 0)
+                {
+                        char *value = NULL;
+
+                        cf_util_get_string (child, &value);
+
+                        if (value == NULL || strcasecmp ("default", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_DEFAULT;
+                        else if (strcasecmp ("SSLv2", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_SSLv2;
+                        else if (strcasecmp ("SSLv3", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_SSLv3;
+                        else if (strcasecmp ("TLSv1", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_TLSv1;
+#if (LIBCURL_VERSION_MAJOR > 7) || (LIBCURL_VERSION_MAJOR == 7 && LIBCURL_VERSION_MINOR >= 34)
+                        else if (strcasecmp ("TLSv1_0", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_TLSv1_0;
+                        else if (strcasecmp ("TLSv1_1", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_TLSv1_1;
+                        else if (strcasecmp ("TLSv1_2", value) == 0)
+                                cb->sslversion = CURL_SSLVERSION_TLSv1_2;
+#endif
+                        else
+                                ERROR ("write_http plugin: Invalid SSLVersion "
+                                                "option: %s.", value);
+
+                        sfree(value);
+                }
                 else if (strcasecmp ("Format", child->key) == 0)
                         config_set_format (cb, child);
                 else if (strcasecmp ("StoreRates", child->key) == 0)
-                        config_set_boolean (&cb->store_rates, child);
+                        cf_util_get_boolean (child, &cb->store_rates);
+                else if (strcasecmp ("BufferSize", child->key) == 0)
+                        cf_util_get_int (child, &buffer_size);
+                else if (strcasecmp ("LowSpeedLimit", child->key) == 0)
+                        cf_util_get_int (child, &cb->low_speed_limit);
+                else if (strcasecmp ("Timeout", child->key) == 0)
+                        cf_util_get_int (child, &cb->timeout);
                 else
                 {
                         ERROR ("write_http plugin: Invalid configuration "
                                         "option: %s.", child->key);
                 }
         }
 
+        if (cb->location == NULL)
+        {
+                ERROR ("write_http plugin: no URL defined for instance '%s'",
+                        cb->name);
+                wh_callback_free (cb);
+                return (-1);
+        }
+
+        if (cb->low_speed_limit > 0)
+                cb->low_speed_time = CDTIME_T_TO_TIME_T(plugin_get_interval());
+
+        /* Determine send_buffer_size. */
+        cb->send_buffer_size = WRITE_HTTP_DEFAULT_BUFFER_SIZE;
+        if (buffer_size >= 1024)
+                cb->send_buffer_size = (size_t) buffer_size;
+        else if (buffer_size != 0)
+                ERROR ("write_http plugin: Ignoring invalid BufferSize setting (%d).",
+                                buffer_size);
+
+        /* Allocate the buffer. */
+        cb->send_buffer = malloc (cb->send_buffer_size);
+        if (cb->send_buffer == NULL)
+        {
+                ERROR ("write_http plugin: malloc(%zu) failed.", cb->send_buffer_size);
+                wh_callback_free (cb);
+                return (-1);
+        }
+        /* Nulls the buffer and sets ..._free and ..._fill. */
+        wh_reset_buffer (cb);
+
         ssnprintf (callback_name, sizeof (callback_name), "write_http/%s",
-                        cb->location);
+                        cb->name);
         DEBUG ("write_http: Registering write callback '%s' with URL '%s'",
                         callback_name, cb->location);
 
         memset (&user_data, 0, sizeof (user_data));
         user_data.data = cb;
         user_data.free_func = NULL;
         plugin_register_flush (callback_name, wh_flush, &user_data);
 
         user_data.free_func = wh_callback_free;
         plugin_register_write (callback_name, wh_write, &user_data);
 
         return (0);
-} /* }}} int wh_config_url */
+} /* }}} int wh_config_node */
 
 static int wh_config (oconfig_item_t *ci) /* {{{ */
 {
         int i;
 
         for (i = 0; i < ci->children_num; i++)
         {
                 oconfig_item_t *child = ci->children + i;
 
-                if (strcasecmp ("URL", child->key) == 0)
-                        wh_config_url (child);
+                if (strcasecmp ("Node", child->key) == 0)
+                        wh_config_node (child);
+                /* FIXME: Remove this legacy mode in version 6. */
+                else if (strcasecmp ("URL", child->key) == 0) {
+                        WARNING ("write_http plugin: Legacy <URL> block found. "
+                                "Please use <Node> instead.");
+                        wh_config_node (child);
+                }
                 else
                 {
                         ERROR ("write_http plugin: Invalid configuration "
                                         "option: %s.", child->key);
                 }
         }
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: write_kafka.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: write_log.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_redis.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_redis.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_redis.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_redis.c	2015-05-27 02:40:18.593715038 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/write_redis.c
- * Copyright (C) 2010  Florian Forster
+ * Copyright (C) 2010       Florian Forster
  *
  * Permission is hereby granted, free of charge, to any person obtaining a
  * copy of this software and associated documentation files (the "Software"),
  * to deal in the Software without restriction, including without limitation
  * the rights to use, copy, modify, merge, publish, distribute, sublicense,
  * and/or sell copies of the Software, and to permit persons to whom the
@@ -27,23 +27,24 @@
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 #include "configfile.h"
 
 #include <pthread.h>
-#include <credis.h>
+#include <sys/time.h>
+#include <hiredis/hiredis.h>
 
 struct wr_node_s
 {
   char name[DATA_MAX_NAME_LEN];
 
   char *host;
   int port;
-  int timeout;
+  struct timeval timeout;
 
-  REDIS conn;
+  redisContext *conn;
   pthread_mutex_t lock;
 };
 typedef struct wr_node_s wr_node_t;
 
 /*
  * Functions
@@ -53,50 +54,92 @@
     user_data_t *ud)
 {
   wr_node_t *node = ud->data;
   char ident[512];
   char key[512];
   char value[512];
+  char time[24];
   size_t value_size;
   char *value_ptr;
   int status;
+  redisReply   *rr;
+  int i;
 
   status = FORMAT_VL (ident, sizeof (ident), vl);
   if (status != 0)
     return (status);
   ssnprintf (key, sizeof (key), "collectd/%s", ident);
+  ssnprintf (time, sizeof (time), "%.9f", CDTIME_T_TO_DOUBLE(vl->time));
 
   memset (value, 0, sizeof (value));
   value_size = sizeof (value);
   value_ptr = &value[0];
 
-  status = format_values (value_ptr, value_size, ds, vl, /* store rates = */ 0);
-  if (status != 0)
-    return (status);
+#define APPEND(...) do {                                             \
+  status = snprintf (value_ptr, value_size, __VA_ARGS__);            \
+  if (((size_t) status) > value_size)                                \
+  {                                                                  \
+    value_ptr += value_size;                                         \
+    value_size = 0;                                                  \
+  }                                                                  \
+  else                                                               \
+  {                                                                  \
+    value_ptr += status;                                             \
+    value_size -= status;                                            \
+  }                                                                  \
+} while (0)
+
+  APPEND ("%s:", time);
+
+  for (i = 0; i < ds->ds_num; i++)
+  {
+    if (ds->ds[i].type == DS_TYPE_COUNTER)
+      APPEND ("%llu", vl->values[i].counter);
+    else if (ds->ds[i].type == DS_TYPE_GAUGE)
+      APPEND (GAUGE_FORMAT, vl->values[i].gauge);
+    else if (ds->ds[i].type == DS_TYPE_DERIVE)
+      APPEND ("%"PRIi64, vl->values[i].derive);
+    else if (ds->ds[i].type == DS_TYPE_ABSOLUTE)
+      APPEND ("%"PRIu64, vl->values[i].absolute);
+    else
+      assert (23 == 42);
+  }
+
+#undef APPEND
 
   pthread_mutex_lock (&node->lock);
 
   if (node->conn == NULL)
   {
-    node->conn = credis_connect (node->host, node->port, node->timeout);
+    node->conn = redisConnectWithTimeout ((char *)node->host, node->port, node->timeout);
     if (node->conn == NULL)
     {
-      ERROR ("write_redis plugin: Connecting to host \"%s\" (port %i) failed.",
+      ERROR ("write_redis plugin: Connecting to host \"%s\" (port %i) failed: Unkown reason",
           (node->host != NULL) ? node->host : "localhost",
           (node->port != 0) ? node->port : 6379);
       pthread_mutex_unlock (&node->lock);
       return (-1);
     }
+    else if (node->conn->err)
+    {
+      ERROR ("write_redis plugin: Connecting to host \"%s\" (port %i) failed: %s",
+          (node->host != NULL) ? node->host : "localhost",
+          (node->port != 0) ? node->port : 6379,
+          node->conn->errstr);
+      pthread_mutex_unlock (&node->lock);
+      return (-1);
+    }
   }
 
-  /* "credis_zadd" doesn't handle a NULL pointer gracefully, so I'd rather
-   * have a meaningful assertion message than a normal segmentation fault. */
-  assert (node->conn != NULL);
-  status = credis_zadd (node->conn, key, (double) vl->time, value);
-
-  credis_sadd (node->conn, "collectd/values", ident);
+  rr = redisCommand (node->conn, "ZADD %s %s %s", key, time, value);
+  if (rr==NULL)
+    WARNING("ZADD command error. key:%s message:%s", key, node->conn->errstr);
+
+  rr = redisCommand (node->conn, "SADD collectd/values %s", ident);
+  if (rr==NULL)
+    WARNING("SADD command error. ident:%s message:%s", ident, node->conn->errstr);
 
   pthread_mutex_unlock (&node->lock);
 
   return (0);
 } /* }}} int wr_write */
 
@@ -106,33 +149,35 @@
 
   if (node == NULL)
     return;
 
   if (node->conn != NULL)
   {
-    credis_close (node->conn);
+    redisFree (node->conn);
     node->conn = NULL;
   }
 
   sfree (node->host);
   sfree (node);
 } /* }}} void wr_config_free */
 
 static int wr_config_node (oconfig_item_t *ci) /* {{{ */
 {
   wr_node_t *node;
+  int timeout;
   int status;
   int i;
 
   node = malloc (sizeof (*node));
   if (node == NULL)
     return (ENOMEM);
   memset (node, 0, sizeof (*node));
   node->host = NULL;
   node->port = 0;
-  node->timeout = 1000;
+  node->timeout.tv_sec = 0;
+  node->timeout.tv_usec = 1000;
   node->conn = NULL;
   pthread_mutex_init (&node->lock, /* attr = */ NULL);
 
   status = cf_util_get_string_buffer (ci, node->name, sizeof (node->name));
   if (status != 0)
   {
@@ -152,14 +197,16 @@
       if (status > 0)
       {
         node->port = status;
         status = 0;
       }
     }
-    else if (strcasecmp ("Timeout", child->key) == 0)
-      status = cf_util_get_int (child, &node->timeout);
+    else if (strcasecmp ("Timeout", child->key) == 0) {
+      status = cf_util_get_int (child, &timeout);
+      if (status == 0) node->timeout.tv_usec = timeout;
+    }
     else
       WARNING ("write_redis plugin: Ignoring unknown config option \"%s\".",
           child->key);
 
     if (status != 0)
       break;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_riemann.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_riemann.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/write_riemann.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/write_riemann.c	2015-03-10 22:14:45.861114849 +0800
@@ -1,23 +1,28 @@
 /**
  * collectd - src/write_riemann.c
- *
  * Copyright (C) 2012,2013  Pierre-Yves Ritschard
  * Copyright (C) 2013       Florian octo Forster
  *
- * Permission to use, copy, modify, and distribute this software for any
- * purpose with or without fee is hereby granted, provided that the above
- * copyright notice and this permission notice appear in all copies.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
- * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
- * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
- * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
- * WHATSOEVER RESULTING FROM LOSS OF MIND, USE, DATA OR PROFITS, WHETHER
- * IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING
- * OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
  *   Pierre-Yves Ritschard <pyr at spootnik.org>
  *   Florian octo Forster <octo at collectd.org>
  */
 
@@ -35,31 +40,42 @@
 #include <inttypes.h>
 #include <pthread.h>
 
 #define RIEMANN_HOST		"localhost"
 #define RIEMANN_PORT		"5555"
 #define RIEMANN_TTL_FACTOR      2.0
+#define RIEMANN_BATCH_MAX      8192
+
+int write_riemann_threshold_check(const data_set_t *, const value_list_t *, int *);
 
 struct riemann_host {
 	char			*name;
-#define F_CONNECT		 0x01
+	char			*event_service_prefix;
+#define F_CONNECT	 0x01
 	uint8_t			 flags;
-	pthread_mutex_t		 lock;
+	pthread_mutex_t	 lock;
+    _Bool            batch_mode;
+	_Bool            notifications;
+	_Bool            check_thresholds;
 	_Bool			 store_rates;
 	_Bool			 always_append_ds;
 	char			*node;
 	char			*service;
 	_Bool			 use_tcp;
-	int			 s;
+	int			     s;
 	double			 ttl_factor;
-
-	int			 reference_count;
+    Msg             *batch_msg;
+    cdtime_t         batch_init;
+    int              batch_max;
+	int			     reference_count;
 };
 
 static char	**riemann_tags;
 static size_t	  riemann_tags_num;
+static char	**riemann_attrs;
+static size_t     riemann_attrs_num;
 
 static void riemann_event_protobuf_free (Event *event) /* {{{ */
 {
 	size_t i;
 
 	if (event == NULL)
@@ -145,13 +161,13 @@
 			close(host->s);
 			host->s = -1;
 			continue;
 		}
 
 		host->flags |= F_CONNECT;
-		DEBUG("write_riemann plugin: got a succesful connection for: %s:%s",
+		DEBUG("write_riemann plugin: got a successful connection for: %s:%s",
 				node, service);
 		break;
 	}
 
 	freeaddrinfo(res);
 
@@ -407,41 +423,55 @@
 	if (n->type[0] != 0)
 		riemann_event_add_attribute (event, "type", n->type);
 	if (n->type_instance[0] != 0)
 		riemann_event_add_attribute (event, "type_instance",
 				n->type_instance);
 
+	for (i = 0; i < riemann_attrs_num; i += 2)
+		riemann_event_add_attribute(event,
+					    riemann_attrs[i],
+					    riemann_attrs[i +1]);
+
 	for (i = 0; i < riemann_tags_num; i++)
 		riemann_event_add_tag (event, riemann_tags[i]);
 
 	format_name (service_buffer, sizeof (service_buffer),
 			/* host = */ "", n->plugin, n->plugin_instance,
 			n->type, n->type_instance);
 	event->service = strdup (&service_buffer[1]);
 
-	/* Pull in values from threshold */
+	if (n->message[0] != 0)
+		riemann_event_add_attribute (event, "description", n->message);
+
+	/* Pull in values from threshold and add extra attributes */
 	for (meta = n->meta; meta != NULL; meta = meta->next)
 	{
-		if (strcasecmp ("CurrentValue", meta->name) != 0)
+		if (strcasecmp ("CurrentValue", meta->name) == 0 && meta->type == NM_TYPE_DOUBLE)
+		{
+			event->metric_d = meta->nm_value.nm_double;
+			event->has_metric_d = 1;
 			continue;
+		}
 
-		event->metric_d = meta->nm_value.nm_double;
-		event->has_metric_d = 1;
-		break;
+		if (meta->type == NM_TYPE_STRING) {
+			riemann_event_add_attribute (event, meta->name, meta->nm_value.nm_string);
+			continue;
+		}
 	}
 
 	DEBUG ("write_riemann plugin: Successfully created protobuf for notification: "
 			"host = \"%s\", service = \"%s\", state = \"%s\"",
 			event->host, event->service, event->state);
 	return (msg);
 } /* }}} Msg *riemann_notification_to_protobuf */
 
 static Event *riemann_value_to_protobuf(struct riemann_host const *host, /* {{{ */
 		data_set_t const *ds,
 		value_list_t const *vl, size_t index,
-		gauge_t const *rates)
+					 gauge_t const *rates,
+					 int status)
 {
 	Event *event;
 	char name_buffer[5 * DATA_MAX_NAME_LEN];
 	char service_buffer[6 * DATA_MAX_NAME_LEN];
 	double ttl;
 	int i;
@@ -456,12 +486,29 @@
 	event__init (event);
 
 	event->host = strdup (vl->host);
 	event->time = CDTIME_T_TO_TIME_T (vl->time);
 	event->has_time = 1;
 
+	if (host->check_thresholds) {
+		switch (status) {
+			case STATE_OKAY:
+				event->state = strdup("ok");
+				break;
+			case STATE_ERROR:
+				event->state = strdup("critical");
+				break;
+			case STATE_WARNING:
+				event->state = strdup("warning");
+				break;
+			case STATE_MISSING:
+				event->state = strdup("unknown");
+				break;
+		}
+	}
+
 	ttl = CDTIME_T_TO_DOUBLE (vl->interval) * host->ttl_factor;
 	event->ttl = (float) ttl;
 	event->has_ttl = 1;
 
 	riemann_event_add_attribute (event, "plugin", vl->plugin);
 	if (vl->plugin_instance[0] != 0)
@@ -491,12 +538,17 @@
 		char ds_index[DATA_MAX_NAME_LEN];
 
 		ssnprintf (ds_index, sizeof (ds_index), "%zu", index);
 		riemann_event_add_attribute (event, "ds_index", ds_index);
 	}
 
+	for (i = 0; i < riemann_attrs_num; i += 2)
+		riemann_event_add_attribute(event,
+					    riemann_attrs[i],
+					    riemann_attrs[i +1]);
+
 	for (i = 0; i < riemann_tags_num; i++)
 		riemann_event_add_tag (event, riemann_tags[i]);
 
 	if (ds->ds[index].type == DS_TYPE_GAUGE)
 	{
 		event->has_metric_d = 1;
@@ -519,29 +571,41 @@
 	}
 
 	format_name (name_buffer, sizeof (name_buffer),
 			/* host = */ "", vl->plugin, vl->plugin_instance,
 			vl->type, vl->type_instance);
 	if (host->always_append_ds || (ds->ds_num > 1))
-		ssnprintf (service_buffer, sizeof (service_buffer),
-				"%s/%s", &name_buffer[1], ds->ds[index].name);
+	{
+		if (host->event_service_prefix == NULL)
+			ssnprintf (service_buffer, sizeof (service_buffer), "%s/%s",
+					&name_buffer[1], ds->ds[index].name);
+		else
+			ssnprintf (service_buffer, sizeof (service_buffer), "%s%s/%s",
+					host->event_service_prefix, &name_buffer[1], ds->ds[index].name);
+	}
 	else
-		sstrncpy (service_buffer, &name_buffer[1],
-				sizeof (service_buffer));
+	{
+		if (host->event_service_prefix == NULL)
+			sstrncpy (service_buffer, &name_buffer[1], sizeof (service_buffer));
+		else
+			ssnprintf (service_buffer, sizeof (service_buffer), "%s%s",
+					host->event_service_prefix, &name_buffer[1]);
+	}
 
 	event->service = strdup (service_buffer);
 
 	DEBUG ("write_riemann plugin: Successfully created protobuf for metric: "
 			"host = \"%s\", service = \"%s\"",
 			event->host, event->service);
 	return (event);
 } /* }}} Event *riemann_value_to_protobuf */
 
-static Msg *riemann_value_list_to_protobuf(struct riemann_host const *host, /* {{{ */
-		data_set_t const *ds,
-		value_list_t const *vl)
+static Msg *riemann_value_list_to_protobuf (struct riemann_host const *host, /* {{{ */
+					    data_set_t const *ds,
+					    value_list_t const *vl,
+					    int *statuses)
 {
 	Msg *msg;
 	size_t i;
 	gauge_t *rates = NULL;
 
 	/* Initialize the Msg structure. */
@@ -575,31 +639,134 @@
 		}
 	}
 
 	for (i = 0; i < msg->n_events; i++)
 	{
 		msg->events[i] = riemann_value_to_protobuf (host, ds, vl,
-				(int) i, rates);
+							    (int) i, rates, statuses[i]);
 		if (msg->events[i] == NULL)
 		{
 			riemann_msg_protobuf_free (msg);
 			sfree (rates);
 			return (NULL);
 		}
 	}
 
 	sfree (rates);
 	return (msg);
 } /* }}} Msg *riemann_value_list_to_protobuf */
 
+
+/*
+ * Always call while holding host->lock !
+ */
+static int riemann_batch_flush_nolock (cdtime_t timeout,
+                                       struct riemann_host *host)
+{
+    cdtime_t    now;
+    int         status = 0;
+
+    if (timeout > 0) {
+        now = cdtime ();
+        if ((host->batch_init + timeout) > now)
+            return status;
+    }
+    riemann_send_msg(host, host->batch_msg);
+    riemann_msg_protobuf_free(host->batch_msg);
+
+	if (host->use_tcp && ((status = riemann_recv_ack(host)) != 0))
+        riemann_disconnect (host);
+
+    host->batch_init = cdtime();
+    host->batch_msg = NULL;
+    return status;
+}
+
+static int riemann_batch_flush (cdtime_t timeout,
+        const char *identifier __attribute__((unused)),
+        user_data_t *user_data)
+{
+    struct riemann_host *host;
+    int status;
+
+    if (user_data == NULL)
+        return (-EINVAL);
+
+    host = user_data->data;
+    pthread_mutex_lock (&host->lock);
+    status = riemann_batch_flush_nolock (timeout, host);
+    if (status != 0)
+        ERROR ("write_riemann plugin: riemann_send failed with status %i",
+               status);
+
+    pthread_mutex_unlock(&host->lock);
+    return status;
+}
+
+static int riemann_batch_add_value_list (struct riemann_host *host, /* {{{ */
+                                         data_set_t const *ds,
+                                         value_list_t const *vl,
+                                         int *statuses)
+{
+	size_t i;
+    Event **events;
+    Msg *msg;
+    size_t len;
+    int ret;
+
+    msg = riemann_value_list_to_protobuf (host, ds, vl, statuses);
+    if (msg == NULL)
+        return -1;
+
+    pthread_mutex_lock(&host->lock);
+
+    if (host->batch_msg == NULL) {
+        host->batch_msg = msg;
+    } else {
+        len = msg->n_events + host->batch_msg->n_events;
+        events = realloc(host->batch_msg->events,
+                         (len * sizeof(*host->batch_msg->events)));
+        if (events == NULL) {
+            pthread_mutex_unlock(&host->lock);
+            ERROR ("write_riemann plugin: out of memory");
+            riemann_msg_protobuf_free (msg);
+            return -1;
+        }
+        host->batch_msg->events = events;
+
+        for (i = host->batch_msg->n_events; i < len; i++)
+            host->batch_msg->events[i] = msg->events[i - host->batch_msg->n_events];
+
+        host->batch_msg->n_events = len;
+        sfree (msg->events);
+        msg->n_events = 0;
+        sfree (msg);
+    }
+
+	len = msg__get_packed_size(host->batch_msg);
+    ret = 0;
+    if (len >= host->batch_max) {
+        ret = riemann_batch_flush_nolock(0, host);
+    }
+
+    pthread_mutex_unlock(&host->lock);
+    return ret;
+} /* }}} Msg *riemann_batch_add_value_list */
+
 static int riemann_notification(const notification_t *n, user_data_t *ud) /* {{{ */
 {
 	int			 status;
 	struct riemann_host	*host = ud->data;
 	Msg			*msg;
 
+	if (!host->notifications)
+		return 0;
+
+    /*
+     * Never batch for notifications, send them ASAP
+     */
 	msg = riemann_notification_to_protobuf (host, n);
 	if (msg == NULL)
 		return (-1);
 
 	status = riemann_send (host, msg);
 	if (status != 0)
@@ -611,26 +778,38 @@
 } /* }}} int riemann_notification */
 
 static int riemann_write(const data_set_t *ds, /* {{{ */
 	      const value_list_t *vl,
 	      user_data_t *ud)
 {
-	int			 status;
+	int			 status = 0;
+	int			 statuses[vl->values_len];
 	struct riemann_host	*host = ud->data;
 	Msg			*msg;
 
-	msg = riemann_value_list_to_protobuf (host, ds, vl);
+	if (host->check_thresholds)
+		write_riemann_threshold_check(ds, vl, statuses);
+
+    if (host->use_tcp == 1 && host->batch_mode) {
+
+        riemann_batch_add_value_list (host, ds, vl, statuses);
+
+
+    } else {
+
+        msg = riemann_value_list_to_protobuf (host, ds, vl, statuses);
 	if (msg == NULL)
-		return (-1);
+            return (-1);
 
 	status = riemann_send (host, msg);
 	if (status != 0)
-		ERROR ("write_riemann plugin: riemann_send failed with status %i",
-				status);
+            ERROR ("write_riemann plugin: riemann_send failed with status %i",
+                   status);
 
 	riemann_msg_protobuf_free (msg);
+    }
 	return status;
 } /* }}} int riemann_write */
 
 static void riemann_free(void *p) /* {{{ */
 {
 	struct riemann_host	*host = p;
@@ -668,15 +847,20 @@
 		return ENOMEM;
 	}
 	pthread_mutex_init (&host->lock, NULL);
 	host->reference_count = 1;
 	host->node = NULL;
 	host->service = NULL;
+	host->notifications = 1;
+	host->check_thresholds = 0;
 	host->store_rates = 1;
 	host->always_append_ds = 0;
-	host->use_tcp = 0;
+	host->use_tcp = 1;
+	host->batch_mode = 1;
+	host->batch_max = RIEMANN_BATCH_MAX; /* typical MSS */
+	host->batch_init = cdtime();
 	host->ttl_factor = RIEMANN_TTL_FACTOR;
 
 	status = cf_util_get_string (ci, &host->name);
 	if (status != 0) {
 		WARNING("write_riemann plugin: Required host name is missing.");
 		riemann_free (host);
@@ -692,12 +876,32 @@
 		status = 0;
 
 		if (strcasecmp ("Host", child->key) == 0) {
 			status = cf_util_get_string (child, &host->node);
 			if (status != 0)
 				break;
+		} else if (strcasecmp ("Notifications", child->key) == 0) {
+			status = cf_util_get_boolean(child, &host->notifications);
+			if (status != 0)
+				break;
+		} else if (strcasecmp ("EventServicePrefix", child->key) == 0) {
+			status = cf_util_get_string (child, &host->event_service_prefix);
+			if (status != 0)
+				break;
+		} else if (strcasecmp ("CheckThresholds", child->key) == 0) {
+			status = cf_util_get_boolean(child, &host->check_thresholds);
+			if (status != 0)
+				break;
+        } else if (strcasecmp ("Batch", child->key) == 0) {
+            status = cf_util_get_boolean(child, &host->batch_mode);
+            if (status != 0)
+                break;
+        } else if (strcasecmp("BatchMaxSize", child->key) == 0) {
+            status = cf_util_get_int(child, &host->batch_max);
+            if (status != 0)
+                break;
 		} else if (strcasecmp ("Port", child->key) == 0) {
 			status = cf_util_get_service (child, &host->service);
 			if (status != 0) {
 				ERROR ("write_riemann plugin: Invalid argument "
 						"configured for the \"Port\" "
 						"option.");
@@ -776,12 +980,17 @@
 	ud.data = host;
 	ud.free_func = riemann_free;
 
 	pthread_mutex_lock (&host->lock);
 
 	status = plugin_register_write (callback_name, riemann_write, &ud);
+
+    if (host->use_tcp == 1 && host->batch_mode) {
+        ud.free_func = NULL;
+        plugin_register_flush(callback_name, riemann_batch_flush, &ud);
+    }
 	if (status != 0)
 		WARNING ("write_riemann plugin: plugin_register_write (\"%s\") "
 				"failed with status %i.",
 				callback_name, status);
 	else /* success */
 		host->reference_count++;
@@ -820,12 +1029,38 @@
 
 	for (i = 0; i < ci->children_num; i++)  {
 		child = &ci->children[i];
 
 		if (strcasecmp("Node", child->key) == 0) {
 			riemann_config_node (child);
+		} else if (strcasecmp(child->key, "attribute") == 0) {
+			char *key = NULL;
+			char *val = NULL;
+
+			if (child->values_num != 2) {
+				WARNING("riemann attributes need both a key and a value.");
+				return (-1);
+			}
+			if (child->values[0].type != OCONFIG_TYPE_STRING ||
+			    child->values[1].type != OCONFIG_TYPE_STRING) {
+				WARNING("riemann attribute needs string arguments.");
+				return (-1);
+			}
+			if ((key = strdup(child->values[0].value.string)) == NULL) {
+				WARNING("cannot allocate memory for attribute key.");
+				return (-1);
+			}
+			if ((val = strdup(child->values[1].value.string)) == NULL) {
+				WARNING("cannot allocate memory for attribute value.");
+				return (-1);
+			}
+			strarray_add(&riemann_attrs, &riemann_attrs_num, key);
+			strarray_add(&riemann_attrs, &riemann_attrs_num, val);
+			DEBUG("write_riemann: got attr: %s => %s", key, val);
+			sfree(key);
+			sfree(val);
 		} else if (strcasecmp(child->key, "tag") == 0) {
 			char *tmp = NULL;
 			status = cf_util_get_string(child, &tmp);
 			if (status != 0)
 				continue;
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: write_riemann_threshold.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: write_sensu.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: write_tsdb.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/xmms.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/xmms.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/xmms.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/xmms.c	2015-03-10 22:14:45.861114849 +0800
@@ -1,25 +1,30 @@
 /**
  * collectd - src/xmms.c
- * Copyright (C) 2007  Florian octo Forster
+ * Copyright (C) 2007       Florian octo Forster
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms of the GNU General Public License as published by the
- * Free Software Foundation; only version 2 of the License is applicable.
+ * Permission is hereby granted, free of charge, to any person obtaining a
+ * copy of this software and associated documentation files (the "Software"),
+ * to deal in the Software without restriction, including without limitation
+ * the rights to use, copy, modify, merge, publish, distribute, sublicense,
+ * and/or sell copies of the Software, and to permit persons to whom the
+ * Software is furnished to do so, subject to the following conditions:
  *
- * This program is distributed in the hope that it will be useful, but
- * WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * General Public License for more details.
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
  *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
+ * DEALINGS IN THE SOFTWARE.
  *
  * Authors:
- *   Florian octo Forster <octo at verplant.org>
+ *   Florian octo Forster <octo at collectd.org>
  **/
 
 #include "collectd.h"
 #include "plugin.h"
 #include "common.h"
 
@@ -40,13 +45,13 @@
 	sstrncpy (vl.plugin, "xmms", sizeof (vl.plugin));
 	sstrncpy (vl.type, type, sizeof (vl.type));
 
 	plugin_dispatch_values (&vl);
 } /* void cxmms_submit */
 
-static int cxmms_read (void)
+int cxmms_read (void)
 {
   gint rate;
   gint freq;
   gint nch;
 
   if (!xmms_remote_is_running (xmms_session))
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/zfs_arc.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/zfs_arc.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/src/zfs_arc.c	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src/zfs_arc.c	2015-05-20 20:04:47.191035542 +0800
@@ -1,11 +1,13 @@
 /**
  * collectd - src/zfs_arc.c
  * Copyright (C) 2009  Anthony Dewhurst
  * Copyright (C) 2012  Aurelien Rougemont
  * Copyright (C) 2013  Xin Li
+ * Copyright (C) 2014  Marc Fournier
+ * Copyright (C) 2014  Wilfried Goesgens
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -18,31 +20,54 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Anthony Dewhurst <dewhurst at gmail>
  *   Aurelien Rougemont <beorn at gandi.net>
  *   Xin Li <delphij at FreeBSD.org>
+ *   Marc Fournier <marc.fournier at camptocamp.com>
+ *   Wilfried Goesgens <dothebart at citadel.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 /*
  * Global variables
  */
 
-#if !defined(__FreeBSD__)
+#if defined(KERNEL_LINUX)
+#include "utils_llist.h"
+#define ZOL_ARCSTATS_FILE "/proc/spl/kstat/zfs/arcstats"
+
+typedef	llist_t kstat_t;
+
+static long long get_zfs_value(kstat_t *zfs_stats  __attribute__((unused)),
+		char *name)
+{
+	llentry_t *e;
+
+	e = llist_search (zfs_stats, name);
+	if (e == NULL)
+	{
+		ERROR ("zfs_arc plugin: `llist_search` failed for key: '%s'.", name);
+		return (-1);
+	}
+
+	return (*(long long int*)e->value);
+}
+
+#elif !defined(__FreeBSD__) // Solaris
 extern kstat_ctl_t *kc;
 
 static long long get_zfs_value(kstat_t *ksp, char *name)
 {
 
 	return (get_kstat_value(ksp, name));
 }
-#else
+#else // FreeBSD
 #include <sys/types.h>
 #include <sys/sysctl.h>
 
 const char zfs_arcstat[] = "kstat.zfs.misc.arcstats.";
 
 #if !defined(kstat_t)
@@ -144,13 +169,81 @@
 static int za_read (void)
 {
 	gauge_t  arc_hits, arc_misses, l2_hits, l2_misses;
 	value_t  l2_io[2];
 	kstat_t	 *ksp	= NULL;
 
-#if !defined(__FreeBSD__)
+#if KERNEL_LINUX
+	long long int *llvalues = NULL;
+	char file_contents[1024 * 10];
+	char *fields[3];
+	int numfields;
+	ssize_t len;
+
+	ksp = llist_create ();
+	if (ksp == NULL)
+	{
+		ERROR ("zfs_arc plugin: `llist_create' failed.");
+		return (-1);
+	}
+
+	len = read_file_contents (ZOL_ARCSTATS_FILE, file_contents, sizeof(file_contents));
+	if (len > 1)
+	{
+
+		int i=0;
+		char *pnl = file_contents;
+		char *pnnl;
+
+		file_contents[len] = '\0';
+
+		while (pnl != NULL)
+		{
+			pnl = strchr(pnl, '\n');
+			i++;
+			if (pnl && (*pnl != '\0'))
+				pnl++;
+		}
+
+		if (i > 0)
+		{
+			llentry_t *e;
+			llvalues = malloc(sizeof(long long int) * i);
+			int j = 0;
+
+			pnl = file_contents;
+			while (pnl != NULL)
+			{
+				pnnl = strchr(pnl, '\n');
+				if (pnnl != NULL)
+					*pnnl = '\0';
+
+				numfields = strsplit (pnl, fields, 4);
+				if (numfields == 3)
+				{
+					llvalues[j] = atoll (fields[2]);
+
+					e = llentry_create (fields[0], &llvalues[j]);
+					if (e == NULL)
+					{
+						ERROR ("zfs_arc plugin: `llentry_create' failed.");
+					}
+					else
+					{
+						llist_append (ksp, e);
+					}
+					j++;
+				}
+				pnl = pnnl;
+				if (pnl != NULL)
+					pnl ++;
+			}
+		}
+	}
+
+#elif !defined(__FreeBSD__) // Solaris
 	get_kstat (&ksp, "zfs", 0, "arcstats");
 	if (ksp == NULL)
 	{
 		ERROR ("zfs_arc plugin: Cannot find zfs:0:arcstats kstat.");
 		return (-1);
 	}
@@ -168,22 +261,19 @@
 		l2_size_avail = 0;
 
 	/* Operations */
 	za_read_derive (ksp, "deleted",  "cache_operation", "deleted");
 #if __FreeBSD__
 	za_read_derive (ksp, "allocated","cache_operation", "allocated");
-#if defined(__FreeBSD_version) && (__FreeBSD_version < 1002501)
-	/* stolen removed from sysctl kstat.zfs.misc.arcstats on FreeBSD 10.2+ */
 	za_read_derive (ksp, "stolen",   "cache_operation", "stolen");
 #endif
-#endif
 
 	/* Issue indicators */
 	za_read_derive (ksp, "mutex_miss", "mutex_operations", "miss");
 	za_read_derive (ksp, "hash_collisions", "hash_collisions", "");
-	
+
 	/* Evictions */
 	za_read_derive (ksp, "evict_l2_cached",     "cache_eviction", "cached");
 	za_read_derive (ksp, "evict_l2_eligible",   "cache_eviction", "eligible");
 	za_read_derive (ksp, "evict_l2_ineligible", "cache_eviction", "ineligible");
 
 	/* Hits / misses */
@@ -208,18 +298,29 @@
 	/* I/O */
 	l2_io[0].derive = get_zfs_value(ksp, "l2_read_bytes");
 	l2_io[1].derive = get_zfs_value(ksp, "l2_write_bytes");
 
 	za_submit ("io_octets", "L2", l2_io, /* num values = */ 2);
 
+#if defined(KERNEL_LINUX)
+	if (llvalues != NULL)
+	{
+		free(llvalues);
+	}
+	if (ksp != NULL)
+	{
+		llist_destroy (ksp);
+	}
+#endif
+
 	return (0);
 } /* int za_read */
 
 static int za_init (void) /* {{{ */
 {
-#if !defined(__FreeBSD__)
+#if !defined(__FreeBSD__) && !defined(KERNEL_LINUX) // Solaris
 	/* kstats chain already opened by update_kstat (using *kc), verify everything went fine. */
 	if (kc == NULL)
 	{
 		ERROR ("zfs_arc plugin: kstat chain control structure not available.");
 		return (-1);
 	}
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/src: zookeeper.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/version-gen.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/version-gen.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.4.3/version-gen.sh	2016-07-26 15:47:12.977713842 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-5.5.0/version-gen.sh	2015-05-27 04:23:28.891814238 +0800
@@ -1,11 +1,11 @@
 #!/bin/sh
 
-DEFAULT_VERSION="5.4.3.git"
+DEFAULT_VERSION="5.5.0.git"
 
-VERSION="`git describe 2> /dev/null | sed -e 's/^collectd-//'`"
+VERSION="`git describe 2> /dev/null | grep collectd | sed -e 's/^collectd-//'`"
 
 if test -z "$VERSION"; then
 	VERSION="$DEFAULT_VERSION"
 fi
 
 VERSION="`echo \"$VERSION\" | sed -e 's/-/./g'`"
