diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/ChangeLog	2008-09-04 15:59:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/ChangeLog	2008-10-17 04:07:53.000000000 +0800
@@ -1,6 +1,29 @@
+2008-10-16, Version 4.4.4
+	* build system: Change `--enable-<plugin>' to abort with an error if
+	  dependencies are not met. Thanks to Bruno Pr√©mont for the patch.
+	  Also, the poisoning of various string functions has been restricted
+	  to debug builds.
+	* collectd: Fix a memory leak in the global value cache. With every
+	  *missing* value a couple of bytes would be leaked. Another memory
+	  leak in the configuration handling code has been fixed. Thanks to
+	  Niraj Tolia for reporting these issues.
+	* collectd: Fix an off-by-one error in the ignorelist functionality.
+	  When using regular expressions, the last character would be missing,
+	  possibly matching differently from what one would expect.
+	* collectdmon: Don't block SIGCHLD. This fixes a potential portability
+	  problem.
+	* collectd-nagios: Fix handling of the `-d' option. Thanks to Fabian
+	  Linzberger for reporting the but.
+	* network plugin: Fix a memory leak in the configuration handling
+	  code. Thanks to Niraj Tolia for reporting this issue.
+	* perl plugin: Log an error message if bootstrapping `Collectd' fails.
+	* tail plugin: Call `clearerr' after reading an EOF. This fixes
+	  problems with some `libc's. Thanks to Matthias Lay for reporting the
+	  bug.
+
 2008-09-01, Version 4.4.3
 	* collectd: Fix a memory leak in the threshold checking code.
 	* memcached plugin: Fix a too short timeout and a related file
 	  descriptor leak.
 	* memory plugin: A typo in the libstatgrab code has been fixed.
 	* snmp plugin: Fix a possible memory leak.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/configure	2008-09-04 16:00:28.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/configure	2008-10-17 04:09:05.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.61 for collectd 4.4.3.
+# Generated by GNU Autoconf 2.61 for collectd 4.4.4.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -723,14 +723,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='4.4.3'
-PACKAGE_STRING='collectd 4.4.3'
+PACKAGE_VERSION='4.4.4'
+PACKAGE_STRING='collectd 4.4.4'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -1597,13 +1597,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 4.4.3 to adapt to many kinds of systems.
+\`configure' configures collectd 4.4.4 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1667,13 +1667,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 4.4.3:";;
+     short | recursive ) echo "Configuration of collectd 4.4.4:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1867,13 +1867,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 4.4.3
+collectd configure 4.4.4
 generated by GNU Autoconf 2.61
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1881,13 +1881,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 4.4.3, which was
+It was created by collectd $as_me 4.4.4, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2574,13 +2574,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='4.4.3'
+ VERSION='4.4.4'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -36774,12 +36774,13 @@
 else
   BUILD_FEATURE_GETIFADDRS_TRUE='#'
   BUILD_FEATURE_GETIFADDRS_FALSE=
 fi
 
 
+dependency_error="no"
 plugin_ascent="no"
 plugin_battery="no"
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_df="no"
 plugin_disk="no"
@@ -36967,17 +36968,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libcurl" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_APACHE 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_APACHE_TRUE=
   BUILD_PLUGIN_APACHE_FALSE='#'
 else
   BUILD_PLUGIN_APACHE_TRUE='#'
@@ -37009,17 +37016,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_APCUPS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_APCUPS_TRUE=
   BUILD_PLUGIN_APCUPS_FALSE='#'
 else
   BUILD_PLUGIN_APCUPS_TRUE='#'
@@ -37051,17 +37064,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libiokit" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_APPLE_SENSORS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_APPLE_SENSORS_TRUE=
   BUILD_PLUGIN_APPLE_SENSORS_FALSE='#'
 else
   BUILD_PLUGIN_APPLE_SENSORS_TRUE='#'
@@ -37093,17 +37112,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_ascent" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_ASCENT 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_ASCENT_TRUE=
   BUILD_PLUGIN_ASCENT_FALSE='#'
 else
   BUILD_PLUGIN_ASCENT_TRUE='#'
@@ -37135,17 +37160,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_battery" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_BATTERY 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_BATTERY_TRUE=
   BUILD_PLUGIN_BATTERY_FALSE='#'
 else
   BUILD_PLUGIN_BATTERY_TRUE='#'
@@ -37177,17 +37208,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_cpu" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_CPU 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_CPU_TRUE=
   BUILD_PLUGIN_CPU_FALSE='#'
 else
   BUILD_PLUGIN_CPU_TRUE='#'
@@ -37219,17 +37256,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_cpufreq" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_CPUFREQ 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_CPUFREQ_TRUE=
   BUILD_PLUGIN_CPUFREQ_FALSE='#'
 else
   BUILD_PLUGIN_CPUFREQ_TRUE='#'
@@ -37261,17 +37304,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_CSV 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_CSV_TRUE=
   BUILD_PLUGIN_CSV_FALSE='#'
 else
   BUILD_PLUGIN_CSV_TRUE='#'
@@ -37303,17 +37352,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_df" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_DF 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_DF_TRUE=
   BUILD_PLUGIN_DF_FALSE='#'
 else
   BUILD_PLUGIN_DF_TRUE='#'
@@ -37345,17 +37400,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_disk" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_DISK 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_DISK_TRUE=
   BUILD_PLUGIN_DISK_FALSE='#'
 else
   BUILD_PLUGIN_DISK_TRUE='#'
@@ -37387,17 +37448,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libpcap" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_DNS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_DNS_TRUE=
   BUILD_PLUGIN_DNS_FALSE='#'
 else
   BUILD_PLUGIN_DNS_TRUE='#'
@@ -37429,17 +37496,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_EMAIL 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_EMAIL_TRUE=
   BUILD_PLUGIN_EMAIL_FALSE='#'
 else
   BUILD_PLUGIN_EMAIL_TRUE='#'
@@ -37471,17 +37544,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_entropy" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_ENTROPY 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_ENTROPY_TRUE=
   BUILD_PLUGIN_ENTROPY_FALSE='#'
 else
   BUILD_PLUGIN_ENTROPY_TRUE='#'
@@ -37513,17 +37592,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_EXEC 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_EXEC_TRUE=
   BUILD_PLUGIN_EXEC_FALSE='#'
 else
   BUILD_PLUGIN_EXEC_TRUE='#'
@@ -37555,17 +37640,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_HDDTEMP 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_HDDTEMP_TRUE=
   BUILD_PLUGIN_HDDTEMP_FALSE='#'
 else
   BUILD_PLUGIN_HDDTEMP_TRUE='#'
@@ -37597,17 +37688,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_interface" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_INTERFACE 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_INTERFACE_TRUE=
   BUILD_PLUGIN_INTERFACE_FALSE='#'
 else
   BUILD_PLUGIN_INTERFACE_TRUE='#'
@@ -37639,17 +37736,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libiptc" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IPTABLES 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IPTABLES_TRUE=
   BUILD_PLUGIN_IPTABLES_FALSE='#'
 else
   BUILD_PLUGIN_IPTABLES_TRUE='#'
@@ -37681,17 +37784,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_ipmi" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IPMI 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IPMI_TRUE=
   BUILD_PLUGIN_IPMI_FALSE='#'
 else
   BUILD_PLUGIN_IPMI_TRUE='#'
@@ -37723,17 +37832,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_ipvs" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IPVS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IPVS_TRUE=
   BUILD_PLUGIN_IPVS_FALSE='#'
 else
   BUILD_PLUGIN_IPVS_TRUE='#'
@@ -37765,17 +37880,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_irq" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_IRQ 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_IRQ_TRUE=
   BUILD_PLUGIN_IRQ_FALSE='#'
 else
   BUILD_PLUGIN_IRQ_TRUE='#'
@@ -37807,17 +37928,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_libvirt" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_LIBVIRT 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_LIBVIRT_TRUE=
   BUILD_PLUGIN_LIBVIRT_FALSE='#'
 else
   BUILD_PLUGIN_LIBVIRT_TRUE='#'
@@ -37849,17 +37976,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_load" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_LOAD 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_LOAD_TRUE=
   BUILD_PLUGIN_LOAD_FALSE='#'
 else
   BUILD_PLUGIN_LOAD_TRUE='#'
@@ -37891,17 +38024,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_LOGFILE 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_LOGFILE_TRUE=
   BUILD_PLUGIN_LOGFILE_FALSE='#'
 else
   BUILD_PLUGIN_LOGFILE_TRUE='#'
@@ -37933,17 +38072,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MBMON 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MBMON_TRUE=
   BUILD_PLUGIN_MBMON_FALSE='#'
 else
   BUILD_PLUGIN_MBMON_TRUE='#'
@@ -37975,17 +38120,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MEMCACHED 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MEMCACHED_TRUE=
   BUILD_PLUGIN_MEMCACHED_FALSE='#'
 else
   BUILD_PLUGIN_MEMCACHED_TRUE='#'
@@ -38017,17 +38168,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_memory" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MEMORY 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MEMORY_TRUE=
   BUILD_PLUGIN_MEMORY_FALSE='#'
 else
   BUILD_PLUGIN_MEMORY_TRUE='#'
@@ -38059,17 +38216,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_multimeter" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MULTIMETER 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MULTIMETER_TRUE=
   BUILD_PLUGIN_MULTIMETER_FALSE='#'
 else
   BUILD_PLUGIN_MULTIMETER_TRUE='#'
@@ -38101,17 +38264,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libmysql" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_MYSQL 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_MYSQL_TRUE=
   BUILD_PLUGIN_MYSQL_FALSE='#'
 else
   BUILD_PLUGIN_MYSQL_TRUE='#'
@@ -38143,17 +38312,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libnetlink" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NETLINK 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NETLINK_TRUE=
   BUILD_PLUGIN_NETLINK_FALSE='#'
 else
   BUILD_PLUGIN_NETLINK_TRUE='#'
@@ -38185,17 +38360,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NETWORK 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NETWORK_TRUE=
   BUILD_PLUGIN_NETWORK_FALSE='#'
 else
   BUILD_PLUGIN_NETWORK_TRUE='#'
@@ -38227,17 +38408,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_nfs" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NFS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NFS_TRUE=
   BUILD_PLUGIN_NFS_FALSE='#'
 else
   BUILD_PLUGIN_NFS_TRUE='#'
@@ -38269,17 +38456,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libcurl" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NGINX 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NGINX_TRUE=
   BUILD_PLUGIN_NGINX_FALSE='#'
 else
   BUILD_PLUGIN_NGINX_TRUE='#'
@@ -38311,17 +38504,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NTPD 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NTPD_TRUE=
   BUILD_PLUGIN_NTPD_FALSE='#'
 else
   BUILD_PLUGIN_NTPD_TRUE='#'
@@ -38353,17 +38552,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libupsclient" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_NUT 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_NUT_TRUE=
   BUILD_PLUGIN_NUT_FALSE='#'
 else
   BUILD_PLUGIN_NUT_TRUE='#'
@@ -38395,17 +38600,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_perl" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_PERL 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_PERL_TRUE=
   BUILD_PLUGIN_PERL_FALSE='#'
 else
   BUILD_PLUGIN_PERL_TRUE='#'
@@ -38437,17 +38648,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_liboping" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_PING 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_PING_TRUE=
   BUILD_PLUGIN_PING_FALSE='#'
 else
   BUILD_PLUGIN_PING_TRUE='#'
@@ -38479,17 +38696,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_POWERDNS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_POWERDNS_TRUE=
   BUILD_PLUGIN_POWERDNS_FALSE='#'
 else
   BUILD_PLUGIN_POWERDNS_TRUE='#'
@@ -38521,17 +38744,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_processes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_PROCESSES 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_PROCESSES_TRUE=
   BUILD_PLUGIN_PROCESSES_FALSE='#'
 else
   BUILD_PLUGIN_PROCESSES_TRUE='#'
@@ -38563,17 +38792,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_rrdtool" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_RRDTOOL 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_RRDTOOL_TRUE=
   BUILD_PLUGIN_RRDTOOL_FALSE='#'
 else
   BUILD_PLUGIN_RRDTOOL_TRUE='#'
@@ -38605,17 +38840,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_lm_sensors" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SENSORS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SENSORS_TRUE=
   BUILD_PLUGIN_SENSORS_FALSE='#'
 else
   BUILD_PLUGIN_SENSORS_TRUE='#'
@@ -38647,17 +38888,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_serial" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SERIAL 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SERIAL_TRUE=
   BUILD_PLUGIN_SERIAL_FALSE='#'
 else
   BUILD_PLUGIN_SERIAL_TRUE='#'
@@ -38689,17 +38936,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libnetsnmp" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SNMP 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SNMP_TRUE=
   BUILD_PLUGIN_SNMP_FALSE='#'
 else
   BUILD_PLUGIN_SNMP_TRUE='#'
@@ -38731,17 +38984,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_swap" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SWAP 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SWAP_TRUE=
   BUILD_PLUGIN_SWAP_FALSE='#'
 else
   BUILD_PLUGIN_SWAP_TRUE='#'
@@ -38773,17 +39032,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$have_syslog" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_SYSLOG 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_SYSLOG_TRUE=
   BUILD_PLUGIN_SYSLOG_FALSE='#'
 else
   BUILD_PLUGIN_SYSLOG_TRUE='#'
@@ -38815,17 +39080,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_TAIL 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_TAIL_TRUE=
   BUILD_PLUGIN_TAIL_FALSE='#'
 else
   BUILD_PLUGIN_TAIL_TRUE='#'
@@ -38857,17 +39128,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_tape" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_TAPE 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_TAPE_TRUE=
   BUILD_PLUGIN_TAPE_FALSE='#'
 else
   BUILD_PLUGIN_TAPE_TRUE='#'
@@ -38899,17 +39176,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_tcpconns" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_TCPCONNS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_TCPCONNS_TRUE=
   BUILD_PLUGIN_TCPCONNS_FALSE='#'
 else
   BUILD_PLUGIN_TCPCONNS_TRUE='#'
@@ -38941,17 +39224,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_TEAMSPEAK2 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_TEAMSPEAK2_TRUE=
   BUILD_PLUGIN_TEAMSPEAK2_FALSE='#'
 else
   BUILD_PLUGIN_TEAMSPEAK2_TRUE='#'
@@ -38983,17 +39272,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_UNIXSOCK 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_UNIXSOCK_TRUE=
   BUILD_PLUGIN_UNIXSOCK_FALSE='#'
 else
   BUILD_PLUGIN_UNIXSOCK_TRUE='#'
@@ -39025,17 +39320,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_users" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_USERS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_USERS_TRUE=
   BUILD_PLUGIN_USERS_FALSE='#'
 else
   BUILD_PLUGIN_USERS_TRUE='#'
@@ -39067,17 +39368,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "xyes" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_UUID 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_UUID_TRUE=
   BUILD_PLUGIN_UUID_FALSE='#'
 else
   BUILD_PLUGIN_UUID_TRUE='#'
@@ -39109,17 +39416,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_vmem" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_VMEM 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_VMEM_TRUE=
   BUILD_PLUGIN_VMEM_FALSE='#'
 else
   BUILD_PLUGIN_VMEM_TRUE='#'
@@ -39151,17 +39464,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_vserver" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_VSERVER 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_VSERVER_TRUE=
   BUILD_PLUGIN_VSERVER_FALSE='#'
 else
   BUILD_PLUGIN_VSERVER_TRUE='#'
@@ -39193,17 +39512,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$plugin_wireless" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_WIRELESS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_WIRELESS_TRUE=
   BUILD_PLUGIN_WIRELESS_FALSE='#'
 else
   BUILD_PLUGIN_WIRELESS_TRUE='#'
@@ -39235,17 +39560,23 @@
      fi
 
 fi
 
     if test "x$enable_plugin" = "xyes"
     then
+	    if test "x$with_libxmms" = "xyes"
+	    then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_PLUGIN_XMMS 1
 _ACEOF
 
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
      if test "x$enable_plugin" = "xyes"; then
   BUILD_PLUGIN_XMMS_TRUE=
   BUILD_PLUGIN_XMMS_FALSE='#'
 else
   BUILD_PLUGIN_XMMS_TRUE='#'
@@ -40286,13 +40617,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 4.4.3, which was
+This file was extended by collectd $as_me 4.4.4, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -40339,13 +40670,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 4.4.3
+collectd config.status 4.4.4
 configured by $0, generated by GNU Autoconf 2.61,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -41860,6 +42191,12 @@
     vmem  . . . . . . . $enable_vmem
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
 EOF
+
+if test "x$dependency_error" = "xyes"; then
+	{ { echo "$as_me:$LINENO: error: \"Some plugins are missing dependencies - see above summary for details\"" >&5
+echo "$as_me: error: \"Some plugins are missing dependencies - see above summary for details\"" >&2;}
+   { (exit 1); exit 1; }; }
+fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/configure.in	2008-09-04 15:59:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/configure.in	2008-10-17 04:08:49.000000000 +0800
@@ -2275,13 +2275,19 @@
      else
 	     enable_plugin="no"
      fi
     ])
     if test "x$enable_plugin" = "xyes"
     then
-	    AC_DEFINE([HAVE_PLUGIN_]my_toupper([$1]), 1, [Define to 1 if the $1 plugin is enabled.])
+	    if test "x$2" = "xyes"
+	    then
+		    AC_DEFINE([HAVE_PLUGIN_]my_toupper([$1]), 1, [Define to 1 if the $1 plugin is enabled.])
+	    else # User passed "yes" but dependency checking yielded "no" => Dependency problem.
+		    dependency_error="yes"
+		    enable_plugin="no (dependency error)"
+	    fi
     fi
     AM_CONDITIONAL([BUILD_PLUGIN_]my_toupper([$1]), test "x$enable_plugin" = "xyes")
     enable_$1="$enable_plugin"
   ]
 )# AC_PLUGIN(name, default, info)
 
@@ -2289,12 +2295,13 @@
 collectd features:])
 # FIXME: Remove these calls to `AC_COLLECTD' and then remove that macro.
 AC_COLLECTD([debug],     [enable],  [feature], [debugging])
 AC_COLLECTD([daemon],    [disable], [feature], [daemon mode])
 AC_COLLECTD([getifaddrs],[enable],  [feature], [getifaddrs under Linux])
 
+dependency_error="no"
 plugin_ascent="no"
 plugin_battery="no"
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_df="no"
 plugin_disk="no"
@@ -2674,6 +2681,10 @@
     vmem  . . . . . . . $enable_vmem
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
 EOF
+
+if test "x$dependency_error" = "xyes"; then
+	AC_MSG_ERROR("Some plugins are missing dependencies - see above summary for details")
+fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/contrib/collection3/etc/collection.conf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/contrib/collection3/etc/collection.conf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/contrib/collection3/etc/collection.conf	2008-09-04 15:58:48.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/contrib/collection3/etc/collection.conf	2008-10-03 19:35:57.000000000 +0800
@@ -1,8 +1,24 @@
 GraphWidth 400
-UnixSockAddr "/var/run/collectd-unixsock"
+#UnixSockAddr "/var/run/collectd-unixsock"
+<Type apache_bytes>
+  DataSources count
+  DSName "count Bytes/s"
+  RRDTitle "Apache Traffic"
+  RRDVerticalLabel "Bytes/s"
+  RRDFormat "%5.1lf%s"
+  Color count 0000ff
+</Type>
+<Type apache_requests>
+  DataSources count
+  DSName "count Requests/s"
+  RRDTitle "Apache Traffic"
+  RRDVerticalLabel "Requests/s"
+  RRDFormat "%5.2lf"
+  Color count 00d000
+</Type>
 <Type apache_scoreboard>
   Module GenericStacked
   DataSources count
   RRDTitle "Apache scoreboard on {hostname}"
   RRDVerticalLabel "Slots"
   RRDFormat "%6.2lf"
@@ -68,43 +84,43 @@
 </Type>
 <Type disk_octets>
   Module GenericIO
   DataSources read write
   DSName "read Read   "
   DSName write Written
-  RRDTitle "Disk Traffic ({plugin_instance})"
+  RRDTitle "Disk Traffic ({instance})"
   RRDVerticalLabel "Bytes per second"
 # RRDOptions ...
   RRDFormat "%5.1lf%s"
 </Type>
 <Type disk_ops>
   Module GenericIO
   DataSources read write
   DSName "read Read   "
   DSName write Written
-  RRDTitle "Disk Operations ({plugin_instance})"
+  RRDTitle "Disk Operations ({instance})"
   RRDVerticalLabel "Operations per second"
 # RRDOptions ...
   RRDFormat "%5.1lf"
 </Type>
 <Type disk_merged>
   Module GenericIO
   DataSources read write
   DSName "read Read   "
   DSName write Written
-  RRDTitle "Disk Merged Operations ({plugin_instance})"
+  RRDTitle "Disk Merged Operations ({instance})"
   RRDVerticalLabel "Merged operations/s"
 # RRDOptions ...
   RRDFormat "%5.1lf"
 </Type>
 <Type disk_time>
   Module GenericIO
   DataSources read write
   DSName "read Read   "
   DSName write Written
-  RRDTitle "Disk time per operation ({plugin_instance})"
+  RRDTitle "Disk time per operation ({instance})"
   RRDVerticalLabel "Avg. Time/Op"
 # RRDOptions ...
   RRDFormat "%5.1lf%ss"
   Scale 0.001
 </Type>
 <Type entropy>
@@ -235,12 +251,133 @@
   Order free cached buffered used
   Color free      00e000
   Color cached    0000ff
   Color buffered  ffb000
   Color used      ff0000
 </Type>
+<Type mysql_commands>
+  Module GenericStacked
+  DataSources value
+  RRDTitle "MySQL commands"
+  RRDVerticalLabel "Invocations"
+  RRDFormat "%6.2lf"
+
+  DSName admin_commands admin_commands
+  DSName alter_table alter_table
+  DSName begin begin
+  DSName change_db change_db
+  DSName check check
+  DSName commit commit
+  DSName create_db create_db
+  DSName create_table create_table
+  DSName delete delete
+  DSName drop_db drop_db
+  DSName drop_table drop_table
+  DSName flush flush
+  DSName grant grant
+  DSName insert insert
+  DSName insert_select insert_select
+  DSName lock_tables lock_tables
+  DSName optimize optimize
+  DSName rename_table rename_table
+  DSName replace replace
+  DSName revoke revoke
+  DSName select select
+  DSName set_option set_option
+  DSName show_create_table show_create_table
+  DSName show_databases show_databases
+  DSName show_fields show_fields
+  DSName show_keys show_keys
+  DSName show_master_status show_master_status
+  DSName show_processlist show_processlist
+  DSName show_slave_hosts show_slave_hosts
+  DSName show_status show_status
+  DSName show_tables show_tables
+  DSName show_triggers show_triggers
+  DSName show_variables show_variables
+  DSName unlock_tables unlock_tables
+  DSName update update
+  DSName update_multi update_multi
+
+  Order admin_commands alter_table begin change_db check commit create_db create_table delete drop_db drop_table flush grant insert insert_select lock_tables optimize rename_table replace revoke select set_option show_create_table show_databases show_fields show_keys show_master_status show_processlist show_slave_hosts show_status show_tables show_triggers show_variables unlock_tables update update_multi
+
+  Color admin_commands ff0000
+  Color alter_table ff002a
+  Color begin ff0055
+  Color change_db ff007f
+  Color check ff00aa
+  Color commit ff00d4
+  Color create_db ff00ff
+  Color create_table d400ff
+  Color delete aa00ff
+  Color drop_db 7f00ff
+  Color drop_table 5400ff
+  Color flush 2a00ff
+  Color grant 0000ff
+  Color insert 002aff
+  Color insert_select 0055ff
+  Color lock_tables 007fff
+  Color optimize 00a9ff
+  Color rename_table 00d4ff
+  Color replace 00ffff
+  Color revoke 00ffd4
+  Color select 00ffa9
+  Color set_option 00ff7f
+  Color show_create_table 00ff55
+  Color show_databases 00ff2a
+  Color show_fields 00ff00
+  Color show_keys 2aff00
+  Color show_master_status 54ff00
+  Color show_processlist 7fff00
+  Color show_slave_hosts aaff00
+  Color show_status d4ff00
+  Color show_tables ffff00
+  Color show_triggers ffd400
+  Color show_variables ffaa00
+  Color unlock_tables ff7f00
+  Color update ff5400
+  Color update_multi ff2a00
+</Type>
+<Type mysql_handler>
+  Module GenericStacked
+  DataSources value
+  RRDTitle "MySQL handler"
+  RRDVerticalLabel "Invocations"
+  RRDFormat "%6.2lf"
+  DSName commit commit
+  DSName delete delete
+  DSName read_first read_first
+  DSName read_key read_key
+  DSName read_next read_next
+  DSName read_prev read_prev
+  DSName read_rnd read_rnd
+  DSName read_rnd_next read_rnd_next
+  DSName update update
+  DSName write write
+  Order commit delete read_first read_key read_next read_prev read_rnd read_rnd_next update write
+  Color commit ff0000
+  Color delete ff0099
+  Color read_first cc00ff
+  Color read_key 3200ff
+  Color read_next 0065ff
+  Color read_prev 00ffff
+  Color read_rnd 00ff65
+  Color read_rnd_next 33ff00
+  Color update cbff00
+  Color write ff9800
+</Type>
+<Type mysql_octets>
+  Module GenericIO
+  DataSources rx tx
+  DSName rx RX
+  DSName tx TX
+  RRDTitle "MySQL Traffic"
+  RRDVerticalLabel "Bits per second"
+  RRDFormat "%5.1lf%s"
+  Scale 8
+</Type>
 <Type percent>
   DataSources percent
   DSName percent Percent
   RRDTitle "Percent ({type_instance})"
   RRDVerticalLabel "Percent"
   RRDFormat "%4.1lf%%"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/contrib/collection.cgi	2008-09-04 15:59:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/contrib/collection.cgi	2008-10-17 03:24:20.000000000 +0800
@@ -1013,12 +1013,24 @@
     "LINE1:avg#$FullBlue:Charge",
     'GPRINT:min:MIN:%5.1lf%sAh Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%sAh Avg,',
     'GPRINT:max:MAX:%5.1lf%sAh Max,',
     'GPRINT:avg:LAST:%5.1lf%sAh Last\l'
     ],
+    connections => ['-v', 'Connections',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Connections",
+    'GPRINT:min:MIN:%4.1lf Min,',
+    'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+    'GPRINT:max:MAX:%4.1lf Max,',
+    'GPRINT:avg:LAST:%4.1lf Last\l'
+    ],
     cpu => ['-v', 'CPU load',
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
@@ -1596,12 +1608,95 @@
     "LINE1:negspam#$FullRed:Spam mails",
     'GPRINT:spam:AVERAGE:%4.1lf Avg,',
     'GPRINT:spam:MAX:%4.1lf Max,',
     'GPRINT:spam:LAST:%4.1lf Last',
     'HRULE:0#000000'
     ],
+    memcached_command => ['-v', 'Commands',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Commands",
+    'GPRINT:min:MIN:%5.1lf%s Min,',
+    'GPRINT:avg:AVERAGE:%5.1lf Avg,',
+    'GPRINT:max:MAX:%5.1lf Max,',
+    'GPRINT:avg:LAST:%5.1lf Last\l'
+    ],
+    memcached_connections => ['-v', 'Connections',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Connections",
+    'GPRINT:min:MIN:%4.1lf Min,',
+    'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+    'GPRINT:max:MAX:%4.1lf Max,',
+    'GPRINT:avg:LAST:%4.1lf Last\l'
+    ],
+    memcached_items => ['-v', 'Items',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Items",
+    'GPRINT:min:MIN:%4.1lf Min,',
+    'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+    'GPRINT:max:MAX:%4.1lf Max,',
+    'GPRINT:avg:LAST:%4.1lf Last\l'
+    ],
+    memcached_octets => ['-v', 'Bits/s',
+    'DEF:out_min={file}:tx:MIN',
+    'DEF:out_avg={file}:tx:AVERAGE',
+    'DEF:out_max={file}:tx:MAX',
+    'DEF:inc_min={file}:rx:MIN',
+    'DEF:inc_avg={file}:rx:AVERAGE',
+    'DEF:inc_max={file}:rx:MAX',
+    'CDEF:mytime=out_avg,TIME,TIME,IF',
+    'CDEF:sample_len_raw=mytime,PREV(mytime),-',
+    'CDEF:sample_len=sample_len_raw,UN,0,sample_len_raw,IF',
+    'CDEF:out_avg_sample=out_avg,UN,0,out_avg,IF,sample_len,*',
+    'CDEF:out_avg_sum=PREV,UN,0,PREV,IF,out_avg_sample,+',
+    'CDEF:inc_avg_sample=inc_avg,UN,0,inc_avg,IF,sample_len,*',
+    'CDEF:inc_avg_sum=PREV,UN,0,PREV,IF,inc_avg_sample,+',
+    'CDEF:out_bit_min=out_min,8,*',
+    'CDEF:out_bit_avg=out_avg,8,*',
+    'CDEF:out_bit_max=out_max,8,*',
+    'CDEF:inc_bit_min=inc_min,8,*',
+    'CDEF:inc_bit_avg=inc_avg,8,*',
+    'CDEF:inc_bit_max=inc_max,8,*',
+    'CDEF:overlap=out_bit_avg,inc_bit_avg,GT,inc_bit_avg,out_bit_avg,IF',
+    "AREA:out_bit_avg#$HalfGreen",
+    "AREA:inc_bit_avg#$HalfBlue",
+    "AREA:overlap#$HalfBlueGreen",
+    "LINE1:out_bit_avg#$FullGreen:Written",
+    'GPRINT:out_bit_avg:AVERAGE:%5.1lf%s Avg,',
+    'GPRINT:out_bit_max:MAX:%5.1lf%s Max,',
+    'GPRINT:out_bit_avg:LAST:%5.1lf%s Last',
+    'GPRINT:out_avg_sum:LAST:(ca. %5.1lf%sB Total)\l',
+    "LINE1:inc_bit_avg#$FullBlue:Read   ",
+    'GPRINT:inc_bit_avg:AVERAGE:%5.1lf%s Avg,',
+    'GPRINT:inc_bit_max:MAX:%5.1lf%s Max,',
+    'GPRINT:inc_bit_avg:LAST:%5.1lf%s Last',
+    'GPRINT:inc_avg_sum:LAST:(ca. %5.1lf%sB Total)\l'
+    ],
+    memcached_ops => ['-v', 'Ops',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Ops",
+    'GPRINT:min:MIN:%4.1lf Min,',
+    'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+    'GPRINT:max:MAX:%4.1lf Max,',
+    'GPRINT:avg:LAST:%4.1lf Last\l'
+    ],
     memory => ['-b', '1024', '-v', 'Bytes',
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/contrib/exec-munin.px /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/contrib/exec-munin.px
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/contrib/exec-munin.px	2008-05-06 20:30:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/contrib/exec-munin.px	2008-10-17 03:23:35.000000000 +0800
@@ -27,14 +27,13 @@
 our $Scripts = [];
 our $Interval = 300;
 
 main ();
 exit (0);
 
-# Configuration
-# {{{
+# Configuration {{{
 
 =head1 CONFIGURATION
 
 This script reads it's configuration from F</etc/exec-munin.conf>. The
 configuration is read using C<Config::General> which understands a Apache-like
 config syntax, so it's very similar to the F<collectd.conf> syntax, too.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/README	2008-09-04 15:59:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/README	2008-10-17 03:24:20.000000000 +0800
@@ -386,15 +386,17 @@
   run `./configure --help'.
   
   By default, the configure script will check for all build dependencies and
   disable all plugins whose requirements cannot be fulfilled (any other plugin
   will be enabled). To enable a plugin, install missing dependencies (see
   section `Prerequisites' above) and rerun `configure'. If you specify the
-  `--enable-<plugin>' configure option, you can force the plugin to be built.
-  This will most likely fail though unless you're working in a very unusual
-  setup and you really know what you're doing.
+  `--enable-<plugin>' configure option, the script will fail if the depen-
+  dencies for the specified plugin are not met. If you specify the
+  `--disable-<plugin>' configure option, the plugin will not be built. Both
+  options are meant for package maintainers and should not be used in everyday
+  situations.
 
   By default, collectd will be installed into `/opt/collectd'. You can adjust
   this setting by specifying the `--prefix' configure option - see INSTALL for
   details. If you pass DESTDIR=<path> to `make install', <path> will be
   prefixed to all installation directories. This might be useful when creating
   packages for collectd.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.1	2008-09-04 16:07:29.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.1	2008-10-17 04:10:06.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -128,115 +120,1394 @@
 .    ds ae ae
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
-.IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2008-09-04" "4.4.3" "collectd"
+.IX Title "COLLECTD.CONF 5"
+.TH COLLECTD.CONF 5 "2008-10-16" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
-collectd \- System statistics collection daemon
+collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-collectd \fI[options]\fR
+.Vb 3
+\&  BaseDir "/path/to/data/"
+\&  PIDFile "/path/to/pidfile/collectd.pid"
+\&  Server  "123.123.123.123" 12345
+\&
+\&  LoadPlugin cpu
+\&  LoadPlugin load
+\&  LoadPlugin ping
+\&
+\&  <Plugin ping>
+\&    Host "example.org"
+\&    Host "provider.net"
+\&  </Plugin>
+.Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-collectd is a daemon that receives system statistics and makes them available
-in a number of ways. The main daemon itself doesn't have any real functionality
-apart from loading, querying and submitting to plugins. For a description of
-available plugins please see \*(L"\s-1PLUGINS\s0\*(R" below.
-.SH "OPTIONS"
-.IX Header "OPTIONS"
-Most of collectd's configuration is done using using a configfile. See
-\&\fIcollectd.conf\fR\|(5) for an in-depth description of all options.
-.IP "\fB\-C\fR \fI<config\-file>\fR" 4
-.IX Item "-C <config-file>"
-Specify an alternative config file. This is the place to go when you wish to
-change \fBcollectd\fR's behavior. The path may be relative to the current working
-directory.
-.IP "\fB\-t\fR" 4
-.IX Item "-t"
-Test the configuration only. The program immediately exits after parsing the
-config file. A return code not equal to zero indicates an error.
-.IP "\fB\-P\fR \fI<pid\-file>\fR" 4
-.IX Item "-P <pid-file>"
-Specify an alternative pid file. This overwrites any settings in the config 
-file. This is thought for init-scripts that require the PID-file in a certain
-directory to work correctly. For everyday-usage use the \fBPIDFile\fR
-config-option.
-.IP "\fB\-f\fR" 4
-.IX Item "-f"
-Don't fork to the background. \fIcollectd\fR will also \fBnot\fR close standard file
-descriptors, detach from the session nor write a pid file. This is mainly
-thought for 'supervising' init replacements such as \fIrunit\fR.
-.IP "\fB\-h\fR" 4
-.IX Item "-h"
-Output usage information and exit.
-.SH "PLUGINS"
-.IX Header "PLUGINS"
-As noted above, the real power of collectd lies within it's plugins. A
-(hopefully complete) list of plugins and short descriptions can be found in the
-\&\fI\s-1README\s0\fR file that is distributed with the sourcecode. If you're using a
-package it's a good bet to search somewhere near \fI/usr/share/doc/collectd\fR.
+This config file controls how the system statistics collection daemon
+\&\fBcollectd\fR behaves. The most significant option is \fBLoadPlugin\fR, which
+controls which plugins to load. These plugins ultimately define collectd's
+behavior.
+.PP
+The syntax of this config file is similar to the config file of the famous
+\&\fBApache Webserver\fR. Each line contains either a key-value-pair or a
+section-start or \-end. Empty lines and everything after the hash-symbol `#' is
+ignored. Values are either string, enclosed in double-quotes,
+(floating\-point\-)numbers or a boolean expression, i.\ e. either \fBtrue\fR or
+\&\fBfalse\fR. String containing of only alphanumeric characters and underscores do
+not need to be quoted.
+.PP
+The configuration is read and processed in order, i.\ e. from top to
+bottom. So the plugins are loaded in the order listed in this config file. It
+is a good idea to load any logging plugins first in order to catch messages
+from plugins during configuration. Also, the \f(CW\*(C`LoadPlugin\*(C'\fR option \fBmust\fR occur
+\&\fBbefore\fR the \f(CW\*(C`<Plugin ...>\*(C'\fR block.
+.SH "GLOBAL OPTIONS"
+.IX Header "GLOBAL OPTIONS"
+.IP "\fBBaseDir\fR \fIDirectory\fR" 4
+.IX Item "BaseDir Directory"
+Sets the base directory. This is the directory beneath all RRD-files are
+created. Possibly more subdirectories are created. This is also the working
+directory for the daemon.
+.IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
+.IX Item "LoadPlugin Plugin"
+Loads the plugin \fIPlugin\fR. There must be at least one such line or \fBcollectd\fR
+will be mostly useless.
+.IP "\fBInclude\fR \fIPath\fR" 4
+.IX Item "Include Path"
+If \fIPath\fR points to a file, includes that file. If \fIPath\fR points to a
+directory, recursively includes all files within that directory and its
+subdirectories. If the \f(CW\*(C`wordexp\*(C'\fR function is available on your system,
+shell-like wildcards are expanded before files are included. This means you can
+use statements like the following:
+.Sp
+.Vb 1
+\&  Include "/etc/collectd.d/*.conf"
+.Ve
+.Sp
+If more than one files are included by a single \fBInclude\fR option, the files
+will be included in lexicographical order (as defined by the \f(CW\*(C`strcmp\*(C'\fR
+function). Thus, you can e.\ g. use numbered prefixes to specify the
+order in which the files are loaded.
+.Sp
+To prevent loops and shooting yourself in the foot in interesting ways the
+nesting is limited to a depth of 8\ levels, which should be sufficient for
+most uses. Since symlinks are followed it is still possible to crash the daemon
+by looping symlinks. In our opinion significant stupidity should result in an
+appropriate amount of pain.
+.Sp
+It is no problem to have a block like \f(CW\*(C`<Plugin foo>\*(C'\fR in more than one
+file, but you cannot include files from within blocks.
+.IP "\fBPIDFile\fR \fIFile\fR" 4
+.IX Item "PIDFile File"
+Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
+and deleted when the program is stopped. Some init-scripts might override this
+setting using the \fB\-P\fR command-line option.
+.IP "\fBPluginDir\fR \fIDirectory\fR" 4
+.IX Item "PluginDir Directory"
+Path to the plugins (shared objects) of collectd.
+.IP "\fBTypesDB\fR \fIFile\fR [\fIFile\fR ...]" 4
+.IX Item "TypesDB File [File ...]"
+Set one or more files that contain the data-set descriptions. See
+\&\fItypes.db\fR\|(5) for a description of the format of this file.
+.IP "\fBInterval\fR \fISeconds\fR" 4
+.IX Item "Interval Seconds"
+Configures the interval in which to query the read plugins. Obviously smaller
+values lead to a higher system load produced by collectd, while higher values
+lead to more coarse statistics.
+.IP "\fBReadThreads\fR \fINum\fR" 4
+.IX Item "ReadThreads Num"
+Number of threads to start for reading plugins. The default value is \fB5\fR, but
+you may want to increase this if you have more than five plugins that take a
+long time to read. Mostly those are plugin that do network-IO. Setting this to
+a value higher than the number of plugins you've loaded is totally useless.
+.IP "\fBHostname\fR \fIName\fR" 4
+.IX Item "Hostname Name"
+Sets the hostname that identifies a host. If you omit this setting, the
+hostname will be determinded using the \fIgethostname\fR\|(2) system call.
+.IP "\fBFQDNLookup\fR \fBtrue|false\fR" 4
+.IX Item "FQDNLookup true|false"
+If \fBHostname\fR is determined automatically this setting controls whether or not
+the daemon should try to figure out the \*(L"fully qualified domain name\*(R", \s-1FQDN\s0.
+This is done using a lookup of the name returned by \f(CW\*(C`gethostname\*(C'\fR.
+.Sp
+Using this feature (i.\ e. setting this option to \fBtrue\fR) is recommended.
+However, to preserve backwards compatibility the default is set to \fBfalse\fR.
+The sample config file that is installed with \f(CW\*(C`make\ install\*(C'\fR includes a
+line which sets this option, though, so that default installations will have
+this setting enabled.
+.SH "PLUGIN OPTIONS"
+.IX Header "PLUGIN OPTIONS"
+Some plugins may register own options. These options must be enclosed in a
+\&\f(CW\*(C`Plugin\*(C'\fR\-Section. Which options exist depends on the plugin used. Some plugins
+require external configuration, too. The \f(CW\*(C`apache plugin\*(C'\fR, for example,
+required \f(CW\*(C`mod_status\*(C'\fR to be configured in the webserver you're going to
+collect data from. These plugins are listed below as well, even if they don't
+require any configuration within collectd's configfile.
+.PP
+A list of all plugins and a short summary for each plugin can be found in the
+\&\fI\s-1README\s0\fR file shipped with the sourcecode and hopefully binary packets as
+well.
+.ie n .SS "Plugin ""apache"""
+.el .SS "Plugin \f(CWapache\fP"
+.IX Subsection "Plugin apache"
+To configure the \f(CW\*(C`apache\*(C'\fR\-plugin you first need to configure the Apache
+webserver correctly. The Apache-plugin \f(CW\*(C`mod_status\*(C'\fR needs to be loaded and
+working and the \f(CW\*(C`ExtendedStatus\*(C'\fR directive needs to be \fBenabled\fR. You can use
+the following snipped to base your Apache config upon:
+.PP
+.Vb 6
+\&  ExtendedStatus on
+\&  <IfModule mod_status.c>
+\&    <Location /mod_status>
+\&      SetHandler server\-status
+\&    </Location>
+\&  </IfModule>
+.Ve
+.PP
+Since its \f(CW\*(C`mod_status\*(C'\fR module is very similar to Apache's, \fBlighttpd\fR is
+also supported. It introduces a new field, called \f(CW\*(C`BusyServers\*(C'\fR, to count the
+number of currently connected clients. This field is also supported.
+.PP
+The following options are accepted by the \f(CW\*(C`apache\*(C'\fR\-plugin:
+.IP "\fB\s-1URL\s0\fR \fIhttp://host/mod_status?auto\fR" 4
+.IX Item "URL http://host/mod_status?auto"
+Sets the \s-1URL\s0 of the \f(CW\*(C`mod_status\*(C'\fR output. This needs to be the output generated
+by \f(CW\*(C`ExtendedStatus on\*(C'\fR and it needs to be the machine readable output
+generated by appending the \f(CW\*(C`?auto\*(C'\fR argument.
+.IP "\fBUser\fR \fIUsername\fR" 4
+.IX Item "User Username"
+Optional user name needed for authentication.
+.IP "\fBPassword\fR \fIPassword\fR" 4
+.IX Item "Password Password"
+Optional password needed for authentication.
+.IP "\fBVerifyPeer\fR \fBtrue|false\fR" 4
+.IX Item "VerifyPeer true|false"
+Enable or disable peer \s-1SSL\s0 certificate verification. See
+<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
+.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
+.IX Item "VerifyHost true|false"
+Enable or disable peer host name verification. If enabled, the plugin checks
+if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
+certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
+identity check fails, the connection is aborted. Obviously, only works when
+connecting to a \s-1SSL\s0 enabled server. Enabled by default.
+.IP "\fBCACert\fR \fIFile\fR" 4
+.IX Item "CACert File"
+File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
+possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
+and are checked by default depends on the distribution you use.
+.ie n .SS "Plugin ""apcups"""
+.el .SS "Plugin \f(CWapcups\fP"
+.IX Subsection "Plugin apcups"
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname of the host running \fBapcupsd\fR. Defaults to \fBlocalhost\fR. Please note
+that IPv6 support has been disabled unless someone can confirm or decline that
+\&\fBapcupsd\fR can handle it.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+TCP-Port to connect to. Defaults to \fB3551\fR.
+.ie n .SS "Plugin ""ascent"""
+.el .SS "Plugin \f(CWascent\fP"
+.IX Subsection "Plugin ascent"
+This plugin collects information about an Ascent server, a free server for the
+\&\*(L"World of Warcraft\*(R" game. This plugin gathers the information by fetching the
+\&\s-1XML\s0 status page using \f(CW\*(C`libcurl\*(C'\fR and parses it using \f(CW\*(C`libxml2\*(C'\fR.
+.PP
+The configuration options are the same as for the \f(CW\*(C`apache\*(C'\fR plugin above:
+.IP "\fB\s-1URL\s0\fR \fIhttp://localhost/ascent/status/\fR" 4
+.IX Item "URL http://localhost/ascent/status/"
+Sets the \s-1URL\s0 of the \s-1XML\s0 status output.
+.IP "\fBUser\fR \fIUsername\fR" 4
+.IX Item "User Username"
+Optional user name needed for authentication.
+.IP "\fBPassword\fR \fIPassword\fR" 4
+.IX Item "Password Password"
+Optional password needed for authentication.
+.IP "\fBCACert\fR \fIFile\fR" 4
+.IX Item "CACert File"
+File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
+possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
+and are checked by default depends on the distribution you use.
+.ie n .SS "Plugin ""cpufreq"""
+.el .SS "Plugin \f(CWcpufreq\fP"
+.IX Subsection "Plugin cpufreq"
+This plugin doesn't have any options. It reads
+\&\fI/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq\fR (for the first \s-1CPU\s0
+installed) to get the current \s-1CPU\s0 frequency. If this file does not exist make
+sure \fBcpufreqd\fR (<http://cpufreqd.sourceforge.net/>) or a similar tool is
+installed and an \*(L"cpu governor\*(R" (that's a kernel module) is loaded.
+.ie n .SS "Plugin ""csv"""
+.el .SS "Plugin \f(CWcsv\fP"
+.IX Subsection "Plugin csv"
+.IP "\fBDataDir\fR \fIDirectory\fR" 4
+.IX Item "DataDir Directory"
+Set the directory to store CSV-files under. Per default CSV-files are generated
+beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
+.IP "\fBStoreRates\fR \fBtrue|false\fR" 4
+.IX Item "StoreRates true|false"
+If set to \fBtrue\fR, convert counter values to rates. If set to \fBfalse\fR (the
+default) counter values are stored as is, i.\ e. as an increasing integer
+number.
+.ie n .SS "Plugin ""df"""
+.el .SS "Plugin \f(CWdf\fP"
+.IX Subsection "Plugin df"
+.IP "\fBDevice\fR \fIDevice\fR" 4
+.IX Item "Device Device"
+Select partitions based on the devicename.
+.IP "\fBMountPoint\fR \fIDirectory\fR" 4
+.IX Item "MountPoint Directory"
+Select partitions based on the mountpoint.
+.IP "\fBFSType\fR \fIFSType\fR" 4
+.IX Item "FSType FSType"
+Select partitions based on the filesystem type.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+Invert the selection: If set to true, all partitions \fBexcept\fR the ones that
+match any one of the criteria are collected. By default only selected
+partitions are collected if a selection is made. If no selection is configured
+at all, \fBall\fR partitions are selected.
+.ie n .SS "Plugin ""disk"""
+.el .SS "Plugin \f(CWdisk\fP"
+.IX Subsection "Plugin disk"
+The \f(CW\*(C`disk\*(C'\fR plugin collects information about the usage of physical disks and
+logical disks (partitions). Values collected are the number of octets written
+to and read from a disk or partition, the number of read/write operations
+issued to the disk and a rather complex \*(L"time\*(R" it took for these commands to be
+issued.
+.PP
+Using the following two options you can ignore some disks or configure the
+collection only of specific disks.
+.IP "\fBDisk\fR \fIName\fR" 4
+.IX Item "Disk Name"
+Select the disk \fIName\fR. Whether it is collected or ignored depends on the
+\&\fBIgnoreSelected\fR setting, see below. As with other plugins that use the
+daemon's ignorelist functionality, a string that starts and ends with a slash
+is interpreted as a regular expression. Examples:
+.Sp
+.Vb 2
+\&  Disk "sdd"
+\&  Disk "/hda[34]/"
+.Ve
+.IP "\fBIgnoreSelected\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+Sets whether selected disks, i.\ e. the ones matches by any of the \fBDisk\fR
+statements, are ignored or if all other disks are ignored. The behavior
+(hopefully) is intuitive: If no \fBDisk\fR option is configured, all disks are
+collected. If at least one \fBDisk\fR option is given and no \fBIgnoreSelected\fR or
+set to \fBfalse\fR, \fBonly\fR matching disks will be collected. If \fBIgnoreSelected\fR
+is set to \fBtrue\fR, all disks are collected \fBexcept\fR the ones matched.
+.ie n .SS "Plugin ""dns"""
+.el .SS "Plugin \f(CWdns\fP"
+.IX Subsection "Plugin dns"
+.IP "\fBInterface\fR \fIInterface\fR" 4
+.IX Item "Interface Interface"
+The dns plugin uses \fBlibpcap\fR to capture dns traffic and analyses it. This
+option sets the interface that should be used. If this option is not set, or
+set to \*(L"any\*(R", the plugin will try to get packets from \fBall\fR interfaces. This
+may not work on certain platforms, such as Mac\ \s-1OS\s0\ X.
+.IP "\fBIgnoreSource\fR \fIIP-address\fR" 4
+.IX Item "IgnoreSource IP-address"
+Ignore packets that originate from this address.
+.ie n .SS "Plugin ""email"""
+.el .SS "Plugin \f(CWemail\fP"
+.IX Subsection "Plugin email"
+.IP "\fBSocketFile\fR \fIPath\fR" 4
+.IX Item "SocketFile Path"
+Sets the socket-file which is to be created.
+.IP "\fBSocketGroup\fR \fIGroup\fR" 4
+.IX Item "SocketGroup Group"
+If running as root change the group of the UNIX-socket after it has been
+created. Defaults to \fBcollectd\fR.
+.IP "\fBSocketPerms\fR \fIPermissions\fR" 4
+.IX Item "SocketPerms Permissions"
+Change the file permissions of the UNIX-socket after it has been created. The
+permissions must be given as a numeric, octal value as you would pass to
+\&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
+.IP "\fBMaxConns\fR \fINumber\fR" 4
+.IX Item "MaxConns Number"
+Sets the maximum number of connections that can be handled in parallel. Since
+this many threads will be started immediately setting this to a very high
+value will waste valuable resources. Defaults to \fB5\fR and will be forced to be
+at most \fB16384\fR to prevent typos and dumb mistakes.
+.ie n .SS "Plugin ""exec"""
+.el .SS "Plugin \f(CWexec\fP"
+.IX Subsection "Plugin exec"
+Please make sure to read \fIcollectd\-exec\fR\|(5) before using this plugin. It
+contains valuable information on when the executable is executed and the
+output that is expected from it.
+.IP "\fBExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR [\fI<arg>\fR [\fI<arg>\fR ...]]" 4
+.IX Item "Exec User[:[Group]] Executable [<arg> [<arg> ...]]"
+.PD 0
+.IP "\fBNotificationExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR [\fI<arg>\fR [\fI<arg>\fR ...]]" 4
+.IX Item "NotificationExec User[:[Group]] Executable [<arg> [<arg> ...]]"
+.PD
+Execute the executable \fIExecutable\fR as user \fIUser\fR. If the user name is
+followed by a colon and a group name, the effective group is set to that group.
+The real group and saved-set group will be set to the default group of that
+user. If no group is given the effective group \s-1ID\s0 will be the same as the real
+group \s-1ID\s0.
+.Sp
+Please note that in order to change the user and/or group the daemon needs
+superuser privileges. If the daemon is run as an unprivileged user you must
+specify the same user/group here. If the daemon is run with superuser
+privileges, you must supply a non-root user here.
+.Sp
+The executable may be followed by optional arguments that are passed to the
+program. Please note that due to the configuration parsing numbers and boolean
+values may be changed. If you want to be absolutely sure that something is
+passed as-is please enclose it in quotes.
+.Sp
+The \fBExec\fR and \fBNotificationExec\fR statements change the semantics of the
+programs executed, i.\ e. the data passed to them and the response
+expected from them. This is documented in great detail in \fIcollectd\-exec\fR\|(5).
+.ie n .SS "Plugin ""hddtemp"""
+.el .SS "Plugin \f(CWhddtemp\fP"
+.IX Subsection "Plugin hddtemp"
+To get values from \fBhddtemp\fR collectd connects to \fBlocalhost\fR (127.0.0.1),
+port \fB7634/tcp\fR. The \fBHost\fR and \fBPort\fR options can be used to change these
+default values, see below. \f(CW\*(C`hddtemp\*(C'\fR has to be running to work correctly. If
+\&\f(CW\*(C`hddtemp\*(C'\fR is not running timeouts may appear which may interfere with other
+statistics..
+.PP
+The \fBhddtemp\fR homepage can be found at
+<http://www.guzu.net/linux/hddtemp.php>.
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname to connect to. Defaults to \fB127.0.0.1\fR.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+TCP-Port to connect to. Defaults to \fB7634\fR.
+.IP "\fBTranslateDevicename\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "TranslateDevicename true|false"
+If enabled, translate the disk names to major/minor device numbers
+(e.\ g. \*(L"8\-0\*(R" for /dev/sda). For backwards compatibility this defaults to
+\&\fItrue\fR but it's recommended to disable it as it will probably be removed in
+the next major version.
+.ie n .SS "Plugin ""interface"""
+.el .SS "Plugin \f(CWinterface\fP"
+.IX Subsection "Plugin interface"
+.IP "\fBInterface\fR \fIInterface\fR" 4
+.IX Item "Interface Interface"
+Select this interface. By default these interfaces will then be collected. For
+a more detailed description see \fBIgnoreSelected\fR below.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+If no configuration if given, the \fBtraffic\fR\-plugin will collect data from
+all interfaces. This may not be practical, especially for loopback\- and
+similar interfaces. Thus, you can use the \fBInterface\fR\-option to pick the
+interfaces you're interested in. Sometimes, however, it's easier/preferred
+to collect all interfaces \fIexcept\fR a few ones. This option enables you to
+do that: By setting \fBIgnoreSelected\fR to \fItrue\fR the effect of
+\&\fBInterface\fR is inversed: All selected interfaces are ignored and all
+other interfaces are collected.
+.ie n .SS "Plugin ""ipmi"""
+.el .SS "Plugin \f(CWipmi\fP"
+.IX Subsection "Plugin ipmi"
+.IP "\fBSensor\fR \fISensor\fR" 4
+.IX Item "Sensor Sensor"
+Selects sensors to collect or to ignore, depending on \fBIgnoreSelected\fR.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+If no configuration if given, the \fBipmi\fR plugin will collect data from all
+sensors found of type \*(L"temperature\*(R", \*(L"voltage\*(R", \*(L"current\*(R" and \*(L"fanspeed\*(R".
+This option enables you to do that: By setting \fBIgnoreSelected\fR to \fItrue\fR
+the effect of \fBSensor\fR is inverted: All selected sensors are ignored and
+all other sensors are collected.
+.ie n .SS "Plugin ""iptables"""
+.el .SS "Plugin \f(CWiptables\fP"
+.IX Subsection "Plugin iptables"
+.IP "\fBChain\fR \fITable\fR \fIChain\fR [\fIComment|Number\fR [\fIName\fR]]" 4
+.IX Item "Chain Table Chain [Comment|Number [Name]]"
+Select the rules to count. If only \fITable\fR and \fIChain\fR are given, this plugin
+will collect the counters of all rules which have a comment-match. The comment
+is then used as type-instance.
+.Sp
+If \fIComment\fR or \fINumber\fR is given, only the rule with the matching comment or
+the \fIn\fRth rule will be collected. Again, the comment (or the number) will be
+used as the type-instance.
+.Sp
+If \fIName\fR is supplied, it will be used as the type-instance instead of the
+comment or the number.
+.ie n .SS "Plugin ""irq"""
+.el .SS "Plugin \f(CWirq\fP"
+.IX Subsection "Plugin irq"
+.IP "\fBIrq\fR \fIIrq\fR" 4
+.IX Item "Irq Irq"
+Select this irq. By default these irqs will then be collected. For a more
+detailed description see \fBIgnoreSelected\fR below.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+If no configuration if given, the \fBirq\fR\-plugin will collect data from all
+irqs. This may not be practical, especially if no interrupts happen. Thus, you
+can use the \fBIrq\fR\-option to pick the interrupt you're interested in.
+Sometimes, however, it's easier/preferred to collect all interrupts \fIexcept\fR a
+few ones. This option enables you to do that: By setting \fBIgnoreSelected\fR to
+\&\fItrue\fR the effect of \fBIrq\fR is inversed: All selected interrupts are ignored
+and all other interrupts are collected.
+.ie n .SS "Plugin ""libvirt"""
+.el .SS "Plugin \f(CWlibvirt\fP"
+.IX Subsection "Plugin libvirt"
+This plugin allows \s-1CPU\s0, disk and network load to be collected for virtualized
+guests on the machine. This means that these characteristics can be collected
+for guest systems without installing any software on them \- collectd only runs
+on the hosting system. The statistics are collected through libvirt
+(<http://libvirt.org/>).
+.PP
+Only \fIConnection\fR is required.
+.IP "\fBConnection\fR \fIuri\fR" 4
+.IX Item "Connection uri"
+Connect to the hypervisor given by \fIuri\fR. For example if using Xen use:
+.Sp
+.Vb 1
+\& Connection "xen:///"
+.Ve
+.Sp
+Details which URIs allowed are given at <http://libvirt.org/uri.html>.
+.IP "\fBRefreshInterval\fR \fIseconds\fR" 4
+.IX Item "RefreshInterval seconds"
+Refresh the list of domains and devices every \fIseconds\fR. The default is 60
+seconds. Setting this to be the same or smaller than the \fIInterval\fR will cause
+the list of domains and devices to be refreshed on every iteration.
+.Sp
+Refreshing the devices in particular is quite a costly operation, so if your
+virtualization setup is static you might consider increasing this. If this
+option is set to 0, refreshing is disabled completely.
+.IP "\fBDomain\fR \fIname\fR" 4
+.IX Item "Domain name"
+.PD 0
+.IP "\fBBlockDevice\fR \fIname:dev\fR" 4
+.IX Item "BlockDevice name:dev"
+.IP "\fBInterfaceDevice\fR \fIname:dev\fR" 4
+.IX Item "InterfaceDevice name:dev"
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+.PD
+Select which domains and devices are collected.
+.Sp
+If \fIIgnoreSelected\fR is not given or \fIfalse\fR then only the listed domains and
+disk/network devices are collected.
+.Sp
+If \fIIgnoreSelected\fR is \fItrue\fR then the test is reversed and the listed
+domains and disk/network devices are ignored, while the rest are collected.
+.Sp
+The domain name and device names may use a regular expression, if the name is
+surrounded by \fI/.../\fR and collectd was compiled with support for regexps.
+.Sp
+The default is to collect statistics for all domains and all their devices.
+.Sp
+Example:
+.Sp
+.Vb 2
+\& BlockDevice "/:hdb/"
+\& IgnoreSelected "true"
+.Ve
+.Sp
+Ignore all \fIhdb\fR devices on any domain, but other block devices (eg. \fIhda\fR)
+will be collected.
+.IP "\fBHostnameFormat\fR \fBname|uuid|hostname|...\fR" 4
+.IX Item "HostnameFormat name|uuid|hostname|..."
+When the libvirt plugin logs data, it sets the hostname of the collected data
+according to this setting. The default is to use the guest name as provided by
+the hypervisor, which is equal to setting \fBname\fR.
+.Sp
+\&\fBuuid\fR means use the guest's \s-1UUID\s0. This is useful if you want to track the
+same guest across migrations.
+.Sp
+\&\fBhostname\fR means to use the global \fBHostname\fR setting, which is probably not
+useful on its own because all guests will appear to have the same name.
+.Sp
+You can also specify combinations of these fields. For example \fBname uuid\fR
+means to concatenate the guest name and \s-1UUID\s0 (with a literal colon character
+between, thus \fI\*(L"foo:1234\-1234\-1234\-1234\*(R"\fR).
+.ie n .SS "Plugin ""logfile"""
+.el .SS "Plugin \f(CWlogfile\fP"
+.IX Subsection "Plugin logfile"
+.IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
+.IX Item "LogLevel debug|info|notice|warning|err"
+Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
+severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be written to the logfile.
+.Sp
+Please note that \fBdebug\fR is only available if collectd has been compiled with
+debugging support.
+.IP "\fBFile\fR \fIFile\fR" 4
+.IX Item "File File"
+Sets the file to write log messages to. The special strings \fBstdout\fR and
+\&\fBstderr\fR can be used to write to the standard output and standard error
+channels, respectively. This, of course, only makes much sense when collectd is
+running in foreground\- or non-daemon-mode.
+.IP "\fBTimestamp\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Timestamp true|false"
+Prefix all lines printed by the current time. Defaults to \fBtrue\fR.
+.ie n .SS "Plugin ""mbmon"""
+.el .SS "Plugin \f(CWmbmon\fP"
+.IX Subsection "Plugin mbmon"
+The \f(CW\*(C`mbmon plugin\*(C'\fR uses mbmon to retrieve temperature, voltage, etc.
+.PP
+Be default collectd connects to \fBlocalhost\fR (127.0.0.1), port \fB411/tcp\fR. The
+\&\fBHost\fR and \fBPort\fR options can be used to change these values, see below.
+\&\f(CW\*(C`mbmon\*(C'\fR has to be running to work correctly. If \f(CW\*(C`mbmon\*(C'\fR is not running
+timeouts may appear which may interfere with other statistics..
+.PP
+\&\f(CW\*(C`mbmon\*(C'\fR must be run with the \-r option (\*(L"print \s-1TAG\s0 and Value format\*(R");
+Debian's \fI/etc/init.d/mbmon\fR script already does this, other people
+will need to ensure that this is the case.
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname to connect to. Defaults to \fB127.0.0.1\fR.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+TCP-Port to connect to. Defaults to \fB411\fR.
+.ie n .SS "Plugin ""memcached"""
+.el .SS "Plugin \f(CWmemcached\fP"
+.IX Subsection "Plugin memcached"
+The \f(CW\*(C`memcached plugin\*(C'\fR connects to a memcached server and queries statistics
+about cache utilization, memory and bandwidth used.
+<http://www.danga.com/memcached/>
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname to connect to. Defaults to \fB127.0.0.1\fR.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+TCP-Port to connect to. Defaults to \fB11211\fR.
+.ie n .SS "Plugin ""mysql"""
+.el .SS "Plugin \f(CWmysql\fP"
+.IX Subsection "Plugin mysql"
+The \f(CW\*(C`mysql plugin\*(C'\fR requires \fBmysqlclient\fR to be installed. It connects to the
+database when started and keeps the connection up as long as possible. When the
+connection is interrupted for whatever reason it will try to re-connect. The
+plugin will complaint loudly in case anything goes wrong.
+.PP
+This plugin issues \f(CW\*(C`SHOW STATUS\*(C'\fR and evaluates \f(CW\*(C`Bytes_{received,sent}\*(C'\fR,
+\&\f(CW\*(C`Com_*\*(C'\fR and \f(CW\*(C`Handler_*\*(C'\fR which correspond to \fImysql_octets.rrd\fR,
+\&\fImysql_commands\-*.rrd\fR and \fImysql_handler\-*.rrd\fR. Also, the values of
+\&\f(CW\*(C`Qcache_*\*(C'\fR are put in \fImysql_qcache.rrd\fR and values of \f(CW\*(C`Threads_*\*(C'\fR are put
+in \fImysql_threads.rrd\fR. Please refer to the \fBMySQL reference manual\fR,
+\&\fI5.2.4. Server Status Variables\fR for an explanation of these values.
+.PP
+Use the following options to configure the plugin:
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname of the database server. Defaults to \fBlocalhost\fR.
+.IP "\fBUser\fR \fIUsername\fR" 4
+.IX Item "User Username"
+Username to use when connecting to the database.
+.IP "\fBPassword\fR \fIPassword\fR" 4
+.IX Item "Password Password"
+Password needed to log into the database.
+.IP "\fBDatabase\fR \fIDatabase\fR" 4
+.IX Item "Database Database"
+Select this database. Defaults to \fIno database\fR which is a perfectly reasonable
+option for what this plugin does.
+.ie n .SS "Plugin ""netlink"""
+.el .SS "Plugin \f(CWnetlink\fP"
+.IX Subsection "Plugin netlink"
+The \f(CW\*(C`netlink\*(C'\fR plugin uses a netlink socket to query the Linux kernel about
+statistics of various interface and routing aspects.
+.IP "\fBInterface\fR \fIInterface\fR" 4
+.IX Item "Interface Interface"
+.PD 0
+.IP "\fBVerboseInterface\fR \fIInterface\fR" 4
+.IX Item "VerboseInterface Interface"
+.PD
+Instruct the plugin to collect interface statistics. This is basically the same
+as the statistics provided by the \f(CW\*(C`interface\*(C'\fR plugin (see above) but
+potentially much more detailed.
+.Sp
+When configuring with \fBInterface\fR only the basic statistics will be collected,
+namely octets, packets, and errors. These statistics are collected by
+the \f(CW\*(C`interface\*(C'\fR plugin, too, so using both at the same time is no benefit.
+.Sp
+When configured with \fBVerboseInterface\fR all counters \fBexcept\fR the basic ones,
+so that no data needs to be collected twice if you use the \f(CW\*(C`interface\*(C'\fR plugin.
+This includes dropped packets, received multicast packets, collisions and a
+whole zoo of differentiated \s-1RX\s0 and \s-1TX\s0 errors. You can try the following command
+to get an idea of what awaits you:
+.Sp
+.Vb 1
+\&  ip \-s \-s link list
+.Ve
+.Sp
+If \fIInterface\fR is \fBAll\fR, all interfaces will be selected.
+.IP "\fBQDisc\fR \fIInterface\fR [\fIQDisc\fR]" 4
+.IX Item "QDisc Interface [QDisc]"
+.PD 0
+.IP "\fBClass\fR \fIInterface\fR [\fIClass\fR]" 4
+.IX Item "Class Interface [Class]"
+.IP "\fBFilter\fR \fIInterface\fR [\fIFilter\fR]" 4
+.IX Item "Filter Interface [Filter]"
+.PD
+Collect the octets and packets that pass a certain qdisc, class or filter.
+.Sp
+QDiscs and classes are identified by their type and handle (or classid).
+Filters don't necessarily have a handle, therefore the parent's handle is used.
+The notation used in collectd differs from that used in \fItc\fR\|(1) in that it
+doesn't skip the major or minor number if it's zero and doesn't print special
+ids by their name. So, for example, a qdisc may be identified by
+\&\f(CW\*(C`pfifo_fast\-1:0\*(C'\fR even though the minor number of \fBall\fR qdiscs is zero and
+thus not displayed by \fItc\fR\|(1).
+.Sp
+If \fBQDisc\fR, \fBClass\fR, or \fBFilter\fR is given without the second argument,
+i.\ .e. without an identifier, all qdiscs, classes, or filters that are
+associated with that interface will be collected.
+.Sp
+Since a filter itself doesn't necessarily have a handle, the parent's handle is
+used. This may lead to problems when more than one filter is attached to a
+qdisc or class. This isn't nice, but we don't know how this could be done any
+better. If you have a idea, please don't hesitate to tell us.
+.Sp
+As with the \fBInterface\fR option you can specify \fBAll\fR as the interface,
+meaning all interfaces.
+.Sp
+Here are some examples to help you understand the above text more easily:
+.Sp
+.Vb 7
+\&  <Plugin netlink>
+\&    VerboseInterface "All"
+\&    QDisc "eth0" "pfifo_fast\-1:0"
+\&    QDisc "ppp0"
+\&    Class "ppp0" "htb\-1:10"
+\&    Filter "ppp0" "u32\-1:0"
+\&  </Plugin>
+.Ve
+.IP "\fBIgnoreSelected\fR" 4
+.IX Item "IgnoreSelected"
+The behaviour is the same as with all other similar plugins: If nothing is
+selected at all, everything is collected. If some things are selected using the
+options described above, only these statistics are collected. If you set
+\&\fBIgnoreSelected\fR to \fBtrue\fR, this behavior is inversed, i.\ e. the
+specified statistics will not be collected.
+.ie n .SS "Plugin ""network"""
+.el .SS "Plugin \f(CWnetwork\fP"
+.IX Subsection "Plugin network"
+.IP "\fBListen\fR \fIHost\fR [\fIPort\fR]" 4
+.IX Item "Listen Host [Port]"
+.PD 0
+.IP "\fBServer\fR \fIHost\fR [\fIPort\fR]" 4
+.IX Item "Server Host [Port]"
+.PD
+The \fBServer\fR statement sets the server to send datagrams \fBto\fR.  The statement
+may occur multiple times to send each datagram to multiple destinations.
+.Sp
+The \fBListen\fR statement sets the interfaces to bind to. When multiple
+statements are found the daemon will bind to multiple interfaces.
+.Sp
+The argument \fIHost\fR may be a hostname, an IPv4 address or an IPv6 address. If
+the argument is a multicast address the daemon will join that multicast group.
+.Sp
+If no \fBListen\fR statement is found the server tries join both, the default IPv6
+multicast group and the default IPv4 multicast group. If no \fBServer\fR statement
+is found the client will try to send data to the IPv6 multicast group first. If
+that fails the client will try the IPv4 multicast group.
+.Sp
+The default IPv6 multicast group is \f(CW\*(C`ff18::efc0:4a42\*(C'\fR. The default IPv4
+multicast group is \f(CW239.192.74.66\fR.
+.Sp
+The optional \fIPort\fR argument sets the port to use. It can either be given
+using a numeric port number or a service name. If the argument is omitted the
+default port \fB25826\fR is assumed.
+.IP "\fBTimeToLive\fR \fI1\-255\fR" 4
+.IX Item "TimeToLive 1-255"
+Set the time-to-live of sent packets. This applies to all, unicast and
+multicast, and IPv4 and IPv6 packets. The default is to not change this value.
+That means that multicast packets will be sent with a \s-1TTL\s0 of \f(CW1\fR (one) on most
+operating systems.
+.IP "\fBForward\fR \fItrue|false\fR" 4
+.IX Item "Forward true|false"
+If set to \fItrue\fR, write packets that were received via the network plugin to
+the sending sockets. This should only be activated when the \fBListen\fR\- and
+\&\fBServer\fR\-statements differ. Otherwise packets may be send multiple times to
+the same multicast group. While this results in more network traffic than
+necessary it's not a huge problem since the plugin has a duplicate detection,
+so the values will not loop.
+.IP "\fBCacheFlush\fR \fISeconds\fR" 4
+.IX Item "CacheFlush Seconds"
+For each host/plugin/type combination the \f(CW\*(C`network plugin\*(C'\fR caches the time of
+the last value being sent or received. Every \fISeconds\fR seconds the plugin
+searches and removes all entries that are older than \fISeconds\fR seconds, thus
+freeing the unused memory again. Since this process is somewhat expensive and
+normally doesn't do much, this value should not be too small. The default is
+1800 seconds, but setting this to 86400 seconds (one day) will not do much harm
+either.
+.ie n .SS "Plugin ""nginx"""
+.el .SS "Plugin \f(CWnginx\fP"
+.IX Subsection "Plugin nginx"
+This plugin collects the number of connections and requests handled by the
+\&\f(CW\*(C`nginx daemon\*(C'\fR (speak: engine\ X), a \s-1HTTP\s0 and mail server/proxy. It
+queries the page provided by the \f(CW\*(C`ngx_http_stub_status_module\*(C'\fR module, which
+isn't compiled by default. Please refer to
+<http://wiki.codemongers.com/NginxStubStatusModule> for more information on
+how to compile and configure nginx and this module.
+.PP
+The following options are accepted by the \f(CW\*(C`nginx plugin\*(C'\fR:
+.IP "\fB\s-1URL\s0\fR \fIhttp://host/nginx_status\fR" 4
+.IX Item "URL http://host/nginx_status"
+Sets the \s-1URL\s0 of the \f(CW\*(C`ngx_http_stub_status_module\*(C'\fR output.
+.IP "\fBUser\fR \fIUsername\fR" 4
+.IX Item "User Username"
+Optional user name needed for authentication.
+.IP "\fBPassword\fR \fIPassword\fR" 4
+.IX Item "Password Password"
+Optional password needed for authentication.
+.IP "\fBVerifyPeer\fR \fBtrue|false\fR" 4
+.IX Item "VerifyPeer true|false"
+Enable or disable peer \s-1SSL\s0 certificate verification. See
+<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
+.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
+.IX Item "VerifyHost true|false"
+Enable or disable peer host name verification. If enabled, the plugin checks
+if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
+certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
+identity check fails, the connection is aborted. Obviously, only works when
+connecting to a \s-1SSL\s0 enabled server. Enabled by default.
+.IP "\fBCACert\fR \fIFile\fR" 4
+.IX Item "CACert File"
+File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
+possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
+and are checked by default depends on the distribution you use.
+.ie n .SS "Plugin ""ntpd"""
+.el .SS "Plugin \f(CWntpd\fP"
+.IX Subsection "Plugin ntpd"
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname of the host running \fBntpd\fR. Defaults to \fBlocalhost\fR.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+UDP-Port to connect to. Defaults to \fB123\fR.
+.IP "\fBReverseLookups\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "ReverseLookups true|false"
+Sets wether or not to perform reverse lookups on peers. Since the name or
+IP-address may be used in a filename it is recommended to disable reverse
+lookups. The default is to do reverse lookups to preserve backwards
+compatibility, though.
+.ie n .SS "Plugin ""nut"""
+.el .SS "Plugin \f(CWnut\fP"
+.IX Subsection "Plugin nut"
+.IP "\fB\s-1UPS\s0\fR \fIupsname\fR\fB@\fR\fIhostname\fR[\fB:\fR\fIport\fR]" 4
+.IX Item "UPS upsname@hostname[:port]"
+Add a \s-1UPS\s0 to collect data from. The format is identical to the one accepted by
+\&\fIupsc\fR\|(8).
+.ie n .SS "Plugin ""perl"""
+.el .SS "Plugin \f(CWperl\fP"
+.IX Subsection "Plugin perl"
+This plugin embeds a Perl-interpreter into collectd and provides an interface
+to collectd's plugin system. See \fIcollectd\-perl\fR\|(5) for its documentation.
+.ie n .SS "Plugin ""ping"""
+.el .SS "Plugin \f(CWping\fP"
+.IX Subsection "Plugin ping"
+.IP "\fBHost\fR \fIIP-address\fR" 4
+.IX Item "Host IP-address"
+Host to ping periodically. This option may be repeated several times to ping
+multiple hosts.
+.IP "\fB\s-1TTL\s0\fR \fI0\-255\fR" 4
+.IX Item "TTL 0-255"
+Sets the Time-To-Live of generated \s-1ICMP\s0 packets.
+.ie n .SS "Plugin ""powerdns"""
+.el .SS "Plugin \f(CWpowerdns\fP"
+.IX Subsection "Plugin powerdns"
+The \f(CW\*(C`powerdns\*(C'\fR plugin queries statistics from an authoritative PowerDNS
+nameserver and/or a PowerDNS recursor. Since both offer a wide variety of
+values, many of which are probably meaningless to most users, but may be useful
+for some. So you may chose which values to collect, but if you don't, some
+reasonable defaults will be collected.
 .PP
-There are two big groups of plugins, \fBinput\fR and \fBoutput\fR plugins:
+.Vb 10
+\&  <Plugin "powerdns">
+\&    <Server "server_name">
+\&      Collect "latency"
+\&      Collect "udp\-answers" "udp\-queries"
+\&      Socket "/var/run/pdns.controlsocket"
+\&    </Server>
+\&    <Recursor "recursor_name">
+\&      Collect "questions"
+\&      Collect "cache\-hits" "cache\-misses"
+\&      Socket "/var/run/pdns_recursor.controlsocket"
+\&    </Recursor>
+\&    LocalSocket "/opt/collectd/var/run/collectd\-powerdns"
+\&  </Plugin>
+.Ve
+.IP "\fBServer\fR and \fBRecursor\fR block" 4
+.IX Item "Server and Recursor block"
+The \fBServer\fR block defines one authoritative server to query, the \fBRecursor\fR
+does the same for an recursing server. The possible options in both blocks are
+the same, though. The argument defines a name for the server\ / recursor
+and is required.
+.RS 4
+.IP "\fBCollect\fR \fIField\fR" 4
+.IX Item "Collect Field"
+Using the \fBCollect\fR statement you can select which values to collect. Here,
+you specify the name of the values as used by the PowerDNS servers, e.\ g.
+\&\f(CW\*(C`dlg\-only\-drops\*(C'\fR, \f(CW\*(C`answers10\-100\*(C'\fR.
+.Sp
+The method of getting the values differs for \fBServer\fR and \fBRecursor\fR blocks:
+When querying the server a \f(CW\*(C`SHOW *\*(C'\fR command is issued in any case, because
+that's the only way of getting multiple values out of the server at once.
+collectd then picks out the values you have selected. When querying the
+recursor, a command is generated to query exactly these values. So if you
+specify invalid fields when querying the recursor, a syntax error may be
+returned by the daemon and collectd may not collect any values at all.
+.Sp
+If no \fBCollect\fR statement is given, the following \fBServer\fR values will be
+collected:
+.RS 4
+.IP "latency" 4
+.IX Item "latency"
+.PD 0
+.IP "packetcache-hit" 4
+.IX Item "packetcache-hit"
+.IP "packetcache-miss" 4
+.IX Item "packetcache-miss"
+.IP "packetcache-size" 4
+.IX Item "packetcache-size"
+.IP "query-cache-hit" 4
+.IX Item "query-cache-hit"
+.IP "query-cache-miss" 4
+.IX Item "query-cache-miss"
+.IP "recursing-answers" 4
+.IX Item "recursing-answers"
+.IP "recursing-questions" 4
+.IX Item "recursing-questions"
+.IP "tcp-answers" 4
+.IX Item "tcp-answers"
+.IP "tcp-queries" 4
+.IX Item "tcp-queries"
+.IP "udp-answers" 4
+.IX Item "udp-answers"
+.IP "udp-queries" 4
+.IX Item "udp-queries"
+.RE
+.RS 4
+.PD
+.Sp
+The following \fBRecursor\fR values will be collected by default:
+.IP "noerror-answers" 4
+.IX Item "noerror-answers"
+.PD 0
+.IP "nxdomain-answers" 4
+.IX Item "nxdomain-answers"
+.IP "servfail-answers" 4
+.IX Item "servfail-answers"
+.IP "sys-msec" 4
+.IX Item "sys-msec"
+.IP "user-msec" 4
+.IX Item "user-msec"
+.IP "qa-latency" 4
+.IX Item "qa-latency"
+.IP "cache-entries" 4
+.IX Item "cache-entries"
+.IP "cache-hits" 4
+.IX Item "cache-hits"
+.IP "cache-misses" 4
+.IX Item "cache-misses"
+.IP "questions" 4
+.IX Item "questions"
+.RE
+.RS 4
+.PD
+.Sp
+Please note that up to that point collectd doesn't know what values are
+available on the server and values that are added do not need a change of the
+mechanism so far. However, the values must be mapped to collectd's naming
+scheme, which is done using a lookup table that lists all known values. If
+values are added in the future and collectd does not know about them, you will
+get an error much like this:
+.Sp
+.Vb 1
+\&  powerdns plugin: submit: Not found in lookup table: foobar = 42
+.Ve
+.Sp
+In this case please file a bug report with the collectd team.
+.RE
+.IP "\fBSocket\fR \fIPath\fR" 4
+.IX Item "Socket Path"
+Configures the path to the \s-1UNIX\s0 domain socket to be used when connecting to the
+daemon. By default \f(CW\*(C`${localstatedir}/run/pdns.controlsocket\*(C'\fR will be used for
+an authoritative server and \f(CW\*(C`${localstatedir}/run/pdns_recursor.controlsocket\*(C'\fR
+will be used for the recursor.
+.RE
+.RS 4
+.RE
+.IP "\fBLocalSocket\fR \fIPath\fR" 4
+.IX Item "LocalSocket Path"
+Querying the recursor is done using \s-1UDP\s0. When using \s-1UDP\s0 over \s-1UNIX\s0 domain
+sockets, the client socket needs a name in the file system, too. You can set
+this local name to \fIPath\fR using the \fBLocalSocket\fR option. The default is
+\&\f(CW\*(C`\f(CIprefix\f(CW/var/run/collectd\-powerdns\*(C'\fR.
+.ie n .SS "Plugin ""processes"""
+.el .SS "Plugin \f(CWprocesses\fP"
+.IX Subsection "Plugin processes"
+.IP "\fBProcess\fR \fIName\fR" 4
+.IX Item "Process Name"
+Select more detailed statistics of processes matching this name. The statistics
+collected for these selected processes are size of the resident segment size
+(\s-1RSS\s0), user\- and system-time used, number of processes and number of threads,
+and minor and major pagefaults.
+.ie n .SS "Plugin ""rrdtool"""
+.el .SS "Plugin \f(CWrrdtool\fP"
+.IX Subsection "Plugin rrdtool"
+You can use the settings \fBStepSize\fR, \fBHeartBeat\fR, \fBRRARows\fR, and \fB\s-1XFF\s0\fR to
+fine-tune your RRD-files. Please read \fIrrdcreate\fR\|(1) if you encounter problems
+using these settings. If you don't want to dive into the depths of RRDTool, you
+can safely ignore these settings.
+.IP "\fBDataDir\fR \fIDirectory\fR" 4
+.IX Item "DataDir Directory"
+Set the directory to store RRD-files under. Per default RRD-files are generated
+beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
+.IP "\fBStepSize\fR \fISeconds\fR" 4
+.IX Item "StepSize Seconds"
+\&\fBForce\fR the stepsize of newly created RRD-files. Ideally (and per default)
+this setting is unset and the stepsize is set to the interval in which the data
+is collected. Do not use this option unless you absolutely have to for some
+reason. Setting this option may cause problems with the \f(CW\*(C`snmp plugin\*(C'\fR, the
+\&\f(CW\*(C`exec plugin\*(C'\fR or when the daemon is set up to receive data from other hosts.
+.IP "\fBHeartBeat\fR \fISeconds\fR" 4
+.IX Item "HeartBeat Seconds"
+\&\fBForce\fR the heartbeat of newly created RRD-files. This setting should be unset
+in which case the heartbeat is set to twice the \fBStepSize\fR which should equal
+the interval in which data is collected. Do not set this option unless you have
+a very good reason to do so.
+.IP "\fBRRARows\fR \fINumRows\fR" 4
+.IX Item "RRARows NumRows"
+The \f(CW\*(C`rrdtool plugin\*(C'\fR calculates the number of PDPs per \s-1CDP\s0 based on the
+\&\fBStepSize\fR, this setting and a timespan. This plugin creates RRD-files with
+three times five RRAs, i. e. five RRAs with the CFs \fB\s-1MIN\s0\fR, \fB\s-1AVERAGE\s0\fR, and
+\&\fB\s-1MAX\s0\fR. The five RRAs are optimized for graphs covering one hour, one day, one
+week, one month, and one year.
+.Sp
+So for each timespan, it calculates how many PDPs need to be consolidated into
+one \s-1CDP\s0 by calculating:
+  number of PDPs = timespan / (stepsize * rrarows)
+.Sp
+Bottom line is, set this no smaller than the width of you graphs in pixels. The
+default is 1200.
+.IP "\fBRRATimespan\fR \fISeconds\fR" 4
+.IX Item "RRATimespan Seconds"
+Adds an RRA-timespan, given in seconds. Use this option multiple times to have
+more then one \s-1RRA\s0. If this option is never used, the built-in default of (3600,
+86400, 604800, 2678400, 31622400) is used.
+.Sp
+For more information on how RRA-sizes are calculated see \fBRRARows\fR above.
+.IP "\fB\s-1XFF\s0\fR \fIFactor\fR" 4
+.IX Item "XFF Factor"
+Set the \*(L"XFiles Factor\*(R". The default is 0.1. If unsure, don't set this option.
+.IP "\fBCacheFlush\fR \fISeconds\fR" 4
+.IX Item "CacheFlush Seconds"
+When the \f(CW\*(C`rrdtool plugin\*(C'\fR uses a cache (by setting \fBCacheTimeout\fR, see below)
+it writes all values for a certain RRD-file if the oldest value is older than
+(or equal to) the number of seconds specified. If some RRD-file is not updated
+anymore for some reason (the computer was shut down, the network is broken,
+etc.) some values may still be in the cache. If \fBCacheFlush\fR is set, then the
+entire cache is searched for entries older than \fBCacheTimeout\fR seconds and
+written to disk every \fISeconds\fR seconds. Since this is kind of expensive and
+does nothing under normal circumstances, this value should not be too small.
+900 seconds might be a good value, though setting this to 7200 seconds doesn't
+normally do much harm either.
+.IP "\fBCacheTimeout\fR \fISeconds\fR" 4
+.IX Item "CacheTimeout Seconds"
+If this option is set to a value greater than zero, the \f(CW\*(C`rrdtool plugin\*(C'\fR will
+save values in a cache, as described above. Writing multiple values at once
+reduces IO-operations and thus lessens the load produced by updating the files.
+The trade off is that the graphs kind of \*(L"drag behind\*(R" and that more memory is
+used.
+.ie n .SS "Plugin ""sensors"""
+.el .SS "Plugin \f(CWsensors\fP"
+.IX Subsection "Plugin sensors"
+The \f(CW\*(C`sensors plugin\*(C'\fR uses \fBlm_sensors\fR to retrieve sensor-values. This means
+that all the needed modules have to be loaded and lm_sensors has to be
+configured (most likely by editing \fI/etc/sensors.conf\fR. Read
+\&\fIsensors.conf\fR\|(5) for details.
+.PP
+The \fBlm_sensors\fR homepage can be found at
+<http://secure.netroedge.com/~lm78/>.
+.IP "\fBSensor\fR \fIchip\-bus\-address/type\-feature\fR" 4
+.IX Item "Sensor chip-bus-address/type-feature"
+Selects the name of the sensor which you want to collect or ignore, depending
+on the \fBIgnoreSelected\fR below. For example, the option "\fBSensor\fR
+\&\fIit8712\-isa\-0290/voltage\-in1\fR" will cause collectd to gather data for the
+voltage sensor \fIin1\fR of the \fIit8712\fR on the isa bus at the address 0290.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+If no configuration if given, the \fBsensors\fR\-plugin will collect data from all
+sensors. This may not be practical, especially for uninteresting sensors.
+Thus, you can use the \fBSensor\fR\-option to pick the sensors you're interested
+in. Sometimes, however, it's easier/preferred to collect all sensors \fIexcept\fR a
+few ones. This option enables you to do that: By setting \fBIgnoreSelected\fR to
+\&\fItrue\fR the effect of \fBSensor\fR is inversed: All selected sensors are ignored
+and all other sensors are collected.
+.ie n .SS "Plugin ""snmp"""
+.el .SS "Plugin \f(CWsnmp\fP"
+.IX Subsection "Plugin snmp"
+Since the configuration of the \f(CW\*(C`snmp plugin\*(C'\fR is a little more complicated than
+other plugins, its documentation has been moved to an own manpage,
+\&\fIcollectd\-snmp\fR\|(5). Please see there for details.
+.ie n .SS "Plugin ""syslog"""
+.el .SS "Plugin \f(CWsyslog\fP"
+.IX Subsection "Plugin syslog"
+.IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
+.IX Item "LogLevel debug|info|notice|warning|err"
+Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
+severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be submitted to the
+syslog-daemon.
+.Sp
+Please note that \fBdebug\fR is only available if collectd has been compiled with
+debugging support.
+.ie n .SS "Plugin ""tail"""
+.el .SS "Plugin \f(CWtail\fP"
+.IX Subsection "Plugin tail"
+The \f(CW\*(C`tail plugin\*(C'\fR plugins follows logfiles, just like \fItail\fR\|(1) does, parses
+each line and dispatches found values. What is matched can be configured by the
+user using (extended) regular expressions, as described in \fIregex\fR\|(7).
+.PP
+.Vb 10
+\&  <Plugin "tail">
+\&    <File "/var/log/exim4/mainlog">
+\&      Instance "exim"
+\&      <Match>
+\&        Regex "S=([1\-9][0\-9]*)"
+\&        DSType "CounterAdd"
+\&        Type "ipt_bytes"
+\&        Instance "total"
+\&      </Match>
+\&      <Match>
+\&        Regex "\e\e<R=local_user\e\e>"
+\&        DSType "CounterInc"
+\&        Type "counter"
+\&        Instance "local_user"
+\&      </Match>
+\&    </File>
+\&  </Plugin>
+.Ve
+.PP
+The config consists of one or more \fBFile\fR blocks, each of which configures one
+logfile to parse. Within each \fBFile\fR block, there are one or more \fBMatch\fR
+blocks, which configure a regular expression to search for.
+.PP
+The \fBInstance\fR option in the \fBFile\fR block may be used to set the plugin
+instance. So in the above example the plugin name \f(CW\*(C`tail\-foo\*(C'\fR would be used.
+This plugin instance is for all \fBMatch\fR blocks that \fBfollow\fR it, until the
+next \fBInstance\fR option. This way you can extract several plugin instances from
+one logfile, handy when parsing syslog and the like.
+.PP
+Each \fBMatch\fR block has the following options to describe how the match should
+be performed:
+.IP "\fBRegex\fR \fIregex\fR" 4
+.IX Item "Regex regex"
+Sets the regular expression to use for matching against a line. The first
+subexpression has to match something that can be turned into a number by
+\&\fIstrtoll\fR\|(3) or \fIstrtod\fR\|(3), depending on the value of \f(CW\*(C`CounterAdd\*(C'\fR, see
+below. Because \fBextended\fR regular expressions are used, you do not need to use
+backslashes for subexpressions! If in doubt, please consult \fIregex\fR\|(7). Due to
+collectd's config parsing you need to escape backslashes, though. So if you
+want to match literal parentheses you need to do the following:
+.Sp
+.Vb 1
+\&  Regex "SPAM \e\e(Score: (\-?[0\-9]+\e\e.[0\-9]+)\e\e)"
+.Ve
+.IP "\fBDSType\fR \fIType\fR" 4
+.IX Item "DSType Type"
+Sets how the values are cumulated. \fIType\fR is one of:
+.RS 4
+.IP "\fBGaugeAverage\fR" 4
+.IX Item "GaugeAverage"
+Calculate the average.
+.IP "\fBGaugeMin\fR" 4
+.IX Item "GaugeMin"
+Use the smallest number only.
+.IP "\fBGaugeMax\fR" 4
+.IX Item "GaugeMax"
+Use the greatest number only.
+.IP "\fBGaugeLast\fR" 4
+.IX Item "GaugeLast"
+Use the last number found.
+.IP "\fBCounterSet\fR" 4
+.IX Item "CounterSet"
+The matched number is a counter. Simply sets the internal counter to this
+value.
+.IP "\fBCounterAdd\fR" 4
+.IX Item "CounterAdd"
+Add the matched value to the internal counter.
+.IP "\fBCounterInc\fR" 4
+.IX Item "CounterInc"
+Increase the internal counter by one. This \fBDSType\fR is the only one that does
+not use the matched subexpression, but simply counts the number of matched
+lines. Thus, you may use a regular expression without submatch in this case.
+.RE
+.RS 4
+.Sp
+As you'd expect the \fBGauge*\fR types interpret the submatch as a floating point
+number, using \fIstrtod\fR\|(3). The \fBCounterSet\fR and \fBCounterAdd\fR interpret the
+submatch as an integer using \fIstrtoll\fR\|(3). \fBCounterInc\fR does not use the
+submatch at all and it may be omitted in this case.
+.RE
+.IP "\fBType\fR \fIType\fR" 4
+.IX Item "Type Type"
+Sets the type used to dispatch this value. Detailed information about types and
+their configuration can be found in \fItypes.db\fR\|(5).
+.IP "\fBInstance\fR \fITypeInstance\fR" 4
+.IX Item "Instance TypeInstance"
+This optional setting sets the type instance to use.
+.ie n .SS "Plugin ""teamspeak2"""
+.el .SS "Plugin \f(CWteamspeak2\fP"
+.IX Subsection "Plugin teamspeak2"
+The \f(CW\*(C`teamspeak2 plugin\*(C'\fR connects to the query port of a teamspeak2 server and
+polls interesting global and virtual server data. The plugin can query only one
+physical server but unlimited virtual servers. You can use the following
+options to configure it:
+.IP "\fBHost\fR \fIhostname/ip\fR" 4
+.IX Item "Host hostname/ip"
+The hostname or ip which identifies the physical server.
+Default: 127.0.0.1
+.IP "\fBPort\fR \fIport\fR" 4
+.IX Item "Port port"
+The query port of the physical server. This needs to be a string.
+Default: \*(L"51234\*(R"
+.IP "\fBServer\fR \fIport\fR" 4
+.IX Item "Server port"
+This option has to be added once for every virtual server the plugin should
+query. If you want to query the virtual server on port 8767 this is what the
+option would look like:
+.Sp
+.Vb 1
+\&  Server "8767"
+.Ve
+.Sp
+This option, although numeric, needs to be a string, i.\ e. you \fBmust\fR
+use quotes around it! If no such statement is given only global information
+will be collected.
+.ie n .SS "Plugin ""tcpconns"""
+.el .SS "Plugin \f(CWtcpconns\fP"
+.IX Subsection "Plugin tcpconns"
+The \f(CW\*(C`tcpconns plugin\*(C'\fR counts the number of currently established \s-1TCP\s0
+connections based on the local port and/or the remote port. Since there may be
+a lot of connections the default if to count all connections with a local port,
+for which a listening socket is opened. You can use the following options to
+fine-tune the ports you are interested in:
+.IP "\fBListeningPorts\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "ListeningPorts true|false"
+If this option is set to \fItrue\fR, statistics for all local ports for which a
+listening socket exists are collected. The default depends on \fBLocalPort\fR and
+\&\fBRemotePort\fR (see below): If no port at all is specifically selected, the
+default is to collect listening ports. If specific ports (no matter if local or
+remote ports) are selected, this option defaults to \fIfalse\fR, i.\ e. only
+the selected ports will be collected unless this option is set to \fItrue\fR
+specifically.
+.IP "\fBLocalPort\fR \fIPort\fR" 4
+.IX Item "LocalPort Port"
+Count the connections to a specific local port. This can be used to see how
+many connections are handled by a specific daemon, e.\ g. the mailserver.
+You have to specify the port in numeric form, so for the mailserver example
+you'd need to set \fB25\fR.
+.IP "\fBRemotePort\fR \fIPort\fR" 4
+.IX Item "RemotePort Port"
+Count the connections to a specific remote port. This is useful to see how
+much a remote service is used. This is most useful if you want to know how many
+connections a local service has opened to remote services, e.\ g. how many
+connections a mail server or news server has to other mail or news servers, or
+how many connections a web proxy holds to web servers. You have to give the
+port in numeric form.
+.ie n .SS "Plugin ""unixsock"""
+.el .SS "Plugin \f(CWunixsock\fP"
+.IX Subsection "Plugin unixsock"
+.IP "\fBSocketFile\fR \fIPath\fR" 4
+.IX Item "SocketFile Path"
+Sets the socket-file which is to be created.
+.IP "\fBSocketGroup\fR \fIGroup\fR" 4
+.IX Item "SocketGroup Group"
+If running as root change the group of the UNIX-socket after it has been
+created. Defaults to \fBcollectd\fR.
+.IP "\fBSocketPerms\fR \fIPermissions\fR" 4
+.IX Item "SocketPerms Permissions"
+Change the file permissions of the UNIX-socket after it has been created. The
+permissions must be given as a numeric, octal value as you would pass to
+\&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
+.ie n .SS "Plugin ""uuid"""
+.el .SS "Plugin \f(CWuuid\fP"
+.IX Subsection "Plugin uuid"
+This plugin, if loaded, causes the Hostname to be taken from the machine's
+\&\s-1UUID\s0. The \s-1UUID\s0 is a universally unique designation for the machine, usually
+taken from the machine's \s-1BIOS\s0. This is most useful if the machine is running in
+a virtual environment such as Xen, in which case the \s-1UUID\s0 is preserved across
+shutdowns and migration.
+.PP
+The following methods are used to find the machine's \s-1UUID\s0, in order:
+.IP "\(bu" 4
+Check \fI/etc/uuid\fR (or \fIUUIDFile\fR).
 .IP "\(bu" 4
-Input plugins are queried periodically. They somehow acquire the current value
-of whatever they where designed to work with and submit these values back to
-the daemon, i. e. they \*(L"dispatch\*(R" the values. As an example, the \f(CW\*(C`cpu plugin\*(C'\fR
-reads the current cpu-counters of time spent in the various modes (user,
-system, nice, ...) and dispatches these counters to the daemon.
+Check for \s-1UUID\s0 from \s-1HAL\s0 (<http://www.freedesktop.org/wiki/Software/hal>) if
+present.
 .IP "\(bu" 4
-Output plugins get the dispatched values from the daemon and does something
-with them. Common applications are writing to RRD-files, CSV-files or sending
-the data over a network link to a remote box.
-.PP
-Of course not all plugins fit neatly into one of the two above categories. The
-\&\f(CW\*(C`network plugin\*(C'\fR, for example, is able to send (i.\ e. \*(L"write\*(R") \fBand\fR
-receive (i.\ e. \*(L"dispatch\*(R") values. Also, it opens a socket upon
-initialization and dispatches the values when it receives them and isn't
-triggered at the same time the input plugins are being read. You can think of
-the network receive part as working asynchronous if it helps.
-.PP
-In addition to the above, there are \*(L"logging plugins\*(R". Right now those are the
-\&\f(CW\*(C`logfile plugin\*(C'\fR and the \f(CW\*(C`syslog plugin\*(C'\fR. With these plugins collectd can
-provide information about issues and significant situations to the user.
-Several loglevels let you suppress uninteresting messages.
-.PP
-Starting with version \f(CW4.3.0\fR collectd has support for \fBmonitoring\fR. This is
-done by checking thresholds defined by the user. If a value is out of range, a
-notification will be dispatched to \*(L"notification plugins\*(R". See
-\&\fIcollectd.conf\fR\|(5) for more detailed information about threshold checking.
-.PP
-Please note that some plugins, that provide other means of communicating with
-the daemon, have manpages of their own to describe their functionality in more
-detail. In particular those are \fIcollectd\-email\fR\|(5), \fIcollectd\-exec\fR\|(5),
-\&\fIcollectd\-perl\fR\|(5), \fIcollectd\-snmp\fR\|(5), and \fIcollectd\-unixsock\fR\|(5)
-.SH "SIGNALS"
-.IX Header "SIGNALS"
-\&\fBcollectd\fR accepts the following signals:
-.IP "\fB\s-1SIGINT\s0\fR, \fB\s-1SIGTERM\s0\fR" 4
-.IX Item "SIGINT, SIGTERM"
-These signals cause \fBcollectd\fR to shut down all plugins and terminate.
-.IP "\fB\s-1SIGUSR1\s0\fR" 4
-.IX Item "SIGUSR1"
-This signal causes \fBcollectd\fR to signal all plugins to flush data from
-internal caches. E.\ g. the \f(CW\*(C`rrdtool plugin\*(C'\fR will write all pending data
-to the \s-1RRD\s0 files. This is the same as using the \f(CW\*(C`FLUSH \-1\*(C'\fR command of the
-\&\f(CW\*(C`unixsock plugin\*(C'\fR.
+Check for \s-1UUID\s0 from \f(CW\*(C`dmidecode\*(C'\fR / \s-1SMBIOS\s0.
+.IP "\(bu" 4
+Check for \s-1UUID\s0 from Xen hypervisor.
+.PP
+If no \s-1UUID\s0 can be found then the hostname is not modified.
+.IP "\fBUUIDFile\fR \fIPath\fR" 4
+.IX Item "UUIDFile Path"
+Take the \s-1UUID\s0 from the given file (default \fI/etc/uuid\fR).
+.ie n .SS "Plugin ""vmem"""
+.el .SS "Plugin \f(CWvmem\fP"
+.IX Subsection "Plugin vmem"
+The \f(CW\*(C`vmem\*(C'\fR plugin collects information about the usage of virtual memory.
+Since the statistics provided by the Linux kernel are very detailed, they are
+collected very detailed. However, to get all the details, you have to switch
+them on manually. Most people just want an overview over, such as the number of
+pages read from swap space.
+.IP "\fBVerbose\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Verbose true|false"
+Enables verbose collection of information. This will start collecting page
+\&\*(L"actions\*(R", e.\ g. page allocations, (de)activations, steals and so on.
+Part of these statistics are collected on a \*(L"per zone\*(R" basis.
+.ie n .SS "Plugin ""vserver"""
+.el .SS "Plugin \f(CWvserver\fP"
+.IX Subsection "Plugin vserver"
+This plugin doesn't have any options. \fBVServer\fR support is only available for
+Linux. It cannot yet be found in a vanilla kernel, though. To make use of this
+plugin you need a kernel that has \fBVServer\fR support built in, i.\ e. you
+need to apply the patches and compile your own kernel, which will then provide
+the \fI/proc/virtual\fR filesystem that is required by this plugin.
+.PP
+The \fBVServer\fR homepage can be found at <http://linux\-vserver.org/>.
+.SH "THRESHOLD CONFIGURATION"
+.IX Header "THRESHOLD CONFIGURATION"
+Starting with version \f(CW4.3.0\fR collectd has support for \fBmonitoring\fR. By that
+we mean that the values are not only stored or sent somewhere, but that they
+are judged and, if a problem is recognized, acted upon. The only action
+collectd takes itself is to generate and dispatch a \*(L"notification\*(R". Plugins can
+register to receive notifications and perform appropriate further actions.
+.PP
+Since systems and what you expect them to do differ a lot, you can configure
+\&\fBthresholds\fR for your values freely. This gives you a lot of flexibility but
+also a lot of responsibility.
+.PP
+Every time a value is out of range a notification is dispatched. This means
+that the idle percentage of your \s-1CPU\s0 needs to be less then the configured
+threshold only once for a notification to be generated. There's no such thing
+as a moving average or similar \- at least not now.
+.PP
+Also, all values that match a threshold are considered to be relevant or
+\&\*(L"interesting\*(R". As a consequence collectd will issue a notification if they are
+not received for twice the last timeout of the values. If, for example, some
+hosts sends it's \s-1CPU\s0 statistics to the server every 60 seconds, a notification
+will be dispatched after about 120 seconds. It may take a little longer because
+the timeout is checked only once each \fBInterval\fR on the server.
+.PP
+When a value comes within range again or is received after it was missing, an
+\&\*(L"OKAY-notification\*(R" is dispatched.
+.PP
+Here is a configuration example to get you started. Read below for more
+information.
+.PP
+.Vb 9
+\& <Threshold>
+\&   <Type "foo">
+\&     WarningMin    0.00
+\&     WarningMax 1000.00
+\&     FailureMin    0.00
+\&     FailureMax 1200.00
+\&     Invert false
+\&     Instance "bar"
+\&   </Type>
+\&
+\&   <Plugin "interface">
+\&     Instance "eth0"
+\&     <Type "if_octets">
+\&       FailureMax 10000000
+\&       DataSource "rx"
+\&     </Type>
+\&   </Plugin>
+\&
+\&   <Host "hostname">
+\&     <Type "cpu">
+\&       Instance "idle"
+\&       FailureMin 10
+\&     </Type>
+\&
+\&     <Plugin "memory">
+\&       <Type "memory">
+\&         Instance "cached"
+\&         WarningMin 100000000
+\&       </Type>
+\&     </Plugin>
+\&   </Host>
+\& </Threshold>
+.Ve
+.PP
+There are basically two types of configuration statements: The \f(CW\*(C`Host\*(C'\fR,
+\&\f(CW\*(C`Plugin\*(C'\fR, and \f(CW\*(C`Type\*(C'\fR blocks select the value for which a threshold should be
+configured. The \f(CW\*(C`Plugin\*(C'\fR and \f(CW\*(C`Type\*(C'\fR blocks may be specified further using the
+\&\f(CW\*(C`Instance\*(C'\fR option. You can combine the block by nesting the blocks, though
+they must be nested in the above order, i.\ e. \f(CW\*(C`Host\*(C'\fR may contain either
+\&\f(CW\*(C`Plugin\*(C'\fR and \f(CW\*(C`Type\*(C'\fR blocks, \f(CW\*(C`Plugin\*(C'\fR may only contain \f(CW\*(C`Type\*(C'\fR blocks and
+\&\f(CW\*(C`Type\*(C'\fR may not contain other blocks. If multiple blocks apply to the same
+value the most specific block is used.
+.PP
+The other statements specify the threshold to configure. They \fBmust\fR be
+included in a \f(CW\*(C`Type\*(C'\fR block. Currently the following statements are recognized:
+.IP "\fBFailureMax\fR \fIValue\fR" 4
+.IX Item "FailureMax Value"
+.PD 0
+.IP "\fBWarningMax\fR \fIValue\fR" 4
+.IX Item "WarningMax Value"
+.PD
+Sets the upper bound of acceptable values. If unset defaults to positive
+infinity. If a value is greater than \fBFailureMax\fR a \fB\s-1FAILURE\s0\fR notification
+will be created. If the value is greater than \fBWarningMax\fR but less than (or
+equal to) \fBFailureMax\fR a \fB\s-1WARNING\s0\fR notification will be created.
+.IP "\fBFailureMin\fR \fIValue\fR" 4
+.IX Item "FailureMin Value"
+.PD 0
+.IP "\fBWarningMin\fR \fIValue\fR" 4
+.IX Item "WarningMin Value"
+.PD
+Sets the lower bound of acceptable values. If unset defaults to negative
+infinity. If a value is less than \fBFailureMin\fR a \fB\s-1FAILURE\s0\fR notification will
+be created. If the value is less than \fBWarningMin\fR but greater than (or equal
+to) \fBFailureMin\fR a \fB\s-1WARNING\s0\fR notification will be created.
+.IP "\fBDataSource\fR \fIDSName\fR" 4
+.IX Item "DataSource DSName"
+Some data sets have more than one \*(L"data source\*(R". Interesting examples are the
+\&\f(CW\*(C`if_octets\*(C'\fR data set, which has received (\f(CW\*(C`rx\*(C'\fR) and sent (\f(CW\*(C`tx\*(C'\fR) bytes and
+the \f(CW\*(C`disk_ops\*(C'\fR data set, which holds \f(CW\*(C`read\*(C'\fR and \f(CW\*(C`write\*(C'\fR operations. The
+system load data set, \f(CW\*(C`load\*(C'\fR, even has three data sources: \f(CW\*(C`shortterm\*(C'\fR,
+\&\f(CW\*(C`midterm\*(C'\fR, and \f(CW\*(C`longterm\*(C'\fR.
+.Sp
+Normally, all data sources are checked against a configured threshold. If this
+is undesirable, or if you want to specify different limits for each data
+source, you can use the \fBDataSource\fR option to have a threshold apply only to
+one data source.
+.IP "\fBInvert\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Invert true|false"
+If set to \fBtrue\fR the range of acceptable values is inverted, i.\ e.
+values between \fBFailureMin\fR and \fBFailureMax\fR (\fBWarningMin\fR and
+\&\fBWarningMax\fR) are not okay. Defaults to \fBfalse\fR.
+.IP "\fBPersist\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Persist true|false"
+Sets how often notifications are generated. If set to \fBtrue\fR one notification
+will be generated for each value that is out of the acceptable range. If set to
+\&\fBfalse\fR (the default) then a notification is only generated if a value is out
+of range but the previous value was okay.
+.Sp
+This applies to missing values, too: If set to \fBtrue\fR a notification about a
+missing value is generated once every \fBInterval\fR seconds. If set to \fBfalse\fR
+only one such notification is generated until the value appears again.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
-\&\fIcollectd.conf\fR\|(5),
-\&\fIcollectd\-email\fR\|(5),
+\&\fIcollectd\fR\|(1),
 \&\fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
-\&\fIcollectd\-snmp\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 \&\fItypes.db\fR\|(5),
-<http://collectd.org/>
+\&\fIhddtemp\fR\|(8),
+kstat(3KSTAT),
+\&\fImbmon\fR\|(1),
+\&\fIrrdtool\fR\|(1),
+\&\fIsensors\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.conf.5	2008-09-04 16:07:30.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.conf.5	2008-10-17 04:10:06.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -128,1391 +120,56 @@
 .    ds ae ae
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
-.IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2008-09-04" "4.4.3" "collectd"
+.IX Title "TYPES.DB 5"
+.TH TYPES.DB 5 "2008-05-06" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
-collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
+types.db \- Data\-set specifications for the system statistics collection daemon
+\&\fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
-\&  BaseDir "/path/to/data/"
-\&  PIDFile "/path/to/pidfile/collectd.pid"
-\&  Server  "123.123.123.123" 12345
-\&
-\&  LoadPlugin cpu
-\&  LoadPlugin load
-\&  LoadPlugin ping
-\&
-\&  <Plugin ping>
-\&    Host "example.org"
-\&    Host "provider.net"
-\&  </Plugin>
+\&  bitrate    value:GAUGE:0:4294967295
+\&  counter    value:COUNTER:U:U
+\&  if_octets  rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-This config file controls how the system statistics collection daemon
-\&\fBcollectd\fR behaves. The most significant option is \fBLoadPlugin\fR, which
-controls which plugins to load. These plugins ultimately define collectd's
-behavior.
-.PP
-The syntax of this config file is similar to the config file of the famous
-\&\fBApache Webserver\fR. Each line contains either a key-value-pair or a
-section-start or \-end. Empty lines and everything after the hash-symbol `#' is
-ignored. Values are either string, enclosed in double-quotes,
-(floating\-point\-)numbers or a boolean expression, i.\ e. either \fBtrue\fR or
-\&\fBfalse\fR. String containing of only alphanumeric characters and underscores do
-not need to be quoted.
-.PP
-The configuration is read and processed in order, i.\ e. from top to
-bottom. So the plugins are loaded in the order listed in this config file. It
-is a good idea to load any logging plugins first in order to catch messages
-from plugins during configuration. Also, the \f(CW\*(C`LoadPlugin\*(C'\fR option \fBmust\fR occur
-\&\fBbefore\fR the \f(CW\*(C`<Plugin ...>\*(C'\fR block.
-.SH "GLOBAL OPTIONS"
-.IX Header "GLOBAL OPTIONS"
-.IP "\fBBaseDir\fR \fIDirectory\fR" 4
-.IX Item "BaseDir Directory"
-Sets the base directory. This is the directory beneath all RRD-files are
-created. Possibly more subdirectories are created. This is also the working
-directory for the daemon.
-.IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
-.IX Item "LoadPlugin Plugin"
-Loads the plugin \fIPlugin\fR. There must be at least one such line or \fBcollectd\fR
-will be mostly useless.
-.IP "\fBInclude\fR \fIPath\fR" 4
-.IX Item "Include Path"
-If \fIPath\fR points to a file, includes that file. If \fIPath\fR points to a
-directory, recursively includes all files within that directory and its
-subdirectories. If the \f(CW\*(C`wordexp\*(C'\fR function is available on your system,
-shell-like wildcards are expanded before files are included. This means you can
-use statements like the following:
-.Sp
-.Vb 1
-\&  Include "/etc/collectd.d/*.conf"
-.Ve
-.Sp
-If more than one files are included by a single \fBInclude\fR option, the files
-will be included in lexicographical order (as defined by the \f(CW\*(C`strcmp\*(C'\fR
-function). Thus, you can e.\ g. use numbered prefixes to specify the
-order in which the files are loaded.
-.Sp
-To prevent loops and shooting yourself in the foot in interesting ways the
-nesting is limited to a depth of 8\ levels, which should be sufficient for
-most uses. Since symlinks are followed it is still possible to crash the daemon
-by looping symlinks. In our opinion significant stupidity should result in an
-appropriate amount of pain.
-.Sp
-It is no problem to have a block like \f(CW\*(C`<Plugin foo>\*(C'\fR in more than one
-file, but you cannot include files from within blocks.
-.IP "\fBPIDFile\fR \fIFile\fR" 4
-.IX Item "PIDFile File"
-Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
-and deleted when the program is stopped. Some init-scripts might override this
-setting using the \fB\-P\fR command-line option.
-.IP "\fBPluginDir\fR \fIDirectory\fR" 4
-.IX Item "PluginDir Directory"
-Path to the plugins (shared objects) of collectd.
-.IP "\fBTypesDB\fR \fIFile\fR [\fIFile\fR ...]" 4
-.IX Item "TypesDB File [File ...]"
-Set one or more files that contain the data-set descriptions. See
-\&\fItypes.db\fR\|(5) for a description of the format of this file.
-.IP "\fBInterval\fR \fISeconds\fR" 4
-.IX Item "Interval Seconds"
-Configures the interval in which to query the read plugins. Obviously smaller
-values lead to a higher system load produced by collectd, while higher values
-lead to more coarse statistics.
-.IP "\fBReadThreads\fR \fINum\fR" 4
-.IX Item "ReadThreads Num"
-Number of threads to start for reading plugins. The default value is \fB5\fR, but
-you may want to increase this if you have more than five plugins that take a
-long time to read. Mostly those are plugin that do network-IO. Setting this to
-a value higher than the number of plugins you've loaded is totally useless.
-.IP "\fBHostname\fR \fIName\fR" 4
-.IX Item "Hostname Name"
-Sets the hostname that identifies a host. If you omit this setting, the
-hostname will be determinded using the \fIgethostname\fR\|(2) system call.
-.IP "\fBFQDNLookup\fR \fBtrue|false\fR" 4
-.IX Item "FQDNLookup true|false"
-If \fBHostname\fR is determined automatically this setting controls whether or not
-the daemon should try to figure out the \*(L"fully qualified domain name\*(R", \s-1FQDN\s0.
-This is done using a lookup of the name returned by \f(CW\*(C`gethostname\*(C'\fR.
-.Sp
-Using this feature (i.\ e. setting this option to \fBtrue\fR) is recommended.
-However, to preserve backwards compatibility the default is set to \fBfalse\fR.
-The sample config file that is installed with \f(CW\*(C`make\ install\*(C'\fR includes a
-line which sets this option, though, so that default installations will have
-this setting enabled.
-.SH "PLUGIN OPTIONS"
-.IX Header "PLUGIN OPTIONS"
-Some plugins may register own options. These options must be enclosed in a
-\&\f(CW\*(C`Plugin\*(C'\fR\-Section. Which options exist depends on the plugin used. Some plugins
-require external configuration, too. The \f(CW\*(C`apache plugin\*(C'\fR, for example,
-required \f(CW\*(C`mod_status\*(C'\fR to be configured in the webserver you're going to
-collect data from. These plugins are listed below as well, even if they don't
-require any configuration within collectd's configfile.
-.PP
-A list of all plugins and a short summary for each plugin can be found in the
-\&\fI\s-1README\s0\fR file shipped with the sourcecode and hopefully binary packets as
-well.
-.ie n .Sh "Plugin ""apache"""
-.el .Sh "Plugin \f(CWapache\fP"
-.IX Subsection "Plugin apache"
-To configure the \f(CW\*(C`apache\*(C'\fR\-plugin you first need to configure the Apache
-webserver correctly. The Apache-plugin \f(CW\*(C`mod_status\*(C'\fR needs to be loaded and
-working and the \f(CW\*(C`ExtendedStatus\*(C'\fR directive needs to be \fBenabled\fR. You can use
-the following snipped to base your Apache config upon:
-.PP
-.Vb 6
-\&  ExtendedStatus on
-\&  <IfModule mod_status.c>
-\&    <Location /mod_status>
-\&      SetHandler server\-status
-\&    </Location>
-\&  </IfModule>
-.Ve
-.PP
-Since its \f(CW\*(C`mod_status\*(C'\fR module is very similar to Apache's, \fBlighttpd\fR is
-also supported. It introduces a new field, called \f(CW\*(C`BusyServers\*(C'\fR, to count the
-number of currently connected clients. This field is also supported.
-.PP
-The following options are accepted by the \f(CW\*(C`apache\*(C'\fR\-plugin:
-.IP "\fB\s-1URL\s0\fR \fIhttp://host/mod_status?auto\fR" 4
-.IX Item "URL http://host/mod_status?auto"
-Sets the \s-1URL\s0 of the \f(CW\*(C`mod_status\*(C'\fR output. This needs to be the output generated
-by \f(CW\*(C`ExtendedStatus on\*(C'\fR and it needs to be the machine readable output
-generated by appending the \f(CW\*(C`?auto\*(C'\fR argument.
-.IP "\fBUser\fR \fIUsername\fR" 4
-.IX Item "User Username"
-Optional user name needed for authentication.
-.IP "\fBPassword\fR \fIPassword\fR" 4
-.IX Item "Password Password"
-Optional password needed for authentication.
-.IP "\fBVerifyPeer\fR \fBtrue|false\fR" 4
-.IX Item "VerifyPeer true|false"
-Enable or disable peer \s-1SSL\s0 certificate verification. See
-<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
-.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
-.IX Item "VerifyHost true|false"
-Enable or disable peer host name verification. If enabled, the plugin checks
-if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
-certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
-identity check fails, the connection is aborted. Obviously, only works when
-connecting to a \s-1SSL\s0 enabled server. Enabled by default.
-.IP "\fBCACert\fR \fIFile\fR" 4
-.IX Item "CACert File"
-File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
-possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
-and are checked by default depends on the distribution you use.
-.ie n .Sh "Plugin ""apcups"""
-.el .Sh "Plugin \f(CWapcups\fP"
-.IX Subsection "Plugin apcups"
-.IP "\fBHost\fR \fIHostname\fR" 4
-.IX Item "Host Hostname"
-Hostname of the host running \fBapcupsd\fR. Defaults to \fBlocalhost\fR. Please note
-that IPv6 support has been disabled unless someone can confirm or decline that
-\&\fBapcupsd\fR can handle it.
-.IP "\fBPort\fR \fIPort\fR" 4
-.IX Item "Port Port"
-TCP-Port to connect to. Defaults to \fB3551\fR.
-.ie n .Sh "Plugin ""ascent"""
-.el .Sh "Plugin \f(CWascent\fP"
-.IX Subsection "Plugin ascent"
-This plugin collects information about an Ascent server, a free server for the
-\&\*(L"World of Warcraft\*(R" game. This plugin gathers the information by fetching the
-\&\s-1XML\s0 status page using \f(CW\*(C`libcurl\*(C'\fR and parses it using \f(CW\*(C`libxml2\*(C'\fR.
-.PP
-The configuration options are the same as for the \f(CW\*(C`apache\*(C'\fR plugin above:
-.IP "\fB\s-1URL\s0\fR \fIhttp://localhost/ascent/status/\fR" 4
-.IX Item "URL http://localhost/ascent/status/"
-Sets the \s-1URL\s0 of the \s-1XML\s0 status output.
-.IP "\fBUser\fR \fIUsername\fR" 4
-.IX Item "User Username"
-Optional user name needed for authentication.
-.IP "\fBPassword\fR \fIPassword\fR" 4
-.IX Item "Password Password"
-Optional password needed for authentication.
-.IP "\fBCACert\fR \fIFile\fR" 4
-.IX Item "CACert File"
-File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
-possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
-and are checked by default depends on the distribution you use.
-.ie n .Sh "Plugin ""cpufreq"""
-.el .Sh "Plugin \f(CWcpufreq\fP"
-.IX Subsection "Plugin cpufreq"
-This plugin doesn't have any options. It reads
-\&\fI/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq\fR (for the first \s-1CPU\s0
-installed) to get the current \s-1CPU\s0 frequency. If this file does not exist make
-sure \fBcpufreqd\fR (<http://cpufreqd.sourceforge.net/>) or a similar tool is
-installed and an \*(L"cpu governor\*(R" (that's a kernel module) is loaded.
-.ie n .Sh "Plugin ""csv"""
-.el .Sh "Plugin \f(CWcsv\fP"
-.IX Subsection "Plugin csv"
-.IP "\fBDataDir\fR \fIDirectory\fR" 4
-.IX Item "DataDir Directory"
-Set the directory to store CSV-files under. Per default CSV-files are generated
-beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
-.IP "\fBStoreRates\fR \fBtrue|false\fR" 4
-.IX Item "StoreRates true|false"
-If set to \fBtrue\fR, convert counter values to rates. If set to \fBfalse\fR (the
-default) counter values are stored as is, i.\ e. as an increasing integer
-number.
-.ie n .Sh "Plugin ""df"""
-.el .Sh "Plugin \f(CWdf\fP"
-.IX Subsection "Plugin df"
-.IP "\fBDevice\fR \fIDevice\fR" 4
-.IX Item "Device Device"
-Select partitions based on the devicename.
-.IP "\fBMountPoint\fR \fIDirectory\fR" 4
-.IX Item "MountPoint Directory"
-Select partitions based on the mountpoint.
-.IP "\fBFSType\fR \fIFSType\fR" 4
-.IX Item "FSType FSType"
-Select partitions based on the filesystem type.
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-Invert the selection: If set to true, all partitions \fBexcept\fR the ones that
-match any one of the criteria are collected. By default only selected
-partitions are collected if a selection is made. If no selection is configured
-at all, \fBall\fR partitions are selected.
-.ie n .Sh "Plugin ""disk"""
-.el .Sh "Plugin \f(CWdisk\fP"
-.IX Subsection "Plugin disk"
-The \f(CW\*(C`disk\*(C'\fR plugin collects information about the usage of physical disks and
-logical disks (partitions). Values collected are the number of octets written
-to and read from a disk or partition, the number of read/write operations
-issued to the disk and a rather complex \*(L"time\*(R" it took for these commands to be
-issued.
-.PP
-Using the following two options you can ignore some disks or configure the
-collection only of specific disks.
-.IP "\fBDisk\fR \fIName\fR" 4
-.IX Item "Disk Name"
-Select the disk \fIName\fR. Whether it is collected or ignored depends on the
-\&\fBIgnoreSelected\fR setting, see below. As with other plugins that use the
-daemon's ignorelist functionality, a string that starts and ends with a slash
-is interpreted as a regular expression. Examples:
-.Sp
-.Vb 2
-\&  Disk "sdd"
-\&  Disk "/hda[34]/"
-.Ve
-.IP "\fBIgnoreSelected\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-Sets whether selected disks, i.\ e. the ones matches by any of the \fBDisk\fR
-statements, are ignored or if all other disks are ignored. The behavior
-(hopefully) is intuitive: If no \fBDisk\fR option is configured, all disks are
-collected. If at least one \fBDisk\fR option is given and no \fBIgnoreSelected\fR or
-set to \fBfalse\fR, \fBonly\fR matching disks will be collected. If \fBIgnoreSelected\fR
-is set to \fBtrue\fR, all disks are collected \fBexcept\fR the ones matched.
-.ie n .Sh "Plugin ""dns"""
-.el .Sh "Plugin \f(CWdns\fP"
-.IX Subsection "Plugin dns"
-.IP "\fBInterface\fR \fIInterface\fR" 4
-.IX Item "Interface Interface"
-The dns plugin uses \fBlibpcap\fR to capture dns traffic and analyses it. This
-option sets the interface that should be used. If this option is not set, or
-set to \*(L"any\*(R", the plugin will try to get packets from \fBall\fR interfaces. This
-may not work on certain platforms, such as Mac\ \s-1OS\s0\ X.
-.IP "\fBIgnoreSource\fR \fIIP-address\fR" 4
-.IX Item "IgnoreSource IP-address"
-Ignore packets that originate from this address.
-.ie n .Sh "Plugin ""email"""
-.el .Sh "Plugin \f(CWemail\fP"
-.IX Subsection "Plugin email"
-.IP "\fBSocketFile\fR \fIPath\fR" 4
-.IX Item "SocketFile Path"
-Sets the socket-file which is to be created.
-.IP "\fBSocketGroup\fR \fIGroup\fR" 4
-.IX Item "SocketGroup Group"
-If running as root change the group of the UNIX-socket after it has been
-created. Defaults to \fBcollectd\fR.
-.IP "\fBSocketPerms\fR \fIPermissions\fR" 4
-.IX Item "SocketPerms Permissions"
-Change the file permissions of the UNIX-socket after it has been created. The
-permissions must be given as a numeric, octal value as you would pass to
-\&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
-.IP "\fBMaxConns\fR \fINumber\fR" 4
-.IX Item "MaxConns Number"
-Sets the maximum number of connections that can be handled in parallel. Since
-this many threads will be started immediately setting this to a very high
-value will waste valuable resources. Defaults to \fB5\fR and will be forced to be
-at most \fB16384\fR to prevent typos and dumb mistakes.
-.ie n .Sh "Plugin ""exec"""
-.el .Sh "Plugin \f(CWexec\fP"
-.IX Subsection "Plugin exec"
-Please make sure to read \fIcollectd\-exec\fR\|(5) before using this plugin. It
-contains valuable information on when the executable is executed and the
-output that is expected from it.
-.IP "\fBExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR [\fI<arg>\fR [\fI<arg>\fR ...]]" 4
-.IX Item "Exec User[:[Group]] Executable [<arg> [<arg> ...]]"
-.PD 0
-.IP "\fBNotificationExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR [\fI<arg>\fR [\fI<arg>\fR ...]]" 4
-.IX Item "NotificationExec User[:[Group]] Executable [<arg> [<arg> ...]]"
-.PD
-Execute the executable \fIExecutable\fR as user \fIUser\fR. If the user name is
-followed by a colon and a group name, the effective group is set to that group.
-The real group and saved-set group will be set to the default group of that
-user. If no group is given the effective group \s-1ID\s0 will be the same as the real
-group \s-1ID\s0.
-.Sp
-Please note that in order to change the user and/or group the daemon needs
-superuser privileges. If the daemon is run as an unprivileged user you must
-specify the same user/group here. If the daemon is run with superuser
-privileges, you must supply a non-root user here.
-.Sp
-The executable may be followed by optional arguments that are passed to the
-program. Please note that due to the configuration parsing numbers and boolean
-values may be changed. If you want to be absolutely sure that something is
-passed as-is please enclose it in quotes.
-.Sp
-The \fBExec\fR and \fBNotificationExec\fR statements change the semantics of the
-programs executed, i.\ e. the data passed to them and the response
-expected from them. This is documented in great detail in \fIcollectd\-exec\fR\|(5).
-.ie n .Sh "Plugin ""hddtemp"""
-.el .Sh "Plugin \f(CWhddtemp\fP"
-.IX Subsection "Plugin hddtemp"
-To get values from \fBhddtemp\fR collectd connects to \fBlocalhost\fR (127.0.0.1),
-port \fB7634/tcp\fR. The \fBHost\fR and \fBPort\fR options can be used to change these
-default values, see below. \f(CW\*(C`hddtemp\*(C'\fR has to be running to work correctly. If
-\&\f(CW\*(C`hddtemp\*(C'\fR is not running timeouts may appear which may interfere with other
-statistics..
-.PP
-The \fBhddtemp\fR homepage can be found at
-<http://www.guzu.net/linux/hddtemp.php>.
-.IP "\fBHost\fR \fIHostname\fR" 4
-.IX Item "Host Hostname"
-Hostname to connect to. Defaults to \fB127.0.0.1\fR.
-.IP "\fBPort\fR \fIPort\fR" 4
-.IX Item "Port Port"
-TCP-Port to connect to. Defaults to \fB7634\fR.
-.IP "\fBTranslateDevicename\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "TranslateDevicename true|false"
-If enabled, translate the disk names to major/minor device numbers
-(e.\ g. \*(L"8\-0\*(R" for /dev/sda). For backwards compatibility this defaults to
-\&\fItrue\fR but it's recommended to disable it as it will probably be removed in
-the next major version.
-.ie n .Sh "Plugin ""interface"""
-.el .Sh "Plugin \f(CWinterface\fP"
-.IX Subsection "Plugin interface"
-.IP "\fBInterface\fR \fIInterface\fR" 4
-.IX Item "Interface Interface"
-Select this interface. By default these interfaces will then be collected. For
-a more detailed description see \fBIgnoreSelected\fR below.
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-If no configuration if given, the \fBtraffic\fR\-plugin will collect data from
-all interfaces. This may not be practical, especially for loopback\- and
-similar interfaces. Thus, you can use the \fBInterface\fR\-option to pick the
-interfaces you're interested in. Sometimes, however, it's easier/preferred
-to collect all interfaces \fIexcept\fR a few ones. This option enables you to
-do that: By setting \fBIgnoreSelected\fR to \fItrue\fR the effect of
-\&\fBInterface\fR is inversed: All selected interfaces are ignored and all
-other interfaces are collected.
-.ie n .Sh "Plugin ""ipmi"""
-.el .Sh "Plugin \f(CWipmi\fP"
-.IX Subsection "Plugin ipmi"
-.IP "\fBSensor\fR \fISensor\fR" 4
-.IX Item "Sensor Sensor"
-Selects sensors to collect or to ignore, depending on \fBIgnoreSelected\fR.
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-If no configuration if given, the \fBipmi\fR plugin will collect data from all
-sensors found of type \*(L"temperature\*(R", \*(L"voltage\*(R", \*(L"current\*(R" and \*(L"fanspeed\*(R".
-This option enables you to do that: By setting \fBIgnoreSelected\fR to \fItrue\fR
-the effect of \fBSensor\fR is inverted: All selected sensors are ignored and
-all other sensors are collected.
-.ie n .Sh "Plugin ""iptables"""
-.el .Sh "Plugin \f(CWiptables\fP"
-.IX Subsection "Plugin iptables"
-.IP "\fBChain\fR \fITable\fR \fIChain\fR [\fIComment|Number\fR [\fIName\fR]]" 4
-.IX Item "Chain Table Chain [Comment|Number [Name]]"
-Select the rules to count. If only \fITable\fR and \fIChain\fR are given, this plugin
-will collect the counters of all rules which have a comment-match. The comment
-is then used as type-instance.
-.Sp
-If \fIComment\fR or \fINumber\fR is given, only the rule with the matching comment or
-the \fIn\fRth rule will be collected. Again, the comment (or the number) will be
-used as the type-instance.
-.Sp
-If \fIName\fR is supplied, it will be used as the type-instance instead of the
-comment or the number.
-.ie n .Sh "Plugin ""irq"""
-.el .Sh "Plugin \f(CWirq\fP"
-.IX Subsection "Plugin irq"
-.IP "\fBIrq\fR \fIIrq\fR" 4
-.IX Item "Irq Irq"
-Select this irq. By default these irqs will then be collected. For a more
-detailed description see \fBIgnoreSelected\fR below.
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-If no configuration if given, the \fBirq\fR\-plugin will collect data from all
-irqs. This may not be practical, especially if no interrupts happen. Thus, you
-can use the \fBIrq\fR\-option to pick the interrupt you're interested in.
-Sometimes, however, it's easier/preferred to collect all interrupts \fIexcept\fR a
-few ones. This option enables you to do that: By setting \fBIgnoreSelected\fR to
-\&\fItrue\fR the effect of \fBIrq\fR is inversed: All selected interrupts are ignored
-and all other interrupts are collected.
-.ie n .Sh "Plugin ""libvirt"""
-.el .Sh "Plugin \f(CWlibvirt\fP"
-.IX Subsection "Plugin libvirt"
-This plugin allows \s-1CPU\s0, disk and network load to be collected for virtualized
-guests on the machine. This means that these characteristics can be collected
-for guest systems without installing any software on them \- collectd only runs
-on the hosting system. The statistics are collected through libvirt
-(<http://libvirt.org/>).
-.PP
-Only \fIConnection\fR is required.
-.IP "\fBConnection\fR \fIuri\fR" 4
-.IX Item "Connection uri"
-Connect to the hypervisor given by \fIuri\fR. For example if using Xen use:
-.Sp
-.Vb 1
-\& Connection "xen:///"
-.Ve
-.Sp
-Details which URIs allowed are given at <http://libvirt.org/uri.html>.
-.IP "\fBRefreshInterval\fR \fIseconds\fR" 4
-.IX Item "RefreshInterval seconds"
-Refresh the list of domains and devices every \fIseconds\fR. The default is 60
-seconds. Setting this to be the same or smaller than the \fIInterval\fR will cause
-the list of domains and devices to be refreshed on every iteration.
-.Sp
-Refreshing the devices in particular is quite a costly operation, so if your
-virtualization setup is static you might consider increasing this. If this
-option is set to 0, refreshing is disabled completely.
-.IP "\fBDomain\fR \fIname\fR" 4
-.IX Item "Domain name"
-.PD 0
-.IP "\fBBlockDevice\fR \fIname:dev\fR" 4
-.IX Item "BlockDevice name:dev"
-.IP "\fBInterfaceDevice\fR \fIname:dev\fR" 4
-.IX Item "InterfaceDevice name:dev"
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-.PD
-Select which domains and devices are collected.
-.Sp
-If \fIIgnoreSelected\fR is not given or \fIfalse\fR then only the listed domains and
-disk/network devices are collected.
-.Sp
-If \fIIgnoreSelected\fR is \fItrue\fR then the test is reversed and the listed
-domains and disk/network devices are ignored, while the rest are collected.
-.Sp
-The domain name and device names may use a regular expression, if the name is
-surrounded by \fI/.../\fR and collectd was compiled with support for regexps.
-.Sp
-The default is to collect statistics for all domains and all their devices.
-.Sp
-Example:
-.Sp
-.Vb 2
-\& BlockDevice "/:hdb/"
-\& IgnoreSelected "true"
-.Ve
-.Sp
-Ignore all \fIhdb\fR devices on any domain, but other block devices (eg. \fIhda\fR)
-will be collected.
-.IP "\fBHostnameFormat\fR \fBname|uuid|hostname|...\fR" 4
-.IX Item "HostnameFormat name|uuid|hostname|..."
-When the libvirt plugin logs data, it sets the hostname of the collected data
-according to this setting. The default is to use the guest name as provided by
-the hypervisor, which is equal to setting \fBname\fR.
-.Sp
-\&\fBuuid\fR means use the guest's \s-1UUID\s0. This is useful if you want to track the
-same guest across migrations.
-.Sp
-\&\fBhostname\fR means to use the global \fBHostname\fR setting, which is probably not
-useful on its own because all guests will appear to have the same name.
-.Sp
-You can also specify combinations of these fields. For example \fBname uuid\fR
-means to concatenate the guest name and \s-1UUID\s0 (with a literal colon character
-between, thus \fI\*(L"foo:1234\-1234\-1234\-1234\*(R"\fR).
-.ie n .Sh "Plugin ""logfile"""
-.el .Sh "Plugin \f(CWlogfile\fP"
-.IX Subsection "Plugin logfile"
-.IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
-.IX Item "LogLevel debug|info|notice|warning|err"
-Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
-severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be written to the logfile.
-.Sp
-Please note that \fBdebug\fR is only available if collectd has been compiled with
-debugging support.
-.IP "\fBFile\fR \fIFile\fR" 4
-.IX Item "File File"
-Sets the file to write log messages to. The special strings \fBstdout\fR and
-\&\fBstderr\fR can be used to write to the standard output and standard error
-channels, respectively. This, of course, only makes much sense when collectd is
-running in foreground\- or non-daemon-mode.
-.IP "\fBTimestamp\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "Timestamp true|false"
-Prefix all lines printed by the current time. Defaults to \fBtrue\fR.
-.ie n .Sh "Plugin ""mbmon"""
-.el .Sh "Plugin \f(CWmbmon\fP"
-.IX Subsection "Plugin mbmon"
-The \f(CW\*(C`mbmon plugin\*(C'\fR uses mbmon to retrieve temperature, voltage, etc.
-.PP
-Be default collectd connects to \fBlocalhost\fR (127.0.0.1), port \fB411/tcp\fR. The
-\&\fBHost\fR and \fBPort\fR options can be used to change these values, see below.
-\&\f(CW\*(C`mbmon\*(C'\fR has to be running to work correctly. If \f(CW\*(C`mbmon\*(C'\fR is not running
-timeouts may appear which may interfere with other statistics..
-.PP
-\&\f(CW\*(C`mbmon\*(C'\fR must be run with the \-r option (\*(L"print \s-1TAG\s0 and Value format\*(R");
-Debian's \fI/etc/init.d/mbmon\fR script already does this, other people
-will need to ensure that this is the case.
-.IP "\fBHost\fR \fIHostname\fR" 4
-.IX Item "Host Hostname"
-Hostname to connect to. Defaults to \fB127.0.0.1\fR.
-.IP "\fBPort\fR \fIPort\fR" 4
-.IX Item "Port Port"
-TCP-Port to connect to. Defaults to \fB411\fR.
-.ie n .Sh "Plugin ""memcached"""
-.el .Sh "Plugin \f(CWmemcached\fP"
-.IX Subsection "Plugin memcached"
-The \f(CW\*(C`memcached plugin\*(C'\fR connects to a memcached server and queries statistics
-about cache utilization, memory and bandwidth used.
-<http://www.danga.com/memcached/>
-.IP "\fBHost\fR \fIHostname\fR" 4
-.IX Item "Host Hostname"
-Hostname to connect to. Defaults to \fB127.0.0.1\fR.
-.IP "\fBPort\fR \fIPort\fR" 4
-.IX Item "Port Port"
-TCP-Port to connect to. Defaults to \fB11211\fR.
-.ie n .Sh "Plugin ""mysql"""
-.el .Sh "Plugin \f(CWmysql\fP"
-.IX Subsection "Plugin mysql"
-The \f(CW\*(C`mysql plugin\*(C'\fR requires \fBmysqlclient\fR to be installed. It connects to the
-database when started and keeps the connection up as long as possible. When the
-connection is interrupted for whatever reason it will try to re-connect. The
-plugin will complaint loudly in case anything goes wrong.
-.PP
-This plugin issues \f(CW\*(C`SHOW STATUS\*(C'\fR and evaluates \f(CW\*(C`Bytes_{received,sent}\*(C'\fR,
-\&\f(CW\*(C`Com_*\*(C'\fR and \f(CW\*(C`Handler_*\*(C'\fR which correspond to \fImysql_octets.rrd\fR,
-\&\fImysql_commands\-*.rrd\fR and \fImysql_handler\-*.rrd\fR. Also, the values of
-\&\f(CW\*(C`Qcache_*\*(C'\fR are put in \fImysql_qcache.rrd\fR and values of \f(CW\*(C`Threads_*\*(C'\fR are put
-in \fImysql_threads.rrd\fR. Please refer to the \fBMySQL reference manual\fR,
-\&\fI5.2.4. Server Status Variables\fR for an explanation of these values.
-.PP
-Use the following options to configure the plugin:
-.IP "\fBHost\fR \fIHostname\fR" 4
-.IX Item "Host Hostname"
-Hostname of the database server. Defaults to \fBlocalhost\fR.
-.IP "\fBUser\fR \fIUsername\fR" 4
-.IX Item "User Username"
-Username to use when connecting to the database.
-.IP "\fBPassword\fR \fIPassword\fR" 4
-.IX Item "Password Password"
-Password needed to log into the database.
-.IP "\fBDatabase\fR \fIDatabase\fR" 4
-.IX Item "Database Database"
-Select this database. Defaults to \fIno database\fR which is a perfectly reasonable
-option for what this plugin does.
-.ie n .Sh "Plugin ""netlink"""
-.el .Sh "Plugin \f(CWnetlink\fP"
-.IX Subsection "Plugin netlink"
-The \f(CW\*(C`netlink\*(C'\fR plugin uses a netlink socket to query the Linux kernel about
-statistics of various interface and routing aspects.
-.IP "\fBInterface\fR \fIInterface\fR" 4
-.IX Item "Interface Interface"
-.PD 0
-.IP "\fBVerboseInterface\fR \fIInterface\fR" 4
-.IX Item "VerboseInterface Interface"
-.PD
-Instruct the plugin to collect interface statistics. This is basically the same
-as the statistics provided by the \f(CW\*(C`interface\*(C'\fR plugin (see above) but
-potentially much more detailed.
-.Sp
-When configuring with \fBInterface\fR only the basic statistics will be collected,
-namely octets, packets, and errors. These statistics are collected by
-the \f(CW\*(C`interface\*(C'\fR plugin, too, so using both at the same time is no benefit.
-.Sp
-When configured with \fBVerboseInterface\fR all counters \fBexcept\fR the basic ones,
-so that no data needs to be collected twice if you use the \f(CW\*(C`interface\*(C'\fR plugin.
-This includes dropped packets, received multicast packets, collisions and a
-whole zoo of differentiated \s-1RX\s0 and \s-1TX\s0 errors. You can try the following command
-to get an idea of what awaits you:
-.Sp
-.Vb 1
-\&  ip \-s \-s link list
-.Ve
-.Sp
-If \fIInterface\fR is \fBAll\fR, all interfaces will be selected.
-.IP "\fBQDisc\fR \fIInterface\fR [\fIQDisc\fR]" 4
-.IX Item "QDisc Interface [QDisc]"
-.PD 0
-.IP "\fBClass\fR \fIInterface\fR [\fIClass\fR]" 4
-.IX Item "Class Interface [Class]"
-.IP "\fBFilter\fR \fIInterface\fR [\fIFilter\fR]" 4
-.IX Item "Filter Interface [Filter]"
-.PD
-Collect the octets and packets that pass a certain qdisc, class or filter.
-.Sp
-QDiscs and classes are identified by their type and handle (or classid).
-Filters don't necessarily have a handle, therefore the parent's handle is used.
-The notation used in collectd differs from that used in \fItc\fR\|(1) in that it
-doesn't skip the major or minor number if it's zero and doesn't print special
-ids by their name. So, for example, a qdisc may be identified by
-\&\f(CW\*(C`pfifo_fast\-1:0\*(C'\fR even though the minor number of \fBall\fR qdiscs is zero and
-thus not displayed by \fItc\fR\|(1).
-.Sp
-If \fBQDisc\fR, \fBClass\fR, or \fBFilter\fR is given without the second argument,
-i.\ .e. without an identifier, all qdiscs, classes, or filters that are
-associated with that interface will be collected.
-.Sp
-Since a filter itself doesn't necessarily have a handle, the parent's handle is
-used. This may lead to problems when more than one filter is attached to a
-qdisc or class. This isn't nice, but we don't know how this could be done any
-better. If you have a idea, please don't hesitate to tell us.
-.Sp
-As with the \fBInterface\fR option you can specify \fBAll\fR as the interface,
-meaning all interfaces.
-.Sp
-Here are some examples to help you understand the above text more easily:
-.Sp
-.Vb 7
-\&  <Plugin netlink>
-\&    VerboseInterface "All"
-\&    QDisc "eth0" "pfifo_fast\-1:0"
-\&    QDisc "ppp0"
-\&    Class "ppp0" "htb\-1:10"
-\&    Filter "ppp0" "u32\-1:0"
-\&  </Plugin>
-.Ve
-.IP "\fBIgnoreSelected\fR" 4
-.IX Item "IgnoreSelected"
-The behaviour is the same as with all other similar plugins: If nothing is
-selected at all, everything is collected. If some things are selected using the
-options described above, only these statistics are collected. If you set
-\&\fBIgnoreSelected\fR to \fBtrue\fR, this behavior is inversed, i.\ e. the
-specified statistics will not be collected.
-.ie n .Sh "Plugin ""network"""
-.el .Sh "Plugin \f(CWnetwork\fP"
-.IX Subsection "Plugin network"
-.IP "\fBListen\fR \fIHost\fR [\fIPort\fR]" 4
-.IX Item "Listen Host [Port]"
-.PD 0
-.IP "\fBServer\fR \fIHost\fR [\fIPort\fR]" 4
-.IX Item "Server Host [Port]"
-.PD
-The \fBServer\fR statement sets the server to send datagrams \fBto\fR.  The statement
-may occur multiple times to send each datagram to multiple destinations.
-.Sp
-The \fBListen\fR statement sets the interfaces to bind to. When multiple
-statements are found the daemon will bind to multiple interfaces.
-.Sp
-The argument \fIHost\fR may be a hostname, an IPv4 address or an IPv6 address. If
-the argument is a multicast address the daemon will join that multicast group.
-.Sp
-If no \fBListen\fR statement is found the server tries join both, the default IPv6
-multicast group and the default IPv4 multicast group. If no \fBServer\fR statement
-is found the client will try to send data to the IPv6 multicast group first. If
-that fails the client will try the IPv4 multicast group.
-.Sp
-The default IPv6 multicast group is \f(CW\*(C`ff18::efc0:4a42\*(C'\fR. The default IPv4
-multicast group is \f(CW239.192.74.66\fR.
-.Sp
-The optional \fIPort\fR argument sets the port to use. It can either be given
-using a numeric port number or a service name. If the argument is omitted the
-default port \fB25826\fR is assumed.
-.IP "\fBTimeToLive\fR \fI1\-255\fR" 4
-.IX Item "TimeToLive 1-255"
-Set the time-to-live of sent packets. This applies to all, unicast and
-multicast, and IPv4 and IPv6 packets. The default is to not change this value.
-That means that multicast packets will be sent with a \s-1TTL\s0 of \f(CW1\fR (one) on most
-operating systems.
-.IP "\fBForward\fR \fItrue|false\fR" 4
-.IX Item "Forward true|false"
-If set to \fItrue\fR, write packets that were received via the network plugin to
-the sending sockets. This should only be activated when the \fBListen\fR\- and
-\&\fBServer\fR\-statements differ. Otherwise packets may be send multiple times to
-the same multicast group. While this results in more network traffic than
-necessary it's not a huge problem since the plugin has a duplicate detection,
-so the values will not loop.
-.IP "\fBCacheFlush\fR \fISeconds\fR" 4
-.IX Item "CacheFlush Seconds"
-For each host/plugin/type combination the \f(CW\*(C`network plugin\*(C'\fR caches the time of
-the last value being sent or received. Every \fISeconds\fR seconds the plugin
-searches and removes all entries that are older than \fISeconds\fR seconds, thus
-freeing the unused memory again. Since this process is somewhat expensive and
-normally doesn't do much, this value should not be too small. The default is
-1800 seconds, but setting this to 86400 seconds (one day) will not do much harm
-either.
-.ie n .Sh "Plugin ""nginx"""
-.el .Sh "Plugin \f(CWnginx\fP"
-.IX Subsection "Plugin nginx"
-This plugin collects the number of connections and requests handled by the
-\&\f(CW\*(C`nginx daemon\*(C'\fR (speak: engine\ X), a \s-1HTTP\s0 and mail server/proxy. It
-queries the page provided by the \f(CW\*(C`ngx_http_stub_status_module\*(C'\fR module, which
-isn't compiled by default. Please refer to
-<http://wiki.codemongers.com/NginxStubStatusModule> for more information on
-how to compile and configure nginx and this module.
-.PP
-The following options are accepted by the \f(CW\*(C`nginx plugin\*(C'\fR:
-.IP "\fB\s-1URL\s0\fR \fIhttp://host/nginx_status\fR" 4
-.IX Item "URL http://host/nginx_status"
-Sets the \s-1URL\s0 of the \f(CW\*(C`ngx_http_stub_status_module\*(C'\fR output.
-.IP "\fBUser\fR \fIUsername\fR" 4
-.IX Item "User Username"
-Optional user name needed for authentication.
-.IP "\fBPassword\fR \fIPassword\fR" 4
-.IX Item "Password Password"
-Optional password needed for authentication.
-.IP "\fBVerifyPeer\fR \fBtrue|false\fR" 4
-.IX Item "VerifyPeer true|false"
-Enable or disable peer \s-1SSL\s0 certificate verification. See
-<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
-.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
-.IX Item "VerifyHost true|false"
-Enable or disable peer host name verification. If enabled, the plugin checks
-if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
-certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
-identity check fails, the connection is aborted. Obviously, only works when
-connecting to a \s-1SSL\s0 enabled server. Enabled by default.
-.IP "\fBCACert\fR \fIFile\fR" 4
-.IX Item "CACert File"
-File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
-possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
-and are checked by default depends on the distribution you use.
-.ie n .Sh "Plugin ""ntpd"""
-.el .Sh "Plugin \f(CWntpd\fP"
-.IX Subsection "Plugin ntpd"
-.IP "\fBHost\fR \fIHostname\fR" 4
-.IX Item "Host Hostname"
-Hostname of the host running \fBntpd\fR. Defaults to \fBlocalhost\fR.
-.IP "\fBPort\fR \fIPort\fR" 4
-.IX Item "Port Port"
-UDP-Port to connect to. Defaults to \fB123\fR.
-.IP "\fBReverseLookups\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "ReverseLookups true|false"
-Sets wether or not to perform reverse lookups on peers. Since the name or
-IP-address may be used in a filename it is recommended to disable reverse
-lookups. The default is to do reverse lookups to preserve backwards
-compatibility, though.
-.ie n .Sh "Plugin ""nut"""
-.el .Sh "Plugin \f(CWnut\fP"
-.IX Subsection "Plugin nut"
-.IP "\fB\s-1UPS\s0\fR \fIupsname\fR\fB@\fR\fIhostname\fR[\fB:\fR\fIport\fR]" 4
-.IX Item "UPS upsname@hostname[:port]"
-Add a \s-1UPS\s0 to collect data from. The format is identical to the one accepted by
-\&\fIupsc\fR\|(8).
-.ie n .Sh "Plugin ""perl"""
-.el .Sh "Plugin \f(CWperl\fP"
-.IX Subsection "Plugin perl"
-This plugin embeds a Perl-interpreter into collectd and provides an interface
-to collectd's plugin system. See \fIcollectd\-perl\fR\|(5) for its documentation.
-.ie n .Sh "Plugin ""ping"""
-.el .Sh "Plugin \f(CWping\fP"
-.IX Subsection "Plugin ping"
-.IP "\fBHost\fR \fIIP-address\fR" 4
-.IX Item "Host IP-address"
-Host to ping periodically. This option may be repeated several times to ping
-multiple hosts.
-.IP "\fB\s-1TTL\s0\fR \fI0\-255\fR" 4
-.IX Item "TTL 0-255"
-Sets the Time-To-Live of generated \s-1ICMP\s0 packets.
-.ie n .Sh "Plugin ""powerdns"""
-.el .Sh "Plugin \f(CWpowerdns\fP"
-.IX Subsection "Plugin powerdns"
-The \f(CW\*(C`powerdns\*(C'\fR plugin queries statistics from an authoritative PowerDNS
-nameserver and/or a PowerDNS recursor. Since both offer a wide variety of
-values, many of which are probably meaningless to most users, but may be useful
-for some. So you may chose which values to collect, but if you don't, some
-reasonable defaults will be collected.
-.PP
-.Vb 10
-\&  <Plugin "powerdns">
-\&    <Server "server_name">
-\&      Collect "latency"
-\&      Collect "udp\-answers" "udp\-queries"
-\&      Socket "/var/run/pdns.controlsocket"
-\&    </Server>
-\&    <Recursor "recursor_name">
-\&      Collect "questions"
-\&      Collect "cache\-hits" "cache\-misses"
-\&      Socket "/var/run/pdns_recursor.controlsocket"
-\&    </Recursor>
-\&    LocalSocket "/opt/collectd/var/run/collectd\-powerdns"
-\&  </Plugin>
-.Ve
-.IP "\fBServer\fR and \fBRecursor\fR block" 4
-.IX Item "Server and Recursor block"
-The \fBServer\fR block defines one authoritative server to query, the \fBRecursor\fR
-does the same for an recursing server. The possible options in both blocks are
-the same, though. The argument defines a name for the server\ / recursor
-and is required.
-.RS 4
-.IP "\fBCollect\fR \fIField\fR" 4
-.IX Item "Collect Field"
-Using the \fBCollect\fR statement you can select which values to collect. Here,
-you specify the name of the values as used by the PowerDNS servers, e.\ g.
-\&\f(CW\*(C`dlg\-only\-drops\*(C'\fR, \f(CW\*(C`answers10\-100\*(C'\fR.
-.Sp
-The method of getting the values differs for \fBServer\fR and \fBRecursor\fR blocks:
-When querying the server a \f(CW\*(C`SHOW *\*(C'\fR command is issued in any case, because
-that's the only way of getting multiple values out of the server at once.
-collectd then picks out the values you have selected. When querying the
-recursor, a command is generated to query exactly these values. So if you
-specify invalid fields when querying the recursor, a syntax error may be
-returned by the daemon and collectd may not collect any values at all.
-.Sp
-If no \fBCollect\fR statement is given, the following \fBServer\fR values will be
-collected:
-.RS 4
-.IP "latency" 4
-.IX Item "latency"
-.PD 0
-.IP "packetcache-hit" 4
-.IX Item "packetcache-hit"
-.IP "packetcache-miss" 4
-.IX Item "packetcache-miss"
-.IP "packetcache-size" 4
-.IX Item "packetcache-size"
-.IP "query-cache-hit" 4
-.IX Item "query-cache-hit"
-.IP "query-cache-miss" 4
-.IX Item "query-cache-miss"
-.IP "recursing-answers" 4
-.IX Item "recursing-answers"
-.IP "recursing-questions" 4
-.IX Item "recursing-questions"
-.IP "tcp-answers" 4
-.IX Item "tcp-answers"
-.IP "tcp-queries" 4
-.IX Item "tcp-queries"
-.IP "udp-answers" 4
-.IX Item "udp-answers"
-.IP "udp-queries" 4
-.IX Item "udp-queries"
-.RE
-.RS 4
-.PD
-.Sp
-The following \fBRecursor\fR values will be collected by default:
-.IP "noerror-answers" 4
-.IX Item "noerror-answers"
-.PD 0
-.IP "nxdomain-answers" 4
-.IX Item "nxdomain-answers"
-.IP "servfail-answers" 4
-.IX Item "servfail-answers"
-.IP "sys-msec" 4
-.IX Item "sys-msec"
-.IP "user-msec" 4
-.IX Item "user-msec"
-.IP "qa-latency" 4
-.IX Item "qa-latency"
-.IP "cache-entries" 4
-.IX Item "cache-entries"
-.IP "cache-hits" 4
-.IX Item "cache-hits"
-.IP "cache-misses" 4
-.IX Item "cache-misses"
-.IP "questions" 4
-.IX Item "questions"
-.RE
-.RS 4
-.PD
-.Sp
-Please note that up to that point collectd doesn't know what values are
-available on the server and values that are added do not need a change of the
-mechanism so far. However, the values must be mapped to collectd's naming
-scheme, which is done using a lookup table that lists all known values. If
-values are added in the future and collectd does not know about them, you will
-get an error much like this:
-.Sp
-.Vb 1
-\&  powerdns plugin: submit: Not found in lookup table: foobar = 42
-.Ve
-.Sp
-In this case please file a bug report with the collectd team.
-.RE
-.IP "\fBSocket\fR \fIPath\fR" 4
-.IX Item "Socket Path"
-Configures the path to the \s-1UNIX\s0 domain socket to be used when connecting to the
-daemon. By default \f(CW\*(C`/var/run/pdns.controlsocket\*(C'\fR will be used for an
-authoritative server and \f(CW\*(C`/var/run/pdns_recursor.controlsocket\*(C'\fR will be used
-for the recursor.
-.RE
-.RS 4
-.RE
-.IP "\fBLocalSocket\fR \fIPath\fR" 4
-.IX Item "LocalSocket Path"
-Querying the recursor is done using \s-1UDP\s0. When using \s-1UDP\s0 over \s-1UNIX\s0 domain
-sockets, the client socket needs a name in the file system, too. You can set
-this local name to \fIPath\fR using the \fBLocalSocket\fR option. The default is
-\&\f(CW\*(C`\f(CIprefix\f(CW/var/run/collectd\-powerdns\*(C'\fR.
-.ie n .Sh "Plugin ""processes"""
-.el .Sh "Plugin \f(CWprocesses\fP"
-.IX Subsection "Plugin processes"
-.IP "\fBProcess\fR \fIName\fR" 4
-.IX Item "Process Name"
-Select more detailed statistics of processes matching this name. The statistics
-collected for these selected processes are size of the resident segment size
-(\s-1RSS\s0), user\- and system-time used, number of processes and number of threads,
-and minor and major pagefaults.
-.ie n .Sh "Plugin ""rrdtool"""
-.el .Sh "Plugin \f(CWrrdtool\fP"
-.IX Subsection "Plugin rrdtool"
-You can use the settings \fBStepSize\fR, \fBHeartBeat\fR, \fBRRARows\fR, and \fB\s-1XFF\s0\fR to
-fine-tune your RRD-files. Please read \fIrrdcreate\fR\|(1) if you encounter problems
-using these settings. If you don't want to dive into the depths of RRDTool, you
-can safely ignore these settings.
-.IP "\fBDataDir\fR \fIDirectory\fR" 4
-.IX Item "DataDir Directory"
-Set the directory to store RRD-files under. Per default RRD-files are generated
-beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
-.IP "\fBStepSize\fR \fISeconds\fR" 4
-.IX Item "StepSize Seconds"
-\&\fBForce\fR the stepsize of newly created RRD-files. Ideally (and per default)
-this setting is unset and the stepsize is set to the interval in which the data
-is collected. Do not use this option unless you absolutely have to for some
-reason. Setting this option may cause problems with the \f(CW\*(C`snmp plugin\*(C'\fR, the
-\&\f(CW\*(C`exec plugin\*(C'\fR or when the daemon is set up to receive data from other hosts.
-.IP "\fBHeartBeat\fR \fISeconds\fR" 4
-.IX Item "HeartBeat Seconds"
-\&\fBForce\fR the heartbeat of newly created RRD-files. This setting should be unset
-in which case the heartbeat is set to twice the \fBStepSize\fR which should equal
-the interval in which data is collected. Do not set this option unless you have
-a very good reason to do so.
-.IP "\fBRRARows\fR \fINumRows\fR" 4
-.IX Item "RRARows NumRows"
-The \f(CW\*(C`rrdtool plugin\*(C'\fR calculates the number of PDPs per \s-1CDP\s0 based on the
-\&\fBStepSize\fR, this setting and a timespan. This plugin creates RRD-files with
-three times five RRAs, i. e. five RRAs with the CFs \fB\s-1MIN\s0\fR, \fB\s-1AVERAGE\s0\fR, and
-\&\fB\s-1MAX\s0\fR. The five RRAs are optimized for graphs covering one hour, one day, one
-week, one month, and one year.
-.Sp
-So for each timespan, it calculates how many PDPs need to be consolidated into
-one \s-1CDP\s0 by calculating:
-  number of PDPs = timespan / (stepsize * rrarows)
-.Sp
-Bottom line is, set this no smaller than the width of you graphs in pixels. The
-default is 1200.
-.IP "\fBRRATimespan\fR \fISeconds\fR" 4
-.IX Item "RRATimespan Seconds"
-Adds an RRA-timespan, given in seconds. Use this option multiple times to have
-more then one \s-1RRA\s0. If this option is never used, the built-in default of (3600,
-86400, 604800, 2678400, 31622400) is used.
-.Sp
-For more information on how RRA-sizes are calculated see \fBRRARows\fR above.
-.IP "\fB\s-1XFF\s0\fR \fIFactor\fR" 4
-.IX Item "XFF Factor"
-Set the \*(L"XFiles Factor\*(R". The default is 0.1. If unsure, don't set this option.
-.IP "\fBCacheFlush\fR \fISeconds\fR" 4
-.IX Item "CacheFlush Seconds"
-When the \f(CW\*(C`rrdtool plugin\*(C'\fR uses a cache (by setting \fBCacheTimeout\fR, see below)
-it writes all values for a certain RRD-file if the oldest value is older than
-(or equal to) the number of seconds specified. If some RRD-file is not updated
-anymore for some reason (the computer was shut down, the network is broken,
-etc.) some values may still be in the cache. If \fBCacheFlush\fR is set, then the
-entire cache is searched for entries older than \fBCacheTimeout\fR seconds and
-written to disk every \fISeconds\fR seconds. Since this is kind of expensive and
-does nothing under normal circumstances, this value should not be too small.
-900 seconds might be a good value, though setting this to 7200 seconds doesn't
-normally do much harm either.
-.IP "\fBCacheTimeout\fR \fISeconds\fR" 4
-.IX Item "CacheTimeout Seconds"
-If this option is set to a value greater than zero, the \f(CW\*(C`rrdtool plugin\*(C'\fR will
-save values in a cache, as described above. Writing multiple values at once
-reduces IO-operations and thus lessens the load produced by updating the files.
-The trade off is that the graphs kind of \*(L"drag behind\*(R" and that more memory is
-used.
-.ie n .Sh "Plugin ""sensors"""
-.el .Sh "Plugin \f(CWsensors\fP"
-.IX Subsection "Plugin sensors"
-The \f(CW\*(C`sensors plugin\*(C'\fR uses \fBlm_sensors\fR to retrieve sensor-values. This means
-that all the needed modules have to be loaded and lm_sensors has to be
-configured (most likely by editing \fI/etc/sensors.conf\fR. Read
-\&\fIsensors.conf\fR\|(5) for details.
-.PP
-The \fBlm_sensors\fR homepage can be found at
-<http://secure.netroedge.com/~lm78/>.
-.IP "\fBSensor\fR \fIchip\-bus\-address/type\-feature\fR" 4
-.IX Item "Sensor chip-bus-address/type-feature"
-Selects the name of the sensor which you want to collect or ignore, depending
-on the \fBIgnoreSelected\fR below. For example, the option "\fBSensor\fR
-\&\fIit8712\-isa\-0290/voltage\-in1\fR" will cause collectd to gather data for the
-voltage sensor \fIin1\fR of the \fIit8712\fR on the isa bus at the address 0290.
-.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "IgnoreSelected true|false"
-If no configuration if given, the \fBsensors\fR\-plugin will collect data from all
-sensors. This may not be practical, especially for uninteresting sensors.
-Thus, you can use the \fBSensor\fR\-option to pick the sensors you're interested
-in. Sometimes, however, it's easier/preferred to collect all sensors \fIexcept\fR a
-few ones. This option enables you to do that: By setting \fBIgnoreSelected\fR to
-\&\fItrue\fR the effect of \fBSensor\fR is inversed: All selected sensors are ignored
-and all other sensors are collected.
-.ie n .Sh "Plugin ""snmp"""
-.el .Sh "Plugin \f(CWsnmp\fP"
-.IX Subsection "Plugin snmp"
-Since the configuration of the \f(CW\*(C`snmp plugin\*(C'\fR is a little more complicated than
-other plugins, its documentation has been moved to an own manpage,
-\&\fIcollectd\-snmp\fR\|(5). Please see there for details.
-.ie n .Sh "Plugin ""syslog"""
-.el .Sh "Plugin \f(CWsyslog\fP"
-.IX Subsection "Plugin syslog"
-.IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
-.IX Item "LogLevel debug|info|notice|warning|err"
-Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
-severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be submitted to the
-syslog-daemon.
-.Sp
-Please note that \fBdebug\fR is only available if collectd has been compiled with
-debugging support.
-.ie n .Sh "Plugin ""tail"""
-.el .Sh "Plugin \f(CWtail\fP"
-.IX Subsection "Plugin tail"
-The \f(CW\*(C`tail plugin\*(C'\fR plugins follows logfiles, just like \fItail\fR\|(1) does, parses
-each line and dispatches found values. What is matched can be configured by the
-user using (extended) regular expressions, as described in \fIregex\fR\|(7).
-.PP
-.Vb 10
-\&  <Plugin "tail">
-\&    <File "/var/log/exim4/mainlog">
-\&      Instance "exim"
-\&      <Match>
-\&        Regex "S=([1\-9][0\-9]*)"
-\&        DSType "CounterAdd"
-\&        Type "ipt_bytes"
-\&        Instance "total"
-\&      </Match>
-\&      <Match>
-\&        Regex "\e\e<R=local_user\e\e>"
-\&        DSType "CounterInc"
-\&        Type "counter"
-\&        Instance "local_user"
-\&      </Match>
-\&    </File>
-\&  </Plugin>
-.Ve
-.PP
-The config consists of one or more \fBFile\fR blocks, each of which configures one
-logfile to parse. Within each \fBFile\fR block, there are one or more \fBMatch\fR
-blocks, which configure a regular expression to search for.
-.PP
-The \fBInstance\fR option in the \fBFile\fR block may be used to set the plugin
-instance. So in the above example the plugin name \f(CW\*(C`tail\-foo\*(C'\fR would be used.
-This plugin instance is for all \fBMatch\fR blocks that \fBfollow\fR it, until the
-next \fBInstance\fR option. This way you can extract several plugin instances from
-one logfile, handy when parsing syslog and the like.
-.PP
-Each \fBMatch\fR block has the following options to describe how the match should
-be performed:
-.IP "\fBRegex\fR \fIregex\fR" 4
-.IX Item "Regex regex"
-Sets the regular expression to use for matching against a line. The first
-subexpression has to match something that can be turned into a number by
-\&\fIstrtoll\fR\|(3) or \fIstrtod\fR\|(3), depending on the value of \f(CW\*(C`CounterAdd\*(C'\fR, see
-below. Because \fBextended\fR regular expressions are used, you do not need to use
-backslashes for subexpressions! If in doubt, please consult \fIregex\fR\|(7). Due to
-collectd's config parsing you need to escape backslashes, though. So if you
-want to match literal parentheses you need to do the following:
-.Sp
-.Vb 1
-\&  Regex "SPAM \e\e(Score: (\-?[0\-9]+\e\e.[0\-9]+)\e\e)"
-.Ve
-.IP "\fBDSType\fR \fIType\fR" 4
-.IX Item "DSType Type"
-Sets how the values are cumulated. \fIType\fR is one of:
-.RS 4
-.IP "\fBGaugeAverage\fR" 4
-.IX Item "GaugeAverage"
-Calculate the average.
-.IP "\fBGaugeMin\fR" 4
-.IX Item "GaugeMin"
-Use the smallest number only.
-.IP "\fBGaugeMax\fR" 4
-.IX Item "GaugeMax"
-Use the greatest number only.
-.IP "\fBGaugeLast\fR" 4
-.IX Item "GaugeLast"
-Use the last number found.
-.IP "\fBCounterSet\fR" 4
-.IX Item "CounterSet"
-The matched number is a counter. Simply sets the internal counter to this
-value.
-.IP "\fBCounterAdd\fR" 4
-.IX Item "CounterAdd"
-Add the matched value to the internal counter.
-.IP "\fBCounterInc\fR" 4
-.IX Item "CounterInc"
-Increase the internal counter by one. This \fBDSType\fR is the only one that does
-not use the matched subexpression, but simply counts the number of matched
-lines. Thus, you may use a regular expression without submatch in this case.
-.RE
-.RS 4
-.Sp
-As you'd expect the \fBGauge*\fR types interpret the submatch as a floating point
-number, using \fIstrtod\fR\|(3). The \fBCounterSet\fR and \fBCounterAdd\fR interpret the
-submatch as an integer using \fIstrtoll\fR\|(3). \fBCounterInc\fR does not use the
-submatch at all and it may be omitted in this case.
-.RE
-.IP "\fBType\fR \fIType\fR" 4
-.IX Item "Type Type"
-Sets the type used to dispatch this value. Detailed information about types and
-their configuration can be found in \fItypes.db\fR\|(5).
-.IP "\fBInstance\fR \fITypeInstance\fR" 4
-.IX Item "Instance TypeInstance"
-This optional setting sets the type instance to use.
-.ie n .Sh "Plugin ""teamspeak2"""
-.el .Sh "Plugin \f(CWteamspeak2\fP"
-.IX Subsection "Plugin teamspeak2"
-The \f(CW\*(C`teamspeak2 plugin\*(C'\fR connects to the query port of a teamspeak2 server and
-polls interesting global and virtual server data. The plugin can query only one
-physical server but unlimited virtual servers. You can use the following
-options to configure it:
-.IP "\fBHost\fR \fIhostname/ip\fR" 4
-.IX Item "Host hostname/ip"
-The hostname or ip which identifies the physical server.
-Default: 127.0.0.1
-.IP "\fBPort\fR \fIport\fR" 4
-.IX Item "Port port"
-The query port of the physical server. This needs to be a string.
-Default: \*(L"51234\*(R"
-.IP "\fBServer\fR \fIport\fR" 4
-.IX Item "Server port"
-This option has to be added once for every virtual server the plugin should
-query. If you want to query the virtual server on port 8767 this is what the
-option would look like:
-.Sp
-.Vb 1
-\&  Server "8767"
-.Ve
-.Sp
-This option, although numeric, needs to be a string, i.\ e. you \fBmust\fR
-use quotes around it! If no such statement is given only global information
-will be collected.
-.ie n .Sh "Plugin ""tcpconns"""
-.el .Sh "Plugin \f(CWtcpconns\fP"
-.IX Subsection "Plugin tcpconns"
-The \f(CW\*(C`tcpconns plugin\*(C'\fR counts the number of currently established \s-1TCP\s0
-connections based on the local port and/or the remote port. Since there may be
-a lot of connections the default if to count all connections with a local port,
-for which a listening socket is opened. You can use the following options to
-fine-tune the ports you are interested in:
-.IP "\fBListeningPorts\fR \fItrue\fR|\fIfalse\fR" 4
-.IX Item "ListeningPorts true|false"
-If this option is set to \fItrue\fR, statistics for all local ports for which a
-listening socket exists are collected. The default depends on \fBLocalPort\fR and
-\&\fBRemotePort\fR (see below): If no port at all is specifically selected, the
-default is to collect listening ports. If specific ports (no matter if local or
-remote ports) are selected, this option defaults to \fIfalse\fR, i.\ e. only
-the selected ports will be collected unless this option is set to \fItrue\fR
-specifically.
-.IP "\fBLocalPort\fR \fIPort\fR" 4
-.IX Item "LocalPort Port"
-Count the connections to a specific local port. This can be used to see how
-many connections are handled by a specific daemon, e.\ g. the mailserver.
-You have to specify the port in numeric form, so for the mailserver example
-you'd need to set \fB25\fR.
-.IP "\fBRemotePort\fR \fIPort\fR" 4
-.IX Item "RemotePort Port"
-Count the connections to a specific remote port. This is useful to see how
-much a remote service is used. This is most useful if you want to know how many
-connections a local service has opened to remote services, e.\ g. how many
-connections a mail server or news server has to other mail or news servers, or
-how many connections a web proxy holds to web servers. You have to give the
-port in numeric form.
-.ie n .Sh "Plugin ""unixsock"""
-.el .Sh "Plugin \f(CWunixsock\fP"
-.IX Subsection "Plugin unixsock"
-.IP "\fBSocketFile\fR \fIPath\fR" 4
-.IX Item "SocketFile Path"
-Sets the socket-file which is to be created.
-.IP "\fBSocketGroup\fR \fIGroup\fR" 4
-.IX Item "SocketGroup Group"
-If running as root change the group of the UNIX-socket after it has been
-created. Defaults to \fBcollectd\fR.
-.IP "\fBSocketPerms\fR \fIPermissions\fR" 4
-.IX Item "SocketPerms Permissions"
-Change the file permissions of the UNIX-socket after it has been created. The
-permissions must be given as a numeric, octal value as you would pass to
-\&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
-.ie n .Sh "Plugin ""uuid"""
-.el .Sh "Plugin \f(CWuuid\fP"
-.IX Subsection "Plugin uuid"
-This plugin, if loaded, causes the Hostname to be taken from the machine's
-\&\s-1UUID\s0. The \s-1UUID\s0 is a universally unique designation for the machine, usually
-taken from the machine's \s-1BIOS\s0. This is most useful if the machine is running in
-a virtual environment such as Xen, in which case the \s-1UUID\s0 is preserved across
-shutdowns and migration.
-.PP
-The following methods are used to find the machine's \s-1UUID\s0, in order:
-.IP "\(bu" 4
-Check \fI/etc/uuid\fR (or \fIUUIDFile\fR).
-.IP "\(bu" 4
-Check for \s-1UUID\s0 from \s-1HAL\s0 (<http://www.freedesktop.org/wiki/Software/hal>) if
-present.
-.IP "\(bu" 4
-Check for \s-1UUID\s0 from \f(CW\*(C`dmidecode\*(C'\fR / \s-1SMBIOS\s0.
-.IP "\(bu" 4
-Check for \s-1UUID\s0 from Xen hypervisor.
-.PP
-If no \s-1UUID\s0 can be found then the hostname is not modified.
-.IP "\fBUUIDFile\fR \fIPath\fR" 4
-.IX Item "UUIDFile Path"
-Take the \s-1UUID\s0 from the given file (default \fI/etc/uuid\fR).
-.ie n .Sh "Plugin ""vmem"""
-.el .Sh "Plugin \f(CWvmem\fP"
-.IX Subsection "Plugin vmem"
-The \f(CW\*(C`vmem\*(C'\fR plugin collects information about the usage of virtual memory.
-Since the statistics provided by the Linux kernel are very detailed, they are
-collected very detailed. However, to get all the details, you have to switch
-them on manually. Most people just want an overview over, such as the number of
-pages read from swap space.
-.IP "\fBVerbose\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "Verbose true|false"
-Enables verbose collection of information. This will start collecting page
-\&\*(L"actions\*(R", e.\ g. page allocations, (de)activations, steals and so on.
-Part of these statistics are collected on a \*(L"per zone\*(R" basis.
-.ie n .Sh "Plugin ""vserver"""
-.el .Sh "Plugin \f(CWvserver\fP"
-.IX Subsection "Plugin vserver"
-This plugin doesn't have any options. \fBVServer\fR support is only available for
-Linux. It cannot yet be found in a vanilla kernel, though. To make use of this
-plugin you need a kernel that has \fBVServer\fR support built in, i.\ e. you
-need to apply the patches and compile your own kernel, which will then provide
-the \fI/proc/virtual\fR filesystem that is required by this plugin.
-.PP
-The \fBVServer\fR homepage can be found at <http://linux\-vserver.org/>.
-.SH "THRESHOLD CONFIGURATION"
-.IX Header "THRESHOLD CONFIGURATION"
-Starting with version \f(CW4.3.0\fR collectd has support for \fBmonitoring\fR. By that
-we mean that the values are not only stored or sent somewhere, but that they
-are judged and, if a problem is recognized, acted upon. The only action
-collectd takes itself is to generate and dispatch a \*(L"notification\*(R". Plugins can
-register to receive notifications and perform appropriate further actions.
-.PP
-Since systems and what you expect them to do differ a lot, you can configure
-\&\fBthresholds\fR for your values freely. This gives you a lot of flexibility but
-also a lot of responsibility.
-.PP
-Every time a value is out of range a notification is dispatched. This means
-that the idle percentage of your \s-1CPU\s0 needs to be less then the configured
-threshold only once for a notification to be generated. There's no such thing
-as a moving average or similar \- at least not now.
-.PP
-Also, all values that match a threshold are considered to be relevant or
-\&\*(L"interesting\*(R". As a consequence collectd will issue a notification if they are
-not received for twice the last timeout of the values. If, for example, some
-hosts sends it's \s-1CPU\s0 statistics to the server every 60 seconds, a notification
-will be dispatched after about 120 seconds. It may take a little longer because
-the timeout is checked only once each \fBInterval\fR on the server.
-.PP
-Here is a configuration example to get you started. Read below for more
-information.
-.PP
-.Vb 9
-\& <Threshold>
-\&   <Type "foo">
-\&     WarningMin    0.00
-\&     WarningMax 1000.00
-\&     FailureMin    0.00
-\&     FailureMax 1200.00
-\&     Invert false
-\&     Instance "bar"
-\&   </Type>
-\&
-\&   <Plugin "interface">
-\&     Instance "eth0"
-\&     <Type "if_octets">
-\&       FailureMax 10000000
-\&       DataSource "rx"
-\&     </Type>
-\&   </Plugin>
-\&
-\&   <Host "hostname">
-\&     <Type "cpu">
-\&       Instance "idle"
-\&       FailureMin 10
-\&     </Type>
-\&
-\&     <Plugin "memory">
-\&       <Type "memory">
-\&         Instance "cached"
-\&         WarningMin 100000000
-\&       </Type>
-\&     </Plugin>
-\&   </Host>
-\& </Threshold>
-.Ve
-.PP
-There are basically two types of configuration statements: The \f(CW\*(C`Host\*(C'\fR,
-\&\f(CW\*(C`Plugin\*(C'\fR, and \f(CW\*(C`Type\*(C'\fR blocks select the value for which a threshold should be
-configured. The \f(CW\*(C`Plugin\*(C'\fR and \f(CW\*(C`Type\*(C'\fR blocks may be specified further using the
-\&\f(CW\*(C`Instance\*(C'\fR option. You can combine the block by nesting the blocks, though
-they must be nested in the above order, i.\ e. \f(CW\*(C`Host\*(C'\fR may contain either
-\&\f(CW\*(C`Plugin\*(C'\fR and \f(CW\*(C`Type\*(C'\fR blocks, \f(CW\*(C`Plugin\*(C'\fR may only contain \f(CW\*(C`Type\*(C'\fR blocks and
-\&\f(CW\*(C`Type\*(C'\fR may not contain other blocks. If multiple blocks apply to the same
-value the most specific block is used.
-.PP
-The other statements specify the threshold to configure. They \fBmust\fR be
-included in a \f(CW\*(C`Type\*(C'\fR block. Currently the following statements are recognized:
-.IP "\fBFailureMax\fR \fIValue\fR" 4
-.IX Item "FailureMax Value"
-.PD 0
-.IP "\fBWarningMax\fR \fIValue\fR" 4
-.IX Item "WarningMax Value"
-.PD
-Sets the upper bound of acceptable values. If unset defaults to positive
-infinity. If a value is greater than \fBFailureMax\fR a \fB\s-1FAILURE\s0\fR notification
-will be created. If the value is greater than \fBWarningMax\fR but less than (or
-equal to) \fBFailureMax\fR a \fB\s-1WARNING\s0\fR notification will be created.
-.IP "\fBFailureMin\fR \fIValue\fR" 4
-.IX Item "FailureMin Value"
-.PD 0
-.IP "\fBWarningMin\fR \fIValue\fR" 4
-.IX Item "WarningMin Value"
-.PD
-Sets the lower bound of acceptable values. If unset defaults to negative
-infinity. If a value is less than \fBFailureMin\fR a \fB\s-1FAILURE\s0\fR notification will
-be created. If the value is less than \fBWarningMin\fR but greater than (or equal
-to) \fBFailureMin\fR a \fB\s-1WARNING\s0\fR notification will be created.
-.IP "\fBDataSource\fR \fIDSName\fR" 4
-.IX Item "DataSource DSName"
-Some data sets have more than one \*(L"data source\*(R". Interesting examples are the
-\&\f(CW\*(C`if_octets\*(C'\fR data set, which has received (\f(CW\*(C`rx\*(C'\fR) and sent (\f(CW\*(C`tx\*(C'\fR) bytes and
-the \f(CW\*(C`disk_ops\*(C'\fR data set, which holds \f(CW\*(C`read\*(C'\fR and \f(CW\*(C`write\*(C'\fR operations. The
-system load data set, \f(CW\*(C`load\*(C'\fR, even has three data sources: \f(CW\*(C`shortterm\*(C'\fR,
-\&\f(CW\*(C`midterm\*(C'\fR, and \f(CW\*(C`longterm\*(C'\fR.
-.Sp
-Normally, all data sources are checked against a configured threshold. If this
-is undesirable, or if you want to specify different limits for each data
-source, you can use the \fBDataSource\fR option to have a threshold apply only to
-one data source.
-.IP "\fBInvert\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "Invert true|false"
-If set to \fBtrue\fR the range of acceptable values is inverted, i.\ e.
-values between \fBFailureMin\fR and \fBFailureMax\fR (\fBWarningMin\fR and
-\&\fBWarningMax\fR) are not okay. Defaults to \fBfalse\fR.
-.IP "\fBPersist\fR \fBtrue\fR|\fBfalse\fR" 4
-.IX Item "Persist true|false"
-Sets how often notifications are generated. If set to \fBtrue\fR one notification
-will be generated for each value that is out of the acceptable range. If set to
-\&\fBfalse\fR (the default) then a notification is only generated if a value is out
-of range but the previous value was okay.
-.Sp
-This applies to missing values, too: If set to \fBtrue\fR a notification about a
-missing value is generated once every \fBInterval\fR seconds. If set to \fBfalse\fR
-only one such notification is generated until the value appears again.
+The types.db file contains one line for each data-set specification. Each line
+consists of two fields delimited by spaces and/or horizontal tabs. The first
+field defines the name of the data-set, while the second field defines a list
+of data-source specifications, delimited by spaces and, optionally, a comma
+(\*(L",\*(R") right after each list-entry.
+.PP
+The format of the data-source specification has been inspired by RRDtool's
+data-source specification. Each data-source is defined by a quadruple made up
+of the data-source name, type, minimal and maximal values, delimited by colons
+(\*(L":\*(R"): \fIds-name\fR:\fIds-type\fR:\fImin\fR:\fImax\fR. \fIds-type\fR may be either
+\&\fB\s-1COUNTER\s0\fR or \fB\s-1GAUGE\s0\fR. \fImin\fR and \fImax\fR define the range of valid values for
+data stored for this data-source. If \fBU\fR is specified for either the min or
+max value, it will be set to unknown, meaning that no range checks will
+happen. See \fIrrdcreate\fR\|(1) for more details.
+.SH "FILES"
+.IX Header "FILES"
+The location of the types.db file is defined by the \fBTypesDB\fR configuration
+option (see \fIcollectd.conf\fR\|(5)). If you want to specify custom data-sets, you
+should do so by using a custom file specified as an additional argument to the
+\&\fBTypesDB\fR option.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
-\&\fIcollectd\-exec\fR\|(5),
-\&\fIcollectd\-perl\fR\|(5),
-\&\fIcollectd\-unixsock\fR\|(5),
-\&\fItypes.db\fR\|(5),
-\&\fIhddtemp\fR\|(8),
-kstat(3KSTAT),
-\&\fImbmon\fR\|(1),
-\&\fIrrdtool\fR\|(1),
-\&\fIsensors\fR\|(1)
+\&\fIcollectd.conf\fR\|(5),
+\&\fIrrdcreate\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+\&\fBcollectd\fR has been written by Florian Forster
+<octo\ at\ verplant.org>.
+.PP
+This manpage has been written by Sebastian Harl
+<sh\ at\ tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.conf.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.conf.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.conf.pod	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.conf.pod	2008-10-17 03:24:20.000000000 +0800
@@ -1042,15 +1042,15 @@
 
 In this case please file a bug report with the collectd team.
 
 =item B<Socket> I<Path>
 
 Configures the path to the UNIX domain socket to be used when connecting to the
-daemon. By default C</var/run/pdns.controlsocket> will be used for an
-authoritative server and C</var/run/pdns_recursor.controlsocket> will be used
-for the recursor.
+daemon. By default C<${localstatedir}/run/pdns.controlsocket> will be used for
+an authoritative server and C<${localstatedir}/run/pdns_recursor.controlsocket>
+will be used for the recursor.
 
 =back
 
 =item B<LocalSocket> I<Path>
 
 Querying the recursor is done using UDP. When using UDP over UNIX domain
@@ -1492,12 +1492,15 @@
 "interesting". As a consequence collectd will issue a notification if they are
 not received for twice the last timeout of the values. If, for example, some
 hosts sends it's CPU statistics to the server every 60 seconds, a notification
 will be dispatched after about 120 seconds. It may take a little longer because
 the timeout is checked only once each B<Interval> on the server.
 
+When a value comes within range again or is received after it was missing, an
+"OKAY-notification" is dispatched.
+
 Here is a configuration example to get you started. Read below for more
 information.
 
  <Threshold>
    <Type "foo">
      WarningMin    0.00
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-email.5	2008-09-04 16:07:30.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-email.5	2008-10-17 04:10:06.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -128,74 +120,490 @@
 .    ds ae ae
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
-.IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2007-10-24" "4.4.3" "collectd"
+.IX Title "COLLECTD-EXEC 5"
+.TH COLLECTD-EXEC 5 "2008-10-16" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
-collectd\-email \- Documentation of collectd's \f(CW\*(C`email plugin\*(C'\fR
+collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
-\&  LoadPlugin email
+\&  LoadPlugin exec
 \&  # ...
-\&  <Plugin email>
-\&    SocketGroup "collectd"
-\&    SocketPerms "0770"
-\&    MaxConns 5
+\&  <Plugin exec>
+\&    Exec "myuser:mygroup" "myprog"
+\&    Exec "otheruser" "/path/to/another/binary" "arg0" "arg1"
+\&    NotificationExec "user" "/usr/lib/collectd/exec/handle_notification"
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`email plugin\*(C'\fR opens an UNIX-socket over which one can submit email
-statistics, such as the number of \*(L"ham\*(R", \*(L"spam\*(R", \*(L"virus\*(R", etc. mails
-received/handled, spam scores and matched spam checks.
-.PP
-This plugin is intended to be used with the
-Mail::SpamAssassin::Plugin::Collectd SpamAssassin-plugin which is included
-in \fIcontrib/\fR, but is of course not limited to that use.
-.SH "OPERATION"
-.IX Header "OPERATION"
-This plugin collects data indirectly by providing a UNIX-socket that external
-programs can connect to. A simple line based protocol is used to communicate
-with the plugin:
-.IP "\(bu" 4
-E\-Mail type (e.g. \*(L"ham\*(R", \*(L"spam\*(R", \*(L"virus\*(R", ...) and size (bytes):
+The \f(CW\*(C`exec plugin\*(C'\fR forks of an executable either to receive values or to
+dispatch notifications to the outside world. The syntax of the configuration is
+explained in \fIcollectd.conf\fR\|(5) but summarized in the above synopsis.
+.PP
+If you want/need better performance or more functionality you should take a
+long look at the \f(CW\*(C`perl plugin\*(C'\fR, \fIcollectd\-perl\fR\|(5).
+.SH "EXECUTABLE TYPES"
+.IX Header "EXECUTABLE TYPES"
+There are currently two types of executables that can be executed by the
+\&\f(CW\*(C`exec plugin\*(C'\fR:
+.ie n .IP """Exec""" 4
+.el .IP "\f(CWExec\fR" 4
+.IX Item "Exec"
+These programs are forked and values that it writes to \f(CW\*(C`STDOUT\*(C'\fR are read back.
+The executable is forked in a fashion similar to init: It is forked once and
+not again until it exits. If it exited, it will be forked again after at most
+\&\fIInterval\fR seconds. It is perfectly legal for the executable to run for a long
+time and continuously write values to \f(CW\*(C`STDOUT\*(C'\fR.
 .Sp
-.Vb 1
-\&  e:<type>:<size>
+See \*(L"\s-1EXEC\s0 \s-1DATA\s0 \s-1FORMAT\s0\*(R" below for a description of the output format expected
+from these programs.
+.Sp
+\&\fBWarning:\fR If the executable only writes one value and then exits I will be
+executed every \fIInterval\fR seconds. If \fIInterval\fR is short (the default is 10
+seconds) this may result in serious system load.
+.ie n .IP """NotificationExec""" 4
+.el .IP "\f(CWNotificationExec\fR" 4
+.IX Item "NotificationExec"
+The program is forked once for each notification that is handled by the daemon.
+The notification is passed to the program on \f(CW\*(C`STDIN\*(C'\fR in a fashion similar to
+HTTP-headers. In contrast to programs specified with \f(CW\*(C`Exec\*(C'\fR the execution of
+this program is not serialized, so that several instances of this program may
+run at once if multiple notifications are received.
+.Sp
+See \*(L"\s-1NOTIFICATION\s0 \s-1DATA\s0 \s-1FORMAT\s0\*(R" below for a description of the data passed to
+these programs.
+.SH "EXEC DATA FORMAT"
+.IX Header "EXEC DATA FORMAT"
+The forked executable is expected to print values to \f(CW\*(C`STDOUT\*(C'\fR. The expected
+format is as follows:
+.IP "Comments" 4
+.IX Item "Comments"
+Each line beginning with a \f(CW\*(C`#\*(C'\fR (hash mark) is ignored.
+.IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
+.IX Item "PUTVAL Identifier [OptionList] Valuelist"
+Submits one or more values (identified by \fIIdentifier\fR, see below) to the
+daemon which will dispatch it to all it's write-plugins.
+.Sp
+An \fIIdentifier\fR is of the form
+\&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
+\&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
+omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
+as the tuple (plugin, plugin instance, type instance) uniquely identifies the
+plugin within collectd. \fItype\fR identifies the type and number of values
+(i.\ e. data-set) passed to collectd. A large list of predefined
+data-sets is available in the \fBtypes.db\fR file. See \fItypes.db\fR\|(5) for a
+description of the format of this file.
+.Sp
+The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
+key-value-pair. A list of currently understood options can be found below, all
+other options will be ignored.
+.Sp
+\&\fIValuelist\fR is a colon-separated list of the time and the values, each either
+an integer if the data-source is a counter, or a double if the data-source is
+of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
+submitting \fBU\fR to a counter the behavior is undefined. The time is given as
+epoch (i.\ e. standard \s-1UNIX\s0 time).
+.Sp
+You can mix options and values, but the order is important: Options only
+effect following values, so specifying an option as last field is allowed, but
+useless. Also, an option applies to \fBall\fR following values, so you don't need
+to re-set an option over and over again.
+.Sp
+The currently defined \fBOptions\fR are:
+.RS 4
+.IP "\fBinterval=\fR\fIseconds\fR" 4
+.IX Item "interval=seconds"
+Gives the interval in which the data identified by \fIIdentifier\fR is being
+collected.
+.RE
+.RS 4
+.Sp
+Please note that this is the same format as used in the \fBunixsock plugin\fR, see
+\&\fIcollectd\-unixsock\fR\|(5). There's also a bit more information on identifiers in
+case you're confused.
+.Sp
+Since examples usually let one understand a lot better, here are some:
+.Sp
+.Vb 2
+\&  leeloo/cpu\-0/cpu\-idle N:2299366
+\&  alice/interface/if_octets\-eth0 interval=10 1180647081:421465:479194
 .Ve
 .Sp
-If \f(CW\*(C`size\*(C'\fR is less than or equal to zero, \f(CW\*(C`size\*(C'\fR is ignored.
-.IP "\(bu" 4
-Spam score:
+Since this action was the only one supported with older versions of the \f(CW\*(C`exec
+plugin\*(C'\fR all lines were treated as if they were prefixed with \fB\s-1PUTVAL\s0\fR. This is
+still the case to maintain backwards compatibility but deprecated.
+.RE
+.IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
+.IX Item "PUTNOTIF [OptionList] message=Message"
+Submits a notification to the daemon which will then dispatch it to all plugins
+which have registered for receiving notifications.
+.Sp
+The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
+notification. The \fBmessage\fR option is special in that it will consume the rest
+of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
+mandatory.
 .Sp
+Valid options are:
+.RS 4
+.IP "\fBmessage=\fR\fIMessage\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "message=Message (REQUIRED)"
+Sets the message of the notification. This is the message that will be made
+accessible to the user, so it should contain some useful information. This
+option must be the last option because the rest of the line will be its value,
+even if there are spaces and equal-signs following it! This option is
+mandatory.
+.IP "\fBseverity=failure\fR|\fBwarning\fR|\fBokay\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "severity=failure|warning|okay (REQUIRED)"
+Sets the severity of the notification. This option is mandatory.
+.IP "\fBtime=\fR\fITime\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "time=Time (REQUIRED)"
+Sets the time of the notification. The time is given as \*(L"epoch\*(R", i.\ e. as
+seconds since January 1st, 1970, 00:00:00. This option is mandatory.
+.IP "\fBhost=\fR\fIHostname\fR" 4
+.IX Item "host=Hostname"
+.PD 0
+.IP "\fBplugin=\fR\fIPlugin\fR" 4
+.IX Item "plugin=Plugin"
+.IP "\fBplugin_instance=\fR\fIPlugin-Instance\fR" 4
+.IX Item "plugin_instance=Plugin-Instance"
+.IP "\fBtype=\fR\fIType\fR" 4
+.IX Item "type=Type"
+.IP "\fBtype_instance=\fR\fIType-Instance\fR" 4
+.IX Item "type_instance=Type-Instance"
+.PD
+These \*(L"associative\*(R" options establish a relation between this notification and
+collected performance data. This connection is purely informal, i.\ e. the
+daemon itself doesn't do anything with this information. However, websites or
+GUIs may use this information to place notifications near the affected graph or
+table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
+or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
+avoided.
+.RE
+.RS 4
+.RE
+.PP
+Please note that this is the same format as used in the \fBunixsock plugin\fR, see
+\&\fIcollectd\-unixsock\fR\|(5).
+.PP
+When collectd exits it sends a \fB\s-1SIGTERM\s0\fR to all still running
+child-processes upon which they have to quit.
+.SH "NOTIFICATION DATA FORMAT"
+.IX Header "NOTIFICATION DATA FORMAT"
+The notification executables receive values rather than providing them. In
+fact, after the program is started \f(CW\*(C`STDOUT\*(C'\fR is connected to \f(CW\*(C`/dev/null\*(C'\fR.
+.PP
+The data is passed to the executables over \f(CW\*(C`STDIN\*(C'\fR in a format very similar to
+\&\s-1HTTP:\s0 At first there is a \*(L"header\*(R" with one line per field. Every line consists
+of a field name, ended by a colon, and the associated value until end-of-line.
+The \*(L"header\*(R" is ended by two newlines immediately following another,
+i.\ e. an empty line. The rest, basically the \*(L"body\*(R", is the message of
+the notification.
+.PP
+The following is an example notification passed to a program:
+.PP
+.Vb 5
+\&  Severity: FAILURE
+\&  Time: 1200928930
+\&  Host: myhost.mydomain.org
+\&  \en
+\&  This is a test notification to demonstrate the format
+.Ve
+.PP
+The following header files are currently used. Please note, however, that you
+should ignore unknown header files to be as forward-compatible as possible.
+.IP "\fBSeverity\fR" 4
+.IX Item "Severity"
+Severity of the notification. May either be \fB\s-1FAILURE\s0\fR, \fB\s-1WARNING\s0\fR, or \fB\s-1OKAY\s0\fR.
+.IP "\fBTime\fR" 4
+.IX Item "Time"
+The time in epoch, i.\ e. as seconds since 1970\-01\-01 00:00:00 \s-1UTC\s0.
+.IP "\fBHost\fR" 4
+.IX Item "Host"
+.PD 0
+.IP "\fBPlugin\fR" 4
+.IX Item "Plugin"
+.IP "\fBPluginInstance\fR" 4
+.IX Item "PluginInstance"
+.IP "\fBType\fR" 4
+.IX Item "Type"
+.IP "\fBTypeInstance\fR" 4
+.IX Item "TypeInstance"
+.PD
+Identification of the performance data this notification is associated with.
+All of these fields are optional because notifications do not \fBneed\fR to be
+associated with a certain value.
+.SH "USING NAGIOS PLUGINS"
+.IX Header "USING NAGIOS PLUGINS"
+Though the interface is far from perfect, there are tons of plugins for Nagios.
+You can use these plugins with collectd by using a simple transition layer,
+\&\f(CW\*(C`exec\-nagios.px\*(C'\fR, which is shipped with the collectd distribution in the
+\&\f(CW\*(C`contrib/\*(C'\fR directory. It is a simple Perl script that comes with embedded
+documentation. To see it, run the following command:
+.PP
 .Vb 1
-\&  s:<value>
+\&  perldoc exec\-nagios.px
 .Ve
+.PP
+This script expects a configuration file, \f(CW\*(C`exec\-nagios.conf\*(C'\fR. You can find an
+example in the \f(CW\*(C`contrib/\*(C'\fR directory, too.
+.PP
+Even a simple mechanism to submit \*(L"performance data\*(R" to collectd is
+implemented. If you need a more sophisticated setup, please rewrite the plugin
+to make use of collectd's more powerful interface.
+.SH "CAVEATS"
+.IX Header "CAVEATS"
 .IP "\(bu" 4
-Successful spam checks (e.g. \*(L"\s-1BAYES_99\s0\*(R", \*(L"\s-1SUBJECT_DRUG_GAP_C\s0\*(R", ...):
-.Sp
+The user, the binary is executed as, may not have root privileges, i.\ e.
+must have an \s-1UID\s0 that is non-zero. This is for your own good.
+.SH "SEE ALSO"
+.IX Header "SEE ALSO"
+\&\fIcollectd\fR\|(1),
+\&\fIcollectd.conf\fR\|(5),
+\&\fIcollectd\-perl\fR\|(5),
+\&\fIcollectd\-unixsock\fR\|(5),
+\&\fIfork\fR\|(2), \fIexec\fR\|(3)
+.SH "AUTHOR"
+.IX Header "AUTHOR"
+Florian Forster <octo@verplant.org>
+                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         log (log-level, message)"
+Submits a \fImessage\fR of level \fIlog-level\fR to collectd's logging mechanism.
+The message is passed to all log-callbacks that are registered with collectd.
+.IP "\fB\s-1ERROR\s0\fR, \fB\s-1WARNING\s0\fR, \fB\s-1NOTICE\s0\fR, \fB\s-1INFO\s0\fR, \fB\s-1DEBUG\s0\fR (\fImessage\fR)" 4
+.IX Item "ERROR, WARNING, NOTICE, INFO, DEBUG (message)"
+Wrappers around \fBplugin_log\fR, using \fB\s-1LOG_ERR\s0\fR, \fB\s-1LOG_WARNING\s0\fR,
+\&\fB\s-1LOG_NOTICE\s0\fR, \fB\s-1LOG_INFO\s0\fR and \fB\s-1LOG_DEBUG\s0\fR respectively as \fIlog-level\fR.
+.SH "GLOBAL VARIABLES"
+.IX Header "GLOBAL VARIABLES"
+.ie n .IP "\fB\fB$hostname_g\fB\fR" 4
+.el .IP "\fB\f(CB$hostname_g\fB\fR" 4
+.IX Item "$hostname_g"
+As the name suggests this variable keeps the hostname of the system collectd
+is running on. The value might be influenced by the \fBHostname\fR or
+\&\fBFQDNLookup\fR configuration options (see \fIcollectd.conf\fR\|(5) for details).
+.ie n .IP "\fB\fB$interval_g\fB\fR" 4
+.el .IP "\fB\f(CB$interval_g\fB\fR" 4
+.IX Item "$interval_g"
+This variable keeps the interval in seconds in which the read functions are
+queried (see the \fBInterval\fR configuration option).
+.PP
+Any changes to these variables will be globally visible in collectd.
+.SH "EXPORTS"
+.IX Header "EXPORTS"
+By default no symbols are exported. However, the following export tags are
+available (\fB:all\fR will export all of them):
+.IP "\fB:plugin\fR" 4
+.IX Item ":plugin"
+.RS 4
+.PD 0
+.IP "\fBplugin_register\fR ()" 4
+.IX Item "plugin_register ()"
+.IP "\fBplugin_unregister\fR ()" 4
+.IX Item "plugin_unregister ()"
+.IP "\fBplugin_dispatch_values\fR ()" 4
+.IX Item "plugin_dispatch_values ()"
+.IP "\fBplugin_flush\fR ()" 4
+.IX Item "plugin_flush ()"
+.IP "\fBplugin_flush_one\fR ()" 4
+.IX Item "plugin_flush_one ()"
+.IP "\fBplugin_flush_all\fR ()" 4
+.IX Item "plugin_flush_all ()"
+.IP "\fBplugin_dispatch_notification\fR ()" 4
+.IX Item "plugin_dispatch_notification ()"
+.IP "\fBplugin_log\fR ()" 4
+.IX Item "plugin_log ()"
+.RE
+.RS 4
+.RE
+.IP "\fB:types\fR" 4
+.IX Item ":types"
+.RS 4
+.IP "\fB\s-1TYPE_INIT\s0\fR" 4
+.IX Item "TYPE_INIT"
+.IP "\fB\s-1TYPE_READ\s0\fR" 4
+.IX Item "TYPE_READ"
+.IP "\fB\s-1TYPE_WRITE\s0\fR" 4
+.IX Item "TYPE_WRITE"
+.IP "\fB\s-1TYPE_FLUSH\s0\fR" 4
+.IX Item "TYPE_FLUSH"
+.IP "\fB\s-1TYPE_SHUTDOWN\s0\fR" 4
+.IX Item "TYPE_SHUTDOWN"
+.IP "\fB\s-1TYPE_LOG\s0\fR" 4
+.IX Item "TYPE_LOG"
+.RE
+.RS 4
+.RE
+.IP "\fB:ds_types\fR" 4
+.IX Item ":ds_types"
+.RS 4
+.IP "\fB\s-1DS_TYPE_COUNTER\s0\fR" 4
+.IX Item "DS_TYPE_COUNTER"
+.IP "\fB\s-1DS_TYPE_GAUGE\s0\fR" 4
+.IX Item "DS_TYPE_GAUGE"
+.RE
+.RS 4
+.RE
+.IP "\fB:log\fR" 4
+.IX Item ":log"
+.RS 4
+.IP "\fB\s-1ERROR\s0\fR ()" 4
+.IX Item "ERROR ()"
+.IP "\fB\s-1WARNING\s0\fR ()" 4
+.IX Item "WARNING ()"
+.IP "\fB\s-1NOTICE\s0\fR ()" 4
+.IX Item "NOTICE ()"
+.IP "\fB\s-1INFO\s0\fR ()" 4
+.IX Item "INFO ()"
+.IP "\fB\s-1DEBUG\s0\fR ()" 4
+.IX Item "DEBUG ()"
+.IP "\fB\s-1LOG_ERR\s0\fR" 4
+.IX Item "LOG_ERR"
+.IP "\fB\s-1LOG_WARNING\s0\fR" 4
+.IX Item "LOG_WARNING"
+.IP "\fB\s-1LOG_NOTICE\s0\fR" 4
+.IX Item "LOG_NOTICE"
+.IP "\fB\s-1LOG_INFO\s0\fR" 4
+.IX Item "LOG_INFO"
+.IP "\fB\s-1LOG_DEBUG\s0\fR" 4
+.IX Item "LOG_DEBUG"
+.RE
+.RS 4
+.RE
+.IP "\fB:notif\fR" 4
+.IX Item ":notif"
+.RS 4
+.IP "\fB\s-1NOTIF_FAILURE\s0\fR" 4
+.IX Item "NOTIF_FAILURE"
+.IP "\fB\s-1NOTIF_WARNING\s0\fR" 4
+.IX Item "NOTIF_WARNING"
+.IP "\fB\s-1NOTIF_OKAY\s0\fR" 4
+.IX Item "NOTIF_OKAY"
+.RE
+.RS 4
+.RE
+.IP "\fB:globals\fR" 4
+.IX Item ":globals"
+.RS 4
+.ie n .IP "\fB\fB$hostname_g\fB\fR" 4
+.el .IP "\fB\f(CB$hostname_g\fB\fR" 4
+.IX Item "$hostname_g"
+.ie n .IP "\fB\fB$interval_g\fB\fR" 4
+.el .IP "\fB\f(CB$interval_g\fB\fR" 4
+.IX Item "$interval_g"
+.RE
+.RS 4
+.RE
+.PD
+.SH "EXAMPLES"
+.IX Header "EXAMPLES"
+Any Perl plugin will start similar to:
+.PP
 .Vb 1
-\&  c:<type1>[,<type2>,...]
+\&  package Collectd::Plugins::FooBar;
+\&
+\&  use strict;
+\&  use warnings;
+\&
+\&  use Collectd qw( :all );
 .Ve
+.PP
+A very simple read function will look like:
+.PP
+.Vb 7
+\&  sub foobar_read
+\&  {
+\&    my $vl = { plugin => \*(Aqfoobar\*(Aq };
+\&    $vl\->{\*(Aqvalues\*(Aq} = [ rand(42) ];
+\&    plugin_dispatch_values (\*(Aqgauge\*(Aq, $vl);
+\&    return 1;
+\&  }
+.Ve
+.PP
+A very simple write function will look like:
+.PP
+.Vb 8
+\&  sub foobar_write
+\&  {
+\&    my ($type, $ds, $vl) = @_;
+\&    for (my $i = 0; $i < scalar (@$ds); ++$i) {
+\&      print "$vl\->{\*(Aqplugin\*(Aq} ($vl\->{\*(Aqtype\*(Aq}): $vl\->{\*(Aqvalues\*(Aq}\->[$i]\en";
+\&    }
+\&    return 1;
+\&  }
+.Ve
+.PP
+To register those functions with collectd:
+.PP
+.Vb 2
+\&  plugin_register (TYPE_READ, "foobar", "foobar_read");
+\&  plugin_register (TYPE_WRITE, "foobar", "foobar_write");
+.Ve
+.PP
+See the section \*(L"\s-1DATA\s0 \s-1TYPES\s0\*(R" above for a complete documentation of the data
+types used by the read and write functions.
+.SH "NOTES"
+.IX Header "NOTES"
+.IP "\(bu" 4
+Please feel free to send in new plugins to collectd's mailinglist at
+<collectd\ at\ verplant.org> for review and, possibly,
+inclusion in the main distribution. In the latter case, we will take care of
+keeping the plugin up to date and adapting it to new versions of collectd.
 .Sp
-Each line is limited to 256 characters (including the newline character). 
-Longer lines will be ignored.
+Before submitting your plugin, please take a look at
+<http://collectd.org/dev\-info.shtml>.
+.SH "CAVEATS"
+.IX Header "CAVEATS"
+.IP "\(bu" 4
+collectd is heavily multi-threaded. Each collectd thread accessing the perl
+plugin will be mapped to a Perl interpreter thread (see \fIthreads\fR\|(3perl)).
+Any such thread will be created and destroyed transparently and on-the-fly.
+.Sp
+Hence, any plugin has to be thread-safe if it provides several entry points
+from collectd (i.\ e. if it registers more than one callback or if a
+registered callback may be called more than once in parallel). Please note
+that no data is shared between threads by default. You have to use the
+\&\fBthreads::shared\fR module to do so.
+.IP "\(bu" 4
+Each function name registered with collectd has to be available before the
+first thread has been created (i.\ e. basically at compile time). This
+basically means that hacks (yes, I really consider this to be a hack) like
+\&\f(CW\*(C`*foo = \e&bar; plugin_register (TYPE_READ, "plugin", "foo");\*(C'\fR most likely
+will not work. This is due to the fact that the symbol table is not shared
+across different threads.
+.IP "\(bu" 4
+Each plugin is usually only loaded once and kept in memory for performance
+reasons. Therefore, \s-1END\s0 blocks are only executed once when collectd shuts
+down. You should not rely on \s-1END\s0 blocks anyway \- use \fBshutdown functions\fR
+instead.
+.SH "KNOWN BUGS"
+.IX Header "KNOWN BUGS"
+.IP "\(bu" 4
+Currently, it is not possible to flush a single Perl plugin only. You can
+either flush all Perl plugins or none at all and you have to use \f(CW\*(C`perl\*(C'\fR as
+plugin name when doing so.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
-\&\fIcollectd.conf\fR\|(5)
+\&\fIcollectd.conf\fR\|(5),
+\&\fIcollectd\-exec\fR\|(5),
+\&\fItypes.db\fR\|(5),
+\&\fIperl\fR\|(1),
+\&\fIthreads\fR\|(3perl),
+\&\fIthreads::shared\fR\|(3perl),
+\&\fIperldebug\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-The \f(CW\*(C`email plugin\*(C'\fR has been written by Sebastian Harl <sh\ at\ tokkee.org>.
-.PP
-The SpamAssassin-plugin has been written by Alexander Wirt <formorer\ at\ formorer.de>.
+The \f(CW\*(C`perl plugin\*(C'\fR has been written by Sebastian Harl
+<sh\ at\ tokkee.org>.
 .PP
-This manpage has been written by Florian Forster <octo\ at\ verplant.org>.
+This manpage has been written by Florian Forster
+<octo\ at\ verplant.org> and Sebastian Harl
+<sh\ at\ tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-exec.5	2008-09-04 16:07:30.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-exec.5	2008-10-17 04:10:26.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -129,13 +121,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2008-09-04" "4.4.3" "collectd"
+.TH COLLECTD-EXEC 5 "2008-10-16" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd.h	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd.h	2008-10-17 04:02:53.000000000 +0800
@@ -244,24 +244,24 @@
 
 /* Remove GNU specific __attribute__ settings when using another compiler */
 #if !__GNUC__
 # define __attribute__(x) /**/
 #endif
 
-#if __GNUC__
+#if defined(COLLECT_DEBUG) && COLLECT_DEBUG && defined(__GNUC__) && __GNUC__
 # pragma GCC poison strcpy strcat strtok
 #endif
 
 /* 
  * Special hack for the perl plugin: Because the later included perl.h defines
  * a macro which is never used, but contains `sprintf', we cannot poison that
  * identifies just yet. The parl plugin will do that itself once perl.h is
  * included.
  */
 #ifndef DONT_POISON_SPRINTF_YET
-# if __GNUC__
+# if defined(COLLECT_DEBUG) && COLLECT_DEBUG && defined(__GNUC__) && __GNUC__
 #  pragma GCC poison sprintf
 # endif
 #endif
 
 extern char hostname_g[];
 extern int  interval_g;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectdmon.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectdmon.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectdmon.1	2008-09-04 16:07:32.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectdmon.1	2008-10-17 04:10:26.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -129,13 +121,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTDMON 1"
-.TH COLLECTDMON 1 "2008-05-06" "4.4.3" "collectd"
+.TH COLLECTDMON 1 "2008-05-06" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectdmon \- Monitoring daemon for collectd
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectdmon.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectdmon.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectdmon.c	2008-05-06 20:30:12.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectdmon.c	2008-10-04 05:18:29.000000000 +0800
@@ -328,18 +328,12 @@
 
 	if (0 != sigaction (SIGHUP, &sa, NULL)) {
 		syslog (LOG_ERR, "Error: sigaction() failed: %s", strerror (errno));
 		return 1;
 	}
 
-	sigaddset (&sa.sa_mask, SIGCHLD);
-	if (0 != sigprocmask (SIG_BLOCK, &sa.sa_mask, NULL)) {
-		syslog (LOG_ERR, "Error: sigprocmask() failed: %s", strerror (errno));
-		return 1;
-	}
-
 	while (0 == loop) {
 		int status = 0;
 
 		if (0 != collectd_start (collectd_argv)) {
 			syslog (LOG_ERR, "Error: failed to start collectd.");
 			break;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-nagios.1	2008-09-04 16:07:29.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-nagios.1	2008-10-17 04:10:26.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -129,13 +121,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.4.3" "collectd"
+.TH COLLECTD-NAGIOS 1 "2008-10-16" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
@@ -170,13 +162,13 @@
 Each \fIvalue_spec\fR may be made of multiple \*(L"data sources\*(R". With this option you
 can select one or more data sources. To select multiple data sources simply
 specify this option again. If multiple data sources are examined they are
 handled according to the consolidation function given with the \fB\-g\fR option.
 .IP "\fB\-g\fR \fBnone\fR\fI|\fR\fBaverage\fR\fI|\fR\fBsum\fR" 4
 .IX Item "-g none|average|sum"
-When multiple data sources are selected from a value spec they can be handled
+When multiple data sources are selected from a value spec, they can be handled
 differently depending on this option. The values of the following meaning:
 .RS 4
 .IP "\fBnone\fR" 4
 .IX Item "none"
 No consolidation if done and the warning and critical regions are applied to
 each value independently.
@@ -194,25 +186,35 @@
 .PD 0
 .IP "\fB\-w\fR \fIrange\fR" 4
 .IX Item "-w range"
 .PD
 Set the critical (\fB\-c\fR) and warning (\fB\-w\fR) ranges. These options mostly
 follow the normal syntax of Nagios plugins. The general format is
-"\fImin\fR\fB:\fR\fImax\fR". If a value if smaller than \fImin\fR or bigger than \fImax\fR a
-warning or critical is returned, otherwise okay is returned. \fImin\fR (and the
-colon) may be omitted and are then assumed to be zero. If \fImax\fR (but not the
-colon) is omitted \fImax\fR is set to positive infinity. If either \fImin\fR or
-\&\fImax\fR if set to \fB~\fR they are set to negative and positive infinity,
-respectively.
+"\fImin\fR\fB:\fR\fImax\fR". If a value is smaller than \fImin\fR or bigger than \fImax\fR, a
+\&\fIwarning\fR or \fIcritical\fR status is returned, otherwise the status is
+\&\fIsuccess\fR.
+.Sp
+The tilde sign (\fB~\fR) can be used to explicitly specify infinity. If \fB~\fR is
+used as a \fImin\fR value, negative infinity is used. In case of \fImax\fR, it is
+interpreted as positive infinity.
+.Sp
+If the first character of the \fIrange\fR is the at\ sign (\fB@\fR), the meaning
+of the range will be inverted. I.\ e. all values \fIwithin\fR the range will
+yield a \fIwarning\fR or \fIcritical\fR status, while all values \fIoutside\fR the range
+will result in a \fIsuccess\fR status.
+.Sp
+\&\fImin\fR (and the colon) may be omitted,
+\&\fImin\fR is then assumed to be zero. If \fImax\fR (but not the trailing colon) is
+omitted, \fImax\fR is assumed to be positive infinity.
 .SH "RETURN VALUE"
 .IX Header "RETURN VALUE"
-As usual for Nagios plugins this program writes a short, one line status
+As usual for Nagios plugins, this program writes a short, one line status
 message to \s-1STDOUT\s0 and signals success or failure with it's return value. It
-exists with a return value of \fB0\fR for success or \fB1\fR or \fB2\fR for warning and
-critical, respectively. If the values is not available or some other error
-occurred it returns \fB3\fR for \*(L"unknown\*(R".
+exits with a return value of \fB0\fR for \fIsuccess\fR, \fB1\fR for \fIwarning\fR and \fB2\fR
+for \fIcritical\fR. If the values are not available or some other error occurred,
+it returns \fB3\fR for \fIunknown\fR.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 <http://nagios.org/>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-nagios.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-nagios.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-nagios.c	2008-09-04 15:58:48.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-nagios.c	2008-10-17 03:23:01.000000000 +0800
@@ -147,12 +147,13 @@
 
 	int values_num;
 	double *values;
 	char **values_names;
 
 	int i;
+	int j;
 
 	fd = socket (PF_UNIX, SOCK_STREAM, 0);
 	if (fd < 0)
 	{
 		fprintf (stderr, "socket failed: %s\n",
 				strerror (errno));
@@ -226,37 +227,64 @@
 	{
 		fprintf (stderr, "malloc failed: %s\n",
 				strerror (errno));
 		free (values);
 		return (-1);
 	}
+	memset (values_names, 0, values_num * sizeof (char *));
 
-	i = 0;
+	i = 0; /* index of the values returned by the server */
+	j = 0; /* number of values in `values_names' and `values' */
 	while (fgets (buffer, sizeof (buffer), fh_in) != NULL)
 	{
-		char *key;
-		char *value;
-
-		key = buffer;
-
-		value = strchr (key, '=');
-		if (value == NULL)
-			continue;
-		*value = '\0'; value++;
-
-		if (ignore_ds (key) != 0)
-			continue;
-
-		values_names[i] = strdup (key);
-		values[i] = atof (value);
+		do /* while (0) */
+		{
+			char *key;
+			char *value;
+			char *endptr;
+
+			key = buffer;
+
+			value = strchr (key, '=');
+			if (value == NULL)
+			{
+				fprintf (stderr, "Cannot parse line: %s\n", buffer);
+				break;
+			}
+			*value = 0;
+			value++;
+
+			if (ignore_ds (key) != 0)
+				break;
+
+			endptr = NULL;
+			errno = 0;
+			values[j] = strtod (value, &endptr);
+			if ((endptr == value) || (errno != 0))
+			{
+				fprintf (stderr, "Could not parse buffer "
+						"as number: %s\n", value);
+				break;
+			}
+
+			values_names[j] = strdup (key);
+			if (values_names[j] == NULL)
+			{
+				fprintf (stderr, "strdup failed.\n");
+				break;
+			}
+			j++;
+		} while (0);
 
 		i++;
 		if (i >= values_num)
 			break;
 	}
-	values_num = i;
+	/* Set `values_num' to the number of values actually stored in the
+	 * array. */
+	values_num = j;
 
 	fclose (fh_in); fh_in = NULL; fd = -1;
 	fclose (fh_out); fh_out = NULL;
 
 	*ret_values_num = values_num;
 	*ret_values = values;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-nagios.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-nagios.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-nagios.pod	2007-10-27 16:57:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-nagios.pod	2008-10-17 03:23:01.000000000 +0800
@@ -42,13 +42,13 @@
 can select one or more data sources. To select multiple data sources simply
 specify this option again. If multiple data sources are examined they are
 handled according to the consolidation function given with the B<-g> option.
 
 =item B<-g> B<none>I<|>B<average>I<|>B<sum>
 
-When multiple data sources are selected from a value spec they can be handled
+When multiple data sources are selected from a value spec, they can be handled
 differently depending on this option. The values of the following meaning:
 
 =over 4
 
 =item B<none>
 
@@ -68,28 +68,38 @@
 =item B<-c> I<range>
 
 =item B<-w> I<range>
 
 Set the critical (B<-c>) and warning (B<-w>) ranges. These options mostly
 follow the normal syntax of Nagios plugins. The general format is
-"I<min>B<:>I<max>". If a value if smaller than I<min> or bigger than I<max> a
-warning or critical is returned, otherwise okay is returned. I<min> (and the
-colon) may be omitted and are then assumed to be zero. If I<max> (but not the
-colon) is omitted I<max> is set to positive infinity. If either I<min> or
-I<max> if set to B<~> they are set to negative and positive infinity,
-respectively.
+"I<min>B<:>I<max>". If a value is smaller than I<min> or bigger than I<max>, a
+I<warning> or I<critical> status is returned, otherwise the status is
+I<success>.
+
+The tilde sign (B<~>) can be used to explicitly specify infinity. If B<~> is
+used as a I<min> value, negative infinity is used. In case of I<max>, it is
+interpreted as positive infinity.
+
+If the first character of the I<range> is the atE<nbsp>sign (B<@>), the meaning
+of the range will be inverted. I.E<nbsp>e. all values I<within> the range will
+yield a I<warning> or I<critical> status, while all values I<outside> the range
+will result in a I<success> status.
+
+I<min> (and the colon) may be omitted,
+I<min> is then assumed to be zero. If I<max> (but not the trailing colon) is
+omitted, I<max> is assumed to be positive infinity.
 
 =back
 
 =head1 RETURN VALUE
 
-As usual for Nagios plugins this program writes a short, one line status
+As usual for Nagios plugins, this program writes a short, one line status
 message to STDOUT and signals success or failure with it's return value. It
-exists with a return value of B<0> for success or B<1> or B<2> for warning and
-critical, respectively. If the values is not available or some other error
-occurred it returns B<3> for "unknown". 
+exits with a return value of B<0> for I<success>, B<1> for I<warning> and B<2>
+for I<critical>. If the values are not available or some other error occurred,
+it returns B<3> for I<unknown>. 
 
 =head1 SEE ALSO
 
 L<collectd(1)>,
 L<collectd.conf(5)>,
 L<collectd-unixsock(5)>,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-perl.5	2008-09-04 16:07:31.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-perl.5	2008-10-17 04:10:06.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -128,524 +120,234 @@
 .    ds ae ae
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
-.IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2008-09-04" "4.4.3" "collectd"
+.IX Title "COLLECTD-SNMP 5"
+.TH COLLECTD-SNMP 5 "2008-05-06" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
-collectd\-perl \- Documentation of collectd's \f(CW\*(C`perl plugin\*(C'\fR
+collectd\-snmp \- Documentation of collectd's \f(CW\*(C`snmp plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-.Vb 8
-\&  LoadPlugin perl
+.Vb 10
+\&  LoadPlugin snmp
 \&  # ...
-\&  <Plugin perl>
-\&    IncludeDir "/path/to/perl/plugins"
-\&    BaseName "Collectd::Plugin"
-\&    EnableDebugger ""
-\&    LoadPlugin "FooBar"
+\&  <Plugin snmp>
+\&    <Data "powerplus_voltge_input">
+\&      Type "voltage"
+\&      Table false
+\&      Instance "input_line1"
+\&      Scale 0.1
+\&      Values "SNMPv2\-SMI::enterprises.6050.5.4.1.1.2.1"
+\&    </Data>
+\&    <Data "hr_users">
+\&      Type "users"
+\&      Table false
+\&      Instance ""
+\&      Shift \-1
+\&      Values "HOST\-RESOURCES\-MIB::hrSystemNumUsers.0"
+\&    </Data>
+\&    <Data "std_traffic">
+\&      Type "if_octets"
+\&      Table true
+\&      Instance "IF\-MIB::ifDescr"
+\&      Values "IF\-MIB::ifInOctets" "IF\-MIB::ifOutOctets"
+\&    </Data>
+\&
+\&    <Host "some.switch.mydomain.org">
+\&      Address "192.168.0.2"
+\&      Version 1
+\&      Community "community_string"
+\&      Collect "std_traffic"
+\&      Interval 120
+\&    </Host>
+\&    <Host "some.server.mydomain.org">
+\&      Address "192.168.0.42"
+\&      Version 2
+\&      Community "another_string"
+\&      Collect "std_traffic" "hr_users"
+\&    </Host>
+\&    <Host "some.ups.mydomain.org">
+\&      Address "192.168.0.3"
+\&      Version 1
+\&      Community "more_communities"
+\&      Collect "powerplus_voltge_input"
+\&      Interval 300
+\&    </Host>
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`perl plugin\*(C'\fR embeds a Perl-interpreter into collectd and provides an
-interface to collectd's plugin system. This makes it possible to write plugins
-for collectd in Perl. This is a lot more efficient than executing a
-Perl-script every time you want to read a value with the \f(CW\*(C`exec plugin\*(C'\fR (see
-\&\fIcollectd\-exec\fR\|(5)) and provides a lot more functionality, too.
+The \f(CW\*(C`snmp plugin\*(C'\fR queries other hosts using \s-1SNMP\s0, the simple network
+management protocol, and translates the value it receives to collectd's
+internal format and dispatches them. Depending on the write plugins you have
+loaded they may be written to disk or submitted to another instance or
+whatever you configured.
+.PP
+Because querying a host via \s-1SNMP\s0 may produce a timeout multiple threads are
+used to query hosts in parallel. Depending on the number of hosts between one
+and ten threads are used.
 .SH "CONFIGURATION"
 .IX Header "CONFIGURATION"
-.IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
-.IX Item "LoadPlugin Plugin"
-Loads the Perl plugin \fIPlugin\fR. This does basically the same as \fBuse\fR would
-do in a Perl program. As a side effect, the first occurrence of this option
-causes the Perl-interpreter to be initialized.
-.IP "\fBBaseName\fR \fIName\fR" 4
-.IX Item "BaseName Name"
-Prepends \fIName\fR\fB::\fR to all plugin names loaded after this option. This is
-provided for convenience to keep plugin names short.
-.IP "\fBEnableDebugger\fR \fIPackage\fR[=\fIoption\fR,...]" 4
-.IX Item "EnableDebugger Package[=option,...]"
-Run collectd under the control of the Perl source debugger. If \fIPackage\fR is
-not the empty string, control is passed to the debugging, profiling, or
-tracing module installed as Devel::\fIPackage\fR. A comma-separated list of
-options may be specified after the \*(L"=\*(R" character. Please note that you may not
-leave out the \fIPackage\fR option even if you specify \fB""\fR. This is the same as
-using the \fB\-d:Package\fR command line option.
-.Sp
-See perldebug for detailed documentation about debugging Perl.
-.Sp
-This option does not prevent collectd from daemonizing, so you should start
-collectd with the \fB\-f\fR command line option. Else you will not be able to use
-the command line driven interface of the debugger.
-.IP "\fBIncludeDir\fR \fIDir\fR" 4
-.IX Item "IncludeDir Dir"
-Adds \fIDir\fR to the \fB\f(CB@INC\fB\fR array. This is the same as using the \fB\-IDir\fR
-command line option or \fBuse lib Dir\fR in the source code. Please note that it
-only has effect on plugins loaded after this option.
-.SH "WRITING YOUR OWN PLUGINS"
-.IX Header "WRITING YOUR OWN PLUGINS"
-Writing your own plugins is quite simple. collectd manages plugins by means of
-\&\fBdispatch functions\fR which call the appropriate \fBcallback functions\fR
-registered by the plugins. Any plugin basically consists of the implementation
-of these callback functions and initializing code which registers the
-functions with collectd. See the section \*(L"\s-1EXAMPLES\s0\*(R" below for a really basic
-example. The following types of \fBcallback functions\fR are known to collectd
-(all of them are optional):
-.IP "init functions" 4
-.IX Item "init functions"
-This type of functions is called once after loading the module and before any
-calls to the read and write functions. It should be used to initialize the
-internal state of the plugin (e.\ g. open sockets, ...). If the return
-value evaluates to \fBfalse\fR, the plugin will be disabled.
-.IP "read functions" 4
-.IX Item "read functions"
-This type of function is used to collect the actual data. It is called once
-per interval (see the \fBInterval\fR configuration option of collectd). Usually
-it will call \fBplugin_dispatch_values\fR to dispatch the values to collectd
-which will pass them on to all registered \fBwrite functions\fR. If the return
-value evaluates to \fBfalse\fR the plugin will be skipped for an increasing
-amount of time until it returns \fBtrue\fR again.
-.IP "write functions" 4
-.IX Item "write functions"
-This type of function is used to write the dispatched values. It is called
-once for each call to \fBplugin_dispatch_values\fR.
-.IP "flush functions" 4
-.IX Item "flush functions"
-This type of function is used to flush internal caches of plugins. It is
-usually triggered by the user only. Any plugin which caches data before
-writing it to disk should provide this kind of callback function.
-.IP "log functions" 4
-.IX Item "log functions"
-This type of function is used to pass messages of plugins or the daemon itself
-to the user.
-.IP "notification function" 4
-.IX Item "notification function"
-This type of function is used to act upon notifications. In general, a
-notification is a status message that may be associated with a data instance.
-Usually, a notification is generated by the daemon if a configured threshold
-has been exceeded (see the section \*(L"\s-1THRESHOLD\s0 \s-1CONFIGURATION\s0\*(R" in
-\&\fIcollectd.conf\fR\|(5) for more details), but any plugin may dispatch
-notifications as well.
-.IP "shutdown functions" 4
-.IX Item "shutdown functions"
-This type of function is called once before the daemon shuts down. It should
-be used to clean up the plugin (e.g. close sockets, ...).
-.PP
-Any function (except log functions) may set the \fB$@\fR variable to describe
-errors in more detail. The message will be passed on to the user using
-collectd's logging mechanism.
-.PP
-See the documentation of the \fBplugin_register\fR method in the section
-\&\*(L"\s-1METHODS\s0\*(R" below for the number and types of arguments passed to each
-\&\fBcallback function\fR. This section also explains how to register \fBcallback
-functions\fR with collectd.
+Since the aim of the \f(CW\*(C`snmp plugin\*(C'\fR is to provide a generic interface to \s-1SNMP\s0,
+it's configuration is not trivial and may take some time.
 .PP
-To enable a plugin, copy it to a place where Perl can find it (i.\ e. a
-directory listed in the \fB\f(CB@INC\fB\fR array) just as any other Perl plugin and add
-an appropriate \fBLoadPlugin\fR option to the configuration file. After
-restarting collectd you're done.
-.SH "DATA TYPES"
-.IX Header "DATA TYPES"
-The following complex types are used to pass values between the Perl plugin
-and collectd:
-.IP "Data-Set" 4
-.IX Item "Data-Set"
-A data-set is a list of one or more data-sources. Each data-source defines a
-name, type, min\- and max-value and the data-set wraps them up into one
-structure. The general layout looks like this:
-.Sp
-.Vb 6
-\&  [{
-\&    name => \*(Aqdata_source_name\*(Aq,
-\&    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE,
-\&    min  => value || undef,
-\&    max  => value || undef
-\&  }, ...]
-.Ve
-.IP "Value-List" 4
-.IX Item "Value-List"
-A value-list is one structure which features an array of values and fields to
-identify the values, i.\ e. time and host, plugin name and
-plugin-instance as well as a type and type-instance. Since the \*(L"type\*(R" is not
-included in the value-list but is passed as an extra argument, the general
-layout looks like this:
-.Sp
-.Vb 8
-\&  {
-\&    values => [123, 0.5],
-\&    time   => time (),
-\&    host   => $hostname_g,
-\&    plugin => \*(Aqmyplugin\*(Aq,
-\&    plugin_instance => \*(Aq\*(Aq,
-\&    type_instance   => \*(Aq\*(Aq
-\&  }
-.Ve
-.IP "Notification" 4
-.IX Item "Notification"
-A notification is one structure defining the severity, time and message of the
-status message as well as an identification of a data instance:
-.Sp
-.Vb 10
-\&  {
-\&    severity => NOTIF_FAILURE || NOTIF_WARNING || NOTIF_OKAY,
-\&    time     => time (),
-\&    message  => \*(Aqstatus message\*(Aq,
-\&    host     => $hostname_g,
-\&    plugin   => \*(Aqmyplugin\*(Aq,
-\&    type     => \*(Aqmytype\*(Aq,
-\&    plugin_instance => \*(Aq\*(Aq,
-\&    type_instance   => \*(Aq\*(Aq
-\&  }
-.Ve
-.SH "METHODS"
-.IX Header "METHODS"
-The following functions provide the C\-interface to Perl-modules. They are
-exported by the \*(L":plugin\*(R" export tag (see the section \*(L"\s-1EXPORTS\s0\*(R" below).
-.IP "\fBplugin_register\fR (\fItype\fR, \fIname\fR, \fIdata\fR)" 4
-.IX Item "plugin_register (type, name, data)"
-Registers a callback-function or data-set.
-.Sp
-\&\fItype\fR can be one of:
-.RS 4
-.IP "\s-1TYPE_INIT\s0" 4
-.IX Item "TYPE_INIT"
-.PD 0
-.IP "\s-1TYPE_READ\s0" 4
-.IX Item "TYPE_READ"
-.IP "\s-1TYPE_WRITE\s0" 4
-.IX Item "TYPE_WRITE"
-.IP "\s-1TYPE_FLUSH\s0" 4
-.IX Item "TYPE_FLUSH"
-.IP "\s-1TYPE_LOG\s0" 4
-.IX Item "TYPE_LOG"
-.IP "\s-1TYPE_NOTIF\s0" 4
-.IX Item "TYPE_NOTIF"
-.IP "\s-1TYPE_SHUTDOWN\s0" 4
-.IX Item "TYPE_SHUTDOWN"
-.IP "\s-1TYPE_DATASET\s0" 4
-.IX Item "TYPE_DATASET"
-.RE
-.RS 4
-.PD
-.Sp
-\&\fIname\fR is the name of the callback-function or the type of the data-set,
-depending on the value of \fItype\fR. (Please note that the type of the data-set
-is the value passed as \fIname\fR here and has nothing to do with the \fItype\fR
-argument which simply tells \fBplugin_register\fR what is being registered.)
-.Sp
-The last argument, \fIdata\fR, is either a function name or an array-reference.
-If \fItype\fR is \fB\s-1TYPE_DATASET\s0\fR, then the \fIdata\fR argument must be an
-array-reference which points to an array of hashes. Each hash describes one
-data-set. For the exact layout see \fBData-Set\fR above. Please note that
-there is a large number of predefined data-sets available in the \fBtypes.db\fR
-file which are automatically registered with collectd \- see \fItypes.db\fR\|(5) for
-a description of the format of this file.
-.Sp
-If the \fItype\fR argument is any of the other types (\fB\s-1TYPE_INIT\s0\fR, \fB\s-1TYPE_READ\s0\fR,
-\&...) then \fIdata\fR is expected to be a function name. If the name is not
-prefixed with the plugin's package name collectd will add it automatically.
-The interface slightly differs from the C interface (which expects a function
-pointer instead) because Perl does not support to share references to
-subroutines between threads.
-.Sp
-These functions are called in the various stages of the daemon (see the
-section \*(L"\s-1WRITING\s0 \s-1YOUR\s0 \s-1OWN\s0 \s-1PLUGINS\s0\*(R" above) and are passed the following
-arguments:
-.IP "\s-1TYPE_INIT\s0" 4
-.IX Item "TYPE_INIT"
-.PD 0
-.IP "\s-1TYPE_READ\s0" 4
-.IX Item "TYPE_READ"
-.IP "\s-1TYPE_SHUTDOWN\s0" 4
-.IX Item "TYPE_SHUTDOWN"
-.PD
-No arguments are passed.
-.IP "\s-1TYPE_WRITE\s0" 4
-.IX Item "TYPE_WRITE"
-The arguments passed are \fItype\fR, \fIdata-set\fR, and \fIvalue-list\fR. \fItype\fR is a
-string. For the layout of \fIdata-set\fR and \fIvalue-list\fR see above.
-.IP "\s-1TYPE_FLUSH\s0" 4
-.IX Item "TYPE_FLUSH"
-The only argument passed is \fItimeout\fR which indicates that only data older
-than \fItimeout\fR seconds is to be flushed.
-.IP "\s-1TYPE_LOG\s0" 4
-.IX Item "TYPE_LOG"
-The arguments are \fIlog-level\fR and \fImessage\fR. The log level is small for
-important messages and high for less important messages. The least important
-level is \fB\s-1LOG_DEBUG\s0\fR, the most important level is \fB\s-1LOG_ERR\s0\fR. In between there
-are (from least to most important): \fB\s-1LOG_INFO\s0\fR, \fB\s-1LOG_NOTICE\s0\fR, and
-\&\fB\s-1LOG_WARNING\s0\fR. \fImessage\fR is simply a string \fBwithout\fR a newline at the end.
-.IP "\s-1TYPE_NOTIF\s0" 4
-.IX Item "TYPE_NOTIF"
-The only argument passed is \fInotification\fR. See above for the layout of this
-data type.
-.RE
-.RS 4
-.RE
-.IP "\fBplugin_unregister\fR (\fItype\fR, \fIplugin\fR)" 4
-.IX Item "plugin_unregister (type, plugin)"
-Removes a callback or data-set from collectd's internal list of
-functions\ / datasets.
-.IP "\fBplugin_dispatch_values\fR (\fItype\fR, \fIvalue-list\fR)" 4
-.IX Item "plugin_dispatch_values (type, value-list)"
-Submits a \fIvalue-list\fR of type \fItype\fR to the daemon. If the data-set \fItype\fR
-is found (and the number of values matches the number of data-sources) then the
-type, data-set and value-list is passed to all write-callbacks that are
-registered with the daemon.
-.IP "\fBplugin_flush\fR ([\fBtimeout\fR => \fItimeout\fR,] [\fBplugins\fR => \fI...\fR])" 4
-.IX Item "plugin_flush ([timeout => timeout,] [plugins => ...])"
-Flush one or more plugins. \fItimeout\fR is passed on to the registered
-flush-callbacks. If omitted, \f(CW\*(C`\-1\*(C'\fR is used. If the \fIplugins\fR argument has
-been specified, only named plugins will be flushed. The argument's value may
-either be a string or a reference to an array of strings.
-.IP "\fBplugin_flush_one\fR (\fItimeout\fR, \fIplugin\fR)" 4
-.IX Item "plugin_flush_one (timeout, plugin)"
-This is identical to using "plugin_flush (timeout => \fItimeout\fR, plugins
-=> \fIplugin\fR".
-.IP "\fBplugin_flush_all\fR (\fItimeout\fR)" 4
-.IX Item "plugin_flush_all (timeout)"
-This is identical to using "plugin_flush (timeout => \fItimeout\fR)".
-.IP "\fBplugin_dispatch_notification\fR (\fInotification\fR)" 4
-.IX Item "plugin_dispatch_notification (notification)"
-Submits a \fInotification\fR to the daemon which will then pass it to all
-notification-callbacks that are registered.
-.IP "\fBplugin_log\fR (\fIlog-level\fR, \fImessage\fR)" 4
-.IX Item "plugin_log (log-level, message)"
-Submits a \fImessage\fR of level \fIlog-level\fR to collectd's logging mechanism.
-The message is passed to all log-callbacks that are registered with collectd.
-.IP "\fB\s-1ERROR\s0\fR, \fB\s-1WARNING\s0\fR, \fB\s-1NOTICE\s0\fR, \fB\s-1INFO\s0\fR, \fB\s-1DEBUG\s0\fR (\fImessage\fR)" 4
-.IX Item "ERROR, WARNING, NOTICE, INFO, DEBUG (message)"
-Wrappers around \fBplugin_log\fR, using \fB\s-1LOG_ERR\s0\fR, \fB\s-1LOG_WARNING\s0\fR,
-\&\fB\s-1LOG_NOTICE\s0\fR, \fB\s-1LOG_INFO\s0\fR and \fB\s-1LOG_DEBUG\s0\fR respectively as \fIlog-level\fR.
-.SH "GLOBAL VARIABLES"
-.IX Header "GLOBAL VARIABLES"
-.ie n .IP "\fB\fB$hostname_g\fB\fR" 4
-.el .IP "\fB\f(CB$hostname_g\fB\fR" 4
-.IX Item "$hostname_g"
-As the name suggests this variable keeps the hostname of the system collectd
-is running on. The value might be influenced by the \fBHostname\fR or
-\&\fBFQDNLookup\fR configuration options (see \fIcollectd.conf\fR\|(5) for details).
-.ie n .IP "\fB\fB$interval_g\fB\fR" 4
-.el .IP "\fB\f(CB$interval_g\fB\fR" 4
-.IX Item "$interval_g"
-This variable keeps the interval in seconds in which the read functions are
-queried (see the \fBInterval\fR configuration option).
-.PP
-Any changes to these variables will be globally visible in collectd.
-.SH "EXPORTS"
-.IX Header "EXPORTS"
-By default no symbols are exported. However, the following export tags are
-available (\fB:all\fR will export all of them):
-.IP "\fB:plugin\fR" 4
-.IX Item ":plugin"
-.RS 4
-.PD 0
-.IP "\fBplugin_register\fR ()" 4
-.IX Item "plugin_register ()"
-.IP "\fBplugin_unregister\fR ()" 4
-.IX Item "plugin_unregister ()"
-.IP "\fBplugin_dispatch_values\fR ()" 4
-.IX Item "plugin_dispatch_values ()"
-.IP "\fBplugin_flush\fR ()" 4
-.IX Item "plugin_flush ()"
-.IP "\fBplugin_flush_one\fR ()" 4
-.IX Item "plugin_flush_one ()"
-.IP "\fBplugin_flush_all\fR ()" 4
-.IX Item "plugin_flush_all ()"
-.IP "\fBplugin_dispatch_notification\fR ()" 4
-.IX Item "plugin_dispatch_notification ()"
-.IP "\fBplugin_log\fR ()" 4
-.IX Item "plugin_log ()"
-.RE
-.RS 4
-.RE
-.IP "\fB:types\fR" 4
-.IX Item ":types"
-.RS 4
-.IP "\fB\s-1TYPE_INIT\s0\fR" 4
-.IX Item "TYPE_INIT"
-.IP "\fB\s-1TYPE_READ\s0\fR" 4
-.IX Item "TYPE_READ"
-.IP "\fB\s-1TYPE_WRITE\s0\fR" 4
-.IX Item "TYPE_WRITE"
-.IP "\fB\s-1TYPE_FLUSH\s0\fR" 4
-.IX Item "TYPE_FLUSH"
-.IP "\fB\s-1TYPE_SHUTDOWN\s0\fR" 4
-.IX Item "TYPE_SHUTDOWN"
-.IP "\fB\s-1TYPE_LOG\s0\fR" 4
-.IX Item "TYPE_LOG"
-.RE
-.RS 4
-.RE
-.IP "\fB:ds_types\fR" 4
-.IX Item ":ds_types"
-.RS 4
-.IP "\fB\s-1DS_TYPE_COUNTER\s0\fR" 4
-.IX Item "DS_TYPE_COUNTER"
-.IP "\fB\s-1DS_TYPE_GAUGE\s0\fR" 4
-.IX Item "DS_TYPE_GAUGE"
-.RE
-.RS 4
-.RE
-.IP "\fB:log\fR" 4
-.IX Item ":log"
-.RS 4
-.IP "\fB\s-1ERROR\s0\fR ()" 4
-.IX Item "ERROR ()"
-.IP "\fB\s-1WARNING\s0\fR ()" 4
-.IX Item "WARNING ()"
-.IP "\fB\s-1NOTICE\s0\fR ()" 4
-.IX Item "NOTICE ()"
-.IP "\fB\s-1INFO\s0\fR ()" 4
-.IX Item "INFO ()"
-.IP "\fB\s-1DEBUG\s0\fR ()" 4
-.IX Item "DEBUG ()"
-.IP "\fB\s-1LOG_ERR\s0\fR" 4
-.IX Item "LOG_ERR"
-.IP "\fB\s-1LOG_WARNING\s0\fR" 4
-.IX Item "LOG_WARNING"
-.IP "\fB\s-1LOG_NOTICE\s0\fR" 4
-.IX Item "LOG_NOTICE"
-.IP "\fB\s-1LOG_INFO\s0\fR" 4
-.IX Item "LOG_INFO"
-.IP "\fB\s-1LOG_DEBUG\s0\fR" 4
-.IX Item "LOG_DEBUG"
-.RE
-.RS 4
-.RE
-.IP "\fB:notif\fR" 4
-.IX Item ":notif"
-.RS 4
-.IP "\fB\s-1NOTIF_FAILURE\s0\fR" 4
-.IX Item "NOTIF_FAILURE"
-.IP "\fB\s-1NOTIF_WARNING\s0\fR" 4
-.IX Item "NOTIF_WARNING"
-.IP "\fB\s-1NOTIF_OKAY\s0\fR" 4
-.IX Item "NOTIF_OKAY"
-.RE
-.RS 4
-.RE
-.IP "\fB:globals\fR" 4
-.IX Item ":globals"
-.RS 4
-.ie n .IP "\fB\fB$hostname_g\fB\fR" 4
-.el .IP "\fB\f(CB$hostname_g\fB\fR" 4
-.IX Item "$hostname_g"
-.ie n .IP "\fB\fB$interval_g\fB\fR" 4
-.el .IP "\fB\f(CB$interval_g\fB\fR" 4
-.IX Item "$interval_g"
-.RE
-.RS 4
-.RE
-.PD
-.SH "EXAMPLES"
-.IX Header "EXAMPLES"
-Any Perl plugin will start similar to:
+Since the \f(CW\*(C`Net\-SNMP\*(C'\fR library is used you can use all the environment variables
+that are interpreted by that package. See \fIsnmpcmd\fR\|(1) for more details.
 .PP
-.Vb 1
-\&  package Collectd::Plugins::FooBar;
-\&
-\&  use strict;
-\&  use warnings;
-\&
-\&  use Collectd qw( :all );
-.Ve
-.PP
-A very simple read function will look like:
-.PP
-.Vb 7
-\&  sub foobar_read
-\&  {
-\&    my $vl = { plugin => \*(Aqfoobar\*(Aq };
-\&    $vl\->{\*(Aqvalues\*(Aq} = [ rand(42) ];
-\&    plugin_dispatch_values (\*(Aqgauge\*(Aq, $vl);
-\&    return 1;
-\&  }
-.Ve
-.PP
-A very simple write function will look like:
-.PP
-.Vb 8
-\&  sub foobar_write
-\&  {
-\&    my ($type, $ds, $vl) = @_;
-\&    for (my $i = 0; $i < scalar (@$ds); ++$i) {
-\&      print "$vl\->{\*(Aqplugin\*(Aq} ($vl\->{\*(Aqtype\*(Aq}): $vl\->{\*(Aqvalues\*(Aq}\->[$i]\en";
-\&    }
-\&    return 1;
-\&  }
-.Ve
-.PP
-To register those functions with collectd:
-.PP
-.Vb 2
-\&  plugin_register (TYPE_READ, "foobar", "foobar_read");
-\&  plugin_register (TYPE_WRITE, "foobar", "foobar_write");
-.Ve
-.PP
-See the section \*(L"\s-1DATA\s0 \s-1TYPES\s0\*(R" above for a complete documentation of the data
-types used by the read and write functions.
-.SH "NOTES"
-.IX Header "NOTES"
-.IP "\(bu" 4
-Please feel free to send in new plugins to collectd's mailinglist at
-<collectd\ at\ verplant.org> for review and, possibly,
-inclusion in the main distribution. In the latter case, we will take care of
-keeping the plugin up to date and adapting it to new versions of collectd.
-.Sp
-Before submitting your plugin, please take a look at
-<http://collectd.org/dev\-info.shtml>.
-.SH "CAVEATS"
-.IX Header "CAVEATS"
-.IP "\(bu" 4
-collectd is heavily multi-threaded. Each collectd thread accessing the perl
-plugin will be mapped to a Perl interpreter thread (see \fIthreads\fR\|(3perl)).
-Any such thread will be created and destroyed transparently and on-the-fly.
-.Sp
-Hence, any plugin has to be thread-safe if it provides several entry points
-from collectd (i.\ e. if it registers more than one callback or if a
-registered callback may be called more than once in parallel). Please note
-that no data is shared between threads by default. You have to use the
-\&\fBthreads::shared\fR module to do so.
-.IP "\(bu" 4
-Each function name registered with collectd has to be available before the
-first thread has been created (i.\ e. basically at compile time). This
-basically means that hacks (yes, I really consider this to be a hack) like
-\&\f(CW\*(C`*foo = \e&bar; plugin_register (TYPE_READ, "plugin", "foo");\*(C'\fR most likely
-will not work. This is due to the fact that the symbol table is not shared
-across different threads.
-.IP "\(bu" 4
-Each plugin is usually only loaded once and kept in memory for performance
-reasons. Therefore, \s-1END\s0 blocks are only executed once when collectd shuts
-down. You should not rely on \s-1END\s0 blocks anyway \- use \fBshutdown functions\fR
-instead.
-.SH "KNOWN BUGS"
-.IX Header "KNOWN BUGS"
-.IP "\(bu" 4
-Currently, it is not possible to flush a single Perl plugin only. You can
-either flush all Perl plugins or none at all and you have to use \f(CW\*(C`perl\*(C'\fR as
-plugin name when doing so.
+There are two types of blocks that can be contained in the
+\&\f(CW\*(C`<Plugin\ snmp>\*(C'\fR block: \fBData\fR and \fBHost\fR:
+.SS "The \fBData\fP block"
+.IX Subsection "The Data block"
+The \fBData\fR block defines a list of values or a table of values that are to be
+queried. The following options can be set:
+.IP "\fBType\fR \fItype\fR" 4
+.IX Item "Type type"
+collectd's type that is to be used, e.\ g. \*(L"if_octets\*(R" for interface
+traffic or \*(L"users\*(R" for a user count. The types are read from the \fBTypesDB\fR
+(see \fIcollectd.conf\fR\|(5)), so you may want to check for which types are
+defined. See \fItypes.db\fR\|(5) for a description of the format of this file.
+.IP "\fBTable\fR \fItrue|false\fR" 4
+.IX Item "Table true|false"
+Define if this is a single list of values or a table of values. The difference
+is the following:
+.Sp
+When \fBTable\fR is set to \fBfalse\fR, the OIDs given to \fBValues\fR (see below) are
+queried using the \f(CW\*(C`GET\*(C'\fR \s-1SNMP\s0 command (see \fIsnmpget\fR\|(1)) and transmitted to
+collectd. \fBOne\fR value list is dispatched and, eventually, one file will be
+written.
+.Sp
+When \fBTable\fR is set to \fBtrue\fR, the OIDs given to \fBValues\fR (see below) are
+queried using the \f(CW\*(C`GETNEXT\*(C'\fR \s-1SNMP\s0 command until the subtree is left. After all
+the lists (think: all columns of the table) have been read \fBseveral\fR values
+sets will be dispatches and, eventually, several files will be written. If you
+configure a \fBType\fR (see above) which needs more than one data source (for
+example \f(CW\*(C`if_octets\*(C'\fR which needs \f(CW\*(C`rx\*(C'\fR and \f(CW\*(C`tx\*(C'\fR) you will need to specify more
+than one (two, in the example case) OIDs with the \fBValues\fR option. This has
+nothing to do with the \fBTable\fR setting.
+.Sp
+For example, if you want to query the number of users on a system, you can use
+\&\f(CW\*(C`HOST\-RESOURCES\-MIB::hrSystemNumUsers.0\*(C'\fR. This is one value and belongs to one
+value list, therefore \fBTable\fR must be set to \fBfalse\fR. Please note that, in
+this case, you have to include the sequence number (zero in this case) in the
+\&\s-1OID\s0.
+.Sp
+Counter example: If you want to query the interface table provided by the
+\&\f(CW\*(C`IF\-MIB\*(C'\fR, e.\ g. the bytes transmitted. There are potentially many
+interfaces, so you will want to set \fBTable\fR to \fBtrue\fR. Because the
+\&\f(CW\*(C`if_octets\*(C'\fR type needs two values, received and transmitted bytes, you need to
+specify two OIDs in the \fBValues\fR setting, in this case likely
+\&\f(CW\*(C`IF\-MIB::ifHCInOctets\*(C'\fR and \f(CW\*(C`IF\-MIB::ifHCOutOctets\*(C'\fR. But, this is because of
+the \fBType\fR setting, not the \fBTable\fR setting.
+.Sp
+Since the semantic of \fBInstance\fR and \fBValues\fR depends on this setting you
+need to set it before setting them. Doing vice verse will result in undefined
+behavior.
+.IP "\fBInstance\fR \fIInstance\fR" 4
+.IX Item "Instance Instance"
+Sets the type-instance of the values that are dispatched. The meaning of this
+setting depends on whether \fBTable\fR is set to \fItrue\fR or \fIfalse\fR:
+.Sp
+If \fBTable\fR is set to \fItrue\fR, \fIInstance\fR is interpreted as an SNMP-prefix
+that will return a list of values. Those values are then used as the actual
+type-instance. An example would be the \f(CW\*(C`IF\-MIB::ifDescr\*(C'\fR subtree.
+\&\fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution describes the format of OIDs.
+.Sp
+If \fBTable\fR is set to \fItrue\fR and \fBInstance\fR is omitted, then \*(L"\s-1SUBID\s0\*(R" will be
+used as the instance.
+.Sp
+If \fBTable\fR is set to \fIfalse\fR the actual string configured for \fIInstance\fR is
+copied into the value-list. In this case \fIInstance\fR may be empty, i.\ e.
+"".
+.IP "\fBInstancePrefix\fR \fIString\fR" 4
+.IX Item "InstancePrefix String"
+If \fBTable\fR is set to \fItrue\fR, you may feel the need to add something to the
+instance of the files. If set, \fIString\fR is prepended to the instance as
+determined by querying the agent. When \fBTable\fR is set to \fIfalse\fR this option
+has no effect.
+.Sp
+The \f(CW\*(C`UPS\-MIB\*(C'\fR is an example where you need this setting: It has voltages of
+the inlets, outlets and the battery of an \s-1UPS\s0. However, it doesn't provide a
+descriptive column for these voltages. In this case having 1, 2,\ ... as
+instances is not enough, because the inlet voltages and outlet voltages may
+both have the subids 1, 2,\ ... You can use this setting to distinguish
+between the different voltages.
+.IP "\fBValues\fR \fI\s-1OID\s0\fR [\fI\s-1OID\s0\fR ...]" 4
+.IX Item "Values OID [OID ...]"
+Configures the values to be queried from the \s-1SNMP\s0 host. The meaning slightly
+changes with the \fBTable\fR setting. \fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution
+describes the format of OIDs.
+.Sp
+If \fBTable\fR is set to \fItrue\fR, each \fI\s-1OID\s0\fR must be the prefix of all the
+values to query, e.\ g. \f(CW\*(C`IF\-MIB::ifInOctets\*(C'\fR for all the counters of
+incoming traffic. This subtree is walked (using \f(CW\*(C`GETNEXT\*(C'\fR) until a value from
+outside the subtree is returned.
+.Sp
+If \fBTable\fR is set to \fIfalse\fR, each \fI\s-1OID\s0\fR must be the \s-1OID\s0 of exactly one
+value, e.\ g. \f(CW\*(C`IF\-MIB::ifInOctets.3\*(C'\fR for the third counter of incoming
+traffic.
+.IP "\fBScale\fR \fIValue\fR" 4
+.IX Item "Scale Value"
+The gauge-values returned by the SNMP-agent are multiplied by \fIValue\fR.  This
+is useful when values are transfered as a fixed point real number. For example,
+thermometers may transfer \fB243\fR but actually mean \fB24.3\fR, so you can specify
+a scale value of \fB0.1\fR to correct this. The default value is of course \fB1.0\fR.
+.Sp
+This value is not applied to counter-values.
+.IP "\fBShift\fR \fIValue\fR" 4
+.IX Item "Shift Value"
+\&\fIValue\fR is added to gauge-values returned by the SNMP-agent after they have
+been multiplied by any \fBScale\fR value. If, for example, a thermometer returns
+degrees Kelvin you could specify a shift of \fB273.15\fR here to store values in
+degrees Celsius. The default value is is course \fB0.0\fR.
+.Sp
+This value is not applied to counter-values.
+.SS "The Host block"
+.IX Subsection "The Host block"
+The \fBHost\fR block defines which hosts to query, which \s-1SNMP\s0 community and
+version to use and which of the defined \fBData\fR to query.
+.PP
+The argument passed to the \fBHost\fR block is used as the hostname in the data
+stored by collectd.
+.IP "\fBAddress\fR \fIIP-Address\fR|\fIHostname\fR" 4
+.IX Item "Address IP-Address|Hostname"
+Set the address to connect to.
+.IP "\fBVersion\fR \fB1\fR|\fB2\fR" 4
+.IX Item "Version 1|2"
+Set the \s-1SNMP\s0 version to use. When giving \fB2\fR version \f(CW\*(C`2c\*(C'\fR is actually used.
+Version 3 is not supported by this plugin.
+.IP "\fBCommunity\fR \fICommunity\fR" 4
+.IX Item "Community Community"
+Pass \fICommunity\fR to the host.
+.IP "\fBCollect\fR \fIData\fR [\fIData\fR ...]" 4
+.IX Item "Collect Data [Data ...]"
+Defines which values to collect. \fIData\fR refers to one of the \fBData\fR block
+above. Since the config file is read top-down you need to define the data
+before using it here.
+.IP "\fBInterval\fR \fISeconds\fR" 4
+.IX Item "Interval Seconds"
+Collect data from this host every \fISeconds\fR seconds. This value needs to be a
+multiple of the global \fBInterval\fR setting and, if it is not, will be rounded
+\&\fBdown\fR to one and a warning is logged in this case. So if your global
+\&\fBInterval\fR is set to \fI10\fR and you configure \fI25\fR here, it's rounded down to
+\&\fI20\fR. By default the global \fBInterval\fR setting will be used.
+.Sp
+This option is meant for devices with not much \s-1CPU\s0 power, e.\ g. network
+equipment such as switches, embedded devices, rack monitoring systems and so
+on. Since the \fBStep\fR of generated \s-1RRD\s0 files depends on this setting it's
+wise to select a reasonable value once and never change it.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
-\&\fIcollectd\-exec\fR\|(5),
-\&\fItypes.db\fR\|(5),
-\&\fIperl\fR\|(1),
-\&\fIthreads\fR\|(3perl),
-\&\fIthreads::shared\fR\|(3perl),
-\&\fIperldebug\fR\|(1)
+\&\fIsnmpget\fR\|(1),
+\&\fIsnmpgetnext\fR\|(1),
+\&\fIvariables\fR\|(5),
+\&\fIunix\fR\|(7)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-The \f(CW\*(C`perl plugin\*(C'\fR has been written by Sebastian Harl
-<sh\ at\ tokkee.org>.
-.PP
-This manpage has been written by Florian Forster
-<octo\ at\ verplant.org> and Sebastian Harl
-<sh\ at\ tokkee.org>.
+Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-snmp.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-snmp.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-snmp.5	2008-09-04 16:07:31.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-snmp.5	2008-10-17 04:10:06.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -128,234 +120,231 @@
 .    ds ae ae
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
-.IX Title "COLLECTD-SNMP 5"
-.TH COLLECTD-SNMP 5 "2008-05-06" "4.4.3" "collectd"
+.IX Title "COLLECTD-UNIXSOCK 5"
+.TH COLLECTD-UNIXSOCK 5 "2008-10-16" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
-collectd\-snmp \- Documentation of collectd's \f(CW\*(C`snmp plugin\*(C'\fR
+collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-.Vb 10
-\&  LoadPlugin snmp
+.Vb 8
+\&  # See collectd.conf(5)
+\&  LoadPlugin unixsock
 \&  # ...
-\&  <Plugin snmp>
-\&    <Data "powerplus_voltge_input">
-\&      Type "voltage"
-\&      Table false
-\&      Instance "input_line1"
-\&      Scale 0.1
-\&      Values "SNMPv2\-SMI::enterprises.6050.5.4.1.1.2.1"
-\&    </Data>
-\&    <Data "hr_users">
-\&      Type "users"
-\&      Table false
-\&      Instance ""
-\&      Shift \-1
-\&      Values "HOST\-RESOURCES\-MIB::hrSystemNumUsers.0"
-\&    </Data>
-\&    <Data "std_traffic">
-\&      Type "if_octets"
-\&      Table true
-\&      Instance "IF\-MIB::ifDescr"
-\&      Values "IF\-MIB::ifInOctets" "IF\-MIB::ifOutOctets"
-\&    </Data>
-\&
-\&    <Host "some.switch.mydomain.org">
-\&      Address "192.168.0.2"
-\&      Version 1
-\&      Community "community_string"
-\&      Collect "std_traffic"
-\&      Interval 120
-\&    </Host>
-\&    <Host "some.server.mydomain.org">
-\&      Address "192.168.0.42"
-\&      Version 2
-\&      Community "another_string"
-\&      Collect "std_traffic" "hr_users"
-\&    </Host>
-\&    <Host "some.ups.mydomain.org">
-\&      Address "192.168.0.3"
-\&      Version 1
-\&      Community "more_communities"
-\&      Collect "powerplus_voltge_input"
-\&      Interval 300
-\&    </Host>
+\&  <Plugin unixsock>
+\&    SocketFile "/path/to/socket"
+\&    SocketGroup "collectd"
+\&    SocketPerms "0770"
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`snmp plugin\*(C'\fR queries other hosts using \s-1SNMP\s0, the simple network
-management protocol, and translates the value it receives to collectd's
-internal format and dispatches them. Depending on the write plugins you have
-loaded they may be written to disk or submitted to another instance or
-whatever you configured.
+The \f(CW\*(C`unixsock plugin\*(C'\fR opens an UNIX-socket over which one can interact with
+the daemon. This can be used to use the values collected by collectd in other
+applications, such as monitoring, or submit externally collected values to
+collectd.
+.PP
+This plugin is used by \fIcollectd\-nagios\fR\|(1) to check if some value is in a
+certain range and exit with a Nagios-compatible exit code.
+.SH "COMMANDS"
+.IX Header "COMMANDS"
+Upon start the \f(CW\*(C`unixsock plugin\*(C'\fR opens a UNIX-socket and waits for
+connections. Once a connection is established the client can send commands to
+the daemon which it will answer, if it understand them.
+.PP
+In general the plugin answers with a status line of the following form:
 .PP
-Because querying a host via \s-1SNMP\s0 may produce a timeout multiple threads are
-used to query hosts in parallel. Depending on the number of hosts between one
-and ten threads are used.
-.SH "CONFIGURATION"
-.IX Header "CONFIGURATION"
-Since the aim of the \f(CW\*(C`snmp plugin\*(C'\fR is to provide a generic interface to \s-1SNMP\s0,
-it's configuration is not trivial and may take some time.
+\&\fIStatus\fR \fIMessage\fR
 .PP
-Since the \f(CW\*(C`Net\-SNMP\*(C'\fR library is used you can use all the environment variables
-that are interpreted by that package. See \fIsnmpcmd\fR\|(1) for more details.
+If \fIStatus\fR is greater than or equal to zero the message indicates success,
+if \fIStatus\fR is less than zero the message indicates failure. \fIMessage\fR is a
+human-readable string that further describes the return value.
 .PP
-There are two types of blocks that can be contained in the
-\&\f(CW\*(C`<Plugin\ snmp>\*(C'\fR block: \fBData\fR and \fBHost\fR:
-.Sh "The \fBData\fP block"
-.IX Subsection "The Data block"
-The \fBData\fR block defines a list of values or a table of values that are to be
-queried. The following options can be set:
-.IP "\fBType\fR \fItype\fR" 4
-.IX Item "Type type"
-collectd's type that is to be used, e.\ g. \*(L"if_octets\*(R" for interface
-traffic or \*(L"users\*(R" for a user count. The types are read from the \fBTypesDB\fR
-(see \fIcollectd.conf\fR\|(5)), so you may want to check for which types are
-defined. See \fItypes.db\fR\|(5) for a description of the format of this file.
-.IP "\fBTable\fR \fItrue|false\fR" 4
-.IX Item "Table true|false"
-Define if this is a single list of values or a table of values. The difference
-is the following:
-.Sp
-When \fBTable\fR is set to \fBfalse\fR, the OIDs given to \fBValues\fR (see below) are
-queried using the \f(CW\*(C`GET\*(C'\fR \s-1SNMP\s0 command (see \fIsnmpget\fR\|(1)) and transmitted to
-collectd. \fBOne\fR value list is dispatched and, eventually, one file will be
-written.
-.Sp
-When \fBTable\fR is set to \fBtrue\fR, the OIDs given to \fBValues\fR (see below) are
-queried using the \f(CW\*(C`GETNEXT\*(C'\fR \s-1SNMP\s0 command until the subtree is left. After all
-the lists (think: all columns of the table) have been read \fBseveral\fR values
-sets will be dispatches and, eventually, several files will be written. If you
-configure a \fBType\fR (see above) which needs more than one data source (for
-example \f(CW\*(C`if_octets\*(C'\fR which needs \f(CW\*(C`rx\*(C'\fR and \f(CW\*(C`tx\*(C'\fR) you will need to specify more
-than one (two, in the example case) OIDs with the \fBValues\fR option. This has
-nothing to do with the \fBTable\fR setting.
-.Sp
-For example, if you want to query the number of users on a system, you can use
-\&\f(CW\*(C`HOST\-RESOURCES\-MIB::hrSystemNumUsers.0\*(C'\fR. This is one value and belongs to one
-value list, therefore \fBTable\fR must be set to \fBfalse\fR. Please note that, in
-this case, you have to include the sequence number (zero in this case) in the
-\&\s-1OID\s0.
-.Sp
-Counter example: If you want to query the interface table provided by the
-\&\f(CW\*(C`IF\-MIB\*(C'\fR, e.\ g. the bytes transmitted. There are potentially many
-interfaces, so you will want to set \fBTable\fR to \fBtrue\fR. Because the
-\&\f(CW\*(C`if_octets\*(C'\fR type needs two values, received and transmitted bytes, you need to
-specify two OIDs in the \fBValues\fR setting, in this case likely
-\&\f(CW\*(C`IF\-MIB::ifHCInOctets\*(C'\fR and \f(CW\*(C`IF\-MIB::ifHCOutOctets\*(C'\fR. But, this is because of
-the \fBType\fR setting, not the \fBTable\fR setting.
-.Sp
-Since the semantic of \fBInstance\fR and \fBValues\fR depends on this setting you
-need to set it before setting them. Doing vice verse will result in undefined
-behavior.
-.IP "\fBInstance\fR \fIInstance\fR" 4
-.IX Item "Instance Instance"
-Sets the type-instance of the values that are dispatched. The meaning of this
-setting depends on whether \fBTable\fR is set to \fItrue\fR or \fIfalse\fR:
-.Sp
-If \fBTable\fR is set to \fItrue\fR, \fIInstance\fR is interpreted as an SNMP-prefix
-that will return a list of values. Those values are then used as the actual
-type-instance. An example would be the \f(CW\*(C`IF\-MIB::ifDescr\*(C'\fR subtree.
-\&\fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution describes the format of OIDs.
-.Sp
-If \fBTable\fR is set to \fItrue\fR and \fBInstance\fR is omitted, then \*(L"\s-1SUBID\s0\*(R" will be
-used as the instance.
-.Sp
-If \fBTable\fR is set to \fIfalse\fR the actual string configured for \fIInstance\fR is
-copied into the value-list. In this case \fIInstance\fR may be empty, i.\ e.
-"".
-.IP "\fBInstancePrefix\fR \fIString\fR" 4
-.IX Item "InstancePrefix String"
-If \fBTable\fR is set to \fItrue\fR, you may feel the need to add something to the
-instance of the files. If set, \fIString\fR is prepended to the instance as
-determined by querying the agent. When \fBTable\fR is set to \fIfalse\fR this option
-has no effect.
-.Sp
-The \f(CW\*(C`UPS\-MIB\*(C'\fR is an example where you need this setting: It has voltages of
-the inlets, outlets and the battery of an \s-1UPS\s0. However, it doesn't provide a
-descriptive column for these voltages. In this case having 1, 2,\ ... as
-instances is not enough, because the inlet voltages and outlet voltages may
-both have the subids 1, 2,\ ... You can use this setting to distinguish
-between the different voltages.
-.IP "\fBValues\fR \fI\s-1OID\s0\fR [\fI\s-1OID\s0\fR ...]" 4
-.IX Item "Values OID [OID ...]"
-Configures the values to be queried from the \s-1SNMP\s0 host. The meaning slightly
-changes with the \fBTable\fR setting. \fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution
-describes the format of OIDs.
-.Sp
-If \fBTable\fR is set to \fItrue\fR, each \fI\s-1OID\s0\fR must be the prefix of all the
-values to query, e.\ g. \f(CW\*(C`IF\-MIB::ifInOctets\*(C'\fR for all the counters of
-incoming traffic. This subtree is walked (using \f(CW\*(C`GETNEXT\*(C'\fR) until a value from
-outside the subtree is returned.
-.Sp
-If \fBTable\fR is set to \fIfalse\fR, each \fI\s-1OID\s0\fR must be the \s-1OID\s0 of exactly one
-value, e.\ g. \f(CW\*(C`IF\-MIB::ifInOctets.3\*(C'\fR for the third counter of incoming
-traffic.
-.IP "\fBScale\fR \fIValue\fR" 4
-.IX Item "Scale Value"
-The gauge-values returned by the SNMP-agent are multiplied by \fIValue\fR.  This
-is useful when values are transfered as a fixed point real number. For example,
-thermometers may transfer \fB243\fR but actually mean \fB24.3\fR, so you can specify
-a scale value of \fB0.1\fR to correct this. The default value is of course \fB1.0\fR.
-.Sp
-This value is not applied to counter-values.
-.IP "\fBShift\fR \fIValue\fR" 4
-.IX Item "Shift Value"
-\&\fIValue\fR is added to gauge-values returned by the SNMP-agent after they have
-been multiplied by any \fBScale\fR value. If, for example, a thermometer returns
-degrees Kelvin you could specify a shift of \fB273.15\fR here to store values in
-degrees Celsius. The default value is is course \fB0.0\fR.
-.Sp
-This value is not applied to counter-values.
-.Sh "The Host block"
-.IX Subsection "The Host block"
-The \fBHost\fR block defines which hosts to query, which \s-1SNMP\s0 community and
-version to use and which of the defined \fBData\fR to query.
+On success, \fIStatus\fR furthermore indicates the number of subsequent lines of
+output (not including the status line). Each such lines usually contains a
+single return value. See the description of each command for details.
 .PP
-The argument passed to the \fBHost\fR block is used as the hostname in the data
-stored by collectd.
-.IP "\fBAddress\fR \fIIP-Address\fR|\fIHostname\fR" 4
-.IX Item "Address IP-Address|Hostname"
-Set the address to connect to.
-.IP "\fBVersion\fR \fB1\fR|\fB2\fR" 4
-.IX Item "Version 1|2"
-Set the \s-1SNMP\s0 version to use. When giving \fB2\fR version \f(CW\*(C`2c\*(C'\fR is actually used.
-Version 3 is not supported by this plugin.
-.IP "\fBCommunity\fR \fICommunity\fR" 4
-.IX Item "Community Community"
-Pass \fICommunity\fR to the host.
-.IP "\fBCollect\fR \fIData\fR [\fIData\fR ...]" 4
-.IX Item "Collect Data [Data ...]"
-Defines which values to collect. \fIData\fR refers to one of the \fBData\fR block
-above. Since the config file is read top-down you need to define the data
-before using it here.
-.IP "\fBInterval\fR \fISeconds\fR" 4
-.IX Item "Interval Seconds"
-Collect data from this host every \fISeconds\fR seconds. This value needs to be a
-multiple of the global \fBInterval\fR setting and, if it is not, will be rounded
-\&\fBdown\fR to one and a warning is logged in this case. So if your global
-\&\fBInterval\fR is set to \fI10\fR and you configure \fI25\fR here, it's rounded down to
-\&\fI20\fR. By default the global \fBInterval\fR setting will be used.
-.Sp
-This option is meant for devices with not much \s-1CPU\s0 power, e.\ g. network
-equipment such as switches, embedded devices, rack monitoring systems and so
-on. Since the \fBStep\fR of generated \s-1RRD\s0 files depends on this setting it's
-wise to select a reasonable value once and never change it.
+The following commands are implemented:
+.IP "\fB\s-1GETVAL\s0\fR \fIIdentifier\fR" 4
+.IX Item "GETVAL Identifier"
+If the value identified by \fIIdentifier\fR (see below) is found the complete
+value-list is returned. The response is a list of name-value-pairs, each pair
+on its own line (the number of lines is indicated by the status line \- see
+above). Each name-value-pair is of the form \fIname\fR\fB=\fR\fIvalue\fR.
+Counter-values are converted to a rate, e.\ g. bytes per second.
+Undefined values are returned as \fBNaN\fR.
+.Sp
+Example:
+  \-> | \s-1GETVAL\s0 myhost/cpu\-0/cpu\-user
+  <\- | 1 Value found
+  <\- | value=1.260000e+00
+.IP "\fB\s-1LISTVAL\s0\fR" 4
+.IX Item "LISTVAL"
+Returns a list of the values available in the value cache together with the
+time of the last update, so that querying applications can issue a \fB\s-1GETVAL\s0\fR
+command for the values that have changed. Each return value consists of the
+update time as an epoch value and the identifier, separated by a space. The
+update time is the time of the last value, as provided by the collecting
+instance and may be very different from the time the server considers to be
+\&\*(L"now\*(R".
+.Sp
+Example:
+  \-> | \s-1LISTVAL\s0
+  <\- | 69 Values found
+  <\- | 1182204284 myhost/cpu\-0/cpu\-idle
+  <\- | 1182204284 myhost/cpu\-0/cpu\-nice
+  <\- | 1182204284 myhost/cpu\-0/cpu\-system
+  <\- | 1182204284 myhost/cpu\-0/cpu\-user
+  ...
+.IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
+.IX Item "PUTVAL Identifier [OptionList] Valuelist"
+Submits one or more values (identified by \fIIdentifier\fR, see below) to the
+daemon which will dispatch it to all it's write-plugins.
+.Sp
+An \fIIdentifier\fR is of the form
+\&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
+\&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
+omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
+as the tuple (plugin, plugin instance, type instance) uniquely identifies the
+plugin within collectd. \fItype\fR identifies the type and number of values
+(i.\ e. data-set) passed to collectd. A large list of predefined
+data-sets is available in the \fBtypes.db\fR file.
+.Sp
+The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option is a
+key-value-pair. A list of currently understood options can be found below, all
+other options will be ignored.
+.Sp
+\&\fIValuelist\fR is a colon-separated list of the time and the values, each either
+an integer if the data-source is a counter, or a double if the data-source is
+of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
+submitting \fBU\fR to a counter the behavior is undefined. The time is given as
+epoch (i.\ e. standard \s-1UNIX\s0 time).
+.Sp
+You can mix options and values, but the order is important: Options only
+effect following values, so specifying an option as last field is allowed, but
+useless. Also, an option applies to \fBall\fR following values, so you don't need
+to re-set an option over and over again.
+.Sp
+The currently defined \fBOptions\fR are:
+.RS 4
+.IP "\fBinterval=\fR\fIseconds\fR" 4
+.IX Item "interval=seconds"
+Gives the interval in which the data identified by \fIIdentifier\fR is being
+collected.
+.RE
+.RS 4
+.Sp
+Please note that this is the same format as used in the \fBexec plugin\fR, see
+\&\fIcollectd\-exec\fR\|(5).
+.Sp
+Example:
+  \-> | \s-1PUTVAL\s0 testhost/interface/if_octets\-test0 interval=10 1179574444:123:456
+  <\- | 0 Success
+.RE
+.IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
+.IX Item "PUTNOTIF [OptionList] message=Message"
+Submits a notification to the daemon which will then dispatch it to all plugins
+which have registered for receiving notifications.
+.Sp
+The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
+notification. The \fBmessage\fR option is special in that it will consume the rest
+of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
+mandatory.
+.Sp
+Valid options are:
+.RS 4
+.IP "\fBmessage=\fR\fIMessage\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "message=Message (REQUIRED)"
+Sets the message of the notification. This is the message that will be made
+accessible to the user, so it should contain some useful information. This
+option must be the last option because the rest of the line will be its value,
+even if there are spaces and equal-signs following it! This option is
+mandatory.
+.IP "\fBseverity=failure\fR|\fBwarning\fR|\fBokay\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "severity=failure|warning|okay (REQUIRED)"
+Sets the severity of the notification. This option is mandatory.
+.IP "\fBtime=\fR\fITime\fR (\fB\s-1REQUIRED\s0\fR)" 4
+.IX Item "time=Time (REQUIRED)"
+Sets the time of the notification. The time is given as \*(L"epoch\*(R", i.\ e. as
+seconds since January 1st, 1970, 00:00:00. This option is mandatory.
+.IP "\fBhost=\fR\fIHostname\fR" 4
+.IX Item "host=Hostname"
+.PD 0
+.IP "\fBplugin=\fR\fIPlugin\fR" 4
+.IX Item "plugin=Plugin"
+.IP "\fBplugin_instance=\fR\fIPlugin-Instance\fR" 4
+.IX Item "plugin_instance=Plugin-Instance"
+.IP "\fBtype=\fR\fIType\fR" 4
+.IX Item "type=Type"
+.IP "\fBtype_instance=\fR\fIType-Instance\fR" 4
+.IX Item "type_instance=Type-Instance"
+.PD
+These \*(L"associative\*(R" options establish a relation between this notification and
+collected performance data. This connection is purely informal, i.\ e. the
+daemon itself doesn't do anything with this information. However, websites or
+GUIs may use this information to place notifications near the affected graph or
+table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
+or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
+avoided.
+.Sp
+Please note that this is the same format as used in the \fBexec plugin\fR, see
+\&\fIcollectd\-exec\fR\|(5).
+.RE
+.RS 4
+.Sp
+Example:
+  \-> | \s-1PUTNOTIF\s0 type=temperature severity=warning time=1201094702 message=The roof is on fire!
+  <\- | 0 Success
+.RE
+.IP "\fB\s-1FLUSH\s0\fR [\fBtimeout=\fR\fITimeout\fR] [\fBplugin=\fR\fIPlugin\fR [...]]" 4
+.IX Item "FLUSH [timeout=Timeout] [plugin=Plugin [...]]"
+Flushes all cached data older than \fITimeout\fR seconds. If no timeout has been
+specified, it defaults to \-1 which causes all data to be flushed. \fBtimeout\fR
+may be specified multiple times \- each occurrence applies to plugins listed
+afterwards.
+.Sp
+If specified, only specific plugins are flushed. Otherwise all plugins
+providing a flush callback are flushed.
+.Sp
+Example:
+  \-> | \s-1FLUSH\s0
+  <\- | 0 Done
+.SS "Identifiers"
+.IX Subsection "Identifiers"
+Value or value-lists are identified in a uniform fashion:
+.PP
+\&\fIHostname\fR/\fIPlugin\fR/\fIType\fR
+.PP
+Where \fIPlugin\fR and \fIType\fR are both either of type "\fIName\fR\*(L" or
+\&\*(R"\fIName\fR\-\fIInstance\fR". This sounds more complicated than it is, so here are
+some examples:
+.PP
+.Vb 4
+\&  myhost/cpu\-0/cpu\-user
+\&  myhost/load/load
+\&  myhost/memory/memory\-used
+\&  myhost/disk\-sda/disk_octets
+.Ve
+.SH "ABSTRACTION LAYER"
+.IX Header "ABSTRACTION LAYER"
+\&\fBcollectd\fR ships the Perl-Module Collectd::Unixsock which
+provides an abstraction layer over the actual socket connection. It can be
+found in the directory \fIbindings/perl/\fR in the source distribution or
+(usually) somewhere near \fI/usr/share/perl5/\fR if you're using a package. If
+you want to use Perl to communicate with the daemon, you're encouraged to use
+and expand this module.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
-\&\fIsnmpget\fR\|(1),
-\&\fIsnmpgetnext\fR\|(1),
-\&\fIvariables\fR\|(5),
+\&\fIcollectd\-nagios\fR\|(1),
 \&\fIunix\fR\|(7)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/collectd-unixsock.5	2008-09-04 16:07:31.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/collectd-unixsock.5	2008-10-17 04:10:06.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -128,231 +120,62 @@
 .    ds ae ae
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
-.IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2008-09-04" "4.4.3" "collectd"
+.IX Title "COLLECTDMON 1"
+.TH COLLECTDMON 1 "2008-05-06" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
-collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
+collectdmon \- Monitoring daemon for collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-.Vb 8
-\&  # See collectd.conf(5)
-\&  LoadPlugin unixsock
-\&  # ...
-\&  <Plugin unixsock>
-\&    SocketFile "/path/to/socket"
-\&    SocketGroup "collectd"
-\&    SocketPerms "0770"
-\&  </Plugin>
-.Ve
+collectdmon \fI[options]\fR [\-\- \fIcollectd options\fR]
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`unixsock plugin\*(C'\fR opens an UNIX-socket over which one can interact with
-the daemon. This can be used to use the values collected by collectd in other
-applications, such as monitoring, or submit externally collected values to
-collectd.
-.PP
-This plugin is used by \fIcollectd\-nagios\fR\|(1) to check if some value is in a
-certain range and exit with a Nagios-compatible exit code.
-.SH "COMMANDS"
-.IX Header "COMMANDS"
-Upon start the \f(CW\*(C`unixsock plugin\*(C'\fR opens a UNIX-socket and waits for
-connections. Once a connection is established the client can send commands to
-the daemon which it will answer, if it understand them.
-.PP
-In general the plugin answers with a status line of the following form:
-.PP
-\&\fIStatus\fR \fIMessage\fR
-.PP
-If \fIStatus\fR is greater than or equal to zero the message indicates success,
-if \fIStatus\fR is less than zero the message indicates failure. \fIMessage\fR is a
-human-readable string that further describes the return value.
-.PP
-On success, \fIStatus\fR furthermore indicates the number of subsequent lines of
-output (not including the status line). Each such lines usually contains a
-single return value. See the description of each command for details.
-.PP
-The following commands are implemented:
-.IP "\fB\s-1GETVAL\s0\fR \fIIdentifier\fR" 4
-.IX Item "GETVAL Identifier"
-If the value identified by \fIIdentifier\fR (see below) is found the complete
-value-list is returned. The response is a list of name-value-pairs, each pair
-on its own line (the number of lines is indicated by the status line \- see
-above). Each name-value-pair is of the form \fIname\fR\fB=\fR\fIvalue\fR.
-Counter-values are converted to a rate, e.\ g. bytes per second.
-Undefined values are returned as \fBNaN\fR.
-.Sp
-Example:
-  \-> | \s-1GETVAL\s0 myhost/cpu\-0/cpu\-user
-  <\- | 1 Value found
-  <\- | value=1.260000e+00
-.IP "\fB\s-1LISTVAL\s0\fR" 4
-.IX Item "LISTVAL"
-Returns a list of the values available in the value cache together with the
-time of the last update, so that querying applications can issue a \fB\s-1GETVAL\s0\fR
-command for the values that have changed. Each return value consists of the
-update time as an epoch value and the identifier, separated by a space. The
-update time is the time of the last value, as provided by the collecting
-instance and may be very different from the time the server considers to be
-\&\*(L"now\*(R".
-.Sp
-Example:
-  \-> | \s-1LISTVAL\s0
-  <\- | 69 Values found
-  <\- | 1182204284 myhost/cpu\-0/cpu\-idle
-  <\- | 1182204284 myhost/cpu\-0/cpu\-nice
-  <\- | 1182204284 myhost/cpu\-0/cpu\-system
-  <\- | 1182204284 myhost/cpu\-0/cpu\-user
-  ...
-.IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
-.IX Item "PUTVAL Identifier [OptionList] Valuelist"
-Submits one or more values (identified by \fIIdentifier\fR, see below) to the
-daemon which will dispatch it to all it's write-plugins.
-.Sp
-An \fIIdentifier\fR is of the form
-\&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
-\&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
-omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
-as the tuple (plugin, plugin instance, type instance) uniquely identifies the
-plugin within collectd. \fItype\fR identifies the type and number of values
-(i.\ e. data-set) passed to collectd. A large list of predefined
-data-sets is available in the \fBtypes.db\fR file.
-.Sp
-The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option is a
-key-value-pair. A list of currently understood options can be found below, all
-other options will be ignored.
-.Sp
-\&\fIValuelist\fR is a colon-separated list of the time and the values, each either
-an integer if the data-source is a counter, or a double if the data-source is
-of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
-submitting \fBU\fR to a counter the behavior is undefined. The time is given as
-epoch (i.\ e. standard \s-1UNIX\s0 time).
-.Sp
-You can mix options and values, but the order is important: Options only
-effect following values, so specifying an option as last field is allowed, but
-useless. Also, an option applies to \fBall\fR following values, so you don't need
-to re-set an option over and over again.
-.Sp
-The currently defined \fBOptions\fR are:
-.RS 4
-.IP "\fBinterval=\fR\fIseconds\fR" 4
-.IX Item "interval=seconds"
-Gives the interval in which the data identified by \fIIdentifier\fR is being
-collected.
-.RE
-.RS 4
-.Sp
-Please note that this is the same format as used in the \fBexec plugin\fR, see
-\&\fIcollectd\-exec\fR\|(5).
-.Sp
-Example:
-  \-> | \s-1PUTVAL\s0 testhost/interface/if_octets\-test0 interval=10 1179574444:123:456
-  <\- | 0 Success
-.RE
-.IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
-.IX Item "PUTNOTIF [OptionList] message=Message"
-Submits a notification to the daemon which will then dispatch it to all plugins
-which have registered for receiving notifications.
-.Sp
-The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
-notification. The \fBmessage\fR option is special in that it will consume the rest
-of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
-mandatory.
-.Sp
-Valid options are:
-.RS 4
-.IP "\fBmessage=\fR\fIMessage\fR (\fB\s-1REQUIRED\s0\fR)" 4
-.IX Item "message=Message (REQUIRED)"
-Sets the message of the notification. This is the message that will be made
-accessible to the user, so it should contain some useful information. This
-option must be the last option because the rest of the line will be its value,
-even if there are spaces and equal-signs following it! This option is
-mandatory.
-.IP "\fBseverity=failure\fR|\fBwarning\fR|\fBokay\fR (\fB\s-1REQUIRED\s0\fR)" 4
-.IX Item "severity=failure|warning|okay (REQUIRED)"
-Sets the severity of the notification. This option is mandatory.
-.IP "\fBtime=\fR\fITime\fR (\fB\s-1REQUIRED\s0\fR)" 4
-.IX Item "time=Time (REQUIRED)"
-Sets the time of the notification. The time is given as \*(L"epoch\*(R", i.\ e. as
-seconds since January 1st, 1970, 00:00:00. This option is mandatory.
-.IP "\fBhost=\fR\fIHostname\fR" 4
-.IX Item "host=Hostname"
-.PD 0
-.IP "\fBplugin=\fR\fIPlugin\fR" 4
-.IX Item "plugin=Plugin"
-.IP "\fBplugin_instance=\fR\fIPlugin-Instance\fR" 4
-.IX Item "plugin_instance=Plugin-Instance"
-.IP "\fBtype=\fR\fIType\fR" 4
-.IX Item "type=Type"
-.IP "\fBtype_instance=\fR\fIType-Instance\fR" 4
-.IX Item "type_instance=Type-Instance"
-.PD
-These \*(L"associative\*(R" options establish a relation between this notification and
-collected performance data. This connection is purely informal, i.\ e. the
-daemon itself doesn't do anything with this information. However, websites or
-GUIs may use this information to place notifications near the affected graph or
-table. All the options are optional, but \fBplugin_instance\fR without \fBplugin\fR
-or \fBtype_instance\fR without \fBtype\fR doesn't make much sense and should be
-avoided.
-.Sp
-Please note that this is the same format as used in the \fBexec plugin\fR, see
-\&\fIcollectd\-exec\fR\|(5).
-.RE
-.RS 4
-.Sp
-Example:
-  \-> | \s-1PUTNOTIF\s0 type=temperature severity=warning time=1201094702 message=The roof is on fire!
-  <\- | 0 Success
-.RE
-.IP "\fB\s-1FLUSH\s0\fR [\fBtimeout=\fR\fITimeout\fR] [\fBplugin=\fR\fIPlugin\fR [...]]" 4
-.IX Item "FLUSH [timeout=Timeout] [plugin=Plugin [...]]"
-Flushes all cached data older than \fITimeout\fR seconds. If no timeout has been
-specified, it defaults to \-1 which causes all data to be flushed. \fBtimeout\fR
-may be specified multiple times \- each occurrence applies to plugins listed
-afterwards.
-.Sp
-If specified, only specific plugins are flushed. Otherwise all plugins
-providing a flush callback are flushed.
-.Sp
-Example:
-  \-> | \s-1FLUSH\s0
-  <\- | 0 Done
-.Sh "Identifiers"
-.IX Subsection "Identifiers"
-Value or value-lists are identified in a uniform fashion:
-.PP
-\&\fIHostname\fR/\fIPlugin\fR/\fIType\fR
-.PP
-Where \fIPlugin\fR and \fIType\fR are both either of type "\fIName\fR\*(L" or
-\&\*(R"\fIName\fR\-\fIInstance\fR". This sounds more complicated than it is, so here are
-some examples:
-.PP
-.Vb 4
-\&  myhost/cpu\-0/cpu\-user
-\&  myhost/load/load
-\&  myhost/memory/memory\-used
-\&  myhost/disk\-sda/disk_octets
-.Ve
-.SH "ABSTRACTION LAYER"
-.IX Header "ABSTRACTION LAYER"
-\&\fBcollectd\fR ships the Perl-Module Collectd::Unixsock which
-provides an abstraction layer over the actual socket connection. It can be
-found in the directory \fIbindings/perl/\fR in the source distribution or
-(usually) somewhere near \fI/usr/share/perl5/\fR if you're using a package. If
-you want to use Perl to communicate with the daemon, you're encouraged to use
-and expand this module.
+collectdmon is a small \*(L"wrapper\*(R" daemon which starts and monitors the collectd
+daemon. If collectd terminates it will automatically be restarted, unless
+collectdmon was told to shut it down.
+.SH "OPTIONS"
+.IX Header "OPTIONS"
+collectdmon supports the following options:
+.IP "\fB\-c\fR \fI<path>\fR" 4
+.IX Item "-c <path>"
+Specify the pathname of the collectd binary. You may either specify an
+absolute path or simply the name of the binary in which case the \fB\s-1PATH\s0\fR
+variable will be searched for it. The default is "\fBcollectd\fR".
+.IP "\fB\-P\fR \fI<pid\-file>\fR" 4
+.IX Item "-P <pid-file>"
+Specify the pid file. The default is "\fI/var/run/collectdmon.pid\fR".
+.IP "\fB\-h\fR" 4
+.IX Item "-h"
+Output usage information and exit.
+.IP "\fIcollectd options\fR" 4
+.IX Item "collectd options"
+Specify options that are passed on to collectd. If it is not already included,
+\&\fB\-f\fR will be added to these options. See \fIcollectd\fR\|(1).
+.SH "SIGNALS"
+.IX Header "SIGNALS"
+\&\fBcollectdmon\fR accepts the following signals:
+.IP "\fB\s-1SIGINT\s0\fR, \fB\s-1SIGTERM\s0\fR" 4
+.IX Item "SIGINT, SIGTERM"
+These signals cause \fBcollectdmon\fR to terminate \fBcollectd\fR, wait for its
+termination and then shut down.
+.IP "\fB\s-1SIGHUP\s0\fR" 4
+.IX Item "SIGHUP"
+This signal causes \fBcollectdmon\fR to terminate \fBcollectd\fR, wait for its
+termination and then restart it.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
-\&\fIcollectd\-nagios\fR\|(1),
-\&\fIunix\fR\|(7)
+<http://collectd.org/>
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-Florian Forster <octo@verplant.org>
+collectd has been written by Florian Forster <octo at verplant.org>
+and many contributors (see `\s-1AUTHORS\s0').
+.PP
+collectdmon has been written by Sebastian Harl <sh@tokkee.org>.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/configfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/configfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/configfile.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/configfile.c	2008-10-17 03:24:20.000000000 +0800
@@ -885,10 +885,14 @@
 		if (conf->children[i].children == NULL)
 			dispatch_value (conf->children + i);
 		else
 			dispatch_block (conf->children + i);
 	}
 
+	oconfig_free (conf);
+
+	/* Read the default types.db if no `TypesDB' option was given. */
 	if (cf_default_typesdb)
-		read_types_list (PLUGINDIR"/types.db"); /* FIXME: Configure path */
+		read_types_list (PLUGINDIR"/types.db");
+
 	return (0);
 } /* int cf_read */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/ipvs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/ipvs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/ipvs.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/ipvs.c	2008-10-17 03:24:20.000000000 +0800
@@ -273,13 +273,13 @@
 
 static void cipvs_submit_dest (char *pi, struct ip_vs_dest_entry *de) {
 	struct ip_vs_stats_user stats = de->stats;
 
 	char ti[DATA_MAX_NAME_LEN];
 
-	if (0 != get_ti (de, ti, DATA_MAX_NAME_LEN))
+	if (0 != get_ti (de, ti, sizeof (ti)))
 		return;
 
 	cipvs_submit_connections (pi, ti, stats.conns);
 	cipvs_submit_if (pi, "if_packets", ti, stats.inpkts, stats.outpkts);
 	cipvs_submit_if (pi, "if_octets", ti, stats.inbytes, stats.outbytes);
 	return;
@@ -291,13 +291,13 @@
 	struct ip_vs_get_dests  *dests = ipvs_get_dests (se);
 
 	char pi[DATA_MAX_NAME_LEN];
 
 	int i = 0;
 
-	if (0 != get_pi (se, pi, DATA_MAX_NAME_LEN))
+	if (0 != get_pi (se, pi, sizeof (pi)))
 		return;
 
 	cipvs_submit_connections (pi, NULL, stats.conns);
 	cipvs_submit_if (pi, "if_packets", NULL, stats.inpkts, stats.outpkts);
 	cipvs_submit_if (pi, "if_octets", NULL, stats.inbytes, stats.outbytes);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/Makefile.am	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/Makefile.am	2008-10-17 03:24:20.000000000 +0800
@@ -127,13 +127,13 @@
 if BUILD_PLUGIN_ASCENT
 pkglib_LTLIBRARIES += ascent.la
 ascent_la_SOURCES = ascent.c
 ascent_la_LDFLAGS = -module -avoid-version
 ascent_la_CFLAGS = $(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 ascent_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
-collectd_LDADD += "-dlopen" apache.la
+collectd_LDADD += "-dlopen" ascent.la
 collectd_DEPENDENCIES += ascent.la
 endif
 
 if BUILD_PLUGIN_BATTERY
 pkglib_LTLIBRARIES += battery.la
 battery_la_SOURCES = battery.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/Makefile.in	2008-09-04 16:00:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/Makefile.in	2008-10-17 04:09:03.000000000 +0800
@@ -66,13 +66,13 @@
 @BUILD_PLUGIN_APCUPS_TRUE@am__append_24 = "-dlopen" apcups.la
 @BUILD_PLUGIN_APCUPS_TRUE@am__append_25 = apcups.la
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_26 = apple_sensors.la
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_27 = "-dlopen" apple_sensors.la
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_28 = apple_sensors.la
 @BUILD_PLUGIN_ASCENT_TRUE@am__append_29 = ascent.la
-@BUILD_PLUGIN_ASCENT_TRUE@am__append_30 = "-dlopen" apache.la
+@BUILD_PLUGIN_ASCENT_TRUE@am__append_30 = "-dlopen" ascent.la
 @BUILD_PLUGIN_ASCENT_TRUE@am__append_31 = ascent.la
 @BUILD_PLUGIN_BATTERY_TRUE@am__append_32 = battery.la
 @BUILD_PLUGIN_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_33 = -lIOKit
 @BUILD_PLUGIN_BATTERY_TRUE@am__append_34 = "-dlopen" battery.la
 @BUILD_PLUGIN_BATTERY_TRUE@am__append_35 = battery.la
 @BUILD_PLUGIN_CPU_TRUE@am__append_36 = cpu.la
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/netlink.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/netlink.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/netlink.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/netlink.c	2008-10-17 03:24:20.000000000 +0800
@@ -359,13 +359,13 @@
     return (0);
   }
 
   if (msg->tcm_ifindex >= iflist_len)
   {
     ERROR ("netlink plugin: qos_filter: msg->tcm_ifindex = %i "
-	">= iflist_len = %i",
+	">= iflist_len = %zu",
 	msg->tcm_ifindex, iflist_len);
     return (-1);
   }
 
   dev = iflist[msg->tcm_ifindex];
   if (dev == NULL)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/network.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/network.c	2008-10-17 03:24:20.000000000 +0800
@@ -1547,25 +1547,30 @@
 			return (1);
 
 		service = NET_DEFAULT_PORT;
 		fields_num = strsplit (val_cpy, fields, 3);
 		if ((fields_num != 1)
 				&& (fields_num != 2))
+		{
+			sfree (val_cpy);
 			return (1);
+		}
 		else if (fields_num == 2)
 		{
 			if ((service = strchr (fields[1], '.')) != NULL)
 				*service = '\0';
 			service = fields[1];
 		}
 		node = fields[0];
 
 		if (strcasecmp ("Listen", key) == 0)
 			network_add_listen_socket (node, service);
 		else
 			network_add_sending_socket (node, service);
+
+		sfree (val_cpy);
 	}
 	else if (strcasecmp ("TimeToLive", key) == 0)
 	{
 		int tmp = atoi (val);
 		if ((tmp > 0) && (tmp < 256))
 			network_config_ttl = tmp;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/perl.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/perl.c	2008-10-17 04:03:38.000000000 +0800
@@ -33,13 +33,13 @@
 
 #include "configfile.h"
 
 #include <EXTERN.h>
 #include <perl.h>
 
-#if __GNUC__
+#if defined(COLLECT_DEBUG) && COLLECT_DEBUG && defined(__GNUC__) && __GNUC__
 # pragma GCC poison sprintf
 #endif
 
 #include <XSUB.h>
 
 /* Some versions of Perl define their own version of DEBUG... :-/ */
@@ -1478,13 +1478,15 @@
 
 	perl_construct (aTHX);
 
 	PL_exit_flags |= PERL_EXIT_DESTRUCT_END;
 
 	if (0 != perl_parse (aTHX_ xs_init, argc, argv, NULL)) {
-		log_err ("init_pi: Unable to bootstrap Collectd.");
+		SV *err = get_sv ("@", 1);
+		log_err ("init_pi: Unable to bootstrap Collectd: %s",
+				SvPV_nolen (err));
 
 		perl_destruct (perl_threads->head->interp);
 		perl_free (perl_threads->head->interp);
 		sfree (perl_threads);
 
 		pthread_key_delete (perl_thr_key);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/plugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/plugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/plugin.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/plugin.c	2008-10-17 03:24:20.000000000 +0800
@@ -820,13 +820,13 @@
 
 	return (0);
 } /* int plugin_dispatch_notification */
 
 void plugin_log (int level, const char *format, ...)
 {
-	char msg[512];
+	char msg[1024];
 	va_list ap;
 
 	void (*callback) (int, const char *);
 	llentry_t *le;
 
 	if (list_log == NULL)
@@ -835,14 +835,14 @@
 #if !COLLECT_DEBUG
 	if (level >= LOG_DEBUG)
 		return;
 #endif
 
 	va_start (ap, format);
-	vsnprintf (msg, 512, format, ap);
-	msg[511] = '\0';
+	vsnprintf (msg, sizeof (msg), format, ap);
+	msg[sizeof (msg) - 1] = '\0';
 	va_end (ap);
 
 	le = llist_head (list_log);
 	while (le != NULL)
 	{
 		callback = (void (*) (int, const char *)) le->value;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/powerdns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/powerdns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/powerdns.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/powerdns.c	2008-10-17 03:24:20.000000000 +0800
@@ -42,16 +42,16 @@
 
 #ifndef UNIX_PATH_MAX
 # define UNIX_PATH_MAX sizeof (((struct sockaddr_un *)0)->sun_path)
 #endif
 #define FUNC_ERROR(func) do { char errbuf[1024]; ERROR ("powerdns plugin: %s failed: %s", func, sstrerror (errno, errbuf, sizeof (errbuf))); } while (0)
 
-#define SERVER_SOCKET  "/var/run/pdns.controlsocket"
+#define SERVER_SOCKET  LOCALSTATEDIR"/run/pdns.controlsocket"
 #define SERVER_COMMAND "SHOW *"
 
-#define RECURSOR_SOCKET  "/var/run/pdns_recursor.controlsocket"
+#define RECURSOR_SOCKET  LOCALSTATEDIR"/run/pdns_recursor.controlsocket"
 #define RECURSOR_COMMAND "get noerror-answers nxdomain-answers " \
   "servfail-answers sys-msec user-msec qa-latency cache-entries cache-hits " \
   "cache-misses questions"
 
 struct list_item_s;
 typedef struct list_item_s list_item_t;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/processes.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/processes.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/processes.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/processes.c	2008-10-17 03:24:20.000000000 +0800
@@ -847,13 +847,13 @@
 						break;
 					/* There is no `zombie' case here,
 					 * since there are no zombie-threads.
 					 * There's only zombie tasks, which are
 					 * handled above. */
 					default:
-						WARNING ("Unknown thread status: %s",
+						WARNING ("Unknown thread status: %i",
 								thread_data.run_state);
 						break;
 				} /* switch (thread_data.run_state) */
 
 				if (task_list[task] != port_task_self)
 				{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/types.db /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/types.db
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/types.db	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/types.db	2008-10-17 03:24:20.000000000 +0800
@@ -72,12 +72,13 @@
 ps_rss			value:GAUGE:0:9223372036854775807
 ps_state		value:GAUGE:0:65535
 serial_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 signal_noise		value:GAUGE:U:0
 signal_power		value:GAUGE:U:0
 signal_quality		value:GAUGE:0:U
+spam_check		value:GAUGE:0:U
 spam_score		value:GAUGE:U:U
 swap			value:GAUGE:0:1099511627776
 tcp_connections		value:GAUGE:0:4294967295
 temperature		value:GAUGE:-273.15:U
 time_dispersion		seconds:GAUGE:-1000000:1000000
 timeleft		timeleft:GAUGE:0:3600
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/types.db.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/types.db.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/types.db.5	2008-09-04 16:07:32.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/types.db.5	2008-10-17 04:10:27.000000000 +0800
@@ -1,18 +1,10 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man 2.18 (Pod::Simple 3.05)
 .\"
 .\" Standard preamble:
 .\" ========================================================================
-.de Sh \" Subsection heading
-.br
-.if t .Sp
-.ne 5
-.PP
-\fB\\$1\fR
-.PP
-..
 .de Sp \" Vertical space (when we can't use .PP)
 .if t .sp .5v
 .if n .sp
 ..
 .de Vb \" Begin verbatim text
 .ft CW
@@ -50,13 +42,13 @@
 .\"
 .\" Escape single quotes in literal strings from groff's Unicode transform.
 .ie \n(.g .ds Aq \(aq
 .el       .ds Aq '
 .\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
-.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
+.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
 .ie \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
@@ -129,13 +121,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "TYPES.DB 5"
-.TH TYPES.DB 5 "2008-05-06" "4.4.3" "collectd"
+.TH TYPES.DB 5 "2008-05-06" "4.4.4" "collectd"
 .\" For nroff, turn off justification.  Always turn off hyphenation; it makes
 .\" way too many mistakes in technical documents.
 .if n .ad l
 .nh
 .SH "NAME"
 types.db \- Data\-set specifications for the system statistics collection daemon
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/utils_cache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/utils_cache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/utils_cache.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/utils_cache.c	2008-10-17 03:24:20.000000000 +0800
@@ -296,12 +296,13 @@
 	  (void *) &key, (void *) &ce);
       if (status != 0)
       {
 	ERROR ("uc_check_timeout: c_avl_remove (%s) failed.", keys[i]);
       }
       sfree (keys[i]);
+      sfree (key);
       cache_free (ce);
     }
     else if (status == 1) /* persist */
     {
       DEBUG ("uc_check_timeout: %s is missing, sending notification.",
 	  keys[i]);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/utils_ignorelist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/utils_ignorelist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/utils_ignorelist.c	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/utils_ignorelist.c	2008-10-17 03:24:20.000000000 +0800
@@ -303,17 +303,19 @@
 
 #if HAVE_REGEX_H
 	/* regex string is enclosed in "/.../" */
 	if ((entry_len > 2) && (entry[0] == '/') && entry[entry_len - 1] == '/')
 	{
 		char *entry_copy;
+		size_t entry_copy_size;
 
 		/* We need to copy `entry' since it's const */
-		entry_copy = smalloc (entry_len);
-		memset (entry_copy, '\0', entry_len);
-		strncpy (entry_copy, entry + 1, entry_len - 2);
+		entry_copy_size = entry_len - 1;
+		entry_copy = smalloc (entry_copy_size);
+		strncpy (entry_copy, entry + 1, entry_copy_size);
+		entry_copy[entry_copy_size - 1] = 0;
 
 		DEBUG("I'm about to add regex entry: %s", entry_copy);
 		ret = ignorelist_append_regex(il, entry_copy);
 		sfree (entry_copy);
 	}
 	else
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/utils_tail.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/utils_tail.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/src/utils_tail.c	2008-09-04 15:58:49.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/src/utils_tail.c	2008-10-17 03:23:35.000000000 +0800
@@ -159,12 +159,13 @@
       return (status);
   }
   assert (obj->fh != NULL);
 
   /* Try to read from the filehandle. If that succeeds, everything appears to
    * be fine and we can return. */
+  clearerr (obj->fh);
   if (fgets (buf, buflen, obj->fh) != NULL)
   {
     buf[buflen - 1] = 0;
     return (0);
   }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/version-gen.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/version-gen.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.3/version-gen.sh	2008-09-04 15:59:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.4/version-gen.sh	2008-10-17 03:41:48.000000000 +0800
@@ -1,9 +1,9 @@
 #!/bin/sh
 
-DEFAULT_VERSION="4.4.3.git"
+DEFAULT_VERSION="4.4.4.git"
 
 VERSION="$( git describe 2> /dev/null | sed -e 's/^collectd-//' )"
 
 if test -z "$VERSION"; then
 	VERSION="$DEFAULT_VERSION"
 fi
