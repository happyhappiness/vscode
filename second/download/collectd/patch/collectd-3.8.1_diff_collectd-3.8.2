diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/ChangeLog	2006-03-14 05:03:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/ChangeLog	2006-03-14 16:57:04.000000000 +0800
@@ -1,6 +1,11 @@
+2006-03-14, Version 3.8.2
+	* `utils_mount.c' has been changed to not use the `MNTTAB' defined by
+	  the GNU libc, because it points to `/etc/fstab' rather than
+	  `/etc/mtab'.
+
 2006-03-13, Version 3.8.1
 	* Fixes for building collectd unter FreeBSD, Mac OS X and Solaris.
 	* Fixes in the debian `postinst' and `init.d' scripts.
 
 2006-03-09, Version 3.8.0
 	* The `ping' plugin no longer uses `libping' but a self written
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/collectd.spec /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/collectd.spec
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/collectd.spec	2006-03-14 05:03:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/collectd.spec	2006-03-14 16:57:04.000000000 +0800
@@ -85,12 +85,15 @@
 %attr(0444,root,root) %{_libdir}/%{name}/mysql.so*
 
 %files sensors
 %attr(0444,root,root) %{_libdir}/%{name}/sensors.so*
 
 %changelog
+* Thu Mar 14 2006 Florian octo Forster <octo@verplant.org> 3.8.2-1
+- New upstream version
+
 * Thu Mar 13 2006 Florian octo Forster <octo@verplant.org> 3.8.1-1
 - New upstream version
 
 * Thu Mar 09 2006 Florian octo Forster <octo@verplant.org> 3.8.0-1
 - New upstream version
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/configure	2006-03-14 05:03:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/configure	2006-03-14 16:57:04.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.59 for collectd 3.8.1.
+# Generated by GNU Autoconf 2.59 for collectd 3.8.2.
 #
 # Copyright (C) 2003 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
 ## M4sh Initialization.  ##
@@ -418,14 +418,14 @@
 # only ac_max_sed_lines should be used.
 : ${ac_max_here_lines=38}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='3.8.1'
-PACKAGE_STRING='collectd 3.8.1'
+PACKAGE_VERSION='3.8.2'
+PACKAGE_STRING='collectd 3.8.2'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -951,13 +951,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 3.8.1 to adapt to many kinds of systems.
+\`configure' configures collectd 3.8.2 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1017,13 +1017,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 3.8.1:";;
+     short | recursive ) echo "Configuration of collectd 3.8.2:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1193,13 +1193,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit 0
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 3.8.1
+collectd configure 3.8.2
 generated by GNU Autoconf 2.59
 
 Copyright (C) 2003 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -1207,13 +1207,13 @@
 fi
 exec 5>config.log
 cat >&5 <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 3.8.1, which was
+It was created by collectd $as_me 3.8.2, which was
 generated by GNU Autoconf 2.59.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 {
@@ -1853,13 +1853,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='3.8.1'
+ VERSION='3.8.2'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -31242,13 +31242,13 @@
   sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
 ## Running $as_me. ##
 _ASBOX
 } >&5
 cat >&5 <<_CSEOF
 
-This file was extended by collectd $as_me 3.8.1, which was
+This file was extended by collectd $as_me 3.8.2, which was
 generated by GNU Autoconf 2.59.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -31305,13 +31305,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 _ACEOF
 
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 3.8.1
+collectd config.status 3.8.2
 configured by $0, generated by GNU Autoconf 2.59,
   with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2003 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/configure.in	2006-03-14 05:03:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/configure.in	2006-03-14 16:57:04.000000000 +0800
@@ -1,8 +1,8 @@
 dnl Process this file with autoconf to produce a configure script.
-AC_INIT(collectd, 3.8.1)
+AC_INIT(collectd, 3.8.2)
 AC_CONFIG_SRCDIR(src/collectd.c)
 AC_CONFIG_HEADERS(src/config.h)
 AM_INIT_AUTOMAKE(dist-bzip2)
 AC_LANG(C)
 
 AC_PREFIX_DEFAULT("/opt/collectd")
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/debian/changelog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/debian/changelog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/debian/changelog	2006-03-14 05:04:00.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/debian/changelog	2006-03-14 16:57:04.000000000 +0800
@@ -1,6 +1,12 @@
+collectd (3.8.2-1) unstable; urgency=low
+
+  * New upstream version
+
+ -- Florian Forster <octo@verplant.org>  Tue, 14 Mar 2006 09:47:00 +0200
+
 collectd (3.8.1-1) unstable; urgency=low
 
   * New upstream version
 
  -- Florian Forster <octo@verplant.org>  Mon, 13 Mar 2006 21:09:09 +0200
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/src/collectd.1	2006-03-14 05:04:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/src/collectd.1	2006-03-14 16:57:06.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2006-03-13" "3.8.1" "collectd"
+.TH COLLECTD 1 "2006-03-14" "3.8.2" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/src/collectd.conf.5	2006-03-14 05:04:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/src/collectd.conf.5	2006-03-14 16:57:06.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.3
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2006-01-30" "3.7.0" "collectd"
+.TH COLLECTD.CONF 5 "2006-03-14" "3.8.2" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 6
 \&  Mode    Client
@@ -182,13 +182,13 @@
 Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
 and deleted when the program ist stopped. Available in \fBall modes\fR.
 .IP "\fBDataDir\fR \fIDirectory\fR" 4
 .IX Item "DataDir Directory"
 Sets the data directory. This is the directory beneath all RRD-files are
 created. Possibly more subdirectories are created. This is also the working
-directory for the daemon. Available in \fBall modes\fR, though the \fBServer\fR mode
+directory for the daemon. Available in \fBall modes\fR, though the \fBClient\fR mode
 won't write to this directory.
 .IP "\fBLogFile\fR \fIFile\fR" 4
 .IX Item "LogFile File"
 Sets the file to write debugging output to. This is only used if compiled with
 debugging enabled. It's ignored otherwise. Available in \fBall modes\fR.
 .IP "\fBListen\fR \fIHost\fR [\fIPort\fR]" 4
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/src/utils_mount.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/src/utils_mount.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.1/src/utils_mount.c	2006-03-14 05:04:01.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.8.2/src/utils_mount.c	2006-03-14 16:57:06.000000000 +0800
@@ -48,24 +49,32 @@
 #  include <mntent.h>
 #endif
 #if HAVE_SYS_MNTTAB_H
 #  include <sys/mnttab.h>
 #endif
 
-#ifndef MNTTAB
-#  if defined(_PATH_MOUNTED)
-#    define MNTTAB _PATH_MOUNTED
-#  elif defined(MNT_MNTTAB)
-#    define MNTTAB MNT_MNTTAB
-#  elif defined(MNTTABNAME)
-#    define MNTTAB MNTTABNAME
-#  elif defined(KMTAB)
-#    define MNTTAB KMTAB
-#  else
-#    define MNTTAB "/etc/mnttab"
-#  endif
+#if HAVE_PATHS_H
+#  include <paths.h>
+#endif
+
+#ifdef COLLECTD_MNTTAB
+#  undef COLLECTD_MNTTAB
+#endif
+
+#if defined(_PATH_MOUNTED) /* glibc */
+#  define COLLECTD_MNTTAB _PATH_MOUNTED
+#elif defined(MNTTAB) /* Solaris */
+#  define COLLECTD_MNTTAB MNTTAB
+#elif defined(MNT_MNTTAB)
+#  define COLLECTD_MNTTAB MNT_MNTTAB
+#elif defined(MNTTABNAME)
+#  define COLLECTD_MNTTAB MNTTABNAME
+#elif defined(KMTAB)
+#  define COLLECTD_MNTTAB KMTAB
+#else
+#  define COLLECTD_MNTTAB "/etc/mnttab"
 #endif
 
 /* *** *** *** ********************************************* *** *** *** */
 /* *** *** *** *** *** ***   private functions   *** *** *** *** *** *** */
 /* *** *** *** ********************************************* *** *** *** */
 
@@ -359,13 +368,13 @@
 {
 	cu_mount_t *last = *list;
 	struct tabmntent *p;
 	struct mntent *mnt;
 
 	struct tabmntent *mntlist;
-	if(listmntent(&mntlist, MNTTAB, NULL, NULL) < 0) {
+	if(listmntent(&mntlist, COLLECTD_MNTTAB, NULL, NULL) < 0) {
 		DBG("calling listmntent() failed: %s", strerror(errno));
 	}
 
 	for(p = mntlist; p; p = p->next) {
 		char *loop = NULL, *device = NULL;
 
@@ -474,14 +483,19 @@
 	FILE *fp;
 
 	cu_mount_t *first = NULL;
 	cu_mount_t *last  = NULL;
 	cu_mount_t *new   = NULL;
 
-	if ((fp = fopen (MNTTAB, "r")) == NULL)
+	DBG ("(void); COLLECTD_MNTTAB = %s", COLLECTD_MNTTAB);
+
+	if ((fp = fopen (COLLECTD_MNTTAB, "r")) == NULL)
+	{
+		syslog (LOG_ERR, "fopen (%s): %s", COLLECTD_MNTTAB, strerror (errno));
 		return (NULL);
+	}
 
 	while (getmntent (fp, &mt) == 0)
 	{
 		if ((new = malloc (sizeof (cu_mount_t))) == NULL)
 			break;
 		memset (new, '\0', sizeof (cu_mount_t));
@@ -528,14 +542,19 @@
 	struct mntent *me;
 
 	cu_mount_t *first = NULL;
 	cu_mount_t *last  = NULL;
 	cu_mount_t *new   = NULL;
 
-	if ((fp = setmntent (MNTTAB, "r")) == NULL)
+	DBG ("(void); COLLECTD_MNTTAB = %s", COLLECTD_MNTTAB);
+
+	if ((fp = setmntent (COLLECTD_MNTTAB, "r")) == NULL)
+	{
+		syslog (LOG_ERR, "setmntent (%s): %s", COLLECTD_MNTTAB, strerror (errno));
 		return (NULL);
+	}
 
 	while ((me = getmntent (fp)) != NULL)
 	{
 		if ((new = malloc (sizeof (cu_mount_t))) == NULL)
 			break;
 		memset (new, '\0', sizeof (cu_mount_t));
@@ -545,12 +564,15 @@
 		new->spec_device = sstrdup (me->mnt_fsname);
 		new->type        = sstrdup (me->mnt_type);
 		new->options     = sstrdup (me->mnt_opts);
 		new->device      = get_device_name (new->options);
 		new->next        = NULL;
 
+		DBG ("new = {dir = %s, spec_device = %s, type = %s, options = %s, device = %s}",
+				new->dir, new->spec_device, new->type, new->options, new->device);
+
 		/* Append to list */
 		if (first == NULL)
 		{
 			first = new;
 			last  = new;
 		}
@@ -560,12 +582,14 @@
 			last       = new;
 		}
 	}
 
 	endmntent (fp);
 
+	DBG ("return (0x%p)", (void *) first);
+
 	return (first);
 }
 #endif /* HAVE_GETMNTENT */
 
 /* *** *** *** ******************************************** *** *** *** */
 /* *** *** *** *** *** ***   public functions   *** *** *** *** *** *** */
@@ -619,12 +643,14 @@
 
 void cu_mount_freelist (cu_mount_t *list)
 {
 	cu_mount_t *this;
 	cu_mount_t *next;
 
+	DBG ("(list = 0x%p)", (void *) list);
+
 	for (this = list; this != NULL; this = next)
 	{
 		next = this->next;
 
 		sfree (this->dir);
 		sfree (this->spec_device);
