diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/AUTHORS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/AUTHORS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/AUTHORS	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/AUTHORS	2007-01-09 22:05:06.000000000 +0800
@@ -1,24 +1,30 @@
 This package was written by:
   Florian octo Forster <octo at verplant.org>
 
 apcups plugin by:
   Anthony Gialluca <tonyabg at charter.net>
 
-cpufreq module by:
+cpufreq and multimeter module by:
   Peter Holik <peter at holik.at>
 
 hddtemp module by:
-  Vincent Stehlé <vincent.stehle at free.fr>
+  Vincent StehlÃ© <vincent.stehle at free.fr>
+
+mbmon plugin by:
+  Flavio Stanchina <flavio at stanchina.net>
 
 nfs module by:
   Jason Pepas <cell at ices.utexas.edu>
 
 processes module by:
   Lyonel Vincent <lyonel at ezix.org>
 
+sensors plugin has been improved by:
+  LuboÅ¡ StanÄ›k <kolektor at atlas.cz>
+
 serial module by:
   David Bacher <drbacher at gmail.com>
 
 tape module by:
   Scott Garrett <sgarrett at technomancer.com>
 
@@ -40,12 +46,12 @@
 
 The `log' mode has been written by:
   Christophe Kalt <collectd at klb.taranis.org>
 
 Much time and effort to find a nasty bug in the ntpd-plugin has been
 contributed by:
-  Lubos Stanek <lubek at users.sourceforge.net>
+  LuboÅ¡ StanÄ›k <lubek at users.sourceforge.net>
 
 collectd is available at:
   <http://collectd.org/>
 
 Enjoy :)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/ChangeLog	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/ChangeLog	2007-01-09 22:05:06.000000000 +0800
@@ -1,6 +1,32 @@
+2006-12-22, Version 3.11.0
+	* collectd: The new command line option `-P' makes it easier for
+	  distributors to change the location of PID-files.
+	* collectd: The daemon shuts down faster now which makes it easier to
+	  write init.d-scripts for it.
+	* apache plugin: Increase the buffersize to 16k, because the 4k buffer
+	  caused problems every now and then.
+	* df plugin: New config options allow to ignore certain mountpoints,
+	  filesystem types or devices.
+	* dns plugin: The new dns plugin uses `libpcap' to capture DNS traffic
+	  and interprets it. It collects traffic as well as qtype, opcode and
+	  rcode counts.
+	* email plugin: Sebastian Harl has contributed this plugin which
+	  counts received mails in categories (e. g. ham, spam, virus), spam
+	  score (as given by SpamAssassin) and check types.
+	* mbmon plugin: Flavio Stanchina has contributed this plugin which
+	  uses `mbmon' to gather information from sensors on the motherboard.
+	* processes plugin: Collect detailed statistics for configured
+	  processes, that's process and thread count, CPU usage, resident
+	  segment size and pagefaults.
+	* multimeter plugin: Peter Holik contributed a new plugin which
+	  queries multimeters.
+	* sensors plugin: Lubos Stanek has put much effort into improving this
+	  plugin, including `extended naming', collection of voltage values
+	  and the possibility to ignore certain values.
+
 2006-12-21, Version 3.10.4
 	* Max Kellermann has identified a bug in the server routine: When
 	  opening a socket fails the daemon will (re)try opening the socket in
 	  an endless loop, ultimately leading to a `EMFILE' error.
 
 2006-11-04, Version 3.10.3
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/collectd.spec /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/collectd.spec
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/collectd.spec	2006-12-22 03:56:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/collectd.spec	2007-01-09 22:05:06.000000000 +0800
@@ -77,12 +77,13 @@
 %attr(0444,root,root) %{_libdir}/%{name}/cpufreq.so*
 %attr(0444,root,root) %{_libdir}/%{name}/df.so*
 %attr(0444,root,root) %{_libdir}/%{name}/disk.so*
 %attr(0444,root,root) %{_libdir}/%{name}/hddtemp.so*
 %attr(0444,root,root) %{_libdir}/%{name}/load.so*
 %attr(0444,root,root) %{_libdir}/%{name}/memory.so*
+%attr(0444,root,root) %{_libdir}/%{name}/multimeter.so*
 %attr(0444,root,root) %{_libdir}/%{name}/nfs.so*
 %attr(0444,root,root) %{_libdir}/%{name}/ntpd.so*
 %attr(0444,root,root) %{_libdir}/%{name}/ping.so*
 %attr(0444,root,root) %{_libdir}/%{name}/processes.so*
 %attr(0444,root,root) %{_libdir}/%{name}/serial.so*
 %attr(0444,root,root) %{_libdir}/%{name}/swap.so*
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/configure	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/configure	2007-01-09 22:06:15.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.60a for collectd 3.10.4.
+# Generated by GNU Autoconf 2.60a for collectd 3.11.0.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -708,14 +708,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='3.10.4'
-PACKAGE_STRING='collectd 3.10.4'
+PACKAGE_VERSION='3.11.0'
+PACKAGE_STRING='collectd 3.11.0'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -863,12 +863,14 @@
 BUILD_WITH_LIBRT_TRUE
 BUILD_WITH_LIBRT_FALSE
 BUILD_WITH_LIBRESOLV_TRUE
 BUILD_WITH_LIBRESOLV_FALSE
 BUILD_WITH_RRDTOOL_TRUE
 BUILD_WITH_RRDTOOL_FALSE
+BUILD_WITH_LIBPTHREAD_TRUE
+BUILD_WITH_LIBPTHREAD_FALSE
 BUILD_WITH_LIBKSTAT_TRUE
 BUILD_WITH_LIBKSTAT_FALSE
 BUILD_WITH_LIBDEVINFO_TRUE
 BUILD_WITH_LIBDEVINFO_FALSE
 BUILD_WITH_LIBCURL_LIBS
 BUILD_WITH_LIBCURL_TRUE
@@ -886,12 +888,14 @@
 BUILD_WITH_LIBMYSQL_TRUE
 BUILD_WITH_LIBMYSQL_FALSE
 BUILD_WITH_LIBOPING_TRUE
 BUILD_WITH_LIBOPING_FALSE
 BUILD_WITH_OWN_LIBOPING_TRUE
 BUILD_WITH_OWN_LIBOPING_FALSE
+BUILD_WITH_LIBPCAP_TRUE
+BUILD_WITH_LIBPCAP_FALSE
 BUILD_FEATURE_DEBUG_TRUE
 BUILD_FEATURE_DEBUG_FALSE
 BUILD_FEATURE_DAEMON_TRUE
 BUILD_FEATURE_DAEMON_FALSE
 BUILD_FEATURE_GETIFADDRS_TRUE
 BUILD_FEATURE_GETIFADDRS_FALSE
@@ -908,20 +912,28 @@
 BUILD_MODULE_CPUFREQ_TRUE
 BUILD_MODULE_CPUFREQ_FALSE
 BUILD_MODULE_DISK_TRUE
 BUILD_MODULE_DISK_FALSE
 BUILD_MODULE_DF_TRUE
 BUILD_MODULE_DF_FALSE
+BUILD_MODULE_DNS_TRUE
+BUILD_MODULE_DNS_FALSE
+BUILD_MODULE_EMAIL_TRUE
+BUILD_MODULE_EMAIL_FALSE
 BUILD_MODULE_QUOTA_TRUE
 BUILD_MODULE_QUOTA_FALSE
 BUILD_MODULE_HDDTEMP_TRUE
 BUILD_MODULE_HDDTEMP_FALSE
 BUILD_MODULE_LOAD_TRUE
 BUILD_MODULE_LOAD_FALSE
+BUILD_MODULE_MBMON_TRUE
+BUILD_MODULE_MBMON_FALSE
 BUILD_MODULE_MEMORY_TRUE
 BUILD_MODULE_MEMORY_FALSE
+BUILD_MODULE_MULTIMETER_TRUE
+BUILD_MODULE_MULTIMETER_FALSE
 BUILD_MODULE_MYSQL_TRUE
 BUILD_MODULE_MYSQL_FALSE
 BUILD_MODULE_NFS_TRUE
 BUILD_MODULE_NFS_FALSE
 BUILD_MODULE_NTPD_TRUE
 BUILD_MODULE_NTPD_FALSE
@@ -959,13 +971,13 @@
 CXX
 CXXFLAGS
 CCC
 CXXCPP
 F77
 FFLAGS'
-ac_subdirs_all='libltdl src/libconfig'
+ac_subdirs_all='libltdl'
 
 # Initialize some variables set by options.
 ac_init_help=
 ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
@@ -1461,13 +1473,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 3.10.4 to adapt to many kinds of systems.
+\`configure' configures collectd 3.11.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1531,13 +1543,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 3.10.4:";;
+     short | recursive ) echo "Configuration of collectd 3.11.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1561,17 +1573,22 @@
   --disable-battery       disable battery statistics (enabled by def)
   --disable-cpu           disable cpu usage statistics (enabled by def)
   --disable-cpufreq       disable system cpu frequency statistics (enabled by
                           def)
   --disable-disk          disable disk/partition statistics (enabled by def)
   --disable-df            disable df statistics (enabled by def)
+  --disable-dns           disable dns statistics (enabled by def)
+  --disable-email         disable email statistics (enabled by def)
   --enable-quota          enable quota statistics (experimental) (disabled by
                           def)
   --disable-hddtemp       disable hdd temperature statistics (enabled by def)
   --disable-load          disable system load statistics (enabled by def)
+  --disable-mbmon         disable motherboard monitor statistics (enabled by
+                          def)
   --disable-memory        disable memory statistics (enabled by def)
+  --disable-multimeter    disable multimeter statistics (enabled by def)
   --disable-mysql         disable mysql statistics (enabled by def)
   --disable-nfs           disable nfs statistics (enabled by def)
   --disable-ntpd          disable nfs statistics (enabled by def)
   --disable-ping          disable ping statistics (enabled by def)
   --disable-processes     disable processes statistics (enabled by def)
   --disable-sensors       disable lm_sensors statistics (enabled by def)
@@ -1590,21 +1607,24 @@
   --with-pic              try to use only PIC/non-PIC objects [default=use
                           both]
   --with-tags[=TAGS]      include additional configurations [automatic]
 
 collectd additional packages:
   --with-rrdtool[=PREFIX] Path to rrdtool.
+  --with-libpthread=[=PREFIX]
+                          Path to libpthread.
   --with-libcurl[=PREFIX] Path to libcurl.
   --with-libstatgrab[=PREFIX]
                           Path to libstatgrab.
   --with-lm-sensors[=PREFIX]
                           Path to lm_sensors.
   --with-libmysql[=PREFIX]
                           Path to libmysql.
   --with-liboping[=PREFIX]
                           Path to liboping.
+  --with-libpcap[=PREFIX] Path to libpcap.
   --with-step=SECONDS     Interval in which plugins are queried.
   --with-heartbeat=SECONDS
                           Heartbeat of the DS in generated RRD files.
 
 Some influential environment variables:
   CC          C compiler command
@@ -1680,13 +1700,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 3.10.4
+collectd configure 3.11.0
 generated by GNU Autoconf 2.60a
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1694,13 +1714,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 3.10.4, which was
+It was created by collectd $as_me 3.11.0, which was
 generated by GNU Autoconf 2.60a.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2367,13 +2387,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='3.10.4'
+ VERSION='3.11.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -4895,13 +4915,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 4901 "configure"' > conftest.$ac_ext
+  echo '#line 4921 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -7596,17 +7616,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:7602: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:7622: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:7606: \$? = $ac_status" >&5
+   echo "$as_me:7626: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -7864,17 +7884,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:7870: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:7890: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:7874: \$? = $ac_status" >&5
+   echo "$as_me:7894: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -7968,17 +7988,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:7974: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:7994: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:7978: \$? = $ac_status" >&5
+   echo "$as_me:7998: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -10409,13 +10429,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 10415 "configure"
+#line 10435 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -10509,13 +10529,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 10515 "configure"
+#line 10535 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -12877,17 +12897,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:12883: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:12903: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:12887: \$? = $ac_status" >&5
+   echo "$as_me:12907: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -12981,17 +13001,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:12987: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13007: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:12991: \$? = $ac_status" >&5
+   echo "$as_me:13011: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -14542,17 +14562,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14548: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14568: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:14552: \$? = $ac_status" >&5
+   echo "$as_me:14572: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -14646,17 +14666,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14652: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14672: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:14656: \$? = $ac_status" >&5
+   echo "$as_me:14676: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -16865,17 +16885,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:16871: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:16891: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:16875: \$? = $ac_status" >&5
+   echo "$as_me:16895: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -17133,17 +17153,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17139: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17159: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:17143: \$? = $ac_status" >&5
+   echo "$as_me:17163: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -17237,17 +17257,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17243: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17263: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:17247: \$? = $ac_status" >&5
+   echo "$as_me:17267: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -19921,13 +19941,13 @@
 
 
 
 
 
 #AC_PROG_RANLIB
-subdirs="$subdirs libltdl src/libconfig"
+subdirs="$subdirs libltdl"
 
 
 #
 # Checks for header files.
 #
 { echo "$as_me:$LINENO: checking for ANSI C header files" >&5
@@ -28087,12 +28107,178 @@
 
 fi
 
 done
 
 
+# For the processes plugin
+
+for ac_header in linux/config.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
 # For the swap module
 
 for ac_header in sys/swap.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -32452,15 +32638,94 @@
 
 fi
 
 done
 
 
-# For debugging interface (variable number of arguments)
+# For the email plugin
 
-for ac_header in stdarg.h
+for ac_header in linux/un.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#if HAVE_SYS_SOCKET_H
+#	include <sys/socket.h>
+#endif
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+for ac_header in sys/un.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -32618,50 +32883,45 @@
 
 fi
 
 done
 
 
-
-{ echo "$as_me:$LINENO: checking for ext in -lm" >&5
-echo $ECHO_N "checking for ext in -lm... $ECHO_C" >&6; }
-if test "${ac_cv_lib_m_ext+set}" = set; then
+for ac_header in grp.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lm  $LIBS"
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char ext ();
-int
-main ()
-{
-return ext ();
-  ;
-  return 0;
-}
+$ac_includes_default
+#include <$ac_header>
 _ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
@@ -32672,195 +32932,153 @@
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
   (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -s conftest.$ac_objext'
   { (case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
   (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_m_ext=yes
+  ac_header_compiler=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_lib_m_ext=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_m_ext" >&5
-echo "${ECHO_T}$ac_cv_lib_m_ext" >&6; }
-if test $ac_cv_lib_m_ext = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_LIBM 1
-_ACEOF
-
-  LIBS="-lm $LIBS"
-
+	ac_header_compiler=no
 fi
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
-#
-# Checks for typedefs, structures, and compiler characteristics.
-#
-{ echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
-echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6; }
-if test "${ac_cv_c_const+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-int
-main ()
-{
-/* FIXME: Include the comments suggested by Paul. */
-#ifndef __cplusplus
-  /* Ultrix mips cc rejects this.  */
-  typedef int charset[2];
-  const charset cs;
-  /* SunOS 4.1.1 cc rejects this.  */
-  char const *const *pcpcc;
-  char **ppc;
-  /* NEC SVR4.0.2 mips cc rejects this.  */
-  struct point {int x, y;};
-  static struct point const zero = {0,0};
-  /* AIX XL C 1.02.0.0 rejects this.
-     It does not let you subtract one const X* pointer from another in
-     an arm of an if-expression whose if-part is not a constant
-     expression */
-  const char *g = "string";
-  pcpcc = &g + (g ? g-g : 0);
-  /* HPUX 7.0 cc rejects these. */
-  ++pcpcc;
-  ppc = (char**) pcpcc;
-  pcpcc = (char const *const *) ppc;
-  { /* SCO 3.2v4 cc rejects this.  */
-    char *t;
-    char const *s = 0 ? (char *) 0 : (char const *) 0;
-
-    *t++ = 0;
-    if (s) return 0;
-  }
-  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
-    int x[] = {25, 17};
-    const int *foo = &x[0];
-    ++foo;
-  }
-  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
-    typedef const int *iptr;
-    iptr p = 0;
-    ++p;
-  }
-  { /* AIX XL C 1.02.0.0 rejects this saying
-       "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
-    struct s { int j; const int *ap[3]; };
-    struct s *b; b->j = 5;
-  }
-  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
-    const int foo = 10;
-    if (!foo) return 0;
-  }
-  return !cs[0] && !zero.x;
-#endif
-
-  ;
-  return 0;
-}
+#include <$ac_header>
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+if { (ac_try="$ac_cpp conftest.$ac_ext"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
-  { (case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_try") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_try") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_cv_c_const=yes
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_c_const=no
+  ac_header_preproc=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_c_const" >&5
-echo "${ECHO_T}$ac_cv_c_const" >&6; }
-if test $ac_cv_c_const = no; then
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
-cat >>confdefs.h <<\_ACEOF
-#define const
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
-{ echo "$as_me:$LINENO: checking for pid_t" >&5
-echo $ECHO_N "checking for pid_t... $ECHO_C" >&6; }
-if test "${ac_cv_type_pid_t+set}" = set; then
+done
+
+
+# For debugging interface (variable number of arguments)
+
+for ac_header in stdarg.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
-  cat >conftest.$ac_ext <<_ACEOF
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-typedef pid_t ac__type_new_;
-int
-main ()
-{
-if ((ac__type_new_ *) 0)
-  return 0;
-if (sizeof (ac__type_new_))
-  return 0;
-  ;
-  return 0;
-}
+#include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
@@ -32890,23 +33108,1390 @@
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
   (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_type_pid_t=yes
+  ac_header_compiler=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_type_pid_t=no
+	ac_header_compiler=no
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-{ echo "$as_me:$LINENO: result: $ac_cv_type_pid_t" >&5
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+# Regular expressions for the ignorelist.
+
+for ac_header in regex.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+# For the dns plugin
+
+
+for ac_header in arpa/nameser.h arpa/nameser_compat.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+
+for ac_header in net/if_arp.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+for ac_header in net/if_ppp.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+for ac_header in netinet/if_ether.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+for ac_header in netinet/udp.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+
+{ echo "$as_me:$LINENO: checking for ext in -lm" >&5
+echo $ECHO_N "checking for ext in -lm... $ECHO_C" >&6; }
+if test "${ac_cv_lib_m_ext+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lm  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char ext ();
+int
+main ()
+{
+return ext ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_m_ext=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_m_ext=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_m_ext" >&5
+echo "${ECHO_T}$ac_cv_lib_m_ext" >&6; }
+if test $ac_cv_lib_m_ext = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBM 1
+_ACEOF
+
+  LIBS="-lm $LIBS"
+
+fi
+
+
+#
+# Checks for typedefs, structures, and compiler characteristics.
+#
+{ echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
+echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6; }
+if test "${ac_cv_c_const+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+/* FIXME: Include the comments suggested by Paul. */
+#ifndef __cplusplus
+  /* Ultrix mips cc rejects this.  */
+  typedef int charset[2];
+  const charset cs;
+  /* SunOS 4.1.1 cc rejects this.  */
+  char const *const *pcpcc;
+  char **ppc;
+  /* NEC SVR4.0.2 mips cc rejects this.  */
+  struct point {int x, y;};
+  static struct point const zero = {0,0};
+  /* AIX XL C 1.02.0.0 rejects this.
+     It does not let you subtract one const X* pointer from another in
+     an arm of an if-expression whose if-part is not a constant
+     expression */
+  const char *g = "string";
+  pcpcc = &g + (g ? g-g : 0);
+  /* HPUX 7.0 cc rejects these. */
+  ++pcpcc;
+  ppc = (char**) pcpcc;
+  pcpcc = (char const *const *) ppc;
+  { /* SCO 3.2v4 cc rejects this.  */
+    char *t;
+    char const *s = 0 ? (char *) 0 : (char const *) 0;
+
+    *t++ = 0;
+    if (s) return 0;
+  }
+  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
+    int x[] = {25, 17};
+    const int *foo = &x[0];
+    ++foo;
+  }
+  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
+    typedef const int *iptr;
+    iptr p = 0;
+    ++p;
+  }
+  { /* AIX XL C 1.02.0.0 rejects this saying
+       "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
+    struct s { int j; const int *ap[3]; };
+    struct s *b; b->j = 5;
+  }
+  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
+    const int foo = 10;
+    if (!foo) return 0;
+  }
+  return !cs[0] && !zero.x;
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_c_const=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_c_const=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_c_const" >&5
+echo "${ECHO_T}$ac_cv_c_const" >&6; }
+if test $ac_cv_c_const = no; then
+
+cat >>confdefs.h <<\_ACEOF
+#define const
+_ACEOF
+
+fi
+
+{ echo "$as_me:$LINENO: checking for pid_t" >&5
+echo $ECHO_N "checking for pid_t... $ECHO_C" >&6; }
+if test "${ac_cv_type_pid_t+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+typedef pid_t ac__type_new_;
+int
+main ()
+{
+if ((ac__type_new_ *) 0)
+  return 0;
+if (sizeof (ac__type_new_))
+  return 0;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_type_pid_t=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_type_pid_t=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_type_pid_t" >&5
 echo "${ECHO_T}$ac_cv_type_pid_t" >&6; }
 if test $ac_cv_type_pid_t = yes; then
   :
 else
 
 cat >>confdefs.h <<_ACEOF
@@ -34142,12 +35727,127 @@
 else
   BUILD_WITH_LIBRT_TRUE='#'
   BUILD_WITH_LIBRT_FALSE=
 fi
 
 
+# Regular expressions for the ignorelist.
+
+
+
+
+for ac_func in regcomp regerror regexec regfree
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
+
+int
+main ()
+{
+return $ac_func ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  eval "$as_ac_var=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_var=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+done
+
+
 # For cpu module
 
 for ac_func in sysctlbyname
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
@@ -36932,74 +38632,376 @@
   (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
   ac_cv_lib_resolv_res_search=yes
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_lib_resolv_res_search=no
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_resolv_res_search=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_resolv_res_search" >&5
+echo "${ECHO_T}$ac_cv_lib_resolv_res_search" >&6; }
+if test $ac_cv_lib_resolv_res_search = yes; then
+
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBRESOLV 1
+_ACEOF
+
+
+else
+  with_libresolv="no"
+fi
+
+
+
+if test "x$with_libresolv" = "xyes"; then
+  BUILD_WITH_LIBRESOLV_TRUE=
+  BUILD_WITH_LIBRESOLV_FALSE='#'
+else
+  BUILD_WITH_LIBRESOLV_TRUE='#'
+  BUILD_WITH_LIBRESOLV_FALSE=
+fi
+
+
+
+
+
+# AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
+
+# Check whether --with-rrdtool was given.
+if test "${with_rrdtool+set}" = set; then
+  withval=$with_rrdtool; 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_rrdtool="yes"
+	fi
+
+else
+  with_rrdtool="yes"
+fi
+
+if test "x$with_rrdtool" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for rrd_update in -lrrd" >&5
+echo $ECHO_N "checking for rrd_update in -lrrd... $ECHO_C" >&6; }
+if test "${ac_cv_lib_rrd_rrd_update+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lrrd -lm $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rrd_update ();
+int
+main ()
+{
+return rrd_update ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_rrd_rrd_update=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_rrd_rrd_update=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_rrd_rrd_update" >&5
+echo "${ECHO_T}$ac_cv_lib_rrd_rrd_update" >&6; }
+if test $ac_cv_lib_rrd_rrd_update = yes; then
+
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBRRD 1
+_ACEOF
+
+
+else
+  with_rrdtool="no (librrd not found)"
+fi
+
+fi
+if test "x$with_rrdtool" = "xyes"
+then
+
+for ac_header in rrd.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
 fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_resolv_res_search" >&5
-echo "${ECHO_T}$ac_cv_lib_resolv_res_search" >&6; }
-if test $ac_cv_lib_resolv_res_search = yes; then
-
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBRESOLV 1
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
-
 else
-  with_libresolv="no"
+  with_rrdtool="no (rrd.h not found)"
 fi
 
+done
 
-
-if test "x$with_libresolv" = "xyes"; then
-  BUILD_WITH_LIBRESOLV_TRUE=
-  BUILD_WITH_LIBRESOLV_FALSE='#'
+fi
+if test "x$with_rrdtool" = "xyes"
+then
+	collect_rrdtool=1
 else
-  BUILD_WITH_LIBRESOLV_TRUE='#'
-  BUILD_WITH_LIBRESOLV_FALSE=
+	collect_rrdtool=0
 fi
 
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_RRDTOOL $collect_rrdtool
+_ACEOF
+
 
 
+if test "x$with_rrdtool" = "xyes"; then
+  BUILD_WITH_RRDTOOL_TRUE=
+  BUILD_WITH_RRDTOOL_FALSE='#'
+else
+  BUILD_WITH_RRDTOOL_TRUE='#'
+  BUILD_WITH_RRDTOOL_FALSE=
+fi
 
 
-# AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
 
-# Check whether --with-rrdtool was given.
-if test "${with_rrdtool+set}" = set; then
-  withval=$with_rrdtool; 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+# Check whether --with-libpthread was given.
+if test "${with_libpthread+set}" = set; then
+  withval=$with_libpthread; 	if test "x$withval" != "xno" -a "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
-		with_rrdtool="yes"
+		with_libpthread="yes"
+	else
+		if test "x$withval" = "xno"
+		then
+			with_libpthread="no (disabled)"
+		fi
 	fi
 
 else
-  with_rrdtool="yes"
+  with_libpthread="yes"
 fi
 
-if test "x$with_rrdtool" = "xyes"
+if test "x$with_libpthread" = "xyes"
 then
-	{ echo "$as_me:$LINENO: checking for rrd_update in -lrrd" >&5
-echo $ECHO_N "checking for rrd_update in -lrrd... $ECHO_C" >&6; }
-if test "${ac_cv_lib_rrd_rrd_update+set}" = set; then
+	{ echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
+echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6; }
+if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrrd -lm $LIBS"
+LIBS="-lpthread  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
@@ -37007,17 +39009,17 @@
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char rrd_update ();
+char pthread_create ();
 int
 main ()
 {
-return rrd_update ();
+return pthread_create ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -37050,43 +39052,37 @@
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
   (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_rrd_rrd_update=yes
+  ac_cv_lib_pthread_pthread_create=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_lib_rrd_rrd_update=no
+	ac_cv_lib_pthread_pthread_create=no
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_rrd_rrd_update" >&5
-echo "${ECHO_T}$ac_cv_lib_rrd_rrd_update" >&6; }
-if test $ac_cv_lib_rrd_rrd_update = yes; then
-
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBRRD 1
-_ACEOF
-
-
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_pthread_pthread_create" >&5
+echo "${ECHO_T}$ac_cv_lib_pthread_pthread_create" >&6; }
+if test $ac_cv_lib_pthread_pthread_create = yes; then
+  with_libpthread="yes"
 else
-  with_rrdtool="no (librrd not found)"
+  with_libpthread="no (libpthread not found)"
 fi
 
 fi
-if test "x$with_rrdtool" = "xyes"
+if test "x$with_libpthread" = "xyes"
 then
 
-for ac_header in rrd.h
+for ac_header in pthread.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -37240,66 +39236,40 @@
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 else
-  with_rrdtool="no (rrd.h not found)"
+  with_libpthread="no (pthread.h not found)"
 fi
 
 done
 
 fi
-if test "x$with_rrdtool" = "xyes"
+if test "x$with_libpthread" = "xyes"
 then
-	collect_rrdtool=1
+	collect_pthread=1
 else
-	collect_rrdtool=0
+	collect_pthread=0
 fi
 
 cat >>confdefs.h <<_ACEOF
-#define COLLECT_RRDTOOL $collect_rrdtool
+#define HAVE_LIBPTHREAD $collect_pthread
 _ACEOF
 
 
 
-if test "x$with_rrdtool" = "xyes"; then
-  BUILD_WITH_RRDTOOL_TRUE=
-  BUILD_WITH_RRDTOOL_FALSE='#'
+if test "x$with_libpthread" = "xyes"; then
+  BUILD_WITH_LIBPTHREAD_TRUE=
+  BUILD_WITH_LIBPTHREAD_FALSE='#'
 else
-  BUILD_WITH_RRDTOOL_TRUE='#'
-  BUILD_WITH_RRDTOOL_FALSE=
+  BUILD_WITH_LIBPTHREAD_TRUE='#'
+  BUILD_WITH_LIBPTHREAD_FALSE=
 fi
 
 
-#AC_ARG_WITH(pth, [AS_HELP_STRING([--with-pth=[=PREFIX]], [Path to pth (experimental).]),
-#[	if test "x$withval" != "xno" && test "x$withval" != "xyes"
-#	then
-#		LDFLAGS="$LDFLAGS -L$withval/lib"
-#		CPPFLAGS="$CPPFLAGS -I$withval/include"
-#		with_pth="yes"
-#	fi
-#], [with_pth="no"])
-#if test "x$with_pth" = "xyes"
-#then
-#	AC_CHECK_LIB(pth, pth_init,, [with_pth="no (libpth not found)"], [])
-#fi
-#if test "x$with_pth" = "xyes"
-#then
-#	AC_CHECK_HEADERS(pth.h,, [with_pth="no (pth.h not found)"])
-#fi
-#if test "x$with_pth" = "xyes"
-#then
-#	collect_pth=1
-#else
-#	collect_pth=0
-#fi
-#AC_DEFINE_UNQUOTED(COLLECT_PTH, [$collect_pth],
-#	[Wether or not to use pth (portable threads) library])
-#AM_CONDITIONAL(BUILD_WITH_PTH, test "x$with_pth" = "xyes")
-
 if test "$ac_system" = "Solaris"
 then
 	with_kstat="yes"
 	with_devinfo="yes"
 else
 	with_kstat="no (Solaris only)"
@@ -39230,12 +41200,318 @@
 
 if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
+
+# Check whether --with-libpcap was given.
+if test "${with_libpcap+set}" = set; then
+  withval=$with_libpcap;
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libpcap="yes"
+	fi
+
+else
+
+	with_libpcap="yes"
+
+fi
+
+if test "x$with_libpcap" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for pcap_open_live in -lpcap" >&5
+echo $ECHO_N "checking for pcap_open_live in -lpcap... $ECHO_C" >&6; }
+if test "${ac_cv_lib_pcap_pcap_open_live+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lpcap  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char pcap_open_live ();
+int
+main ()
+{
+return pcap_open_live ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_pcap_pcap_open_live=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_pcap_pcap_open_live=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_pcap_pcap_open_live" >&5
+echo "${ECHO_T}$ac_cv_lib_pcap_pcap_open_live" >&6; }
+if test $ac_cv_lib_pcap_pcap_open_live = yes; then
+
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBPCAP 1
+_ACEOF
+
+
+else
+  with_libpcap="no (libpcap not found)"
+fi
+
+fi
+if test "x$with_libpcap" = "xyes"
+then
+
+for ac_header in pcap.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PCAP_H 1
+_ACEOF
+
+
+else
+  with_libpcap="no (pcap.h not found)"
+fi
+
+done
+
+fi
+if test "x$with_libpcap" = "xyes"
+then
+	collect_libpcap=1
+else
+	collect_libpcap=0
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_LIBPCAP $collect_libpcap
+_ACEOF
+
+
+
+if test "x$with_libpcap" = "xyes"; then
+  BUILD_WITH_LIBPCAP_TRUE=
+  BUILD_WITH_LIBPCAP_FALSE='#'
+else
+  BUILD_WITH_LIBPCAP_TRUE='#'
+  BUILD_WITH_LIBPCAP_FALSE=
+fi
+
+
 # Define `step' and `hearbeat' values..
 declare -i collectd_step=10
 declare -i collectd_heartbeat=25
 
 # Check whether --with-step was given.
 if test "${with_step+set}" = set; then
@@ -39282,13 +41558,12 @@
 cat >>confdefs.h <<_ACEOF
 #define COLLECTD_HEARTBEAT "$collectd_heartbeat"
 _ACEOF
 
 fi
 
-#
 # Check for enabled/disabled features
 #
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
 # ------------------------------------------------------------
 
@@ -39702,12 +41977,86 @@
 else
   BUILD_MODULE_DF_TRUE='#'
   BUILD_MODULE_DF_FALSE=
 fi
 
 
+																	# Check whether --enable-dns was given.
+if test "${enable_dns+set}" = set; then
+  enableval=$enable_dns;
+else
+  enable_dns='yes'
+fi
+# AC_ARG_ENABLE
+if test "x$enable_dns" = "xno"
+then
+	collectd_dns=0
+else
+	if test "x$enable_dns" = "xyes"
+	then
+		collectd_dns=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-dns or --disable-dns; enabling dns." >&5
+echo "$as_me: please specify either --enable-dns or --disable-dns; enabling dns." >&6;}
+		collectd_dns=1
+		enable_dns='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_DNS $collectd_dns
+_ACEOF
+
+
+
+if test "x$enable_dns" = "xyes"; then
+  BUILD_MODULE_DNS_TRUE=
+  BUILD_MODULE_DNS_FALSE='#'
+else
+  BUILD_MODULE_DNS_TRUE='#'
+  BUILD_MODULE_DNS_FALSE=
+fi
+
+
+																	# Check whether --enable-email was given.
+if test "${enable_email+set}" = set; then
+  enableval=$enable_email;
+else
+  enable_email='yes'
+fi
+# AC_ARG_ENABLE
+if test "x$enable_email" = "xno"
+then
+	collectd_email=0
+else
+	if test "x$enable_email" = "xyes"
+	then
+		collectd_email=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-email or --disable-email; enabling email." >&5
+echo "$as_me: please specify either --enable-email or --disable-email; enabling email." >&6;}
+		collectd_email=1
+		enable_email='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_EMAIL $collectd_email
+_ACEOF
+
+
+
+if test "x$enable_email" = "xyes"; then
+  BUILD_MODULE_EMAIL_TRUE=
+  BUILD_MODULE_EMAIL_FALSE='#'
+else
+  BUILD_MODULE_EMAIL_TRUE='#'
+  BUILD_MODULE_EMAIL_FALSE=
+fi
+
+
 											# Check whether --enable-quota was given.
 if test "${enable_quota+set}" = set; then
   enableval=$enable_quota;
 else
   enable_quota='no'
 fi
@@ -39813,12 +42162,49 @@
 else
   BUILD_MODULE_LOAD_TRUE='#'
   BUILD_MODULE_LOAD_FALSE=
 fi
 
 
+																	# Check whether --enable-mbmon was given.
+if test "${enable_mbmon+set}" = set; then
+  enableval=$enable_mbmon;
+else
+  enable_mbmon='yes'
+fi
+# AC_ARG_ENABLE
+if test "x$enable_mbmon" = "xno"
+then
+	collectd_mbmon=0
+else
+	if test "x$enable_mbmon" = "xyes"
+	then
+		collectd_mbmon=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-mbmon or --disable-mbmon; enabling mbmon." >&5
+echo "$as_me: please specify either --enable-mbmon or --disable-mbmon; enabling mbmon." >&6;}
+		collectd_mbmon=1
+		enable_mbmon='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_MBMON $collectd_mbmon
+_ACEOF
+
+
+
+if test "x$enable_mbmon" = "xyes"; then
+  BUILD_MODULE_MBMON_TRUE=
+  BUILD_MODULE_MBMON_FALSE='#'
+else
+  BUILD_MODULE_MBMON_TRUE='#'
+  BUILD_MODULE_MBMON_FALSE=
+fi
+
+
 																	# Check whether --enable-memory was given.
 if test "${enable_memory+set}" = set; then
   enableval=$enable_memory;
 else
   enable_memory='yes'
 fi
@@ -39850,12 +42236,49 @@
 else
   BUILD_MODULE_MEMORY_TRUE='#'
   BUILD_MODULE_MEMORY_FALSE=
 fi
 
 
+																	# Check whether --enable-multimeter was given.
+if test "${enable_multimeter+set}" = set; then
+  enableval=$enable_multimeter;
+else
+  enable_multimeter='yes'
+fi
+# AC_ARG_ENABLE
+if test "x$enable_multimeter" = "xno"
+then
+	collectd_multimeter=0
+else
+	if test "x$enable_multimeter" = "xyes"
+	then
+		collectd_multimeter=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-multimeter or --disable-multimeter; enabling multimeter." >&5
+echo "$as_me: please specify either --enable-multimeter or --disable-multimeter; enabling multimeter." >&6;}
+		collectd_multimeter=1
+		enable_multimeter='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_MULTIMETER $collectd_multimeter
+_ACEOF
+
+
+
+if test "x$enable_multimeter" = "xyes"; then
+  BUILD_MODULE_MULTIMETER_TRUE=
+  BUILD_MODULE_MULTIMETER_FALSE='#'
+else
+  BUILD_MODULE_MULTIMETER_TRUE='#'
+  BUILD_MODULE_MULTIMETER_FALSE=
+fi
+
+
 																	# Check whether --enable-mysql was given.
 if test "${enable_mysql+set}" = set; then
   enableval=$enable_mysql;
 else
   enable_mysql='yes'
 fi
@@ -40485,12 +42908,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_RRDTOOL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_RRDTOOL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_WITH_LIBPTHREAD_TRUE}" && test -z "${BUILD_WITH_LIBPTHREAD_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBPTHREAD\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBPTHREAD\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_WITH_LIBKSTAT_TRUE}" && test -z "${BUILD_WITH_LIBKSTAT_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBKSTAT\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBKSTAT\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -40562,12 +42992,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_OWN_LIBOPING\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_OWN_LIBOPING\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_WITH_LIBPCAP_TRUE}" && test -z "${BUILD_WITH_LIBPCAP_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBPCAP\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBPCAP\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_FEATURE_DEBUG_TRUE}" && test -z "${BUILD_FEATURE_DEBUG_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_FEATURE_DEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_FEATURE_DEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -40639,12 +43076,26 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DF\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_DF\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_MODULE_DNS_TRUE}" && test -z "${BUILD_MODULE_DNS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DNS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_DNS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_MODULE_EMAIL_TRUE}" && test -z "${BUILD_MODULE_EMAIL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_EMAIL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_EMAIL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_MODULE_QUOTA_TRUE}" && test -z "${BUILD_MODULE_QUOTA_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_QUOTA\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_QUOTA\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -40660,19 +43111,33 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_MODULE_MBMON_TRUE}" && test -z "${BUILD_MODULE_MBMON_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MBMON\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_MBMON\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_MODULE_MEMORY_TRUE}" && test -z "${BUILD_MODULE_MEMORY_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_MODULE_MULTIMETER_TRUE}" && test -z "${BUILD_MODULE_MULTIMETER_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MULTIMETER\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_MULTIMETER\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_MODULE_MYSQL_TRUE}" && test -z "${BUILD_MODULE_MYSQL_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_MYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -41045,13 +43510,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 3.10.4, which was
+This file was extended by collectd $as_me 3.11.0, which was
 generated by GNU Autoconf 2.60a.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -41098,13 +43563,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 3.10.4
+collectd config.status 3.11.0
 configured by $0, generated by GNU Autoconf 2.60a,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -41434,12 +43899,14 @@
 BUILD_WITH_LIBRT_TRUE!$BUILD_WITH_LIBRT_TRUE$ac_delim
 BUILD_WITH_LIBRT_FALSE!$BUILD_WITH_LIBRT_FALSE$ac_delim
 BUILD_WITH_LIBRESOLV_TRUE!$BUILD_WITH_LIBRESOLV_TRUE$ac_delim
 BUILD_WITH_LIBRESOLV_FALSE!$BUILD_WITH_LIBRESOLV_FALSE$ac_delim
 BUILD_WITH_RRDTOOL_TRUE!$BUILD_WITH_RRDTOOL_TRUE$ac_delim
 BUILD_WITH_RRDTOOL_FALSE!$BUILD_WITH_RRDTOOL_FALSE$ac_delim
+BUILD_WITH_LIBPTHREAD_TRUE!$BUILD_WITH_LIBPTHREAD_TRUE$ac_delim
+BUILD_WITH_LIBPTHREAD_FALSE!$BUILD_WITH_LIBPTHREAD_FALSE$ac_delim
 BUILD_WITH_LIBKSTAT_TRUE!$BUILD_WITH_LIBKSTAT_TRUE$ac_delim
 BUILD_WITH_LIBKSTAT_FALSE!$BUILD_WITH_LIBKSTAT_FALSE$ac_delim
 BUILD_WITH_LIBDEVINFO_TRUE!$BUILD_WITH_LIBDEVINFO_TRUE$ac_delim
 BUILD_WITH_LIBDEVINFO_FALSE!$BUILD_WITH_LIBDEVINFO_FALSE$ac_delim
 BUILD_WITH_LIBCURL_LIBS!$BUILD_WITH_LIBCURL_LIBS$ac_delim
 BUILD_WITH_LIBCURL_TRUE!$BUILD_WITH_LIBCURL_TRUE$ac_delim
@@ -41457,12 +43924,14 @@
 BUILD_WITH_LIBMYSQL_TRUE!$BUILD_WITH_LIBMYSQL_TRUE$ac_delim
 BUILD_WITH_LIBMYSQL_FALSE!$BUILD_WITH_LIBMYSQL_FALSE$ac_delim
 BUILD_WITH_LIBOPING_TRUE!$BUILD_WITH_LIBOPING_TRUE$ac_delim
 BUILD_WITH_LIBOPING_FALSE!$BUILD_WITH_LIBOPING_FALSE$ac_delim
 BUILD_WITH_OWN_LIBOPING_TRUE!$BUILD_WITH_OWN_LIBOPING_TRUE$ac_delim
 BUILD_WITH_OWN_LIBOPING_FALSE!$BUILD_WITH_OWN_LIBOPING_FALSE$ac_delim
+BUILD_WITH_LIBPCAP_TRUE!$BUILD_WITH_LIBPCAP_TRUE$ac_delim
+BUILD_WITH_LIBPCAP_FALSE!$BUILD_WITH_LIBPCAP_FALSE$ac_delim
 BUILD_FEATURE_DEBUG_TRUE!$BUILD_FEATURE_DEBUG_TRUE$ac_delim
 BUILD_FEATURE_DEBUG_FALSE!$BUILD_FEATURE_DEBUG_FALSE$ac_delim
 BUILD_FEATURE_DAEMON_TRUE!$BUILD_FEATURE_DAEMON_TRUE$ac_delim
 BUILD_FEATURE_DAEMON_FALSE!$BUILD_FEATURE_DAEMON_FALSE$ac_delim
 BUILD_FEATURE_GETIFADDRS_TRUE!$BUILD_FEATURE_GETIFADDRS_TRUE$ac_delim
 BUILD_FEATURE_GETIFADDRS_FALSE!$BUILD_FEATURE_GETIFADDRS_FALSE$ac_delim
@@ -41479,20 +43948,28 @@
 BUILD_MODULE_CPUFREQ_TRUE!$BUILD_MODULE_CPUFREQ_TRUE$ac_delim
 BUILD_MODULE_CPUFREQ_FALSE!$BUILD_MODULE_CPUFREQ_FALSE$ac_delim
 BUILD_MODULE_DISK_TRUE!$BUILD_MODULE_DISK_TRUE$ac_delim
 BUILD_MODULE_DISK_FALSE!$BUILD_MODULE_DISK_FALSE$ac_delim
 BUILD_MODULE_DF_TRUE!$BUILD_MODULE_DF_TRUE$ac_delim
 BUILD_MODULE_DF_FALSE!$BUILD_MODULE_DF_FALSE$ac_delim
+BUILD_MODULE_DNS_TRUE!$BUILD_MODULE_DNS_TRUE$ac_delim
+BUILD_MODULE_DNS_FALSE!$BUILD_MODULE_DNS_FALSE$ac_delim
+BUILD_MODULE_EMAIL_TRUE!$BUILD_MODULE_EMAIL_TRUE$ac_delim
+BUILD_MODULE_EMAIL_FALSE!$BUILD_MODULE_EMAIL_FALSE$ac_delim
 BUILD_MODULE_QUOTA_TRUE!$BUILD_MODULE_QUOTA_TRUE$ac_delim
 BUILD_MODULE_QUOTA_FALSE!$BUILD_MODULE_QUOTA_FALSE$ac_delim
 BUILD_MODULE_HDDTEMP_TRUE!$BUILD_MODULE_HDDTEMP_TRUE$ac_delim
 BUILD_MODULE_HDDTEMP_FALSE!$BUILD_MODULE_HDDTEMP_FALSE$ac_delim
 BUILD_MODULE_LOAD_TRUE!$BUILD_MODULE_LOAD_TRUE$ac_delim
 BUILD_MODULE_LOAD_FALSE!$BUILD_MODULE_LOAD_FALSE$ac_delim
+BUILD_MODULE_MBMON_TRUE!$BUILD_MODULE_MBMON_TRUE$ac_delim
+BUILD_MODULE_MBMON_FALSE!$BUILD_MODULE_MBMON_FALSE$ac_delim
 BUILD_MODULE_MEMORY_TRUE!$BUILD_MODULE_MEMORY_TRUE$ac_delim
 BUILD_MODULE_MEMORY_FALSE!$BUILD_MODULE_MEMORY_FALSE$ac_delim
+BUILD_MODULE_MULTIMETER_TRUE!$BUILD_MODULE_MULTIMETER_TRUE$ac_delim
+BUILD_MODULE_MULTIMETER_FALSE!$BUILD_MODULE_MULTIMETER_FALSE$ac_delim
 BUILD_MODULE_MYSQL_TRUE!$BUILD_MODULE_MYSQL_TRUE$ac_delim
 BUILD_MODULE_MYSQL_FALSE!$BUILD_MODULE_MYSQL_FALSE$ac_delim
 BUILD_MODULE_NFS_TRUE!$BUILD_MODULE_NFS_TRUE$ac_delim
 BUILD_MODULE_NFS_FALSE!$BUILD_MODULE_NFS_FALSE$ac_delim
 BUILD_MODULE_NTPD_TRUE!$BUILD_MODULE_NTPD_TRUE$ac_delim
 BUILD_MODULE_NTPD_FALSE!$BUILD_MODULE_NTPD_FALSE$ac_delim
@@ -41503,12 +43980,53 @@
 BUILD_MODULE_SENSORS_TRUE!$BUILD_MODULE_SENSORS_TRUE$ac_delim
 BUILD_MODULE_SENSORS_FALSE!$BUILD_MODULE_SENSORS_FALSE$ac_delim
 BUILD_MODULE_SERIAL_TRUE!$BUILD_MODULE_SERIAL_TRUE$ac_delim
 BUILD_MODULE_SERIAL_FALSE!$BUILD_MODULE_SERIAL_FALSE$ac_delim
 BUILD_MODULE_SWAP_TRUE!$BUILD_MODULE_SWAP_TRUE$ac_delim
 BUILD_MODULE_SWAP_FALSE!$BUILD_MODULE_SWAP_FALSE$ac_delim
+_ACEOF
+
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
+fi
+
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-2.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+CEOF$ac_eof
+_ACEOF
+
+
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
 BUILD_MODULE_TAPE_TRUE!$BUILD_MODULE_TAPE_TRUE$ac_delim
 BUILD_MODULE_TAPE_FALSE!$BUILD_MODULE_TAPE_FALSE$ac_delim
 BUILD_MODULE_TRAFFIC_TRUE!$BUILD_MODULE_TRAFFIC_TRUE$ac_delim
 BUILD_MODULE_TRAFFIC_FALSE!$BUILD_MODULE_TRAFFIC_FALSE$ac_delim
 BUILD_MODULE_USERS_TRUE!$BUILD_MODULE_USERS_TRUE$ac_delim
 BUILD_MODULE_USERS_FALSE!$BUILD_MODULE_USERS_FALSE$ac_delim
@@ -41517,13 +44035,13 @@
 BUILD_MODULE_WIRELESS_TRUE!$BUILD_MODULE_WIRELESS_TRUE$ac_delim
 BUILD_MODULE_WIRELESS_FALSE!$BUILD_MODULE_WIRELESS_FALSE$ac_delim
 LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 12; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
@@ -41535,26 +44053,28 @@
 if test -n "$ac_eof"; then
   ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
   ac_eof=`expr $ac_eof + 1`
 fi
 
 cat >>$CONFIG_STATUS <<_ACEOF
-cat >"\$tmp/subs-2.sed" <<\CEOF$ac_eof
-/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+cat >"\$tmp/subs-3.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b end
 _ACEOF
 sed '
 s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
 s/^/s,@/; s/!/@,|#_!!_#|/
 :n
 t n
 s/'"$ac_delim"'$/,g/; t
 s/$/\\/; p
 N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
 ' >>$CONFIG_STATUS <conf$$subs.sed
 rm -f conf$$subs.sed
 cat >>$CONFIG_STATUS <<_ACEOF
+:end
+s/|#_!!_#|//g
 CEOF$ac_eof
 _ACEOF
 
 
 # VPATH may cause trouble with some makes, so we remove $(srcdir),
 # ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
@@ -41796,13 +44316,13 @@
 s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
 s&@builddir@&$ac_builddir&;t t
 s&@abs_builddir@&$ac_abs_builddir&;t t
 s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
 s&@INSTALL@&$ac_INSTALL&;t t
 $ac_datarootdir_hack
-" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" | sed 's/|#_!!_#|//g' >$tmp/out
+" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" | sed -f "$tmp/subs-3.sed" >$tmp/out
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
   { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
   { echo "$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
 which seems to be undefined.  Please make sure it is defined." >&5
@@ -42294,12 +44814,14 @@
     liboping  . . . . . $with_liboping
     librrd  . . . . . . $with_rrdtool
     lm_sensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libkstat  . . . . . $with_kstat
     libmysql  . . . . . $with_libmysql
+    libpcap . . . . . . $with_libpcap
+    libpthread  . . . . $with_libpthread
 
   Features:
     debug . . . . . . . $enable_debug
     daemon mode . . . . $enable_daemon
     step  . . . . . . . $collectd_step seconds
     heartbeat . . . . . $collectd_heartbeat seconds
@@ -42310,15 +44832,19 @@
     apple_sensors . . . $enable_apple_sensors
     battery . . . . . . $enable_battery
     cpu . . . . . . . . $enable_cpu
     cpufreq . . . . . . $enable_cpufreq
     df  . . . . . . . . $enable_df
     disk  . . . . . . . $enable_disk
+    dns . . . . . . . . $enable_dns
+    email . . . . . . . $enable_email
     hddtemp . . . . . . $enable_hddtemp
     load  . . . . . . . $enable_load
+    mbmon . . . . . . . $enable_mbmon
     memory  . . . . . . $enable_memory
+    multimeter  . . . . $enable_multimeter
     mysql . . . . . . . $enable_mysql
     nfs . . . . . . . . $enable_nfs
     ntpd  . . . . . . . $enable_ntpd
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     sensors . . . . . . $enable_sensors
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/configure.in	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/configure.in	2007-01-09 22:05:06.000000000 +0800
@@ -1,8 +1,8 @@
 dnl Process this file with autoconf to produce a configure script.
-AC_INIT(collectd, 3.10.4)
+AC_INIT(collectd, 3.11.0)
 AC_CONFIG_SRCDIR(src/collectd.c)
 AC_CONFIG_HEADERS(src/config.h)
 AM_INIT_AUTOMAKE(dist-bzip2)
 AC_LANG(C)
 
 AC_PREFIX_DEFAULT("/opt/collectd")
@@ -22,13 +22,13 @@
 AC_LIBLTDL_CONVENIENCE
 AC_SUBST(LTDLINCL)
 AC_SUBST(LIBLTDL)
 AC_LIBTOOL_DLOPEN
 AC_PROG_LIBTOOL
 #AC_PROG_RANLIB
-AC_CONFIG_SUBDIRS(libltdl src/libconfig)
+AC_CONFIG_SUBDIRS(libltdl)
 
 #
 # Checks for header files.
 #
 AC_HEADER_STDC
 AC_HEADER_SYS_WAIT
@@ -194,12 +194,15 @@
 AC_CHECK_HEADERS(IOKit/IOBSD.h)
 AC_CHECK_HEADERS(IOKit/storage/IOBlockStorageDriver.h)
 
 # For load module
 AC_CHECK_HEADERS(sys/loadavg.h)
 
+# For the processes plugin
+AC_CHECK_HEADERS(linux/config.h)
+
 # For the swap module
 AC_CHECK_HEADERS(sys/swap.h)
 
 # For users module
 AC_CHECK_HEADERS(utmp.h)
 AC_CHECK_HEADERS(utmpx.h)
@@ -263,15 +266,36 @@
 AC_CHECK_HEADERS(sys/vfs.h)
 AC_CHECK_HEADERS(sys/vfstab.h)
 
 # For the swap plugin, FreeBSD
 AC_CHECK_HEADERS(kvm.h)
 
+# For the email plugin
+AC_CHECK_HEADERS(linux/un.h, [], [],
+[
+#if HAVE_SYS_SOCKET_H
+#	include <sys/socket.h>
+#endif
+])
+AC_CHECK_HEADERS(sys/un.h)
+AC_CHECK_HEADERS(grp.h)
+
 # For debugging interface (variable number of arguments)
 AC_CHECK_HEADERS(stdarg.h)
 
+# Regular expressions for the ignorelist.
+AC_CHECK_HEADERS(regex.h)
+
+# For the dns plugin
+AC_CHECK_HEADERS(arpa/nameser.h arpa/nameser_compat.h)
+
+AC_CHECK_HEADERS(net/if_arp.h)
+AC_CHECK_HEADERS(net/if_ppp.h)
+AC_CHECK_HEADERS(netinet/if_ether.h)
+AC_CHECK_HEADERS(netinet/udp.h)
+
 dnl Checking for libraries
 AC_CHECK_LIB(m, ext)
 
 #
 # Checks for typedefs, structures, and compiler characteristics.
 #
@@ -296,12 +320,15 @@
 AM_CONDITIONAL(BUILD_WITH_LIBSOCKET, test "x$socket_needs_socket" = "xyes")
 
 nanosleep_needs_rt="no"
 AC_CHECK_FUNCS(nanosleep, [], AC_CHECK_LIB(rt, nanosleep, [nanosleep_needs_rt="yes"], AC_MSG_ERROR(cannot find nanosleep)))
 AM_CONDITIONAL(BUILD_WITH_LIBRT, test "x$nanosleep_needs_rt" = "xyes")
 
+# Regular expressions for the ignorelist.
+AC_CHECK_FUNCS(regcomp regerror regexec regfree)
+
 # For cpu module
 AC_CHECK_FUNCS(sysctlbyname, [have_sysctlbyname="yes"], [have_sysctlbyname="no"])
 
 # For df module
 AC_CHECK_FUNCS(statfs statvfs)
 
@@ -480,37 +507,42 @@
 	collect_rrdtool=0
 fi
 AC_DEFINE_UNQUOTED(COLLECT_RRDTOOL, [$collect_rrdtool],
 	[Wether or not to use rrdtool library])
 AM_CONDITIONAL(BUILD_WITH_RRDTOOL, test "x$with_rrdtool" = "xyes")
 
-#AC_ARG_WITH(pth, [AS_HELP_STRING([--with-pth=@<:@=PREFIX@:>@], [Path to pth (experimental).]),
-#[	if test "x$withval" != "xno" && test "x$withval" != "xyes"
-#	then
-#		LDFLAGS="$LDFLAGS -L$withval/lib"
-#		CPPFLAGS="$CPPFLAGS -I$withval/include"
-#		with_pth="yes"
-#	fi
-#], [with_pth="no"])
-#if test "x$with_pth" = "xyes"
-#then
-#	AC_CHECK_LIB(pth, pth_init,, [with_pth="no (libpth not found)"], [])
-#fi
-#if test "x$with_pth" = "xyes"
-#then
-#	AC_CHECK_HEADERS(pth.h,, [with_pth="no (pth.h not found)"])
-#fi
-#if test "x$with_pth" = "xyes"
-#then
-#	collect_pth=1
-#else
-#	collect_pth=0
-#fi
-#AC_DEFINE_UNQUOTED(COLLECT_PTH, [$collect_pth],
-#	[Wether or not to use pth (portable threads) library])
-#AM_CONDITIONAL(BUILD_WITH_PTH, test "x$with_pth" = "xyes")
+AC_ARG_WITH(libpthread, [AS_HELP_STRING([--with-libpthread=@<:@=PREFIX@:>@], [Path to libpthread.])],
+[	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+	then
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libpthread="yes"
+	else
+		if test "x$withval" = "xno"
+		then
+			with_libpthread="no (disabled)"
+		fi
+	fi
+], [with_libpthread="yes"])
+if test "x$with_libpthread" = "xyes"
+then
+	AC_CHECK_LIB(pthread, pthread_create, [with_libpthread="yes"], [with_libpthread="no (libpthread not found)"], [])
+fi
+if test "x$with_libpthread" = "xyes"
+then
+	AC_CHECK_HEADERS(pthread.h,, [with_libpthread="no (pthread.h not found)"])
+fi
+if test "x$with_libpthread" = "xyes"
+then
+	collect_pthread=1
+else
+	collect_pthread=0
+fi
+AC_DEFINE_UNQUOTED(HAVE_LIBPTHREAD, [$collect_pthread],
+	[Wether or not to use pthread (POSIX threads) library])
+AM_CONDITIONAL(BUILD_WITH_LIBPTHREAD, test "x$with_libpthread" = "xyes")
 
 if test "$ac_system" = "Solaris"
 then
 	with_kstat="yes"
 	with_devinfo="yes"
 else
@@ -799,12 +831,48 @@
 AM_CONDITIONAL(BUILD_WITH_OWN_LIBOPING, test "x$with_own_liboping" = "xyes")
 if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
+AC_ARG_WITH(libpcap, [AS_HELP_STRING([--with-libpcap@<:@=PREFIX@:>@], [Path to libpcap.])],
+[
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libpcap="yes"
+	fi
+],
+[
+	with_libpcap="yes"
+])
+if test "x$with_libpcap" = "xyes"
+then
+	AC_CHECK_LIB(pcap, pcap_open_live,
+	[
+		AC_DEFINE(HAVE_LIBPCAP, 1, [Define to 1 if you have the pcap library (-lpcap).])
+	], [with_libpcap="no (libpcap not found)"])
+fi
+if test "x$with_libpcap" = "xyes"
+then
+	AC_CHECK_HEADERS(pcap.h,
+	[
+		AC_DEFINE(HAVE_PCAP_H, 1, [Define to 1 if you have the <pcap.h> header file.])
+	], [with_libpcap="no (pcap.h not found)"])
+fi
+if test "x$with_libpcap" = "xyes"
+then
+	collect_libpcap=1
+else
+	collect_libpcap=0
+fi
+AC_DEFINE_UNQUOTED(COLLECT_LIBPCAP, [$collect_libpcap],
+	[Wether or not to use the pcap library])
+AM_CONDITIONAL(BUILD_WITH_LIBPCAP, test "x$with_libpcap" = "xyes")
+
 # Define `step' and `hearbeat' values..
 declare -i collectd_step=10
 declare -i collectd_heartbeat=25
 AC_ARG_WITH(step, [AS_HELP_STRING([--with-step=SECONDS], [Interval in which plugins are queried.])],
 [
 	if test "x$withval" != "xno" -a "x$withval" != "xyes"
@@ -835,13 +903,12 @@
 fi
 if test $collectd_heartbeat -ne 25
 then
 	AC_DEFINE_UNQUOTED(COLLECTD_HEARTBEAT, "$collectd_heartbeat", [Interval in which plugins are queried.])
 fi
 
-#
 # Check for enabled/disabled features
 #
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
 # ------------------------------------------------------------
 dnl
@@ -915,16 +982,20 @@
 AC_COLLECTD([apple_sensors], [disable], [module], [Apple's hardware sensors])
 AC_COLLECTD([battery],   [disable], [module], [battery statistics])
 AC_COLLECTD([cpu],       [disable], [module], [cpu usage statistics])
 AC_COLLECTD([cpufreq],   [disable], [module], [system cpu frequency statistics])
 AC_COLLECTD([disk],      [disable], [module], [disk/partition statistics])
 AC_COLLECTD([df],        [disable], [module], [df statistics])
+AC_COLLECTD([dns],       [disable], [module], [dns statistics])
+AC_COLLECTD([email],     [disable], [module], [email statistics])
 AC_COLLECTD([quota],     [enable],  [module], [quota statistics (experimental)])
 AC_COLLECTD([hddtemp],   [disable], [module], [hdd temperature statistics])
 AC_COLLECTD([load],      [disable], [module], [system load statistics])
+AC_COLLECTD([mbmon],     [disable], [module], [motherboard monitor statistics])
 AC_COLLECTD([memory],    [disable], [module], [memory statistics])
+AC_COLLECTD([multimeter],[disable], [module], [multimeter statistics])
 AC_COLLECTD([mysql],     [disable], [module], [mysql statistics])
 AC_COLLECTD([nfs],       [disable], [module], [nfs statistics])
 AC_COLLECTD([ntpd],      [disable], [module], [nfs statistics])
 AC_COLLECTD([ping],      [disable], [module], [ping statistics])
 AC_COLLECTD([processes], [disable], [module], [processes statistics])
 AC_COLLECTD([sensors],   [disable], [module], [lm_sensors statistics])
@@ -947,12 +1018,14 @@
     liboping  . . . . . $with_liboping
     librrd  . . . . . . $with_rrdtool
     lm_sensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libkstat  . . . . . $with_kstat
     libmysql  . . . . . $with_libmysql
+    libpcap . . . . . . $with_libpcap
+    libpthread  . . . . $with_libpthread
 
   Features:
     debug . . . . . . . $enable_debug
     daemon mode . . . . $enable_daemon
     step  . . . . . . . $collectd_step seconds
     heartbeat . . . . . $collectd_heartbeat seconds
@@ -963,15 +1036,19 @@
     apple_sensors . . . $enable_apple_sensors
     battery . . . . . . $enable_battery
     cpu . . . . . . . . $enable_cpu
     cpufreq . . . . . . $enable_cpufreq
     df  . . . . . . . . $enable_df
     disk  . . . . . . . $enable_disk
+    dns . . . . . . . . $enable_dns
+    email . . . . . . . $enable_email
     hddtemp . . . . . . $enable_hddtemp
     load  . . . . . . . $enable_load
+    mbmon . . . . . . . $enable_mbmon
     memory  . . . . . . $enable_memory
+    multimeter  . . . . $enable_multimeter
     mysql . . . . . . . $enable_mysql
     nfs . . . . . . . . $enable_nfs
     ntpd  . . . . . . . $enable_ntpd
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     sensors . . . . . . $enable_sensors
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/contrib/collection.cgi	2006-12-22 03:56:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/contrib/collection.cgi	2007-01-09 22:05:06.000000000 +0800
@@ -244,19 +244,102 @@
 			"LINE1:total_avg_ms#$FullRed:Total",
 			'GPRINT:total_min_ms:MIN:%5.1lf%s Min,',
 			'GPRINT:total_avg_ms:AVERAGE:%5.1lf%s Avg,',
 			'GPRINT:total_max_ms:MAX:%5.1lf%s Max,',
 			'GPRINT:total_avg_ms:LAST:%5.1lf%s Last'
 		],
+		dns_traffic => ['DEF:rsp_min_raw={file}:responses:MIN',
+			'DEF:rsp_avg_raw={file}:responses:AVERAGE',
+			'DEF:rsp_max_raw={file}:responses:MAX',
+			'DEF:qry_min_raw={file}:queries:MIN',
+			'DEF:qry_avg_raw={file}:queries:AVERAGE',
+			'DEF:qry_max_raw={file}:queries:MAX',
+			'CDEF:rsp_min=rsp_min_raw,8,*',
+			'CDEF:rsp_avg=rsp_avg_raw,8,*',
+			'CDEF:rsp_max=rsp_max_raw,8,*',
+			'CDEF:qry_min=qry_min_raw,8,*',
+			'CDEF:qry_avg=qry_avg_raw,8,*',
+			'CDEF:qry_max=qry_max_raw,8,*',
+			'CDEF:overlap=rsp_avg,qry_avg,GT,qry_avg,rsp_avg,IF',
+			'CDEF:mytime=rsp_avg_raw,TIME,TIME,IF',
+			'CDEF:sample_len_raw=mytime,PREV(mytime),-',
+			'CDEF:sample_len=sample_len_raw,UN,0,sample_len_raw,IF',
+			'CDEF:rsp_avg_sample=rsp_avg_raw,UN,0,rsp_avg_raw,IF,sample_len,*',
+			'CDEF:rsp_avg_sum=PREV,UN,0,PREV,IF,rsp_avg_sample,+',
+			'CDEF:qry_avg_sample=qry_avg_raw,UN,0,qry_avg_raw,IF,sample_len,*',
+			'CDEF:qry_avg_sum=PREV,UN,0,PREV,IF,qry_avg_sample,+',
+			"AREA:rsp_avg#$HalfGreen",
+			"AREA:qry_avg#$HalfBlue",
+			"AREA:overlap#$HalfBlueGreen",
+			"LINE1:rsp_avg#$FullGreen:Responses",
+			'GPRINT:rsp_avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:rsp_max:MAX:%5.1lf%s Max,',
+			'GPRINT:rsp_avg:LAST:%5.1lf%s Last',
+			'GPRINT:rsp_avg_sum:LAST:(ca. %5.1lf%sB Total)\l',
+			"LINE1:qry_avg#$FullBlue:Queries  ",
+			#'GPRINT:qry_min:MIN:%5.1lf %s Min,',
+			'GPRINT:qry_avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:qry_max:MAX:%5.1lf%s Max,',
+			'GPRINT:qry_avg:LAST:%5.1lf%s Last',
+			'GPRINT:qry_avg_sum:LAST:(ca. %5.1lf%sB Total)\l'
+		],
+		email => [
+			'DEF:avg={file}:count:AVERAGE',
+			'DEF:min={file}:count:MIN',
+			'DEF:max={file}:count:MAX',
+			"AREA:max#$HalfMagenta",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullMagenta:Count ",
+			'GPRINT:min:MIN:%4.1lf Min,',
+			'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+			'GPRINT:max:MAX:%4.1lf Max,',
+			'GPRINT:avg:LAST:%4.1lf Last\l'
+		],
+		email_size => [
+			'DEF:avg={file}:size:AVERAGE',
+			'DEF:min={file}:size:MIN',
+			'DEF:max={file}:size:MAX',
+			"AREA:max#$HalfMagenta",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullMagenta:Count ",
+			'GPRINT:min:MIN:%4.1lf Min,',
+			'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+			'GPRINT:max:MAX:%4.1lf Max,',
+			'GPRINT:avg:LAST:%4.1lf Last\l'
+		],
+		spam_score => [
+			'DEF:avg={file}:score:AVERAGE',
+			'DEF:min={file}:score:MIN',
+			'DEF:max={file}:score:MAX',
+			"AREA:max#$HalfMagenta",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullMagenta:Count ",
+			'GPRINT:min:MIN:%4.1lf Min,',
+			'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+			'GPRINT:max:MAX:%4.1lf Max,',
+			'GPRINT:avg:LAST:%4.1lf Last\l'
+		],
+		spam_check => [
+			'DEF:avg={file}:hits:AVERAGE',
+			'DEF:min={file}:hits:MIN',
+			'DEF:max={file}:hits:MAX',
+			"AREA:max#$HalfMagenta",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullMagenta:Count ",
+			'GPRINT:min:MIN:%4.1lf Min,',
+			'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+			'GPRINT:max:MAX:%4.1lf Max,',
+			'GPRINT:avg:LAST:%4.1lf Last\l'
+		],
 		fanspeed => [
 			'DEF:temp_avg={file}:value:AVERAGE',
 			'DEF:temp_min={file}:value:MIN',
 			'DEF:temp_max={file}:value:MAX',
-			"AREA:temp_max#$HalfBlue",
+			"AREA:temp_max#$HalfMagenta",
 			"AREA:temp_min#$Canvas",
-			"LINE1:temp_avg#$FullBlue:RPM",
+			"LINE1:temp_avg#$FullMagenta:RPM",
 			'GPRINT:temp_min:MIN:%4.1lf Min,',
 			'GPRINT:temp_avg:AVERAGE:%4.1lf Avg,',
 			'GPRINT:temp_max:MAX:%4.1lf Max,',
 			'GPRINT:temp_avg:LAST:%4.1lf Last\l'
 		],
 		frequency_offset => [ # NTPd
@@ -272,15 +355,15 @@
 			'GPRINT:ppm_avg:LAST:%5.2lf Last'
 		],
 		hddtemp => [
 			'DEF:temp_avg={file}:value:AVERAGE',
 			'DEF:temp_min={file}:value:MIN',
 			'DEF:temp_max={file}:value:MAX',
-			"AREA:temp_max#$HalfBlue",
+			"AREA:temp_max#$HalfRed",
 			"AREA:temp_min#$Canvas",
-			"LINE1:temp_avg#$FullBlue:Temperature",
+			"LINE1:temp_avg#$FullRed:Temperature",
 			'GPRINT:temp_min:MIN:%4.1lf Min,',
 			'GPRINT:temp_avg:AVERAGE:%4.1lf Avg,',
 			'GPRINT:temp_max:MAX:%4.1lf Max,',
 			'GPRINT:temp_avg:LAST:%4.1lf Last\l'
 		],
 		if_packets => ['DEF:tx_min={file}:tx:MIN',
@@ -301,19 +384,19 @@
 			"AREA:rx_avg#$HalfBlue",
 			"AREA:overlap#$HalfBlueGreen",
 			"LINE1:tx_avg#$FullGreen:TX",
 			'GPRINT:tx_avg:AVERAGE:%5.1lf%s Avg,',
 			'GPRINT:tx_max:MAX:%5.1lf%s Max,',
 			'GPRINT:tx_avg:LAST:%5.1lf%s Last',
-			'GPRINT:tx_avg_sum:LAST:(ca. %.0lf Total)\l',
+			'GPRINT:tx_avg_sum:LAST:(ca. %4.0lf%s Total)\l',
 			"LINE1:rx_avg#$FullBlue:RX",
 			#'GPRINT:rx_min:MIN:%5.1lf %s Min,',
 			'GPRINT:rx_avg:AVERAGE:%5.1lf%s Avg,',
 			'GPRINT:rx_max:MAX:%5.1lf%s Max,',
 			'GPRINT:rx_avg:LAST:%5.1lf%s Last',
-			'GPRINT:rx_avg_sum:LAST:(ca. %.0lf Total)\l'
+			'GPRINT:rx_avg_sum:LAST:(ca. %4.0lf%s Total)\l'
 		],
 		load => ['DEF:s_avg={file}:shortterm:AVERAGE',
 			'DEF:s_min={file}:shortterm:MIN',
 			'DEF:s_max={file}:shortterm:MAX',
 			'DEF:m_avg={file}:midterm:AVERAGE',
 			'DEF:m_min={file}:midterm:MIN',
@@ -615,12 +698,24 @@
 			'GPRINT:getattr_avg:LAST:%5.1lf Last\l',
 			"LINE1:stack_read#$FullBlue:read   ",
 			'GPRINT:read_max:MAX:%5.1lf Max,',
 			'GPRINT:read_avg:AVERAGE:%5.1lf Avg,',
 			'GPRINT:read_avg:LAST:%5.1lf Last\l'
 		],
+		opcode => [
+			'DEF:avg={file}:value:AVERAGE',
+			'DEF:min={file}:value:MIN',
+			'DEF:max={file}:value:MAX',
+			"AREA:max#$HalfBlue",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullBlue:Queries/s",
+			'GPRINT:min:MIN:%9.3lf Min,',
+			'GPRINT:avg:AVERAGE:%9.3lf Average,',
+			'GPRINT:max:MAX:%9.3lf Max,',
+			'GPRINT:avg:LAST:%9.3lf Last\l'
+		],
 		partition => [
 			"DEF:rbyte_avg={file}:rbytes:AVERAGE",
 			"DEF:rbyte_min={file}:rbytes:MIN",
 			"DEF:rbyte_max={file}:rbytes:MAX",
 			"DEF:wbyte_avg={file}:wbytes:AVERAGE",
 			"DEF:wbyte_min={file}:wbytes:MIN",
@@ -709,12 +804,115 @@
 			"LINE1:sleeping_acc#$FullBlue:Sleeping",
 			'GPRINT:sleeping_min:MIN:%5.1lf Min,',
 			'GPRINT:sleeping_avg:AVERAGE:%5.1lf Average,',
 			'GPRINT:sleeping_max:MAX:%5.1lf Max,',
 			'GPRINT:sleeping_avg:LAST:%5.1lf Last\l'
 		],
+		ps_rss => [
+			'DEF:avg={file}:byte:AVERAGE',
+			'DEF:min={file}:byte:MIN',
+			'DEF:max={file}:byte:MAX',
+			"AREA:avg#$HalfBlue",
+			"LINE1:avg#$FullBlue:RSS",
+			'GPRINT:min:MIN:%5.1lf%s Min,',
+			'GPRINT:avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:max:MAX:%5.1lf%s Max,',
+			'GPRINT:avg:LAST:%5.1lf%s Last\l'
+		],
+		ps_cputime => [
+			'DEF:user_avg_raw={file}:user:AVERAGE',
+			'DEF:user_min_raw={file}:user:MIN',
+			'DEF:user_max_raw={file}:user:MAX',
+			'DEF:syst_avg_raw={file}:syst:AVERAGE',
+			'DEF:syst_min_raw={file}:syst:MIN',
+			'DEF:syst_max_raw={file}:syst:MAX',
+			'CDEF:user_avg=user_avg_raw,1000000,/',
+			'CDEF:user_min=user_min_raw,1000000,/',
+			'CDEF:user_max=user_max_raw,1000000,/',
+			'CDEF:syst_avg=syst_avg_raw,1000000,/',
+			'CDEF:syst_min=syst_min_raw,1000000,/',
+			'CDEF:syst_max=syst_max_raw,1000000,/',
+			'CDEF:user_syst=syst_avg,UN,0,syst_avg,IF,user_avg,+',
+			"AREA:user_syst#$HalfBlue",
+			"AREA:syst_avg#$HalfRed",
+			"LINE1:user_syst#$FullBlue:User  ",
+			'GPRINT:user_min:MIN:%5.1lf%s Min,',
+			'GPRINT:user_avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:user_max:MAX:%5.1lf%s Max,',
+			'GPRINT:user_avg:LAST:%5.1lf%s Last\l',
+			"LINE1:syst_avg#$FullRed:System",
+			'GPRINT:syst_min:MIN:%5.1lf%s Min,',
+			'GPRINT:syst_avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:syst_max:MAX:%5.1lf%s Max,',
+			'GPRINT:syst_avg:LAST:%5.1lf%s Last\l'
+		],
+		ps_count => [
+			'DEF:procs_avg={file}:processes:AVERAGE',
+			'DEF:procs_min={file}:processes:MIN',
+			'DEF:procs_max={file}:processes:MAX',
+			'DEF:thrds_avg={file}:threads:AVERAGE',
+			'DEF:thrds_min={file}:threads:MIN',
+			'DEF:thrds_max={file}:threads:MAX',
+			"AREA:thrds_avg#$HalfBlue",
+			"AREA:procs_avg#$HalfRed",
+			"LINE1:thrds_avg#$FullBlue:Threads  ",
+			'GPRINT:thrds_min:MIN:%5.1lf Min,',
+			'GPRINT:thrds_avg:AVERAGE:%5.1lf Avg,',
+			'GPRINT:thrds_max:MAX:%5.1lf Max,',
+			'GPRINT:thrds_avg:LAST:%5.1lf Last\l',
+			"LINE1:procs_avg#$FullRed:Processes",
+			'GPRINT:procs_min:MIN:%5.1lf Min,',
+			'GPRINT:procs_avg:AVERAGE:%5.1lf Avg,',
+			'GPRINT:procs_max:MAX:%5.1lf Max,',
+			'GPRINT:procs_avg:LAST:%5.1lf Last\l'
+		],
+		ps_pagefaults => [
+			'DEF:minor_avg={file}:minflt:AVERAGE',
+			'DEF:minor_min={file}:minflt:MIN',
+			'DEF:minor_max={file}:minflt:MAX',
+			'DEF:major_avg={file}:majflt:AVERAGE',
+			'DEF:major_min={file}:majflt:MIN',
+			'DEF:major_max={file}:majflt:MAX',
+			'CDEF:minor_major=major_avg,UN,0,major_avg,IF,minor_avg,+',
+			"AREA:minor_major#$HalfBlue",
+			"AREA:major_avg#$HalfRed",
+			"LINE1:minor_major#$FullBlue:Minor",
+			'GPRINT:minor_min:MIN:%5.1lf%s Min,',
+			'GPRINT:minor_avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:minor_max:MAX:%5.1lf%s Max,',
+			'GPRINT:minor_avg:LAST:%5.1lf%s Last\l',
+			"LINE1:major_avg#$FullRed:Major",
+			'GPRINT:major_min:MIN:%5.1lf%s Min,',
+			'GPRINT:major_avg:AVERAGE:%5.1lf%s Avg,',
+			'GPRINT:major_max:MAX:%5.1lf%s Max,',
+			'GPRINT:major_avg:LAST:%5.1lf%s Last\l'
+		],
+		qtype => [
+			'DEF:avg={file}:value:AVERAGE',
+			'DEF:min={file}:value:MIN',
+			'DEF:max={file}:value:MAX',
+			"AREA:max#$HalfBlue",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullBlue:Queries/s",
+			'GPRINT:min:MIN:%9.3lf Min,',
+			'GPRINT:avg:AVERAGE:%9.3lf Average,',
+			'GPRINT:max:MAX:%9.3lf Max,',
+			'GPRINT:avg:LAST:%9.3lf Last\l'
+		],
+		rcode => [
+			'DEF:avg={file}:value:AVERAGE',
+			'DEF:min={file}:value:MIN',
+			'DEF:max={file}:value:MAX',
+			"AREA:max#$HalfBlue",
+			"AREA:min#$Canvas",
+			"LINE1:avg#$FullBlue:Queries/s",
+			'GPRINT:min:MIN:%9.3lf Min,',
+			'GPRINT:avg:AVERAGE:%9.3lf Average,',
+			'GPRINT:max:MAX:%9.3lf Max,',
+			'GPRINT:avg:LAST:%9.3lf Last\l'
+		],
 		swap => [
 			'DEF:used_avg={file}:used:AVERAGE',
 			'DEF:used_min={file}:used:MIN',
 			'DEF:used_max={file}:used:MAX',
 			'DEF:free_avg={file}:free:AVERAGE',
 			'DEF:free_min={file}:free:MIN',
@@ -757,15 +955,15 @@
 			'GPRINT:used_avg:LAST:%5.1lf%s Last\l'
 		],
 		temperature => [
 			'DEF:temp_avg={file}:value:AVERAGE',
 			'DEF:temp_min={file}:value:MIN',
 			'DEF:temp_max={file}:value:MAX',
-			"AREA:temp_max#$HalfBlue",
+			"AREA:temp_max#$HalfRed",
 			"AREA:temp_min#$Canvas",
-			"LINE1:temp_avg#$FullBlue:Value",
+			"LINE1:temp_avg#$FullRed:Temperature",
 			'GPRINT:temp_min:MIN:%4.1lf Min,',
 			'GPRINT:temp_avg:AVERAGE:%4.1lf Avg,',
 			'GPRINT:temp_max:MAX:%4.1lf Max,',
 			'GPRINT:temp_avg:LAST:%4.1lf Last\l'
 		],
 		timeleft => [
@@ -836,12 +1034,24 @@
                         "LINE1:cpufreq_avg#$FullBlue:Frequency",
                         'GPRINT:cpufreq_min:MIN:%5.1lf%s Min,',
                         'GPRINT:cpufreq_avg:AVERAGE:%5.1lf%s Avg,',
                         'GPRINT:cpufreq_max:MAX:%5.1lf%s Max,',
                         'GPRINT:cpufreq_avg:LAST:%5.1lf%s Last\l'
                 ],
+		multimeter => [
+			    'DEF:multimeter_avg={file}:value:AVERAGE',
+			    'DEF:multimeter_min={file}:value:MIN',
+			    'DEF:multimeter_max={file}:value:MAX',
+			    "AREA:multimeter_max#$HalfBlue",
+			    "AREA:multimeter_min#$Canvas",
+			    "LINE1:multimeter_avg#$FullBlue:Multimeter",
+			    'GPRINT:multimeter_min:MIN:%4.1lf Min,',
+			    'GPRINT:multimeter_avg:AVERAGE:%4.1lf Average,',
+			    'GPRINT:multimeter_max:MAX:%4.1lf Max,',
+			    'GPRINT:multimeter_avg:LAST:%4.1lf Last\l'
+		],
 		users => [
 			    'DEF:users_avg={file}:users:AVERAGE',
 			    'DEF:users_min={file}:users:MIN',
 			    'DEF:users_max={file}:users:MAX',
 			    "AREA:users_max#$HalfBlue",
 			    "AREA:users_min#$Canvas",
@@ -964,13 +1174,18 @@
 	cpufreq => ['-t', '{host} cpu{inst} usage', '-v', 'Mhz'],
 	current => ['-t', '{host} current', '-v', 'Ampere'],
 	#disk => ['-t', '{host} disk {inst} IO wait', '-v', 'Seconds'],
 	delay => ['-t', 'NTPd peer delay ({inst})', '-v', 'Seconds'],
 	df => ['-t', '{host}:{inst} usage', '-v', 'Percent', '-l', '0'],
 	disk => ['-t', '{host} disk {inst} usage', '-v', 'Byte/s'],
-	fanspeed => ['-t', '{host} fanspeed {inst}', '-v', 'rpm'],
+	dns_traffic => ['-t', '{host} DNS traffic', '-v', 'Bit/s'],
+	email => ['-t', '{host} E-Mail {inst} count', '-v', 'E-Mails'],
+	email_size => ['-t', '{host} E-Mail {inst} size', '-v', 'Bytes'],
+	spam_score => ['-t', '{host} spam score', '-v', 'score'],
+	spam_check => ['-t', '{host} spam checks {inst}', '-v', 'hits'],
+	fanspeed => ['-t', '{host} fanspeed {inst}', '-v', 'RPM'],
 	frequency_offset => ['-t', 'NTPd frequency offset ({inst})', '-v', 'Parts per million'],
 	hddtemp => ['-t', '{host} hdd temperature {inst}', '-v', '°Celsius'],
 	if_errors => ['-t', '{host} {inst} errors', '-v', 'Errors/s'],
 	if_packets => ['-t', '{host} {inst} packets', '-v', 'Packets/s'],
 	load => ['-t', '{host} load average', '-v', 'System load', '-X', '0'],
 	load_percent => ['-t', '{host} load', '-v', 'Percent'],
@@ -978,45 +1193,60 @@
 	memory => ['-t', '{host} memory usage', '-v', 'Bytes', '-b', '1024', '-l', '0'],
 	mysql_commands => ['-t', 'mysql command {inst}', '-v', 'Issues/s' ],
 	mysql_handler => ['-t', 'mysql handler {inst}', '-v', 'Issues/s' ],
 	mysql_qcache => ['-t', 'mysql query cache', '-v', 'Queries/s' ],
 	mysql_threads => ['-t', 'mysql threads', '-v', 'Threads' ],
 	nfs3_procedures => ['-t', '{host} NFSv3 {inst} procedures', '-v', 'Procedures/s' ],
+	opcode => ['-t', 'OpCode {inst}', '-v', 'Queries/s'],
 	partition => ['-t', '{host} partition {inst} usage', '-v', 'Byte/s'],
 	ping => ['-t', '{host} ping to {inst}', '-v', 'ms'],
 	processes => ['-t', '{host} processes', '-v', 'Processes'],
+	ps_rss => ['-t', '{host} process {inst} RSS', '-v', 'Bytes', '-b', '1024'],
+	ps_cputime => ['-t', '{host} process {inst} CPU usage', '-v', 'Seconds'],
+	ps_count => ['-t', '{host} process {inst} count', '-v', 'Threads/Processes'],
+	ps_pagefaults => ['-t', '{host} process {inst} pagefaults', '-v', 'Pagefaults/s'],
+	qtype => ['-t', 'QType {inst}', '-v', 'Queries/s'],
+	rcode => ['-t', 'RCode {inst}', '-v', 'Queries/s'],
 	sensors => ['-t', '{host} sensor {inst}', '-v', '°Celsius'],
 	swap => ['-t', '{host} swap usage', '-v', 'Bytes', '-b', '1024', '-l', '0'],
 	temperature => ['-t', '{host} temperature {inst}', '-v', '°Celsius'],
 	timeleft => ['-t', '{host} UPS time left', '-v', 'Time [min]'],
 	time_offset => ['-t', 'NTPd time offset ({inst})', '-v', 'Seconds'],
 	time_dispersion => ['-t', 'NTPd time dispersion ({inst})', '-v', 'Seconds'],
 	traffic => ['-t', '{host} {inst} traffic', '-v', 'Bit/s'],
 	users => ['-t', '{host} users', '-v', 'Users'],
-	voltage => ['-t', '{host} voltage', '-v', 'Volts'],
+	multimeter => ['-t', '{host} multimeter', '-v', 'Value'],
+	voltage => ['-t', '{host} voltage {inst}', '-v', 'Volts'],
 	vs_threads => ['-t', '{host} threads', '-v', 'Threads'],
 	vs_memory => ['-t', '{host} memory usage', '-v', 'Bytes'],
 	vs_processes => ['-t', '{host} processes', '-v', 'Processes'],
 };
 
 our $GraphMulti =
 {
 	apache_scoreboard => \&output_graph_apache_scoreboard,
 	cpu	=> \&output_graph_cpu,
 	cpufreq => 1,
 	disk	=> 1,
+	email	=> \&output_graph_email_count,
+	email_size => \&output_graph_email_size,
+	spam_score => 1,
+	spam_check => \&output_graph_spam_check,
 	load	=> 0,
 	mails	=> 0,
 	memory	=> 0,
 	mysql_commands => \&output_graph_mysql_commands,
 	mysql_handler => \&output_graph_mysql_handler,
 	partition => 1,
 	ping	=> \&output_graph_ping,
+	qtype => \&output_graph_named_qtype,
+	rcode => \&output_graph_named_rcode,
 	sensors	=> 1,
 	traffic	=> 1,
-	users => 1
+	users => 1,
+	multimeter => 1
 };
 
 our @Info;
 if (defined ($ENV{'GATEWAY_INTERFACE'}))
 {
 	@Info = ($ENV{'PATH_INFO'} || '') =~ m#([\w\-\.]+)#g;
@@ -1186,12 +1416,120 @@
 			"GPRINT:avg_$i:LAST:%4.1lf ms Last\\l");
 	}
 
 	return (@ret);
 }
 
+sub output_graph_email_count
+{
+	my @inst = @_;
+	my @ret  = ();
+
+	my $c = scalar @inst;
+
+	my @colors = get_n_colors ($c);
+
+	for (my $i = 0; $i < $c; ++$i) {
+		push @ret,
+			"DEF:min_$i=$AbsDir/email-$inst[$i].rrd:count:MIN",
+			"DEF:avg_$i=$AbsDir/email-$inst[$i].rrd:count:AVERAGE",
+			"DEF:max_$i=$AbsDir/email-$inst[$i].rrd:count:MAX";
+	}
+
+	for (my $i = 0; $i < $c; ++$i) {
+		my $s = "";
+
+		if (length $inst[$i] > 10) {
+			$s = substr ($inst[$i], 0, 7) . '...';
+		}
+		else {
+			$s = sprintf '%-10s', $inst[$i];
+		}
+
+		push @ret,
+			"LINE1:avg_$i#$colors[$i]:$s",
+			"GPRINT:min_$i:MIN:%4.1lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%4.1lf Avg,",
+			"GPRINT:max_$i:MAX:%4.1lf Max,",
+			"GPRINT:avg_$i:LAST:%4.1lf Last\\l";
+	}
+	return @ret;
+}
+
+sub output_graph_email_size
+{
+	my @inst = @_;
+	my @ret  = ();
+
+	my $c = scalar @inst;
+
+	my @colors = get_n_colors ($c);
+
+	for (my $i = 0; $i < $c; ++$i) {
+		push @ret,
+			"DEF:min_$i=$AbsDir/email_size-$inst[$i].rrd:size:MIN",
+			"DEF:avg_$i=$AbsDir/email_size-$inst[$i].rrd:size:AVERAGE",
+			"DEF:max_$i=$AbsDir/email_size-$inst[$i].rrd:size:MAX";
+	}
+
+	for (my $i = 0; $i < $c; ++$i) {
+		my $s = "";
+
+		if (length $inst[$i] > 10) {
+			$s = substr ($inst[$i], 0, 7) . '...';
+		}
+		else {
+			$s = sprintf '%-10s', $inst[$i];
+		}
+
+		push @ret,
+			"LINE1:avg_$i#$colors[$i]:$s",
+			"GPRINT:min_$i:MIN:%4.1lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%4.1lf Avg,",
+			"GPRINT:max_$i:MAX:%4.1lf Max,",
+			"GPRINT:avg_$i:LAST:%4.1lf Last\\l";
+	}
+	return @ret;
+}
+
+sub output_graph_spam_check
+{
+	my @inst = sort @_;
+	my @ret  = ();
+
+	my $c = scalar @inst;
+
+	my @colors = get_n_colors ($c);
+
+	for (my $i = 0; $i < $c; ++$i) {
+		push @ret,
+			"DEF:min_$i=$AbsDir/spam_check-$inst[$i].rrd:hits:MIN",
+			"DEF:avg_$i=$AbsDir/spam_check-$inst[$i].rrd:hits:AVERAGE",
+			"DEF:max_$i=$AbsDir/spam_check-$inst[$i].rrd:hits:MAX";
+	}
+
+	for (my $i = 0; $i < $c; ++$i) {
+		my $s = "";
+
+		if (length $inst[$i] > 25) {
+			$s = substr ($inst[$i], 0, 22) . '...';
+		}
+		else {
+			$s = sprintf '%-25s', $inst[$i];
+		}
+
+		push @ret,
+			"LINE1:avg_$i#$colors[$i]:$s",
+			"GPRINT:min_$i:MIN:%4.1lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%4.1lf Avg,",
+			"GPRINT:max_$i:MAX:%4.1lf Max,",
+			"GPRINT:avg_$i:LAST:%4.1lf Last\\l";
+	}
+	return @ret;
+}
+
 sub output_graph_mysql_commands
 {
 	my @inst = @_;
 	my @ret = ();
 
 	die if (@inst < 2);
@@ -1272,12 +1610,99 @@
 			"GPRINT:avg_$i:LAST:%6.1lf Last\\l");
 	}
 
 	return (@ret);
 }
 
+sub output_graph_named_qtype
+{
+	my @inst = @_;
+	my @ret = ();
+
+	die if (@inst < 2);
+
+	my @colors = get_n_colors (scalar (@inst));
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		push (@ret,
+			"DEF:avg_$i=$AbsDir/qtype-$inst.rrd:value:AVERAGE",
+			"DEF:min_$i=$AbsDir/qtype-$inst.rrd:value:MIN",
+			"DEF:max_$i=$AbsDir/qtype-$inst.rrd:value:MAX");
+	}
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		my $color = $colors[$i];
+		my $type = ($i == 0) ? 'AREA' : 'STACK';
+
+		if (length ($inst) > 5)
+		{
+			$inst = substr ($inst, 0, 5);
+		}
+		else
+		{
+			$inst = sprintf ('%-5s', $inst);
+		}
+
+		push (@ret,
+			"$type:avg_$i#$color:$inst",
+			"GPRINT:min_$i:MIN:%9.3lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%9.3lf Avg,",
+			"GPRINT:max_$i:MAX:%9.3lf Max,",
+			"GPRINT:avg_$i:LAST:%9.3lf Last\\l");
+	}
+
+	return (@ret);
+}
+
+sub output_graph_named_rcode
+{
+	my @inst = @_;
+	my @ret = ();
+
+	die if (@inst < 2);
+
+	my @colors = get_n_colors (scalar (@inst));
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		push (@ret,
+			"DEF:avg_$i=$AbsDir/rcode-$inst.rrd:value:AVERAGE",
+			"DEF:min_$i=$AbsDir/rcode-$inst.rrd:value:MIN",
+			"DEF:max_$i=$AbsDir/rcode-$inst.rrd:value:MAX");
+	}
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		my $color = $colors[$i];
+		my $type = ($i == 0) ? 'AREA' : 'STACK';
+
+		if (length ($inst) > 8)
+		{
+			$inst = substr ($inst, 0, 6) . '..';
+		}
+		else
+		{
+			$inst = sprintf ('%-8s', $inst);
+		}
+
+		push (@ret,
+			"$type:avg_$i#$color:$inst",
+			"GPRINT:min_$i:MIN:%9.3lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%9.3lf Avg,",
+			"GPRINT:max_$i:MAX:%9.3lf Max,",
+			"GPRINT:avg_$i:LAST:%9.3lf Last\\l");
+	}
+
+	return (@ret);
+}
 sub output_graph
 {
 	die unless (defined ($GraphDefs->{$Type}));
 
 	my $host;
 	my @cmd = ();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/contrib/init.d-rh7 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/contrib/init.d-rh7
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/contrib/init.d-rh7	2006-12-22 03:56:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/contrib/init.d-rh7	2007-01-09 22:05:06.000000000 +0800
@@ -39,12 +39,13 @@
 	;;
   status)
 	status $prog
 	;;
   restart|reload)
 	stop
+	sleep 1
 	start
 	;;
   condrestart)
 	[ -f /var/lock/subsys/$prog ] && restart || :
 	;;
   *)
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/contrib: SpamAssassin
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/COPYING /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/COPYING
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/COPYING	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/COPYING	2007-01-09 22:05:49.000000000 +0800
@@ -1,11 +1,11 @@
 		    GNU GENERAL PUBLIC LICENSE
 		       Version 2, June 1991
 
  Copyright (C) 1989, 1991 Free Software Foundation, Inc.
-     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+     51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
  Everyone is permitted to copy and distribute verbatim copies
  of this license document, but changing it is not allowed.
 
 			    Preamble
 
   The licenses for most software are designed to take away your
@@ -302,13 +302,13 @@
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
 
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
-    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 
 
 Also add information on how to contact you by electronic and paper mail.
 
 If the program is interactive, make it output a short notice like this
 when it starts in an interactive mode:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/INSTALL /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/INSTALL
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/INSTALL	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/INSTALL	2007-01-09 22:05:49.000000000 +0800
@@ -100,15 +100,15 @@
 for another architecture.
 
 Installation Names
 ==================
 
 By default, `make install' installs the package's commands under
-`/opt/collectd/bin', include files under `/opt/collectd/include', etc.
-You can specify an installation prefix other than `/opt/collectd' by
-giving `configure' the option `--prefix=PREFIX'.
+`/usr/local/bin', include files under `/usr/local/include', etc.  You
+can specify an installation prefix other than `/usr/local' by giving
+`configure' the option `--prefix=PREFIX'.
 
    You can specify separate installation prefixes for
 architecture-specific files and architecture-independent files.  If you
 pass the option `--exec-prefix=PREFIX' to `configure', the package uses
 PREFIX as the prefix for installing programs and libraries.
 Documentation and other data files still use the regular prefix.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/Makefile.in	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/Makefile.in	2007-01-09 22:06:13.000000000 +0800
@@ -99,18 +99,26 @@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
 BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
 BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
+BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
+BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
+BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
+BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
+BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
+BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
+BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
 BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
 BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
 BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
@@ -150,12 +158,16 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/README	2006-12-22 03:56:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/README	2007-01-09 22:05:06.000000000 +0800
@@ -36,12 +36,18 @@
     - Mountpoint usage
       (Basically the values `df(1)' delivers)
 
     - Disk utilization
       (Sectors read/written, number of read/write actions, time spent doing IO)
 
+    - DNS traffic
+      (query types, response codes, opcodes and traffic)
+
+    - Email statistics
+      (count, traffic, spam scores and checks)
+
     - Harddisk temperatures
       (Uhm, yeah, temperature of harddisks that is ;)
 
     - System load
       (Load average over the last 1, 5 and 15 minutes)
 
@@ -62,13 +68,13 @@
       (Time to reach the default gateway or another given host)
 
     - Process counts
       (Number of running, sleeping, zombie, ... processes)
 
     - Sensors
-      (System temperatured and fan rotation speeds)
+      (lm_sensors voltages, temperatures and fan rotation speeds)
 
     - Serial
       (RX and TX of serial interfaces)
 
     - Swap
       (Pages swapped out onto harddisk or whatever is called `swap' by the OS..)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/apache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/apache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/apache.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/apache.c	2007-01-09 22:05:06.000000000 +0800
@@ -39,13 +39,14 @@
 static char *pass   = NULL;
 static char *cacert = NULL;
 
 #if HAVE_LIBCURL
 static CURL *curl = NULL;
 
-static char apache_buffer[4096];
+#define ABUFFER_SIZE 16384
+static char apache_buffer[ABUFFER_SIZE];
 static int  apache_buffer_len = 0;
 static char apache_curl_error[CURL_ERROR_SIZE];
 #endif /* HAVE_LIBCURL */
 
 /* Limit to 2^27 bytes/s. That's what a gigabit-ethernet link can handle, in
  * theory. */
@@ -86,15 +87,15 @@
 
 #if HAVE_LIBCURL
 static size_t apache_curl_callback (void *buf, size_t size, size_t nmemb, void *stream)
 {
 	size_t len = size * nmemb;
 
-	if ((apache_buffer_len + len) >= 4096)
+	if ((apache_buffer_len + len) >= ABUFFER_SIZE)
 	{
-		len = 4095 - apache_buffer_len;
+		len = (ABUFFER_SIZE - 1) - apache_buffer_len;
 	}
 
 	if (len <= 0)
 		return (len);
 
 	memcpy (apache_buffer + apache_buffer_len, (char *) buf, len);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/apcups.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/apcups.c	2007-01-09 22:05:06.000000000 +0800
@@ -298,37 +298,32 @@
 	char    recvline[1024];
 	char   *tokptr;
 	char   *key;
 	double  value;
 
 	static int sockfd   = -1;
-	static unsigned int complain = 0;
+	static complain_t compl;
 
 #if APCMAIN
 # define PRINT_VALUE(name, val) printf("  Found property: name = %s; value = %f;\n", name, val)
 #else
 # define PRINT_VALUE(name, val) /**/
 #endif
 
 	if (sockfd < 0)
 	{
 		if ((sockfd = net_open (host, NULL, port)) < 0)
 		{
-			/* Complain once every six hours. */
-			int complain_step = 21600 / atoi (COLLECTD_STEP);
-
-			if ((complain % complain_step) == 0)
-				syslog (LOG_ERR, "apcups plugin: Connecting to the apcupsd failed.");
-			complain++;
-
+			plugin_complain (LOG_ERR, &compl, "apcups plugin: "
+					"Connecting to the apcupsd failed.");
 			return (-1);
 		}
-		else if (complain > 1)
+		else
 		{
-			syslog (LOG_NOTICE, "apcups plugin: Connection re-established to the apcupsd.");
-			complain = 0;
+			plugin_relief (LOG_NOTICE, &compl, "apcups plugin: "
+					"Connection re-established to the apcupsd.");
 		}
 	}
 
 	if (net_send (&sockfd, "status", 6) < 0)
 	{
 		syslog (LOG_ERR, "apcups plugin: Writing to the socket failed.");
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.1	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.1	2007-01-09 22:08:07.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2006-12-21" "3.10.4" "collectd"
+.TH COLLECTD 1 "2007-01-09" "3.11.0" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
@@ -150,16 +150,22 @@
 \&\s-1CPU\s0 utilization (\fIcpu\fR)
 .IP "\(bu" 4
 Mountpoint usage (\fIdf\fR)
 .IP "\(bu" 4
 Disk and partition usage/throughput (\fIdisk\fR)
 .IP "\(bu" 4
+\&\s-1DNS\s0 traffic (\fIdns\fR)
+.IP "\(bu" 4
+Email usage (\fIemail\fR)
+.IP "\(bu" 4
 Harddisk temperatures (\fIhddtemp\fR)
 .IP "\(bu" 4
 System load averages (\fIload\fR)
 .IP "\(bu" 4
+Motherboard monitor (\fImbmon\fR)
+.IP "\(bu" 4
 Memory usage (\fImemory\fR)
 .IP "\(bu" 4
 MySQL statistics (\fImysql\fR)
 .IP "\(bu" 4
 \&\s-1NFS\s0 utilization (\fInfs\fR, Linux only)
 .IP "\(bu" 4
@@ -186,12 +192,18 @@
 .IX Header "OPTIONS"
 .IP "\fB\-C\fR \fI<config-file>\fR" 4
 .IX Item "-C <config-file>"
 Specify an alternative config file. This is the place to go when you wish to
 change \fBcollectd\fR's behavior. The path may be relative to the current working
 directory.
+.IP "\fB\-P\fR \fI<pid-file>\fR" 4
+.IX Item "-P <pid-file>"
+Specify an alternative pid file. This overwrites any settings in the config 
+file. This is thought for init-scripts that require the PID-file in a certain
+directory to work correctly. For everyday-usage use the \fBPIDFile\fR
+config\-option.
 .IP "\fB\-f\fR" 4
 .IX Item "-f"
 Don't fork to the background. \fIcollectd\fR will also \fBnot\fR close standard file
 descriptors, detach from the session nor write a pid file. This is mainly
 thought for 'supervisioning' init replacements such as \fIrunit\fR.
 .IP "\fB\-h\fR" 4
@@ -244,12 +256,40 @@
 .IX Subsection "cpufreq"
 This module reads \fI/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq\fR (for
 the first \s-1CPU\s0 installed) to get the current \s-1CPU\s0 frequency. If this file does
 not exist make sure \fBcpufreqd\fR (<http://cpufreqd.sourceforge.net/>) or a
 similar tool is installed and an \*(L"cpu governor\*(R" (that's kernel module) is
 loaded.
+.Sh "email"
+.IX Subsection "email"
+This plugin collects data indirectly by providing a \s-1UNIX\s0 socket that external
+programs can connect to. A simple line based protocol is used to communicate
+with the plugin:
+.PP
+E\-Mail type (e.g. \*(L"ham\*(R", \*(L"spam\*(R", \*(L"virus\*(R", ...) and size (bytes):
+.PP
+.Vb 1
+\&  e:<type>:<size>
+.Ve
+.PP
+If \f(CW\*(C`size\*(C'\fR is less than or equal to zero, \f(CW\*(C`size\*(C'\fR is ignored.
+.PP
+Spam score:
+.PP
+.Vb 1
+\&  s:<value>
+.Ve
+.PP
+Successful spam checks (e.g. \*(L"\s-1BAYES_99\s0\*(R", \*(L"\s-1SUBJECT_DRUG_GAP_C\s0\*(R", ...):
+.PP
+.Vb 1
+\&  c:<type1>[,<type2>,...]
+.Ve
+.PP
+Each line is limited to 256 characters (including the newline character). 
+Longer lines will be ignored.
 .Sh "mysql"
 .IX Subsection "mysql"
 Requires \fBmysqlclient\fR to be installed. It connects to the database when
 started and keeps the connection up as long as possible. When the connection is
 interrupted for whatever reason it will try to re\-connect. The syslog will
 contain loud complaints in case anything goes wrong.
@@ -266,12 +306,25 @@
 that all the needed modules have to be loaded and lm_sensors has to be
 configured (most likely by editing \fI/etc/sensors.conf\fR. Read
 \&\fIsensors.conf\fR\|(5) for details.
 .PP
 The \fBlm_sensors\fR homepage can be found at
 <http://secure.netroedge.com/~lm78/>.
+.Sh "mbmon"
+.IX Subsection "mbmon"
+The \fBmbmon\fR module uses mbmon to retrieve temperature, voltage, etc.
+.PP
+collectd connects to \fBlocalhost\fR (127.0.0.1), port \fB411/tcp\fR.
+The \fBHost\fR and \fBPort\fR options can be used to change these
+default values. See \fIcollectd.conf\fR\|(5) for details. \f(CW\*(C`mbmon\*(C'\fR has to be
+running to work correctly. If \f(CW\*(C`mbmon\*(C'\fR is not running timeouts may appear
+which may interfere with other statistics..
+.PP
+\&\f(CW\*(C`mbmon\*(C'\fR must be run with the \-r option (\*(L"print \s-1TAG\s0 and Value format\*(R");
+Debian's /etc/init.d/mbmon script already does this, other people
+will need to ensure that this is the case.
 .Sh "hddtemp"
 .IX Subsection "hddtemp"
 To get values from \fBhddtemp\fR collectd connects to \fBlocalhost\fR (127.0.0.1),
 port \fB7634/tcp\fR. The \fBHost\fR and \fBPort\fR options can be used to change these
 default values. See \fIcollectd.conf\fR\|(5) for details. \f(CW\*(C`hddtemp\*(C'\fR has to be
 running to work correctly. If \f(CW\*(C`hddtemp\*(C'\fR is not running timeouts may appear
@@ -400,12 +453,22 @@
 .Vb 4
 \&  DS:rcount:COUNTER:HEARTBEAT:0:U
 \&  DS:rbytes:COUNTER:HEARTBEAT:0:U
 \&  DS:wcount:COUNTER:HEARTBEAT:0:U
 \&  DS:wbytes:COUNTER:HEARTBEAT:0:U
 .Ve
+.IP "E\-Mail count (\fIemail/email\-\fI<type>\fI.rrd\fR)" 4
+.IX Item "E-Mail count (email/email-<type>.rrd)"
+.Vb 1
+\&  DS:count:GAUGE:HEARTBEAT:0:U
+.Ve
+.IP "E\-Mail size (\fIemail/email_size\-\fI<type>\fI.rrd\fR)" 4
+.IX Item "E-Mail size (email/email_size-<type>.rrd)"
+.Vb 1
+\&  DS:size:GAUGE:HEARTBEAT:0:U
+.Ve
 .IP "\s-1HDD\s0 Temperature (\fIhddtemp\-\fI<major>\fI\-\fI<minor>\fI.rrd\fR)" 4
 .IX Item "HDD Temperature (hddtemp-<major>-<minor>.rrd)"
 .Vb 1
 \&  DS:value:GAUGE:HEARTBEAT:U:U
 .Ve
 .IP "System load (\fIload.rrd\fR)" 4
@@ -505,23 +568,43 @@
 \&  DS:sleeping:GAUGE:HEARTBEAT:0:65535
 \&  DS:zombies:GAUGE:HEARTBEAT:0:65535
 \&  DS:stopped:GAUGE:HEARTBEAT:0:65535
 \&  DS:paging:GAUGE:HEARTBEAT:0:65535
 \&  DS:blocked:GAUGE:HEARTBEAT:0:65535
 .Ve
-.IP "lm_sensors (\fIsensors\-\fI<chip>\fI\-\fI<feature>\fI.rrd\fR)" 4
-.IX Item "lm_sensors (sensors-<chip>-<feature>.rrd)"
+.IP "lm_sensors fanspeed sensor (\fIsensors\-\fI<inst>\fI.rrd\fR or \fIlm_sensors\-\fI<chip>\fI/fanspeed\-\fI<inst>\fI.rrd\fR)" 4
+.IX Item "lm_sensors fanspeed sensor (sensors-<inst>.rrd or lm_sensors-<chip>/fanspeed-<inst>.rrd)"
 .Vb 1
 \&  DS:value:GAUGE:HEARTBEAT:U:U
 .Ve
+.IP "lm_sensors temperature sensor (\fIsensors\-\fI<inst>\fI.rrd\fR or \fIlm_sensors\-\fI<chip>\fI/temperature\-\fI<inst>\fI.rrd\fR)" 4
+.IX Item "lm_sensors temperature sensor (sensors-<inst>.rrd or lm_sensors-<chip>/temperature-<inst>.rrd)"
+.Vb 1
+\&  DS:value:GAUGE:HEARTBEAT:U:U
+.Ve
+.IP "lm_sensors voltage sensor (\fIsensors\-\fI<inst>\fI.rrd\fR or \fIlm_sensors\-\fI<chip>\fI/voltage\-\fI<inst>\fI.rrd\fR)" 4
+.IX Item "lm_sensors voltage sensor (sensors-<inst>.rrd or lm_sensors-<chip>/voltage-<inst>.rrd)"
+.Vb 1
+\&  DS:voltage:GAUGE:HEARTBEAT:U:U
+.Ve
 .IP "Serial port traffic (\fIserial\-\fI<num>\fI.rrd\fR)" 4
 .IX Item "Serial port traffic (serial-<num>.rrd)"
 .Vb 2
 \&  DS:incoming:COUNTER:HEARTBEAT:0:U
 \&  DS:outgoing:COUNTER:HEARTBEAT:0:U
 .Ve
+.IP "Spam score (\fIemail/spam_score.rrd\fR)" 4
+.IX Item "Spam score (email/spam_score.rrd)"
+.Vb 1
+\&  DS:score:GAUGE:HEARTBEAT:0:U
+.Ve
+.IP "Spam checks (\fIemail/spam_check\-\fI<type>\fI.rrd\fR)" 4
+.IX Item "Spam checks (email/spam_check-<type>.rrd)"
+.Vb 1
+\&  DS:hits:GAUGE:HEARTBEAT:0:U
+.Ve
 .IP "Swap usage (\fIswap.rrd\fR)" 4
 .IX Item "Swap usage (swap.rrd)"
 .Vb 4
 \&  DS:used:GAUGE:HEARTBEAT:0:1099511627776
 \&  DS:free:GAUGE:HEARTBEAT:0:1099511627776
 \&  DS:cached:GAUGE:HEARTBEAT:0:1099511627776
@@ -604,10 +687,11 @@
 \&  DS:power:GAUGE:HEARTBEAT:U:0
 \&  DS:noise:GAUGE:HEARTBEAT:U:0
 .Ve
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd.conf\fR\|(5), \fIrrdtool\fR\|(1), \fIsensors\fR\|(1), \fIhddtemp\fR\|(8),
+\&\fImbmon\fR\|(1),
 kstat(3KSTAT)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.c	2007-01-09 22:05:06.000000000 +0800
@@ -120,12 +120,14 @@
 	printf ("Usage: "PACKAGE" [OPTIONS]\n\n"
 			
 			"Available options:\n"
 			"  General:\n"
 			"    -C <file>       Configuration file.\n"
 			"                    Default: "CONFIGFILE"\n"
+			"    -P <file>       PID-file.\n"
+			"                    Default: "PIDFILE"\n"
 #if COLLECT_DAEMON
 			"    -f              Don't fork to the background.\n"
 #endif
 			"\nBuiltin defaults:\n"
 			"  Config-File       "CONFIGFILE"\n"
 			"  PID-File          "PIDFILE"\n"
@@ -188,13 +190,13 @@
 #endif
 		/* `curtime' is used by many (all?) plugins as the
 		 * data-sample-time passed to RRDTool */
 		curtime = time (NULL);
 
 		/* Issue all plugins */
-		plugin_read_all ();
+		plugin_read_all (&loop);
 
 		if (gettimeofday (&tv_now, NULL) < 0)
 		{
 			syslog (LOG_ERR, "gettimeofday failed: %s", strerror (errno));
 			return (-1);
 		}
@@ -202,13 +204,13 @@
 		if (timeval_sub_timespec (&tv_next, &tv_now, &ts_wait) != 0)
 		{
 			syslog (LOG_WARNING, "Not sleeping because `timeval_sub_timespec' returned non-zero!");
 			continue;
 		}
 
-		while (nanosleep (&ts_wait, &ts_wait) == -1)
+		while ((loop == 0) && (nanosleep (&ts_wait, &ts_wait) == -1))
 		{
 			if (errno != EINTR)
 			{
 				syslog (LOG_ERR, "nanosleep failed: %s", strerror (errno));
 				break;
 			}
@@ -289,13 +291,13 @@
 	struct sigaction sigIntAction;
 	struct sigaction sigTermAction;
 	char *datadir    = PKGLOCALSTATEDIR;
 	char *configfile = CONFIGFILE;
 #if COLLECT_DAEMON
 	struct sigaction sigChldAction;
-	char *pidfile    = PIDFILE;
+	char *pidfile    = NULL;
 	pid_t pid;
 	int daemonize    = 1;
 #endif
 #if COLLECT_DEBUG
 	char *logfile    = LOGFILE;
 #endif
@@ -313,25 +315,28 @@
 	while (1)
 	{
 		int c;
 
 		c = getopt (argc, argv, "hC:"
 #if COLLECT_DAEMON
-				"f"
+				"fP:"
 #endif
 		);
 
 		if (c == -1)
 			break;
 
 		switch (c)
 		{
 			case 'C':
 				configfile = optarg;
 				break;
 #if COLLECT_DAEMON
+			case 'P':
+				pidfile = optarg;
+				break;
 			case 'f':
 				daemonize = 0;
 				break;
 #endif /* COLLECT_DAEMON */
 			case 'h':
 			default:
@@ -376,13 +381,14 @@
 	/*
 	 * fork off child
 	 */
 	sigChldAction.sa_handler = SIG_IGN;
 	sigaction (SIGCHLD, &sigChldAction, NULL);
 
-	if ((pidfile = cf_get_option ("PIDFile", PIDFILE)) == NULL)
+	if ((pidfile == NULL)
+			&& ((pidfile = cf_get_option ("PIDFile", PIDFILE)) == NULL))
 	{
 		fprintf (stderr, "Cannot obtain pidfile. This shoud not happen. Ever.");
 		return (1);
 	}
 
 	if (daemonize)
@@ -446,12 +452,14 @@
 	if (operating_mode == MODE_SERVER)
 		start_server ();
 	else /* if (operating_mode == MODE_CLIENT || operating_mode == MODE_LOCAL || operating_mode == MODE_LOG) */
 #endif
 		start_client ();
 
+	plugin_shutdown_all ();
+
 #if COLLECT_DEBUG
 	if (logfile != NULL)
 		DBG_STOPFILE("debug file closed.");
 #endif
 
 	/* close syslog */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.conf.5	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.conf.5	2007-01-09 22:08:08.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2006-12-21" "3.10.4" "collectd"
+.TH COLLECTD.CONF 5 "2007-01-09" "3.11.0" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 5
 \&  Mode    Client
@@ -176,13 +176,14 @@
 .IX Item "LoadPlugin Plugin"
 Loads the plugin \fIPlugin\fR. There must be at least one such line or \fBcollectd\fR
 will be mostly useless. The names of the plugins are listed in \fIcollectd\fR\|(1).
 .IP "\fBPIDFile\fR \fIFile\fR" 4
 .IX Item "PIDFile File"
 Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
-and deleted when the program ist stopped. Available in \fBall modes\fR.
+and deleted when the program ist stopped. Some init-scripts might override this
+setting using the \fB\-P\fR commandline option. Available in \fBall modes\fR.
 .IP "\fBDataDir\fR \fIDirectory\fR" 4
 .IX Item "DataDir Directory"
 Sets the data directory. This is the directory beneath all RRD-files are
 created. Possibly more subdirectories are created. This is also the working
 directory for the daemon. Available in \fBall modes\fR, though the \fBClient\fR mode
 won't write to this directory.
@@ -269,21 +270,78 @@
 Hostname of the host running \fBapcupsd\fR. Defaults to \fBlocalhost\fR. Please note
 that IPv6 support has been disabled unless someone can confirm or decline that
 \&\fBapcupsd\fR can handle it.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 TCP-Port to connect to. Defaults to \fB3551\fR.
+.ie n .Sh "Plugin ""df"""
+.el .Sh "Plugin \f(CWdf\fP"
+.IX Subsection "Plugin df"
+.IP "\fBDevice\fR \fIDevice\fR" 4
+.IX Item "Device Device"
+Select partitions based on the devicename.
+.IP "\fBMountPoint\fR \fIDirectory\fR" 4
+.IX Item "MountPoint Directory"
+Select partitions based on the mountpoint.
+.IP "\fBFSType\fR \fIFSType\fR" 4
+.IX Item "FSType FSType"
+Select partitions based on the filesystem type.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+Invert the selection: If set to true, all partitions \fBexcept\fR the ones that
+match any one of the criteria are collected. By default only selected
+partitions are collected if a selection is made. If no selection is conifured
+at all, \fBall\fR partitions are selected.
+.ie n .Sh "Plugin ""dns"""
+.el .Sh "Plugin \f(CWdns\fP"
+.IX Subsection "Plugin dns"
+.IP "\fBInterface\fR \fIInterface\fR" 4
+.IX Item "Interface Interface"
+The dns plugin uses \fBlibpcap\fR to capture dns traffic and analyses it. This
+option sets the interface that should be used. If this option is not set, or
+set to \*(L"any\*(R", the plugin will try to get packets from \fBall\fR interfaces. This
+may not work on certain platforms, such as Mac\ \s-1OS\s0\ X.
+.IP "\fBIgnoreSource\fR \fIIP-address\fR" 4
+.IX Item "IgnoreSource IP-address"
+Ignore packets that originate from this address.
+.ie n .Sh "Plugin ""email"""
+.el .Sh "Plugin \f(CWemail\fP"
+.IX Subsection "Plugin email"
+.IP "\fBSocketGroup\fR \fIGroup\fR" 4
+.IX Item "SocketGroup Group"
+If running as root change the group of the UNIX-socket after it has been 
+created. Defaults to \fBcollectd\fR.
+.IP "\fBSocketPerms\fR \fIPermissions\fR" 4
+.IX Item "SocketPerms Permissions"
+Change the file permissions of the UNIX-socket after it has been created. The
+permissions must be given as a numeric, octal value as you would pass to
+\&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
+.IP "\fBMaxConns\fR \fINumber\fR" 4
+.IX Item "MaxConns Number"
+Sets the maximum number of connections that can be handled in parallel. Since
+this many threads will be started immediately setting this to a very high
+value will waste valuable resources. Defaults to \fB5\fR and will be forced to be
+at most \fB16384\fR to prevent typos and dumb mistakes.
 .ie n .Sh "Plugin ""hddtemp"""
 .el .Sh "Plugin \f(CWhddtemp\fP"
 .IX Subsection "Plugin hddtemp"
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname to connect to. Defaults to \fB127.0.0.1\fR.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 TCP-Port to connect to. Defaults to \fB7634\fR.
+.ie n .Sh "Plugin ""mbmon"""
+.el .Sh "Plugin \f(CWmbmon\fP"
+.IX Subsection "Plugin mbmon"
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname to connect to. Defaults to \fB127.0.0.1\fR.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+TCP-Port to connect to. Defaults to \fB411\fR.
 .ie n .Sh "Plugin ""ntpd"""
 .el .Sh "Plugin \f(CWntpd\fP"
 .IX Subsection "Plugin ntpd"
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname of the host running \fBntpd\fR. Defaults to \fBlocalhost\fR.
@@ -313,12 +371,68 @@
 .IX Item "Host IP-address"
 Host to ping periodically. This option may be repeated several times to ping
 multiple hosts.
 .IP "\fB\s-1TTL\s0\fR \fI0\-255\fR" 4
 .IX Item "TTL 0-255"
 Sets the Time-To-Live of generated \s-1ICMP\s0 packets.
+.ie n .Sh "Plugin ""sensors"""
+.el .Sh "Plugin \f(CWsensors\fP"
+.IX Subsection "Plugin sensors"
+.IP "\fBExtendedSensorNaming\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "ExtendedSensorNaming true|false"
+If set to \fItrue\fR this option switches on the extended sensors and RRD-files
+naming. This option exists to preserve backwards compatibility. It is
+recommended that you set this option to \fItrue\fR. The default is \fIfalse\fR to
+maintain compatibility only.
+.Sp
+Sensors get names like \fIchip\-bus\-address/type\-feature\fR (e.g.
+\&\fIit8712\-isa\-0290/voltage\-in1\fR) and \s-1RRD\s0 files are therefore stored in a
+standalone directory inside the \fBDataDir\fR directory and get names like
+\&\fIlm_sensors\-chip\-bus\-address/type\-feature.rrd\fR (e.g.
+\&\fIlm_sensors\-it8712\-isa\-0290/voltage\-in1.rrd\fR).
+.Sp
+The \fBExtendedSensorNaming\fR option breaks the compatibility with previous
+sensors and \s-1RRD\s0 files naming and the place where RRDs are stored. If you turn
+it on, the plugin will create new \s-1RRD\s0 files in a standalone directory inside
+the \fBDataDir\fR directory and without previous history. You can rename ``old''
+RRD-files to preserve already collected statistics, because the file layout
+hasn't changed. If you have two chips of the same type, you need to use
+\&\fBExtendedSensorNaming\fR in order to collect information from both chips.
+.Sp
+If not set or set to \fIfalse\fR, the extended naming is not active. Sensors get
+names like \fIchip-feature\fR (e.g. \fIit8712\-in1\fR) and \s-1RRD\s0 files are stored in the
+main \fBDataDir\fR directory and get names like \fIsensors\-chip\-feature.rrd\fR (e.g.
+\&\fIsensors\-it8712\-in1.rrd\fR).  You simply continue using the plugin the old way
+and additionally also getting data for newly added sensors in this mode.
+.IP "\fBSensor\fR \fIchip-feature\fR or \fBSensor\fR \fIchip\-bus\-address/type\-feature\fR" 4
+.IX Item "Sensor chip-feature or Sensor chip-bus-address/type-feature"
+Both option modes select the name of the sensor which you want to collect.
+The naming scheme is dependent on the state of the \fBExtendedSensorNaming\fR
+option (see previous option). Both option modes can also deselect the
+sensor according to the \fBIgnoreSelected\fR option (see below).
+.Sp
+For example the option "\fBSensor\fR \fIit8712\-in1\fR" will cause the collectd
+to gather data for the voltage sensor \fIin1\fR of the \fIit8712\fR chip in case
+of the \fBExtendedSensorNaming\fR option is set to \fIfalse\fR.
+.Sp
+And likewise the option "\fBSensor\fR \fIit8712\-isa\-0290/voltage\-in1\fR" will
+cause the collectd to gather data for the voltage sensor \fIin1\fR of the \fIit8712\fR
+on the isa bus at the address 0290 in case of the \fBExtendedSensorNaming\fR
+option set to \fItrue\fR.
+.IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+If no configuration if given, the \fBsensors\fR\-plugin will collect data from
+all sensors. This may not be practical, especially for uninteresting sensors.
+Thus, you can use the \fBSensor\fR\-option to pick the sensors you're
+interested in. Sometimes, however, it's easier/prefered to collect all
+sensors \fIexcept\fR a few ones. This option enables you to
+do that: By setting \fBIgnoreSelected\fR to \fItrue\fR the effect of
+\&\fBSensor\fR is inversed: All selected sensors are ignored and all
+other sensors are collected.
+.Sp
+back
 .ie n .Sh "Plugin ""traffic"""
 .el .Sh "Plugin \f(CWtraffic\fP"
 .IX Subsection "Plugin traffic"
 .IP "\fBInterface\fR \fIInterface\fR" 4
 .IX Item "Interface Interface"
 Select this interface. By default these interfaces will then be collected. For a more detailed description see \fBIgnoreSelected\fR below.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.conf.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.conf.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.conf.in	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.conf.in	2007-01-09 22:05:06.000000000 +0800
@@ -25,15 +25,18 @@
 @BUILD_MODULE_APPLE_SENSORS_TRUE@LoadPlugin apple_sensors
 @BUILD_MODULE_BATTERY_TRUE@LoadPlugin battery
 @BUILD_MODULE_CPU_TRUE@LoadPlugin cpu
 @BUILD_MODULE_CPUFREQ_TRUE@LoadPlugin cpufreq
 @BUILD_MODULE_DF_TRUE@LoadPlugin df
 @BUILD_MODULE_DISK_TRUE@LoadPlugin disk
+@BUILD_MODULE_DNS_TRUE@LoadPlugin dns
 @BUILD_MODULE_HDDTEMP_TRUE@LoadPlugin hddtemp
 @BUILD_MODULE_LOAD_TRUE@LoadPlugin load
+@BUILD_MODULE_MBMON_TRUE@LoadPlugin mbmon
 @BUILD_MODULE_MEMORY_TRUE@LoadPlugin memory
+@BUILD_MODULE_MULTIMETER_TRUE@LoadPlugin multimeter
 @BUILD_MODULE_MYSQL_TRUE@LoadPlugin mysql
 @BUILD_MODULE_NFS_TRUE@LoadPlugin nfs
 @BUILD_MODULE_NTPD_TRUE@LoadPlugin ntpd
 @BUILD_MODULE_PING_TRUE@LoadPlugin ping
 @BUILD_MODULE_PROCESSES_TRUE@LoadPlugin processes
 @BUILD_MODULE_SENSORS_TRUE@LoadPlugin sensors
@@ -54,17 +57,27 @@
 
 #<Plugin apcups>
 #	Host localhost
 #	Port 3551
 #</Plugin>
 
+#<Plugin dns>
+#	Interface eth0
+#	IgnoreSource 192.168.0.1
+#</Plugin>
+
 #<Plugin hddtemp>
 #	Host 127.0.0.1
 #	Port 7634
 #</Plugin>
 
+#<Plugin mbmon>
+#	Host 127.0.0.1
+#	Port 411
+#</Plugin>
+
 #<Plugin ntpd>
 #	Host localhost
 #	Port 123
 #</Plugin>
 
 #<Plugin mysql>
@@ -75,10 +88,31 @@
 #</Plugin>
 
 #<Plugin ping>
 #	Host host.foo.bar
 #</Plugin>
 
+#<Plugin processes>
+#	Process name
+#</Plugin>
+
+## There are two different naming schemes for the sensors plugin, to preserver
+## backwards compatibility. The `extended naming' is prefered, but not the
+## default for this reason. See `collectd.conf(5)' for more information.
+#<Plugin sensors>
+#	ExtendedSensorNaming false
+#	Sensor it8712-temp1
+#	Sensor it8712-fan3
+#	Sensor it8712-in8
+## -- OR --
+#	ExtendedSensorNaming true
+#	Sensor it8712-isa-0290/temperature-temp1
+#	Sensor it8712-isa-0290/fanspeed-fan3
+#	Sensor it8712-isa-0290/voltage-in8
+#
+#	IgnoreSelected false
+#</Plugin>
+
 #<Plugin traffic>
 #	Interface eth0
 #	IgnoreSelected false
 #</Plugin>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/collectd.h	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/collectd.h	2007-01-09 22:05:06.000000000 +0800
@@ -125,25 +125,13 @@
 # include <ctype.h>
 #endif
 #if HAVE_SYS_PARAM_H
 # include <sys/param.h>
 #endif
 
-#if HAVE_SYSLOG
-# define syslog(...) syslog(__VA_ARGS__)
-# if HAVE_OPENLOG
-#  define openlog(...) openlog(__VA_ARGS__)
-# else
-#  define openlog(...) /**/
-# endif
-# if HAVE_CLOSELOG
-#  define closelog(...) closelog(__VA_ARGS__)
-# else
-#  define closelog(...) /**/
-# endif
-#else
+#if !HAVE_SYSLOG
 # define syslog(...) /**/
 # define openlog(...) /**/
 # define closelog(...) /**/
 #endif
 
 #if HAVE_KSTAT_H
@@ -197,12 +185,16 @@
 
 #define MODE_SERVER 0x01
 #define MODE_CLIENT 0x02
 #define MODE_LOCAL  0x04
 #define MODE_LOG    0x08
 
+#ifndef COLLECTD_GRP_NAME
+# define COLLECTD_GRP_NAME "collectd"
+#endif
+
 #ifndef COLLECTD_STEP
 #  define COLLECTD_STEP "10"
 #endif
 
 #ifndef COLLECTD_HEARTBEAT
 #  define COLLECTD_HEARTBEAT "25"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/config.h.in	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/config.h.in	2007-01-09 22:06:07.000000000 +0800
@@ -33,12 +33,18 @@
 /* wether or not to enable module df statistics */
 #undef COLLECT_DF
 
 /* wether or not to enable module disk/partition statistics */
 #undef COLLECT_DISK
 
+/* wether or not to enable module dns statistics */
+#undef COLLECT_DNS
+
+/* wether or not to enable module email statistics */
+#undef COLLECT_EMAIL
+
 /* wether or not to enable feature getifaddrs under Linux */
 #undef COLLECT_GETIFADDRS
 
 /* wether or not to enable module hdd temperature statistics */
 #undef COLLECT_HDDTEMP
 
@@ -48,24 +54,33 @@
 /* Wether or not to use the IOKit library */
 #undef COLLECT_LIBIOKIT
 
 /* Wether or not to use mysql library */
 #undef COLLECT_LIBMYSQL
 
+/* Wether or not to use the pcap library */
+#undef COLLECT_LIBPCAP
+
 /* Wether or not to use statgrab library */
 #undef COLLECT_LIBSTATGRAB
 
 /* Wether or not to use sensors library */
 #undef COLLECT_LM_SENSORS
 
 /* wether or not to enable module system load statistics */
 #undef COLLECT_LOAD
 
+/* wether or not to enable module motherboard monitor statistics */
+#undef COLLECT_MBMON
+
 /* wether or not to enable module memory statistics */
 #undef COLLECT_MEMORY
 
+/* wether or not to enable module multimeter statistics */
+#undef COLLECT_MULTIMETER
+
 /* wether or not to enable module mysql statistics */
 #undef COLLECT_MYSQL
 
 /* wether or not to enable module nfs statistics */
 #undef COLLECT_NFS
 
@@ -108,12 +123,18 @@
 /* wether or not to enable module wireless link statistics */
 #undef COLLECT_WIRELESS
 
 /* Define to 1 if you have the <arpa/inet.h> header file. */
 #undef HAVE_ARPA_INET_H
 
+/* Define to 1 if you have the <arpa/nameser_compat.h> header file. */
+#undef HAVE_ARPA_NAMESER_COMPAT_H
+
+/* Define to 1 if you have the <arpa/nameser.h> header file. */
+#undef HAVE_ARPA_NAMESER_H
+
 /* Define to 1 if you have the <assert.h> header file. */
 #undef HAVE_ASSERT_H
 
 /* Define to 1 if you have the `closelog' function. */
 #undef HAVE_CLOSELOG
 
@@ -234,33 +255,45 @@
 /* Define to 1 if you have the `m' library (-lm). */
 #undef HAVE_LIBM
 
 /* Define to 1 if you have the mysqlclient library (-lmysqlclient). */
 #undef HAVE_LIBMYSQLCLIENT
 
+/* Define to 1 if you have the pcap library (-lpcap). */
+#undef HAVE_LIBPCAP
+
+/* Wether or not to use pthread (POSIX threads) library */
+#undef HAVE_LIBPTHREAD
+
 /* Define to 1 if you have the 'resolv' library (-lresolv). */
 #undef HAVE_LIBRESOLV
 
 /* Define to 1 if you have the rrd library (-lrrd). */
 #undef HAVE_LIBRRD
 
 /* Define to 1 if you have the sensors library (-lsensors). */
 #undef HAVE_LIBSENSORS
 
 /* Define to 1 if you have the <limits.h> header file. */
 #undef HAVE_LIMITS_H
 
+/* Define to 1 if you have the <linux/config.h> header file. */
+#undef HAVE_LINUX_CONFIG_H
+
 /* Define to 1 if you have the <linux/if.h> header file. */
 #undef HAVE_LINUX_IF_H
 
 /* Define to 1 if you have the <linux/major.h> header file. */
 #undef HAVE_LINUX_MAJOR_H
 
 /* Define to 1 if you have the <linux/netdevice.h> header file. */
 #undef HAVE_LINUX_NETDEVICE_H
 
+/* Define to 1 if you have the <linux/un.h> header file. */
+#undef HAVE_LINUX_UN_H
+
 /* Define to 1 if you have the `listmntent' function. */
 #undef HAVE_LISTMNTENT
 
 /* Define to 1 if you have the <mach/host_priv.h> header file. */
 #undef HAVE_MACH_HOST_PRIV_H
 
@@ -339,12 +372,15 @@
 /* Define to 1 if you have the <netdb.h> header file. */
 #undef HAVE_NETDB_H
 
 /* Define to 1 if you have the <netinet/icmp6.h> header file. */
 #undef HAVE_NETINET_ICMP6_H
 
+/* Define to 1 if you have the <netinet/if_ether.h> header file. */
+#undef HAVE_NETINET_IF_ETHER_H
+
 /* Define to 1 if you have the <netinet/in.h> header file. */
 #undef HAVE_NETINET_IN_H
 
 /* Define to 1 if you have the <netinet/in_systm.h> header file. */
 #undef HAVE_NETINET_IN_SYSTM_H
 
@@ -357,30 +393,60 @@
 /* Define to 1 if you have the <netinet/ip_icmp.h> header file. */
 #undef HAVE_NETINET_IP_ICMP_H
 
 /* Define to 1 if you have the <netinet/ip_var.h> header file. */
 #undef HAVE_NETINET_IP_VAR_H
 
+/* Define to 1 if you have the <netinet/udp.h> header file. */
+#undef HAVE_NETINET_UDP_H
+
+/* Define to 1 if you have the <net/if_arp.h> header file. */
+#undef HAVE_NET_IF_ARP_H
+
 /* Define to 1 if you have the <net/if.h> header file. */
 #undef HAVE_NET_IF_H
 
+/* Define to 1 if you have the <net/if_ppp.h> header file. */
+#undef HAVE_NET_IF_PPP_H
+
 /* Define if the function getmntent exists and takes one argument. */
 #undef HAVE_ONE_GETMNTENT
 
 /* Define to 1 if you have the `openlog' function. */
 #undef HAVE_OPENLOG
 
 /* Define to 1 if you have the <paths.h> header file. */
 #undef HAVE_PATHS_H
 
+/* Define to 1 if you have the <pcap.h> header file. */
+#undef HAVE_PCAP_H
+
+/* Define to 1 if you have the <pthread.h> header file. */
+#undef HAVE_PTHREAD_H
+
 /* Define to 1 if you have the <pwd.h> header file. */
 #undef HAVE_PWD_H
 
 /* Define to 1 if you have the `quotactl' function. */
 #undef HAVE_QUOTACTL
 
+/* Define to 1 if you have the `regcomp' function. */
+#undef HAVE_REGCOMP
+
+/* Define to 1 if you have the `regerror' function. */
+#undef HAVE_REGERROR
+
+/* Define to 1 if you have the `regexec' function. */
+#undef HAVE_REGEXEC
+
+/* Define to 1 if you have the <regex.h> header file. */
+#undef HAVE_REGEX_H
+
+/* Define to 1 if you have the `regfree' function. */
+#undef HAVE_REGFREE
+
 /* Define to 1 if you have the <rrd.h> header file. */
 #undef HAVE_RRD_H
 
 /* Define to 1 if you have the `select' function. */
 #undef HAVE_SELECT
 
@@ -554,12 +620,15 @@
 /* Define to 1 if you have the <sys/types.h> header file. */
 #undef HAVE_SYS_TYPES_H
 
 /* Define to 1 if you have the <sys/ucred.h> header file. */
 #undef HAVE_SYS_UCRED_H
 
+/* Define to 1 if you have the <sys/un.h> header file. */
+#undef HAVE_SYS_UN_H
+
 /* Define to 1 if you have the <sys/vfstab.h> header file. */
 #undef HAVE_SYS_VFSTAB_H
 
 /* Define to 1 if you have the <sys/vfs.h> header file. */
 #undef HAVE_SYS_VFS_H
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/cpu.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/cpu.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/cpu.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/cpu.c	2007-01-09 22:05:06.000000000 +0800
@@ -309,18 +309,25 @@
 	FILE *fh;
 	char buf[BUFSIZE];
 
 	char *fields[9];
 	int numfields;
 
+	static complain_t complain_obj;
+
 	if ((fh = fopen ("/proc/stat", "r")) == NULL)
 	{
-		syslog (LOG_WARNING, "cpu: fopen: %s", strerror (errno));
+		plugin_complain (LOG_ERR, &complain_obj, "cpu plugin: "
+				"fopen (/proc/stat) failed: %s",
+				strerror (errno));
 		return;
 	}
 
+	plugin_relief (LOG_NOTICE, &complain_obj, "cpu plugin: "
+			"fopen (/proc/stat) succeeded.");
+
 	while (fgets (buf, BUFSIZE, fh) != NULL)
 	{
 		if (strncmp (buf, "cpu", 3))
 			continue;
 		if ((buf[3] < '0') || (buf[3] > '9'))
 			continue;
@@ -381,20 +388,27 @@
 /* #endif defined(HAVE_LIBKSTAT) */
 
 #elif defined(HAVE_SYSCTLBYNAME)
 	long cpuinfo[CPUSTATES];
 	size_t cpuinfo_size;
 
+	static complain_t complain_obj;
+
 	cpuinfo_size = sizeof (cpuinfo);
 
 	if (sysctlbyname("kern.cp_time", &cpuinfo, &cpuinfo_size, NULL, 0) < 0)
 	{
-		syslog (LOG_WARNING, "cpu: sysctlbyname: %s", strerror (errno));
+		plugin_complain (LOG_ERR, &complain_obj, "cpu plugin: "
+				"sysctlbyname failed: %s.",
+				strerror (errno));
 		return;
 	}
 
+	plugin_relief (LOG_NOTICE, &complain_obj, "cpu plugin: "
+			"sysctlbyname succeeded.");
+
 	cpuinfo[CP_SYS] += cpuinfo[CP_INTR];
 
 	/* FIXME: Instance is always `0' */
 	cpu_submit (0, cpuinfo[CP_USER], cpuinfo[CP_NICE], cpuinfo[CP_SYS], cpuinfo[CP_IDLE], 0LL);
 #endif
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/df.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/df.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/df.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/df.c	2007-01-09 22:05:06.000000000 +0800
@@ -20,13 +20,15 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
+#include "configfile.h"
 #include "utils_mount.h"
+#include "utils_ignorelist.h"
 
 #define MODULE_NAME "df"
 
 #if HAVE_STATFS || HAVE_STATVFS
 # define DF_HAVE_READ 1
 #else
@@ -54,19 +56,84 @@
 	"DS:used:GAUGE:"COLLECTD_HEARTBEAT":0:U",
 	"DS:free:GAUGE:"COLLECTD_HEARTBEAT":0:U",
 	NULL
 };
 static int ds_num = 2;
 
+static char *config_keys[] =
+{
+	"Device",
+	"MountPoint",
+	"FSType",
+	"IgnoreSelected",
+	NULL
+};
+static int config_keys_num = 4;
+
+static ignorelist_t *il_device = NULL;
+static ignorelist_t *il_mountpoint = NULL;
+static ignorelist_t *il_fstype = NULL;
+
 #define BUFSIZE 512
 
 static void df_init (void)
 {
+	if (il_device == NULL)
+		il_device = ignorelist_create (1);
+	if (il_mountpoint == NULL)
+		il_mountpoint = ignorelist_create (1);
+	if (il_fstype == NULL)
+		il_fstype = ignorelist_create (1);
+
 	return;
 }
 
+static int df_config (char *key, char *value)
+{
+	df_init ();
+
+	if (strcasecmp (key, "Device") == 0)
+	{
+		if (ignorelist_add (il_device, value))
+			return (1);
+		return (0);
+	}
+	else if (strcasecmp (key, "MountPoint") == 0)
+	{
+		if (ignorelist_add (il_mountpoint, value))
+			return (1);
+		return (0);
+	}
+	else if (strcasecmp (key, "FSType") == 0)
+	{
+		if (ignorelist_add (il_fstype, value))
+			return (1);
+		return (0);
+	}
+	else if (strcasecmp (key, "IgnoreSelected") == 0)
+	{
+		if ((strcasecmp (value, "True") == 0)
+				|| (strcasecmp (value, "Yes") == 0)
+				|| (strcasecmp (value, "On") == 0))
+		{
+			ignorelist_set_invert (il_device, 0);
+			ignorelist_set_invert (il_mountpoint, 0);
+			ignorelist_set_invert (il_fstype, 0);
+		}
+		else
+		{
+			ignorelist_set_invert (il_device, 1);
+			ignorelist_set_invert (il_mountpoint, 1);
+			ignorelist_set_invert (il_fstype, 1);
+		}
+		return (0);
+	}
+
+	return (-1);
+}
+
 static void df_write (char *host, char *inst, char *val)
 {
 	char file[BUFSIZE];
 	int status;
 
 	status = snprintf (file, BUFSIZE, filename_template, inst);
@@ -140,22 +207,33 @@
 
 			for (i = 0; i < len; i++)
 				if (mnt_name[i] == '/')
 					mnt_name[i] = '-';
 		}
 
+		if (ignorelist_match (il_device,
+					(mnt_ptr->spec_device != NULL)
+					? mnt_ptr->spec_device
+					: mnt_ptr->device))
+			continue;
+		if (ignorelist_match (il_mountpoint, mnt_ptr->dir))
+			continue;
+		if (ignorelist_match (il_fstype, mnt_ptr->type))
+			continue;
+
 		df_submit (mnt_name, df_used, df_free);
 	}
 
 	cu_mount_freelist (mnt_list);
 } /* static void df_read (void) */
 #else
 # define df_read NULL
 #endif /* DF_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, df_init, df_read, df_write);
+	cf_register (MODULE_NAME, df_config, config_keys, config_keys_num);
 }
 
 #undef BUFSIZE
 #undef MODULE_NAME
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/disk.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/disk.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/disk.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/disk.c	2007-01-09 22:05:06.000000000 +0800
@@ -312,20 +312,28 @@
 	signed long long write_tme;
 
 	int  disk_major;
 	int  disk_minor;
 	char disk_name[64];
 
+	static complain_t complain_obj;
+
 	/* Get the list of all disk objects. */
 	if (IOServiceGetMatchingServices (io_master_port,
 				IOServiceMatching (kIOBlockStorageDriverClass),
 				&disk_list) != kIOReturnSuccess)
 	{
-		syslog (LOG_ERR, "disk-plugin: IOServiceGetMatchingServices failed.");
+		plugin_complain (LOG_ERR, &complain_obj, "disk plugin: "
+				"IOServiceGetMatchingServices failed.");
 		return;
 	}
+	else if (complain_obj.interval != 0)
+	{
+		plugin_relief (LOG_NOTICE, &complain_obj, "disk plugin: "
+				"IOServiceGetMatchingServices succeeded.");
+	}
 
 	while ((disk = IOIteratorNext (disk_list)) != 0)
 	{
 		props_dict = NULL;
 		stats_dict = NULL;
 		child_dict = NULL;
@@ -457,21 +465,28 @@
 	unsigned long long write_bytes   = 0ULL;
 	unsigned long long write_time    = 0ULL;
 	int is_disk = 0;
 
 	diskstats_t *ds, *pre_ds;
 
+	static complain_t complain_obj;
+
 	if ((fh = fopen ("/proc/diskstats", "r")) == NULL)
 	{
 		if ((fh = fopen ("/proc/partitions", "r")) == NULL)
+		{
+			plugin_complain (LOG_ERR, &complain_obj, "disk plugin: Failed to open /proc/{diskstats,partitions}.");
 			return;
+		}
 
 		/* Kernel is 2.4.* */
 		fieldshift = 1;
 	}
 
+	plugin_relief (LOG_NOTICE, &complain_obj, "disk plugin: Succeeded to open /proc/{diskstats,partitions}.");
+
 	while (fgets (buffer, 1024, fh) != NULL)
 	{
 		numfields = strsplit (buffer, fields, 32);
 
 		if ((numfields != (14 + fieldshift)) && (numfields != 7))
 			continue;
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: dns.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: email.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/libconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/libconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/libconfig/Makefile.in	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/libconfig/Makefile.in	2007-01-09 22:06:12.000000000 +0800
@@ -97,18 +97,26 @@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
 BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
 BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
+BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
+BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
+BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
+BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
+BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
+BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
+BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
 BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
 BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
 BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
@@ -148,12 +156,16 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/liboping/liboping.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/liboping/liboping.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/liboping/liboping.c	2006-12-22 03:56:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/liboping/liboping.c	2007-01-09 22:05:06.000000000 +0800
@@ -534,13 +534,23 @@
 	}
 
 	ret = sendto (ph->fd, buf, buflen, 0,
 			(struct sockaddr *) ph->addr, ph->addrlen);
 
 	if (ret < 0)
+	{
+#if defined(EHOSTUNREACH)
+		if (errno == EHOSTUNREACH)
+			return (0);
+#endif
+#if defined(ENETUNREACH)
+		if (errno == ENETUNREACH)
+			return (0);
+#endif
 		ping_set_error (obj, "sendto", strerror (errno));
+	}
 
 	return (ret);
 }
 
 static int ping_send_one_ipv4 (pingobj_t *obj, pinghost_t *ph)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/liboping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/liboping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/liboping/Makefile.in	2006-12-22 03:56:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/liboping/Makefile.in	2007-01-09 22:06:13.000000000 +0800
@@ -95,18 +95,26 @@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
 BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
 BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
+BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
+BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
+BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
+BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
+BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
+BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
+BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
 BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
 BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
 BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
@@ -146,12 +154,16 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/Makefile.am	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/Makefile.am	2007-01-09 22:05:06.000000000 +0800
@@ -9,12 +9,13 @@
 
 sbin_PROGRAMS = collectd
 
 collectd_SOURCES = collectd.c collectd.h \
 		   utils_debug.c utils_debug.h \
 		   utils_mount.c utils_mount.h \
+		   utils_ignorelist.c utils_ignorelist.h \
 		   common.c common.h \
 		   network.c network.h \
 		   plugin.c plugin.h \
 		   configfile.c configfile.h
 collectd_CPPFLAGS = $(LTDLINCL)
 collectd_CPPFLAGS += -DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"'
@@ -152,12 +153,37 @@
 disk_la_LDFLAGS += -lIOKit
 endif
 collectd_LDADD += "-dlopen" disk.la
 collectd_DEPENDENCIES += disk.la
 endif
 
+if BUILD_MODULE_DNS
+pkglib_LTLIBRARIES += dns.la
+dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
+dns_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LIBPCAP
+dns_la_LDFLAGS += -lpcap
+endif
+if BUILD_WITH_LIBPTHREAD
+dns_la_LDFLAGS += -lpthread
+endif
+collectd_LDADD += "-dlopen" dns.la
+collectd_DEPENDENCIES += dns.la
+endif
+
+if BUILD_MODULE_EMAIL
+pkglib_LTLIBRARIES += email.la
+email_la_SOURCES = email.c
+email_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LIBPTHREAD
+email_la_LDFLAGS += -lpthread
+endif
+collectd_LDADD += "-dlopen" email.la
+collectd_DEPENDENCIES += email.la
+endif
+
 #if BUILD_MODULE_QUOTA
 #pkglib_LTLIBRARIES += quota.la
 #quota_la_SOURCES = quota_plugin.c quota_plugin.h
 #quota_la_SOURCES += quota_fs.c quota_fs.h
 #quota_la_SOURCES += quota_mnt.c quota_mnt.h
 #quota_la_LDFLAGS = -module -avoid-version
@@ -191,12 +217,23 @@
 load_la_LDFLAGS += -ldevstat
 endif
 load_la_LDFLAGS += -lstatgrab
 endif
 endif
 
+if BUILD_MODULE_MBMON
+pkglib_LTLIBRARIES += mbmon.la
+mbmon_la_SOURCES = mbmon.c
+mbmon_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LIBSOCKET
+mbmon_la_LDFLAGS += -lsocket
+endif
+collectd_LDADD += "-dlopen" mbmon.la
+collectd_DEPENDENCIES += mbmon.la
+endif
+
 if BUILD_MODULE_MEMORY
 pkglib_LTLIBRARIES += memory.la
 memory_la_SOURCES = memory.c
 memory_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" memory.la
 collectd_DEPENDENCIES += memory.la
@@ -214,12 +251,20 @@
 memory_la_LDFLAGS += -ldevstat
 endif
 memory_la_LDFLAGS += -lstatgrab
 endif
 endif
 
+if BUILD_MODULE_MULTIMETER
+pkglib_LTLIBRARIES += multimeter.la
+multimeter_la_SOURCES = multimeter.c
+multimeter_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" multimeter.la
+collectd_DEPENDENCIES += multimeter.la
+endif
+
 if BUILD_MODULE_MYSQL
 pkglib_LTLIBRARIES += mysql.la
 mysql_la_SOURCES = mysql.c
 mysql_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBMYSQL
 mysql_la_LDFLAGS += -lmysqlclient
@@ -386,10 +431,10 @@
 	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >$@
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	if test -e $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	then \
-		$(INSTALL_DATA) collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
+		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
 	else \
-		$(INSTALL_DATA) collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf; \
+		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	fi
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/Makefile.in	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/Makefile.in	2007-01-09 22:06:12.000000000 +0800
@@ -80,96 +80,112 @@
 @BUILD_MODULE_DISK_TRUE@am__append_40 = disk.la
 @BUILD_MODULE_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_41 = -lkstat
 @BUILD_MODULE_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_42 = -ldevinfo
 @BUILD_MODULE_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_43 = -lIOKit
 @BUILD_MODULE_DISK_TRUE@am__append_44 = "-dlopen" disk.la
 @BUILD_MODULE_DISK_TRUE@am__append_45 = disk.la
+@BUILD_MODULE_DNS_TRUE@am__append_46 = dns.la
+@BUILD_MODULE_DNS_TRUE@@BUILD_WITH_LIBPCAP_TRUE@am__append_47 = -lpcap
+@BUILD_MODULE_DNS_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_48 = -lpthread
+@BUILD_MODULE_DNS_TRUE@am__append_49 = "-dlopen" dns.la
+@BUILD_MODULE_DNS_TRUE@am__append_50 = dns.la
+@BUILD_MODULE_EMAIL_TRUE@am__append_51 = email.la
+@BUILD_MODULE_EMAIL_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_52 = -lpthread
+@BUILD_MODULE_EMAIL_TRUE@am__append_53 = "-dlopen" email.la
+@BUILD_MODULE_EMAIL_TRUE@am__append_54 = email.la
 
 #if BUILD_MODULE_QUOTA
 #pkglib_LTLIBRARIES += quota.la
 #quota_la_SOURCES = quota_plugin.c quota_plugin.h
 #quota_la_SOURCES += quota_fs.c quota_fs.h
 #quota_la_SOURCES += quota_mnt.c quota_mnt.h
 #quota_la_LDFLAGS = -module -avoid-version
 #quota_la_CFLAGS = -Werror
 #collectd_LDADD += "-dlopen" quota.la
 #collectd_DEPENDENCIES += quota.la
 #endif
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_46 = hddtemp.la
-@BUILD_MODULE_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_47 = -lsocket
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_48 = "-dlopen" hddtemp.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_49 = hddtemp.la
-@BUILD_MODULE_LOAD_TRUE@am__append_50 = load.la
-@BUILD_MODULE_LOAD_TRUE@am__append_51 = "-dlopen" load.la
-@BUILD_MODULE_LOAD_TRUE@am__append_52 = load.la
-@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_53 = -lkvm
-@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_54 = -ldevstat
-@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_55 = -lstatgrab
-@BUILD_MODULE_MEMORY_TRUE@am__append_56 = memory.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_57 = "-dlopen" memory.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_58 = memory.la
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_59 = -lkstat
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_60 = -ldevinfo
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_61 = -lkvm
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_62 = -ldevstat
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_63 = -lstatgrab
-@BUILD_MODULE_MYSQL_TRUE@am__append_64 = mysql.la
-@BUILD_MODULE_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_65 = -lmysqlclient
-@BUILD_MODULE_MYSQL_TRUE@am__append_66 = "-dlopen" mysql.la
-@BUILD_MODULE_MYSQL_TRUE@am__append_67 = mysql.la
-@BUILD_MODULE_NFS_TRUE@am__append_68 = nfs.la
-@BUILD_MODULE_NFS_TRUE@am__append_69 = "-dlopen" nfs.la
-@BUILD_MODULE_NFS_TRUE@am__append_70 = nfs.la
-@BUILD_MODULE_NTPD_TRUE@am__append_71 = ntpd.la
-@BUILD_MODULE_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_72 = -lsocket
-@BUILD_MODULE_NTPD_TRUE@am__append_73 = "-dlopen" ntpd.la
-@BUILD_MODULE_NTPD_TRUE@am__append_74 = ntpd.la
-@BUILD_MODULE_PING_TRUE@am__append_75 = ping.la
-@BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_76 = -loping
-@BUILD_MODULE_PING_TRUE@am__append_77 = "-dlopen" ping.la
-@BUILD_MODULE_PING_TRUE@am__append_78 = ping.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_79 = processes.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_80 = "-dlopen" processes.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_81 = processes.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_82 = sensors.la
-@BUILD_MODULE_SENSORS_TRUE@@BUILD_WITH_LM_SENSORS_TRUE@am__append_83 = -lsensors
-@BUILD_MODULE_SENSORS_TRUE@am__append_84 = "-dlopen" sensors.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_85 = sensors.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_86 = serial.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_87 = "-dlopen" serial.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_88 = serial.la
-@BUILD_MODULE_SWAP_TRUE@am__append_89 = swap.la
-@BUILD_MODULE_SWAP_TRUE@am__append_90 = "-dlopen" swap.la
-@BUILD_MODULE_SWAP_TRUE@am__append_91 = swap.la
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_92 = -lkstat
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_93 = -ldevinfo
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_94 = -lkvm
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_95 = -ldevstat
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_96 = -lstatgrab
-@BUILD_MODULE_TAPE_TRUE@am__append_97 = tape.la
-@BUILD_MODULE_TAPE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_98 = -lkstat
-@BUILD_MODULE_TAPE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_99 = -ldevinfo
-@BUILD_MODULE_TAPE_TRUE@am__append_100 = "-dlopen" tape.la
-@BUILD_MODULE_TAPE_TRUE@am__append_101 = tape.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__append_102 = traffic.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__append_103 = "-dlopen" traffic.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__append_104 = traffic.la
-@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_105 = -lkstat
-@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_106 = -ldevinfo
-@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_107 = -lkvm
-@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_108 = -ldevstat
-@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_109 = -lstatgrab
-@BUILD_MODULE_USERS_TRUE@am__append_110 = users.la
-@BUILD_MODULE_USERS_TRUE@am__append_111 = "-dlopen" users.la
-@BUILD_MODULE_USERS_TRUE@am__append_112 = users.la
-@BUILD_MODULE_VSERVER_TRUE@am__append_113 = vserver.la
-@BUILD_MODULE_VSERVER_TRUE@am__append_114 = "-dlopen" vserver.la
-@BUILD_MODULE_VSERVER_TRUE@am__append_115 = vserver.la
-@BUILD_MODULE_WIRELESS_TRUE@am__append_116 = wireless.la
-@BUILD_MODULE_WIRELESS_TRUE@am__append_117 = "-dlopen" wireless.la
-@BUILD_MODULE_WIRELESS_TRUE@am__append_118 = wireless.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__append_55 = hddtemp.la
+@BUILD_MODULE_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_56 = -lsocket
+@BUILD_MODULE_HDDTEMP_TRUE@am__append_57 = "-dlopen" hddtemp.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__append_58 = hddtemp.la
+@BUILD_MODULE_LOAD_TRUE@am__append_59 = load.la
+@BUILD_MODULE_LOAD_TRUE@am__append_60 = "-dlopen" load.la
+@BUILD_MODULE_LOAD_TRUE@am__append_61 = load.la
+@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_62 = -lkvm
+@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_63 = -ldevstat
+@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_64 = -lstatgrab
+@BUILD_MODULE_MBMON_TRUE@am__append_65 = mbmon.la
+@BUILD_MODULE_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_66 = -lsocket
+@BUILD_MODULE_MBMON_TRUE@am__append_67 = "-dlopen" mbmon.la
+@BUILD_MODULE_MBMON_TRUE@am__append_68 = mbmon.la
+@BUILD_MODULE_MEMORY_TRUE@am__append_69 = memory.la
+@BUILD_MODULE_MEMORY_TRUE@am__append_70 = "-dlopen" memory.la
+@BUILD_MODULE_MEMORY_TRUE@am__append_71 = memory.la
+@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_72 = -lkstat
+@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_73 = -ldevinfo
+@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_74 = -lkvm
+@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_75 = -ldevstat
+@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_76 = -lstatgrab
+@BUILD_MODULE_MULTIMETER_TRUE@am__append_77 = multimeter.la
+@BUILD_MODULE_MULTIMETER_TRUE@am__append_78 = "-dlopen" multimeter.la
+@BUILD_MODULE_MULTIMETER_TRUE@am__append_79 = multimeter.la
+@BUILD_MODULE_MYSQL_TRUE@am__append_80 = mysql.la
+@BUILD_MODULE_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_81 = -lmysqlclient
+@BUILD_MODULE_MYSQL_TRUE@am__append_82 = "-dlopen" mysql.la
+@BUILD_MODULE_MYSQL_TRUE@am__append_83 = mysql.la
+@BUILD_MODULE_NFS_TRUE@am__append_84 = nfs.la
+@BUILD_MODULE_NFS_TRUE@am__append_85 = "-dlopen" nfs.la
+@BUILD_MODULE_NFS_TRUE@am__append_86 = nfs.la
+@BUILD_MODULE_NTPD_TRUE@am__append_87 = ntpd.la
+@BUILD_MODULE_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_88 = -lsocket
+@BUILD_MODULE_NTPD_TRUE@am__append_89 = "-dlopen" ntpd.la
+@BUILD_MODULE_NTPD_TRUE@am__append_90 = ntpd.la
+@BUILD_MODULE_PING_TRUE@am__append_91 = ping.la
+@BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_92 = -loping
+@BUILD_MODULE_PING_TRUE@am__append_93 = "-dlopen" ping.la
+@BUILD_MODULE_PING_TRUE@am__append_94 = ping.la
+@BUILD_MODULE_PROCESSES_TRUE@am__append_95 = processes.la
+@BUILD_MODULE_PROCESSES_TRUE@am__append_96 = "-dlopen" processes.la
+@BUILD_MODULE_PROCESSES_TRUE@am__append_97 = processes.la
+@BUILD_MODULE_SENSORS_TRUE@am__append_98 = sensors.la
+@BUILD_MODULE_SENSORS_TRUE@@BUILD_WITH_LM_SENSORS_TRUE@am__append_99 = -lsensors
+@BUILD_MODULE_SENSORS_TRUE@am__append_100 = "-dlopen" sensors.la
+@BUILD_MODULE_SENSORS_TRUE@am__append_101 = sensors.la
+@BUILD_MODULE_SERIAL_TRUE@am__append_102 = serial.la
+@BUILD_MODULE_SERIAL_TRUE@am__append_103 = "-dlopen" serial.la
+@BUILD_MODULE_SERIAL_TRUE@am__append_104 = serial.la
+@BUILD_MODULE_SWAP_TRUE@am__append_105 = swap.la
+@BUILD_MODULE_SWAP_TRUE@am__append_106 = "-dlopen" swap.la
+@BUILD_MODULE_SWAP_TRUE@am__append_107 = swap.la
+@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_108 = -lkstat
+@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_109 = -ldevinfo
+@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_110 = -lkvm
+@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_111 = -ldevstat
+@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_112 = -lstatgrab
+@BUILD_MODULE_TAPE_TRUE@am__append_113 = tape.la
+@BUILD_MODULE_TAPE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_114 = -lkstat
+@BUILD_MODULE_TAPE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_115 = -ldevinfo
+@BUILD_MODULE_TAPE_TRUE@am__append_116 = "-dlopen" tape.la
+@BUILD_MODULE_TAPE_TRUE@am__append_117 = tape.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__append_118 = traffic.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__append_119 = "-dlopen" traffic.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__append_120 = traffic.la
+@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_121 = -lkstat
+@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_122 = -ldevinfo
+@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_123 = -lkvm
+@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_124 = -ldevstat
+@BUILD_MODULE_TRAFFIC_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_125 = -lstatgrab
+@BUILD_MODULE_USERS_TRUE@am__append_126 = users.la
+@BUILD_MODULE_USERS_TRUE@am__append_127 = "-dlopen" users.la
+@BUILD_MODULE_USERS_TRUE@am__append_128 = users.la
+@BUILD_MODULE_VSERVER_TRUE@am__append_129 = vserver.la
+@BUILD_MODULE_VSERVER_TRUE@am__append_130 = "-dlopen" vserver.la
+@BUILD_MODULE_VSERVER_TRUE@am__append_131 = vserver.la
+@BUILD_MODULE_WIRELESS_TRUE@am__append_132 = wireless.la
+@BUILD_MODULE_WIRELESS_TRUE@am__append_133 = "-dlopen" wireless.la
+@BUILD_MODULE_WIRELESS_TRUE@am__append_134 = wireless.la
 subdir = src
 DIST_COMMON = $(dist_man_MANS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/collectd.conf.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
@@ -227,27 +243,49 @@
 @BUILD_MODULE_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
 disk_la_LIBADD =
 am__disk_la_SOURCES_DIST = disk.c
 @BUILD_MODULE_DISK_TRUE@am_disk_la_OBJECTS = disk.lo
 disk_la_OBJECTS = $(am_disk_la_OBJECTS)
 @BUILD_MODULE_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
+dns_la_LIBADD =
+am__dns_la_SOURCES_DIST = dns.c utils_dns.c utils_dns.h
+@BUILD_MODULE_DNS_TRUE@am_dns_la_OBJECTS = dns.lo utils_dns.lo
+dns_la_OBJECTS = $(am_dns_la_OBJECTS)
+@BUILD_MODULE_DNS_TRUE@am_dns_la_rpath = -rpath $(pkglibdir)
+email_la_LIBADD =
+am__email_la_SOURCES_DIST = email.c
+@BUILD_MODULE_EMAIL_TRUE@am_email_la_OBJECTS = email.lo
+email_la_OBJECTS = $(am_email_la_OBJECTS)
+@BUILD_MODULE_EMAIL_TRUE@am_email_la_rpath = -rpath $(pkglibdir)
 hddtemp_la_LIBADD =
 am__hddtemp_la_SOURCES_DIST = hddtemp.c
 @BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS = hddtemp.lo
 hddtemp_la_OBJECTS = $(am_hddtemp_la_OBJECTS)
 @BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_rpath = -rpath $(pkglibdir)
 load_la_LIBADD =
 am__load_la_SOURCES_DIST = load.c
 @BUILD_MODULE_LOAD_TRUE@am_load_la_OBJECTS = load.lo
 load_la_OBJECTS = $(am_load_la_OBJECTS)
 @BUILD_MODULE_LOAD_TRUE@am_load_la_rpath = -rpath $(pkglibdir)
+mbmon_la_LIBADD =
+am__mbmon_la_SOURCES_DIST = mbmon.c
+@BUILD_MODULE_MBMON_TRUE@am_mbmon_la_OBJECTS = mbmon.lo
+mbmon_la_OBJECTS = $(am_mbmon_la_OBJECTS)
+@BUILD_MODULE_MBMON_TRUE@am_mbmon_la_rpath = -rpath $(pkglibdir)
 memory_la_LIBADD =
 am__memory_la_SOURCES_DIST = memory.c
 @BUILD_MODULE_MEMORY_TRUE@am_memory_la_OBJECTS = memory.lo
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
 @BUILD_MODULE_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
+multimeter_la_LIBADD =
+am__multimeter_la_SOURCES_DIST = multimeter.c
+@BUILD_MODULE_MULTIMETER_TRUE@am_multimeter_la_OBJECTS =  \
+@BUILD_MODULE_MULTIMETER_TRUE@	multimeter.lo
+multimeter_la_OBJECTS = $(am_multimeter_la_OBJECTS)
+@BUILD_MODULE_MULTIMETER_TRUE@am_multimeter_la_rpath = -rpath \
+@BUILD_MODULE_MULTIMETER_TRUE@	$(pkglibdir)
 mysql_la_LIBADD =
 am__mysql_la_SOURCES_DIST = mysql.c
 @BUILD_MODULE_MYSQL_TRUE@am_mysql_la_OBJECTS = mysql.lo
 mysql_la_OBJECTS = $(am_mysql_la_OBJECTS)
 @BUILD_MODULE_MYSQL_TRUE@am_mysql_la_rpath = -rpath $(pkglibdir)
 nfs_la_LIBADD =
@@ -311,42 +349,48 @@
 wireless_la_OBJECTS = $(am_wireless_la_OBJECTS)
 @BUILD_MODULE_WIRELESS_TRUE@am_wireless_la_rpath = -rpath $(pkglibdir)
 sbinPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 PROGRAMS = $(sbin_PROGRAMS)
 am_collectd_OBJECTS = collectd-collectd.$(OBJEXT) \
 	collectd-utils_debug.$(OBJEXT) collectd-utils_mount.$(OBJEXT) \
-	collectd-common.$(OBJEXT) collectd-network.$(OBJEXT) \
-	collectd-plugin.$(OBJEXT) collectd-configfile.$(OBJEXT)
+	collectd-utils_ignorelist.$(OBJEXT) collectd-common.$(OBJEXT) \
+	collectd-network.$(OBJEXT) collectd-plugin.$(OBJEXT) \
+	collectd-configfile.$(OBJEXT)
 collectd_OBJECTS = $(am_collectd_OBJECTS)
 am__DEPENDENCIES_1 =
 @BUILD_MODULE_APACHE_TRUE@am__DEPENDENCIES_2 = "-dlopen" apache.la
 @BUILD_MODULE_APCUPS_TRUE@am__DEPENDENCIES_3 = "-dlopen" apcups.la
 @BUILD_MODULE_APPLE_SENSORS_TRUE@am__DEPENDENCIES_4 = "-dlopen" \
 @BUILD_MODULE_APPLE_SENSORS_TRUE@	apple_sensors.la
 @BUILD_MODULE_BATTERY_TRUE@am__DEPENDENCIES_5 = "-dlopen" battery.la
 @BUILD_MODULE_CPU_TRUE@am__DEPENDENCIES_6 = "-dlopen" cpu.la
 @BUILD_MODULE_CPUFREQ_TRUE@am__DEPENDENCIES_7 = "-dlopen" cpufreq.la
 @BUILD_MODULE_DF_TRUE@am__DEPENDENCIES_8 = "-dlopen" df.la
 @BUILD_MODULE_DISK_TRUE@am__DEPENDENCIES_9 = "-dlopen" disk.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__DEPENDENCIES_10 = "-dlopen" hddtemp.la
-@BUILD_MODULE_LOAD_TRUE@am__DEPENDENCIES_11 = "-dlopen" load.la
-@BUILD_MODULE_MEMORY_TRUE@am__DEPENDENCIES_12 = "-dlopen" memory.la
-@BUILD_MODULE_MYSQL_TRUE@am__DEPENDENCIES_13 = "-dlopen" mysql.la
-@BUILD_MODULE_NFS_TRUE@am__DEPENDENCIES_14 = "-dlopen" nfs.la
-@BUILD_MODULE_NTPD_TRUE@am__DEPENDENCIES_15 = "-dlopen" ntpd.la
-@BUILD_MODULE_PING_TRUE@am__DEPENDENCIES_16 = "-dlopen" ping.la
-@BUILD_MODULE_PROCESSES_TRUE@am__DEPENDENCIES_17 = "-dlopen" \
+@BUILD_MODULE_DNS_TRUE@am__DEPENDENCIES_10 = "-dlopen" dns.la
+@BUILD_MODULE_EMAIL_TRUE@am__DEPENDENCIES_11 = "-dlopen" email.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__DEPENDENCIES_12 = "-dlopen" hddtemp.la
+@BUILD_MODULE_LOAD_TRUE@am__DEPENDENCIES_13 = "-dlopen" load.la
+@BUILD_MODULE_MBMON_TRUE@am__DEPENDENCIES_14 = "-dlopen" mbmon.la
+@BUILD_MODULE_MEMORY_TRUE@am__DEPENDENCIES_15 = "-dlopen" memory.la
+@BUILD_MODULE_MULTIMETER_TRUE@am__DEPENDENCIES_16 = "-dlopen" \
+@BUILD_MODULE_MULTIMETER_TRUE@	multimeter.la
+@BUILD_MODULE_MYSQL_TRUE@am__DEPENDENCIES_17 = "-dlopen" mysql.la
+@BUILD_MODULE_NFS_TRUE@am__DEPENDENCIES_18 = "-dlopen" nfs.la
+@BUILD_MODULE_NTPD_TRUE@am__DEPENDENCIES_19 = "-dlopen" ntpd.la
+@BUILD_MODULE_PING_TRUE@am__DEPENDENCIES_20 = "-dlopen" ping.la
+@BUILD_MODULE_PROCESSES_TRUE@am__DEPENDENCIES_21 = "-dlopen" \
 @BUILD_MODULE_PROCESSES_TRUE@	processes.la
-@BUILD_MODULE_SENSORS_TRUE@am__DEPENDENCIES_18 = "-dlopen" sensors.la
-@BUILD_MODULE_SERIAL_TRUE@am__DEPENDENCIES_19 = "-dlopen" serial.la
-@BUILD_MODULE_SWAP_TRUE@am__DEPENDENCIES_20 = "-dlopen" swap.la
-@BUILD_MODULE_TAPE_TRUE@am__DEPENDENCIES_21 = "-dlopen" tape.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__DEPENDENCIES_22 = "-dlopen" traffic.la
-@BUILD_MODULE_USERS_TRUE@am__DEPENDENCIES_23 = "-dlopen" users.la
-@BUILD_MODULE_VSERVER_TRUE@am__DEPENDENCIES_24 = "-dlopen" vserver.la
-@BUILD_MODULE_WIRELESS_TRUE@am__DEPENDENCIES_25 = "-dlopen" \
+@BUILD_MODULE_SENSORS_TRUE@am__DEPENDENCIES_22 = "-dlopen" sensors.la
+@BUILD_MODULE_SERIAL_TRUE@am__DEPENDENCIES_23 = "-dlopen" serial.la
+@BUILD_MODULE_SWAP_TRUE@am__DEPENDENCIES_24 = "-dlopen" swap.la
+@BUILD_MODULE_TAPE_TRUE@am__DEPENDENCIES_25 = "-dlopen" tape.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__DEPENDENCIES_26 = "-dlopen" traffic.la
+@BUILD_MODULE_USERS_TRUE@am__DEPENDENCIES_27 = "-dlopen" users.la
+@BUILD_MODULE_VSERVER_TRUE@am__DEPENDENCIES_28 = "-dlopen" vserver.la
+@BUILD_MODULE_WIRELESS_TRUE@am__DEPENDENCIES_29 = "-dlopen" \
 @BUILD_MODULE_WIRELESS_TRUE@	wireless.la
 DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
@@ -356,29 +400,33 @@
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = $(apache_la_SOURCES) $(apcups_la_SOURCES) \
 	$(apple_sensors_la_SOURCES) $(battery_la_SOURCES) \
 	$(cpu_la_SOURCES) $(cpufreq_la_SOURCES) $(df_la_SOURCES) \
-	$(disk_la_SOURCES) $(hddtemp_la_SOURCES) $(load_la_SOURCES) \
-	$(memory_la_SOURCES) $(mysql_la_SOURCES) $(nfs_la_SOURCES) \
-	$(ntpd_la_SOURCES) $(ping_la_SOURCES) $(processes_la_SOURCES) \
+	$(disk_la_SOURCES) $(dns_la_SOURCES) $(email_la_SOURCES) \
+	$(hddtemp_la_SOURCES) $(load_la_SOURCES) $(mbmon_la_SOURCES) \
+	$(memory_la_SOURCES) $(multimeter_la_SOURCES) \
+	$(mysql_la_SOURCES) $(nfs_la_SOURCES) $(ntpd_la_SOURCES) \
+	$(ping_la_SOURCES) $(processes_la_SOURCES) \
 	$(sensors_la_SOURCES) $(serial_la_SOURCES) $(swap_la_SOURCES) \
 	$(tape_la_SOURCES) $(traffic_la_SOURCES) $(users_la_SOURCES) \
 	$(vserver_la_SOURCES) $(wireless_la_SOURCES) \
 	$(collectd_SOURCES)
 DIST_SOURCES = $(am__apache_la_SOURCES_DIST) \
 	$(am__apcups_la_SOURCES_DIST) \
 	$(am__apple_sensors_la_SOURCES_DIST) \
 	$(am__battery_la_SOURCES_DIST) $(am__cpu_la_SOURCES_DIST) \
 	$(am__cpufreq_la_SOURCES_DIST) $(am__df_la_SOURCES_DIST) \
-	$(am__disk_la_SOURCES_DIST) $(am__hddtemp_la_SOURCES_DIST) \
-	$(am__load_la_SOURCES_DIST) $(am__memory_la_SOURCES_DIST) \
-	$(am__mysql_la_SOURCES_DIST) $(am__nfs_la_SOURCES_DIST) \
-	$(am__ntpd_la_SOURCES_DIST) $(am__ping_la_SOURCES_DIST) \
-	$(am__processes_la_SOURCES_DIST) \
+	$(am__disk_la_SOURCES_DIST) $(am__dns_la_SOURCES_DIST) \
+	$(am__email_la_SOURCES_DIST) $(am__hddtemp_la_SOURCES_DIST) \
+	$(am__load_la_SOURCES_DIST) $(am__mbmon_la_SOURCES_DIST) \
+	$(am__memory_la_SOURCES_DIST) \
+	$(am__multimeter_la_SOURCES_DIST) $(am__mysql_la_SOURCES_DIST) \
+	$(am__nfs_la_SOURCES_DIST) $(am__ntpd_la_SOURCES_DIST) \
+	$(am__ping_la_SOURCES_DIST) $(am__processes_la_SOURCES_DIST) \
 	$(am__sensors_la_SOURCES_DIST) $(am__serial_la_SOURCES_DIST) \
 	$(am__swap_la_SOURCES_DIST) $(am__tape_la_SOURCES_DIST) \
 	$(am__traffic_la_SOURCES_DIST) $(am__users_la_SOURCES_DIST) \
 	$(am__vserver_la_SOURCES_DIST) $(am__wireless_la_SOURCES_DIST) \
 	$(collectd_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
@@ -423,18 +471,26 @@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
 BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
 BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
+BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
+BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
+BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
+BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
+BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
+BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
+BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
 BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
 BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
 BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
@@ -474,12 +530,16 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
+BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
+BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
+BUILD_WITH_LIBPTHREAD_FALSE = @BUILD_WITH_LIBPTHREAD_FALSE@
+BUILD_WITH_LIBPTHREAD_TRUE = @BUILD_WITH_LIBPTHREAD_TRUE@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
@@ -590,12 +650,13 @@
 target_alias = @target_alias@
 SUBDIRS = libconfig $(am__append_1)
 @COMPILER_IS_GCC_TRUE@AM_CFLAGS = -Wall -Werror
 collectd_SOURCES = collectd.c collectd.h \
 		   utils_debug.c utils_debug.h \
 		   utils_mount.c utils_mount.h \
+		   utils_ignorelist.c utils_ignorelist.h \
 		   common.c common.h \
 		   network.c network.h \
 		   plugin.c plugin.h \
 		   configfile.c configfile.h
 
 collectd_CPPFLAGS = $(LTDLINCL) \
@@ -608,36 +669,41 @@
 	$(am__append_6) $(am__append_7) $(am__append_8) \
 	$(am__append_9) $(am__append_10) $(am__append_11) \
 	$(am__append_12)
 collectd_LDADD = $(LIBLTDL) libconfig/libconfig.la "-dlopen" self \
 	$(am__append_15) $(am__append_19) $(am__append_23) \
 	$(am__append_27) $(am__append_32) $(am__append_35) \
-	$(am__append_38) $(am__append_44) $(am__append_48) \
-	$(am__append_51) $(am__append_57) $(am__append_66) \
-	$(am__append_69) $(am__append_73) $(am__append_77) \
-	$(am__append_80) $(am__append_84) $(am__append_87) \
-	$(am__append_90) $(am__append_100) $(am__append_103) \
-	$(am__append_111) $(am__append_114) $(am__append_117)
+	$(am__append_38) $(am__append_44) $(am__append_49) \
+	$(am__append_53) $(am__append_57) $(am__append_60) \
+	$(am__append_67) $(am__append_70) $(am__append_78) \
+	$(am__append_82) $(am__append_85) $(am__append_89) \
+	$(am__append_93) $(am__append_96) $(am__append_100) \
+	$(am__append_103) $(am__append_106) $(am__append_116) \
+	$(am__append_119) $(am__append_127) $(am__append_130) \
+	$(am__append_133)
 collectd_DEPENDENCIES = $(LIBLTDL) libconfig/libconfig.la \
 	$(am__append_16) $(am__append_20) $(am__append_24) \
 	$(am__append_28) $(am__append_33) $(am__append_36) \
-	$(am__append_39) $(am__append_45) $(am__append_49) \
-	$(am__append_52) $(am__append_58) $(am__append_67) \
-	$(am__append_70) $(am__append_74) $(am__append_78) \
-	$(am__append_81) $(am__append_85) $(am__append_88) \
-	$(am__append_91) $(am__append_101) $(am__append_104) \
-	$(am__append_112) $(am__append_115) $(am__append_118)
+	$(am__append_39) $(am__append_45) $(am__append_50) \
+	$(am__append_54) $(am__append_58) $(am__append_61) \
+	$(am__append_68) $(am__append_71) $(am__append_79) \
+	$(am__append_83) $(am__append_86) $(am__append_90) \
+	$(am__append_94) $(am__append_97) $(am__append_101) \
+	$(am__append_104) $(am__append_107) $(am__append_117) \
+	$(am__append_120) $(am__append_128) $(am__append_131) \
+	$(am__append_134)
 pkglib_LTLIBRARIES = $(am__append_13) $(am__append_17) \
 	$(am__append_21) $(am__append_25) $(am__append_29) \
 	$(am__append_34) $(am__append_37) $(am__append_40) \
-	$(am__append_46) $(am__append_50) $(am__append_56) \
-	$(am__append_64) $(am__append_68) $(am__append_71) \
-	$(am__append_75) $(am__append_79) $(am__append_82) \
-	$(am__append_86) $(am__append_89) $(am__append_97) \
-	$(am__append_102) $(am__append_110) $(am__append_113) \
-	$(am__append_116)
+	$(am__append_46) $(am__append_51) $(am__append_55) \
+	$(am__append_59) $(am__append_65) $(am__append_69) \
+	$(am__append_77) $(am__append_80) $(am__append_84) \
+	$(am__append_87) $(am__append_91) $(am__append_95) \
+	$(am__append_98) $(am__append_102) $(am__append_105) \
+	$(am__append_113) $(am__append_118) $(am__append_126) \
+	$(am__append_129) $(am__append_132)
 @BUILD_MODULE_APACHE_TRUE@apache_la_SOURCES = apache.c
 @BUILD_MODULE_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version \
 @BUILD_MODULE_APACHE_TRUE@	$(am__append_14)
 @BUILD_MODULE_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
 @BUILD_MODULE_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
 @BUILD_MODULE_APCUPS_TRUE@	$(am__append_18)
@@ -656,57 +722,68 @@
 @BUILD_MODULE_DF_TRUE@df_la_SOURCES = df.c
 @BUILD_MODULE_DF_TRUE@df_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_DISK_TRUE@disk_la_SOURCES = disk.c
 @BUILD_MODULE_DISK_TRUE@disk_la_LDFLAGS = -module -avoid-version \
 @BUILD_MODULE_DISK_TRUE@	$(am__append_41) $(am__append_42) \
 @BUILD_MODULE_DISK_TRUE@	$(am__append_43)
+@BUILD_MODULE_DNS_TRUE@dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
+@BUILD_MODULE_DNS_TRUE@dns_la_LDFLAGS = -module -avoid-version \
+@BUILD_MODULE_DNS_TRUE@	$(am__append_47) $(am__append_48)
+@BUILD_MODULE_EMAIL_TRUE@email_la_SOURCES = email.c
+@BUILD_MODULE_EMAIL_TRUE@email_la_LDFLAGS = -module -avoid-version \
+@BUILD_MODULE_EMAIL_TRUE@	$(am__append_52)
 @BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_SOURCES = hddtemp.c
 @BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_HDDTEMP_TRUE@	$(am__append_47)
+@BUILD_MODULE_HDDTEMP_TRUE@	$(am__append_56)
 @BUILD_MODULE_LOAD_TRUE@load_la_SOURCES = load.c
 @BUILD_MODULE_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_LOAD_TRUE@	$(am__append_53) $(am__append_54) \
-@BUILD_MODULE_LOAD_TRUE@	$(am__append_55)
+@BUILD_MODULE_LOAD_TRUE@	$(am__append_62) $(am__append_63) \
+@BUILD_MODULE_LOAD_TRUE@	$(am__append_64)
+@BUILD_MODULE_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
+@BUILD_MODULE_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version \
+@BUILD_MODULE_MBMON_TRUE@	$(am__append_66)
 @BUILD_MODULE_MEMORY_TRUE@memory_la_SOURCES = memory.c
 @BUILD_MODULE_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_MEMORY_TRUE@	$(am__append_59) $(am__append_60) \
-@BUILD_MODULE_MEMORY_TRUE@	$(am__append_61) $(am__append_62) \
-@BUILD_MODULE_MEMORY_TRUE@	$(am__append_63)
+@BUILD_MODULE_MEMORY_TRUE@	$(am__append_72) $(am__append_73) \
+@BUILD_MODULE_MEMORY_TRUE@	$(am__append_74) $(am__append_75) \
+@BUILD_MODULE_MEMORY_TRUE@	$(am__append_76)
+@BUILD_MODULE_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
+@BUILD_MODULE_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
 @BUILD_MODULE_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_MYSQL_TRUE@	$(am__append_65)
+@BUILD_MODULE_MYSQL_TRUE@	$(am__append_81)
 @BUILD_MODULE_NFS_TRUE@nfs_la_SOURCES = nfs.c
 @BUILD_MODULE_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
 @BUILD_MODULE_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_NTPD_TRUE@	$(am__append_72)
+@BUILD_MODULE_NTPD_TRUE@	$(am__append_88)
 @BUILD_MODULE_PING_TRUE@ping_la_SOURCES = ping.c
 @BUILD_MODULE_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_PING_TRUE@	$(am__append_76)
+@BUILD_MODULE_PING_TRUE@	$(am__append_92)
 @BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_LIBADD = liboping/liboping.la
 @BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_DEPENDENCIES = liboping/liboping.la
 @BUILD_MODULE_PROCESSES_TRUE@processes_la_SOURCES = processes.c
 @BUILD_MODULE_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_SENSORS_TRUE@sensors_la_SOURCES = sensors.c
 @BUILD_MODULE_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_SENSORS_TRUE@	$(am__append_83)
+@BUILD_MODULE_SENSORS_TRUE@	$(am__append_99)
 @BUILD_MODULE_SERIAL_TRUE@serial_la_SOURCES = serial.c
 @BUILD_MODULE_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_SWAP_TRUE@swap_la_SOURCES = swap.c
 @BUILD_MODULE_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_SWAP_TRUE@	$(am__append_92) $(am__append_93) \
-@BUILD_MODULE_SWAP_TRUE@	$(am__append_94) $(am__append_95) \
-@BUILD_MODULE_SWAP_TRUE@	$(am__append_96)
+@BUILD_MODULE_SWAP_TRUE@	$(am__append_108) $(am__append_109) \
+@BUILD_MODULE_SWAP_TRUE@	$(am__append_110) $(am__append_111) \
+@BUILD_MODULE_SWAP_TRUE@	$(am__append_112)
 @BUILD_MODULE_TAPE_TRUE@tape_la_SOURCES = tape.c
 @BUILD_MODULE_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_TAPE_TRUE@	$(am__append_98) $(am__append_99)
+@BUILD_MODULE_TAPE_TRUE@	$(am__append_114) $(am__append_115)
 @BUILD_MODULE_TRAFFIC_TRUE@traffic_la_SOURCES = traffic.c
 @BUILD_MODULE_TRAFFIC_TRUE@traffic_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_TRAFFIC_TRUE@	$(am__append_105) $(am__append_106) \
-@BUILD_MODULE_TRAFFIC_TRUE@	$(am__append_107) $(am__append_108) \
-@BUILD_MODULE_TRAFFIC_TRUE@	$(am__append_109)
+@BUILD_MODULE_TRAFFIC_TRUE@	$(am__append_121) $(am__append_122) \
+@BUILD_MODULE_TRAFFIC_TRUE@	$(am__append_123) $(am__append_124) \
+@BUILD_MODULE_TRAFFIC_TRUE@	$(am__append_125)
 @BUILD_MODULE_USERS_TRUE@users_la_SOURCES = users.c
 @BUILD_MODULE_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
 @BUILD_MODULE_VSERVER_TRUE@vserver_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_WIRELESS_TRUE@wireless_la_SOURCES = wireless.c
 @BUILD_MODULE_WIRELESS_TRUE@wireless_la_LDFLAGS = -module -avoid-version
@@ -804,18 +881,26 @@
 cpufreq.la: $(cpufreq_la_OBJECTS) $(cpufreq_la_DEPENDENCIES) 
 	$(LINK) $(am_cpufreq_la_rpath) $(cpufreq_la_LDFLAGS) $(cpufreq_la_OBJECTS) $(cpufreq_la_LIBADD) $(LIBS)
 df.la: $(df_la_OBJECTS) $(df_la_DEPENDENCIES) 
 	$(LINK) $(am_df_la_rpath) $(df_la_LDFLAGS) $(df_la_OBJECTS) $(df_la_LIBADD) $(LIBS)
 disk.la: $(disk_la_OBJECTS) $(disk_la_DEPENDENCIES) 
 	$(LINK) $(am_disk_la_rpath) $(disk_la_LDFLAGS) $(disk_la_OBJECTS) $(disk_la_LIBADD) $(LIBS)
+dns.la: $(dns_la_OBJECTS) $(dns_la_DEPENDENCIES) 
+	$(LINK) $(am_dns_la_rpath) $(dns_la_LDFLAGS) $(dns_la_OBJECTS) $(dns_la_LIBADD) $(LIBS)
+email.la: $(email_la_OBJECTS) $(email_la_DEPENDENCIES) 
+	$(LINK) $(am_email_la_rpath) $(email_la_LDFLAGS) $(email_la_OBJECTS) $(email_la_LIBADD) $(LIBS)
 hddtemp.la: $(hddtemp_la_OBJECTS) $(hddtemp_la_DEPENDENCIES) 
 	$(LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_LDFLAGS) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
 load.la: $(load_la_OBJECTS) $(load_la_DEPENDENCIES) 
 	$(LINK) $(am_load_la_rpath) $(load_la_LDFLAGS) $(load_la_OBJECTS) $(load_la_LIBADD) $(LIBS)
+mbmon.la: $(mbmon_la_OBJECTS) $(mbmon_la_DEPENDENCIES) 
+	$(LINK) $(am_mbmon_la_rpath) $(mbmon_la_LDFLAGS) $(mbmon_la_OBJECTS) $(mbmon_la_LIBADD) $(LIBS)
 memory.la: $(memory_la_OBJECTS) $(memory_la_DEPENDENCIES) 
 	$(LINK) $(am_memory_la_rpath) $(memory_la_LDFLAGS) $(memory_la_OBJECTS) $(memory_la_LIBADD) $(LIBS)
+multimeter.la: $(multimeter_la_OBJECTS) $(multimeter_la_DEPENDENCIES) 
+	$(LINK) $(am_multimeter_la_rpath) $(multimeter_la_LDFLAGS) $(multimeter_la_OBJECTS) $(multimeter_la_LIBADD) $(LIBS)
 mysql.la: $(mysql_la_OBJECTS) $(mysql_la_DEPENDENCIES) 
 	$(LINK) $(am_mysql_la_rpath) $(mysql_la_LDFLAGS) $(mysql_la_OBJECTS) $(mysql_la_LIBADD) $(LIBS)
 nfs.la: $(nfs_la_OBJECTS) $(nfs_la_DEPENDENCIES) 
 	$(LINK) $(am_nfs_la_rpath) $(nfs_la_LDFLAGS) $(nfs_la_OBJECTS) $(nfs_la_LIBADD) $(LIBS)
 ntpd.la: $(ntpd_la_OBJECTS) $(ntpd_la_DEPENDENCIES) 
 	$(LINK) $(am_ntpd_la_rpath) $(ntpd_la_LDFLAGS) $(ntpd_la_OBJECTS) $(ntpd_la_LIBADD) $(LIBS)
@@ -884,31 +969,37 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-collectd.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-common.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-configfile.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-network.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-plugin.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_debug.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_ignorelist.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_mount.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpufreq.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/df.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dns.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/email.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mbmon.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/multimeter.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mysql.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ntpd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/traffic.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_dns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vserver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/wireless.Plo@am__quote@
 
 .c.o:
 @am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
@@ -969,12 +1060,26 @@
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_mount.Tpo" -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_mount.Tpo" "$(DEPDIR)/collectd-utils_mount.Po"; else rm -f "$(DEPDIR)/collectd-utils_mount.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`
 
+collectd-utils_ignorelist.o: utils_ignorelist.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.o -MD -MP -MF "$(DEPDIR)/collectd-utils_ignorelist.Tpo" -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo" "$(DEPDIR)/collectd-utils_ignorelist.Po"; else rm -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_ignorelist.c' object='collectd-utils_ignorelist.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_ignorelist.o `test -f 'utils_ignorelist.c' || echo '$(srcdir)/'`utils_ignorelist.c
+
+collectd-utils_ignorelist.obj: utils_ignorelist.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-utils_ignorelist.obj -MD -MP -MF "$(DEPDIR)/collectd-utils_ignorelist.Tpo" -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo" "$(DEPDIR)/collectd-utils_ignorelist.Po"; else rm -f "$(DEPDIR)/collectd-utils_ignorelist.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_ignorelist.c' object='collectd-utils_ignorelist.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-utils_ignorelist.obj `if test -f 'utils_ignorelist.c'; then $(CYGPATH_W) 'utils_ignorelist.c'; else $(CYGPATH_W) '$(srcdir)/utils_ignorelist.c'; fi`
+
 collectd-common.o: common.c
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-common.o -MD -MP -MF "$(DEPDIR)/collectd-common.Tpo" -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-common.Tpo" "$(DEPDIR)/collectd-common.Po"; else rm -f "$(DEPDIR)/collectd-common.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='common.c' object='collectd-common.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-common.o `test -f 'common.c' || echo '$(srcdir)/'`common.c
@@ -1421,13 +1526,13 @@
 	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >$@
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	if test -e $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	then \
-		$(INSTALL_DATA) collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
+		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
 	else \
-		$(INSTALL_DATA) collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf; \
+		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	fi
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: mbmon.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: multimeter.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/plugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/plugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/plugin.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/plugin.c	2007-01-09 22:05:06.000000000 +0800
@@ -31,12 +31,13 @@
 typedef struct plugin
 {
 	char *type;
 	void (*init) (void);
 	void (*read) (void);
 	void (*write) (char *host, char *inst, char *val);
+	void (*shutdown) (void);
 	struct plugin *next;
 } plugin_t;
 
 static plugin_t *first_plugin = NULL;
 
 extern int operating_mode;
@@ -273,22 +274,35 @@
 			(*p->init) ();
 }
 
 /*
  * Call `read' on all plugins (if given)
  */
-void plugin_read_all (void)
+void plugin_read_all (const int *loop)
 {
 	plugin_t *p;
 
-	for (p = first_plugin; p != NULL; p = p->next)
+	for (p = first_plugin; (*loop == 0) && (p != NULL); p = p->next)
 		if (p->read != NULL)
 			(*p->read) ();
 }
 
 /*
+ * Call `shutdown' on all plugins (if given)
+ */
+void plugin_shutdown_all (void)
+{
+	plugin_t *p;
+
+	for (p = first_plugin; NULL != p; p = p->next)
+		if (NULL != p->shutdown)
+			(*p->shutdown) ();
+	return;
+}
+
+/*
  * Add plugin to the linked list of registered plugins.
  */
 void plugin_register (char *type,
 		void (*init) (void),
 		void (*read) (void),
 		void (*write) (char *, char *, char *))
@@ -314,17 +328,33 @@
 	}
 
 	p->init  = init;
 	p->read  = read;
 	p->write = write;
 
+	p->shutdown = NULL;
+
 	p->next = first_plugin;
 	first_plugin = p;
 }
 
 /*
+ * Register the shutdown function (optional).
+ */
+int plugin_register_shutdown (char *type, void (*shutdown) (void))
+{
+	plugin_t *p = plugin_search (type);
+
+	if (NULL == p)
+		return -1;
+
+	p->shutdown = shutdown;
+	return 0;
+}
+
+/*
  * Send received data back to the plugin/module which will append DS
  * definitions and pass it on to ``rrd_update_file''.
  */
 void plugin_write (char *host, char *type, char *inst, char *val)
 {
 	plugin_t *p;
@@ -347,6 +377,57 @@
 {
         if (operating_mode == MODE_CLIENT)
 		network_send (type, inst, val);
 	else
 		plugin_write (NULL, type, inst, val);
 }
+
+void plugin_complain (int level, complain_t *c, const char *format, ...)
+{
+	char message[512];
+	va_list ap;
+	int step;
+
+	if (c->delay > 0)
+	{
+		c->delay--;
+		return;
+	}
+
+	step = atoi (COLLECTD_STEP);
+	assert (step > 0);
+
+	if (c->interval < step)
+		c->interval = step;
+	else
+		c->interval *= 2;
+
+	if (c->interval > 86400)
+		c->interval = 86400;
+
+	c->delay = c->interval / step;
+
+	va_start (ap, format);
+	vsnprintf (message, 512, format, ap);
+	message[511] = '\0';
+	va_end (ap);
+
+	syslog (level, message);
+}
+
+void plugin_relief (int level, complain_t *c, const char *format, ...)
+{
+	char message[512];
+	va_list ap;
+
+	if (c->interval == 0)
+		return;
+
+	c->interval = 0;
+
+	va_start (ap, format);
+	vsnprintf (message, 512, format, ap);
+	message[511] = '\0';
+	va_end (ap);
+
+	syslog (level, message);
+}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/plugin.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/plugin.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/plugin.h	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/plugin.h	2007-01-09 22:05:06.000000000 +0800
@@ -1,6 +1,9 @@
+#ifndef PLUGIN_H
+#define PLUGIN_H
+
 /**
  * collectd - src/plugin.h
  * Copyright (C) 2005,2006  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
@@ -17,14 +20,20 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#ifndef PLUGIN_H
-#define PLUGIN_H
+/*
+ *
+ */
+typedef struct complain_s
+{
+	unsigned int interval; /* how long we wait for reporting this error again */
+	unsigned int delay;    /* how many more iterations we still need to wait */
+} complain_t;
 
 /*
  * NAME
  *  plugin_set_dir
  *
  * DESCRIPTION
@@ -87,19 +96,23 @@
  *  No attempt is made to re-load an already loaded module.
  */
 int  plugin_load (const char *type);
 
 int  plugin_load_all (char *dir);
 void plugin_init_all (void);
-void plugin_read_all (void);
+void plugin_read_all (const int *loop);
+
+void plugin_shutdown_all (void);
 
 void plugin_register (char *type,
 		void (*init) (void),
 		void (*read) (void),
 		void (*write) (char *, char *, char *));
 
+int plugin_register_shutdown (char *, void (*) (void));
+
 /*
  * NAME
  *  plugin_write
  *
  * DESCRIPTION
  *  Searches the plugin for `type' in the plugin-list. If found, and a `write'
@@ -114,7 +127,11 @@
  *  `val'       Values for the RRD files. Also passed to the plugin.
  */
 void plugin_write    (char *host, char *type, char *inst, char *val);
 
 void plugin_submit   (char *type, char *inst, char *val);
 
+
+void plugin_complain (int level, complain_t *c, const char *format, ...);
+void plugin_relief (int level, complain_t *c, const char *format, ...);
+
 #endif /* PLUGIN_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/processes.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/processes.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/processes.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/processes.c	2007-01-09 22:05:06.000000000 +0800
@@ -23,90 +23,405 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "utils_debug.h"
+#include "configfile.h"
 
 /* Include header files for the mach system, if they exist.. */
-#if HAVE_MACH_MACH_INIT_H
-#  include <mach/mach_init.h>
-#endif
-#if HAVE_MACH_HOST_PRIV_H
-#  include <mach/host_priv.h>
-#endif
-#if HAVE_MACH_MACH_ERROR_H
-#  include <mach/mach_error.h>
-#endif
-#if HAVE_MACH_MACH_HOST_H
-#  include <mach/mach_host.h>
-#endif
-#if HAVE_MACH_MACH_PORT_H
-#  include <mach/mach_port.h>
-#endif
-#if HAVE_MACH_MACH_TYPES_H
-#  include <mach/mach_types.h>
-#endif
-#if HAVE_MACH_MESSAGE_H
-#  include <mach/message.h>
-#endif
-#if HAVE_MACH_PROCESSOR_SET_H
-#  include <mach/processor_set.h>
-#endif
-#if HAVE_MACH_TASK_H
-#  include <mach/task.h>
-#endif
-#if HAVE_MACH_THREAD_ACT_H
-#  include <mach/thread_act.h>
-#endif
-#if HAVE_MACH_VM_REGION_H
-#  include <mach/vm_region.h>
-#endif
-#if HAVE_MACH_VM_MAP_H
-#  include <mach/vm_map.h>
-#endif
-#if HAVE_MACH_VM_PROT_H
-#  include <mach/vm_prot.h>
-#endif
+#if HAVE_THREAD_INFO
+#  if HAVE_MACH_MACH_INIT_H
+#    include <mach/mach_init.h>
+#  endif
+#  if HAVE_MACH_HOST_PRIV_H
+#    include <mach/host_priv.h>
+#  endif
+#  if HAVE_MACH_MACH_ERROR_H
+#    include <mach/mach_error.h>
+#  endif
+#  if HAVE_MACH_MACH_HOST_H
+#    include <mach/mach_host.h>
+#  endif
+#  if HAVE_MACH_MACH_PORT_H
+#    include <mach/mach_port.h>
+#  endif
+#  if HAVE_MACH_MACH_TYPES_H
+#    include <mach/mach_types.h>
+#  endif
+#  if HAVE_MACH_MESSAGE_H
+#    include <mach/message.h>
+#  endif
+#  if HAVE_MACH_PROCESSOR_SET_H
+#    include <mach/processor_set.h>
+#  endif
+#  if HAVE_MACH_TASK_H
+#    include <mach/task.h>
+#  endif
+#  if HAVE_MACH_THREAD_ACT_H
+#    include <mach/thread_act.h>
+#  endif
+#  if HAVE_MACH_VM_REGION_H
+#    include <mach/vm_region.h>
+#  endif
+#  if HAVE_MACH_VM_MAP_H
+#    include <mach/vm_map.h>
+#  endif
+#  if HAVE_MACH_VM_PROT_H
+#    include <mach/vm_prot.h>
+#  endif
+#  if HAVE_SYS_SYSCTL_H
+#    include <sys/sysctl.h>
+#  endif
+/* #endif HAVE_THREAD_INFO */
+
+#elif KERNEL_LINUX
+#  if HAVE_LINUX_CONFIG_H
+#    include <linux/config.h>
+#  endif
+#  ifndef CONFIG_HZ
+#    define CONFIG_HZ 100
+#  endif
+#endif /* KERNEL_LINUX */
 
 #define MODULE_NAME "processes"
 
 #if HAVE_THREAD_INFO || KERNEL_LINUX
 # define PROCESSES_HAVE_READ 1
 #else
 # define PROCESSES_HAVE_READ 0
 #endif
 
 #define BUFSIZE 256
 
-static char *ps_file = "processes.rrd";
-
-static char *ds_def[] =
+static char *processes_file = "processes.rrd";
+static char *processes_ds_def[] =
 {
 	"DS:running:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
 	"DS:sleeping:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
 	"DS:zombies:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
 	"DS:stopped:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
 	"DS:paging:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
 	"DS:blocked:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
 	NULL
 };
-static int ds_num = 6;
+static int processes_ds_num = 6;
+
+static char *ps_rss_file = "processes/ps_rss-%s.rrd";
+static char *ps_rss_ds_def[] =
+{
+	/* max = 2^63 - 1 */
+	"DS:byte:GAUGE:"COLLECTD_HEARTBEAT":0:9223372036854775807",
+	NULL
+};
+static int ps_rss_ds_num = 1;
+
+static char *ps_cputime_file = "processes/ps_cputime-%s.rrd";
+static char *ps_cputime_ds_def[] =
+{
+	/* 1 second in user-mode per second ought to be enough.. */
+	"DS:user:COUNTER:"COLLECTD_HEARTBEAT":0:1000000",
+	"DS:syst:COUNTER:"COLLECTD_HEARTBEAT":0:1000000",
+	NULL
+};
+static int ps_cputime_ds_num = 2;
+
+static char *ps_count_file = "processes/ps_count-%s.rrd";
+static char *ps_count_ds_def[] =
+{
+	"DS:processes:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
+	"DS:threads:GAUGE:"COLLECTD_HEARTBEAT":0:65535",
+	NULL
+};
+static int ps_count_ds_num = 2;
+
+static char *ps_pagefaults_file = "processes/ps_pagefaults-%s.rrd";
+static char *ps_pagefaults_ds_def[] =
+{
+	/* max = 2^63 - 1 */
+	"DS:minflt:COUNTER:"COLLECTD_HEARTBEAT":0:9223372036854775807",
+	"DS:majflt:COUNTER:"COLLECTD_HEARTBEAT":0:9223372036854775807",
+	NULL
+};
+static int ps_pagefaults_ds_num = 2;
+
+static char *config_keys[] =
+{
+	"Process",
+	NULL
+};
+static int config_keys_num = 1;
+
+typedef struct procstat_entry_s
+{
+	unsigned long id;
+	unsigned long age;
+
+	unsigned long num_proc;
+	unsigned long num_lwp;
+	unsigned long vmem_rss;
+
+	unsigned long vmem_minflt;
+	unsigned long vmem_majflt;
+	unsigned long vmem_minflt_counter;
+	unsigned long vmem_majflt_counter;
+
+	unsigned long cpu_user;
+	unsigned long cpu_system;
+	unsigned long cpu_user_counter;
+	unsigned long cpu_system_counter;
+
+	struct procstat_entry_s *next;
+} procstat_entry_t;
+
+#define PROCSTAT_NAME_LEN 256
+typedef struct procstat
+{
+	char          name[PROCSTAT_NAME_LEN];
+
+	unsigned long num_proc;
+	unsigned long num_lwp;
+	unsigned long vmem_rss;
+
+	unsigned long vmem_minflt_counter;
+	unsigned long vmem_majflt_counter;
+
+	unsigned long cpu_user_counter;
+	unsigned long cpu_system_counter;
+
+	struct procstat   *next;
+	struct procstat_entry_s *instances;
+} procstat_t;
+
+static procstat_t *list_head_g = NULL;
 
 #if HAVE_THREAD_INFO
 static mach_port_t port_host_self;
 static mach_port_t port_task_self;
 
 static processor_set_name_array_t pset_list;
 static mach_msg_type_number_t     pset_list_len;
 /* #endif HAVE_THREAD_INFO */
 
 #elif KERNEL_LINUX
-/* No global variables */
+static long pagesize_g;
 #endif /* KERNEL_LINUX */
 
+#if HAVE_THREAD_INFO | KERNEL_LINUX
+static void ps_list_register (const char *name)
+{
+	procstat_t *new;
+	procstat_t *ptr;
+
+	if ((new = (procstat_t *) malloc (sizeof (procstat_t))) == NULL)
+		return;
+	memset (new, 0, sizeof (procstat_t));
+	strncpy (new->name, name, PROCSTAT_NAME_LEN);
+
+	for (ptr = list_head_g; ptr != NULL; ptr = ptr->next)
+	{
+		if (strcmp (ptr->name, name) == 0)
+			return;
+		if (ptr->next == NULL)
+			break;
+	}
+
+	if (ptr == NULL)
+		list_head_g = new;
+	else
+		ptr->next = new;
+}
+
+static procstat_t *ps_list_search (const char *name)
+{
+	procstat_t *ptr;
+
+	for (ptr = list_head_g; ptr != NULL; ptr = ptr->next)
+		if (strcmp (ptr->name, name) == 0)
+			break;
+
+	return (ptr);
+}
+
+static void ps_list_add (const char *name, procstat_entry_t *entry)
+{
+	procstat_t *ps;
+	procstat_entry_t *pse;
+
+	if (entry->id == 0)
+		return;
+
+	if ((ps = ps_list_search (name)) == NULL)
+		return;
+
+	for (pse = ps->instances; pse != NULL; pse = pse->next)
+		if ((pse->id == entry->id) || (pse->next == NULL))
+			break;
+
+	if ((pse == NULL) || (pse->id != entry->id))
+	{
+		procstat_entry_t *new;
+
+		new = (procstat_entry_t *) malloc (sizeof (procstat_entry_t));
+		if (new == NULL)
+			return;
+		memset (new, 0, sizeof (procstat_entry_t));
+		new->id = entry->id;
+
+		if (pse == NULL)
+			ps->instances = new;
+		else
+			pse->next = new;
+
+		pse = new;
+	}
+
+	pse->age = 0;
+	pse->num_proc = entry->num_proc;
+	pse->num_lwp  = entry->num_lwp;
+	pse->vmem_rss = entry->vmem_rss;
+
+	ps->num_proc += pse->num_proc;
+	ps->num_lwp  += pse->num_lwp;
+	ps->vmem_rss += pse->vmem_rss;
+
+	if ((entry->vmem_minflt_counter == 0)
+			&& (entry->vmem_majflt_counter == 0))
+	{
+		pse->vmem_minflt_counter += entry->vmem_minflt;
+		pse->vmem_minflt = entry->vmem_minflt;
+
+		pse->vmem_majflt_counter += entry->vmem_majflt;
+		pse->vmem_majflt = entry->vmem_majflt;
+	}
+	else
+	{
+		if (entry->vmem_minflt_counter < pse->vmem_minflt_counter)
+		{
+			pse->vmem_minflt = entry->vmem_minflt_counter
+				+ (ULONG_MAX - pse->vmem_minflt_counter);
+		}
+		else
+		{
+			pse->vmem_minflt = entry->vmem_minflt_counter - pse->vmem_minflt_counter;
+		}
+		pse->vmem_minflt_counter = entry->vmem_minflt_counter;
+
+		if (entry->vmem_majflt_counter < pse->vmem_majflt_counter)
+		{
+			pse->vmem_majflt = entry->vmem_majflt_counter
+				+ (ULONG_MAX - pse->vmem_majflt_counter);
+		}
+		else
+		{
+			pse->vmem_majflt = entry->vmem_majflt_counter - pse->vmem_majflt_counter;
+		}
+		pse->vmem_majflt_counter = entry->vmem_majflt_counter;
+	}
+
+	ps->vmem_minflt_counter += pse->vmem_minflt;
+	ps->vmem_majflt_counter += pse->vmem_majflt;
+
+	if ((entry->cpu_user_counter == 0)
+			&& (entry->cpu_system_counter == 0))
+	{
+		pse->cpu_user_counter += entry->cpu_user;
+		pse->cpu_user = entry->cpu_user;
+
+		pse->cpu_system_counter += entry->cpu_system;
+		pse->cpu_system = entry->cpu_system;
+	}
+	else
+	{
+		if (entry->cpu_user_counter < pse->cpu_user_counter)
+		{
+			pse->cpu_user = entry->cpu_user_counter
+				+ (ULONG_MAX - pse->cpu_user_counter);
+		}
+		else
+		{
+			pse->cpu_user = entry->cpu_user_counter - pse->cpu_user_counter;
+		}
+		pse->cpu_user_counter = entry->cpu_user_counter;
+
+		if (entry->cpu_system_counter < pse->cpu_system_counter)
+		{
+			pse->cpu_system = entry->cpu_system_counter
+				+ (ULONG_MAX - pse->cpu_system_counter);
+		}
+		else
+		{
+			pse->cpu_system = entry->cpu_system_counter - pse->cpu_system_counter;
+		}
+		pse->cpu_system_counter = entry->cpu_system_counter;
+	}
+
+	ps->cpu_user_counter   += pse->cpu_user;
+	ps->cpu_system_counter += pse->cpu_system;
+}
+
+static void ps_list_reset (void)
+{
+	procstat_t *ps;
+	procstat_entry_t *pse;
+	procstat_entry_t *pse_prev;
+
+	for (ps = list_head_g; ps != NULL; ps = ps->next)
+	{
+		ps->num_proc    = 0;
+		ps->num_lwp     = 0;
+		ps->vmem_rss    = 0;
+
+		pse_prev = NULL;
+		pse = ps->instances;
+		while (pse != NULL)
+		{
+			if (pse->age > 10)
+			{
+				DBG ("Removing this procstat entry cause it's too old: "
+						"id = %lu; name = %s;",
+						pse->id, ps->name);
+
+				if (pse_prev == NULL)
+				{
+					ps->instances = pse->next;
+					free (pse);
+					pse = ps->instances;
+				}
+				else
+				{
+					pse_prev->next = pse->next;
+					free (pse);
+					pse = pse_prev->next;
+				}
+			}
+			else
+			{
+				pse->age++;
+				pse_prev = pse;
+				pse = pse->next;
+			}
+		} /* while (pse != NULL) */
+	} /* for (ps = list_head_g; ps != NULL; ps = ps->next) */
+}
+#endif /* HAVE_THREAD_INFO | KERNEL_LINUX */
+
+static int ps_config (char *key, char *value)
+{
+	if (strcasecmp (key, "Process") == 0)
+	{
+		ps_list_register (value);
+	}
+	else
+	{
+		return (-1);
+	}
+
+	return (0);
+}
+
 static void ps_init (void)
 {
 #if HAVE_THREAD_INFO
 	kern_return_t status;
 
 	port_host_self = mach_host_self ();
@@ -131,21 +446,81 @@
 		pset_list_len = 0;
 		return;
 	}
 /* #endif HAVE_THREAD_INFO */
 
 #elif KERNEL_LINUX
-	/* No init */
+	pagesize_g = sysconf(_SC_PAGESIZE);
+	DBG ("pagesize_g = %li; CONFIG_HZ = %i;",
+			pagesize_g, CONFIG_HZ);
 #endif /* KERNEL_LINUX */
 
 	return;
 }
 
 static void ps_write (char *host, char *inst, char *val)
 {
-	rrd_update_file (host, ps_file, val, ds_def, ds_num);
+	rrd_update_file (host, processes_file, val,
+			processes_ds_def, processes_ds_num);
+}
+
+static void ps_rss_write (char *host, char *inst, char *val)
+{
+	char filename[256];
+	int status;
+
+	status = snprintf (filename, 256, ps_rss_file, inst);
+	if ((status < 1) || (status >= 256))
+		return;
+
+	rrd_update_file (host, filename, val, ps_rss_ds_def, ps_rss_ds_num);
+}
+
+static void ps_cputime_write (char *host, char *inst, char *val)
+{
+	char filename[256];
+	int status;
+
+	status = snprintf (filename, 256, ps_cputime_file, inst);
+	if ((status < 1) || (status >= 256))
+		return;
+
+	DBG ("host = %s; filename = %s; val = %s;",
+			host, filename, val);
+	rrd_update_file (host, filename, val,
+			ps_cputime_ds_def, ps_cputime_ds_num);
+}
+
+static void ps_count_write (char *host, char *inst, char *val)
+{
+	char filename[256];
+	int status;
+
+	status = snprintf (filename, 256, ps_count_file, inst);
+	if ((status < 1) || (status >= 256))
+		return;
+
+	DBG ("host = %s; filename = %s; val = %s;",
+			host, filename, val);
+	rrd_update_file (host, filename, val,
+			ps_count_ds_def, ps_count_ds_num);
+}
+
+static void ps_pagefaults_write (char *host, char *inst, char *val)
+{
+	char filename[256];
+	int status;
+
+	status = snprintf (filename, 256, ps_pagefaults_file, inst);
+	if ((status < 1) || (status >= 256))
+		return;
+
+	DBG ("host = %s; filename = %s; val = %s;",
+			host, filename, val);
+	rrd_update_file (host, filename, val,
+			ps_pagefaults_ds_def, ps_pagefaults_ds_num);
 }
 
 #if PROCESSES_HAVE_READ
 static void ps_submit (int running,
 		int sleeping,
 		int zombies,
@@ -164,36 +539,292 @@
 	DBG ("running = %i; sleeping = %i; zombies = %i; stopped = %i; paging = %i; blocked = %i;",
 			running, sleeping, zombies, stopped, paging, blocked);
 
 	plugin_submit (MODULE_NAME, "-", buf);
 }
 
+static void ps_submit_proc_list (procstat_t *ps)
+{
+	char buffer[64];
+
+	if (ps == NULL)
+		return;
+
+	snprintf (buffer, 64, "%u:%lu",
+			(unsigned int) curtime,
+			ps->vmem_rss);
+	buffer[63] = '\0';
+	plugin_submit ("ps_rss", ps->name, buffer);
+
+	snprintf (buffer, 64, "%u:%u:%u",
+			(unsigned int) curtime,
+			/* Make the counter overflow */
+			(unsigned int) (ps->cpu_user_counter   & 0xFFFFFFFF),
+			(unsigned int) (ps->cpu_system_counter & 0xFFFFFFFF));
+	buffer[63] = '\0';
+	plugin_submit ("ps_cputime", ps->name, buffer);
+
+	snprintf (buffer, 64, "%u:%lu:%lu",
+			(unsigned int) curtime,
+			ps->num_proc, ps->num_lwp);
+	buffer[63] = '\0';
+	plugin_submit ("ps_count", ps->name, buffer);
+
+	snprintf (buffer, 64, "%u:%lu:%lu",
+			(unsigned int) curtime,
+			ps->vmem_minflt_counter, ps->vmem_majflt_counter);
+	buffer[63] = '\0';
+	plugin_submit ("ps_pagefaults", ps->name, buffer);
+
+	DBG ("name = %s; num_proc = %lu; num_lwp = %lu; vmem_rss = %lu; "
+			"vmem_minflt_counter = %lu; vmem_majflt_counter = %lu; "
+			"cpu_user_counter = %lu; cpu_system_counter = %lu;",
+			ps->name, ps->num_proc, ps->num_lwp, ps->vmem_rss,
+			ps->vmem_minflt_counter, ps->vmem_majflt_counter, ps->cpu_user_counter,
+			ps->cpu_system_counter);
+
+}
+
+#if KERNEL_LINUX
+static int *ps_read_tasks (int pid)
+{
+	int *list = NULL;
+	int  list_size = 1; /* size of allocated space, in elements */
+	int  list_len = 0;  /* number of currently used elements */
+
+	char           dirname[64];
+	DIR           *dh;
+	struct dirent *ent;
+
+	snprintf (dirname, 64, "/proc/%i/task", pid);
+	dirname[63] = '\0';
+
+	if ((dh = opendir (dirname)) == NULL)
+	{
+		DBG ("Failed to open directory `%s'", dirname);
+		return (NULL);
+	}
+
+	while ((ent = readdir (dh)) != NULL)
+	{
+		if (!isdigit (ent->d_name[0]))
+			continue;
+
+		if ((list_len + 1) >= list_size)
+		{
+			int *new_ptr;
+			int  new_size = 2 * list_size;
+			/* Comes in sizes: 2, 4, 8, 16, ... */
+
+			new_ptr = (int *) realloc (list, (size_t) (sizeof (int) * new_size));
+			if (new_ptr == NULL)
+			{
+				if (list != NULL)
+					free (list);
+				syslog (LOG_ERR, "processes plugin: "
+						"Failed to allocate more memory.");
+				return (NULL);
+			}
+
+			list = new_ptr;
+			list_size = new_size;
+
+			memset (list + list_len, 0, sizeof (int) * (list_size - list_len));
+		}
+
+		list[list_len] = atoi (ent->d_name);
+		if (list[list_len] != 0)
+			list_len++;
+	}
+
+	closedir (dh);
+
+	assert (list_len < list_size);
+	assert (list[list_len] == 0);
+
+	return (list);
+}
+
+int ps_read_process (int pid, procstat_t *ps, char *state)
+{
+	char  filename[64];
+	char  buffer[1024];
+	FILE *fh;
+
+	char *fields[64];
+	char  fields_len;
+
+	int  *tasks;
+	int   i;
+
+	int   ppid;
+	int   name_len;
+
+	long long unsigned cpu_user_counter;
+	long long unsigned cpu_system_counter;
+	long long unsigned vmem_rss;
+
+	memset (ps, 0, sizeof (procstat_t));
+
+	snprintf (filename, 64, "/proc/%i/stat", pid);
+	filename[63] = '\0';
+
+	if ((fh = fopen (filename, "r")) == NULL)
+		return (-1);
+
+	if (fgets (buffer, 1024, fh) == NULL)
+	{
+		fclose (fh);
+		return (-1);
+	}
+
+	fclose (fh);
+
+	fields_len = strsplit (buffer, fields, 64);
+	if (fields_len < 24)
+	{
+		DBG ("`%s' has only %i fields..",
+				filename, fields_len);
+		return (-1);
+	}
+	else if (fields_len != 41)
+	{
+		DBG ("WARNING: (fields_len = %i) != 41", fields_len);
+	}
+
+	/* copy the name, strip brackets in the process */
+	name_len = strlen (fields[1]) - 2;
+	if ((fields[1][0] != '(') || (fields[1][name_len + 1] != ')'))
+	{
+		DBG ("No brackets found in process name: `%s'", fields[1]);
+		return (-1);
+	}
+	fields[1] = fields[1] + 1;
+	fields[1][name_len] = '\0';
+	strncpy (ps->name, fields[1], PROCSTAT_NAME_LEN);
+
+	ppid = atoi (fields[3]);
+
+	if ((tasks = ps_read_tasks (pid)) == NULL)
+	{
+		/* This happends for zombied, e.g. */
+		DBG ("ps_read_tasks (%i) failed.", pid);
+		*state = 'Z';
+		ps->num_lwp  = 0;
+		ps->num_proc = 0;
+	}
+	else
+	{
+		*state = '\0';
+		ps->num_lwp  = 0;
+		ps->num_proc = 1;
+		for (i = 0; tasks[i] != 0; i++)
+			ps->num_lwp++;
+
+		free (tasks);
+		tasks = NULL;
+	}
+
+	/* Leave the rest at zero if this is only an LWP */
+	if (ps->num_proc == 0)
+	{
+		DBG ("This is only an LWP: pid = %i; name = %s;",
+				pid, ps->name);
+		return (0);
+	}
+
+	cpu_user_counter   = atoll (fields[13]);
+	cpu_system_counter = atoll (fields[14]);
+	vmem_rss = atoll (fields[23]);
+	ps->vmem_minflt_counter = atol (fields[9]);
+	ps->vmem_majflt_counter = atol (fields[11]);
+	
+	/* Convert jiffies to useconds */
+	cpu_user_counter   = cpu_user_counter   * 1000000 / CONFIG_HZ;
+	cpu_system_counter = cpu_system_counter * 1000000 / CONFIG_HZ;
+	vmem_rss = vmem_rss * pagesize_g;
+
+	ps->cpu_user_counter = (unsigned long) cpu_user_counter;
+	ps->cpu_system_counter = (unsigned long) cpu_system_counter;
+	ps->vmem_rss = (unsigned long) vmem_rss;
+
+	*state = fields[2][0];
+
+	/* success */
+	return (0);
+} /* int ps_read_process (...) */
+#endif /* KERNEL_LINUX */
+
+#if HAVE_THREAD_INFO
+static int mach_get_task_name (task_t t, int *pid, char *name, size_t name_max_len)
+{
+	int mib[4];
+
+	struct kinfo_proc kp;
+	size_t            kp_size;
+
+	mib[0] = CTL_KERN;
+	mib[1] = KERN_PROC;
+	mib[2] = KERN_PROC_PID;
+
+	if (pid_for_task (t, pid) != KERN_SUCCESS)
+		return (-1);
+	mib[3] = *pid;
+
+	kp_size = sizeof (kp);
+	if (sysctl (mib, 4, &kp, &kp_size, NULL, 0) != 0)
+		return (-1);
+
+	if (name_max_len > (MAXCOMLEN + 1))
+		name_max_len = MAXCOMLEN + 1;
+
+	strncpy (name, kp.kp_proc.p_comm, name_max_len - 1);
+	name[name_max_len - 1] = '\0';
+
+	DBG ("pid = %i; name = %s;", *pid, name);
+
+	/* We don't do the special handling for `p_comm == "LaunchCFMApp"' as
+	 * `top' does it, because it is a lot of work and only used when
+	 * debugging. -octo */
+
+	return (0);
+}
+#endif /* HAVE_THREAD_INFO */
+
 static void ps_read (void)
 {
 #if HAVE_THREAD_INFO
 	kern_return_t            status;
 
 	int                      pset;
 	processor_set_t          port_pset_priv;
 
 	int                      task;
 	task_array_t             task_list;
 	mach_msg_type_number_t   task_list_len;
 
+	int                      task_pid;
+	char                     task_name[MAXCOMLEN + 1];
+
 	int                      thread;
 	thread_act_array_t       thread_list;
 	mach_msg_type_number_t   thread_list_len;
 	thread_basic_info_data_t thread_data;
 	mach_msg_type_number_t   thread_data_len;
 
 	int running  = 0;
 	int sleeping = 0;
 	int zombies  = 0;
 	int stopped  = 0;
 	int blocked  = 0;
 
+	procstat_t *ps;
+	procstat_entry_t pse;
+
+	ps_list_reset ();
+
 	/*
 	 * The Mach-concept is a little different from the traditional UNIX
 	 * concept: All the work is done in threads. Threads are contained in
 	 * `tasks'. Therefore, `task status' doesn't make much sense, since
 	 * it's actually a `thread status'.
 	 * Tasks are assigned to sets of processors, so that's where you go to
@@ -219,12 +850,77 @@
 			mach_port_deallocate (port_task_self, port_pset_priv);
 			continue;
 		}
 
 		for (task = 0; task < task_list_len; task++)
 		{
+			ps = NULL;
+			if (mach_get_task_name (task_list[task],
+						&task_pid,
+						task_name, PROCSTAT_NAME_LEN) == 0)
+				ps = ps_list_search (task_name);
+
+			/* Collect more detailed statistics for this process */
+			if (ps != NULL)
+			{
+				task_basic_info_data_t        task_basic_info;
+				mach_msg_type_number_t        task_basic_info_len;
+				task_events_info_data_t       task_events_info;
+				mach_msg_type_number_t        task_events_info_len;
+				task_absolutetime_info_data_t task_absolutetime_info;
+				mach_msg_type_number_t        task_absolutetime_info_len;
+
+				memset (&pse, '\0', sizeof (pse));
+				pse.id = task_pid;
+
+				task_basic_info_len = TASK_BASIC_INFO_COUNT;
+				status = task_info (task_list[task],
+						TASK_BASIC_INFO,
+						(task_info_t) &task_basic_info,
+						&task_basic_info_len);
+				if (status != KERN_SUCCESS)
+				{
+					syslog (LOG_ERR, "task_info failed: %s",
+							mach_error_string (status));
+					continue; /* with next thread_list */
+				}
+
+				task_events_info_len = TASK_EVENTS_INFO_COUNT;
+				status = task_info (task_list[task],
+						TASK_EVENTS_INFO,
+						(task_info_t) &task_events_info,
+						&task_events_info_len);
+				if (status != KERN_SUCCESS)
+				{
+					syslog (LOG_ERR, "task_info failed: %s",
+							mach_error_string (status));
+					continue; /* with next thread_list */
+				}
+
+				task_absolutetime_info_len = TASK_ABSOLUTETIME_INFO_COUNT;
+				status = task_info (task_list[task],
+						TASK_ABSOLUTETIME_INFO,
+						(task_info_t) &task_absolutetime_info,
+						&task_absolutetime_info_len);
+				if (status != KERN_SUCCESS)
+				{
+					syslog (LOG_ERR, "task_info failed: %s",
+							mach_error_string (status));
+					continue; /* with next thread_list */
+				}
+
+				pse.num_proc++;
+				pse.vmem_rss = task_basic_info.resident_size;
+
+				pse.vmem_minflt_counter = task_events_info.cow_faults;
+				pse.vmem_majflt_counter = task_events_info.faults;
+
+				pse.cpu_user_counter = task_absolutetime_info.total_user;
+				pse.cpu_system_counter = task_absolutetime_info.total_system;
+			}
+
 			status = task_threads (task_list[task], &thread_list,
 					&thread_list_len);
 			if (status != KERN_SUCCESS)
 			{
 				/* Apple's `top' treats this case a zombie. It
 				 * makes sense to some extend: A `zombie'
@@ -245,20 +941,23 @@
 				status = thread_info (thread_list[thread],
 						THREAD_BASIC_INFO,
 						(thread_info_t) &thread_data,
 						&thread_data_len);
 				if (status != KERN_SUCCESS)
 				{
-					syslog (LOG_ERR, "thread_info failed: %s\n",
+					syslog (LOG_ERR, "thread_info failed: %s",
 							mach_error_string (status));
 					if (task_list[task] != port_task_self)
 						mach_port_deallocate (port_task_self,
 								thread_list[thread]);
 					continue; /* with next thread_list */
 				}
 
+				if (ps != NULL)
+					pse.num_lwp++;
+
 				switch (thread_data.run_state)
 				{
 					case TH_STATE_RUNNING:
 						running++;
 						break;
 					case TH_STATE_STOPPED:
@@ -312,12 +1011,15 @@
 				status = mach_port_deallocate (port_task_self,
 						task_list[task]);
 				if (status != KERN_SUCCESS)
 					syslog (LOG_ERR, "mach_port_deallocate failed: %s",
 							mach_error_string (status));
 			}
+
+			if (ps != NULL)
+				ps_list_add (task_name, &pse);
 		} /* for (task_list) */
 
 		if ((status = vm_deallocate (port_task_self,
 				(vm_address_t) task_list,
 				task_list_len * sizeof (task_t))) != KERN_SUCCESS)
 		{
@@ -333,90 +1035,108 @@
 			syslog (LOG_ERR, "mach_port_deallocate failed: %s",
 					mach_error_string (status));
 		}
 	} /* for (pset_list) */
 
 	ps_submit (running, sleeping, zombies, stopped, -1, blocked);
+
+	for (ps = list_head_g; ps != NULL; ps = ps->next)
+		ps_submit_proc_list (ps);
 /* #endif HAVE_THREAD_INFO */
 
 #elif KERNEL_LINUX
 	int running  = 0;
 	int sleeping = 0;
 	int zombies  = 0;
 	int stopped  = 0;
 	int paging   = 0;
 	int blocked  = 0;
 
-	char buf[BUFSIZE];
-	char filename[20]; /* need 17 bytes */
-	char *fields[BUFSIZE];
-
 	struct dirent *ent;
-	DIR *proc;
-	FILE *fh;
+	DIR           *proc;
+	int            pid;
+
+	int        status;
+	procstat_t ps;
+	procstat_entry_t pse;
+	char       state;
+
+	procstat_t *ps_ptr;
 
 	running = sleeping = zombies = stopped = paging = blocked = 0;
+	ps_list_reset ();
 
 	if ((proc = opendir ("/proc")) == NULL)
 	{
 		syslog (LOG_ERR, "Cannot open `/proc': %s", strerror (errno));
 		return;
 	}
 
 	while ((ent = readdir (proc)) != NULL)
 	{
 		if (!isdigit (ent->d_name[0]))
 			continue;
 
-		if (snprintf (filename, 20, "/proc/%s/stat", ent->d_name) >= 20)
+		if ((pid = atoi (ent->d_name)) < 1)
 			continue;
 
-		if ((fh = fopen (filename, "r")) == NULL)
+		status = ps_read_process (pid, &ps, &state);
+		if (status != 0)
 		{
-			syslog (LOG_NOTICE, "Cannot open `%s': %s", filename,
-					strerror (errno));
+			DBG ("ps_read_process failed: %i", status);
 			continue;
 		}
 
-		if (fgets (buf, BUFSIZE, fh) == NULL)
-		{
-			syslog (LOG_NOTICE, "Unable to read from `%s': %s",
-					filename, strerror (errno));
-			fclose (fh);
-			continue;
-		}
-
-		fclose (fh);
+		pse.id       = pid;
+		pse.age      = 0;
 
-		if (strsplit (buf, fields, BUFSIZE) < 3)
-		{
-			DBG ("Line has less than three fields.");
-			continue;
-		}
+		pse.num_proc = ps.num_proc;
+		pse.num_lwp  = ps.num_lwp;
+		pse.vmem_rss = ps.vmem_rss;
+
+		pse.vmem_minflt = 0;
+		pse.vmem_minflt_counter = ps.vmem_minflt_counter;
+		pse.vmem_majflt = 0;
+		pse.vmem_majflt_counter = ps.vmem_majflt_counter;
+
+		pse.cpu_user = 0;
+		pse.cpu_user_counter = ps.cpu_user_counter;
+		pse.cpu_system = 0;
+		pse.cpu_system_counter = ps.cpu_system_counter;
 
-		switch (fields[2][0])
+		switch (state)
 		{
 			case 'R': running++;  break;
 			case 'S': sleeping++; break;
 			case 'D': blocked++;  break;
 			case 'Z': zombies++;  break;
 			case 'T': stopped++;  break;
 			case 'W': paging++;   break;
 		}
+
+		ps_list_add (ps.name, &pse);
 	}
 
 	closedir (proc);
 
 	ps_submit (running, sleeping, zombies, stopped, paging, blocked);
+
+	for (ps_ptr = list_head_g; ps_ptr != NULL; ps_ptr = ps_ptr->next)
+		ps_submit_proc_list (ps_ptr);
 #endif /* KERNEL_LINUX */
 }
 #else
 # define ps_read NULL
 #endif /* PROCESSES_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, ps_init, ps_read, ps_write);
+	plugin_register ("ps_rss", NULL, NULL, ps_rss_write);
+	plugin_register ("ps_cputime", NULL, NULL, ps_cputime_write);
+	plugin_register ("ps_count", NULL, NULL, ps_count_write);
+	plugin_register ("ps_pagefaults", NULL, NULL, ps_pagefaults_write);
+	cf_register (MODULE_NAME, ps_config, config_keys, config_keys_num);
 }
 
 #undef BUFSIZE
 #undef MODULE_NAME
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/sensors.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/sensors.c	2007-01-09 22:05:06.000000000 +0800
@@ -15,19 +15,32 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
+ *   
+ *   Lubos Stanek <lubek at users.sourceforge.net> Wed Oct 27, 2006
+ *   - config ExtendedSensorNaming option
+ *   - precise sensor feature selection (chip-bus-address/type-feature)
+ *     with ExtendedSensorNaming
+ *   - more sensor features (finite list)
+ *   - honor sensors.conf's ignored
+ *   - config Sensor option
+ *   - config IgnoreSelected option
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
+#include "configfile.h"
+#include "utils_ignorelist.h"
+#include "utils_debug.h"
 
 #define MODULE_NAME "sensors"
+#define MODULE_NAME_VOLTAGE MODULE_NAME"_voltage"
 
 #if defined(HAVE_SENSORS_SENSORS_H)
 # include <sensors/sensors.h>
 #else
 # undef HAVE_LIBSENSORS
 #endif
@@ -37,168 +50,497 @@
 #else
 # define SENSORS_HAVE_READ 0
 #endif
 
 #define BUFSIZE 512
 
-static char *filename_format = "sensors-%s.rrd";
-
+/* temperature and fan sensors */
 static char *ds_def[] =
 {
 	"DS:value:GAUGE:"COLLECTD_HEARTBEAT":U:U",
 	NULL
 };
 static int ds_num = 1;
 
-#ifdef HAVE_LIBSENSORS
+/* voltage sensors */
+static char *sensor_voltage_ds_def[] = 
+{
+	"DS:voltage:GAUGE:"COLLECTD_HEARTBEAT":U:U",
+	NULL
+};
+static int sensor_voltage_ds_num = 1;
+
+/* old naming */
+static char *old_filename_format = "sensors-%s.rrd";
+/* end old naming */
+
+/* new naming <chip-bus-address/type-feature */
+static char *extended_filename_format = "lm_sensors-%s.rrd";
+
+#define SENSOR_TYPE_UNKNOWN 0
+#define SENSOR_TYPE_VOLTAGE 1
+#define SENSOR_TYPE_FANSPEED 2
+#define SENSOR_TYPE_TEMPERATURE 3
+
+#if SENSORS_HAVE_READ
+static char *sensor_type_prefix[] =
+{
+	"unknown",
+	"voltage",
+	"fanspeed",
+	"temperature",
+	NULL
+};
+#endif
+
+typedef struct sensors_labeltypes {
+	char *label;
+	int type;
+} sensors_labeltypes;
+
+/*
+ * finite list of known labels extracted from lm_sensors
+ */
+#if SENSORS_HAVE_READ
+static sensors_labeltypes known_features[] = 
+{
+	{ "fan1", SENSOR_TYPE_FANSPEED },
+	{ "fan2", SENSOR_TYPE_FANSPEED },
+	{ "fan3", SENSOR_TYPE_FANSPEED },
+	{ "fan4", SENSOR_TYPE_FANSPEED },
+	{ "fan5", SENSOR_TYPE_FANSPEED },
+	{ "fan6", SENSOR_TYPE_FANSPEED },
+	{ "fan7", SENSOR_TYPE_FANSPEED },
+	{ "AIN2", SENSOR_TYPE_VOLTAGE },
+	{ "AIN1", SENSOR_TYPE_VOLTAGE },
+	{ "in10", SENSOR_TYPE_VOLTAGE },
+	{ "in9", SENSOR_TYPE_VOLTAGE },
+	{ "in8", SENSOR_TYPE_VOLTAGE },
+	{ "in7", SENSOR_TYPE_VOLTAGE },
+	{ "in6", SENSOR_TYPE_VOLTAGE },
+	{ "in5", SENSOR_TYPE_VOLTAGE },
+	{ "in4", SENSOR_TYPE_VOLTAGE },
+	{ "in3", SENSOR_TYPE_VOLTAGE },
+	{ "in2", SENSOR_TYPE_VOLTAGE },
+	{ "in0", SENSOR_TYPE_VOLTAGE },
+	{ "CPU_Temp", SENSOR_TYPE_TEMPERATURE },
+	{ "remote_temp", SENSOR_TYPE_TEMPERATURE },
+	{ "temp1", SENSOR_TYPE_TEMPERATURE },
+	{ "temp2", SENSOR_TYPE_TEMPERATURE },
+	{ "temp3", SENSOR_TYPE_TEMPERATURE },
+	{ "temp4", SENSOR_TYPE_TEMPERATURE },
+	{ "temp5", SENSOR_TYPE_TEMPERATURE },
+	{ "temp6", SENSOR_TYPE_TEMPERATURE },
+	{ "temp7", SENSOR_TYPE_TEMPERATURE },
+	{ "temp", SENSOR_TYPE_TEMPERATURE },
+	{ "Vccp2", SENSOR_TYPE_VOLTAGE },
+	{ "Vccp1", SENSOR_TYPE_VOLTAGE },
+	{ "vdd", SENSOR_TYPE_VOLTAGE },
+	{ "vid5", SENSOR_TYPE_VOLTAGE },
+	{ "vid4", SENSOR_TYPE_VOLTAGE },
+	{ "vid3", SENSOR_TYPE_VOLTAGE },
+	{ "vid2", SENSOR_TYPE_VOLTAGE },
+	{ "vid1", SENSOR_TYPE_VOLTAGE },
+	{ "vid", SENSOR_TYPE_VOLTAGE },
+	{ "vin4", SENSOR_TYPE_VOLTAGE },
+	{ "vin3", SENSOR_TYPE_VOLTAGE },
+	{ "vin2", SENSOR_TYPE_VOLTAGE },
+	{ "vin1", SENSOR_TYPE_VOLTAGE },
+	{ "voltbatt", SENSOR_TYPE_VOLTAGE },
+	{ "volt12", SENSOR_TYPE_VOLTAGE },
+	{ "volt5", SENSOR_TYPE_VOLTAGE },
+	{ "vrm", SENSOR_TYPE_VOLTAGE },
+	{ "5.0V", SENSOR_TYPE_VOLTAGE },
+	{ "5V", SENSOR_TYPE_VOLTAGE },
+	{ "3.3V", SENSOR_TYPE_VOLTAGE },
+	{ "2.5V", SENSOR_TYPE_VOLTAGE },
+	{ "2.0V", SENSOR_TYPE_VOLTAGE },
+	{ "12V", SENSOR_TYPE_VOLTAGE },
+	{ 0, -1 }
+};
+#endif
+/* end new naming */
+
+static char *config_keys[] =
+{
+	"Sensor",
+	"IgnoreSelected",
+	"ExtendedSensorNaming",
+	NULL
+};
+static int config_keys_num = 3;
+
+static ignorelist_t *sensor_list;
+
+/* 
+ * sensor_extended_naming:
+ * 0 => default is to create chip-feature
+ * 1 => use new naming scheme chip-bus-address/type-feature
+ */
+static int sensor_extended_naming = 0;
+
+#if SENSORS_HAVE_READ
+#  ifndef SENSORS_CONF_PATH
+#    define SENSORS_CONF_PATH "/etc/sensors.conf"
+#  endif
+
+static const char *conffile = SENSORS_CONF_PATH;
+/* SENSORS_CONF_PATH */
+
+/*
+ * remember stat of the loaded config
+ */
+static time_t sensors_config_mtime = 0;
+
 typedef struct featurelist
 {
 	const sensors_chip_name    *chip;
 	const sensors_feature_data *data;
+	int                         type;
 	struct featurelist         *next;
 } featurelist_t;
 
 featurelist_t *first_feature = NULL;
-#endif /* defined (HAVE_LIBSENSORS) */
+#endif /* if SENSORS_HAVE_READ */
 
-static void collectd_sensors_init (void)
+static int sensors_config (char *key, char *value)
+{
+	if (sensor_list == NULL)
+		sensor_list = ignorelist_create (1);
+
+	if (strcasecmp (key, "Sensor") == 0)
+	{
+		if (ignorelist_add (sensor_list, value))
+		{
+			syslog (LOG_EMERG, MODULE_NAME": Cannot add value to ignorelist.");
+			return (1);
+		}
+	}
+	else if (strcasecmp (key, "IgnoreSelected") == 0)
+	{
+		ignorelist_set_invert (sensor_list, 1);
+		if ((strcasecmp (value, "True") == 0)
+				|| (strcasecmp (value, "Yes") == 0)
+				|| (strcasecmp (value, "On") == 0))
+			ignorelist_set_invert (sensor_list, 0);
+	}
+	else if (strcasecmp (key, "ExtendedSensorNaming") == 0)
+	{
+		if ((strcasecmp (value, "True") == 0)
+				|| (strcasecmp (value, "Yes") == 0)
+				|| (strcasecmp (value, "On") == 0))
+			sensor_extended_naming = 1;
+		else
+			sensor_extended_naming = 0;
+	}
+	else
+	{
+		return (-1);
+	}
+
+	return (0);
+}
+
+#if SENSORS_HAVE_READ
+void sensors_free_features (void)
+{
+	featurelist_t *thisft;
+	featurelist_t *nextft;
+
+	if (first_feature == NULL)
+		return;
+
+	sensors_cleanup ();
+
+	for (thisft = first_feature; thisft != NULL; thisft = nextft)
+	{
+		nextft = thisft->next;
+		sfree (thisft);
+	}
+	first_feature = NULL;
+}
+
+static void sensors_load_conf (void)
 {
-#ifdef HAVE_LIBSENSORS
 	FILE *fh;
 	featurelist_t *last_feature = NULL;
-	featurelist_t *new_feature;
+	featurelist_t *new_feature = NULL;
 	
 	const sensors_chip_name *chip;
 	int chip_num;
 
 	const sensors_feature_data *data;
 	int data_num0, data_num1;
+
+	struct stat statbuf;
+	int status;
 	
-	new_feature = first_feature;
-	while (new_feature != NULL)
+	status = stat (conffile, &statbuf);
+	if (status != 0)
 	{
-		last_feature = new_feature->next;
-		free (new_feature);
-		new_feature = last_feature;
+		syslog (LOG_ERR, MODULE_NAME": stat(%s) failed: %s",
+				conffile, strerror (errno));
+		sensors_config_mtime = 0;
 	}
 
-#ifdef assert
-	assert (new_feature == NULL);
-	assert (last_feature == NULL);
-#endif
-
-	if ((fh = fopen ("/etc/sensors.conf", "r")) == NULL)
+	if ((sensors_config_mtime != 0)
+			&& (sensors_config_mtime == statbuf.st_mtime))
 		return;
 
-	if (sensors_init (fh))
+	if (sensors_config_mtime != 0)
 	{
-		fclose (fh);
-		syslog (LOG_ERR, "sensors: Cannot initialize sensors. Data will not be collected.");
+		syslog (LOG_NOTICE, MODULE_NAME": Reloading config from %s",
+				conffile);
+		sensors_free_features ();
+		sensors_config_mtime = 0;
+	}
+
+	fh = fopen (conffile, "r");
+	if (fh == NULL)
+	{
+		syslog (LOG_ERR, MODULE_NAME": fopen(%s) failed: %s",
+				conffile, strerror(errno));
 		return;
 	}
 
+	status = sensors_init (fh);
 	fclose (fh);
+	if (status != 0)
+	{
+		syslog (LOG_ERR, MODULE_NAME": Cannot initialize sensors. "
+				"Data will not be collected.");
+		return;
+	}
+
+	sensors_config_mtime = statbuf.st_mtime;
 
 	chip_num = 0;
 	while ((chip = sensors_get_detected_chips (&chip_num)) != NULL)
 	{
 		data = NULL;
 		data_num0 = data_num1 = 0;
 
-		while ((data = sensors_get_all_features (*chip, &data_num0, &data_num1)) != NULL)
+		while ((data = sensors_get_all_features (*chip, &data_num0, &data_num1))
+				!= NULL)
 		{
+			int i;
+
 			/* "master features" only */
 			if (data->mapping != SENSORS_NO_MAPPING)
 				continue;
 
-			/* Only temperature for now.. */
-			if (strncmp (data->name, "temp", 4)
-					&& strncmp (data->name, "fan", 3))
-				continue;
-
-			if ((new_feature = (featurelist_t *) malloc (sizeof (featurelist_t))) == NULL)
+			/* Only known features */
+			for (i = 0; known_features[i].type >= 0; i++)
 			{
-				perror ("malloc");
-				continue;
-			}
+				if (strcmp (data->name, known_features[i].label) != 0)
+					continue;
 
-			/*
-			syslog (LOG_INFO, "sensors: Adding feature: %s/%s", chip->prefix, data->name);
-			*/
-
-			new_feature->chip = chip;
-			new_feature->data = data;
-			new_feature->next = NULL;
-
-			if (first_feature == NULL)
-			{
-				first_feature = new_feature;
-				last_feature  = new_feature;
-			}
-			else
-			{
-				last_feature->next = new_feature;
-				last_feature = new_feature;
-			}
-		}
-	}
+				/* skip ignored in sensors.conf */
+				if (sensors_get_ignored (*chip, data->number) == 0)
+					break;
+
+				DBG ("Adding feature: %s-%s-%s",
+						chip->prefix,
+						sensor_type_prefix[known_features[i].type],
+						data->name);
+
+				if ((new_feature = (featurelist_t *) malloc (sizeof (featurelist_t))) == NULL)
+				{
+					DBG ("malloc: %s", strerror (errno));
+					syslog (LOG_ERR, MODULE_NAME":  malloc: %s",
+							strerror (errno));
+					break;
+				}
+
+				new_feature->chip = chip;
+				new_feature->data = data;
+				new_feature->type = known_features[i].type;
+				new_feature->next = NULL;
+
+				if (first_feature == NULL)
+				{
+					first_feature = new_feature;
+					last_feature  = new_feature;
+				}
+				else
+				{
+					last_feature->next = new_feature;
+					last_feature = new_feature;
+				}
+
+				/* stop searching known features at first found */
+				break;
+			} /* for i */
+		} /* while sensors_get_all_features */
+	} /* while sensors_get_detected_chips */
 
 	if (first_feature == NULL)
+	{
 		sensors_cleanup ();
-#endif /* defined(HAVE_LIBSENSORS) */
+		syslog (LOG_INFO, MODULE_NAME": lm_sensors reports no features. "
+			"Data will not be collected.");
+	}
+} /* void sensors_load_conf */
+#endif /* if SENSORS_HAVE_READ */
 
+static void collectd_sensors_init (void)
+{
 	return;
 }
 
+static void sensors_shutdown (void)
+{
+#if SENSORS_HAVE_READ
+	sensors_free_features ();
+#endif /* if SENSORS_HAVE_READ */
+
+	if (NULL != sensor_list)
+		ignorelist_free (sensor_list);
+}
+
+static void sensors_voltage_write (char *host, char *inst, char *val)
+{
+	char file[BUFSIZE];
+	int status;
+
+	/* skip ignored in our config */
+	if ((NULL != sensor_list) && ignorelist_match (sensor_list, inst))
+		return;
+
+	/* extended sensor naming */
+	if(sensor_extended_naming)
+		status = snprintf (file, BUFSIZE, extended_filename_format, inst);
+	else
+		status = snprintf (file, BUFSIZE, old_filename_format, inst);
+
+	if ((status < 1) || (status >= BUFSIZE))
+		return;
+
+	rrd_update_file (host, file, val, sensor_voltage_ds_def, sensor_voltage_ds_num);
+}
+
 static void sensors_write (char *host, char *inst, char *val)
 {
 	char file[BUFSIZE];
 	int status;
 
-	status = snprintf (file, BUFSIZE, filename_format, inst);
-	if (status < 1)
+	/* skip ignored in our config */
+	if ((NULL != sensor_list) && ignorelist_match (sensor_list, inst))
 		return;
-	else if (status >= BUFSIZE)
+
+	/* extended sensor naming */
+	if (sensor_extended_naming)
+		status = snprintf (file, BUFSIZE, extended_filename_format, inst);
+	else
+		status = snprintf (file, BUFSIZE, old_filename_format, inst);
+
+	if ((status < 1) || (status >= BUFSIZE))
 		return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
 #if SENSORS_HAVE_READ
-static void sensors_submit (const char *feat_name, const char *chip_prefix, double value)
+static void sensors_submit (const char *feat_name,
+		const char *chip_prefix, double value, int type)
 {
 	char buf[BUFSIZE];
 	char inst[BUFSIZE];
 
-	if (snprintf (buf, BUFSIZE, "%u:%.3f", (unsigned int) curtime, value) >= BUFSIZE)
+	if (snprintf (inst, BUFSIZE, "%s-%s", chip_prefix, feat_name)
+			>= BUFSIZE)
 		return;
 
-	if (snprintf (inst, BUFSIZE, "%s-%s", chip_prefix, feat_name) >= BUFSIZE)
+	/* skip ignored in our config */
+	if ((NULL != sensor_list) && ignorelist_match (sensor_list, inst))
 		return;
 
-	plugin_submit (MODULE_NAME, inst, buf);
+	if (snprintf (buf, BUFSIZE, "%u:%.3f", (unsigned int) curtime,
+				value) >= BUFSIZE)
+		return;
+
+	if (type == SENSOR_TYPE_VOLTAGE)
+	{
+		DBG ("%s: %s/%s, %s", MODULE_NAME_VOLTAGE,
+				sensor_type_prefix[type], inst, buf);
+		plugin_submit (MODULE_NAME_VOLTAGE, inst, buf);
+	}
+	else
+	{
+		DBG ("%s: %s/%s, %s", MODULE_NAME,
+				sensor_type_prefix[type], inst, buf);
+		plugin_submit (MODULE_NAME, inst, buf);
+	}
 }
 
 static void sensors_read (void)
 {
 	featurelist_t *feature;
 	double value;
+	char chip_fullprefix[BUFSIZE];
+
+	sensors_load_conf ();
 
 	for (feature = first_feature; feature != NULL; feature = feature->next)
 	{
 		if (sensors_get_feature (*feature->chip, feature->data->number, &value) < 0)
 			continue;
 
-		sensors_submit (feature->data->name, feature->chip->prefix, value);
-	}
-}
+		if (sensor_extended_naming)
+		{
+			/* full chip name logic borrowed from lm_sensors */
+			if (feature->chip->bus == SENSORS_CHIP_NAME_BUS_ISA)
+			{
+				if (snprintf (chip_fullprefix, BUFSIZE, "%s-isa-%04x/%s",
+							feature->chip->prefix,
+							feature->chip->addr,
+							sensor_type_prefix[feature->type])
+						>= BUFSIZE)
+					continue;
+			}
+			else if (feature->chip->bus == SENSORS_CHIP_NAME_BUS_DUMMY)
+			{
+				if (snprintf (chip_fullprefix, BUFSIZE, "%s-%s-%04x/%s",
+							feature->chip->prefix,
+							feature->chip->busname,
+							feature->chip->addr,
+							sensor_type_prefix[feature->type])
+						>= BUFSIZE)
+					continue;
+			}
+			else
+			{
+				if (snprintf (chip_fullprefix, BUFSIZE, "%s-i2c-%d-%02x/%s",
+							feature->chip->prefix,
+							feature->chip->bus,
+							feature->chip->addr,
+							sensor_type_prefix[feature->type])
+						>= BUFSIZE)
+					continue;
+			}
+
+			sensors_submit (feature->data->name,
+					chip_fullprefix,
+					value, feature->type);
+		}
+		else
+		{
+			sensors_submit (feature->data->name,
+					feature->chip->prefix,
+					value, feature->type);
+		}
+	} /* for feature = first_feature .. NULL */
+} /* void sensors_read */
 #else
 # define sensors_read NULL
 #endif /* SENSORS_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, collectd_sensors_init, sensors_read, sensors_write);
+	plugin_register (MODULE_NAME_VOLTAGE, NULL, NULL, sensors_voltage_write);
+	plugin_register_shutdown (MODULE_NAME, sensors_shutdown);
+	cf_register (MODULE_NAME, sensors_config, config_keys, config_keys_num);
 }
 
 #undef BUFSIZE
 #undef MODULE_NAME
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: utils_dns.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: utils_dns.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: utils_ignorelist.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src: utils_ignorelist.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/vserver.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/vserver.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.10.4/src/vserver.c	2006-12-22 03:56:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.11.0/src/vserver.c	2007-01-09 22:05:06.000000000 +0800
@@ -340,17 +340,23 @@
 
 static void vserver_read (void)
 {
 	DIR 			*proc;
 	struct dirent 	*dent; /* 42 */
 
+	static complain_t complain_obj;
+
 	errno = 0;
-	if (NULL == (proc = opendir (PROCDIR))) {
-		syslog (LOG_ERR, "Cannot open '%s': %s", PROCDIR, strerror (errno));
+	if (NULL == (proc = opendir (PROCDIR)))
+	{
+		plugin_complain (LOG_ERR, &complain_obj, "vserver plugin: "
+				"fopen (%s) failed: %s", PROCDIR, strerror (errno));
 		return;
 	}
+	plugin_relief (LOG_NOTICE, &complain_obj, "vserver plugin: "
+			"fopen (%s) succeeded.", PROCDIR);
 
 	while (NULL != (dent = readdir (proc))) {
 		int  len;
 		char file[BUFSIZE];
 
 		FILE *fh;
