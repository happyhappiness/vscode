diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/aclocal.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/aclocal.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/aclocal.m4	2008-08-31 21:12:44.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/aclocal.m4	2008-05-07 03:14:36.000000000 +0800
@@ -18,13 +18,13 @@
 You have another version of autoconf.  It may work, but is not guaranteed to.
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically `autoreconf'.])])
 
 # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
 
-# serial 52 Debian 1.5.26-4 AC_PROG_LIBTOOL
+# serial 52 Debian 1.5.26-3 AC_PROG_LIBTOOL
 
 
 # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
 # -----------------------------------------------------------
 # If this macro is not defined by Autoconf, define it here.
 m4_ifdef([AC_PROVIDE_IFELSE],
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/AUTHORS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/AUTHORS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/AUTHORS	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/AUTHORS	2008-05-07 01:19:07.000000000 +0800
@@ -1,13 +1,14 @@
 This package was written by:
   Florian octo Forster <octo at verplant.org>
 
 apcups plugin by:
   Anthony Gialluca <tonyabg at charter.net>
 
-cpufreq, multimeter and irq plugin by:
+cpufreq, multimeter and irq plugin, as well as some bugfixes in the exec plugin
+by:
   Peter Holik <peter at holik.at>
 
 hddtemp plugin by:
   Vincent Stehlé <vincent.stehle at free.fr>
 
 iptables plugin by:
@@ -25,30 +26,36 @@
 nfs plugin by:
   Jason Pepas <cell at ices.utexas.edu>
 
 perl plugin by:
   Sebastian Harl <sh at tokkee.org>
 
+powerdns plugin and initial `tail' subsystem by:
+  Luke Herberling <collectd at c-ware.com>
+
 processes plugin by:
   Lyonel Vincent <lyonel at ezix.org>
 
 sensors plugin has been improved by:
   Luboš Staněk <kolektor at atlas.cz>
 
 serial plugin by:
   David Bacher <drbacher at gmail.com>
 
 tape plugin by:
   Scott Garrett <sgarrett at technomancer.com>
 
+teamspeak2 plugin by:
+  Stefan Hacker <stefan.hacker at web.de>
+
 users plugin by:
   Sebastian Harl <sh at tokkee.org>
 
 uuid plugin by:
-  Dan Berrange <berrange@redhat.com>
-  Richard W.M. Jones <rjones@redhat.com>
+  Dan Berrange <berrange at redhat.com>
+  Richard W.M. Jones <rjones at redhat.com>
 
 vserver plugin by:
   Sebastian Harl <sh at tokkee.org>
 
 PID-file patch by:
   Tommie Gannert <d00-tga at d.kth.se>
@@ -64,10 +71,14 @@
   Christophe Kalt <collectd at klb.taranis.org>
 
 Much time and effort to find a nasty bug in the ntpd-plugin has been
 contributed by:
   Luboš Staněk <lubek at users.sourceforge.net>
 
+Support for the statgrab library has been added to the cpu, disk and users
+plugins by
+  Oleg King <king2 at kaluga.ru>
+
 collectd is available at:
   <http://collectd.org/>
 
 Enjoy :)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/bindings/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/bindings/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/bindings/Makefile.in	2008-08-31 21:12:54.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/bindings/Makefile.in	2008-05-07 03:14:46.000000000 +0800
@@ -71,12 +71,14 @@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
 BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
 BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_OPENIPMI_CFLAGS = @BUILD_WITH_OPENIPMI_CFLAGS@
+BUILD_WITH_OPENIPMI_LIBS = @BUILD_WITH_OPENIPMI_LIBS@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
@@ -98,12 +100,13 @@
 GREP = @GREP@
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+KERNEL_DIR = @KERNEL_DIR@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
 LIBLTDL = @LIBLTDL@
 LIBOBJS = @LIBOBJS@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/bindings/perl/Collectd/Unixsock.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/bindings/perl/Collectd/Unixsock.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/bindings/perl/Collectd/Unixsock.pm	2008-08-31 20:16:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/bindings/perl/Collectd/Unixsock.pm	2008-05-06 22:14:06.000000000 +0800
@@ -233,18 +233,12 @@
 
 	my $status;
 	my $fh = $obj->{'sock'} or confess;
 	my $msg;
 	my $identifier;
 	my $values;
-	my $interval = "";
-
-	if (defined $args{'interval'})
-	{
-		$interval = ' interval=' . $args{'interval'};
-	}
 
 	$identifier = _create_identifier (\%args) or return;
 	if (!$args{'values'})
 	{
 		cluck ("Need argument `values'");
 		return;
@@ -257,13 +251,13 @@
 	else
 	{
 		my $time = $args{'time'} ? $args{'time'} : time ();
 		$values = join (':', $time, map { defined ($_) ? $_ : 'U' } (@{$args{'values'}}));
 	}
 
-	$msg = "PUTVAL $identifier$interval $values\n";
+	$msg = "PUTVAL $identifier $values\n";
 	#print "-> $msg";
 	send ($fh, $msg, 0) or confess ("send: $!");
 	$msg = undef;
 	recv ($fh, $msg, 1024, 0) or confess ("recv: $!");
 	#print "<- $msg";
 
@@ -403,12 +397,69 @@
 	return (1) if ($status == 0);
 
 	$obj->{'error'} = $msg;
 	return;
 } # putnotif
 
+=item I<$obj>-E<gt>B<flush> (B<timeout> =E<gt> I<$timeout>, B<plugins> =E<gt> [...]);
+
+Flush cached data.
+
+Valid options are:
+
+=over 4
+
+=item B<timeout>
+
+If this option is specified, only data older than I<$timeout> seconds is
+flushed.
+
+=item B<plugins>
+
+If this option is specified, only the selected plugins will be flushed. 
+
+=back
+
+=cut
+
+sub flush
+{
+	my $obj  = shift;
+	my %args = @_;
+
+	my $fh = $obj->{'sock'} or confess;
+
+	my $status = 0;
+	my $msg    = "FLUSH";
+
+	if ($args{'timeout'})
+	{
+		$msg .= " timeout=" . $args{'timeout'};
+	}
+
+	if ($args{'plugins'})
+	{
+		foreach my $plugin (@{$args{'plugins'}})
+		{
+			$msg .= " plugin=" . $plugin;
+		}
+	}
+
+	$msg .= "\n";
+
+	send ($fh, $msg, 0) or confess ("send: $!");
+	$msg = undef;
+	recv ($fh, $msg, 1024, 0) or confess ("recv: $!");
+
+	($status, $msg) = split (' ', $msg, 2);
+	return (1) if ($status == 0);
+
+	$obj->{'error'} = $msg;
+	return;
+}
+
 =item I<$obj>-E<gt>destroy ();
 
 Closes the socket before the object is destroyed. This function is also
 automatically called then the object goes out of scope.
 
 =back
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/bindings/perl/Collectd.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/bindings/perl/Collectd.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/bindings/perl/Collectd.pm	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/bindings/perl/Collectd.pm	2008-05-06 22:14:05.000000000 +0800
@@ -39,22 +39,26 @@
 
 our %EXPORT_TAGS = (
 	'plugin' => [ qw(
 			plugin_register
 			plugin_unregister
 			plugin_dispatch_values
+			plugin_flush
+			plugin_flush_one
+			plugin_flush_all
 			plugin_dispatch_notification
 			plugin_log
 	) ],
 	'types' => [ qw(
 			TYPE_INIT
 			TYPE_READ
 			TYPE_WRITE
 			TYPE_SHUTDOWN
 			TYPE_LOG
 			TYPE_NOTIF
+			TYPE_FLUSH
 			TYPE_DATASET
 	) ],
 	'ds_types' => [ qw(
 			DS_TYPE_COUNTER
 			DS_TYPE_GAUGE
 	) ],
@@ -98,13 +102,14 @@
 my %types = (
 	TYPE_INIT,     "init",
 	TYPE_READ,     "read",
 	TYPE_WRITE,    "write",
 	TYPE_SHUTDOWN, "shutdown",
 	TYPE_LOG,      "log",
-	TYPE_NOTIF,    "notify"
+	TYPE_NOTIF,    "notify",
+	TYPE_FLUSH,    "flush"
 );
 
 foreach my $type (keys %types) {
 	$plugins[$type] = &share ({});
 }
 
@@ -287,10 +292,38 @@
 	else {
 		ERROR ("Collectd::plugin_unregister: Invalid type.");
 		return;
 	}
 }
 
+sub plugin_flush {
+	my %args = @_;
+
+	my $timeout = -1;
+
+	DEBUG ("Collectd::plugin_flush:"
+		. (defined ($args{'timeout'}) ? " timeout = $args{'timeout'}" : "")
+		. (defined ($args{'plugins'}) ? " plugins = $args{'plugins'}" : ""));
+
+	if (defined ($args{'timeout'}) && ($args{'timeout'} > 0)) {
+		$timeout = $args{'timeout'};
+	}
+
+	if (! defined $args{'plugins'}) {
+		plugin_flush_all ($timeout);
+	}
+	else {
+		if ("ARRAY" eq ref ($args{'plugins'})) {
+			foreach my $plugin (@{$args{'plugins'}}) {
+				plugin_flush_one ($timeout, $plugin);
+			}
+		}
+		else {
+			plugin_flush_one ($timeout, $args{'plugins'});
+		}
+	}
+}
+
 1;
 
 # vim: set sw=4 ts=4 tw=78 noexpandtab :
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/ChangeLog	2008-08-31 21:10:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/ChangeLog	2008-05-07 03:12:38.000000000 +0800
@@ -1,23 +1,40 @@
-2008-08-30, Version 4.3.4
-	* Build system: Improved detection of and linking with the statgrab
-	  library.
-	* collectd: Portability fixes, especially to determine endianess more
-	  reliable.
-	* Various plugins: Fix format strings.
-	* network plugin: A fix in the initialization function solves problems
-	  under Solaris.
-	* disk plugin: A fix for giving disks under Linux 2.4 the right names
-	  again has been applied.
-	* wireless plugin: A work-around for broken wireless drivers has been
-	  added.
-	* nginx plugin: A thread-unsafe function has been replaced.
-	* vserver plugin: A thread-unsafe function has been replaced.
-	* memory plugin: A typo in the libstatgrab code has been fixed.
-	* memcached plugin: Fix a too short timeout and a related file
-	  descriptor leak.
+2008-05-06, Version 4.4.0
+	* collectd: Internal code cleanups.
+	* collectd: Added support for a `Flush' command in the unixsock and
+	  exec plugins. This command can be used to force a plugin (or all) to
+	  flush its values to disk.
+	* collectd: Thresholds can now be configured to apply to one data
+	  source only, making it possible to configure different thresholds
+	  for each data source.
+	* apache, nginx plugins: Added the possibility to disable host and/or
+	  peer verification.
+	* ascent plugin: The new ascent plugin reads and parses the statistics
+	  page of an Ascent server.
+	* cpu plugin: Support for the statgrab library has been added.
+	* disk plugin: The possibility to ignore certain disks or collect only
+	  specific disks has been added.
+	* disk plugin: Support for the statgrab library has been added.
+	* ipmi plugin: The new ipmi plugin uses the OpenIPMI library to read
+	  sensor values via IPMI, the intelligent platform management
+	  interface.
+	* iptables plugin: The iptc library that is used by the iptables
+	  plugin has been added to the distribution, because it is not
+	  provided by all distributions and removed from at least one.
+	* powerdns plugin: The new powerdns plugin reads statistics from an
+	  authoritative or a recursing PowerDNS name server.
+	* rrdtool plugin: The size of the files generated with the default
+	  configuration has been decreased.
+	* tail plugin: The new tail plugin can be used to gather statistics by
+	  continuously reading from log files.
+	* teamspeak2 plugin: The new teamspeak2 plugin connects to a
+	  TeamSpeak2 server and collects statistics about the number of users
+	  and number of channels.
+	* users plugin: Support for the statgrab library has been added.
+	* vmem plugin: The new vmem plugin collects very detailed statistics
+	  about the virtual memory subsystem of Linux.
 
 2008-04-22, Version 4.3.3
 	* build system: Improved detection of several libraries, especially if
 	  they are in non-standard paths.
 	* build system: Portability fixes: Automatically define "_REENTRANT"
 	  if the libc expects it.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/configure	2008-08-31 21:12:59.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/configure	2008-05-07 03:14:51.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.61 for collectd 4.3.4.
+# Generated by GNU Autoconf 2.61 for collectd 4.4.0.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -723,14 +723,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='4.3.4'
-PACKAGE_STRING='collectd 4.3.4'
+PACKAGE_VERSION='4.4.0'
+PACKAGE_STRING='collectd 4.4.0'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -906,14 +906,14 @@
 BUILD_WITH_LIBIOKIT_TRUE
 BUILD_WITH_LIBIOKIT_FALSE
 BUILD_WITH_LIBSTATGRAB_TRUE
 BUILD_WITH_LIBSTATGRAB_FALSE
 BUILD_WITH_LIBSTATGRAB_CFLAGS
 BUILD_WITH_LIBSTATGRAB_LDFLAGS
-BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE
-BUILD_WITH_LIBKVM_GETSWAPINFO_FALSE
+BUILD_WITH_LIBKVM_TRUE
+BUILD_WITH_LIBKVM_FALSE
 BUILD_WITH_LIBSENSORS_CFLAGS
 BUILD_WITH_LIBSENSORS_LDFLAGS
 BUILD_WITH_LM_SENSORS_TRUE
 BUILD_WITH_LM_SENSORS_FALSE
 BUILD_WITH_LIBMYSQL_CFLAGS
 BUILD_WITH_LIBMYSQL_LIBS
@@ -929,28 +929,35 @@
 BUILD_WITH_LIBPCAP_FALSE
 PERL
 PERL_CFLAGS
 PERL_LDFLAGS
 BUILD_WITH_LIBPERL_TRUE
 BUILD_WITH_LIBPERL_FALSE
+KERNEL_DIR
 BUILD_WITH_LIBIPTC_TRUE
 BUILD_WITH_LIBIPTC_FALSE
+BUILD_WITH_OWN_LIBIPTC_TRUE
+BUILD_WITH_OWN_LIBIPTC_FALSE
 BUILD_WITH_LIBSNMP_CFLAGS
 BUILD_WITH_LIBSNMP_LIBS
 BUILD_WITH_LIBNETSNMP_TRUE
 BUILD_WITH_LIBNETSNMP_FALSE
 BUILD_WITH_LIBUPSCLIENT_CFLAGS
 BUILD_WITH_LIBUPSCLIENT_LIBS
+BUILD_WITH_LIBUPSCLIENT_TRUE
+BUILD_WITH_LIBUPSCLIENT_FALSE
 BUILD_WITH_LIBXMMS_CFLAGS
 BUILD_WITH_LIBXMMS_LIBS
 BUILD_WITH_LIBXMMS_TRUE
 BUILD_WITH_LIBXMMS_FALSE
 BUILD_WITH_LIBNETLINK_CFLAGS
 BUILD_WITH_LIBNETLINK_LIBS
 BUILD_WITH_LIBNETLINK_TRUE
 BUILD_WITH_LIBNETLINK_FALSE
+BUILD_WITH_OPENIPMI_CFLAGS
+BUILD_WITH_OPENIPMI_LIBS
 BUILD_WITH_LIBXML2_CFLAGS
 BUILD_WITH_LIBXML2_LIBS
 BUILD_WITH_LIBVIRT_CFLAGS
 BUILD_WITH_LIBVIRT_LIBS
 BUILD_FEATURE_DEBUG_TRUE
 BUILD_FEATURE_DEBUG_FALSE
@@ -961,12 +968,14 @@
 BUILD_PLUGIN_APACHE_TRUE
 BUILD_PLUGIN_APACHE_FALSE
 BUILD_PLUGIN_APCUPS_TRUE
 BUILD_PLUGIN_APCUPS_FALSE
 BUILD_PLUGIN_APPLE_SENSORS_TRUE
 BUILD_PLUGIN_APPLE_SENSORS_FALSE
+BUILD_PLUGIN_ASCENT_TRUE
+BUILD_PLUGIN_ASCENT_FALSE
 BUILD_PLUGIN_BATTERY_TRUE
 BUILD_PLUGIN_BATTERY_FALSE
 BUILD_PLUGIN_CPU_TRUE
 BUILD_PLUGIN_CPU_FALSE
 BUILD_PLUGIN_CPUFREQ_TRUE
 BUILD_PLUGIN_CPUFREQ_FALSE
@@ -987,12 +996,14 @@
 BUILD_PLUGIN_HDDTEMP_TRUE
 BUILD_PLUGIN_HDDTEMP_FALSE
 BUILD_PLUGIN_INTERFACE_TRUE
 BUILD_PLUGIN_INTERFACE_FALSE
 BUILD_PLUGIN_IPTABLES_TRUE
 BUILD_PLUGIN_IPTABLES_FALSE
+BUILD_PLUGIN_IPMI_TRUE
+BUILD_PLUGIN_IPMI_FALSE
 BUILD_PLUGIN_IPVS_TRUE
 BUILD_PLUGIN_IPVS_FALSE
 BUILD_PLUGIN_IRQ_TRUE
 BUILD_PLUGIN_IRQ_FALSE
 BUILD_PLUGIN_LIBVIRT_TRUE
 BUILD_PLUGIN_LIBVIRT_FALSE
@@ -1023,12 +1034,14 @@
 BUILD_PLUGIN_NUT_TRUE
 BUILD_PLUGIN_NUT_FALSE
 BUILD_PLUGIN_PERL_TRUE
 BUILD_PLUGIN_PERL_FALSE
 BUILD_PLUGIN_PING_TRUE
 BUILD_PLUGIN_PING_FALSE
+BUILD_PLUGIN_POWERDNS_TRUE
+BUILD_PLUGIN_POWERDNS_FALSE
 BUILD_PLUGIN_PROCESSES_TRUE
 BUILD_PLUGIN_PROCESSES_FALSE
 BUILD_PLUGIN_RRDTOOL_TRUE
 BUILD_PLUGIN_RRDTOOL_FALSE
 BUILD_PLUGIN_SENSORS_TRUE
 BUILD_PLUGIN_SENSORS_FALSE
@@ -1037,22 +1050,28 @@
 BUILD_PLUGIN_SNMP_TRUE
 BUILD_PLUGIN_SNMP_FALSE
 BUILD_PLUGIN_SWAP_TRUE
 BUILD_PLUGIN_SWAP_FALSE
 BUILD_PLUGIN_SYSLOG_TRUE
 BUILD_PLUGIN_SYSLOG_FALSE
+BUILD_PLUGIN_TAIL_TRUE
+BUILD_PLUGIN_TAIL_FALSE
 BUILD_PLUGIN_TAPE_TRUE
 BUILD_PLUGIN_TAPE_FALSE
 BUILD_PLUGIN_TCPCONNS_TRUE
 BUILD_PLUGIN_TCPCONNS_FALSE
+BUILD_PLUGIN_TEAMSPEAK2_TRUE
+BUILD_PLUGIN_TEAMSPEAK2_FALSE
 BUILD_PLUGIN_UNIXSOCK_TRUE
 BUILD_PLUGIN_UNIXSOCK_FALSE
 BUILD_PLUGIN_USERS_TRUE
 BUILD_PLUGIN_USERS_FALSE
 BUILD_PLUGIN_UUID_TRUE
 BUILD_PLUGIN_UUID_FALSE
+BUILD_PLUGIN_VMEM_TRUE
+BUILD_PLUGIN_VMEM_FALSE
 BUILD_PLUGIN_VSERVER_TRUE
 BUILD_PLUGIN_VSERVER_FALSE
 BUILD_PLUGIN_WIRELESS_TRUE
 BUILD_PLUGIN_WIRELESS_FALSE
 BUILD_PLUGIN_XMMS_TRUE
 BUILD_PLUGIN_XMMS_FALSE
@@ -1075,13 +1094,14 @@
 CCC
 CXXCPP
 F77
 FFLAGS
 YACC
 YFLAGS
-PKG_CONFIG'
+PKG_CONFIG
+KERNEL_DIR'
 ac_subdirs_all='libltdl'
 
 # Initialize some variables set by options.
 ac_init_help=
 ac_init_version=false
 # The variables have the same names as the options, with
@@ -1578,13 +1598,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 4.3.4 to adapt to many kinds of systems.
+\`configure' configures collectd 4.4.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1648,13 +1668,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 4.3.4:";;
+     short | recursive ) echo "Configuration of collectd 4.4.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1673,12 +1693,13 @@
   --enable-getifaddrs     enable getifaddrs under Linux (disabled by def)
 
 collectd plugins:
   --enable-apache         Apache httpd statistics
   --enable-apcups         Statistics of UPSes by APC
   --enable-apple_sensors  Apple's hardware sensors
+  --enable-ascent         AscentEmu player statistics
   --enable-battery        Battery statistics
   --enable-cpu            CPU usage statistics
   --enable-cpufreq        CPU frequency statistics
   --enable-csv            CSV output plugin
   --enable-df             Filesystem usage statistics
   --enable-disk           Disk usage statistics
@@ -1686,12 +1707,13 @@
   --enable-email          EMail statistics
   --enable-entropy        Entropy statistics
   --enable-exec           Execution of external programs
   --enable-hddtemp        Query hddtempd
   --enable-interface      Interface traffic statistics
   --enable-iptables       IPTables rule counters
+  --enable-ipmi           IPMI sensor statistics
   --enable-ipvs           IPVS connection statistics
   --enable-irq            IRQ statistics
   --enable-libvirt        Virtual machine statistics
   --enable-load           System load
   --enable-logfile        File logging plugin
   --enable-mbmon          Query mbmond
@@ -1704,24 +1726,28 @@
   --enable-nfs            NFS statistics
   --enable-nginx          nginx statistics
   --enable-ntpd           NTPd statistics
   --enable-nut            Network UPS tools statistics
   --enable-perl           Embed a Perl interpreter
   --enable-ping           Network latency statistics
+  --enable-powerdns       PowerDNS statistics
   --enable-processes      Process statistics
   --enable-rrdtool        RRDTool output plugin
   --enable-sensors        lm_sensors statistics
   --enable-serial         serial port traffic
   --enable-snmp           SNMP querying plugin
   --enable-swap           Swap usage statistics
   --enable-syslog         Syslog logging plugin
+  --enable-tail           Parsing of logfiles
   --enable-tape           Tape drive statistics
   --enable-tcpconns       TCP connection statistics
+  --enable-teamspeak2     TeamSpeak2 server statistics
   --enable-unixsock       Unixsock communication plugin
   --enable-users          User statistics
   --enable-uuid           UUID as hostname plugin
+  --enable-vmem           Virtual memory statistics
   --enable-vserver        Linux VServer statistics
   --enable-wireless       Wireless statistics
   --enable-xmms           XMMS statistics
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
@@ -1751,12 +1777,14 @@
                           Path to liboping.
   --with-libpcap[=PREFIX] Path to libpcap.
   --with-libperl[=PREFIX] Path to libperl.
   --with-libiptc[=PREFIX] Path to libiptc.
   --with-libnetsnmp[=PREFIX]
                           Path to the Net-SNMPD library.
+  --with-libupsclient[=PREFIX]
+                          Path to libupsclient.
   --with-libxmms[=PREFIX] Path to libxmms.
   --with-libnetlink[=PREFIX]
                           Path to libnetlink.
   --with-perl-bindings[=OPTIONS]
                           Options passed to "perl Makefile.PL".
 
@@ -1777,12 +1805,13 @@
   YACC        The `Yet Another C Compiler' implementation to use. Defaults to
               the first program found out of: `bison -y', `byacc', `yacc'.
   YFLAGS      The list of arguments that will be passed by default to $YACC.
               This script will default YFLAGS to the empty string to avoid a
               default value of `-d' given by some make applications.
   PKG_CONFIG  path to pkg-config utility
+  KERNEL_DIR  path to Linux kernel sources
 
 Use these variables to override the choices made by `configure' or to help
 it to find libraries and programs with nonstandard names/locations.
 
 _ACEOF
 ac_status=$?
@@ -1841,13 +1870,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 4.3.4
+collectd configure 4.4.0
 generated by GNU Autoconf 2.61
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1855,13 +1884,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 4.3.4, which was
+It was created by collectd $as_me 4.4.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2548,13 +2577,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='4.3.4'
+ VERSION='4.4.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -6230,13 +6259,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 6236 "configure"' > conftest.$ac_ext
+  echo '#line 6265 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -9052,17 +9081,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9058: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9087: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:9062: \$? = $ac_status" >&5
+   echo "$as_me:9091: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -9342,17 +9371,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9348: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9377: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:9352: \$? = $ac_status" >&5
+   echo "$as_me:9381: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -9446,17 +9475,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9452: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9481: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:9456: \$? = $ac_status" >&5
+   echo "$as_me:9485: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -11823,13 +11852,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11829 "configure"
+#line 11858 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11923,13 +11952,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11929 "configure"
+#line 11958 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -14324,17 +14353,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14330: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14359: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:14334: \$? = $ac_status" >&5
+   echo "$as_me:14363: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -14428,17 +14457,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:14434: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:14463: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:14438: \$? = $ac_status" >&5
+   echo "$as_me:14467: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -16026,17 +16055,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:16032: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:16061: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:16036: \$? = $ac_status" >&5
+   echo "$as_me:16065: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -16130,17 +16159,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:16136: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:16165: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:16140: \$? = $ac_status" >&5
+   echo "$as_me:16169: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -18350,17 +18379,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18356: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18385: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18360: \$? = $ac_status" >&5
+   echo "$as_me:18389: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18640,17 +18669,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18646: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18675: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18650: \$? = $ac_status" >&5
+   echo "$as_me:18679: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18744,17 +18773,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18750: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18779: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18754: \$? = $ac_status" >&5
+   echo "$as_me:18783: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -22339,14 +22368,13 @@
 
 
 
 
 
 
-
-for ac_header in stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h endian.h sys/isa_defs.h
+for ac_header in stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h endian.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -31380,12 +31408,132 @@
 
 else
   with_libhal="no"
 fi
 
 if test "x$with_libhal" = "xyes"; then
+
+
+if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
+	if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
+set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+PKG_CONFIG=$ac_cv_path_PKG_CONFIG
+if test -n "$PKG_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $PKG_CONFIG" >&5
+echo "${ECHO_T}$PKG_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_path_PKG_CONFIG"; then
+  ac_pt_PKG_CONFIG=$PKG_CONFIG
+  # Extract the first word of "pkg-config", so it can be a program name with args.
+set dummy pkg-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_ac_pt_PKG_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $ac_pt_PKG_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_ac_pt_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
+if test -n "$ac_pt_PKG_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $ac_pt_PKG_CONFIG" >&5
+echo "${ECHO_T}$ac_pt_PKG_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_pt_PKG_CONFIG" = x; then
+    PKG_CONFIG=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    PKG_CONFIG=$ac_pt_PKG_CONFIG
+  fi
+else
+  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
+fi
+
+fi
+if test -n "$PKG_CONFIG"; then
+	_pkg_min_version=0.9.0
+	{ echo "$as_me:$LINENO: checking pkg-config is at least version $_pkg_min_version" >&5
+echo $ECHO_N "checking pkg-config is at least version $_pkg_min_version... $ECHO_C" >&6; }
+	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
+		{ echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+	else
+		{ echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+		PKG_CONFIG=""
+	fi
+
+fi
 	if test "x$PKG_CONFIG" != "x"; then
 		BUILD_WITH_LIBHAL_CFLAGS="`pkg-config --cflags hal`"
 		BUILD_WITH_LIBHAL_LIBS="`pkg-config --libs hal`"
 
 
 	fi
@@ -33006,13 +33154,12 @@
   BUILD_WITH_LIBSTATGRAB_CFLAGS="$with_libstatgrab_cflags"
   BUILD_WITH_LIBSTATGRAB_LDFLAGS="$with_libstatgrab_ldflags"
 
 
 fi
 
-with_libkvm="no"
 { echo "$as_me:$LINENO: checking for kvm_getswapinfo in -lkvm" >&5
 echo $ECHO_N "checking for kvm_getswapinfo in -lkvm... $ECHO_C" >&6; }
 if test "${ac_cv_lib_kvm_kvm_getswapinfo+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -33069,32 +33216,31 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_kvm_kvm_getswapinfo" >&5
 echo "${ECHO_T}$ac_cv_lib_kvm_kvm_getswapinfo" >&6; }
 if test $ac_cv_lib_kvm_kvm_getswapinfo = yes; then
-  with_kvm_getswapinfo="yes"
+  with_libkvm="yes"
 else
-  with_kvm_getswapinfo="no"
+  with_libkvm="no"
 fi
 
-if test "x$with_kvm_getswapinfo" = "xyes"
+if test "x$with_libkvm" = "xyes"
 then
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBKVM_GETSWAPINFO 1
+#define HAVE_LIBKVM 1
 _ACEOF
 
-	with_libkvm="yes"
 fi
- if test "x$with_kvm_getswapinfo" = "xyes"; then
-  BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE=
-  BUILD_WITH_LIBKVM_GETSWAPINFO_FALSE='#'
+ if test "x$with_libkvm" = "xyes"; then
+  BUILD_WITH_LIBKVM_TRUE=
+  BUILD_WITH_LIBKVM_FALSE='#'
 else
-  BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE='#'
-  BUILD_WITH_LIBKVM_GETSWAPINFO_FALSE=
+  BUILD_WITH_LIBKVM_TRUE='#'
+  BUILD_WITH_LIBKVM_FALSE=
 fi
 
 
 with_sensors_cflags=""
 with_sensors_ldflags=""
 
@@ -34405,12 +34551,22 @@
 	fi
 
 	CFLAGS=$SAVE_CFLAGS
 	LDFLAGS=$SAVE_LDFLAGS
 fi
 
+if test "x$ac_system" = "xLinux"
+then
+
+	if test -z "$KERNEL_DIR"
+	then
+		KERNEL_DIR="/lib/modules/`uname -r`/source"
+	fi
+fi
+
+with_own_libiptc="no"
 
 # Check whether --with-libiptc was given.
 if test "${with_libiptc+set}" = set; then
   withval=$with_libiptc;
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
@@ -34501,17 +34657,20 @@
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBIPTC 1
 _ACEOF
 
 
 else
-  with_libiptc="no (libiptc not found)"
+
+		with_libiptc="yes"
+		with_own_libiptc="yes"
+
 fi
 
 fi
-if test "x$with_libiptc" = "xyes"
+if test "x$with_libiptc" = "xyes" -a "x$with_own_libiptc" != "xyes"
 then
 
 for ac_header in libiptc/libiptc.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -34650,32 +34809,119 @@
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBIPTC_LIBIPTC_H 1
 _ACEOF
 
 
 else
-  with_libiptc="no (libiptc/libiptc.h not found)"
+
+		with_libiptc="yes"
+		with_own_libiptc="yes"
+
 fi
 
 done
 
 fi
 if test "x$with_libiptc" = "xyes"
 then
-	collect_libiptc=1
+	SAVE_CFLAGS=$CFLAGS
+	CFLAGS="$CFLAGS -I$KERNEL_DIR/include"
+
+
+
+for ac_header in linux/netfilter_ipv4/ip_tables.h linux/netfilter_ipv6/ip6_tables.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-	collect_libiptc=0
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#include "$srcdir/src/libiptc/ipt_kernel_headers.h"
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+else
+
+		with_libiptc="no (Linux iptables headers not found - check KERNEL_DIR)"
+		with_own_libiptc="no"
+
+fi
+
+done
+
+
+	CFLAGS=$SAVE_CFLAGS
 fi
  if test "x$with_libiptc" = "xyes"; then
   BUILD_WITH_LIBIPTC_TRUE=
   BUILD_WITH_LIBIPTC_FALSE='#'
 else
   BUILD_WITH_LIBIPTC_TRUE='#'
   BUILD_WITH_LIBIPTC_FALSE=
 fi
 
+ if test "x$with_own_libiptc" = "xyes"; then
+  BUILD_WITH_OWN_LIBIPTC_TRUE=
+  BUILD_WITH_OWN_LIBIPTC_FALSE='#'
+else
+  BUILD_WITH_OWN_LIBIPTC_TRUE='#'
+  BUILD_WITH_OWN_LIBIPTC_FALSE=
+fi
+
+if test "x$with_own_libiptc" = "xyes"
+then
+
+cat >>confdefs.h <<\_ACEOF
+#define OWN_LIBIPTC 1
+_ACEOF
+
+fi
 
 with_snmp_config="net-snmp-config"
 with_snmp_cflags=""
 with_snmp_libs=""
 
 # Check whether --with-libnetsnmp was given.
@@ -34951,42 +35197,55 @@
 else
   BUILD_WITH_LIBNETSNMP_TRUE='#'
   BUILD_WITH_LIBNETSNMP_FALSE=
 fi
 
 
-with_libupsclient="no (pkg-config isn't available)"
-with_libupsclient_cflags=""
-with_libupsclient_libs=""
-if test "x$PKG_CONFIG" != "x"
-then
-	pkg-config --exists 'libupsclient' 2>/dev/null
-	if test "$?" = "0"
+with_upsclient_config="libupsclient-config"
+with_upsclient_cflags=""
+with_upsclient_libs=""
+
+# Check whether --with-libupsclient was given.
+if test "${with_libupsclient+set}" = set; then
+  withval=$with_libupsclient;
+	if test "x$withval" = "xno"
 	then
-		with_libupsclient="yes"
+		with_libupsclient="no"
 	else
-		with_libupsclient="no (pkg-config doesn't know library)"
+		if test "x$withval" != "xyes"
+		then
+			if test -f "$withval" && test -x "$withval";
+			then
+				with_upsclient_config="$withval"
+			else
+				with_upsclient_config="$withval/bin/libupsclient-config"
+			fi
+		fi
+		with_libupsclient="yes"
 	fi
+
+else
+
+	with_libupsclient="yes"
+
 fi
+
 if test "x$with_libupsclient" = "xyes"
 then
-	with_libupsclient_cflags="`pkg-config --cflags 'libupsclient'`"
-	if test $? -ne 0
-	then
-		with_libupsclient="no"
-	fi
-	with_libupsclient_libs="`pkg-config --libs 'libupsclient'`"
-	if test $? -ne 0
+	with_upsclient_cflags=`$with_upsclient_config --cflags 2>/dev/null`
+	upsclient_config_status=$?
+
+	if test $upsclient_config_status -ne 0
 	then
-		with_libupsclient="no"
+		with_libupsclient="no ($with_upsclient_config failed)"
 	fi
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_libupsclient_cflags"
+	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
 
 
 for ac_header in upsclient.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -35129,25 +35388,29 @@
 
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	SAVE_LDFLAGS="$LDFLAGS"
-
-	CPPFLAGS="$CPPFLAGS $with_libupsclient_cflags"
-	LDFLAGS="$LDFLAGS $with_libupsclient_libs"
+	with_upsclient_libs=`$with_upsclient_config --libs 2>/dev/null`
+	upsclient_config_status=$?
 
+	if test $upsclient_config_status -ne 0
+	then
+		with_libupsclient="no ($with_upsclient_config failed)"
+	fi
+fi
+if test "x$with_libupsclient" = "xyes"
+then
 	{ echo "$as_me:$LINENO: checking for upscli_connect in -lupsclient" >&5
 echo $ECHO_N "checking for upscli_connect in -lupsclient... $ECHO_C" >&6; }
 if test "${ac_cv_lib_upsclient_upscli_connect+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lupsclient  $LIBS"
+LIBS="-lupsclient $with_upsclient_libs $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
@@ -35197,25 +35460,29 @@
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_upsclient_upscli_connect" >&5
 echo "${ECHO_T}$ac_cv_lib_upsclient_upscli_connect" >&6; }
 if test $ac_cv_lib_upsclient_upscli_connect = yes; then
-  with_libupsclient="yes"
+
+		BUILD_WITH_LIBUPSCLIENT_CFLAGS="$with_upsclient_cflags"
+		BUILD_WITH_LIBUPSCLIENT_LIBS="$with_upsclient_libs"
+
+
+
 else
-  with_libupsclient="no (symbol upscli_connect not found)"
-fi
 
+		with_libupsclient="no (symbol 'upscli_connect' not found)"
+
+fi
 
-	CPPFLAGS="$SAVE_CPPFLAGS"
-	LDFLAGS="$SAVE_LDFLAGS"
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_libupsclient_cflags"
+	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
 
 	{ echo "$as_me:$LINENO: checking for UPSCONN_t" >&5
 echo $ECHO_N "checking for UPSCONN_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_UPSCONN_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -35343,20 +35610,21 @@
 
 fi
 
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
-if test "x$with_libupsclient" = "xyes"
-then
-	BUILD_WITH_LIBUPSCLIENT_CFLAGS="$with_libupsclient_cflags"
-	BUILD_WITH_LIBUPSCLIENT_LIBS="$with_libupsclient_libs"
-
-
+ if test "x$with_libupsclient" = "xyes"; then
+  BUILD_WITH_LIBUPSCLIENT_TRUE=
+  BUILD_WITH_LIBUPSCLIENT_FALSE='#'
+else
+  BUILD_WITH_LIBUPSCLIENT_TRUE='#'
+  BUILD_WITH_LIBUPSCLIENT_FALSE=
 fi
 
+
 ### BEGIN of check for libxmms ###
 with_xmms_config="xmms-config"
 with_xmms_cflags=""
 with_xmms_libs=""
 
 # Check whether --with-libxmms was given.
@@ -35855,12 +36123,155 @@
 else
   BUILD_WITH_LIBNETLINK_TRUE='#'
   BUILD_WITH_LIBNETLINK_FALSE=
 fi
 
 
+with_libopenipmipthread="yes"
+with_libopenipmipthread_cflags=""
+with_libopenipmipthread_libs=""
+
+{ echo "$as_me:$LINENO: checking for pkg-config" >&5
+echo $ECHO_N "checking for pkg-config... $ECHO_C" >&6; }
+temp_result="no"
+if test "x$PKG_CONFIG" = "x"
+then
+	with_libopenipmipthread="no"
+	temp_result="no"
+else
+	temp_result="$PKG_CONFIG"
+fi
+{ echo "$as_me:$LINENO: result: $temp_result" >&5
+echo "${ECHO_T}$temp_result" >&6; }
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for libOpenIPMIpthread" >&5
+echo $ECHO_N "checking for libOpenIPMIpthread... $ECHO_C" >&6; }
+	$PKG_CONFIG --exists OpenIPMIpthread 2>/dev/null
+	if test "$?" != "0"
+	then
+		with_libopenipmipthread="no ($PKG_CONFIG doesn't know OpenIPMIpthread)"
+	fi
+	{ echo "$as_me:$LINENO: result: $with_libopenipmipthread" >&5
+echo "${ECHO_T}$with_libopenipmipthread" >&6; }
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for libOpenIPMIpthread CFLAGS" >&5
+echo $ECHO_N "checking for libOpenIPMIpthread CFLAGS... $ECHO_C" >&6; }
+	temp_result="`$PKG_CONFIG --cflags OpenIPMIpthread`"
+	if test "$?" = "0"
+	then
+		with_libopenipmipthread_cflags="$temp_result"
+	else
+		with_libopenipmipthread="no ($PKG_CONFIG --cflags OpenIPMIpthread failed)"
+		temp_result="$PKG_CONFIG --cflags OpenIPMIpthread failed"
+	fi
+	{ echo "$as_me:$LINENO: result: $temp_result" >&5
+echo "${ECHO_T}$temp_result" >&6; }
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for libOpenIPMIpthread LDFLAGS" >&5
+echo $ECHO_N "checking for libOpenIPMIpthread LDFLAGS... $ECHO_C" >&6; }
+	temp_result="`$PKG_CONFIG --libs OpenIPMIpthread`"
+	if test "$?" = "0"
+	then
+		with_libopenipmipthread_ldflags="$temp_result"
+	else
+		with_libopenipmipthread="no ($PKG_CONFIG --libs OpenIPMIpthread failed)"
+		temp_result="$PKG_CONFIG --libs OpenIPMIpthread failed"
+	fi
+	{ echo "$as_me:$LINENO: result: $temp_result" >&5
+echo "${ECHO_T}$temp_result" >&6; }
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libopenipmipthread_cflags"
+
+
+for ac_header in OpenIPMI/ipmi_smi.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <OpenIPMI/ipmiif.h>
+#include <OpenIPMI/ipmi_err.h>
+#include <OpenIPMI/ipmi_posix.h>
+#include <OpenIPMI/ipmi_conn.h>
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+ with_libopenipmipthread="yes"
+else
+  with_libopenipmipthread="no (OpenIPMI/ipmi_smi.h not found)"
+fi
+
+done
+
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	BUILD_WITH_OPENIPMI_CFLAGS="$with_libopenipmipthread_cflags"
+	BUILD_WITH_OPENIPMI_LIBS="$with_libopenipmipthread_ldflags"
+
+
+fi
+
 with_libxml2="no (pkg-config isn't available)"
 with_libxml2_cflags=""
 with_libxml2_ldflags=""
 with_libvirt="no (pkg-config isn't available)"
 with_libvirt_cflags=""
 with_libvirt_ldflags=""
@@ -36497,19 +36908,21 @@
 else
   BUILD_FEATURE_GETIFADDRS_TRUE='#'
   BUILD_FEATURE_GETIFADDRS_FALSE=
 fi
 
 
+plugin_ascent="no"
 plugin_battery="no"
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_df="no"
 plugin_disk="no"
 plugin_entropy="no"
 plugin_interface="no"
+plugin_ipmi="no"
 plugin_ipvs="no"
 plugin_irq="no"
 plugin_libvirt="no"
 plugin_load="no"
 plugin_memory="no"
 plugin_multimeter="no"
@@ -36518,12 +36931,13 @@
 plugin_processes="no"
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
 plugin_tcpconns="no"
 plugin_users="no"
+plugin_vmem="no"
 plugin_vserver="no"
 plugin_wireless="no"
 
 # Linux
 if test "x$ac_system" = "xLinux"
 then
@@ -36538,12 +36952,13 @@
 	plugin_memory="yes"
 	plugin_nfs="yes"
 	plugin_processes="yes"
 	plugin_serial="yes"
 	plugin_swap="yes"
 	plugin_tcpconns="yes"
+	plugin_vmem="yes"
 	plugin_vserver="yes"
 	plugin_wireless="yes"
 
 	if test "x$have_net_ip_vs_h" = "xyes" -o "x$have_ip_vs_h" = "xyes"
 	then
 		plugin_ipvs="yes"
@@ -36568,16 +36983,29 @@
 	plugin_tape="yes"
 fi
 
 # libstatgrab
 if test "x$with_libstatgrab" = "xyes"
 then
+	plugin_cpu="yes"
+	plugin_disk="yes"
 	plugin_interface="yes"
 	plugin_load="yes"
 	plugin_memory="yes"
 	plugin_swap="yes"
+	plugin_users="yes"
+fi
+
+if test "x$with_libcurl" = "xyes" && test "x$with_libxml2" = "xyes"
+then
+	plugin_ascent="yes"
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	plugin_ipmi="yes"
 fi
 
 if test "x$have_processor_info" = "xyes"
 then
 	plugin_cpu="yes"
 fi
@@ -36630,13 +37058,13 @@
 
 if test "x$have_thread_info" = "xyes"
 then
 	plugin_processes="yes"
 fi
 
-if test "x$with_kvm_getswapinfo" = "xyes"
+if test "x$with_libkvm" = "xyes"
 then
 	plugin_swap="yes"
 fi
 
 if test "x$have_getutent" = "xyes"
 then
@@ -36776,12 +37204,54 @@
 
     enable_apple_sensors="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-ascent was given.
+if test "${enable_ascent+set}" = set; then
+  enableval=$enable_ascent;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$plugin_ascent" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_ASCENT 1
+_ACEOF
+
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_ASCENT_TRUE=
+  BUILD_PLUGIN_ASCENT_FALSE='#'
+else
+  BUILD_PLUGIN_ASCENT_TRUE='#'
+  BUILD_PLUGIN_ASCENT_FALSE=
+fi
+
+    enable_ascent="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-battery was given.
 if test "${enable_battery+set}" = set; then
   enableval=$enable_battery;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -37322,12 +37792,54 @@
 
     enable_iptables="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-ipmi was given.
+if test "${enable_ipmi+set}" = set; then
+  enableval=$enable_ipmi;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$plugin_ipmi" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_IPMI 1
+_ACEOF
+
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_IPMI_TRUE=
+  BUILD_PLUGIN_IPMI_FALSE='#'
+else
+  BUILD_PLUGIN_IPMI_TRUE='#'
+  BUILD_PLUGIN_IPMI_FALSE=
+fi
+
+    enable_ipmi="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-ipvs was given.
 if test "${enable_ipvs+set}" = set; then
   enableval=$enable_ipvs;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -38078,12 +38590,54 @@
 
     enable_ping="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-powerdns was given.
+if test "${enable_powerdns+set}" = set; then
+  enableval=$enable_powerdns;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_POWERDNS 1
+_ACEOF
+
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_POWERDNS_TRUE=
+  BUILD_PLUGIN_POWERDNS_FALSE='#'
+else
+  BUILD_PLUGIN_POWERDNS_TRUE='#'
+  BUILD_PLUGIN_POWERDNS_FALSE=
+fi
+
+    enable_powerdns="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-processes was given.
 if test "${enable_processes+set}" = set; then
   enableval=$enable_processes;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -38372,12 +38926,54 @@
 
     enable_syslog="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-tail was given.
+if test "${enable_tail+set}" = set; then
+  enableval=$enable_tail;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_TAIL 1
+_ACEOF
+
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_TAIL_TRUE=
+  BUILD_PLUGIN_TAIL_FALSE='#'
+else
+  BUILD_PLUGIN_TAIL_TRUE='#'
+  BUILD_PLUGIN_TAIL_FALSE=
+fi
+
+    enable_tail="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-tape was given.
 if test "${enable_tape+set}" = set; then
   enableval=$enable_tape;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -38456,12 +39052,54 @@
 
     enable_tcpconns="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-teamspeak2 was given.
+if test "${enable_teamspeak2+set}" = set; then
+  enableval=$enable_teamspeak2;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_TEAMSPEAK2 1
+_ACEOF
+
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_TEAMSPEAK2_TRUE=
+  BUILD_PLUGIN_TEAMSPEAK2_FALSE='#'
+else
+  BUILD_PLUGIN_TEAMSPEAK2_TRUE='#'
+  BUILD_PLUGIN_TEAMSPEAK2_FALSE=
+fi
+
+    enable_teamspeak2="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-unixsock was given.
 if test "${enable_unixsock+set}" = set; then
   enableval=$enable_unixsock;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -38582,12 +39220,54 @@
 
     enable_uuid="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-vmem was given.
+if test "${enable_vmem+set}" = set; then
+  enableval=$enable_vmem;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$plugin_vmem" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_VMEM 1
+_ACEOF
+
+    fi
+     if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_VMEM_TRUE=
+  BUILD_PLUGIN_VMEM_FALSE='#'
+else
+  BUILD_PLUGIN_VMEM_TRUE='#'
+  BUILD_PLUGIN_VMEM_FALSE=
+fi
+
+    enable_vmem="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-vserver was given.
 if test "${enable_vserver+set}" = set; then
   enableval=$enable_vserver;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -38747,13 +39427,13 @@
 else
 	PERL_BINDINGS=""
 fi
 
 
 
-ac_config_files="$ac_config_files Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile"
+ac_config_files="$ac_config_files Makefile src/Makefile src/collectd.conf src/libiptc/Makefile src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile"
 
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
 # scripts and configure runs, see configure's option --config-cache.
 # It is not useful on other systems.  If it contains results you don't
@@ -38943,16 +39623,16 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBSTATGRAB\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBSTATGRAB\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE}" && test -z "${BUILD_WITH_LIBKVM_GETSWAPINFO_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBKVM_GETSWAPINFO\" was never defined.
+if test -z "${BUILD_WITH_LIBKVM_TRUE}" && test -z "${BUILD_WITH_LIBKVM_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBKVM\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_WITH_LIBKVM_GETSWAPINFO\" was never defined.
+echo "$as_me: error: conditional \"BUILD_WITH_LIBKVM\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
 if test -z "${BUILD_WITH_LM_SENSORS_TRUE}" && test -z "${BUILD_WITH_LM_SENSORS_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LM_SENSORS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
@@ -39006,19 +39686,33 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBIPTC\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBIPTC\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_WITH_OWN_LIBIPTC_TRUE}" && test -z "${BUILD_WITH_OWN_LIBIPTC_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_OWN_LIBIPTC\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_OWN_LIBIPTC\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_WITH_LIBNETSNMP_TRUE}" && test -z "${BUILD_WITH_LIBNETSNMP_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBNETSNMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBNETSNMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_WITH_LIBUPSCLIENT_TRUE}" && test -z "${BUILD_WITH_LIBUPSCLIENT_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBUPSCLIENT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBUPSCLIENT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_WITH_LIBXMMS_TRUE}" && test -z "${BUILD_WITH_LIBXMMS_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBXMMS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBXMMS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39069,12 +39763,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_APPLE_SENSORS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_APPLE_SENSORS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_ASCENT_TRUE}" && test -z "${BUILD_PLUGIN_ASCENT_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_ASCENT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_ASCENT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_BATTERY_TRUE}" && test -z "${BUILD_PLUGIN_BATTERY_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_BATTERY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_BATTERY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39160,12 +39861,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_IPMI_TRUE}" && test -z "${BUILD_PLUGIN_IPMI_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IPMI\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_IPMI\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_IPVS_TRUE}" && test -z "${BUILD_PLUGIN_IPVS_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IPVS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_IPVS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39286,12 +39994,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_PING\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_PING\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_POWERDNS_TRUE}" && test -z "${BUILD_PLUGIN_POWERDNS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_POWERDNS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_POWERDNS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_PROCESSES_TRUE}" && test -z "${BUILD_PLUGIN_PROCESSES_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_PROCESSES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_PROCESSES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39335,12 +40050,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_SYSLOG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_SYSLOG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_TAIL_TRUE}" && test -z "${BUILD_PLUGIN_TAIL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TAIL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_TAIL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_TAPE_TRUE}" && test -z "${BUILD_PLUGIN_TAPE_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TAPE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_TAPE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39349,12 +40071,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TCPCONNS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_TCPCONNS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_TEAMSPEAK2_TRUE}" && test -z "${BUILD_PLUGIN_TEAMSPEAK2_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TEAMSPEAK2\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_TEAMSPEAK2\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_UNIXSOCK_TRUE}" && test -z "${BUILD_PLUGIN_UNIXSOCK_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39370,12 +40099,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_UUID\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_UUID\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_VMEM_TRUE}" && test -z "${BUILD_PLUGIN_VMEM_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_VMEM\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_VMEM\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_VSERVER_TRUE}" && test -z "${BUILD_PLUGIN_VSERVER_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -39691,13 +40427,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 4.3.4, which was
+This file was extended by collectd $as_me 4.4.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -39744,13 +40480,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 4.3.4
+collectd config.status 4.4.0
 configured by $0, generated by GNU Autoconf 2.61,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -39863,12 +40599,13 @@
   case $ac_config_target in
     "src/config.h") CONFIG_HEADERS="$CONFIG_HEADERS src/config.h" ;;
     "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
     "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
     "src/Makefile") CONFIG_FILES="$CONFIG_FILES src/Makefile" ;;
     "src/collectd.conf") CONFIG_FILES="$CONFIG_FILES src/collectd.conf" ;;
+    "src/libiptc/Makefile") CONFIG_FILES="$CONFIG_FILES src/libiptc/Makefile" ;;
     "src/liboconfig/Makefile") CONFIG_FILES="$CONFIG_FILES src/liboconfig/Makefile" ;;
     "src/liboping/Makefile") CONFIG_FILES="$CONFIG_FILES src/liboping/Makefile" ;;
     "bindings/Makefile") CONFIG_FILES="$CONFIG_FILES bindings/Makefile" ;;
 
   *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
 echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
@@ -40110,14 +40847,14 @@
 BUILD_WITH_LIBIOKIT_TRUE!$BUILD_WITH_LIBIOKIT_TRUE$ac_delim
 BUILD_WITH_LIBIOKIT_FALSE!$BUILD_WITH_LIBIOKIT_FALSE$ac_delim
 BUILD_WITH_LIBSTATGRAB_TRUE!$BUILD_WITH_LIBSTATGRAB_TRUE$ac_delim
 BUILD_WITH_LIBSTATGRAB_FALSE!$BUILD_WITH_LIBSTATGRAB_FALSE$ac_delim
 BUILD_WITH_LIBSTATGRAB_CFLAGS!$BUILD_WITH_LIBSTATGRAB_CFLAGS$ac_delim
 BUILD_WITH_LIBSTATGRAB_LDFLAGS!$BUILD_WITH_LIBSTATGRAB_LDFLAGS$ac_delim
-BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE!$BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE$ac_delim
-BUILD_WITH_LIBKVM_GETSWAPINFO_FALSE!$BUILD_WITH_LIBKVM_GETSWAPINFO_FALSE$ac_delim
+BUILD_WITH_LIBKVM_TRUE!$BUILD_WITH_LIBKVM_TRUE$ac_delim
+BUILD_WITH_LIBKVM_FALSE!$BUILD_WITH_LIBKVM_FALSE$ac_delim
 BUILD_WITH_LIBSENSORS_CFLAGS!$BUILD_WITH_LIBSENSORS_CFLAGS$ac_delim
 BUILD_WITH_LIBSENSORS_LDFLAGS!$BUILD_WITH_LIBSENSORS_LDFLAGS$ac_delim
 BUILD_WITH_LM_SENSORS_TRUE!$BUILD_WITH_LM_SENSORS_TRUE$ac_delim
 BUILD_WITH_LM_SENSORS_FALSE!$BUILD_WITH_LM_SENSORS_FALSE$ac_delim
 BUILD_WITH_LIBMYSQL_CFLAGS!$BUILD_WITH_LIBMYSQL_CFLAGS$ac_delim
 BUILD_WITH_LIBMYSQL_LIBS!$BUILD_WITH_LIBMYSQL_LIBS$ac_delim
@@ -40133,42 +40870,42 @@
 BUILD_WITH_LIBPCAP_FALSE!$BUILD_WITH_LIBPCAP_FALSE$ac_delim
 PERL!$PERL$ac_delim
 PERL_CFLAGS!$PERL_CFLAGS$ac_delim
 PERL_LDFLAGS!$PERL_LDFLAGS$ac_delim
 BUILD_WITH_LIBPERL_TRUE!$BUILD_WITH_LIBPERL_TRUE$ac_delim
 BUILD_WITH_LIBPERL_FALSE!$BUILD_WITH_LIBPERL_FALSE$ac_delim
+KERNEL_DIR!$KERNEL_DIR$ac_delim
 BUILD_WITH_LIBIPTC_TRUE!$BUILD_WITH_LIBIPTC_TRUE$ac_delim
 BUILD_WITH_LIBIPTC_FALSE!$BUILD_WITH_LIBIPTC_FALSE$ac_delim
+BUILD_WITH_OWN_LIBIPTC_TRUE!$BUILD_WITH_OWN_LIBIPTC_TRUE$ac_delim
+BUILD_WITH_OWN_LIBIPTC_FALSE!$BUILD_WITH_OWN_LIBIPTC_FALSE$ac_delim
 BUILD_WITH_LIBSNMP_CFLAGS!$BUILD_WITH_LIBSNMP_CFLAGS$ac_delim
 BUILD_WITH_LIBSNMP_LIBS!$BUILD_WITH_LIBSNMP_LIBS$ac_delim
 BUILD_WITH_LIBNETSNMP_TRUE!$BUILD_WITH_LIBNETSNMP_TRUE$ac_delim
 BUILD_WITH_LIBNETSNMP_FALSE!$BUILD_WITH_LIBNETSNMP_FALSE$ac_delim
 BUILD_WITH_LIBUPSCLIENT_CFLAGS!$BUILD_WITH_LIBUPSCLIENT_CFLAGS$ac_delim
 BUILD_WITH_LIBUPSCLIENT_LIBS!$BUILD_WITH_LIBUPSCLIENT_LIBS$ac_delim
+BUILD_WITH_LIBUPSCLIENT_TRUE!$BUILD_WITH_LIBUPSCLIENT_TRUE$ac_delim
+BUILD_WITH_LIBUPSCLIENT_FALSE!$BUILD_WITH_LIBUPSCLIENT_FALSE$ac_delim
 BUILD_WITH_LIBXMMS_CFLAGS!$BUILD_WITH_LIBXMMS_CFLAGS$ac_delim
 BUILD_WITH_LIBXMMS_LIBS!$BUILD_WITH_LIBXMMS_LIBS$ac_delim
 BUILD_WITH_LIBXMMS_TRUE!$BUILD_WITH_LIBXMMS_TRUE$ac_delim
 BUILD_WITH_LIBXMMS_FALSE!$BUILD_WITH_LIBXMMS_FALSE$ac_delim
 BUILD_WITH_LIBNETLINK_CFLAGS!$BUILD_WITH_LIBNETLINK_CFLAGS$ac_delim
 BUILD_WITH_LIBNETLINK_LIBS!$BUILD_WITH_LIBNETLINK_LIBS$ac_delim
 BUILD_WITH_LIBNETLINK_TRUE!$BUILD_WITH_LIBNETLINK_TRUE$ac_delim
 BUILD_WITH_LIBNETLINK_FALSE!$BUILD_WITH_LIBNETLINK_FALSE$ac_delim
+BUILD_WITH_OPENIPMI_CFLAGS!$BUILD_WITH_OPENIPMI_CFLAGS$ac_delim
+BUILD_WITH_OPENIPMI_LIBS!$BUILD_WITH_OPENIPMI_LIBS$ac_delim
 BUILD_WITH_LIBXML2_CFLAGS!$BUILD_WITH_LIBXML2_CFLAGS$ac_delim
 BUILD_WITH_LIBXML2_LIBS!$BUILD_WITH_LIBXML2_LIBS$ac_delim
 BUILD_WITH_LIBVIRT_CFLAGS!$BUILD_WITH_LIBVIRT_CFLAGS$ac_delim
 BUILD_WITH_LIBVIRT_LIBS!$BUILD_WITH_LIBVIRT_LIBS$ac_delim
 BUILD_FEATURE_DEBUG_TRUE!$BUILD_FEATURE_DEBUG_TRUE$ac_delim
 BUILD_FEATURE_DEBUG_FALSE!$BUILD_FEATURE_DEBUG_FALSE$ac_delim
 BUILD_FEATURE_DAEMON_TRUE!$BUILD_FEATURE_DAEMON_TRUE$ac_delim
-BUILD_FEATURE_DAEMON_FALSE!$BUILD_FEATURE_DAEMON_FALSE$ac_delim
-BUILD_FEATURE_GETIFADDRS_TRUE!$BUILD_FEATURE_GETIFADDRS_TRUE$ac_delim
-BUILD_FEATURE_GETIFADDRS_FALSE!$BUILD_FEATURE_GETIFADDRS_FALSE$ac_delim
-BUILD_PLUGIN_APACHE_TRUE!$BUILD_PLUGIN_APACHE_TRUE$ac_delim
-BUILD_PLUGIN_APACHE_FALSE!$BUILD_PLUGIN_APACHE_FALSE$ac_delim
-BUILD_PLUGIN_APCUPS_TRUE!$BUILD_PLUGIN_APCUPS_TRUE$ac_delim
-BUILD_PLUGIN_APCUPS_FALSE!$BUILD_PLUGIN_APCUPS_FALSE$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -40204,14 +40941,23 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
+BUILD_FEATURE_DAEMON_FALSE!$BUILD_FEATURE_DAEMON_FALSE$ac_delim
+BUILD_FEATURE_GETIFADDRS_TRUE!$BUILD_FEATURE_GETIFADDRS_TRUE$ac_delim
+BUILD_FEATURE_GETIFADDRS_FALSE!$BUILD_FEATURE_GETIFADDRS_FALSE$ac_delim
+BUILD_PLUGIN_APACHE_TRUE!$BUILD_PLUGIN_APACHE_TRUE$ac_delim
+BUILD_PLUGIN_APACHE_FALSE!$BUILD_PLUGIN_APACHE_FALSE$ac_delim
+BUILD_PLUGIN_APCUPS_TRUE!$BUILD_PLUGIN_APCUPS_TRUE$ac_delim
+BUILD_PLUGIN_APCUPS_FALSE!$BUILD_PLUGIN_APCUPS_FALSE$ac_delim
 BUILD_PLUGIN_APPLE_SENSORS_TRUE!$BUILD_PLUGIN_APPLE_SENSORS_TRUE$ac_delim
 BUILD_PLUGIN_APPLE_SENSORS_FALSE!$BUILD_PLUGIN_APPLE_SENSORS_FALSE$ac_delim
+BUILD_PLUGIN_ASCENT_TRUE!$BUILD_PLUGIN_ASCENT_TRUE$ac_delim
+BUILD_PLUGIN_ASCENT_FALSE!$BUILD_PLUGIN_ASCENT_FALSE$ac_delim
 BUILD_PLUGIN_BATTERY_TRUE!$BUILD_PLUGIN_BATTERY_TRUE$ac_delim
 BUILD_PLUGIN_BATTERY_FALSE!$BUILD_PLUGIN_BATTERY_FALSE$ac_delim
 BUILD_PLUGIN_CPU_TRUE!$BUILD_PLUGIN_CPU_TRUE$ac_delim
 BUILD_PLUGIN_CPU_FALSE!$BUILD_PLUGIN_CPU_FALSE$ac_delim
 BUILD_PLUGIN_CPUFREQ_TRUE!$BUILD_PLUGIN_CPUFREQ_TRUE$ac_delim
 BUILD_PLUGIN_CPUFREQ_FALSE!$BUILD_PLUGIN_CPUFREQ_FALSE$ac_delim
@@ -40232,12 +40978,14 @@
 BUILD_PLUGIN_HDDTEMP_TRUE!$BUILD_PLUGIN_HDDTEMP_TRUE$ac_delim
 BUILD_PLUGIN_HDDTEMP_FALSE!$BUILD_PLUGIN_HDDTEMP_FALSE$ac_delim
 BUILD_PLUGIN_INTERFACE_TRUE!$BUILD_PLUGIN_INTERFACE_TRUE$ac_delim
 BUILD_PLUGIN_INTERFACE_FALSE!$BUILD_PLUGIN_INTERFACE_FALSE$ac_delim
 BUILD_PLUGIN_IPTABLES_TRUE!$BUILD_PLUGIN_IPTABLES_TRUE$ac_delim
 BUILD_PLUGIN_IPTABLES_FALSE!$BUILD_PLUGIN_IPTABLES_FALSE$ac_delim
+BUILD_PLUGIN_IPMI_TRUE!$BUILD_PLUGIN_IPMI_TRUE$ac_delim
+BUILD_PLUGIN_IPMI_FALSE!$BUILD_PLUGIN_IPMI_FALSE$ac_delim
 BUILD_PLUGIN_IPVS_TRUE!$BUILD_PLUGIN_IPVS_TRUE$ac_delim
 BUILD_PLUGIN_IPVS_FALSE!$BUILD_PLUGIN_IPVS_FALSE$ac_delim
 BUILD_PLUGIN_IRQ_TRUE!$BUILD_PLUGIN_IRQ_TRUE$ac_delim
 BUILD_PLUGIN_IRQ_FALSE!$BUILD_PLUGIN_IRQ_FALSE$ac_delim
 BUILD_PLUGIN_LIBVIRT_TRUE!$BUILD_PLUGIN_LIBVIRT_TRUE$ac_delim
 BUILD_PLUGIN_LIBVIRT_FALSE!$BUILD_PLUGIN_LIBVIRT_FALSE$ac_delim
@@ -40268,12 +41016,14 @@
 BUILD_PLUGIN_NUT_TRUE!$BUILD_PLUGIN_NUT_TRUE$ac_delim
 BUILD_PLUGIN_NUT_FALSE!$BUILD_PLUGIN_NUT_FALSE$ac_delim
 BUILD_PLUGIN_PERL_TRUE!$BUILD_PLUGIN_PERL_TRUE$ac_delim
 BUILD_PLUGIN_PERL_FALSE!$BUILD_PLUGIN_PERL_FALSE$ac_delim
 BUILD_PLUGIN_PING_TRUE!$BUILD_PLUGIN_PING_TRUE$ac_delim
 BUILD_PLUGIN_PING_FALSE!$BUILD_PLUGIN_PING_FALSE$ac_delim
+BUILD_PLUGIN_POWERDNS_TRUE!$BUILD_PLUGIN_POWERDNS_TRUE$ac_delim
+BUILD_PLUGIN_POWERDNS_FALSE!$BUILD_PLUGIN_POWERDNS_FALSE$ac_delim
 BUILD_PLUGIN_PROCESSES_TRUE!$BUILD_PLUGIN_PROCESSES_TRUE$ac_delim
 BUILD_PLUGIN_PROCESSES_FALSE!$BUILD_PLUGIN_PROCESSES_FALSE$ac_delim
 BUILD_PLUGIN_RRDTOOL_TRUE!$BUILD_PLUGIN_RRDTOOL_TRUE$ac_delim
 BUILD_PLUGIN_RRDTOOL_FALSE!$BUILD_PLUGIN_RRDTOOL_FALSE$ac_delim
 BUILD_PLUGIN_SENSORS_TRUE!$BUILD_PLUGIN_SENSORS_TRUE$ac_delim
 BUILD_PLUGIN_SENSORS_FALSE!$BUILD_PLUGIN_SENSORS_FALSE$ac_delim
@@ -40282,31 +41032,18 @@
 BUILD_PLUGIN_SNMP_TRUE!$BUILD_PLUGIN_SNMP_TRUE$ac_delim
 BUILD_PLUGIN_SNMP_FALSE!$BUILD_PLUGIN_SNMP_FALSE$ac_delim
 BUILD_PLUGIN_SWAP_TRUE!$BUILD_PLUGIN_SWAP_TRUE$ac_delim
 BUILD_PLUGIN_SWAP_FALSE!$BUILD_PLUGIN_SWAP_FALSE$ac_delim
 BUILD_PLUGIN_SYSLOG_TRUE!$BUILD_PLUGIN_SYSLOG_TRUE$ac_delim
 BUILD_PLUGIN_SYSLOG_FALSE!$BUILD_PLUGIN_SYSLOG_FALSE$ac_delim
+BUILD_PLUGIN_TAIL_TRUE!$BUILD_PLUGIN_TAIL_TRUE$ac_delim
+BUILD_PLUGIN_TAIL_FALSE!$BUILD_PLUGIN_TAIL_FALSE$ac_delim
 BUILD_PLUGIN_TAPE_TRUE!$BUILD_PLUGIN_TAPE_TRUE$ac_delim
 BUILD_PLUGIN_TAPE_FALSE!$BUILD_PLUGIN_TAPE_FALSE$ac_delim
 BUILD_PLUGIN_TCPCONNS_TRUE!$BUILD_PLUGIN_TCPCONNS_TRUE$ac_delim
 BUILD_PLUGIN_TCPCONNS_FALSE!$BUILD_PLUGIN_TCPCONNS_FALSE$ac_delim
-BUILD_PLUGIN_UNIXSOCK_TRUE!$BUILD_PLUGIN_UNIXSOCK_TRUE$ac_delim
-BUILD_PLUGIN_UNIXSOCK_FALSE!$BUILD_PLUGIN_UNIXSOCK_FALSE$ac_delim
-BUILD_PLUGIN_USERS_TRUE!$BUILD_PLUGIN_USERS_TRUE$ac_delim
-BUILD_PLUGIN_USERS_FALSE!$BUILD_PLUGIN_USERS_FALSE$ac_delim
-BUILD_PLUGIN_UUID_TRUE!$BUILD_PLUGIN_UUID_TRUE$ac_delim
-BUILD_PLUGIN_UUID_FALSE!$BUILD_PLUGIN_UUID_FALSE$ac_delim
-BUILD_PLUGIN_VSERVER_TRUE!$BUILD_PLUGIN_VSERVER_TRUE$ac_delim
-BUILD_PLUGIN_VSERVER_FALSE!$BUILD_PLUGIN_VSERVER_FALSE$ac_delim
-BUILD_PLUGIN_WIRELESS_TRUE!$BUILD_PLUGIN_WIRELESS_TRUE$ac_delim
-BUILD_PLUGIN_WIRELESS_FALSE!$BUILD_PLUGIN_WIRELESS_FALSE$ac_delim
-BUILD_PLUGIN_XMMS_TRUE!$BUILD_PLUGIN_XMMS_TRUE$ac_delim
-BUILD_PLUGIN_XMMS_FALSE!$BUILD_PLUGIN_XMMS_FALSE$ac_delim
-PERL_BINDINGS!$PERL_BINDINGS$ac_delim
-PERL_BINDINGS_OPTIONS!$PERL_BINDINGS_OPTIONS$ac_delim
-LIBOBJS!$LIBOBJS$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -40342,16 +41079,35 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
+BUILD_PLUGIN_TEAMSPEAK2_TRUE!$BUILD_PLUGIN_TEAMSPEAK2_TRUE$ac_delim
+BUILD_PLUGIN_TEAMSPEAK2_FALSE!$BUILD_PLUGIN_TEAMSPEAK2_FALSE$ac_delim
+BUILD_PLUGIN_UNIXSOCK_TRUE!$BUILD_PLUGIN_UNIXSOCK_TRUE$ac_delim
+BUILD_PLUGIN_UNIXSOCK_FALSE!$BUILD_PLUGIN_UNIXSOCK_FALSE$ac_delim
+BUILD_PLUGIN_USERS_TRUE!$BUILD_PLUGIN_USERS_TRUE$ac_delim
+BUILD_PLUGIN_USERS_FALSE!$BUILD_PLUGIN_USERS_FALSE$ac_delim
+BUILD_PLUGIN_UUID_TRUE!$BUILD_PLUGIN_UUID_TRUE$ac_delim
+BUILD_PLUGIN_UUID_FALSE!$BUILD_PLUGIN_UUID_FALSE$ac_delim
+BUILD_PLUGIN_VMEM_TRUE!$BUILD_PLUGIN_VMEM_TRUE$ac_delim
+BUILD_PLUGIN_VMEM_FALSE!$BUILD_PLUGIN_VMEM_FALSE$ac_delim
+BUILD_PLUGIN_VSERVER_TRUE!$BUILD_PLUGIN_VSERVER_TRUE$ac_delim
+BUILD_PLUGIN_VSERVER_FALSE!$BUILD_PLUGIN_VSERVER_FALSE$ac_delim
+BUILD_PLUGIN_WIRELESS_TRUE!$BUILD_PLUGIN_WIRELESS_TRUE$ac_delim
+BUILD_PLUGIN_WIRELESS_FALSE!$BUILD_PLUGIN_WIRELESS_FALSE$ac_delim
+BUILD_PLUGIN_XMMS_TRUE!$BUILD_PLUGIN_XMMS_TRUE$ac_delim
+BUILD_PLUGIN_XMMS_FALSE!$BUILD_PLUGIN_XMMS_FALSE$ac_delim
+PERL_BINDINGS!$PERL_BINDINGS$ac_delim
+PERL_BINDINGS_OPTIONS!$PERL_BINDINGS_OPTIONS$ac_delim
+LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 1; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 20; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
@@ -41137,12 +41893,17 @@
 if test "x$with_liboping" = "xyes" \
 	&& test "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
+if test "x$with_libiptc" = "xyes" -a "x$with_own_libiptc" = "xyes"
+then
+	with_libiptc="yes (shipped version)"
+fi
+
 if test "x$with_libperl" = "xyes"
 then
 	with_libperl="yes (version `$perl_interpreter -MConfig -e 'print $Config{version};'`)"
 else
 	enable_perl="no (needs libperl)"
 fi
@@ -41163,12 +41924,13 @@
     libkstat  . . . . . $with_kstat
     libkvm  . . . . . . $with_libkvm
     libmysql  . . . . . $with_libmysql
     libnetlink  . . . . $with_libnetlink
     libnetsnmp  . . . . $with_libnetsnmp
     liboconfig  . . . . $with_liboconfig
+    libopenipmi . . . . $with_libopenipmipthread
     liboping  . . . . . $with_liboping
     libpcap . . . . . . $with_libpcap
     libperl . . . . . . $with_libperl
     libpthread  . . . . $with_libpthread
     librrd  . . . . . . $with_rrdtool
     libsensors  . . . . $with_lm_sensors
@@ -41186,12 +41948,13 @@
     perl  . . . . . . . $with_perl_bindings
 
   Modules:
     apache  . . . . . . $enable_apache
     apcups  . . . . . . $enable_apcups
     apple_sensors . . . $enable_apple_sensors
+    ascent  . . . . . . $enable_ascent
     battery . . . . . . $enable_battery
     cpu . . . . . . . . $enable_cpu
     cpufreq . . . . . . $enable_cpufreq
     csv . . . . . . . . $enable_csv
     df  . . . . . . . . $enable_df
     disk  . . . . . . . $enable_disk
@@ -41199,12 +41962,13 @@
     email . . . . . . . $enable_email
     entropy . . . . . . $enable_entropy
     exec  . . . . . . . $enable_exec
     hddtemp . . . . . . $enable_hddtemp
     interface . . . . . $enable_interface
     iptables  . . . . . $enable_iptables
+    ipmi  . . . . . . . $enable_ipmi
     ipvs  . . . . . . . $enable_ipvs
     irq . . . . . . . . $enable_irq
     libvirt . . . . . . $enable_libvirt
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
@@ -41217,23 +41981,27 @@
     nfs . . . . . . . . $enable_nfs
     nginx . . . . . . . $enable_nginx
     ntpd  . . . . . . . $enable_ntpd
     nut . . . . . . . . $enable_nut
     perl  . . . . . . . $enable_perl
     ping  . . . . . . . $enable_ping
+    powerdns  . . . . . $enable_powerdns
     processes . . . . . $enable_processes
     rrdtool . . . . . . $enable_rrdtool
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
     snmp  . . . . . . . $enable_snmp
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
+    tail  . . . . . . . $enable_tail
     tape  . . . . . . . $enable_tape
     tcpconns  . . . . . $enable_tcpconns
+    teamspeak2  . . . . $enable_teamspeak2
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
     uuid  . . . . . . . $enable_uuid
+    vmem  . . . . . . . $enable_vmem
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
 EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/configure.in	2008-08-31 21:12:16.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/configure.in	2008-05-07 03:14:15.000000000 +0800
@@ -54,13 +54,13 @@
 # Checks for header files.
 #
 AC_HEADER_STDC
 AC_HEADER_SYS_WAIT
 AC_HEADER_DIRENT
 
-AC_CHECK_HEADERS(stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h endian.h sys/isa_defs.h)
+AC_CHECK_HEADERS(stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h endian.h)
 
 # For ping library
 AC_CHECK_HEADERS(netinet/in_systm.h, [], [],
 [#if HAVE_STDINT_H
 # include <stdint.h>
 #endif
@@ -888,12 +888,13 @@
 dnl Check for HAL (hardware abstraction library)
 with_libhal="yes"
 AC_CHECK_LIB(hal,libhal_device_property_exists,
 	     [AC_DEFINE(HAVE_LIBHAL, 1, [Define to 1 if you have 'hal' library])],
 	     [with_libhal="no"])
 if test "x$with_libhal" = "xyes"; then
+	PKG_PROG_PKG_CONFIG
 	if test "x$PKG_CONFIG" != "x"; then
 		BUILD_WITH_LIBHAL_CFLAGS="`pkg-config --cflags hal`"
 		BUILD_WITH_LIBHAL_LIBS="`pkg-config --libs hal`"
 		AC_SUBST(BUILD_WITH_LIBHAL_CFLAGS)
 		AC_SUBST(BUILD_WITH_LIBHAL_LIBS)
 	fi
@@ -1212,21 +1213,18 @@
   BUILD_WITH_LIBSTATGRAB_CFLAGS="$with_libstatgrab_cflags"
   BUILD_WITH_LIBSTATGRAB_LDFLAGS="$with_libstatgrab_ldflags"
   AC_SUBST(BUILD_WITH_LIBSTATGRAB_CFLAGS)
   AC_SUBST(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 fi
 
-with_libkvm="no"
-AC_CHECK_LIB(kvm, kvm_getswapinfo, [with_kvm_getswapinfo="yes"], [with_kvm_getswapinfo="no"])
-if test "x$with_kvm_getswapinfo" = "xyes"
-then
-	AC_DEFINE(HAVE_LIBKVM_GETSWAPINFO, 1,
-		  [Define to 1 if you have the 'kvm' library with the 'kvm_getswapinfo' symbol (-lkvm)])
-	with_libkvm="yes"
+AC_CHECK_LIB(kvm, kvm_getswapinfo, [with_libkvm="yes"], [with_libkvm="no"])
+if test "x$with_libkvm" = "xyes"
+then
+	AC_DEFINE(HAVE_LIBKVM, 1, [Define to 1 if you have the 'kvm' library (-lkvm)])
 fi
-AM_CONDITIONAL(BUILD_WITH_LIBKVM_GETSWAPINFO, test "x$with_kvm_getswapinfo" = "xyes")
+AM_CONDITIONAL(BUILD_WITH_LIBKVM, test "x$with_libkvm" = "xyes")
 
 with_sensors_cflags=""
 with_sensors_ldflags=""
 AC_ARG_WITH(lm-sensors, [AS_HELP_STRING([--with-lm-sensors@<:@=PREFIX@:>@], [Path to lm_sensors.])],
 [
 	if test "x$withval" = "xno"
@@ -1599,12 +1597,22 @@
 	fi
 
 	CFLAGS=$SAVE_CFLAGS
 	LDFLAGS=$SAVE_LDFLAGS
 fi
 
+if test "x$ac_system" = "xLinux"
+then
+	AC_ARG_VAR([KERNEL_DIR], [path to Linux kernel sources])
+	if test -z "$KERNEL_DIR"
+	then
+		KERNEL_DIR="/lib/modules/`uname -r`/source"
+	fi
+fi
+
+with_own_libiptc="no"
 AC_ARG_WITH(libiptc, [AS_HELP_STRING([--with-libiptc@<:@=PREFIX@:>@], [Path to libiptc.])],
 [
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
@@ -1623,28 +1631,51 @@
 ])
 if test "x$with_libiptc" = "xyes"
 then
 	AC_CHECK_LIB(iptc, iptc_init,
 	[
 		AC_DEFINE(HAVE_LIBIPTC, 1, [Define to 1 if you have the iptc library (-liptc).])
-	], [with_libiptc="no (libiptc not found)"])
+	],
+	[
+		with_libiptc="yes"
+		with_own_libiptc="yes"
+	])
 fi
-if test "x$with_libiptc" = "xyes"
+if test "x$with_libiptc" = "xyes" -a "x$with_own_libiptc" != "xyes"
 then
 	AC_CHECK_HEADERS(libiptc/libiptc.h,
 	[
 		AC_DEFINE(HAVE_LIBIPTC_LIBIPTC_H, 1, [Define to 1 if you have the <libiptc/libiptc.h> header file.])
-	], [with_libiptc="no (libiptc/libiptc.h not found)"])
+	],
+	[
+		with_libiptc="yes"
+		with_own_libiptc="yes"
+	])
 fi
 if test "x$with_libiptc" = "xyes"
 then
-	collect_libiptc=1
-else
-	collect_libiptc=0
+	SAVE_CFLAGS=$CFLAGS
+	CFLAGS="$CFLAGS -I$KERNEL_DIR/include"
+
+	AC_CHECK_HEADERS(linux/netfilter_ipv4/ip_tables.h linux/netfilter_ipv6/ip6_tables.h, [],
+	[
+		with_libiptc="no (Linux iptables headers not found - check KERNEL_DIR)"
+		with_own_libiptc="no"
+	],
+	[
+#include "$srcdir/src/libiptc/ipt_kernel_headers.h"
+	])
+
+	CFLAGS=$SAVE_CFLAGS
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBIPTC, test "x$with_libiptc" = "xyes")
+AM_CONDITIONAL(BUILD_WITH_OWN_LIBIPTC, test "x$with_own_libiptc" = "xyes")
+if test "x$with_own_libiptc" = "xyes"
+then
+	AC_DEFINE(OWN_LIBIPTC, 1, [Define to 1 if we use the shipped iptc library.])
+fi
 
 with_snmp_config="net-snmp-config"
 with_snmp_cflags=""
 with_snmp_libs=""
 AC_ARG_WITH(libnetsnmp, [AS_HELP_STRING([--with-libnetsnmp@<:@=PREFIX@:>@], [Path to the Net-SNMPD library.])],
 [
@@ -1704,81 +1735,91 @@
 	BUILD_WITH_LIBSNMP_LIBS="$with_snmp_libs"
 	AC_SUBST(BUILD_WITH_LIBSNMP_CFLAGS)
 	AC_SUBST(BUILD_WITH_LIBSNMP_LIBS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBNETSNMP, test "x$with_libnetsnmp" = "xyes")
 
-with_libupsclient="no (pkg-config isn't available)"
-with_libupsclient_cflags=""
-with_libupsclient_libs=""
-if test "x$PKG_CONFIG" != "x"
-then
-	pkg-config --exists 'libupsclient' 2>/dev/null
-	if test "$?" = "0"
+with_upsclient_config="libupsclient-config"
+with_upsclient_cflags=""
+with_upsclient_libs=""
+AC_ARG_WITH(libupsclient, [AS_HELP_STRING([--with-libupsclient@<:@=PREFIX@:>@], [Path to libupsclient.])],
+[
+	if test "x$withval" = "xno"
 	then
-		with_libupsclient="yes"
+		with_libupsclient="no"
 	else
-		with_libupsclient="no (pkg-config doesn't know library)"
+		if test "x$withval" != "xyes"
+		then
+			if test -f "$withval" && test -x "$withval";
+			then
+				with_upsclient_config="$withval"
+			else
+				with_upsclient_config="$withval/bin/libupsclient-config"
+			fi
+		fi
+		with_libupsclient="yes"
 	fi
-fi
+],
+[
+	with_libupsclient="yes"
+])
 if test "x$with_libupsclient" = "xyes"
 then
-	with_libupsclient_cflags="`pkg-config --cflags 'libupsclient'`"
-	if test $? -ne 0
-	then
-		with_libupsclient="no"
-	fi
-	with_libupsclient_libs="`pkg-config --libs 'libupsclient'`"
-	if test $? -ne 0
+	with_upsclient_cflags=`$with_upsclient_config --cflags 2>/dev/null`
+	upsclient_config_status=$?
+
+	if test $upsclient_config_status -ne 0
 	then
-		with_libupsclient="no"
+		with_libupsclient="no ($with_upsclient_config failed)"
 	fi
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_libupsclient_cflags"
+	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
 
 	AC_CHECK_HEADERS(upsclient.h, [], [with_libupsclient="no (upsclient.h not found)"])
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	SAVE_CPPFLAGS="$CPPFLAGS"
-	SAVE_LDFLAGS="$LDFLAGS"
-
-	CPPFLAGS="$CPPFLAGS $with_libupsclient_cflags"
-	LDFLAGS="$LDFLAGS $with_libupsclient_libs"
+	with_upsclient_libs=`$with_upsclient_config --libs 2>/dev/null`
+	upsclient_config_status=$?
 
+	if test $upsclient_config_status -ne 0
+	then
+		with_libupsclient="no ($with_upsclient_config failed)"
+	fi
+fi
+if test "x$with_libupsclient" = "xyes"
+then
 	AC_CHECK_LIB(upsclient, upscli_connect,
-		     [with_libupsclient="yes"],
-		     [with_libupsclient="no (symbol upscli_connect not found)"])
-
-	CPPFLAGS="$SAVE_CPPFLAGS"
-	LDFLAGS="$SAVE_LDFLAGS"
+	[
+		BUILD_WITH_LIBUPSCLIENT_CFLAGS="$with_upsclient_cflags"
+		BUILD_WITH_LIBUPSCLIENT_LIBS="$with_upsclient_libs"
+		AC_SUBST(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
+		AC_SUBST(BUILD_WITH_LIBUPSCLIENT_LIBS)
+	],
+	[
+		with_libupsclient="no (symbol 'upscli_connect' not found)"
+	], [$with_upsclient_libs])
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	SAVE_CPPFLAGS="$CPPFLAGS"
-	CPPFLAGS="$CPPFLAGS $with_libupsclient_cflags"
+	CPPFLAGS="$CPPFLAGS $with_upsclient_cflags"
 
 	AC_CHECK_TYPES([UPSCONN_t, UPSCONN], [], [],
 [#include <stdlib.h>
 #include <stdio.h>
 #include <upsclient.h>])
 
 	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
-if test "x$with_libupsclient" = "xyes"
-then
-	BUILD_WITH_LIBUPSCLIENT_CFLAGS="$with_libupsclient_cflags"
-	BUILD_WITH_LIBUPSCLIENT_LIBS="$with_libupsclient_libs"
-	AC_SUBST(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
-	AC_SUBST(BUILD_WITH_LIBUPSCLIENT_LIBS)
-fi
+AM_CONDITIONAL(BUILD_WITH_LIBUPSCLIENT, test "x$with_libupsclient" = "xyes")
 
 ### BEGIN of check for libxmms ###
 with_xmms_config="xmms-config"
 with_xmms_cflags=""
 with_xmms_libs=""
 AC_ARG_WITH(libxmms, [AS_HELP_STRING([--with-libxmms@<:@=PREFIX@:>@], [Path to libxmms.])],
@@ -1948,12 +1989,91 @@
 	BUILD_WITH_LIBNETLINK_LIBS="$with_libnetlink_libs"
 	AC_SUBST(BUILD_WITH_LIBNETLINK_CFLAGS)
 	AC_SUBST(BUILD_WITH_LIBNETLINK_LIBS)
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBNETLINK, test "x$with_libnetlink" = "xyes")
 
+with_libopenipmipthread="yes"
+with_libopenipmipthread_cflags=""
+with_libopenipmipthread_libs=""
+
+AC_MSG_CHECKING([for pkg-config])
+temp_result="no"
+if test "x$PKG_CONFIG" = "x"
+then
+	with_libopenipmipthread="no"
+	temp_result="no"
+else
+	temp_result="$PKG_CONFIG"
+fi
+AC_MSG_RESULT([$temp_result])
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	AC_MSG_CHECKING([for libOpenIPMIpthread])
+	$PKG_CONFIG --exists OpenIPMIpthread 2>/dev/null
+	if test "$?" != "0"
+	then
+		with_libopenipmipthread="no ($PKG_CONFIG doesn't know OpenIPMIpthread)"
+	fi
+	AC_MSG_RESULT([$with_libopenipmipthread])
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	AC_MSG_CHECKING([for libOpenIPMIpthread CFLAGS])
+	temp_result="`$PKG_CONFIG --cflags OpenIPMIpthread`"
+	if test "$?" = "0"
+	then
+		with_libopenipmipthread_cflags="$temp_result"
+	else
+		with_libopenipmipthread="no ($PKG_CONFIG --cflags OpenIPMIpthread failed)"
+		temp_result="$PKG_CONFIG --cflags OpenIPMIpthread failed"
+	fi
+	AC_MSG_RESULT([$temp_result])
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	AC_MSG_CHECKING([for libOpenIPMIpthread LDFLAGS])
+	temp_result="`$PKG_CONFIG --libs OpenIPMIpthread`"
+	if test "$?" = "0"
+	then
+		with_libopenipmipthread_ldflags="$temp_result"
+	else
+		with_libopenipmipthread="no ($PKG_CONFIG --libs OpenIPMIpthread failed)"
+		temp_result="$PKG_CONFIG --libs OpenIPMIpthread failed"
+	fi
+	AC_MSG_RESULT([$temp_result])
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_libopenipmipthread_cflags"
+
+	AC_CHECK_HEADERS(OpenIPMI/ipmi_smi.h,
+			 [with_libopenipmipthread="yes"],
+			 [with_libopenipmipthread="no (OpenIPMI/ipmi_smi.h not found)"],
+[#include <OpenIPMI/ipmiif.h>
+#include <OpenIPMI/ipmi_err.h>
+#include <OpenIPMI/ipmi_posix.h>
+#include <OpenIPMI/ipmi_conn.h>
+])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	BUILD_WITH_OPENIPMI_CFLAGS="$with_libopenipmipthread_cflags"
+	BUILD_WITH_OPENIPMI_LIBS="$with_libopenipmipthread_ldflags"
+	AC_SUBST(BUILD_WITH_OPENIPMI_CFLAGS)
+	AC_SUBST(BUILD_WITH_OPENIPMI_LIBS)
+fi
+
 dnl Check for libvirt and libxml2 libraries.
 with_libxml2="no (pkg-config isn't available)"
 with_libxml2_cflags=""
 with_libxml2_ldflags=""
 with_libvirt="no (pkg-config isn't available)"
 with_libvirt_cflags=""
@@ -2169,19 +2289,21 @@
 collectd features:])
 # FIXME: Remove these calls to `AC_COLLECTD' and then remove that macro.
 AC_COLLECTD([debug],     [enable],  [feature], [debugging])
 AC_COLLECTD([daemon],    [disable], [feature], [daemon mode])
 AC_COLLECTD([getifaddrs],[enable],  [feature], [getifaddrs under Linux])
 
+plugin_ascent="no"
 plugin_battery="no"
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_df="no"
 plugin_disk="no"
 plugin_entropy="no"
 plugin_interface="no"
+plugin_ipmi="no"
 plugin_ipvs="no"
 plugin_irq="no"
 plugin_libvirt="no"
 plugin_load="no"
 plugin_memory="no"
 plugin_multimeter="no"
@@ -2190,12 +2312,13 @@
 plugin_processes="no"
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
 plugin_tcpconns="no"
 plugin_users="no"
+plugin_vmem="no"
 plugin_vserver="no"
 plugin_wireless="no"
 
 # Linux
 if test "x$ac_system" = "xLinux"
 then
@@ -2210,12 +2333,13 @@
 	plugin_memory="yes"
 	plugin_nfs="yes"
 	plugin_processes="yes"
 	plugin_serial="yes"
 	plugin_swap="yes"
 	plugin_tcpconns="yes"
+	plugin_vmem="yes"
 	plugin_vserver="yes"
 	plugin_wireless="yes"
 
 	if test "x$have_net_ip_vs_h" = "xyes" -o "x$have_ip_vs_h" = "xyes"
 	then
 		plugin_ipvs="yes"
@@ -2240,16 +2364,29 @@
 	plugin_tape="yes"
 fi
 
 # libstatgrab
 if test "x$with_libstatgrab" = "xyes"
 then
+	plugin_cpu="yes"
+	plugin_disk="yes"
 	plugin_interface="yes"
 	plugin_load="yes"
 	plugin_memory="yes"
 	plugin_swap="yes"
+	plugin_users="yes"
+fi
+
+if test "x$with_libcurl" = "xyes" && test "x$with_libxml2" = "xyes"
+then
+	plugin_ascent="yes"
+fi
+
+if test "x$with_libopenipmipthread" = "xyes"
+then
+	plugin_ipmi="yes"
 fi
 
 if test "x$have_processor_info" = "xyes"
 then
 	plugin_cpu="yes"
 fi
@@ -2302,13 +2439,13 @@
 
 if test "x$have_thread_info" = "xyes"
 then
 	plugin_processes="yes"
 fi
 
-if test "x$with_kvm_getswapinfo" = "xyes"
+if test "x$with_libkvm" = "xyes"
 then
 	plugin_swap="yes"
 fi
 
 if test "x$have_getutent" = "xyes"
 then
@@ -2324,12 +2461,13 @@
 m4_divert_once([HELP_ENABLE], [
 collectd plugins:])
 
 AC_PLUGIN([apache],      [$with_libcurl],      [Apache httpd statistics])
 AC_PLUGIN([apcups],      [yes],                [Statistics of UPSes by APC])
 AC_PLUGIN([apple_sensors], [$with_libiokit],   [Apple's hardware sensors])
+AC_PLUGIN([ascent],      [$plugin_ascent],     [AscentEmu player statistics])
 AC_PLUGIN([battery],     [$plugin_battery],    [Battery statistics])
 AC_PLUGIN([cpu],         [$plugin_cpu],        [CPU usage statistics])
 AC_PLUGIN([cpufreq],     [$plugin_cpufreq],    [CPU frequency statistics])
 AC_PLUGIN([csv],         [yes],                [CSV output plugin])
 AC_PLUGIN([df],          [$plugin_df],         [Filesystem usage statistics])
 AC_PLUGIN([disk],        [$plugin_disk],       [Disk usage statistics])
@@ -2337,12 +2475,13 @@
 AC_PLUGIN([email],       [yes],                [EMail statistics])
 AC_PLUGIN([entropy],     [$plugin_entropy],    [Entropy statistics])
 AC_PLUGIN([exec],        [yes],                [Execution of external programs])
 AC_PLUGIN([hddtemp],     [yes],                [Query hddtempd])
 AC_PLUGIN([interface],   [$plugin_interface],  [Interface traffic statistics])
 AC_PLUGIN([iptables],    [$with_libiptc],      [IPTables rule counters])
+AC_PLUGIN([ipmi],        [$plugin_ipmi],       [IPMI sensor statistics])
 AC_PLUGIN([ipvs],        [$plugin_ipvs],       [IPVS connection statistics])
 AC_PLUGIN([irq],         [$plugin_irq],        [IRQ statistics])
 AC_PLUGIN([libvirt],     [$plugin_libvirt],    [Virtual machine statistics])
 AC_PLUGIN([load],        [$plugin_load],       [System load])
 AC_PLUGIN([logfile],     [yes],                [File logging plugin])
 AC_PLUGIN([mbmon],       [yes],                [Query mbmond])
@@ -2355,24 +2494,28 @@
 AC_PLUGIN([nfs],         [$plugin_nfs],        [NFS statistics])
 AC_PLUGIN([nginx],       [$with_libcurl],      [nginx statistics])
 AC_PLUGIN([ntpd],        [yes],                [NTPd statistics])
 AC_PLUGIN([nut],         [$with_libupsclient], [Network UPS tools statistics])
 AC_PLUGIN([perl],        [$plugin_perl],       [Embed a Perl interpreter])
 AC_PLUGIN([ping],        [$with_liboping],     [Network latency statistics])
+AC_PLUGIN([powerdns],    [yes],                [PowerDNS statistics])
 AC_PLUGIN([processes],   [$plugin_processes],  [Process statistics])
 AC_PLUGIN([rrdtool],     [$with_rrdtool],      [RRDTool output plugin])
 AC_PLUGIN([sensors],     [$with_lm_sensors],   [lm_sensors statistics])
 AC_PLUGIN([serial],      [$plugin_serial],     [serial port traffic])
 AC_PLUGIN([snmp],        [$with_libnetsnmp],   [SNMP querying plugin])
 AC_PLUGIN([swap],        [$plugin_swap],       [Swap usage statistics])
 AC_PLUGIN([syslog],      [$have_syslog],       [Syslog logging plugin])
+AC_PLUGIN([tail],        [yes],                [Parsing of logfiles])
 AC_PLUGIN([tape],        [$plugin_tape],       [Tape drive statistics])
 AC_PLUGIN([tcpconns],    [$plugin_tcpconns],   [TCP connection statistics])
+AC_PLUGIN([teamspeak2],  [yes],                [TeamSpeak2 server statistics])
 AC_PLUGIN([unixsock],    [yes],                [Unixsock communication plugin])
 AC_PLUGIN([users],       [$plugin_users],      [User statistics])
 AC_PLUGIN([uuid],        [yes],                [UUID as hostname plugin])
+AC_PLUGIN([vmem],        [$plugin_vmem],       [Virtual memory statistics])
 AC_PLUGIN([vserver],     [$plugin_vserver],    [Linux VServer statistics])
 AC_PLUGIN([wireless],    [$plugin_wireless],   [Wireless statistics])
 AC_PLUGIN([xmms],        [$with_libxmms],      [XMMS statistics])
 
 dnl ip_vs.h
 if test "x$ac_system" = "xLinux" \
@@ -2408,13 +2551,13 @@
 else
 	PERL_BINDINGS=""
 fi
 AC_SUBST(PERL_BINDINGS)
 AC_SUBST(PERL_BINDINGS_OPTIONS)
 
-AC_OUTPUT(Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile)
+AC_OUTPUT(Makefile src/Makefile src/collectd.conf src/libiptc/Makefile src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile)
 
 if test "x$with_rrdtool" = "xyes" \
 	&& test "x$librrd_threadsafe" != "xyes"
 then
 	with_rrdtool="yes (warning: librrd is not thread-safe)"
 fi
@@ -2422,12 +2565,17 @@
 if test "x$with_liboping" = "xyes" \
 	&& test "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
+if test "x$with_libiptc" = "xyes" -a "x$with_own_libiptc" = "xyes"
+then
+	with_libiptc="yes (shipped version)"
+fi
+
 if test "x$with_libperl" = "xyes"
 then
 	with_libperl="yes (version `$perl_interpreter -MConfig -e 'print $Config{version};'`)"
 else
 	enable_perl="no (needs libperl)"
 fi
@@ -2448,12 +2596,13 @@
     libkstat  . . . . . $with_kstat
     libkvm  . . . . . . $with_libkvm
     libmysql  . . . . . $with_libmysql
     libnetlink  . . . . $with_libnetlink
     libnetsnmp  . . . . $with_libnetsnmp
     liboconfig  . . . . $with_liboconfig
+    libopenipmi . . . . $with_libopenipmipthread
     liboping  . . . . . $with_liboping
     libpcap . . . . . . $with_libpcap
     libperl . . . . . . $with_libperl
     libpthread  . . . . $with_libpthread
     librrd  . . . . . . $with_rrdtool
     libsensors  . . . . $with_lm_sensors
@@ -2471,12 +2620,13 @@
     perl  . . . . . . . $with_perl_bindings
 
   Modules:
     apache  . . . . . . $enable_apache
     apcups  . . . . . . $enable_apcups
     apple_sensors . . . $enable_apple_sensors
+    ascent  . . . . . . $enable_ascent
     battery . . . . . . $enable_battery
     cpu . . . . . . . . $enable_cpu
     cpufreq . . . . . . $enable_cpufreq
     csv . . . . . . . . $enable_csv
     df  . . . . . . . . $enable_df
     disk  . . . . . . . $enable_disk
@@ -2484,12 +2634,13 @@
     email . . . . . . . $enable_email
     entropy . . . . . . $enable_entropy
     exec  . . . . . . . $enable_exec
     hddtemp . . . . . . $enable_hddtemp
     interface . . . . . $enable_interface
     iptables  . . . . . $enable_iptables
+    ipmi  . . . . . . . $enable_ipmi
     ipvs  . . . . . . . $enable_ipvs
     irq . . . . . . . . $enable_irq
     libvirt . . . . . . $enable_libvirt
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
@@ -2502,23 +2653,27 @@
     nfs . . . . . . . . $enable_nfs
     nginx . . . . . . . $enable_nginx
     ntpd  . . . . . . . $enable_ntpd
     nut . . . . . . . . $enable_nut
     perl  . . . . . . . $enable_perl
     ping  . . . . . . . $enable_ping
+    powerdns  . . . . . $enable_powerdns
     processes . . . . . $enable_processes
     rrdtool . . . . . . $enable_rrdtool
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
     snmp  . . . . . . . $enable_snmp
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
+    tail  . . . . . . . $enable_tail
     tape  . . . . . . . $enable_tape
     tcpconns  . . . . . $enable_tcpconns
+    teamspeak2  . . . . $enable_teamspeak2
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
     uuid  . . . . . . . $enable_uuid
+    vmem  . . . . . . . $enable_vmem
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
 EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/cussh.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/cussh.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/cussh.pl	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/cussh.pl	2008-05-06 22:14:06.000000000 +0800
@@ -1,10 +1,10 @@
 #!/usr/bin/perl
 #
 # collectd - contrib/cussh.pl
-# Copyright (C) 2007  Sebastian Harl
+# Copyright (C) 2007-2008  Sebastian Harl
 #
 # This program is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by the
 # Free Software Foundation; only version 2 of the License is applicable.
 #
 # This program is distributed in the hope that it will be useful, but
@@ -53,40 +53,48 @@
 use Collectd::Unixsock();
 
 { # main
 	my $path = $ARGV[0] || "/var/run/collectd-unixsock";
 	my $sock = Collectd::Unixsock->new($path);
 
+	my $cmds = {
+		PUTVAL  => \&putval,
+		GETVAL  => \&getval,
+		FLUSH   => \&flush,
+		LISTVAL => \&listval,
+	};
+
 	if (! $sock) {
 		print STDERR "Unable to connect to $path!\n";
 		exit 1;
 	}
 
-	print "cussh version 0.1, Copyright (C) 2007 Sebastian Harl\n"
+	print "cussh version 0.2, Copyright (C) 2007-2008 Sebastian Harl\n"
 		. "cussh comes with ABSOLUTELY NO WARRANTY. This is free software,\n"
 		. "and you are welcome to redistribute it under certain conditions.\n"
 		. "See the GNU General Public License 2 for more details.\n\n";
 
 	while (1) {
 		print "cussh> ";
 		my $line = <STDIN>;
 
-		last if ((! $line) || ($line =~ m/^quit$/i));
+		last if (! $line);
+
+		chomp $line;
 
-		my ($cmd) = $line =~ m/^(\w+)\s+/;
+		last if ($line =~ m/^quit$/i);
+
+		my ($cmd) = $line =~ m/^(\w+)\s*/;
 		$line = $';
 
 		next if (! $cmd);
 		$cmd = uc $cmd;
 
 		my $f = undef;
-		if ($cmd eq "PUTVAL") {
-			$f = \&putval;
-		}
-		elsif ($cmd eq "GETVAL") {
-			$f = \&getval;
+		if (defined $cmds->{$cmd}) {
+			$f = $cmds->{$cmd};
 		}
 		else {
 			print STDERR "ERROR: Unknown command $cmd!\n";
 			next;
 		}
 
@@ -102,69 +110,165 @@
 
 sub getid {
 	my $string = shift || return;
 
 	print $$string . $/;
 	my ($h, $p, $pi, $t, $ti) =
-		$$string =~ m#^([^/]+)/([^/-]+)(?:-([^/]+))?/([^/-]+)(?:-([^/]+))?\s*#;
+		$$string =~ m/^(\w+)\/(\w+)(?:-(\w+))?\/(\w+)(?:-(\w+))?\s*/;
 	$$string = $';
 
 	return if ((! $h) || (! $p) || (! $t));
 
 	my %id = ();
 
 	($id{'host'}, $id{'plugin'}, $id{'type'}) = ($h, $p, $t);
 
-	$id{'plugin_instance'} = $pi if defined ($pi);
-	$id{'type_instance'} = $ti if defined ($ti);
+	$id{'plugin_instance'} = $pi if ($pi);
+	$id{'type_instance'} = $ti if ($ti);
 	return \%id;
 }
 
+sub putid {
+	my $ident = shift || return;
+
+	my $string;
+
+	$string = $ident->{'host'} . "/" . $ident->{'plugin'};
+
+	if (defined $ident->{'plugin_instance'}) {
+		$string .= "-" . $ident->{'plugin_instance'};
+	}
+
+	$string .= "/" . $ident->{'type'};
+
+	if (defined $ident->{'type_instance'}) {
+		$string .= "-" . $ident->{'type_instance'};
+	}
+	return $string;
+}
+
 =head1 COMMANDS
 
 =over 4
 
 =item B<GETVAL> I<Identifier>
 
-=item B<PUTVAL> I<Identifier> I<Valuelist>
-
-These commands follow the exact same syntax as described in
-L<collectd-unixsock(5)>.
-
 =cut
 
 sub putval {
 	my $sock = shift || return;
 	my $line = shift || return;
 
 	my $id = getid(\$line);
 
-	return if (! $id);
+	if (! $id) {
+		print STDERR $sock->{'error'} . $/;
+		return;
+	}
 
 	my ($time, @values) = split m/:/, $line;
-	return $sock->putval(%$id, $time, \@values);
+	return $sock->putval(%$id, time => $time, values => \@values);
 }
 
+=item B<PUTVAL> I<Identifier> I<Valuelist>
+
+=cut
+
 sub getval {
 	my $sock = shift || return;
 	my $line = shift || return;
 
 	my $id = getid(\$line);
 
-	return if (! $id);
+	if (! $id) {
+		print STDERR $sock->{'error'} . $/;
+		return;
+	}
 
 	my $vals = $sock->getval(%$id);
 
-	return if (! $vals);
+	if (! $vals) {
+		print STDERR $sock->{'error'} . $/;
+		return;
+	}
 
 	foreach my $key (keys %$vals) {
 		print "\t$key: $vals->{$key}\n";
 	}
 	return 1;
 }
 
+=item B<FLUSH> [B<timeout>=I<$timeout>] [B<plugin>=I<$plugin>[ ...]]
+
+=cut
+
+sub flush {
+	my $sock = shift || return;
+	my $line = shift;
+
+	my $res;
+
+	if (! $line) {
+		$res = $sock->flush();
+	}
+	else {
+		my %args = ();
+
+		foreach my $i (split m/ /, $line) {
+			my ($option, $value) = $i =~ m/^([^=]+)=(.+)$/;
+			next if (! ($option && $value));
+
+			if ($option eq "plugin") {
+				push @{$args{"plugins"}}, $value;
+			}
+			elsif ($option eq "timeout") {
+				$args{"timeout"} = $value;
+			}
+			else {
+				print STDERR "Invalid option \"$option\".\n";
+				return;
+			}
+		}
+
+		$res = $sock->flush(%args);
+	}
+
+	if (! $res) {
+		print STDERR $sock->{'error'} . $/;
+		return;
+	}
+	return 1;
+}
+
+=item B<LISTVAL>
+
+=cut
+
+sub listval {
+	my $sock = shift || return;
+
+	my @res;
+
+	@res = $sock->listval();
+
+	if (! @res) {
+		print STDERR $sock->{'error'} . $/;
+		return;
+	}
+
+	foreach my $ident (@res) {
+		print $ident->{'time'} . " " . putid($ident) . $/;
+	}
+	return 1;
+}
+
+=back
+
+These commands follow the exact same syntax as described in
+L<collectd-unixsock(5)>.
+
 =head1 SEE ALSO
 
 L<collectd(1)>, L<collectd-unisock(5)>
 
 =head1 AUTHOR
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/examples/myplugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/examples/myplugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/examples/myplugin.c	2008-08-31 20:15:17.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/examples/myplugin.c	2008-05-06 20:30:12.000000000 +0800
@@ -56,18 +56,12 @@
 
 /*
  * data set definition:
  * - name of the data set
  * - number of data sources
  * - list of data sources
- *
- * NOTE: If you're defining a custom data-set, you have to make that known to
- * any servers as well. Else, the server is not able to store values using the
- * type defined by that data-set.
- * It is strongly recommended to use one of the types and data-sets
- * pre-defined in the types.db file.
  */
 static data_set_t ds =
 {
 	"myplugin", STATIC_ARRAY_SIZE (dsrc), dsrc
 };
 
@@ -102,14 +96,13 @@
 	strcpy (vl.plugin, "myplugin");
 	/* optionally set vl.plugin_instance and vl.type_instance to reasonable
 	 * values (default: "") */
 
 	/* dispatch the values to collectd which passes them on to all registered
 	 * write functions - the first argument is used to lookup the data set
-	 * definition (it is strongly recommended to use a type defined in the
-	 * types.db file) */
+	 * definition */
 	plugin_dispatch_values ("myplugin", &vl);
 
 	/* A return value != 0 indicates an error and the plugin will be skipped
 	 * for an increasing amount of time. */
     return 0;
 } /* static int my_read (void) */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/examples/MyPlugin.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/examples/MyPlugin.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/examples/MyPlugin.pm	2008-07-24 16:11:47.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/examples/MyPlugin.pm	2008-05-06 20:30:12.000000000 +0800
@@ -18,18 +18,13 @@
 use warnings;
 
 use Collectd qw( :all );
 
 # data set definition:
 # see section "DATA TYPES" in collectd-perl(5) for details
-#
-# NOTE: If you're defining a custom data-set, you have to make that known to
-# any servers as well. Else, the server is not able to store values using the
-# type defined by that data-set.
-# It is strongly recommended to use one of the types and data-sets pre-defined
-# in the types.db file.
+# (take a look at the types.db file for a large list of predefined data-sets)
 my $dataset =
 [
 	{
 		name => 'my_ds',
 		type => DS_TYPE_GAUGE,
 		min  => 0,
@@ -72,14 +67,13 @@
 	$vl->{'values'} = [ rand(65535) ];
 	$vl->{'plugin'} = 'myplugin';
 	# any other elements are optional
 
 	# dispatch the values to collectd which passes them on to all registered
 	# write functions - the first argument is used to lookup the data set
-	# definition (it is strongly recommended to use a type defined in the
-	# types.db file)
+	# definition
 	plugin_dispatch_values ('myplugin', $vl);
 
 	# A false return value indicates an error and the plugin will be skipped
 	# for an increasing amount of time.
 	return 1;
 } # my_read ()
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/migrate-3-4.px /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/migrate-3-4.px
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib/migrate-3-4.px	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/contrib/migrate-3-4.px	2008-05-06 22:14:06.000000000 +0800
@@ -167,28 +167,29 @@
 			my $src_ds = $src_dses->[$i];
 			$dest->{'type_instance'} = $type_instances->[$i];
 			$dest_filename = get_filename ($dest);
 			print "./rrd_filter.px -i '$InDir/$orig_filename' -m '${src_ds}:${dst_ds}' -o '$OutDir/$dest_filename'\n";
 		}
 	}
-	elsif (exists ($TypeRename{$orig->{'type'}}))
+	else
+	{
+		print "cp '$InDir/$orig_filename' '$OutDir/$dest_filename'\n";
+	}
+
+	if (exists ($TypeRename{$orig->{'type'}}))
 	{
 		my $src_dses = $TypeRename{$orig->{'type'}}->{'from'};
 		my $dst_dses = $TypeRename{$orig->{'type'}}->{'to'};
-		my @sed_prog = ();
 
+		print "rrdtool tune '$OutDir/$dest_filename'";
 		for (my $i = 0; $i < @$src_dses; $i++)
 		{
-			push (@sed_prog, 's/^' . $src_dses->[$i] . '$/' . $dst_dses->[$i] . '/g;');
+			print " --data-source-rename "
+				. $src_dses->[$i] . ':' . $dst_dses->[$i];
 		}
-
-		print "rrdtool dump '$InDir/$orig_filename' | sed -e '" . join (' ', @sed_prog) . "' | rrdtool restore - '$OutDir/$dest_filename'\n";
-	}
-	else
-	{
-		print "cp '$InDir/$orig_filename' '$OutDir/$dest_filename'\n";
+		print "\n";
 	}
 }
 
 exit (0);
 
 sub translate_file
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/contrib: snmp-probe-host.px
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/libltdl/acinclude.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/libltdl/acinclude.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/libltdl/acinclude.m4	2008-04-30 05:33:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/libltdl/acinclude.m4	2008-04-06 01:05:47.000000000 +0800
@@ -4,13 +4,13 @@
 ## Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 ##
 ## This file is free software; the Free Software Foundation gives
 ## unlimited permission to copy and/or distribute it, with or without
 ## modifications, as long as this notice is preserved.
 
-# serial 52 Debian 1.5.26-4 AC_PROG_LIBTOOL
+# serial 52 Debian 1.5.26-3 AC_PROG_LIBTOOL
 
 
 # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
 # -----------------------------------------------------------
 # If this macro is not defined by Autoconf, define it here.
 m4_ifdef([AC_PROVIDE_IFELSE],
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/libltdl/ltmain.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/libltdl/ltmain.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/libltdl/ltmain.sh	2008-04-30 05:33:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/libltdl/ltmain.sh	2008-04-06 01:05:47.000000000 +0800
@@ -40,13 +40,13 @@
 # Global variables:
 EXIT_SUCCESS=0
 EXIT_FAILURE=1
 
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION="1.5.26 Debian 1.5.26-4"
+VERSION="1.5.26 Debian 1.5.26-3"
 TIMESTAMP=" (1.1220.2.493 2008/02/01 16:58:18)"
 
 # Be Bourne compatible (taken from Autoconf:_AS_BOURNE_COMPATIBLE).
 if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
   emulate sh
   NULLCMD=:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/ltmain.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/ltmain.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/ltmain.sh	2008-04-30 05:33:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/ltmain.sh	2008-04-06 01:05:47.000000000 +0800
@@ -40,13 +40,13 @@
 # Global variables:
 EXIT_SUCCESS=0
 EXIT_FAILURE=1
 
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION="1.5.26 Debian 1.5.26-4"
+VERSION="1.5.26 Debian 1.5.26-3"
 TIMESTAMP=" (1.1220.2.493 2008/02/01 16:58:18)"
 
 # Be Bourne compatible (taken from Autoconf:_AS_BOURNE_COMPATIBLE).
 if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
   emulate sh
   NULLCMD=:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/Makefile.in	2008-08-31 21:12:57.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/Makefile.in	2008-05-07 03:14:48.000000000 +0800
@@ -98,12 +98,14 @@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
 BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
 BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_OPENIPMI_CFLAGS = @BUILD_WITH_OPENIPMI_CFLAGS@
+BUILD_WITH_OPENIPMI_LIBS = @BUILD_WITH_OPENIPMI_LIBS@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
@@ -125,12 +127,13 @@
 GREP = @GREP@
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+KERNEL_DIR = @KERNEL_DIR@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
 LIBLTDL = @LIBLTDL@
 LIBOBJS = @LIBOBJS@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/README	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/README	2008-05-06 22:14:05.000000000 +0800
@@ -23,12 +23,15 @@
       APC UPS Daemon: UPS charge, load, input/output/battery voltage, etc.
 
     - apple_sensors
       Sensors in Macs running Mac OS X / Darwin: Temperature, fanspeed and
       voltage sensors.
 
+    - ascent
+      Statistics about Ascent, a free server for the game `World of Warcraft'.
+
     - battery
       Batterycharge, -current and voltage of ACPI and PMU based laptop
       batteries.
 
     - cpu
       CPU utilization: Time spent in the system, user, nice, idle, and related
@@ -153,21 +156,29 @@
       network devices such as switches, routers, thermometers, rack monitoring
       servers, etc. See collectd-snmp(5).
 
     - swap
       Pages swapped out onto harddisk or whatever is called `swap' by the OS..
 
+    - tail
+      Follows (tails) logfiles, parses them by lines and submits matched
+      values.
+
     - tape
       Bytes and operations read and written on tape devices. Solaris only.
 
     - tcpconns
       Number of TCP connections to specific local and remote ports.
 
     - users
       Users currently logged in.
 
+    - vmem
+      Virtual memory statistics, e. g. the number of page-ins/-outs or the
+      number of pagefaults.
+
     - vserver
       System resources used by Linux VServers.
       See <http://linux-vserver.org/>.
 
     - wireless
       Link quality of wireless cards. Linux only.
@@ -302,13 +313,13 @@
     Since gathering some statistics is slow (network connections, slow devices,
     etc) the collectd is parallelized. The POSIX threads interface is being
     used and should be found in various implementations for hopefully all
     platforms.
 
   * libcurl (optional)
-    If you want to use the `apache' and/or `nginx' plugins.
+    If you want to use the `apache', `ascent', or `nginx' plugin.
 
   * libhal (optional)
     If present, the uuid plugin will check for UUID from HAL.
 
   * libiptc (optional)
     For querying iptables counters.
@@ -360,13 +371,13 @@
     particular.
 
   * libvirt (optional)
     Collect statistics from virtual machines.
 
   * libxml2 (optional)
-    Parse XML data provided by libvirt.
+    Parse XML data. This is needed for the `ascent' and `libvirt' plugins.
 
 
 Configuring / Compiling / Installing
 ------------------------------------
 
   To configure, build and install collectd with the default settings, run
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/apache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/apache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/apache.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/apache.c	2008-05-06 22:14:06.000000000 +0800
@@ -26,16 +26,18 @@
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
 #include <curl/curl.h>
 
-static char *url    = NULL;
-static char *user   = NULL;
-static char *pass   = NULL;
-static char *cacert = NULL;
+static char *url         = NULL;
+static char *user        = NULL;
+static char *pass        = NULL;
+static char *verify_peer = NULL;
+static char *verify_host = NULL;
+static char *cacert      = NULL;
 
 static CURL *curl = NULL;
 
 static char  *apache_buffer = NULL;
 static size_t apache_buffer_size = 0;
 static size_t apache_buffer_fill = 0;
@@ -43,12 +45,14 @@
 
 static const char *config_keys[] =
 {
 	"URL",
 	"User",
 	"Password",
+	"VerifyPeer",
+	"VerifyHost",
 	"CACert"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static size_t apache_curl_callback (void *buf, size_t size, size_t nmemb,
 		void *stream)
@@ -99,12 +103,16 @@
 	if (strcasecmp (key, "url") == 0)
 		return (config_set (&url, value));
 	else if (strcasecmp (key, "user") == 0)
 		return (config_set (&user, value));
 	else if (strcasecmp (key, "password") == 0)
 		return (config_set (&pass, value));
+	else if (strcasecmp (key, "verifypeer") == 0)
+		return (config_set (&verify_peer, value));
+	else if (strcasecmp (key, "verifyhost") == 0)
+		return (config_set (&verify_host, value));
 	else if (strcasecmp (key, "cacert") == 0)
 		return (config_set (&cacert, value));
 	else
 		return (-1);
 }
 
@@ -151,12 +159,30 @@
 
 		curl_easy_setopt (curl, CURLOPT_USERPWD, credentials);
 	}
 
 	curl_easy_setopt (curl, CURLOPT_URL, url);
 
+	if ((verify_peer == NULL) || (strcmp (verify_peer, "true") == 0))
+	{
+		curl_easy_setopt (curl, CURLOPT_SSL_VERIFYPEER, 1);
+	}
+	else
+	{
+		curl_easy_setopt (curl, CURLOPT_SSL_VERIFYPEER, 0);
+	}
+
+	if ((verify_host == NULL) || (strcmp (verify_host, "true") == 0))
+	{
+		curl_easy_setopt (curl, CURLOPT_SSL_VERIFYHOST, 2);
+	}
+	else
+	{
+		curl_easy_setopt (curl, CURLOPT_SSL_VERIFYHOST, 0);
+	}
+
 	if (cacert != NULL)
 	{
 		curl_easy_setopt (curl, CURLOPT_CAINFO, cacert);
 	}
 
 	return (0);
@@ -170,15 +196,15 @@
 
 	values[0].counter = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "apache", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "apache");
+	strcpy (vl.plugin_instance, "");
 
 	if (type_instance != NULL)
 	{
 		strncpy (vl.type_instance, type_instance,
 				sizeof (vl.type_instance));
 		vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
@@ -195,15 +221,15 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "apache", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "apache");
+	strcpy (vl.plugin_instance, "");
 
 	if (type_instance != NULL)
 	{
 		strncpy (vl.type_instance, type_instance,
 				sizeof (vl.type_instance));
 		vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/apcups.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/apcups.c	2008-05-06 20:30:12.000000000 +0800
@@ -370,15 +370,15 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "apcups", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "apcups");
+	strcpy (vl.plugin_instance, "");
 	strncpy (vl.type_instance, type_inst, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 }
 
 static void apc_submit (struct apc_detail_s *apcups_detail)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/apple_sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/apple_sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/apple_sensors.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/apple_sensors.c	2008-05-06 20:26:55.000000000 +0800
@@ -85,16 +85,16 @@
 
 	values[0].gauge = val;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "apple_sensors", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
-	sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "apple_sensors");
+	strcpy (vl.plugin_instance, "");
+	strcpy (vl.type_instance, type_instance);
 
 	plugin_dispatch_values (type, &vl);
 }
 
 static int as_read (void)
 {
@@ -189,33 +189,33 @@
 			continue;
 
 		/* Found e.g. in the 1.5GHz PowerBooks */
 		if (strcmp (type, "temperature") == 0)
 		{
 			value_double = ((double) value_int) / 65536.0;
-			sstrncpy (type, "temperature", sizeof (type));
+			strcpy (type, "temperature");
 		}
 		else if (strcmp (type, "temp") == 0)
 		{
 			value_double = ((double) value_int) / 10.0;
-			sstrncpy (type, "temperature", sizeof (type));
+			strcpy (type, "temperature");
 		}
 		else if (strcmp (type, "fanspeed") == 0)
 		{
 			value_double = ((double) value_int) / 65536.0;
-			sstrncpy (type, "fanspeed", sizeof (type));
+			strcpy (type, "fanspeed");
 		}
 		else if (strcmp (type, "voltage") == 0)
 		{
 			/* Leave this to the battery plugin. */
 			continue;
 		}
 		else if (strcmp (type, "adc") == 0)
 		{
 			value_double = ((double) value_int) / 10.0;
-			sstrncpy (type, "fanspeed", sizeof (type));
+			strcpy (type, "fanspeed");
 		}
 		else
 		{
 			DEBUG ("apple_sensors: Read unknown sensor type: %s",
 					type);
 			value_double = (double) value_int;
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: ascent.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/battery.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/battery.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/battery.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/battery.c	2008-05-06 20:30:12.000000000 +0800
@@ -95,15 +95,15 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "battery", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "battery");
+	strcpy (vl.plugin_instance, plugin_instance);
 
 	plugin_dispatch_values (type, &vl);
 } /* void battery_submit */
 
 #if HAVE_IOKIT_PS_IOPOWERSOURCES_H || HAVE_IOKIT_IOKITLIB_H
 double dict_get_double (CFDictionaryRef dict, char *key_string)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.1	2008-08-31 21:31:33.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.1	2008-05-07 03:19:39.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2008-08-31" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD 1 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
@@ -149,27 +142,27 @@
 apart from loading, querying and submitting to plugins. For a description of
 available plugins please see \*(L"\s-1PLUGINS\s0\*(R" below.
 .SH "OPTIONS"
 .IX Header "OPTIONS"
 Most of collectd's configuration is done using using a configfile. See
 \&\fIcollectd.conf\fR\|(5) for an in-depth description of all options.
-.IP "\fB\-C\fR \fI<config\-file>\fR" 4
+.IP "\fB\-C\fR \fI<config-file>\fR" 4
 .IX Item "-C <config-file>"
 Specify an alternative config file. This is the place to go when you wish to
 change \fBcollectd\fR's behavior. The path may be relative to the current working
 directory.
 .IP "\fB\-t\fR" 4
 .IX Item "-t"
 Test the configuration only. The program immediately exits after parsing the
 config file. A return code not equal to zero indicates an error.
-.IP "\fB\-P\fR \fI<pid\-file>\fR" 4
+.IP "\fB\-P\fR \fI<pid-file>\fR" 4
 .IX Item "-P <pid-file>"
 Specify an alternative pid file. This overwrites any settings in the config 
 file. This is thought for init-scripts that require the PID-file in a certain
 directory to work correctly. For everyday-usage use the \fBPIDFile\fR
-config-option.
+config\-option.
 .IP "\fB\-f\fR" 4
 .IX Item "-f"
 Don't fork to the background. \fIcollectd\fR will also \fBnot\fR close standard file
 descriptors, detach from the session nor write a pid file. This is mainly
 thought for 'supervising' init replacements such as \fIrunit\fR.
 .IP "\fB\-h\fR" 4
@@ -188,13 +181,13 @@
 of whatever they where designed to work with and submit these values back to
 the daemon, i. e. they \*(L"dispatch\*(R" the values. As an example, the \f(CW\*(C`cpu plugin\*(C'\fR
 reads the current cpu-counters of time spent in the various modes (user,
 system, nice, ...) and dispatches these counters to the daemon.
 .IP "\(bu" 4
 Output plugins get the dispatched values from the daemon and does something
-with them. Common applications are writing to RRD-files, CSV-files or sending
+with them. Common applications are writing to RRD\-files, CSV-files or sending
 the data over a network link to a remote box.
 .PP
 Of course not all plugins fit neatly into one of the two above categories. The
 \&\f(CW\*(C`network plugin\*(C'\fR, for example, is able to send (i.\ e. \*(L"write\*(R") \fBand\fR
 receive (i.\ e. \*(L"dispatch\*(R") values. Also, it opens a socket upon
 initialization and dispatches the values when it receives them and isn't
@@ -212,12 +205,24 @@
 \&\fIcollectd.conf\fR\|(5) for more detailed information about threshold checking.
 .PP
 Please note that some plugins, that provide other means of communicating with
 the daemon, have manpages of their own to describe their functionality in more
 detail. In particular those are \fIcollectd\-email\fR\|(5), \fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5), \fIcollectd\-snmp\fR\|(5), and \fIcollectd\-unixsock\fR\|(5)
+.SH "SIGNALS"
+.IX Header "SIGNALS"
+\&\fBcollectd\fR accepts the following signals:
+.IP "\fB\s-1SIGINT\s0\fR, \fB\s-1SIGTERM\s0\fR" 4
+.IX Item "SIGINT, SIGTERM"
+These signals cause \fBcollectd\fR to shut down all plugins and terminate.
+.IP "\fB\s-1SIGUSR1\s0\fR" 4
+.IX Item "SIGUSR1"
+This signal causes \fBcollectd\fR to signal all plugins to flush data from
+internal caches. E.\ g. the \f(CW\*(C`rrdtool plugin\*(C'\fR will write all pending data
+to the \s-1RRD\s0 files. This is the same as using the \f(CW\*(C`FLUSH \-1\*(C'\fR command of the
+\&\f(CW\*(C`unixsock plugin\*(C'\fR.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-email\fR\|(5),
 \&\fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.c	2008-05-06 22:14:06.000000000 +0800
@@ -24,12 +24,14 @@
 #include "common.h"
 
 #include <sys/types.h>
 #include <sys/socket.h>
 #include <netdb.h>
 
+#include <pthread.h>
+
 #include "plugin.h"
 #include "configfile.h"
 
 #if HAVE_STATGRAB_H
 # include <statgrab.h>
 #endif
@@ -42,22 +44,43 @@
 #if HAVE_LIBKSTAT
 kstat_ctl_t *kc;
 #endif /* HAVE_LIBKSTAT */
 
 static int loop = 0;
 
-static void sigIntHandler (int signal)
+static void *do_flush (void *arg)
+{
+	INFO ("Flushing all data.");
+	plugin_flush_all (-1);
+	INFO ("Finished flushing all data.");
+	pthread_exit (NULL);
+	return NULL;
+}
+
+static void sig_int_handler (int signal)
 {
 	loop++;
 }
 
-static void sigTermHandler (int signal)
+static void sig_term_handler (int signal)
 {
 	loop++;
 }
 
+static void sig_usr1_handler (int signal)
+{
+	pthread_t      thread;
+	pthread_attr_t attr;
+
+	/* flushing the data might take a while,
+	 * so it should be done asynchronously */
+	pthread_attr_init (&attr);
+	pthread_attr_setdetachstate (&attr, PTHREAD_CREATE_DETACHED);
+	pthread_create (&thread, &attr, do_flush, NULL);
+}
+
 static int init_hostname (void)
 {
 	const char *str;
 
 	struct addrinfo  ai_hints;
 	struct addrinfo *ai_list;
@@ -228,17 +251,19 @@
 	printf ("Usage: "PACKAGE" [OPTIONS]\n\n"
 			
 			"Available options:\n"
 			"  General:\n"
 			"    -C <file>       Configuration file.\n"
 			"                    Default: "CONFIGFILE"\n"
+			"    -t              Test config and exit.\n"
 			"    -P <file>       PID-file.\n"
 			"                    Default: "PIDFILE"\n"
 #if COLLECT_DAEMON
 			"    -f              Don't fork to the background.\n"
 #endif
+			"    -h              Display help (this message)\n"
 			"\nBuiltin defaults:\n"
 			"  Config-File       "CONFIGFILE"\n"
 			"  PID-File          "PIDFILE"\n"
 			"  Data-Directory    "PKGLOCALSTATEDIR"\n"
 			"\n"PACKAGE" "VERSION", http://collectd.org/\n"
 			"by Florian octo Forster <octo@verplant.org>\n"
@@ -366,19 +391,21 @@
 	return (unlink (file));
 } /* static int pidfile_remove (const char *file) */
 #endif /* COLLECT_DAEMON */
 
 int main (int argc, char **argv)
 {
-	struct sigaction sigIntAction;
-	struct sigaction sigTermAction;
+	struct sigaction sig_int_action;
+	struct sigaction sig_term_action;
+	struct sigaction sig_usr1_action;
+	struct sigaction sig_pipe_action;
 	char *configfile = CONFIGFILE;
 	int test_config  = 0;
 	const char *basedir;
 #if COLLECT_DAEMON
-	struct sigaction sigChldAction;
+	struct sigaction sig_chld_action;
 	pid_t pid;
 	int daemonize    = 1;
 #endif
 
 	/* read options */
 	while (1)
@@ -457,15 +484,15 @@
 		return (0);
 
 #if COLLECT_DAEMON
 	/*
 	 * fork off child
 	 */
-	memset (&sigChldAction, '\0', sizeof (sigChldAction));
-	sigChldAction.sa_handler = SIG_IGN;
-	sigaction (SIGCHLD, &sigChldAction, NULL);
+	memset (&sig_chld_action, '\0', sizeof (sig_chld_action));
+	sig_chld_action.sa_handler = SIG_IGN;
+	sigaction (SIGCHLD, &sig_chld_action, NULL);
 
 	if (daemonize)
 	{
 		if ((pid = fork ()) == -1)
 		{
 			/* error */
@@ -509,22 +536,45 @@
 			ERROR ("Error: Could not connect `STDERR' to `/dev/null'");
 			return (1);
 		}
 	} /* if (daemonize) */
 #endif /* COLLECT_DAEMON */
 
+	memset (&sig_pipe_action, '\0', sizeof (sig_pipe_action));
+	sig_pipe_action.sa_handler = SIG_IGN;
+	sigaction (SIGPIPE, &sig_pipe_action, NULL);
+
 	/*
 	 * install signal handlers
 	 */
-	memset (&sigIntAction, '\0', sizeof (sigIntAction));
-	sigIntAction.sa_handler = sigIntHandler;
-	sigaction (SIGINT, &sigIntAction, NULL);
-
-	memset (&sigTermAction, '\0', sizeof (sigTermAction));
-	sigTermAction.sa_handler = sigTermHandler;
-	sigaction (SIGTERM, &sigTermAction, NULL);
+	memset (&sig_int_action, '\0', sizeof (sig_int_action));
+	sig_int_action.sa_handler = sig_int_handler;
+	if (0 != sigaction (SIGINT, &sig_int_action, NULL)) {
+		char errbuf[1024];
+		ERROR ("Error: Failed to install a signal handler for signal INT: %s",
+				sstrerror (errno, errbuf, sizeof (errbuf)));
+		return (1);
+	}
+
+	memset (&sig_term_action, '\0', sizeof (sig_term_action));
+	sig_term_action.sa_handler = sig_term_handler;
+	if (0 != sigaction (SIGTERM, &sig_term_action, NULL)) {
+		char errbuf[1024];
+		ERROR ("Error: Failed to install a signal handler for signal TERM: %s",
+				sstrerror (errno, errbuf, sizeof (errbuf)));
+		return (1);
+	}
+
+	memset (&sig_usr1_action, '\0', sizeof (sig_usr1_action));
+	sig_usr1_action.sa_handler = sig_usr1_handler;
+	if (0 != sigaction (SIGUSR1, &sig_usr1_action, NULL)) {
+		char errbuf[1024];
+		ERROR ("Error: Failed to install a signal handler for signal USR1: %s",
+				sstrerror (errno, errbuf, sizeof (errbuf)));
+		return (1);
+	}
 
 	/*
 	 * run the actual loops
 	 */
 	do_init ();
 	do_loop ();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.conf.5	2008-08-31 21:31:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.conf.5	2008-05-07 03:19:40.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,30 +126,30 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2008-08-31" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD.CONF 5 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
 \&  BaseDir "/path/to/data/"
 \&  PIDFile "/path/to/pidfile/collectd.pid"
 \&  Server  "123.123.123.123" 12345
-\&
+.Ve
+.PP
+.Vb 3
 \&  LoadPlugin cpu
 \&  LoadPlugin load
 \&  LoadPlugin ping
-\&
+.Ve
+.PP
+.Vb 4
 \&  <Plugin ping>
 \&    Host "example.org"
 \&    Host "provider.net"
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
@@ -162,13 +159,13 @@
 controls which plugins to load. These plugins ultimately define collectd's
 behavior.
 .PP
 The syntax of this config file is similar to the config file of the famous
 \&\fBApache Webserver\fR. Each line contains either a key-value-pair or a
 section-start or \-end. Empty lines and everything after the hash-symbol `#' is
-ignored. Values are either string, enclosed in double-quotes,
+ignored. Values are either string, enclosed in double\-quotes,
 (floating\-point\-)numbers or a boolean expression, i.\ e. either \fBtrue\fR or
 \&\fBfalse\fR. String containing of only alphanumeric characters and underscores do
 not need to be quoted.
 .PP
 The configuration is read and processed in order, i.\ e. from top to
 bottom. So the plugins are loaded in the order listed in this config file. It
@@ -229,13 +226,13 @@
 values lead to a higher system load produced by collectd, while higher values
 lead to more coarse statistics.
 .IP "\fBReadThreads\fR \fINum\fR" 4
 .IX Item "ReadThreads Num"
 Number of threads to start for reading plugins. The default value is \fB5\fR, but
 you may want to increase this if you have more than five plugins that take a
-long time to read. Mostly those are plugin that do network-IO. Setting this to
+long time to read. Mostly those are plugin that do network\-IO. Setting this to
 a value higher than the number of plugins you've loaded is totally useless.
 .IP "\fBHostname\fR \fIName\fR" 4
 .IX Item "Hostname Name"
 Sets the hostname that identifies a host. If you omit this setting, the
 hostname will be determinded using the \fIgethostname\fR\|(2) system call.
 .IP "\fBFQDNLookup\fR \fBtrue|false\fR" 4
@@ -291,12 +288,23 @@
 .IP "\fBUser\fR \fIUsername\fR" 4
 .IX Item "User Username"
 Optional user name needed for authentication.
 .IP "\fBPassword\fR \fIPassword\fR" 4
 .IX Item "Password Password"
 Optional password needed for authentication.
+.IP "\fBVerifyPeer\fR \fBtrue|false\fR" 4
+.IX Item "VerifyPeer true|false"
+Enable or disable peer \s-1SSL\s0 certificate verification. See
+<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
+.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
+.IX Item "VerifyHost true|false"
+Enable or disable peer host name verification. If enabled, the plugin checks
+if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
+certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
+identity check fails, the connection is aborted. Obviously, only works when
+connecting to a \s-1SSL\s0 enabled server. Enabled by default.
 .IP "\fBCACert\fR \fIFile\fR" 4
 .IX Item "CACert File"
 File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
 possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
 and are checked by default depends on the distribution you use.
 .ie n .Sh "Plugin ""apcups"""
@@ -307,12 +315,34 @@
 Hostname of the host running \fBapcupsd\fR. Defaults to \fBlocalhost\fR. Please note
 that IPv6 support has been disabled unless someone can confirm or decline that
 \&\fBapcupsd\fR can handle it.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 TCP-Port to connect to. Defaults to \fB3551\fR.
+.ie n .Sh "Plugin ""ascent"""
+.el .Sh "Plugin \f(CWascent\fP"
+.IX Subsection "Plugin ascent"
+This plugin collects information about an Ascent server, a free server for the
+\&\*(L"World of Warcraft\*(R" game. This plugin gathers the information by fetching the
+\&\s-1XML\s0 status page using \f(CW\*(C`libcurl\*(C'\fR and parses it using \f(CW\*(C`libxml2\*(C'\fR.
+.PP
+The configuration options are the same as for the \f(CW\*(C`apache\*(C'\fR plugin above:
+.IP "\fB\s-1URL\s0\fR \fIhttp://localhost/ascent/status/\fR" 4
+.IX Item "URL http://localhost/ascent/status/"
+Sets the \s-1URL\s0 of the \s-1XML\s0 status output.
+.IP "\fBUser\fR \fIUsername\fR" 4
+.IX Item "User Username"
+Optional user name needed for authentication.
+.IP "\fBPassword\fR \fIPassword\fR" 4
+.IX Item "Password Password"
+Optional password needed for authentication.
+.IP "\fBCACert\fR \fIFile\fR" 4
+.IX Item "CACert File"
+File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
+possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
+and are checked by default depends on the distribution you use.
 .ie n .Sh "Plugin ""cpufreq"""
 .el .Sh "Plugin \f(CWcpufreq\fP"
 .IX Subsection "Plugin cpufreq"
 This plugin doesn't have any options. It reads
 \&\fI/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq\fR (for the first \s-1CPU\s0
 installed) to get the current \s-1CPU\s0 frequency. If this file does not exist make
@@ -345,12 +375,42 @@
 .IP "\fBIgnoreSelected\fR \fItrue\fR|\fIfalse\fR" 4
 .IX Item "IgnoreSelected true|false"
 Invert the selection: If set to true, all partitions \fBexcept\fR the ones that
 match any one of the criteria are collected. By default only selected
 partitions are collected if a selection is made. If no selection is configured
 at all, \fBall\fR partitions are selected.
+.ie n .Sh "Plugin ""disk"""
+.el .Sh "Plugin \f(CWdisk\fP"
+.IX Subsection "Plugin disk"
+The \f(CW\*(C`disk\*(C'\fR plugin collects information about the usage of physical disks and
+logical disks (partitions). Values collected are the number of octets written
+to and read from a disk or partition, the number of read/write operations
+issued to the disk and a rather complex \*(L"time\*(R" it took for these commands to be
+issued.
+.PP
+Using the following two options you can ignore some disks or configure the
+collection only of specific disks.
+.IP "\fBDisk\fR \fIName\fR" 4
+.IX Item "Disk Name"
+Select the disk \fIName\fR. Whether it is collected or ignored depends on the
+\&\fBIgnoreSelected\fR setting, see below. As with other plugins that use the
+daemon's ignorelist functionality, a string that starts and ends with a slash
+is interpreted as a regular expression. Examples:
+.Sp
+.Vb 2
+\&  Disk "sdd"
+\&  Disk "/hda[34]/"
+.Ve
+.IP "\fBIgnoreSelected\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "IgnoreSelected true|false"
+Sets whether selected disks, i.\ e. the ones matches by any of the \fBDisk\fR
+statements, are ignored or if all other disks are ignored. The behavior
+(hopefully) is intuitive: If no \fBDisk\fR option is configured, all disks are
+collected. If at least one \fBDisk\fR option is given and no \fBIgnoreSelected\fR or
+set to \fBfalse\fR, \fBonly\fR matching disks will be collected. If \fBIgnoreSelected\fR
+is set to \fBtrue\fR, all disks are collected \fBexcept\fR the ones matched.
 .ie n .Sh "Plugin ""dns"""
 .el .Sh "Plugin \f(CWdns\fP"
 .IX Subsection "Plugin dns"
 .IP "\fBInterface\fR \fIInterface\fR" 4
 .IX Item "Interface Interface"
 The dns plugin uses \fBlibpcap\fR to capture dns traffic and analyses it. This
@@ -455,18 +515,18 @@
 .ie n .Sh "Plugin ""iptables"""
 .el .Sh "Plugin \f(CWiptables\fP"
 .IX Subsection "Plugin iptables"
 .IP "\fBChain\fR \fITable\fR \fIChain\fR [\fIComment|Number\fR [\fIName\fR]]" 4
 .IX Item "Chain Table Chain [Comment|Number [Name]]"
 Select the rules to count. If only \fITable\fR and \fIChain\fR are given, this plugin
-will collect the counters of all rules which have a comment-match. The comment
-is then used as type-instance.
+will collect the counters of all rules which have a comment\-match. The comment
+is then used as type\-instance.
 .Sp
 If \fIComment\fR or \fINumber\fR is given, only the rule with the matching comment or
 the \fIn\fRth rule will be collected. Again, the comment (or the number) will be
-used as the type-instance.
+used as the type\-instance.
 .Sp
 If \fIName\fR is supplied, it will be used as the type-instance instead of the
 comment or the number.
 .ie n .Sh "Plugin ""irq"""
 .el .Sh "Plugin \f(CWirq\fP"
 .IX Subsection "Plugin irq"
@@ -560,23 +620,23 @@
 between, thus \fI\*(L"foo:1234\-1234\-1234\-1234\*(R"\fR).
 .ie n .Sh "Plugin ""logfile"""
 .el .Sh "Plugin \f(CWlogfile\fP"
 .IX Subsection "Plugin logfile"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
-Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
+Sets the log\-level. If, for example, set to \fBnotice\fR, then all events with
 severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be written to the logfile.
 .Sp
 Please note that \fBdebug\fR is only available if collectd has been compiled with
 debugging support.
 .IP "\fBFile\fR \fIFile\fR" 4
 .IX Item "File File"
 Sets the file to write log messages to. The special strings \fBstdout\fR and
 \&\fBstderr\fR can be used to write to the standard output and standard error
 channels, respectively. This, of course, only makes much sense when collectd is
-running in foreground\- or non-daemon-mode.
+running in foreground\- or non\-daemon\-mode.
 .IP "\fBTimestamp\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "Timestamp true|false"
 Prefix all lines printed by the current time. Defaults to \fBtrue\fR.
 .ie n .Sh "Plugin ""mbmon"""
 .el .Sh "Plugin \f(CWmbmon\fP"
 .IX Subsection "Plugin mbmon"
@@ -610,13 +670,13 @@
 TCP-Port to connect to. Defaults to \fB11211\fR.
 .ie n .Sh "Plugin ""mysql"""
 .el .Sh "Plugin \f(CWmysql\fP"
 .IX Subsection "Plugin mysql"
 The \f(CW\*(C`mysql plugin\*(C'\fR requires \fBmysqlclient\fR to be installed. It connects to the
 database when started and keeps the connection up as long as possible. When the
-connection is interrupted for whatever reason it will try to re-connect. The
+connection is interrupted for whatever reason it will try to re\-connect. The
 plugin will complaint loudly in case anything goes wrong.
 .PP
 This plugin issues \f(CW\*(C`SHOW STATUS\*(C'\fR and evaluates \f(CW\*(C`Bytes_{received,sent}\*(C'\fR,
 \&\f(CW\*(C`Com_*\*(C'\fR and \f(CW\*(C`Handler_*\*(C'\fR which correspond to \fImysql_octets.rrd\fR,
 \&\fImysql_commands\-*.rrd\fR and \fImysql_handler\-*.rrd\fR. Also, the values of
 \&\f(CW\*(C`Qcache_*\*(C'\fR are put in \fImysql_qcache.rrd\fR and values of \f(CW\*(C`Threads_*\*(C'\fR are put
@@ -784,12 +844,23 @@
 .IP "\fBUser\fR \fIUsername\fR" 4
 .IX Item "User Username"
 Optional user name needed for authentication.
 .IP "\fBPassword\fR \fIPassword\fR" 4
 .IX Item "Password Password"
 Optional password needed for authentication.
+.IP "\fBVerifyPeer\fR \fBtrue|false\fR" 4
+.IX Item "VerifyPeer true|false"
+Enable or disable peer \s-1SSL\s0 certificate verification. See
+<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
+.IP "\fBVerifyHost\fR \fBtrue|false\fR" 4
+.IX Item "VerifyHost true|false"
+Enable or disable peer host name verification. If enabled, the plugin checks
+if the \f(CW\*(C`Common Name\*(C'\fR or a \f(CW\*(C`Subject Alternate Name\*(C'\fR field of the \s-1SSL\s0
+certificate matches the host name provided by the \fB\s-1URL\s0\fR option. If this
+identity check fails, the connection is aborted. Obviously, only works when
+connecting to a \s-1SSL\s0 enabled server. Enabled by default.
 .IP "\fBCACert\fR \fIFile\fR" 4
 .IX Item "CACert File"
 File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
 possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
 and are checked by default depends on the distribution you use.
 .ie n .Sh "Plugin ""ntpd"""
@@ -826,12 +897,143 @@
 .IX Item "Host IP-address"
 Host to ping periodically. This option may be repeated several times to ping
 multiple hosts.
 .IP "\fB\s-1TTL\s0\fR \fI0\-255\fR" 4
 .IX Item "TTL 0-255"
 Sets the Time-To-Live of generated \s-1ICMP\s0 packets.
+.ie n .Sh "Plugin ""powerdns"""
+.el .Sh "Plugin \f(CWpowerdns\fP"
+.IX Subsection "Plugin powerdns"
+The \f(CW\*(C`powerdns\*(C'\fR plugin queries statistics from an authoritative PowerDNS
+nameserver and/or a PowerDNS recursor. Since both offer a wide variety of
+values, many of which are probably meaningless to most users, but may be useful
+for some. So you may chose which values to collect, but if you don't, some
+reasonable defaults will be collected.
+.PP
+.Vb 13
+\&  <Plugin "powerdns">
+\&    <Server "server_name">
+\&      Collect "latency"
+\&      Collect "udp\-answers" "udp\-queries"
+\&      Socket "/var/run/pdns.controlsocket"
+\&    </Server>
+\&    <Recursor "recursor_name">
+\&      Collect "questions"
+\&      Collect "cache\-hits" "cache\-misses"
+\&      Socket "/var/run/pdns_recursor.controlsocket"
+\&    </Recursor>
+\&    LocalSocket "/opt/collectd/var/run/collectd\-powerdns"
+\&  </Plugin>
+.Ve
+.IP "\fBServer\fR and \fBRecursor\fR block" 4
+.IX Item "Server and Recursor block"
+The \fBServer\fR block defines one authoritative server to query, the \fBRecursor\fR
+does the same for an recursing server. The possible options in both blocks are
+the same, though. The argument defines a name for the server\ / recursor
+and is required.
+.RS 4
+.IP "\fBCollect\fR \fIField\fR" 4
+.IX Item "Collect Field"
+Using the \fBCollect\fR statement you can select which values to collect. Here,
+you specify the name of the values as used by the PowerDNS servers, e.\ g.
+\&\f(CW\*(C`dlg\-only\-drops\*(C'\fR, \f(CW\*(C`answers10\-100\*(C'\fR.
+.Sp
+The method of getting the values differs for \fBServer\fR and \fBRecursor\fR blocks:
+When querying the server a \f(CW\*(C`SHOW *\*(C'\fR command is issued in any case, because
+that's the only way of getting multiple values out of the server at once.
+collectd then picks out the values you have selected. When querying the
+recursor, a command is generated to query exactly these values. So if you
+specify invalid fields when querying the recursor, a syntax error may be
+returned by the daemon and collectd may not collect any values at all.
+.Sp
+If no \fBCollect\fR statement is given, the following \fBServer\fR values will be
+collected:
+.RS 4
+.IP "latency" 4
+.IX Item "latency"
+.PD 0
+.IP "packetcache-hit" 4
+.IX Item "packetcache-hit"
+.IP "packetcache-miss" 4
+.IX Item "packetcache-miss"
+.IP "packetcache-size" 4
+.IX Item "packetcache-size"
+.IP "query-cache-hit" 4
+.IX Item "query-cache-hit"
+.IP "query-cache-miss" 4
+.IX Item "query-cache-miss"
+.IP "recursing-answers" 4
+.IX Item "recursing-answers"
+.IP "recursing-questions" 4
+.IX Item "recursing-questions"
+.IP "tcp-answers" 4
+.IX Item "tcp-answers"
+.IP "tcp-queries" 4
+.IX Item "tcp-queries"
+.IP "udp-answers" 4
+.IX Item "udp-answers"
+.IP "udp-queries" 4
+.IX Item "udp-queries"
+.RE
+.RS 4
+.PD
+.Sp
+The following \fBRecursor\fR values will be collected by default:
+.IP "noerror-answers" 4
+.IX Item "noerror-answers"
+.PD 0
+.IP "nxdomain-answers" 4
+.IX Item "nxdomain-answers"
+.IP "servfail-answers" 4
+.IX Item "servfail-answers"
+.IP "sys-msec" 4
+.IX Item "sys-msec"
+.IP "user-msec" 4
+.IX Item "user-msec"
+.IP "qa-latency" 4
+.IX Item "qa-latency"
+.IP "cache-entries" 4
+.IX Item "cache-entries"
+.IP "cache-hits" 4
+.IX Item "cache-hits"
+.IP "cache-misses" 4
+.IX Item "cache-misses"
+.IP "questions" 4
+.IX Item "questions"
+.RE
+.RS 4
+.PD
+.Sp
+Please note that up to that point collectd doesn't know what values are
+available on the server and values that are added do not need a change of the
+mechanism so far. However, the values must be mapped to collectd's naming
+scheme, which is done using a lookup table that lists all known values. If
+values are added in the future and collectd does not know about them, you will
+get an error much like this:
+.Sp
+.Vb 1
+\&  powerdns plugin: submit: Not found in lookup table: foobar = 42
+.Ve
+.Sp
+In this case please file a bug report with the collectd team.
+.RE
+.IP "\fBSocket\fR \fIPath\fR" 4
+.IX Item "Socket Path"
+Configures the path to the \s-1UNIX\s0 domain socket to be used when connecting to the
+daemon. By default \f(CW\*(C`/var/run/pdns.controlsocket\*(C'\fR will be used for an
+authoritative server and \f(CW\*(C`/var/run/pdns_recursor.controlsocket\*(C'\fR will be used
+for the recursor.
+.RE
+.RS 4
+.RE
+.IP "\fBLocalSocket\fR \fIPath\fR" 4
+.IX Item "LocalSocket Path"
+Querying the recursor is done using \s-1UDP\s0. When using \s-1UDP\s0 over \s-1UNIX\s0 domain
+sockets, the client socket needs a name in the file system, too. You can set
+this local name to \fIPath\fR using the \fBLocalSocket\fR option. The default is
+\&\f(CW\*(C`\f(CIprefix\f(CW/var/run/collectd\-powerdns\*(C'\fR.
 .ie n .Sh "Plugin ""processes"""
 .el .Sh "Plugin \f(CWprocesses\fP"
 .IX Subsection "Plugin processes"
 .IP "\fBProcess\fR \fIName\fR" 4
 .IX Item "Process Name"
 Select more detailed statistics of processes matching this name. The statistics
@@ -839,29 +1041,29 @@
 (\s-1RSS\s0), user\- and system-time used, number of processes and number of threads,
 and minor and major pagefaults.
 .ie n .Sh "Plugin ""rrdtool"""
 .el .Sh "Plugin \f(CWrrdtool\fP"
 .IX Subsection "Plugin rrdtool"
 You can use the settings \fBStepSize\fR, \fBHeartBeat\fR, \fBRRARows\fR, and \fB\s-1XFF\s0\fR to
-fine-tune your RRD-files. Please read \fIrrdcreate\fR\|(1) if you encounter problems
+fine-tune your RRD\-files. Please read \fIrrdcreate\fR\|(1) if you encounter problems
 using these settings. If you don't want to dive into the depths of RRDTool, you
 can safely ignore these settings.
 .IP "\fBDataDir\fR \fIDirectory\fR" 4
 .IX Item "DataDir Directory"
 Set the directory to store RRD-files under. Per default RRD-files are generated
 beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
 .IP "\fBStepSize\fR \fISeconds\fR" 4
 .IX Item "StepSize Seconds"
-\&\fBForce\fR the stepsize of newly created RRD-files. Ideally (and per default)
+\&\fBForce\fR the stepsize of newly created RRD\-files. Ideally (and per default)
 this setting is unset and the stepsize is set to the interval in which the data
 is collected. Do not use this option unless you absolutely have to for some
 reason. Setting this option may cause problems with the \f(CW\*(C`snmp plugin\*(C'\fR, the
 \&\f(CW\*(C`exec plugin\*(C'\fR or when the daemon is set up to receive data from other hosts.
 .IP "\fBHeartBeat\fR \fISeconds\fR" 4
 .IX Item "HeartBeat Seconds"
-\&\fBForce\fR the heartbeat of newly created RRD-files. This setting should be unset
+\&\fBForce\fR the heartbeat of newly created RRD\-files. This setting should be unset
 in which case the heartbeat is set to twice the \fBStepSize\fR which should equal
 the interval in which data is collected. Do not set this option unless you have
 a very good reason to do so.
 .IP "\fBRRARows\fR \fINumRows\fR" 4
 .IX Item "RRARows NumRows"
 The \f(CW\*(C`rrdtool plugin\*(C'\fR calculates the number of PDPs per \s-1CDP\s0 based on the
@@ -875,13 +1077,13 @@
   number of PDPs = timespan / (stepsize * rrarows)
 .Sp
 Bottom line is, set this no smaller than the width of you graphs in pixels. The
 default is 1200.
 .IP "\fBRRATimespan\fR \fISeconds\fR" 4
 .IX Item "RRATimespan Seconds"
-Adds an RRA-timespan, given in seconds. Use this option multiple times to have
+Adds an RRA\-timespan, given in seconds. Use this option multiple times to have
 more then one \s-1RRA\s0. If this option is never used, the built-in default of (3600,
 86400, 604800, 2678400, 31622400) is used.
 .Sp
 For more information on how RRA-sizes are calculated see \fBRRARows\fR above.
 .IP "\fB\s-1XFF\s0\fR \fIFactor\fR" 4
 .IX Item "XFF Factor"
@@ -905,13 +1107,13 @@
 reduces IO-operations and thus lessens the load produced by updating the files.
 The trade off is that the graphs kind of \*(L"drag behind\*(R" and that more memory is
 used.
 .ie n .Sh "Plugin ""sensors"""
 .el .Sh "Plugin \f(CWsensors\fP"
 .IX Subsection "Plugin sensors"
-The \f(CW\*(C`sensors plugin\*(C'\fR uses \fBlm_sensors\fR to retrieve sensor-values. This means
+The \f(CW\*(C`sensors plugin\*(C'\fR uses \fBlm_sensors\fR to retrieve sensor\-values. This means
 that all the needed modules have to be loaded and lm_sensors has to be
 configured (most likely by editing \fI/etc/sensors.conf\fR. Read
 \&\fIsensors.conf\fR\|(5) for details.
 .PP
 The \fBlm_sensors\fR homepage can be found at
 <http://secure.netroedge.com/~lm78/>.
@@ -938,26 +1140,153 @@
 \&\fIcollectd\-snmp\fR\|(5). Please see there for details.
 .ie n .Sh "Plugin ""syslog"""
 .el .Sh "Plugin \f(CWsyslog\fP"
 .IX Subsection "Plugin syslog"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
-Sets the log-level. If, for example, set to \fBnotice\fR, then all events with
+Sets the log\-level. If, for example, set to \fBnotice\fR, then all events with
 severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be submitted to the
-syslog-daemon.
+syslog\-daemon.
 .Sp
 Please note that \fBdebug\fR is only available if collectd has been compiled with
 debugging support.
+.ie n .Sh "Plugin ""tail"""
+.el .Sh "Plugin \f(CWtail\fP"
+.IX Subsection "Plugin tail"
+The \f(CW\*(C`tail plugin\*(C'\fR plugins follows logfiles, just like \fItail\fR\|(1) does, parses
+each line and dispatches found values. What is matched can be configured by the
+user using (extended) regular expressions, as described in \fIregex\fR\|(7).
+.PP
+.Vb 17
+\&  <Plugin "tail">
+\&    <File "/var/log/exim4/mainlog">
+\&      Instance "exim"
+\&      <Match>
+\&        Regex "S=([1\-9][0\-9]*)"
+\&        DSType "CounterAdd"
+\&        Type "ipt_bytes"
+\&        Instance "total"
+\&      </Match>
+\&      <Match>
+\&        Regex "\e\e<R=local_user\e\e>"
+\&        DSType "CounterInc"
+\&        Type "email_count"
+\&        Instance "local_user"
+\&      </Match>
+\&    </File>
+\&  </Plugin>
+.Ve
+.PP
+The config consists of one or more \fBFile\fR blocks, each of which configures one
+logfile to parse. Within each \fBFile\fR block, there are one or more \fBMatch\fR
+blocks, which configure a regular expression to search for.
+.PP
+The \fBInstance\fR option in the \fBFile\fR block may be used to set the plugin
+instance. So in the above example the plugin name \f(CW\*(C`tail\-foo\*(C'\fR would be used.
+This plugin instance is for all \fBMatch\fR blocks that \fBfollow\fR it, until the
+next \fBInstance\fR option. This way you can extract several plugin instances from
+one logfile, handy when parsing syslog and the like.
+.PP
+Each \fBMatch\fR block has the following options to describe how the match should
+be performed:
+.IP "\fBRegex\fR \fIregex\fR" 4
+.IX Item "Regex regex"
+Sets the regular expression to use for matching against a line. The first
+subexpression has to match something that can be turned into a number by
+\&\fIstrtoll\fR\|(3) or \fIstrtod\fR\|(3), depending on the value of \f(CW\*(C`CounterAdd\*(C'\fR, see
+below. Because \fBextended\fR regular expressions are used, you do not need to use
+backslashes for subexpressions! If in doubt, please consult \fIregex\fR\|(7). Due to
+collectd's config parsing you need to escape backslashes, though. So if you
+want to match literal parentheses you need to do the following:
+.Sp
+.Vb 1
+\&  Regex "SPAM \e\e(Score: (\-?[0\-9]+\e\e.[0\-9]+)\e\e)"
+.Ve
+.IP "\fBDSType\fR \fIType\fR" 4
+.IX Item "DSType Type"
+Sets how the values are cumulated. \fIType\fR is one of:
+.RS 4
+.IP "\fBGaugeAverage\fR" 4
+.IX Item "GaugeAverage"
+Calculate the average.
+.IP "\fBGaugeMin\fR" 4
+.IX Item "GaugeMin"
+Use the smallest number only.
+.IP "\fBGaugeMax\fR" 4
+.IX Item "GaugeMax"
+Use the greatest number only.
+.IP "\fBGaugeLast\fR" 4
+.IX Item "GaugeLast"
+Use the last number found.
+.IP "\fBCounterSet\fR" 4
+.IX Item "CounterSet"
+The matched number is a counter. Simply sets the internal counter to this
+value.
+.IP "\fBCounterAdd\fR" 4
+.IX Item "CounterAdd"
+Add the matched value to the internal counter.
+.IP "\fBCounterInc\fR" 4
+.IX Item "CounterInc"
+Increase the internal counter by one. This \fBDSType\fR is the only one that does
+not use the matched subexpression, but simply counts the number of matched
+lines. Thus, you may use a regular expression without submatch in this case.
+.RE
+.RS 4
+.Sp
+As you'd expect the \fBGauge*\fR types interpret the submatch as a floating point
+number, using \fIstrtod\fR\|(3). The \fBCounterSet\fR and \fBCounterAdd\fR interpret the
+submatch as an integer using \fIstrtoll\fR\|(3). \fBCounterInc\fR does not use the
+submatch at all and it may be omitted in this case.
+.RE
+.IP "\fBType\fR \fIType\fR" 4
+.IX Item "Type Type"
+Sets the type used to dispatch this value. Detailed information about types and
+their configuration can be found in \fItypes.db\fR\|(5).
+.IP "\fBInstance\fR \fITypeInstance\fR" 4
+.IX Item "Instance TypeInstance"
+This optional setting sets the type instance to use.
+.ie n .Sh "Plugin ""teamspeak2"""
+.el .Sh "Plugin \f(CWteamspeak2\fP"
+.IX Subsection "Plugin teamspeak2"
+The \f(CW\*(C`teamspeak2 plugin\*(C'\fR connects to the query port of a teamspeak2 server and
+polls interesting global and virtual server data. The plugin can query only one
+physical server but unlimited virtual servers. You can use the following
+options to configure it:
+.IP "\fBHost\fR \fIhostname/ip\fR" 4
+.IX Item "Host hostname/ip"
+The hostname or ip which identifies the physical server.
+Default: 127.0.0.1
+.IP "\fBPort\fR \fIport\fR" 4
+.IX Item "Port port"
+The query port of the physical server. This needs to be a string.
+Default: \*(L"51234\*(R"
+.IP "\fBServer\fR \fIport\fR" 4
+.IX Item "Server port"
+This option has to be added once for every virtual server the plugin should
+query. If you want to query the virtual server on port 8767 this is what the
+option would look like:
+.Sp
+.Vb 1
+\&  Server "8767"
+.Ve
+.Sp
+This option, although numeric, needs to be a string, i.\ e. you \fBmust\fR
+use quotes around it! If no such statement is given only global information
+will be collected.
 .ie n .Sh "Plugin ""tcpconns"""
 .el .Sh "Plugin \f(CWtcpconns\fP"
 .IX Subsection "Plugin tcpconns"
 The \f(CW\*(C`tcpconns plugin\*(C'\fR counts the number of currently established \s-1TCP\s0
 connections based on the local port and/or the remote port. Since there may be
 a lot of connections the default if to count all connections with a local port,
 for which a listening socket is opened. You can use the following options to
 fine-tune the ports you are interested in:
+.RS 4
+.RE
+.RS 4
+.RE
 .IP "\fBListeningPorts\fR \fItrue\fR|\fIfalse\fR" 4
 .IX Item "ListeningPorts true|false"
 If this option is set to \fItrue\fR, statistics for all local ports for which a
 listening socket exists are collected. The default depends on \fBLocalPort\fR and
 \&\fBRemotePort\fR (see below): If no port at all is specifically selected, the
 default is to collect listening ports. If specific ports (no matter if local or
@@ -1014,12 +1343,25 @@
 Check for \s-1UUID\s0 from Xen hypervisor.
 .PP
 If no \s-1UUID\s0 can be found then the hostname is not modified.
 .IP "\fBUUIDFile\fR \fIPath\fR" 4
 .IX Item "UUIDFile Path"
 Take the \s-1UUID\s0 from the given file (default \fI/etc/uuid\fR).
+.ie n .Sh "Plugin ""vmem"""
+.el .Sh "Plugin \f(CWvmem\fP"
+.IX Subsection "Plugin vmem"
+The \f(CW\*(C`vmem\*(C'\fR plugin collects information about the usage of virtual memory.
+Since the statistics provided by the Linux kernel are very detailed, they are
+collected very detailed. However, to get all the details, you have to switch
+them on manually. Most people just want an overview over, such as the number of
+pages read from swap space.
+.IP "\fBVerbose\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Verbose true|false"
+Enables verbose collection of information. This will start collecting page
+\&\*(L"actions\*(R", e.\ g. page allocations, (de)activations, steals and so on.
+Part of these statistics are collected on a \*(L"per zone\*(R" basis.
 .ie n .Sh "Plugin ""vserver"""
 .el .Sh "Plugin \f(CWvserver\fP"
 .IX Subsection "Plugin vserver"
 This plugin doesn't have any options. \fBVServer\fR support is only available for
 Linux. It cannot yet be found in a vanilla kernel, though. To make use of this
 plugin you need a kernel that has \fBVServer\fR support built in, i.\ e. you
@@ -1061,26 +1403,33 @@
 \&     WarningMax 1000.00
 \&     FailureMin    0.00
 \&     FailureMax 1200.00
 \&     Invert false
 \&     Instance "bar"
 \&   </Type>
-\&
+.Ve
+.PP
+.Vb 7
 \&   <Plugin "interface">
 \&     Instance "eth0"
 \&     <Type "if_octets">
 \&       FailureMax 10000000
+\&       DataSource "rx"
 \&     </Type>
 \&   </Plugin>
-\&
+.Ve
+.PP
+.Vb 5
 \&   <Host "hostname">
 \&     <Type "cpu">
 \&       Instance "idle"
 \&       FailureMin 10
 \&     </Type>
-\&
+.Ve
+.PP
+.Vb 8
 \&     <Plugin "memory">
 \&       <Type "memory">
 \&         Instance "cached"
 \&         WarningMin 100000000
 \&       </Type>
 \&     </Plugin>
@@ -1116,12 +1465,24 @@
 .IX Item "WarningMin Value"
 .PD
 Sets the lower bound of acceptable values. If unset defaults to negative
 infinity. If a value is less than \fBFailureMin\fR a \fB\s-1FAILURE\s0\fR notification will
 be created. If the value is less than \fBWarningMin\fR but greater than (or equal
 to) \fBFailureMin\fR a \fB\s-1WARNING\s0\fR notification will be created.
+.IP "\fBDataSource\fR \fIDSName\fR" 4
+.IX Item "DataSource DSName"
+Some data sets have more than one \*(L"data source\*(R". Interesting examples are the
+\&\f(CW\*(C`if_octets\*(C'\fR data set, which has received (\f(CW\*(C`rx\*(C'\fR) and sent (\f(CW\*(C`tx\*(C'\fR) bytes and
+the \f(CW\*(C`disk_ops\*(C'\fR data set, which holds \f(CW\*(C`read\*(C'\fR and \f(CW\*(C`write\*(C'\fR operations. The
+system load data set, \f(CW\*(C`load\*(C'\fR, even has three data sources: \f(CW\*(C`shortterm\*(C'\fR,
+\&\f(CW\*(C`midterm\*(C'\fR, and \f(CW\*(C`longterm\*(C'\fR.
+.Sp
+Normally, all data sources are checked against a configured threshold. If this
+is undesirable, or if you want to specify different limits for each data
+source, you can use the \fBDataSource\fR option to have a threshold apply only to
+one data source.
 .IP "\fBInvert\fR \fBtrue\fR|\fBfalse\fR" 4
 .IX Item "Invert true|false"
 If set to \fBtrue\fR the range of acceptable values is inverted, i.\ e.
 values between \fBFailureMin\fR and \fBFailureMax\fR (\fBWarningMin\fR and
 \&\fBWarningMax\fR) are not okay. Defaults to \fBfalse\fR.
 .IP "\fBPersist\fR \fBtrue\fR|\fBfalse\fR" 4
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.conf.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.conf.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.conf.in	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.conf.in	2008-05-06 22:45:58.000000000 +0800
@@ -13,12 +13,13 @@
 #Interval     10
 #ReadThreads  5
 
 @BUILD_PLUGIN_APACHE_TRUE@LoadPlugin apache
 @BUILD_PLUGIN_APCUPS_TRUE@LoadPlugin apcups
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@LoadPlugin apple_sensors
+@BUILD_PLUGIN_ASCENT_TRUE@LoadPlugin ascent
 @BUILD_PLUGIN_BATTERY_TRUE@LoadPlugin battery
 @BUILD_PLUGIN_CPU_TRUE@LoadPlugin cpu
 @BUILD_PLUGIN_CPUFREQ_TRUE@LoadPlugin cpufreq
 @BUILD_PLUGIN_CSV_TRUE@LoadPlugin csv
 @BUILD_PLUGIN_DF_TRUE@LoadPlugin df
 @BUILD_PLUGIN_DISK_TRUE@LoadPlugin disk
@@ -26,12 +27,13 @@
 @BUILD_PLUGIN_EMAIL_TRUE@LoadPlugin email
 @BUILD_PLUGIN_ENTROPY_TRUE@LoadPlugin entropy
 @BUILD_PLUGIN_EXEC_TRUE@LoadPlugin exec
 @BUILD_PLUGIN_HDDTEMP_TRUE@LoadPlugin hddtemp
 @BUILD_PLUGIN_INTERFACE_TRUE@LoadPlugin interface
 @BUILD_PLUGIN_IPTABLES_TRUE@LoadPlugin iptables
+@BUILD_PLUGIN_IPMI_TRUE@LoadPlugin ipmi
 @BUILD_PLUGIN_IPVS_TRUE@LoadPlugin ipvs
 @BUILD_PLUGIN_IRQ_TRUE@LoadPlugin irq
 @BUILD_PLUGIN_LIBVIRT_TRUE@LoadPlugin libvirt
 @BUILD_PLUGIN_LOAD_TRUE@LoadPlugin load
 @BUILD_PLUGIN_LOGFILE_TRUE@LoadPlugin logfile
 @BUILD_PLUGIN_MBMON_TRUE@LoadPlugin mbmon
@@ -44,24 +46,28 @@
 @BUILD_PLUGIN_NFS_TRUE@LoadPlugin nfs
 @BUILD_PLUGIN_NGINX_TRUE@LoadPlugin nginx
 @BUILD_PLUGIN_NTPD_TRUE@LoadPlugin ntpd
 @BUILD_PLUGIN_NUT_TRUE@LoadPlugin nut
 @BUILD_PLUGIN_PERL_TRUE@LoadPlugin perl
 @BUILD_PLUGIN_PING_TRUE@LoadPlugin ping
+@BUILD_PLUGIN_POWERDNS_TRUE@LoadPlugin powerdns
 @BUILD_PLUGIN_PROCESSES_TRUE@LoadPlugin processes
 @BUILD_PLUGIN_RRDTOOL_TRUE@LoadPlugin rrdtool
 @BUILD_PLUGIN_SENSORS_TRUE@LoadPlugin sensors
 @BUILD_PLUGIN_SERIAL_TRUE@LoadPlugin serial
 @BUILD_PLUGIN_SNMP_TRUE@LoadPlugin snmp
 @BUILD_PLUGIN_SWAP_TRUE@LoadPlugin swap
 @BUILD_PLUGIN_SYSLOG_TRUE@LoadPlugin syslog
+@BUILD_PLUGIN_TAIL_TRUE@LoadPlugin tail
 @BUILD_PLUGIN_TAPE_TRUE@LoadPlugin tape
 @BUILD_PLUGIN_TCPCONNS_TRUE@LoadPlugin tcpconns
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@LoadPlugin teamspeak2
 @BUILD_PLUGIN_UNIXSOCK_TRUE@LoadPlugin unixsock
 @BUILD_PLUGIN_USERS_TRUE@LoadPlugin users
 @BUILD_PLUGIN_UUID_TRUE@LoadPlugin uuid
+@BUILD_PLUGIN_VMEM_TRUE@LoadPlugin vmem
 @BUILD_PLUGIN_VSERVER_TRUE@LoadPlugin vserver
 @BUILD_PLUGIN_WIRELESS_TRUE@LoadPlugin wireless
 @BUILD_PLUGIN_XMMS_TRUE@LoadPlugin xmms
 
 #<Plugin apache>
 #	URL "http://localhost/status?auto"
@@ -72,12 +78,19 @@
 
 #<Plugin apcups>
 #	Host "localhost"
 #	Port "3551"
 #</Plugin>
 
+#<Plugin ascent>
+#	URL "http://localhost/ascent/status/"
+#	User "www-user"
+#	Password "secret"
+#	CACert "/etc/ssl/ca.crt"
+#</Plugin>
+
 #<Plugin csv>
 #	DataDir "@prefix@/var/lib/@PACKAGE_NAME@/csv"
 #	StoreRates false
 #</Plugin>
 
 #<Plugin df>
@@ -99,13 +112,13 @@
 #	SocketPerms "0770"
 #	MaxConns 5
 #</Plugin>
 
 #<Plugin exec>
 #	Exec "user:group" "/path/to/exec"
-#	NotificationExec "user:group" "/path/to/exec"
+#	NotificationExec "/path/to/exec"
 #</Plugin>
 
 @BUILD_PLUGIN_HDDTEMP_TRUE@<Plugin hddtemp>
 #	Host "127.0.0.1"
 #	Port "7634"
 @BUILD_PLUGIN_HDDTEMP_TRUE@	TranslateDevicename false
@@ -205,12 +218,26 @@
 
 #<Plugin ping>
 #	Host "host.foo.bar"
 #	TTL 255
 #</Plugin>
 
+#<Plugin powerdns>
+#  <Server "server_name">
+#    Collect "latency"
+#    Collect "udp-answers" "udp-queries"
+#    Socket "/var/run/pdns.controlsocket"
+#  </Server>
+#  <Recursor "recursor_name">
+#    Collect "questions"
+#    Collect "cache-hits" "cache-misses"
+#    Socket "/var/run/pdns_recursor.controlsocket"
+#  </Recursor>
+#  LocalSocket "/opt/collectd/var/run/collectd-powerdns"
+#</Plugin>
+
 #<Plugin processes>
 #	Process "name"
 #</Plugin>
 
 #<Plugin rrdtool>
 #	DataDir "@prefix@/var/lib/@PACKAGE_NAME@/rrd"
@@ -268,22 +295,50 @@
 #</Plugin>
 
 #<Plugin syslog>
 #	LogLevel info
 #</Plugin>
 
+#<Plugin "tail">
+#  <File "/var/log/exim4/mainlog">
+#    Instance "exim"
+#    <Match>
+#      Regex "S=([1-9][0-9]*)"
+#      DSType "CounterAdd"
+#      Type "ipt_bytes"
+#      Instance "total"
+#    </Match>
+#    <Match>
+#      Regex "\\<R=local_user\\>"
+#      DSType "CounterInc"
+#      Type "email_count"
+#      Instance "local_user"
+#    </Match>
+#  </File>
+#</Plugin>
+
 #<Plugin tcpconns>
 #	ListeningPorts false
 #	LocalPort "25"
 #	RemotePort "25"
 #</Plugin>
 
+#<Plugin teamspeak2>
+#	Host "127.0.0.1"
+#	Port "51234"
+#	Server "8767"
+#</Plugin>
+
 #<Plugin unixsock>
 #	SocketFile "@prefix@/var/run/@PACKAGE_NAME@-unixsock"
 #	SocketGroup "collectd"
 #	SocketPerms "0660"
 #</Plugin>
 
 #<Plugin uuid>
 #	UUIDFile "/etc/uuid"
 #</Plugin>
 
+#<Plugin vmem>
+#	Verbose false
+#</Plugin>
+
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.conf.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.conf.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.conf.pod	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.conf.pod	2008-05-06 22:14:06.000000000 +0800
@@ -170,12 +170,25 @@
 Optional user name needed for authentication.
 
 =item B<Password> I<Password>
 
 Optional password needed for authentication.
 
+=item B<VerifyPeer> B<true|false>
+
+Enable or disable peer SSL certificate verification. See
+L<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
+
+=item B<VerifyHost> B<true|false>
+
+Enable or disable peer host name verification. If enabled, the plugin checks
+if the C<Common Name> or a C<Subject Alternate Name> field of the SSL
+certificate matches the host name provided by the B<URL> option. If this
+identity check fails, the connection is aborted. Obviously, only works when
+connecting to a SSL enabled server. Enabled by default.
+
 =item B<CACert> I<File>
 
 File that holds one or more SSL certificates. If you want to use HTTPS you will
 possibly need this option. What CA certificates come bundled with C<libcurl>
 and are checked by default depends on the distribution you use.
 
@@ -194,12 +207,42 @@
 =item B<Port> I<Port>
 
 TCP-Port to connect to. Defaults to B<3551>.
 
 =back
 
+=head2 Plugin C<ascent>
+
+This plugin collects information about an Ascent server, a free server for the
+"World of Warcraft" game. This plugin gathers the information by fetching the
+XML status page using C<libcurl> and parses it using C<libxml2>.
+
+The configuration options are the same as for the C<apache> plugin above:
+
+=over 4
+
+=item B<URL> I<http://localhost/ascent/status/>
+
+Sets the URL of the XML status output.
+
+=item B<User> I<Username>
+
+Optional user name needed for authentication.
+
+=item B<Password> I<Password>
+
+Optional password needed for authentication.
+
+=item B<CACert> I<File>
+
+File that holds one or more SSL certificates. If you want to use HTTPS you will
+possibly need this option. What CA certificates come bundled with C<libcurl>
+and are checked by default depends on the distribution you use.
+
+=back
+
 =head2 Plugin C<cpufreq>
 
 This plugin doesn't have any options. It reads
 F</sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq> (for the first CPU
 installed) to get the current CPU frequency. If this file does not exist make
 sure B<cpufreqd> (L<http://cpufreqd.sourceforge.net/>) or a similar tool is
@@ -244,12 +287,46 @@
 match any one of the criteria are collected. By default only selected
 partitions are collected if a selection is made. If no selection is configured
 at all, B<all> partitions are selected.
 
 =back
 
+=head2 Plugin C<disk>
+
+The C<disk> plugin collects information about the usage of physical disks and
+logical disks (partitions). Values collected are the number of octets written
+to and read from a disk or partition, the number of read/write operations
+issued to the disk and a rather complex "time" it took for these commands to be
+issued.
+
+Using the following two options you can ignore some disks or configure the
+collection only of specific disks.
+
+=over 4
+
+=item B<Disk> I<Name>
+
+Select the disk I<Name>. Whether it is collected or ignored depends on the
+B<IgnoreSelected> setting, see below. As with other plugins that use the
+daemon's ignorelist functionality, a string that starts and ends with a slash
+is interpreted as a regular expression. Examples:
+
+  Disk "sdd"
+  Disk "/hda[34]/"
+
+=item B<IgnoreSelected> B<true>|B<false>
+
+Sets whether selected disks, i.E<nbsp>e. the ones matches by any of the B<Disk>
+statements, are ignored or if all other disks are ignored. The behavior
+(hopefully) is intuitive: If no B<Disk> option is configured, all disks are
+collected. If at least one B<Disk> option is given and no B<IgnoreSelected> or
+set to B<false>, B<only> matching disks will be collected. If B<IgnoreSelected>
+is set to B<true>, all disks are collected B<except> the ones matched.
+
+=back
+
 =head2 Plugin C<dns>
 
 =over 4
 
 =item B<Interface> I<Interface>
 
@@ -756,12 +833,25 @@
 Optional user name needed for authentication.
 
 =item B<Password> I<Password>
 
 Optional password needed for authentication.
 
+=item B<VerifyPeer> B<true|false>
+
+Enable or disable peer SSL certificate verification. See
+L<http://curl.haxx.se/docs/sslcerts.html> for details. Enabled by default.
+
+=item B<VerifyHost> B<true|false>
+
+Enable or disable peer host name verification. If enabled, the plugin checks
+if the C<Common Name> or a C<Subject Alternate Name> field of the SSL
+certificate matches the host name provided by the B<URL> option. If this
+identity check fails, the connection is aborted. Obviously, only works when
+connecting to a SSL enabled server. Enabled by default.
+
 =item B<CACert> I<File>
 
 File that holds one or more SSL certificates. If you want to use HTTPS you will
 possibly need this option. What CA certificates come bundled with C<libcurl>
 and are checked by default depends on the distribution you use.
 
@@ -816,12 +906,145 @@
 =item B<TTL> I<0-255>
 
 Sets the Time-To-Live of generated ICMP packets.
 
 =back
 
+=head2 Plugin C<powerdns>
+
+The C<powerdns> plugin queries statistics from an authoritative PowerDNS
+nameserver and/or a PowerDNS recursor. Since both offer a wide variety of
+values, many of which are probably meaningless to most users, but may be useful
+for some. So you may chose which values to collect, but if you don't, some
+reasonable defaults will be collected.
+
+  <Plugin "powerdns">
+    <Server "server_name">
+      Collect "latency"
+      Collect "udp-answers" "udp-queries"
+      Socket "/var/run/pdns.controlsocket"
+    </Server>
+    <Recursor "recursor_name">
+      Collect "questions"
+      Collect "cache-hits" "cache-misses"
+      Socket "/var/run/pdns_recursor.controlsocket"
+    </Recursor>
+    LocalSocket "/opt/collectd/var/run/collectd-powerdns"
+  </Plugin>
+
+=over 4
+
+=item B<Server> and B<Recursor> block
+
+The B<Server> block defines one authoritative server to query, the B<Recursor>
+does the same for an recursing server. The possible options in both blocks are
+the same, though. The argument defines a name for the serverE<nbsp>/ recursor
+and is required.
+
+=over 4
+
+=item B<Collect> I<Field>
+
+Using the B<Collect> statement you can select which values to collect. Here,
+you specify the name of the values as used by the PowerDNS servers, e.E<nbsp>g.
+C<dlg-only-drops>, C<answers10-100>.
+
+The method of getting the values differs for B<Server> and B<Recursor> blocks:
+When querying the server a C<SHOW *> command is issued in any case, because
+that's the only way of getting multiple values out of the server at once.
+collectd then picks out the values you have selected. When querying the
+recursor, a command is generated to query exactly these values. So if you
+specify invalid fields when querying the recursor, a syntax error may be
+returned by the daemon and collectd may not collect any values at all.
+
+If no B<Collect> statement is given, the following B<Server> values will be
+collected:
+
+=over 4
+
+=item latency
+
+=item packetcache-hit
+
+=item packetcache-miss
+
+=item packetcache-size
+
+=item query-cache-hit
+
+=item query-cache-miss
+
+=item recursing-answers
+
+=item recursing-questions
+
+=item tcp-answers
+
+=item tcp-queries
+
+=item udp-answers
+
+=item udp-queries
+
+=back
+
+The following B<Recursor> values will be collected by default:
+
+=over 4
+
+=item noerror-answers
+
+=item nxdomain-answers
+
+=item servfail-answers
+
+=item sys-msec
+
+=item user-msec
+
+=item qa-latency
+
+=item cache-entries
+
+=item cache-hits
+
+=item cache-misses
+
+=item questions
+
+=back
+
+Please note that up to that point collectd doesn't know what values are
+available on the server and values that are added do not need a change of the
+mechanism so far. However, the values must be mapped to collectd's naming
+scheme, which is done using a lookup table that lists all known values. If
+values are added in the future and collectd does not know about them, you will
+get an error much like this:
+
+  powerdns plugin: submit: Not found in lookup table: foobar = 42
+
+In this case please file a bug report with the collectd team.
+
+=item B<Socket> I<Path>
+
+Configures the path to the UNIX domain socket to be used when connecting to the
+daemon. By default C</var/run/pdns.controlsocket> will be used for an
+authoritative server and C</var/run/pdns_recursor.controlsocket> will be used
+for the recursor.
+
+=back
+
+=item B<LocalSocket> I<Path>
+
+Querying the recursor is done using UDP. When using UDP over UNIX domain
+sockets, the client socket needs a name in the file system, too. You can set
+this local name to I<Path> using the B<LocalSocket> option. The default is
+C<I<prefix>/var/run/collectd-powerdns>.
+
+=back
+
 =head2 Plugin C<processes>
 
 =over 4
 
 =item B<Process> I<Name>
 
@@ -960,22 +1183,161 @@
 
 Please note that B<debug> is only available if collectd has been compiled with
 debugging support.
 
 =back
 
+=head2 Plugin C<tail>
+
+The C<tail plugin> plugins follows logfiles, just like L<tail(1)> does, parses
+each line and dispatches found values. What is matched can be configured by the
+user using (extended) regular expressions, as described in L<regex(7)>.
+
+  <Plugin "tail">
+    <File "/var/log/exim4/mainlog">
+      Instance "exim"
+      <Match>
+      	Regex "S=([1-9][0-9]*)"
+	DSType "CounterAdd"
+	Type "ipt_bytes"
+	Instance "total"
+      </Match>
+      <Match>
+      	Regex "\\<R=local_user\\>"
+	DSType "CounterInc"
+	Type "email_count"
+	Instance "local_user"
+      </Match>
+    </File>
+  </Plugin>
+
+The config consists of one or more B<File> blocks, each of which configures one
+logfile to parse. Within each B<File> block, there are one or more B<Match>
+blocks, which configure a regular expression to search for.
+
+The B<Instance> option in the B<File> block may be used to set the plugin
+instance. So in the above example the plugin name C<tail-foo> would be used.
+This plugin instance is for all B<Match> blocks that B<follow> it, until the
+next B<Instance> option. This way you can extract several plugin instances from
+one logfile, handy when parsing syslog and the like.
+
+Each B<Match> block has the following options to describe how the match should
+be performed:
+
+=over 4
+
+=item B<Regex> I<regex>
+
+Sets the regular expression to use for matching against a line. The first
+subexpression has to match something that can be turned into a number by
+L<strtoll(3)> or L<strtod(3)>, depending on the value of C<CounterAdd>, see
+below. Because B<extended> regular expressions are used, you do not need to use
+backslashes for subexpressions! If in doubt, please consult L<regex(7)>. Due to
+collectd's config parsing you need to escape backslashes, though. So if you
+want to match literal parentheses you need to do the following:
+
+  Regex "SPAM \\(Score: (-?[0-9]+\\.[0-9]+)\\)"
+
+=item B<DSType> I<Type>
+
+Sets how the values are cumulated. I<Type> is one of:
+
+=over 4
+
+=item B<GaugeAverage>
+
+Calculate the average.
+
+=item B<GaugeMin>
+
+Use the smallest number only.
+
+=item B<GaugeMax>
+
+Use the greatest number only.
+
+=item B<GaugeLast>
+
+Use the last number found.
+
+=item B<CounterSet>
+
+The matched number is a counter. Simply sets the internal counter to this
+value.
+
+=item B<CounterAdd>
+
+Add the matched value to the internal counter.
+
+=item B<CounterInc>
+
+Increase the internal counter by one. This B<DSType> is the only one that does
+not use the matched subexpression, but simply counts the number of matched
+lines. Thus, you may use a regular expression without submatch in this case.
+
+=back
+
+As you'd expect the B<Gauge*> types interpret the submatch as a floating point
+number, using L<strtod(3)>. The B<CounterSet> and B<CounterAdd> interpret the
+submatch as an integer using L<strtoll(3)>. B<CounterInc> does not use the
+submatch at all and it may be omitted in this case.
+
+=item B<Type> I<Type>
+
+Sets the type used to dispatch this value. Detailed information about types and
+their configuration can be found in L<types.db(5)>.
+
+=item B<Instance> I<TypeInstance>
+
+This optional setting sets the type instance to use.
+
+=back
+
+=head2 Plugin C<teamspeak2>
+
+The C<teamspeak2 plugin> connects to the query port of a teamspeak2 server and
+polls interesting global and virtual server data. The plugin can query only one
+physical server but unlimited virtual servers. You can use the following
+options to configure it:
+
+=over 4
+
+=item B<Host> I<hostname/ip>
+
+The hostname or ip which identifies the physical server.
+Default: 127.0.0.1
+
+=item B<Port> I<port>
+
+The query port of the physical server. This needs to be a string.
+Default: "51234"
+
+=item B<Server> I<port>
+
+This option has to be added once for every virtual server the plugin should
+query. If you want to query the virtual server on port 8767 this is what the
+option would look like:
+
+  Server "8767"
+
+This option, although numeric, needs to be a string, i.E<nbsp>e. you B<must>
+use quotes around it! If no such statement is given only global information
+will be collected.
+
 =head2 Plugin C<tcpconns>
 
 The C<tcpconns plugin> counts the number of currently established TCP
 connections based on the local port and/or the remote port. Since there may be
 a lot of connections the default if to count all connections with a local port,
 for which a listening socket is opened. You can use the following options to
 fine-tune the ports you are interested in:
 
 =over 4
 
+=back
+
 =item B<ListeningPorts> I<true>|I<false>
 
 If this option is set to I<true>, statistics for all local ports for which a
 listening socket exists are collected. The default depends on B<LocalPort> and
 B<RemotePort> (see below): If no port at all is specifically selected, the
 default is to collect listening ports. If specific ports (no matter if local or
@@ -1060,12 +1422,30 @@
 =item B<UUIDFile> I<Path>
 
 Take the UUID from the given file (default I</etc/uuid>).
 
 =back
 
+=head2 Plugin C<vmem>
+
+The C<vmem> plugin collects information about the usage of virtual memory.
+Since the statistics provided by the Linux kernel are very detailed, they are
+collected very detailed. However, to get all the details, you have to switch
+them on manually. Most people just want an overview over, such as the number of
+pages read from swap space.
+
+=over 4
+
+=item B<Verbose> B<true>|B<false>
+
+Enables verbose collection of information. This will start collecting page
+"actions", e.E<nbsp>g. page allocations, (de)activations, steals and so on.
+Part of these statistics are collected on a "per zone" basis.
+
+=back
+
 =head2 Plugin C<vserver>
 
 This plugin doesn't have any options. B<VServer> support is only available for
 Linux. It cannot yet be found in a vanilla kernel, though. To make use of this
 plugin you need a kernel that has B<VServer> support built in, i.E<nbsp>e. you
 need to apply the patches and compile your own kernel, which will then provide
@@ -1111,12 +1491,13 @@
    </Type>
 
    <Plugin "interface">
      Instance "eth0"
      <Type "if_octets">
        FailureMax 10000000
+       DataSource "rx"
      </Type>
    </Plugin>
 
    <Host "hostname">
      <Type "cpu">
        Instance "idle"
@@ -1161,12 +1542,25 @@
 
 Sets the lower bound of acceptable values. If unset defaults to negative
 infinity. If a value is less than B<FailureMin> a B<FAILURE> notification will
 be created. If the value is less than B<WarningMin> but greater than (or equal
 to) B<FailureMin> a B<WARNING> notification will be created.
 
+=item B<DataSource> I<DSName>
+
+Some data sets have more than one "data source". Interesting examples are the
+C<if_octets> data set, which has received (C<rx>) and sent (C<tx>) bytes and
+the C<disk_ops> data set, which holds C<read> and C<write> operations. The
+system load data set, C<load>, even has three data sources: C<shortterm>,
+C<midterm>, and C<longterm>.
+
+Normally, all data sources are checked against a configured threshold. If this
+is undesirable, or if you want to specify different limits for each data
+source, you can use the B<DataSource> option to have a threshold apply only to
+one data source.
+
 =item B<Invert> B<true>|B<false>
 
 If set to B<true> the range of acceptable values is inverted, i.E<nbsp>e.
 values between B<FailureMin> and B<FailureMax> (B<WarningMin> and
 B<WarningMax>) are not okay. Defaults to B<false>.
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-email.5	2008-08-31 21:31:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-email.5	2008-05-07 03:19:40.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2007-10-24" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD-EMAIL 5 "2007-10-24" "4.4.0" "collectd"
 .SH "NAME"
 collectd\-email \- Documentation of collectd's \f(CW\*(C`email plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-exec.5	2008-08-31 21:31:34.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-exec.5	2008-05-07 03:19:41.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2008-08-31" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD-EXEC 5 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -180,13 +173,13 @@
 seconds) this may result in serious system load.
 .ie n .IP """NotificationExec""" 4
 .el .IP "\f(CWNotificationExec\fR" 4
 .IX Item "NotificationExec"
 The program is forked once for each notification that is handled by the daemon.
 The notification is passed to the program on \f(CW\*(C`STDIN\*(C'\fR in a fashion similar to
-HTTP-headers. In contrast to programs specified with \f(CW\*(C`Exec\*(C'\fR the execution of
+HTTP\-headers. In contrast to programs specified with \f(CW\*(C`Exec\*(C'\fR the execution of
 this program is not serialized, so that several instances of this program may
 run at once if multiple notifications are received.
 .Sp
 See \*(L"\s-1NOTIFICATION\s0 \s-1DATA\s0 \s-1FORMAT\s0\*(R" below for a description of the data passed to
 these programs.
 .SH "EXEC DATA FORMAT"
@@ -196,30 +189,30 @@
 .IP "Comments" 4
 .IX Item "Comments"
 Each line beginning with a \f(CW\*(C`#\*(C'\fR (hash mark) is ignored.
 .IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
 .IX Item "PUTVAL Identifier [OptionList] Valuelist"
 Submits one or more values (identified by \fIIdentifier\fR, see below) to the
-daemon which will dispatch it to all it's write-plugins.
+daemon which will dispatch it to all it's write\-plugins.
 .Sp
 An \fIIdentifier\fR is of the form
 \&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
 \&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
 omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
 as the tuple (plugin, plugin instance, type instance) uniquely identifies the
 plugin within collectd. \fItype\fR identifies the type and number of values
-(i.\ e. data-set) passed to collectd. A large list of predefined
+(i.\ e. data\-set) passed to collectd. A large list of predefined
 data-sets is available in the \fBtypes.db\fR file. See \fItypes.db\fR\|(5) for a
 description of the format of this file.
 .Sp
 The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
-key-value-pair. A list of currently understood options can be found below, all
+key\-value\-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 .Sp
 \&\fIValuelist\fR is a colon-separated list of the time and the values, each either
-an integer if the data-source is a counter, or a double if the data-source is
+an integer if the data-source is a counter, of a double if the data-source if
 of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
 submitting \fBU\fR to a counter the behavior is undefined. The time is given as
 epoch (i.\ e. standard \s-1UNIX\s0 time).
 .Sp
 You can mix options and values, but the order is important: Options only
 effect following values, so specifying an option as last field is allowed, but
@@ -250,13 +243,13 @@
 plugin\*(C'\fR all lines were treated as if they were prefixed with \fB\s-1PUTVAL\s0\fR. This is
 still the case to maintain backwards compatibility but deprecated.
 .RE
 .IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
 .IX Item "PUTNOTIF [OptionList] message=Message"
 Submits a notification to the daemon which will then dispatch it to all plugins
-which have registered for receiving notifications.
+which have registered for receiving notifications. 
 .Sp
 The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
 notification. The \fBmessage\fR option is special in that it will consume the rest
 of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
 mandatory.
 .Sp
@@ -300,35 +293,34 @@
 \&\fIcollectd\-unixsock\fR\|(5).
 .RE
 .RS 4
 .Sp
 When collectd exits it sends a \fB\s-1SIGTERM\s0\fR to all still running
 child-processes upon which they have to quit.
-.RE
 .SH "NOTIFICATION DATA FORMAT"
 .IX Header "NOTIFICATION DATA FORMAT"
 The notification executables receive values rather than providing them. In
 fact, after the program is started \f(CW\*(C`STDOUT\*(C'\fR is connected to \f(CW\*(C`/dev/null\*(C'\fR.
-.PP
+.Sp
 The data is passed to the executables over \f(CW\*(C`STDIN\*(C'\fR in a format very similar to
 \&\s-1HTTP:\s0 At first there is a \*(L"header\*(R" with one line per field. Every line consists
-of a field name, ended by a colon, and the associated value until end-of-line.
+of a field name, ended by a colon, and the associated value until end\-of\-line.
 The \*(L"header\*(R" is ended by two newlines immediately following another,
 i.\ e. an empty line. The rest, basically the \*(L"body\*(R", is the message of
 the notification.
-.PP
+.Sp
 The following is an example notification passed to a program:
-.PP
+.Sp
 .Vb 5
 \&  Severity: FAILURE
 \&  Time: 1200928930
 \&  Host: myhost.mydomain.org
 \&  \en
 \&  This is a test notification to demonstrate the format
 .Ve
-.PP
+.Sp
 The following header files are currently used. Please note, however, that you
 should ignore unknown header files to be as forward-compatible as possible.
 .IP "\fBSeverity\fR" 4
 .IX Item "Severity"
 Severity of the notification. May either be \fB\s-1FAILURE\s0\fR, \fB\s-1WARNING\s0\fR, or \fB\s-1OKAY\s0\fR.
 .IP "\fBTime\fR" 4
@@ -346,45 +338,43 @@
 .IP "\fBTypeInstance\fR" 4
 .IX Item "TypeInstance"
 .PD
 Identification of the performance data this notification is associated with.
 All of these fields are optional because notifications do not \fBneed\fR to be
 associated with a certain value.
+.RE
+.RS 4
 .SH "USING NAGIOS PLUGINS"
 .IX Header "USING NAGIOS PLUGINS"
 Though the interface is far from perfect, there are tons of plugins for Nagios.
 You can use these plugins with collectd by using a simple transition layer,
 \&\f(CW\*(C`exec\-nagios.px\*(C'\fR, which is shipped with the collectd distribution in the
 \&\f(CW\*(C`contrib/\*(C'\fR directory. It is a simple Perl script that comes with embedded
 documentation. To see it, run the following command:
-.PP
+.Sp
 .Vb 1
 \&  perldoc exec\-nagios.px
 .Ve
-.PP
+.Sp
 This script expects a configuration file, \f(CW\*(C`exec\-nagios.conf\*(C'\fR. You can find an
 example in the \f(CW\*(C`contrib/\*(C'\fR directory, too.
-.PP
+.Sp
 Even a simple mechanism to submit \*(L"performance data\*(R" to collectd is
 implemented. If you need a more sophisticated setup, please rewrite the plugin
 to make use of collectd's more powerful interface.
 .SH "CAVEATS"
 .IX Header "CAVEATS"
-.IP "\(bu" 4
+.IP "*" 4
 The user, the binary is executed as, may not have root privileges, i.\ e.
-must have an \s-1UID\s0 that is non-zero. This is for your own good.
+must have an \s-1UID\s0 that is non\-zero. This is for your own good.
+.RE
+.RS 4
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 \&\fIfork\fR\|(2), \fIexec\fR\|(3)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
-.SH "POD ERRORS"
-.IX Header "POD ERRORS"
-Hey! \fBThe above document had some coding errors, which are explained below:\fR
-.IP "Around line 182:" 4
-.IX Item "Around line 182:"
-You forgot a '=back' before '=head1'
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-exec.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-exec.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-exec.pod	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-exec.pod	2008-05-06 20:30:12.000000000 +0800
@@ -85,13 +85,13 @@
 
 The I<OptionList> is an optional list of I<Options>, where each option if a
 key-value-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 
 I<Valuelist> is a colon-separated list of the time and the values, each either
-an integer if the data-source is a counter, or a double if the data-source is
+an integer if the data-source is a counter, of a double if the data-source if
 of type "gauge". You can submit an undefined gauge-value by using B<U>. When
 submitting B<U> to a counter the behavior is undefined. The time is given as
 epoch (i.E<nbsp>e. standard UNIX time).
 
 You can mix options and values, but the order is important: Options only
 effect following values, so specifying an option as last field is allowed, but
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.h	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.h	2008-05-06 19:45:25.000000000 +0800
@@ -119,19 +119,14 @@
 # define NAN (0.0 / 0.0)
 # ifndef isnan
 #  define isnan(f) ((f) != (f))
 # endif /* !defined(isnan) */
 #endif /* NAN_ZERO_ZERO */
 
-/* Try really, really hard to determine endianess. Under NexentaStor 1.0.2 this
- * information is in <sys/isa_defs.h>, possibly some other Solaris versions do
- * this too.. */
 #if HAVE_ENDIAN_H
 # include <endian.h>
-#elif HAVE_SYS_ISA_DEFS_H
-# include <sys/isa_defs.h>
 #endif
 
 #ifndef BYTE_ORDER
 # if defined(_BYTE_ORDER)
 #  define BYTE_ORDER _BYTE_ORDER
 # elif defined(__BYTE_ORDER)
@@ -142,32 +137,12 @@
 # if defined(_BIG_ENDIAN)
 #  define BIG_ENDIAN _BIG_ENDIAN
 # elif defined(__BIG_ENDIAN)
 #  define BIG_ENDIAN __BIG_ENDIAN
 # endif
 #endif
-#ifndef LITTLE_ENDIAN
-# if defined(_LITTLE_ENDIAN)
-#  define LITTLE_ENDIAN _LITTLE_ENDIAN
-# elif defined(__LITTLE_ENDIAN)
-#  define LITTLE_ENDIAN __LITTLE_ENDIAN
-# endif
-#endif
-#ifndef BYTE_ORDER
-# if defined(BIG_ENDIAN) && !defined(LITTLE_ENDIAN)
-#  undef BIG_ENDIAN
-#  define BIG_ENDIAN 4321
-#  define LITTLE_ENDIAN 1234
-#  define BYTE_ORDER BIG_ENDIAN
-# elif !defined(BIG_ENDIAN) && defined(LITTLE_ENDIAN)
-#  undef LITTLE_ENDIAN
-#  define BIG_ENDIAN 4321
-#  define LITTLE_ENDIAN 1234
-#  define BYTE_ORDER LITTLE_ENDIAN
-# endif
-#endif
 #if !defined(BYTE_ORDER) || !defined(BIG_ENDIAN)
 # error "Cannot determine byte order"
 #endif
 
 #if HAVE_DIRENT_H
 # include <dirent.h>
@@ -197,12 +172,15 @@
 #endif
 
 #if HAVE_KSTAT_H
 # include <kstat.h>
 #endif
 
+#if HAVE_PTH_H
+# include <pth.h>
+#endif
 #if HAVE_SENSORS_SENSORS_H
 # include <sensors/sensors.h>
 #endif
 
 #ifndef PACKAGE_NAME
 #define PACKAGE_NAME "collectd"
@@ -239,31 +217,10 @@
 #ifndef COLLECTD_GRP_NAME
 # define COLLECTD_GRP_NAME "collectd"
 #endif
 
 #define STATIC_ARRAY_LEN(array) (sizeof (array) / sizeof ((array)[0]))
 
-/* Remove GNU specific __attribute__ settings when using another compiler */
-#if !__GNUC__
-# define __attribute__(x) /**/
-#endif
-
-#if __GNUC__
-# pragma GCC poison strcpy strcat strtok
-#endif
-
-/* 
- * Special hack for the perl plugin: Because the later included perl.h defines
- * a macro which is never used, but contains `sprintf', we cannot poison that
- * identifies just yet. The parl plugin will do that itself once perl.h is
- * included.
- */
-#ifndef DONT_POISON_SPRINTF_YET
-# if __GNUC__
-#  pragma GCC poison sprintf
-# endif
-#endif
-
 extern char hostname_g[];
 extern int  interval_g;
 
 #endif /* COLLECTD_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectdmon.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectdmon.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectdmon.1	2008-08-31 21:31:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectdmon.1	2008-05-07 03:19:41.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTDMON 1"
-.TH COLLECTDMON 1 "2008-05-06" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTDMON 1 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectdmon \- Monitoring daemon for collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectdmon \fI[options]\fR [\-\- \fIcollectd options\fR]
 .SH "DESCRIPTION"
@@ -152,13 +145,13 @@
 collectdmon supports the following options:
 .IP "\fB\-c\fR \fI<path>\fR" 4
 .IX Item "-c <path>"
 Specify the pathname of the collectd binary. You may either specify an
 absolute path or simply the name of the binary in which case the \fB\s-1PATH\s0\fR
 variable will be searched for it. The default is "\fBcollectd\fR".
-.IP "\fB\-P\fR \fI<pid\-file>\fR" 4
+.IP "\fB\-P\fR \fI<pid-file>\fR" 4
 .IX Item "-P <pid-file>"
 Specify the pid file. The default is "\fI/var/run/collectdmon.pid\fR".
 .IP "\fB\-h\fR" 4
 .IX Item "-h"
 Output usage information and exit.
 .IP "\fIcollectd options\fR" 4
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-nagios.1	2008-08-31 21:31:33.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-nagios.1	2008-05-07 03:19:40.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.4.0" "collectd"
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd-nagios \fB\-s\fR \fIsocket\fR \fB\-n\fR \fIvalue_spec\fR \fB\-H\fR \fIhostname\fR \fI[options]\fR
 .SH "DESCRIPTION"
@@ -150,13 +143,13 @@
 \&\s-1UNIX\s0 socket and reads the values from collectd. It then returns \fB\s-1OKAY\s0\fR,
 \&\fB\s-1WARNING\s0\fR or \fB\s-1CRITICAL\s0\fR depending on the values and the ranges provided by
 Nagios.
 .SH "ARGUMENTS AND OPTIONS"
 .IX Header "ARGUMENTS AND OPTIONS"
 The following arguments and options are required and understood by
-collectd-nagios. The order of the arguments generally doesn't matter, as long
+collectd\-nagios. The order of the arguments generally doesn't matter, as long
 as no argument is passed more than once.
 .IP "\fB\-s\fR \fIsocket\fR" 4
 .IX Item "-s socket"
 Path of the \s-1UNIX\s0 socket opened by collectd's \f(CW\*(C`unixsock plugin\*(C'\fR.
 .IP "\fB\-n\fR \fIvalue_spec\fR" 4
 .IX Item "-n value_spec"
@@ -206,13 +199,13 @@
 .SH "RETURN VALUE"
 .IX Header "RETURN VALUE"
 As usual for Nagios plugins this program writes a short, one line status
 message to \s-1STDOUT\s0 and signals success or failure with it's return value. It
 exists with a return value of \fB0\fR for success or \fB1\fR or \fB2\fR for warning and
 critical, respectively. If the values is not available or some other error
-occurred it returns \fB3\fR for \*(L"unknown\*(R".
+occurred it returns \fB3\fR for \*(L"unknown\*(R". 
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 <http://nagios.org/>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-nagios.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-nagios.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-nagios.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-nagios.c	2008-05-06 22:14:06.000000000 +0800
@@ -139,13 +139,13 @@
 static int get_values (int *ret_values_num, double **ret_values,
 		char ***ret_values_names)
 {
 	struct sockaddr_un sa;
 	int status;
 	int fd;
-	FILE *fh;
+	FILE *fh_in, *fh_out;
 	char buffer[4096];
 
 	int values_num;
 	double *values;
 	char **values_names;
 
@@ -169,32 +169,43 @@
 	{
 		fprintf (stderr, "connect failed: %s\n",
 				strerror (errno));
 		return (-1);
 	}
 
-	fh = fdopen (fd, "r+");
-	if (fh == NULL)
+	fh_in = fdopen (fd, "r");
+	if (fh_in == NULL)
 	{
 		fprintf (stderr, "fdopen failed: %s\n",
 				strerror (errno));
 		close (fd);
 		return (-1);
 	}
 
-	fprintf (fh, "GETVAL %s/%s\n", hostname_g, value_string_g);
-	fflush (fh);
+	fh_out = fdopen (fd, "w");
+	if (fh_out == NULL)
+	{
+		fprintf (stderr, "fdopen failed: %s\n",
+				strerror (errno));
+		fclose (fh_in);
+		return (-1);
+	}
+
+	fprintf (fh_out, "GETVAL %s/%s\n", hostname_g, value_string_g);
+	fflush (fh_out);
 
-	if (fgets (buffer, sizeof (buffer), fh) == NULL)
+	if (fgets (buffer, sizeof (buffer), fh_in) == NULL)
 	{
 		fprintf (stderr, "fgets failed: %s\n",
 				strerror (errno));
-		close (fd);
+		fclose (fh_in);
+		fclose (fh_out);
 		return (-1);
 	}
-	close (fd); fd = -1;
+	fclose (fh_in); fh_in = NULL; fd = -1;
+	fclose (fh_out); fh_out = NULL;
 
 	values_num = atoi (buffer);
 	if (values_num < 1)
 		return (-1);
 
 	values = (double *) malloc (values_num * sizeof (double));
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-perl.5	2008-08-31 21:31:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-perl.5	2008-05-07 03:19:41.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2008-08-31" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD-PERL 5 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectd\-perl \- Documentation of collectd's \f(CW\*(C`perl plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  LoadPlugin perl
@@ -182,24 +175,24 @@
 .Sp
 This option does not prevent collectd from daemonizing, so you should start
 collectd with the \fB\-f\fR command line option. Else you will not be able to use
 the command line driven interface of the debugger.
 .IP "\fBIncludeDir\fR \fIDir\fR" 4
 .IX Item "IncludeDir Dir"
-Adds \fIDir\fR to the \fB\f(CB@INC\fB\fR array. This is the same as using the \fB\-IDir\fR
+Adds \fIDir\fR to the \fB@INC\fR array. This is the same as using the \fB\-IDir\fR
 command line option or \fBuse lib Dir\fR in the source code. Please note that it
 only has effect on plugins loaded after this option.
 .SH "WRITING YOUR OWN PLUGINS"
 .IX Header "WRITING YOUR OWN PLUGINS"
 Writing your own plugins is quite simple. collectd manages plugins by means of
 \&\fBdispatch functions\fR which call the appropriate \fBcallback functions\fR
 registered by the plugins. Any plugin basically consists of the implementation
 of these callback functions and initializing code which registers the
 functions with collectd. See the section \*(L"\s-1EXAMPLES\s0\*(R" below for a really basic
 example. The following types of \fBcallback functions\fR are known to collectd
-(all of these are optional):
+(all of them are optional):
 .IP "init functions" 4
 .IX Item "init functions"
 This type of functions is called once after loading the module and before any
 calls to the read and write functions. It should be used to initialize the
 internal state of the plugin (e.\ g. open sockets, ...). If the return
 value evaluates to \fBfalse\fR, the plugin will be disabled.
@@ -212,12 +205,17 @@
 value evaluates to \fBfalse\fR the plugin will be skipped for an increasing
 amount of time until it returns \fBtrue\fR again.
 .IP "write functions" 4
 .IX Item "write functions"
 This type of function is used to write the dispatched values. It is called
 once for each call to \fBplugin_dispatch_values\fR.
+.IP "flush functions" 4
+.IX Item "flush functions"
+This type of function is used to flush internal caches of plugins. It is
+usually triggered by the user only. Any plugin which caches data before
+writing it to disk should provide this kind of callback function.
 .IP "log functions" 4
 .IX Item "log functions"
 This type of function is used to pass messages of plugins or the daemon itself
 to the user.
 .IP "notification function" 4
 .IX Item "notification function"
@@ -239,106 +237,108 @@
 See the documentation of the \fBplugin_register\fR method in the section
 \&\*(L"\s-1METHODS\s0\*(R" below for the number and types of arguments passed to each
 \&\fBcallback function\fR. This section also explains how to register \fBcallback
 functions\fR with collectd.
 .PP
 To enable a plugin, copy it to a place where Perl can find it (i.\ e. a
-directory listed in the \fB\f(CB@INC\fB\fR array) just as any other Perl plugin and add
+directory listed in the \fB@INC\fR array) just as any other Perl plugin and add
 an appropriate \fBLoadPlugin\fR option to the configuration file. After
 restarting collectd you're done.
 .SH "DATA TYPES"
 .IX Header "DATA TYPES"
 The following complex types are used to pass values between the Perl plugin
 and collectd:
 .IP "Data-Set" 4
 .IX Item "Data-Set"
-A data-set is a list of one or more data-sources. Each data-source defines a
+A data-set is a list of one or more data\-sources. Each data-source defines a
 name, type, min\- and max-value and the data-set wraps them up into one
 structure. The general layout looks like this:
 .Sp
 .Vb 6
 \&  [{
-\&    name => \*(Aqdata_source_name\*(Aq,
+\&    name => \(aqdata_source_name\(aq,
 \&    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE,
 \&    min  => value || undef,
 \&    max  => value || undef
 \&  }, ...]
 .Ve
 .IP "Value-List" 4
 .IX Item "Value-List"
 A value-list is one structure which features an array of values and fields to
 identify the values, i.\ e. time and host, plugin name and
-plugin-instance as well as a type and type-instance. Since the \*(L"type\*(R" is not
+plugin-instance as well as a type and type\-instance. Since the \*(L"type\*(R" is not
 included in the value-list but is passed as an extra argument, the general
 layout looks like this:
 .Sp
 .Vb 8
 \&  {
 \&    values => [123, 0.5],
 \&    time   => time (),
 \&    host   => $hostname_g,
-\&    plugin => \*(Aqmyplugin\*(Aq,
-\&    plugin_instance => \*(Aq\*(Aq,
-\&    type_instance   => \*(Aq\*(Aq
+\&    plugin => \(aqmyplugin\(aq,
+\&    plugin_instance => \(aq\(aq,
+\&    type_instance   => \(aq\(aq
 \&  }
 .Ve
 .IP "Notification" 4
 .IX Item "Notification"
 A notification is one structure defining the severity, time and message of the
 status message as well as an identification of a data instance:
 .Sp
 .Vb 10
 \&  {
 \&    severity => NOTIF_FAILURE || NOTIF_WARNING || NOTIF_OKAY,
 \&    time     => time (),
-\&    message  => \*(Aqstatus message\*(Aq,
+\&    message  => \(aqstatus message\(aq,
 \&    host     => $hostname_g,
-\&    plugin   => \*(Aqmyplugin\*(Aq,
-\&    type     => \*(Aqmytype\*(Aq,
-\&    plugin_instance => \*(Aq\*(Aq,
-\&    type_instance   => \*(Aq\*(Aq
+\&    plugin   => \(aqmyplugin\(aq,
+\&    type     => \(aqmytype\(aq,
+\&    plugin_instance => \(aq\(aq,
+\&    type_instance   => \(aq\(aq
 \&  }
 .Ve
 .SH "METHODS"
 .IX Header "METHODS"
-The following functions provide the C\-interface to Perl-modules. They are
+The following functions provide the C\-interface to Perl\-modules. They are
 exported by the \*(L":plugin\*(R" export tag (see the section \*(L"\s-1EXPORTS\s0\*(R" below).
 .IP "\fBplugin_register\fR (\fItype\fR, \fIname\fR, \fIdata\fR)" 4
 .IX Item "plugin_register (type, name, data)"
-Registers a callback-function or data-set.
+Registers a callback-function or data\-set.
 .Sp
 \&\fItype\fR can be one of:
 .RS 4
 .IP "\s-1TYPE_INIT\s0" 4
 .IX Item "TYPE_INIT"
 .PD 0
 .IP "\s-1TYPE_READ\s0" 4
 .IX Item "TYPE_READ"
 .IP "\s-1TYPE_WRITE\s0" 4
 .IX Item "TYPE_WRITE"
+.IP "\s-1TYPE_FLUSH\s0" 4
+.IX Item "TYPE_FLUSH"
 .IP "\s-1TYPE_LOG\s0" 4
 .IX Item "TYPE_LOG"
 .IP "\s-1TYPE_NOTIF\s0" 4
 .IX Item "TYPE_NOTIF"
 .IP "\s-1TYPE_SHUTDOWN\s0" 4
 .IX Item "TYPE_SHUTDOWN"
 .IP "\s-1TYPE_DATASET\s0" 4
 .IX Item "TYPE_DATASET"
 .RE
 .RS 4
 .PD
 .Sp
-\&\fIname\fR is the name of the callback-function or the type of the data-set,
+\&\fIname\fR is the name of the callback-function or the type of the data\-set,
 depending on the value of \fItype\fR. (Please note that the type of the data-set
 is the value passed as \fIname\fR here and has nothing to do with the \fItype\fR
 argument which simply tells \fBplugin_register\fR what is being registered.)
 .Sp
-The last argument, \fIdata\fR, is either a function name or an array-reference.
+The last argument, \fIdata\fR, is either a function name or an array\-reference.
 If \fItype\fR is \fB\s-1TYPE_DATASET\s0\fR, then the \fIdata\fR argument must be an
 array-reference which points to an array of hashes. Each hash describes one
-data-set. For the exact layout see \fBData-Set\fR above. Please note that
+data\-set. For the exact layout see \fBData-Set\fR above. Please note that
 there is a large number of predefined data-sets available in the \fBtypes.db\fR
 file which are automatically registered with collectd \- see \fItypes.db\fR\|(5) for
 a description of the format of this file.
 .Sp
 If the \fItype\fR argument is any of the other types (\fB\s-1TYPE_INIT\s0\fR, \fB\s-1TYPE_READ\s0\fR,
 \&...) then \fIdata\fR is expected to be a function name. If the name is not
@@ -355,17 +355,21 @@
 .PD 0
 .IP "\s-1TYPE_READ\s0" 4
 .IX Item "TYPE_READ"
 .IP "\s-1TYPE_SHUTDOWN\s0" 4
 .IX Item "TYPE_SHUTDOWN"
 .PD
-No arguments are passed
+No arguments are passed.
 .IP "\s-1TYPE_WRITE\s0" 4
 .IX Item "TYPE_WRITE"
 The arguments passed are \fItype\fR, \fIdata-set\fR, and \fIvalue-list\fR. \fItype\fR is a
 string. For the layout of \fIdata-set\fR and \fIvalue-list\fR see above.
+.IP "\s-1TYPE_FLUSH\s0" 4
+.IX Item "TYPE_FLUSH"
+The only argument passed is \fItimeout\fR which indicates that only data older
+than \fItimeout\fR seconds is to be flushed.
 .IP "\s-1TYPE_LOG\s0" 4
 .IX Item "TYPE_LOG"
 The arguments are \fIlog-level\fR and \fImessage\fR. The log level is small for
 important messages and high for less important messages. The least important
 level is \fB\s-1LOG_DEBUG\s0\fR, the most important level is \fB\s-1LOG_ERR\s0\fR. In between there
 are (from least to most important): \fB\s-1LOG_INFO\s0\fR, \fB\s-1LOG_NOTICE\s0\fR, and
@@ -381,15 +385,28 @@
 .IX Item "plugin_unregister (type, plugin)"
 Removes a callback or data-set from collectd's internal list of
 functions\ / datasets.
 .IP "\fBplugin_dispatch_values\fR (\fItype\fR, \fIvalue-list\fR)" 4
 .IX Item "plugin_dispatch_values (type, value-list)"
 Submits a \fIvalue-list\fR of type \fItype\fR to the daemon. If the data-set \fItype\fR
-is found (and the number of values matches the number of data-sources) then the
+is found (and the number of values matches the number of data\-sources) then the
 type, data-set and value-list is passed to all write-callbacks that are
 registered with the daemon.
+.IP "\fBplugin_flush\fR ([\fBtimeout\fR => \fItimeout\fR,] [\fBplugins\fR => \fI...\fR])" 4
+.IX Item "plugin_flush ([timeout => timeout,] [plugins => ...])"
+Flush one or more plugins. \fItimeout\fR is passed on to the registered
+flush\-callbacks. If omitted, \f(CW\*(C`\-1\*(C'\fR is used. If the \fIplugins\fR argument has
+been specified, only named plugins will be flushed. The argument's value may
+either be a string or a reference to an array of strings.
+.IP "\fBplugin_flush_one\fR (\fItimeout\fR, \fIplugin\fR)" 4
+.IX Item "plugin_flush_one (timeout, plugin)"
+This is identical to using "plugin_flush (timeout => \fItimeout\fR, plugins
+=> \fIplugin\fR".
+.IP "\fBplugin_flush_all\fR (\fItimeout\fR)" 4
+.IX Item "plugin_flush_all (timeout)"
+This is identical to using "plugin_flush (timeout => \fItimeout\fR)".
 .IP "\fBplugin_dispatch_notification\fR (\fInotification\fR)" 4
 .IX Item "plugin_dispatch_notification (notification)"
 Submits a \fInotification\fR to the daemon which will then pass it to all
 notification-callbacks that are registered.
 .IP "\fBplugin_log\fR (\fIlog-level\fR, \fImessage\fR)" 4
 .IX Item "plugin_log (log-level, message)"
@@ -398,20 +415,18 @@
 .IP "\fB\s-1ERROR\s0\fR, \fB\s-1WARNING\s0\fR, \fB\s-1NOTICE\s0\fR, \fB\s-1INFO\s0\fR, \fB\s-1DEBUG\s0\fR (\fImessage\fR)" 4
 .IX Item "ERROR, WARNING, NOTICE, INFO, DEBUG (message)"
 Wrappers around \fBplugin_log\fR, using \fB\s-1LOG_ERR\s0\fR, \fB\s-1LOG_WARNING\s0\fR,
 \&\fB\s-1LOG_NOTICE\s0\fR, \fB\s-1LOG_INFO\s0\fR and \fB\s-1LOG_DEBUG\s0\fR respectively as \fIlog-level\fR.
 .SH "GLOBAL VARIABLES"
 .IX Header "GLOBAL VARIABLES"
-.ie n .IP "\fB\fB$hostname_g\fB\fR" 4
-.el .IP "\fB\f(CB$hostname_g\fB\fR" 4
+.IP "\fB$hostname_g\fR" 4
 .IX Item "$hostname_g"
 As the name suggests this variable keeps the hostname of the system collectd
 is running on. The value might be influenced by the \fBHostname\fR or
 \&\fBFQDNLookup\fR configuration options (see \fIcollectd.conf\fR\|(5) for details).
-.ie n .IP "\fB\fB$interval_g\fB\fR" 4
-.el .IP "\fB\f(CB$interval_g\fB\fR" 4
+.IP "\fB$interval_g\fR" 4
 .IX Item "$interval_g"
 This variable keeps the interval in seconds in which the read functions are
 queried (see the \fBInterval\fR configuration option).
 .PP
 Any changes to these variables will be globally visible in collectd.
 .SH "EXPORTS"
@@ -425,12 +440,18 @@
 .IP "\fBplugin_register\fR ()" 4
 .IX Item "plugin_register ()"
 .IP "\fBplugin_unregister\fR ()" 4
 .IX Item "plugin_unregister ()"
 .IP "\fBplugin_dispatch_values\fR ()" 4
 .IX Item "plugin_dispatch_values ()"
+.IP "\fBplugin_flush\fR ()" 4
+.IX Item "plugin_flush ()"
+.IP "\fBplugin_flush_one\fR ()" 4
+.IX Item "plugin_flush_one ()"
+.IP "\fBplugin_flush_all\fR ()" 4
+.IX Item "plugin_flush_all ()"
 .IP "\fBplugin_dispatch_notification\fR ()" 4
 .IX Item "plugin_dispatch_notification ()"
 .IP "\fBplugin_log\fR ()" 4
 .IX Item "plugin_log ()"
 .RE
 .RS 4
@@ -441,12 +462,14 @@
 .IP "\fB\s-1TYPE_INIT\s0\fR" 4
 .IX Item "TYPE_INIT"
 .IP "\fB\s-1TYPE_READ\s0\fR" 4
 .IX Item "TYPE_READ"
 .IP "\fB\s-1TYPE_WRITE\s0\fR" 4
 .IX Item "TYPE_WRITE"
+.IP "\fB\s-1TYPE_FLUSH\s0\fR" 4
+.IX Item "TYPE_FLUSH"
 .IP "\fB\s-1TYPE_SHUTDOWN\s0\fR" 4
 .IX Item "TYPE_SHUTDOWN"
 .IP "\fB\s-1TYPE_LOG\s0\fR" 4
 .IX Item "TYPE_LOG"
 .RE
 .RS 4
@@ -499,55 +522,57 @@
 .RE
 .RS 4
 .RE
 .IP "\fB:globals\fR" 4
 .IX Item ":globals"
 .RS 4
-.ie n .IP "\fB\fB$hostname_g\fB\fR" 4
-.el .IP "\fB\f(CB$hostname_g\fB\fR" 4
+.IP "\fB$hostname_g\fR" 4
 .IX Item "$hostname_g"
-.ie n .IP "\fB\fB$interval_g\fB\fR" 4
-.el .IP "\fB\f(CB$interval_g\fB\fR" 4
+.IP "\fB$interval_g\fR" 4
 .IX Item "$interval_g"
 .RE
 .RS 4
 .RE
 .PD
 .SH "EXAMPLES"
 .IX Header "EXAMPLES"
 Any Perl plugin will start similar to:
 .PP
 .Vb 1
 \&  package Collectd::Plugins::FooBar;
-\&
+.Ve
+.PP
+.Vb 2
 \&  use strict;
 \&  use warnings;
-\&
+.Ve
+.PP
+.Vb 1
 \&  use Collectd qw( :all );
 .Ve
 .PP
 A very simple read function will look like:
 .PP
 .Vb 7
 \&  sub foobar_read
 \&  {
-\&    my $vl = { plugin => \*(Aqfoobar\*(Aq };
-\&    $vl\->{\*(Aqvalues\*(Aq} = [ rand(42) ];
-\&    plugin_dispatch_values (\*(Aqgauge\*(Aq, $vl);
+\&    my $vl = { plugin => \(aqfoobar\(aq };
+\&    $vl\->{\(aqvalues\(aq} = [ rand(42) ];
+\&    plugin_dispatch_values (\(aqgauge\(aq, $vl);
 \&    return 1;
 \&  }
 .Ve
 .PP
 A very simple write function will look like:
 .PP
 .Vb 8
 \&  sub foobar_write
 \&  {
 \&    my ($type, $ds, $vl) = @_;
 \&    for (my $i = 0; $i < scalar (@$ds); ++$i) {
-\&      print "$vl\->{\*(Aqplugin\*(Aq} ($vl\->{\*(Aqtype\*(Aq}): $vl\->{\*(Aqvalues\*(Aq}\->[$i]\en";
+\&      print "$vl\->{\(aqplugin\(aq} ($vl\->{\(aqtype\(aq}): $vl\->{\(aqvalues\(aq}\->[$i]\en";
 \&    }
 \&    return 1;
 \&  }
 .Ve
 .PP
 To register those functions with collectd:
@@ -569,15 +594,15 @@
 .Sp
 Before submitting your plugin, please take a look at
 <http://collectd.org/dev\-info.shtml>.
 .SH "CAVEATS"
 .IX Header "CAVEATS"
 .IP "\(bu" 4
-collectd is heavily multi-threaded. Each collectd thread accessing the perl
+collectd is heavily multi\-threaded. Each collectd thread accessing the perl
 plugin will be mapped to a Perl interpreter thread (see \fIthreads\fR\|(3perl)).
-Any such thread will be created and destroyed transparently and on-the-fly.
+Any such thread will be created and destroyed transparently and on\-the\-fly.
 .Sp
 Hence, any plugin has to be thread-safe if it provides several entry points
 from collectd (i.\ e. if it registers more than one callback or if a
 registered callback may be called more than once in parallel). Please note
 that no data is shared between threads by default. You have to use the
 \&\fBthreads::shared\fR module to do so.
@@ -590,12 +615,18 @@
 across different threads.
 .IP "\(bu" 4
 Each plugin is usually only loaded once and kept in memory for performance
 reasons. Therefore, \s-1END\s0 blocks are only executed once when collectd shuts
 down. You should not rely on \s-1END\s0 blocks anyway \- use \fBshutdown functions\fR
 instead.
+.SH "KNOWN BUGS"
+.IX Header "KNOWN BUGS"
+.IP "\(bu" 4
+Currently, it is not possible to flush a single Perl plugin only. You can
+either flush all Perl plugins or none at all and you have to use \f(CW\*(C`perl\*(C'\fR as
+plugin name when doing so.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-exec\fR\|(5),
 \&\fItypes.db\fR\|(5),
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-perl.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-perl.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-perl.pod	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-perl.pod	2008-05-06 22:14:06.000000000 +0800
@@ -64,13 +64,13 @@
 Writing your own plugins is quite simple. collectd manages plugins by means of
 B<dispatch functions> which call the appropriate B<callback functions>
 registered by the plugins. Any plugin basically consists of the implementation
 of these callback functions and initializing code which registers the
 functions with collectd. See the section "EXAMPLES" below for a really basic
 example. The following types of B<callback functions> are known to collectd
-(all of these are optional):
+(all of them are optional):
 
 =over 4
 
 =item init functions
 
 This type of functions is called once after loading the module and before any
@@ -89,12 +89,18 @@
 
 =item write functions
 
 This type of function is used to write the dispatched values. It is called
 once for each call to B<plugin_dispatch_values>.
 
+=item flush functions
+
+This type of function is used to flush internal caches of plugins. It is
+usually triggered by the user only. Any plugin which caches data before
+writing it to disk should provide this kind of callback function.
+
 =item log functions
 
 This type of function is used to pass messages of plugins or the daemon itself
 to the user.
 
 =item notification function
@@ -200,12 +206,14 @@
 =item TYPE_INIT
 
 =item TYPE_READ
 
 =item TYPE_WRITE
 
+=item TYPE_FLUSH
+
 =item TYPE_LOG
 
 =item TYPE_NOTIF
 
 =item TYPE_SHUTDOWN
 
@@ -242,19 +250,24 @@
 =item TYPE_INIT
 
 =item TYPE_READ
 
 =item TYPE_SHUTDOWN
 
-No arguments are passed
+No arguments are passed.
 
 =item TYPE_WRITE
 
 The arguments passed are I<type>, I<data-set>, and I<value-list>. I<type> is a
 string. For the layout of I<data-set> and I<value-list> see above.
 
+=item TYPE_FLUSH
+
+The only argument passed is I<timeout> which indicates that only data older
+than I<timeout> seconds is to be flushed.
+
 =item TYPE_LOG
 
 The arguments are I<log-level> and I<message>. The log level is small for
 important messages and high for less important messages. The least important
 level is B<LOG_DEBUG>, the most important level is B<LOG_ERR>. In between there
 are (from least to most important): B<LOG_INFO>, B<LOG_NOTICE>, and
@@ -276,12 +289,28 @@
 
 Submits a I<value-list> of type I<type> to the daemon. If the data-set I<type>
 is found (and the number of values matches the number of data-sources) then the
 type, data-set and value-list is passed to all write-callbacks that are
 registered with the daemon.
 
+=item B<plugin_flush> ([B<timeout> => I<timeout>,] [B<plugins> => I<...>])
+
+Flush one or more plugins. I<timeout> is passed on to the registered
+flush-callbacks. If omitted, C<-1> is used. If the I<plugins> argument has
+been specified, only named plugins will be flushed. The argument's value may
+either be a string or a reference to an array of strings.
+
+=item B<plugin_flush_one> (I<timeout>, I<plugin>)
+
+This is identical to using "plugin_flush (timeout =E<gt> I<timeout>, plugins
+=E<gt> I<plugin>".
+
+=item B<plugin_flush_all> (I<timeout>)
+
+This is identical to using "plugin_flush (timeout =E<gt> I<timeout>)".
+
 =item B<plugin_dispatch_notification> (I<notification>)
 
 Submits a I<notification> to the daemon which will then pass it to all
 notification-callbacks that are registered.
 
 =item B<plugin_log> (I<log-level>, I<message>)
@@ -329,12 +358,18 @@
 =item B<plugin_register> ()
 
 =item B<plugin_unregister> ()
 
 =item B<plugin_dispatch_values> ()
 
+=item B<plugin_flush> ()
+
+=item B<plugin_flush_one> ()
+
+=item B<plugin_flush_all> ()
+
 =item B<plugin_dispatch_notification> ()
 
 =item B<plugin_log> ()
 
 =back
 
@@ -345,12 +380,14 @@
 =item B<TYPE_INIT>
 
 =item B<TYPE_READ>
 
 =item B<TYPE_WRITE>
 
+=item B<TYPE_FLUSH>
+
 =item B<TYPE_SHUTDOWN>
 
 =item B<TYPE_LOG>
 
 =back
 
@@ -501,12 +538,24 @@
 reasons. Therefore, END blocks are only executed once when collectd shuts
 down. You should not rely on END blocks anyway - use B<shutdown functions>
 instead.
 
 =back
 
+=head1 KNOWN BUGS
+
+=over 4
+
+=item
+
+Currently, it is not possible to flush a single Perl plugin only. You can
+either flush all Perl plugins or none at all and you have to use C<perl> as
+plugin name when doing so.
+
+=back
+
 =head1 SEE ALSO
 
 L<collectd(1)>,
 L<collectd.conf(5)>,
 L<collectd-exec(5)>,
 L<types.db(5)>,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd.pod	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd.pod	2008-05-06 22:14:06.000000000 +0800
@@ -96,12 +96,29 @@
 
 Please note that some plugins, that provide other means of communicating with
 the daemon, have manpages of their own to describe their functionality in more
 detail. In particular those are L<collectd-email(5)>, L<collectd-exec(5)>,
 L<collectd-perl(5)>, L<collectd-snmp(5)>, and L<collectd-unixsock(5)>
 
+=head1 SIGNALS
+
+B<collectd> accepts the following signals:
+
+=over 4
+
+=item B<SIGINT>, B<SIGTERM>
+
+These signals cause B<collectd> to shut down all plugins and terminate.
+
+=item B<SIGUSR1>
+
+This signal causes B<collectd> to signal all plugins to flush data from
+internal caches. E.E<nbsp>g. the C<rrdtool plugin> will write all pending data
+to the RRD files. This is the same as using the C<FLUSH -1> command of the
+C<unixsock plugin>.
+
 =head1 SEE ALSO
 
 L<collectd.conf(5)>,
 L<collectd-email(5)>,
 L<collectd-exec(5)>,
 L<collectd-perl(5)>,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-snmp.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-snmp.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-snmp.5	2008-08-31 21:31:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-snmp.5	2008-05-07 03:19:41.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,22 +126,18 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-SNMP 5"
-.TH COLLECTD-SNMP 5 "2008-05-06" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD-SNMP 5 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectd\-snmp \- Documentation of collectd's \f(CW\*(C`snmp plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-.Vb 10
+.Vb 23
 \&  LoadPlugin snmp
 \&  # ...
 \&  <Plugin snmp>
 \&    <Data "powerplus_voltge_input">
 \&      Type "voltage"
 \&      Table false
@@ -162,13 +155,15 @@
 \&    <Data "std_traffic">
 \&      Type "if_octets"
 \&      Table true
 \&      Instance "IF\-MIB::ifDescr"
 \&      Values "IF\-MIB::ifInOctets" "IF\-MIB::ifOutOctets"
 \&    </Data>
-\&
+.Ve
+.PP
+.Vb 21
 \&    <Host "some.switch.mydomain.org">
 \&      Address "192.168.0.2"
 \&      Version 1
 \&      Community "community_string"
 \&      Collect "std_traffic"
 \&      Interval 120
@@ -259,20 +254,20 @@
 .IX Item "Instance Instance"
 Sets the type-instance of the values that are dispatched. The meaning of this
 setting depends on whether \fBTable\fR is set to \fItrue\fR or \fIfalse\fR:
 .Sp
 If \fBTable\fR is set to \fItrue\fR, \fIInstance\fR is interpreted as an SNMP-prefix
 that will return a list of values. Those values are then used as the actual
-type-instance. An example would be the \f(CW\*(C`IF\-MIB::ifDescr\*(C'\fR subtree.
+type\-instance. An example would be the \f(CW\*(C`IF\-MIB::ifDescr\*(C'\fR subtree.
 \&\fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution describes the format of OIDs.
 .Sp
 If \fBTable\fR is set to \fItrue\fR and \fBInstance\fR is omitted, then \*(L"\s-1SUBID\s0\*(R" will be
 used as the instance.
 .Sp
 If \fBTable\fR is set to \fIfalse\fR the actual string configured for \fIInstance\fR is
-copied into the value-list. In this case \fIInstance\fR may be empty, i.\ e.
+copied into the value\-list. In this case \fIInstance\fR may be empty, i.\ e.
 "".
 .IP "\fBInstancePrefix\fR \fIString\fR" 4
 .IX Item "InstancePrefix String"
 If \fBTable\fR is set to \fItrue\fR, you may feel the need to add something to the
 instance of the files. If set, \fIString\fR is prepended to the instance as
 determined by querying the agent. When \fBTable\fR is set to \fIfalse\fR this option
@@ -302,21 +297,21 @@
 .IX Item "Scale Value"
 The gauge-values returned by the SNMP-agent are multiplied by \fIValue\fR.  This
 is useful when values are transfered as a fixed point real number. For example,
 thermometers may transfer \fB243\fR but actually mean \fB24.3\fR, so you can specify
 a scale value of \fB0.1\fR to correct this. The default value is of course \fB1.0\fR.
 .Sp
-This value is not applied to counter-values.
+This value is not applied to counter\-values.
 .IP "\fBShift\fR \fIValue\fR" 4
 .IX Item "Shift Value"
 \&\fIValue\fR is added to gauge-values returned by the SNMP-agent after they have
 been multiplied by any \fBScale\fR value. If, for example, a thermometer returns
 degrees Kelvin you could specify a shift of \fB273.15\fR here to store values in
 degrees Celsius. The default value is is course \fB0.0\fR.
 .Sp
-This value is not applied to counter-values.
+This value is not applied to counter\-values.
 .Sh "The Host block"
 .IX Subsection "The Host block"
 The \fBHost\fR block defines which hosts to query, which \s-1SNMP\s0 community and
 version to use and which of the defined \fBData\fR to query.
 .PP
 The argument passed to the \fBHost\fR block is used as the hostname in the data
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-unixsock.5	2008-08-31 21:31:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-unixsock.5	2008-05-07 03:19:41.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2008-08-31" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH COLLECTD-UNIXSOCK 5 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -163,63 +156,72 @@
 .SH "COMMANDS"
 .IX Header "COMMANDS"
 Upon start the \f(CW\*(C`unixsock plugin\*(C'\fR opens a UNIX-socket and waits for
 connections. Once a connection is established the client can send commands to
 the daemon which it will answer, if it understand them.
 .PP
+In general the plugin answers with a status line of the following form:
+.PP
+\&\fIStatus\fR \fIMessage\fR
+.PP
+If \fIStatus\fR is greater than or equal to zero the message indicates success,
+if \fIStatus\fR is less than zero the message indicates failure. \fIMessage\fR is a
+human-readable string that further describes the return value.
+.PP
+On success, \fIStatus\fR furthermore indicates the number of subsequent lines of
+output (not including the status line). Each such lines usually contains a
+single return value. See the description of each command for details.
+.PP
 The following commands are implemented:
 .IP "\fB\s-1GETVAL\s0\fR \fIIdentifier\fR" 4
 .IX Item "GETVAL Identifier"
 If the value identified by \fIIdentifier\fR (see below) is found the complete
-value-list is returned. The response is a space separated list of
-name-value-pairs:
-.Sp
-\&\fInum\fR \fIname\fR\fB=\fR\fIvalue\fR[ \fIname\fR\fB=\fR\fIvalue\fR[ ...]]
-.Sp
-If \fInum\fR is less then zero, an error occurred. Otherwise it contains the
-number of values that follow. Each value is of the form \fIname\fR\fB=\fR\fIvalue\fR.
+value-list is returned. The response is a list of name\-value\-pairs, each pair
+on its own line (the number of lines is indicated by the status line \- see
+above). Each name-value-pair is of the form \fIname\fR\fB=\fR\fIvalue\fR.
 Counter-values are converted to a rate, e.\ g. bytes per second.
 Undefined values are returned as \fBNaN\fR.
 .Sp
 Example:
   \-> | \s-1GETVAL\s0 myhost/cpu\-0/cpu\-user
-  <\- | 1 value=1.260000e+00
+  <\- | 1 Value found
+  <\- | value=1.260000e+00
 .IP "\fB\s-1LISTVAL\s0\fR" 4
 .IX Item "LISTVAL"
 Returns a list of the values available in the value cache together with the
 time of the last update, so that querying applications can issue a \fB\s-1GETVAL\s0\fR
-command for the values that have changed.
-.Sp
-The first line's status number is the number of identifiers returned or less
-than zero if an error occurred. Each of the following lines contains the
-update time as an epoch value and the identifier, separated by a space.
+command for the values that have changed. Each return value consists of the
+update time as an epoch value and the identifier, separated by a space. The
+update time is the time of the last value, as provided by the collecting
+instance and may be very different from the time the server considers to be
+\&\*(L"now\*(R".
 .Sp
 Example:
   \-> | \s-1LISTVAL\s0
   <\- | 69 Values found
-  <\- | 1182204284 leeloo/cpu\-0/cpu\-idle
-  <\- | 1182204284 leeloo/cpu\-0/cpu\-nice
-  <\- | 1182204284 leeloo/cpu\-0/cpu\-system
-  <\- | 1182204284 leeloo/cpu\-0/cpu\-user
+  <\- | 1182204284 myhost/cpu\-0/cpu\-idle
+  <\- | 1182204284 myhost/cpu\-0/cpu\-nice
+  <\- | 1182204284 myhost/cpu\-0/cpu\-system
+  <\- | 1182204284 myhost/cpu\-0/cpu\-user
   ...
 .IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
 .IX Item "PUTVAL Identifier [OptionList] Valuelist"
 Submits one or more values (identified by \fIIdentifier\fR, see below) to the
-daemon which will dispatch it to all it's write-plugins.
+daemon which will dispatch it to all it's write\-plugins.
 .Sp
 An \fIIdentifier\fR is of the form
 \&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
 \&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
 omitted, too. \fIplugin\fR and each \fIinstance\fR\-part may be chosen freely as long
 as the tuple (plugin, plugin instance, type instance) uniquely identifies the
 plugin within collectd. \fItype\fR identifies the type and number of values
-(i.\ e. data-set) passed to collectd. A large list of predefined
+(i.\ e. data\-set) passed to collectd. A large list of predefined
 data-sets is available in the \fBtypes.db\fR file.
 .Sp
 The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option is a
-key-value-pair. A list of currently understood options can be found below, all
+key\-value\-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 .Sp
 \&\fIValuelist\fR is a colon-separated list of the time and the values, each either
 an integer if the data-source is a counter, or a double if the data-source is
 of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
 submitting \fBU\fR to a counter the behavior is undefined. The time is given as
@@ -246,13 +248,13 @@
   \-> | \s-1PUTVAL\s0 testhost/interface/if_octets\-test0 interval=10 1179574444:123:456
   <\- | 0 Success
 .RE
 .IP "\fB\s-1PUTNOTIF\s0\fR [\fIOptionList\fR] \fBmessage=\fR\fIMessage\fR" 4
 .IX Item "PUTNOTIF [OptionList] message=Message"
 Submits a notification to the daemon which will then dispatch it to all plugins
-which have registered for receiving notifications.
+which have registered for receiving notifications. 
 .Sp
 The \fB\s-1PUTNOTIF\s0\fR if followed by a list of options which further describe the
 notification. The \fBmessage\fR option is special in that it will consume the rest
 of the line as its value. The \fBmessage\fR, \fBseverity\fR, and \fBtime\fR options are
 mandatory.
 .Sp
@@ -298,12 +300,25 @@
 .RS 4
 .Sp
 Example:
   \-> | \s-1PUTNOTIF\s0 type=temperature severity=warning time=1201094702 message=The roof is on fire!
   <\- | 0 Success
 .RE
+.IP "\fB\s-1FLUSH\s0\fR [\fBtimeout=\fR\fITimeout\fR] [\fBplugin=\fR\fIPlugin\fR [...]]" 4
+.IX Item "FLUSH [timeout=Timeout] [plugin=Plugin [...]]"
+Flushes all cached data older than \fITimeout\fR seconds. If no timeout has been
+specified, it defaults to \-1 which causes all data to be flushed. \fBtimeout\fR
+may be specified multiple times \- each occurrence applies to plugins listed
+afterwards.
+.Sp
+If specified, only specific plugins are flushed. Otherwise all plugins
+providing a flush callback are flushed.
+.Sp
+Example:
+  \-> | \s-1FLUSH\s0
+  <\- | 0 Done
 .Sh "Identifiers"
 .IX Subsection "Identifiers"
 Value or value-lists are identified in a uniform fashion:
 .PP
 \&\fIHostname\fR/\fIPlugin\fR/\fIType\fR
 .PP
@@ -314,25 +329,12 @@
 .Vb 4
 \&  myhost/cpu\-0/cpu\-user
 \&  myhost/load/load
 \&  myhost/memory/memory\-used
 \&  myhost/disk\-sda/disk_octets
 .Ve
-.Sh "Return values"
-.IX Subsection "Return values"
-Unless otherwise noted the plugin answers with a line of the following form:
-.PP
-\&\fINum\fR \fIMessage\fR
-.PP
-If \fINum\fR is zero the message indicates success, if \fINum\fR is non-zero the
-message indicates failure. \fIMessage\fR is a human-readable string that describes
-the return value further.
-.PP
-Commands that return values may use \fINum\fR to return the number of values that
-follow, such as the \fB\s-1GETVAL\s0\fR command. These commands usually return a negative
-value on failure and never return zero.
 .SH "ABSTRACTION LAYER"
 .IX Header "ABSTRACTION LAYER"
 \&\fBcollectd\fR ships the Perl-Module Collectd::Unixsock which
 provides an abstraction layer over the actual socket connection. It can be
 found in the directory \fIbindings/perl/\fR in the source distribution or
 (usually) somewhere near \fI/usr/share/perl5/\fR if you're using a package. If
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-unixsock.pod /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-unixsock.pod
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/collectd-unixsock.pod	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/collectd-unixsock.pod	2008-05-06 22:14:06.000000000 +0800
@@ -26,50 +26,59 @@
 =head1 COMMANDS
 
 Upon start the C<unixsock plugin> opens a UNIX-socket and waits for
 connections. Once a connection is established the client can send commands to
 the daemon which it will answer, if it understand them.
 
+In general the plugin answers with a status line of the following form:
+
+I<Status> I<Message>
+
+If I<Status> is greater than or equal to zero the message indicates success,
+if I<Status> is less than zero the message indicates failure. I<Message> is a
+human-readable string that further describes the return value.
+
+On success, I<Status> furthermore indicates the number of subsequent lines of
+output (not including the status line). Each such lines usually contains a
+single return value. See the description of each command for details.
+
 The following commands are implemented:
 
 =over 4
 
 =item B<GETVAL> I<Identifier>
 
 If the value identified by I<Identifier> (see below) is found the complete
-value-list is returned. The response is a space separated list of
-name-value-pairs:
-
-I<num> I<name>B<=>I<value>[ I<name>B<=>I<value>[ ...]]
-
-If I<num> is less then zero, an error occurred. Otherwise it contains the
-number of values that follow. Each value is of the form I<name>B<=>I<value>.
+value-list is returned. The response is a list of name-value-pairs, each pair
+on its own line (the number of lines is indicated by the status line - see
+above). Each name-value-pair is of the form I<name>B<=>I<value>.
 Counter-values are converted to a rate, e.E<nbsp>g. bytes per second.
 Undefined values are returned as B<NaN>.
 
 Example:
   -> | GETVAL myhost/cpu-0/cpu-user
-  <- | 1 value=1.260000e+00
+  <- | 1 Value found
+  <- | value=1.260000e+00
 
 =item B<LISTVAL>
 
 Returns a list of the values available in the value cache together with the
 time of the last update, so that querying applications can issue a B<GETVAL>
-command for the values that have changed.
-
-The first line's status number is the number of identifiers returned or less
-than zero if an error occurred. Each of the following lines contains the
-update time as an epoch value and the identifier, separated by a space.
+command for the values that have changed. Each return value consists of the
+update time as an epoch value and the identifier, separated by a space. The
+update time is the time of the last value, as provided by the collecting
+instance and may be very different from the time the server considers to be
+"now".
 
 Example:
   -> | LISTVAL
   <- | 69 Values found
-  <- | 1182204284 leeloo/cpu-0/cpu-idle
-  <- | 1182204284 leeloo/cpu-0/cpu-nice
-  <- | 1182204284 leeloo/cpu-0/cpu-system
-  <- | 1182204284 leeloo/cpu-0/cpu-user
+  <- | 1182204284 myhost/cpu-0/cpu-idle
+  <- | 1182204284 myhost/cpu-0/cpu-nice
+  <- | 1182204284 myhost/cpu-0/cpu-system
+  <- | 1182204284 myhost/cpu-0/cpu-user
   ...
 
 =item B<PUTVAL> I<Identifier> [I<OptionList>] I<Valuelist>
 
 Submits one or more values (identified by I<Identifier>, see below) to the
 daemon which will dispatch it to all it's write-plugins.
@@ -171,12 +180,26 @@
 =back
 
 Example:
   -> | PUTNOTIF type=temperature severity=warning time=1201094702 message=The roof is on fire!
   <- | 0 Success
 
+=item B<FLUSH> [B<timeout=>I<Timeout>] [B<plugin=>I<Plugin> [...]]
+
+Flushes all cached data older than I<Timeout> seconds. If no timeout has been
+specified, it defaults to -1 which causes all data to be flushed. B<timeout>
+may be specified multiple times - each occurrence applies to plugins listed
+afterwards.
+
+If specified, only specific plugins are flushed. Otherwise all plugins
+providing a flush callback are flushed.
+
+Example:
+  -> | FLUSH
+  <- | 0 Done
+
 =back
 
 =head2 Identifiers
 
 Value or value-lists are identified in a uniform fashion:
 
@@ -188,26 +211,12 @@
 
   myhost/cpu-0/cpu-user
   myhost/load/load
   myhost/memory/memory-used
   myhost/disk-sda/disk_octets
 
-=head2 Return values
-
-Unless otherwise noted the plugin answers with a line of the following form:
-
-I<Num> I<Message>
-
-If I<Num> is zero the message indicates success, if I<Num> is non-zero the
-message indicates failure. I<Message> is a human-readable string that describes
-the return value further.
-
-Commands that return values may use I<Num> to return the number of values that
-follow, such as the B<GETVAL> command. These commands usually return a negative
-value on failure and never return zero.
-
 =head1 ABSTRACTION LAYER
 
 B<collectd> ships the Perl-Module L<Collectd::Unixsock> which
 provides an abstraction layer over the actual socket connection. It can be
 found in the directory F<bindings/perl/> in the source distribution or
 (usually) somewhere near F</usr/share/perl5/> if you're using a package. If
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/common.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/common.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/common.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/common.c	2008-05-06 20:30:12.000000000 +0800
@@ -67,18 +67,18 @@
 
 	if (s == NULL)
 		return (NULL);
 
 	if((r = strdup (s)) == NULL)
 	{
-		ERROR ("Not enough memory.");
-		exit (3);
+		DEBUG ("Not enough memory.");
+		exit(3);
 	}
 
 	return (r);
-} /* char *sstrdup */
+}
 
 /* Even though Posix requires "strerror_r" to return an "int",
  * some systems (e.g. the GNU libc) return a "char *" _and_
  * ignore the second argument ... -tokkee */
 char *sstrerror (int errnum, char *buf, size_t buflen)
 {
@@ -128,18 +128,18 @@
 void *smalloc (size_t size)
 {
 	void *r;
 
 	if ((r = malloc (size)) == NULL)
 	{
-		ERROR ("Not enough memory.");
-		exit (3);
+		DEBUG("Not enough memory.");
+		exit(3);
 	}
 
-	return (r);
-} /* void *smalloc */
+	return r;
+}
 
 #if 0
 void sfree (void **ptr)
 {
 	if (ptr == NULL)
 		return;
@@ -221,13 +221,13 @@
 	char *ptr;
 	char *saveptr;
 
 	i = 0;
 	ptr = string;
 	saveptr = NULL;
-	while ((fields[i] = strtok_r (ptr, " \t\r\n", &saveptr)) != NULL)
+	while ((fields[i] = strtok_r (ptr, " \t", &saveptr)) != NULL)
 	{
 		ptr = NULL;
 		i++;
 
 		if (i >= size)
 			break;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/common.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/common.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/common.h	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/common.h	2008-05-06 20:30:12.000000000 +0800
@@ -28,18 +28,16 @@
 
 #if HAVE_PWD_H
 # include <pwd.h>
 #endif
 
 #define sfree(ptr) \
-	do { \
-		if((ptr) != NULL) { \
-			free(ptr); \
-		} \
-		(ptr) = NULL; \
-	} while (0)
+	if((ptr) != NULL) { \
+		free(ptr); \
+	} \
+	(ptr) = NULL
 
 #define STATIC_ARRAY_SIZE(a) (sizeof (a) / sizeof (*(a)))
 
 char *sstrncpy (char *dest, const char *src, size_t n);
 char *sstrdup(const char *s);
 void *smalloc(size_t size);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/configfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/configfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/configfile.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/configfile.c	2008-05-06 20:30:12.000000000 +0800
@@ -325,13 +325,13 @@
 	/* Hm, no complex plugin found. Dispatch the values one by one */
 	for (i = 0; i < ci->children_num; i++)
 	{
 		if (ci->children[i].children == NULL)
 			dispatch_value_plugin (name, ci->children + i);
 		else
-			{DEBUG ("No nested config blocks allowed for this plugin.");}
+			{DEBUG ("No nested config blocks allow for this plugin.");}
 	}
 
 	return (0);
 }
 
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/config.h.in	2008-08-31 21:29:50.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/config.h.in	2008-05-07 03:17:06.000000000 +0800
@@ -178,15 +178,14 @@
 /* Define to 1 if you have the <libiptc/libiptc.h> header file. */
 #undef HAVE_LIBIPTC_LIBIPTC_H
 
 /* Define to 1 if you have the 'kstat' library (-lkstat) */
 #undef HAVE_LIBKSTAT
 
-/* Define to 1 if you have the 'kvm' library with the 'kvm_getswapinfo' symbol
-   (-lkvm) */
-#undef HAVE_LIBKVM_GETSWAPINFO
+/* Define to 1 if you have the 'kvm' library (-lkvm) */
+#undef HAVE_LIBKVM
 
 /* Define to 1 if you have the <libnetlink.h> header file. */
 #undef HAVE_LIBNETLINK_H
 
 /* Define to 1 if you have the pcap library (-lpcap). */
 #undef HAVE_LIBPCAP
@@ -233,12 +232,20 @@
 /* Define to 1 if you have the <linux/major.h> header file. */
 #undef HAVE_LINUX_MAJOR_H
 
 /* Define to 1 if you have the <linux/netdevice.h> header file. */
 #undef HAVE_LINUX_NETDEVICE_H
 
+/* Define to 1 if you have the <linux/netfilter_ipv4/ip_tables.h> header file.
+   */
+#undef HAVE_LINUX_NETFILTER_IPV4_IP_TABLES_H
+
+/* Define to 1 if you have the <linux/netfilter_ipv6/ip6_tables.h> header
+   file. */
+#undef HAVE_LINUX_NETFILTER_IPV6_IP6_TABLES_H
+
 /* Define to 1 if you have the <linux/pkt_sched.h> header file. */
 #undef HAVE_LINUX_PKT_SCHED_H
 
 /* Define to 1 if you have the <linux/un.h> header file. */
 #undef HAVE_LINUX_UN_H
 
@@ -371,12 +378,15 @@
 /* Define to 1 if you have the <net-snmp/net-snmp-config.h> header file. */
 #undef HAVE_NET_SNMP_NET_SNMP_CONFIG_H
 
 /* Define if the function getmntent exists and takes one argument. */
 #undef HAVE_ONE_GETMNTENT
 
+/* Define to 1 if you have the <OpenIPMI/ipmi_smi.h> header file. */
+#undef HAVE_OPENIPMI_IPMI_SMI_H
+
 /* Define to 1 if you have the `openlog' function. */
 #undef HAVE_OPENLOG
 
 /* Define to 1 if you have the <paths.h> header file. */
 #undef HAVE_PATHS_H
 
@@ -392,12 +402,15 @@
 /* Define to 1 if the apcups plugin is enabled. */
 #undef HAVE_PLUGIN_APCUPS
 
 /* Define to 1 if the apple_sensors plugin is enabled. */
 #undef HAVE_PLUGIN_APPLE_SENSORS
 
+/* Define to 1 if the ascent plugin is enabled. */
+#undef HAVE_PLUGIN_ASCENT
+
 /* Define to 1 if the battery plugin is enabled. */
 #undef HAVE_PLUGIN_BATTERY
 
 /* Define to 1 if the cpu plugin is enabled. */
 #undef HAVE_PLUGIN_CPU
 
@@ -428,12 +441,15 @@
 /* Define to 1 if the hddtemp plugin is enabled. */
 #undef HAVE_PLUGIN_HDDTEMP
 
 /* Define to 1 if the interface plugin is enabled. */
 #undef HAVE_PLUGIN_INTERFACE
 
+/* Define to 1 if the ipmi plugin is enabled. */
+#undef HAVE_PLUGIN_IPMI
+
 /* Define to 1 if the iptables plugin is enabled. */
 #undef HAVE_PLUGIN_IPTABLES
 
 /* Define to 1 if the ipvs plugin is enabled. */
 #undef HAVE_PLUGIN_IPVS
 
@@ -485,12 +501,15 @@
 /* Define to 1 if the perl plugin is enabled. */
 #undef HAVE_PLUGIN_PERL
 
 /* Define to 1 if the ping plugin is enabled. */
 #undef HAVE_PLUGIN_PING
 
+/* Define to 1 if the powerdns plugin is enabled. */
+#undef HAVE_PLUGIN_POWERDNS
+
 /* Define to 1 if the processes plugin is enabled. */
 #undef HAVE_PLUGIN_PROCESSES
 
 /* Define to 1 if the rrdtool plugin is enabled. */
 #undef HAVE_PLUGIN_RRDTOOL
 
@@ -506,27 +525,36 @@
 /* Define to 1 if the swap plugin is enabled. */
 #undef HAVE_PLUGIN_SWAP
 
 /* Define to 1 if the syslog plugin is enabled. */
 #undef HAVE_PLUGIN_SYSLOG
 
+/* Define to 1 if the tail plugin is enabled. */
+#undef HAVE_PLUGIN_TAIL
+
 /* Define to 1 if the tape plugin is enabled. */
 #undef HAVE_PLUGIN_TAPE
 
 /* Define to 1 if the tcpconns plugin is enabled. */
 #undef HAVE_PLUGIN_TCPCONNS
 
+/* Define to 1 if the teamspeak2 plugin is enabled. */
+#undef HAVE_PLUGIN_TEAMSPEAK2
+
 /* Define to 1 if the unixsock plugin is enabled. */
 #undef HAVE_PLUGIN_UNIXSOCK
 
 /* Define to 1 if the users plugin is enabled. */
 #undef HAVE_PLUGIN_USERS
 
 /* Define to 1 if the uuid plugin is enabled. */
 #undef HAVE_PLUGIN_UUID
 
+/* Define to 1 if the vmem plugin is enabled. */
+#undef HAVE_PLUGIN_VMEM
+
 /* Define to 1 if the vserver plugin is enabled. */
 #undef HAVE_PLUGIN_VSERVER
 
 /* Define to 1 if the wireless plugin is enabled. */
 #undef HAVE_PLUGIN_WIRELESS
 
@@ -702,15 +730,12 @@
 /* Define to 1 if you have the <sys/fs_types.h> header file. */
 #undef HAVE_SYS_FS_TYPES_H
 
 /* Define to 1 if you have the <sys/ioctl.h> header file. */
 #undef HAVE_SYS_IOCTL_H
 
-/* Define to 1 if you have the <sys/isa_defs.h> header file. */
-#undef HAVE_SYS_ISA_DEFS_H
-
 /* Define to 1 if you have the <sys/loadavg.h> header file. */
 #undef HAVE_SYS_LOADAVG_H
 
 /* Define to 1 if you have the <sys/mntent.h> header file. */
 #undef HAVE_SYS_MNTENT_H
 
@@ -830,12 +855,15 @@
 /* Define if NAN can be defined as (0.0 / 0.0) */
 #undef NAN_ZERO_ZERO
 
 /* Define to 1 if your C compiler doesn't accept -c and -o together. */
 #undef NO_MINUS_C_MINUS_O
 
+/* Define to 1 if we use the shipped iptc library. */
+#undef OWN_LIBIPTC
+
 /* Name of package */
 #undef PACKAGE
 
 /* Define to the address where bug reports for this package should be sent. */
 #undef PACKAGE_BUGREPORT
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/cpu.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/cpu.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/cpu.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/cpu.c	2008-05-06 22:14:06.000000000 +0800
@@ -65,13 +65,18 @@
 #  define CP_INTR   3
 #  define CP_IDLE   4
 #  define CPUSTATES 5
 # endif
 #endif /* HAVE_SYSCTLBYNAME */
 
-#if !PROCESSOR_CPU_LOAD_INFO && !KERNEL_LINUX && !HAVE_LIBKSTAT && !HAVE_SYSCTLBYNAME
+#if HAVE_STATGRAB_H
+# include <statgrab.h>
+#endif
+
+#if !PROCESSOR_CPU_LOAD_INFO && !KERNEL_LINUX && !HAVE_LIBKSTAT \
+	&& !HAVE_SYSCTLBYNAME && !HAVE_LIBSTATGRAB
 # error "No applicable input method."
 #endif
 
 #ifdef PROCESSOR_CPU_LOAD_INFO
 static mach_port_t port_host;
 static processor_port_array_t cpu_list;
@@ -95,13 +100,17 @@
 static kstat_t *ksp[MAX_NUMCPU];
 static int numcpu;
 /* #endif HAVE_LIBKSTAT */
 
 #elif defined(HAVE_SYSCTLBYNAME)
 static int numcpu;
-#endif /* HAVE_SYSCTLBYNAME */
+/* #endif HAVE_SYSCTLBYNAME */
+
+#elif defined(HAVE_LIBSTATGRAB)
+/* no variables needed */
+#endif /* HAVE_LIBSTATGRAB */
 
 static int init (void)
 {
 #if PROCESSOR_CPU_LOAD_INFO || PROCESSOR_TEMPERATURE
 	kern_return_t status;
 
@@ -149,13 +158,17 @@
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
 	if (numcpu != 1)
 		NOTICE ("cpu: Only one processor supported when using `sysctlbyname' (found %i)", numcpu);
-#endif
+/* #endif HAVE_SYSCTLBYNAME */
+
+#elif defined(HAVE_LIBSTATGRAB)
+	/* nothing to initialize */
+#endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
 } /* int init */
 
 static void submit (int cpu_num, const char *type_instance, counter_t value)
 {
@@ -164,18 +177,18 @@
 
 	values[0].counter = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "cpu", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "cpu");
 	snprintf (vl.plugin_instance, sizeof (vl.type_instance),
 			"%i", cpu_num);
 	vl.plugin_instance[DATA_MAX_NAME_LEN - 1] = '\0';
-	sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
+	strcpy (vl.type_instance, type_instance);
 
 	plugin_dispatch_values ("cpu", &vl);
 }
 
 static int cpu_read (void)
 {
@@ -367,13 +380,31 @@
 	cpuinfo[CP_SYS] += cpuinfo[CP_INTR];
 
 	submit (0, "user", cpuinfo[CP_USER]);
 	submit (0, "nice", cpuinfo[CP_NICE]);
 	submit (0, "system", cpuinfo[CP_SYS]);
 	submit (0, "idle", cpuinfo[CP_IDLE]);
-#endif
+/* #endif HAVE_SYSCTLBYNAME */
+
+#elif defined(HAVE_LIBSTATGRAB)
+       sg_cpu_stats *cs;
+       cs = sg_get_cpu_stats ();
+
+       if (cs == NULL)
+       {
+	       ERROR ("cpu plugin: sg_get_cpu_stats failed.");
+               return (-1);
+       }
+
+       submit (0, "idle",   (counter_t) cs->idle);
+       submit (0, "nice",   (counter_t) cs->nice);
+       submit (0, "swap",   (counter_t) cs->swap);
+       submit (0, "system", (counter_t) cs->kernel);
+       submit (0, "user",   (counter_t) cs->user);
+       submit (0, "wait",   (counter_t) cs->iowait);
+#endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
 }
 
 void module_register (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/cpufreq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/cpufreq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/cpufreq.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/cpufreq.c	2008-05-06 20:30:12.000000000 +0800
@@ -65,14 +65,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "cpufreq", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "cpufreq");
 	snprintf (vl.type_instance, sizeof (vl.type_instance),
 			"%i", cpu_num);
 
 	plugin_dispatch_values ("cpufreq", &vl);
 }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/df.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/df.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/df.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/df.c	2008-05-06 20:26:55.000000000 +0800
@@ -122,15 +122,15 @@
 	values[0].gauge = df_used;
 	values[1].gauge = df_free;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "df", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "df");
+	strcpy (vl.plugin_instance, "");
 	strncpy (vl.type_instance, df_name, sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("df", &vl);
 } /* void df_submit */
 
 static int df_read (void)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/disk.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/disk.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/disk.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/disk.c	2008-05-06 22:14:06.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/disk.c
- * Copyright (C) 2005-2007  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -19,12 +19,13 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
+#include "utils_ignorelist.h"
 
 #if HAVE_MACH_MACH_TYPES_H
 #  include <mach/mach_types.h>
 #endif
 #if HAVE_MACH_MACH_INIT_H
 #  include <mach/mach_init.h>
@@ -55,12 +56,16 @@
 # include <limits.h>
 #endif
 #ifndef UINT_MAX
 #  define UINT_MAX 4294967295U
 #endif
 
+#if HAVE_STATGRAB_H
+# include <statgrab.h>
+#endif
+
 #if HAVE_IOKIT_IOKITLIB_H
 static mach_port_t io_master_port = MACH_PORT_NULL;
 /* #endif HAVE_IOKIT_IOKITLIB_H */
 
 #elif KERNEL_LINUX
 typedef struct diskstats
@@ -94,16 +99,56 @@
 #define MAX_NUMDISK 256
 extern kstat_ctl_t *kc;
 static kstat_t *ksp[MAX_NUMDISK];
 static int numdisk = 0;
 /* #endif HAVE_LIBKSTAT */
 
+#elif defined(HAVE_LIBSTATGRAB)
+/* #endif HAVE_LIBKSTATGRAB */
+
 #else
 # error "No applicable input method."
 #endif
 
+static const char *config_keys[] =
+{
+	"Disk",
+	"IgnoreSelected"
+};
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+
+static ignorelist_t *ignorelist = NULL;
+
+static int disk_config (const char *key, const char *value)
+{
+  if (ignorelist == NULL)
+    ignorelist = ignorelist_create (/* invert = */ 1);
+  if (ignorelist == NULL)
+    return (1);
+
+  if (strcasecmp ("Disk", key) == 0)
+  {
+    ignorelist_add (ignorelist, value);
+  }
+  else if (strcasecmp ("IgnoreSelected", key) == 0)
+  {
+    int invert = 1;
+    if ((strcasecmp ("True", value) == 0)
+	|| (strcasecmp ("Yes", value) == 0)
+	|| (strcasecmp ("On", value) == 0))
+      invert = 0;
+    ignorelist_set_invert (ignorelist, invert);
+  }
+  else
+  {
+    return (-1);
+  }
+
+  return (0);
+} /* int disk_config */
+
 static int disk_init (void)
 {
 #if HAVE_IOKIT_IOKITLIB_H
 	kern_return_t status;
 	
 	if (io_master_port != MACH_PORT_NULL)
@@ -155,20 +200,24 @@
 		const char *type,
 		counter_t read, counter_t write)
 {
 	value_t values[2];
 	value_list_t vl = VALUE_LIST_INIT;
 
+	/* Both `ignorelist' and `plugin_instance' may be NULL. */
+	if (ignorelist_match (ignorelist, plugin_instance) != 0)
+	  return;
+
 	values[0].counter = read;
 	values[1].counter = write;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "disk", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "disk");
 	strncpy (vl.plugin_instance, plugin_instance,
 			sizeof (vl.plugin_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void disk_submit */
 
@@ -400,13 +449,13 @@
 		if ((numfields != (14 + fieldshift)) && (numfields != 7))
 			continue;
 
 		major = atoll (fields[0]);
 		minor = atoll (fields[1]);
 
-		disk_name = fields[2 + fieldshift];
+		disk_name = fields[2];
 
 		for (ds = disklist, pre_ds = disklist; ds != NULL; pre_ds = ds, ds = ds->next)
 			if (strcmp (disk_name, ds->name) == 0)
 				break;
 
 		if (ds == NULL)
@@ -614,16 +663,34 @@
 			disk_submit (ksp[i]->ks_name, "disk_octets",
 					kio.KIO_ROCTETS, kio.KIO_WOCTETS);
 			disk_submit (ksp[i]->ks_name, "disk_ops",
 					kio.KIO_ROPS, kio.KIO_WOPS);
 		}
 	}
-#endif /* defined(HAVE_LIBKSTAT) */
+/* #endif defined(HAVE_LIBKSTAT) */
+
+#elif defined(HAVE_LIBSTATGRAB)
+	sg_disk_io_stats *ds;
+	int disks, counter;
+	char name[DATA_MAX_NAME_LEN];
+	
+	if ((ds = sg_get_disk_io_stats(&disks)) == NULL)
+		return (0);
+		
+	for (counter=0; counter < disks; counter++) {
+		strncpy(name, ds->disk_name, sizeof(name));
+		name[sizeof(name)-1] = '\0'; /* strncpy doesn't terminate longer strings */
+		disk_submit (name, "disk_octets", ds->read_bytes, ds->write_bytes);
+		ds++;
+	}
+#endif /* defined(HAVE_LIBSTATGRAB) */
 
 	return (0);
 } /* int disk_read */
 
 void module_register (void)
 {
-	plugin_register_init ("disk", disk_init);
-	plugin_register_read ("disk", disk_read);
+  plugin_register_config ("disk", disk_config,
+      config_keys, config_keys_num);
+  plugin_register_init ("disk", disk_init);
+  plugin_register_read ("disk", disk_read);
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/dns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/dns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/dns.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/dns.c	2008-05-06 20:26:55.000000000 +0800
@@ -296,14 +296,14 @@
 
 	values[0].counter = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "dns", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "dns");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void submit_counter */
 
 static void submit_octets (counter_t queries, counter_t responses)
@@ -314,14 +314,14 @@
 	values[0].counter = queries;
 	values[1].counter = responses;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "dns", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "dns");
 
 	plugin_dispatch_values ("dns_octets", &vl);
 } /* void submit_counter */
 
 static int dns_read (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/email.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/email.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/email.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/email.c	2008-05-06 22:14:06.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/email.c
- * Copyright (C) 2006,2007  Sebastian Harl
+ * Copyright (C) 2006-2008  Sebastian Harl
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -55,23 +55,19 @@
 #endif /* UNIX_PATH_MAX */
 
 #if HAVE_GRP_H
 #	include <grp.h>
 #endif /* HAVE_GRP_H */
 
-#define MODULE_NAME "email"
-
-/* 256 bytes ought to be enough for anybody ;-) */
-#define BUFSIZE 256
-
 #define SOCK_PATH LOCALSTATEDIR"/run/"PACKAGE_NAME"-email"
 #define MAX_CONNS 5
 #define MAX_CONNS_LIMIT 16384
 
-#define log_err(...) ERROR (MODULE_NAME": "__VA_ARGS__)
-#define log_warn(...) WARNING (MODULE_NAME": "__VA_ARGS__)
+#define log_debug(...) DEBUG ("email: "__VA_ARGS__)
+#define log_err(...) ERROR ("email: "__VA_ARGS__)
+#define log_warn(...) WARNING ("email: "__VA_ARGS__)
 
 /*
  * Private data structures
  */
 /* linked list of email and check types */
 typedef struct type {
@@ -87,25 +83,21 @@
 
 /* collector thread control information */
 typedef struct collector {
 	pthread_t thread;
 
 	/* socket descriptor of the current/last connection */
-	int socket;
+	FILE *socket;
 } collector_t;
 
 /* linked list of pending connections */
 typedef struct conn {
 	/* socket to read data from */
-	int socket;
-
-	/* buffer to read data to */
-	char *buffer;
-	int  idx; /* current write position in buffer */
-	int  length; /* length of the current line, i.e. index of '\0' */
+	FILE *socket;
 
+	/* linked list of connections */
 	struct conn *next;
 } conn_t;
 
 typedef struct {
 	conn_t *head;
 	conn_t *tail;
@@ -122,14 +114,14 @@
 	"SocketPerms",
 	"MaxConns"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 /* socket configuration */
-static char *sock_file  = SOCK_PATH;
-static char *sock_group = COLLECTD_GRP_NAME;
+static char *sock_file  = NULL;
+static char *sock_group = NULL;
 static int  sock_perms  = S_IRWXU | S_IRWXG;
 static int  max_conns   = MAX_CONNS;
 
 /* state of the plugin */
 static int disabled = 0;
 
@@ -151,33 +143,40 @@
 static collector_t **collectors = NULL;
 
 static pthread_mutex_t available_mutex = PTHREAD_MUTEX_INITIALIZER;
 static int available_collectors;
 
 static pthread_mutex_t count_mutex = PTHREAD_MUTEX_INITIALIZER;
-static type_list_t count;
+static type_list_t list_count;
+static type_list_t list_count_copy;
 
 static pthread_mutex_t size_mutex = PTHREAD_MUTEX_INITIALIZER;
-static type_list_t size;
+static type_list_t list_size;
+static type_list_t list_size_copy;
 
 static pthread_mutex_t score_mutex = PTHREAD_MUTEX_INITIALIZER;
 static double score;
 static int score_count;
 
 static pthread_mutex_t check_mutex = PTHREAD_MUTEX_INITIALIZER;
-static type_list_t check;
+static type_list_t list_check;
+static type_list_t list_check_copy;
 
 /*
  * Private functions
  */
 static int email_config (const char *key, const char *value)
 {
 	if (0 == strcasecmp (key, "SocketFile")) {
+		if (NULL != sock_file)
+			free (sock_file);
 		sock_file = sstrdup (value);
 	}
 	else if (0 == strcasecmp (key, "SocketGroup")) {
+		if (NULL != sock_group)
+			free (sock_group);
 		sock_group = sstrdup (value);
 	}
 	else if (0 == strcasecmp (key, "SocketPerms")) {
 		/* the user is responsible for providing reasonable values */
 		sock_perms = (int)strtol (value, NULL, 8);
 	}
@@ -238,145 +237,16 @@
 			ptr->value += incr;
 		}
 	}
 	return;
 } /* static void type_list_incr (type_list_t *, char *) */
 
-/* Read a single character from the socket. If an error occurs or end-of-file
- * is reached return '\0'. */
-static char read_char (conn_t *src)
-{
-	char ret = '\0';
-
-	fd_set fdset;
-
-	FD_ZERO (&fdset);
-	FD_SET (src->socket, &fdset);
-
-	if (-1 == select (src->socket + 1, &fdset, NULL, NULL, NULL)) {
-		char errbuf[1024];
-		log_err ("select() failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		return '\0';
-	}
-
-	assert (FD_ISSET (src->socket, &fdset));
-
-	do {
-		ssize_t len = 0;
-
-		errno = 0;
-		if (0 > (len = read (src->socket, (void *)&ret, 1))) {
-			if (EINTR != errno) {
-				char errbuf[1024];
-				log_err ("read() failed: %s",
-						sstrerror (errno, errbuf, sizeof (errbuf)));
-				return '\0';
-			}
-		}
-
-		if (0 == len)
-			return '\0';
-	} while (EINTR == errno);
-	return ret;
-} /* static char read_char (conn_t *) */
-
-/* Read a single line (terminated by '\n') from the the socket.
- *
- * The return value is zero terminated and does not contain any newline
- * characters.
- *
- * If an error occurs or end-of-file is reached return NULL.
- *
- * IMPORTANT NOTE: If there is no newline character found in BUFSIZE
- * characters of the input stream, the line will will be ignored! By
- * definition we should not get any longer input lines, thus this is
- * acceptable in this case ;-) */
-static char *read_line (conn_t *src)
-{
-	int i = 0;
-
-	assert ((BUFSIZE >= src->idx) && (src->idx >= 0));
-	assert ((src->idx > src->length) || (src->length == 0));
-
-	if (src->length > 0) { /* remove old line */
-		src->idx -= (src->length + 1);
-		memmove (src->buffer, src->buffer + src->length + 1, src->idx);
-		src->length = 0;
-	}
-
-	for (i = 0; i < src->idx; ++i) {
-		if ('\n' == src->buffer[i])
-			break;
-	}
-
-	if (i == src->idx) {
-		fd_set fdset;
-
-		ssize_t len = 0;
-
-		FD_ZERO (&fdset);
-		FD_SET (src->socket, &fdset);
-
-		if (-1 == select (src->socket + 1, &fdset, NULL, NULL, NULL)) {
-			char errbuf[1024];
-			log_err ("select() failed: %s",
-					sstrerror (errno, errbuf, sizeof (errbuf)));
-			return NULL;
-		}
-
-		assert (FD_ISSET (src->socket, &fdset));
-
-		do {
-			errno = 0;
-			if (0 > (len = read (src->socket,
-							(void *)(src->buffer + src->idx),
-							BUFSIZE - src->idx))) {
-				if (EINTR != errno) {
-					char errbuf[1024];
-					log_err ("read() failed: %s",
-							sstrerror (errno, errbuf, sizeof (errbuf)));
-					return NULL;
-				}
-			}
-
-			if (0 == len)
-				return NULL;
-		} while (EINTR == errno);
-
-		src->idx += len;
-
-		for (i = src->idx - len; i < src->idx; ++i) {
-			if ('\n' == src->buffer[i])
-				break;
-		}
-
-		if (i == src->idx) {
-			src->length = 0;
-
-			if (BUFSIZE == src->idx) { /* no space left in buffer */
-				while ('\n' != read_char (src))
-					/* ignore complete line */;
-
-				src->idx = 0;
-			}
-			return read_line (src);
-		}
-	}
-
-	src->buffer[i] = '\0';
-	src->length    = i;
-
-	return src->buffer;
-} /* static char *read_line (conn_t *) */
-
 static void *collect (void *arg)
 {
 	collector_t *this = (collector_t *)arg;
-
-	char *buffer = (char *)smalloc (BUFSIZE);
+	pthread_t    self = pthread_self ();
 
 	while (1) {
 		int loop = 1;
 
 		conn_t *connection;
 
@@ -390,73 +260,81 @@
 		conns.head = conns.head->next;
 
 		if (NULL == conns.head) {
 			conns.tail = NULL;
 		}
 
-		this->socket = connection->socket;
-
 		pthread_mutex_unlock (&conns_mutex);
 
-		connection->buffer = buffer;
-		connection->idx    = 0;
-		connection->length = 0;
+		/* make the socket available to the global
+		 * thread and connection management */
+		this->socket = connection->socket;
+
+		log_debug ("[thread #%5lu] handling connection on fd #%i",
+				self, fileno (this->socket));
 
-		{ /* put the socket in non-blocking mode */
-			int flags = 0;
+		while (loop) {
+			/* 256 bytes ought to be enough for anybody ;-) */
+			char line[256 + 1]; /* line + '\0' */
+			int  len = 0;
 
 			errno = 0;
-			if (-1 == fcntl (connection->socket, F_GETFL, &flags)) {
-				char errbuf[1024];
-				log_err ("fcntl() failed: %s",
-						sstrerror (errno, errbuf, sizeof (errbuf)));
+			if (NULL == fgets (line, sizeof (line), this->socket)) {
 				loop = 0;
+
+				if (0 != errno) {
+					char errbuf[1024];
+					log_err ("[thread #%5lu] reading from socket (fd #%i) "
+							"failed: %s", self, fileno (this->socket),
+							sstrerror (errno, errbuf, sizeof (errbuf)));
+				}
+				break;
 			}
 
-			errno = 0;
-			if (-1 == fcntl (connection->socket, F_SETFL, flags | O_NONBLOCK)) {
-				char errbuf[1024];
-				log_err ("fcntl() failed: %s",
-						sstrerror (errno, errbuf, sizeof (errbuf)));
-				loop = 0;
+			len = strlen (line);
+			if (('\n' != line[len - 1]) && ('\r' != line[len - 1])) {
+				log_warn ("[thread #%5lu] line too long (> %i characters): "
+						"'%s' (truncated)", self, sizeof (line) - 1, line);
+
+				while (NULL != fgets (line, sizeof (line), this->socket))
+					if (('\n' == line[len - 1]) || ('\r' == line[len - 1]))
+						break;
+				continue;
 			}
-		}
 
-		while (loop) {
-			char *line = read_line (connection);
+			line[len - 1] = '\0';
 
-			if (NULL == line) {
-				loop = 0;
-				break;
-			}
+			log_debug ("[thread #%5lu] line = '%s'", self, line);
 
 			if (':' != line[1]) {
-				log_err ("syntax error in line '%s'", line);
+				log_err ("[thread #%5lu] syntax error in line '%s'",
+						self, line);
 				continue;
 			}
 
 			if ('e' == line[0]) { /* e:<type>:<bytes> */
 				char *ptr  = NULL;
 				char *type = strtok_r (line + 2, ":", &ptr);
 				char *tmp  = strtok_r (NULL, ":", &ptr);
 				int  bytes = 0;
 
 				if (NULL == tmp) {
-					log_err ("syntax error in line '%s'", line);
+					log_err ("[thread #%5lu] syntax error in line '%s'",
+							self, line);
 					continue;
 				}
 
 				bytes = atoi (tmp);
 
 				pthread_mutex_lock (&count_mutex);
-				type_list_incr (&count, type, 1);
+				type_list_incr (&list_count, type, 1);
 				pthread_mutex_unlock (&count_mutex);
 
 				if (bytes > 0) {
 					pthread_mutex_lock (&size_mutex);
-					type_list_incr (&size, type, bytes);
+					type_list_incr (&list_size, type, bytes);
 					pthread_mutex_unlock (&size_mutex);
 				}
 			}
 			else if ('s' == line[0]) { /* s:<value> */
 				pthread_mutex_lock (&score_mutex);
 				score = (score * (double)score_count + atof (line + 2))
@@ -467,116 +345,119 @@
 			else if ('c' == line[0]) { /* c:<type1>[,<type2>,...] */
 				char *ptr  = NULL;
 				char *type = strtok_r (line + 2, ",", &ptr);
 
 				do {
 					pthread_mutex_lock (&check_mutex);
-					type_list_incr (&check, type, 1);
+					type_list_incr (&list_check, type, 1);
 					pthread_mutex_unlock (&check_mutex);
 				} while (NULL != (type = strtok_r (NULL, ",", &ptr)));
 			}
 			else {
-				log_err ("unknown type '%c'", line[0]);
+				log_err ("[thread #%5lu] unknown type '%c'", self, line[0]);
 			}
 		} /* while (loop) */
 
-		close (connection->socket);
+		log_debug ("[thread #%5lu] shutting down connection on fd #%i",
+				pthread_self (), fileno (this->socket));
+
+		fclose (connection->socket);
 		free (connection);
 
-		this->socket = -1;
+		this->socket = NULL;
 
 		pthread_mutex_lock (&available_mutex);
 		++available_collectors;
 		pthread_mutex_unlock (&available_mutex);
 
 		pthread_cond_signal (&collector_available);
 	} /* while (1) */
 
-	free (buffer);
 	pthread_exit ((void *)0);
 } /* static void *collect (void *) */
 
 static void *open_connection (void *arg)
 {
 	struct sockaddr_un addr;
 
+	char *path  = (NULL == sock_file) ? SOCK_PATH : sock_file;
+	char *group = (NULL == sock_group) ? COLLECTD_GRP_NAME : sock_group;
+
 	/* create UNIX socket */
 	errno = 0;
 	if (-1 == (connector_socket = socket (PF_UNIX, SOCK_STREAM, 0))) {
 		char errbuf[1024];
 		disabled = 1;
 		log_err ("socket() failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		pthread_exit ((void *)1);
 	}
 
 	addr.sun_family = AF_UNIX;
 
-	strncpy (addr.sun_path, sock_file, (size_t)(UNIX_PATH_MAX - 1));
+	strncpy (addr.sun_path, path, (size_t)(UNIX_PATH_MAX - 1));
 	addr.sun_path[UNIX_PATH_MAX - 1] = '\0';
+	unlink (addr.sun_path);
 
 	errno = 0;
 	if (-1 == bind (connector_socket, (struct sockaddr *)&addr,
 				offsetof (struct sockaddr_un, sun_path)
 					+ strlen(addr.sun_path))) {
 		char errbuf[1024];
 		disabled = 1;
-		connector_socket = -1; /* TODO: close? */
+		close (connector_socket);
+		connector_socket = -1;
 		log_err ("bind() failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		pthread_exit ((void *)1);
 	}
 
 	errno = 0;
 	if (-1 == listen (connector_socket, 5)) {
 		char errbuf[1024];
 		disabled = 1;
-		connector_socket = -1; /* TODO: close? */
+		close (connector_socket);
+		connector_socket = -1;
 		log_err ("listen() failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		pthread_exit ((void *)1);
 	}
 
-	if ((uid_t) 0 == geteuid ())
 	{
 		struct group sg;
 		struct group *grp;
 		char grbuf[2048];
 		int status;
 
 		grp = NULL;
-		status = getgrnam_r (sock_group, &sg, grbuf, sizeof (grbuf), &grp);
+		status = getgrnam_r (group, &sg, grbuf, sizeof (grbuf), &grp);
 		if (status != 0)
 		{
 			char errbuf[1024];
-			log_warn ("getgrnam_r (%s) failed: %s", sock_group,
+			log_warn ("getgrnam_r (%s) failed: %s", group,
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 		}
 		else if (grp == NULL)
 		{
-			log_warn ("No such group: `%s'", sock_group);
+			log_warn ("No such group: `%s'", group);
 		}
 		else
 		{
-			status = chown (sock_file, (uid_t) -1, grp->gr_gid);
+			status = chown (path, (uid_t) -1, grp->gr_gid);
 			if (status != 0)
 			{
 				char errbuf[1024];
 				log_warn ("chown (%s, -1, %i) failed: %s",
-						sock_file, (int) grp->gr_gid,
+						path, (int) grp->gr_gid,
 						sstrerror (errno, errbuf, sizeof (errbuf)));
 			}
 		}
 	}
-	else /* geteuid != 0 */
-	{
-		log_warn ("not running as root");
-	}
 
 	errno = 0;
-	if (0 != chmod (sock_file, sock_perms)) {
+	if (0 != chmod (path, sock_perms)) {
 		char errbuf[1024];
 		log_warn ("chmod() failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 
 	{ /* initialize collector threads */
@@ -595,13 +476,13 @@
 
 		collectors =
 			(collector_t **)smalloc (max_conns * sizeof (collector_t *));
 
 		for (i = 0; i < max_conns; ++i) {
 			collectors[i] = (collector_t *)smalloc (sizeof (collector_t));
-			collectors[i]->socket = -1;
+			collectors[i]->socket = NULL;
 
 			if (0 != (err = pthread_create (&collectors[i]->thread, &ptattr,
 							collect, collectors[i]))) {
 				char errbuf[1024];
 				log_err ("pthread_create() failed: %s",
 						sstrerror (errno, errbuf, sizeof (errbuf)));
@@ -630,25 +511,31 @@
 		do {
 			errno = 0;
 			if (-1 == (remote = accept (connector_socket, NULL, NULL))) {
 				if (EINTR != errno) {
 					char errbuf[1024];
 					disabled = 1;
-					connector_socket = -1; /* TODO: close? */
+					close (connector_socket);
+					connector_socket = -1;
 					log_err ("accept() failed: %s",
 							sstrerror (errno, errbuf, sizeof (errbuf)));
 					pthread_exit ((void *)1);
 				}
 			}
 		} while (EINTR == errno);
 
 		connection = (conn_t *)smalloc (sizeof (conn_t));
 
-		connection->socket = remote;
+		connection->socket = fdopen (remote, "r");
 		connection->next   = NULL;
 
+		if (NULL == connection->socket) {
+			close (remote);
+			continue;
+		}
+
 		pthread_mutex_lock (&conns_mutex);
 
 		if (NULL == conns.head) {
 			conns.head = connection;
 			conns.tail = connection;
 		}
@@ -679,12 +566,14 @@
 
 	return (0);
 } /* int email_init */
 
 static int email_shutdown (void)
 {
+	type_t *ptr = NULL;
+
 	int i = 0;
 
 	if (connector != ((pthread_t) 0)) {
 		pthread_kill (connector, SIGTERM);
 		connector = (pthread_t) 0;
 	}
@@ -694,34 +583,70 @@
 		connector_socket = -1;
 	}
 
 	/* don't allow any more connections to be processed */
 	pthread_mutex_lock (&conns_mutex);
 
+	available_collectors = 0;
+
 	if (collectors != NULL) {
 		for (i = 0; i < max_conns; ++i) {
 			if (collectors[i] == NULL)
 				continue;
 
 			if (collectors[i]->thread != ((pthread_t) 0)) {
 				pthread_kill (collectors[i]->thread, SIGTERM);
 				collectors[i]->thread = (pthread_t) 0;
 			}
 
-			if (collectors[i]->socket >= 0) {
-				close (collectors[i]->socket);
-				collectors[i]->socket = -1;
+			if (collectors[i]->socket != NULL) {
+				fclose (collectors[i]->socket);
+				collectors[i]->socket = NULL;
 			}
+
+			sfree (collectors[i]);
 		}
+		sfree (collectors);
 	} /* if (collectors != NULL) */
 
 	pthread_mutex_unlock (&conns_mutex);
 
-	unlink (sock_file);
-	errno = 0;
+	for (ptr = list_count.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_count_copy.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_size.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
 
+	for (ptr = list_size_copy.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_check.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	for (ptr = list_check_copy.head; NULL != ptr; ptr = ptr->next) {
+		free (ptr->name);
+		free (ptr);
+	}
+
+	unlink ((NULL == sock_file) ? SOCK_PATH : sock_file);
+
+	sfree (sock_file);
+	sfree (sock_group);
 	return (0);
 } /* static void email_shutdown (void) */
 
 static void email_submit (const char *type, const char *type_instance, gauge_t value)
 {
 	value_t values[1];
@@ -729,14 +654,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "email", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "email");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void email_submit */
 
 /* Copy list l1 to list l2. l2 may partly exist already, but it is assumed
@@ -781,53 +706,34 @@
 {
 	type_t *ptr;
 
 	double score_old;
 	int score_count_old;
 
-	static type_list_t *cnt;
-	static type_list_t *sz;
-	static type_list_t *chk;
-
 	if (disabled)
 		return (-1);
 
-	if (NULL == cnt) {
-		cnt = (type_list_t *)smalloc (sizeof (type_list_t));
-		cnt->head = NULL;
-	}
-
-	if (NULL == sz) {
-		sz = (type_list_t *)smalloc (sizeof (type_list_t));
-		sz->head = NULL;
-	}
-
-	if (NULL == chk) {
-		chk = (type_list_t *)smalloc (sizeof (type_list_t));
-		chk->head = NULL;
-	}
-
 	/* email count */
 	pthread_mutex_lock (&count_mutex);
 
-	copy_type_list (&count, cnt);
+	copy_type_list (&list_count, &list_count_copy);
 
 	pthread_mutex_unlock (&count_mutex);
 
-	for (ptr = cnt->head; NULL != ptr; ptr = ptr->next) {
+	for (ptr = list_count_copy.head; NULL != ptr; ptr = ptr->next) {
 		email_submit ("email_count", ptr->name, ptr->value);
 	}
 
 	/* email size */
 	pthread_mutex_lock (&size_mutex);
 
-	copy_type_list (&size, sz);
+	copy_type_list (&list_size, &list_size_copy);
 
 	pthread_mutex_unlock (&size_mutex);
 
-	for (ptr = sz->head; NULL != ptr; ptr = ptr->next) {
+	for (ptr = list_size_copy.head; NULL != ptr; ptr = ptr->next) {
 		email_submit ("email_size", ptr->name, ptr->value);
 	}
 
 	/* spam score */
 	pthread_mutex_lock (&score_mutex);
 
@@ -841,17 +747,17 @@
 	if (score_count_old > 0)
 		email_submit ("spam_score", "", score_old);
 
 	/* spam checks */
 	pthread_mutex_lock (&check_mutex);
 
-	copy_type_list (&check, chk);
+	copy_type_list (&list_check, &list_check_copy);
 
 	pthread_mutex_unlock (&check_mutex);
 
-	for (ptr = chk->head; NULL != ptr; ptr = ptr->next)
+	for (ptr = list_check_copy.head; NULL != ptr; ptr = ptr->next)
 		email_submit ("spam_check", ptr->name, ptr->value);
 
 	return (0);
 } /* int email_read */
 
 void module_register (void)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/entropy.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/entropy.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/entropy.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/entropy.c	2008-05-06 20:26:55.000000000 +0800
@@ -36,16 +36,16 @@
 
 	values[0].gauge = entropy;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "entropy", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
-	sstrncpy (vl.type_instance, "", sizeof (vl.type_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "entropy");
+	strcpy (vl.plugin_instance, "");
+	strcpy (vl.type_instance, "");
 
 	plugin_dispatch_values ("entropy", &vl);
 }
 
 static int entropy_read (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/exec.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/exec.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/exec.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/exec.c	2008-05-06 22:14:06.000000000 +0800
@@ -376,48 +376,56 @@
   ERROR ("exec plugin: exec failed: %s",
       sstrerror (errno, errbuf, sizeof (errbuf)));
   exit (-1);
 } /* void exec_child }}} */
 
 /*
- * Creates two pipes (one for reading, ong for writing), forks a child, sets up
- * the pipes so that fd_in is connected to STDIN of the child and fd_out is
- * connected to STDOUT and STDERR of the child. Then is calls `exec_child'.
+ * Creates three pipes (one for reading, one for writing and one for errors),
+ * forks a child, sets up the pipes so that fd_in is connected to STDIN of
+ * the child and fd_out is connected to STDOUT and fd_err is connected to STDERR
+ * of the child. Then is calls `exec_child'.
  */
-static int fork_child (program_list_t *pl, int *fd_in, int *fd_out) /* {{{ */
+static int fork_child (program_list_t *pl, int *fd_in, int *fd_out, int *fd_err) /* {{{ */
 {
   int fd_pipe_in[2];
   int fd_pipe_out[2];
+  int fd_pipe_err[2];
+  char errbuf[1024];
   int status;
   int pid;
 
   if (pl->pid != 0)
     return (-1);
 
   status = pipe (fd_pipe_in);
   if (status != 0)
   {
-    char errbuf[1024];
     ERROR ("exec plugin: pipe failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
 
   status = pipe (fd_pipe_out);
   if (status != 0)
   {
-    char errbuf[1024];
+    ERROR ("exec plugin: pipe failed: %s",
+	sstrerror (errno, errbuf, sizeof (errbuf)));
+    return (-1);
+  }
+
+  status = pipe (fd_pipe_err);
+  if (status != 0)
+  {
     ERROR ("exec plugin: pipe failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
 
   pid = fork ();
   if (pid < 0)
   {
-    char errbuf[1024];
     ERROR ("exec plugin: fork failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     return (-1);
   }
   else if (pid == 0)
   {
@@ -425,70 +433,63 @@
     int fd;
 
     /* Close all file descriptors but the pipe end we need. */
     fd_num = getdtablesize ();
     for (fd = 0; fd < fd_num; fd++)
     {
-      if ((fd == fd_pipe_in[0]) || (fd == fd_pipe_out[1]))
+      if ((fd == fd_pipe_in[0])
+	  || (fd == fd_pipe_out[1])
+	  || (fd == fd_pipe_err[1]))
 	continue;
       close (fd);
     }
 
-    /* If the `out' pipe has the filedescriptor STDIN we have to be careful
-     * with the `dup's below. So, if this is the case we have to handle the
-     * `out' pipe first. */
-    if (fd_pipe_out[1] == STDIN_FILENO)
-    {
-      int new_fileno = (fd_pipe_in[0] == STDOUT_FILENO)
-	? STDERR_FILENO : STDOUT_FILENO;
-      dup2 (fd_pipe_out[1], new_fileno);
-      close (fd_pipe_out[1]);
-      fd_pipe_out[1] = new_fileno;
-    }
-    /* Now `fd_pipe_out[1]' is either `STDOUT' or `STDERR', but definitely not
-     * `STDIN_FILENO'. */
-
     /* Connect the `in' pipe to STDIN */
     if (fd_pipe_in[0] != STDIN_FILENO)
     {
       dup2 (fd_pipe_in[0], STDIN_FILENO);
       close (fd_pipe_in[0]);
-      fd_pipe_in[0] = STDIN_FILENO;
     }
 
-    /* Now connect the `out' pipe to STDOUT and STDERR */
+    /* Now connect the `out' pipe to STDOUT */
     if (fd_pipe_out[1] != STDOUT_FILENO)
+    {
       dup2 (fd_pipe_out[1], STDOUT_FILENO);
-    if (fd_pipe_out[1] != STDERR_FILENO)
-      dup2 (fd_pipe_out[1], STDERR_FILENO);
+      close (fd_pipe_out[1]);
+    }
 
-    /* If the pipe has some FD that's something completely different, close it
-     * now. */
-    if ((fd_pipe_out[1] != STDOUT_FILENO) && (fd_pipe_out[1] != STDERR_FILENO))
+    /* Now connect the `out' pipe to STDOUT */
+    if (fd_pipe_err[1] != STDERR_FILENO)
     {
-      close (fd_pipe_out[1]);
-      fd_pipe_out[1] = STDOUT_FILENO;
+      dup2 (fd_pipe_err[1], STDERR_FILENO);
+      close (fd_pipe_err[1]);
     }
 
     exec_child (pl);
     /* does not return */
   }
 
   close (fd_pipe_in[0]);
   close (fd_pipe_out[1]);
+  close (fd_pipe_err[1]);
 
   if (fd_in != NULL)
     *fd_in = fd_pipe_in[1];
   else
     close (fd_pipe_in[1]);
 
   if (fd_out != NULL)
     *fd_out = fd_pipe_out[0];
   else
     close (fd_pipe_out[0]);
 
+  if (fd_err != NULL)
+    *fd_err = fd_pipe_err[0];
+  else
+    close (fd_pipe_err[0]);
+
   return (pid);
 } /* int fork_child }}} */
 
 static int parse_line (char *buffer) /* {{{ */
 {
   char *fields[256];
@@ -506,54 +507,118 @@
   return (handle_putval (stdout, fields, fields_num + 1));
 } /* int parse_line }}} */
 
 static void *exec_read_one (void *arg) /* {{{ */
 {
   program_list_t *pl = (program_list_t *) arg;
-  int fd;
-  FILE *fh;
-  char buffer[1024];
+  int fd, fd_err, highest_fd;
+  fd_set fdset, copy;
   int status;
+  char buffer[1200];  /* if not completely read */
+  char buffer_err[1024];
+  char *pbuffer = buffer;
+  char *pbuffer_err = buffer_err;
 
-  status = fork_child (pl, NULL, &fd);
+  status = fork_child (pl, NULL, &fd, &fd_err);
   if (status < 0)
     pthread_exit ((void *) 1);
   pl->pid = status;
 
   assert (pl->pid != 0);
 
-  fh = fdopen (fd, "r");
-  if (fh == NULL)
-  {
-    char errbuf[1024];
-    ERROR ("exec plugin: fdopen (%i) failed: %s", fd,
-	sstrerror (errno, errbuf, sizeof (errbuf)));
-    kill (pl->pid, SIGTERM);
-    pl->pid = 0;
-    close (fd);
-    pthread_exit ((void *) 1);
-  }
+  FD_ZERO( &fdset );
+  FD_SET(fd, &fdset);
+  FD_SET(fd_err, &fdset);
+
+  /* Determine the highest file descriptor */
+  highest_fd = (fd > fd_err) ? fd : fd_err;
 
-  buffer[0] = '\0';
-  while (fgets (buffer, sizeof (buffer), fh) != NULL)
+  /* We use a copy of fdset, as select modifies it */
+  copy = fdset;
+
+  while (select(highest_fd + 1, &copy, NULL, NULL, NULL ) > 0)
   {
     int len;
 
-    len = strlen (buffer);
+    if (FD_ISSET(fd, &copy))
+    {
+      char *pnl;
 
-    /* Remove newline from end. */
-    while ((len > 0) && ((buffer[len - 1] == '\n')
-	  || (buffer[len - 1] == '\r')))
-      buffer[--len] = '\0';
+      len = read(fd, pbuffer, sizeof(buffer) - 1 - (pbuffer - buffer));
 
-    DEBUG ("exec plugin: exec_read_one: buffer = %s", buffer);
+      if (len < 0)
+      {
+        if (errno == EAGAIN || errno == EINTR)  continue;
+        break;
+      }
+      else if (len == 0) break;  /* We've reached EOF */
+
+      pbuffer[len] = '\0';
+
+      len += pbuffer - buffer;
+      pbuffer = buffer;
+
+      while ((pnl = strchr(pbuffer, '\n')))
+      {
+        *pnl = '\0';
+        if (*(pnl-1) == '\r' ) *(pnl-1) = '\0';
+
+        parse_line (pbuffer);
+
+        pbuffer = ++pnl;
+      }
+      /* not completely read ? */
+      if (pbuffer - buffer < len)
+      {
+        len -= pbuffer - buffer;
+        memmove(buffer, pbuffer, len);
+        pbuffer = buffer + len;
+      }
+      else
+        pbuffer = buffer;
+    }
+    else if (FD_ISSET(fd_err, &copy))
+    {
+      char *pnl;
 
-    parse_line (buffer);
-  } /* while (fgets) */
+      len = read(fd_err, pbuffer_err, sizeof(buffer_err) - 1 - (pbuffer_err - buffer_err));
 
-  fclose (fh);
+      if (len < 0)
+      {
+        if (errno == EAGAIN || errno == EINTR)  continue;
+        break;
+      }
+      else if (len == 0) break;  /* We've reached EOF */
+
+      pbuffer_err[len] = '\0';
+
+      len += pbuffer_err - buffer_err;
+      pbuffer_err = buffer_err;
+
+      while ((pnl = strchr(pbuffer_err, '\n')))
+      {
+        *pnl = '\0';
+        if (*(pnl-1) == '\r' ) *(pnl-1) = '\0';
+
+        ERROR ("exec plugin: exec_read_one: error = %s", pbuffer_err);
+
+        pbuffer_err = ++pnl;
+      }
+      /* not completely read ? */
+      if (pbuffer_err - buffer_err < len)
+      {
+        len -= pbuffer_err - buffer_err;
+        memmove(buffer_err, pbuffer_err, len);
+        pbuffer_err = buffer_err + len;
+      }
+      else
+        pbuffer_err = buffer_err;
+    }
+    /* reset copy */
+    copy = fdset;
+  }
 
   if (waitpid (pl->pid, &status, 0) > 0)
     pl->status = status;
 
   DEBUG ("exec plugin: Child %i exited with status %i.",
       (int) pl->pid, pl->status);
@@ -561,12 +626,15 @@
   pl->pid = 0;
 
   pthread_mutex_lock (&pl_lock);
   pl->flags &= ~PL_RUNNING;
   pthread_mutex_unlock (&pl_lock);
 
+  close (fd);
+  close (fd_err);
+
   pthread_exit ((void *) 0);
   return (NULL);
 } /* void *exec_read_one }}} */
 
 static void *exec_notification_one (void *arg) /* {{{ */
 {
@@ -575,13 +643,13 @@
   int fd;
   FILE *fh;
   int pid;
   int status;
   const char *severity;
 
-  pid = fork_child (pl, &fd, NULL);
+  pid = fork_child (pl, &fd, NULL, NULL);
   if (pid < 0) {
     sfree (arg);
     pthread_exit ((void *) 1);
   }
 
   fh = fdopen (fd, "w");
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/hddtemp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/hddtemp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/hddtemp.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/hddtemp.c	2008-05-06 20:30:12.000000000 +0800
@@ -446,14 +446,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "hddtemp", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "hddtemp");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("temperature", &vl);
 }
 
 static int hddtemp_read (void)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/interface.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/interface.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/interface.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/interface.c	2008-05-06 20:26:55.000000000 +0800
@@ -194,14 +194,14 @@
 	values[0].counter = rx;
 	values[1].counter = tx;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "interface", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "interface");
 	strncpy (vl.type_instance, dev, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void if_submit */
 
 static int interface_read (void)
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: ipmi.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/iptables.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/iptables.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/iptables.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/iptables.c	2008-05-06 22:14:06.000000000 +0800
@@ -22,13 +22,15 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if HAVE_LIBIPTC_LIBIPTC_H
+#if OWN_LIBIPTC
+# include "libiptc/libiptc.h"
+#else
 # include <libiptc/libiptc.h>
 #endif
 
 /*
  * (Module-)Global variables
  */
@@ -216,14 +218,14 @@
 	    return (0);
     }
 
     vl.values = values;
     vl.values_len = 1;
     vl.time = time (NULL);
-    sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-    sstrncpy (vl.plugin, "iptables", sizeof (vl.plugin));
+    strcpy (vl.host, hostname_g);
+    strcpy (vl.plugin, "iptables");
 
     status = snprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
 	    "%s-%s", chain->table, chain->chain);
     if ((status < 1) || ((unsigned int)status >= sizeof (vl.plugin_instance)))
 	return (0);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/ipvs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/ipvs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/ipvs.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/ipvs.c	2008-05-06 20:26:55.000000000 +0800
@@ -235,16 +235,16 @@
 	vl.values     = values;
 	vl.values_len = 1;
 
 	vl.time     = time (NULL);
 	vl.interval = interval_g;
 
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "ipvs", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, pi, sizeof (vl.plugin_instance));
-	sstrncpy (vl.type_instance, (NULL != ti) ? ti : "total", sizeof (vl.type_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "ipvs");
+	strcpy (vl.plugin_instance, pi);
+	strcpy (vl.type_instance, (NULL != ti) ? ti : "total");
 
 	plugin_dispatch_values ("connections", &vl);
 	return;
 } /* cipvs_submit_connections */
 
 static void cipvs_submit_if (char *pi, char *t, char *ti,
@@ -259,16 +259,16 @@
 	vl.values     = values;
 	vl.values_len = 2;
 
 	vl.time     = time (NULL);
 	vl.interval = interval_g;
 
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "ipvs", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, pi, sizeof (vl.plugin_instance));
-	sstrncpy (vl.type_instance, (NULL != ti) ? ti : "total", sizeof (vl.type_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "ipvs");
+	strcpy (vl.plugin_instance, pi);
+	strcpy (vl.type_instance, (NULL != ti) ? ti : "total");
 
 	plugin_dispatch_values (t, &vl);
 	return;
 } /* cipvs_submit_if */
 
 static void cipvs_submit_dest (char *pi, struct ip_vs_dest_entry *de) {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/irq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/irq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/irq.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/irq.c	2008-05-06 20:30:12.000000000 +0800
@@ -129,14 +129,14 @@
 
 	values[0].counter = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "irq", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "irq");
 
 	status = snprintf (vl.type_instance, sizeof (vl.type_instance),
 			"%u", irq);
 	if ((status < 1) || ((unsigned int)status >= sizeof (vl.type_instance)))
 		return;
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: libiptc
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboconfig/Makefile.in	2008-08-31 21:12:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboconfig/Makefile.in	2008-05-07 03:14:48.000000000 +0800
@@ -101,12 +101,14 @@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
 BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
 BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_OPENIPMI_CFLAGS = @BUILD_WITH_OPENIPMI_CFLAGS@
+BUILD_WITH_OPENIPMI_LIBS = @BUILD_WITH_OPENIPMI_LIBS@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
@@ -128,12 +130,13 @@
 GREP = @GREP@
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+KERNEL_DIR = @KERNEL_DIR@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
 LIBLTDL = @LIBLTDL@
 LIBOBJS = @LIBOBJS@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboconfig/oconfig.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboconfig/oconfig.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboconfig/oconfig.c	2008-05-27 23:52:36.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboconfig/oconfig.c	2008-04-03 21:52:16.000000000 +0800
@@ -24,13 +24,13 @@
 
 #include "oconfig.h"
 
 extern FILE *yyin;
 
 oconfig_item_t *ci_root;
-const char     *c_file;
+char           *c_file;
 
 static void yyset_in  (FILE *fd)
 {
   yyin = fd;
 } /* void yyset_in */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboconfig/scanner.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboconfig/scanner.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboconfig/scanner.c	2008-08-31 21:29:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboconfig/scanner.c	2007-10-25 01:27:00.000000000 +0800
@@ -5,13 +5,13 @@
 
 /* A lexical scanner generated by flex */
 
 #define FLEX_SCANNER
 #define YY_FLEX_MAJOR_VERSION 2
 #define YY_FLEX_MINOR_VERSION 5
-#define YY_FLEX_SUBMINOR_VERSION 35
+#define YY_FLEX_SUBMINOR_VERSION 33
 #if YY_FLEX_SUBMINOR_VERSION > 0
 #define FLEX_BETA
 #endif
 
 /* First, we deal with  platform-specific or compiler-specific issues. */
 
@@ -27,13 +27,13 @@
 
 #ifndef FLEXINT_H
 #define FLEXINT_H
 
 /* C99 systems have <inttypes.h>. Non-C99 systems may or may not. */
 
-#if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
+#if __STDC_VERSION__ >= 199901L
 
 /* C99 says to define __STDC_LIMIT_MACROS before including stdint.h,
  * if you want the limit (max/min) macros for int types. 
  */
 #ifndef __STDC_LIMIT_MACROS
 #define __STDC_LIMIT_MACROS 1
@@ -50,12 +50,13 @@
 typedef signed char flex_int8_t;
 typedef short int flex_int16_t;
 typedef int flex_int32_t;
 typedef unsigned char flex_uint8_t; 
 typedef unsigned short int flex_uint16_t;
 typedef unsigned int flex_uint32_t;
+#endif /* ! C99 */
 
 /* Limits of integral types. */
 #ifndef INT8_MIN
 #define INT8_MIN               (-128)
 #endif
 #ifndef INT16_MIN
@@ -80,29 +81,26 @@
 #define UINT16_MAX             (65535U)
 #endif
 #ifndef UINT32_MAX
 #define UINT32_MAX             (4294967295U)
 #endif
 
-#endif /* ! C99 */
-
 #endif /* ! FLEXINT_H */
 
 #ifdef __cplusplus
 
 /* The "const" storage-class-modifier is valid. */
 #define YY_USE_CONST
 
 #else	/* ! __cplusplus */
 
-/* C99 requires __STDC__ to be defined as 1. */
-#if defined (__STDC__)
+#if __STDC__
 
 #define YY_USE_CONST
 
-#endif	/* defined (__STDC__) */
+#endif	/* __STDC__ */
 #endif	/* ! __cplusplus */
 
 #ifdef YY_USE_CONST
 #define yyconst const
 #else
 #define yyconst
@@ -189,15 +187,20 @@
 		YY_DO_BEFORE_ACTION; /* set up yytext again */ \
 		} \
 	while ( 0 )
 
 #define unput(c) yyunput( c, (yytext_ptr)  )
 
+/* The following is because we cannot portably get our hands on size_t
+ * (without autoconf's help, which isn't available because we want
+ * flex-generated scanners to compile on their own).
+ */
+
 #ifndef YY_TYPEDEF_YY_SIZE_T
 #define YY_TYPEDEF_YY_SIZE_T
-typedef size_t yy_size_t;
+typedef unsigned int yy_size_t;
 #endif
 
 #ifndef YY_STRUCT_YY_BUFFER_STATE
 #define YY_STRUCT_YY_BUFFER_STATE
 struct yy_buffer_state
 	{
@@ -342,13 +345,13 @@
 	}
 
 #define YY_AT_BOL() (YY_CURRENT_BUFFER_LVALUE->yy_at_bol)
 
 /* Begin user sect3 */
 
-#define yywrap(n) 1
+#define yywrap() 1
 #define YY_SKIP_YYWRAP
 
 typedef unsigned char YY_CHAR;
 
 FILE *yyin = (FILE *) 0, *yyout = (FILE *) 0;
 
@@ -611,13 +614,13 @@
  */
 #line 20 "scanner.l"
 #include <stdlib.h>
 #include "oconfig.h"
 #include "aux_types.h"
 #include "parser.h"
-#line 618 "scanner.c"
+#line 621 "scanner.c"
 
 #define INITIAL 0
 
 #ifndef YY_NO_UNISTD_H
 /* Special case for "unistd.h", since it is non-ANSI. We include it way
  * down here because we want the user's section 1 to have been scanned first.
@@ -629,41 +632,12 @@
 #ifndef YY_EXTRA_TYPE
 #define YY_EXTRA_TYPE void *
 #endif
 
 static int yy_init_globals (void );
 
-/* Accessor methods to globals.
-   These are made visible to non-reentrant scanners for convenience. */
-
-int yylex_destroy (void );
-
-int yyget_debug (void );
-
-void yyset_debug (int debug_flag  );
-
-YY_EXTRA_TYPE yyget_extra (void );
-
-void yyset_extra (YY_EXTRA_TYPE user_defined  );
-
-FILE *yyget_in (void );
-
-void yyset_in  (FILE * in_str  );
-
-FILE *yyget_out (void );
-
-void yyset_out  (FILE * out_str  );
-
-int yyget_leng (void );
-
-char *yyget_text (void );
-
-int yyget_lineno (void );
-
-void yyset_lineno (int line_number  );
-
 /* Macros after this point can all be overridden by user definitions in
  * section 1.
  */
 
 #ifndef YY_SKIP_YYWRAP
 #ifdef __cplusplus
@@ -700,13 +674,13 @@
 
 /* Copy whatever the last rule matched to the standard output. */
 #ifndef ECHO
 /* This used to be an fputs(), but since the string might contain NUL's,
  * we now use fwrite().
  */
-#define ECHO fwrite( yytext, yyleng, 1, yyout )
+#define ECHO (void) fwrite( yytext, yyleng, 1, yyout )
 #endif
 
 /* Gets input and stuffs it into "buf".  number of characters read, or YY_NULL,
  * is returned in "result".
  */
 #ifndef YY_INPUT
@@ -795,13 +769,13 @@
 	register yy_state_type yy_current_state;
 	register char *yy_cp, *yy_bp;
 	register int yy_act;
     
 #line 42 "scanner.l"
 
-#line 802 "scanner.c"
+#line 776 "scanner.c"
 
 	if ( !(yy_init) )
 		{
 		(yy_init) = 1;
 
 #ifdef YY_USER_INIT
@@ -952,13 +926,13 @@
 	YY_BREAK
 case 13:
 YY_RULE_SETUP
 #line 59 "scanner.l"
 ECHO;
 	YY_BREAK
-#line 959 "scanner.c"
+#line 933 "scanner.c"
 case YY_STATE_EOF(INITIAL):
 	yyterminate();
 
 	case YY_END_OF_BUFFER:
 		{
 		/* Amount of text matched not including the EOB char. */
@@ -1207,20 +1181,12 @@
 			}
 		}
 
 	else
 		ret_val = EOB_ACT_CONTINUE_SCAN;
 
-	if ((yy_size_t) ((yy_n_chars) + number_to_move) > YY_CURRENT_BUFFER_LVALUE->yy_buf_size) {
-		/* Extend the array by 50%, plus the number we really need. */
-		yy_size_t new_size = (yy_n_chars) + number_to_move + ((yy_n_chars) >> 1);
-		YY_CURRENT_BUFFER_LVALUE->yy_ch_buf = (char *) yyrealloc((void *) YY_CURRENT_BUFFER_LVALUE->yy_ch_buf,new_size  );
-		if ( ! YY_CURRENT_BUFFER_LVALUE->yy_ch_buf )
-			YY_FATAL_ERROR( "out of dynamic memory in yy_get_next_buffer()" );
-	}
-
 	(yy_n_chars) += number_to_move;
 	YY_CURRENT_BUFFER_LVALUE->yy_ch_buf[(yy_n_chars)] = YY_END_OF_BUFFER_CHAR;
 	YY_CURRENT_BUFFER_LVALUE->yy_ch_buf[(yy_n_chars) + 1] = YY_END_OF_BUFFER_CHAR;
 
 	(yytext_ptr) = &YY_CURRENT_BUFFER_LVALUE->yy_ch_buf[0];
 
@@ -1639,15 +1605,13 @@
 		 * immediate realloc on the next call.
          */
 		num_to_alloc = 1;
 		(yy_buffer_stack) = (struct yy_buffer_state**)yyalloc
 								(num_to_alloc * sizeof(struct yy_buffer_state*)
 								);
-		if ( ! (yy_buffer_stack) )
-			YY_FATAL_ERROR( "out of dynamic memory in yyensure_buffer_stack()" );
-								  
+		
 		memset((yy_buffer_stack), 0, num_to_alloc * sizeof(struct yy_buffer_state*));
 				
 		(yy_buffer_stack_max) = num_to_alloc;
 		(yy_buffer_stack_top) = 0;
 		return;
 	}
@@ -1659,14 +1623,12 @@
 
 		num_to_alloc = (yy_buffer_stack_max) + grow_size;
 		(yy_buffer_stack) = (struct yy_buffer_state**)yyrealloc
 								((yy_buffer_stack),
 								num_to_alloc * sizeof(struct yy_buffer_state*)
 								);
-		if ( ! (yy_buffer_stack) )
-			YY_FATAL_ERROR( "out of dynamic memory in yyensure_buffer_stack()" );
 
 		/* zero only the new slots.*/
 		memset((yy_buffer_stack) + (yy_buffer_stack_max), 0, grow_size * sizeof(struct yy_buffer_state*));
 		(yy_buffer_stack_max) = num_to_alloc;
 	}
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/liboping/Makefile.in	2008-08-31 21:12:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/liboping/Makefile.in	2008-05-07 03:14:48.000000000 +0800
@@ -95,12 +95,14 @@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
 BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
 BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_OPENIPMI_CFLAGS = @BUILD_WITH_OPENIPMI_CFLAGS@
+BUILD_WITH_OPENIPMI_LIBS = @BUILD_WITH_OPENIPMI_LIBS@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
@@ -122,12 +124,13 @@
 GREP = @GREP@
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+KERNEL_DIR = @KERNEL_DIR@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
 LIBLTDL = @LIBLTDL@
 LIBOBJS = @LIBOBJS@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/libvirt.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/libvirt.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/libvirt.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/libvirt.c	2008-05-06 20:30:12.000000000 +0800
@@ -664,13 +664,13 @@
         if (hostname_format[i] == hf_none)
             continue;
 
         n = DATA_MAX_NAME_LEN - strlen (vl->host) - 2;
 
         if (i > 0 && n >= 1) {
-            strncat (vl->host, ":", 1);
+            strcat (vl->host, ":");
             n--;
         }
 
         switch (hostname_format[i]) {
         case hf_none: break;
         case hf_hostname:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/load.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/load.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/load.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/load.c	2008-05-06 20:26:55.000000000 +0800
@@ -48,14 +48,14 @@
 	values[1].gauge = mnum;
 	values[2].gauge = lnum;
 
 	vl.values = values;
 	vl.values_len = STATIC_ARRAY_SIZE (values);
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "load", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "load");
 
 	plugin_dispatch_values ("load", &vl);
 }
 
 static int load_read (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/Makefile.am	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/Makefile.am	2008-05-06 22:14:06.000000000 +0800
@@ -1,7 +1,10 @@
 SUBDIRS =
+if BUILD_WITH_OWN_LIBIPTC
+SUBDIRS += libiptc
+endif
 if BUILD_WITH_OWN_LIBOCONFIG
 SUBDIRS += liboconfig
 endif
 if BUILD_WITH_OWN_LIBOPING
 SUBDIRS += liboping
 endif
@@ -27,13 +30,16 @@
 		   configfile.c configfile.h \
 		   plugin.c plugin.h \
 		   utils_avltree.c utils_avltree.h \
 		   utils_cache.c utils_cache.h \
 		   utils_ignorelist.c utils_ignorelist.h \
 		   utils_llist.c utils_llist.h \
+		   utils_tail_match.c utils_tail_match.h \
+		   utils_match.c utils_match.h \
 		   utils_mount.c utils_mount.h \
+		   utils_tail.c utils_tail.h \
 		   utils_threshold.c utils_threshold.h \
 		   types_list.c types_list.h
 
 collectd_CPPFLAGS =  $(AM_CPPFLAGS) $(LTDLINCL)
 collectd_CFLAGS =
 collectd_LDFLAGS = -export-dynamic
@@ -115,12 +121,22 @@
 apple_sensors_la_SOURCES = apple_sensors.c
 apple_sensors_la_LDFLAGS = -module -avoid-version -lIOKit
 collectd_LDADD += "-dlopen" apple_sensors.la
 collectd_DEPENDENCIES += apple_sensors.la
 endif
 
+if BUILD_PLUGIN_ASCENT
+pkglib_LTLIBRARIES += ascent.la
+ascent_la_SOURCES = ascent.c
+ascent_la_LDFLAGS = -module -avoid-version
+ascent_la_CFLAGS = $(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+ascent_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
+collectd_LDADD += "-dlopen" apache.la
+collectd_DEPENDENCIES += ascent.la
+endif
+
 if BUILD_PLUGIN_BATTERY
 pkglib_LTLIBRARIES += battery.la
 battery_la_SOURCES = battery.c
 battery_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBIOKIT
 battery_la_LDFLAGS += -lIOKit
@@ -129,19 +145,25 @@
 collectd_DEPENDENCIES += battery.la
 endif
 
 if BUILD_PLUGIN_CPU
 pkglib_LTLIBRARIES += cpu.la
 cpu_la_SOURCES = cpu.c
+cpu_la_CFLAGS =
 cpu_la_LDFLAGS = -module -avoid-version
+cpu_la_LIBADD = 
 if BUILD_WITH_LIBKSTAT
 cpu_la_LDFLAGS += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 cpu_la_LDFLAGS += -ldevinfo
 endif
+if BUILD_WITH_LIBSTATGRAB
+cpu_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+cpu_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+endif
 collectd_LDADD += "-dlopen" cpu.la
 collectd_DEPENDENCIES += cpu.la
 endif
 
 if BUILD_PLUGIN_CPUFREQ
 pkglib_LTLIBRARIES += cpufreq.la
@@ -167,22 +189,28 @@
 collectd_DEPENDENCIES += df.la
 endif
 
 if BUILD_PLUGIN_DISK
 pkglib_LTLIBRARIES += disk.la
 disk_la_SOURCES = disk.c
+disk_la_CFLAGS =
 disk_la_LDFLAGS = -module -avoid-version
+disk_la_LIBADD = 
 if BUILD_WITH_LIBKSTAT
 disk_la_LDFLAGS += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 disk_la_LDFLAGS += -ldevinfo
 endif
 if BUILD_WITH_LIBIOKIT
 disk_la_LDFLAGS += -lIOKit
 endif
+if BUILD_WITH_LIBSTATGRAB
+disk_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)  
+disk_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+endif
 collectd_LDADD += "-dlopen" disk.la
 collectd_DEPENDENCIES += disk.la
 endif
 
 if BUILD_PLUGIN_DNS
 pkglib_LTLIBRARIES += dns.la
@@ -256,17 +284,33 @@
 endif # !BUILD_WITH_LIBSTATGRAB
 endif # BUILD_PLUGIN_INTERFACE
 
 if BUILD_PLUGIN_IPTABLES
 pkglib_LTLIBRARIES += iptables.la
 iptables_la_SOURCES = iptables.c
-iptables_la_LDFLAGS = -module -avoid-version -liptc
+iptables_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_OWN_LIBIPTC
+iptables_la_LIBADD  = libiptc/libiptc.la
+iptables_la_DEPENDENCIES = libiptc/libiptc.la
+else
+iptables_la_LDFLAGS += -liptc
+endif
 collectd_LDADD += "-dlopen" iptables.la
 collectd_DEPENDENCIES += iptables.la
 endif
 
+if BUILD_PLUGIN_IPMI
+pkglib_LTLIBRARIES += ipmi.la
+ipmi_la_SOURCES = ipmi.c
+ipmi_la_CFLAGS = $(BUILD_WITH_OPENIPMI_CFLAGS)
+ipmi_la_LDFLAGS = -module -avoid-version
+ipmi_la_LIBADD = $(BUILD_WITH_OPENIPMI_LIBS)
+collectd_LDADD += "-dlopen" ipmi.la
+collectd_DEPENDENCIES += ipmi.la
+endif
+
 if BUILD_PLUGIN_IPVS
 pkglib_LTLIBRARIES += ipvs.la
 ipvs_la_SOURCES = ipvs.c
 ipvs_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" ipvs.la
 collectd_DEPENDENCIES += ipvs.la
@@ -467,12 +511,20 @@
 ping_la_LDFLAGS += -loping
 endif
 collectd_LDADD += "-dlopen" ping.la
 collectd_DEPENDENCIES += ping.la
 endif
 
+if BUILD_PLUGIN_POWERDNS
+pkglib_LTLIBRARIES += powerdns.la
+powerdns_la_SOURCES = powerdns.c
+powerdns_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" powerdns.la
+collectd_DEPENDENCIES += powerdns.la
+endif
+
 if BUILD_PLUGIN_PROCESSES
 pkglib_LTLIBRARIES += processes.la
 processes_la_SOURCES = processes.c
 processes_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" processes.la
 collectd_DEPENDENCIES += processes.la
@@ -534,13 +586,13 @@
 if BUILD_WITH_LIBKSTAT
 swap_la_LIBADD += -lkstat
 endif
 if BUILD_WITH_LIBDEVINFO
 swap_la_LIBADD += -ldevinfo
 endif
-if BUILD_WITH_LIBKVM_GETSWAPINFO
+if BUILD_WITH_LIBKVM
 swap_la_LIBADD += -lkvm
 endif
 if BUILD_WITH_LIBSTATGRAB
 swap_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
 swap_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 endif
@@ -551,12 +603,20 @@
 syslog_la_SOURCES = syslog.c
 syslog_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" syslog.la
 collectd_DEPENDENCIES += syslog.la
 endif
 
+if BUILD_PLUGIN_TAIL
+pkglib_LTLIBRARIES += tail.la
+tail_la_SOURCES = tail.c
+tail_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" tail.la
+collectd_DEPENDENCIES += tail.la
+endif
+
 if BUILD_PLUGIN_TAPE
 pkglib_LTLIBRARIES += tape.la
 tape_la_SOURCES = tape.c
 tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
 collectd_LDADD += "-dlopen" tape.la
 collectd_DEPENDENCIES += tape.la
@@ -567,24 +627,43 @@
 tcpconns_la_SOURCES = tcpconns.c
 tcpconns_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" tcpconns.la
 collectd_DEPENDENCIES += tcpconns.la
 endif
 
+if BUILD_PLUGIN_TEAMSPEAK2
+pkglib_LTLIBRARIES += teamspeak2.la
+teamspeak2_la_SOURCES = teamspeak2.c
+teamspeak2_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" teamspeak2.la
+collectd_DEPENDENCIES += teamspeak2.la
+endif
+
 if BUILD_PLUGIN_UNIXSOCK
 pkglib_LTLIBRARIES += unixsock.la
-unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
+unixsock_la_SOURCES = unixsock.c \
+		      utils_cmd_flush.h utils_cmd_flush.c \
+		      utils_cmd_getval.h utils_cmd_getval.c \
+		      utils_cmd_listval.h utils_cmd_listval.c \
+		      utils_cmd_putval.h utils_cmd_putval.c \
+		      utils_cmd_putnotif.h utils_cmd_putnotif.c
 unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 collectd_LDADD += "-dlopen" unixsock.la
 collectd_DEPENDENCIES += unixsock.la
 endif
 
 if BUILD_PLUGIN_USERS
 pkglib_LTLIBRARIES += users.la
 users_la_SOURCES = users.c
+users_la_CFLAGS =
 users_la_LDFLAGS = -module -avoid-version
+users_la_LIBADD =
+if BUILD_WITH_LIBSTATGRAB
+users_la_CFLAGS += $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+users_la_LIBADD += $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+endif
 collectd_LDADD += "-dlopen" users.la
 collectd_DEPENDENCIES += users.la
 endif
 
 if BUILD_PLUGIN_UUID
 pkglib_LTLIBRARIES += uuid.la
@@ -593,12 +672,20 @@
 uuid_la_LIBADD  = $(BUILD_WITH_LIBHAL_LIBS)
 uuid_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" uuid.la
 collectd_DEPENDENCIES += uuid.la
 endif
 
+if BUILD_PLUGIN_VMEM
+pkglib_LTLIBRARIES += vmem.la
+vmem_la_SOURCES = vmem.c
+vmem_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" vmem.la
+collectd_DEPENDENCIES += vmem.la
+endif
+
 if BUILD_PLUGIN_VSERVER
 pkglib_LTLIBRARIES += vserver.la
 vserver_la_SOURCES = vserver.c
 vserver_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" vserver.la
 collectd_DEPENDENCIES += vserver.la
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/Makefile.in	2008-08-31 21:12:56.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/Makefile.in	2008-05-07 03:14:47.000000000 +0800
@@ -30,221 +30,247 @@
 POST_INSTALL = :
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_1 = liboconfig
-@BUILD_WITH_OWN_LIBOPING_TRUE@am__append_2 = liboping
-@BUILD_FEATURE_DAEMON_TRUE@am__append_3 = -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
+@BUILD_WITH_OWN_LIBIPTC_TRUE@am__append_1 = libiptc
+@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_2 = liboconfig
+@BUILD_WITH_OWN_LIBOPING_TRUE@am__append_3 = liboping
+@BUILD_FEATURE_DAEMON_TRUE@am__append_4 = -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
 sbin_PROGRAMS = collectd$(EXEEXT) collectdmon$(EXEEXT)
 bin_PROGRAMS = collectd-nagios$(EXEEXT)
 
 # Link to these libraries..
-@BUILD_WITH_LIBRT_TRUE@am__append_4 = -lrt
-@BUILD_WITH_LIBSOCKET_TRUE@am__append_5 = -lsocket
-@BUILD_WITH_LIBRESOLV_TRUE@am__append_6 = -lresolv
-@BUILD_WITH_LIBPTHREAD_TRUE@am__append_7 = -lpthread
-@BUILD_WITH_LIBKSTAT_TRUE@am__append_8 = -lkstat
-@BUILD_WITH_LIBDEVINFO_TRUE@am__append_9 = -ldevinfo
+@BUILD_WITH_LIBRT_TRUE@am__append_5 = -lrt
+@BUILD_WITH_LIBSOCKET_TRUE@am__append_6 = -lsocket
+@BUILD_WITH_LIBRESOLV_TRUE@am__append_7 = -lresolv
+@BUILD_WITH_LIBPTHREAD_TRUE@am__append_8 = -lpthread
+@BUILD_WITH_LIBKSTAT_TRUE@am__append_9 = -lkstat
+@BUILD_WITH_LIBDEVINFO_TRUE@am__append_10 = -ldevinfo
 
 # The daemon needs to call sg_init, so we need to link it against libstatgrab,
 # too. -octo
-@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_10 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_11 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_12 = $(LIBLTDL) liboconfig/liboconfig.la
+@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_11 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_12 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_13 = $(LIBLTDL) liboconfig/liboconfig.la
-@BUILD_WITH_OWN_LIBOCONFIG_FALSE@am__append_14 = -loconfig
-@BUILD_WITH_LIBSOCKET_TRUE@am__append_15 = -lsocket
-@BUILD_PLUGIN_APACHE_TRUE@am__append_16 = apache.la
-@BUILD_PLUGIN_APACHE_TRUE@am__append_17 = "-dlopen" apache.la
-@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_18 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_19 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_APACHE_TRUE@am__append_20 = apache.la
-@BUILD_PLUGIN_APCUPS_TRUE@am__append_21 = apcups.la
-@BUILD_PLUGIN_APCUPS_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_22 = -lsocket
-@BUILD_PLUGIN_APCUPS_TRUE@am__append_23 = "-dlopen" apcups.la
-@BUILD_PLUGIN_APCUPS_TRUE@am__append_24 = apcups.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_25 = apple_sensors.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_26 = "-dlopen" apple_sensors.la
-@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_27 = apple_sensors.la
-@BUILD_PLUGIN_BATTERY_TRUE@am__append_28 = battery.la
-@BUILD_PLUGIN_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_29 = -lIOKit
-@BUILD_PLUGIN_BATTERY_TRUE@am__append_30 = "-dlopen" battery.la
-@BUILD_PLUGIN_BATTERY_TRUE@am__append_31 = battery.la
-@BUILD_PLUGIN_CPU_TRUE@am__append_32 = cpu.la
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_33 = -lkstat
-@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_34 = -ldevinfo
-@BUILD_PLUGIN_CPU_TRUE@am__append_35 = "-dlopen" cpu.la
+@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_14 = $(LIBLTDL) liboconfig/liboconfig.la
+@BUILD_WITH_OWN_LIBOCONFIG_FALSE@am__append_15 = -loconfig
+@BUILD_WITH_LIBSOCKET_TRUE@am__append_16 = -lsocket
+@BUILD_PLUGIN_APACHE_TRUE@am__append_17 = apache.la
+@BUILD_PLUGIN_APACHE_TRUE@am__append_18 = "-dlopen" apache.la
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_19 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_20 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_APACHE_TRUE@am__append_21 = apache.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_22 = apcups.la
+@BUILD_PLUGIN_APCUPS_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_23 = -lsocket
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_24 = "-dlopen" apcups.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_25 = apcups.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_26 = apple_sensors.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_27 = "-dlopen" apple_sensors.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_28 = apple_sensors.la
+@BUILD_PLUGIN_ASCENT_TRUE@am__append_29 = ascent.la
+@BUILD_PLUGIN_ASCENT_TRUE@am__append_30 = "-dlopen" apache.la
+@BUILD_PLUGIN_ASCENT_TRUE@am__append_31 = ascent.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_32 = battery.la
+@BUILD_PLUGIN_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_33 = -lIOKit
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_34 = "-dlopen" battery.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_35 = battery.la
 @BUILD_PLUGIN_CPU_TRUE@am__append_36 = cpu.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_37 = cpufreq.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_38 = "-dlopen" cpufreq.la
-@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_39 = cpufreq.la
-@BUILD_PLUGIN_CSV_TRUE@am__append_40 = csv.la
-@BUILD_PLUGIN_CSV_TRUE@am__append_41 = "-dlopen" csv.la
-@BUILD_PLUGIN_CSV_TRUE@am__append_42 = csv.la
-@BUILD_PLUGIN_DF_TRUE@am__append_43 = df.la
-@BUILD_PLUGIN_DF_TRUE@am__append_44 = "-dlopen" df.la
-@BUILD_PLUGIN_DF_TRUE@am__append_45 = df.la
-@BUILD_PLUGIN_DISK_TRUE@am__append_46 = disk.la
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_47 = -lkstat
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_48 = -ldevinfo
-@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_49 = -lIOKit
-@BUILD_PLUGIN_DISK_TRUE@am__append_50 = "-dlopen" disk.la
-@BUILD_PLUGIN_DISK_TRUE@am__append_51 = disk.la
-@BUILD_PLUGIN_DNS_TRUE@am__append_52 = dns.la
-@BUILD_PLUGIN_DNS_TRUE@am__append_53 = "-dlopen" dns.la
-@BUILD_PLUGIN_DNS_TRUE@am__append_54 = dns.la
-@BUILD_PLUGIN_EMAIL_TRUE@am__append_55 = email.la
-@BUILD_PLUGIN_EMAIL_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_56 = -lpthread
-@BUILD_PLUGIN_EMAIL_TRUE@am__append_57 = "-dlopen" email.la
-@BUILD_PLUGIN_EMAIL_TRUE@am__append_58 = email.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__append_59 = entropy.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__append_60 = "-dlopen" entropy.la
-@BUILD_PLUGIN_ENTROPY_TRUE@am__append_61 = entropy.la
-@BUILD_PLUGIN_EXEC_TRUE@am__append_62 = exec.la
-@BUILD_PLUGIN_EXEC_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_63 = -lpthread
-@BUILD_PLUGIN_EXEC_TRUE@am__append_64 = "-dlopen" exec.la
-@BUILD_PLUGIN_EXEC_TRUE@am__append_65 = exec.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_66 = hddtemp.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_67 = -lsocket
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_68 = "-dlopen" hddtemp.la
-@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_69 = hddtemp.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__append_70 = interface.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__append_71 = "-dlopen" interface.la
-@BUILD_PLUGIN_INTERFACE_TRUE@am__append_72 = interface.la
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_73 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_74 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_75 = -lkstat
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_76 = -ldevinfo
-@BUILD_PLUGIN_IPTABLES_TRUE@am__append_77 = iptables.la
-@BUILD_PLUGIN_IPTABLES_TRUE@am__append_78 = "-dlopen" iptables.la
-@BUILD_PLUGIN_IPTABLES_TRUE@am__append_79 = iptables.la
-@BUILD_PLUGIN_IPVS_TRUE@am__append_80 = ipvs.la
-@BUILD_PLUGIN_IPVS_TRUE@am__append_81 = "-dlopen" ipvs.la
-@BUILD_PLUGIN_IPVS_TRUE@am__append_82 = ipvs.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_83 = irq.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_84 = "-dlopen" irq.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_85 = irq.la
-@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_86 = libvirt.la
-@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_87 = "-dlopen" libvirt.la
-@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_88 = libvirt.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_89 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_90 = "-dlopen" load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_91 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_92 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_93 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_94 = logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_95 = "-dlopen" logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_96 = logfile.la
-@BUILD_PLUGIN_MBMON_TRUE@am__append_97 = mbmon.la
-@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_98 = -lsocket
-@BUILD_PLUGIN_MBMON_TRUE@am__append_99 = "-dlopen" mbmon.la
-@BUILD_PLUGIN_MBMON_TRUE@am__append_100 = mbmon.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_101 = memcached.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_102 = -lsocket
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_103 = "-dlopen" memcached.la
-@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_104 = memcached.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_105 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_106 = "-dlopen" memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_107 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_108 = -lkstat
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_109 = -ldevinfo
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_110 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_111 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_112 = multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_113 = "-dlopen" multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_114 = multimeter.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_115 = mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_116 = "-dlopen" mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_117 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_118 = $(BUILD_WITH_LIBMYSQL_LIBS)
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_119 = mysql.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_120 = netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_121 = "-dlopen" netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_122 = netlink.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_123 = network.la
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_124 = -lsocket
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_125 = -lpthread
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_126 = "-dlopen" network.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_127 = network.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_128 = nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_129 = "-dlopen" nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_130 = nfs.la
-@BUILD_PLUGIN_NGINX_TRUE@am__append_131 = nginx.la
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_132 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_133 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_PLUGIN_NGINX_TRUE@am__append_134 = "-dlopen" nginx.la
-@BUILD_PLUGIN_NGINX_TRUE@am__append_135 = nginx.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_136 = ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_137 = -lsocket
-@BUILD_PLUGIN_NTPD_TRUE@am__append_138 = "-dlopen" ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_139 = ntpd.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_140 = nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_141 = "-dlopen" nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_142 = nut.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_143 = perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_144 = "-dlopen" perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_145 = perl.la
-@BUILD_PLUGIN_PING_TRUE@am__append_146 = ping.la
-@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_147 = -loping
-@BUILD_PLUGIN_PING_TRUE@am__append_148 = "-dlopen" ping.la
-@BUILD_PLUGIN_PING_TRUE@am__append_149 = ping.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_150 = processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_151 = "-dlopen" processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_152 = processes.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_153 = rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_154 = "-dlopen" rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_155 = rrdtool.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_156 = sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_157 = "-dlopen" sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_158 = sensors.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_159 = serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_160 = "-dlopen" serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_161 = serial.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_162 = snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_163 = $(BUILD_WITH_LIBSNMP_CFLAGS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_164 = $(BUILD_WITH_LIBSNMP_LIBS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_165 = -lpthread
-@BUILD_PLUGIN_SNMP_TRUE@am__append_166 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_167 = snmp.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_168 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_169 = "-dlopen" swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_170 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_171 = -lkstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_172 = -ldevinfo
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_GETSWAPINFO_TRUE@am__append_173 = -lkvm
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_174 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_175 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_176 = syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_177 = "-dlopen" syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_178 = syslog.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_179 = tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_180 = "-dlopen" tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_181 = tape.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_182 = tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_183 = "-dlopen" tcpconns.la
-@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_184 = tcpconns.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_185 = unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_186 = "-dlopen" unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_187 = unixsock.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_188 = users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_189 = "-dlopen" users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_190 = users.la
-@BUILD_PLUGIN_UUID_TRUE@am__append_191 = uuid.la
-@BUILD_PLUGIN_UUID_TRUE@am__append_192 = "-dlopen" uuid.la
-@BUILD_PLUGIN_UUID_TRUE@am__append_193 = uuid.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_194 = vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_195 = "-dlopen" vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_196 = vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_197 = wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_198 = "-dlopen" wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_199 = wireless.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_200 = xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_201 = "-dlopen" xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_202 = xmms.la
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_37 = -lkstat
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_38 = -ldevinfo
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_39 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_40 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_CPU_TRUE@am__append_41 = "-dlopen" cpu.la
+@BUILD_PLUGIN_CPU_TRUE@am__append_42 = cpu.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_43 = cpufreq.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_44 = "-dlopen" cpufreq.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_45 = cpufreq.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_46 = csv.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_47 = "-dlopen" csv.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_48 = csv.la
+@BUILD_PLUGIN_DF_TRUE@am__append_49 = df.la
+@BUILD_PLUGIN_DF_TRUE@am__append_50 = "-dlopen" df.la
+@BUILD_PLUGIN_DF_TRUE@am__append_51 = df.la
+@BUILD_PLUGIN_DISK_TRUE@am__append_52 = disk.la
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_53 = -lkstat
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_54 = -ldevinfo
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_55 = -lIOKit
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_56 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)  
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_57 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_DISK_TRUE@am__append_58 = "-dlopen" disk.la
+@BUILD_PLUGIN_DISK_TRUE@am__append_59 = disk.la
+@BUILD_PLUGIN_DNS_TRUE@am__append_60 = dns.la
+@BUILD_PLUGIN_DNS_TRUE@am__append_61 = "-dlopen" dns.la
+@BUILD_PLUGIN_DNS_TRUE@am__append_62 = dns.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_63 = email.la
+@BUILD_PLUGIN_EMAIL_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_64 = -lpthread
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_65 = "-dlopen" email.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_66 = email.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_67 = entropy.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_68 = "-dlopen" entropy.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_69 = entropy.la
+@BUILD_PLUGIN_EXEC_TRUE@am__append_70 = exec.la
+@BUILD_PLUGIN_EXEC_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_71 = -lpthread
+@BUILD_PLUGIN_EXEC_TRUE@am__append_72 = "-dlopen" exec.la
+@BUILD_PLUGIN_EXEC_TRUE@am__append_73 = exec.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_74 = hddtemp.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_75 = -lsocket
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_76 = "-dlopen" hddtemp.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_77 = hddtemp.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_78 = interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_79 = "-dlopen" interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_80 = interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_81 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_82 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_83 = -lkstat
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@@BUILD_WITH_LIBSTATGRAB_FALSE@am__append_84 = -ldevinfo
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_85 = iptables.la
+@BUILD_PLUGIN_IPTABLES_TRUE@@BUILD_WITH_OWN_LIBIPTC_FALSE@am__append_86 = -liptc
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_87 = "-dlopen" iptables.la
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_88 = iptables.la
+@BUILD_PLUGIN_IPMI_TRUE@am__append_89 = ipmi.la
+@BUILD_PLUGIN_IPMI_TRUE@am__append_90 = "-dlopen" ipmi.la
+@BUILD_PLUGIN_IPMI_TRUE@am__append_91 = ipmi.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_92 = ipvs.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_93 = "-dlopen" ipvs.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_94 = ipvs.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_95 = irq.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_96 = "-dlopen" irq.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_97 = irq.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_98 = libvirt.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_99 = "-dlopen" libvirt.la
+@BUILD_PLUGIN_LIBVIRT_TRUE@am__append_100 = libvirt.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_101 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_102 = "-dlopen" load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_103 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_104 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_105 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_106 = logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_107 = "-dlopen" logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_108 = logfile.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_109 = mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_110 = -lsocket
+@BUILD_PLUGIN_MBMON_TRUE@am__append_111 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_112 = mbmon.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_113 = memcached.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_114 = -lsocket
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_115 = "-dlopen" memcached.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_116 = memcached.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_117 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_118 = "-dlopen" memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_119 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_120 = -lkstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_121 = -ldevinfo
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_122 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_123 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_124 = multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_125 = "-dlopen" multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_126 = multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_127 = mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_128 = "-dlopen" mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_129 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_130 = $(BUILD_WITH_LIBMYSQL_LIBS)
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_131 = mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_132 = netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_133 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_134 = netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_135 = network.la
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_136 = -lsocket
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_137 = -lpthread
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_138 = "-dlopen" network.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_139 = network.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_140 = nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_141 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_142 = nfs.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_143 = nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_144 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_145 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_NGINX_TRUE@am__append_146 = "-dlopen" nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_147 = nginx.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_148 = ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_149 = -lsocket
+@BUILD_PLUGIN_NTPD_TRUE@am__append_150 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_151 = ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_152 = nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_153 = "-dlopen" nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_154 = nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_155 = perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_156 = "-dlopen" perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_157 = perl.la
+@BUILD_PLUGIN_PING_TRUE@am__append_158 = ping.la
+@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_159 = -loping
+@BUILD_PLUGIN_PING_TRUE@am__append_160 = "-dlopen" ping.la
+@BUILD_PLUGIN_PING_TRUE@am__append_161 = ping.la
+@BUILD_PLUGIN_POWERDNS_TRUE@am__append_162 = powerdns.la
+@BUILD_PLUGIN_POWERDNS_TRUE@am__append_163 = "-dlopen" powerdns.la
+@BUILD_PLUGIN_POWERDNS_TRUE@am__append_164 = powerdns.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_165 = processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_166 = "-dlopen" processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_167 = processes.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_168 = rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_169 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_170 = rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_171 = sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_172 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_173 = sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_174 = serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_175 = "-dlopen" serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_176 = serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_177 = snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_178 = $(BUILD_WITH_LIBSNMP_CFLAGS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_179 = $(BUILD_WITH_LIBSNMP_LIBS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_180 = -lpthread
+@BUILD_PLUGIN_SNMP_TRUE@am__append_181 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_182 = snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_183 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_184 = "-dlopen" swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_185 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_186 = -lkstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_187 = -ldevinfo
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_188 = -lkvm
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_189 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_190 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_191 = syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_192 = "-dlopen" syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_193 = syslog.la
+@BUILD_PLUGIN_TAIL_TRUE@am__append_194 = tail.la
+@BUILD_PLUGIN_TAIL_TRUE@am__append_195 = "-dlopen" tail.la
+@BUILD_PLUGIN_TAIL_TRUE@am__append_196 = tail.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_197 = tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_198 = "-dlopen" tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_199 = tape.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_200 = tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_201 = "-dlopen" tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_202 = tcpconns.la
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_203 = teamspeak2.la
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_204 = "-dlopen" teamspeak2.la
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am__append_205 = teamspeak2.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_206 = unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_207 = "-dlopen" unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_208 = unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_209 = users.la
+@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_210 = $(BUILD_WITH_LIBSTATGRAB_CFLAGS)
+@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_211 = $(BUILD_WITH_LIBSTATGRAB_LDFLAGS)
+@BUILD_PLUGIN_USERS_TRUE@am__append_212 = "-dlopen" users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_213 = users.la
+@BUILD_PLUGIN_UUID_TRUE@am__append_214 = uuid.la
+@BUILD_PLUGIN_UUID_TRUE@am__append_215 = "-dlopen" uuid.la
+@BUILD_PLUGIN_UUID_TRUE@am__append_216 = uuid.la
+@BUILD_PLUGIN_VMEM_TRUE@am__append_217 = vmem.la
+@BUILD_PLUGIN_VMEM_TRUE@am__append_218 = "-dlopen" vmem.la
+@BUILD_PLUGIN_VMEM_TRUE@am__append_219 = vmem.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_220 = vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_221 = "-dlopen" vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_222 = vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_223 = wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_224 = "-dlopen" wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_225 = wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_226 = xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_227 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_228 = xmms.la
 subdir = src
 DIST_COMMON = $(dist_man_MANS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/collectd.conf.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
@@ -290,27 +316,38 @@
 apple_sensors_la_OBJECTS = $(am_apple_sensors_la_OBJECTS)
 apple_sensors_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(apple_sensors_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@am_apple_sensors_la_rpath = -rpath \
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_ASCENT_TRUE@	$(am__DEPENDENCIES_1) \
+@BUILD_PLUGIN_ASCENT_TRUE@	$(am__DEPENDENCIES_1)
+am__ascent_la_SOURCES_DIST = ascent.c
+@BUILD_PLUGIN_ASCENT_TRUE@am_ascent_la_OBJECTS = ascent_la-ascent.lo
+ascent_la_OBJECTS = $(am_ascent_la_OBJECTS)
+ascent_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(ascent_la_CFLAGS) \
+	$(CFLAGS) $(ascent_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_ASCENT_TRUE@am_ascent_la_rpath = -rpath $(pkglibdir)
 battery_la_LIBADD =
 am__battery_la_SOURCES_DIST = battery.c
 @BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_OBJECTS = battery.lo
 battery_la_OBJECTS = $(am_battery_la_OBJECTS)
 battery_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(battery_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_rpath = -rpath $(pkglibdir)
-cpu_la_LIBADD =
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_3 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_DEPENDENCIES = $(am__DEPENDENCIES_3)
 am__cpu_la_SOURCES_DIST = cpu.c
-@BUILD_PLUGIN_CPU_TRUE@am_cpu_la_OBJECTS = cpu.lo
+@BUILD_PLUGIN_CPU_TRUE@am_cpu_la_OBJECTS = cpu_la-cpu.lo
 cpu_la_OBJECTS = $(am_cpu_la_OBJECTS)
 cpu_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(cpu_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
+	--mode=link $(CCLD) $(cpu_la_CFLAGS) $(CFLAGS) \
+	$(cpu_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_CPU_TRUE@am_cpu_la_rpath = -rpath $(pkglibdir)
 cpufreq_la_LIBADD =
 am__cpufreq_la_SOURCES_DIST = cpufreq.c
 @BUILD_PLUGIN_CPUFREQ_TRUE@am_cpufreq_la_OBJECTS = cpufreq.lo
 cpufreq_la_OBJECTS = $(am_cpufreq_la_OBJECTS)
 cpufreq_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
@@ -330,19 +367,20 @@
 @BUILD_PLUGIN_DF_TRUE@am_df_la_OBJECTS = df.lo
 df_la_OBJECTS = $(am_df_la_OBJECTS)
 df_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(df_la_LDFLAGS) \
 	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
-disk_la_LIBADD =
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_4 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_DISK_TRUE@disk_la_DEPENDENCIES = $(am__DEPENDENCIES_4)
 am__disk_la_SOURCES_DIST = disk.c
-@BUILD_PLUGIN_DISK_TRUE@am_disk_la_OBJECTS = disk.lo
+@BUILD_PLUGIN_DISK_TRUE@am_disk_la_OBJECTS = disk_la-disk.lo
 disk_la_OBJECTS = $(am_disk_la_OBJECTS)
 disk_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(disk_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
+	--mode=link $(CCLD) $(disk_la_CFLAGS) $(CFLAGS) \
+	$(disk_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
 dns_la_LIBADD =
 am__dns_la_SOURCES_DIST = dns.c utils_dns.c utils_dns.h
 @BUILD_PLUGIN_DNS_TRUE@am_dns_la_OBJECTS = dns.lo utils_dns.lo
 dns_la_OBJECTS = $(am_dns_la_OBJECTS)
 dns_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
@@ -381,25 +419,32 @@
 @BUILD_PLUGIN_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS = hddtemp.lo
 hddtemp_la_OBJECTS = $(am_hddtemp_la_OBJECTS)
 hddtemp_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(hddtemp_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_HDDTEMP_TRUE@am_hddtemp_la_rpath = -rpath $(pkglibdir)
-@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_3 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_5 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_INTERFACE_TRUE@interface_la_DEPENDENCIES =  \
-@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__DEPENDENCIES_3)
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__DEPENDENCIES_5)
 am__interface_la_SOURCES_DIST = interface.c
 @BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_OBJECTS =  \
 @BUILD_PLUGIN_INTERFACE_TRUE@	interface_la-interface.lo
 interface_la_OBJECTS = $(am_interface_la_OBJECTS)
 interface_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(interface_la_CFLAGS) \
 	$(CFLAGS) $(interface_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_rpath = -rpath \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(pkglibdir)
-iptables_la_LIBADD =
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
+am__ipmi_la_SOURCES_DIST = ipmi.c
+@BUILD_PLUGIN_IPMI_TRUE@am_ipmi_la_OBJECTS = ipmi_la-ipmi.lo
+ipmi_la_OBJECTS = $(am_ipmi_la_OBJECTS)
+ipmi_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
+	--mode=link $(CCLD) $(ipmi_la_CFLAGS) $(CFLAGS) \
+	$(ipmi_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_IPMI_TRUE@am_ipmi_la_rpath = -rpath $(pkglibdir)
 am__iptables_la_SOURCES_DIST = iptables.c
 @BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_OBJECTS = iptables.lo
 iptables_la_OBJECTS = $(am_iptables_la_OBJECTS)
 iptables_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(iptables_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -428,14 +473,14 @@
 @BUILD_PLUGIN_LIBVIRT_TRUE@	libvirt_la-libvirt.lo
 libvirt_la_OBJECTS = $(am_libvirt_la_OBJECTS)
 libvirt_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(libvirt_la_CFLAGS) \
 	$(CFLAGS) $(libvirt_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_LIBVIRT_TRUE@am_libvirt_la_rpath = -rpath $(pkglibdir)
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_4 = $(am__DEPENDENCIES_1)
-@BUILD_PLUGIN_LOAD_TRUE@load_la_DEPENDENCIES = $(am__DEPENDENCIES_4)
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_6 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_LOAD_TRUE@load_la_DEPENDENCIES = $(am__DEPENDENCIES_6)
 am__load_la_SOURCES_DIST = load.c
 @BUILD_PLUGIN_LOAD_TRUE@am_load_la_OBJECTS = load_la-load.lo
 load_la_OBJECTS = $(am_load_la_OBJECTS)
 load_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(load_la_CFLAGS) $(CFLAGS) \
 	$(load_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -463,17 +508,17 @@
 memcached_la_OBJECTS = $(am_memcached_la_OBJECTS)
 memcached_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(memcached_la_CFLAGS) \
 	$(CFLAGS) $(memcached_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MEMCACHED_TRUE@am_memcached_la_rpath = -rpath \
 @BUILD_PLUGIN_MEMCACHED_TRUE@	$(pkglibdir)
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_5 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_7 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_DEPENDENCIES =  \
 @BUILD_PLUGIN_MEMORY_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_MEMORY_TRUE@	$(am__DEPENDENCIES_1) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__DEPENDENCIES_5)
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__DEPENDENCIES_7)
 am__memory_la_SOURCES_DIST = memory.c
 @BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_OBJECTS = memory_la-memory.lo
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
 memory_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(memory_la_CFLAGS) \
 	$(CFLAGS) $(memory_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -485,15 +530,15 @@
 multimeter_la_OBJECTS = $(am_multimeter_la_OBJECTS)
 multimeter_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(multimeter_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_MULTIMETER_TRUE@am_multimeter_la_rpath = -rpath \
 @BUILD_PLUGIN_MULTIMETER_TRUE@	$(pkglibdir)
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__DEPENDENCIES_6 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__DEPENDENCIES_8 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_DEPENDENCIES =  \
-@BUILD_PLUGIN_MYSQL_TRUE@	$(am__DEPENDENCIES_6)
+@BUILD_PLUGIN_MYSQL_TRUE@	$(am__DEPENDENCIES_8)
 am__mysql_la_SOURCES_DIST = mysql.c
 @BUILD_PLUGIN_MYSQL_TRUE@am_mysql_la_OBJECTS = mysql_la-mysql.lo
 mysql_la_OBJECTS = $(am_mysql_la_OBJECTS)
 mysql_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(mysql_la_CFLAGS) $(CFLAGS) \
 	$(mysql_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -521,15 +566,15 @@
 @BUILD_PLUGIN_NFS_TRUE@am_nfs_la_OBJECTS = nfs.lo
 nfs_la_OBJECTS = $(am_nfs_la_OBJECTS)
 nfs_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(nfs_la_LDFLAGS) \
 	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_NFS_TRUE@am_nfs_la_rpath = -rpath $(pkglibdir)
-@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__DEPENDENCIES_7 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__DEPENDENCIES_9 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_DEPENDENCIES =  \
-@BUILD_PLUGIN_NGINX_TRUE@	$(am__DEPENDENCIES_7)
+@BUILD_PLUGIN_NGINX_TRUE@	$(am__DEPENDENCIES_9)
 am__nginx_la_SOURCES_DIST = nginx.c
 @BUILD_PLUGIN_NGINX_TRUE@am_nginx_la_OBJECTS = nginx_la-nginx.lo
 nginx_la_OBJECTS = $(am_nginx_la_OBJECTS)
 nginx_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(nginx_la_CFLAGS) $(CFLAGS) \
 	$(nginx_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -562,12 +607,20 @@
 @BUILD_PLUGIN_PING_TRUE@am_ping_la_OBJECTS = ping.lo
 ping_la_OBJECTS = $(am_ping_la_OBJECTS)
 ping_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(ping_la_LDFLAGS) \
 	$(LDFLAGS) -o $@
 @BUILD_PLUGIN_PING_TRUE@am_ping_la_rpath = -rpath $(pkglibdir)
+powerdns_la_LIBADD =
+am__powerdns_la_SOURCES_DIST = powerdns.c
+@BUILD_PLUGIN_POWERDNS_TRUE@am_powerdns_la_OBJECTS = powerdns.lo
+powerdns_la_OBJECTS = $(am_powerdns_la_OBJECTS)
+powerdns_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(powerdns_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_POWERDNS_TRUE@am_powerdns_la_rpath = -rpath $(pkglibdir)
 processes_la_LIBADD =
 am__processes_la_SOURCES_DIST = processes.c
 @BUILD_PLUGIN_PROCESSES_TRUE@am_processes_la_OBJECTS = processes.lo
 processes_la_OBJECTS = $(am_processes_la_OBJECTS)
 processes_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -598,27 +651,27 @@
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
 serial_la_OBJECTS = $(am_serial_la_OBJECTS)
 serial_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(serial_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_rpath = -rpath $(pkglibdir)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__DEPENDENCIES_8 = $(am__DEPENDENCIES_1)
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_DEPENDENCIES = $(am__DEPENDENCIES_8) \
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__DEPENDENCIES_10 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_DEPENDENCIES = $(am__DEPENDENCIES_10) \
 @BUILD_PLUGIN_SNMP_TRUE@	$(am__DEPENDENCIES_1)
 am__snmp_la_SOURCES_DIST = snmp.c
 @BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_OBJECTS = snmp_la-snmp.lo
 snmp_la_OBJECTS = $(am_snmp_la_OBJECTS)
 snmp_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(snmp_la_CFLAGS) $(CFLAGS) \
 	$(snmp_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_rpath = -rpath $(pkglibdir)
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_9 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_11 = $(am__DEPENDENCIES_1)
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_DEPENDENCIES = $(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_SWAP_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_PLUGIN_SWAP_TRUE@	$(am__DEPENDENCIES_1) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__DEPENDENCIES_9)
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__DEPENDENCIES_11)
 am__swap_la_SOURCES_DIST = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@am_swap_la_OBJECTS = swap_la-swap.lo
 swap_la_OBJECTS = $(am_swap_la_OBJECTS)
 swap_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(swap_la_CFLAGS) $(CFLAGS) \
 	$(swap_la_LDFLAGS) $(LDFLAGS) -o $@
@@ -628,12 +681,20 @@
 @BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_OBJECTS = syslog.lo
 syslog_la_OBJECTS = $(am_syslog_la_OBJECTS)
 syslog_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(syslog_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_rpath = -rpath $(pkglibdir)
+tail_la_LIBADD =
+am__tail_la_SOURCES_DIST = tail.c
+@BUILD_PLUGIN_TAIL_TRUE@am_tail_la_OBJECTS = tail.lo
+tail_la_OBJECTS = $(am_tail_la_OBJECTS)
+tail_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
+	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(tail_la_LDFLAGS) \
+	$(LDFLAGS) -o $@
+@BUILD_PLUGIN_TAIL_TRUE@am_tail_la_rpath = -rpath $(pkglibdir)
 tape_la_LIBADD =
 am__tape_la_SOURCES_DIST = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@am_tape_la_OBJECTS = tape.lo
 tape_la_OBJECTS = $(am_tape_la_OBJECTS)
 tape_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(tape_la_LDFLAGS) \
@@ -644,39 +705,64 @@
 @BUILD_PLUGIN_TCPCONNS_TRUE@am_tcpconns_la_OBJECTS = tcpconns.lo
 tcpconns_la_OBJECTS = $(am_tcpconns_la_OBJECTS)
 tcpconns_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(tcpconns_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_TCPCONNS_TRUE@am_tcpconns_la_rpath = -rpath $(pkglibdir)
+teamspeak2_la_LIBADD =
+am__teamspeak2_la_SOURCES_DIST = teamspeak2.c
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am_teamspeak2_la_OBJECTS =  \
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@	teamspeak2.lo
+teamspeak2_la_OBJECTS = $(am_teamspeak2_la_OBJECTS)
+teamspeak2_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
+	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(teamspeak2_la_LDFLAGS) $(LDFLAGS) -o $@
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@am_teamspeak2_la_rpath = -rpath \
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@	$(pkglibdir)
 unixsock_la_LIBADD =
-am__unixsock_la_SOURCES_DIST = unixsock.c utils_cmd_putval.h \
+am__unixsock_la_SOURCES_DIST = unixsock.c utils_cmd_flush.h \
+	utils_cmd_flush.c utils_cmd_getval.h utils_cmd_getval.c \
+	utils_cmd_listval.h utils_cmd_listval.c utils_cmd_putval.h \
 	utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
 @BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS = unixsock.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_flush.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_getval.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_listval.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putval.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	utils_cmd_putnotif.lo
 unixsock_la_OBJECTS = $(am_unixsock_la_OBJECTS)
 unixsock_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(unixsock_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_rpath = -rpath $(pkglibdir)
-users_la_LIBADD =
+@BUILD_PLUGIN_USERS_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_12 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_USERS_TRUE@users_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_USERS_TRUE@	$(am__DEPENDENCIES_12)
 am__users_la_SOURCES_DIST = users.c
-@BUILD_PLUGIN_USERS_TRUE@am_users_la_OBJECTS = users.lo
+@BUILD_PLUGIN_USERS_TRUE@am_users_la_OBJECTS = users_la-users.lo
 users_la_OBJECTS = $(am_users_la_OBJECTS)
 users_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
-	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(users_la_LDFLAGS) \
-	$(LDFLAGS) -o $@
+	--mode=link $(CCLD) $(users_la_CFLAGS) $(CFLAGS) \
+	$(users_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_USERS_TRUE@am_users_la_rpath = -rpath $(pkglibdir)
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__uuid_la_SOURCES_DIST = uuid.c
 @BUILD_PLUGIN_UUID_TRUE@am_uuid_la_OBJECTS = uuid_la-uuid.lo
 uuid_la_OBJECTS = $(am_uuid_la_OBJECTS)
 uuid_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(uuid_la_CFLAGS) $(CFLAGS) \
 	$(uuid_la_LDFLAGS) $(LDFLAGS) -o $@
 @BUILD_PLUGIN_UUID_TRUE@am_uuid_la_rpath = -rpath $(pkglibdir)
+vmem_la_LIBADD =
+am__vmem_la_SOURCES_DIST = vmem.c
+@BUILD_PLUGIN_VMEM_TRUE@am_vmem_la_OBJECTS = vmem.lo
+vmem_la_OBJECTS = $(am_vmem_la_OBJECTS)
+vmem_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
+	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(vmem_la_LDFLAGS) \
+	$(LDFLAGS) -o $@
+@BUILD_PLUGIN_VMEM_TRUE@am_vmem_la_rpath = -rpath $(pkglibdir)
 vserver_la_LIBADD =
 am__vserver_la_SOURCES_DIST = vserver.c
 @BUILD_PLUGIN_VSERVER_TRUE@am_vserver_la_OBJECTS = vserver.lo
 vserver_la_OBJECTS = $(am_vserver_la_OBJECTS)
 vserver_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
@@ -703,19 +789,22 @@
 PROGRAMS = $(bin_PROGRAMS) $(sbin_PROGRAMS)
 am_collectd_OBJECTS = collectd-collectd.$(OBJEXT) \
 	collectd-common.$(OBJEXT) collectd-configfile.$(OBJEXT) \
 	collectd-plugin.$(OBJEXT) collectd-utils_avltree.$(OBJEXT) \
 	collectd-utils_cache.$(OBJEXT) \
 	collectd-utils_ignorelist.$(OBJEXT) \
-	collectd-utils_llist.$(OBJEXT) collectd-utils_mount.$(OBJEXT) \
+	collectd-utils_llist.$(OBJEXT) \
+	collectd-utils_tail_match.$(OBJEXT) \
+	collectd-utils_match.$(OBJEXT) collectd-utils_mount.$(OBJEXT) \
+	collectd-utils_tail.$(OBJEXT) \
 	collectd-utils_threshold.$(OBJEXT) \
 	collectd-types_list.$(OBJEXT)
 collectd_OBJECTS = $(am_collectd_OBJECTS)
-@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_10 =  \
+@BUILD_WITH_LIBSTATGRAB_TRUE@am__DEPENDENCIES_13 =  \
 @BUILD_WITH_LIBSTATGRAB_TRUE@	$(am__DEPENDENCIES_1)
-@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_11 =  \
+@BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_14 =  \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	liboconfig/liboconfig.la
 collectd_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(collectd_CFLAGS) $(CFLAGS) \
 	$(collectd_LDFLAGS) $(LDFLAGS) -o $@
 am_collectd_nagios_OBJECTS = collectd-nagios.$(OBJEXT)
@@ -737,62 +826,68 @@
 	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@
 SOURCES = $(apache_la_SOURCES) $(apcups_la_SOURCES) \
-	$(apple_sensors_la_SOURCES) $(battery_la_SOURCES) \
-	$(cpu_la_SOURCES) $(cpufreq_la_SOURCES) $(csv_la_SOURCES) \
-	$(df_la_SOURCES) $(disk_la_SOURCES) $(dns_la_SOURCES) \
-	$(email_la_SOURCES) $(entropy_la_SOURCES) $(exec_la_SOURCES) \
-	$(hddtemp_la_SOURCES) $(interface_la_SOURCES) \
+	$(apple_sensors_la_SOURCES) $(ascent_la_SOURCES) \
+	$(battery_la_SOURCES) $(cpu_la_SOURCES) $(cpufreq_la_SOURCES) \
+	$(csv_la_SOURCES) $(df_la_SOURCES) $(disk_la_SOURCES) \
+	$(dns_la_SOURCES) $(email_la_SOURCES) $(entropy_la_SOURCES) \
+	$(exec_la_SOURCES) $(hddtemp_la_SOURCES) \
+	$(interface_la_SOURCES) $(ipmi_la_SOURCES) \
 	$(iptables_la_SOURCES) $(ipvs_la_SOURCES) $(irq_la_SOURCES) \
 	$(libvirt_la_SOURCES) $(load_la_SOURCES) $(logfile_la_SOURCES) \
 	$(mbmon_la_SOURCES) $(memcached_la_SOURCES) \
 	$(memory_la_SOURCES) $(multimeter_la_SOURCES) \
 	$(mysql_la_SOURCES) $(netlink_la_SOURCES) \
 	$(network_la_SOURCES) $(nfs_la_SOURCES) $(nginx_la_SOURCES) \
 	$(ntpd_la_SOURCES) $(nut_la_SOURCES) $(perl_la_SOURCES) \
-	$(ping_la_SOURCES) $(processes_la_SOURCES) \
-	$(rrdtool_la_SOURCES) $(sensors_la_SOURCES) \
-	$(serial_la_SOURCES) $(snmp_la_SOURCES) $(swap_la_SOURCES) \
-	$(syslog_la_SOURCES) $(tape_la_SOURCES) $(tcpconns_la_SOURCES) \
-	$(unixsock_la_SOURCES) $(users_la_SOURCES) $(uuid_la_SOURCES) \
+	$(ping_la_SOURCES) $(powerdns_la_SOURCES) \
+	$(processes_la_SOURCES) $(rrdtool_la_SOURCES) \
+	$(sensors_la_SOURCES) $(serial_la_SOURCES) $(snmp_la_SOURCES) \
+	$(swap_la_SOURCES) $(syslog_la_SOURCES) $(tail_la_SOURCES) \
+	$(tape_la_SOURCES) $(tcpconns_la_SOURCES) \
+	$(teamspeak2_la_SOURCES) $(unixsock_la_SOURCES) \
+	$(users_la_SOURCES) $(uuid_la_SOURCES) $(vmem_la_SOURCES) \
 	$(vserver_la_SOURCES) $(wireless_la_SOURCES) \
 	$(xmms_la_SOURCES) $(collectd_SOURCES) \
 	$(collectd_nagios_SOURCES) $(collectdmon_SOURCES)
 DIST_SOURCES = $(am__apache_la_SOURCES_DIST) \
 	$(am__apcups_la_SOURCES_DIST) \
 	$(am__apple_sensors_la_SOURCES_DIST) \
-	$(am__battery_la_SOURCES_DIST) $(am__cpu_la_SOURCES_DIST) \
-	$(am__cpufreq_la_SOURCES_DIST) $(am__csv_la_SOURCES_DIST) \
-	$(am__df_la_SOURCES_DIST) $(am__disk_la_SOURCES_DIST) \
-	$(am__dns_la_SOURCES_DIST) $(am__email_la_SOURCES_DIST) \
-	$(am__entropy_la_SOURCES_DIST) $(am__exec_la_SOURCES_DIST) \
-	$(am__hddtemp_la_SOURCES_DIST) \
-	$(am__interface_la_SOURCES_DIST) \
+	$(am__ascent_la_SOURCES_DIST) $(am__battery_la_SOURCES_DIST) \
+	$(am__cpu_la_SOURCES_DIST) $(am__cpufreq_la_SOURCES_DIST) \
+	$(am__csv_la_SOURCES_DIST) $(am__df_la_SOURCES_DIST) \
+	$(am__disk_la_SOURCES_DIST) $(am__dns_la_SOURCES_DIST) \
+	$(am__email_la_SOURCES_DIST) $(am__entropy_la_SOURCES_DIST) \
+	$(am__exec_la_SOURCES_DIST) $(am__hddtemp_la_SOURCES_DIST) \
+	$(am__interface_la_SOURCES_DIST) $(am__ipmi_la_SOURCES_DIST) \
 	$(am__iptables_la_SOURCES_DIST) $(am__ipvs_la_SOURCES_DIST) \
 	$(am__irq_la_SOURCES_DIST) $(am__libvirt_la_SOURCES_DIST) \
 	$(am__load_la_SOURCES_DIST) $(am__logfile_la_SOURCES_DIST) \
 	$(am__mbmon_la_SOURCES_DIST) $(am__memcached_la_SOURCES_DIST) \
 	$(am__memory_la_SOURCES_DIST) \
 	$(am__multimeter_la_SOURCES_DIST) $(am__mysql_la_SOURCES_DIST) \
 	$(am__netlink_la_SOURCES_DIST) $(am__network_la_SOURCES_DIST) \
 	$(am__nfs_la_SOURCES_DIST) $(am__nginx_la_SOURCES_DIST) \
 	$(am__ntpd_la_SOURCES_DIST) $(am__nut_la_SOURCES_DIST) \
 	$(am__perl_la_SOURCES_DIST) $(am__ping_la_SOURCES_DIST) \
+	$(am__powerdns_la_SOURCES_DIST) \
 	$(am__processes_la_SOURCES_DIST) \
 	$(am__rrdtool_la_SOURCES_DIST) $(am__sensors_la_SOURCES_DIST) \
 	$(am__serial_la_SOURCES_DIST) $(am__snmp_la_SOURCES_DIST) \
 	$(am__swap_la_SOURCES_DIST) $(am__syslog_la_SOURCES_DIST) \
-	$(am__tape_la_SOURCES_DIST) $(am__tcpconns_la_SOURCES_DIST) \
+	$(am__tail_la_SOURCES_DIST) $(am__tape_la_SOURCES_DIST) \
+	$(am__tcpconns_la_SOURCES_DIST) \
+	$(am__teamspeak2_la_SOURCES_DIST) \
 	$(am__unixsock_la_SOURCES_DIST) $(am__users_la_SOURCES_DIST) \
-	$(am__uuid_la_SOURCES_DIST) $(am__vserver_la_SOURCES_DIST) \
-	$(am__wireless_la_SOURCES_DIST) $(am__xmms_la_SOURCES_DIST) \
-	$(collectd_SOURCES) $(collectd_nagios_SOURCES) \
-	$(collectdmon_SOURCES)
+	$(am__uuid_la_SOURCES_DIST) $(am__vmem_la_SOURCES_DIST) \
+	$(am__vserver_la_SOURCES_DIST) $(am__wireless_la_SOURCES_DIST) \
+	$(am__xmms_la_SOURCES_DIST) $(collectd_SOURCES) \
+	$(collectd_nagios_SOURCES) $(collectdmon_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
 	html-recursive info-recursive install-data-recursive \
 	install-dvi-recursive install-exec-recursive \
 	install-html-recursive install-info-recursive \
 	install-pdf-recursive install-ps-recursive install-recursive \
 	installcheck-recursive installdirs-recursive pdf-recursive \
@@ -802,13 +897,13 @@
 NROFF = nroff
 MANS = $(dist_man_MANS)
 RECURSIVE_CLEAN_TARGETS = mostlyclean-recursive clean-recursive	\
   distclean-recursive maintainer-clean-recursive
 ETAGS = etags
 CTAGS = ctags
-DIST_SUBDIRS = liboconfig liboping
+DIST_SUBDIRS = libiptc liboconfig liboping
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
@@ -835,12 +930,14 @@
 BUILD_WITH_LIBVIRT_CFLAGS = @BUILD_WITH_LIBVIRT_CFLAGS@
 BUILD_WITH_LIBVIRT_LIBS = @BUILD_WITH_LIBVIRT_LIBS@
 BUILD_WITH_LIBXML2_CFLAGS = @BUILD_WITH_LIBXML2_CFLAGS@
 BUILD_WITH_LIBXML2_LIBS = @BUILD_WITH_LIBXML2_LIBS@
 BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
 BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_OPENIPMI_CFLAGS = @BUILD_WITH_OPENIPMI_CFLAGS@
+BUILD_WITH_OPENIPMI_LIBS = @BUILD_WITH_OPENIPMI_LIBS@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
 CXX = @CXX@
@@ -862,12 +959,13 @@
 GREP = @GREP@
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
 INSTALL_SCRIPT = @INSTALL_SCRIPT@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+KERNEL_DIR = @KERNEL_DIR@
 LDFLAGS = @LDFLAGS@
 LEX = @LEX@
 LEXLIB = @LEXLIB@
 LEX_OUTPUT_ROOT = @LEX_OUTPUT_ROOT@
 LIBLTDL = @LIBLTDL@
 LIBOBJS = @LIBOBJS@
@@ -950,191 +1048,215 @@
 srcdir = @srcdir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-SUBDIRS = $(am__append_1) $(am__append_2)
+SUBDIRS = $(am__append_1) $(am__append_2) $(am__append_3)
 @COMPILER_IS_GCC_TRUE@AM_CFLAGS = -Wall -Werror
 AM_CPPFLAGS = -DPREFIX='"${prefix}"' \
 	-DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"' \
 	-DLOCALSTATEDIR='"${localstatedir}"' \
 	-DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"' \
-	$(am__append_3) -DPLUGINDIR='"${pkglibdir}"'
+	$(am__append_4) -DPLUGINDIR='"${pkglibdir}"'
 collectd_SOURCES = collectd.c collectd.h \
 		   common.c common.h \
 		   configfile.c configfile.h \
 		   plugin.c plugin.h \
 		   utils_avltree.c utils_avltree.h \
 		   utils_cache.c utils_cache.h \
 		   utils_ignorelist.c utils_ignorelist.h \
 		   utils_llist.c utils_llist.h \
+		   utils_tail_match.c utils_tail_match.h \
+		   utils_match.c utils_match.h \
 		   utils_mount.c utils_mount.h \
+		   utils_tail.c utils_tail.h \
 		   utils_threshold.c utils_threshold.h \
 		   types_list.c types_list.h
 
 collectd_CPPFLAGS = $(AM_CPPFLAGS) $(LTDLINCL)
-collectd_CFLAGS = $(am__append_10)
+collectd_CFLAGS = $(am__append_11)
 collectd_LDFLAGS = -export-dynamic
-collectd_LDADD = $(am__append_4) $(am__append_5) $(am__append_6) \
-	$(am__append_7) $(am__append_8) $(am__append_9) \
-	$(am__append_11) $(am__append_12) $(am__append_14) \
-	$(am__append_17) $(am__append_23) $(am__append_26) \
-	$(am__append_30) $(am__append_35) $(am__append_38) \
-	$(am__append_41) $(am__append_44) $(am__append_50) \
-	$(am__append_53) $(am__append_57) $(am__append_60) \
-	$(am__append_64) $(am__append_68) $(am__append_71) \
-	$(am__append_78) $(am__append_81) $(am__append_84) \
-	$(am__append_87) $(am__append_90) $(am__append_95) \
-	$(am__append_99) $(am__append_103) $(am__append_106) \
-	$(am__append_113) $(am__append_116) $(am__append_121) \
-	$(am__append_126) $(am__append_129) $(am__append_134) \
-	$(am__append_138) $(am__append_141) $(am__append_144) \
-	$(am__append_148) $(am__append_151) $(am__append_154) \
-	$(am__append_157) $(am__append_160) $(am__append_166) \
-	$(am__append_169) $(am__append_177) $(am__append_180) \
-	$(am__append_183) $(am__append_186) $(am__append_189) \
-	$(am__append_192) $(am__append_195) $(am__append_198) \
-	$(am__append_201)
-collectd_DEPENDENCIES = $(am__append_13) $(am__append_20) \
-	$(am__append_24) $(am__append_27) $(am__append_31) \
-	$(am__append_36) $(am__append_39) $(am__append_42) \
-	$(am__append_45) $(am__append_51) $(am__append_54) \
+collectd_LDADD = $(am__append_5) $(am__append_6) $(am__append_7) \
+	$(am__append_8) $(am__append_9) $(am__append_10) \
+	$(am__append_12) $(am__append_13) $(am__append_15) \
+	$(am__append_18) $(am__append_24) $(am__append_27) \
+	$(am__append_30) $(am__append_34) $(am__append_41) \
+	$(am__append_44) $(am__append_47) $(am__append_50) \
 	$(am__append_58) $(am__append_61) $(am__append_65) \
-	$(am__append_69) $(am__append_72) $(am__append_79) \
-	$(am__append_82) $(am__append_85) $(am__append_88) \
-	$(am__append_91) $(am__append_96) $(am__append_100) \
-	$(am__append_104) $(am__append_107) $(am__append_114) \
-	$(am__append_119) $(am__append_122) $(am__append_127) \
-	$(am__append_130) $(am__append_135) $(am__append_139) \
-	$(am__append_142) $(am__append_145) $(am__append_149) \
-	$(am__append_152) $(am__append_155) $(am__append_158) \
-	$(am__append_161) $(am__append_167) $(am__append_170) \
-	$(am__append_178) $(am__append_181) $(am__append_184) \
-	$(am__append_187) $(am__append_190) $(am__append_193) \
-	$(am__append_196) $(am__append_199) $(am__append_202)
+	$(am__append_68) $(am__append_72) $(am__append_76) \
+	$(am__append_79) $(am__append_87) $(am__append_90) \
+	$(am__append_93) $(am__append_96) $(am__append_99) \
+	$(am__append_102) $(am__append_107) $(am__append_111) \
+	$(am__append_115) $(am__append_118) $(am__append_125) \
+	$(am__append_128) $(am__append_133) $(am__append_138) \
+	$(am__append_141) $(am__append_146) $(am__append_150) \
+	$(am__append_153) $(am__append_156) $(am__append_160) \
+	$(am__append_163) $(am__append_166) $(am__append_169) \
+	$(am__append_172) $(am__append_175) $(am__append_181) \
+	$(am__append_184) $(am__append_192) $(am__append_195) \
+	$(am__append_198) $(am__append_201) $(am__append_204) \
+	$(am__append_207) $(am__append_212) $(am__append_215) \
+	$(am__append_218) $(am__append_221) $(am__append_224) \
+	$(am__append_227)
+collectd_DEPENDENCIES = $(am__append_14) $(am__append_21) \
+	$(am__append_25) $(am__append_28) $(am__append_31) \
+	$(am__append_35) $(am__append_42) $(am__append_45) \
+	$(am__append_48) $(am__append_51) $(am__append_59) \
+	$(am__append_62) $(am__append_66) $(am__append_69) \
+	$(am__append_73) $(am__append_77) $(am__append_80) \
+	$(am__append_88) $(am__append_91) $(am__append_94) \
+	$(am__append_97) $(am__append_100) $(am__append_103) \
+	$(am__append_108) $(am__append_112) $(am__append_116) \
+	$(am__append_119) $(am__append_126) $(am__append_131) \
+	$(am__append_134) $(am__append_139) $(am__append_142) \
+	$(am__append_147) $(am__append_151) $(am__append_154) \
+	$(am__append_157) $(am__append_161) $(am__append_164) \
+	$(am__append_167) $(am__append_170) $(am__append_173) \
+	$(am__append_176) $(am__append_182) $(am__append_185) \
+	$(am__append_193) $(am__append_196) $(am__append_199) \
+	$(am__append_202) $(am__append_205) $(am__append_208) \
+	$(am__append_213) $(am__append_216) $(am__append_219) \
+	$(am__append_222) $(am__append_225) $(am__append_228)
 collectdmon_SOURCES = collectdmon.c
 collectdmon_CPPFLAGS = $(AM_CPPFLAGS)
 collectd_nagios_SOURCES = collectd-nagios.c
-collectd_nagios_LDFLAGS = $(am__append_15)
-pkglib_LTLIBRARIES = $(am__append_16) $(am__append_21) \
-	$(am__append_25) $(am__append_28) $(am__append_32) \
-	$(am__append_37) $(am__append_40) $(am__append_43) \
-	$(am__append_46) $(am__append_52) $(am__append_55) \
-	$(am__append_59) $(am__append_62) $(am__append_66) \
-	$(am__append_70) $(am__append_77) $(am__append_80) \
-	$(am__append_83) $(am__append_86) $(am__append_89) \
-	$(am__append_94) $(am__append_97) $(am__append_101) \
-	$(am__append_105) $(am__append_112) $(am__append_115) \
-	$(am__append_120) $(am__append_123) $(am__append_128) \
-	$(am__append_131) $(am__append_136) $(am__append_140) \
-	$(am__append_143) $(am__append_146) $(am__append_150) \
-	$(am__append_153) $(am__append_156) $(am__append_159) \
-	$(am__append_162) $(am__append_168) $(am__append_176) \
-	$(am__append_179) $(am__append_182) $(am__append_185) \
-	$(am__append_188) $(am__append_191) $(am__append_194) \
-	$(am__append_197) $(am__append_200)
+collectd_nagios_LDFLAGS = $(am__append_16)
+pkglib_LTLIBRARIES = $(am__append_17) $(am__append_22) \
+	$(am__append_26) $(am__append_29) $(am__append_32) \
+	$(am__append_36) $(am__append_43) $(am__append_46) \
+	$(am__append_49) $(am__append_52) $(am__append_60) \
+	$(am__append_63) $(am__append_67) $(am__append_70) \
+	$(am__append_74) $(am__append_78) $(am__append_85) \
+	$(am__append_89) $(am__append_92) $(am__append_95) \
+	$(am__append_98) $(am__append_101) $(am__append_106) \
+	$(am__append_109) $(am__append_113) $(am__append_117) \
+	$(am__append_124) $(am__append_127) $(am__append_132) \
+	$(am__append_135) $(am__append_140) $(am__append_143) \
+	$(am__append_148) $(am__append_152) $(am__append_155) \
+	$(am__append_158) $(am__append_162) $(am__append_165) \
+	$(am__append_168) $(am__append_171) $(am__append_174) \
+	$(am__append_177) $(am__append_183) $(am__append_191) \
+	$(am__append_194) $(am__append_197) $(am__append_200) \
+	$(am__append_203) $(am__append_206) $(am__append_209) \
+	$(am__append_214) $(am__append_217) $(am__append_220) \
+	$(am__append_223) $(am__append_226)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_SOURCES = apache.c
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(am__append_18)
-@BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_19)
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(am__append_19)
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_20)
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_APCUPS_TRUE@	$(am__append_22)
+@BUILD_PLUGIN_APCUPS_TRUE@	$(am__append_23)
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_SOURCES = apple_sensors.c
 @BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_LDFLAGS = -module -avoid-version -lIOKit
+@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_SOURCES = ascent.c
+@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_CFLAGS = $(BUILD_WITH_LIBCURL_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
+@BUILD_PLUGIN_ASCENT_TRUE@ascent_la_LIBADD = $(BUILD_WITH_LIBCURL_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
 @BUILD_PLUGIN_BATTERY_TRUE@battery_la_SOURCES = battery.c
 @BUILD_PLUGIN_BATTERY_TRUE@battery_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_BATTERY_TRUE@	$(am__append_29)
+@BUILD_PLUGIN_BATTERY_TRUE@	$(am__append_33)
 @BUILD_PLUGIN_CPU_TRUE@cpu_la_SOURCES = cpu.c
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_CFLAGS = $(am__append_39)
 @BUILD_PLUGIN_CPU_TRUE@cpu_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_CPU_TRUE@	$(am__append_33) $(am__append_34)
+@BUILD_PLUGIN_CPU_TRUE@	$(am__append_37) $(am__append_38)
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_LIBADD = $(am__append_40)
 @BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_SOURCES = cpufreq.c
 @BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_CSV_TRUE@csv_la_SOURCES = csv.c
 @BUILD_PLUGIN_CSV_TRUE@csv_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_DF_TRUE@df_la_SOURCES = df.c
 @BUILD_PLUGIN_DF_TRUE@df_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_DISK_TRUE@disk_la_SOURCES = disk.c
+@BUILD_PLUGIN_DISK_TRUE@disk_la_CFLAGS = $(am__append_56)
 @BUILD_PLUGIN_DISK_TRUE@disk_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_DISK_TRUE@	$(am__append_47) $(am__append_48) \
-@BUILD_PLUGIN_DISK_TRUE@	$(am__append_49)
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_53) $(am__append_54) \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_55)
+@BUILD_PLUGIN_DISK_TRUE@disk_la_LIBADD = $(am__append_57)
 @BUILD_PLUGIN_DNS_TRUE@dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
 @BUILD_PLUGIN_DNS_TRUE@dns_la_LDFLAGS = -module -avoid-version -lpcap -lpthread
 @BUILD_PLUGIN_EMAIL_TRUE@email_la_SOURCES = email.c
 @BUILD_PLUGIN_EMAIL_TRUE@email_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_EMAIL_TRUE@	$(am__append_56)
+@BUILD_PLUGIN_EMAIL_TRUE@	$(am__append_64)
 @BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_SOURCES = entropy.c
 @BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_EXEC_TRUE@exec_la_SOURCES = exec.c \
 @BUILD_PLUGIN_EXEC_TRUE@		  utils_cmd_putnotif.c utils_cmd_putnotif.h \
 @BUILD_PLUGIN_EXEC_TRUE@		  utils_cmd_putval.c utils_cmd_putval.h
 
 @BUILD_PLUGIN_EXEC_TRUE@exec_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_EXEC_TRUE@	$(am__append_63)
+@BUILD_PLUGIN_EXEC_TRUE@	$(am__append_71)
 @BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_SOURCES = hddtemp.c
 @BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_HDDTEMP_TRUE@	$(am__append_67)
+@BUILD_PLUGIN_HDDTEMP_TRUE@	$(am__append_75)
 @BUILD_PLUGIN_INTERFACE_TRUE@interface_la_SOURCES = interface.c
-@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_CFLAGS = $(am__append_73)
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_CFLAGS = $(am__append_81)
 @BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LDFLAGS = -module \
-@BUILD_PLUGIN_INTERFACE_TRUE@	-avoid-version $(am__append_75) \
-@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_76)
-@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LIBADD = $(am__append_74)
+@BUILD_PLUGIN_INTERFACE_TRUE@	-avoid-version $(am__append_83) \
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_84)
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LIBADD = $(am__append_82)
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_SOURCES = iptables.c
-@BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = -module -avoid-version -liptc
+@BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = -module \
+@BUILD_PLUGIN_IPTABLES_TRUE@	-avoid-version $(am__append_86)
+@BUILD_PLUGIN_IPTABLES_TRUE@@BUILD_WITH_OWN_LIBIPTC_TRUE@iptables_la_LIBADD = libiptc/libiptc.la
+@BUILD_PLUGIN_IPTABLES_TRUE@@BUILD_WITH_OWN_LIBIPTC_TRUE@iptables_la_DEPENDENCIES = libiptc/libiptc.la
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_SOURCES = ipmi.c
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_CFLAGS = $(BUILD_WITH_OPENIPMI_CFLAGS)
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_IPMI_TRUE@ipmi_la_LIBADD = $(BUILD_WITH_OPENIPMI_LIBS)
 @BUILD_PLUGIN_IPVS_TRUE@ipvs_la_SOURCES = ipvs.c
 @BUILD_PLUGIN_IPVS_TRUE@ipvs_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_IRQ_TRUE@irq_la_SOURCES = irq.c
 @BUILD_PLUGIN_IRQ_TRUE@irq_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_SOURCES = libvirt.c
 @BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_CFLAGS = $(BUILD_WITH_LIBVIRT_CFLAGS) $(BUILD_WITH_LIBXML2_CFLAGS)
 @BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_LIBADD = $(BUILD_WITH_LIBVIRT_LIBS) $(BUILD_WITH_LIBXML2_LIBS)
 @BUILD_PLUGIN_LIBVIRT_TRUE@libvirt_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_LOAD_TRUE@load_la_SOURCES = load.c
-@BUILD_PLUGIN_LOAD_TRUE@load_la_CFLAGS = $(am__append_92)
+@BUILD_PLUGIN_LOAD_TRUE@load_la_CFLAGS = $(am__append_104)
 @BUILD_PLUGIN_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_LOAD_TRUE@load_la_LIBADD = $(am__append_93)
+@BUILD_PLUGIN_LOAD_TRUE@load_la_LIBADD = $(am__append_105)
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_SOURCES = logfile.c
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_98)
+@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_110)
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_SOURCES = memcached.c
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LDFLAGS = -module \
-@BUILD_PLUGIN_MEMCACHED_TRUE@	-avoid-version $(am__append_102)
+@BUILD_PLUGIN_MEMCACHED_TRUE@	-avoid-version $(am__append_114)
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_CFLAGS = 
 @BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LIBADD = 
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_SOURCES = memory.c
-@BUILD_PLUGIN_MEMORY_TRUE@memory_la_CFLAGS = $(am__append_110)
+@BUILD_PLUGIN_MEMORY_TRUE@memory_la_CFLAGS = $(am__append_122)
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LIBADD = $(am__append_108) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_109) $(am__append_111)
+@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LIBADD = $(am__append_120) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_121) $(am__append_123)
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_117)
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_118)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_129)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_130)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_SOURCES = netlink.c
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_CFLAGS = $(BUILD_WITH_LIBNETLINK_CFLAGS)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LIBADD = $(BUILD_WITH_LIBNETLINK_LIBS)
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_SOURCES = network.c network.h
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_124) $(am__append_125)
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_136) $(am__append_137)
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_SOURCES = nfs.c
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_SOURCES = nginx.c
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_132)
-@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LIBADD = $(am__append_133)
+@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_144)
+@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LIBADD = $(am__append_145)
 @BUILD_PLUGIN_NGINX_TRUE@nginx_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_137)
+@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_149)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_SOURCES = nut.c
 @BUILD_PLUGIN_NUT_TRUE@nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_LDFLAGS = -module -avoid-version -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
 @BUILD_PLUGIN_PERL_TRUE@perl_la_SOURCES = perl.c
 @BUILD_PLUGIN_PERL_TRUE@perl_la_CFLAGS = $(AM_CFLAGS) \
 @BUILD_PLUGIN_PERL_TRUE@		  $(PERL_CFLAGS) \
@@ -1142,15 +1264,17 @@
 
 @BUILD_PLUGIN_PERL_TRUE@perl_la_LDFLAGS = -module -avoid-version \
 @BUILD_PLUGIN_PERL_TRUE@		  $(PERL_LDFLAGS)
 
 @BUILD_PLUGIN_PING_TRUE@ping_la_SOURCES = ping.c
 @BUILD_PLUGIN_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_PING_TRUE@	$(am__append_147)
+@BUILD_PLUGIN_PING_TRUE@	$(am__append_159)
 @BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_LIBADD = liboping/liboping.la
 @BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_DEPENDENCIES = liboping/liboping.la
+@BUILD_PLUGIN_POWERDNS_TRUE@powerdns_la_SOURCES = powerdns.c
+@BUILD_PLUGIN_POWERDNS_TRUE@powerdns_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_SOURCES = processes.c
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_SOURCES = rrdtool.c
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_CFLAGS = $(BUILD_WITH_LIBRRD_CFLAGS)
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LIBADD = $(BUILD_WITH_LIBRRD_LDFLAGS)
@@ -1159,35 +1283,49 @@
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSENSORS_LDFLAGS)
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LIBADD = -lsensors
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_SOURCES = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_SOURCES = snmp.c
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_163)
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_164) \
-@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_165)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_178)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_179) \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_180)
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_SOURCES = swap.c
-@BUILD_PLUGIN_SWAP_TRUE@swap_la_CFLAGS = $(am__append_174)
+@BUILD_PLUGIN_SWAP_TRUE@swap_la_CFLAGS = $(am__append_189)
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_SWAP_TRUE@swap_la_LIBADD = $(am__append_171) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_172) $(am__append_173) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_175)
+@BUILD_PLUGIN_SWAP_TRUE@swap_la_LIBADD = $(am__append_186) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_187) $(am__append_188) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_190)
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TAIL_TRUE@tail_la_SOURCES = tail.c
+@BUILD_PLUGIN_TAIL_TRUE@tail_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_SOURCES = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
 @BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_SOURCES = tcpconns.c
 @BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c utils_cmd_putnotif.h utils_cmd_putnotif.c
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@teamspeak2_la_SOURCES = teamspeak2.c
+@BUILD_PLUGIN_TEAMSPEAK2_TRUE@teamspeak2_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_flush.h utils_cmd_flush.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_getval.h utils_cmd_getval.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_listval.h utils_cmd_listval.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_putval.h utils_cmd_putval.c \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@		      utils_cmd_putnotif.h utils_cmd_putnotif.c
+
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 @BUILD_PLUGIN_USERS_TRUE@users_la_SOURCES = users.c
+@BUILD_PLUGIN_USERS_TRUE@users_la_CFLAGS = $(am__append_210)
 @BUILD_PLUGIN_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_USERS_TRUE@users_la_LIBADD = $(am__append_211)
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_SOURCES = uuid.c
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_CFLAGS = $(BUILD_WITH_LIBHAL_CFLAGS)
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_LIBADD = $(BUILD_WITH_LIBHAL_LIBS)
 @BUILD_PLUGIN_UUID_TRUE@uuid_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_VMEM_TRUE@vmem_la_SOURCES = vmem.c
+@BUILD_PLUGIN_VMEM_TRUE@vmem_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
 @BUILD_PLUGIN_VSERVER_TRUE@vserver_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_SOURCES = wireless.c
 @BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_SOURCES = xmms.c
 @BUILD_PLUGIN_XMMS_TRUE@xmms_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBXMMS_CFLAGS)
@@ -1286,12 +1424,14 @@
 apache.la: $(apache_la_OBJECTS) $(apache_la_DEPENDENCIES) 
 	$(apache_la_LINK) $(am_apache_la_rpath) $(apache_la_OBJECTS) $(apache_la_LIBADD) $(LIBS)
 apcups.la: $(apcups_la_OBJECTS) $(apcups_la_DEPENDENCIES) 
 	$(apcups_la_LINK) $(am_apcups_la_rpath) $(apcups_la_OBJECTS) $(apcups_la_LIBADD) $(LIBS)
 apple_sensors.la: $(apple_sensors_la_OBJECTS) $(apple_sensors_la_DEPENDENCIES) 
 	$(apple_sensors_la_LINK) $(am_apple_sensors_la_rpath) $(apple_sensors_la_OBJECTS) $(apple_sensors_la_LIBADD) $(LIBS)
+ascent.la: $(ascent_la_OBJECTS) $(ascent_la_DEPENDENCIES) 
+	$(ascent_la_LINK) $(am_ascent_la_rpath) $(ascent_la_OBJECTS) $(ascent_la_LIBADD) $(LIBS)
 battery.la: $(battery_la_OBJECTS) $(battery_la_DEPENDENCIES) 
 	$(battery_la_LINK) $(am_battery_la_rpath) $(battery_la_OBJECTS) $(battery_la_LIBADD) $(LIBS)
 cpu.la: $(cpu_la_OBJECTS) $(cpu_la_DEPENDENCIES) 
 	$(cpu_la_LINK) $(am_cpu_la_rpath) $(cpu_la_OBJECTS) $(cpu_la_LIBADD) $(LIBS)
 cpufreq.la: $(cpufreq_la_OBJECTS) $(cpufreq_la_DEPENDENCIES) 
 	$(cpufreq_la_LINK) $(am_cpufreq_la_rpath) $(cpufreq_la_OBJECTS) $(cpufreq_la_LIBADD) $(LIBS)
@@ -1310,12 +1450,14 @@
 exec.la: $(exec_la_OBJECTS) $(exec_la_DEPENDENCIES) 
 	$(exec_la_LINK) $(am_exec_la_rpath) $(exec_la_OBJECTS) $(exec_la_LIBADD) $(LIBS)
 hddtemp.la: $(hddtemp_la_OBJECTS) $(hddtemp_la_DEPENDENCIES) 
 	$(hddtemp_la_LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
 interface.la: $(interface_la_OBJECTS) $(interface_la_DEPENDENCIES) 
 	$(interface_la_LINK) $(am_interface_la_rpath) $(interface_la_OBJECTS) $(interface_la_LIBADD) $(LIBS)
+ipmi.la: $(ipmi_la_OBJECTS) $(ipmi_la_DEPENDENCIES) 
+	$(ipmi_la_LINK) $(am_ipmi_la_rpath) $(ipmi_la_OBJECTS) $(ipmi_la_LIBADD) $(LIBS)
 iptables.la: $(iptables_la_OBJECTS) $(iptables_la_DEPENDENCIES) 
 	$(iptables_la_LINK) $(am_iptables_la_rpath) $(iptables_la_OBJECTS) $(iptables_la_LIBADD) $(LIBS)
 ipvs.la: $(ipvs_la_OBJECTS) $(ipvs_la_DEPENDENCIES) 
 	$(ipvs_la_LINK) $(am_ipvs_la_rpath) $(ipvs_la_OBJECTS) $(ipvs_la_LIBADD) $(LIBS)
 irq.la: $(irq_la_OBJECTS) $(irq_la_DEPENDENCIES) 
 	$(irq_la_LINK) $(am_irq_la_rpath) $(irq_la_OBJECTS) $(irq_la_LIBADD) $(LIBS)
@@ -1348,12 +1490,14 @@
 nut.la: $(nut_la_OBJECTS) $(nut_la_DEPENDENCIES) 
 	$(nut_la_LINK) $(am_nut_la_rpath) $(nut_la_OBJECTS) $(nut_la_LIBADD) $(LIBS)
 perl.la: $(perl_la_OBJECTS) $(perl_la_DEPENDENCIES) 
 	$(perl_la_LINK) $(am_perl_la_rpath) $(perl_la_OBJECTS) $(perl_la_LIBADD) $(LIBS)
 ping.la: $(ping_la_OBJECTS) $(ping_la_DEPENDENCIES) 
 	$(ping_la_LINK) $(am_ping_la_rpath) $(ping_la_OBJECTS) $(ping_la_LIBADD) $(LIBS)
+powerdns.la: $(powerdns_la_OBJECTS) $(powerdns_la_DEPENDENCIES) 
+	$(powerdns_la_LINK) $(am_powerdns_la_rpath) $(powerdns_la_OBJECTS) $(powerdns_la_LIBADD) $(LIBS)
 processes.la: $(processes_la_OBJECTS) $(processes_la_DEPENDENCIES) 
 	$(processes_la_LINK) $(am_processes_la_rpath) $(processes_la_OBJECTS) $(processes_la_LIBADD) $(LIBS)
 rrdtool.la: $(rrdtool_la_OBJECTS) $(rrdtool_la_DEPENDENCIES) 
 	$(rrdtool_la_LINK) $(am_rrdtool_la_rpath) $(rrdtool_la_OBJECTS) $(rrdtool_la_LIBADD) $(LIBS)
 sensors.la: $(sensors_la_OBJECTS) $(sensors_la_DEPENDENCIES) 
 	$(sensors_la_LINK) $(am_sensors_la_rpath) $(sensors_la_OBJECTS) $(sensors_la_LIBADD) $(LIBS)
@@ -1362,22 +1506,28 @@
 snmp.la: $(snmp_la_OBJECTS) $(snmp_la_DEPENDENCIES) 
 	$(snmp_la_LINK) $(am_snmp_la_rpath) $(snmp_la_OBJECTS) $(snmp_la_LIBADD) $(LIBS)
 swap.la: $(swap_la_OBJECTS) $(swap_la_DEPENDENCIES) 
 	$(swap_la_LINK) $(am_swap_la_rpath) $(swap_la_OBJECTS) $(swap_la_LIBADD) $(LIBS)
 syslog.la: $(syslog_la_OBJECTS) $(syslog_la_DEPENDENCIES) 
 	$(syslog_la_LINK) $(am_syslog_la_rpath) $(syslog_la_OBJECTS) $(syslog_la_LIBADD) $(LIBS)
+tail.la: $(tail_la_OBJECTS) $(tail_la_DEPENDENCIES) 
+	$(tail_la_LINK) $(am_tail_la_rpath) $(tail_la_OBJECTS) $(tail_la_LIBADD) $(LIBS)
 tape.la: $(tape_la_OBJECTS) $(tape_la_DEPENDENCIES) 
 	$(tape_la_LINK) $(am_tape_la_rpath) $(tape_la_OBJECTS) $(tape_la_LIBADD) $(LIBS)
 tcpconns.la: $(tcpconns_la_OBJECTS) $(tcpconns_la_DEPENDENCIES) 
 	$(tcpconns_la_LINK) $(am_tcpconns_la_rpath) $(tcpconns_la_OBJECTS) $(tcpconns_la_LIBADD) $(LIBS)
+teamspeak2.la: $(teamspeak2_la_OBJECTS) $(teamspeak2_la_DEPENDENCIES) 
+	$(teamspeak2_la_LINK) $(am_teamspeak2_la_rpath) $(teamspeak2_la_OBJECTS) $(teamspeak2_la_LIBADD) $(LIBS)
 unixsock.la: $(unixsock_la_OBJECTS) $(unixsock_la_DEPENDENCIES) 
 	$(unixsock_la_LINK) $(am_unixsock_la_rpath) $(unixsock_la_OBJECTS) $(unixsock_la_LIBADD) $(LIBS)
 users.la: $(users_la_OBJECTS) $(users_la_DEPENDENCIES) 
 	$(users_la_LINK) $(am_users_la_rpath) $(users_la_OBJECTS) $(users_la_LIBADD) $(LIBS)
 uuid.la: $(uuid_la_OBJECTS) $(uuid_la_DEPENDENCIES) 
 	$(uuid_la_LINK) $(am_uuid_la_rpath) $(uuid_la_OBJECTS) $(uuid_la_LIBADD) $(LIBS)
+vmem.la: $(vmem_la_OBJECTS) $(vmem_la_DEPENDENCIES) 
+	$(vmem_la_LINK) $(am_vmem_la_rpath) $(vmem_la_OBJECTS) $(vmem_la_LIBADD) $(LIBS)
 vserver.la: $(vserver_la_OBJECTS) $(vserver_la_DEPENDENCIES) 
 	$(vserver_la_LINK) $(am_vserver_la_rpath) $(vserver_la_OBJECTS) $(vserver_la_LIBADD) $(LIBS)
 wireless.la: $(wireless_la_OBJECTS) $(wireless_la_DEPENDENCIES) 
 	$(wireless_la_LINK) $(am_wireless_la_rpath) $(wireless_la_OBJECTS) $(wireless_la_LIBADD) $(LIBS)
 xmms.la: $(xmms_la_OBJECTS) $(xmms_la_DEPENDENCIES) 
 	$(xmms_la_LINK) $(am_xmms_la_rpath) $(xmms_la_OBJECTS) $(xmms_la_LIBADD) $(LIBS)
@@ -1453,37 +1603,42 @@
 distclean-compile:
 	-rm -f *.tab.c
 
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/apache_la-apache.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/apcups.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/apple_sensors.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ascent_la-ascent.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/battery.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-collectd.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-common.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-configfile.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-nagios.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-plugin.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-types_list.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_avltree.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_cache.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_ignorelist.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_llist.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_match.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_mount.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_tail.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_tail_match.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_threshold.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectdmon-collectdmon.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu_la-cpu.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpufreq.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/csv.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/df.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk_la-disk.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/email.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/entropy.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/exec.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/interface_la-interface.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipmi_la-ipmi.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/iptables.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipvs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/irq.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/libvirt_la-libvirt.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load_la-load.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/logfile.Plo@am__quote@
@@ -1497,27 +1652,34 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nginx_la-nginx.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ntpd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nut_la-nut.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/perl_la-perl.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/powerdns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdtool_la-rrdtool.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors_la-sensors.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp_la-snmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap_la-swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/syslog.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tail.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tcpconns.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/teamspeak2.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users_la-users.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_flush.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_getval.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_listval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putnotif.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_dns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/uuid_la-uuid.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vmem.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vserver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/wireless.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/xmms_la-xmms.Plo@am__quote@
 
 .c.o:
 @am__fastdepCC_TRUE@	$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<
@@ -1544,19 +1706,47 @@
 @am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -MT apache_la-apache.lo -MD -MP -MF $(DEPDIR)/apache_la-apache.Tpo -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/apache_la-apache.Tpo $(DEPDIR)/apache_la-apache.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='apache.c' object='apache_la-apache.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c
 
+ascent_la-ascent.lo: ascent.c
+@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ascent_la_CFLAGS) $(CFLAGS) -MT ascent_la-ascent.lo -MD -MP -MF $(DEPDIR)/ascent_la-ascent.Tpo -c -o ascent_la-ascent.lo `test -f 'ascent.c' || echo '$(srcdir)/'`ascent.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/ascent_la-ascent.Tpo $(DEPDIR)/ascent_la-ascent.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='ascent.c' object='ascent_la-ascent.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ascent_la_CFLAGS) $(CFLAGS) -c -o ascent_la-ascent.lo `test -f 'ascent.c' || echo '$(srcdir)/'`ascent.c
+
+cpu_la-cpu.lo: cpu.c
+@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpu_la_CFLAGS) $(CFLAGS) -MT cpu_la-cpu.lo -MD -MP -MF $(DEPDIR)/cpu_la-cpu.Tpo -c -o cpu_la-cpu.lo `test -f 'cpu.c' || echo '$(srcdir)/'`cpu.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/cpu_la-cpu.Tpo $(DEPDIR)/cpu_la-cpu.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='cpu.c' object='cpu_la-cpu.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpu_la_CFLAGS) $(CFLAGS) -c -o cpu_la-cpu.lo `test -f 'cpu.c' || echo '$(srcdir)/'`cpu.c
+
+disk_la-disk.lo: disk.c
+@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -MT disk_la-disk.lo -MD -MP -MF $(DEPDIR)/disk_la-disk.Tpo -c -o disk_la-disk.lo `test -f 'disk.c' || echo '$(srcdir)/'`disk.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/disk_la-disk.Tpo $(DEPDIR)/disk_la-disk.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='disk.c' object='disk_la-disk.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -c -o disk_la-disk.lo `test -f 'disk.c' || echo '$(srcdir)/'`disk.c
+
 interface_la-interface.lo: interface.c
 @am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(interface_la_CFLAGS) $(CFLAGS) -MT interface_la-interface.lo -MD -MP -MF $(DEPDIR)/interface_la-interface.Tpo -c -o interface_la-interface.lo `test -f 'interface.c' || echo '$(srcdir)/'`interface.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/interface_la-interface.Tpo $(DEPDIR)/interface_la-interface.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='interface.c' object='interface_la-interface.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(interface_la_CFLAGS) $(CFLAGS) -c -o interface_la-interface.lo `test -f 'interface.c' || echo '$(srcdir)/'`interface.c
 
+ipmi_la-ipmi.lo: ipmi.c
+@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipmi_la_CFLAGS) $(CFLAGS) -MT ipmi_la-ipmi.lo -MD -MP -MF $(DEPDIR)/ipmi_la-ipmi.Tpo -c -o ipmi_la-ipmi.lo `test -f 'ipmi.c' || echo '$(srcdir)/'`ipmi.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/ipmi_la-ipmi.Tpo $(DEPDIR)/ipmi_la-ipmi.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='ipmi.c' object='ipmi_la-ipmi.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ipmi_la_CFLAGS) $(CFLAGS) -c -o ipmi_la-ipmi.lo `test -f 'ipmi.c' || echo '$(srcdir)/'`ipmi.c
+
 libvirt_la-libvirt.lo: libvirt.c
 @am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_la_CFLAGS) $(CFLAGS) -MT libvirt_la-libvirt.lo -MD -MP -MF $(DEPDIR)/libvirt_la-libvirt.Tpo -c -o libvirt_la-libvirt.lo `test -f 'libvirt.c' || echo '$(srcdir)/'`libvirt.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/libvirt_la-libvirt.Tpo $(DEPDIR)/libvirt_la-libvirt.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='libvirt.c' object='libvirt_la-libvirt.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libvirt_la_CFLAGS) $(CFLAGS) -c -o libvirt_la-libvirt.lo `test -f 'libvirt.c' || echo '$(srcdir)/'`libvirt.c
@@ -1642,12 +1832,19 @@
 @am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(swap_la_CFLAGS) $(CFLAGS) -MT swap_la-swap.lo -MD -MP -MF $(DEPDIR)/swap_la-swap.Tpo -c -o swap_la-swap.lo `test -f 'swap.c' || echo '$(srcdir)/'`swap.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/swap_la-swap.Tpo $(DEPDIR)/swap_la-swap.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='swap.c' object='swap_la-swap.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(swap_la_CFLAGS) $(CFLAGS) -c -o swap_la-swap.lo `test -f 'swap.c' || echo '$(srcdir)/'`swap.c
 
+users_la-users.lo: users.c
+@am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(users_la_CFLAGS) $(CFLAGS) -MT users_la-users.lo -MD -MP -MF $(DEPDIR)/users_la-users.Tpo -c -o users_la-users.lo `test -f 'users.c' || echo '$(srcdir)/'`users.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/users_la-users.Tpo $(DEPDIR)/users_la-users.Plo
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='users.c' object='users_la-users.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(users_la_CFLAGS) $(CFLAGS) -c -o users_la-users.lo `test -f 'users.c' || echo '$(srcdir)/'`users.c
+
 uuid_la-uuid.lo: uuid.c
 @am__fastdepCC_TRUE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(uuid_la_CFLAGS) $(CFLAGS) -MT uuid_la-uuid.lo -MD -MP -MF $(DEPDIR)/uuid_la-uuid.Tpo -c -o uuid_la-uuid.lo `test -f 'uuid.c' || echo '$(srcdir)/'`uuid.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/uuid_la-uuid.Tpo $(DEPDIR)/uuid_la-uuid.Plo
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='uuid.c' object='uuid_la-uuid.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(uuid_la_CFLAGS) $(CFLAGS) -c -o uuid_la-uuid.lo `test -f 'uuid.c' || echo '$(srcdir)/'`uuid.c
@@ -1768,12 +1965,40 @@
 @am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_llist.obj -MD -MP -MF $(DEPDIR)/collectd-utils_llist.Tpo -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_llist.Tpo $(DEPDIR)/collectd-utils_llist.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_llist.c' object='collectd-utils_llist.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_llist.obj `if test -f 'utils_llist.c'; then $(CYGPATH_W) 'utils_llist.c'; else $(CYGPATH_W) '$(srcdir)/utils_llist.c'; fi`
 
+collectd-utils_tail_match.o: utils_tail_match.c
+@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail_match.o -MD -MP -MF $(DEPDIR)/collectd-utils_tail_match.Tpo -c -o collectd-utils_tail_match.o `test -f 'utils_tail_match.c' || echo '$(srcdir)/'`utils_tail_match.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_tail_match.Tpo $(DEPDIR)/collectd-utils_tail_match.Po
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_tail_match.c' object='collectd-utils_tail_match.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail_match.o `test -f 'utils_tail_match.c' || echo '$(srcdir)/'`utils_tail_match.c
+
+collectd-utils_tail_match.obj: utils_tail_match.c
+@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail_match.obj -MD -MP -MF $(DEPDIR)/collectd-utils_tail_match.Tpo -c -o collectd-utils_tail_match.obj `if test -f 'utils_tail_match.c'; then $(CYGPATH_W) 'utils_tail_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail_match.c'; fi`
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_tail_match.Tpo $(DEPDIR)/collectd-utils_tail_match.Po
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_tail_match.c' object='collectd-utils_tail_match.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail_match.obj `if test -f 'utils_tail_match.c'; then $(CYGPATH_W) 'utils_tail_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail_match.c'; fi`
+
+collectd-utils_match.o: utils_match.c
+@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_match.o -MD -MP -MF $(DEPDIR)/collectd-utils_match.Tpo -c -o collectd-utils_match.o `test -f 'utils_match.c' || echo '$(srcdir)/'`utils_match.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_match.Tpo $(DEPDIR)/collectd-utils_match.Po
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_match.c' object='collectd-utils_match.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_match.o `test -f 'utils_match.c' || echo '$(srcdir)/'`utils_match.c
+
+collectd-utils_match.obj: utils_match.c
+@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_match.obj -MD -MP -MF $(DEPDIR)/collectd-utils_match.Tpo -c -o collectd-utils_match.obj `if test -f 'utils_match.c'; then $(CYGPATH_W) 'utils_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_match.c'; fi`
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_match.Tpo $(DEPDIR)/collectd-utils_match.Po
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_match.c' object='collectd-utils_match.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_match.obj `if test -f 'utils_match.c'; then $(CYGPATH_W) 'utils_match.c'; else $(CYGPATH_W) '$(srcdir)/utils_match.c'; fi`
+
 collectd-utils_mount.o: utils_mount.c
 @am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.o -MD -MP -MF $(DEPDIR)/collectd-utils_mount.Tpo -c -o collectd-utils_mount.o `test -f 'utils_mount.c' || echo '$(srcdir)/'`utils_mount.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_mount.Tpo $(DEPDIR)/collectd-utils_mount.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.o `test -f 'utils_mount.c' || echo '$(srcdir)/'`utils_mount.c
@@ -1782,12 +2007,26 @@
 @am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_mount.obj -MD -MP -MF $(DEPDIR)/collectd-utils_mount.Tpo -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_mount.Tpo $(DEPDIR)/collectd-utils_mount.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_mount.c' object='collectd-utils_mount.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_mount.obj `if test -f 'utils_mount.c'; then $(CYGPATH_W) 'utils_mount.c'; else $(CYGPATH_W) '$(srcdir)/utils_mount.c'; fi`
 
+collectd-utils_tail.o: utils_tail.c
+@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail.o -MD -MP -MF $(DEPDIR)/collectd-utils_tail.Tpo -c -o collectd-utils_tail.o `test -f 'utils_tail.c' || echo '$(srcdir)/'`utils_tail.c
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_tail.Tpo $(DEPDIR)/collectd-utils_tail.Po
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_tail.c' object='collectd-utils_tail.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail.o `test -f 'utils_tail.c' || echo '$(srcdir)/'`utils_tail.c
+
+collectd-utils_tail.obj: utils_tail.c
+@am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_tail.obj -MD -MP -MF $(DEPDIR)/collectd-utils_tail.Tpo -c -o collectd-utils_tail.obj `if test -f 'utils_tail.c'; then $(CYGPATH_W) 'utils_tail.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail.c'; fi`
+@am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_tail.Tpo $(DEPDIR)/collectd-utils_tail.Po
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_tail.c' object='collectd-utils_tail.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_tail.obj `if test -f 'utils_tail.c'; then $(CYGPATH_W) 'utils_tail.c'; else $(CYGPATH_W) '$(srcdir)/utils_tail.c'; fi`
+
 collectd-utils_threshold.o: utils_threshold.c
 @am__fastdepCC_TRUE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-utils_threshold.o -MD -MP -MF $(DEPDIR)/collectd-utils_threshold.Tpo -c -o collectd-utils_threshold.o `test -f 'utils_threshold.c' || echo '$(srcdir)/'`utils_threshold.c
 @am__fastdepCC_TRUE@	mv -f $(DEPDIR)/collectd-utils_threshold.Tpo $(DEPDIR)/collectd-utils_threshold.Po
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_threshold.c' object='collectd-utils_threshold.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-utils_threshold.o `test -f 'utils_threshold.c' || echo '$(srcdir)/'`utils_threshold.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/mbmon.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/mbmon.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/mbmon.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/mbmon.c	2008-05-06 20:30:12.000000000 +0800
@@ -225,14 +225,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "mbmon", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "mbmon");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void mbmon_submit */
 
 /* Trim trailing whitespace from a string. */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/memcached.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/memcached.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/memcached.c	2008-08-31 20:15:24.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/memcached.c	2008-05-06 20:26:55.000000000 +0800
@@ -124,35 +124,23 @@
 		ERROR ("memcached: Could not send command to the memcached daemon.");
 		return -1;
 	}
 
 	{
 		struct pollfd p;
-		int status;
+		int n;
 
-		memset (&p, 0, sizeof (p));
 		p.fd = fd;
-		p.events = POLLIN | POLLERR | POLLHUP;
+		p.events = POLLIN|POLLERR|POLLHUP;
 		p.revents = 0;
 
-		status = poll (&p, /* nfds = */ 1, /* timeout = */ 1000 * interval_g);
-		if (status <= 0)
-		{
-			if (status == 0)
-			{
-				ERROR ("memcached: poll(2) timed out after %i seconds.", interval_g);
-			}
-			else
-			{
-				char errbuf[1024];
-				ERROR ("memcached: poll(2) failed: %s",
-						sstrerror (errno, errbuf, sizeof (errbuf)));
-			}
-			shutdown (fd, SHUT_RDWR);
-			close (fd);
-			return (-1);
+		n = poll(&p, 1, 3);
+
+		if (n <= 0) {
+			ERROR ("memcached: poll() failed or timed out");
+			return -1;
 		}
 	}
 
 	/* receive data from the memcached daemon */
 	memset (buffer, '\0', buffer_size);
 
@@ -233,14 +221,14 @@
 
 	values[0].counter = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "memcached", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "memcached");
 	if (type_inst != NULL)
 	{
 		strncpy (vl.type_instance, type_inst, sizeof (vl.type_instance));
 		vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
 	}
 
@@ -257,14 +245,14 @@
 	values[0].counter = value0;
 	values[1].counter = value1;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "memcached", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "memcached");
 	if (type_inst != NULL)
 	{
 		strncpy (vl.type_instance, type_inst, sizeof (vl.type_instance));
 		vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
 	}
 
@@ -280,14 +268,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "memcached", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "memcached");
 	if (type_inst != NULL)
 	{
 		strncpy (vl.type_instance, type_inst, sizeof (vl.type_instance));
 		vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
 	}
 
@@ -304,14 +292,14 @@
 	values[0].gauge = value0;
 	values[1].gauge = value1;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "memcached", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "memcached");
 	if (type_inst != NULL)
 	{
 		strncpy (vl.type_instance, type_inst, sizeof (vl.type_instance));
 		vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
 	}
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/memory.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/memory.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/memory.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/memory.c	2008-05-06 20:26:55.000000000 +0800
@@ -106,14 +106,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "memory", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "memory");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 	vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
 
 	plugin_dispatch_values ("memory", &vl);
 }
 
@@ -316,13 +316,13 @@
 #elif HAVE_LIBSTATGRAB
 	sg_mem_stats *ios;
 
 	if ((ios = sg_get_mem_stats ()) != NULL)
 	{
 		memory_submit ("used",   ios->used);
-		memory_submit ("cached", ios->cache);
+		memory_submit ("cached", ios->cached);
 		memory_submit ("free",   ios->free);
 	}
 #endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/multimeter.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/multimeter.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/multimeter.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/multimeter.c	2008-05-06 20:26:55.000000000 +0800
@@ -213,14 +213,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "multimeter", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "multimeter");
 
 	plugin_dispatch_values ("multimeter", &vl);
 }
 
 static int multimeter_read (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/mysql.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/mysql.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/mysql.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/mysql.c	2008-05-06 20:26:55.000000000 +0800
@@ -123,14 +123,14 @@
 
 	values[0].counter = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "mysql", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "mysql");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void counter_submit */
 
 static void qcache_submit (counter_t hits, counter_t inserts,
@@ -146,14 +146,14 @@
 	values[3].counter = lowmem_prunes;
 	values[4].gauge   = queries_in_cache;
 
 	vl.values = values;
 	vl.values_len = 5;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "mysql", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "mysql");
 
 	plugin_dispatch_values ("mysql_qcache", &vl);
 } /* void qcache_submit */
 
 static void threads_submit (gauge_t running, gauge_t connected, gauge_t cached,
 		counter_t created)
@@ -166,14 +166,14 @@
 	values[2].gauge   = cached;
 	values[3].counter = created;
 
 	vl.values = values;
 	vl.values_len = 4;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "mysql", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "mysql");
 
 	plugin_dispatch_values ("mysql_threads", &vl);
 } /* void threads_submit */
 
 static void traffic_submit (counter_t rx, counter_t tx)
 {
@@ -183,14 +183,14 @@
 	values[0].counter = rx;
 	values[1].counter = tx;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "mysql", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "mysql");
 
 	plugin_dispatch_values ("mysql_octets", &vl);
 } /* void traffic_submit */
 
 static int mysql_read (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/netlink.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/netlink.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/netlink.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/netlink.c	2008-05-06 20:26:55.000000000 +0800
@@ -168,14 +168,14 @@
 
   values[0].counter = value;
 
   vl.values = values;
   vl.values_len = 1;
   vl.time = time (NULL);
-  sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-  sstrncpy (vl.plugin, "netlink", sizeof (vl.plugin));
+  strcpy (vl.host, hostname_g);
+  strcpy (vl.plugin, "netlink");
   strncpy (vl.plugin_instance, dev, sizeof (vl.plugin_instance));
 
   if (type_instance != NULL)
     strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
   plugin_dispatch_values (type, &vl);
@@ -191,14 +191,14 @@
   values[0].counter = rx;
   values[1].counter = tx;
 
   vl.values = values;
   vl.values_len = 2;
   vl.time = time (NULL);
-  sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-  sstrncpy (vl.plugin, "netlink", sizeof (vl.plugin));
+  strcpy (vl.host, hostname_g);
+  strcpy (vl.plugin, "netlink");
   strncpy (vl.plugin_instance, dev, sizeof (vl.plugin_instance));
 
   if (type_instance != NULL)
     strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
   plugin_dispatch_values (type, &vl);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/network.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/network.c	2008-05-06 22:14:06.000000000 +0800
@@ -180,13 +180,13 @@
 static value_list_t send_buffer_vl = VALUE_LIST_STATIC;
 static char         send_buffer_type[DATA_MAX_NAME_LEN];
 static pthread_mutex_t send_buffer_lock = PTHREAD_MUTEX_INITIALIZER;
 
 static c_avl_tree_t      *cache_tree = NULL;
 static pthread_mutex_t  cache_lock = PTHREAD_MUTEX_INITIALIZER;
-static time_t           cache_flush_last = 0;
+static time_t           cache_flush_last;
 static int              cache_flush_interval = 1800;
 
 /*
  * Private functions
  */
 static int cache_flush (void)
@@ -1402,13 +1402,13 @@
 
 	if (strcmp (vl_def->host, vl->host) != 0)
 	{
 		if (write_part_string (&buffer, &buffer_size, TYPE_HOST,
 					vl->host, strlen (vl->host)) != 0)
 			return (-1);
-		sstrncpy (vl_def->host, vl->host, sizeof (vl_def->host));
+		strcpy (vl_def->host, vl->host);
 	}
 
 	if (vl_def->time != vl->time)
 	{
 		if (write_part_number (&buffer, &buffer_size, TYPE_TIME,
 					(uint64_t) vl->time))
@@ -1426,39 +1426,39 @@
 
 	if (strcmp (vl_def->plugin, vl->plugin) != 0)
 	{
 		if (write_part_string (&buffer, &buffer_size, TYPE_PLUGIN,
 					vl->plugin, strlen (vl->plugin)) != 0)
 			return (-1);
-		sstrncpy (vl_def->plugin, vl->plugin, sizeof (vl_def->plugin));
+		strcpy (vl_def->plugin, vl->plugin);
 	}
 
 	if (strcmp (vl_def->plugin_instance, vl->plugin_instance) != 0)
 	{
 		if (write_part_string (&buffer, &buffer_size, TYPE_PLUGIN_INSTANCE,
 					vl->plugin_instance,
 					strlen (vl->plugin_instance)) != 0)
 			return (-1);
-		sstrncpy (vl_def->plugin_instance, vl->plugin_instance, sizeof (vl_def->plugin_instance));
+		strcpy (vl_def->plugin_instance, vl->plugin_instance);
 	}
 
 	if (strcmp (type_def, ds->type) != 0)
 	{
 		if (write_part_string (&buffer, &buffer_size, TYPE_TYPE,
 					ds->type, strlen (ds->type)) != 0)
 			return (-1);
-		sstrncpy (type_def, ds->type, sizeof (type_def));
+		strcpy (type_def, ds->type);
 	}
 
 	if (strcmp (vl_def->type_instance, vl->type_instance) != 0)
 	{
 		if (write_part_string (&buffer, &buffer_size, TYPE_TYPE_INSTANCE,
 					vl->type_instance,
 					strlen (vl->type_instance)) != 0)
 			return (-1);
-		sstrncpy (vl_def->type_instance, vl->type_instance, sizeof (vl_def->type_instance));
+		strcpy (vl_def->type_instance, vl->type_instance);
 	}
 	
 	if (write_part_values (&buffer, &buffer_size, ds, vl) != 0)
 		return (-1);
 
 	return (buffer - buffer_orig);
@@ -1703,25 +1703,17 @@
 
 	plugin_unregister_config ("network");
 	plugin_unregister_init ("network");
 	plugin_unregister_write ("network");
 	plugin_unregister_shutdown ("network");
 
-	/* Let the init function do it's move again ;) */
-	cache_flush_last = 0;
-
 	return (0);
 } /* int network_shutdown */
 
 static int network_init (void)
 {
-	/* Check if we were already initialized. If so, just return - there's
-	 * nothing more to do (for now, that is). */
-	if (cache_flush_last != 0)
-		return (0);
-
 	plugin_register_shutdown ("network", network_shutdown);
 
 	send_buffer_ptr  = send_buffer;
 	send_buffer_fill = 0;
 	memset (&send_buffer_vl, '\0', sizeof (send_buffer_vl));
 	memset (send_buffer_type, '\0', sizeof (send_buffer_type));
@@ -1764,12 +1756,28 @@
 						sizeof (errbuf)));
 		}
 	}
 	return (0);
 } /* int network_init */
 
+static int network_flush (int timeout)
+{
+	pthread_mutex_lock (&send_buffer_lock);
+
+	if (((time (NULL) - cache_flush_last) >= timeout)
+			&& (send_buffer_fill > 0))
+	{
+		flush_buffer ();
+	}
+
+	pthread_mutex_unlock (&send_buffer_lock);
+
+	return (0);
+} /* int network_flush */
+
 void module_register (void)
 {
 	plugin_register_config ("network", network_config,
 			config_keys, config_keys_num);
 	plugin_register_init   ("network", network_init);
+	plugin_register_flush   ("network", network_flush);
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/nfs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/nfs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/nfs.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/nfs.c	2008-05-06 20:26:55.000000000 +0800
@@ -185,14 +185,14 @@
 	value_list_t vl = VALUE_LIST_INIT;
 	int i;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "nfs", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "nfs");
 	strncpy (vl.plugin_instance, plugin_instance,
 		       	sizeof (vl.plugin_instance));
 
 	for (i = 0; i < len; i++)
 	{
 		values[0].counter = val[i];
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/nginx.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/nginx.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/nginx.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/nginx.c	2008-05-06 22:14:06.000000000 +0800
@@ -24,16 +24,18 @@
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
 #include <curl/curl.h>
 
-static char *url    = NULL;
-static char *user   = NULL;
-static char *pass   = NULL;
-static char *cacert = NULL;
+static char *url         = NULL;
+static char *user        = NULL;
+static char *pass        = NULL;
+static char *verify_peer = NULL;
+static char *verify_host = NULL;
+static char *cacert      = NULL;
 
 static CURL *curl = NULL;
 
 #define ABUFFER_SIZE 16384
 static char nginx_buffer[ABUFFER_SIZE];
 static int  nginx_buffer_len = 0;
@@ -41,12 +43,14 @@
 
 static const char *config_keys[] =
 {
   "URL",
   "User",
   "Password",
+  "VerifyPeer",
+  "VerifyHost",
   "CACert"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static size_t nginx_curl_callback (void *buf, size_t size, size_t nmemb, void *stream)
 {
@@ -86,12 +90,16 @@
   if (strcasecmp (key, "url") == 0)
     return (config_set (&url, value));
   else if (strcasecmp (key, "user") == 0)
     return (config_set (&user, value));
   else if (strcasecmp (key, "password") == 0)
     return (config_set (&pass, value));
+  else if (strcasecmp (key, "verifypeer") == 0)
+    return (config_set (&verify_peer, value));
+  else if (strcasecmp (key, "verifyhost") == 0)
+    return (config_set (&verify_host, value));
   else if (strcasecmp (key, "cacert") == 0)
     return (config_set (&cacert, value));
   else
     return (-1);
 } /* int config */
 
@@ -125,12 +133,30 @@
 
   if (url != NULL)
   {
     curl_easy_setopt (curl, CURLOPT_URL, url);
   }
 
+  if ((verify_peer == NULL) || (strcmp (verify_peer, "true") == 0))
+  {
+    curl_easy_setopt (curl, CURLOPT_SSL_VERIFYPEER, 1);
+  }
+  else
+  {
+    curl_easy_setopt (curl, CURLOPT_SSL_VERIFYPEER, 0);
+  }
+
+  if ((verify_host == NULL) || (strcmp (verify_host, "true") == 0))
+  {
+    curl_easy_setopt (curl, CURLOPT_SSL_VERIFYHOST, 2);
+  }
+  else
+  {
+    curl_easy_setopt (curl, CURLOPT_SSL_VERIFYHOST, 0);
+  }
+
   if (cacert != NULL)
   {
     curl_easy_setopt (curl, CURLOPT_CAINFO, cacert);
   }
 
   return (0);
@@ -148,15 +174,15 @@
   else
     return;
 
   vl.values = values;
   vl.values_len = 1;
   vl.time = time (NULL);
-  sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-  sstrncpy (vl.plugin, "nginx", sizeof (vl.plugin));
-  sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+  strcpy (vl.host, hostname_g);
+  strcpy (vl.plugin, "nginx");
+  strcpy (vl.plugin_instance, "");
 
   if (inst != NULL)
   {
     strncpy (vl.type_instance, inst, sizeof (vl.type_instance));
     vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
   }
@@ -168,13 +194,12 @@
 {
   int i;
 
   char *ptr;
   char *lines[16];
   int   lines_num = 0;
-  char *saveptr;
 
   char *fields[16];
   int   fields_num;
 
   if (curl == NULL)
     return (-1);
@@ -186,14 +211,13 @@
   {
     WARNING ("nginx plugin: curl_easy_perform failed: %s", nginx_curl_error);
     return (-1);
   }
 
   ptr = nginx_buffer;
-  saveptr = NULL;
-  while ((lines[lines_num] = strtok_r (ptr, "\n\r", &saveptr)) != NULL)
+  while ((lines[lines_num] = strtok (ptr, "\n\r")) != NULL)
   {
     ptr = NULL;
     lines_num++;
 
     if (lines_num >= 16)
       break;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/ntpd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/ntpd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/ntpd.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/ntpd.c	2008-05-06 20:30:12.000000000 +0800
@@ -65,13 +65,13 @@
 /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * The following definitions were copied from the NTPd distribution  *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
 #define MAXFILENAME 128
 #define MAXSEQ  127
 #define MODE_PRIVATE 7
-#define NTP_OLDVERSION ((uint8_t) 1) /* oldest credible version */
+#define NTP_OLDVERSION ((u_char) 1) /* oldest credible version */
 #define IMPL_XNTPD 3
 #define FP_FRAC 65536.0
 
 #define REFCLOCK_ADDR 0x7f7f0000 /* 127.127.0.0 */
 #define REFCLOCK_MASK 0xffff0000 /* 255.255.0.0 */
 
@@ -114,33 +114,33 @@
  */
 #define	RESP_BIT	0x80
 #define	MORE_BIT	0x40
 
 #define	ISRESPONSE(rm_vn_mode)	(((rm_vn_mode)&RESP_BIT)!=0)
 #define	ISMORE(rm_vn_mode)	(((rm_vn_mode)&MORE_BIT)!=0)
-#define INFO_VERSION(rm_vn_mode) ((uint8_t)(((rm_vn_mode)>>3)&0x7))
+#define INFO_VERSION(rm_vn_mode) ((u_char)(((rm_vn_mode)>>3)&0x7))
 #define	INFO_MODE(rm_vn_mode)	((rm_vn_mode)&0x7)
 
 #define	RM_VN_MODE(resp, more, version)		\
-				((uint8_t)(((resp)?RESP_BIT:0)\
+				((u_char)(((resp)?RESP_BIT:0)\
 				|((more)?MORE_BIT:0)\
 				|((version?version:(NTP_OLDVERSION+1))<<3)\
 				|(MODE_PRIVATE)))
 
 #define	INFO_IS_AUTH(auth_seq)	(((auth_seq) & 0x80) != 0)
 #define	INFO_SEQ(auth_seq)	((auth_seq)&0x7f)
-#define	AUTH_SEQ(auth, seq)	((uint8_t)((((auth)!=0)?0x80:0)|((seq)&0x7f)))
+#define	AUTH_SEQ(auth, seq)	((u_char)((((auth)!=0)?0x80:0)|((seq)&0x7f)))
 
-#define	INFO_ERR(err_nitems)	((uint16_t)((ntohs(err_nitems)>>12)&0xf))
-#define	INFO_NITEMS(err_nitems)	((uint16_t)(ntohs(err_nitems)&0xfff))
-#define	ERR_NITEMS(err, nitems)	(htons((uint16_t)((((uint16_t)(err)<<12)&0xf000)\
-				|((uint16_t)(nitems)&0xfff))))
+#define	INFO_ERR(err_nitems)	((u_short)((ntohs(err_nitems)>>12)&0xf))
+#define	INFO_NITEMS(err_nitems)	((u_short)(ntohs(err_nitems)&0xfff))
+#define	ERR_NITEMS(err, nitems)	(htons((u_short)((((u_short)(err)<<12)&0xf000)\
+				|((u_short)(nitems)&0xfff))))
 
 #define	INFO_MBZ(mbz_itemsize)	((ntohs(mbz_itemsize)>>12)&0xf)
-#define	INFO_ITEMSIZE(mbz_itemsize)	((uint16_t)(ntohs(mbz_itemsize)&0xfff))
-#define	MBZ_ITEMSIZE(itemsize)	(htons((uint16_t)(itemsize)))
+#define	INFO_ITEMSIZE(mbz_itemsize)	((u_short)(ntohs(mbz_itemsize)&0xfff))
+#define	MBZ_ITEMSIZE(itemsize)	(htons((u_short)(itemsize)))
 
 /* negate a long float type */
 #define M_NEG(v_i, v_f) \
 	do { \
 		if ((v_f) == 0) \
 		(v_i) = -((uint32_t)(v_i)); \
@@ -299,15 +299,15 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "ntpd", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "ntpd");
+	strcpy (vl.plugin_instance, "");
 	strncpy (vl.type_instance, type_inst, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 }
 
 /* returns `tv0 - tv1' in milliseconds or 0 if `tv1 > tv0' */
@@ -609,13 +609,13 @@
 				&& (pkt_item_len <= res_item_size));
 
 		/* Calculate the padding. No idea why there might be any padding.. */
 		pkt_padding = 0;
 		if (pkt_item_len < res_item_size)
 			pkt_padding = res_item_size - pkt_item_len;
-		DEBUG ("res_item_size = %i; pkt_padding = %zi;",
+		DEBUG ("res_item_size = %i; pkt_padding = %i;",
 				res_item_size, pkt_padding);
 
 		/* Extract the sequence number */
 		pkt_sequence = INFO_SEQ (res.auth_seq);
 		if ((pkt_sequence < 0) || (pkt_sequence > MAXSEQ))
 		{
@@ -648,13 +648,13 @@
 		}
 
 		/*
 		 * Enough with the checks. Copy the data now.
 		 * We start by allocating some more memory.
 		 */
-		DEBUG ("realloc (%p, %zu)", (void *) *res_data,
+		DEBUG ("realloc (%p, %i)", (void *) *res_data,
 				(items_num + pkt_item_num) * res_item_size);
 		items = realloc ((void *) *res_data,
 				(items_num + pkt_item_num) * res_item_size);
 		if (items == NULL)
 		{
 			items = *res_data;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/nut.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/nut.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/nut.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/nut.c	2008-05-06 20:26:55.000000000 +0800
@@ -126,13 +126,13 @@
   vl.time = time (NULL);
   strncpy (vl.host,
       (strcasecmp (ups->hostname, "localhost") == 0)
       ? hostname_g
       : ups->hostname,
       sizeof (vl.host));
-  sstrncpy (vl.plugin, "nut", sizeof (vl.plugin));
+  strcpy (vl.plugin, "nut");
   strncpy (vl.plugin_instance, ups->upsname, sizeof (vl.plugin_instance));
   strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
   vl.host[sizeof (vl.host) - 1] = '\0';
   vl.plugin_instance[sizeof (vl.plugin_instance) - 1] = '\0';
   vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/perl.c	2008-08-31 20:16:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/perl.c	2008-05-06 22:14:06.000000000 +0800
@@ -24,25 +24,19 @@
  * interface for collectd plugins written in perl.
  */
 
 /* do not automatically get the thread specific perl interpreter */
 #define PERL_NO_GET_CONTEXT
 
-#define DONT_POISON_SPRINTF_YET 1
 #include "collectd.h"
-#undef DONT_POISON_SPRINTF_YET
 
 #include "configfile.h"
 
 #include <EXTERN.h>
 #include <perl.h>
 
-#if __GNUC__
-# pragma GCC poison sprintf
-#endif
-
 #include <XSUB.h>
 
 /* Some versions of Perl define their own version of DEBUG... :-/ */
 #ifdef DEBUG
 # undef DEBUG
 #endif /* DEBUG */
@@ -64,14 +58,15 @@
 #define PLUGIN_INIT     0
 #define PLUGIN_READ     1
 #define PLUGIN_WRITE    2
 #define PLUGIN_SHUTDOWN 3
 #define PLUGIN_LOG      4
 #define PLUGIN_NOTIF    5
+#define PLUGIN_FLUSH    6
 
-#define PLUGIN_TYPES    6
+#define PLUGIN_TYPES    7
 
 #define PLUGIN_DATASET  255
 
 #define log_debug(...) DEBUG ("perl: " __VA_ARGS__)
 #define log_info(...) INFO ("perl: " __VA_ARGS__)
 #define log_warn(...) WARNING ("perl: " __VA_ARGS__)
@@ -80,12 +75,14 @@
 /* this is defined in DynaLoader.a */
 void boot_DynaLoader (PerlInterpreter *, CV *);
 
 static XS (Collectd_plugin_register_ds);
 static XS (Collectd_plugin_unregister_ds);
 static XS (Collectd_plugin_dispatch_values);
+static XS (Collectd_plugin_flush_one);
+static XS (Collectd_plugin_flush_all);
 static XS (Collectd_plugin_dispatch_notification);
 static XS (Collectd_plugin_log);
 static XS (Collectd_call_by_name);
 
 /*
  * private data types
@@ -133,12 +130,14 @@
 	XS ((*f));
 } api[] =
 {
 	{ "Collectd::plugin_register_data_set",   Collectd_plugin_register_ds },
 	{ "Collectd::plugin_unregister_data_set", Collectd_plugin_unregister_ds },
 	{ "Collectd::plugin_dispatch_values",     Collectd_plugin_dispatch_values },
+	{ "Collectd::plugin_flush_one",           Collectd_plugin_flush_one },
+	{ "Collectd::plugin_flush_all",           Collectd_plugin_flush_all },
 	{ "Collectd::plugin_dispatch_notification",
 		Collectd_plugin_dispatch_notification },
 	{ "Collectd::plugin_log",                 Collectd_plugin_log },
 	{ "Collectd::call_by_name",               Collectd_call_by_name },
 	{ "", NULL }
 };
@@ -151,12 +150,13 @@
 	{ "Collectd::TYPE_INIT",       PLUGIN_INIT },
 	{ "Collectd::TYPE_READ",       PLUGIN_READ },
 	{ "Collectd::TYPE_WRITE",      PLUGIN_WRITE },
 	{ "Collectd::TYPE_SHUTDOWN",   PLUGIN_SHUTDOWN },
 	{ "Collectd::TYPE_LOG",        PLUGIN_LOG },
 	{ "Collectd::TYPE_NOTIF",      PLUGIN_NOTIF },
+	{ "Collectd::TYPE_FLUSH",      PLUGIN_FLUSH },
 	{ "Collectd::TYPE_DATASET",    PLUGIN_DATASET },
 	{ "Collectd::DS_TYPE_COUNTER", DS_TYPE_COUNTER },
 	{ "Collectd::DS_TYPE_GAUGE",   DS_TYPE_GAUGE },
 	{ "Collectd::LOG_ERR",         LOG_ERR },
 	{ "Collectd::LOG_WARNING",     LOG_WARNING },
 	{ "Collectd::LOG_NOTICE",      LOG_NOTICE },
@@ -556,13 +556,13 @@
 
 	if (NULL != (tmp = hv_fetch (values, "host", 4, 0))) {
 		strncpy (list.host, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		list.host[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
 	else {
-		sstrncpy (list.host, hostname_g, sizeof (list.host));
+		strcpy (list.host, hostname_g);
 	}
 
 	if (NULL != (tmp = hv_fetch (values, "plugin", 6, 0))) {
 		strncpy (list.plugin, SvPV_nolen (*tmp), DATA_MAX_NAME_LEN);
 		list.plugin[DATA_MAX_NAME_LEN - 1] = '\0';
 	}
@@ -758,12 +758,18 @@
 			notif = Nullhv;
 			ret = -1;
 		}
 
 		XPUSHs (sv_2mortal (newRV_noinc ((SV *)notif)));
 	}
+	else if (PLUGIN_FLUSH == type) {
+		/*
+		 * $_[0] = $timeout;
+		 */
+		XPUSHs (sv_2mortal (newSViv (va_arg (ap, int))));
+	}
 
 	PUTBACK;
 
 	retvals = call_pv ("Collectd::plugin_call_all", G_SCALAR);
 
 	SPAGAIN;
@@ -894,12 +900,60 @@
 		XSRETURN_YES;
 	else
 		XSRETURN_EMPTY;
 } /* static XS (Collectd_plugin_dispatch_values) */
 
 /*
+ * Collectd::plugin_flush_one (timeout, name).
+ *
+ * timeout:
+ *   timeout to use when flushing the data
+ *
+ * name:
+ *   name of the plugin to flush
+ */
+static XS (Collectd_plugin_flush_one)
+{
+	dXSARGS;
+
+	if (2 != items) {
+		log_err ("Usage: Collectd::plugin_flush_one(timeout, name)");
+		XSRETURN_EMPTY;
+	}
+
+	log_debug ("Collectd::plugin_flush_one: timeout = %i, name = \"%s\"",
+			(int)SvIV (ST (0)), SvPV_nolen (ST (1)));
+
+	if (0 == plugin_flush_one ((int)SvIV (ST (0)), SvPV_nolen (ST (1))))
+		XSRETURN_YES;
+	else
+		XSRETURN_EMPTY;
+} /* static XS (Collectd_plugin_flush_one) */
+
+/*
+ * Collectd::plugin_flush_all (timeout).
+ *
+ * timeout:
+ *   timeout to use when flushing the data
+ */
+static XS (Collectd_plugin_flush_all)
+{
+	dXSARGS;
+
+	if (1 != items) {
+		log_err ("Usage: Collectd::plugin_flush_all(timeout)");
+		XSRETURN_EMPTY;
+	}
+
+	log_debug ("Collectd::plugin_flush_all: timeout = %i", (int)SvIV (ST (0)));
+
+	plugin_flush_all ((int)SvIV (ST (0)));
+	XSRETURN_YES;
+} /* static XS (Collectd_plugin_flush_all) */
+
+/*
  * Collectd::plugin_dispatch_notification (notif).
  *
  * notif:
  *   notification to dispatch
  */
 static XS (Collectd_plugin_dispatch_notification)
@@ -1198,12 +1252,31 @@
 
 		aTHX = t->interp;
 	}
 	return pplugin_call_all (aTHX_ PLUGIN_NOTIF, notif);
 } /* static int perl_notify (const notification_t *) */
 
+static int perl_flush (const int timeout)
+{
+	dTHX;
+
+	if (NULL == perl_threads)
+		return 0;
+
+	if (NULL == aTHX) {
+		c_ithread_t *t = NULL;
+
+		pthread_mutex_lock (&perl_threads->mutex);
+		t = c_ithread_create (perl_threads->head->interp);
+		pthread_mutex_unlock (&perl_threads->mutex);
+
+		aTHX = t->interp;
+	}
+	return pplugin_call_all (aTHX_ PLUGIN_FLUSH, timeout);
+} /* static int perl_flush (const int) */
+
 static int perl_shutdown (void)
 {
 	c_ithread_t *t = NULL;
 
 	int ret = 0;
 
@@ -1229,12 +1302,13 @@
 
 	plugin_unregister_log ("perl");
 	plugin_unregister_notification ("perl");
 	plugin_unregister_init ("perl");
 	plugin_unregister_read ("perl");
 	plugin_unregister_write ("perl");
+	plugin_unregister_flush ("perl");
 
 	ret = pplugin_call_all (aTHX_ PLUGIN_SHUTDOWN);
 
 	pthread_mutex_lock (&perl_threads->mutex);
 	t = perl_threads->tail;
 
@@ -1414,12 +1488,13 @@
 	plugin_register_notification ("perl", perl_notify);
 	plugin_register_init ("perl", perl_init);
 
 	plugin_register_read ("perl", perl_read);
 
 	plugin_register_write ("perl", perl_write);
+	plugin_register_flush ("perl", perl_flush);
 	plugin_register_shutdown ("perl", perl_shutdown);
 	return 0;
 } /* static int init_pi (const char **, const int) */
 
 /*
  * LoadPlugin "<Plugin>"
@@ -1556,20 +1631,22 @@
 } /* static int perl_config_includedir (oconfig_item_it *) */
 
 static int perl_config (oconfig_item_t *ci)
 {
 	int i = 0;
 
-	dTHXa (NULL);
+	dTHX;
+
+	/* dTHX does not get any valid values in case Perl
+	 * has not been initialized */
+	if (NULL == perl_threads)
+		aTHX = NULL;
 
 	for (i = 0; i < ci->children_num; ++i) {
 		oconfig_item_t *c = ci->children + i;
 
-		if (NULL != perl_threads)
-			aTHX = PERL_GET_CONTEXT;
-
 		if (0 == strcasecmp (c->key, "LoadPlugin"))
 			perl_config_loadplugin (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "BaseName"))
 			perl_config_basename (aTHX_ c);
 		else if (0 == strcasecmp (c->key, "EnableDebugger"))
 			perl_config_enabledebugger (aTHX_ c);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/ping.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/ping.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/ping.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/ping.c	2008-05-06 20:26:55.000000000 +0800
@@ -183,15 +183,15 @@
 
 	values[0].gauge = latency;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "ping", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "ping");
+	strcpy (vl.plugin_instance, "");
 	strncpy (vl.type_instance, host, sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("ping", &vl);
 }
 
 static int ping_read (void)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/plugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/plugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/plugin.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/plugin.c	2008-05-06 22:14:06.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/plugin.c
- * Copyright (C) 2005,2006  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -14,12 +14,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
+ *   Sebastian Harl <sh at tokkee.org>
  **/
 
 #include "collectd.h"
 
 #include <ltdl.h>
 
@@ -50,12 +51,13 @@
 /*
  * Private variables
  */
 static llist_t *list_init;
 static llist_t *list_read;
 static llist_t *list_write;
+static llist_t *list_flush;
 static llist_t *list_shutdown;
 static llist_t *list_log;
 static llist_t *list_notification;
 
 static c_avl_tree_t *data_sets;
 
@@ -143,20 +145,20 @@
 	lt_dlerror (); /* clear errors */
 
 	if ((dlh = lt_dlopen (file)) == NULL)
 	{
 		const char *error = lt_dlerror ();
 
-		ERROR ("lt_dlopen (%s) failed: %s", file, error);
-		fprintf (stderr, "lt_dlopen (%s) failed: %s\n", file, error);
+		ERROR ("lt_dlopen failed: %s", error);
+		fprintf (stderr, "lt_dlopen failed: %s\n", error);
 		return (1);
 	}
 
 	if ((reg_handle = (void (*) (void)) lt_dlsym (dlh, "module_register")) == NULL)
 	{
-		WARNING ("Couldn't find symbol `module_register' in `%s': %s\n",
+		WARNING ("Couldn't find symbol ``module_register'' in ``%s'': %s\n",
 				file, lt_dlerror ());
 		lt_dlclose (dlh);
 		return (-1);
 	}
 
 	(*reg_handle) ();
@@ -434,12 +436,17 @@
 int plugin_register_write (const char *name,
 		int (*callback) (const data_set_t *ds, const value_list_t *vl))
 {
 	return (register_callback (&list_write, name, (void *) callback));
 } /* int plugin_register_write */
 
+int plugin_register_flush (const char *name, int (*callback) (const int))
+{
+	return (register_callback (&list_flush, name, (void *) callback));
+} /* int plugin_register_flush */
+
 int plugin_register_shutdown (char *name,
 		int (*callback) (void))
 {
 	return (register_callback (&list_shutdown, name, (void *) callback));
 } /* int plugin_register_shutdown */
 
@@ -528,12 +535,17 @@
 
 int plugin_unregister_write (const char *name)
 {
 	return (plugin_unregister (list_write, name));
 }
 
+int plugin_unregister_flush (const char *name)
+{
+	return (plugin_unregister (list_flush, name));
+}
+
 int plugin_unregister_shutdown (const char *name)
 {
 	return (plugin_unregister (list_shutdown, name));
 }
 
 int plugin_unregister_data_set (const char *name)
@@ -565,52 +577,46 @@
 void plugin_init_all (void)
 {
 	int (*callback) (void);
 	llentry_t *le;
 	int status;
 
+	/* Start read-threads */
+	if (list_read != NULL)
+	{
+		const char *rt;
+		int num;
+		rt = global_option_get ("ReadThreads");
+		num = atoi (rt);
+		start_threads ((num > 0) ? num : 5);
+	}
+
 	/* Init the value cache */
 	uc_init ();
 
-	if ((list_init == NULL) && (list_read == NULL))
+	if (list_init == NULL)
 		return;
 
-	/* Calling all init callbacks before checking if read callbacks
-	 * are available allows the init callbacks to register the read
-	 * callback. */
 	le = llist_head (list_init);
 	while (le != NULL)
 	{
 		callback = (int (*) (void)) le->value;
 		status = (*callback) ();
 
 		if (status != 0)
 		{
 			ERROR ("Initialization of plugin `%s' "
 					"failed with status %i. "
 					"Plugin will be unloaded.",
 					le->key, status);
-			/* Plugins that register read callbacks from the init
-			 * callback should take care of appropriate error
-			 * handling themselves. */
 			/* FIXME: Unload _all_ functions */
 			plugin_unregister_read (le->key);
 		}
 
 		le = le->next;
 	}
-
-	/* Start read-threads */
-	if (list_read != NULL)
-	{
-		const char *rt;
-		int num;
-		rt = global_option_get ("ReadThreads");
-		num = atoi (rt);
-		start_threads ((num > 0) ? num : 5);
-	}
 } /* void plugin_init_all */
 
 void plugin_read_all (void)
 {
 	llentry_t   *le;
 	read_func_t *rf;
@@ -646,12 +652,49 @@
 
 	DEBUG ("plugin: plugin_read_all: Signalling `read_cond'");
 	pthread_cond_broadcast (&read_cond);
 	pthread_mutex_unlock (&read_lock);
 } /* void plugin_read_all */
 
+int plugin_flush_one (int timeout, const char *name)
+{
+	int (*callback) (int);
+	llentry_t *le;
+	int status;
+
+	if (list_flush == NULL)
+		return (-1);
+
+	le = llist_search (list_flush, name);
+	if (le == NULL)
+		return (-1);
+	callback = (int (*) (int)) le->value;
+
+	status = (*callback) (timeout);
+
+	return (status);
+} /* int plugin_flush_ont */
+
+void plugin_flush_all (int timeout)
+{
+	int (*callback) (int);
+	llentry_t *le;
+
+	if (list_flush == NULL)
+		return;
+
+	le = llist_head (list_flush);
+	while (le != NULL)
+	{
+		callback = (int (*) (int)) le->value;
+		le = le->next;
+
+		(*callback) (timeout);
+	}
+} /* void plugin_flush_all */
+
 void plugin_shutdown_all (void)
 {
 	int (*callback) (void);
 	llentry_t *le;
 
 	stop_threads ();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/plugin.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/plugin.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/plugin.h	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/plugin.h	2008-05-06 22:14:06.000000000 +0800
@@ -1,11 +1,11 @@
 #ifndef PLUGIN_H
 #define PLUGIN_H
 /**
  * collectd - src/plugin.h
- * Copyright (C) 2005-2007  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -16,12 +16,13 @@
  * You should have received a copy of the GNU General Public License along
  * with this program; if not, write to the Free Software Foundation, Inc.,
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
+ *   Sebastian Harl <sh at tokkee.org>
  **/
 
 #include "collectd.h"
 #include "configfile.h"
 
 #define DATA_MAX_NAME_LEN 64
@@ -146,14 +147,17 @@
  *  No attempt is made to re-load an already loaded module.
  */
 int plugin_load (const char *name);
 
 void plugin_init_all (void);
 void plugin_read_all (void);
+void plugin_flush_all (int timeout);
 void plugin_shutdown_all (void);
 
+int plugin_flush_one (int timeout, const char *name);
+
 /*
  * The `plugin_register_*' functions are used to make `config', `init',
  * `read', `write' and `shutdown' functions known to the plugin
  * infrastructure. Also, the data-formats are made public like this.
  */
 int plugin_register_config (const char *name,
@@ -164,12 +168,14 @@
 int plugin_register_init (const char *name,
 		int (*callback) (void));
 int plugin_register_read (const char *name,
 		int (*callback) (void));
 int plugin_register_write (const char *name,
 		int (*callback) (const data_set_t *ds, const value_list_t *vl));
+int plugin_register_flush (const char *name,
+		int (*callback) (const int));
 int plugin_register_shutdown (char *name,
 		int (*callback) (void));
 int plugin_register_data_set (const data_set_t *ds);
 int plugin_register_log (char *name,
 		void (*callback) (int, const char *));
 int plugin_register_notification (const char *name,
@@ -177,12 +183,13 @@
 
 int plugin_unregister_config (const char *name);
 int plugin_unregister_complex_config (const char *name);
 int plugin_unregister_init (const char *name);
 int plugin_unregister_read (const char *name);
 int plugin_unregister_write (const char *name);
+int plugin_unregister_flush (const char *name);
 int plugin_unregister_shutdown (const char *name);
 int plugin_unregister_data_set (const char *name);
 int plugin_unregister_log (const char *name);
 int plugin_unregister_notification (const char *name);
 
 
@@ -202,15 +209,13 @@
  *              function.
  */
 int plugin_dispatch_values (const char *name, value_list_t *vl);
 
 int plugin_dispatch_notification (const notification_t *notif);
 
-void plugin_log (int level, const char *format, ...)
-	__attribute__ ((format(printf,2,3)));
-
+void plugin_log (int level, const char *format, ...);
 #define ERROR(...)   plugin_log (LOG_ERR,     __VA_ARGS__)
 #define WARNING(...) plugin_log (LOG_WARNING, __VA_ARGS__)
 #define NOTICE(...)  plugin_log (LOG_NOTICE,  __VA_ARGS__)
 #define INFO(...)    plugin_log (LOG_INFO,    __VA_ARGS__)
 #if COLLECT_DEBUG
 # define DEBUG(...)  plugin_log (LOG_DEBUG,   __VA_ARGS__)
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: powerdns.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/processes.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/processes.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/processes.c	2008-08-31 20:15:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/processes.c	2008-05-06 20:26:55.000000000 +0800
@@ -406,15 +406,15 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "processes", sizeof (vl.plugin));
-	sstrncpy (vl.plugin_instance, "", sizeof (vl.plugin_instance));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "processes");
+	strcpy (vl.plugin_instance, "");
 	strncpy (vl.type_instance, state, sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("ps_state", &vl);
 }
 
 static void ps_submit_proc_list (procstat_t *ps)
@@ -422,14 +422,14 @@
 	value_t values[2];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "processes", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "processes");
 	strncpy (vl.plugin_instance, ps->name, sizeof (vl.plugin_instance));
 
 	vl.values[0].gauge = ps->vmem_rss;
 	vl.values_len = 1;
 	plugin_dispatch_values ("ps_rss", &vl);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/rrdtool.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/rrdtool.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/rrdtool.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/rrdtool.c	2008-05-06 22:14:06.000000000 +0800
@@ -192,13 +192,13 @@
 	cdp_len = 0;
 	for (i = 0; i < rts_num; i++)
 	{
 		span = rts[i];
 
 		if ((span / ss) < rrarows)
-			continue;
+			span = ss * rrarows;
 
 		if (cdp_len == 0)
 			cdp_len = 1;
 		else
 			cdp_len = (int) floor (((double) span)
 					/ ((double) (rrarows * ss)));
@@ -282,23 +282,23 @@
 					d->type);
 			break;
 		}
 
 		if (isnan (d->min))
 		{
-			sstrncpy (min, "U", sizeof (min));
+			strcpy (min, "U");
 		}
 		else
 		{
 			snprintf (min, sizeof (min), "%lf", d->min);
 			min[sizeof (min) - 1] = '\0';
 		}
 
 		if (isnan (d->max))
 		{
-			sstrncpy (max, "U", sizeof (max));
+			strcpy (max, "U");
 		}
 		else
 		{
 			snprintf (max, sizeof (max), "%lf", d->max);
 			max[sizeof (max) - 1] = '\0';
 		}
@@ -339,13 +339,13 @@
 {
 	int status;
 
 	optind = 0; /* bug in librrd? */
 	rrd_clear_error ();
 
-	status = rrd_create_r (filename, pdp_step, last_up, argc, (void *) argv);
+	status = rrd_create_r (filename, pdp_step, last_up, argc, argv);
 
 	if (status != 0)
 	{
 		WARNING ("rrdtool plugin: rrd_create_r (%s) failed: %s",
 				filename, rrd_get_error ());
 	}
@@ -357,13 +357,13 @@
 {
 	int status;
 
 	optind = 0; /* bug in librrd? */
 	rrd_clear_error ();
 
-	status = rrd_update_r (filename, template, argc, (void *) argv);
+	status = rrd_update_r (filename, template, argc, argv);
 
 	if (status != 0)
 	{
 		WARNING ("rrdtool plugin: rrd_update_r (%s) failed: %s",
 				filename, rrd_get_error ());
 	}
@@ -944,12 +944,26 @@
 
 	status = rrd_cache_insert (filename, values, vl->time);
 
 	return (status);
 } /* int rrd_write */
 
+static int rrd_flush (const int timeout)
+{
+	pthread_mutex_lock (&cache_lock);
+
+	if (cache == NULL) {
+		pthread_mutex_unlock (&cache_lock);
+		return (0);
+	}
+
+	rrd_cache_flush (timeout);
+	pthread_mutex_unlock (&cache_lock);
+	return (0);
+} /* int rrd_flush */
+
 static int rrd_config (const char *key, const char *value)
 {
 	if (strcasecmp ("CacheTimeout", key) == 0)
 	{
 		int tmp = atoi (value);
 		if (tmp < 0)
@@ -1149,8 +1163,9 @@
 void module_register (void)
 {
 	plugin_register_config ("rrdtool", rrd_config,
 			config_keys, config_keys_num);
 	plugin_register_init ("rrdtool", rrd_init);
 	plugin_register_write ("rrdtool", rrd_write);
+	plugin_register_flush ("rrdtool", rrd_flush);
 	plugin_register_shutdown ("rrdtool", rrd_shutdown);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/sensors.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/sensors.c	2008-05-06 22:14:06.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/sensors.c
- * Copyright (C) 2005-2007  Florian octo Forster
+ * Copyright (C) 2005-2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/serial.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/serial.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/serial.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/serial.c	2008-05-06 20:26:55.000000000 +0800
@@ -38,14 +38,14 @@
 	values[0].counter = rx;
 	values[1].counter = tx;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "serial", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "serial");
 	strncpy (vl.type_instance, type_instance,
 			sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("serial_octets", &vl);
 }
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/snmp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/snmp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/snmp.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/snmp.c	2008-05-06 20:26:55.000000000 +0800
@@ -704,20 +704,20 @@
 #ifdef ASN_TIMETICKS
       || (vl->type == ASN_TIMETICKS)
 #endif
       || (vl->type == ASN_GAUGE))
   {
     temp = (uint32_t) *vl->val.integer;
-    DEBUG ("snmp plugin: Parsed int32 value is %"PRIu64".", temp);
+    DEBUG ("snmp plugin: Parsed int32 value is %llu.", temp);
   }
   else if (vl->type == ASN_COUNTER64)
   {
     temp = (uint32_t) vl->val.counter64->high;
     temp = temp << 32;
     temp += (uint32_t) vl->val.counter64->low;
-    DEBUG ("snmp plugin: Parsed int64 value is %"PRIu64".", temp);
+    DEBUG ("snmp plugin: Parsed int64 value is %llu.", temp);
   }
   else
   {
     WARNING ("snmp plugin: I don't know the ASN type `%i'", (int) vl->type);
     defined = 0;
   }
@@ -776,13 +776,13 @@
 
   if (data->instance.oid.oid_len > 0)
   {
     if (vb == NULL)
     {
       ERROR ("snmp plugin: host %s: Expected one more variable for "
-	  "the instance..", host->name);
+	  "the instance..");
       return (-1);
     }
 
     num_checked++;
     if (snmp_oid_ncompare (data->instance.oid.oid,
 	  data->instance.oid.oid_len,
@@ -906,13 +906,13 @@
     sfree (value_table_ptr);
     return (-1);
   }
 
   strncpy (vl.host, host->name, sizeof (vl.host));
   vl.host[sizeof (vl.host) - 1] = '\0';
-  sstrncpy (vl.plugin, "snmp", sizeof (vl.plugin));
+  strcpy (vl.plugin, "snmp");
 
   vl.interval = host->interval;
   vl.time = time (NULL);
 
   subid = 0;
   have_more = 1;
@@ -1117,21 +1117,28 @@
     status = 0;
     assert (res != NULL);
 
     vb = res->variables;
     if (vb == NULL)
     {
+      if (res != NULL)
+	snmp_free_pdu (res);
+      res = NULL;
+
       status = -1;
       break;
     }
 
     /* Check if all values (and possibly the instance) have left their
      * subtree */
     if (csnmp_check_res_left_subtree (host, data, res) != 0)
     {
-      status = 0;
+      if (res != NULL)
+	snmp_free_pdu (res);
+      res = NULL;
+
       break;
     }
 
     /* if an instance-OID is configured.. */
     if (data->instance.oid.oid_len > 0)
     {
@@ -1147,13 +1154,17 @@
 
       /* Set vb on the last variable */
       for (vb = res->variables;
 	  (vb != NULL) && (vb->next_variable != NULL);
 	  vb = vb->next_variable)
 	/* do nothing */;
-      assert (vb != NULL);
+      if (vb == NULL)
+      {
+	status = -1;
+	break;
+      }
 
       /* Copy OID to oid_list[data->values_len] */
       memcpy (oid_list[data->values_len].oid, vb->name,
 	  sizeof (oid) * vb->name_length);
       oid_list[data->values_len].oid_len = vb->name_length;
     }
@@ -1210,16 +1221,12 @@
 
     if (res != NULL)
       snmp_free_pdu (res);
     res = NULL;
   } /* while (status == 0) */
 
-  if (res != NULL)
-    snmp_free_pdu (res);
-  res = NULL;
-
   if (status == 0)
     csnmp_dispatch_table (host, data, instance_list, value_table);
 
   /* Free all allocated variables here */
   while (instance_list != NULL)
   {
@@ -1291,13 +1298,13 @@
     else
       vl.values[i].gauge = NAN;
   }
 
   strncpy (vl.host, host->name, sizeof (vl.host));
   vl.host[sizeof (vl.host) - 1] = '\0';
-  sstrncpy (vl.plugin, "snmp", sizeof (vl.plugin));
+  strcpy (vl.plugin, "snmp");
   strncpy (vl.type_instance, data->instance.string, sizeof (vl.type_instance));
   vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
 
   vl.interval = host->interval;
 
   req = snmp_pdu_create (SNMP_MSG_GET);
@@ -1390,14 +1397,14 @@
   time_end = time (NULL);
   DEBUG ("snmp plugin: csnmp_read_host (%s) finished at %u;", host->name,
       (unsigned int) time_end);
   if ((time_end - time_start) > host->interval)
   {
     WARNING ("snmp plugin: Host `%s' should be queried every %i seconds, "
-	"but reading all values takes %u seconds.",
-	host->name, host->interval, (unsigned int) (time_end - time_start));
+	"but reading all values takes %i seconds.",
+	host->name, host->interval, time_end - time_start);
   }
 
   return (0);
 } /* int csnmp_read_host */
 
 static void *csnmp_read_thread (void *data)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/swap.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/swap.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/swap.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/swap.c	2008-05-06 20:26:55.000000000 +0800
@@ -53,16 +53,16 @@
 /* #endif HAVE_LIBKSTAT */
 
 #elif defined(VM_SWAPUSAGE)
 /* No global variables */
 /* #endif defined(VM_SWAPUSAGE) */
 
-#elif HAVE_LIBKVM_GETSWAPINFO
+#elif HAVE_LIBKVM
 static kvm_t *kvm_obj = NULL;
 int kvm_pagesize;
-/* #endif HAVE_LIBKVM_GETSWAPINFO */
+/* #endif HAVE_LIBKVM */
 
 #elif HAVE_LIBSTATGRAB
 /* No global variables */
 /* #endif HAVE_LIBSTATGRAB */
 
 #else
@@ -83,13 +83,13 @@
 /* #endif HAVE_LIBKSTAT */
 
 #elif defined(VM_SWAPUSAGE)
 	/* No init stuff */
 /* #endif defined(VM_SWAPUSAGE) */
 
-#elif HAVE_LIBKVM_GETSWAPINFO
+#elif HAVE_LIBKVM
 	if (kvm_obj != NULL)
 	{
 		kvm_close (kvm_obj);
 		kvm_obj = NULL;
 	}
 
@@ -102,13 +102,13 @@
 					NULL)) /* errstr */
 			== NULL)
 	{
 		ERROR ("swap plugin: kvm_open failed.");
 		return (-1);
 	}
-/* #endif HAVE_LIBKVM_GETSWAPINFO */
+/* #endif HAVE_LIBKVM */
 
 #elif HAVE_LIBSTATGRAB
 	/* No init stuff */
 #endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
@@ -121,14 +121,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "swap", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "swap");
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("swap", &vl);
 } /* void swap_submit */
 
 static int swap_read (void)
@@ -256,13 +256,13 @@
 
 	/* The returned values are bytes. */
 	swap_submit ("used", sw_usage.xsu_used);
 	swap_submit ("free", sw_usage.xsu_avail);
 /* #endif VM_SWAPUSAGE */
 
-#elif HAVE_LIBKVM_GETSWAPINFO
+#elif HAVE_LIBKVM
 	struct kvm_swap data_s;
 	int             status;
 
 	unsigned long long used;
 	unsigned long long free;
 	unsigned long long total;
@@ -282,13 +282,13 @@
 	used  *= (unsigned long long) kvm_pagesize;
 
 	free = total - used;
 
 	swap_submit ("used", used);
 	swap_submit ("free", free);
-/* #endif HAVE_LIBKVM_GETSWAPINFO */
+/* #endif HAVE_LIBKVM */
 
 #elif HAVE_LIBSTATGRAB
 	sg_swap_stats *swap;
 
 	swap = sg_get_swap_stats ();
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: tail.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/tape.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/tape.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/tape.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/tape.c	2008-05-06 20:26:55.000000000 +0800
@@ -66,14 +66,14 @@
 	values[0].counter = read;
 	values[1].counter = write;
 
 	vl.values = values;
 	vl.values_len = 2;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "tape", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "tape");
 	strncpy (vl.plugin_instance, plugin_instance,
 			sizeof (vl.plugin_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void tape_submit */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/tcpconns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/tcpconns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/tcpconns.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/tcpconns.c	2008-05-06 20:26:55.000000000 +0800
@@ -132,20 +132,20 @@
   value_list_t vl = VALUE_LIST_INIT;
   int i;
 
   vl.values = values;
   vl.values_len = 1;
   vl.time = time (NULL);
-  sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-  sstrncpy (vl.plugin, "tcpconns", sizeof (vl.plugin));
+  strcpy (vl.host, hostname_g);
+  strcpy (vl.plugin, "tcpconns");
 
   if (((port_collect_listening != 0) && (pe->flags & PORT_IS_LISTENING))
       || (pe->flags & PORT_COLLECT_LOCAL))
   {
     snprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
-	"%"PRIu16"-local", pe->port);
+	"%hu-local", pe->port);
     vl.plugin_instance[sizeof (vl.plugin_instance) - 1] = '\0';
 
     for (i = 1; i <= TCP_STATE_MAX; i++)
     {
       vl.values[0].gauge = pe->count_local[i];
 
@@ -156,13 +156,13 @@
     }
   }
 
   if (pe->flags & PORT_COLLECT_REMOTE)
   {
     snprintf (vl.plugin_instance, sizeof (vl.plugin_instance),
-	"%"PRIu16"-remote", pe->port);
+	"%hu-remote", pe->port);
     vl.plugin_instance[sizeof (vl.plugin_instance) - 1] = '\0';
 
     for (i = 1; i <= TCP_STATE_MAX; i++)
     {
       vl.values[0].gauge = pe->count_remote[i];
 
@@ -224,13 +224,13 @@
 	    | PORT_COLLECT_REMOTE
 	    | PORT_IS_LISTENING)) == 0)
     {
       port_entry_t *next = pe->next;
 
       DEBUG ("tcpconns plugin: Removing temporary entry "
-	  "for listening port %"PRIu16, pe->port);
+	  "for listening port %hu", pe->port);
 
       if (prev == NULL)
 	port_list_head = next;
       else
 	prev->next = next;
 
@@ -255,26 +255,26 @@
   if ((state > TCP_STATE_MAX)
 #if TCP_STATE_MIN > 0
       || (state < TCP_STATE_MIN)
 #endif
      )
   {
-    NOTICE ("tcpconns plugin: Ignoring connection with "
-	"unknown state 0x%02"PRIx8".", state);
+    NOTICE ("tcpconns plugin: Ignoring connection with unknown state 0x%02x.",
+	state);
     return (-1);
   }
 
   /* Listening sockets */
   if ((state == TCP_STATE_LISTEN) && (port_collect_listening != 0))
   {
     pe = conn_get_port_entry (port_local, 1 /* create */);
     if (pe != NULL)
       pe->flags |= PORT_IS_LISTENING;
   }
 
-  DEBUG ("tcpconns plugin: Connection %"PRIu16" <-> %"PRIu16" (%s)",
+  DEBUG ("tcpconns plugin: Connection %hu <-> %hu (%s)",
       port_local, port_remote, tcp_state[state]);
 
   pe = conn_get_port_entry (port_local, 0 /* no create */);
   if (pe != NULL)
     pe->count_local[state]++;
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: teamspeak2.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/types.db /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/types.db
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/types.db	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/types.db	2008-05-06 22:14:06.000000000 +0800
@@ -1,26 +1,30 @@
 apache_bytes		count:COUNTER:0:134217728
 apache_connections	count:GAUGE:0:65535
 apache_requests		count:COUNTER:0:134217728
 apache_scoreboard	count:GAUGE:0:65535
 bitrate			value:GAUGE:0:4294967295
+cache_result		value:COUNTER:0:4294967295
+cache_size              value:GAUGE:0:4294967295
 charge			value:GAUGE:0:U
 connections		value:COUNTER:0:U
 counter			value:COUNTER:U:U
 cpufreq			value:GAUGE:0:U
 cpu			value:COUNTER:0:4294967295
 current			value:GAUGE:U:U
 delay			seconds:GAUGE:-1000000:1000000
 df			used:GAUGE:0:1125899906842623, free:GAUGE:0:1125899906842623
 disk_merged		read:COUNTER:0:4294967295, write:COUNTER:0:4294967295
 disk_octets		read:COUNTER:0:17179869183, write:COUNTER:0:17179869183
 disk_ops		read:COUNTER:0:4294967295, write:COUNTER:0:4294967295
 disk_time		read:COUNTER:0:1000000, write:COUNTER:0:1000000
+dns_answer		value:COUNTER:0:65535
 dns_octets		queries:COUNTER:0:125000000, responses:COUNTER:0:125000000
 dns_opcode		value:COUNTER:0:65535
 dns_qtype		value:COUNTER:0:65535
+dns_question		value:COUNTER:0:65535
 dns_rcode		value:COUNTER:0:65535
 email_check		value:GAUGE:0:U
 email_count		value:GAUGE:0:U
 email_size		value:GAUGE:0:U
 entropy			entropy:GAUGE:0:4294967295
 fanspeed		value:GAUGE:0:U
@@ -33,15 +37,18 @@
 if_errors		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_multicast		value:COUNTER:0:4294967295
 if_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_packets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_rx_errors		value:COUNTER:0:4294967295
 if_tx_errors		value:COUNTER:0:4294967295
+io_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
+io_packets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 ipt_bytes		value:COUNTER:0:134217728
 ipt_packets		value:COUNTER:0:134217728
 irq			value:COUNTER:U:65535
+latency			value:GAUGE:0:65535
 load			shortterm:GAUGE:0:100, midterm:GAUGE:0:100, longterm:GAUGE:0:100
 memcached_command	value:COUNTER:0:U
 memcached_connections	value:GAUGE:0:U
 memcached_items		value:GAUGE:0:U
 memcached_octets	rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 memcached_ops		value:COUNTER:0:134217728
@@ -54,12 +61,13 @@
 mysql_threads		running:GAUGE:0:U, connected:GAUGE:0:U, cached:GAUGE:0:U, created:COUNTER:0:U
 nfs_procedure		value:COUNTER:0:4294967295
 nginx_connections	value:GAUGE:0:U
 nginx_requests		value:COUNTER:0:134217728
 percent			percent:GAUGE:0:100.1
 ping			ping:GAUGE:0:65535
+players			value:GAUGE:0:1000000
 power			value:GAUGE:0:U
 ps_count		processes:GAUGE:0:1000000, threads:GAUGE:0:1000000
 ps_cputime		user:COUNTER:0:16000000, syst:COUNTER:0:16000000
 ps_pagefaults		minflt:COUNTER:0:9223372036854775807, majflt:COUNTER:0:9223372036854775807
 ps_rss			value:GAUGE:0:9223372036854775807
 ps_state		value:GAUGE:0:65535
@@ -74,11 +82,15 @@
 time_dispersion		seconds:GAUGE:-1000000:1000000
 timeleft		timeleft:GAUGE:0:3600
 time_offset		seconds:GAUGE:-1000000:1000000
 users			users:GAUGE:0:65535
 virt_cpu_total		ns:COUNTER:0:256000000000
 virt_vcpu		ns:COUNTER:0:1000000000
+vmpage_action		value:COUNTER:0:4294967295
+vmpage_faults		minflt:COUNTER:0:9223372036854775807, majflt:COUNTER:0:9223372036854775807
+vmpage_io		in:COUNTER:0:4294967295, out:COUNTER:0:4294967295
+vmpage_number		value:GAUGE:0:4294967295
 voltage_threshold	value:GAUGE:U:U, threshold:GAUGE:U:U
 voltage			value:GAUGE:U:U
 vs_memory		value:GAUGE:0:9223372036854775807
 vs_processes		value:GAUGE:0:65535
 vs_threads		value:GAUGE:0:65535
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/types.db.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/types.db.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/types.db.5	2008-08-31 21:31:35.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/types.db.5	2008-05-07 03:19:42.000000000 +0800
@@ -1,7 +1,7 @@
-.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
+.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
 .\"
 .\" Standard preamble:
 .\" ========================================================================
 .de Sh \" Subsection heading
 .br
 .if t .Sp
@@ -45,31 +45,28 @@
 .    ds -- \|\(em\|
 .    ds PI \(*p
 .    ds L" ``
 .    ds R" ''
 'br\}
 .\"
-.\" Escape single quotes in literal strings from groff's Unicode transform.
-.ie \n(.g .ds Aq \(aq
-.el       .ds Aq '
-.\"
 .\" If the F register is turned on, we'll generate index entries on stderr for
 .\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
 .\" entries marked with X<> in POD.  Of course, you'll have to process the
 .\" output yourself in some meaningful fashion.
-.ie \nF \{\
+.if \nF \{\
 .    de IX
 .    tm Index:\\$1\t\\n%\t"\\$2"
 ..
 .    nr % 0
 .    rr F
 .\}
-.el \{\
-.    de IX
-..
-.\}
+.\"
+.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
+.\" way too many mistakes in technical documents.
+.hy 0
+.if n .na
 .\"
 .\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
 .\" Fear.  Run.  Save yourself.  No user-serviceable parts.
 .    \" fudge factors for nroff and troff
 .if n \{\
 .    ds #H 0
@@ -129,17 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "TYPES.DB 5"
-.TH TYPES.DB 5 "2008-05-06" "4.3.4" "collectd"
-.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
-.\" way too many mistakes in technical documents.
-.if n .ad l
-.nh
+.TH TYPES.DB 5 "2008-05-06" "4.4.0" "collectd"
 .SH "NAME"
 types.db \- Data\-set specifications for the system statistics collection daemon
 \&\fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
@@ -148,28 +141,28 @@
 \&  if_octets  rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
 The types.db file contains one line for each data-set specification. Each line
 consists of two fields delimited by spaces and/or horizontal tabs. The first
-field defines the name of the data-set, while the second field defines a list
+field defines the name of the data\-set, while the second field defines a list
 of data-source specifications, delimited by spaces and, optionally, a comma
-(\*(L",\*(R") right after each list-entry.
+(\*(L",\*(R") right after each list\-entry.
 .PP
 The format of the data-source specification has been inspired by RRDtool's
 data-source specification. Each data-source is defined by a quadruple made up
 of the data-source name, type, minimal and maximal values, delimited by colons
 (\*(L":\*(R"): \fIds-name\fR:\fIds-type\fR:\fImin\fR:\fImax\fR. \fIds-type\fR may be either
 \&\fB\s-1COUNTER\s0\fR or \fB\s-1GAUGE\s0\fR. \fImin\fR and \fImax\fR define the range of valid values for
-data stored for this data-source. If \fBU\fR is specified for either the min or
+data stored for this data\-source. If \fBU\fR is specified for either the min or
 max value, it will be set to unknown, meaning that no range checks will
 happen. See \fIrrdcreate\fR\|(1) for more details.
 .SH "FILES"
 .IX Header "FILES"
 The location of the types.db file is defined by the \fBTypesDB\fR configuration
-option (see \fIcollectd.conf\fR\|(5)). If you want to specify custom data-sets, you
+option (see \fIcollectd.conf\fR\|(5)). If you want to specify custom data\-sets, you
 should do so by using a custom file specified as an additional argument to the
 \&\fBTypesDB\fR option.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/types_list.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/types_list.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/types_list.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/types_list.c	2008-05-06 22:14:06.000000000 +0800
@@ -82,15 +82,12 @@
 
   if (strcasecmp (fields[3], "U") == 0)
     dsrc->max = NAN;
   else
     dsrc->max = atof (fields[3]);
 
-  DEBUG ("parse_ds: dsrc = {%s, %i, %lf, %lf};",
-      dsrc->name, dsrc->type, dsrc->min, dsrc->max);
-
   return (0);
 } /* int parse_ds */
 
 static void parse_line (char *buf)
 {
   char  *fields[64];
@@ -122,15 +119,12 @@
       sfree (ds->ds);
       ERROR ("types_list: parse_line: Cannot parse data source #%i "
 	  "of data set %s", i, ds->type);
       return;
     }
 
-  DEBUG ("parse_line: ds = {%s, %i, %p};",
-      ds->type, ds->ds_num, (void *) ds->ds);
-
   plugin_register_data_set (ds);
 
   sfree (ds->ds);
   sfree (ds);
 } /* void parse_line */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/unixsock.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/unixsock.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/unixsock.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/unixsock.c	2008-05-06 22:14:06.000000000 +0800
@@ -21,12 +21,15 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
+#include "utils_cmd_flush.h"
+#include "utils_cmd_getval.h"
+#include "utils_cmd_listval.h"
 #include "utils_cmd_putval.h"
 #include "utils_cmd_putnotif.h"
 
 /* Folks without pthread will need to disable this plugin. */
 #include <pthread.h>
 
@@ -40,304 +43,36 @@
 # define UNIX_PATH_MAX sizeof (((struct sockaddr_un *)0)->sun_path)
 #endif
 
 #define US_DEFAULT_PATH LOCALSTATEDIR"/run/"PACKAGE_NAME"-unixsock"
 
 /*
- * Private data structures
- */
-/* linked list of cached values */
-typedef struct value_cache_s
-{
-	char       name[4*DATA_MAX_NAME_LEN];
-	int        values_num;
-	gauge_t   *gauge;
-	counter_t *counter;
-	const data_set_t *ds;
-	time_t     time;
-	struct value_cache_s *next;
-} value_cache_t;
-
-/*
  * Private variables
  */
 /* valid configuration file keys */
 static const char *config_keys[] =
 {
 	"SocketFile",
 	"SocketGroup",
-	"SocketPerms",
-	NULL
+	"SocketPerms"
 };
-static int config_keys_num = 3;
+static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static int loop = 0;
 
 /* socket configuration */
 static int   sock_fd    = -1;
 static char *sock_file  = NULL;
 static char *sock_group = NULL;
 static int   sock_perms = S_IRWXU | S_IRWXG;
 
 static pthread_t listen_thread = (pthread_t) 0;
 
-/* Linked list and auxilliary variables for saving values */
-static value_cache_t   *cache_head = NULL;
-static pthread_mutex_t  cache_lock = PTHREAD_MUTEX_INITIALIZER;
-static time_t           cache_oldest = -1;
-
 /*
  * Functions
  */
-static value_cache_t *cache_search (const char *name)
-{
-	value_cache_t *vc;
-
-	for (vc = cache_head; vc != NULL; vc = vc->next)
-	{
-		if (strcmp (vc->name, name) == 0)
-			break;
-	} /* for vc = cache_head .. NULL */
-
-	return (vc);
-} /* value_cache_t *cache_search */
-
-static int cache_insert (const data_set_t *ds, const value_list_t *vl)
-{
-	/* We're called from `cache_update' so we don't need to lock the mutex */
-	value_cache_t *vc;
-	int i;
-
-	DEBUG ("unixsock plugin: cache_insert: ds->type = %s; ds->ds_num = %i;"
-			" vl->values_len = %i;",
-			ds->type, ds->ds_num, vl->values_len);
-#if COLLECT_DEBUG
-	assert (ds->ds_num == vl->values_len);
-#else
-	if (ds->ds_num != vl->values_len)
-	{
-		ERROR ("unixsock plugin: ds->type = %s: (ds->ds_num = %i) != "
-				"(vl->values_len = %i)",
-				ds->type, ds->ds_num, vl->values_len);
-		return (-1);
-	}
-#endif
-
-	vc = (value_cache_t *) malloc (sizeof (value_cache_t));
-	if (vc == NULL)
-	{
-		char errbuf[1024];
-		pthread_mutex_unlock (&cache_lock);
-		ERROR ("unixsock plugin: malloc failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		return (-1);
-	}
-
-	vc->gauge = (gauge_t *) malloc (sizeof (gauge_t) * vl->values_len);
-	if (vc->gauge == NULL)
-	{
-		char errbuf[1024];
-		pthread_mutex_unlock (&cache_lock);
-		ERROR ("unixsock plugin: malloc failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		free (vc);
-		return (-1);
-	}
-
-	vc->counter = (counter_t *) malloc (sizeof (counter_t) * vl->values_len);
-	if (vc->counter == NULL)
-	{
-		char errbuf[1024];
-		pthread_mutex_unlock (&cache_lock);
-		ERROR ("unixsock plugin: malloc failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		free (vc->gauge);
-		free (vc);
-		return (-1);
-	}
-
-	if (FORMAT_VL (vc->name, sizeof (vc->name), vl, ds))
-	{
-		pthread_mutex_unlock (&cache_lock);
-		ERROR ("unixsock plugin: FORMAT_VL failed.");
-		free (vc->counter);
-		free (vc->gauge);
-		free (vc);
-		return (-1);
-	}
-
-	for (i = 0; i < ds->ds_num; i++)
-	{
-		if (ds->ds[i].type == DS_TYPE_COUNTER)
-		{
-			vc->gauge[i] = 0.0;
-			vc->counter[i] = vl->values[i].counter;
-		}
-		else if (ds->ds[i].type == DS_TYPE_GAUGE)
-		{
-			vc->gauge[i] = vl->values[i].gauge;
-			vc->counter[i] = 0;
-		}
-		else
-		{
-			vc->gauge[i] = 0.0;
-			vc->counter[i] = 0;
-		}
-	}
-	vc->values_num = ds->ds_num;
-	vc->ds = ds;
-
-	vc->next = cache_head;
-	cache_head = vc;
-
-	vc->time = vl->time;
-	if ((vc->time < cache_oldest) || (-1 == cache_oldest))
-		cache_oldest = vc->time;
-
-	pthread_mutex_unlock (&cache_lock);
-	return (0);
-} /* int cache_insert */
-
-static int cache_update (const data_set_t *ds, const value_list_t *vl)
-{
-	char name[4*DATA_MAX_NAME_LEN];;
-	value_cache_t *vc;
-	int i;
-
-	if (FORMAT_VL (name, sizeof (name), vl, ds) != 0)
-		return (-1);
-
-	pthread_mutex_lock (&cache_lock);
-
-	vc = cache_search (name);
-
-	/* pthread_mutex_lock is called by cache_insert. */
-	if (vc == NULL)
-		return (cache_insert (ds, vl));
-
-	assert (vc->values_num == ds->ds_num);
-	assert (vc->values_num == vl->values_len);
-
-	/* Avoid floating-point exceptions due to division by zero. */
-	if (vc->time >= vl->time)
-	{
-		pthread_mutex_unlock (&cache_lock);
-		ERROR ("unixsock plugin: vc->time >= vl->time. vc->time = %u; "
-				"vl->time = %u; vl = %s;",
-				(unsigned int) vc->time, (unsigned int) vl->time,
-				name);
-		return (-1);
-	} /* if (vc->time >= vl->time) */
-
-	/*
-	 * Update the values. This is possibly a lot more that you'd expect
-	 * because we honor min and max values and handle counter overflows here.
-	 */
-	for (i = 0; i < ds->ds_num; i++)
-	{
-		if (ds->ds[i].type == DS_TYPE_COUNTER)
-		{
-			if (vl->values[i].counter < vc->counter[i])
-			{
-				if (vl->values[i].counter <= 4294967295U)
-				{
-					vc->gauge[i] = ((4294967295U - vl->values[i].counter)
-							+ vc->counter[i]) / (vl->time - vc->time);
-				}
-				else
-				{
-					vc->gauge[i] = ((18446744073709551615ULL - vl->values[i].counter)
-						+ vc->counter[i]) / (vl->time - vc->time);
-				}
-			}
-			else
-			{
-				vc->gauge[i] = (vl->values[i].counter - vc->counter[i])
-					/ (vl->time - vc->time);
-			}
-
-			vc->counter[i] = vl->values[i].counter;
-		}
-		else if (ds->ds[i].type == DS_TYPE_GAUGE)
-		{
-			vc->gauge[i] = vl->values[i].gauge;
-			vc->counter[i] = 0;
-		}
-		else
-		{
-			vc->gauge[i] = NAN;
-			vc->counter[i] = 0;
-		}
-
-		if (isnan (vc->gauge[i])
-				|| (!isnan (ds->ds[i].min) && (vc->gauge[i] < ds->ds[i].min))
-				|| (!isnan (ds->ds[i].max) && (vc->gauge[i] > ds->ds[i].max)))
-			vc->gauge[i] = NAN;
-	} /* for i = 0 .. ds->ds_num */
-
-	vc->ds = ds;
-	vc->time = vl->time;
-
-	if ((vc->time < cache_oldest) || (-1 == cache_oldest))
-		cache_oldest = vc->time;
-
-	pthread_mutex_unlock (&cache_lock);
-	return (0);
-} /* int cache_update */
-
-static void cache_flush (int max_age)
-{
-	value_cache_t *this;
-	value_cache_t *prev;
-	time_t now;
-
-	pthread_mutex_lock (&cache_lock);
-
-	now = time (NULL);
-
-	if ((now - cache_oldest) <= max_age)
-	{
-		pthread_mutex_unlock (&cache_lock);
-		return;
-	}
-	
-	cache_oldest = now;
-
-	prev = NULL;
-	this = cache_head;
-
-	while (this != NULL)
-	{
-		if ((now - this->time) <= max_age)
-		{
-			if (this->time < cache_oldest)
-				cache_oldest = this->time;
-
-			prev = this;
-			this = this->next;
-			continue;
-		}
-
-		if (prev == NULL)
-			cache_head = this->next;
-		else
-			prev->next = this->next;
-
-		free (this->gauge);
-		free (this->counter);
-		free (this);
-
-		if (prev == NULL)
-			this = cache_head;
-		else
-			this = prev->next;
-	} /* while (this != NULL) */
-
-	pthread_mutex_unlock (&cache_lock);
-} /* void cache_flush */
-
 static int us_open_socket (void)
 {
 	struct sockaddr_un sa;
 	int status;
 
 	sock_fd = socket (PF_UNIX, SOCK_STREAM, 0);
@@ -417,136 +152,12 @@
 		}
 	} while (0);
 
 	return (0);
 } /* int us_open_socket */
 
-static int us_handle_getval (FILE *fh, char **fields, int fields_num)
-{
-	char *hostname;
-	char *plugin;
-	char *plugin_instance;
-	char *type;
-	char *type_instance;
-	char  name[4*DATA_MAX_NAME_LEN];
-	value_cache_t *vc;
-	int   status;
-	int   i;
-
-	if (fields_num != 2)
-	{
-		DEBUG ("unixsock plugin: Wrong number of fields: %i", fields_num);
-		fprintf (fh, "-1 Wrong number of fields: Got %i, expected 2.\n",
-				fields_num);
-		fflush (fh);
-		return (-1);
-	}
-	DEBUG ("unixsock plugin: Got query for `%s'", fields[1]);
-
-	status = parse_identifier (fields[1], &hostname,
-			&plugin, &plugin_instance,
-			&type, &type_instance);
-	if (status != 0)
-	{
-		DEBUG ("unixsock plugin: Cannot parse `%s'", fields[1]);
-		fprintf (fh, "-1 Cannot parse identifier.\n");
-		fflush (fh);
-		return (-1);
-	}
-
-	status = format_name (name, sizeof (name),
-			hostname, plugin, plugin_instance, type, type_instance);
-	if (status != 0)
-	{
-		fprintf (fh, "-1 format_name failed.\n");
-		return (-1);
-	}
-
-	pthread_mutex_lock (&cache_lock);
-
-	DEBUG ("vc = cache_search (%s)", name);
-	vc = cache_search (name);
-
-	if (vc == NULL)
-	{
-		DEBUG ("Did not find cache entry.");
-		fprintf (fh, "-1 No such value");
-	}
-	else
-	{
-		DEBUG ("Found cache entry.");
-		fprintf (fh, "%i", vc->values_num);
-		for (i = 0; i < vc->values_num; i++)
-		{
-			fprintf (fh, " %s=", vc->ds->ds[i].name);
-			if (isnan (vc->gauge[i]))
-				fprintf (fh, "NaN");
-			else
-				fprintf (fh, "%12e", vc->gauge[i]);
-		}
-	}
-
-	/* Free the mutex as soon as possible and definitely before flushing */
-	pthread_mutex_unlock (&cache_lock);
-
-	fprintf (fh, "\n");
-	fflush (fh);
-
-	return (0);
-} /* int us_handle_getval */
-
-static int us_handle_listval (FILE *fh, char **fields, int fields_num)
-{
-	char buffer[1024];
-	char **value_list = NULL;
-	int value_list_len = 0;
-	value_cache_t *entry;
-	int i;
-
-	if (fields_num != 1)
-	{
-		DEBUG ("unixsock plugin: us_handle_listval: "
-				"Wrong number of fields: %i", fields_num);
-		fprintf (fh, "-1 Wrong number of fields: Got %i, expected 1.\n",
-				fields_num);
-		fflush (fh);
-		return (-1);
-	}
-
-	pthread_mutex_lock (&cache_lock);
-
-	for (entry = cache_head; entry != NULL; entry = entry->next)
-	{
-		char **tmp;
-
-		snprintf (buffer, sizeof (buffer), "%u %s\n",
-				(unsigned int) entry->time, entry->name);
-		buffer[sizeof (buffer) - 1] = '\0';
-		
-		tmp = realloc (value_list, sizeof (char *) * (value_list_len + 1));
-		if (tmp == NULL)
-			continue;
-		value_list = tmp;
-
-		value_list[value_list_len] = strdup (buffer);
-
-		if (value_list[value_list_len] != NULL)
-			value_list_len++;
-	} /* for (entry) */
-
-	pthread_mutex_unlock (&cache_lock);
-
-	DEBUG ("unixsock plugin: us_handle_listval: value_list_len = %i", value_list_len);
-	fprintf (fh, "%i Values found\n", value_list_len);
-	for (i = 0; i < value_list_len; i++)
-		fputs (value_list[i], fh);
-	fflush (fh);
-
-	return (0);
-} /* int us_handle_listval */
-
 static void *us_handle_client (void *arg)
 {
 	int fd;
 	FILE *fhin, *fhout;
 	char buffer[1024];
 	char *fields[128];
@@ -575,16 +186,40 @@
 		ERROR ("unixsock plugin: fdopen failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		fclose (fhin); /* this closes fd as well */
 		pthread_exit ((void *) 1);
 	}
 
-	while (fgets (buffer, sizeof (buffer), fhin) != NULL)
+	/* change output buffer to line buffered mode */
+	if (setvbuf (fhout, NULL, _IOLBF, 0) != 0)
+	{
+		char errbuf[1024];
+		ERROR ("unixsock plugin: setvbuf failed: %s",
+				sstrerror (errno, errbuf, sizeof (errbuf)));
+		fclose (fhin);
+		fclose (fhout);
+		pthread_exit ((void *) 1);
+	}
+
+	while (42)
 	{
 		int len;
 
+		errno = 0;
+		if (fgets (buffer, sizeof (buffer), fhin) == NULL)
+		{
+			if (errno != 0)
+			{
+				char errbuf[1024];
+				WARNING ("unixsock plugin: failed to read from socket #%i: %s",
+						fileno (fhin),
+						sstrerror (errno, errbuf, sizeof (errbuf)));
+			}
+			break;
+		}
+
 		len = strlen (buffer);
 		while ((len > 0)
 				&& ((buffer[len - 1] == '\n') || (buffer[len - 1] == '\r')))
 			buffer[--len] = '\0';
 
 		if (len == 0)
@@ -600,30 +235,40 @@
 			close (fd);
 			break;
 		}
 
 		if (strcasecmp (fields[0], "getval") == 0)
 		{
-			us_handle_getval (fhout, fields, fields_num);
+			handle_getval (fhout, fields, fields_num);
 		}
 		else if (strcasecmp (fields[0], "putval") == 0)
 		{
 			handle_putval (fhout, fields, fields_num);
 		}
 		else if (strcasecmp (fields[0], "listval") == 0)
 		{
-			us_handle_listval (fhout, fields, fields_num);
+			handle_listval (fhout, fields, fields_num);
 		}
 		else if (strcasecmp (fields[0], "putnotif") == 0)
 		{
 			handle_putnotif (fhout, fields, fields_num);
 		}
+		else if (strcasecmp (fields[0], "flush") == 0)
+		{
+			handle_flush (fhout, fields, fields_num);
+		}
 		else
 		{
-			fprintf (fhout, "-1 Unknown command: %s\n", fields[0]);
-			fflush (fhout);
+			if (fprintf (fhout, "-1 Unknown command: %s\n", fields[0]) < 0)
+			{
+				char errbuf[1024];
+				WARNING ("unixsock plugin: failed to write to socket #%i: %s",
+						fileno (fhout),
+						sstrerror (errno, errbuf, sizeof (errbuf)));
+				break;
+			}
 		}
 	} /* while (fgets) */
 
 	DEBUG ("Exiting..");
 	fclose (fhin);
 	fclose (fhout);
@@ -704,19 +349,27 @@
 } /* void *us_server_thread */
 
 static int us_config (const char *key, const char *val)
 {
 	if (strcasecmp (key, "SocketFile") == 0)
 	{
+		char *new_sock_file = strdup (val);
+		if (new_sock_file == NULL)
+			return (1);
+
 		sfree (sock_file);
-		sock_file = strdup (val);
+		sock_file = new_sock_file;
 	}
 	else if (strcasecmp (key, "SocketGroup") == 0)
 	{
+		char *new_sock_group = strdup (val);
+		if (new_sock_group == NULL)
+			return (1);
+
 		sfree (sock_group);
-		sock_group = strdup (val);
+		sock_group = new_sock_group;
 	}
 	else if (strcasecmp (key, "SocketPerms") == 0)
 	{
 		sock_perms = (int) strtol (val, NULL, 8);
 	}
 	else
@@ -761,24 +414,15 @@
 	plugin_unregister_init ("unixsock");
 	plugin_unregister_shutdown ("unixsock");
 
 	return (0);
 } /* int us_shutdown */
 
-static int us_write (const data_set_t *ds, const value_list_t *vl)
-{
-	cache_update (ds, vl);
-	cache_flush (2 * interval_g);
-
-	return (0);
-}
-
 void module_register (void)
 {
 	plugin_register_config ("unixsock", us_config,
 			config_keys, config_keys_num);
 	plugin_register_init ("unixsock", us_init);
-	plugin_register_write ("unixsock", us_write);
 	plugin_register_shutdown ("unixsock", us_shutdown);
 } /* void module_register (void) */
 
 /* vim: set sw=4 ts=4 sts=4 tw=78 : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/users.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/users.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/users.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/users.c	2008-05-06 22:14:06.000000000 +0800
@@ -20,12 +20,16 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
+#if HAVE_STATGRAB_H
+# include <statgrab.h>
+#endif /* HAVE_STATGRAB_H */
+
 #if HAVE_UTMPX_H
 # include <utmpx.h>
 /* #endif HAVE_UTMPX_H */
 
 #elif HAVE_UTMP_H
 # include <utmp.h>
@@ -42,14 +46,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "users", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "users");
 
 	plugin_dispatch_values ("users", &vl);
 } /* void users_submit */
 
 static int users_read (void)
 {
@@ -86,12 +90,22 @@
 	}
 	endutent();
 
 	users_submit (users);
 /* #endif HAVE_GETUTENT */
 
+#elif HAVE_LIBSTATGRAB
+	sg_user_stats *us;
+
+	us = sg_get_user_stats ();
+	if (us == NULL)
+		return (-1);   
+
+	users_submit ((gauge_t) us->num_entries);
+/* #endif HAVE_LIBSTATGRAB */
+
 #else
 # error "No applicable input method."
 #endif
 
 	return (0);
 } /* int users_read */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cache.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cache.c	2008-05-06 22:14:06.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/utils_cache.c
- * Copyright (C) 2007  Florian octo Forster
+ * Copyright (C) 2007,2008  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -457,47 +457,161 @@
 
   plugin_dispatch_notification (&n);
 
   return (0);
 } /* int uc_update */
 
-gauge_t *uc_get_rate (const data_set_t *ds, const value_list_t *vl)
+int uc_get_rate_by_name (const char *name, gauge_t **ret_values, size_t *ret_values_num)
 {
-  char name[6 * DATA_MAX_NAME_LEN];
   gauge_t *ret = NULL;
+  size_t ret_num = 0;
   cache_entry_t *ce = NULL;
-
-  if (FORMAT_VL (name, sizeof (name), vl, ds) != 0)
-  {
-    ERROR ("uc_get_rate: FORMAT_VL failed.");
-    return (NULL);
-  }
+  int status = 0;
 
   pthread_mutex_lock (&cache_lock);
 
   if (c_avl_get (cache_tree, name, (void *) &ce) == 0)
   {
     assert (ce != NULL);
-    assert (ce->values_num == ds->ds_num);
 
-    ret = (gauge_t *) malloc (ce->values_num * sizeof (gauge_t));
+    ret_num = ce->values_num;
+    ret = (gauge_t *) malloc (ret_num * sizeof (gauge_t));
     if (ret == NULL)
     {
-      ERROR ("uc_get_rate: malloc failed.");
+      ERROR ("utils_cache: uc_get_rate_by_name: malloc failed.");
+      status = -1;
     }
     else
     {
-      memcpy (ret, ce->values_gauge, ce->values_num * sizeof (gauge_t));
+      memcpy (ret, ce->values_gauge, ret_num * sizeof (gauge_t));
     }
   }
+  else
+  {
+    DEBUG ("utils_cache: uc_get_rate_by_name: No such value: %s", name);
+    status = -1;
+  }
 
   pthread_mutex_unlock (&cache_lock);
 
+  if (status == 0)
+  {
+    *ret_values = ret;
+    *ret_values_num = ret_num;
+  }
+
+  return (status);
+} /* gauge_t *uc_get_rate_by_name */
+
+gauge_t *uc_get_rate (const data_set_t *ds, const value_list_t *vl)
+{
+  char name[6 * DATA_MAX_NAME_LEN];
+  gauge_t *ret = NULL;
+  size_t ret_num = 0;
+  int status;
+
+  if (FORMAT_VL (name, sizeof (name), vl, ds) != 0)
+  {
+    ERROR ("uc_insert: FORMAT_VL failed.");
+    return (NULL);
+  }
+
+  status = uc_get_rate_by_name (name, &ret, &ret_num);
+  if (status != 0)
+    return (NULL);
+
+  /* This is important - the caller has no other way of knowing how many
+   * values are returned. */
+  if (ret_num != ds->ds_num)
+  {
+    ERROR ("utils_cache: uc_get_rate: ds[%s] has %i values, "
+	"but uc_get_rate_by_name returned %i.",
+	ds->type, ds->ds_num, ret_num);
+    sfree (ret);
+    return (NULL);
+  }
+
   return (ret);
 } /* gauge_t *uc_get_rate */
 
+int uc_get_names (char ***ret_names, time_t **ret_times, size_t *ret_number)
+{
+  c_avl_iterator_t *iter;
+  char *key;
+  cache_entry_t *value;
+
+  char **names = NULL;
+  time_t *times = NULL;
+  size_t number = 0;
+
+  int status = 0;
+
+  if ((ret_names == NULL) || (ret_number == NULL))
+    return (-1);
+
+  pthread_mutex_lock (&cache_lock);
+
+  iter = c_avl_get_iterator (cache_tree);
+  while (c_avl_iterator_next (iter, (void *) &key, (void *) &value) == 0)
+  {
+    char **temp;
+
+    if (ret_times != NULL)
+    {
+      time_t *tmp_times;
+
+      tmp_times = (time_t *) realloc (times, sizeof (time_t) * (number + 1));
+      if (tmp_times == NULL)
+      {
+	status = -1;
+	break;
+      }
+      times = tmp_times;
+      times[number] = value->last_time;
+    }
+
+    temp = (char **) realloc (names, sizeof (char *) * (number + 1));
+    if (temp == NULL)
+    {
+      status = -1;
+      break;
+    }
+    names = temp;
+    names[number] = strdup (key);
+    if (names[number] == NULL)
+    {
+      status = -1;
+      break;
+    }
+    number++;
+  } /* while (c_avl_iterator_next) */
+
+  c_avl_iterator_destroy (iter);
+  pthread_mutex_unlock (&cache_lock);
+
+  if (status != 0)
+  {
+    size_t i;
+    
+    for (i = 0; i < number; i++)
+    {
+      sfree (names[i]);
+    }
+    sfree (names);
+
+    return (-1);
+  }
+
+  *ret_names = names;
+  if (ret_times != NULL)
+    *ret_times = times;
+  *ret_number = number;
+
+  return (0);
+} /* int uc_get_names */
+
 int uc_get_state (const data_set_t *ds, const value_list_t *vl)
 {
   char name[6 * DATA_MAX_NAME_LEN];
   cache_entry_t *ce = NULL;
   int ret = STATE_ERROR;
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cache.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cache.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cache.h	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cache.h	2008-05-06 22:14:06.000000000 +0800
@@ -29,13 +29,16 @@
 #define STATE_ERROR    2
 #define STATE_MISSING 15
 
 int uc_init (void);
 int uc_check_timeout (void);
 int uc_update (const data_set_t *ds, const value_list_t *vl);
+int uc_get_rate_by_name (const char *name, gauge_t **ret_values, size_t *ret_values_num);
 gauge_t *uc_get_rate (const data_set_t *ds, const value_list_t *vl);
 
+int uc_get_names (char ***ret_names, time_t **ret_times, size_t *ret_number);
+
 int uc_get_state (const data_set_t *ds, const value_list_t *vl);
 int uc_set_state (const data_set_t *ds, const value_list_t *vl, int state);
 
 /* vim: set shiftwidth=2 softtabstop=2 tabstop=8 : */
 #endif /* !UTILS_CACHE_H */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_cmd_flush.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_cmd_flush.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_cmd_getval.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_cmd_getval.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_cmd_listval.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_cmd_listval.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putnotif.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putnotif.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putnotif.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putnotif.c	2008-05-06 22:14:06.000000000 +0800
@@ -20,12 +20,20 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
+#define print_to_socket(fh, ...) \
+  if (fprintf (fh, __VA_ARGS__) < 0) { \
+    char errbuf[1024]; \
+    WARNING ("handle_putnotif: failed to write to socket #%i: %s", \
+	fileno (fh), sstrerror (errno, errbuf, sizeof (errbuf))); \
+    return -1; \
+  }
+
 static int parse_option_severity (notification_t *n, char *value)
 {
   if (strcasecmp (value, "Failure") == 0)
     n->severity = NOTIF_FAILURE;
   else if (strcasecmp (value, "Warning") == 0)
     n->severity = NOTIF_WARNING;
@@ -104,15 +112,15 @@
   int i;
 
   /* Required fields: `PUTNOTIF', severity, time, message */
   if (fields_num < 4)
   {
     DEBUG ("cmd putnotif: Wrong number of fields: %i", fields_num);
-    fprintf (fh, "-1 Wrong number of fields: Got %i, expected at least 4.\n",
+    print_to_socket (fh, "-1 Wrong number of fields: Got %i, "
+	"expected at least 4.\n",
 	fields_num);
-    fflush (fh);
     return (-1);
   }
 
   memset (&n, '\0', sizeof (n));
 
   status = 0;
@@ -120,52 +128,51 @@
   {
     if (strncasecmp (fields[i], "message=", strlen ("message=")) == 0)
     {
       status = parse_message (&n, fields + i, fields_num - i);
       if (status != 0)
       {
-	fprintf (fh, "-1 Error parsing the message. Have you hit the "
+	print_to_socket (fh, "-1 Error parsing the message. Have you hit the "
 	    "limit of %u bytes?\n", (unsigned int) sizeof (n.message));
       }
       break;
     }
     else
     {
       status = parse_option (&n, fields[i]);
       if (status != 0)
       {
-	fprintf (fh, "-1 Error parsing option `%s'\n", fields[i]);
+	print_to_socket (fh, "-1 Error parsing option `%s'\n", fields[i]);
 	break;
       }
     }
   } /* for (i) */
 
   /* Check for required fields and complain if anything is missing. */
   if ((status == 0) && (n.severity == 0))
   {
-    fprintf (fh, "-1 Option `severity' missing.\n");
+    print_to_socket (fh, "-1 Option `severity' missing.\n");
     status = -1;
   }
   if ((status == 0) && (n.time == 0))
   {
-    fprintf (fh, "-1 Option `time' missing.\n");
+    print_to_socket (fh, "-1 Option `time' missing.\n");
     status = -1;
   }
   if ((status == 0) && (strlen (n.message) == 0))
   {
-    fprintf (fh, "-1 No message or message of length 0 given.\n");
+    print_to_socket (fh, "-1 No message or message of length 0 given.\n");
     status = -1;
   }
 
   /* If status is still zero the notification is fine and we can finally
    * dispatch it. */
   if (status == 0)
   {
     plugin_dispatch_notification (&n);
-    fprintf (fh, "0 Success\n");
+    print_to_socket (fh, "0 Success\n");
   }
-  fflush (fh);
 
   return (0);
 } /* int handle_putnotif */
 
 /* vim: set shiftwidth=2 softtabstop=2 tabstop=8 : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putnotif.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putnotif.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putnotif.h	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putnotif.h	2008-05-06 22:14:06.000000000 +0800
@@ -19,13 +19,11 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #ifndef UTILS_CMD_PUTNOTIF_H
 #define UTILS_CMD_PUTNOTIF_H 1
 
-#include "plugin.h"
-
 int handle_putnotif (FILE *fh, char **fields, int fields_num);
 
 /* vim: set shiftwidth=2 softtabstop=2 tabstop=8 : */
 
 #endif /* UTILS_CMD_PUTNOTIF_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putval.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putval.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putval.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putval.c	2008-05-06 22:14:06.000000000 +0800
@@ -20,12 +20,20 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
+#define print_to_socket(fh, ...) \
+	if (fprintf (fh, __VA_ARGS__) < 0) { \
+		char errbuf[1024]; \
+		WARNING ("handle_putval: failed to write to socket #%i: %s", \
+				fileno (fh), sstrerror (errno, errbuf, sizeof (errbuf))); \
+		return -1; \
+	}
+
 static int parse_value (const data_set_t *ds, value_list_t *vl,
 		const char *type,
 	       	FILE *fh, char *buffer)
 {
 	char *dummy;
 	char *ptr;
@@ -33,13 +41,13 @@
 	int i;
 
 	char *time_str = buffer;
 	char *value_str = strchr (time_str, ':');
 	if (value_str == NULL)
 	{
-		fprintf (fh, "-1 No time found.\n");
+		print_to_socket (fh, "-1 No time found.\n");
 		return (-1);
 	}
 	*value_str = '\0'; value_str++;
 
 	vl->time = (time_t) atoi (time_str);
 	if (vl->time == 0)
@@ -73,13 +81,13 @@
 		char identifier[128];
 		FORMAT_VL (identifier, sizeof (identifier), vl, ds);
 		ERROR ("cmd putval: parse_value: "
 				"Number of values incorrect: "
 				"Got %i, expected %i. Identifier is `%s'.",
 				i, vl->values_len, identifier);
-		fprintf (fh, "-1 Number of values incorrect: "
+		print_to_socket (fh, "-1 Number of values incorrect: "
 				"Got %i, expected %i.\n",
 			       	i, vl->values_len);
 		return (-1);
 	}
 
 	plugin_dispatch_values (type, vl);
@@ -127,16 +135,15 @@
 	value_list_t vl = VALUE_LIST_INIT;
 
 	if (fields_num < 3)
 	{
 		DEBUG ("cmd putval: Wrong number of fields: %i",
 			       	fields_num);
-		fprintf (fh, "-1 Wrong number of fields: Got %i, "
+		print_to_socket (fh, "-1 Wrong number of fields: Got %i, "
 				"expected at least 3.\n",
 				fields_num);
-		fflush (fh);
 		return (-1);
 	}
 
 	/* parse_identifier() modifies its first argument,
 	 * returning pointers into it */
 	identifier_copy = sstrdup (fields[1]);
@@ -144,50 +151,47 @@
 	status = parse_identifier (identifier_copy, &hostname,
 			&plugin, &plugin_instance,
 			&type, &type_instance);
 	if (status != 0)
 	{
 		DEBUG ("cmd putval: Cannot parse `%s'", fields[1]);
-		fprintf (fh, "-1 Cannot parse identifier.\n");
-		fflush (fh);
+		print_to_socket (fh, "-1 Cannot parse identifier.\n");
 		sfree (identifier_copy);
 		return (-1);
 	}
 
 	if ((strlen (hostname) >= sizeof (vl.host))
 			|| (strlen (plugin) >= sizeof (vl.plugin))
 			|| ((plugin_instance != NULL)
 				&& (strlen (plugin_instance) >= sizeof (vl.plugin_instance)))
 			|| ((type_instance != NULL)
 				&& (strlen (type_instance) >= sizeof (vl.type_instance))))
 	{
-		fprintf (fh, "-1 Identifier too long.\n");
-		fflush (fh);
+		print_to_socket (fh, "-1 Identifier too long.\n");
 		sfree (identifier_copy);
 		return (-1);
 	}
 
-	sstrncpy (vl.host, hostname, sizeof (vl.host));
-	sstrncpy (vl.plugin, plugin, sizeof (vl.plugin));
+	strcpy (vl.host, hostname);
+	strcpy (vl.plugin, plugin);
 	if (plugin_instance != NULL)
-		sstrncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
+		strcpy (vl.plugin_instance, plugin_instance);
 	if (type_instance != NULL)
-		sstrncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
+		strcpy (vl.type_instance, type_instance);
 
 	ds = plugin_get_ds (type);
 	if (ds == NULL) {
 		sfree (identifier_copy);
 		return (-1);
 	}
 
 	vl.values_len = ds->ds_num;
 	vl.values = (value_t *) malloc (vl.values_len * sizeof (value_t));
 	if (vl.values == NULL)
 	{
-		fprintf (fh, "-1 malloc failed.\n");
-		fflush (fh);
+		print_to_socket (fh, "-1 malloc failed.\n");
 		sfree (identifier_copy);
 		return (-1);
 	}
 
 	/* All the remaining fields are part of the optionlist. */
 	for (i = 2; i < fields_num; i++)
@@ -201,13 +205,13 @@
 				break;
 		}
 		else if (strchr (fields[i], '=') != NULL)
 		{
 			if (parse_option (&vl, fields[i]) != 0)
 			{
-				fprintf (fh, "-1 Error parsing option `%s'\n",
+				print_to_socket (fh, "-1 Error parsing option `%s'\n",
 						fields[i]);
 				break;
 			}
 		}
 		else
 		{
@@ -217,14 +221,13 @@
 					i, fields[i]);
 		}
 	}
 	/* Done parsing the options. */
 
 	if (i == fields_num)
-		fprintf (fh, "0 Success\n");
-	fflush (fh);
+		print_to_socket (fh, "0 Success\n");
 
 	sfree (vl.values); 
 	sfree (identifier_copy);
 
 	return (0);
 } /* int handle_putval */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putval.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putval.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_cmd_putval.h	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_cmd_putval.h	2008-05-06 22:14:06.000000000 +0800
@@ -19,11 +19,9 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #ifndef UTILS_CMD_PUTVAL_H
 #define UTILS_CMD_PUTVAL_H 1
 
-#include "plugin.h"
-
 int handle_putval (FILE *fh, char **fields, int fields_num);
 
 #endif /* UTILS_CMD_PUTVAL_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_dns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_dns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_dns.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_dns.c	2008-05-06 20:30:13.000000000 +0800
@@ -381,13 +381,13 @@
     offset = 12;
     memset(qh.qname, '\0', MAX_QNAME_SZ);
     x = rfc1035NameUnpack(buf, len, &offset, qh.qname, MAX_QNAME_SZ);
     if (0 != x)
 	return 0;
     if ('\0' == qh.qname[0])
-	strncpy (qh.qname, ".", sizeof (qh.qname));
+	strcpy(qh.qname, ".");
     while ((t = strchr(qh.qname, '\n')))
 	*t = ' ';
     while ((t = strchr(qh.qname, '\r')))
 	*t = ' ';
     for (t = qh.qname; *t; t++)
 	*t = tolower(*t);
@@ -701,13 +701,13 @@
 #endif /* HAVE_PCAP_H */
 
 const char *qtype_str(int t)
 {
     static char buf[32];
     switch (t) {
-#if (defined (__NAMESER)) && (__NAMESER >= 19991001)
+#if (defined (__NAMESER)) && (__NAMESER >= 19991006)
 	    case ns_t_a:        return ("A");
 	    case ns_t_ns:       return ("NS");
 	    case ns_t_md:       return ("MD");
 	    case ns_t_mf:       return ("MF");
 	    case ns_t_cname:    return ("CNAME");
 	    case ns_t_soa:      return ("SOA");
@@ -743,15 +743,13 @@
 	    case ns_t_kx:       return ("KX");
 	    case ns_t_cert:     return ("CERT");
 	    case ns_t_a6:       return ("A6");
 	    case ns_t_dname:    return ("DNAME");
 	    case ns_t_sink:     return ("SINK");
 	    case ns_t_opt:      return ("OPT");
-# if __NAMESER >= 19991006
 	    case ns_t_tsig:     return ("TSIG");
-# endif
 	    case ns_t_ixfr:     return ("IXFR");
 	    case ns_t_axfr:     return ("AXFR");
 	    case ns_t_mailb:    return ("MAILB");
 	    case ns_t_maila:    return ("MAILA");
 	    case ns_t_any:      return ("ANY");
 	    case ns_t_zxfr:     return ("ZXFR");
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_ignorelist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_ignorelist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_ignorelist.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_ignorelist.c	2008-05-06 22:14:06.000000000 +0800
@@ -1,9 +1,10 @@
 /**
  * collectd - src/utils_ignorelist.c
  * Copyright (C) 2006 Lubos Stanek <lubek at users.sourceforge.net>
+ * Copyright (C) 2008 Florian Forster <octo at verplant.org>
  *
  * This program is free software; you can redistribute it and/
  * or modify it under the terms of the GNU General Public Li-
  * cence as published by the Free Software Foundation; either
  * version 2 of the Licence, or any later version.
  *
@@ -16,12 +17,13 @@
  * Licence along with this program; if not, write to the Free
  * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
  * USA.
  *
  * Authors:
  *   Lubos Stanek <lubek at users.sourceforge.net>
+ *   Florian Forster <octo at verplant.org>
  **/
 /**
  * ignorelist handles plugin's list of configured collectable
  * entries with global ignore action
  **/
 /**
@@ -329,16 +331,14 @@
  * return 1 for ignored entry
  */
 int ignorelist_match (ignorelist_t *il, const char *entry)
 {
 	ignorelist_item_t *traverse;
 
-	assert (il != NULL);
-
 	/* if no entries, collect all */
-	if (il->head == NULL)
+	if ((il == NULL) || (il->head == NULL))
 		return (0);
 
 	if ((entry == NULL) || (strlen (entry) == 0))
 		return (0);
 
 	/* traverse list and check entries */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_llist.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_llist.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_llist.c	2008-05-27 23:52:36.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_llist.c	2008-05-06 20:30:13.000000000 +0800
@@ -56,15 +56,12 @@
 
 void llist_destroy (llist_t *l)
 {
 	llentry_t *e_this;
 	llentry_t *e_next;
 
-	if (l == NULL)
-		return;
-
 	for (e_this = l->head; e_this != NULL; e_this = e_next)
 	{
 		e_next = e_this->next;
 		llentry_destroy (e_this);
 	}
 
@@ -140,29 +137,22 @@
 }
 
 llentry_t *llist_search (llist_t *l, const char *key)
 {
 	llentry_t *e;
 
-	if (l == NULL)
-		return (NULL);
-
 	for (e = l->head; e != NULL; e = e->next)
 		if (strcmp (key, e->key) == 0)
 			break;
 
 	return (e);
 }
 
 llentry_t *llist_head (llist_t *l)
 {
-	if (l == NULL)
-		return (NULL);
 	return (l->head);
 }
 
 llentry_t *llist_tail (llist_t *l)
 {
-	if (l == NULL)
-		return (NULL);
 	return (l->tail);
 }
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_match.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_match.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_tail.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_tail.h
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_tail_match.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: utils_tail_match.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_threshold.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_threshold.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/utils_threshold.c	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/utils_threshold.c	2008-05-06 22:14:06.000000000 +0800
@@ -38,17 +38,19 @@
 {
   char host[DATA_MAX_NAME_LEN];
   char plugin[DATA_MAX_NAME_LEN];
   char plugin_instance[DATA_MAX_NAME_LEN];
   char type[DATA_MAX_NAME_LEN];
   char type_instance[DATA_MAX_NAME_LEN];
+  char data_source[DATA_MAX_NAME_LEN];
   gauge_t warning_min;
   gauge_t warning_max;
   gauge_t failure_min;
   gauge_t failure_max;
   int flags;
+  struct threshold_s *next;
 } threshold_t;
 /* }}} */
 
 /*
  * Private (static) variables
  * {{{ */
@@ -59,17 +61,37 @@
 /*
  * Threshold management
  * ====================
  * The following functions add, delete, search, etc. configured thresholds to
  * the underlying AVL trees.
  * {{{ */
+static threshold_t *threshold_get (const char *hostname,
+    const char *plugin, const char *plugin_instance,
+    const char *type, const char *type_instance)
+{
+  char name[6 * DATA_MAX_NAME_LEN];
+  threshold_t *th = NULL;
+
+  format_name (name, sizeof (name),
+      (hostname == NULL) ? "" : hostname,
+      (plugin == NULL) ? "" : plugin, plugin_instance,
+      (type == NULL) ? "" : type, type_instance);
+  name[sizeof (name) - 1] = '\0';
+
+  if (c_avl_get (threshold_tree, name, (void *) &th) == 0)
+    return (th);
+  else
+    return (NULL);
+} /* threshold_t *threshold_get */
+
 static int ut_threshold_add (const threshold_t *th)
 {
   char name[6 * DATA_MAX_NAME_LEN];
   char *name_copy;
   threshold_t *th_copy;
+  threshold_t *th_ptr;
   int status = 0;
 
   if (format_name (name, sizeof (name), th->host,
 	th->plugin, th->plugin_instance,
 	th->type, th->type_instance) != 0)
   {
@@ -89,17 +111,35 @@
   {
     sfree (name_copy);
     ERROR ("ut_threshold_add: malloc failed.");
     return (-1);
   }
   memcpy (th_copy, th, sizeof (threshold_t));
+  th_ptr = NULL;
 
   DEBUG ("ut_threshold_add: Adding entry `%s'", name);
 
   pthread_mutex_lock (&threshold_lock);
-  status = c_avl_insert (threshold_tree, name_copy, th_copy);
+
+  th_ptr = threshold_get (th->host, th->plugin, th->plugin_instance,
+      th->type, th->type_instance);
+
+  while ((th_ptr != NULL) && (th_ptr->next != NULL))
+    th_ptr = th_ptr->next;
+
+  if (th_ptr == NULL) /* no such threshold yet */
+  {
+    status = c_avl_insert (threshold_tree, name_copy, th_copy);
+  }
+  else /* th_ptr points to the last threshold in the list */
+  {
+    th_ptr->next = th_copy;
+    /* name_copy isn't needed */
+    sfree (name_copy);
+  }
+
   pthread_mutex_unlock (&threshold_lock);
 
   if (status != 0)
   {
     ERROR ("ut_threshold_add: c_avl_insert (%s) failed.", name);
     sfree (name_copy);
@@ -115,12 +155,28 @@
 /*
  * Configuration
  * =============
  * The following approximately two hundred functions are used to handle the
  * configuration and fill the threshold list.
  * {{{ */
+static int ut_config_type_datasource (threshold_t *th, oconfig_item_t *ci)
+{
+  if ((ci->values_num != 1)
+      || (ci->values[0].type != OCONFIG_TYPE_STRING))
+  {
+    WARNING ("threshold values: The `DataSource' option needs exactly one "
+	"string argument.");
+    return (-1);
+  }
+
+  sstrncpy (th->data_source, ci->values[0].value.string,
+      sizeof (th->data_source));
+
+  return (0);
+} /* int ut_config_type_datasource */
+
 static int ut_config_type_instance (threshold_t *th, oconfig_item_t *ci)
 {
   if ((ci->values_num != 1)
       || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
     WARNING ("threshold values: The `Instance' option needs exactly one "
@@ -240,12 +296,14 @@
   {
     oconfig_item_t *option = ci->children + i;
     status = 0;
 
     if (strcasecmp ("Instance", option->key) == 0)
       status = ut_config_type_instance (&th, option);
+    if (strcasecmp ("DataSource", option->key) == 0)
+      status = ut_config_type_datasource (&th, option);
     else if ((strcasecmp ("WarningMax", option->key) == 0)
 	|| (strcasecmp ("FailureMax", option->key) == 0))
       status = ut_config_type_max (&th, option);
     else if ((strcasecmp ("WarningMin", option->key) == 0)
 	|| (strcasecmp ("FailureMin", option->key) == 0))
       status = ut_config_type_min (&th, option);
@@ -440,31 +498,12 @@
 } /* int um_config */
 /*
  * End of the functions used to configure threshold values.
  */
 /* }}} */
 
-static threshold_t *threshold_get (const char *hostname,
-    const char *plugin, const char *plugin_instance,
-    const char *type, const char *type_instance)
-{
-  char name[6 * DATA_MAX_NAME_LEN];
-  threshold_t *th = NULL;
-
-  format_name (name, sizeof (name),
-      (hostname == NULL) ? "" : hostname,
-      (plugin == NULL) ? "" : plugin, plugin_instance,
-      (type == NULL) ? "" : type, type_instance);
-  name[sizeof (name) - 1] = '\0';
-
-  if (c_avl_get (threshold_tree, name, (void *) &th) == 0)
-    return (th);
-  else
-    return (NULL);
-} /* threshold_t *threshold_get */
-
 static threshold_t *threshold_search (const data_set_t *ds,
     const value_list_t *vl)
 {
   threshold_t *th;
 
   if ((th = threshold_get (vl->host, vl->plugin, vl->plugin_instance,
@@ -504,186 +543,295 @@
 	  ds->type, NULL)) != NULL)
     return (th);
 
   return (NULL);
 } /* threshold_t *threshold_search */
 
-int ut_check_threshold (const data_set_t *ds, const value_list_t *vl)
-{
+/*
+ * int ut_report_state
+ *
+ * Checks if the `state' differs from the old state and creates a notification
+ * if appropriate.
+ * Does not fail.
+ */
+static int ut_report_state (const data_set_t *ds,
+    const value_list_t *vl,
+    const threshold_t *th,
+    const gauge_t *values,
+    int ds_index,
+    int state)
+{ /* {{{ */
+  int state_old;
   notification_t n;
-  threshold_t *th;
-  gauge_t *values;
-  int i;
-
-  int state_orig;
-  int state_new = STATE_OKAY;
-  int ds_index = 0;
 
   char *buf;
   size_t bufsize;
-  int status;
-
-  if (threshold_tree == NULL)
-    return (0);
 
-  /* Is this lock really necessary? So far, thresholds are only inserted at
-   * startup. -octo */
-  pthread_mutex_lock (&threshold_lock);
-  th = threshold_search (ds, vl);
-  pthread_mutex_unlock (&threshold_lock);
-  if (th == NULL)
-    return (0);
-
-  DEBUG ("ut_check_threshold: Found matching threshold");
-
-  values = uc_get_rate (ds, vl);
-  if (values == NULL)
-    return (0);
+  int status;
 
-  state_orig = uc_get_state (ds, vl);
+  state_old = uc_get_state (ds, vl);
 
-  for (i = 0; i < ds->ds_num; i++)
+  /* If the state didn't change, only report if `persistent' is specified and
+   * the state is not `okay'. */
+  if (state == state_old)
   {
-    int is_inverted = 0;
-    int is_warning = 0;
-    int is_failure = 0;
-
-    if ((th->flags & UT_FLAG_INVERT) != 0)
-    {
-      is_inverted = 1;
-      is_warning--;
-      is_failure--;
-    }
-    if ((!isnan (th->failure_min) && (th->failure_min > values[i]))
-	|| (!isnan (th->failure_max) && (th->failure_max < values[i])))
-      is_failure++;
-    if ((!isnan (th->warning_min) && (th->warning_min > values[i]))
-	|| (!isnan (th->warning_max) && (th->warning_max < values[i])))
-      is_warning++;
-
-    if ((is_failure != 0) && (state_new != STATE_ERROR))
-    {
-      state_new = STATE_ERROR;
-      ds_index = i;
-    }
-    else if ((is_warning != 0)
-	&& (state_new != STATE_ERROR)
-	&& (state_new != STATE_WARNING))
-    {
-      state_new = STATE_WARNING;
-      ds_index = i;
-    }
+    if ((th->flags & UT_FLAG_PERSIST) == 0)
+      return (0);
+    else if (state == STATE_OKAY)
+      return (0);
   }
 
-  if (state_new != state_orig)
-    uc_set_state (ds, vl, state_new);
-
-  /* Return here if we're not going to send a notification */
-  if ((state_new == state_orig)
-      && ((state_new == STATE_OKAY)
-	|| ((th->flags & UT_FLAG_PERSIST) == 0)))
-  {
-    sfree (values);
-    return (0);
-  }
+  if (state != state_old)
+    uc_set_state (ds, vl, state);
 
   NOTIFICATION_INIT_VL (&n, vl, ds);
-  {
-    /* Copy the associative members */
-    if (state_new == STATE_OKAY)
-      n.severity = NOTIF_OKAY;
-    else if (state_new == STATE_WARNING)
-      n.severity = NOTIF_WARNING;
-    else
-      n.severity = NOTIF_FAILURE;
 
-    n.time = vl->time;
+  buf = n.message;
+  bufsize = sizeof (n.message);
+
+  if (state == STATE_OKAY)
+    n.severity = NOTIF_OKAY;
+  else if (state == STATE_WARNING)
+    n.severity = NOTIF_WARNING;
+  else
+    n.severity = NOTIF_FAILURE;
 
-    buf = n.message;
-    bufsize = sizeof (n.message);
+  n.time = vl->time;
 
-    status = snprintf (buf, bufsize, "Host %s, plugin %s",
-	vl->host, vl->plugin);
+  status = snprintf (buf, bufsize, "Host %s, plugin %s",
+      vl->host, vl->plugin);
+  buf += status;
+  bufsize -= status;
+
+  if (vl->plugin_instance[0] != '\0')
+  {
+    status = snprintf (buf, bufsize, " (instance %s)",
+	vl->plugin_instance);
     buf += status;
     bufsize -= status;
+  }
 
-    if (vl->plugin_instance[0] != '\0')
-    {
-      status = snprintf (buf, bufsize, " (instance %s)",
-	  vl->plugin_instance);
-      buf += status;
-      bufsize -= status;
-    }
+  status = snprintf (buf, bufsize, " type %s", ds->type);
+  buf += status;
+  bufsize -= status;
 
-    status = snprintf (buf, bufsize, " type %s", ds->type);
+  if (vl->type_instance[0] != '\0')
+  {
+    status = snprintf (buf, bufsize, " (instance %s)",
+	vl->type_instance);
     buf += status;
     bufsize -= status;
-
-    if (vl->type_instance[0] != '\0')
-    {
-      status = snprintf (buf, bufsize, " (instance %s)",
-	  vl->type_instance);
-      buf += status;
-      bufsize -= status;
-    }
   }
 
-  /* Send a okay notification */
-  if (state_new == STATE_OKAY)
+  /* Send an okay notification */
+  if (state == STATE_OKAY)
   {
     status = snprintf (buf, bufsize, ": All data sources are within range again.");
     buf += status;
     bufsize -= status;
   }
   else
   {
     double min;
     double max;
 
-    min = (state_new == STATE_ERROR) ? th->failure_min : th->warning_min;
-    max = (state_new == STATE_ERROR) ? th->failure_max : th->warning_max;
+    min = (state == STATE_ERROR) ? th->failure_min : th->warning_min;
+    max = (state == STATE_ERROR) ? th->failure_max : th->warning_max;
 
     if (th->flags & UT_FLAG_INVERT)
     {
       if (!isnan (min) && !isnan (max))
       {
 	status = snprintf (buf, bufsize, ": Data source \"%s\" is currently "
 	    "%f. That is within the %s region of %f and %f.",
 	    ds->ds[ds_index].name, values[ds_index],
-	    (state_new == STATE_ERROR) ? "failure" : "warning",
+	    (state == STATE_ERROR) ? "failure" : "warning",
 	    min, min);
       }
       else
       {
 	status = snprintf (buf, bufsize, ": Data source \"%s\" is currently "
 	    "%f. That is %s the %s threshold of %f.",
 	    ds->ds[ds_index].name, values[ds_index],
 	    isnan (min) ? "below" : "above",
-	    (state_new == STATE_ERROR) ? "failure" : "warning",
+	    (state == STATE_ERROR) ? "failure" : "warning",
 	    isnan (min) ? max : min);
       }
     }
     else /* is not inverted */
     {
       status = snprintf (buf, bufsize, ": Data source \"%s\" is currently "
 	  "%f. That is %s the %s threshold of %f.",
 	  ds->ds[ds_index].name, values[ds_index],
 	  (values[ds_index] < min) ? "below" : "above",
-	  (state_new == STATE_ERROR) ? "failure" : "warning",
+	  (state == STATE_ERROR) ? "failure" : "warning",
 	  (values[ds_index] < min) ? min : max);
     }
     buf += status;
     bufsize -= status;
   }
 
   plugin_dispatch_notification (&n);
 
+  return (0);
+} /* }}} int ut_report_state */
+
+/*
+ * int ut_check_one_data_source
+ *
+ * Checks one data source against the given threshold configuration. If the
+ * `DataSource' option is set in the threshold, and the name does NOT match,
+ * `okay' is returned. If the threshold does match, its failure and warning
+ * min and max values are checked and `failure' or `warning' is returned if
+ * appropriate.
+ * Does not fail.
+ */
+static int ut_check_one_data_source (const data_set_t *ds,
+    const value_list_t *vl,
+    const threshold_t *th,
+    const gauge_t *values,
+    int ds_index)
+{ /* {{{ */
+  const char *ds_name;
+  int is_warning = 0;
+  int is_failure = 0;
+
+  /* check if this threshold applies to this data source */
+  ds_name = ds->ds[ds_index].name;
+  if ((th->data_source[0] != 0)
+      && (strcmp (ds_name, th->data_source) != 0))
+    return (STATE_OKAY);
+
+  if ((th->flags & UT_FLAG_INVERT) != 0)
+  {
+    is_warning--;
+    is_failure--;
+  }
+
+  if ((!isnan (th->failure_min) && (th->failure_min > values[ds_index]))
+      || (!isnan (th->failure_max) && (th->failure_max < values[ds_index])))
+    is_failure++;
+  if (is_failure != 0)
+    return (STATE_ERROR);
+
+  if ((!isnan (th->warning_min) && (th->warning_min > values[ds_index]))
+      || (!isnan (th->warning_max) && (th->warning_max < values[ds_index])))
+    is_warning++;
+  if (is_warning != 0)
+    return (STATE_WARNING);
+
+  return (STATE_OKAY);
+} /* }}} int ut_check_one_data_source */
+
+/*
+ * int ut_check_one_threshold
+ *
+ * Checks all data sources of a value list against the given threshold, using
+ * the ut_check_one_data_source function above. Returns the worst status,
+ * which is `okay' if nothing has failed.
+ * Returns less than zero if the data set doesn't have any data sources.
+ */
+static int ut_check_one_threshold (const data_set_t *ds,
+    const value_list_t *vl,
+    const threshold_t *th,
+    const gauge_t *values,
+    int *ret_ds_index)
+{ /* {{{ */
+  int ret = -1;
+  int ds_index = -1;
+  int i;
+
+  for (i = 0; i < ds->ds_num; i++)
+  {
+    int status;
+
+    status = ut_check_one_data_source (ds, vl, th, values, i);
+    if (ret < status)
+    {
+      ret = status;
+      ds_index = i;
+    }
+  } /* for (ds->ds_num) */
+
+  if (ret_ds_index != NULL)
+    *ret_ds_index = ds_index;
+
+  return (ret);
+} /* }}} int ut_check_one_threshold */
+
+/*
+ * int ut_check_threshold (PUBLIC)
+ *
+ * Gets a list of matching thresholds and searches for the worst status by one
+ * of the thresholds. Then reports that status using the ut_report_state
+ * function above. 
+ * Returns zero on success and if no threshold has been configured. Returns
+ * less than zero on failure.
+ */
+int ut_check_threshold (const data_set_t *ds, const value_list_t *vl)
+{ /* {{{ */
+  threshold_t *th;
+  gauge_t *values;
+  int status;
+
+  int worst_state = -1;
+  threshold_t *worst_th = NULL;
+  int worst_ds_index = -1;
+
+  if (threshold_tree == NULL)
+    return (0);
+
+  /* Is this lock really necessary? So far, thresholds are only inserted at
+   * startup. -octo */
+  pthread_mutex_lock (&threshold_lock);
+  th = threshold_search (ds, vl);
+  pthread_mutex_unlock (&threshold_lock);
+  if (th == NULL)
+    return (0);
+
+  DEBUG ("ut_check_threshold: Found matching threshold(s)");
+
+  values = uc_get_rate (ds, vl);
+  if (values == NULL)
+    return (0);
+
+  while (th != NULL)
+  {
+    int ds_index = -1;
+
+    status = ut_check_one_threshold (ds, vl, th, values, &ds_index);
+    if (status < 0)
+    {
+      ERROR ("ut_check_threshold: ut_check_one_threshold failed.");
+      sfree (values);
+      return (-1);
+    }
+
+    if (worst_state < status)
+    {
+      worst_state = status;
+      worst_th = th;
+      worst_ds_index = ds_index;
+    }
+
+    th = th->next;
+  } /* while (th) */
+
+  status = ut_report_state (ds, vl, worst_th, values,
+      worst_ds_index, worst_state);
+  if (status != 0)
+  {
+    ERROR ("ut_check_threshold: ut_report_state failed.");
+    sfree (values);
+    return (-1);
+  }
+
   sfree (values);
 
   return (0);
-} /* int ut_check_threshold */
+} /* }}} int ut_check_threshold */
 
 int ut_check_interesting (const char *name)
 {
   char *name_copy = NULL;
   char *host = NULL;
   char *plugin = NULL;
@@ -708,13 +856,12 @@
 
   status = parse_identifier (name_copy, &host,
       &plugin, &plugin_instance, &type, &type_instance);
   if (status != 0)
   {
     ERROR ("ut_check_interesting: parse_identifier failed.");
-    sfree (name_copy);
     return (-1);
   }
 
   memset (&ds, '\0', sizeof (ds));
   memset (&vl, '\0', sizeof (vl));
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src: vmem.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/vserver.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/vserver.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/vserver.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/vserver.c	2008-05-06 20:26:56.000000000 +0800
@@ -54,14 +54,14 @@
 	values[0].counter = rx;
 	values[1].counter = tx;
 
 	vl.values = values;
 	vl.values_len = STATIC_ARRAY_SIZE (values);
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "vserver", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "vserver");
 	strncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values ("if_octets", &vl);
 } /* void traffic_submit */
 
@@ -75,14 +75,14 @@
 	values[1].gauge = mnum;
 	values[2].gauge = lnum;
 
 	vl.values = values;
 	vl.values_len = STATIC_ARRAY_SIZE (values);
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "vserver", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "vserver");
 	strncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
 
 	plugin_dispatch_values ("load", &vl);
 }
 
 static void submit_gauge (const char *plugin_instance, const char *type,
@@ -94,14 +94,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = STATIC_ARRAY_SIZE (values);
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "vserver", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "vserver");
 	strncpy (vl.plugin_instance, plugin_instance, sizeof (vl.plugin_instance));
 	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void submit_gauge */
 
@@ -114,77 +114,39 @@
 	++s;
 	return atoll(s);
 }
 
 static int vserver_read (void)
 {
-#if NAME_MAX < 1024
-# define DIRENT_BUFFER_SIZE (sizeof (struct dirent) + 1024 + 1)
-#else
-# define DIRENT_BUFFER_SIZE (sizeof (struct dirent) + NAME_MAX + 1)
-#endif
-
 	DIR 			*proc;
 	struct dirent 	*dent; /* 42 */
-	char dirent_buffer[DIRENT_BUFFER_SIZE];
 
 	errno = 0;
-	proc = opendir (PROCDIR);
-	if (proc == NULL)
+	if (NULL == (proc = opendir (PROCDIR)))
 	{
 		char errbuf[1024];
 		ERROR ("vserver plugin: fopen (%s): %s", PROCDIR, 
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
-	while (42)
+	while (NULL != (dent = readdir (proc)))
 	{
-		size_t len;
+		int  len;
 		char file[BUFSIZE];
 
 		FILE *fh;
 		char buffer[BUFSIZE];
 
-		struct stat statbuf;
 		char *cols[4];
 
-		int status;
-
-		status = readdir_r (proc, (struct dirent *) dirent_buffer, &dent);
-		if (status != 0)
-		{
-			char errbuf[4096];
-			ERROR ("vserver plugin: readdir_r failed: %s",
-					sstrerror (errno, errbuf, sizeof (errbuf)));
-			closedir (proc);
-			return (-1);
-		}
-		else if (dent == NULL)
-		{
-			/* end of directory */
-			break;
-		}
-
 		if (dent->d_name[0] == '.')
 			continue;
 
-		len = snprintf (file, sizeof (file), PROCDIR "/%s", dent->d_name);
-		if ((len < 0) || (len >= BUFSIZE))
-			continue;
-		
-		status = stat (file, &statbuf);
-		if (status != 0)
-		{
-			char errbuf[4096];
-			WARNING ("vserver plugin: stat (%s) failed: %s",
-					file, sstrerror (errno, errbuf, sizeof (errbuf)));
-			continue;
-		}
-		
-		if (!S_ISDIR (statbuf.st_mode))
+		/* This is not a directory */
+		if (dent->d_type != DT_DIR)
 			continue;
 
 		/* socket message accounting */
 		len = snprintf (file, BUFSIZE, PROCDIR "/%s/cacct", dent->d_name);
 		if ((len < 0) || (len >= BUFSIZE))
 			continue;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/wireless.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/wireless.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/wireless.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/wireless.c	2008-05-06 20:26:56.000000000 +0800
@@ -53,14 +53,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "wireless", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "wireless");
 	strncpy (vl.plugin_instance, plugin_instance,
 			sizeof (vl.plugin_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void wireless_submit */
 
@@ -125,26 +125,22 @@
 		/* power [dBm] < 0.0 */
 		power = strtod (fields[3], &endptr);
 		if (fields[3] == endptr)
 			power = 1.0; /* invalid */
 		else if ((power >= 0.0) && (power <= 100.0))
 			power = wireless_percent_to_power (power);
-		else if ((power > 100.0) && (power <= 256.0))
-			power = power - 256.0;
-		else if (power > 0.0)
+		else if (power > 100.0)
 			power = 1.0; /* invalid */
 
 		/* noise [dBm] < 0.0 */
 		noise = strtod (fields[4], &endptr);
 		if (fields[4] == endptr)
 			noise = 1.0; /* invalid */
 		else if ((noise >= 0.0) && (noise <= 100.0))
 			noise = wireless_percent_to_power (noise);
-		else if ((noise > 100.0) && (noise <= 256.0))
-			noise = noise - 256.0;
-		else if (noise > 0.0)
+		else if (noise > 100.0)
 			noise = 1.0; /* invalid */
 
 		wireless_submit (device, "signal_quality", quality);
 		wireless_submit (device, "signal_power", power);
 		wireless_submit (device, "signal_noise", noise);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/xmms.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/xmms.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/src/xmms.c	2008-08-31 20:15:19.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/src/xmms.c	2008-05-06 20:26:56.000000000 +0800
@@ -34,14 +34,14 @@
 
 	values[0].gauge = value;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-	sstrncpy (vl.host, hostname_g, sizeof (vl.host));
-	sstrncpy (vl.plugin, "xmms", sizeof (vl.plugin));
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "xmms");
 
 	plugin_dispatch_values (type, &vl);
 } /* void cxmms_submit */
 
 int cxmms_read (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/TODO /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/TODO
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/TODO	2008-08-31 20:16:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/TODO	2008-05-06 22:14:05.000000000 +0800
@@ -1,6 +1,9 @@
+For version 4.4:
+* PowerDNS plugin
+
 For version 4.3:
 * unixsock plugin: Remove the custom cache if possible.
 
 src/battery.c: commend not working code.
 
 Wishlist:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/version-gen.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/version-gen.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.3.4/version-gen.sh	2008-08-31 21:10:40.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.4.0/version-gen.sh	2008-05-06 22:55:16.000000000 +0800
@@ -1,9 +1,9 @@
 #!/bin/sh
 
-DEFAULT_VERSION="4.3.4.git"
+DEFAULT_VERSION="4.4.0.git"
 
 VERSION="$( git describe 2> /dev/null | sed -e 's/^collectd-//' )"
 
 if test -z "$VERSION"; then
 	VERSION="$DEFAULT_VERSION"
 fi
