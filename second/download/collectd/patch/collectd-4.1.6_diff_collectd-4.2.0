diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/aclocal.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/aclocal.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/aclocal.m4	2008-01-21 17:55:08.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/aclocal.m4	2007-10-27 17:15:34.000000000 +0800
@@ -10,13 +10,13 @@
 # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
 # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
 # PARTICULAR PURPOSE.
 
 # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
 
-# serial 51 Debian 1.5.24-2 AC_PROG_LIBTOOL
+# serial 51 Debian 1.5.24-1 AC_PROG_LIBTOOL
 
 
 # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
 # -----------------------------------------------------------
 # If this macro is not defined by Autoconf, define it here.
 m4_ifdef([AC_PROVIDE_IFELSE],
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/AUTHORS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/AUTHORS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/AUTHORS	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/AUTHORS	2007-10-27 17:04:58.000000000 +0800
@@ -13,12 +13,15 @@
 iptables module by:
   Sjoerd van der Berg <harekiet at gmail.com>
 
 mbmon plugin by:
   Flavio Stanchina <flavio at stanchina.net>
 
+memcached plugin by:
+  Antony Dovgal <tony at daylessday.org>
+
 nfs module by:
   Jason Pepas <cell at ices.utexas.edu>
 
 perl module by:
   Sebastian Harl <sh at tokkee.org>
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0: bindings
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/ChangeLog	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/ChangeLog	2007-10-27 17:04:58.000000000 +0800
@@ -1,33 +1,38 @@
-2008-01-11, Version 4.1.6
-	* unixsock plugin: A bug in the unixsock plugin caused it not to set
-	  the permission on the socket as documented in the manpage. Thanks to
-	  Evgeny Chukreev for fixing this issue.
-	* collectd: The documentation has been improved.
-
-2007-12-27, Version 4.1.5
-	* rrdtool plugin: Fix a memory leak that only occured in very-low-
-	  memory situations.
-	* sensors plugin: Updated the plugin to build and work with version 3
-	  of the libsensors library.
-
-2007-11-08, Version 4.1.4
-	* Build system: Improve detection of the rrd library, especially if
-	  it's in a non-standard location.
-	* Build system: A bug when parsing the argument for
-	  `--with-libnetsnmp' has been fixed.
-	* collectd: Implement `strerror_r' if the libc doesn't provide it.
-	* rrdtool plugin: Fix a bug in the shutdown sequence that might cause
-	  a deadlock or delay when shutting down the daemon.
-	* snmp plugin: Fix a memory leak.
+2007-10-27, Version 4.2.0
+	* collectd: The new config option `Include' lets you include other
+	  configfiles and thus split up your config into smaller parts. This
+	  may be especially interesting for the snmp plugin to keep the data
+	  definitions separate from the host definitions.
+	* ipvs plugin: The new `ipvs' plugin collects IPVS connection statistics
+	  (number of connections, octets and packets for each service and
+	  destination). Thanks to Sebastian Harl for this plugin.
+	* memcached plugin: The new `memcached' plugin connects to a memcached
+	  daemon process and collects statistics of this distributed caching
+	  system. Thanks to Antony Dovgal for contributing this plugin.
+	* nginx plugin: The new `nginx' plugin reads the status page of an
+	  nginx daemon and saves the handeled connections and requests.
+	* perl plugin: Many changes, including the added `EnableDebugger'
+	  config option which lets you debug your Perl plugins more easily.
+	* rrdtool plugin: Use the thread-safe RRD-library if available. Try to
+	  be more thread-safe otherwise by locking calls to the library.
+	* snmp plugin: Added the options `Scale' and `Shift' to Data-blocks to
+	  correct the values returned by SNMP-agents. If a <data> block is
+	  defined as `table' the instance is now optional. The sequence number
+	  is used as the type-instance in this case. The new `InstancePrefix'
+	  option allows to add arbitary prefixes to the type-instance.
+	* tcpconns plugin: The new `tcpconns' plugin collects the number of
+	  certain TCP connections and what state they're in. This can be used
+	  to see how many connections your FTP server has to handle or how
+	  many outgoing connections your mailserver has open.
 
 2007-10-24, Version 4.1.3
 	* collectd: A build issue under Solaris has been resolved by renaming
 	  data types.
-	* rrdtool plugin: Use the threadsafe RRD-library if available. Try to
-	  be more threadsafe otherwise by locking calls to the library.
+	* rrdtool plugin: Use the thread-safe RRD-library if available. Try to
+	  be more thread-safe otherwise by locking calls to the library.
 
 2007-09-28, Version 4.1.2
 	* apcups plugin: Fix reporting of the `load percent' data.
 	* wireless plugin: Correct the handling of cards returning signal and
 	  noise quality as percentage.
 	* perl plugin: Fix a possible buffer overflow in get_module_name().
@@ -255,13 +260,13 @@
 	  freed memory.
 
 2006-11-01, Version 3.10.2
 	* The sample config file has been improved.
 	* Errors in the manpages have been corrected.
 	* The ping-plugin now adds hosts during initialization, not during
-	  startup. This speeds up starup when no network connectivity is
+	  startup. This speeds up startup when no network connectivity is
 	  available. Also, the hosts are being added later when the network is
 	  available.
 	* Improved BSD-support for the df-plugin.
 	* Fixed syntax errors in the swap-plugin for Mac OS X.
 	* Fix a wrong structure being passed to `getnameinfo' in the ntpd-
 	  plugin.
@@ -278,13 +283,13 @@
 	* The `battery' plugin should work on many Apple computers now.
 	* The `traffic' plugin can now ignore certain interfaces. Also,
 	  statistics for sent/received packets and errors have been added.
 	* A plugin to monitor APC UPSes using `apcupsd' has been added. Thanks
 	  to Anthony Gialluca for contributing this plugin and providing me
 	  with a test environment :)
-	* A plugin for moniroting an NTP instance and the local clock drift
+	* A plugin for monitoring an NTP instance and the local clock drift
 	  has been added.
 
 2006-06-25, Version 3.9.4
 	* The Solaris code in the `swap' plugin has been changed to reflect
 	  the numbers returned by `swap -s'. Thanks to Christophe Kalt for
 	  working this out.
@@ -322,13 +327,13 @@
 	* A plugin to collect statistics about virtual servers using VServer.
 	  <http://linux-vserver.org/> Thanks to Sebastian Harl for writing
 	  this plugin :)
 	* A plugin for wireless LAN cards has been added. It monitors signal
 	  strength, link quality and noise ratio..
 	* A plugin for Apple hardware sensors has been added.
-	* An option to compile collectd with different `step' and `hearbeat'
+	* An option to compile collectd with different `step' and `heartbeat'
 	  settings has been added. The size of RRAs is no longer static but
 	  calculated based on the settings for `step' and `width'.
 	* The `ping' plugin can now be configured to use a certain TTL.
 	* A plugin to monitor the hardware sensors of Apple computers has been
 	  added.
 	* The plugins `cpu', `memory', `processes' and `traffic' have been
@@ -347,23 +352,23 @@
 2006-03-14, Version 3.8.2
 	* `utils_mount.c' has been changed to not use the `MNTTAB' defined by
 	  the GNU libc, because it points to `/etc/fstab' rather than
 	  `/etc/mtab'.
 
 2006-03-13, Version 3.8.1
-	* Fixes for building collectd unter FreeBSD, Mac OS X and Solaris.
+	* Fixes for building collectd under FreeBSD, Mac OS X and Solaris.
 	* Fixes in the debian `postinst' and `init.d' scripts.
 
 2006-03-09, Version 3.8.0
 	* The `ping' plugin no longer uses `libping' but a self written
 	  library named `liboping'. With this library it's possible to ping
 	  multiple IPv4 and IPv6 addresses and hostnames - in parallel.
 
 2006-02-18, Version 3.7.2
 	* A simple bug in the `battery' plugin has been fixed. It should now
-	  work with ACPI based batteries as well. Thankt to Sebastian for
+	  work with ACPI based batteries as well. Thanks to Sebastian for
 	  fixing this.
 	* Fixing a bug that prevented collectd to be built without librrd.
 	  Thanks to Werner Heuser for reporting it.
 
 2006-02-04, Version 3.7.1
 	* The new network code has been improved to build with older versions
@@ -398,13 +403,13 @@
 2006-01-17, Version 3.6.0
 	* A config file has been added. This allows for loading only specific
 	  plugins.
 	* A `df' plugin has been added.
 	* A `mysql' plugin has been added.
 	* The `ping' plugin doesn't entirely give up hope when a socket error
-	  occured, but will back of and increase the intervals between tries.
+	  occurred, but will back of and increase the intervals between tries.
 
 2006-01-21, Version 3.5.2
 	* Fixed yet another bug in the signal handling.. Stupid typo..
 	* Improved the ping plugin to not give up on socket errors (backport
 	  from 3.6.0).
 
@@ -434,18 +439,18 @@
 
 2005-11-04, Version 3.3.0 (Revision 216)
 	* New modules have been added:
 	  - `serial', for monitoring traffic on the serial interfaces
 	  - `nfs', for graphing NFS procedure calls
 	  - `tape', traffic from/to tape devices
-	* The the memory.rrd now accepts more than 4Gig of memory.
+	* The memory.rrd now accepts more than 4Gig of memory.
 
 2005-10-26, Version 3.2.0 (Revision 200)
 	* Support for graphing the processes has been added (thanks to Lyonel
 	  Vincent)
-	* If reading from hddtemp failes collectd will increase the time
+	* If reading from hddtemp fails collectd will increase the time
 	  between polls up to one day.
 	* The init.d files have been improved.
 	* Problems with the spec file have been fixed.
 
 2005-10-16, Version 3.1.0 (Revision 194)
 	* Added the `setsid' syscall to the startup code.
@@ -463,55 +468,55 @@
 2005-09-16, Version 2.1.0 (Revision 172)
 	* A module for swap statistics has been added.
 
 2005-09-09, Version 2.0.0 (Revision 135)
 	* Filenames can no longer be configured at program startup. The only
 	  options as of this version are the directory and ping hosts.
-	* CPU statistics now include Wait-IO. If privided under Linux IRQ and
+	* CPU statistics now include Wait-IO. If provided under Linux IRQ and
 	  Soft-IRQ statistics are added to `System'. 
 	* Diskstats now collect read and write bytes, not sectors.
 	* Ping statistics can now be collected for more than one host. There
 	  is no default any more: If no host is given no host will be pinged.
 	* A self-written patch for libping has been applied so it builds
 	  cleanly.
 
 2005-09-01, Version 1.8.1 (Revision 123)
 	* Much improved configure-script: libraries and features may now be
 	  disabled.
-	* More detailed warnings/error messages when RRD update failes.
+	* More detailed warnings/error messages when RRD update fails.
 
 2005-08-29, Version 1.8.0:
 	* Support for collecting disk statistics under Solaris.
 
 2005-08-25, Version 1.7.0:
 	* Support for libstatgrab[1] for load, memory usage and network
 	  traffic. CPU- and disk-usage are not (yet) supported, since
 	  libstatgrab returns insufficient information. I will contact the
 	  authors.
 	* Improved the CPU-initialization code for Solaris. Apparently CPUs
-	  aren't neccessarily counted linear which is now handled correctly.
+	  aren't necessarily counted linear which is now handled correctly.
 	[1]: http://www.i-scream.org/libstatgrab/
 
 2005-08-21, Version 1.6.0:
 	* Basic support for Solaris: System load and cpu-usage can be
-	  collected unter Solaris, too. Other stats will follow later.
+	  collected under Solaris, too. Other stats will follow later.
 	* Many fixes in the autoconf-script
-	* Collection/Museum scripts have been added unter contrib/museum
+	* Collection/Museum scripts have been added under contrib/museum
 	* collectd may now be started in unprivileged mode, though ping
 	  statistics will not work.
 
 2005-07-17, Version 1.5.1:
 	* Diskstats-RRDs now use major/minor for naming. Some systems have
 	  weird strings as disk-names..
 
 2005-07-17, Version 1.5:
 	* A new module, diskstats, has been added. It collects information
 	  about the disks and partitions.
 
 2005-07-11, Version 1.4.2:
-	* The meminfo mofule has been changed to work with more platforms
+	* The meminfo module has been changed to work with more platforms
 	  and/or kernel versions.
 
 2005-07-10, Version 1.4.1: Correct traffic stats
 	* The traffic rrd-file is now created with DS-type `COUNTER' which I
 	  forgot to correct when I changed that module.
 
@@ -525,13 +530,13 @@
 2004-07-12, Version 1.2: Using syslog
 	* collectd is now using the syslog facility to report errors, warnings
 	  and the like..
 	* The default directory is now /var/db/collectd
 
 2004-07-10, Version 1.1: Minor changes
-	* Nothing really usefull to say ;)
+	* Nothing really useful to say ;)
 
 2004-07-09, Version 1.0: Initial Version
 	* The following modules are provided:
 	  * Load average
 	  * Ping time
 	  * Traffic
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/configure	2008-01-21 17:55:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/configure	2007-10-27 17:15:48.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.61 for collectd 4.1.6.
+# Generated by GNU Autoconf 2.61 for collectd 4.2.0.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -723,14 +723,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='4.1.6'
-PACKAGE_STRING='collectd 4.1.6'
+PACKAGE_VERSION='4.2.0'
+PACKAGE_STRING='collectd 4.2.0'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -902,12 +902,14 @@
 BUILD_WITH_LIBSTATGRAB_TRUE
 BUILD_WITH_LIBSTATGRAB_FALSE
 BUILD_WITH_LIBDEVSTAT_TRUE
 BUILD_WITH_LIBDEVSTAT_FALSE
 BUILD_WITH_LIBKVM_TRUE
 BUILD_WITH_LIBKVM_FALSE
+BUILD_WITH_LIBSENSORS_CFLAGS
+BUILD_WITH_LIBSENSORS_LDFLAGS
 BUILD_WITH_LM_SENSORS_TRUE
 BUILD_WITH_LM_SENSORS_FALSE
 BUILD_WITH_LIBMYSQL_CFLAGS
 BUILD_WITH_LIBMYSQL_LIBS
 BUILD_WITH_LIBMYSQL_TRUE
 BUILD_WITH_LIBMYSQL_FALSE
@@ -916,12 +918,13 @@
 BUILD_WITH_LIBOPING_TRUE
 BUILD_WITH_LIBOPING_FALSE
 BUILD_WITH_OWN_LIBOPING_TRUE
 BUILD_WITH_OWN_LIBOPING_FALSE
 BUILD_WITH_LIBPCAP_TRUE
 BUILD_WITH_LIBPCAP_FALSE
+PERL
 PERL_CFLAGS
 PERL_LDFLAGS
 BUILD_WITH_LIBPERL_TRUE
 BUILD_WITH_LIBPERL_FALSE
 BUILD_WITH_LIBIPTC_TRUE
 BUILD_WITH_LIBIPTC_FALSE
@@ -976,32 +979,38 @@
 BUILD_PLUGIN_HDDTEMP_TRUE
 BUILD_PLUGIN_HDDTEMP_FALSE
 BUILD_PLUGIN_INTERFACE_TRUE
 BUILD_PLUGIN_INTERFACE_FALSE
 BUILD_PLUGIN_IPTABLES_TRUE
 BUILD_PLUGIN_IPTABLES_FALSE
+BUILD_PLUGIN_IPVS_TRUE
+BUILD_PLUGIN_IPVS_FALSE
 BUILD_PLUGIN_IRQ_TRUE
 BUILD_PLUGIN_IRQ_FALSE
 BUILD_PLUGIN_LOAD_TRUE
 BUILD_PLUGIN_LOAD_FALSE
 BUILD_PLUGIN_LOGFILE_TRUE
 BUILD_PLUGIN_LOGFILE_FALSE
 BUILD_PLUGIN_MBMON_TRUE
 BUILD_PLUGIN_MBMON_FALSE
+BUILD_PLUGIN_MEMCACHED_TRUE
+BUILD_PLUGIN_MEMCACHED_FALSE
 BUILD_PLUGIN_MEMORY_TRUE
 BUILD_PLUGIN_MEMORY_FALSE
 BUILD_PLUGIN_MULTIMETER_TRUE
 BUILD_PLUGIN_MULTIMETER_FALSE
 BUILD_PLUGIN_MYSQL_TRUE
 BUILD_PLUGIN_MYSQL_FALSE
 BUILD_PLUGIN_NETLINK_TRUE
 BUILD_PLUGIN_NETLINK_FALSE
 BUILD_PLUGIN_NETWORK_TRUE
 BUILD_PLUGIN_NETWORK_FALSE
 BUILD_PLUGIN_NFS_TRUE
 BUILD_PLUGIN_NFS_FALSE
+BUILD_PLUGIN_NGINX_TRUE
+BUILD_PLUGIN_NGINX_FALSE
 BUILD_PLUGIN_NTPD_TRUE
 BUILD_PLUGIN_NTPD_FALSE
 BUILD_PLUGIN_NUT_TRUE
 BUILD_PLUGIN_NUT_FALSE
 BUILD_PLUGIN_PERL_TRUE
 BUILD_PLUGIN_PERL_FALSE
@@ -1020,22 +1029,26 @@
 BUILD_PLUGIN_SWAP_TRUE
 BUILD_PLUGIN_SWAP_FALSE
 BUILD_PLUGIN_SYSLOG_TRUE
 BUILD_PLUGIN_SYSLOG_FALSE
 BUILD_PLUGIN_TAPE_TRUE
 BUILD_PLUGIN_TAPE_FALSE
+BUILD_PLUGIN_TCPCONNS_TRUE
+BUILD_PLUGIN_TCPCONNS_FALSE
 BUILD_PLUGIN_UNIXSOCK_TRUE
 BUILD_PLUGIN_UNIXSOCK_FALSE
 BUILD_PLUGIN_USERS_TRUE
 BUILD_PLUGIN_USERS_FALSE
 BUILD_PLUGIN_VSERVER_TRUE
 BUILD_PLUGIN_VSERVER_FALSE
 BUILD_PLUGIN_WIRELESS_TRUE
 BUILD_PLUGIN_WIRELESS_FALSE
 BUILD_PLUGIN_XMMS_TRUE
 BUILD_PLUGIN_XMMS_FALSE
+PERL_BINDINGS
+PERL_BINDINGS_OPTIONS
 LIBOBJS
 LTLIBOBJS'
 ac_subst_files=''
       ac_precious_vars='build_alias
 host_alias
 target_alias
@@ -1552,13 +1565,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 4.1.6 to adapt to many kinds of systems.
+\`configure' configures collectd 4.2.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1622,13 +1635,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 4.1.6:";;
+     short | recursive ) echo "Configuration of collectd 4.2.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1660,34 +1673,38 @@
   --enable-email          EMail statistics
   --enable-entropy        Entropy statistics
   --enable-exec           Execution of external programs
   --enable-hddtemp        Query hddtempd
   --enable-interface      Interface traffic statistics
   --enable-iptables       IPTables rule counters
+  --enable-ipvs           IPVS connection statistics
   --enable-irq            IRQ statistics
   --enable-load           System load
   --enable-logfile        File logging plugin
   --enable-mbmon          Query mbmond
+  --enable-memcached      memcached statistics
   --enable-memory         Memory usage
   --enable-multimeter     Read multimeter values
   --enable-mysql          MySQL statistics
   --enable-netlink        Enhanced Linux network statistics
   --enable-network        Network communication plugin
   --enable-nfs            NFS statistics
+  --enable-nginx          nginx statistics
   --enable-ntpd           NTPd statistics
   --enable-nut            Network UPS tools statistics
   --enable-perl           Embed a Perl interpreter
   --enable-ping           Network latency statistics
   --enable-processes      Process statistics
   --enable-rrdtool        RRDTool output plugin
   --enable-sensors        lm_sensors statistics
   --enable-serial         serial port traffic
   --enable-snmp           SNMP querying plugin
   --enable-swap           Swap usage statistics
   --enable-syslog         Syslog logging plugin
   --enable-tape           Tape drive statistics
+  --enable-tcpconns       TCP connection statistics
   --enable-unixsock       Unixsock communication plugin
   --enable-users          User statistics
   --enable-vserver        Linux VServer statistics
   --enable-wireless       Wireless statistics
   --enable-xmms           XMMS statistics
 
@@ -1722,12 +1739,14 @@
                           Path to the Net-SNMPD library.
   --with-libupsclient[=PREFIX]
                           Path to libupsclient.
   --with-libxmms[=PREFIX] Path to libxmms.
   --with-libnetlink[=PREFIX]
                           Path to libnetlink.
+  --with-perl-bindings[=OPTIONS]
+                          Options passed to "perl Makefile.PL".
 
 Some influential environment variables:
   CC          C compiler command
   CFLAGS      C compiler flags
   LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
               nonstandard directory <lib dir>
@@ -1806,13 +1825,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 4.1.6
+collectd configure 4.2.0
 generated by GNU Autoconf 2.61
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1820,13 +1839,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 4.1.6, which was
+It was created by collectd $as_me 4.2.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2493,13 +2512,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='4.1.6'
+ VERSION='4.2.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -6056,13 +6075,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 6062 "configure"' > conftest.$ac_ext
+  echo '#line 6081 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -8564,17 +8583,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8570: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8589: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8574: \$? = $ac_status" >&5
+   echo "$as_me:8593: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8854,17 +8873,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8860: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8879: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8864: \$? = $ac_status" >&5
+   echo "$as_me:8883: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8958,17 +8977,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8964: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8983: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:8968: \$? = $ac_status" >&5
+   echo "$as_me:8987: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -11320,13 +11339,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11326 "configure"
+#line 11345 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11420,13 +11439,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11426 "configure"
+#line 11445 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -13840,17 +13859,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13846: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13865: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13850: \$? = $ac_status" >&5
+   echo "$as_me:13869: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -13944,17 +13963,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13950: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13969: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13954: \$? = $ac_status" >&5
+   echo "$as_me:13973: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -15521,17 +15540,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15527: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15546: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:15531: \$? = $ac_status" >&5
+   echo "$as_me:15550: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -15625,17 +15644,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15631: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15650: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:15635: \$? = $ac_status" >&5
+   echo "$as_me:15654: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -17825,17 +17844,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17831: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17850: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:17835: \$? = $ac_status" >&5
+   echo "$as_me:17854: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18115,17 +18134,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18121: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18140: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18125: \$? = $ac_status" >&5
+   echo "$as_me:18144: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18219,17 +18238,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18225: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18244: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18229: \$? = $ac_status" >&5
+   echo "$as_me:18248: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -23721,12 +23740,299 @@
 
 fi
 
 done
 
 
+# For ipvs module
+have_net_ip_vs_h="no"
+have_ip_vs_h="no"
+if test "x$ac_system" = "xLinux"
+then
+
+for ac_header in net/ip_vs.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null && {
+	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       }; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+ have_net_ip_vs_h="yes"
+fi
+
+done
+
+
+for ac_header in ip_vs.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+else
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null && {
+	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       }; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+ have_ip_vs_h="yes"
+fi
+
+done
+
+fi
+
 # For quota module
 
 for ac_header in sys/ucred.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_header" >&5
@@ -24764,87 +25070,12 @@
 fi
 
 done
 
 
 #
-# Checking for libraries
-#
-
-{ echo "$as_me:$LINENO: checking for ext in -lm" >&5
-echo $ECHO_N "checking for ext in -lm... $ECHO_C" >&6; }
-if test "${ac_cv_lib_m_ext+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lm  $LIBS"
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char ext ();
-int
-main ()
-{
-return ext ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_m_ext=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_lib_m_ext=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_m_ext" >&5
-echo "${ECHO_T}$ac_cv_lib_m_ext" >&6; }
-if test $ac_cv_lib_m_ext = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_LIBM 1
-_ACEOF
-
-  LIBS="-lm $LIBS"
-
-fi
-
-
-#
 # Checks for typedefs, structures, and compiler characteristics.
 #
 { echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
 echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6; }
 if test "${ac_cv_c_const+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -31849,21 +32080,29 @@
 else
   BUILD_WITH_LIBKVM_TRUE='#'
   BUILD_WITH_LIBKVM_FALSE=
 fi
 
 
+with_sensors_cflags=""
+with_sensors_ldflags=""
 
 # Check whether --with-lm-sensors was given.
 if test "${with_lm_sensors+set}" = set; then
   withval=$with_lm_sensors;
-	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	if test "x$withval" = "xno"
 	then
-		LDFLAGS="$LDFLAGS -L$withval/lib"
-		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_lm_sensors="no"
+	else
 		with_lm_sensors="yes"
+		if test "x$withval" != "xyes"
+		then
+			with_sensors_cflags="-I$withval/include"
+			with_sensors_ldflags="-L$withval/lib"
+			with_lm_sensors="yes"
+		fi
 	fi
 
 else
 
 	if test "x$ac_system" = "xLinux"
 	then
@@ -31873,88 +32112,20 @@
 	fi
 
 fi
 
 if test "x$with_lm_sensors" = "xyes"
 then
-	{ echo "$as_me:$LINENO: checking for sensors_init in -lsensors" >&5
-echo $ECHO_N "checking for sensors_init in -lsensors... $ECHO_C" >&6; }
-if test "${ac_cv_lib_sensors_sensors_init+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lsensors  $LIBS"
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char sensors_init ();
-int
-main ()
-{
-return sensors_init ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_sensors_sensors_init=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_lib_sensors_sensors_init=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_sensors_sensors_init" >&5
-echo "${ECHO_T}$ac_cv_lib_sensors_sensors_init" >&6; }
-if test $ac_cv_lib_sensors_sensors_init = yes; then
-
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSENSORS 1
-_ACEOF
-
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_sensors_cflags"
 
-else
-  with_lm_sensors="no (libsensors not found)"
-fi
-
-fi
-if test "x$with_lm_sensors" = "xyes"
-then
+#	AC_CHECK_HEADERS(sensors/sensors.h,
+#	[
+#		AC_DEFINE(HAVE_SENSORS_SENSORS_H, 1, [Define to 1 if you have the <sensors/sensors.h> header file.])
+#	],
+#	[with_lm_sensors="no (sensors/sensors.h not found)"])
 
 for ac_header in sensors/sensors.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
@@ -32085,37 +32256,113 @@
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_SENSORS_SENSORS_H 1
-_ACEOF
-
-
 else
   with_lm_sensors="no (sensors/sensors.h not found)"
 fi
 
 done
 
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_lm_sensors" = "xyes"
 then
-	collect_lm_sensors=1
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_sensors_cflags"
+	LDFLAGS="$LDFLAGS $with_sensors_ldflags"
+
+	{ echo "$as_me:$LINENO: checking for sensors_init in -lsensors" >&5
+echo $ECHO_N "checking for sensors_init in -lsensors... $ECHO_C" >&6; }
+if test "${ac_cv_lib_sensors_sensors_init+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-	collect_lm_sensors=0
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lsensors  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char sensors_init ();
+int
+main ()
+{
+return sensors_init ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_sensors_sensors_init=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_sensors_sensors_init=no
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_LM_SENSORS $collect_lm_sensors
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_sensors_sensors_init" >&5
+echo "${ECHO_T}$ac_cv_lib_sensors_sensors_init" >&6; }
+if test $ac_cv_lib_sensors_sensors_init = yes; then
+
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBSENSORS 1
 _ACEOF
 
 
+else
+  with_lm_sensors="no (libsensors not found)"
+fi
+
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
+fi
+if test "x$with_lm_sensors" = "xyes"
+then
+	BUILD_WITH_LIBSENSORS_CFLAGS="$with_sensors_cflags"
+	BUILD_WITH_LIBSENSORS_LDFLAGS="$with_sensors_ldflags"
+
+
+fi
+
 
 if test "x$with_lm_sensors" = "xyes"; then
   BUILD_WITH_LM_SENSORS_TRUE=
   BUILD_WITH_LM_SENSORS_FALSE='#'
 else
   BUILD_WITH_LM_SENSORS_TRUE='#'
@@ -32952,12 +33199,16 @@
 else
 
 	with_libperl="yes"
 
 fi
 
+
+PERL="$perl_interpreter"
+
+
 if test "x$with_libperl" = "xyes"
 then
   SAVE_CFLAGS=$CFLAGS
   SAVE_LDFLAGS=$LDFLAGS
   PERL_CFLAGS=`$perl_interpreter -MExtUtils::Embed -e ccopts`
   PERL_LDFLAGS=`$perl_interpreter -MExtUtils::Embed -e ldopts`
@@ -34658,21 +34909,23 @@
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_df="no"
 plugin_disk="no"
 plugin_entropy="no"
 plugin_interface="no"
+plugin_ipvs="no"
 plugin_irq="no"
 plugin_load="no"
 plugin_memory="no"
 plugin_multimeter="no"
 plugin_nfs="no"
 plugin_processes="no"
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
+plugin_tcpconns="no"
 plugin_users="no"
 plugin_vserver="no"
 plugin_wireless="no"
 
 # Linux
 if test "x$ac_system" = "xLinux"
@@ -34687,14 +34940,20 @@
 	plugin_load="yes"
 	plugin_memory="yes"
 	plugin_nfs="yes"
 	plugin_processes="yes"
 	plugin_serial="yes"
 	plugin_swap="yes"
+	plugin_tcpconns="yes"
 	plugin_vserver="yes"
 	plugin_wireless="yes"
+
+	if test "x$have_net_ip_vs_h" = "xyes" -o "x$have_ip_vs_h" = "xyes"
+	then
+		plugin_ipvs="yes"
+	fi
 fi
 
 # Mac OS X devices
 if test "x$with_libiokit" = "xyes"
 then
 	plugin_battery="yes"
@@ -34726,12 +34985,13 @@
 	plugin_cpu="yes"
 fi
 if test "x$have_sysctlbyname" = "xyes"
 then
 	plugin_cpu="yes"
 	plugin_memory="yes"
+	plugin_tcpconns="yes"
 fi
 
 if test "x$have_statfs" = "xyes"
 then
 	plugin_df="yes"
 fi
@@ -35487,12 +35747,56 @@
 
     enable_iptables="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-ipvs was given.
+if test "${enable_ipvs+set}" = set; then
+  enableval=$enable_ipvs;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$plugin_ipvs" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_IPVS 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_IPVS_TRUE=
+  BUILD_PLUGIN_IPVS_FALSE='#'
+else
+  BUILD_PLUGIN_IPVS_TRUE='#'
+  BUILD_PLUGIN_IPVS_FALSE=
+fi
+
+    enable_ipvs="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-irq was given.
 if test "${enable_irq+set}" = set; then
   enableval=$enable_irq;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -35663,12 +35967,56 @@
 
     enable_mbmon="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-memcached was given.
+if test "${enable_memcached+set}" = set; then
+  enableval=$enable_memcached;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_MEMCACHED 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_MEMCACHED_TRUE=
+  BUILD_PLUGIN_MEMCACHED_FALSE='#'
+else
+  BUILD_PLUGIN_MEMCACHED_TRUE='#'
+  BUILD_PLUGIN_MEMCACHED_FALSE=
+fi
+
+    enable_memcached="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-memory was given.
 if test "${enable_memory+set}" = set; then
   enableval=$enable_memory;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -35927,12 +36275,56 @@
 
     enable_nfs="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-nginx was given.
+if test "${enable_nginx+set}" = set; then
+  enableval=$enable_nginx;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$with_libcurl" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_NGINX 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_NGINX_TRUE=
+  BUILD_PLUGIN_NGINX_FALSE='#'
+else
+  BUILD_PLUGIN_NGINX_TRUE='#'
+  BUILD_PLUGIN_NGINX_FALSE=
+fi
+
+    enable_nginx="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-ntpd was given.
 if test "${enable_ntpd+set}" = set; then
   enableval=$enable_ntpd;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -36455,12 +36847,56 @@
 
     enable_tape="$enable_plugin"
 
 
 
     enable_plugin="no"
+    # Check whether --enable-tcpconns was given.
+if test "${enable_tcpconns+set}" = set; then
+  enableval=$enable_tcpconns;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$plugin_tcpconns" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_TCPCONNS 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_TCPCONNS_TRUE=
+  BUILD_PLUGIN_TCPCONNS_FALSE='#'
+else
+  BUILD_PLUGIN_TCPCONNS_TRUE='#'
+  BUILD_PLUGIN_TCPCONNS_FALSE=
+fi
+
+    enable_tcpconns="$enable_plugin"
+
+
+
+    enable_plugin="no"
     # Check whether --enable-unixsock was given.
 if test "${enable_unixsock+set}" = set; then
   enableval=$enable_unixsock;
      if test "x$enableval" = "xyes"
      then
 	     enable_plugin="yes"
@@ -36674,13 +37110,44 @@
 fi
 
     enable_xmms="$enable_plugin"
 
 
 
-ac_config_files="$ac_config_files Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile"
+if test "x$ac_system" = "xLinux" -a "x$have_net_ip_vs_h$have_ip_vs_h" = "xnono"
+then
+	enable_ipvs="$enable_ipvs (ip_vs.h not found)"
+fi
+
+
+# Check whether --with-perl-bindings was given.
+if test "${with_perl_bindings+set}" = set; then
+  withval=$with_perl_bindings;
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		PERL_BINDINGS_OPTIONS="$withval"
+		with_perl_bindings="yes"
+	fi
+
+else
+
+	PERL_BINDINGS_OPTIONS=""
+	with_perl_bindings="yes"
+
+fi
+
+if test "x$with_perl_bindings" = "xyes"
+then
+	PERL_BINDINGS="perl"
+else
+	PERL_BINDINGS=""
+fi
+
+
+
+ac_config_files="$ac_config_files Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile"
 
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
 # scripts and configure runs, see configure's option --config-cache.
 # It is not useful on other systems.  If it contains results you don't
@@ -37101,12 +37568,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_IPVS_TRUE}" && test -z "${BUILD_PLUGIN_IPVS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IPVS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_IPVS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_IRQ_TRUE}" && test -z "${BUILD_PLUGIN_IRQ_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IRQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_IRQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -37129,12 +37603,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MBMON\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_MBMON\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_MEMCACHED_TRUE}" && test -z "${BUILD_PLUGIN_MEMCACHED_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MEMCACHED\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_MEMCACHED\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_MEMORY_TRUE}" && test -z "${BUILD_PLUGIN_MEMORY_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -37171,12 +37652,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NFS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_NFS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_NGINX_TRUE}" && test -z "${BUILD_PLUGIN_NGINX_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NGINX\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_NGINX\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_NTPD_TRUE}" && test -z "${BUILD_PLUGIN_NTPD_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NTPD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_NTPD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -37255,12 +37743,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TAPE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_TAPE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_PLUGIN_TCPCONNS_TRUE}" && test -z "${BUILD_PLUGIN_TCPCONNS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TCPCONNS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_TCPCONNS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_PLUGIN_UNIXSOCK_TRUE}" && test -z "${BUILD_PLUGIN_UNIXSOCK_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -37590,13 +38085,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 4.1.6, which was
+This file was extended by collectd $as_me 4.2.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -37643,13 +38138,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 4.1.6
+collectd config.status 4.2.0
 configured by $0, generated by GNU Autoconf 2.61,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -37763,12 +38258,13 @@
     "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
     "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
     "src/Makefile") CONFIG_FILES="$CONFIG_FILES src/Makefile" ;;
     "src/collectd.conf") CONFIG_FILES="$CONFIG_FILES src/collectd.conf" ;;
     "src/liboconfig/Makefile") CONFIG_FILES="$CONFIG_FILES src/liboconfig/Makefile" ;;
     "src/liboping/Makefile") CONFIG_FILES="$CONFIG_FILES src/liboping/Makefile" ;;
+    "bindings/Makefile") CONFIG_FILES="$CONFIG_FILES bindings/Makefile" ;;
 
   *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
 echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
    { (exit 1); exit 1; }; };;
   esac
 done
@@ -38003,12 +38499,14 @@
 BUILD_WITH_LIBSTATGRAB_TRUE!$BUILD_WITH_LIBSTATGRAB_TRUE$ac_delim
 BUILD_WITH_LIBSTATGRAB_FALSE!$BUILD_WITH_LIBSTATGRAB_FALSE$ac_delim
 BUILD_WITH_LIBDEVSTAT_TRUE!$BUILD_WITH_LIBDEVSTAT_TRUE$ac_delim
 BUILD_WITH_LIBDEVSTAT_FALSE!$BUILD_WITH_LIBDEVSTAT_FALSE$ac_delim
 BUILD_WITH_LIBKVM_TRUE!$BUILD_WITH_LIBKVM_TRUE$ac_delim
 BUILD_WITH_LIBKVM_FALSE!$BUILD_WITH_LIBKVM_FALSE$ac_delim
+BUILD_WITH_LIBSENSORS_CFLAGS!$BUILD_WITH_LIBSENSORS_CFLAGS$ac_delim
+BUILD_WITH_LIBSENSORS_LDFLAGS!$BUILD_WITH_LIBSENSORS_LDFLAGS$ac_delim
 BUILD_WITH_LM_SENSORS_TRUE!$BUILD_WITH_LM_SENSORS_TRUE$ac_delim
 BUILD_WITH_LM_SENSORS_FALSE!$BUILD_WITH_LM_SENSORS_FALSE$ac_delim
 BUILD_WITH_LIBMYSQL_CFLAGS!$BUILD_WITH_LIBMYSQL_CFLAGS$ac_delim
 BUILD_WITH_LIBMYSQL_LIBS!$BUILD_WITH_LIBMYSQL_LIBS$ac_delim
 BUILD_WITH_LIBMYSQL_TRUE!$BUILD_WITH_LIBMYSQL_TRUE$ac_delim
 BUILD_WITH_LIBMYSQL_FALSE!$BUILD_WITH_LIBMYSQL_FALSE$ac_delim
@@ -38017,12 +38515,13 @@
 BUILD_WITH_LIBOPING_TRUE!$BUILD_WITH_LIBOPING_TRUE$ac_delim
 BUILD_WITH_LIBOPING_FALSE!$BUILD_WITH_LIBOPING_FALSE$ac_delim
 BUILD_WITH_OWN_LIBOPING_TRUE!$BUILD_WITH_OWN_LIBOPING_TRUE$ac_delim
 BUILD_WITH_OWN_LIBOPING_FALSE!$BUILD_WITH_OWN_LIBOPING_FALSE$ac_delim
 BUILD_WITH_LIBPCAP_TRUE!$BUILD_WITH_LIBPCAP_TRUE$ac_delim
 BUILD_WITH_LIBPCAP_FALSE!$BUILD_WITH_LIBPCAP_FALSE$ac_delim
+PERL!$PERL$ac_delim
 PERL_CFLAGS!$PERL_CFLAGS$ac_delim
 PERL_LDFLAGS!$PERL_LDFLAGS$ac_delim
 BUILD_WITH_LIBPERL_TRUE!$BUILD_WITH_LIBPERL_TRUE$ac_delim
 BUILD_WITH_LIBPERL_FALSE!$BUILD_WITH_LIBPERL_FALSE$ac_delim
 BUILD_WITH_LIBIPTC_TRUE!$BUILD_WITH_LIBIPTC_TRUE$ac_delim
 BUILD_WITH_LIBIPTC_FALSE!$BUILD_WITH_LIBIPTC_FALSE$ac_delim
@@ -38057,15 +38556,12 @@
 BUILD_PLUGIN_BATTERY_TRUE!$BUILD_PLUGIN_BATTERY_TRUE$ac_delim
 BUILD_PLUGIN_BATTERY_FALSE!$BUILD_PLUGIN_BATTERY_FALSE$ac_delim
 BUILD_PLUGIN_CPU_TRUE!$BUILD_PLUGIN_CPU_TRUE$ac_delim
 BUILD_PLUGIN_CPU_FALSE!$BUILD_PLUGIN_CPU_FALSE$ac_delim
 BUILD_PLUGIN_CPUFREQ_TRUE!$BUILD_PLUGIN_CPUFREQ_TRUE$ac_delim
 BUILD_PLUGIN_CPUFREQ_FALSE!$BUILD_PLUGIN_CPUFREQ_FALSE$ac_delim
-BUILD_PLUGIN_CSV_TRUE!$BUILD_PLUGIN_CSV_TRUE$ac_delim
-BUILD_PLUGIN_CSV_FALSE!$BUILD_PLUGIN_CSV_FALSE$ac_delim
-BUILD_PLUGIN_DF_TRUE!$BUILD_PLUGIN_DF_TRUE$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -38101,12 +38597,15 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
+BUILD_PLUGIN_CSV_TRUE!$BUILD_PLUGIN_CSV_TRUE$ac_delim
+BUILD_PLUGIN_CSV_FALSE!$BUILD_PLUGIN_CSV_FALSE$ac_delim
+BUILD_PLUGIN_DF_TRUE!$BUILD_PLUGIN_DF_TRUE$ac_delim
 BUILD_PLUGIN_DF_FALSE!$BUILD_PLUGIN_DF_FALSE$ac_delim
 BUILD_PLUGIN_DISK_TRUE!$BUILD_PLUGIN_DISK_TRUE$ac_delim
 BUILD_PLUGIN_DISK_FALSE!$BUILD_PLUGIN_DISK_FALSE$ac_delim
 BUILD_PLUGIN_DNS_TRUE!$BUILD_PLUGIN_DNS_TRUE$ac_delim
 BUILD_PLUGIN_DNS_FALSE!$BUILD_PLUGIN_DNS_FALSE$ac_delim
 BUILD_PLUGIN_EMAIL_TRUE!$BUILD_PLUGIN_EMAIL_TRUE$ac_delim
@@ -38118,32 +38617,38 @@
 BUILD_PLUGIN_HDDTEMP_TRUE!$BUILD_PLUGIN_HDDTEMP_TRUE$ac_delim
 BUILD_PLUGIN_HDDTEMP_FALSE!$BUILD_PLUGIN_HDDTEMP_FALSE$ac_delim
 BUILD_PLUGIN_INTERFACE_TRUE!$BUILD_PLUGIN_INTERFACE_TRUE$ac_delim
 BUILD_PLUGIN_INTERFACE_FALSE!$BUILD_PLUGIN_INTERFACE_FALSE$ac_delim
 BUILD_PLUGIN_IPTABLES_TRUE!$BUILD_PLUGIN_IPTABLES_TRUE$ac_delim
 BUILD_PLUGIN_IPTABLES_FALSE!$BUILD_PLUGIN_IPTABLES_FALSE$ac_delim
+BUILD_PLUGIN_IPVS_TRUE!$BUILD_PLUGIN_IPVS_TRUE$ac_delim
+BUILD_PLUGIN_IPVS_FALSE!$BUILD_PLUGIN_IPVS_FALSE$ac_delim
 BUILD_PLUGIN_IRQ_TRUE!$BUILD_PLUGIN_IRQ_TRUE$ac_delim
 BUILD_PLUGIN_IRQ_FALSE!$BUILD_PLUGIN_IRQ_FALSE$ac_delim
 BUILD_PLUGIN_LOAD_TRUE!$BUILD_PLUGIN_LOAD_TRUE$ac_delim
 BUILD_PLUGIN_LOAD_FALSE!$BUILD_PLUGIN_LOAD_FALSE$ac_delim
 BUILD_PLUGIN_LOGFILE_TRUE!$BUILD_PLUGIN_LOGFILE_TRUE$ac_delim
 BUILD_PLUGIN_LOGFILE_FALSE!$BUILD_PLUGIN_LOGFILE_FALSE$ac_delim
 BUILD_PLUGIN_MBMON_TRUE!$BUILD_PLUGIN_MBMON_TRUE$ac_delim
 BUILD_PLUGIN_MBMON_FALSE!$BUILD_PLUGIN_MBMON_FALSE$ac_delim
+BUILD_PLUGIN_MEMCACHED_TRUE!$BUILD_PLUGIN_MEMCACHED_TRUE$ac_delim
+BUILD_PLUGIN_MEMCACHED_FALSE!$BUILD_PLUGIN_MEMCACHED_FALSE$ac_delim
 BUILD_PLUGIN_MEMORY_TRUE!$BUILD_PLUGIN_MEMORY_TRUE$ac_delim
 BUILD_PLUGIN_MEMORY_FALSE!$BUILD_PLUGIN_MEMORY_FALSE$ac_delim
 BUILD_PLUGIN_MULTIMETER_TRUE!$BUILD_PLUGIN_MULTIMETER_TRUE$ac_delim
 BUILD_PLUGIN_MULTIMETER_FALSE!$BUILD_PLUGIN_MULTIMETER_FALSE$ac_delim
 BUILD_PLUGIN_MYSQL_TRUE!$BUILD_PLUGIN_MYSQL_TRUE$ac_delim
 BUILD_PLUGIN_MYSQL_FALSE!$BUILD_PLUGIN_MYSQL_FALSE$ac_delim
 BUILD_PLUGIN_NETLINK_TRUE!$BUILD_PLUGIN_NETLINK_TRUE$ac_delim
 BUILD_PLUGIN_NETLINK_FALSE!$BUILD_PLUGIN_NETLINK_FALSE$ac_delim
 BUILD_PLUGIN_NETWORK_TRUE!$BUILD_PLUGIN_NETWORK_TRUE$ac_delim
 BUILD_PLUGIN_NETWORK_FALSE!$BUILD_PLUGIN_NETWORK_FALSE$ac_delim
 BUILD_PLUGIN_NFS_TRUE!$BUILD_PLUGIN_NFS_TRUE$ac_delim
 BUILD_PLUGIN_NFS_FALSE!$BUILD_PLUGIN_NFS_FALSE$ac_delim
+BUILD_PLUGIN_NGINX_TRUE!$BUILD_PLUGIN_NGINX_TRUE$ac_delim
+BUILD_PLUGIN_NGINX_FALSE!$BUILD_PLUGIN_NGINX_FALSE$ac_delim
 BUILD_PLUGIN_NTPD_TRUE!$BUILD_PLUGIN_NTPD_TRUE$ac_delim
 BUILD_PLUGIN_NTPD_FALSE!$BUILD_PLUGIN_NTPD_FALSE$ac_delim
 BUILD_PLUGIN_NUT_TRUE!$BUILD_PLUGIN_NUT_TRUE$ac_delim
 BUILD_PLUGIN_NUT_FALSE!$BUILD_PLUGIN_NUT_FALSE$ac_delim
 BUILD_PLUGIN_PERL_TRUE!$BUILD_PLUGIN_PERL_TRUE$ac_delim
 BUILD_PLUGIN_PERL_FALSE!$BUILD_PLUGIN_PERL_FALSE$ac_delim
@@ -38162,27 +38667,31 @@
 BUILD_PLUGIN_SWAP_TRUE!$BUILD_PLUGIN_SWAP_TRUE$ac_delim
 BUILD_PLUGIN_SWAP_FALSE!$BUILD_PLUGIN_SWAP_FALSE$ac_delim
 BUILD_PLUGIN_SYSLOG_TRUE!$BUILD_PLUGIN_SYSLOG_TRUE$ac_delim
 BUILD_PLUGIN_SYSLOG_FALSE!$BUILD_PLUGIN_SYSLOG_FALSE$ac_delim
 BUILD_PLUGIN_TAPE_TRUE!$BUILD_PLUGIN_TAPE_TRUE$ac_delim
 BUILD_PLUGIN_TAPE_FALSE!$BUILD_PLUGIN_TAPE_FALSE$ac_delim
+BUILD_PLUGIN_TCPCONNS_TRUE!$BUILD_PLUGIN_TCPCONNS_TRUE$ac_delim
+BUILD_PLUGIN_TCPCONNS_FALSE!$BUILD_PLUGIN_TCPCONNS_FALSE$ac_delim
 BUILD_PLUGIN_UNIXSOCK_TRUE!$BUILD_PLUGIN_UNIXSOCK_TRUE$ac_delim
 BUILD_PLUGIN_UNIXSOCK_FALSE!$BUILD_PLUGIN_UNIXSOCK_FALSE$ac_delim
 BUILD_PLUGIN_USERS_TRUE!$BUILD_PLUGIN_USERS_TRUE$ac_delim
 BUILD_PLUGIN_USERS_FALSE!$BUILD_PLUGIN_USERS_FALSE$ac_delim
 BUILD_PLUGIN_VSERVER_TRUE!$BUILD_PLUGIN_VSERVER_TRUE$ac_delim
 BUILD_PLUGIN_VSERVER_FALSE!$BUILD_PLUGIN_VSERVER_FALSE$ac_delim
 BUILD_PLUGIN_WIRELESS_TRUE!$BUILD_PLUGIN_WIRELESS_TRUE$ac_delim
 BUILD_PLUGIN_WIRELESS_FALSE!$BUILD_PLUGIN_WIRELESS_FALSE$ac_delim
 BUILD_PLUGIN_XMMS_TRUE!$BUILD_PLUGIN_XMMS_TRUE$ac_delim
 BUILD_PLUGIN_XMMS_FALSE!$BUILD_PLUGIN_XMMS_FALSE$ac_delim
+PERL_BINDINGS!$PERL_BINDINGS$ac_delim
+PERL_BINDINGS_OPTIONS!$PERL_BINDINGS_OPTIONS$ac_delim
 LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 73; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 86; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
@@ -38955,17 +39464,22 @@
 then
 	with_liboping="yes (shipped version)"
 fi
 
 if test "x$with_libperl" = "xyes"
 then
-	with_libperl="yes (version `perl -MConfig -e 'print $Config{version};'`)"
+	with_libperl="yes (version `$perl_interpreter -MConfig -e 'print $Config{version};'`)"
 else
 	enable_perl="no (needs libperl)"
 fi
 
+if test "x$with_perl_bindings" = "xyes" -a "x$PERL_BINDINGS_OPTIONS" != "x"
+then
+	with_perl_bindings="yes ($PERL_BINDINGS_OPTIONS)"
+fi
+
 cat <<EOF;
 
 Configuration:
   Libraries:
     libcurl . . . . . . $with_libcurl
     libiokit  . . . . . $with_libiokit
@@ -38987,12 +39501,15 @@
     libxmms . . . . . . $with_libxmms
 
   Features:
     daemon mode . . . . $enable_daemon
     debug . . . . . . . $enable_debug
 
+  Bindings:
+    perl  . . . . . . . $with_perl_bindings
+
   Modules:
     apache  . . . . . . $enable_apache
     apcups  . . . . . . $enable_apcups
     apple_sensors . . . $enable_apple_sensors
     battery . . . . . . $enable_battery
     cpu . . . . . . . . $enable_cpu
@@ -39004,34 +39521,38 @@
     email . . . . . . . $enable_email
     entropy . . . . . . $enable_entropy
     exec  . . . . . . . $enable_exec
     hddtemp . . . . . . $enable_hddtemp
     interface . . . . . $enable_interface
     iptables  . . . . . $enable_iptables
+    ipvs  . . . . . . . $enable_ipvs
     irq . . . . . . . . $enable_irq
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
+    memcached . . . . . $enable_memcached
     memory  . . . . . . $enable_memory
     multimeter  . . . . $enable_multimeter
     mysql . . . . . . . $enable_mysql
     netlink . . . . . . $enable_netlink
     network . . . . . . $enable_network
     nfs . . . . . . . . $enable_nfs
+    nginx . . . . . . . $enable_nginx
     ntpd  . . . . . . . $enable_ntpd
     nut . . . . . . . . $enable_nut
     perl  . . . . . . . $enable_perl
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     rrdtool . . . . . . $enable_rrdtool
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
     snmp  . . . . . . . $enable_snmp
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
     tape  . . . . . . . $enable_tape
+    tcpconns  . . . . . $enable_tcpconns
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/configure.in	2008-01-21 17:54:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/configure.in	2007-10-27 17:15:13.000000000 +0800
@@ -268,12 +268,21 @@
 #endif
 #if HAVE_LINUX_IF_H
 # include <linux/if.h>
 #endif
 ])
 
+# For ipvs module
+have_net_ip_vs_h="no"
+have_ip_vs_h="no"
+if test "x$ac_system" = "xLinux"
+then
+	AC_CHECK_HEADERS(net/ip_vs.h, [have_net_ip_vs_h="yes"])
+	AC_CHECK_HEADERS(ip_vs.h, [have_ip_vs_h="yes"])
+fi
+
 # For quota module
 AC_CHECK_HEADERS(sys/ucred.h, [], [],
 [
 #if HAVE_SYS_TYPES_H
 #  include <sys/types.h>
 #endif
@@ -343,17 +352,12 @@
 
 # For the multimeter plugin
 have_termios_h="no"
 AC_CHECK_HEADERS(termios.h, [have_termios_h="yes"])
 
 #
-# Checking for libraries
-#
-AC_CHECK_LIB(m, ext)
-
-#
 # Checks for typedefs, structures, and compiler characteristics.
 #
 AC_C_CONST
 AC_TYPE_PID_T
 AC_TYPE_SIZE_T
 AC_TYPE_UID_T
@@ -918,53 +922,74 @@
 if test "x$with_libkvm" = "xyes"
 then
 	AC_DEFINE(HAVE_LIBKVM, 1, [Define to 1 if you have the 'kvm' library (-lkvm)])
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBKVM, test "x$with_libkvm" = "xyes")
 
+with_sensors_cflags=""
+with_sensors_ldflags=""
 AC_ARG_WITH(lm-sensors, [AS_HELP_STRING([--with-lm-sensors@<:@=PREFIX@:>@], [Path to lm_sensors.])],
 [
-	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	if test "x$withval" = "xno"
 	then
-		LDFLAGS="$LDFLAGS -L$withval/lib"
-		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_lm_sensors="no"
+	else
 		with_lm_sensors="yes"
+		if test "x$withval" != "xyes"
+		then
+			with_sensors_cflags="-I$withval/include"
+			with_sensors_ldflags="-L$withval/lib"
+			with_lm_sensors="yes"
+		fi
 	fi
 ],
 [
 	if test "x$ac_system" = "xLinux"
 	then
 		with_lm_sensors="yes"
 	else
 		with_lm_sensors="no (Linux only library)"
 	fi
 ])
 if test "x$with_lm_sensors" = "xyes"
 then
-	AC_CHECK_LIB(sensors, sensors_init,
-	[
-		AC_DEFINE(HAVE_LIBSENSORS, 1, [Define to 1 if you have the sensors library (-lsensors).])
-	],
-	[with_lm_sensors="no (libsensors not found)"])
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_sensors_cflags"
+
+#	AC_CHECK_HEADERS(sensors/sensors.h,
+#	[
+#		AC_DEFINE(HAVE_SENSORS_SENSORS_H, 1, [Define to 1 if you have the <sensors/sensors.h> header file.])
+#	],
+#	[with_lm_sensors="no (sensors/sensors.h not found)"])
+	AC_CHECK_HEADERS(sensors/sensors.h, [], [with_lm_sensors="no (sensors/sensors.h not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
 fi
 if test "x$with_lm_sensors" = "xyes"
 then
-	AC_CHECK_HEADERS(sensors/sensors.h,
+	SAVE_CPPFLAGS="$CPPFLAGS"
+	SAVE_LDFLAGS="$LDFLAGS"
+	CPPFLAGS="$CPPFLAGS $with_sensors_cflags"
+	LDFLAGS="$LDFLAGS $with_sensors_ldflags"
+
+	AC_CHECK_LIB(sensors, sensors_init,
 	[
-		AC_DEFINE(HAVE_SENSORS_SENSORS_H, 1, [Define to 1 if you have the <sensors/sensors.h> header file.])
+		AC_DEFINE(HAVE_LIBSENSORS, 1, [Define to 1 if you have the sensors library (-lsensors).])
 	],
-	[with_lm_sensors="no (sensors/sensors.h not found)"])
+	[with_lm_sensors="no (libsensors not found)"])
+
+	CPPFLAGS="$SAVE_CPPFLAGS"
+	LDFLAGS="$SAVE_LDFLAGS"
 fi
 if test "x$with_lm_sensors" = "xyes"
 then
-	collect_lm_sensors=1
-else
-	collect_lm_sensors=0
+	BUILD_WITH_LIBSENSORS_CFLAGS="$with_sensors_cflags"
+	BUILD_WITH_LIBSENSORS_LDFLAGS="$with_sensors_ldflags"
+	AC_SUBST(BUILD_WITH_LIBSENSORS_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBSENSORS_LDFLAGS)
 fi
-AC_DEFINE_UNQUOTED(COLLECT_LM_SENSORS, [$collect_lm_sensors],
-	[Wether or not to use sensors library])
 AM_CONDITIONAL(BUILD_WITH_LM_SENSORS, test "x$with_lm_sensors" = "xyes")
 
 with_mysql_config="mysql_config"
 with_mysql_cflags=""
 with_mysql_libs=""
 AC_ARG_WITH(libmysql, [AS_HELP_STRING([--with-libmysql@<:@=PREFIX@:>@], [Path to libmysql.])],
@@ -1173,12 +1198,15 @@
 		with_libperl="yes"
 	fi
 ],
 [
 	with_libperl="yes"
 ])
+
+AC_SUBST(PERL, "$perl_interpreter")
+
 if test "x$with_libperl" = "xyes"
 then
   SAVE_CFLAGS=$CFLAGS
   SAVE_LDFLAGS=$LDFLAGS
   PERL_CFLAGS=`$perl_interpreter -MExtUtils::Embed -e ccopts`
   PERL_LDFLAGS=`$perl_interpreter -MExtUtils::Embed -e ldopts`
@@ -1677,21 +1705,23 @@
 plugin_cpu="no"
 plugin_cpufreq="no"
 plugin_df="no"
 plugin_disk="no"
 plugin_entropy="no"
 plugin_interface="no"
+plugin_ipvs="no"
 plugin_irq="no"
 plugin_load="no"
 plugin_memory="no"
 plugin_multimeter="no"
 plugin_nfs="no"
 plugin_processes="no"
 plugin_serial="no"
 plugin_swap="no"
 plugin_tape="no"
+plugin_tcpconns="no"
 plugin_users="no"
 plugin_vserver="no"
 plugin_wireless="no"
 
 # Linux
 if test "x$ac_system" = "xLinux"
@@ -1706,14 +1736,20 @@
 	plugin_load="yes"
 	plugin_memory="yes"
 	plugin_nfs="yes"
 	plugin_processes="yes"
 	plugin_serial="yes"
 	plugin_swap="yes"
+	plugin_tcpconns="yes"
 	plugin_vserver="yes"
 	plugin_wireless="yes"
+
+	if test "x$have_net_ip_vs_h" = "xyes" -o "x$have_ip_vs_h" = "xyes"
+	then
+		plugin_ipvs="yes"
+	fi
 fi
 
 # Mac OS X devices
 if test "x$with_libiokit" = "xyes"
 then
 	plugin_battery="yes"
@@ -1745,12 +1781,13 @@
 	plugin_cpu="yes"
 fi
 if test "x$have_sysctlbyname" = "xyes"
 then
 	plugin_cpu="yes"
 	plugin_memory="yes"
+	plugin_tcpconns="yes"
 fi
 
 if test "x$have_statfs" = "xyes"
 then
 	plugin_df="yes"
 fi
@@ -1817,54 +1854,91 @@
 AC_PLUGIN([email],       [yes],                [EMail statistics])
 AC_PLUGIN([entropy],     [$plugin_entropy],    [Entropy statistics])
 AC_PLUGIN([exec],        [yes],                [Execution of external programs])
 AC_PLUGIN([hddtemp],     [yes],                [Query hddtempd])
 AC_PLUGIN([interface],   [$plugin_interface],  [Interface traffic statistics])
 AC_PLUGIN([iptables],    [$with_libiptc],      [IPTables rule counters])
+AC_PLUGIN([ipvs],        [$plugin_ipvs],       [IPVS connection statistics])
 AC_PLUGIN([irq],         [$plugin_irq],        [IRQ statistics])
 AC_PLUGIN([load],        [$plugin_load],       [System load])
 AC_PLUGIN([logfile],     [yes],                [File logging plugin])
 AC_PLUGIN([mbmon],       [yes],                [Query mbmond])
+AC_PLUGIN([memcached],   [yes],                [memcached statistics])
 AC_PLUGIN([memory],      [$plugin_memory],     [Memory usage])
 AC_PLUGIN([multimeter],  [$plugin_multimeter], [Read multimeter values])
 AC_PLUGIN([mysql],       [$with_libmysql],     [MySQL statistics])
 AC_PLUGIN([netlink],     [$with_libnetlink],   [Enhanced Linux network statistics])
 AC_PLUGIN([network],     [yes],                [Network communication plugin])
 AC_PLUGIN([nfs],         [$plugin_nfs],        [NFS statistics])
+AC_PLUGIN([nginx],       [$with_libcurl],      [nginx statistics])
 AC_PLUGIN([ntpd],        [yes],                [NTPd statistics])
 AC_PLUGIN([nut],         [$with_libupsclient], [Network UPS tools statistics])
 AC_PLUGIN([perl],        [$with_libperl],      [Embed a Perl interpreter])
 AC_PLUGIN([ping],        [$with_liboping],     [Network latency statistics])
 AC_PLUGIN([processes],   [$plugin_processes],  [Process statistics])
 AC_PLUGIN([rrdtool],     [$with_rrdtool],      [RRDTool output plugin])
 AC_PLUGIN([sensors],     [$with_lm_sensors],   [lm_sensors statistics])
 AC_PLUGIN([serial],      [$plugin_serial],     [serial port traffic])
 AC_PLUGIN([snmp],        [$with_libnetsnmp],   [SNMP querying plugin])
 AC_PLUGIN([swap],        [$plugin_swap],       [Swap usage statistics])
 AC_PLUGIN([syslog],      [$have_syslog],       [Syslog logging plugin])
 AC_PLUGIN([tape],        [$plugin_tape],       [Tape drive statistics])
+AC_PLUGIN([tcpconns],    [$plugin_tcpconns],   [TCP connection statistics])
 AC_PLUGIN([unixsock],    [yes],                [Unixsock communication plugin])
 AC_PLUGIN([users],       [$plugin_users],      [User statistics])
 AC_PLUGIN([vserver],     [$plugin_vserver],    [Linux VServer statistics])
 AC_PLUGIN([wireless],    [$plugin_wireless],   [Wireless statistics])
 AC_PLUGIN([xmms],        [$with_libxmms],      [XMMS statistics])
 
-AC_OUTPUT(Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile)
+dnl ip_vs.h
+if test "x$ac_system" = "xLinux" -a "x$have_net_ip_vs_h$have_ip_vs_h" = "xnono"
+then
+	enable_ipvs="$enable_ipvs (ip_vs.h not found)"
+fi
+
+dnl Perl bindings
+AC_ARG_WITH(perl-bindings, [AS_HELP_STRING([--with-perl-bindings@<:@=OPTIONS@:>@], [Options passed to "perl Makefile.PL".])],
+[
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
+	then
+		PERL_BINDINGS_OPTIONS="$withval"
+		with_perl_bindings="yes"
+	fi
+],
+[
+	PERL_BINDINGS_OPTIONS=""
+	with_perl_bindings="yes"
+])
+if test "x$with_perl_bindings" = "xyes"
+then
+	PERL_BINDINGS="perl"
+else
+	PERL_BINDINGS=""
+fi
+AC_SUBST(PERL_BINDINGS)
+AC_SUBST(PERL_BINDINGS_OPTIONS)
+
+AC_OUTPUT(Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile bindings/Makefile)
 
 if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
 then
 	with_liboping="yes (shipped version)"
 fi
 
 if test "x$with_libperl" = "xyes"
 then
-	with_libperl="yes (version `perl -MConfig -e 'print $Config{version};'`)"
+	with_libperl="yes (version `$perl_interpreter -MConfig -e 'print $Config{version};'`)"
 else
 	enable_perl="no (needs libperl)"
 fi
 
+if test "x$with_perl_bindings" = "xyes" -a "x$PERL_BINDINGS_OPTIONS" != "x"
+then
+	with_perl_bindings="yes ($PERL_BINDINGS_OPTIONS)"
+fi
+
 cat <<EOF;
 
 Configuration:
   Libraries:
     libcurl . . . . . . $with_libcurl
     libiokit  . . . . . $with_libiokit
@@ -1886,12 +1960,15 @@
     libxmms . . . . . . $with_libxmms
 
   Features:
     daemon mode . . . . $enable_daemon
     debug . . . . . . . $enable_debug
 
+  Bindings:
+    perl  . . . . . . . $with_perl_bindings
+
   Modules:
     apache  . . . . . . $enable_apache
     apcups  . . . . . . $enable_apcups
     apple_sensors . . . $enable_apple_sensors
     battery . . . . . . $enable_battery
     cpu . . . . . . . . $enable_cpu
@@ -1903,34 +1980,38 @@
     email . . . . . . . $enable_email
     entropy . . . . . . $enable_entropy
     exec  . . . . . . . $enable_exec
     hddtemp . . . . . . $enable_hddtemp
     interface . . . . . $enable_interface
     iptables  . . . . . $enable_iptables
+    ipvs  . . . . . . . $enable_ipvs
     irq . . . . . . . . $enable_irq
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
+    memcached . . . . . $enable_memcached
     memory  . . . . . . $enable_memory
     multimeter  . . . . $enable_multimeter
     mysql . . . . . . . $enable_mysql
     netlink . . . . . . $enable_netlink
     network . . . . . . $enable_network
     nfs . . . . . . . . $enable_nfs
+    nginx . . . . . . . $enable_nginx
     ntpd  . . . . . . . $enable_ntpd
     nut . . . . . . . . $enable_nut
     perl  . . . . . . . $enable_perl
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     rrdtool . . . . . . $enable_rrdtool
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
     snmp  . . . . . . . $enable_snmp
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
     tape  . . . . . . . $enable_tape
+    tcpconns  . . . . . $enable_tcpconns
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
     xmms  . . . . . . . $enable_xmms
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib/collectd2html.pl /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib/collectd2html.pl
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib/collectd2html.pl	2007-12-29 02:03:32.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib/collectd2html.pl	2007-10-25 01:21:23.000000000 +0800
@@ -13,15 +13,12 @@
 #   When run on <host>, it generated <host>.html and <host>.dir, the latter
 #   containing all necessary images.
 #
 #
 # Copyright 2006 Vincent Stehl <vincent.stehle@free.fr>
 #
-# Patch to configure the data directory and hostname by Eddy Petrisor
-# <eddy.petrisor@gmail.com>.
-#
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
 # (at your option) any later version.
 #
 # This program is distributed in the hope that it will be useful,
@@ -39,23 +36,23 @@
 use strict;
 use Fatal qw(open close);
 use File::Basename;
 use Getopt::Long qw(:config no_ignore_case bundling pass_through);
 
 my $DIR  = "/var/lib/collectd";
-my $HOST = undef;
+my $HOST = "_UNDEFINED_";
 
 GetOptions (
-    "host=s"     => \$HOST,
+    "host-is=s"  => \$HOST,
     "data-dir=s" => \$DIR
 );
 
 my @COLORS = (0xff7777, 0x7777ff, 0x55ff55, 0xffcc77, 0xff77ff, 0x77ffff,
 	0xffff77, 0x55aaff);
 my @tmp = `/bin/hostname`; chomp(@tmp);
-$HOST = $tmp[0] if (! defined $HOST);
+$HOST = $tmp[0] if ( $HOST =~ /_UNDEFINED_/ );
 my $IMG_DIR = "${HOST}.dir";
 my $HTML = "${HOST}.html";
 
 ################################################################################
 #
 # fade_component
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib/collection.cgi	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib/collection.cgi	2007-10-27 17:04:59.000000000 +0800
@@ -2067,13 +2067,13 @@
     "LINE1:avg#$FullBlue:Bytes",
     'GPRINT:min:MIN:%6.2lf%sByte Min,',
     'GPRINT:avg:AVERAGE:%6.2lf%sByte Avg,',
     'GPRINT:max:MAX:%6.2lf%sByte Max,',
     'GPRINT:avg:LAST:%6.2lf%sByte Last\l'
     ],
-    ols_swap => [
+    old_swap => [
     'DEF:used_avg={file}:used:AVERAGE',
     'DEF:used_min={file}:used:MIN',
     'DEF:used_max={file}:used:MAX',
     'DEF:free_avg={file}:free:AVERAGE',
     'DEF:free_min={file}:free:MIN',
     'DEF:free_max={file}:free:MAX',
@@ -2111,12 +2111,24 @@
     "LINE1:used_acc#$FullRed:Used    ",
     'GPRINT:used_min:MIN:%5.1lf%s Min,',
     'GPRINT:used_avg:AVERAGE:%5.1lf%s Avg,',
     'GPRINT:used_max:MAX:%5.1lf%s Max,',
     'GPRINT:used_avg:LAST:%5.1lf%s Last\l'
     ],
+    tcp_connections => ['-v', 'Connections',
+    'DEF:avg={file}:value:AVERAGE',
+    'DEF:min={file}:value:MIN',
+    'DEF:max={file}:value:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Connections",
+    'GPRINT:min:MIN:%4.1lf Min,',
+    'GPRINT:avg:AVERAGE:%4.1lf Avg,',
+    'GPRINT:max:MAX:%4.1lf Max,',
+    'GPRINT:avg:LAST:%4.1lf Last\l'
+    ],
     temperature => ['-v', 'Celsius',
     'DEF:temp_avg={file}:value:AVERAGE',
     'DEF:temp_min={file}:value:MIN',
     'DEF:temp_max={file}:value:MAX',
     'CDEF:average=temp_avg,0.2,*,PREV,UN,temp_avg,PREV,IF,0.8,*,+',
     "AREA:temp_max#$HalfRed",
@@ -2325,12 +2337,13 @@
   $MetaGraphDefs->{'memory'} = \&meta_graph_memory;
   $MetaGraphDefs->{'nfs_procedure'} = \&meta_graph_nfs_procedure;
   $MetaGraphDefs->{'ps_state'} = \&meta_graph_ps_state;
   $MetaGraphDefs->{'swap'} = \&meta_graph_swap;
   $MetaGraphDefs->{'mysql_commands'} = \&meta_graph_mysql_commands;
   $MetaGraphDefs->{'mysql_handler'} = \&meta_graph_mysql_commands;
+  $MetaGraphDefs->{'tcp_connections'} = \&meta_graph_tcp_connections;
 } # load_graph_definitions
 
 sub meta_graph_generic_stack
 {
   confess ("Wrong number of arguments") if (@_ != 2);
 
@@ -2798,7 +2811,73 @@
     );
   } # for (@$type_instances)
 
   return (meta_graph_generic_stack ($opts, $sources));
 } # meta_graph_swap
 
+sub meta_graph_tcp_connections
+{
+  confess ("Wrong number of arguments") if (@_ != 5);
+
+  my $host = shift;
+  my $plugin = shift;
+  my $plugin_instance = shift;
+  my $type = shift;
+  my $type_instances = shift;
+
+  my $opts = {};
+  my $sources = [];
+
+  $opts->{'title'} = "$host/$plugin"
+  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
+  $opts->{'number_format'} = '%6.2lf';
+
+  $opts->{'rrd_opts'} = ['-v', 'Connections'];
+
+  my @files = ();
+
+  $opts->{'colors'} =
+  {
+    ESTABLISHED	  => '00e000',
+    SYN_SENT	  => '00e0ff',
+    SYN_RECV	  => '00e0a0',
+    FIN_WAIT1	  => 'f000f0',
+    FIN_WAIT2	  => 'f000a0',
+    TIME_WAIT	  => 'ffb000',
+    CLOSE	  => '0000f0',
+    CLOSE_WAIT	  => '0000a0',
+    LAST_ACK	  => '000080',
+    LISTEN	  => 'ff0000',
+    CLOSING	  => '000000'
+  };
+
+  _custom_sort_arrayref ($type_instances,
+    [qw(ESTABLISHED SYN_SENT SYN_RECV FIN_WAIT1 FIN_WAIT2 TIME_WAIT CLOSE
+    CLOSE_WAIT LAST_ACK CLOSING LISTEN)]);
+
+  for (@$type_instances)
+  {
+    my $inst = $_;
+    my $file = '';
+    my $title = $opts->{'title'};
+
+    for (@DataDirs)
+    {
+      if (-e "$_/$title-$inst.rrd")
+      {
+	$file = "$_/$title-$inst.rrd";
+	last;
+      }
+    }
+    confess ("No file found for $title") if ($file eq '');
+
+    push (@$sources,
+      {
+	name => $inst,
+	file => $file
+      }
+    );
+  } # for (@$type_instances)
+
+  return (meta_graph_generic_stack ($opts, $sources));
+} # meta_graph_tcp_connections
 # vim: shiftwidth=2:softtabstop=2:tabstop=8
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib: exec-munin.conf
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib: exec-munin.px
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib: exec-smartctl
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib: notification-to-festival.pl
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib: PerlLib
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/contrib/README	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib/README	2007-10-27 17:04:59.000000000 +0800
@@ -35,20 +35,16 @@
   Starting with version 4, collection.cgi requires a small config file, which
 should look something like this:
 
   datadir: "/var/lib/collectd/rrd/"
   libdir: "/usr/lib/collectd/"
 
-exec-munin.px
+exec-smartctl
 -------------
-  Script to be used with the exec-plugin (see collectd-exec(5) for details)
-which executes munin plugins, parses the output and translates it to a format
-the exec-plugin understands. The features are limited - changing the munin
-plugins to use the output format understood by the exec-plugin is recommended.
-See the embedded POD documentation for more details:
- $ perldoc contrib/exec-munin.px
+  Sample script for the exec plugin. Please refer to the documentation in the
+file - you will have to adapt it to your needs anyway.
 
 extractDS.px
 ------------
   Creates a new RRD-file with only one data-source (DS) of the source-RRD-
 file. That is very handy when you realise that you have bundled up DSes in one
 RRD-file that should have been in multiple RRD-files instead. Is is used by
@@ -64,6 +60,15 @@
   Migration-script to ease the switch from version 3 to version 4. Many
 RRD-files are expected in a different place, some have been changed (DSes have
 been renamed) and others have bee split up into multiple files. This script
 prints a bash-script to STDOUT which should do most of the work for you. You
 may still need to do some things by hand, read `README.migration' for more
 details.
+
+snmp-data.conf
+--------------
+  Sample configuration for the SNMP plugin. This config includes a few standard
+<Data ..> definitions that you can include in your own config using the
+`Include' statement (available since version 4.2.0). The config includes some
+data that is defined in the IF-MIB, e. g. octet or packet counters, UPS-MIB and
+whatever people have send in. If you have some more definitions please send
+them in, so others can profit from it.
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/contrib: snmp-data.conf
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/acinclude.m4 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/acinclude.m4
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/acinclude.m4	2007-11-28 05:23:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/acinclude.m4	2007-07-12 05:11:42.000000000 +0800
@@ -4,13 +4,13 @@
 ## Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 ##
 ## This file is free software; the Free Software Foundation gives
 ## unlimited permission to copy and/or distribute it, with or without
 ## modifications, as long as this notice is preserved.
 
-# serial 51 Debian 1.5.24-2 AC_PROG_LIBTOOL
+# serial 51 Debian 1.5.24-1 AC_PROG_LIBTOOL
 
 
 # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
 # -----------------------------------------------------------
 # If this macro is not defined by Autoconf, define it here.
 m4_ifdef([AC_PROVIDE_IFELSE],
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/config.guess /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/config.guess
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/config.guess	2007-11-28 05:23:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/config.guess	2007-07-12 05:11:42.000000000 +0800
@@ -1,13 +1,13 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,
 #   Inc.
 
-timestamp='2007-07-22'
+timestamp='2007-03-06'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
 # (at your option) any later version.
 #
@@ -327,13 +327,13 @@
     sun4H:SunOS:5.*:*)
 	echo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit ;;
     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
 	echo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit ;;
-    i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
+    i86pc:SunOS:5.*:*)
 	echo i386-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit ;;
     sun4*:SunOS:6*:*)
 	# According to config.sub, this is the proper way to canonicalize
 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
 	# it's likely to be more like Solaris than SunOS4.
@@ -790,13 +790,13 @@
 	exit ;;
     i*:PW*:*)
 	echo ${UNAME_MACHINE}-pc-pw32
 	exit ;;
     *:Interix*:[3456]*)
     	case ${UNAME_MACHINE} in
-	    x86)
+	    x86) 
 		echo i586-pc-interix${UNAME_RELEASE}
 		exit ;;
 	    EM64T | authenticamd)
 		echo x86_64-unknown-interix${UNAME_RELEASE}
 		exit ;;
 	esac ;;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/config.sub /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/config.sub
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/config.sub	2007-11-28 05:23:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/config.sub	2007-07-12 05:11:42.000000000 +0800
@@ -1,13 +1,13 @@
 #! /bin/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,
 #   Inc.
 
-timestamp='2007-06-28'
+timestamp='2007-01-18'
 
 # This file is (in principle) common to ALL GNU software.
 # The presence of a machine in this file suggests that SOME GNU software
 # can handle that machine.  It does not imply ALL GNU software can.
 #
 # This file is free software; you can redistribute it and/or modify
@@ -472,14 +472,14 @@
 		os=-unicos
 		;;
 	craynv)
 		basic_machine=craynv-cray
 		os=-unicosmp
 		;;
-	cr16)
-		basic_machine=cr16-unknown
+	cr16c)
+		basic_machine=cr16c-unknown
 		os=-elf
 		;;
 	crds | unos)
 		basic_machine=m68k-crds
 		;;
 	crisv32 | crisv32-* | etraxfs*)
@@ -680,16 +680,12 @@
 		os=-sysv
 		;;
 	mingw32)
 		basic_machine=i386-pc
 		os=-mingw32
 		;;
-	mingw32ce)
-		basic_machine=arm-unknown
-		os=-mingw32ce
-		;;
 	miniframe)
 		basic_machine=m68000-convergent
 		;;
 	*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)
 		basic_machine=m68k-atari
 		os=-mint
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/ltmain.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/ltmain.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/libltdl/ltmain.sh	2007-11-28 05:23:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/libltdl/ltmain.sh	2007-07-12 05:11:42.000000000 +0800
@@ -40,13 +40,13 @@
 # Global variables:
 EXIT_SUCCESS=0
 EXIT_FAILURE=1
 
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION="1.5.24 Debian 1.5.24-2"
+VERSION="1.5.24 Debian 1.5.24-1"
 TIMESTAMP=" (1.1220.2.456 2007/06/24 02:25:32)"
 
 # Be Bourne compatible (taken from Autoconf:_AS_BOURNE_COMPATIBLE).
 if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
   emulate sh
   NULLCMD=:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/ltmain.sh /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/ltmain.sh
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/ltmain.sh	2007-11-28 05:23:09.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/ltmain.sh	2007-07-12 05:11:42.000000000 +0800
@@ -40,13 +40,13 @@
 # Global variables:
 EXIT_SUCCESS=0
 EXIT_FAILURE=1
 
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION="1.5.24 Debian 1.5.24-2"
+VERSION="1.5.24 Debian 1.5.24-1"
 TIMESTAMP=" (1.1220.2.456 2007/06/24 02:25:32)"
 
 # Be Bourne compatible (taken from Autoconf:_AS_BOURNE_COMPATIBLE).
 if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
   emulate sh
   NULLCMD=:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/Makefile.am	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/Makefile.am	2007-10-27 17:04:59.000000000 +0800
@@ -1,11 +1,11 @@
-SUBDIRS = libltdl src
+SUBDIRS = libltdl src bindings
 
 INCLUDES = $(LTDLINCL)
 
-EXTRA_DIST = contrib
+EXTRA_DIST = contrib version-gen.sh
 
 dist-hook:
 	find $(distdir) -type d -name '.svn' | xargs rm -rf
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/Makefile.in	2008-01-21 17:55:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/Makefile.in	2007-10-27 17:22:15.000000000 +0800
@@ -115,32 +115,38 @@
 BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
 BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
 BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
 BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
 BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
 BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
 BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
 BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
 BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
 BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
 BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
 BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
 BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
 BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
 BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
 BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
 BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
 BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
 BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
 BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
 BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
 BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
 BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
 BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
 BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
 BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
 BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
 BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
 BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
 BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
 BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
 BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
@@ -159,12 +165,14 @@
 BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
 BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
 BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
 BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
 BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
 BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
 BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
 BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
 BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
 BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
 BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
 BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
@@ -209,12 +217,14 @@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
+BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
@@ -276,12 +286,15 @@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
 PACKAGE_VERSION = @PACKAGE_VERSION@
 PATH_SEPARATOR = @PATH_SEPARATOR@
+PERL = @PERL@
+PERL_BINDINGS = @PERL_BINDINGS@
+PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
@@ -334,15 +347,15 @@
 psdir = @psdir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-SUBDIRS = libltdl src
+SUBDIRS = libltdl src bindings
 INCLUDES = $(LTDLINCL)
-EXTRA_DIST = contrib
+EXTRA_DIST = contrib version-gen.sh
 all: all-recursive
 
 .SUFFIXES:
 am--refresh:
 	@:
 $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/README	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/README	2007-10-27 17:09:25.000000000 +0800
@@ -66,22 +66,31 @@
       interface.
 
     - iptables
       Iptables' counters: Number of bytes that were matched by a certain
       iptables rule.
 
+    - ipvs
+      IPVS connection statistics (number of connections, octets and packets
+      for each service and destination).
+      See http://www.linuxvirtualserver.org/software/index.html.
+
     - irq
       IRQ counters: Frequency in which certain interrupts occur.
 
     - load
       System load average over the last 1, 5 and 15 minutes.
 
     - mbmon
       Motherboard sensors: temperature, fanspeed and voltage information,
       using mbmon(1).
 
+    - memcached
+      Statistics of the memcached distributed caching system.
+      <http://www.danga.com/memcached/>
+
     - memory
       Memory utilization: Memory occupied by running processes, page cache,
       buffer cache and free.
 
     - multimeter
       Information provided by serial multimeters, such as the `Metex
@@ -102,12 +111,16 @@
       plugin of choice for that.
 
     - nfs
       NFS Procedures: Which NFS command were called how often. Only NFSv2 and
       NFSv3 right now.
 
+    - nginx
+      Collects statistics from `nginx' (speak: engine X), a HTTP and mail
+      server/proxy.
+
     - ntp
       NTP daemon statistics: Local clock drift, offset to peers, etc.
 
     - nut
       Network UPS tools: UPS current, voltage, power, charge, utilisation,
       temperature, etc. See upsd(8).
@@ -142,12 +155,15 @@
     - swap
       Pages swapped out onto harddisk or whatever is called `swap' by the OS..
 
     - tape
       Bytes and operations read and written on tape devices. Solaris only.
 
+    - tcpconns
+      Number of TCP connections to specific local and remote ports.
+
     - users
       Users currently logged in.
 
     - vserver
       System resources used by Linux VServers.
       See <http://linux-vserver.org/>.
@@ -258,22 +274,25 @@
     Since gathering some statistics is slow (network connections, slow devices,
     etc) the collectd is parallelized. The POSIX threads interface is being
     used and should be found in various implementations for hopefully all
     platforms.
 
   * libcurl (optional)
-    If you want to use the `apache' plugin
+    If you want to use the `apache' and/or `nginx' plugins.
 
   * libiptc (optional)
     For querying iptables counters.
 
   * libmysqlclient (optional)
+    Unsurprisingly used by the `mysql' plugin.
 
   * libnetlink (optional)
+    Used, obviously, for the `netlink' plugin.
 
   * libnetsnmp (optional)
+    For the `snmp' plugin.
 
   * liboping (optional, if not found a version shipped with this distribution
     can be used)
     Used by the `ping' plugin to send and receive ICMP packets.
 
   * libpcap (optional)
@@ -283,13 +302,13 @@
     If built without `librrd' the resulting binary will be `client only', i.e.
     will send its values via multicast and not create any RRD files itself.
     Alternatively you can chose to write CSV-files (Comma Separated Values)
     instead.
 
   * libsensors (optional)
-    To read from `lm_sensors'.
+    To read from `lm_sensors', see the `sensors' plugin.
 
   * libstatgrab may be used to collect statistics on systems other than Linux
     and/or Solaris. Note that CPU- and disk-statistics, while being provided
     by this library, are not supported in collectd right now..
     <http://www.i-scream.org/libstatgrab/> 
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/apcups.c	2008-01-11 18:16:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/apcups.c	2007-10-25 01:21:24.000000000 +0800
@@ -133,13 +133,13 @@
 	ai_hints.ai_socktype = SOCK_STREAM;
 
 	status = getaddrinfo (host, port_str, &ai_hints, &ai_return);
 	if (status != 0)
 	{
 		char errbuf[1024];
-		INFO ("getaddrinfo failed: %s",
+		DEBUG ("getaddrinfo failed: %s",
 				(status == EAI_SYSTEM)
 				? sstrerror (errno, errbuf, sizeof (errbuf))
 				: gai_strerror (status));
 		return (-1);
 	}
 
@@ -164,13 +164,13 @@
 
 	freeaddrinfo (ai_return);
 
 	if (status != 0) /* `connect(2)' failed */
 	{
 		char errbuf[1024];
-		INFO ("connect failed: %s",
+		DEBUG ("connect failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		close (sd);
 		return (-1);
 	}
 
 	DEBUG ("Done opening a socket %i", sd);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.1	2008-01-21 17:58:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.1	2007-10-27 17:20:53.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2007-10-24" "4.1.6" "collectd"
+.TH COLLECTD 1 "2007-10-24" "4.2.0" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.conf.5	2008-01-21 17:58:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.conf.5	2007-10-27 17:20:53.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2008-01-21" "4.1.6" "collectd"
+.TH COLLECTD.CONF 5 "2007-10-27" "4.2.0" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
 \&  BaseDir "/path/to/data/"
@@ -156,36 +156,38 @@
 .IX Header "DESCRIPTION"
 This config file controls how the system statistics collection daemon
 \&\fBcollectd\fR behaves. The most significant option is \fBLoadPlugin\fR, which
 controls which plugins to load. These plugins ultimately define collectd's
 behavior.
 .PP
-The syntax of this config file is similar to the config file of the famos
+The syntax of this config file is similar to the config file of the famous
 \&\fBApache Webserver\fR. Each line contains either a key-value-pair or a
 section-start or \-end. Empty lines and everything after the hash-symbol `#' is
 ignored. Values are either string, enclosed in double\-quotes,
 (floating\-point\-)numbers or a boolean expression, i.\ e. either \fBtrue\fR or
 \&\fBfalse\fR. String containing of only alphanumeric characters and underscores do
 not need to be quoted.
-.PP
-The configuration is read and processed in order, i.\ e. from top to
-bottom. So the plugins are loaded in the order listed in this config file. It
-is a good idea to load any logging plugins first in order to catch messages
-from plugins during configuration. Also, the \f(CW\*(C`LoadPlugin\*(C'\fR option \fBmust\fR occur
-\&\fBbefore\fR the \f(CW\*(C`<Plugin ...>\*(C'\fR block.
 .SH "GLOBAL OPTIONS"
 .IX Header "GLOBAL OPTIONS"
 .IP "\fBBaseDir\fR \fIDirectory\fR" 4
 .IX Item "BaseDir Directory"
 Sets the base directory. This is the directory beneath all RRD-files are
 created. Possibly more subdirectories are created. This is also the working
 directory for the daemon.
 .IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
 .IX Item "LoadPlugin Plugin"
 Loads the plugin \fIPlugin\fR. There must be at least one such line or \fBcollectd\fR
 will be mostly useless.
+.IP "\fBInclude\fR \fIFile\fR" 4
+.IX Item "Include File"
+Includes the file \fIFile\fR as if it was copy and pasted here. To prevent loops
+and shooting yourself in the foot in interesting ways the nesting is limited to
+a depth of 8\ levels, which should be sufficient for most uses.
+.Sp
+It is no problem to have a block like \f(CW\*(C`<Plugin foo>\*(C'\fR in more than one
+file, but you cannot include files from within blocks.
 .IP "\fBPIDFile\fR \fIFile\fR" 4
 .IX Item "PIDFile File"
 Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
 and deleted when the program is stopped. Some init-scripts might override this
 setting using the \fB\-P\fR command-line option.
 .IP "\fBPluginDir\fR \fIDirectory\fR" 4
@@ -316,13 +318,13 @@
 .IX Subsection "Plugin email"
 .IP "\fBSocketFile\fR \fIPath\fR" 4
 .IX Item "SocketFile Path"
 Sets the socket-file which is to be created.
 .IP "\fBSocketGroup\fR \fIGroup\fR" 4
 .IX Item "SocketGroup Group"
-If running as root change the group of the UNIX-socket after it has been
+If running as root change the group of the UNIX-socket after it has been 
 created. Defaults to \fBcollectd\fR.
 .IP "\fBSocketPerms\fR \fIPermissions\fR" 4
 .IX Item "SocketPerms Permissions"
 Change the file permissions of the UNIX-socket after it has been created. The
 permissions must be given as a numeric, octal value as you would pass to
 \&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
@@ -419,21 +421,21 @@
 .el .Sh "Plugin \f(CWlogfile\fP"
 .IX Subsection "Plugin logfile"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
 Sets the log\-level. If, for example, set to \fBnotice\fR, then all events with
 severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be written to the logfile.
-.Sp
-Please note that \fBdebug\fR is only available if collectd has been compiled with
-debugging support.
 .IP "\fBFile\fR \fIFile\fR" 4
 .IX Item "File File"
 Sets the file to write log messages to. The special strings \fBstdout\fR and
 \&\fBstderr\fR can be used to write to the standard output and standard error
 channels, respectively. This, of course, only makes much sense when collectd is
 running in foreground\- or non\-daemon\-mode.
+.IP "\fBTimestamp\fR \fBtrue\fR|\fBfalse\fR" 4
+.IX Item "Timestamp true|false"
+Prefix all lines printed by the current time. Defaults to \fBtrue\fR.
 .ie n .Sh "Plugin ""mbmon"""
 .el .Sh "Plugin \f(CWmbmon\fP"
 .IX Subsection "Plugin mbmon"
 The \f(CW\*(C`mbmon plugin\*(C'\fR uses mbmon to retrieve temperature, voltage, etc.
 .PP
 Be default collectd connects to \fBlocalhost\fR (127.0.0.1), port \fB411/tcp\fR.  The
@@ -447,12 +449,24 @@
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname to connect to. Defaults to \fB127.0.0.1\fR.
 .IP "\fBPort\fR \fIPort\fR" 4
 .IX Item "Port Port"
 TCP-Port to connect to. Defaults to \fB411\fR.
+.ie n .Sh "Plugin ""memcached"""
+.el .Sh "Plugin \f(CWmemcached\fP"
+.IX Subsection "Plugin memcached"
+The \f(CW\*(C`memcached plugin\*(C'\fR connects to a memcached server and queries statistics
+about cache utilization, memory and bandwidth used.
+<http://www.danga.com/memcached/>
+.IP "\fBHost\fR \fIHostname\fR" 4
+.IX Item "Host Hostname"
+Hostname to connect to. Defaults to \fB127.0.0.1\fR.
+.IP "\fBPort\fR \fIPort\fR" 4
+.IX Item "Port Port"
+TCP-Port to connect to. Defaults to \fB11211\fR.
 .ie n .Sh "Plugin ""mysql"""
 .el .Sh "Plugin \f(CWmysql\fP"
 .IX Subsection "Plugin mysql"
 The \f(CW\*(C`mysql plugin\*(C'\fR requires \fBmysqlclient\fR to be installed. It connects to the
 database when started and keeps the connection up as long as possible. When the
 connection is interrupted for whatever reason it will try to re\-connect. The
@@ -606,12 +620,37 @@
 the last value being sent or received. Every \fISeconds\fR seconds the plugin
 searches and removes all entries that are older than \fISeconds\fR seconds, thus
 freeing the unused memory again. Since this process is somewhat expensive and
 normally doesn't do much, this value should not be too small. The default is
 1800 seconds, but setting this to 86400 seconds (one day) will not do much harm
 either.
+.ie n .Sh "Plugin ""nginx"""
+.el .Sh "Plugin \f(CWnginx\fP"
+.IX Subsection "Plugin nginx"
+This plugin collects the number of connections and requests handled by the
+\&\f(CW\*(C`nginx daemon\*(C'\fR (speak: engine\ X), a \s-1HTTP\s0 and mail server/proxy. It
+queries the page provided by the \f(CW\*(C`ngx_http_stub_status_module\*(C'\fR module, which
+isn't compiled by default. Please refer to
+<http://wiki.codemongers.com/NginxStubStatusModule> for more information on
+how to compile and configure nginx and this module.
+.PP
+The following options are accepted by the \f(CW\*(C`nginx plugin\*(C'\fR:
+.IP "\fB\s-1URL\s0\fR \fIhttp://host/nginx_status\fR" 4
+.IX Item "URL http://host/nginx_status"
+Sets the \s-1URL\s0 of the \f(CW\*(C`ngx_http_stub_status_module\*(C'\fR output.
+.IP "\fBUser\fR \fIUsername\fR" 4
+.IX Item "User Username"
+Optional user name needed for authentication.
+.IP "\fBPassword\fR \fIPassword\fR" 4
+.IX Item "Password Password"
+Optional password needed for authentication.
+.IP "\fBCACert\fR \fIFile\fR" 4
+.IX Item "CACert File"
+File that holds one or more \s-1SSL\s0 certificates. If you want to use \s-1HTTPS\s0 you will
+possibly need this option. What \s-1CA\s0 certificates come bundled with \f(CW\*(C`libcurl\*(C'\fR
+and are checked by default depends on the distribution you use.
 .ie n .Sh "Plugin ""ntpd"""
 .el .Sh "Plugin \f(CWntpd\fP"
 .IX Subsection "Plugin ntpd"
 .IP "\fBHost\fR \fIHostname\fR" 4
 .IX Item "Host Hostname"
 Hostname of the host running \fBntpd\fR. Defaults to \fBlocalhost\fR.
@@ -625,24 +664,14 @@
 .IX Item "UPS upsname@hostname[:port]"
 Add a \s-1UPS\s0 to collect data from. The format is identical to the one accepted by
 \&\fIupsc\fR\|(8).
 .ie n .Sh "Plugin ""perl"""
 .el .Sh "Plugin \f(CWperl\fP"
 .IX Subsection "Plugin perl"
-.IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
-.IX Item "LoadPlugin Plugin"
-Loads the Perl plugin \fIPlugin\fR. This does basically the same as \fBuse\fR would
-do in a Perl program.
-.IP "\fBBaseName\fR \fIName\fR" 4
-.IX Item "BaseName Name"
-Prepends \fIName\fR\fB::\fR to all plugin names loaded after this option. This is
-provided for convenience to keep plugin names short.
-.IP "\fBIncludeDir\fR \fIDir\fR" 4
-.IX Item "IncludeDir Dir"
-Adds \fIDir\fR to the \fB@INC\fR array. This is the same as using the \fB\-IDir\fR
-command line option or \fBuse lib Dir\fR in the source code.
+This plugin embeds a Perl-interpreter into collectd and provides an interface
+to collectd's plugin system. See \fIcollectd\-perl\fR\|(5) for its documentation.
 .ie n .Sh "Plugin ""ping"""
 .el .Sh "Plugin \f(CWping\fP"
 .IX Subsection "Plugin ping"
 .IP "\fBHost\fR \fIIP-address\fR" 4
 .IX Item "Host IP-address"
 Host to ping periodically. This option may be repeated several times to ping
@@ -762,24 +791,52 @@
 .IX Subsection "Plugin syslog"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
 Sets the log\-level. If, for example, set to \fBnotice\fR, then all events with
 severity \fBnotice\fR, \fBwarning\fR, or \fBerr\fR will be submitted to the
 syslog\-daemon.
-.Sp
-Please note that \fBdebug\fR is only available if collectd has been compiled with
-debugging support.
+.ie n .Sh "Plugin ""tcpconns"""
+.el .Sh "Plugin \f(CWtcpconns\fP"
+.IX Subsection "Plugin tcpconns"
+The \f(CW\*(C`tcpconns plugin\*(C'\fR counts the number of currently established \s-1TCP\s0
+connections based on the local port and/or the remote port. Since there may be
+a lot of connections the default if to count all connections with a local port,
+for which a listening socket is opened. You can use the following options to
+fine-tune the ports you are interested in:
+.IP "\fBListeningPorts\fR \fItrue\fR|\fIfalse\fR" 4
+.IX Item "ListeningPorts true|false"
+If this option is set to \fItrue\fR, statistics for all local ports for which a
+listening socket exists are collected. The default depends on \fBLocalPort\fR and
+\&\fBRemotePort\fR (see below): If no port at all is specifically selected, the
+default is to collect listening ports. If specific ports (no matter if local or
+remote ports) are selected, this option defaults to \fIfalse\fR, i.\ e. only
+the selected ports will be collected unless this option is set to \fItrue\fR
+specifically.
+.IP "\fBLocalPort\fR \fIPort\fR" 4
+.IX Item "LocalPort Port"
+Count the connections to a specific local port. This can be used to see how
+many connections are handled by a specific daemon, e.\ g. the mailserver.
+You have to specify the port in numeric form, so for the mailserver example
+you'd need to set \fB25\fR.
+.IP "\fBRemotePort\fR \fIPort\fR" 4
+.IX Item "RemotePort Port"
+Count the connections to a specific remote port. This is useful to see how
+much a remote service is used. This is most useful if you want to know how many
+connections a local service has opened to remote services, e.\ g. how many
+connections a mail server or news server has to other mail or news servers, or
+how many connections a web proxy holds to web servers. You have to give the
+port in numeric form.
 .ie n .Sh "Plugin ""unixsock"""
 .el .Sh "Plugin \f(CWunixsock\fP"
 .IX Subsection "Plugin unixsock"
 .IP "\fBSocketFile\fR \fIPath\fR" 4
 .IX Item "SocketFile Path"
 Sets the socket-file which is to be created.
 .IP "\fBSocketGroup\fR \fIGroup\fR" 4
 .IX Item "SocketGroup Group"
-If running as root change the group of the UNIX-socket after it has been
+If running as root change the group of the UNIX-socket after it has been 
 created. Defaults to \fBcollectd\fR.
 .IP "\fBSocketPerms\fR \fIPermissions\fR" 4
 .IX Item "SocketPerms Permissions"
 Change the file permissions of the UNIX-socket after it has been created. The
 permissions must be given as a numeric, octal value as you would pass to
 \&\fIchmod\fR\|(1). Defaults to \fB0770\fR.
@@ -794,12 +851,13 @@
 .PP
 The \fBVServer\fR homepage can be found at <http://linux\-vserver.org/>.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd\-exec\fR\|(5),
+\&\fIcollectd\-perl\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 \&\fIhddtemp\fR\|(8),
 kstat(3KSTAT),
 \&\fImbmon\fR\|(1),
 \&\fIrrdtool\fR\|(1),
 \&\fIsensors\fR\|(1)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.conf.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.conf.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.conf.in	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.conf.in	2007-10-27 17:04:59.000000000 +0800
@@ -25,16 +25,18 @@
 @BUILD_PLUGIN_EMAIL_TRUE@LoadPlugin email
 @BUILD_PLUGIN_ENTROPY_TRUE@LoadPlugin entropy
 @BUILD_PLUGIN_EXEC_TRUE@LoadPlugin exec
 @BUILD_PLUGIN_HDDTEMP_TRUE@LoadPlugin hddtemp
 @BUILD_PLUGIN_INTERFACE_TRUE@LoadPlugin interface
 @BUILD_PLUGIN_IPTABLES_TRUE@LoadPlugin iptables
+@BUILD_PLUGIN_IPVS_TRUE@LoadPlugin ipvs
 @BUILD_PLUGIN_IRQ_TRUE@LoadPlugin irq
 @BUILD_PLUGIN_LOAD_TRUE@LoadPlugin load
 @BUILD_PLUGIN_LOGFILE_TRUE@LoadPlugin logfile
 @BUILD_PLUGIN_MBMON_TRUE@LoadPlugin mbmon
+@BUILD_PLUGIN_MEMCACHED_TRUE@LoadPlugin memcached
 @BUILD_PLUGIN_MEMORY_TRUE@LoadPlugin memory
 @BUILD_PLUGIN_MULTIMETER_TRUE@LoadPlugin multimeter
 @BUILD_PLUGIN_MYSQL_TRUE@LoadPlugin mysql
 @BUILD_PLUGIN_NETLINK_TRUE@LoadPlugin netlink
 @BUILD_PLUGIN_NETWORK_TRUE@LoadPlugin network
 @BUILD_PLUGIN_NFS_TRUE@LoadPlugin nfs
@@ -47,12 +49,13 @@
 @BUILD_PLUGIN_SENSORS_TRUE@LoadPlugin sensors
 @BUILD_PLUGIN_SERIAL_TRUE@LoadPlugin serial
 @BUILD_PLUGIN_SNMP_TRUE@LoadPlugin snmp
 @BUILD_PLUGIN_SWAP_TRUE@LoadPlugin swap
 @BUILD_PLUGIN_SYSLOG_TRUE@LoadPlugin syslog
 @BUILD_PLUGIN_TAPE_TRUE@LoadPlugin tape
+@BUILD_PLUGIN_TCPCONNS_TRUE@LoadPlugin tcpconns
 @BUILD_PLUGIN_UNIXSOCK_TRUE@LoadPlugin unixsock
 @BUILD_PLUGIN_USERS_TRUE@LoadPlugin users
 @BUILD_PLUGIN_VSERVER_TRUE@LoadPlugin vserver
 @BUILD_PLUGIN_WIRELESS_TRUE@LoadPlugin wireless
 @BUILD_PLUGIN_XMMS_TRUE@LoadPlugin xmms
 
@@ -95,13 +98,13 @@
 #<Plugin exec>
 #	Exec "user:group" "/path/to/exec"
 #</Plugin>
 
 #<Plugin hddtemp>
 #	Host "127.0.0.1"
-#	Port 7634
+#	Port "7634"
 #</Plugin>
 
 #<Plugin interface>
 #	Interface "eth0"
 #	IgnoreSelected false
 #</Plugin>
@@ -121,13 +124,18 @@
 #	LogLevel info
 #	File STDOUT
 #</Plugin>
 
 #<Plugin mbmon>
 #	Host "127.0.0.1"
-#	Port 411
+#	Port "411"
+#</Plugin>
+
+#<Plugin memcached>
+#	Host "127.0.0.1"
+#	Port "11211"
 #</Plugin>
 
 #<Plugin mysql>
 #	Host "database.serv.er"
 #	User "db_user"
 #	Password "secret"
@@ -231,11 +239,17 @@
 #</Plugin>
 
 #<Plugin syslog>
 #	LogLevel info
 #</Plugin>
 
+#<Plugin tcpconns>
+#	ListeningPorts false
+#	LocalPort "25"
+#	RemotePort "25"
+#</Plugin>
+
 #<Plugin unixsock>
 #	SocketFile "@prefix@/var/run/@PACKAGE_NAME@-unixsock"
 #	SocketGroup "collectd"
 #	SocketPerms "0660"
 #</Plugin>
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd.conf.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-email.5	2008-01-21 17:58:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-email.5	2007-10-27 17:20:54.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2007-10-24" "4.1.6" "collectd"
+.TH COLLECTD-EMAIL 5 "2007-10-24" "4.2.0" "collectd"
 .SH "NAME"
 collectd\-email \- Documentation of collectd's \f(CW\*(C`email plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd-email.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-exec.5	2008-01-21 17:58:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-exec.5	2007-10-27 17:20:54.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2008-01-21" "4.1.6" "collectd"
+.TH COLLECTD-EXEC 5 "2007-10-27" "4.2.0" "collectd"
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 7
 \&  # See collectd.conf(5)
@@ -169,13 +169,13 @@
 omitted, too.
 .Sp
 The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
 key\-value\-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 .Sp
-\&\fIValuelist\fR is a colon-seperated list of the time and the values, each either
+\&\fIValuelist\fR is a colon-separated list of the time and the values, each either
 an integer if the data-source is a counter, of a double if the data-source if
 of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
 submitting \fBU\fR to a counter the behavior is undefined. The time is given as
 epoch (i.\ e. standard \s-1UNIX\s0 time).
 .Sp
 You can mix options and values, but the order is important: Options only
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd-exec.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd.h	2007-11-10 23:15:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd.h	2007-10-26 23:13:41.000000000 +0800
@@ -192,12 +192,17 @@
 #endif
 
 #ifndef PLUGINDIR
 #define PLUGINDIR PREFIX "/lib/" PACKAGE_NAME
 #endif
 
+#define MODE_SERVER 0x01
+#define MODE_CLIENT 0x02
+#define MODE_LOCAL  0x04
+#define MODE_LOG    0x08
+
 #ifndef COLLECTD_GRP_NAME
 # define COLLECTD_GRP_NAME "collectd"
 #endif
 
 #define STATIC_ARRAY_LEN(array) (sizeof (array) / sizeof ((array)[0]))
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-nagios.1	2008-01-21 17:58:42.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-nagios.1	2007-10-27 17:20:53.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.1.6" "collectd"
+.TH COLLECTD-NAGIOS 1 "2007-10-27" "4.2.0" "collectd"
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd-nagios \fB\-s\fR \fIsocket\fR \fB\-n\fR \fIvalue_spec\fR \fB\-H\fR \fIhostname\fR \fI[options]\fR
 .SH "DESCRIPTION"
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd-nagios.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-perl.5	2008-01-21 17:58:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-perl.5	2007-10-27 17:20:54.000000000 +0800
@@ -126,40 +126,112 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2008-01-21" "4.1.6" "collectd"
+.TH COLLECTD-PERL 5 "2007-10-27" "4.2.0" "collectd"
 .SH "NAME"
 collectd\-perl \- Documentation of collectd's \f(CW\*(C`perl plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
-\&  # See collectd.conf(5)
 \&  LoadPlugin perl
 \&  # ...
 \&  <Plugin perl>
 \&    IncludeDir "/path/to/perl/plugins"
 \&    BaseName "Collectd::Plugin"
+\&    EnableDebugger ""
 \&    LoadPlugin "FooBar"
 \&  </Plugin>
 .Ve
 .SH "DESCRIPTION"
 .IX Header "DESCRIPTION"
-The \f(CW\*(C`perl plugin\*(C'\fR includes a Perl-interpreter in collectd and provides
-Perl-equivalents of the plugin\-functions. This makes it possible to write
-plugins for collectd in Perl. This is a lot more efficient than executing a
+The \f(CW\*(C`perl plugin\*(C'\fR embeds a Perl-interpreter into collectd and provides an
+interface to collectd's plugin system. This makes it possible to write plugins
+for collectd in Perl. This is a lot more efficient than executing a
 Perl-script every time you want to read a value with the \f(CW\*(C`exec plugin\*(C'\fR (see
 \&\fIcollectd\-exec\fR\|(5)) and provides a lot more functionality, too.
 .PP
 Please note that this is still considered to be experimental and subject to
 change between minor releases.
+.SH "CONFIGURATION"
+.IX Header "CONFIGURATION"
+.IP "\fBLoadPlugin\fR \fIPlugin\fR" 4
+.IX Item "LoadPlugin Plugin"
+Loads the Perl plugin \fIPlugin\fR. This does basically the same as \fBuse\fR would
+do in a Perl program. As a side effect, the first occurrence of this option
+causes the Perl-interpreter to be initialized.
+.IP "\fBBaseName\fR \fIName\fR" 4
+.IX Item "BaseName Name"
+Prepends \fIName\fR\fB::\fR to all plugin names loaded after this option. This is
+provided for convenience to keep plugin names short.
+.IP "\fBEnableDebugger\fR \fIPackage\fR[=\fIoption\fR,...]" 4
+.IX Item "EnableDebugger Package[=option,...]"
+Run collectd under the control of the Perl source debugger. If \fIPackage\fR is
+not the empty string, control is passed to the debugging, profiling, or
+tracing module installed as Devel::\fIPackage\fR. A comma-separated list of
+options may be specified after the \*(L"=\*(R" character. Please note that you may not
+leave out the \fIPackage\fR option even if you specify \fB""\fR. This is the same as
+using the \fB\-d:Package\fR command line option.
+.Sp
+See perldebug for detailed documentation about debugging Perl.
+.IP "\fBIncludeDir\fR \fIDir\fR" 4
+.IX Item "IncludeDir Dir"
+Adds \fIDir\fR to the \fB@INC\fR array. This is the same as using the \fB\-IDir\fR
+command line option or \fBuse lib Dir\fR in the source code. Please note that it
+only has effect on plugins loaded after this option.
+.SH "WRITING YOUR OWN PLUGINS"
+.IX Header "WRITING YOUR OWN PLUGINS"
+Writing your own plugins is quite simply. collectd manages plugins by means of
+\&\fBdispatch functions\fR which call the appropriate \fBcallback functions\fR
+registered by the plugins. Any plugin basically consists of the implementation
+of these callback functions and initializing code which registers the
+functions with collectd. See the section \*(L"\s-1EXAMPLES\s0\*(R" below for a really basic
+example. The following types of \fBcallback functions\fR are known to collectd
+(all of these are optional):
+.IP "init functions" 4
+.IX Item "init functions"
+This type of functions is called once after loading the module and before any
+calls to the read and write functions. It should be used to initialize the
+internal state of the plugin (e.\ g. open sockets, ...). If the return
+value evaluates to \fBfalse\fR, the plugin will be disabled.
+.IP "read functions" 4
+.IX Item "read functions"
+This type of function is used to collect the actual data. It is called once
+per interval (see the \fBInterval\fR configuration option of collectd). Usually
+it will call \fBplugin_dispatch_values\fR to dispatch the values to collectd
+which will pass them on to all registered \fBwrite functions\fR. If the return
+value evaluates to \fBfalse\fR the plugin will be skipped for an increasing
+amount of time until it returns \fBtrue\fR again.
+.IP "write functions" 4
+.IX Item "write functions"
+This type of function is used to write the dispatched values. It is called
+once for each call to \fBplugin_dispatch_values\fR.
+.IP "log functions" 4
+.IX Item "log functions"
+This type of function is used to pass messages of plugins or the daemon itself
+to the user.
+.IP "shutdown functions" 4
+.IX Item "shutdown functions"
+This type of function is called once before the daemon shuts down. It should
+be used to clean up the plugin (e.g. close sockets, ...).
+.PP
+See the documentation of the \fBplugin_register\fR method in the section
+\&\*(L"\s-1METHODS\s0\*(R" below for the number and types of arguments passed to each
+\&\fBcallback function\fR. This section also explains how to register \fBcallback
+functions\fR with collectd.
+.PP
+To enable a plugin, copy it to a place where Perl can find it (i.\ e. a
+directory listed in the \fB@INC\fR array) just as any other Perl plugin and add
+an appropriate \fBLoadPlugin\fR option to the configuration file. After
+restarting collectd you're done.
 .SH "DATA TYPES"
 .IX Header "DATA TYPES"
-There are two more complex types you need to know about:
+The following complex types are used to pass values between the Perl plugin
+and collectd:
 .IP "Data-Set" 4
 .IX Item "Data-Set"
 A data-set is a list of one or more data\-sources. Each data-source defines a
 name, type, min\- and max-value and the data-set wraps them up into one
 structure. The general layout looks like this:
 .Sp
@@ -171,16 +243,16 @@
 \&    max  => value || undef
 \&  }, ...]
 .Ve
 .IP "Value-List" 4
 .IX Item "Value-List"
 A value-list is one structure which features an array of values and fields to
-identify the values, i. e. time and host, plugin name and plugin-instance as
-well as a type and type\-instance. Since the \*(L"type\*(R" is not included in the
-value-list but is passed as an extra argument, the general layout looks like
-this:
+identify the values, i.\ e. time and host, plugin name and
+plugin-instance as well as a type and type\-instance. Since the \*(L"type\*(R" is not
+included in the value-list but is passed as an extra argument, the general
+layout looks like this:
 .Sp
 .Vb 8
 \&  {
 \&    values => [123, 0.5],
 \&    time   => time (),
 \&    host   => \(aqlocalhost\(aq,
@@ -189,14 +261,13 @@
 \&    type_instance   => \(aq\(aq
 \&  }
 .Ve
 .SH "METHODS"
 .IX Header "METHODS"
 The following functions provide the C\-interface to Perl\-modules. They are
-automatically exported into the module's namespace. You don't need to \f(CW\*(C`use\*(C'\fR
-any special Modules to access them.
+exported by the \*(L":plugin\*(R" export tag (see the section \*(L"\s-1EXPORTS\s0\*(R" below).
 .IP "\fBplugin_register\fR (\fItype\fR, \fIname\fR, \fIdata\fR)" 4
 .IX Item "plugin_register (type, name, data)"
 Registers a callback-function or data\-set.
 .Sp
 \&\fItype\fR can be one of:
 .RS 4
@@ -222,13 +293,15 @@
 is the value passed as \fIname\fR here and has nothing to do with the \fItype\fR
 argument which simply tells \fBplugin_register\fR what is being registered.)
 .Sp
 The last argument, \fIdata\fR, is either a function\- or an array\-reference. If
 \&\fItype\fR is \fB\s-1TYPE_DATASET\s0\fR, then the \fIdata\fR argument must be an
 array-reference which points to an array of hashes. Each hash describes one
-data\-source. For the exact layout see \fBData-Set\fR above.
+data\-source. For the exact layout see \fBData-Set\fR above. Please note that
+there is a large number of predefined data-sets available in the \fBtypes.db\fR
+file which are automatically registered with collectd.
 .Sp
 If the \fItype\fR argument is any of the other types (\fB\s-1TYPE_INIT\s0\fR, \fB\s-1TYPE_READ\s0\fR,
 \&...) then \fIdata\fR is expected to be a function reference. These functions are
 called in the various stages of the daemon and are passed the following
 arguments:
 .IP "\s-1TYPE_INIT\s0" 4
@@ -265,17 +338,154 @@
 type, data-set and value-list is passed to all write-callbacks that are
 registered with the daemon.
 .IP "\fBplugin_log\fR (\fIlog-level\fR, \fImessage\fR)" 4
 .IX Item "plugin_log (log-level, message)"
 Submits a \fImessage\fR of level \fIlog-level\fR to collectd's logging mechanism.
 The message is passed to all log-callbacks that are registered with collectd.
+.IP "\fB\s-1ERROR\s0\fR, \fB\s-1WARNING\s0\fR, \fB\s-1NOTICE\s0\fR, \fB\s-1INFO\s0\fR, \fB\s-1DEBUG\s0\fR (\fImessage\fR)" 4
+.IX Item "ERROR, WARNING, NOTICE, INFO, DEBUG (message)"
+Wrappers around \fBplugin_log\fR, using \fB\s-1LOG_ERR\s0\fR, \fB\s-1LOG_WARNING\s0\fR,
+\&\fB\s-1LOG_NOTICE\s0\fR, \fB\s-1LOG_INFO\s0\fR and \fB\s-1LOG_DEBUG\s0\fR respectively as \fIlog-level\fR.
+.SH "EXPORTS"
+.IX Header "EXPORTS"
+By default no symbols are exported. However, the following export tags are
+available (\fB:all\fR will export all of them):
+.IP "\fB:plugin\fR" 4
+.IX Item ":plugin"
+.RS 4
+.PD 0
+.IP "\fBplugin_register\fR ()" 4
+.IX Item "plugin_register ()"
+.IP "\fBplugin_unregister\fR ()" 4
+.IX Item "plugin_unregister ()"
+.IP "\fBplugin_dispatch_values\fR ()" 4
+.IX Item "plugin_dispatch_values ()"
+.IP "\fBplugin_log\fR ()" 4
+.IX Item "plugin_log ()"
+.RE
+.RS 4
+.RE
+.IP "\fB:types\fR" 4
+.IX Item ":types"
+.RS 4
+.IP "\fB\s-1TYPE_INIT\s0\fR" 4
+.IX Item "TYPE_INIT"
+.IP "\fB\s-1TYPE_READ\s0\fR" 4
+.IX Item "TYPE_READ"
+.IP "\fB\s-1TYPE_WRITE\s0\fR" 4
+.IX Item "TYPE_WRITE"
+.IP "\fB\s-1TYPE_SHUTDOWN\s0\fR" 4
+.IX Item "TYPE_SHUTDOWN"
+.IP "\fB\s-1TYPE_LOG\s0\fR" 4
+.IX Item "TYPE_LOG"
+.RE
+.RS 4
+.RE
+.IP "\fB:ds_types\fR" 4
+.IX Item ":ds_types"
+.RS 4
+.IP "\fB\s-1DS_TYPE_COUNTER\s0\fR" 4
+.IX Item "DS_TYPE_COUNTER"
+.IP "\fB\s-1DS_TYPE_GAUGE\s0\fR" 4
+.IX Item "DS_TYPE_GAUGE"
+.RE
+.RS 4
+.RE
+.IP "\fB:log\fR" 4
+.IX Item ":log"
+.RS 4
+.IP "\fB\s-1ERROR\s0\fR ()" 4
+.IX Item "ERROR ()"
+.IP "\fB\s-1WARNING\s0\fR ()" 4
+.IX Item "WARNING ()"
+.IP "\fB\s-1NOTICE\s0\fR ()" 4
+.IX Item "NOTICE ()"
+.IP "\fB\s-1INFO\s0\fR ()" 4
+.IX Item "INFO ()"
+.IP "\fB\s-1DEBUG\s0\fR ()" 4
+.IX Item "DEBUG ()"
+.IP "\fB\s-1LOG_ERR\s0\fR" 4
+.IX Item "LOG_ERR"
+.IP "\fB\s-1LOG_WARNING\s0\fR" 4
+.IX Item "LOG_WARNING"
+.IP "\fB\s-1LOG_NOTICE\s0\fR" 4
+.IX Item "LOG_NOTICE"
+.IP "\fB\s-1LOG_INFO\s0\fR" 4
+.IX Item "LOG_INFO"
+.IP "\fB\s-1LOG_DEBUG\s0\fR" 4
+.IX Item "LOG_DEBUG"
+.RE
+.RS 4
+.RE
+.PD
+.SH "EXAMPLES"
+.IX Header "EXAMPLES"
+Any Perl plugin will start similar to:
+.PP
+.Vb 1
+\&  package Collectd::Plugins::FooBar;
+.Ve
+.PP
+.Vb 2
+\&  use strict;
+\&  use warnings;
+.Ve
+.PP
+.Vb 1
+\&  use Collectd qw( :all );
+.Ve
+.PP
+A very simple read function will look like:
+.PP
+.Vb 7
+\&  sub foobar_read
+\&  {
+\&    my $vl = { plugin => \(aqfoobar\(aq };
+\&    $vl\->{\(aqvalues\(aq} = [ rand(42) ];
+\&    plugin_dispatch_values (\(aqgauge\(aq, $vl);
+\&    return 1;
+\&  }
+.Ve
+.PP
+A very simple write function will look like:
+.PP
+.Vb 8
+\&  sub foobar_write
+\&  {
+\&    my ($type, $ds, $vl) = @_;
+\&    for (my $i = 0; $i < scalar (@$ds); ++$i) {
+\&      print "$vl\->{\(aqplugin\(aq} ($vl\->{\(aqtype\(aq}): $vl\->{\(aqvalues\(aq}\->[$i]\en";
+\&    }
+\&    return 1;
+\&  }
+.Ve
+.PP
+To register those functions with collectd:
+.PP
+.Vb 2
+\&  plugin_register (TYPE_READ, "foobar", \e&foobar_read);
+\&  plugin_register (TYPE_WRITE, "foobar", \e&foobar_write);
+.Ve
+.PP
+See the section \*(L"\s-1DATA\s0 \s-1TYPES\s0\*(R" above for a complete documentation of the data
+types used by the read and write functions.
+.SH "BUGS"
+.IX Header "BUGS"
+This plugin does not yet work correctly if collectd uses multiple threads.
+Perl does not allow multiple threads to access a single interpreter at the
+same time. As a temporary workaround you should use a single read thread only
+(see collectd's \fBReadThread\fR configuration option).
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd\fR\|(1),
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-exec\fR\|(5),
-\&\fIperl\fR\|(1)
+\&\fIperl\fR\|(1),
+\&\fIperldebug\fR\|(1)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
-The \f(CW\*(C`perl plugin\*(C'\fR has been written by Sebastian Harl <sh\ at\ tokkee.org>.
+The \f(CW\*(C`perl plugin\*(C'\fR has been written by Sebastian Harl
+<sh\ at\ tokkee.org>.
 .PP
-This manpage has been written by Florian Forster <octo\ at\ verplant.org>.
+This manpage has been written by Florian Forster
+<octo\ at\ verplant.org> and Sebastian Harl
+<sh\ at\ tokkee.org>.
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd-perl.pod
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-snmp.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-snmp.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-snmp.5	2008-01-21 17:58:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-snmp.5	2007-10-27 17:20:54.000000000 +0800
@@ -126,31 +126,33 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-SNMP 5"
-.TH COLLECTD-SNMP 5 "2008-01-21" "4.1.6" "collectd"
+.TH COLLECTD-SNMP 5 "2007-10-27" "4.2.0" "collectd"
 .SH "NAME"
 collectd\-snmp \- Documentation of collectd's \f(CW\*(C`snmp plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
-.Vb 21
+.Vb 23
 \&  LoadPlugin snmp
 \&  # ...
 \&  <Plugin snmp>
 \&    <Data "powerplus_voltge_input">
 \&      Type "voltage"
 \&      Table false
 \&      Instance "input_line1"
+\&      Scale 0.1
 \&      Values "SNMPv2\-SMI::enterprises.6050.5.4.1.1.2.1"
 \&    </Data>
 \&    <Data "hr_users">
 \&      Type "users"
 \&      Table false
 \&      Instance ""
+\&      Shift \-1
 \&      Values "HOST\-RESOURCES\-MIB::hrSystemNumUsers.0"
 \&    </Data>
 \&    <Data "std_traffic">
 \&      Type "if_octets"
 \&      Table true
 \&      Instance "IF\-MIB::ifDescr"
@@ -161,13 +163,13 @@
 .Vb 21
 \&    <Host "some.switch.mydomain.org">
 \&      Address "192.168.0.2"
 \&      Version 1
 \&      Community "community_string"
 \&      Collect "std_traffic"
-\&      Interval 120
+\&      Inverval 120
 \&    </Host>
 \&    <Host "some.server.mydomain.org">
 \&      Address "192.168.0.42"
 \&      Version 2
 \&      Community "another_string"
 \&      Collect "std_traffic" "hr_users"
@@ -194,14 +196,15 @@
 and ten threads are used.
 .SH "CONFIGURATION"
 .IX Header "CONFIGURATION"
 Since the aim of the \f(CW\*(C`snmp plugin\*(C'\fR is to provide a generic interface to \s-1SNMP\s0,
 it's configuration is not trivial and may take some time.
 .PP
-Since the \f(CW\*(C`Net\-SNMP\*(C'\fR library is used you can use all the environment variables
-that are interpreted by that package. See \fIsnmpcmd\fR\|(1) for more details.
+Since the \f(CW\*(C`Net\-SNMP\*(C'\fR library is used you can use all the environment
+variables that are interpreted by that package. See \fIsnmpcmd\fR\|(1) for more
+details.
 .PP
 There are two types of blocks that can be contained in the
 \&\f(CW\*(C`<Plugin\ snmp>\*(C'\fR block: \fBData\fR and \fBHost\fR:
 .Sh "The \fBData\fP block"
 .IX Subsection "The Data block"
 The \fBData\fR block defines a list of values or a table of values that are to be
@@ -251,19 +254,35 @@
 .IP "\fBInstance\fR \fIInstance\fR" 4
 .IX Item "Instance Instance"
 Sets the type-instance of the values that are dispatched. The meaning of this
 setting depends on whether \fBTable\fR is set to \fItrue\fR or \fIfalse\fR:
 .Sp
 If \fBTable\fR is set to \fItrue\fR, \fIInstance\fR is interpreted as an SNMP-prefix
-that will return a list of strings. Those strings are then used as the actual
+that will return a list of values. Those values are then used as the actual
 type\-instance. An example would be the \f(CW\*(C`IF\-MIB::ifDescr\*(C'\fR subtree.
 \&\fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution describes the format of OIDs.
 .Sp
+If \fBTable\fR is set to \fItrue\fR and \fBInstance\fR is omitted, then \*(L"\s-1SUBID\s0\*(R" will be
+used as the instance.
+.Sp
 If \fBTable\fR is set to \fIfalse\fR the actual string configured for \fIInstance\fR is
 copied into the value\-list. In this case \fIInstance\fR may be empty, i.\ e.
 "".
+.IP "\fBInstancePrefix\fR \fIString\fR" 4
+.IX Item "InstancePrefix String"
+If \fBTable\fR is set to \fItrue\fR, you may feel the need to add something to the
+instance of the files. If set, \fIString\fR is prepended to the instance as
+determined by querying the agent. When \fBTable\fR is set to \fIfalse\fR this option
+has no effect.
+.Sp
+The \f(CW\*(C`UPS\-MIB\*(C'\fR is an example where you need this setting: It has voltages of
+the inlets, outlets and the battery of an \s-1UPS\s0. However, it doesn't provide a
+descriptive column for these voltages. In this case having 1, 2,\ ... as
+instances is not enough, because the inlet voltages and outlet voltages may
+both have the subids 1, 2,\ ... You can use this setting to distinguish
+between the different voltages.
 .IP "\fBValues\fR \fI\s-1OID\s0\fR [\fI\s-1OID\s0\fR ...]" 4
 .IX Item "Values OID [OID ...]"
 Configures the values to be queried from the \s-1SNMP\s0 host. The meaning slightly
 changes with the \fBTable\fR setting. \fIvariables\fR\|(5) from the \s-1SNMP\s0 distribution
 describes the format of OIDs.
 .Sp
@@ -272,25 +291,41 @@
 incoming traffic. This subtree is walked (using \f(CW\*(C`GETNEXT\*(C'\fR) until a value from
 outside the subtree is returned.
 .Sp
 If \fBTable\fR is set to \fIfalse\fR, each \fI\s-1OID\s0\fR must be the \s-1OID\s0 of exactly one
 value, e.\ g. \f(CW\*(C`IF\-MIB::ifInOctets.3\*(C'\fR for the third counter of incoming
 traffic.
+.IP "\fBScale\fR \fIValue\fR" 4
+.IX Item "Scale Value"
+The gauge-values returned by the SNMP-agent are multiplied by \fIValue\fR.  This
+is useful when values are transfered as a fixed point real number. For example,
+thermometers may transfer \fB243\fR but actually mean \fB24.3\fR, so you can specify
+a scale value of \fB0.1\fR to correct this. The default value is of course \fB1.0\fR.
+.Sp
+This value is not applied to counter\-values.
+.IP "\fBShift\fR \fIValue\fR" 4
+.IX Item "Shift Value"
+\&\fIValue\fR is added to gauge-values returned by the SNMP-agent after they have
+been multiplied by any \fBScale\fR value. If, for example, a thermometer returns
+degrees Kelvin you could specify a shift of \fB273.15\fR here to store values in
+degrees Celsius. The default value is is course \fB0.0\fR.
+.Sp
+This value is not applied to counter\-values.
 .Sh "The Host block"
 .IX Subsection "The Host block"
 The \fBHost\fR block defines which hosts to query, which \s-1SNMP\s0 community and
 version to use and which of the defined \fBData\fR to query.
 .PP
 The argument passed to the \fBHost\fR block is used as the hostname in the data
 stored by collectd.
 .IP "\fBAddress\fR \fIIP-Address\fR|\fIHostname\fR" 4
 .IX Item "Address IP-Address|Hostname"
 Set the address to connect to.
 .IP "\fBVersion\fR \fB1\fR|\fB2\fR" 4
 .IX Item "Version 1|2"
-Set the \s-1SNMP\s0 version to use. When giving \fB2\fR version \f(CW\*(C`2c\*(C'\fR is actually used.
+Set the \s-1SNMP\s0 version to use. When giving \fB2\fR version 2c is actually used.
 Version 3 is not supported by this plugin.
 .IP "\fBCommunity\fR \fICommunity\fR" 4
 .IX Item "Community Community"
 Pass \fICommunity\fR to the host.
 .IP "\fBCollect\fR \fIData\fR [\fIData\fR ...]" 4
 .IX Item "Collect Data [Data ...]"
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd-snmp.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/collectd-unixsock.5	2008-01-21 17:58:43.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/collectd-unixsock.5	2007-10-27 17:20:54.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2008-01-21" "4.1.6" "collectd"
+.TH COLLECTD-UNIXSOCK 5 "2007-10-27" "4.2.0" "collectd"
 .SH "NAME"
 collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -175,19 +175,19 @@
 .Sp
 Example:
   \-> | \s-1GETVAL\s0 myhost/cpu\-0/cpu\-user
   <\- | 1 value=1.260000e+00
 .IP "\fB\s-1LISTVAL\s0\fR" 4
 .IX Item "LISTVAL"
-Returnes a list of the values available in the value cache together with the
+Returns a list of the values available in the value cache together with the
 time of the last update, so that querying applications can issue a \fB\s-1GETVAL\s0\fR
 command for the values that have changed.
 .Sp
 The first line's status number is the number of identifiers returned or less
-than zero if an error occured. Each of the following lines containes the
-update time as an epoch value and the identifier, seperated by a space.
+than zero if an error occurred. Each of the following lines contains the
+update time as an epoch value and the identifier, separated by a space.
 .Sp
 Example:
   \-> | \s-1LISTVAL\s0
   <\- | 69 Values found
   <\- | 1182204284 leeloo/cpu\-0/cpu\-idle
   <\- | 1182204284 leeloo/cpu\-0/cpu\-nice
@@ -205,13 +205,13 @@
 omitted, too.
 .Sp
 The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
 key\-value\-pair. A list of currently understood options can be found below, all
 other options will be ignored.
 .Sp
-\&\fIValuelist\fR is a colon-seperated list of the time and the values, each either
+\&\fIValuelist\fR is a colon-separated list of the time and the values, each either
 an integer if the data-source is a counter, of a double if the data-source if
 of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
 submitting \fBU\fR to a counter the behavior is undefined. The time is given as
 epoch (i.\ e. standard \s-1UNIX\s0 time).
 .Sp
 You can mix options and values, but the order is important: Options only
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: collectd-unixsock.pod
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/configfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/configfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/configfile.c	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/configfile.c	2007-10-27 17:04:59.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/configfile.c
- * Copyright (C) 2005-2008  Florian octo Forster
+ * Copyright (C) 2005,2006  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; either version 2 of the License, or (at your
  * option) any later version.
  *
@@ -123,15 +123,13 @@
 			ESCAPE_NULL(type),
 			ESCAPE_NULL(orig_key),
 			ESCAPE_NULL(orig_value));
 
 	if ((cf_cb = cf_search (type)) == NULL)
 	{
-		WARNING ("Found a configuration for the `%s' plugin, but "
-				"the plugin isn't loaded or didn't register "
-				"a configuration callback.", type);
+		WARNING ("Plugin `%s' did not register a callback.", type);
 		return (-1);
 	}
 
 	if ((key = strdup (orig_key)) == NULL)
 		return (1);
 	if ((value = strdup (orig_value)) == NULL)
@@ -301,12 +299,134 @@
 	if (strcasecmp (ci->key, "Plugin") == 0)
 		return (dispatch_block_plugin (ci));
 
 	return (0);
 }
 
+#define CF_MAX_DEPTH 8
+static oconfig_item_t *cf_read_file (const char *file, int depth);
+
+static int cf_include_all (oconfig_item_t *root, int depth)
+{
+	int i;
+
+	for (i = 0; i < root->children_num; i++)
+	{
+		oconfig_item_t *new;
+		oconfig_item_t *old;
+
+		/* Ignore all blocks, including `Include' blocks. */
+		if (root->children[i].children_num != 0)
+			continue;
+
+		if (strcasecmp (root->children[i].key, "Include") != 0)
+			continue;
+
+		old = root->children + i;
+
+		if ((old->values_num != 1)
+				|| (old->values[0].type != OCONFIG_TYPE_STRING))
+		{
+			ERROR ("configfile: `Include' needs exactly one string argument.");
+			continue;
+		}
+
+		new = cf_read_file (old->values[0].value.string, depth + 1);
+		if (new == NULL)
+			continue;
+
+		/* There are more children now. We need to expand
+		 * root->children. */
+		if (new->children_num > 1)
+		{
+			oconfig_item_t *temp;
+
+			DEBUG ("configfile: Resizing root-children from %i to %i elements.",
+					root->children_num,
+					root->children_num + new->children_num - 1);
+
+			temp = (oconfig_item_t *) realloc (root->children,
+					sizeof (oconfig_item_t)
+					* (root->children_num + new->children_num - 1));
+			if (temp == NULL)
+			{
+				ERROR ("configfile: realloc failed.");
+				oconfig_free (new);
+				continue;
+			}
+			root->children = temp;
+		}
+
+		/* Clean up the old include directive while we still have a
+		 * valid pointer */
+		DEBUG ("configfile: Cleaning up `old'");
+		/* sfree (old->values[0].value.string); */
+		sfree (old->values);
+
+		/* If there are trailing children and the number of children
+		 * changes, we need to move the trailing ones either one to the
+		 * front or (new->num - 1) to the back */
+		if (((root->children_num - i) > 1)
+				&& (new->children_num != 1))
+		{
+			DEBUG ("configfile: Moving trailing children.");
+			memmove (root->children + i + new->children_num,
+					root->children + i + 1,
+					sizeof (oconfig_item_t)
+					* (root->children_num - (i + 1)));
+		}
+
+		/* Now copy the new children to where the include statement was */
+		if (new->children_num > 0)
+		{
+			DEBUG ("configfile: Copying new children.");
+			memcpy (root->children + i,
+					new->children,
+					sizeof (oconfig_item_t)
+					* new->children_num);
+		}
+
+		/* Adjust the number of children and the position in the list. */
+		root->children_num = root->children_num + new->children_num - 1;
+		i = i + new->children_num - 1;
+
+		/* Clean up the `new' struct. We set `new->children' to NULL so
+		 * the stuff we've just copied pointers to isn't freed by
+		 * `oconfig_free' */
+		DEBUG ("configfile: Cleaning up `new'");
+		sfree (new->values); /* should be NULL anyway */
+		sfree (new);
+		new = NULL;
+	} /* for (i = 0; i < root->children_num; i++) */
+
+	return (0);
+} /* int cf_include_all */
+
+static oconfig_item_t *cf_read_file (const char *file, int depth)
+{
+	oconfig_item_t *root;
+
+	if (depth >= CF_MAX_DEPTH)
+	{
+		ERROR ("configfile: Not including `%s' because the maximum nesting depth has been reached.",
+				file);
+		return (NULL);
+	}
+
+	root = oconfig_parse_file (file);
+	if (root == NULL)
+	{
+		ERROR ("configfile: Cannot read file `%s'.", file);
+		return (NULL);
+	}
+
+	cf_include_all (root, depth);
+
+	return (root);
+} /* oconfig_item_t *cf_read_file */
+
 /* 
  * Public functions
  */
 int global_option_set (const char *option, const char *value)
 {
 	int i;
@@ -442,13 +562,13 @@
 
 int cf_read (char *filename)
 {
 	oconfig_item_t *conf;
 	int i;
 
-	conf = oconfig_parse_file (filename);
+	conf = cf_read_file (filename, 0 /* depth */);
 	if (conf == NULL)
 	{
 		ERROR ("Unable to read config file %s.", filename);
 		return (-1);
 	}
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/config.h.in	2008-01-21 17:57:50.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/config.h.in	2007-10-27 17:18:32.000000000 +0800
@@ -15,15 +15,12 @@
 /* Wether or not to use the pcap library */
 #undef COLLECT_LIBPCAP
 
 /* Wether or not to use statgrab library */
 #undef COLLECT_LIBSTATGRAB
 
-/* Wether or not to use sensors library */
-#undef COLLECT_LM_SENSORS
-
 /* Define to 1 if you have the <arpa/inet.h> header file. */
 #undef HAVE_ARPA_INET_H
 
 /* Define to 1 if you have the <arpa/nameser_compat.h> header file. */
 #undef HAVE_ARPA_NAMESER_COMPAT_H
 
@@ -139,12 +136,15 @@
    file. */
 #undef HAVE_IOKIT_STORAGE_IOBLOCKSTORAGEDRIVER_H
 
 /* Define to 1 if you have the <iproute/libnetlink.h> header file. */
 #undef HAVE_IPROUTE_LIBNETLINK_H
 
+/* Define to 1 if you have the <ip_vs.h> header file. */
+#undef HAVE_IP_VS_H
+
 /* Define to 1 if you have the <kstat.h> header file. */
 #undef HAVE_KSTAT_H
 
 /* Define to 1 if `nwrites' is member of `kstat_io_t'. */
 #undef HAVE_KSTAT_IO_T_NWRITES
 
@@ -172,15 +172,12 @@
 /* Define to 1 if you have the 'kstat' library (-lkstat) */
 #undef HAVE_LIBKSTAT
 
 /* Define to 1 if you have the 'kvm' library (-lkvm) */
 #undef HAVE_LIBKVM
 
-/* Define to 1 if you have the `m' library (-lm). */
-#undef HAVE_LIBM
-
 /* Define to 1 if you have the <libnetlink.h> header file. */
 #undef HAVE_LIBNETLINK_H
 
 /* Define to 1 if you have the pcap library (-lpcap). */
 #undef HAVE_LIBPCAP
 
@@ -343,12 +340,15 @@
 /* Define to 1 if you have the <net/if.h> header file. */
 #undef HAVE_NET_IF_H
 
 /* Define to 1 if you have the <net/if_ppp.h> header file. */
 #undef HAVE_NET_IF_PPP_H
 
+/* Define to 1 if you have the <net/ip_vs.h> header file. */
+#undef HAVE_NET_IP_VS_H
+
 /* Define to 1 if you have the <net/ppp_defs.h> header file. */
 #undef HAVE_NET_PPP_DEFS_H
 
 /* Define to 1 if you have the <net-snmp/net-snmp-config.h> header file. */
 #undef HAVE_NET_SNMP_NET_SNMP_CONFIG_H
 
@@ -409,24 +409,30 @@
 /* Define to 1 if the interface plugin is enabled. */
 #undef HAVE_PLUGIN_INTERFACE
 
 /* Define to 1 if the iptables plugin is enabled. */
 #undef HAVE_PLUGIN_IPTABLES
 
+/* Define to 1 if the ipvs plugin is enabled. */
+#undef HAVE_PLUGIN_IPVS
+
 /* Define to 1 if the irq plugin is enabled. */
 #undef HAVE_PLUGIN_IRQ
 
 /* Define to 1 if the load plugin is enabled. */
 #undef HAVE_PLUGIN_LOAD
 
 /* Define to 1 if the logfile plugin is enabled. */
 #undef HAVE_PLUGIN_LOGFILE
 
 /* Define to 1 if the mbmon plugin is enabled. */
 #undef HAVE_PLUGIN_MBMON
 
+/* Define to 1 if the memcached plugin is enabled. */
+#undef HAVE_PLUGIN_MEMCACHED
+
 /* Define to 1 if the memory plugin is enabled. */
 #undef HAVE_PLUGIN_MEMORY
 
 /* Define to 1 if the multimeter plugin is enabled. */
 #undef HAVE_PLUGIN_MULTIMETER
 
@@ -439,12 +445,15 @@
 /* Define to 1 if the network plugin is enabled. */
 #undef HAVE_PLUGIN_NETWORK
 
 /* Define to 1 if the nfs plugin is enabled. */
 #undef HAVE_PLUGIN_NFS
 
+/* Define to 1 if the nginx plugin is enabled. */
+#undef HAVE_PLUGIN_NGINX
+
 /* Define to 1 if the ntpd plugin is enabled. */
 #undef HAVE_PLUGIN_NTPD
 
 /* Define to 1 if the nut plugin is enabled. */
 #undef HAVE_PLUGIN_NUT
 
@@ -475,12 +484,15 @@
 /* Define to 1 if the syslog plugin is enabled. */
 #undef HAVE_PLUGIN_SYSLOG
 
 /* Define to 1 if the tape plugin is enabled. */
 #undef HAVE_PLUGIN_TAPE
 
+/* Define to 1 if the tcpconns plugin is enabled. */
+#undef HAVE_PLUGIN_TCPCONNS
+
 /* Define to 1 if the unixsock plugin is enabled. */
 #undef HAVE_PLUGIN_UNIXSOCK
 
 /* Define to 1 if the users plugin is enabled. */
 #undef HAVE_PLUGIN_USERS
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/email.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/email.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/email.c	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/email.c	2007-10-27 17:04:59.000000000 +0800
@@ -36,12 +36,14 @@
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #include "configfile.h"
 
+#include <stddef.h>
+
 #if HAVE_LIBPTHREAD
 # include <pthread.h>
 #endif
 
 #include <sys/socket.h>
 #include <sys/un.h>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/exec.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/exec.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/exec.c	2008-01-11 18:16:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/exec.c	2007-10-25 01:21:24.000000000 +0800
@@ -292,13 +292,12 @@
   if (fh == NULL)
   {
     char errbuf[1024];
     ERROR ("exec plugin: fdopen (%i) failed: %s", fd,
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     kill (pl->pid, SIGTERM);
-    pl->pid = 0;
     close (fd);
     pthread_exit ((void *) 1);
   }
 
   while (fgets (buffer, sizeof (buffer), fh) != NULL)
   {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/hddtemp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/hddtemp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/hddtemp.c	2007-11-10 23:15:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/hddtemp.c	2007-10-25 01:21:24.000000000 +0800
@@ -141,13 +141,13 @@
 		}
 
 		/* connect to the hddtemp daemon */
 		if (connect (fd, (struct sockaddr *) ai_ptr->ai_addr, ai_ptr->ai_addrlen))
 		{
 			char errbuf[1024];
-			INFO ("hddtemp: connect (%s, %s): %s", host, port,
+			DEBUG ("hddtemp: connect (%s, %s): %s", host, port,
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 			close (fd);
 			fd = -1;
 			continue;
 		}
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: ipvs.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/liboconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/liboconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/liboconfig/Makefile.in	2008-01-21 17:55:17.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/liboconfig/Makefile.in	2007-10-27 17:22:14.000000000 +0800
@@ -115,32 +115,38 @@
 BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
 BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
 BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
 BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
 BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
 BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
 BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
 BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
 BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
 BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
 BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
 BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
 BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
 BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
 BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
 BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
 BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
 BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
 BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
 BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
 BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
 BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
 BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
 BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
 BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
 BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
 BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
 BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
 BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
 BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
 BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
 BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
@@ -159,12 +165,14 @@
 BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
 BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
 BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
 BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
 BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
 BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
 BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
 BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
 BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
 BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
 BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
 BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
@@ -209,12 +217,14 @@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
+BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
@@ -276,12 +286,15 @@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
 PACKAGE_VERSION = @PACKAGE_VERSION@
 PATH_SEPARATOR = @PATH_SEPARATOR@
+PERL = @PERL@
+PERL_BINDINGS = @PERL_BINDINGS@
+PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/liboping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/liboping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/liboping/Makefile.in	2008-01-21 17:55:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/liboping/Makefile.in	2007-10-27 17:22:15.000000000 +0800
@@ -111,32 +111,38 @@
 BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
 BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
 BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
 BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
 BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
 BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
 BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
 BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
 BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
 BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
 BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
 BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
 BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
 BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
 BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
 BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
 BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
 BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
 BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
 BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
 BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
 BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
 BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
 BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
 BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
 BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
 BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
 BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
 BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
 BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
 BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
 BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
@@ -155,12 +161,14 @@
 BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
 BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
 BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
 BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
 BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
 BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
 BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
 BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
 BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
 BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
 BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
 BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
@@ -205,12 +213,14 @@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
+BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
@@ -272,12 +282,15 @@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
 PACKAGE_VERSION = @PACKAGE_VERSION@
 PATH_SEPARATOR = @PATH_SEPARATOR@
+PERL = @PERL@
+PERL_BINDINGS = @PERL_BINDINGS@
+PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/logfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/logfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/logfile.c	2008-01-21 17:53:47.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/logfile.c	2007-10-27 17:04:59.000000000 +0800
@@ -1,10 +1,9 @@
 /**
  * collectd - src/logfile.c
  * Copyright (C) 2007  Sebastian Harl
- * Copyright (C) 2007  Florian Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -33,17 +32,19 @@
 static int log_level = LOG_INFO;
 #endif /* COLLECT_DEBUG */
 
 static pthread_mutex_t file_lock = PTHREAD_MUTEX_INITIALIZER;
 
 static char *log_file = NULL;
+static int print_timestamp = 1;
 
 static const char *config_keys[] =
 {
 	"LogLevel",
-	"File"
+	"File",
+	"Timestamp"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 static int logfile_config (const char *key, const char *value)
 {
 	if (0 == strcasecmp (key, "LogLevel")) {
@@ -66,26 +67,47 @@
 			return 1;
 	}
 	else if (0 == strcasecmp (key, "File")) {
 		sfree (log_file);
 		log_file = strdup (value);
 	}
+	else if (0 == strcasecmp (key, "File")) {
+		if ((strcasecmp (value, "false") == 0)
+				|| (strcasecmp (value, "no") == 0)
+				|| (strcasecmp (value, "off") == 0))
+			print_timestamp = 0;
+		else
+			print_timestamp = 1;
+	}
 	else {
 		return -1;
 	}
 	return 0;
 } /* int logfile_config (const char *, const char *) */
 
 static void logfile_log (int severity, const char *msg)
 {
 	FILE *fh;
 	int do_close = 0;
+	time_t timestamp_time;
+	struct tm timestamp_tm;
+	char timestamp_str[64];
 
 	if (severity > log_level)
 		return;
 
+	if (print_timestamp)
+	{
+		timestamp_time = time (NULL);
+		localtime_r (&timestamp_time, &timestamp_tm);
+
+		strftime (timestamp_str, sizeof (timestamp_str), "%Y-%m-%d %H:%M:%S",
+				&timestamp_tm);
+		timestamp_str[sizeof (timestamp_str) - 1] = '\0';
+	}
+
 	pthread_mutex_lock (&file_lock);
 
 	if ((log_file == NULL) || (strcasecmp (log_file, "stderr") == 0))
 		fh = stderr;
 	else if (strcasecmp (log_file, "stdout") == 0)
 		fh = stdout;
@@ -101,13 +123,17 @@
 			fprintf (stderr, "logfile plugin: fopen (%s) failed: %s\n",
 					(log_file == NULL) ? "<null>" : log_file,
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 	else
 	{
-		fprintf (fh, "%s\n", msg);
+		if (print_timestamp)
+			fprintf (fh, "[%s] %s\n", timestamp_str, msg);
+		else
+			fprintf (fh, "%s\n", msg);
+
 		if (do_close != 0)
 			fclose (fh);
 	}
 
 	pthread_mutex_unlock (&file_lock);
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/Makefile.am	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/Makefile.am	2007-10-27 17:04:59.000000000 +0800
@@ -257,12 +257,20 @@
 iptables_la_SOURCES = iptables.c
 iptables_la_LDFLAGS = -module -avoid-version -liptc
 collectd_LDADD += "-dlopen" iptables.la
 collectd_DEPENDENCIES += iptables.la
 endif
 
+if BUILD_PLUGIN_IPVS
+pkglib_LTLIBRARIES += ipvs.la
+ipvs_la_SOURCES = ipvs.c
+ipvs_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" ipvs.la
+collectd_DEPENDENCIES += ipvs.la
+endif
+
 if BUILD_PLUGIN_IRQ
 pkglib_LTLIBRARIES += irq.la
 irq_la_SOURCES = irq.c
 irq_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" irq.la
 collectd_DEPENDENCIES += irq.la
@@ -301,12 +309,25 @@
 mbmon_la_LDFLAGS += -lsocket
 endif
 collectd_LDADD += "-dlopen" mbmon.la
 collectd_DEPENDENCIES += mbmon.la
 endif
 
+if BUILD_PLUGIN_MEMCACHED
+pkglib_LTLIBRARIES += memcached.la
+memcached_la_SOURCES = memcached.c
+memcached_la_LDFLAGS = -module -avoid-version
+memcached_la_CFLAGS =
+memcached_la_LIBADD =
+if BUILD_WITH_LIBSOCKET
+memcached_la_LDFLAGS += -lsocket
+endif
+collectd_LDADD += "-dlopen" memcached.la
+collectd_DEPENDENCIES += memcached.la
+endif
+
 if BUILD_PLUGIN_MEMORY
 pkglib_LTLIBRARIES += memory.la
 memory_la_SOURCES = memory.c
 memory_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" memory.la
 collectd_DEPENDENCIES += memory.la
@@ -378,12 +399,23 @@
 nfs_la_SOURCES = nfs.c
 nfs_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" nfs.la
 collectd_DEPENDENCIES += nfs.la
 endif
 
+if BUILD_PLUGIN_NGINX
+pkglib_LTLIBRARIES += nginx.la
+nginx_la_SOURCES = nginx.c
+nginx_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LIBCURL
+nginx_la_LDFLAGS += $(BUILD_WITH_LIBCURL_LIBS)
+endif
+collectd_LDADD += "-dlopen" nginx.la
+collectd_DEPENDENCIES += nginx.la
+endif
+
 if BUILD_PLUGIN_NTPD
 pkglib_LTLIBRARIES += ntpd.la
 ntpd_la_SOURCES = ntpd.c
 ntpd_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBSOCKET
 ntpd_la_LDFLAGS += -lsocket
@@ -445,16 +477,15 @@
 collectd_DEPENDENCIES += rrdtool.la
 endif
 
 if BUILD_PLUGIN_SENSORS
 pkglib_LTLIBRARIES += sensors.la
 sensors_la_SOURCES = sensors.c
-sensors_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LM_SENSORS
-sensors_la_LDFLAGS += -lsensors
-endif
+sensors_la_CFLAGS = $(BUILD_WITH_LIBSENSORS_CFLAGS)
+sensors_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSENSORS_LDFLAGS)
+sensors_la_LIBADD = -lsensors
 collectd_LDADD += "-dlopen" sensors.la
 collectd_DEPENDENCIES += sensors.la
 endif
 
 if BUILD_PLUGIN_SERIAL
 pkglib_LTLIBRARIES += serial.la
@@ -517,12 +548,20 @@
 tape_la_SOURCES = tape.c
 tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
 collectd_LDADD += "-dlopen" tape.la
 collectd_DEPENDENCIES += tape.la
 endif
 
+if BUILD_PLUGIN_TCPCONNS
+pkglib_LTLIBRARIES += tcpconns.la
+tcpconns_la_SOURCES = tcpconns.c
+tcpconns_la_LDFLAGS = -module -avoid-version
+collectd_LDADD += "-dlopen" tcpconns.la
+collectd_DEPENDENCIES += tcpconns.la
+endif
+
 if BUILD_PLUGIN_UNIXSOCK
 pkglib_LTLIBRARIES += unixsock.la
 unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
 unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
 unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 collectd_LDADD += "-dlopen" unixsock.la
@@ -568,17 +607,21 @@
 		collectd-snmp.5 collectd-unixsock.5
 
 #collectd_1_SOURCES = collectd.pod
 
 EXTRA_DIST = types.db
 
+EXTRA_DIST += collectd-email.pod collectd-exec.pod collectd-nagios.pod \
+	collectd-perl.pod collectd-snmp.pod collectd-unixsock.pod \
+	collectd.conf.pod collectd.pod
+
 .pod.1:
-	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >$@
+	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
 
 .pod.5:
-	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >$@
+	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	if test -e $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	then \
 		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/Makefile.in	2008-01-21 17:55:17.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/Makefile.in	2007-10-27 17:22:14.000000000 +0800
@@ -117,117 +117,130 @@
 @BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_76 = -lkvm
 @BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_77 = -ldevstat
 @BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_78 = -lstatgrab
 @BUILD_PLUGIN_IPTABLES_TRUE@am__append_79 = iptables.la
 @BUILD_PLUGIN_IPTABLES_TRUE@am__append_80 = "-dlopen" iptables.la
 @BUILD_PLUGIN_IPTABLES_TRUE@am__append_81 = iptables.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_82 = irq.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_83 = "-dlopen" irq.la
-@BUILD_PLUGIN_IRQ_TRUE@am__append_84 = irq.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_85 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_86 = "-dlopen" load.la
-@BUILD_PLUGIN_LOAD_TRUE@am__append_87 = load.la
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_88 = -lkvm
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_89 = -ldevstat
-@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_90 = -lstatgrab
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_91 = logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_92 = "-dlopen" logfile.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__append_93 = logfile.la
-@BUILD_PLUGIN_MBMON_TRUE@am__append_94 = mbmon.la
-@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_95 = -lsocket
-@BUILD_PLUGIN_MBMON_TRUE@am__append_96 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_82 = ipvs.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_83 = "-dlopen" ipvs.la
+@BUILD_PLUGIN_IPVS_TRUE@am__append_84 = ipvs.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_85 = irq.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_86 = "-dlopen" irq.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_87 = irq.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_88 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_89 = "-dlopen" load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_90 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_91 = -lkvm
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_92 = -ldevstat
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_93 = -lstatgrab
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_94 = logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_95 = "-dlopen" logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_96 = logfile.la
 @BUILD_PLUGIN_MBMON_TRUE@am__append_97 = mbmon.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_98 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_99 = "-dlopen" memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__append_100 = memory.la
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_101 = -lkstat
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_102 = -ldevinfo
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_103 = -lkvm
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_104 = -ldevstat
-@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_105 = -lstatgrab
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_106 = multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_107 = "-dlopen" multimeter.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_108 = multimeter.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_109 = mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_110 = "-dlopen" mysql.la
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_111 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
-@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_112 = $(BUILD_WITH_LIBMYSQL_LIBS)
-@BUILD_PLUGIN_MYSQL_TRUE@am__append_113 = mysql.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_114 = netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_115 = "-dlopen" netlink.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__append_116 = netlink.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_117 = network.la
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_118 = -lsocket
-@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_119 = -lpthread
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_120 = "-dlopen" network.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__append_121 = network.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_122 = nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_123 = "-dlopen" nfs.la
-@BUILD_PLUGIN_NFS_TRUE@am__append_124 = nfs.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_125 = ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_126 = -lsocket
-@BUILD_PLUGIN_NTPD_TRUE@am__append_127 = "-dlopen" ntpd.la
-@BUILD_PLUGIN_NTPD_TRUE@am__append_128 = ntpd.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_129 = nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_130 = "-dlopen" nut.la
-@BUILD_PLUGIN_NUT_TRUE@am__append_131 = nut.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_132 = perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_133 = "-dlopen" perl.la
-@BUILD_PLUGIN_PERL_TRUE@am__append_134 = perl.la
-@BUILD_PLUGIN_PING_TRUE@am__append_135 = ping.la
-@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_136 = -loping
-@BUILD_PLUGIN_PING_TRUE@am__append_137 = "-dlopen" ping.la
-@BUILD_PLUGIN_PING_TRUE@am__append_138 = ping.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_139 = processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_140 = "-dlopen" processes.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__append_141 = processes.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_142 = rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_143 = "-dlopen" rrdtool.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_144 = rrdtool.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_145 = sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@@BUILD_WITH_LM_SENSORS_TRUE@am__append_146 = -lsensors
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_147 = "-dlopen" sensors.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__append_148 = sensors.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_149 = serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_150 = "-dlopen" serial.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__append_151 = serial.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_152 = snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_153 = $(BUILD_WITH_LIBSNMP_CFLAGS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_154 = $(BUILD_WITH_LIBSNMP_LIBS)
-@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_155 = -lpthread
-@BUILD_PLUGIN_SNMP_TRUE@am__append_156 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SNMP_TRUE@am__append_157 = snmp.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_158 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_159 = "-dlopen" swap.la
-@BUILD_PLUGIN_SWAP_TRUE@am__append_160 = swap.la
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_161 = -lkstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_162 = -ldevinfo
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_163 = -lkvm
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_164 = -ldevstat
-@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_165 = -lstatgrab
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_166 = syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_167 = "-dlopen" syslog.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__append_168 = syslog.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_169 = tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_170 = "-dlopen" tape.la
-@BUILD_PLUGIN_TAPE_TRUE@am__append_171 = tape.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_172 = unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_173 = "-dlopen" unixsock.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_174 = unixsock.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_175 = users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_176 = "-dlopen" users.la
-@BUILD_PLUGIN_USERS_TRUE@am__append_177 = users.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_178 = vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_179 = "-dlopen" vserver.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__append_180 = vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_181 = wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_182 = "-dlopen" wireless.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__append_183 = wireless.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_184 = xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_185 = "-dlopen" xmms.la
-@BUILD_PLUGIN_XMMS_TRUE@am__append_186 = xmms.la
+@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_98 = -lsocket
+@BUILD_PLUGIN_MBMON_TRUE@am__append_99 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_100 = mbmon.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_101 = memcached.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_102 = -lsocket
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_103 = "-dlopen" memcached.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__append_104 = memcached.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_105 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_106 = "-dlopen" memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_107 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_108 = -lkstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_109 = -ldevinfo
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_110 = -lkvm
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_111 = -ldevstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_112 = -lstatgrab
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_113 = multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_114 = "-dlopen" multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_115 = multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_116 = mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_117 = "-dlopen" mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_118 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_119 = $(BUILD_WITH_LIBMYSQL_LIBS)
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_120 = mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_121 = netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_122 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_123 = netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_124 = network.la
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_125 = -lsocket
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_126 = -lpthread
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_127 = "-dlopen" network.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_128 = network.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_129 = nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_130 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_131 = nfs.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_132 = nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_133 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_NGINX_TRUE@am__append_134 = "-dlopen" nginx.la
+@BUILD_PLUGIN_NGINX_TRUE@am__append_135 = nginx.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_136 = ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_137 = -lsocket
+@BUILD_PLUGIN_NTPD_TRUE@am__append_138 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_139 = ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_140 = nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_141 = "-dlopen" nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_142 = nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_143 = perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_144 = "-dlopen" perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_145 = perl.la
+@BUILD_PLUGIN_PING_TRUE@am__append_146 = ping.la
+@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_147 = -loping
+@BUILD_PLUGIN_PING_TRUE@am__append_148 = "-dlopen" ping.la
+@BUILD_PLUGIN_PING_TRUE@am__append_149 = ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_150 = processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_151 = "-dlopen" processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_152 = processes.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_153 = rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_154 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_155 = rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_156 = sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_157 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_158 = sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_159 = serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_160 = "-dlopen" serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_161 = serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_162 = snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_163 = $(BUILD_WITH_LIBSNMP_CFLAGS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_164 = $(BUILD_WITH_LIBSNMP_LIBS)
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_165 = -lpthread
+@BUILD_PLUGIN_SNMP_TRUE@am__append_166 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_167 = snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_168 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_169 = "-dlopen" swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_170 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_171 = -lkstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_172 = -ldevinfo
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_173 = -lkvm
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_174 = -ldevstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_175 = -lstatgrab
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_176 = syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_177 = "-dlopen" syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_178 = syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_179 = tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_180 = "-dlopen" tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_181 = tape.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_182 = tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_183 = "-dlopen" tcpconns.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__append_184 = tcpconns.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_185 = unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_186 = "-dlopen" unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_187 = unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_188 = users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_189 = "-dlopen" users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_190 = users.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_191 = vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_192 = "-dlopen" vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_193 = vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_194 = wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_195 = "-dlopen" wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_196 = wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_197 = xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_198 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_199 = xmms.la
 subdir = src
 DIST_COMMON = $(dist_man_MANS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/collectd.conf.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
@@ -332,12 +345,17 @@
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(pkglibdir)
 iptables_la_LIBADD =
 am__iptables_la_SOURCES_DIST = iptables.c
 @BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_OBJECTS = iptables.lo
 iptables_la_OBJECTS = $(am_iptables_la_OBJECTS)
 @BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_rpath = -rpath $(pkglibdir)
+ipvs_la_LIBADD =
+am__ipvs_la_SOURCES_DIST = ipvs.c
+@BUILD_PLUGIN_IPVS_TRUE@am_ipvs_la_OBJECTS = ipvs.lo
+ipvs_la_OBJECTS = $(am_ipvs_la_OBJECTS)
+@BUILD_PLUGIN_IPVS_TRUE@am_ipvs_la_rpath = -rpath $(pkglibdir)
 irq_la_LIBADD =
 am__irq_la_SOURCES_DIST = irq.c
 @BUILD_PLUGIN_IRQ_TRUE@am_irq_la_OBJECTS = irq.lo
 irq_la_OBJECTS = $(am_irq_la_OBJECTS)
 @BUILD_PLUGIN_IRQ_TRUE@am_irq_la_rpath = -rpath $(pkglibdir)
 load_la_LIBADD =
@@ -352,12 +370,19 @@
 @BUILD_PLUGIN_LOGFILE_TRUE@am_logfile_la_rpath = -rpath $(pkglibdir)
 mbmon_la_LIBADD =
 am__mbmon_la_SOURCES_DIST = mbmon.c
 @BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_OBJECTS = mbmon.lo
 mbmon_la_OBJECTS = $(am_mbmon_la_OBJECTS)
 @BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_rpath = -rpath $(pkglibdir)
+memcached_la_DEPENDENCIES =
+am__memcached_la_SOURCES_DIST = memcached.c
+@BUILD_PLUGIN_MEMCACHED_TRUE@am_memcached_la_OBJECTS =  \
+@BUILD_PLUGIN_MEMCACHED_TRUE@	memcached_la-memcached.lo
+memcached_la_OBJECTS = $(am_memcached_la_OBJECTS)
+@BUILD_PLUGIN_MEMCACHED_TRUE@am_memcached_la_rpath = -rpath \
+@BUILD_PLUGIN_MEMCACHED_TRUE@	$(pkglibdir)
 memory_la_LIBADD =
 am__memory_la_SOURCES_DIST = memory.c
 @BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_OBJECTS = memory.lo
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
 @BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
 multimeter_la_LIBADD =
@@ -388,12 +413,17 @@
 @BUILD_PLUGIN_NETWORK_TRUE@am_network_la_rpath = -rpath $(pkglibdir)
 nfs_la_LIBADD =
 am__nfs_la_SOURCES_DIST = nfs.c
 @BUILD_PLUGIN_NFS_TRUE@am_nfs_la_OBJECTS = nfs.lo
 nfs_la_OBJECTS = $(am_nfs_la_OBJECTS)
 @BUILD_PLUGIN_NFS_TRUE@am_nfs_la_rpath = -rpath $(pkglibdir)
+nginx_la_LIBADD =
+am__nginx_la_SOURCES_DIST = nginx.c
+@BUILD_PLUGIN_NGINX_TRUE@am_nginx_la_OBJECTS = nginx.lo
+nginx_la_OBJECTS = $(am_nginx_la_OBJECTS)
+@BUILD_PLUGIN_NGINX_TRUE@am_nginx_la_rpath = -rpath $(pkglibdir)
 ntpd_la_LIBADD =
 am__ntpd_la_SOURCES_DIST = ntpd.c
 @BUILD_PLUGIN_NTPD_TRUE@am_ntpd_la_OBJECTS = ntpd.lo
 ntpd_la_OBJECTS = $(am_ntpd_la_OBJECTS)
 @BUILD_PLUGIN_NTPD_TRUE@am_ntpd_la_rpath = -rpath $(pkglibdir)
 nut_la_LIBADD =
@@ -420,15 +450,16 @@
 @BUILD_PLUGIN_RRDTOOL_TRUE@	$(am__DEPENDENCIES_1)
 am__rrdtool_la_SOURCES_DIST = rrdtool.c
 @BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_OBJECTS =  \
 @BUILD_PLUGIN_RRDTOOL_TRUE@	rrdtool_la-rrdtool.lo
 rrdtool_la_OBJECTS = $(am_rrdtool_la_OBJECTS)
 @BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_rpath = -rpath $(pkglibdir)
-sensors_la_LIBADD =
+sensors_la_DEPENDENCIES =
 am__sensors_la_SOURCES_DIST = sensors.c
-@BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_OBJECTS = sensors.lo
+@BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_OBJECTS =  \
+@BUILD_PLUGIN_SENSORS_TRUE@	sensors_la-sensors.lo
 sensors_la_OBJECTS = $(am_sensors_la_OBJECTS)
 @BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
 serial_la_LIBADD =
 am__serial_la_SOURCES_DIST = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
 serial_la_OBJECTS = $(am_serial_la_OBJECTS)
@@ -452,12 +483,17 @@
 @BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_rpath = -rpath $(pkglibdir)
 tape_la_LIBADD =
 am__tape_la_SOURCES_DIST = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@am_tape_la_OBJECTS = tape.lo
 tape_la_OBJECTS = $(am_tape_la_OBJECTS)
 @BUILD_PLUGIN_TAPE_TRUE@am_tape_la_rpath = -rpath $(pkglibdir)
+tcpconns_la_LIBADD =
+am__tcpconns_la_SOURCES_DIST = tcpconns.c
+@BUILD_PLUGIN_TCPCONNS_TRUE@am_tcpconns_la_OBJECTS = tcpconns.lo
+tcpconns_la_OBJECTS = $(am_tcpconns_la_OBJECTS)
+@BUILD_PLUGIN_TCPCONNS_TRUE@am_tcpconns_la_rpath = -rpath $(pkglibdir)
 unixsock_la_LIBADD =
 am__unixsock_la_SOURCES_DIST = unixsock.c utils_cmd_putval.h \
 	utils_cmd_putval.c
 @BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS =  \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock_la-unixsock.lo \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock_la-utils_cmd_putval.lo
@@ -512,43 +548,49 @@
 @BUILD_PLUGIN_EXEC_TRUE@am__DEPENDENCIES_18 = "-dlopen" exec.la
 @BUILD_PLUGIN_HDDTEMP_TRUE@am__DEPENDENCIES_19 = "-dlopen" hddtemp.la
 @BUILD_PLUGIN_INTERFACE_TRUE@am__DEPENDENCIES_20 = "-dlopen" \
 @BUILD_PLUGIN_INTERFACE_TRUE@	interface.la
 @BUILD_PLUGIN_IPTABLES_TRUE@am__DEPENDENCIES_21 = "-dlopen" \
 @BUILD_PLUGIN_IPTABLES_TRUE@	iptables.la
-@BUILD_PLUGIN_IRQ_TRUE@am__DEPENDENCIES_22 = "-dlopen" irq.la
-@BUILD_PLUGIN_LOAD_TRUE@am__DEPENDENCIES_23 = "-dlopen" load.la
-@BUILD_PLUGIN_LOGFILE_TRUE@am__DEPENDENCIES_24 = "-dlopen" logfile.la
-@BUILD_PLUGIN_MBMON_TRUE@am__DEPENDENCIES_25 = "-dlopen" mbmon.la
-@BUILD_PLUGIN_MEMORY_TRUE@am__DEPENDENCIES_26 = "-dlopen" memory.la
-@BUILD_PLUGIN_MULTIMETER_TRUE@am__DEPENDENCIES_27 = "-dlopen" \
+@BUILD_PLUGIN_IPVS_TRUE@am__DEPENDENCIES_22 = "-dlopen" ipvs.la
+@BUILD_PLUGIN_IRQ_TRUE@am__DEPENDENCIES_23 = "-dlopen" irq.la
+@BUILD_PLUGIN_LOAD_TRUE@am__DEPENDENCIES_24 = "-dlopen" load.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__DEPENDENCIES_25 = "-dlopen" logfile.la
+@BUILD_PLUGIN_MBMON_TRUE@am__DEPENDENCIES_26 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MEMCACHED_TRUE@am__DEPENDENCIES_27 = "-dlopen" \
+@BUILD_PLUGIN_MEMCACHED_TRUE@	memcached.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__DEPENDENCIES_28 = "-dlopen" memory.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__DEPENDENCIES_29 = "-dlopen" \
 @BUILD_PLUGIN_MULTIMETER_TRUE@	multimeter.la
-@BUILD_PLUGIN_MYSQL_TRUE@am__DEPENDENCIES_28 = "-dlopen" mysql.la
-@BUILD_PLUGIN_NETLINK_TRUE@am__DEPENDENCIES_29 = "-dlopen" netlink.la
-@BUILD_PLUGIN_NETWORK_TRUE@am__DEPENDENCIES_30 = "-dlopen" network.la
-@BUILD_PLUGIN_NFS_TRUE@am__DEPENDENCIES_31 = "-dlopen" nfs.la
-@BUILD_PLUGIN_NTPD_TRUE@am__DEPENDENCIES_32 = "-dlopen" ntpd.la
-@BUILD_PLUGIN_NUT_TRUE@am__DEPENDENCIES_33 = "-dlopen" nut.la
-@BUILD_PLUGIN_PERL_TRUE@am__DEPENDENCIES_34 = "-dlopen" perl.la
-@BUILD_PLUGIN_PING_TRUE@am__DEPENDENCIES_35 = "-dlopen" ping.la
-@BUILD_PLUGIN_PROCESSES_TRUE@am__DEPENDENCIES_36 = "-dlopen" \
+@BUILD_PLUGIN_MYSQL_TRUE@am__DEPENDENCIES_30 = "-dlopen" mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__DEPENDENCIES_31 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__DEPENDENCIES_32 = "-dlopen" network.la
+@BUILD_PLUGIN_NFS_TRUE@am__DEPENDENCIES_33 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NGINX_TRUE@am__DEPENDENCIES_34 = "-dlopen" nginx.la
+@BUILD_PLUGIN_NTPD_TRUE@am__DEPENDENCIES_35 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__DEPENDENCIES_36 = "-dlopen" nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__DEPENDENCIES_37 = "-dlopen" perl.la
+@BUILD_PLUGIN_PING_TRUE@am__DEPENDENCIES_38 = "-dlopen" ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__DEPENDENCIES_39 = "-dlopen" \
 @BUILD_PLUGIN_PROCESSES_TRUE@	processes.la
-@BUILD_PLUGIN_RRDTOOL_TRUE@am__DEPENDENCIES_37 = "-dlopen" rrdtool.la
-@BUILD_PLUGIN_SENSORS_TRUE@am__DEPENDENCIES_38 = "-dlopen" sensors.la
-@BUILD_PLUGIN_SERIAL_TRUE@am__DEPENDENCIES_39 = "-dlopen" serial.la
-@BUILD_PLUGIN_SNMP_TRUE@am__DEPENDENCIES_40 = "-dlopen" snmp.la
-@BUILD_PLUGIN_SWAP_TRUE@am__DEPENDENCIES_41 = "-dlopen" swap.la
-@BUILD_PLUGIN_SYSLOG_TRUE@am__DEPENDENCIES_42 = "-dlopen" syslog.la
-@BUILD_PLUGIN_TAPE_TRUE@am__DEPENDENCIES_43 = "-dlopen" tape.la
-@BUILD_PLUGIN_UNIXSOCK_TRUE@am__DEPENDENCIES_44 = "-dlopen" \
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__DEPENDENCIES_40 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__DEPENDENCIES_41 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__DEPENDENCIES_42 = "-dlopen" serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__DEPENDENCIES_43 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__DEPENDENCIES_44 = "-dlopen" swap.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__DEPENDENCIES_45 = "-dlopen" syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__DEPENDENCIES_46 = "-dlopen" tape.la
+@BUILD_PLUGIN_TCPCONNS_TRUE@am__DEPENDENCIES_47 = "-dlopen" \
+@BUILD_PLUGIN_TCPCONNS_TRUE@	tcpconns.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__DEPENDENCIES_48 = "-dlopen" \
 @BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock.la
-@BUILD_PLUGIN_USERS_TRUE@am__DEPENDENCIES_45 = "-dlopen" users.la
-@BUILD_PLUGIN_VSERVER_TRUE@am__DEPENDENCIES_46 = "-dlopen" vserver.la
-@BUILD_PLUGIN_WIRELESS_TRUE@am__DEPENDENCIES_47 = "-dlopen" \
+@BUILD_PLUGIN_USERS_TRUE@am__DEPENDENCIES_49 = "-dlopen" users.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__DEPENDENCIES_50 = "-dlopen" vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__DEPENDENCIES_51 = "-dlopen" \
 @BUILD_PLUGIN_WIRELESS_TRUE@	wireless.la
-@BUILD_PLUGIN_XMMS_TRUE@am__DEPENDENCIES_48 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__DEPENDENCIES_52 = "-dlopen" xmms.la
 am_collectd_nagios_OBJECTS = collectd-nagios.$(OBJEXT)
 collectd_nagios_OBJECTS = $(am_collectd_nagios_OBJECTS)
 collectd_nagios_LDADD = $(LDADD)
 DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
@@ -563,49 +605,54 @@
 SOURCES = $(apache_la_SOURCES) $(apcups_la_SOURCES) \
 	$(apple_sensors_la_SOURCES) $(battery_la_SOURCES) \
 	$(cpu_la_SOURCES) $(cpufreq_la_SOURCES) $(csv_la_SOURCES) \
 	$(df_la_SOURCES) $(disk_la_SOURCES) $(dns_la_SOURCES) \
 	$(email_la_SOURCES) $(entropy_la_SOURCES) $(exec_la_SOURCES) \
 	$(hddtemp_la_SOURCES) $(interface_la_SOURCES) \
-	$(iptables_la_SOURCES) $(irq_la_SOURCES) $(load_la_SOURCES) \
-	$(logfile_la_SOURCES) $(mbmon_la_SOURCES) $(memory_la_SOURCES) \
+	$(iptables_la_SOURCES) $(ipvs_la_SOURCES) $(irq_la_SOURCES) \
+	$(load_la_SOURCES) $(logfile_la_SOURCES) $(mbmon_la_SOURCES) \
+	$(memcached_la_SOURCES) $(memory_la_SOURCES) \
 	$(multimeter_la_SOURCES) $(mysql_la_SOURCES) \
 	$(netlink_la_SOURCES) $(network_la_SOURCES) $(nfs_la_SOURCES) \
-	$(ntpd_la_SOURCES) $(nut_la_SOURCES) $(perl_la_SOURCES) \
-	$(ping_la_SOURCES) $(processes_la_SOURCES) \
+	$(nginx_la_SOURCES) $(ntpd_la_SOURCES) $(nut_la_SOURCES) \
+	$(perl_la_SOURCES) $(ping_la_SOURCES) $(processes_la_SOURCES) \
 	$(rrdtool_la_SOURCES) $(sensors_la_SOURCES) \
 	$(serial_la_SOURCES) $(snmp_la_SOURCES) $(swap_la_SOURCES) \
-	$(syslog_la_SOURCES) $(tape_la_SOURCES) $(unixsock_la_SOURCES) \
-	$(users_la_SOURCES) $(vserver_la_SOURCES) \
-	$(wireless_la_SOURCES) $(xmms_la_SOURCES) $(collectd_SOURCES) \
+	$(syslog_la_SOURCES) $(tape_la_SOURCES) $(tcpconns_la_SOURCES) \
+	$(unixsock_la_SOURCES) $(users_la_SOURCES) \
+	$(vserver_la_SOURCES) $(wireless_la_SOURCES) \
+	$(xmms_la_SOURCES) $(collectd_SOURCES) \
 	$(collectd_nagios_SOURCES)
 DIST_SOURCES = $(am__apache_la_SOURCES_DIST) \
 	$(am__apcups_la_SOURCES_DIST) \
 	$(am__apple_sensors_la_SOURCES_DIST) \
 	$(am__battery_la_SOURCES_DIST) $(am__cpu_la_SOURCES_DIST) \
 	$(am__cpufreq_la_SOURCES_DIST) $(am__csv_la_SOURCES_DIST) \
 	$(am__df_la_SOURCES_DIST) $(am__disk_la_SOURCES_DIST) \
 	$(am__dns_la_SOURCES_DIST) $(am__email_la_SOURCES_DIST) \
 	$(am__entropy_la_SOURCES_DIST) $(am__exec_la_SOURCES_DIST) \
 	$(am__hddtemp_la_SOURCES_DIST) \
 	$(am__interface_la_SOURCES_DIST) \
-	$(am__iptables_la_SOURCES_DIST) $(am__irq_la_SOURCES_DIST) \
-	$(am__load_la_SOURCES_DIST) $(am__logfile_la_SOURCES_DIST) \
-	$(am__mbmon_la_SOURCES_DIST) $(am__memory_la_SOURCES_DIST) \
+	$(am__iptables_la_SOURCES_DIST) $(am__ipvs_la_SOURCES_DIST) \
+	$(am__irq_la_SOURCES_DIST) $(am__load_la_SOURCES_DIST) \
+	$(am__logfile_la_SOURCES_DIST) $(am__mbmon_la_SOURCES_DIST) \
+	$(am__memcached_la_SOURCES_DIST) $(am__memory_la_SOURCES_DIST) \
 	$(am__multimeter_la_SOURCES_DIST) $(am__mysql_la_SOURCES_DIST) \
 	$(am__netlink_la_SOURCES_DIST) $(am__network_la_SOURCES_DIST) \
-	$(am__nfs_la_SOURCES_DIST) $(am__ntpd_la_SOURCES_DIST) \
-	$(am__nut_la_SOURCES_DIST) $(am__perl_la_SOURCES_DIST) \
-	$(am__ping_la_SOURCES_DIST) $(am__processes_la_SOURCES_DIST) \
+	$(am__nfs_la_SOURCES_DIST) $(am__nginx_la_SOURCES_DIST) \
+	$(am__ntpd_la_SOURCES_DIST) $(am__nut_la_SOURCES_DIST) \
+	$(am__perl_la_SOURCES_DIST) $(am__ping_la_SOURCES_DIST) \
+	$(am__processes_la_SOURCES_DIST) \
 	$(am__rrdtool_la_SOURCES_DIST) $(am__sensors_la_SOURCES_DIST) \
 	$(am__serial_la_SOURCES_DIST) $(am__snmp_la_SOURCES_DIST) \
 	$(am__swap_la_SOURCES_DIST) $(am__syslog_la_SOURCES_DIST) \
-	$(am__tape_la_SOURCES_DIST) $(am__unixsock_la_SOURCES_DIST) \
-	$(am__users_la_SOURCES_DIST) $(am__vserver_la_SOURCES_DIST) \
-	$(am__wireless_la_SOURCES_DIST) $(am__xmms_la_SOURCES_DIST) \
-	$(collectd_SOURCES) $(collectd_nagios_SOURCES)
+	$(am__tape_la_SOURCES_DIST) $(am__tcpconns_la_SOURCES_DIST) \
+	$(am__unixsock_la_SOURCES_DIST) $(am__users_la_SOURCES_DIST) \
+	$(am__vserver_la_SOURCES_DIST) $(am__wireless_la_SOURCES_DIST) \
+	$(am__xmms_la_SOURCES_DIST) $(collectd_SOURCES) \
+	$(collectd_nagios_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
 	html-recursive info-recursive install-data-recursive \
 	install-exec-recursive install-info-recursive \
 	install-recursive installcheck-recursive installdirs-recursive \
 	pdf-recursive ps-recursive uninstall-info-recursive \
 	uninstall-recursive
@@ -661,32 +708,38 @@
 BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
 BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
 BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
 BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
 BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
 BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IPVS_FALSE = @BUILD_PLUGIN_IPVS_FALSE@
+BUILD_PLUGIN_IPVS_TRUE = @BUILD_PLUGIN_IPVS_TRUE@
 BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
 BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
 BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
 BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
 BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
 BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
 BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
 BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMCACHED_FALSE = @BUILD_PLUGIN_MEMCACHED_FALSE@
+BUILD_PLUGIN_MEMCACHED_TRUE = @BUILD_PLUGIN_MEMCACHED_TRUE@
 BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
 BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
 BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
 BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
 BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
 BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
 BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
 BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
 BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
 BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
 BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
 BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NGINX_FALSE = @BUILD_PLUGIN_NGINX_FALSE@
+BUILD_PLUGIN_NGINX_TRUE = @BUILD_PLUGIN_NGINX_TRUE@
 BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
 BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
 BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
 BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
 BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
 BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
@@ -705,12 +758,14 @@
 BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
 BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
 BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
 BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
 BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
 BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_TCPCONNS_FALSE = @BUILD_PLUGIN_TCPCONNS_FALSE@
+BUILD_PLUGIN_TCPCONNS_TRUE = @BUILD_PLUGIN_TCPCONNS_TRUE@
 BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
 BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
 BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
 BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
 BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
 BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
@@ -755,12 +810,14 @@
 BUILD_WITH_LIBRESOLV_FALSE = @BUILD_WITH_LIBRESOLV_FALSE@
 BUILD_WITH_LIBRESOLV_TRUE = @BUILD_WITH_LIBRESOLV_TRUE@
 BUILD_WITH_LIBRRD_CFLAGS = @BUILD_WITH_LIBRRD_CFLAGS@
 BUILD_WITH_LIBRRD_LDFLAGS = @BUILD_WITH_LIBRRD_LDFLAGS@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
+BUILD_WITH_LIBSENSORS_CFLAGS = @BUILD_WITH_LIBSENSORS_CFLAGS@
+BUILD_WITH_LIBSENSORS_LDFLAGS = @BUILD_WITH_LIBSENSORS_LDFLAGS@
 BUILD_WITH_LIBSNMP_CFLAGS = @BUILD_WITH_LIBSNMP_CFLAGS@
 BUILD_WITH_LIBSNMP_LIBS = @BUILD_WITH_LIBSNMP_LIBS@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
@@ -822,12 +879,15 @@
 PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
 PACKAGE_NAME = @PACKAGE_NAME@
 PACKAGE_STRING = @PACKAGE_STRING@
 PACKAGE_TARNAME = @PACKAGE_TARNAME@
 PACKAGE_VERSION = @PACKAGE_VERSION@
 PATH_SEPARATOR = @PATH_SEPARATOR@
+PERL = @PERL@
+PERL_BINDINGS = @PERL_BINDINGS@
+PERL_BINDINGS_OPTIONS = @PERL_BINDINGS_OPTIONS@
 PERL_CFLAGS = @PERL_CFLAGS@
 PERL_LDFLAGS = @PERL_LDFLAGS@
 RANLIB = @RANLIB@
 SED = @SED@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
@@ -909,53 +969,57 @@
 collectd_LDADD = $(am__append_13) $(am__append_18) $(am__append_24) \
 	$(am__append_27) $(am__append_31) $(am__append_36) \
 	$(am__append_39) $(am__append_42) $(am__append_45) \
 	$(am__append_51) $(am__append_54) $(am__append_58) \
 	$(am__append_61) $(am__append_65) $(am__append_69) \
 	$(am__append_72) $(am__append_80) $(am__append_83) \
-	$(am__append_86) $(am__append_92) $(am__append_96) \
-	$(am__append_99) $(am__append_107) $(am__append_110) \
-	$(am__append_115) $(am__append_120) $(am__append_123) \
-	$(am__append_127) $(am__append_130) $(am__append_133) \
-	$(am__append_137) $(am__append_140) $(am__append_143) \
-	$(am__append_147) $(am__append_150) $(am__append_156) \
-	$(am__append_159) $(am__append_167) $(am__append_170) \
-	$(am__append_173) $(am__append_176) $(am__append_179) \
-	$(am__append_182) $(am__append_185)
+	$(am__append_86) $(am__append_89) $(am__append_95) \
+	$(am__append_99) $(am__append_103) $(am__append_106) \
+	$(am__append_114) $(am__append_117) $(am__append_122) \
+	$(am__append_127) $(am__append_130) $(am__append_134) \
+	$(am__append_138) $(am__append_141) $(am__append_144) \
+	$(am__append_148) $(am__append_151) $(am__append_154) \
+	$(am__append_157) $(am__append_160) $(am__append_166) \
+	$(am__append_169) $(am__append_177) $(am__append_180) \
+	$(am__append_183) $(am__append_186) $(am__append_189) \
+	$(am__append_192) $(am__append_195) $(am__append_198)
 collectd_DEPENDENCIES = $(am__append_14) $(am__append_21) \
 	$(am__append_25) $(am__append_28) $(am__append_32) \
 	$(am__append_37) $(am__append_40) $(am__append_43) \
 	$(am__append_46) $(am__append_52) $(am__append_55) \
 	$(am__append_59) $(am__append_62) $(am__append_66) \
 	$(am__append_70) $(am__append_73) $(am__append_81) \
-	$(am__append_84) $(am__append_87) $(am__append_93) \
-	$(am__append_97) $(am__append_100) $(am__append_108) \
-	$(am__append_113) $(am__append_116) $(am__append_121) \
-	$(am__append_124) $(am__append_128) $(am__append_131) \
-	$(am__append_134) $(am__append_138) $(am__append_141) \
-	$(am__append_144) $(am__append_148) $(am__append_151) \
-	$(am__append_157) $(am__append_160) $(am__append_168) \
-	$(am__append_171) $(am__append_174) $(am__append_177) \
-	$(am__append_180) $(am__append_183) $(am__append_186)
+	$(am__append_84) $(am__append_87) $(am__append_90) \
+	$(am__append_96) $(am__append_100) $(am__append_104) \
+	$(am__append_107) $(am__append_115) $(am__append_120) \
+	$(am__append_123) $(am__append_128) $(am__append_131) \
+	$(am__append_135) $(am__append_139) $(am__append_142) \
+	$(am__append_145) $(am__append_149) $(am__append_152) \
+	$(am__append_155) $(am__append_158) $(am__append_161) \
+	$(am__append_167) $(am__append_170) $(am__append_178) \
+	$(am__append_181) $(am__append_184) $(am__append_187) \
+	$(am__append_190) $(am__append_193) $(am__append_196) \
+	$(am__append_199)
 collectd_nagios_SOURCES = collectd-nagios.c
 collectd_nagios_LDFLAGS = $(am__append_16)
 pkglib_LTLIBRARIES = $(am__append_17) $(am__append_22) \
 	$(am__append_26) $(am__append_29) $(am__append_33) \
 	$(am__append_38) $(am__append_41) $(am__append_44) \
 	$(am__append_47) $(am__append_53) $(am__append_56) \
 	$(am__append_60) $(am__append_63) $(am__append_67) \
 	$(am__append_71) $(am__append_79) $(am__append_82) \
-	$(am__append_85) $(am__append_91) $(am__append_94) \
-	$(am__append_98) $(am__append_106) $(am__append_109) \
-	$(am__append_114) $(am__append_117) $(am__append_122) \
-	$(am__append_125) $(am__append_129) $(am__append_132) \
-	$(am__append_135) $(am__append_139) $(am__append_142) \
-	$(am__append_145) $(am__append_149) $(am__append_152) \
-	$(am__append_158) $(am__append_166) $(am__append_169) \
-	$(am__append_172) $(am__append_175) $(am__append_178) \
-	$(am__append_181) $(am__append_184)
+	$(am__append_85) $(am__append_88) $(am__append_94) \
+	$(am__append_97) $(am__append_101) $(am__append_105) \
+	$(am__append_113) $(am__append_116) $(am__append_121) \
+	$(am__append_124) $(am__append_129) $(am__append_132) \
+	$(am__append_136) $(am__append_140) $(am__append_143) \
+	$(am__append_146) $(am__append_150) $(am__append_153) \
+	$(am__append_156) $(am__append_159) $(am__append_162) \
+	$(am__append_168) $(am__append_176) $(am__append_179) \
+	$(am__append_182) $(am__append_185) $(am__append_188) \
+	$(am__append_191) $(am__append_194) $(am__append_197)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_SOURCES = apache.c
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(am__append_19)
 @BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_20)
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
 @BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
@@ -995,46 +1059,56 @@
 @BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LDFLAGS = -module \
 @BUILD_PLUGIN_INTERFACE_TRUE@	-avoid-version $(am__append_74) \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_75) $(am__append_76) \
 @BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_77) $(am__append_78)
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_SOURCES = iptables.c
 @BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = -module -avoid-version -liptc
+@BUILD_PLUGIN_IPVS_TRUE@ipvs_la_SOURCES = ipvs.c
+@BUILD_PLUGIN_IPVS_TRUE@ipvs_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_IRQ_TRUE@irq_la_SOURCES = irq.c
 @BUILD_PLUGIN_IRQ_TRUE@irq_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_LOAD_TRUE@load_la_SOURCES = load.c
 @BUILD_PLUGIN_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_88) $(am__append_89) \
-@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_90)
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_91) $(am__append_92) \
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_93)
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_SOURCES = logfile.c
 @BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
 @BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_95)
+@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_98)
+@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_SOURCES = memcached.c
+@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LDFLAGS = -module \
+@BUILD_PLUGIN_MEMCACHED_TRUE@	-avoid-version $(am__append_102)
+@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_CFLAGS = 
+@BUILD_PLUGIN_MEMCACHED_TRUE@memcached_la_LIBADD = 
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_SOURCES = memory.c
 @BUILD_PLUGIN_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_101) $(am__append_102) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_103) $(am__append_104) \
-@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_105)
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_108) $(am__append_109) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_110) $(am__append_111) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_112)
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
 @BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
 @BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_111)
-@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_112)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_118)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_119)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_SOURCES = netlink.c
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_CFLAGS = $(BUILD_WITH_LIBNETLINK_CFLAGS)
 @BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LIBADD = $(BUILD_WITH_LIBNETLINK_LIBS)
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_SOURCES = network.c network.h
 @BUILD_PLUGIN_NETWORK_TRUE@network_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_118) $(am__append_119)
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_125) $(am__append_126)
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_SOURCES = nfs.c
 @BUILD_PLUGIN_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NGINX_TRUE@nginx_la_SOURCES = nginx.c
+@BUILD_PLUGIN_NGINX_TRUE@nginx_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_NGINX_TRUE@	$(am__append_133)
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
 @BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_126)
+@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_137)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_SOURCES = nut.c
 @BUILD_PLUGIN_NUT_TRUE@nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
 @BUILD_PLUGIN_NUT_TRUE@nut_la_LDFLAGS = -module -avoid-version -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
 @BUILD_PLUGIN_PERL_TRUE@perl_la_SOURCES = perl.c
 @BUILD_PLUGIN_PERL_TRUE@perl_la_CFLAGS = $(AM_CFLAGS) \
 @BUILD_PLUGIN_PERL_TRUE@		  $(PERL_CFLAGS) \
@@ -1042,40 +1116,43 @@
 
 @BUILD_PLUGIN_PERL_TRUE@perl_la_LDFLAGS = -module -avoid-version \
 @BUILD_PLUGIN_PERL_TRUE@		  $(PERL_LDFLAGS)
 
 @BUILD_PLUGIN_PING_TRUE@ping_la_SOURCES = ping.c
 @BUILD_PLUGIN_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_PING_TRUE@	$(am__append_136)
+@BUILD_PLUGIN_PING_TRUE@	$(am__append_147)
 @BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_LIBADD = liboping/liboping.la
 @BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_DEPENDENCIES = liboping/liboping.la
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_SOURCES = processes.c
 @BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_SOURCES = rrdtool.c
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_CFLAGS = $(BUILD_WITH_LIBRRD_CFLAGS)
 @BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LIBADD = $(BUILD_WITH_LIBRRD_LDFLAGS)
 @BUILD_PLUGIN_SENSORS_TRUE@sensors_la_SOURCES = sensors.c
-@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_SENSORS_TRUE@	$(am__append_146)
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_CFLAGS = $(BUILD_WITH_LIBSENSORS_CFLAGS)
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBSENSORS_LDFLAGS)
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LIBADD = -lsensors
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_SOURCES = serial.c
 @BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_SOURCES = snmp.c
 @BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_153)
-@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_154) \
-@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_155)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_CFLAGS = $(am__append_163)
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LIBADD = $(am__append_164) \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_165)
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_SOURCES = swap.c
 @BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_161) $(am__append_162) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_163) $(am__append_164) \
-@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_165)
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_171) $(am__append_172) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_173) $(am__append_174) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_175)
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
 @BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_SOURCES = tape.c
 @BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
+@BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_SOURCES = tcpconns.c
+@BUILD_PLUGIN_TCPCONNS_TRUE@tcpconns_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
 @BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 @BUILD_PLUGIN_USERS_TRUE@users_la_SOURCES = users.c
 @BUILD_PLUGIN_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
 @BUILD_PLUGIN_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
@@ -1088,13 +1165,15 @@
 dist_man_MANS = collectd.1 collectd-nagios.1 collectd.conf.5 \
 		collectd-email.5 collectd-exec.5 collectd-perl.5 \
 		collectd-snmp.5 collectd-unixsock.5
 
 
 #collectd_1_SOURCES = collectd.pod
-EXTRA_DIST = types.db
+EXTRA_DIST = types.db collectd-email.pod collectd-exec.pod \
+	collectd-nagios.pod collectd-perl.pod collectd-snmp.pod \
+	collectd-unixsock.pod collectd.conf.pod collectd.pod
 all: config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
 .SUFFIXES:
 .SUFFIXES: .1 .5 .c .lo .o .obj .pod
 $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
@@ -1201,32 +1280,38 @@
 hddtemp.la: $(hddtemp_la_OBJECTS) $(hddtemp_la_DEPENDENCIES) 
 	$(LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_LDFLAGS) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
 interface.la: $(interface_la_OBJECTS) $(interface_la_DEPENDENCIES) 
 	$(LINK) $(am_interface_la_rpath) $(interface_la_LDFLAGS) $(interface_la_OBJECTS) $(interface_la_LIBADD) $(LIBS)
 iptables.la: $(iptables_la_OBJECTS) $(iptables_la_DEPENDENCIES) 
 	$(LINK) $(am_iptables_la_rpath) $(iptables_la_LDFLAGS) $(iptables_la_OBJECTS) $(iptables_la_LIBADD) $(LIBS)
+ipvs.la: $(ipvs_la_OBJECTS) $(ipvs_la_DEPENDENCIES) 
+	$(LINK) $(am_ipvs_la_rpath) $(ipvs_la_LDFLAGS) $(ipvs_la_OBJECTS) $(ipvs_la_LIBADD) $(LIBS)
 irq.la: $(irq_la_OBJECTS) $(irq_la_DEPENDENCIES) 
 	$(LINK) $(am_irq_la_rpath) $(irq_la_LDFLAGS) $(irq_la_OBJECTS) $(irq_la_LIBADD) $(LIBS)
 load.la: $(load_la_OBJECTS) $(load_la_DEPENDENCIES) 
 	$(LINK) $(am_load_la_rpath) $(load_la_LDFLAGS) $(load_la_OBJECTS) $(load_la_LIBADD) $(LIBS)
 logfile.la: $(logfile_la_OBJECTS) $(logfile_la_DEPENDENCIES) 
 	$(LINK) $(am_logfile_la_rpath) $(logfile_la_LDFLAGS) $(logfile_la_OBJECTS) $(logfile_la_LIBADD) $(LIBS)
 mbmon.la: $(mbmon_la_OBJECTS) $(mbmon_la_DEPENDENCIES) 
 	$(LINK) $(am_mbmon_la_rpath) $(mbmon_la_LDFLAGS) $(mbmon_la_OBJECTS) $(mbmon_la_LIBADD) $(LIBS)
+memcached.la: $(memcached_la_OBJECTS) $(memcached_la_DEPENDENCIES) 
+	$(LINK) $(am_memcached_la_rpath) $(memcached_la_LDFLAGS) $(memcached_la_OBJECTS) $(memcached_la_LIBADD) $(LIBS)
 memory.la: $(memory_la_OBJECTS) $(memory_la_DEPENDENCIES) 
 	$(LINK) $(am_memory_la_rpath) $(memory_la_LDFLAGS) $(memory_la_OBJECTS) $(memory_la_LIBADD) $(LIBS)
 multimeter.la: $(multimeter_la_OBJECTS) $(multimeter_la_DEPENDENCIES) 
 	$(LINK) $(am_multimeter_la_rpath) $(multimeter_la_LDFLAGS) $(multimeter_la_OBJECTS) $(multimeter_la_LIBADD) $(LIBS)
 mysql.la: $(mysql_la_OBJECTS) $(mysql_la_DEPENDENCIES) 
 	$(LINK) $(am_mysql_la_rpath) $(mysql_la_LDFLAGS) $(mysql_la_OBJECTS) $(mysql_la_LIBADD) $(LIBS)
 netlink.la: $(netlink_la_OBJECTS) $(netlink_la_DEPENDENCIES) 
 	$(LINK) $(am_netlink_la_rpath) $(netlink_la_LDFLAGS) $(netlink_la_OBJECTS) $(netlink_la_LIBADD) $(LIBS)
 network.la: $(network_la_OBJECTS) $(network_la_DEPENDENCIES) 
 	$(LINK) $(am_network_la_rpath) $(network_la_LDFLAGS) $(network_la_OBJECTS) $(network_la_LIBADD) $(LIBS)
 nfs.la: $(nfs_la_OBJECTS) $(nfs_la_DEPENDENCIES) 
 	$(LINK) $(am_nfs_la_rpath) $(nfs_la_LDFLAGS) $(nfs_la_OBJECTS) $(nfs_la_LIBADD) $(LIBS)
+nginx.la: $(nginx_la_OBJECTS) $(nginx_la_DEPENDENCIES) 
+	$(LINK) $(am_nginx_la_rpath) $(nginx_la_LDFLAGS) $(nginx_la_OBJECTS) $(nginx_la_LIBADD) $(LIBS)
 ntpd.la: $(ntpd_la_OBJECTS) $(ntpd_la_DEPENDENCIES) 
 	$(LINK) $(am_ntpd_la_rpath) $(ntpd_la_LDFLAGS) $(ntpd_la_OBJECTS) $(ntpd_la_LIBADD) $(LIBS)
 nut.la: $(nut_la_OBJECTS) $(nut_la_DEPENDENCIES) 
 	$(LINK) $(am_nut_la_rpath) $(nut_la_LDFLAGS) $(nut_la_OBJECTS) $(nut_la_LIBADD) $(LIBS)
 perl.la: $(perl_la_OBJECTS) $(perl_la_DEPENDENCIES) 
 	$(LINK) $(am_perl_la_rpath) $(perl_la_LDFLAGS) $(perl_la_OBJECTS) $(perl_la_LIBADD) $(LIBS)
@@ -1245,12 +1330,14 @@
 swap.la: $(swap_la_OBJECTS) $(swap_la_DEPENDENCIES) 
 	$(LINK) $(am_swap_la_rpath) $(swap_la_LDFLAGS) $(swap_la_OBJECTS) $(swap_la_LIBADD) $(LIBS)
 syslog.la: $(syslog_la_OBJECTS) $(syslog_la_DEPENDENCIES) 
 	$(LINK) $(am_syslog_la_rpath) $(syslog_la_LDFLAGS) $(syslog_la_OBJECTS) $(syslog_la_LIBADD) $(LIBS)
 tape.la: $(tape_la_OBJECTS) $(tape_la_DEPENDENCIES) 
 	$(LINK) $(am_tape_la_rpath) $(tape_la_LDFLAGS) $(tape_la_OBJECTS) $(tape_la_LIBADD) $(LIBS)
+tcpconns.la: $(tcpconns_la_OBJECTS) $(tcpconns_la_DEPENDENCIES) 
+	$(LINK) $(am_tcpconns_la_rpath) $(tcpconns_la_LDFLAGS) $(tcpconns_la_OBJECTS) $(tcpconns_la_LIBADD) $(LIBS)
 unixsock.la: $(unixsock_la_OBJECTS) $(unixsock_la_DEPENDENCIES) 
 	$(LINK) $(am_unixsock_la_rpath) $(unixsock_la_LDFLAGS) $(unixsock_la_OBJECTS) $(unixsock_la_LIBADD) $(LIBS)
 users.la: $(users_la_OBJECTS) $(users_la_DEPENDENCIES) 
 	$(LINK) $(am_users_la_rpath) $(users_la_LDFLAGS) $(users_la_OBJECTS) $(users_la_LIBADD) $(LIBS)
 vserver.la: $(vserver_la_OBJECTS) $(vserver_la_DEPENDENCIES) 
 	$(LINK) $(am_vserver_la_rpath) $(vserver_la_LDFLAGS) $(vserver_la_OBJECTS) $(vserver_la_LIBADD) $(LIBS)
@@ -1350,34 +1437,38 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/email.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/entropy.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/exec.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/interface.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/iptables.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ipvs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/irq.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/logfile.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mbmon.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memcached_la-memcached.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/multimeter.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mysql_la-mysql.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/netlink_la-netlink.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/network.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nginx.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ntpd.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nut_la-nut.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/perl_la-perl.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdtool_la-rrdtool.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors_la-sensors.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp_la-snmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/syslog.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tcpconns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-unixsock.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_dns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vserver.Plo@am__quote@
@@ -1409,12 +1500,19 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -MT apache_la-apache.lo -MD -MP -MF "$(DEPDIR)/apache_la-apache.Tpo" -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/apache_la-apache.Tpo" "$(DEPDIR)/apache_la-apache.Plo"; else rm -f "$(DEPDIR)/apache_la-apache.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='apache.c' object='apache_la-apache.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(apache_la_CFLAGS) $(CFLAGS) -c -o apache_la-apache.lo `test -f 'apache.c' || echo '$(srcdir)/'`apache.c
 
+memcached_la-memcached.lo: memcached.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memcached_la_CFLAGS) $(CFLAGS) -MT memcached_la-memcached.lo -MD -MP -MF "$(DEPDIR)/memcached_la-memcached.Tpo" -c -o memcached_la-memcached.lo `test -f 'memcached.c' || echo '$(srcdir)/'`memcached.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/memcached_la-memcached.Tpo" "$(DEPDIR)/memcached_la-memcached.Plo"; else rm -f "$(DEPDIR)/memcached_la-memcached.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='memcached.c' object='memcached_la-memcached.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memcached_la_CFLAGS) $(CFLAGS) -c -o memcached_la-memcached.lo `test -f 'memcached.c' || echo '$(srcdir)/'`memcached.c
+
 mysql_la-mysql.lo: mysql.c
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -MT mysql_la-mysql.lo -MD -MP -MF "$(DEPDIR)/mysql_la-mysql.Tpo" -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/mysql_la-mysql.Tpo" "$(DEPDIR)/mysql_la-mysql.Plo"; else rm -f "$(DEPDIR)/mysql_la-mysql.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='mysql.c' object='mysql_la-mysql.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c
@@ -1444,12 +1542,19 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(rrdtool_la_CFLAGS) $(CFLAGS) -MT rrdtool_la-rrdtool.lo -MD -MP -MF "$(DEPDIR)/rrdtool_la-rrdtool.Tpo" -c -o rrdtool_la-rrdtool.lo `test -f 'rrdtool.c' || echo '$(srcdir)/'`rrdtool.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/rrdtool_la-rrdtool.Tpo" "$(DEPDIR)/rrdtool_la-rrdtool.Plo"; else rm -f "$(DEPDIR)/rrdtool_la-rrdtool.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='rrdtool.c' object='rrdtool_la-rrdtool.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(rrdtool_la_CFLAGS) $(CFLAGS) -c -o rrdtool_la-rrdtool.lo `test -f 'rrdtool.c' || echo '$(srcdir)/'`rrdtool.c
 
+sensors_la-sensors.lo: sensors.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -MT sensors_la-sensors.lo -MD -MP -MF "$(DEPDIR)/sensors_la-sensors.Tpo" -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/sensors_la-sensors.Tpo" "$(DEPDIR)/sensors_la-sensors.Plo"; else rm -f "$(DEPDIR)/sensors_la-sensors.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='sensors.c' object='sensors_la-sensors.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
+
 snmp_la-snmp.lo: snmp.c
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -MT snmp_la-snmp.lo -MD -MP -MF "$(DEPDIR)/snmp_la-snmp.Tpo" -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/snmp_la-snmp.Tpo" "$(DEPDIR)/snmp_la-snmp.Plo"; else rm -f "$(DEPDIR)/snmp_la-snmp.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='snmp.c' object='snmp_la-snmp.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(snmp_la_CFLAGS) $(CFLAGS) -c -o snmp_la-snmp.lo `test -f 'snmp.c' || echo '$(srcdir)/'`snmp.c
@@ -1985,16 +2090,16 @@
 	uninstall-binPROGRAMS uninstall-info-am uninstall-man \
 	uninstall-man1 uninstall-man5 uninstall-pkglibLTLIBRARIES \
 	uninstall-sbinPROGRAMS
 
 
 .pod.1:
-	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >$@
+	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
 
 .pod.5:
-	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >$@
+	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >.pod2man.tmp 2>/dev/null && mv -f .pod2man.tmp $@ || true
 
 install-exec-hook:
 	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	if test -e $(DESTDIR)$(sysconfdir)/collectd.conf; \
 	then \
 		$(INSTALL) -m 0640 collectd.conf $(DESTDIR)$(sysconfdir)/collectd.conf.pkg-orig; \
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/mbmon.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/mbmon.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/mbmon.c	2007-11-10 23:15:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/mbmon.c	2007-10-25 01:21:24.000000000 +0800
@@ -129,13 +129,13 @@
 		}
 
 		/* connect to the mbmon daemon */
 		if (connect (fd, (struct sockaddr *) ai_ptr->ai_addr, ai_ptr->ai_addrlen))
 		{
 			char errbuf[1024];
-			INFO ("mbmon: connect (%s, %s): %s", host, port,
+			DEBUG ("mbmon: connect (%s, %s): %s", host, port,
 					sstrerror (errno, errbuf,
 						sizeof (errbuf)));
 			close (fd);
 			fd = -1;
 			continue;
 		}
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: memcached.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/network.c	2008-01-21 17:53:47.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/network.c	2007-10-25 01:21:24.000000000 +0800
@@ -163,13 +163,13 @@
 static char        *send_buffer_ptr;
 static int          send_buffer_fill;
 static value_list_t send_buffer_vl = VALUE_LIST_STATIC;
 static char         send_buffer_type[DATA_MAX_NAME_LEN];
 static pthread_mutex_t send_buffer_lock = PTHREAD_MUTEX_INITIALIZER;
 
-static c_avl_tree_t      *cache_tree = NULL;
+static avl_tree_t      *cache_tree = NULL;
 static pthread_mutex_t  cache_lock = PTHREAD_MUTEX_INITIALIZER;
 static time_t           cache_flush_last;
 static int              cache_flush_interval = 1800;
 
 /*
  * Private functions
@@ -181,43 +181,43 @@
 
 	char **tmp;
 	int    i;
 
 	char   *key;
 	time_t *value;
-	c_avl_iterator_t *iter;
+	avl_iterator_t *iter;
 
 	time_t curtime = time (NULL);
 
-	iter = c_avl_get_iterator (cache_tree);
-	while (c_avl_iterator_next (iter, (void *) &key, (void *) &value) == 0)
+	iter = avl_get_iterator (cache_tree);
+	while (avl_iterator_next (iter, (void *) &key, (void *) &value) == 0)
 	{
 		if ((curtime - *value) <= cache_flush_interval)
 			continue;
 		tmp = (char **) realloc (keys,
 				(keys_num + 1) * sizeof (char *));
 		if (tmp == NULL)
 		{
 			sfree (keys);
-			c_avl_iterator_destroy (iter);
+			avl_iterator_destroy (iter);
 			ERROR ("network plugin: cache_flush: realloc"
 					" failed.");
 			return (-1);
 		}
 		keys = tmp;
 		keys[keys_num] = key;
 		keys_num++;
-	} /* while (c_avl_iterator_next) */
-	c_avl_iterator_destroy (iter);
+	} /* while (avl_iterator_next) */
+	avl_iterator_destroy (iter);
 
 	for (i = 0; i < keys_num; i++)
 	{
-		if (c_avl_remove (cache_tree, keys[i], (void *) &key,
+		if (avl_remove (cache_tree, keys[i], (void *) &key,
 					(void *) &value) != 0)
 		{
-			WARNING ("network plugin: cache_flush: c_avl_remove"
+			WARNING ("network plugin: cache_flush: avl_remove"
 					" (%s) failed.", keys[i]);
 			continue;
 		}
 
 		sfree (key);
 		sfree (value);
@@ -243,13 +243,13 @@
 	if (format_name (key, sizeof (key), vl->host, vl->plugin,
 				vl->plugin_instance, type, vl->type_instance))
 		return (-1);
 
 	pthread_mutex_lock (&cache_lock);
 
-	if (c_avl_get (cache_tree, key, (void *) &value) == 0)
+	if (avl_get (cache_tree, key, (void *) &value) == 0)
 	{
 		if (*value < vl->time)
 		{
 			*value = vl->time;
 			retval = 0;
 		}
@@ -264,13 +264,13 @@
 	{
 		char *key_copy = strdup (key);
 		value = malloc (sizeof (time_t));
 		if ((key_copy != NULL) && (value != NULL))
 		{
 			*value = vl->time;
-			c_avl_insert (cache_tree, key_copy, value);
+			avl_insert (cache_tree, key_copy, value);
 			retval = 0;
 		}
 		else
 		{
 			sfree (key_copy);
 			sfree (value);
@@ -986,13 +986,13 @@
 		/* seek end */;
 
 	se_ptr->next = se;
 	return (0);
 } /* int network_get_listen_socket */
 
-static int network_receive (void)
+int network_receive (void)
 {
 	char buffer[BUFF_SIZE];
 	int  buffer_len;
 
 	int i;
 	int status;
@@ -1296,18 +1296,18 @@
 
 	if (cache_tree != NULL)
 	{
 		void *key;
 		void *value;
 
-		while (c_avl_pick (cache_tree, &key, &value) == 0)
+		while (avl_pick (cache_tree, &key, &value) == 0)
 		{
 			sfree (key);
 			sfree (value);
 		}
-		c_avl_destroy (cache_tree);
+		avl_destroy (cache_tree);
 		cache_tree = NULL;
 	}
 
 	/* TODO: Close `sending_sockets' */
 
 	plugin_unregister_config ("network");
@@ -1324,13 +1324,13 @@
 
 	send_buffer_ptr  = send_buffer;
 	send_buffer_fill = 0;
 	memset (&send_buffer_vl, '\0', sizeof (send_buffer_vl));
 	memset (send_buffer_type, '\0', sizeof (send_buffer_type));
 
-	cache_tree = c_avl_create ((int (*) (const void *, const void *)) strcmp);
+	cache_tree = avl_create ((int (*) (const void *, const void *)) strcmp);
 	cache_flush_last = time (NULL);
 
 	/* setup socket(s) and so on */
 	if (sending_sockets != NULL)
 		plugin_register_write ("network", network_write);
 
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: nginx.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/ntpd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/ntpd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/ntpd.c	2008-01-11 18:16:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/ntpd.c	2007-10-25 01:21:24.000000000 +0800
@@ -490,13 +490,13 @@
 		if ((status < 0) && ((errno == EAGAIN) || (errno == EINTR)))
 			continue;
 
 		if (status < 0)
 		{
 			char errbuf[1024];
-			INFO ("recv(2) failed: %s",
+			DEBUG ("recv(2) failed: %s",
 					sstrerror (errno, errbuf, sizeof (errbuf)));
 			DEBUG ("Closing socket #%i", sd);
 			close (sd);
 			sock_descr = sd = -1;
 			return (-1);
 		}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/perl.c	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/perl.c	2007-10-27 17:04:59.000000000 +0800
@@ -50,75 +50,67 @@
 
 #define PLUGIN_TYPES    5
 
 #define PLUGIN_DATASET  255
 
 #define log_debug(...) DEBUG ("perl: " __VA_ARGS__)
+#define log_info(...) INFO ("perl: " __VA_ARGS__)
 #define log_warn(...) WARNING ("perl: " __VA_ARGS__)
 #define log_err(...) ERROR ("perl: " __VA_ARGS__)
 
-
 /* this is defined in DynaLoader.a */
 void boot_DynaLoader (PerlInterpreter *, CV *);
 
-static XS (Collectd_plugin_register);
-static XS (Collectd_plugin_unregister);
+static XS (Collectd_plugin_register_ds);
+static XS (Collectd_plugin_unregister_ds);
 static XS (Collectd_plugin_dispatch_values);
 static XS (Collectd_plugin_log);
 
-
-/*
- * private data types
- */
-
-typedef struct {
-	int len;
-	int *values;
-} ds_types_t;
-
-typedef struct {
-	int wait_time;
-	int wait_left;
-
-	SV  *sub;
-} pplugin_t;
-
-
 /*
  * private variables
  */
 
-/* valid configuration file keys */
-static const char *config_keys[] =
-{
-	"LoadPlugin",
-	"BaseName",
-	"IncludeDir"
-};
-static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
-
 static PerlInterpreter *perl = NULL;
 
-static char base_name[DATA_MAX_NAME_LEN] = "";
+static int  perl_argc   = 0;
+static char **perl_argv = NULL;
 
-static char *plugin_types[] = { "init", "read", "write", "shutdown" };
-static HV   *plugins[PLUGIN_TYPES];
-static HV   *data_sets;
+static char base_name[DATA_MAX_NAME_LEN] = "";
 
 static struct {
 	char name[64];
 	XS ((*f));
 } api[] =
 {
-	{ "Collectd::plugin_register",        Collectd_plugin_register },
-	{ "Collectd::plugin_unregister",      Collectd_plugin_unregister },
-	{ "Collectd::plugin_dispatch_values", Collectd_plugin_dispatch_values },
-	{ "Collectd::plugin_log",             Collectd_plugin_log },
+	{ "Collectd::plugin_register_data_set",   Collectd_plugin_register_ds },
+	{ "Collectd::plugin_unregister_data_set", Collectd_plugin_unregister_ds },
+	{ "Collectd::plugin_dispatch_values",     Collectd_plugin_dispatch_values },
+	{ "Collectd::plugin_log",                 Collectd_plugin_log },
 	{ "", NULL }
 };
 
+struct {
+	char name[64];
+	int  value;
+} constants[] =
+{
+	{ "Collectd::TYPE_INIT",       PLUGIN_INIT },
+	{ "Collectd::TYPE_READ",       PLUGIN_READ },
+	{ "Collectd::TYPE_WRITE",      PLUGIN_WRITE },
+	{ "Collectd::TYPE_SHUTDOWN",   PLUGIN_SHUTDOWN },
+	{ "Collectd::TYPE_LOG",        PLUGIN_LOG },
+	{ "Collectd::TYPE_DATASET",    PLUGIN_DATASET },
+	{ "Collectd::DS_TYPE_COUNTER", DS_TYPE_COUNTER },
+	{ "Collectd::DS_TYPE_GAUGE",   DS_TYPE_GAUGE },
+	{ "Collectd::LOG_ERR",         LOG_ERR },
+	{ "Collectd::LOG_WARNING",     LOG_WARNING },
+	{ "Collectd::LOG_NOTICE",      LOG_NOTICE },
+	{ "Collectd::LOG_INFO",        LOG_INFO },
+	{ "Collectd::LOG_DEBUG",       LOG_DEBUG },
+	{ "", 0 }
+};
 
 /*
  * Helper functions for data type conversion.
  */
 
 /*
@@ -172,44 +164,41 @@
 		ds->max = NAN;
 	return 0;
 } /* static data_source_t *hv2data_source (HV *) */
 
 static int av2value (char *name, AV *array, value_t *value, int len)
 {
-	SV **tmp = NULL;
-
-	ds_types_t *ds = NULL;
+	const data_set_t *ds;
 
 	int i = 0;
 
 	if ((NULL == name) || (NULL == array) || (NULL == value))
 		return -1;
 
 	if (Perl_av_len (perl, array) < len - 1)
 		len = Perl_av_len (perl, array) + 1;
 
 	if (0 >= len)
 		return -1;
 
-	tmp = Perl_hv_fetch (perl, data_sets, name, strlen (name), 0);
-	if (NULL == tmp) {
-		log_err ("av2value: No dataset for \"%s\".", name);
+	ds = plugin_get_ds (name);
+	if (NULL == ds) {
+		log_err ("av2value: Unknown dataset \"%s\"", name);
 		return -1;
 	}
-	ds = (ds_types_t *)SvIV ((SV *)SvRV (*tmp));
 
-	if (ds->len < len) {
+	if (ds->ds_num < len) {
 		log_warn ("av2value: Value length exceeds data set length.");
-		len = ds->len;
+		len = ds->ds_num;
 	}
 
 	for (i = 0; i < len; ++i) {
 		SV **tmp = Perl_av_fetch (perl, array, i, 0);
 
 		if (NULL != tmp) {
-			if (DS_TYPE_COUNTER == ds->values[i])
+			if (DS_TYPE_COUNTER == ds->ds[i].type)
 				value[i].counter = SvIV (*tmp);
 			else
 				value[i].gauge = SvNV (*tmp);
 		}
 		else {
 			return -1;
@@ -335,95 +323,33 @@
 		return (NULL);
 	buf[buf_len - 1] = '\0';
 	return (buf);
 } /* char *get_module_name */
 
 /*
- * Add a new plugin with the given name.
- */
-static int pplugin_register (int type, const char *name, SV *sub)
-{
-	pplugin_t *p = NULL;
-
-	if ((type < 0) || (type >= PLUGIN_TYPES))
-		return -1;
-
-	if (NULL == name)
-		return -1;
-
-	p = (pplugin_t *)smalloc (sizeof (pplugin_t));
-	/* this happens during parsing of config file,
-	 * thus interval_g is not set correctly */
-	p->wait_time = 10;
-	p->wait_left = 0;
-	p->sub = Perl_newSVsv (perl, sub);
-
-	if (NULL == Perl_hv_store (perl, plugins[type], name, strlen (name),
-				Perl_sv_setref_pv (perl, Perl_newSV (perl, 0), 0, p), 0)) {
-		log_debug ("pplugin_register: Failed to add plugin \"%s\" (\"%s\")",
-				name, SvPV_nolen (sub));
-		Perl_sv_free (perl, p->sub);
-		sfree (p);
-		return -1;
-	}
-	return 0;
-} /* static int pplugin_register (int, char *, SV *) */
-
-/*
- * Removes the plugin with the given name and frees any ressources.
- */
-static int pplugin_unregister (int type, char *name)
-{
-	SV *tmp = NULL;
-
-	if ((type < 0) || (type >= PLUGIN_TYPES))
-		return -1;
-
-	if (NULL == name)
-		return -1;
-
-	/* freeing the allocated memory of the element itself (pplugin_t *) causes
-	 * a segfault during perl_destruct () thus I assume perl somehow takes
-	 * care of this... */
-
-	tmp = Perl_hv_delete (perl, plugins[type], name, strlen (name), 0);
-	if (NULL != tmp) {
-		pplugin_t *p = (pplugin_t *)SvIV ((SV *)SvRV (tmp));
-		Perl_sv_free (perl, p->sub);
-	}
-	return 0;
-} /* static int pplugin_unregister (char *) */
-
-/*
  * Add a plugin's data set definition.
  */
 static int pplugin_register_data_set (char *name, AV *dataset)
 {
 	int len = -1;
 	int i   = 0;
 
 	data_source_t *ds  = NULL;
 	data_set_t    *set = NULL;
 
-	ds_types_t *types = NULL;
-
 	if ((NULL == name) || (NULL == dataset))
 		return -1;
 
 	len = Perl_av_len (perl, dataset);
 
 	if (-1 == len)
 		return -1;
 
 	ds  = (data_source_t *)smalloc ((len + 1) * sizeof (data_source_t));
 	set = (data_set_t *)smalloc (sizeof (data_set_t));
 
-	types = (ds_types_t *)smalloc (sizeof (ds_types_t));
-	types->len = len + 1;
-	types->values = (int *)smalloc ((types->len) * sizeof (int));
-
 	for (i = 0; i <= len; ++i) {
 		SV **elem = Perl_av_fetch (perl, dataset, i, 0);
 
 		if (NULL == elem)
 			return -1;
 
@@ -432,22 +358,17 @@
 			return -1;
 		}
 
 		if (-1 == hv2data_source ((HV *)SvRV (*elem), &ds[i]))
 			return -1;
 
-		types->values[i] = ds[i].type;
 		log_debug ("pplugin_register_data_set: "
 				"DS.name = \"%s\", DS.type = %i, DS.min = %f, DS.max = %f",
 				ds[i].name, ds[i].type, ds[i].min, ds[i].max);
 	}
 
-	if (NULL == Perl_hv_store (perl, data_sets, name, strlen (name),
-			Perl_sv_setref_pv (perl, Perl_newSV (perl, 0), 0, types), 0))
-		return -1;
-
 	strncpy (set->type, name, DATA_MAX_NAME_LEN);
 	set->type[DATA_MAX_NAME_LEN - 1] = '\0';
 
 	set->ds_num = len + 1;
 	set->ds = ds;
 	return plugin_register_data_set (set);
@@ -455,26 +376,14 @@
 
 /*
  * Remove a plugin's data set definition.
  */
 static int pplugin_unregister_data_set (char *name)
 {
-	SV *tmp = NULL;
-
 	if (NULL == name)
 		return 0;
-
-	/* freeing the allocated memory of the element itself (ds_types_t *)
-	 * causes a segfault during perl_destruct () thus I assume perl somehow
-	 * takes care of this... */
-
-	tmp = Perl_hv_delete (perl, data_sets, name, strlen (name), 0);
-	if (NULL != tmp) {
-		ds_types_t *ds = (ds_types_t *)SvIV ((SV *)SvRV (tmp));
-		sfree (ds->values);
-	}
 	return plugin_unregister_data_set (name);
 } /* static int pplugin_unregister_data_set (char *) */
 
 /*
  * Submit the values to the write functions.
  *
@@ -507,12 +416,15 @@
 	}
 
 	{
 		AV  *array = (AV *)SvRV (*tmp);
 		int len    = Perl_av_len (perl, array) + 1;
 
+		if (len <= 0)
+			return -1;
+
 		val = (value_t *)smalloc (len * sizeof (value_t));
 
 		list.values_len = av2value (name, (AV *)SvRV (*tmp), val, len);
 		list.values = val;
 
 		if (-1 == list.values_len) {
@@ -556,31 +468,35 @@
 
 	sfree (val);
 	return ret;
 } /* static int pplugin_dispatch_values (char *, HV *) */
 
 /*
- * Call a plugin's working function.
+ * Call all working functions of the given type.
  */
-static int pplugin_call (int type, char *name, SV *sub, va_list ap)
+static int pplugin_call_all (int type, ...)
 {
 	int retvals = 0;
-	I32 xflags  = G_NOARGS;
 
+	va_list ap;
 	int ret = 0;
 
 	dSP;
 
 	if ((type < 0) || (type >= PLUGIN_TYPES))
 		return -1;
 
+	va_start (ap, type);
+
 	ENTER;
 	SAVETMPS;
 
 	PUSHMARK (SP);
 
+	XPUSHs (sv_2mortal (Perl_newSViv (perl, (IV)type)));
+
 	if (PLUGIN_WRITE == type) {
 		/*
 		 * $_[0] = $plugin_type;
 		 *
 		 * $_[1] =
 		 * [
@@ -618,222 +534,111 @@
 		if (-1 == value_list2hv (vl, ds, pvl))
 			return -1;
 
 		XPUSHs (sv_2mortal (Perl_newSVpv (perl, ds->type, 0)));
 		XPUSHs (sv_2mortal (Perl_newRV_noinc (perl, (SV *)pds)));
 		XPUSHs (sv_2mortal (Perl_newRV_noinc (perl, (SV *)pvl)));
-
-		xflags = 0;
 	}
 	else if (PLUGIN_LOG == type) {
 		/*
 		 * $_[0] = $level;
 		 *
 		 * $_[1] = $message;
 		 */
 		XPUSHs (sv_2mortal (Perl_newSViv (perl, va_arg (ap, int))));
 		XPUSHs (sv_2mortal (Perl_newSVpv (perl, va_arg (ap, char *), 0)));
-
-		xflags = 0;
 	}
 
 	PUTBACK;
 
-	/* prevent an endless loop */
-	if (PLUGIN_LOG != type)
-		log_debug ("pplugin_call: executing %s::%s->%s()",
-				base_name, name, plugin_types[type]);
-
-	retvals = Perl_call_sv (perl, sub, G_SCALAR | xflags);
+	retvals = Perl_call_pv (perl, "Collectd::plugin_call_all", G_SCALAR);
 
 	SPAGAIN;
-	if (1 > retvals) {
-		if (PLUGIN_LOG != type)
-			log_warn ("pplugin_call: "
-					"%s::%s->%s() returned void - assuming true",
-					base_name, name, plugin_types[type]);
-	}
-	else {
+	if (0 < retvals) {
 		SV *tmp = POPs;
 		if (! SvTRUE (tmp))
 			ret = -1;
 	}
 
 	PUTBACK;
 	FREETMPS;
 	LEAVE;
-	return ret;
-} /* static int pplugin_call (int, char *, SV *, va_list) */
-
-/*
- * Call all working functions of the given type.
- */
-static int pplugin_call_all (int type, ...)
-{
-	SV *tmp = NULL;
-
-	char *plugin;
-	I32  len;
-
-	if ((type < 0) || (type >= PLUGIN_TYPES))
-		return -1;
-
-	if (0 == Perl_hv_iterinit (perl, plugins[type]))
-		return 0;
-
-	while (NULL != (tmp = Perl_hv_iternextsv (perl, plugins[type],
-			&plugin, &len))) {
-		pplugin_t *p;
-		va_list   ap;
-
-		int status;
-
-		va_start (ap, type);
-
-		p = (pplugin_t *)SvIV ((SV *)SvRV (tmp));
-
-		if (p->wait_left > 0)
-			p->wait_left -= interval_g;
-
-		if (p->wait_left > 0)
-			continue;
 
-		if (0 == (status = pplugin_call (type, plugin, p->sub, ap))) {
-			p->wait_left = 0;
-			p->wait_time = interval_g;
-		}
-		else if (PLUGIN_READ == type) {
-			p->wait_left = p->wait_time;
-			p->wait_time <<= 1;
-
-			if (p->wait_time > 86400)
-				p->wait_time = 86400;
-
-			log_warn ("%s->read() failed. Will suspend it for %i seconds.",
-					plugin, p->wait_left);
-		}
-		else if (PLUGIN_INIT == type) {
-			int i = 0;
-
-			log_err ("%s->init() failed. Plugin will be disabled.",
-					plugin, status);
-
-			for (i = 0; i < PLUGIN_TYPES; ++i)
-				pplugin_unregister (i, plugin);
-		}
-		else if (PLUGIN_LOG != type) {
-			log_warn ("%s->%s() failed with status %i.",
-					plugin, plugin_types[type], status);
-		}
-
-		va_end (ap);
-	}
-	return 0;
+	va_end (ap);
+	return ret;
 } /* static int pplugin_call_all (int, ...) */
 
-
 /*
  * Exported Perl API.
  */
 
 /*
- * Collectd::plugin_register (type, name, data).
+ * Collectd::plugin_register_data_set (type, dataset).
  *
  * type:
- *   init, read, write, shutdown, data set
+ *   type of the dataset
  *
- * name:
- *   name of the plugin
- *
- * data:
- *   reference to the plugin's subroutine that does the work or the data set
- *   definition
+ * dataset:
+ *   dataset to be registered
  */
-static XS (Collectd_plugin_register)
+static XS (Collectd_plugin_register_ds)
 {
-	int type  = 0;
 	SV  *data = NULL;
-
-	int ret = 0;
+	int ret   = 0;
 
 	dXSARGS;
 
-	if (3 != items) {
-		log_err ("Usage: Collectd::plugin_register(type, name, data)");
+	if (2 != items) {
+		log_err ("Usage: Collectd::plugin_register_data_set(type, dataset)");
 		XSRETURN_EMPTY;
 	}
 
-	log_debug ("Collectd::plugin_register: "
-			"type = \"%i\", name = \"%s\", \"%s\"",
-			(int)SvIV (ST (0)), SvPV_nolen (ST (1)), SvPV_nolen (ST (2)));
-
-	type = (int)SvIV (ST (0));
-	data = ST (2);
-
-	if ((type >= 0) && (type < PLUGIN_TYPES)
-			&& SvROK (data) && (SVt_PVCV == SvTYPE (SvRV (data)))) {
-		ret = pplugin_register (type, SvPV_nolen (ST (1)), data);
-	}
-	else if ((type == PLUGIN_DATASET)
-			&& SvROK (data) && (SVt_PVAV == SvTYPE (SvRV (data)))) {
-		ret = pplugin_register_data_set (SvPV_nolen (ST (1)),
+	log_debug ("Collectd::plugin_register_data_set: "
+			"type = \"%s\", dataset = \"%s\"",
+			SvPV_nolen (ST (0)), SvPV_nolen (ST (1)));
+
+	data = ST (1);
+
+	if (SvROK (data) && (SVt_PVAV == SvTYPE (SvRV (data)))) {
+		ret = pplugin_register_data_set (SvPV_nolen (ST (0)),
 				(AV *)SvRV (data));
 	}
 	else {
-		log_err ("Collectd::plugin_register: Invalid data.");
+		log_err ("Collectd::plugin_register_data_set: Invalid data.");
 		XSRETURN_EMPTY;
 	}
 
 	if (0 == ret)
 		XSRETURN_YES;
 	else
 		XSRETURN_EMPTY;
-} /* static XS (Collectd_plugin_register) */
+} /* static XS (Collectd_plugin_register_ds) */
 
 /*
- * Collectd::plugin_unregister (type, name).
+ * Collectd::plugin_unregister_data_set (type).
  *
  * type:
- *   init, read, write, shutdown, data set
- *
- * name:
- *   name of the plugin
+ *   type of the dataset
  */
-static XS (Collectd_plugin_unregister)
+static XS (Collectd_plugin_unregister_ds)
 {
-	int type = 0;
-	int ret  = 0;
-
 	dXSARGS;
 
-	if (2 != items) {
-		log_err ("Usage: Collectd::plugin_unregister(type, name)");
+	if (1 != items) {
+		log_err ("Usage: Collectd::plugin_unregister_data_set(type)");
 		XSRETURN_EMPTY;
 	}
 
-	log_debug ("Collectd::plugin_unregister: type = \"%i\", name = \"%s\"",
-			(int)SvIV (ST (0)), SvPV_nolen (ST (1)));
-
-	type = (int)SvIV (ST (0));
-
-	if ((type >= 0) && (type < PLUGIN_TYPES)) {
-		ret = pplugin_unregister (type, SvPV_nolen (ST (1)));
-	}
-	else if (type == PLUGIN_DATASET) {
-		ret = pplugin_unregister_data_set (SvPV_nolen (ST (1)));
-	}
-	else {
-		log_err ("Collectd::plugin_unregister: Invalid type.");
-		XSRETURN_EMPTY;
-	}
+	log_debug ("Collectd::plugin_unregister_data_set: type = \"%s\"",
+			SvPV_nolen (ST (0)));
 
-	if (0 == ret)
+	if (0 == pplugin_unregister_data_set (SvPV_nolen (ST (1))))
 		XSRETURN_YES;
 	else
 		XSRETURN_EMPTY;
-} /* static XS (Collectd_plugin_unregister) */
+} /* static XS (Collectd_plugin_register_ds) */
 
 /*
  * Collectd::plugin_dispatch_values (name, values).
  *
  * name:
  *   name of the plugin
@@ -891,184 +696,74 @@
 
 	if (2 != items) {
 		log_err ("Usage: Collectd::plugin_log(level, message)");
 		XSRETURN_EMPTY;
 	}
 
-	log_debug ("Collectd::plugin_log: level = %i, message = \"%s\"",
-			SvIV (ST (0)), SvPV_nolen (ST (1)));
 	plugin_log (SvIV (ST (0)), SvPV_nolen (ST (1)));
 	XSRETURN_YES;
 } /* static XS (Collectd_plugin_log) */
 
 /*
- * Collectd::bootstrap ().
- */
-static XS (boot_Collectd)
-{
-	HV   *stash = NULL;
-	char *file  = __FILE__;
-
-	struct {
-		char name[64];
-		SV   *value;
-	} consts[] =
-	{
-		{ "Collectd::TYPE_INIT",       Perl_newSViv (perl, PLUGIN_INIT) },
-		{ "Collectd::TYPE_READ",       Perl_newSViv (perl, PLUGIN_READ) },
-		{ "Collectd::TYPE_WRITE",      Perl_newSViv (perl, PLUGIN_WRITE) },
-		{ "Collectd::TYPE_SHUTDOWN",   Perl_newSViv (perl, PLUGIN_SHUTDOWN) },
-		{ "Collectd::TYPE_LOG",        Perl_newSViv (perl, PLUGIN_LOG) },
-		{ "Collectd::TYPE_DATASET",    Perl_newSViv (perl, PLUGIN_DATASET) },
-		{ "Collectd::DS_TYPE_COUNTER", Perl_newSViv (perl, DS_TYPE_COUNTER) },
-		{ "Collectd::DS_TYPE_GAUGE",   Perl_newSViv (perl, DS_TYPE_GAUGE) },
-		{ "Collectd::LOG_ERR",         Perl_newSViv (perl, LOG_ERR) },
-		{ "Collectd::LOG_WARNING",     Perl_newSViv (perl, LOG_WARNING) },
-		{ "Collectd::LOG_NOTICE",      Perl_newSViv (perl, LOG_NOTICE) },
-		{ "Collectd::LOG_INFO",        Perl_newSViv (perl, LOG_INFO) },
-		{ "Collectd::LOG_DEBUG",       Perl_newSViv (perl, LOG_DEBUG) },
-		{ "", NULL }
-	};
-
-	int i = 0;
-
-	dXSARGS;
-
-	if ((1 > items) || (2 < items)) {
-		log_err ("Usage: Collectd::bootstrap(name[, version])");
-		XSRETURN_EMPTY;
-	}
-
-	XS_VERSION_BOOTCHECK;
-
-	/* register API */
-	for (i = 0; NULL != api[i].f; ++i)
-		Perl_newXS (perl, api[i].name, api[i].f, file);
-
-	stash = Perl_gv_stashpv (perl, "Collectd", 1);
-
-	/* export "constants" */
-	for (i = 0; NULL != consts[i].value; ++i)
-		Perl_newCONSTSUB (perl, stash, consts[i].name, consts[i].value);
-	XSRETURN_YES;
-} /* static XS (boot_Collectd) */
-
-
-/*
  * Interface to collectd.
  */
 
-static int perl_config (const char *key, const char *value)
-{
-	assert (NULL != perl);
-
-	log_debug ("perl_config: key = \"%s\", value=\"%s\"", key, value);
-
-	if (0 == strcasecmp (key, "LoadPlugin")) {
-		char module_name[DATA_MAX_NAME_LEN];
-
-		if (get_module_name (module_name, sizeof (module_name), value)
-				== NULL) {
-			log_err ("Invalid module name %s", value);
-			return (1);
-		} /* if (get_module_name == NULL) */
-
-		log_debug ("perl_config: loading perl plugin \"%s\"", value);
-		Perl_load_module (perl, PERL_LOADMOD_NOIMPORT,
-				Perl_newSVpv (perl, module_name, strlen (module_name)),
-				Nullsv);
-	}
-	else if (0 == strcasecmp (key, "BaseName")) {
-		log_debug ("perl_config: Setting plugin basename to \"%s\"", value);
-		strncpy (base_name, value, sizeof (base_name));
-		base_name[sizeof (base_name) - 1] = '\0';
-	}
-	else if (0 == strcasecmp (key, "IncludeDir")) {
-		Perl_av_unshift (perl, GvAVn (PL_incgv), 1);
-		Perl_av_store (perl, GvAVn (PL_incgv),
-				0, Perl_newSVpv (perl, value, strlen (value)));
-	}
-	else {
-		return -1;
-	}
-	return 0;
-} /* static int perl_config (char *, char *) */
-
 static int perl_init (void)
 {
-	assert (NULL != perl);
+	if (NULL == perl)
+		return 0;
 
 	PERL_SET_CONTEXT (perl);
 	return pplugin_call_all (PLUGIN_INIT);
 } /* static int perl_init (void) */
 
 static int perl_read (void)
 {
-	assert (NULL != perl);
+	if (NULL == perl)
+		return 0;
 
 	PERL_SET_CONTEXT (perl);
 	return pplugin_call_all (PLUGIN_READ);
 } /* static int perl_read (void) */
 
 static int perl_write (const data_set_t *ds, const value_list_t *vl)
 {
-	assert (NULL != perl);
+	if (NULL == perl)
+		return 0;
 
 	PERL_SET_CONTEXT (perl);
 	return pplugin_call_all (PLUGIN_WRITE, ds, vl);
 } /* static int perl_write (const data_set_t *, const value_list_t *) */
 
 static void perl_log (int level, const char *msg)
 {
-	assert (NULL != perl);
+	if (NULL == perl)
+		return;
 
 	PERL_SET_CONTEXT (perl);
 	pplugin_call_all (PLUGIN_LOG, level, msg);
 	return;
 } /* static void perl_log (int, const char *) */
 
 static int perl_shutdown (void)
 {
-	int i   = 0;
 	int ret = 0;
 
+	plugin_unregister_complex_config ("perl");
+
+	if (NULL == perl)
+		return 0;
+
 	plugin_unregister_log ("perl");
-	plugin_unregister_config ("perl");
 	plugin_unregister_init ("perl");
 	plugin_unregister_read ("perl");
 	plugin_unregister_write ("perl");
 
-	assert (NULL != perl);
-
 	PERL_SET_CONTEXT (perl);
 	ret = pplugin_call_all (PLUGIN_SHUTDOWN);
 
-	for (i = 0; i < PLUGIN_TYPES; ++i) {
-		if (0 < Perl_hv_iterinit (perl, plugins[i])) {
-			char *k = NULL;
-			I32  l  = 0;
-
-			while (NULL != Perl_hv_iternextsv (perl, plugins[i], &k, &l)) {
-				pplugin_unregister (i, k);
-			}
-		}
-
-		Perl_hv_undef (perl, plugins[i]);
-	}
-
-	if (0 < Perl_hv_iterinit (perl, data_sets)) {
-		char *k = NULL;
-		I32  l  = 0;
-
-		while (NULL != Perl_hv_iternextsv (perl, data_sets, &k, &l)) {
-			pplugin_unregister_data_set (k);
-		}
-	}
-
-	Perl_hv_undef (perl, data_sets);
-
 #if COLLECT_DEBUG
 	Perl_sv_report_used (perl);
 #endif /* COLLECT_DEBUG */
 
 	perl_destruct (perl);
 	perl_free (perl);
@@ -1077,66 +772,232 @@
 	PERL_SYS_TERM ();
 
 	plugin_unregister_shutdown ("perl");
 	return ret;
 } /* static void perl_shutdown (void) */
 
+/* bootstrap the Collectd module */
 static void xs_init (pTHX)
 {
-	char *file = __FILE__;
+	HV   *stash = NULL;
+	char *file  = __FILE__;
 
-	dXSUB_SYS;
+	int i = 0;
 
-	/* build the Collectd module into the perl interpreter */
-	Perl_newXS (perl, "Collectd::bootstrap", boot_Collectd, file);
+	dXSUB_SYS;
 
 	/* enable usage of Perl modules using shared libraries */
 	Perl_newXS (perl, "DynaLoader::boot_DynaLoader", boot_DynaLoader, file);
+
+	/* register API */
+	for (i = 0; NULL != api[i].f; ++i)
+		Perl_newXS (perl, api[i].name, api[i].f, file);
+
+	stash = Perl_gv_stashpv (perl, "Collectd", 1);
+
+	/* export "constants" */
+	for (i = 0; '\0' != constants[i].name[0]; ++i)
+		Perl_newCONSTSUB (perl, stash, constants[i].name,
+				Perl_newSViv (perl, constants[i].value));
 	return;
 } /* static void xs_init (pTHX) */
 
-/*
- * Create the perl interpreter and register it with collectd.
- */
-void module_register (void)
+/* Initialize the global Perl interpreter. */
+static int init_pi (int argc, char **argv)
 {
-	char *embed_argv[] = { "", "-e", "bootstrap Collectd \""VERSION"\"", NULL };
-	int  embed_argc    = 3;
+	if (NULL != perl)
+		return 0;
 
-	int i = 0;
+	log_info ("Initializing Perl interpreter...");
+#if COLLECT_DEBUG
+	{
+		int i = 0;
 
-	log_debug ("module_register: Registering perl plugin...");
+		for (i = 0; i < argc; ++i)
+			log_debug ("argv[%i] = \"%s\"", i, argv[i]);
+	}
+#endif /* COLLECT_DEBUG */
 
 	PERL_SYS_INIT3 (&argc, &argv, &environ);
 
 	if (NULL == (perl = perl_alloc ())) {
 		log_err ("module_register: Not enough memory.");
 		exit (3);
 	}
 	perl_construct (perl);
 
 	PL_exit_flags |= PERL_EXIT_DESTRUCT_END;
 
-	if (0 != perl_parse (perl, xs_init, embed_argc, embed_argv, NULL)) {
+	if (0 != perl_parse (perl, xs_init, argc, argv, NULL)) {
 		log_err ("module_register: Unable to bootstrap Collectd.");
 		exit (1);
 	}
 	perl_run (perl);
 
-	for (i = 0; i < PLUGIN_TYPES; ++i)
-		plugins[i] = Perl_newHV (perl);
-
-	data_sets = Perl_newHV (perl);
-
 	plugin_register_log ("perl", perl_log);
-	plugin_register_config ("perl", perl_config, config_keys, config_keys_num);
 	plugin_register_init ("perl", perl_init);
 
 	plugin_register_read ("perl", perl_read);
 
 	plugin_register_write ("perl", perl_write);
 	plugin_register_shutdown ("perl", perl_shutdown);
+	return 0;
+} /* static int init_pi (const char **, const int) */
+
+/*
+ * LoadPlugin "<Plugin>"
+ */
+static int perl_config_loadplugin (oconfig_item_t *ci)
+{
+	char module_name[DATA_MAX_NAME_LEN];
+
+	char *value = NULL;
+
+	if ((0 != ci->children_num) || (1 != ci->values_num)
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+		return 1;
+
+	value = ci->values[0].value.string;
+
+	if (NULL == get_module_name (module_name, sizeof (module_name), value)) {
+		log_err ("Invalid module name %s", value);
+		return (1);
+	}
+
+	init_pi (perl_argc, perl_argv);
+
+	log_debug ("perl_config: loading perl plugin \"%s\"", value);
+	Perl_load_module (perl, PERL_LOADMOD_NOIMPORT,
+			Perl_newSVpv (perl, module_name, strlen (module_name)),
+			Nullsv);
+	return 0;
+} /* static int perl_config_loadplugin (oconfig_item_it *) */
+
+/*
+ * BaseName "<Name>"
+ */
+static int perl_config_basename (oconfig_item_t *ci)
+{
+	char *value = NULL;
+
+	if ((0 != ci->children_num) || (1 != ci->values_num)
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+		return 1;
+
+	value = ci->values[0].value.string;
+
+	log_debug ("perl_config: Setting plugin basename to \"%s\"", value);
+	strncpy (base_name, value, sizeof (base_name));
+	base_name[sizeof (base_name) - 1] = '\0';
+	return 0;
+} /* static int perl_config_basename (oconfig_item_it *) */
+
+/*
+ * EnableDebugger "<Package>"|""
+ */
+static int perl_config_enabledebugger (oconfig_item_t *ci)
+{
+	char *value = NULL;
+
+	if ((0 != ci->children_num) || (1 != ci->values_num)
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+		return 1;
+
+	value = ci->values[0].value.string;
+
+	perl_argv = (char **)realloc (perl_argv,
+			(++perl_argc + 1) * sizeof (char *));
+
+	if (NULL == perl_argv) {
+		log_err ("perl_config: Not enough memory.");
+		exit (3);
+	}
+
+	if ('\0' == value[0]) {
+		perl_argv[perl_argc - 1] = "-d";
+	}
+	else {
+		perl_argv[perl_argc - 1] = (char *)smalloc (strlen (value) + 4);
+		sstrncpy (perl_argv[perl_argc - 1], "-d:", 4);
+		sstrncpy (perl_argv[perl_argc - 1] + 3, value, strlen (value) + 1);
+	}
+
+	perl_argv[perl_argc] = NULL;
+	return 0;
+} /* static int perl_config_enabledebugger (oconfig_item_it *) */
+
+/*
+ * IncludeDir "<Dir>"
+ */
+static int perl_config_includedir (oconfig_item_t *ci)
+{
+	char *value = NULL;
+
+	if ((0 != ci->children_num) || (1 != ci->values_num)
+			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
+		return 1;
+
+	value = ci->values[0].value.string;
+
+	if (NULL == perl) {
+		perl_argv = (char **)realloc (perl_argv,
+				(++perl_argc + 1) * sizeof (char *));
+
+		if (NULL == perl_argv) {
+			log_err ("perl_config: Not enough memory.");
+			exit (3);
+		}
+
+		perl_argv[perl_argc - 1] = (char *)smalloc (strlen (value) + 3);
+		sstrncpy(perl_argv[perl_argc - 1], "-I", 3);
+		sstrncpy(perl_argv[perl_argc - 1] + 2, value, strlen (value) + 1);
+
+		perl_argv[perl_argc] = NULL;
+	}
+	else {
+		/* prepend the directory to @INC */
+		Perl_av_unshift (perl, GvAVn (PL_incgv), 1);
+		Perl_av_store (perl, GvAVn (PL_incgv),
+				0, Perl_newSVpv (perl, value, strlen (value)));
+	}
+	return 0;
+} /* static int perl_config_includedir (oconfig_item_it *) */
+
+static int perl_config (oconfig_item_t *ci)
+{
+	int i = 0;
+
+	for (i = 0; i < ci->children_num; ++i) {
+		oconfig_item_t *c = ci->children + i;
+
+		if (0 == strcasecmp (c->key, "LoadPlugin"))
+			perl_config_loadplugin (c);
+		else if (0 == strcasecmp (c->key, "BaseName"))
+			perl_config_basename (c);
+		else if (0 == strcasecmp (c->key, "EnableDebugger"))
+			perl_config_enabledebugger (c);
+		else if (0 == strcasecmp (c->key, "IncludeDir"))
+			perl_config_includedir (c);
+		else
+			log_warn ("Ignoring unknown config key \"%s\".", c->key);
+	}
+	return 0;
+} /* static int perl_config (oconfig_item_t *) */
+
+void module_register (void)
+{
+	perl_argc = 4;
+	perl_argv = (char **)smalloc ((perl_argc + 1) * sizeof (char *));
+
+	/* default options for the Perl interpreter */
+	perl_argv[0] = "";
+	perl_argv[1] = "-MCollectd";
+	perl_argv[2] = "-e";
+	perl_argv[3] = "1";
+	perl_argv[4] = NULL;
+
+	plugin_register_complex_config ("perl", perl_config);
 	return;
 } /* void module_register (void) */
 
 /* vim: set sw=4 ts=4 tw=78 noexpandtab : */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/plugin.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/plugin.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/plugin.h	2008-01-11 18:16:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/plugin.h	2007-10-25 01:21:24.000000000 +0800
@@ -190,17 +190,13 @@
 
 void plugin_log (int level, const char *format, ...);
 #define ERROR(...)   plugin_log (LOG_ERR,     __VA_ARGS__)
 #define WARNING(...) plugin_log (LOG_WARNING, __VA_ARGS__)
 #define NOTICE(...)  plugin_log (LOG_NOTICE,  __VA_ARGS__)
 #define INFO(...)    plugin_log (LOG_INFO,    __VA_ARGS__)
-#if COLLECT_DEBUG
-# define DEBUG(...)  plugin_log (LOG_DEBUG,   __VA_ARGS__)
-#else /* COLLECT_DEBUG */
-# define DEBUG(...)  /* noop */
-#endif /* ! COLLECT_DEBUG */
+#define DEBUG(...)   plugin_log (LOG_DEBUG,   __VA_ARGS__)
 
 /* TODO: Move plugin_{complain,relief} into `utils_complain.[ch]'. -octo */
 void plugin_complain (int level, complain_t *c, const char *format, ...);
 void plugin_relief (int level, complain_t *c, const char *format, ...);
 
 const data_set_t *plugin_get_ds (const char *name);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/rrdtool.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/rrdtool.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/rrdtool.c	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/rrdtool.c	2007-10-27 17:04:59.000000000 +0800
@@ -102,13 +102,13 @@
 
 /* XXX: If you need to lock both, cache_lock and queue_lock, at the same time,
  * ALWAYS lock `cache_lock' first! */
 static int         cache_timeout = 0;
 static int         cache_flush_timeout = 0;
 static time_t      cache_flush_last;
-static c_avl_tree_t *cache = NULL;
+static avl_tree_t *cache = NULL;
 static pthread_mutex_t cache_lock = PTHREAD_MUTEX_INITIALIZER;
 
 static rrd_queue_t    *queue_head = NULL;
 static rrd_queue_t    *queue_tail = NULL;
 static pthread_t       queue_thread = 0;
 static pthread_mutex_t queue_lock = PTHREAD_MUTEX_INITIALIZER;
@@ -638,37 +638,39 @@
 		pthread_mutex_unlock (&queue_lock);
 
 		/* We now need the cache lock so the entry isn't updated while
 		 * we make a copy of it's values */
 		pthread_mutex_lock (&cache_lock);
 
-		c_avl_get (cache, queue_entry->filename, (void *) &cache_entry);
+		avl_get (cache, queue_entry->filename, (void *) &cache_entry);
 
 		values = cache_entry->values;
 		values_num = cache_entry->values_num;
 
 		cache_entry->values = NULL;
 		cache_entry->values_num = 0;
 		cache_entry->flags = FLAG_NONE;
 
 		pthread_mutex_unlock (&cache_lock);
 
 		/* Write the values to the RRD-file */
 		srrd_update (queue_entry->filename, NULL, values_num, values);
+		DEBUG ("rrdtool plugin: queue thread: Wrote %i values to %s",
+				values_num, queue_entry->filename);
 
 		for (i = 0; i < values_num; i++)
 		{
 			sfree (values[i]);
 		}
 		sfree (values);
 		sfree (queue_entry->filename);
 		sfree (queue_entry);
 	} /* while (42) */
 
 	pthread_mutex_lock (&cache_lock);
-	c_avl_destroy (cache);
+	avl_destroy (cache);
 	cache = NULL;
 	pthread_mutex_unlock (&cache_lock);
 
 	pthread_exit ((void *) 0);
 	return ((void *) 0);
 } /* void *rrd_queue_thread */
@@ -710,71 +712,69 @@
 	time_t       now;
 
 	char **keys = NULL;
 	int    keys_num = 0;
 
 	char *key;
-	c_avl_iterator_t *iter;
+	avl_iterator_t *iter;
 	int i;
 
 	DEBUG ("rrdtool plugin: Flushing cache, timeout = %i", timeout);
 
 	now = time (NULL);
 
 	/* Build a list of entries to be flushed */
-	iter = c_avl_get_iterator (cache);
-	while (c_avl_iterator_next (iter, (void *) &key, (void *) &rc) == 0)
+	iter = avl_get_iterator (cache);
+	while (avl_iterator_next (iter, (void *) &key, (void *) &rc) == 0)
 	{
 		if (rc->flags == FLAG_QUEUED)
 			continue;
 		else if ((now - rc->first_value) < timeout)
 			continue;
 		else if (rc->values_num > 0)
 		{
 			if (rrd_queue_cache_entry (key) == 0)
 				rc->flags = FLAG_QUEUED;
 		}
 		else /* ancient and no values -> waste of memory */
 		{
-			char **tmp = (char **) realloc ((void *) keys,
+			keys = (char **) realloc ((void *) keys,
 					(keys_num + 1) * sizeof (char *));
-			if (tmp == NULL)
+			if (keys == NULL)
 			{
 				char errbuf[1024];
 				ERROR ("rrdtool plugin: "
 						"realloc failed: %s",
 						sstrerror (errno, errbuf,
 							sizeof (errbuf)));
-				c_avl_iterator_destroy (iter);
-				sfree (keys);
+				avl_iterator_destroy (iter);
 				return;
 			}
-			keys = tmp;
 			keys[keys_num] = key;
 			keys_num++;
 		}
-	} /* while (c_avl_iterator_next) */
-	c_avl_iterator_destroy (iter);
+	} /* while (avl_iterator_next) */
+	avl_iterator_destroy (iter);
 	
 	for (i = 0; i < keys_num; i++)
 	{
-		if (c_avl_remove (cache, keys[i], (void *) &key, (void *) &rc) != 0)
+		if (avl_remove (cache, keys[i], (void *) &key, (void *) &rc) != 0)
 		{
-			DEBUG ("rrdtool plugin: c_avl_remove (%s) failed.", keys[i]);
+			DEBUG ("rrdtool plugin: avl_remove (%s) failed.", keys[i]);
 			continue;
 		}
 
 		assert (rc->values == NULL);
 		assert (rc->values_num == 0);
 
 		sfree (rc);
 		sfree (key);
 		keys[i] = NULL;
 	} /* for (i = 0..keys_num) */
 
-	sfree (keys);
+	free (keys);
 
 	cache_flush_last = now;
 } /* void rrd_cache_flush */
 
 static int rrd_cache_insert (const char *filename,
 		const char *value, time_t value_time)
@@ -782,13 +782,13 @@
 	rrd_cache_t *rc = NULL;
 	int new_rc = 0;
 	char **values_new;
 
 	pthread_mutex_lock (&cache_lock);
 
-	c_avl_get (cache, filename, (void *) &rc);
+	avl_get (cache, filename, (void *) &rc);
 
 	if (rc == NULL)
 	{
 		rc = (rrd_cache_t *) malloc (sizeof (rrd_cache_t));
 		if (rc == NULL)
 			return (-1);
@@ -815,13 +815,13 @@
 	{
 		char errbuf[1024];
 		void *cache_key = NULL;
 
 		sstrerror (errno, errbuf, sizeof (errbuf));
 
-		c_avl_remove (cache, filename, &cache_key, NULL);
+		avl_remove (cache, filename, &cache_key, NULL);
 		pthread_mutex_unlock (&cache_lock);
 
 		ERROR ("rrdtool plugin: realloc failed: %s", errbuf);
 
 		sfree (cache_key);
 		sfree (rc->values);
@@ -855,13 +855,13 @@
 			sfree (rc->values[0]);
 			sfree (rc->values);
 			sfree (rc);
 			return (-1);
 		}
 
-		c_avl_insert (cache, cache_key, rc);
+		avl_insert (cache, cache_key, rc);
 	}
 
 	DEBUG ("rrdtool plugin: rrd_cache_insert: file = %s; "
 			"values_num = %i; age = %u;",
 			filename, rc->values_num,
 			rc->last_value - rc->first_value);
@@ -1094,16 +1094,16 @@
 				"smaller than your `interval'. This will "
 				"create needlessly big RRD-files.");
 
 	/* Set the cache up */
 	pthread_mutex_lock (&cache_lock);
 
-	cache = c_avl_create ((int (*) (const void *, const void *)) strcmp);
+	cache = avl_create ((int (*) (const void *, const void *)) strcmp);
 	if (cache == NULL)
 	{
-		ERROR ("rrdtool plugin: c_avl_create failed.");
+		ERROR ("rrdtool plugin: avl_create failed.");
 		return (-1);
 	}
 
 	cache_flush_last = time (NULL);
 	if (cache_timeout < 2)
 	{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/sensors.c	2007-12-29 02:03:32.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/sensors.c	2007-10-25 01:21:24.000000000 +0800
@@ -35,43 +35,35 @@
 #include "utils_ignorelist.h"
 
 #if defined(HAVE_SENSORS_SENSORS_H)
 # include <sensors/sensors.h>
 #endif
 
-#if !defined(SENSORS_API_VERSION)
-# define SENSORS_API_VERSION 0x000
-#endif
+#define SENSOR_TYPE_VOLTAGE     0
+#define SENSOR_TYPE_FANSPEED    1
+#define SENSOR_TYPE_TEMPERATURE 2
+#define SENSOR_TYPE_UNKNOWN     3
 
-/*
- * The sensors library prior to version 3.0 (internal version 0x400) didn't
- * report the type of values, only a name. The following lists are there to
- * convert from the names to the type. They are not used with the new
- * interface.
- */
-#if SENSORS_API_VERSION < 0x400
-static char *sensor_type_name_map[] =
+static char *sensor_to_type[] =
 {
-# define SENSOR_TYPE_VOLTAGE     0
 	"voltage",
-# define SENSOR_TYPE_FANSPEED    1
 	"fanspeed",
-# define SENSOR_TYPE_TEMPERATURE 2
 	"temperature",
-# define SENSOR_TYPE_UNKNOWN     3
 	NULL
 };
 
 struct sensors_labeltypes_s
 {
 	char *label;
 	int type;
 };
 typedef struct sensors_labeltypes_s sensors_labeltypes_t;
 
-/* finite list of known labels extracted from lm_sensors */
+/*
+ * finite list of known labels extracted from lm_sensors
+ */
 static sensors_labeltypes_t known_features[] = 
 {
 	{ "fan1", SENSOR_TYPE_FANSPEED },
 	{ "fan2", SENSOR_TYPE_FANSPEED },
 	{ "fan3", SENSOR_TYPE_FANSPEED },
 	{ "fan4", SENSOR_TYPE_FANSPEED },
@@ -123,104 +115,44 @@
 	{ "2.5V", SENSOR_TYPE_VOLTAGE },
 	{ "2.0V", SENSOR_TYPE_VOLTAGE },
 	{ "12V", SENSOR_TYPE_VOLTAGE }
 };
 static int known_features_num = STATIC_ARRAY_SIZE (known_features);
 /* end new naming */
-#endif /* SENSORS_API_VERSION < 0x400 */
 
 static const char *config_keys[] =
 {
 	"Sensor",
-	"IgnoreSelected"
+	"IgnoreSelected",
+	NULL
 };
-static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
+static int config_keys_num = 2;
 
-#if SENSORS_API_VERSION < 0x400
-typedef struct featurelist
-{
-	const sensors_chip_name    *chip;
-	const sensors_feature_data *data;
-	int                         type;
-	struct featurelist         *next;
-} featurelist_t;
+static ignorelist_t *sensor_list;
+
+#ifndef SENSORS_CONF_PATH
+# define SENSORS_CONF_PATH "/etc/sensors.conf"
+#endif
+
+static const char *conffile = SENSORS_CONF_PATH;
+/* SENSORS_CONF_PATH */
 
-# ifndef SENSORS_CONF_PATH
-#  define SENSORS_CONF_PATH "/etc/sensors.conf"
-# endif
-/* #endif SENSORS_API_VERSION < 0x400 */
+/*
+ * remember stat of the loaded config
+ */
+static time_t sensors_config_mtime = 0;
 
-#elif (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500)
 typedef struct featurelist
 {
 	const sensors_chip_name    *chip;
-	const sensors_feature      *feature;
-	const sensors_subfeature   *subfeature;
+	const sensors_feature_data *data;
+	int                         type;
 	struct featurelist         *next;
 } featurelist_t;
 
-# ifndef SENSORS_CONF_PATH
-#  define SENSORS_CONF_PATH "/etc/sensors3.conf"
-# endif
-/* #endif (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500) */
-
-#else /* if SENSORS_API_VERSION >= 0x500 */
-# error "This version of libsensors is not supported yet. Please report this " \
-	"as bug."
-#endif
-
-static const char *conffile = SENSORS_CONF_PATH;
 featurelist_t *first_feature = NULL;
-static ignorelist_t *sensor_list;
-static time_t sensors_config_mtime = 0;
-
-#if SENSORS_API_VERSION < 0x400
-/* full chip name logic borrowed from lm_sensors */
-static int sensors_snprintf_chip_name (char *buf, size_t buf_size,
-		const sensors_chip_name *chip)
-{
-	int status = -1;
-
-	if (chip->bus == SENSORS_CHIP_NAME_BUS_ISA)
-	{
-		status = snprintf (buf, buf_size,
-				"%s-isa-%04x",
-				chip->prefix,
-				chip->addr);
-	}
-	else if (chip->bus == SENSORS_CHIP_NAME_BUS_DUMMY)
-	{
-		snprintf (buf, buf_size, "%s-%s-%04x",
-				chip->prefix,
-				chip->busname,
-				chip->addr);
-	}
-	else
-	{
-		snprintf (buf, buf_size, "%s-i2c-%d-%02x",
-				chip->prefix,
-				chip->bus,
-				chip->addr);
-	}
-
-	return (status);
-} /* int sensors_snprintf_chip_name */
-
-static int sensors_feature_name_to_type (const char *name)
-{
-	int i;
-
-	/* Yes, this is slow, but it's only ever done during initialization, so
-	 * it's a one time cost.. */
-	for (i = 0; i < known_features_num; i++)
-		if (strcasecmp (known_features[i].label, name) == 0)
-			return (known_features[i].type);
-
-	return (SENSOR_TYPE_UNKNOWN);
-} /* int sensors_feature_name_to_type */
-#endif
 
 static int sensors_config (const char *key, const char *value)
 {
 	if (sensor_list == NULL)
 		sensor_list = ignorelist_create (1);
 
@@ -268,16 +200,20 @@
 }
 
 static int sensors_load_conf (void)
 {
 	FILE *fh;
 	featurelist_t *last_feature = NULL;
+	featurelist_t *new_feature = NULL;
 	
 	const sensors_chip_name *chip;
 	int chip_num;
 
+	const sensors_feature_data *data;
+	int data_num0, data_num1;
+
 	struct stat statbuf;
 	int status;
 	
 	status = stat (conffile, &statbuf);
 	if (status != 0)
 	{
@@ -316,115 +252,71 @@
 				"Data will not be collected.");
 		return (-1);
 	}
 
 	sensors_config_mtime = statbuf.st_mtime;
 
-#if SENSORS_API_VERSION < 0x400
 	chip_num = 0;
 	while ((chip = sensors_get_detected_chips (&chip_num)) != NULL)
 	{
-		int feature_num0 = 0;
-		int feature_num1 = 0;
+		data = NULL;
+		data_num0 = data_num1 = 0;
 
-		while (42)
+		while ((data = sensors_get_all_features (*chip, &data_num0, &data_num1))
+				!= NULL)
 		{
-			const sensors_feature_data *feature;
-			int feature_type;
-			featurelist_t *fl;
-
-			feature = sensors_get_all_features (*chip,
-					&feature_num0, &feature_num1);
-
-			/* Check if all features have been read. */
-			if (feature == NULL)
-				break;
+			int i;
 
 			/* "master features" only */
-			if (feature->mapping != SENSORS_NO_MAPPING)
-				continue;
-
-			/* skip ignored in sensors.conf */
-			if (sensors_get_ignored (*chip, feature->number) == 0)
-				break;
-
-			feature_type = sensors_feature_name_to_type (
-					feature->name);
-			if (feature_type == SENSOR_TYPE_UNKNOWN)
-				continue;
-
-			fl = (featurelist_t *) malloc (sizeof (featurelist_t));
-			if (fl == NULL)
-			{
-				ERROR ("sensors plugin: malloc failed.");
-				continue;
-			}
-			memset (fl, '\0', sizeof (featurelist_t));
-
-			fl->chip = chip;
-			fl->data = feature;
-			fl->type = feature_type;
-
-			if (first_feature == NULL)
-				first_feature = fl;
-			else
-				last_feature->next = fl;
-			last_feature = fl;
-		} /* while sensors_get_all_features */
-	} /* while sensors_get_detected_chips */
-/* #endif SENSORS_API_VERSION < 0x400 */
-
-#elif (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500)
-	chip_num = 0;
-	while ((chip = sensors_get_detected_chips (NULL, &chip_num)) != NULL)
-	{
-		const sensors_feature *feature;
-		int feature_num = 0;
-
-		while ((feature = sensors_get_features (chip, &feature_num)) != NULL)
-		{
-			const sensors_subfeature *subfeature;
-			int subfeature_num = 0;
-
-			/* Only handle voltage, fanspeeds and temperatures */
-			if ((feature->type != SENSORS_FEATURE_IN)
-					&& (feature->type != SENSORS_FEATURE_FAN)
-					&& (feature->type != SENSORS_FEATURE_TEMP))
+			if (data->mapping != SENSORS_NO_MAPPING)
 				continue;
 
-			while ((subfeature = sensors_get_all_subfeatures (chip,
-							feature, &subfeature_num)) != NULL)
+			/* Only known features */
+			for (i = 0; i < known_features_num; i++)
 			{
-				featurelist_t *fl;
-
-				if ((subfeature->type != SENSORS_SUBFEATURE_IN_INPUT)
-						&& (subfeature->type != SENSORS_SUBFEATURE_FAN_INPUT)
-						&& (subfeature->type != SENSORS_SUBFEATURE_TEMP_INPUT))
+				if (strcmp (data->name, known_features[i].label) != 0)
 					continue;
 
-				fl = (featurelist_t *) malloc (sizeof (featurelist_t));
-				if (fl == NULL)
+				/* skip ignored in sensors.conf */
+				if (sensors_get_ignored (*chip, data->number) == 0)
+					break;
+
+				DEBUG ("Adding feature: %s-%s-%s",
+						chip->prefix,
+						sensor_to_type[known_features[i].type],
+						data->name);
+
+				if ((new_feature = (featurelist_t *) malloc (sizeof (featurelist_t))) == NULL)
 				{
-					ERROR ("sensors plugin: malloc failed.");
-					continue;
+					char errbuf[1024];
+					ERROR ("sensors plugin: malloc: %s",
+							sstrerror (errno, errbuf, sizeof (errbuf)));
+					break;
 				}
-				memset (fl, '\0', sizeof (featurelist_t));
 
-				fl->chip = chip;
-				fl->feature = feature;
-				fl->subfeature = subfeature;
+				new_feature->chip = chip;
+				new_feature->data = data;
+				new_feature->type = known_features[i].type;
+				new_feature->next = NULL;
 
 				if (first_feature == NULL)
-					first_feature = fl;
+				{
+					first_feature = new_feature;
+					last_feature  = new_feature;
+				}
 				else
-					last_feature->next = fl;
-				last_feature  = fl;
-			} /* while (subfeature) */
-		} /* while (feature) */
-	} /* while (chip) */
-#endif /* (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500) */
+				{
+					last_feature->next = new_feature;
+					last_feature = new_feature;
+				}
+
+				/* stop searching known features at first found */
+				break;
+			} /* for i */
+		} /* while sensors_get_all_features */
+	} /* while sensors_get_detected_chips */
 
 	if (first_feature == NULL)
 	{
 		sensors_cleanup ();
 		INFO ("sensors plugin: lm_sensors reports no "
 				"features. Data will not be collected.");
@@ -451,13 +343,13 @@
 
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	status = snprintf (match_key, sizeof (match_key), "%s/%s-%s",
 			plugin_instance, type, type_instance);
-	if (status < 1)
+	if ((status < 1) || (status >= sizeof (match_key)))
 		return;
 	match_key[sizeof (match_key) - 1] = '\0';
 
 	if (sensor_list != NULL)
 	{
 		DEBUG ("sensors plugin: Checking ignorelist for `%s'", match_key);
@@ -467,101 +359,71 @@
 
 	values[0].gauge = val;
 
 	vl.values = values;
 	vl.values_len = 1;
 	vl.time = time (NULL);
-
-	strncpy (vl.host, hostname_g, sizeof (vl.host));
-	vl.host[sizeof (vl.host) - 1] = '\0';
-	strncpy (vl.plugin, "sensors", sizeof (vl.plugin));
-	vl.plugin[sizeof (vl.plugin) - 1] = '\0';
-	strncpy (vl.plugin_instance, plugin_instance,
-			sizeof (vl.plugin_instance));
-	vl.plugin_instance[sizeof (vl.plugin_instance) - 1] = '\0';
-	strncpy (vl.type_instance, type_instance, sizeof (vl.type_instance));
-	vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
+	strcpy (vl.host, hostname_g);
+	strcpy (vl.plugin, "sensors");
+	strcpy (vl.plugin_instance, plugin_instance);
+	strcpy (vl.type_instance, type_instance);
 
 	plugin_dispatch_values (type, &vl);
 } /* void sensors_submit */
 
 static int sensors_read (void)
 {
-	featurelist_t *fl;
+	featurelist_t *feature;
+	double value;
+
+	char plugin_instance[DATA_MAX_NAME_LEN];
+	char type_instance[DATA_MAX_NAME_LEN];
 
 	if (sensors_load_conf () != 0)
 		return (-1);
 
-#if SENSORS_API_VERSION < 0x400
-	for (fl = first_feature; fl != NULL; fl = fl->next)
+	for (feature = first_feature; feature != NULL; feature = feature->next)
 	{
-		double value;
-		int status;
-		char plugin_instance[DATA_MAX_NAME_LEN];
-		char type_instance[DATA_MAX_NAME_LEN];
-
-		status = sensors_get_feature (*fl->chip,
-				fl->data->number, &value);
-		if (status < 0)
+		if (sensors_get_feature (*feature->chip, feature->data->number, &value) < 0)
 			continue;
 
-		status = sensors_snprintf_chip_name (plugin_instance,
-				sizeof (plugin_instance), fl->chip);
-		if (status < 0)
-			continue;
-		plugin_instance[sizeof (plugin_instance) - 1] = '\0';
+		/* full chip name logic borrowed from lm_sensors */
+		if (feature->chip->bus == SENSORS_CHIP_NAME_BUS_ISA)
+		{
+			if (snprintf (plugin_instance, DATA_MAX_NAME_LEN, "%s-isa-%04x",
+						feature->chip->prefix,
+						feature->chip->addr)
+					>= 512)
+				continue;
+		}
+		else if (feature->chip->bus == SENSORS_CHIP_NAME_BUS_DUMMY)
+		{
+			if (snprintf (plugin_instance, 512, "%s-%s-%04x",
+						feature->chip->prefix,
+						feature->chip->busname,
+						feature->chip->addr)
+					>= 512)
+				continue;
+		}
+		else
+		{
+			if (snprintf (plugin_instance, 512, "%s-i2c-%d-%02x",
+						feature->chip->prefix,
+						feature->chip->bus,
+						feature->chip->addr)
+					>= 512)
+				continue;
+		}
 
-		strncpy (type_instance, fl->data->name,
-				sizeof (type_instance));
-		type_instance[sizeof (type_instance) - 1] = '\0';
+		strncpy (type_instance, feature->data->name, DATA_MAX_NAME_LEN);
 
 		sensors_submit (plugin_instance,
-				sensor_type_name_map[fl->type],
+				sensor_to_type[feature->type],
 				type_instance,
 				value);
-	} /* for fl = first_feature .. NULL */
-/* #endif SENSORS_API_VERSION < 0x400 */
-
-#elif (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500)
-	for (fl = first_feature; fl != NULL; fl = fl->next)
-	{
-		double value;
-		int status;
-		char plugin_instance[DATA_MAX_NAME_LEN];
-		char type_instance[DATA_MAX_NAME_LEN];
-		const char *type;
-
-		status = sensors_get_value (fl->chip,
-				fl->subfeature->number, &value);
-		if (status < 0)
-			continue;
-
-		status = sensors_snprintf_chip_name (plugin_instance,
-				sizeof (plugin_instance), fl->chip);
-		if (status < 0)
-			continue;
-		plugin_instance[sizeof (plugin_instance) - 1] = '\0';
-
-		strncpy (type_instance, fl->feature->name,
-				sizeof (type_instance));
-		type_instance[sizeof (type_instance) - 1] = '\0';
-
-		if (fl->feature->type == SENSORS_FEATURE_IN)
-			type = "voltage";
-		else if (fl->feature->type
-				== SENSORS_FEATURE_FAN)
-			type = "fanspeed";
-		else if (fl->feature->type
-				== SENSORS_FEATURE_TEMP)
-			type = "input";
-		else
-			continue;
-
-		sensors_submit (plugin_instance, type, type_instance, value);
-	} /* for fl = first_feature .. NULL */
-#endif /* (SENSORS_API_VERSION >= 0x400) && (SENSORS_API_VERSION < 0x500) */
+	} /* for feature = first_feature .. NULL */
 
 	return (0);
 } /* int sensors_read */
 
 void module_register (void)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/snmp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/snmp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/snmp.c	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/snmp.c	2007-10-27 17:04:59.000000000 +0800
@@ -48,14 +48,17 @@
 struct data_definition_s
 {
   char *name; /* used to reference this from the `Collect' option */
   char *type; /* used to find the data_set */
   int is_table;
   instance_t instance;
+  char *instance_prefix;
   oid_t *values;
   int values_len;
+  double scale;
+  double shift;
   struct data_definition_s *next;
 };
 typedef struct data_definition_s data_definition_t;
 
 struct host_definition_s
 {
@@ -121,12 +124,13 @@
  *  csnmp_config
  *  +-> call_snmp_init_once
  *  +-> csnmp_config_add_data
  *  !   +-> csnmp_config_add_data_type
  *  !   +-> csnmp_config_add_data_table
  *  !   +-> csnmp_config_add_data_instance
+ *  !   +-> csnmp_config_add_data_instance_prefix
  *  !   +-> csnmp_config_add_data_values
  *  +-> csnmp_config_add_host
  *      +-> csnmp_config_add_host_address
  *      +-> csnmp_config_add_host_community
  *      +-> csnmp_config_add_host_version
  *      +-> csnmp_config_add_host_collect
@@ -146,15 +150,13 @@
   if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
   {
     WARNING ("snmp plugin: `Type' needs exactly one string argument.");
     return (-1);
   }
 
-  if (dd->type != NULL)
-    free (dd->type);
-
+  sfree (dd->type);
   dd->type = strdup (ci->values[0].value.string);
   if (dd->type == NULL)
     return (-1);
 
   return (0);
 } /* int csnmp_config_add_data_type */
@@ -199,12 +201,36 @@
     strncpy (dd->instance.string, ci->values[0].value.string, DATA_MAX_NAME_LEN - 1);
   }
 
   return (0);
 } /* int csnmp_config_add_data_instance */
 
+static int csnmp_config_add_data_instance_prefix (data_definition_t *dd,
+    oconfig_item_t *ci)
+{
+  if ((ci->values_num != 1) || (ci->values[0].type != OCONFIG_TYPE_STRING))
+  {
+    WARNING ("snmp plugin: `InstancePrefix' needs exactly one string argument.");
+    return (-1);
+  }
+
+  if (!dd->is_table)
+  {
+    WARNING ("snmp plugin: data %s: InstancePrefix is ignored when `Table' "
+	"is set to `false'.", dd->name);
+    return (-1);
+  }
+
+  sfree (dd->instance_prefix);
+  dd->instance_prefix = strdup (ci->values[0].value.string);
+  if (dd->instance_prefix == NULL)
+    return (-1);
+
+  return (0);
+} /* int csnmp_config_add_data_instance_prefix */
+
 static int csnmp_config_add_data_values (data_definition_t *dd, oconfig_item_t *ci)
 {
   int i;
 
   if (ci->values_num < 1)
   {
@@ -216,14 +242,14 @@
     if (ci->values[i].type != OCONFIG_TYPE_STRING)
     {
       WARNING ("snmp plugin: `Values' needs only string argument.");
       return (-1);
     }
 
-  if (dd->values != NULL)
-    free (dd->values);
+  sfree (dd->values);
+  dd->values_len = 0;
   dd->values = (oid_t *) malloc (sizeof (oid_t) * ci->values_num);
   if (dd->values == NULL)
     return (-1);
   dd->values_len = ci->values_num;
 
   for (i = 0; i < ci->values_num; i++)
@@ -242,12 +268,40 @@
     }
   }
 
   return (0);
 } /* int csnmp_config_add_data_instance */
 
+static int csnmp_config_add_data_shift (data_definition_t *dd, oconfig_item_t *ci)
+{
+  if ((ci->values_num != 1)
+      || (ci->values[0].type != OCONFIG_TYPE_NUMBER))
+  {
+    WARNING ("snmp plugin: The `Scale' config option needs exactly one number argument.");
+    return (-1);
+  }
+
+  dd->shift = ci->values[0].value.number;
+
+  return (0);
+} /* int csnmp_config_add_data_shift */
+
+static int csnmp_config_add_data_scale (data_definition_t *dd, oconfig_item_t *ci)
+{
+  if ((ci->values_num != 1)
+      || (ci->values[0].type != OCONFIG_TYPE_NUMBER))
+  {
+    WARNING ("snmp plugin: The `Scale' config option needs exactly one number argument.");
+    return (-1);
+  }
+
+  dd->scale = ci->values[0].value.number;
+
+  return (0);
+} /* int csnmp_config_add_data_scale */
+
 static int csnmp_config_add_data (oconfig_item_t *ci)
 {
   data_definition_t *dd;
   int status = 0;
   int i;
 
@@ -266,26 +320,34 @@
   dd->name = strdup (ci->values[0].value.string);
   if (dd->name == NULL)
   {
     free (dd);
     return (-1);
   }
+  dd->scale = 1.0;
+  dd->shift = 0.0;
 
   for (i = 0; i < ci->children_num; i++)
   {
     oconfig_item_t *option = ci->children + i;
     status = 0;
 
     if (strcasecmp ("Type", option->key) == 0)
       status = csnmp_config_add_data_type (dd, option);
     else if (strcasecmp ("Table", option->key) == 0)
       status = csnmp_config_add_data_table (dd, option);
     else if (strcasecmp ("Instance", option->key) == 0)
       status = csnmp_config_add_data_instance (dd, option);
+    else if (strcasecmp ("InstancePrefix", option->key) == 0)
+      status = csnmp_config_add_data_instance_prefix (dd, option);
     else if (strcasecmp ("Values", option->key) == 0)
       status = csnmp_config_add_data_values (dd, option);
+    else if (strcasecmp ("Shift", option->key) == 0)
+      status = csnmp_config_add_data_shift (dd, option);
+    else if (strcasecmp ("Scale", option->key) == 0)
+      status = csnmp_config_add_data_scale (dd, option);
     else
     {
       WARNING ("snmp plugin: Option `%s' not allowed here.", option->key);
       status = -1;
     }
 
@@ -311,12 +373,13 @@
     break;
   } /* while (status == 0) */
 
   if (status != 0)
   {
     sfree (dd->name);
+    sfree (dd->instance_prefix);
     sfree (dd->values);
     sfree (dd);
     return (-1);
   }
 
   DEBUG ("snmp plugin: dd = { name = %s, type = %s, is_table = %s, values_len = %i }",
@@ -590,16 +653,30 @@
 } /* int csnmp_config */
 
 /* End of the config stuff. Now the interesting part begins */
 
 static void csnmp_host_close_session (host_definition_t *host)
 {
+  int status;
+
   if (host->sess_handle == NULL)
     return;
 
-  snmp_sess_close (host->sess_handle);
+  status = snmp_sess_close (host->sess_handle);
+
+  if (status != 0)
+  {
+    char *errstr = NULL;
+
+    snmp_sess_error (host->sess_handle, NULL, NULL, &errstr);
+
+    ERROR ("snmp plugin: host %s: snmp_sess_close failed: %s",
+	host->name, (errstr == NULL) ? "Unknown problem" : errstr);
+    sfree (errstr);
+  }
+
   host->sess_handle = NULL;
 } /* void csnmp_host_close_session */
 
 static void csnmp_host_open_session (host_definition_t *host)
 {
   struct snmp_session sess;
@@ -625,13 +702,14 @@
     ERROR ("snmp plugin: host %s: snmp_sess_open failed: %s",
 	host->name, (errstr == NULL) ? "Unknown problem" : errstr);
     sfree (errstr);
   }
 } /* void csnmp_host_open_session */
 
-static value_t csnmp_value_list_to_value (struct variable_list *vl, int type)
+static value_t csnmp_value_list_to_value (struct variable_list *vl, int type,
+    double scale, double shift)
 {
   value_t ret;
   uint64_t temp = 0;
   int defined = 1;
 
   if ((vl->type == ASN_INTEGER)
@@ -663,90 +741,281 @@
     ret.counter = temp;
   }
   else if (type == DS_TYPE_GAUGE)
   {
     ret.gauge = NAN;
     if (defined != 0)
-      ret.gauge = temp;
+      ret.gauge = (scale * temp) + shift;
   }
 
   return (ret);
 } /* value_t csnmp_value_list_to_value */
 
+/* Returns true if all OIDs have left their subtree */
+static int csnmp_check_res_left_subtree (const host_definition_t *host,
+    const data_definition_t *data,
+    struct snmp_pdu *res)
+{
+  struct variable_list *vb;
+  int num_checked;
+  int num_left_subtree;
+  int i;
+
+  vb = res->variables;
+  if (vb == NULL)
+    return (-1);
+
+  num_checked = 0;
+  num_left_subtree = 0;
+
+  /* check all the variables and count how many have left their subtree */
+  for (vb = res->variables, i = 0;
+      (vb != NULL) && (i < data->values_len);
+      vb = vb->next_variable, i++)
+  {
+    num_checked++;
+    if (snmp_oid_ncompare (data->values[i].oid,
+	  data->values[i].oid_len,
+	  vb->name, vb->name_length,
+	  data->values[i].oid_len) != 0)
+      num_left_subtree++;
+  }
+
+  /* check if enough variables have been returned */
+  if (i < data->values_len)
+  {
+    ERROR ("snmp plugin: host %s: Expected %i variables, but got only %i",
+	host->name, data->values_len, i);
+    return (-1);
+  }
+
+  if (data->instance.oid.oid_len > 0)
+  {
+    if (vb == NULL)
+    {
+      ERROR ("snmp plugin: host %s: Expected one more variable for "
+	  "the instance..");
+      return (-1);
+    }
+
+    num_checked++;
+    if (snmp_oid_ncompare (data->instance.oid.oid,
+	  data->instance.oid.oid_len,
+	  vb->name, vb->name_length,
+	  data->instance.oid.oid_len) != 0)
+      num_left_subtree++;
+  }
+
+  DEBUG ("snmp plugin: csnmp_check_res_left_subtree: %i of %i variables have "
+      "left their subtree",
+      num_left_subtree, num_checked);
+  if (num_left_subtree >= num_checked)
+    return (1);
+  return (0);
+} /* int csnmp_check_res_left_subtree */
+
+static int csnmp_instance_list_add (csnmp_list_instances_t **head,
+    csnmp_list_instances_t **tail,
+    const struct snmp_pdu *res)
+{
+  csnmp_list_instances_t *il;
+  struct variable_list *vb;
+
+  /* Set vb on the last variable */
+  for (vb = res->variables;
+      (vb != NULL) && (vb->next_variable != NULL);
+      vb = vb->next_variable)
+    /* do nothing */;
+  if (vb == NULL)
+    return (-1);
+
+  il = (csnmp_list_instances_t *) malloc (sizeof (csnmp_list_instances_t));
+  if (il == NULL)
+  {
+    ERROR ("snmp plugin: malloc failed.");
+    return (-1);
+  }
+  il->subid = vb->name[vb->name_length - 1];
+  il->next = NULL;
+
+  /* Get instance name */
+  if ((vb->type == ASN_OCTET_STR) || (vb->type == ASN_BIT_STR))
+  {
+    char *ptr;
+    size_t instance_len;
+
+    instance_len = sizeof (il->instance) - 1;
+    if (instance_len > vb->val_len)
+      instance_len = vb->val_len;
+
+    strncpy (il->instance, (char *) ((vb->type == ASN_OCTET_STR)
+	  ? vb->val.string
+	  : vb->val.bitstring),
+	instance_len);
+    il->instance[instance_len] = '\0';
+
+    for (ptr = il->instance; *ptr != '\0'; ptr++)
+    {
+      if ((*ptr > 0) && (*ptr < 32))
+	*ptr = ' ';
+      else if (*ptr == '/')
+	*ptr = '_';
+    }
+    DEBUG ("snmp plugin: il->instance = `%s';", il->instance);
+  }
+  else
+  {
+    value_t val = csnmp_value_list_to_value (vb, DS_TYPE_COUNTER, 1.0, 0.0);
+    snprintf (il->instance, sizeof (il->instance),
+	"%llu", val.counter);
+  }
+  il->instance[sizeof (il->instance) - 1] = '\0';
+
+  /* TODO: Debugging output */
+
+  if (*head == NULL)
+    *head = il;
+  else
+    (*tail)->next = il;
+  *tail = il;
+
+  return (0);
+} /* int csnmp_instance_list_add */
+
 static int csnmp_dispatch_table (host_definition_t *host, data_definition_t *data,
     csnmp_list_instances_t *instance_list,
     csnmp_table_values_t **value_table)
 {
   const data_set_t *ds;
   value_list_t vl = VALUE_LIST_INIT;
 
   csnmp_list_instances_t *instance_list_ptr;
   csnmp_table_values_t **value_table_ptr;
 
   int i;
+  oid subid;
+  int have_more;
 
   ds = plugin_get_ds (data->type);
   if (!ds)
   {
     ERROR ("snmp plugin: DataSet `%s' not defined.", data->type);
     return (-1);
   }
   assert (ds->ds_num == data->values_len);
 
+  instance_list_ptr = instance_list;
+
   value_table_ptr = (csnmp_table_values_t **) malloc (sizeof (csnmp_table_values_t *)
       * data->values_len);
   if (value_table_ptr == NULL)
     return (-1);
   for (i = 0; i < data->values_len; i++)
     value_table_ptr[i] = value_table[i];
 
   vl.values_len = ds->ds_num;
   vl.values = (value_t *) malloc (sizeof (value_t) * vl.values_len);
   if (vl.values == NULL)
   {
+    ERROR ("snmp plugin: malloc failed.");
     sfree (value_table_ptr);
     return (-1);
   }
 
   strncpy (vl.host, host->name, sizeof (vl.host));
   vl.host[sizeof (vl.host) - 1] = '\0';
   strcpy (vl.plugin, "snmp");
 
   vl.interval = host->interval;
   vl.time = time (NULL);
 
-  for (instance_list_ptr = instance_list;
-      instance_list_ptr != NULL;
-      instance_list_ptr = instance_list_ptr->next)
+  subid = 0;
+  have_more = 1;
+
+  while (have_more != 0)
   {
-    strncpy (vl.type_instance, instance_list_ptr->instance, sizeof (vl.type_instance));
-    vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
+    if (instance_list != NULL)
+    {
+      while ((instance_list_ptr != NULL)
+	  && (instance_list_ptr->subid < subid))
+	instance_list_ptr = instance_list_ptr->next;
+
+      if (instance_list_ptr == NULL)
+      {
+	have_more = 0;
+	continue;
+      }
+      else if (instance_list_ptr->subid > subid)
+      {
+	subid = instance_list_ptr->subid;
+	continue;
+      }
+    } /* if (instance_list != NULL) */
 
     for (i = 0; i < data->values_len; i++)
     {
       while ((value_table_ptr[i] != NULL)
-	  && (value_table_ptr[i]->subid < instance_list_ptr->subid))
+	  && (value_table_ptr[i]->subid < subid))
 	value_table_ptr[i] = value_table_ptr[i]->next;
-      if ((value_table_ptr[i] == NULL)
-	  || (value_table_ptr[i]->subid != instance_list_ptr->subid))
-	break;
-      vl.values[i] = value_table_ptr[i]->value;
-    } /* for (data->values_len) */
 
-    /* If the for-loop was aborted early, not all subid's match. */
+      if (value_table_ptr[i] == NULL)
+      {
+	have_more = 0;
+	break;
+      }
+      else if (value_table_ptr[i]->subid > subid)
+      {
+	subid = value_table_ptr[i]->subid;
+	break;
+      }
+    } /* for (i = 0; i < columns; i++) */
+    /* The subid has been increased - start scanning from the beginning
+     * again.. */
     if (i < data->values_len)
-    {
-      DEBUG ("snmp plugin: host = %s; data = %s; i = %i; "
-	  "Skipping SUBID %i",
-	  host->name, data->name, i, instance_list_ptr->subid);
       continue;
+
+    /* if we reach this line, all value_table_ptr[i] are non-NULL and are set
+     * to the same subid. instance_list_ptr is either NULL or points to the
+     * same subid, too. */
+#if COLLECT_DEBUG
+    for (i = 1; i < data->values_len; i++)
+    {
+      assert (value_table_ptr[i] != NULL);
+      assert (value_table_ptr[i-1]->subid == value_table_ptr[i]->subid);
     }
+    assert ((instance_list_ptr == NULL)
+	|| (instance_list_ptr->subid == value_table_ptr[0]->subid));
+#endif
+
+    {
+      char temp[DATA_MAX_NAME_LEN];
+
+      if (instance_list_ptr == NULL)
+	snprintf (temp, sizeof (temp), "%u",
+	    (uint32_t) subid);
+      else
+	strncpy (temp, instance_list_ptr->instance,
+	    sizeof (temp));
+      temp[sizeof (temp) - 1] = '\0';
+
+      if (data->instance_prefix == NULL)
+	strncpy (vl.type_instance, temp, sizeof (vl.type_instance));
+      else
+	snprintf (vl.type_instance, sizeof (vl.type_instance), "%s%s",
+	    data->instance_prefix, temp);
+      vl.type_instance[sizeof (vl.type_instance) - 1] = '\0';
+    }
+
+    for (i = 0; i < data->values_len; i++)
+      vl.values[i] = value_table_ptr[i]->value;
 
     /* If we get here `vl.type_instance' and all `vl.values' have been set */
     plugin_dispatch_values (data->type, &vl);
-  } /* for (instance_list) */
+
+    subid++;
+  } /* while (have_more != 0) */
 
   sfree (vl.values);
   sfree (value_table_ptr);
 
   return (0);
 } /* int csnmp_dispatch_table */
@@ -796,165 +1065,116 @@
   }
 
   /* We need a copy of all the OIDs, because GETNEXT will destroy them. */
   oid_list_len = data->values_len + 1;
   oid_list = (oid_t *) malloc (sizeof (oid_t) * (oid_list_len));
   if (oid_list == NULL)
+  {
+    ERROR ("snmp plugin: csnmp_read_table: malloc failed.");
     return (-1);
-  memcpy (oid_list, &data->instance.oid, sizeof (oid_t));
-  for (i = 0; i < data->values_len; i++)
-    memcpy (oid_list + (i + 1), data->values + i, sizeof (oid_t));
+  }
+  memcpy (oid_list, data->values, data->values_len * sizeof (oid_t));
+  if (data->instance.oid.oid_len > 0)
+    memcpy (oid_list + data->values_len, &data->instance.oid, sizeof (oid_t));
+  else
+    oid_list_len--;
 
   /* Allocate the `value_table' */
   value_table = (csnmp_table_values_t **) malloc (sizeof (csnmp_table_values_t *)
       * 2 * data->values_len);
   if (value_table == NULL)
   {
+    ERROR ("snmp plugin: csnmp_read_table: malloc failed.");
     sfree (oid_list);
     return (-1);
   }
   memset (value_table, '\0', sizeof (csnmp_table_values_t *) * 2 * data->values_len);
   value_table_ptr = value_table + data->values_len;
   
   instance_list = NULL;
   instance_list_ptr = NULL;
 
   status = 0;
   while (status == 0)
   {
-    csnmp_list_instances_t *il;
-
     req = snmp_pdu_create (SNMP_MSG_GETNEXT);
     if (req == NULL)
     {
       ERROR ("snmp plugin: snmp_pdu_create failed.");
       status = -1;
       break;
     }
 
     for (i = 0; i < oid_list_len; i++)
       snmp_add_null_var (req, oid_list[i].oid, oid_list[i].oid_len);
 
-    res = NULL;
     status = snmp_sess_synch_response (host->sess_handle, req, &res);
 
-    if ((status != STAT_SUCCESS) || (res == NULL))
+    if (status != STAT_SUCCESS)
     {
       char *errstr = NULL;
 
       snmp_sess_error (host->sess_handle, NULL, NULL, &errstr);
       ERROR ("snmp plugin: host %s: snmp_sess_synch_response failed: %s",
 	  host->name, (errstr == NULL) ? "Unknown problem" : errstr);
-
-      if (res != NULL)
-	snmp_free_pdu (res);
-      res = NULL;
-
-      sfree (errstr);
       csnmp_host_close_session (host);
 
       status = -1;
       break;
     }
     status = 0;
     assert (res != NULL);
 
     vb = res->variables;
     if (vb == NULL)
     {
-      if (res != NULL)
-	snmp_free_pdu (res);
-      res = NULL;
-
       status = -1;
       break;
     }
 
-    /* Check if we left the subtree */
-    if (snmp_oid_ncompare (data->instance.oid.oid, data->instance.oid.oid_len,
-	  vb->name, vb->name_length,
-	  data->instance.oid.oid_len) != 0)
-    {
-      if (res != NULL)
-	snmp_free_pdu (res);
-      res = NULL;
-
+    /* Check if all values (and possibly the instance) have left their
+     * subtree */
+    if (csnmp_check_res_left_subtree (host, data, res) != 0)
       break;
-    }
-
-    /* Allocate a new `csnmp_list_instances_t', insert the instance name and
-     * add it to the list */
-    il = (csnmp_list_instances_t *) malloc (sizeof (csnmp_list_instances_t));
-    if (il == NULL)
-    {
-      if (res != NULL)
-	snmp_free_pdu (res);
-      res = NULL;
 
-      status = -1;
-      break;
-    }
-    il->subid = vb->name[vb->name_length - 1];
-    il->next = NULL;
-
-    /* Get instance name */
-    if ((vb->type == ASN_OCTET_STR) || (vb->type == ASN_BIT_STR))
+    /* if an instance-OID is configured.. */
+    if (data->instance.oid.oid_len > 0)
     {
-      char *ptr;
-      size_t instance_len;
-
-      instance_len = sizeof (il->instance) - 1;
-      if (instance_len > vb->val_len)
-	instance_len = vb->val_len;
-
-      strncpy (il->instance, (char *) ((vb->type == ASN_OCTET_STR)
-	    ? vb->val.string
-	    : vb->val.bitstring),
-	  instance_len);
-      il->instance[instance_len] = '\0';
-
-      for (ptr = il->instance; *ptr != '\0'; ptr++)
+      /* Allocate a new `csnmp_list_instances_t', insert the instance name and
+       * add it to the list */
+      if (csnmp_instance_list_add (&instance_list, &instance_list_ptr,
+	    res) != 0)
       {
-	if ((*ptr > 0) && (*ptr < 32))
-	  *ptr = ' ';
-	else if (*ptr == '/')
-	  *ptr = '_';
+	ERROR ("snmp plugin: csnmp_instance_list_add failed.");
+	status = -1;
+	break;
       }
-      DEBUG ("snmp plugin: il->instance = `%s';", il->instance);
-    }
-    else
-    {
-      value_t val = csnmp_value_list_to_value (vb, DS_TYPE_COUNTER);
-      snprintf (il->instance, sizeof (il->instance),
-	  "%llu", val.counter);
-    }
-    il->instance[sizeof (il->instance) - 1] = '\0';
-    DEBUG ("snmp plugin: data = `%s'; il->instance = `%s';",
-	data->name, il->instance);
 
-    if (instance_list_ptr == NULL)
-      instance_list = il;
-    else
-      instance_list_ptr->next = il;
-    instance_list_ptr = il;
-
-    /* Copy OID to oid_list[0] */
-    memcpy (oid_list[0].oid, vb->name, sizeof (oid) * vb->name_length);
-    oid_list[0].oid_len = vb->name_length;
-
-    for (i = 0; i < data->values_len; i++)
-    {
-      csnmp_table_values_t *vt;
-
-      vb = vb->next_variable;
+      /* Set vb on the last variable */
+      for (vb = res->variables;
+	  (vb != NULL) && (vb->next_variable != NULL);
+	  vb = vb->next_variable)
+	/* do nothing */;
       if (vb == NULL)
       {
 	status = -1;
 	break;
       }
 
+      /* Copy OID to oid_list[data->values_len] */
+      memcpy (oid_list[data->values_len].oid, vb->name,
+	  sizeof (oid) * vb->name_length);
+      oid_list[data->values_len].oid_len = vb->name_length;
+    }
+
+    for (vb = res->variables, i = 0;
+	(vb != NULL) && (i < data->values_len);
+	vb = vb->next_variable, i++)
+    {
+      csnmp_table_values_t *vt;
+
       /* Check if we left the subtree */
       if (snmp_oid_ncompare (data->values[i].oid,
 	    data->values[i].oid_len,
 	    vb->name, vb->name_length,
 	    data->values[i].oid_len) != 0)
       {
@@ -963,34 +1183,40 @@
 	continue;
       }
 
       if ((value_table_ptr[i] != NULL)
 	  && (vb->name[vb->name_length - 1] <= value_table_ptr[i]->subid))
       {
-	DEBUG ("snmp plugin: host = %s; data = %s; i = %i; SUBID is not increasing.",
+	DEBUG ("snmp plugin: host = %s; data = %s; i = %i; "
+	    "SUBID is not increasing.",
 	    host->name, data->name, i);
 	continue;
       }
 
       vt = (csnmp_table_values_t *) malloc (sizeof (csnmp_table_values_t));
-      if (vt != NULL)
+      if (vt == NULL)
       {
-	vt->subid = vb->name[vb->name_length - 1];
-	vt->value = csnmp_value_list_to_value (vb, ds->ds[i].type);
-	vt->next = NULL;
-
-	if (value_table_ptr[i] == NULL)
-	  value_table[i] = vt;
-	else
-	  value_table_ptr[i]->next = vt;
-	value_table_ptr[i] = vt;
+	ERROR ("snmp plugin: malloc failed.");
+	status = -1;
+	break;
       }
 
+      vt->subid = vb->name[vb->name_length - 1];
+      vt->value = csnmp_value_list_to_value (vb, ds->ds[i].type,
+	  data->scale, data->shift);
+      vt->next = NULL;
+
+      if (value_table_ptr[i] == NULL)
+	value_table[i] = vt;
+      else
+	value_table_ptr[i]->next = vt;
+      value_table_ptr[i] = vt;
+
       /* Copy OID to oid_list[i + 1] */
-      memcpy (oid_list[i + 1].oid, vb->name, sizeof (oid) * vb->name_length);
-      oid_list[i + 1].oid_len = vb->name_length;
+      memcpy (oid_list[i].oid, vb->name, sizeof (oid) * vb->name_length);
+      oid_list[i].oid_len = vb->name_length;
     } /* for (i = data->values_len) */
 
     if (res != NULL)
       snmp_free_pdu (res);
     res = NULL;
   } /* while (status == 0) */
@@ -1085,30 +1311,23 @@
     sfree (vl.values);
     return (-1);
   }
 
   for (i = 0; i < data->values_len; i++)
     snmp_add_null_var (req, data->values[i].oid, data->values[i].oid_len);
-
-  res = NULL;
   status = snmp_sess_synch_response (host->sess_handle, req, &res);
 
-  if ((status != STAT_SUCCESS) || (res == NULL))
+  if (status != STAT_SUCCESS)
   {
     char *errstr = NULL;
 
     snmp_sess_error (host->sess_handle, NULL, NULL, &errstr);
     ERROR ("snmp plugin: host %s: snmp_sess_synch_response failed: %s",
 	host->name, (errstr == NULL) ? "Unknown problem" : errstr);
-
-    if (res != NULL)
-      snmp_free_pdu (res);
-    res = NULL;
-
-    sfree (errstr);
     csnmp_host_close_session (host);
+    sfree (errstr);
 
     return (-1);
   }
 
   vl.time = time (NULL);
 
@@ -1121,18 +1340,17 @@
     DEBUG ("snmp plugin: Got this variable: %s", buffer);
 #endif /* COLLECT_DEBUG */
 
     for (i = 0; i < data->values_len; i++)
       if (snmp_oid_compare (data->values[i].oid, data->values[i].oid_len,
 	    vb->name, vb->name_length) == 0)
-	vl.values[i] = csnmp_value_list_to_value (vb, ds->ds[i].type);
+	vl.values[i] = csnmp_value_list_to_value (vb, ds->ds[i].type,
+	    data->scale, data->shift);
   } /* for (res->variables) */
 
-  if (res != NULL)
-    snmp_free_pdu (res);
-  res = NULL;
+  snmp_free_pdu (res);
 
   DEBUG ("snmp plugin: -> plugin_dispatch_values (%s, &vl);", data->type);
   plugin_dispatch_values (data->type, &vl);
   sfree (vl.values);
 
   return (0);
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src: tcpconns.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/types.db /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/types.db
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/types.db	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/types.db	2007-10-27 17:04:59.000000000 +0800
@@ -1,15 +1,16 @@
 apache_bytes		count:COUNTER:0:134217728
 apache_connections	count:GAUGE:0:65535
 apache_requests		count:COUNTER:0:134217728
 apache_scoreboard	count:GAUGE:0:65535
 bitrate			value:GAUGE:0:4294967295
 charge			value:GAUGE:0:U
+connections		value:COUNTER:0:U
 counter			value:COUNTER:U:U
-cpufreq			value:GAUGE:0:U
 cpu			value:COUNTER:0:4294967295
+cpufreq			value:GAUGE:0:U
 current			value:GAUGE:U:U
 delay			seconds:GAUGE:-1000000:1000000
 df			used:GAUGE:0:1125899906842623, free:GAUGE:0:1125899906842623
 disk_merged		read:COUNTER:0:4294967295, write:COUNTER:0:4294967295
 disk_octets		read:COUNTER:0:17179869183, write:COUNTER:0:17179869183
 disk_ops		read:COUNTER:0:4294967295, write:COUNTER:0:4294967295
@@ -23,13 +24,13 @@
 email_size		value:GAUGE:0:U
 entropy			entropy:GAUGE:0:4294967295
 fanspeed		value:GAUGE:0:U
 frequency		frequency:GAUGE:0:U
 frequency_offset	ppm:GAUGE:-1000000:1000000
 gauge			value:GAUGE:U:U
-humidity		value:GAUGE:0:100
+humitidy		value:GAUGE:0:100
 if_collisions		value:COUNTER:0:4294967295
 if_dropped		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_errors		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_multicast		value:COUNTER:0:4294967295
 if_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_packets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
@@ -44,30 +45,37 @@
 mysql_commands		value:COUNTER:0:U
 mysql_handler		value:COUNTER:0:U
 mysql_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 mysql_qcache		hits:COUNTER:0:U, inserts:COUNTER:0:U, not_cached:COUNTER:0:U, lowmem_prunes:COUNTER:0:U, queries_in_cache:GAUGE:0:U
 mysql_threads		running:GAUGE:0:U, connected:GAUGE:0:U, cached:GAUGE:0:U, created:COUNTER:0:U
 nfs_procedure		value:COUNTER:0:4294967295
+memcached_command	value:COUNTER:0:U
+memcached_connections	value:GAUGE:0:U
+memcached_items		value:GAUGE:0:U
+memcached_octets	rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
+memcached_ops		value:COUNTER:0:134217728
+nginx_connections	value:GAUGE:0:U
+nginx_requests		value:COUNTER:0:134217728
 percent			percent:GAUGE:0:100.1
 ping			ping:GAUGE:0:65535
 power			value:GAUGE:0:U
 ps_count		processes:GAUGE:0:1000000, threads:GAUGE:0:1000000
 ps_cputime		user:COUNTER:0:16000000, syst:COUNTER:0:16000000
 ps_pagefaults		minflt:COUNTER:0:9223372036854775807, majflt:COUNTER:0:9223372036854775807
 ps_rss			value:GAUGE:0:9223372036854775807
 ps_state		value:GAUGE:0:65535
-serial_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
-signal_noise		value:GAUGE:U:0
-signal_power		value:GAUGE:U:0
-signal_quality		value:GAUGE:0:U
 spam_score		value:GAUGE:U:U
-swap			value:GAUGE:0:1099511627776
+tcp_connections		value:GAUGE:0:4294967295
 temperature		value:GAUGE:-273.15:U
 time_dispersion		seconds:GAUGE:-1000000:1000000
-timeleft		timeleft:GAUGE:0:3600
 time_offset		seconds:GAUGE:-1000000:1000000
-users			users:GAUGE:0:65535
-voltage_threshold	value:GAUGE:U:U, threshold:GAUGE:U:U
+timeleft		timeleft:GAUGE:0:3600
 voltage			value:GAUGE:U:U
-vs_memory		value:GAUGE:0:9223372036854775807
-vs_processes		value:GAUGE:0:65535
+serial_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
+swap			value:GAUGE:0:1099511627776
+users			users:GAUGE:0:65535
 vs_threads		value:GAUGE:0:65535
+vs_processes		value:GAUGE:0:65535
+vs_memory		value:GAUGE:0:9223372036854775807
+signal_quality		value:GAUGE:0:U
+signal_power		value:GAUGE:U:0
+signal_noise		value:GAUGE:U:0
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/unixsock.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/unixsock.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/unixsock.c	2008-01-10 16:45:31.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/unixsock.c	2007-10-25 01:21:24.000000000 +0800
@@ -26,13 +26,12 @@
 #include "utils_cmd_putval.h"
 
 /* Folks without pthread will need to disable this plugin. */
 #include <pthread.h>
 
 #include <sys/socket.h>
-#include <sys/stat.h>
 #include <sys/un.h>
 
 #include <grp.h>
 
 #ifndef UNIX_PATH_MAX
 # define UNIX_PATH_MAX sizeof (((struct sockaddr_un *)0)->sun_path)
@@ -363,14 +362,12 @@
 		ERROR ("unixsock plugin: bind failed: %s", errbuf);
 		close (sock_fd);
 		sock_fd = -1;
 		return (-1);
 	}
 
-	chmod (sa.sun_path, sock_perms);
-
 	status = listen (sock_fd, 8);
 	if (status != 0)
 	{
 		char errbuf[1024];
 		ERROR ("unixsock plugin: listen failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/utils_avltree.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/utils_avltree.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/utils_avltree.c	2008-01-21 17:53:39.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/utils_avltree.c	2007-10-25 01:21:24.000000000 +0800
@@ -32,41 +32,41 @@
 #define BALANCE(n) ((((n)->left == NULL) ? 0 : (n)->left->height) \
 		- (((n)->right == NULL) ? 0 : (n)->right->height))
 
 /*
  * private data types
  */
-struct c_avl_node_s
+struct avl_node_s
 {
 	void *key;
 	void *value;
 
 	int height;
-	struct c_avl_node_s *left;
-	struct c_avl_node_s *right;
-	struct c_avl_node_s *parent;
+	struct avl_node_s *left;
+	struct avl_node_s *right;
+	struct avl_node_s *parent;
 };
-typedef struct c_avl_node_s c_avl_node_t;
+typedef struct avl_node_s avl_node_t;
 
-struct c_avl_tree_s
+struct avl_tree_s
 {
-	c_avl_node_t *root;
+	avl_node_t *root;
 	int (*compare) (const void *, const void *);
 };
 
-struct c_avl_iterator_s
+struct avl_iterator_s
 {
-	c_avl_tree_t *tree;
-	c_avl_node_t *node;
+	avl_tree_t *tree;
+	avl_node_t *node;
 };
 
 /*
  * private functions
  */
 #if 0
-static void verify_tree (c_avl_node_t *n)
+static void verify_tree (avl_node_t *n)
 {
 	if (n == NULL)
 		return;
 
 	verify_tree (n->left);
 	verify_tree (n->right);
@@ -75,26 +75,26 @@
 	assert ((n->parent == NULL) || (n->parent->right == n) || (n->parent->left == n));
 } /* void verify_tree */
 #else
 # define verify_tree(n) /**/
 #endif
 
-static void free_node (c_avl_node_t *n)
+static void free_node (avl_node_t *n)
 {
 	if (n == NULL)
 		return;
 
 	if (n->left != NULL)
 		free_node (n->left);
 	if (n->right != NULL)
 		free_node (n->right);
 
 	free (n);
 }
 
-static int calc_height (c_avl_node_t *n)
+static int calc_height (avl_node_t *n)
 {
 	int height_left;
 	int height_right;
 
 	if (n == NULL)
 		return (0);
@@ -104,15 +104,15 @@
 
 	return (((height_left > height_right)
 				? height_left
 				: height_right) + 1);
 } /* int calc_height */
 
-static c_avl_node_t *search (c_avl_tree_t *t, const void *key)
+static avl_node_t *search (avl_tree_t *t, const void *key)
 {
-	c_avl_node_t *n;
+	avl_node_t *n;
 	int cmp;
 
 	n = t->root;
 	while (n != NULL)
 	{
 		cmp = t->compare (key, n->key);
@@ -132,17 +132,17 @@
  *     (y)    /\         /\    (x)
  *    /   \  /_c\  ==>  / a\  /   \
  *   /\   /\           /____\/\   /\
  *  / a\ /_b\               /_b\ /_c\
  * /____\
  */
-static c_avl_node_t *rotate_right (c_avl_tree_t *t, c_avl_node_t *x)
+static avl_node_t *rotate_right (avl_tree_t *t, avl_node_t *x)
 {
-	c_avl_node_t *p;
-	c_avl_node_t *y;
-	c_avl_node_t *b;
+	avl_node_t *p;
+	avl_node_t *y;
+	avl_node_t *b;
 
 	p = x->parent;
 	y = x->left;
 	b = y->right;
 
 	x->left = b;
@@ -173,17 +173,17 @@
  *  /\    (y)           (x)    /\
  * /_a\  /   \   ==>   /   \  / c\
  *      /\   /\       /\   /\/____\
  *     /_b\ / c\     /_a\ /_b\
  *         /____\
  */
-static c_avl_node_t *rotate_left (c_avl_tree_t *t, c_avl_node_t *x)
+static avl_node_t *rotate_left (avl_tree_t *t, avl_node_t *x)
 {
-	c_avl_node_t *p;
-	c_avl_node_t *y;
-	c_avl_node_t *b;
+	avl_node_t *p;
+	avl_node_t *y;
+	avl_node_t *b;
 
 	p = x->parent;
 	y = x->right;
 	b = y->left;
 
 	x->right = b;
@@ -205,25 +205,25 @@
 	x->height = calc_height (x);
 	y->height = calc_height (y);
 
 	return (y);
 } /* void rotate_left */
 
-static c_avl_node_t *rotate_left_right (c_avl_tree_t *t, c_avl_node_t *x)
+static avl_node_t *rotate_left_right (avl_tree_t *t, avl_node_t *x)
 {
 	rotate_left (t, x->left);
 	return (rotate_right (t, x));
 } /* void rotate_left_right */
 
-static c_avl_node_t *rotate_right_left (c_avl_tree_t *t, c_avl_node_t *x)
+static avl_node_t *rotate_right_left (avl_tree_t *t, avl_node_t *x)
 {
 	rotate_right (t, x->right);
 	return (rotate_left (t, x));
 } /* void rotate_right_left */
 
-static void rebalance (c_avl_tree_t *t, c_avl_node_t *n)
+static void rebalance (avl_tree_t *t, avl_node_t *n)
 {
 	int b_top;
 	int b_bottom;
 
 	while (n != NULL)
 	{
@@ -261,15 +261,15 @@
 		assert (n->height == calc_height (n));
 
 		n = n->parent;
 	} /* while (n != NULL) */
 } /* void rebalance */
 
-static c_avl_node_t *c_avl_node_next (c_avl_tree_t *t, c_avl_node_t *n)
+static avl_node_t *avl_node_next (avl_tree_t *t, avl_node_t *n)
 {
-	c_avl_node_t *r; /* return node */
+	avl_node_t *r; /* return node */
 
 	if (n == NULL)
 	{
 		return (NULL);
 	}
 
@@ -304,17 +304,17 @@
 		r = n->right;
 		while (r->left != NULL)
 			r = r->left;
 	}
 
 	return (r);
-} /* c_avl_node_t *c_avl_node_next */
+} /* avl_node_t *avl_node_next */
 
-static c_avl_node_t *c_avl_node_prev (c_avl_tree_t *t, c_avl_node_t *n)
+static avl_node_t *avl_node_prev (avl_tree_t *t, avl_node_t *n)
 {
-	c_avl_node_t *r; /* return node */
+	avl_node_t *r; /* return node */
 
 	if (n == NULL)
 	{
 		return (NULL);
 	}
 
@@ -349,31 +349,31 @@
 		r = n->left;
 		while (r->right != NULL)
 			r = r->right;
 	}
 
 	return (r);
-} /* c_avl_node_t *c_avl_node_prev */
+} /* avl_node_t *avl_node_prev */
 
-static int _remove (c_avl_tree_t *t, c_avl_node_t *n)
+static int _remove (avl_tree_t *t, avl_node_t *n)
 {
 	assert ((t != NULL) && (n != NULL));
 
 	if ((n->left != NULL) && (n->right != NULL))
 	{
-		c_avl_node_t *r; /* replacement node */
+		avl_node_t *r; /* replacement node */
 		if (BALANCE (n) > 0) /* left subtree is higher */
 		{
 			assert (n->left != NULL);
-			r = c_avl_node_prev (t, n);
+			r = avl_node_prev (t, n);
 			
 		}
 		else /* right subtree is higher */
 		{
 			assert (n->right != NULL);
-			r = c_avl_node_next (t, n);
+			r = avl_node_next (t, n);
 		}
 
 		assert ((r->left == NULL) || (r->right == NULL));
 
 		/* copy content */
 		n->key   = r->key;
@@ -464,41 +464,41 @@
 	return (0);
 } /* void *_remove */
 
 /*
  * public functions
  */
-c_avl_tree_t *c_avl_create (int (*compare) (const void *, const void *))
+avl_tree_t *avl_create (int (*compare) (const void *, const void *))
 {
-	c_avl_tree_t *t;
+	avl_tree_t *t;
 
 	if (compare == NULL)
 		return (NULL);
 
-	if ((t = (c_avl_tree_t *) malloc (sizeof (c_avl_tree_t))) == NULL)
+	if ((t = (avl_tree_t *) malloc (sizeof (avl_tree_t))) == NULL)
 		return (NULL);
 
 	t->root = NULL;
 	t->compare = compare;
 
 	return (t);
 }
 
-void c_avl_destroy (c_avl_tree_t *t)
+void avl_destroy (avl_tree_t *t)
 {
 	free_node (t->root);
 	free (t);
 }
 
-int c_avl_insert (c_avl_tree_t *t, void *key, void *value)
+int avl_insert (avl_tree_t *t, void *key, void *value)
 {
-	c_avl_node_t *new;
-	c_avl_node_t *nptr;
+	avl_node_t *new;
+	avl_node_t *nptr;
 	int cmp;
 
-	if ((new = (c_avl_node_t *) malloc (sizeof (c_avl_node_t))) == NULL)
+	if ((new = (avl_node_t *) malloc (sizeof (avl_node_t))) == NULL)
 		return (-1);
 
 	new->key = key;
 	new->value = value;
 	new->height = 1;
 	new->left = NULL;
@@ -551,17 +551,17 @@
 			}
 		}
 	} /* while (42) */
 
 	verify_tree (t->root);
 	return (0);
-} /* int c_avl_insert */
+} /* int avl_insert */
 
-int c_avl_remove (c_avl_tree_t *t, const void *key, void **rkey, void **rvalue)
+int avl_remove (avl_tree_t *t, const void *key, void **rkey, void **rvalue)
 {
-	c_avl_node_t *n;
+	avl_node_t *n;
 	int status;
 
 	assert (t != NULL);
 
 	n = search (t, key);
 	if (n == NULL)
@@ -572,33 +572,33 @@
 	if (rvalue != NULL)
 		*rvalue = n->value;
 
 	status = _remove (t, n);
 	verify_tree (t->root);
 	return (status);
-} /* void *c_avl_remove */
+} /* void *avl_remove */
 
-int c_avl_get (c_avl_tree_t *t, const void *key, void **value)
+int avl_get (avl_tree_t *t, const void *key, void **value)
 {
-	c_avl_node_t *n;
+	avl_node_t *n;
 
 	assert (value != NULL);
 
 	n = search (t, key);
 	if (n == NULL)
 		return (-1);
 
 	*value = n->value;
 
 	return (0);
 }
 
-int c_avl_pick (c_avl_tree_t *t, void **key, void **value)
+int avl_pick (avl_tree_t *t, void **key, void **value)
 {
-	c_avl_node_t *n;
-	c_avl_node_t *p;
+	avl_node_t *n;
+	avl_node_t *p;
 
 	if ((key == NULL) || (value == NULL))
 		return (-1);
 	if (t->root == NULL)
 		return (-1);
 
@@ -626,33 +626,33 @@
 	*value = n->value;
 
 	free_node (n);
 	rebalance (t, p);
 
 	return (0);
-} /* int c_avl_pick */
+} /* int avl_pick */
 
-c_avl_iterator_t *c_avl_get_iterator (c_avl_tree_t *t)
+avl_iterator_t *avl_get_iterator (avl_tree_t *t)
 {
-	c_avl_iterator_t *iter;
+	avl_iterator_t *iter;
 
 	if (t == NULL)
 		return (NULL);
 
-	iter = (c_avl_iterator_t *) malloc (sizeof (c_avl_iterator_t));
+	iter = (avl_iterator_t *) malloc (sizeof (avl_iterator_t));
 	if (iter == NULL)
 		return (NULL);
-	memset (iter, '\0', sizeof (c_avl_iterator_t));
+	memset (iter, '\0', sizeof (avl_iterator_t));
 	iter->tree = t;
 
 	return (iter);
-} /* c_avl_iterator_t *c_avl_get_iterator */
+} /* avl_iterator_t *avl_get_iterator */
 
-int c_avl_iterator_next (c_avl_iterator_t *iter, void **key, void **value)
+int avl_iterator_next (avl_iterator_t *iter, void **key, void **value)
 {
-	c_avl_node_t *n;
+	avl_node_t *n;
 
 	if ((iter == NULL) || (key == NULL) || (value == NULL))
 		return (-1);
 
 	if (iter->node == NULL)
 	{
@@ -660,28 +660,28 @@
 			if (n->left == NULL)
 				break;
 		iter->node = n;
 	}
 	else
 	{
-		n = c_avl_node_next (iter->tree, iter->node);
+		n = avl_node_next (iter->tree, iter->node);
 	}
 
 	if (n == NULL)
 		return (-1);
 
 	iter->node = n;
 	*key = n->key;
 	*value = n->value;
 
 	return (0);
-} /* int c_avl_iterator_next */
+} /* int avl_iterator_next */
 
-int c_avl_iterator_prev (c_avl_iterator_t *iter, void **key, void **value)
+int avl_iterator_prev (avl_iterator_t *iter, void **key, void **value)
 {
-	c_avl_node_t *n;
+	avl_node_t *n;
 
 	if ((iter == NULL) || (key == NULL) || (value == NULL))
 		return (-1);
 
 	if (iter->node == NULL)
 	{
@@ -689,23 +689,23 @@
 			if (n->right == NULL)
 				break;
 		iter->node = n;
 	}
 	else
 	{
-		n = c_avl_node_prev (iter->tree, iter->node);
+		n = avl_node_prev (iter->tree, iter->node);
 	}
 
 	if (n == NULL)
 		return (-1);
 
 	iter->node = n;
 	*key = n->key;
 	*value = n->value;
 
 	return (0);
-} /* int c_avl_iterator_prev */
+} /* int avl_iterator_prev */
 
-void c_avl_iterator_destroy (c_avl_iterator_t *iter)
+void avl_iterator_destroy (avl_iterator_t *iter)
 {
 	free (iter);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/utils_avltree.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/utils_avltree.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.6/src/utils_avltree.h	2008-01-11 18:16:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0/src/utils_avltree.h	2007-10-25 01:21:24.000000000 +0800
@@ -20,21 +20,21 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #ifndef UTILS_AVLTREE_H
 #define UTILS_AVLTREE_H 1
 
-struct c_avl_tree_s;
-typedef struct c_avl_tree_s c_avl_tree_t;
+struct avl_tree_s;
+typedef struct avl_tree_s avl_tree_t;
 
-struct c_avl_iterator_s;
-typedef struct c_avl_iterator_s c_avl_iterator_t;
+struct avl_iterator_s;
+typedef struct avl_iterator_s avl_iterator_t;
 
 /*
  * NAME
- *   c_avl_create
+ *   avl_create
  *
  * DESCRIPTION
  *   Allocates a new AVL-tree.
  *
  * PARAMETERS
  *   `compare'  The function-pointer `compare' is used to compare two keys. It
@@ -42,30 +42,30 @@
  *              then the second argument, more than zero if the first argument
  *              is bigger than the second argument and zero if they are equal.
  *              If your keys are char-pointers, you can use the `strcmp'
  *              function from the libc here.
  *
  * RETURN VALUE
- *   A c_avl_tree_t-pointer upon success or NULL upon failure.
+ *   A avl_tree_t-pointer upon success or NULL upon failure.
  */
-c_avl_tree_t *c_avl_create (int (*compare) (const void *, const void *));
+avl_tree_t *avl_create (int (*compare) (const void *, const void *));
 
 
 /*
  * NAME
- *   c_avl_destroy
+ *   avl_destroy
  *
  * DESCRIPTION
  *   Deallocates an AVL-tree. Stored value- and key-pointer are lost, but of
  *   course not freed.
  */
-void c_avl_destroy (c_avl_tree_t *t);
+void avl_destroy (avl_tree_t *t);
 
 /*
  * NAME
- *   c_avl_insert
+ *   avl_insert
  *
  * DESCRIPTION
  *   Stores the key-value-pair in the AVL-tree pointed to by `t'.
  *
  * PARAMETERS
  *   `t'        AVL-tree to store the data in.
@@ -74,17 +74,17 @@
  *   `value'    Value to be stored.
  *
  * RETURN VALUE
  *   Zero upon success and non-zero upon failure and if the key is already
  *   stored in the tree.
  */
-int c_avl_insert (c_avl_tree_t *t, void *key, void *value);
+int avl_insert (avl_tree_t *t, void *key, void *value);
 
 /*
  * NAME
- *   c_avl_remove
+ *   avl_remove
  *
  * DESCRIPTION
  *   Removes a key-value-pair from the tree t. The stored key and value may be
  *   returned in `rkey' and `rvalue'.
  *
  * PARAMETERS
@@ -93,34 +93,34 @@
  *   `rkey'     Pointer to a pointer in which to store the key. May be NULL.
  *   `rvalue'   Pointer to a pointer in which to store the value. May be NULL.
  *
  * RETURN VALUE
  *   Zero upon success or non-zero if the key isn't found in the tree.
  */
-int c_avl_remove (c_avl_tree_t *t, const void *key, void **rkey, void **rvalue);
+int avl_remove (avl_tree_t *t, const void *key, void **rkey, void **rvalue);
 
 /*
  * NAME
- *   c_avl_get
+ *   avl_get
  *
  * DESCRIPTION
  *   Retrieve the `value' belonging to `key'.
  *
  * PARAMETERS
  *   `t'	AVL-tree to get the value from.
  *   `key'      Key to identify the entry.
  *   `value'    Pointer to a pointer in which to store the value. May be NULL.
  *
  * RETURN VALUE
  *   Zero upon success or non-zero if the key isn't found in the tree.
  */
-int c_avl_get (c_avl_tree_t *t, const void *key, void **value);
+int avl_get (avl_tree_t *t, const void *key, void **value);
 
 /*
  * NAME
- *   c_avl_pick
+ *   avl_pick
  *
  * DESCRIPTION
  *   Remove a (pseudo-)random element from the tree and return it's `key' and
  *   `value'. Entries are not returned in any particular order. This function
  *   is intended for cache-flushes that don't care about the order but simply
  *   want to remove all elements, one at a time.
@@ -131,14 +131,14 @@
  *   `value'    Pointer to a pointer in which to store the value.
  *
  * RETURN VALUE
  *   Zero upon success or non-zero if the tree is empty or key or value is
  *   NULL.
  */
-int c_avl_pick (c_avl_tree_t *t, void **key, void **value);
+int avl_pick (avl_tree_t *t, void **key, void **value);
 
-c_avl_iterator_t *c_avl_get_iterator (c_avl_tree_t *t);
-int c_avl_iterator_next (c_avl_iterator_t *iter, void **key, void **value);
-int c_avl_iterator_prev (c_avl_iterator_t *iter, void **key, void **value);
-void c_avl_iterator_destroy (c_avl_iterator_t *iter);
+avl_iterator_t *avl_get_iterator (avl_tree_t *t);
+int avl_iterator_next (avl_iterator_t *iter, void **key, void **value);
+int avl_iterator_prev (avl_iterator_t *iter, void **key, void **value);
+void avl_iterator_destroy (avl_iterator_t *iter);
 
 #endif /* UTILS_AVLTREE_H */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.2.0: version-gen.sh
