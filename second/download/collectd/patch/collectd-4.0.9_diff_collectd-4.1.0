diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/ChangeLog	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/ChangeLog	2007-09-02 05:41:26.000000000 +0800
@@ -1,33 +1,37 @@
-2007-09-28, Version 4.0.9
-	* apcups plugin: Fix reporting of the `load percent' data.
-	* wireless plugin: Correct the handling of cards returning signal and
-	  noise quality as percentage.
-	* perl plugin: Fix a possible buffer overflow in get_module_name().
-
-2007-09-12, Version 4.0.8
-	* collectd: The `sstrerror' function was improved to work correctly
-	  with the broken GNU version of `strerror_r'.
-	* collectd: Write an error message to STDERR when loading of a plugin
-	  fails.
-	* apcups plugin: Fix the `types' used to submit the values: They still
-	  has an `apcups_' prefix which doesn't work anymore.
-	* rrdtool plugin: Create new RRD-files with the `begin' time set to
-	  whatever the client thinks is `now'..
+2007-09-01, Version 4.1.0
+	* Build system: The build system has been changed to automatically
+	  disable all plugins, which are missing dependencies. The dependency
+	  checking has been removed from the plugins themselves to remove
+	  redundancy.
+	* Flexible interval: The interval of collected data is not sent along
+	  with the data itself over the network, so that the interval-settings
+	  of server and clients no longer needs to match.
+	* netlink plugin: The new `netlink' plugin connects to the Linux
+	  kernel using a netlink socket and uses it to query information about
+	  interfaces, qdiscs and classes.
+	* rrdtool plugin: The cache is now dumped to disk in an extra thread
+	  to not block data collection.
+	* snmp plugin: The new `snmp' plugin can read values from SNMP enabled
+	  network devices, such as switches, routers, thermometers, rack
+	  monitoring servers, etc. The collectd-snmp(5) manpage documents this
+	  plugin.
+	* unixsock plugin: Added the `LISTVAL' command.
+	* xmms plugin: The new `xmms' plugin graphs the bitrate and frequency
+	  of music played with xmms.
 
 2007-08-26, Version 4.0.7
 	* documentation: Some typos have been fixed and some information has
 	  been improved.
 	* build system: Many fixes for detecting libraries in unusual places,
 	  such as on RedHat systems. The affected libraries are `libcurl',
 	  `libmysql', and `libupsclient'.
 	* network plugin: Allow the `Port' option to be specified as a number
 	  (i. e. without quotes).
 	* nut plugin: A fix allows linking the nut plugin against
 	  libupsclient, version >= 2.2.0.
-	* processes plugin: Fix a potential segmentation fault.
 
 2007-07-30, Version 4.0.6
 	* sensors plugin: Fix the ignorelist functionality: Only the `type
 	  instance' was used to match against the list, but the documentation
 	  told otherwise. This release fixes the code, so it complies with the
 	  documentation.
@@ -106,16 +110,12 @@
 	* apache plugin: Support for lighttpd's `BusyServers' (aka.
 	  connections) field was added by Florent Monbillard.
 	* collectd-nagios: The new `collectd-nagios' binary queries values
 	  from collectd, parses them and exits according to Nagios-standards.
 	* manpages: The manpages have been improved a lot.
 
-2007-09-28, Version 3.11.7
-	* wireless plugin: Correct the handling of cards returning signal and
-	  noise quality as percentage.
-
 2007-08-31, Version 3.11.6
 	* processes plugin: Fix a potential segmentation fault.
 
 2007-05-29, Version 3.11.5
 	* configure: Added `AC_SYS_LARGEFILE' for LFS.
 	* ntpd plugin: Fix a potential buffer overflow.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/configure	2007-09-28 22:24:55.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/configure	2007-09-02 04:12:23.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.61 for collectd 4.0.9.
+# Generated by GNU Autoconf 2.61 for collectd 4.1.0.
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 # 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
@@ -723,14 +723,14 @@
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='4.0.9'
-PACKAGE_STRING='collectd 4.0.9'
+PACKAGE_VERSION='4.1.0'
+PACKAGE_STRING='collectd 4.1.0'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -922,98 +922,118 @@
 PERL_CFLAGS
 PERL_LDFLAGS
 BUILD_WITH_LIBPERL_TRUE
 BUILD_WITH_LIBPERL_FALSE
 BUILD_WITH_LIBIPTC_TRUE
 BUILD_WITH_LIBIPTC_FALSE
+BUILD_WITH_LIBNETSNMP_TRUE
+BUILD_WITH_LIBNETSNMP_FALSE
+BUILD_WITH_LIBUPSCLIENT_CFLAGS
+BUILD_WITH_LIBUPSCLIENT_LIBS
 BUILD_WITH_LIBUPSCLIENT_TRUE
 BUILD_WITH_LIBUPSCLIENT_FALSE
+BUILD_WITH_LIBXMMS_CFLAGS
+BUILD_WITH_LIBXMMS_LIBS
+BUILD_WITH_LIBXMMS_TRUE
+BUILD_WITH_LIBXMMS_FALSE
+BUILD_WITH_LIBNETLINK_CFLAGS
+BUILD_WITH_LIBNETLINK_LIBS
+BUILD_WITH_LIBNETLINK_TRUE
+BUILD_WITH_LIBNETLINK_FALSE
 BUILD_FEATURE_DEBUG_TRUE
 BUILD_FEATURE_DEBUG_FALSE
 BUILD_FEATURE_DAEMON_TRUE
 BUILD_FEATURE_DAEMON_FALSE
 BUILD_FEATURE_GETIFADDRS_TRUE
 BUILD_FEATURE_GETIFADDRS_FALSE
-BUILD_MODULE_APACHE_TRUE
-BUILD_MODULE_APACHE_FALSE
-BUILD_MODULE_APCUPS_TRUE
-BUILD_MODULE_APCUPS_FALSE
-BUILD_MODULE_APPLE_SENSORS_TRUE
-BUILD_MODULE_APPLE_SENSORS_FALSE
-BUILD_MODULE_BATTERY_TRUE
-BUILD_MODULE_BATTERY_FALSE
-BUILD_MODULE_CPU_TRUE
-BUILD_MODULE_CPU_FALSE
-BUILD_MODULE_CPUFREQ_TRUE
-BUILD_MODULE_CPUFREQ_FALSE
-BUILD_MODULE_DISK_TRUE
-BUILD_MODULE_DISK_FALSE
-BUILD_MODULE_CSV_TRUE
-BUILD_MODULE_CSV_FALSE
-BUILD_MODULE_DF_TRUE
-BUILD_MODULE_DF_FALSE
-BUILD_MODULE_DNS_TRUE
-BUILD_MODULE_DNS_FALSE
-BUILD_MODULE_EMAIL_TRUE
-BUILD_MODULE_EMAIL_FALSE
-BUILD_MODULE_ENTROPY_TRUE
-BUILD_MODULE_ENTROPY_FALSE
-BUILD_MODULE_EXEC_TRUE
-BUILD_MODULE_EXEC_FALSE
-BUILD_MODULE_HDDTEMP_TRUE
-BUILD_MODULE_HDDTEMP_FALSE
-BUILD_MODULE_INTERFACE_TRUE
-BUILD_MODULE_INTERFACE_FALSE
-BUILD_MODULE_IPTABLES_TRUE
-BUILD_MODULE_IPTABLES_FALSE
-BUILD_MODULE_IRQ_TRUE
-BUILD_MODULE_IRQ_FALSE
-BUILD_MODULE_LOAD_TRUE
-BUILD_MODULE_LOAD_FALSE
-BUILD_MODULE_MBMON_TRUE
-BUILD_MODULE_MBMON_FALSE
-BUILD_MODULE_MEMORY_TRUE
-BUILD_MODULE_MEMORY_FALSE
-BUILD_MODULE_MULTIMETER_TRUE
-BUILD_MODULE_MULTIMETER_FALSE
-BUILD_MODULE_MYSQL_TRUE
-BUILD_MODULE_MYSQL_FALSE
-BUILD_MODULE_NETWORK_TRUE
-BUILD_MODULE_NETWORK_FALSE
-BUILD_MODULE_NFS_TRUE
-BUILD_MODULE_NFS_FALSE
-BUILD_MODULE_NTPD_TRUE
-BUILD_MODULE_NTPD_FALSE
-BUILD_MODULE_NUT_TRUE
-BUILD_MODULE_NUT_FALSE
-BUILD_MODULE_PERL_TRUE
-BUILD_MODULE_PERL_FALSE
-BUILD_MODULE_PING_TRUE
-BUILD_MODULE_PING_FALSE
-BUILD_MODULE_PROCESSES_TRUE
-BUILD_MODULE_PROCESSES_FALSE
-BUILD_MODULE_SENSORS_TRUE
-BUILD_MODULE_SENSORS_FALSE
-BUILD_MODULE_SERIAL_TRUE
-BUILD_MODULE_SERIAL_FALSE
-BUILD_MODULE_LOGFILE_TRUE
-BUILD_MODULE_LOGFILE_FALSE
-BUILD_MODULE_SWAP_TRUE
-BUILD_MODULE_SWAP_FALSE
-BUILD_MODULE_SYSLOG_TRUE
-BUILD_MODULE_SYSLOG_FALSE
-BUILD_MODULE_TAPE_TRUE
-BUILD_MODULE_TAPE_FALSE
-BUILD_MODULE_UNIXSOCK_TRUE
-BUILD_MODULE_UNIXSOCK_FALSE
-BUILD_MODULE_USERS_TRUE
-BUILD_MODULE_USERS_FALSE
-BUILD_MODULE_VSERVER_TRUE
-BUILD_MODULE_VSERVER_FALSE
-BUILD_MODULE_WIRELESS_TRUE
-BUILD_MODULE_WIRELESS_FALSE
+BUILD_PLUGIN_APACHE_TRUE
+BUILD_PLUGIN_APACHE_FALSE
+BUILD_PLUGIN_APCUPS_TRUE
+BUILD_PLUGIN_APCUPS_FALSE
+BUILD_PLUGIN_APPLE_SENSORS_TRUE
+BUILD_PLUGIN_APPLE_SENSORS_FALSE
+BUILD_PLUGIN_BATTERY_TRUE
+BUILD_PLUGIN_BATTERY_FALSE
+BUILD_PLUGIN_CPU_TRUE
+BUILD_PLUGIN_CPU_FALSE
+BUILD_PLUGIN_CPUFREQ_TRUE
+BUILD_PLUGIN_CPUFREQ_FALSE
+BUILD_PLUGIN_CSV_TRUE
+BUILD_PLUGIN_CSV_FALSE
+BUILD_PLUGIN_DF_TRUE
+BUILD_PLUGIN_DF_FALSE
+BUILD_PLUGIN_DISK_TRUE
+BUILD_PLUGIN_DISK_FALSE
+BUILD_PLUGIN_DNS_TRUE
+BUILD_PLUGIN_DNS_FALSE
+BUILD_PLUGIN_EMAIL_TRUE
+BUILD_PLUGIN_EMAIL_FALSE
+BUILD_PLUGIN_ENTROPY_TRUE
+BUILD_PLUGIN_ENTROPY_FALSE
+BUILD_PLUGIN_EXEC_TRUE
+BUILD_PLUGIN_EXEC_FALSE
+BUILD_PLUGIN_HDDTEMP_TRUE
+BUILD_PLUGIN_HDDTEMP_FALSE
+BUILD_PLUGIN_INTERFACE_TRUE
+BUILD_PLUGIN_INTERFACE_FALSE
+BUILD_PLUGIN_IPTABLES_TRUE
+BUILD_PLUGIN_IPTABLES_FALSE
+BUILD_PLUGIN_IRQ_TRUE
+BUILD_PLUGIN_IRQ_FALSE
+BUILD_PLUGIN_LOAD_TRUE
+BUILD_PLUGIN_LOAD_FALSE
+BUILD_PLUGIN_LOGFILE_TRUE
+BUILD_PLUGIN_LOGFILE_FALSE
+BUILD_PLUGIN_MBMON_TRUE
+BUILD_PLUGIN_MBMON_FALSE
+BUILD_PLUGIN_MEMORY_TRUE
+BUILD_PLUGIN_MEMORY_FALSE
+BUILD_PLUGIN_MULTIMETER_TRUE
+BUILD_PLUGIN_MULTIMETER_FALSE
+BUILD_PLUGIN_MYSQL_TRUE
+BUILD_PLUGIN_MYSQL_FALSE
+BUILD_PLUGIN_NETLINK_TRUE
+BUILD_PLUGIN_NETLINK_FALSE
+BUILD_PLUGIN_NETWORK_TRUE
+BUILD_PLUGIN_NETWORK_FALSE
+BUILD_PLUGIN_NFS_TRUE
+BUILD_PLUGIN_NFS_FALSE
+BUILD_PLUGIN_NTPD_TRUE
+BUILD_PLUGIN_NTPD_FALSE
+BUILD_PLUGIN_NUT_TRUE
+BUILD_PLUGIN_NUT_FALSE
+BUILD_PLUGIN_PERL_TRUE
+BUILD_PLUGIN_PERL_FALSE
+BUILD_PLUGIN_PING_TRUE
+BUILD_PLUGIN_PING_FALSE
+BUILD_PLUGIN_PROCESSES_TRUE
+BUILD_PLUGIN_PROCESSES_FALSE
+BUILD_PLUGIN_RRDTOOL_TRUE
+BUILD_PLUGIN_RRDTOOL_FALSE
+BUILD_PLUGIN_SENSORS_TRUE
+BUILD_PLUGIN_SENSORS_FALSE
+BUILD_PLUGIN_SERIAL_TRUE
+BUILD_PLUGIN_SERIAL_FALSE
+BUILD_PLUGIN_SNMP_TRUE
+BUILD_PLUGIN_SNMP_FALSE
+BUILD_PLUGIN_SWAP_TRUE
+BUILD_PLUGIN_SWAP_FALSE
+BUILD_PLUGIN_SYSLOG_TRUE
+BUILD_PLUGIN_SYSLOG_FALSE
+BUILD_PLUGIN_TAPE_TRUE
+BUILD_PLUGIN_TAPE_FALSE
+BUILD_PLUGIN_UNIXSOCK_TRUE
+BUILD_PLUGIN_UNIXSOCK_FALSE
+BUILD_PLUGIN_USERS_TRUE
+BUILD_PLUGIN_USERS_FALSE
+BUILD_PLUGIN_VSERVER_TRUE
+BUILD_PLUGIN_VSERVER_FALSE
+BUILD_PLUGIN_WIRELESS_TRUE
+BUILD_PLUGIN_WIRELESS_FALSE
+BUILD_PLUGIN_XMMS_TRUE
+BUILD_PLUGIN_XMMS_FALSE
 LIBOBJS
 LTLIBOBJS'
 ac_subst_files=''
       ac_precious_vars='build_alias
 host_alias
 target_alias
@@ -1530,13 +1550,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 4.0.9 to adapt to many kinds of systems.
+\`configure' configures collectd 4.1.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1600,13 +1620,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 4.0.9:";;
+     short | recursive ) echo "Configuration of collectd 4.1.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1621,54 +1641,56 @@
 
 collectd features:
   --enable-debug          enable debugging (disabled by def)
   --disable-daemon        disable daemon mode (enabled by def)
   --enable-getifaddrs     enable getifaddrs under Linux (disabled by def)
 
-collectd modules:
-  --disable-apache        disable Apache httpd statistics (enabled by def)
-  --disable-apcups        disable Statistics of UPSes by APC (enabled by def)
-  --disable-apple_sensors disable Apple's hardware sensors (enabled by def)
-  --disable-battery       disable battery statistics (enabled by def)
-  --disable-cpu           disable cpu usage statistics (enabled by def)
-  --disable-cpufreq       disable system cpu frequency statistics (enabled by
-                          def)
-  --disable-disk          disable disk/partition statistics (enabled by def)
-  --disable-csv           disable csv output plugin (enabled by def)
-  --disable-df            disable df statistics (enabled by def)
-  --disable-dns           disable dns statistics (enabled by def)
-  --disable-email         disable email statistics (enabled by def)
-  --disable-entropy       disable entropy statistics (enabled by def)
-  --disable-exec          disable exec of external programs (enabled by def)
-  --disable-hddtemp       disable hdd temperature statistics (enabled by def)
-  --disable-interface     disable interface statistics (enabled by def)
-  --disable-iptables      disable IPtables statistics (enabled by def)
-  --disable-irq           disable irq statistics (enabled by def)
-  --disable-load          disable system load statistics (enabled by def)
-  --disable-mbmon         disable motherboard monitor statistics (enabled by
-                          def)
-  --disable-memory        disable memory statistics (enabled by def)
-  --disable-multimeter    disable multimeter statistics (enabled by def)
-  --disable-mysql         disable mysql statistics (enabled by def)
-  --disable-network       disable network functionality (enabled by def)
-  --disable-nfs           disable nfs statistics (enabled by def)
-  --disable-ntpd          disable ntpd statistics (enabled by def)
-  --disable-nut           disable network UPS tools statistics (enabled by def)
-  --disable-perl          disable embedded perl interpreter (enabled by def)
-  --disable-ping          disable ping statistics (enabled by def)
-  --disable-processes     disable processes statistics (enabled by def)
-  --disable-sensors       disable lm_sensors statistics (enabled by def)
-  --disable-serial        disable serial statistics (enabled by def)
-  --disable-logfile       disable logfile log facility (enabled by def)
-  --disable-swap          disable swap statistics (enabled by def)
-  --disable-syslog        disable syslog log facility (enabled by def)
-  --disable-tape          disable tape statistics (enabled by def)
-  --disable-unixsock      disable UNIX socket plugin (enabled by def)
-  --disable-users         disable user count statistics (enabled by def)
-  --disable-vserver       disable vserver statistics (enabled by def)
-  --disable-wireless      disable wireless link statistics (enabled by def)
+collectd plugins:
+  --enable-apache         Apache httpd statistics
+  --enable-apcups         Statistics of UPSes by APC
+  --enable-apple_sensors  Apple's hardware sensors
+  --enable-battery        Battery statistics
+  --enable-cpu            CPU usage statistics
+  --enable-cpufreq        CPU frequency statistics
+  --enable-csv            CSV output plugin
+  --enable-df             Filesystem usage statistics
+  --enable-disk           Disk usage statistics
+  --enable-dns            DNS traffic analysis
+  --enable-email          EMail statistics
+  --enable-entropy        Entropy statistics
+  --enable-exec           Execution of external programs
+  --enable-hddtemp        Query hddtempd
+  --enable-interface      Interface traffic statistics
+  --enable-iptables       IPTables rule counters
+  --enable-irq            IRQ statistics
+  --enable-load           System load
+  --enable-logfile        File logging plugin
+  --enable-mbmon          Query mbmond
+  --enable-memory         Memory usage
+  --enable-multimeter     Read multimeter values
+  --enable-mysql          MySQL statistics
+  --enable-netlink        Enhanced Linux network statistics
+  --enable-network        Network communication plugin
+  --enable-nfs            NFS statistics
+  --enable-ntpd           NTPd statistics
+  --enable-nut            Network UPS tools statistics
+  --enable-perl           Embed a Perl interpreter
+  --enable-ping           Network latency statistics
+  --enable-processes      Process statistics
+  --enable-rrdtool        RRDTool output plugin
+  --enable-sensors        lm_sensors statistics
+  --enable-serial         serial port traffic
+  --enable-snmp           SNMP querying plugin
+  --enable-swap           Swap usage statistics
+  --enable-syslog         Syslog logging plugin
+  --enable-tape           Tape drive statistics
+  --enable-unixsock       Unixsock communication plugin
+  --enable-users          User statistics
+  --enable-vserver        Linux VServer statistics
+  --enable-wireless       Wireless statistics
+  --enable-xmms           XMMS statistics
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]
   --with-pic              try to use only PIC/non-PIC objects [default=use
@@ -1691,14 +1713,19 @@
                           Path to liboconfig.
   --with-liboping[=PREFIX]
                           Path to liboping.
   --with-libpcap[=PREFIX] Path to libpcap.
   --with-libperl[=PREFIX] Path to libperl.
   --with-libiptc[=PREFIX] Path to libiptc.
+  --with-libnetsnmp[=PREFIX]
+                          Path to the Net-SNMPD library.
   --with-libupsclient[=PREFIX]
                           Path to libupsclient.
+  --with-libxmms[=PREFIX] Path to libxmms.
+  --with-libnetlink[=PREFIX]
+                          Path to libnetlink.
 
 Some influential environment variables:
   CC          C compiler command
   CFLAGS      C compiler flags
   LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
               nonstandard directory <lib dir>
@@ -1777,13 +1804,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 4.0.9
+collectd configure 4.1.0
 generated by GNU Autoconf 2.61
 
 Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
@@ -1791,13 +1818,13 @@
   exit
 fi
 cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 4.0.9, which was
+It was created by collectd $as_me 4.1.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 exec 5>>config.log
@@ -2464,13 +2491,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='4.0.9'
+ VERSION='4.1.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -6027,13 +6054,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 6033 "configure"' > conftest.$ac_ext
+  echo '#line 6060 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -8535,17 +8562,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8541: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8568: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8545: \$? = $ac_status" >&5
+   echo "$as_me:8572: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8825,17 +8852,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8831: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8858: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8835: \$? = $ac_status" >&5
+   echo "$as_me:8862: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -8929,17 +8956,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8935: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8962: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:8939: \$? = $ac_status" >&5
+   echo "$as_me:8966: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -11291,13 +11318,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11297 "configure"
+#line 11324 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11391,13 +11418,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 11397 "configure"
+#line 11424 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -13811,17 +13838,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13817: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13844: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13821: \$? = $ac_status" >&5
+   echo "$as_me:13848: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -13915,17 +13942,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13921: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13948: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13925: \$? = $ac_status" >&5
+   echo "$as_me:13952: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -15492,17 +15519,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15498: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15525: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:15502: \$? = $ac_status" >&5
+   echo "$as_me:15529: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -15596,17 +15623,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15602: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15629: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:15606: \$? = $ac_status" >&5
+   echo "$as_me:15633: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -17796,17 +17823,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:17802: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:17829: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:17806: \$? = $ac_status" >&5
+   echo "$as_me:17833: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18086,17 +18113,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18092: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18119: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:18096: \$? = $ac_status" >&5
+   echo "$as_me:18123: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -18190,17 +18217,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:18196: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:18223: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:18200: \$? = $ac_status" >&5
+   echo "$as_me:18227: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -21105,12 +21132,40 @@
 done
 test -n "$YACC" || YACC="yacc"
 
 subdirs="$subdirs libltdl"
 
 
+{ echo "$as_me:$LINENO: checking for kernel type ($host_os)" >&5
+echo $ECHO_N "checking for kernel type ($host_os)... $ECHO_C" >&6; }
+case $host_os in
+	*linux*)
+
+cat >>confdefs.h <<\_ACEOF
+#define KERNEL_LINUX 1
+_ACEOF
+
+	ac_system="Linux"
+	;;
+	*solaris*)
+
+cat >>confdefs.h <<\_ACEOF
+#define KERNEL_SOLARIS 1
+_ACEOF
+
+	ac_system="Solaris"
+	;;
+	*darwin*)
+	ac_system="Darwin"
+	;;
+	*)
+	ac_system="unknown"
+esac
+{ echo "$as_me:$LINENO: result: $ac_system" >&5
+echo "${ECHO_T}$ac_system" >&6; }
+
 #
 # Checks for header files.
 #
 { echo "$as_me:$LINENO: checking for ANSI C header files" >&5
 echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6; }
 if test "${ac_cv_header_stdc+set}" = set; then
@@ -21591,13 +21646,33 @@
 
 fi
 
 fi
 
 
-for ac_header in stdint.h
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+for ac_header in stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -21731,35 +21806,36 @@
 
 fi
 
 done
 
 
-for ac_header in stdio.h
+# For ping library
+
+for ac_header in netinet/in_systm.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -21773,133 +21849,130 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+fi
+
+done
+
+
+for ac_header in netinet/in.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	eval "$as_ac_Header=no"
 fi
 
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in errno.h
+for ac_header in netinet/ip.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -21913,133 +21986,139 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+fi
+
+done
+
+
+for ac_header in netinet/ip_icmp.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+#if HAVE_NETINET_IP_H
+# include <netinet/ip.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	eval "$as_ac_Header=no"
 fi
 
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in math.h
+for ac_header in netinet/ip_var.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+#if HAVE_NETINET_IP_H
+# include <netinet/ip.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -22053,133 +22132,136 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+fi
+
+done
+
+
+for ac_header in netinet/ip6.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	eval "$as_ac_Header=no"
 fi
 
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in syslog.h
+for ac_header in netinet/icmp6.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+#if HAVE_NETINET_IP6_H
+# include <netinet/ip6.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -22193,133 +22275,139 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+fi
+
+done
+
+
+for ac_header in netinet/tcp.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+#if HAVE_NETINET_IP_H
+# include <netinet/ip.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	eval "$as_ac_Header=no"
 fi
 
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in fcntl.h
+for ac_header in netinet/udp.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+#if HAVE_STDINT_H
+# include <stdint.h>
+#endif
+#if HAVE_SYS_TYPES_H
+# include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_SYSTM_H
+# include <netinet/in_systm.h>
+#endif
+#if HAVE_NETINET_IN_H
+# include <netinet/in.h>
+#endif
+#if HAVE_NETINET_IP_H
+# include <netinet/ip.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -22333,111 +22421,38 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in signal.h
+# For cpu modules
+
+for ac_header in sys/dkstat.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -22570,14 +22585,32 @@
 _ACEOF
 
 fi
 
 done
 
+if test "x$ac_system" = "xDarwin"
+then
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
 
-for ac_header in assert.h
+
+for ac_header in mach/mach_init.h mach/host_priv.h mach/mach_error.h mach/mach_host.h mach/mach_port.h mach/mach_types.h mach/message.h mach/processor_set.h mach/processor.h mach/processor_info.h mach/task.h mach/thread_act.h mach/vm_region.h mach/vm_map.h mach/vm_prot.h mach/vm_statistics.h mach/kern_return.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -22711,13 +22744,18 @@
 
 fi
 
 done
 
 
-for ac_header in sys/types.h
+
+
+
+
+
+for ac_header in CoreFoundation/CoreFoundation.h IOKit/IOKitLib.h IOKit/IOTypes.h IOKit/ps/IOPSKeys.h IOKit/IOBSD.h IOKit/storage/IOBlockStorageDriver.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -22850,36 +22888,37 @@
 _ACEOF
 
 fi
 
 done
 
+fi
 
-for ac_header in sys/socket.h
+for ac_header in sys/sysctl.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -22893,111 +22932,39 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in sys/select.h
+# For hddtemp module
+
+
+for ac_header in linux/major.h libgen.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -23131,35 +23098,37 @@
 
 fi
 
 done
 
 
-for ac_header in poll.h
+# For the battery plugin
+
+for ac_header in IOKit/ps/IOPowerSources.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+
+#if HAVE_IOKIT_IOKITLIB_H
+#  include <IOKit/IOKitLib.h>
+#endif
+#if HAVE_IOKIT_IOTYPES_H
+#  include <IOKit/IOTypes.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -23173,111 +23142,110 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+fi
+
+done
+
+
+# For the swap module
+
+for ac_header in sys/swap.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	eval "$as_ac_Header=no"
 fi
 
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
-
-fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in netdb.h
+# For load module
+# For the processes plugin
+# For users module
+
+
+
+
+for ac_header in sys/loadavg.h linux/config.h utmp.h utmpx.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -23411,13 +23379,15 @@
 
 fi
 
 done
 
 
-for ac_header in arpa/inet.h
+# For interface plugin
+
+for ac_header in ifaddrs.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -23551,35 +23521,35 @@
 
 fi
 
 done
 
 
-for ac_header in sys/resource.h
+for ac_header in net/if.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
 else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_SOCKET_H
+#  include <sys/socket.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -23593,111 +23563,388 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_header_compiler=no
+	eval "$as_ac_Header=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
+fi
+
+done
+
+
+for ac_header in linux/if.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_SOCKET_H
+#  include <sys/socket.h>
+#endif
+
+
 #include <$ac_header>
 _ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	eval "$as_ac_Header=no"
 fi
 
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+fi
 
-    ;;
+done
+
+
+for ac_header in linux/netdevice.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_SOCKET_H
+#  include <sys/socket.h>
+#endif
+#if HAVE_LINUX_IF_H
+# include <linux/if.h>
+#endif
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
 esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+# For quota module
+
+for ac_header in sys/ucred.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  eval "$as_ac_Header=\$ac_header_preproc"
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+# For mount interface
+
+for ac_header in sys/mount.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#if HAVE_SYS_TYPES_H
+#  include <sys/types.h>
+#endif
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+# For the email plugin
+
+for ac_header in linux/un.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+#if HAVE_SYS_SOCKET_H
+#	include <sys/socket.h>
+#endif
+
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
 
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in sys/param.h
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+for ac_header in pwd.h grp.h sys/un.h ctype.h limits.h sys/quota.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h kvm.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -23831,13 +24078,15 @@
 
 fi
 
 done
 
 
-for ac_header in kstat.h
+# For the dns plugin
+
+for ac_header in arpa/nameser.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -23971,15 +24220,13 @@
 
 fi
 
 done
 
 
-# For ping library
-
-for ac_header in netinet/in_systm.h
+for ac_header in arpa/nameser_compat.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -23987,17 +24234,15 @@
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
+
+#if HAVE_ARPA_NAMESER_H
+# include <arpa/nameser.h>
 #endif
 
 
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
@@ -24037,13 +24282,14 @@
 
 fi
 
 done
 
 
-for ac_header in netinet/in.h
+
+for ac_header in net/if_arp.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -24051,20 +24297,14 @@
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
+#if HAVE_SYS_SOCKET_H
+# include <sys/socket.h>
 #endif
 
 
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
@@ -24104,40 +24344,35 @@
 
 fi
 
 done
 
 
-for ac_header in netinet/ip.h
+for ac_header in net/ppp_defs.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
-  cat >conftest.$ac_ext <<_ACEOF
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-
-
+$ac_includes_default
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -24151,109 +24386,111 @@
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
+  ac_header_compiler=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	eval "$as_ac_Header=no"
+	ac_header_compiler=no
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
-for ac_header in netinet/ip_icmp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
+# Is the header present?
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP_H
-# include <netinet/ip.h>
-#endif
-
-
 #include <$ac_header>
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+if { (ac_try="$ac_cpp conftest.$ac_ext"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
+  (exit $ac_status); } >/dev/null && {
+	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
+       }; then
+  ac_header_preproc=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	eval "$as_ac_Header=no"
+  ac_header_preproc=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
 fi
 ac_res=`eval echo '${'$as_ac_Header'}'`
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
+
+fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 
 done
 
 
-for ac_header in netinet/ip_var.h
+for ac_header in net/if_ppp.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -24261,26 +24498,14 @@
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP_H
-# include <netinet/ip.h>
+#if HAVE_NET_PPP_DEFS_H
+# include <net/ppp_defs.h>
 #endif
 
 
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
@@ -24320,13 +24545,13 @@
 
 fi
 
 done
 
 
-for ac_header in netinet/ip6.h
+for ac_header in netinet/if_ether.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -24340,14 +24565,17 @@
 #if HAVE_STDINT_H
 # include <stdint.h>
 #endif
 #if HAVE_SYS_TYPES_H
 # include <sys/types.h>
 #endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
+#if HAVE_SYS_SOCKET_H
+# include <sys/socket.h>
+#endif
+#if HAVE_NET_IF_H
+# include <net/if.h>
 #endif
 #if HAVE_NETINET_IN_H
 # include <netinet/in.h>
 #endif
 
 
@@ -24390,9115 +24618,38 @@
 
 fi
 
 done
 
 
-for ac_header in netinet/icmp6.h
+# For the multimeter plugin
+have_termios_h="no"
+
+for ac_header in termios.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
-  cat >conftest.$ac_ext <<_ACEOF
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP6_H
-# include <netinet/ip6.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in netinet/tcp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP_H
-# include <netinet/ip.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in netinet/udp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_NETINET_IN_SYSTM_H
-# include <netinet/in_systm.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-#if HAVE_NETINET_IP_H
-# include <netinet/ip.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For cpu modules
-
-for ac_header in sys/sysctl.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_PARAM_H
-# include <sys/param.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/dkstat.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/mach_init.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/host_priv.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/mach_error.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/mach_host.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/mach_port.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/mach_types.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/message.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/processor_set.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/processor.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/processor_info.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/task.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/thread_act.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/vm_region.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/vm_map.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/vm_prot.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/vm_statistics.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mach/kern_return.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For hddtemp module
-
-for ac_header in linux/major.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in libgen.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the apple_sensors module
-
-for ac_header in CoreFoundation/CoreFoundation.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in IOKit/IOKitLib.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in IOKit/IOTypes.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the battery plugin
-
-for ac_header in IOKit/ps/IOPowerSources.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_IOKIT_IOKITLIB_H
-#  include <IOKit/IOKitLib.h>
-#endif
-#if HAVE_IOKIT_IOTYPES_H
-#  include <IOKit/IOTypes.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in IOKit/ps/IOPSKeys.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the `disk' plugin
-
-for ac_header in IOKit/IOBSD.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in IOKit/storage/IOBlockStorageDriver.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For load module
-
-for ac_header in sys/loadavg.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the processes plugin
-
-for ac_header in linux/config.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the swap module
-
-for ac_header in sys/swap.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_PARAM_H
-# include <sys/param.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For users module
-
-for ac_header in utmp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in utmpx.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For interface plugin
-
-for ac_header in ifaddrs.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in net/if.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_SOCKET_H
-#  include <sys/socket.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in linux/if.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_SOCKET_H
-#  include <sys/socket.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in linux/netdevice.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_SOCKET_H
-#  include <sys/socket.h>
-#endif
-#if HAVE_LINUX_IF_H
-# include <linux/if.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For apache plugin
-
-for ac_header in curl/curl.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For quota module
-
-for ac_header in pwd.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/ucred.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_PARAM_H
-# include <sys/param.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in ctype.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in limits.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/quota.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in xfs/xqm.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For mount interface
-
-for ac_header in fs_info.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in fshelp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in paths.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mntent.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in mnttab.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/fstyp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/fs_types.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/mntent.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/mnttab.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/mount.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_TYPES_H
-#  include <sys/types.h>
-#endif
-#if HAVE_SYS_PARAM_H
-# include <sys/param.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/statfs.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/statvfs.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/vfs.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/vfstab.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the swap plugin, FreeBSD
-
-for ac_header in kvm.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the email plugin
-
-for ac_header in linux/un.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_SYS_SOCKET_H
-#	include <sys/socket.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/un.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in grp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For debugging interface (variable number of arguments)
-
-for ac_header in stdarg.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# Regular expressions for the ignorelist.
-
-for ac_header in regex.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the dns plugin
-
-for ac_header in arpa/nameser.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in arpa/nameser_compat.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-#if HAVE_ARPA_NAMESER_H
-# include <arpa/nameser.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-
-for ac_header in net/if_arp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#if HAVE_SYS_SOCKET_H
-# include <sys/socket.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in net/ppp_defs.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in net/if_ppp.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#if HAVE_NET_PPP_DEFS_H
-# include <net/ppp_defs.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-for ac_header in netinet/if_ether.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#if HAVE_STDINT_H
-# include <stdint.h>
-#endif
-#if HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-#if HAVE_SYS_SOCKET_H
-# include <sys/socket.h>
-#endif
-#if HAVE_NET_IF_H
-# include <net/if.h>
-#endif
-#if HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-
-
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  eval "$as_ac_Header=yes"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	eval "$as_ac_Header=no"
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-
-done
-
-
-# For the multimeter plugin
-
-for ac_header in termios.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
+$ac_includes_default
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
 if { (ac_try="$ac_compile"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
@@ -33604,153 +24755,13 @@
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
-
-fi
-
-done
-
-
-for ac_header in sys/ioctl.h
-do
-as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  { echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-else
-  # Is the header compilable?
-{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <$ac_header>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_header_compiler=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6; }
-
-# Is the header present?
-{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <$ac_header>
-_ACEOF
-if { (ac_try="$ac_cpp conftest.$ac_ext"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null && {
-	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       }; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-
-rm -f conftest.err conftest.$ac_ext
-{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6; }
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
-echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-
-    ;;
-esac
-{ echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  eval "$as_ac_Header=\$ac_header_preproc"
-fi
-ac_res=`eval echo '${'$as_ac_Header'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-
-fi
-if test `eval echo '${'$as_ac_Header'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
-
+ have_termios_h="yes"
 fi
 
 done
 
 
 #
@@ -34217,13 +25228,26 @@
 fi
 
 
 
 
 
-for ac_func in gettimeofday select strdup strtol
+
+
+
+
+
+
+
+
+
+
+
+
+
+for ac_func in gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -34312,13 +25336,13 @@
 
 fi
 done
 
 
 
-for ac_func in getaddrinfo getnameinfo
+for ac_func in getpwnam_r
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -34406,19 +25430,13 @@
 _ACEOF
 
 fi
 done
 
 
-
-
-
-
-
-
-for ac_func in strchr memcpy strstr strcmp strncmp strncpy strlen
+for ac_func in getgrnam_r
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -34506,14 +25524,15 @@
 _ACEOF
 
 fi
 done
 
 
+socket_needs_socket="no"
 
-for ac_func in strncasecmp strcasecmp
+for ac_func in socket
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -34597,67 +25616,38 @@
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
-fi
-done
-
-
-
-
-for ac_func in openlog syslog closelog
-do
-as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-{ echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
-if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
+else
+  { echo "$as_me:$LINENO: checking for socket in -lsocket" >&5
+echo $ECHO_N "checking for socket in -lsocket... $ECHO_C" >&6; }
+if test "${ac_cv_lib_socket_socket+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  cat >conftest.$ac_ext <<_ACEOF
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lsocket  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
-#define $ac_func innocuous_$ac_func
-
-/* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char $ac_func (); below.
-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
-    <limits.h> exists even on freestanding compilers.  */
-
-#ifdef __STDC__
-# include <limits.h>
-#else
-# include <assert.h>
-#endif
-
-#undef $ac_func
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char $ac_func ();
-/* The GNU C library defines this for functions which it implements
-    to always fail with ENOSYS.  Some functions are actually named
-    something starting with __ and the normal name is an alias.  */
-#if defined __stub_$ac_func || defined __stub___$ac_func
-choke me
-#endif
-
+char socket ();
 int
 main ()
 {
-return $ac_func ();
+return socket ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -34674,105 +25664,51 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-  eval "$as_ac_var=yes"
+  ac_cv_lib_socket_socket=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	eval "$as_ac_var=no"
+	ac_cv_lib_socket_socket=no
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
 fi
-ac_res=`eval echo '${'$as_ac_var'}'`
-	       { echo "$as_me:$LINENO: result: $ac_res" >&5
-echo "${ECHO_T}$ac_res" >&6; }
-if test `eval echo '${'$as_ac_var'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
-_ACEOF
-
-fi
-done
-
-
-{ echo "$as_me:$LINENO: checking whether strerror_r is declared" >&5
-echo $ECHO_N "checking whether strerror_r is declared... $ECHO_C" >&6; }
-if test "${ac_cv_have_decl_strerror_r+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-int
-main ()
-{
-#ifndef strerror_r
-  (void) strerror_r;
-#endif
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_cv_have_decl_strerror_r=yes
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_socket_socket" >&5
+echo "${ECHO_T}$ac_cv_lib_socket_socket" >&6; }
+if test $ac_cv_lib_socket_socket = yes; then
+  socket_needs_socket="yes"
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_have_decl_strerror_r=no
+  { { echo "$as_me:$LINENO: error: cannot find socket" >&5
+echo "$as_me: error: cannot find socket" >&2;}
+   { (exit 1); exit 1; }; }
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_have_decl_strerror_r" >&5
-echo "${ECHO_T}$ac_cv_have_decl_strerror_r" >&6; }
-if test $ac_cv_have_decl_strerror_r = yes; then
+done
 
-cat >>confdefs.h <<_ACEOF
-#define HAVE_DECL_STRERROR_R 1
-_ACEOF
 
 
+if test "x$socket_needs_socket" = "xyes"; then
+  BUILD_WITH_LIBSOCKET_TRUE=
+  BUILD_WITH_LIBSOCKET_FALSE='#'
 else
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_DECL_STRERROR_R 0
-_ACEOF
-
-
+  BUILD_WITH_LIBSOCKET_TRUE='#'
+  BUILD_WITH_LIBSOCKET_FALSE=
 fi
 
 
+nanosleep_needs_rt="no"
 
-for ac_func in strerror_r
+for ac_func in nanosleep
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -34856,144 +25792,101 @@
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
-fi
-done
-
-{ echo "$as_me:$LINENO: checking whether strerror_r returns char *" >&5
-echo $ECHO_N "checking whether strerror_r returns char *... $ECHO_C" >&6; }
-if test "${ac_cv_func_strerror_r_char_p+set}" = set; then
+else
+  { echo "$as_me:$LINENO: checking for nanosleep in -lrt" >&5
+echo $ECHO_N "checking for nanosleep in -lrt... $ECHO_C" >&6; }
+if test "${ac_cv_lib_rt_nanosleep+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-
-    ac_cv_func_strerror_r_char_p=no
-    if test $ac_cv_have_decl_strerror_r = yes; then
-      cat >conftest.$ac_ext <<_ACEOF
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lrt  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_includes_default
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char nanosleep ();
 int
 main ()
 {
-
-	  char buf[100];
-	  char x = *strerror_r (0, buf, sizeof buf);
-	  char *p = strerror_r (0, buf, sizeof buf);
-	  return !p || x;
-
+return nanosleep ();
   ;
   return 0;
 }
 _ACEOF
-rm -f conftest.$ac_objext
-if { (ac_try="$ac_compile"
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
 case "(($ac_try" in
   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
   *) ac_try_echo=$ac_try;;
 esac
 eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_compile") 2>conftest.er1
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
-       } && test -s conftest.$ac_objext; then
-  ac_cv_func_strerror_r_char_p=yes
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_rt_nanosleep=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-
+	ac_cv_lib_rt_nanosleep=no
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-    else
-      # strerror_r is not declared.  Choose between
-      # systems that have relatively inaccessible declarations for the
-      # function.  BeOS and DEC UNIX 4.0 fall in this category, but the
-      # former has a strerror_r that returns char*, while the latter
-      # has a strerror_r that returns `int'.
-      # This test should segfault on the DEC system.
-      if test "$cross_compiling" = yes; then
-  :
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-	extern char *strerror_r ();
-int
-main ()
-{
-char buf[100];
-	  char x = *strerror_r (0, buf, sizeof buf);
-	  return ! isalpha (x);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_try") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_cv_func_strerror_r_char_p=yes
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_rt_nanosleep" >&5
+echo "${ECHO_T}$ac_cv_lib_rt_nanosleep" >&6; }
+if test $ac_cv_lib_rt_nanosleep = yes; then
+  nanosleep_needs_rt="yes"
 else
-  echo "$as_me: program exited with status $ac_status" >&5
-echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
+  { { echo "$as_me:$LINENO: error: cannot find nanosleep" >&5
+echo "$as_me: error: cannot find nanosleep" >&2;}
+   { (exit 1); exit 1; }; }
 fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+
 fi
+done
 
 
-    fi
 
+if test "x$nanosleep_needs_rt" = "xyes"; then
+  BUILD_WITH_LIBRT_TRUE=
+  BUILD_WITH_LIBRT_FALSE='#'
+else
+  BUILD_WITH_LIBRT_TRUE='#'
+  BUILD_WITH_LIBRT_FALSE=
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_func_strerror_r_char_p" >&5
-echo "${ECHO_T}$ac_cv_func_strerror_r_char_p" >&6; }
-if test $ac_cv_func_strerror_r_char_p = yes; then
 
-cat >>confdefs.h <<\_ACEOF
-#define STRERROR_R_CHAR_P 1
-_ACEOF
 
-fi
 
 
 
-for ac_func in getpwnam_r
+
+for ac_func in regcomp regerror regexec regfree
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35081,13 +25974,14 @@
 _ACEOF
 
 fi
 done
 
 
-for ac_func in getgrnam_r
+
+for ac_func in sysctlbyname
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35170,20 +26064,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_sysctlbyname="yes"
+else
+  have_sysctlbyname="no"
 fi
 done
 
 
-socket_needs_socket="no"
-
-for ac_func in socket
+for ac_func in host_statistics
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35266,100 +26160,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
-else
-  { echo "$as_me:$LINENO: checking for socket in -lsocket" >&5
-echo $ECHO_N "checking for socket in -lsocket... $ECHO_C" >&6; }
-if test "${ac_cv_lib_socket_socket+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lsocket  $LIBS"
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-/* Override any GCC internal prototype to avoid an error.
-   Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char socket ();
-int
-main ()
-{
-return socket ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (ac_try="$ac_link"
-case "(($ac_try" in
-  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
-  *) ac_try_echo=$ac_try;;
-esac
-eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
-  (eval "$ac_link") 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } && {
-	 test -z "$ac_c_werror_flag" ||
-	 test ! -s conftest.err
-       } && test -s conftest$ac_exeext &&
-       $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_socket_socket=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_lib_socket_socket=no
-fi
-
-rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_socket_socket" >&5
-echo "${ECHO_T}$ac_cv_lib_socket_socket" >&6; }
-if test $ac_cv_lib_socket_socket = yes; then
-  socket_needs_socket="yes"
+ have_host_statistics="yes"
 else
-  { { echo "$as_me:$LINENO: error: cannot find socket" >&5
-echo "$as_me: error: cannot find socket" >&2;}
-   { (exit 1); exit 1; }; }
-fi
-
+  have_host_statistics="no"
 fi
 done
 
 
-
-if test "x$socket_needs_socket" = "xyes"; then
-  BUILD_WITH_LIBSOCKET_TRUE=
-  BUILD_WITH_LIBSOCKET_FALSE='#'
-else
-  BUILD_WITH_LIBSOCKET_TRUE='#'
-  BUILD_WITH_LIBSOCKET_FALSE=
-fi
-
-
-nanosleep_needs_rt="no"
-
-for ac_func in nanosleep
+for ac_func in processor_info
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35442,39 +26256,68 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_processor_info="yes"
 else
-  { echo "$as_me:$LINENO: checking for nanosleep in -lrt" >&5
-echo $ECHO_N "checking for nanosleep in -lrt... $ECHO_C" >&6; }
-if test "${ac_cv_lib_rt_nanosleep+set}" = set; then
+  have_processor_info="no"
+fi
+done
+
+
+for ac_func in thread_info
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrt  $LIBS"
-cat >conftest.$ac_ext <<_ACEOF
+  cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char nanosleep ();
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
+
 int
 main ()
 {
-return nanosleep ();
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -35491,54 +26334,38 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_rt_nanosleep=yes
+  eval "$as_ac_var=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_lib_rt_nanosleep=no
+	eval "$as_ac_var=no"
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_rt_nanosleep" >&5
-echo "${ECHO_T}$ac_cv_lib_rt_nanosleep" >&6; }
-if test $ac_cv_lib_rt_nanosleep = yes; then
-  nanosleep_needs_rt="yes"
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+ have_thread_info="yes"
 else
-  { { echo "$as_me:$LINENO: error: cannot find nanosleep" >&5
-echo "$as_me: error: cannot find nanosleep" >&2;}
-   { (exit 1); exit 1; }; }
-fi
-
+  have_thread_info="no"
 fi
 done
 
 
-
-if test "x$nanosleep_needs_rt" = "xyes"; then
-  BUILD_WITH_LIBRT_TRUE=
-  BUILD_WITH_LIBRT_FALSE='#'
-else
-  BUILD_WITH_LIBRT_TRUE='#'
-  BUILD_WITH_LIBRT_FALSE=
-fi
-
-
-# Regular expressions for the ignorelist.
-
-
-
-
-for ac_func in regcomp regerror regexec regfree
+for ac_func in statfs
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35621,20 +26448,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_statfs="yes"
+else
+  have_statfs="no"
 fi
 done
 
 
-# For cpu module
-
-for ac_func in sysctlbyname
+for ac_func in statvfs
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35717,23 +26544,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
- have_sysctlbyname="yes"
+ have_statvfs="yes"
 else
-  have_sysctlbyname="no"
+  have_statvfs="no"
 fi
 done
 
 
-# For df module
-
-
-for ac_func in statfs statvfs
+for ac_func in getifaddrs
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35816,20 +26640,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_getifaddrs="yes"
+else
+  have_getifaddrs="no"
 fi
 done
 
 
-# For load module
-
-for ac_func in getloadavg
+for ac_func in syslog
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -35912,22 +26736,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
- have_getloadavg="yes"
+ have_syslog="yes"
 else
-  have_getloadavg="no"
+  have_syslog="no"
 fi
 done
 
 
-# For the `processes' plugin
-
-for ac_func in thread_info
+for ac_func in getutent
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -36010,21 +26832,20 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_getutent="yes"
+else
+  have_getutent="no"
 fi
 done
 
 
-# For users module
-
-
-for ac_func in getutent getutxent
+for ac_func in getutxent
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -36107,20 +26928,22 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_getutxent="yes"
+else
+  have_getutxent="no"
 fi
 done
 
 
-# For interface module
+# For load module
 
-for ac_func in getifaddrs
+for ac_func in getloadavg
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 { echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
 if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -36203,13 +27026,15 @@
 	       { echo "$as_me:$LINENO: result: $ac_res" >&5
 echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
-
+ have_getloadavg="yes"
+else
+  have_getloadavg="no"
 fi
 done
 
 
 # Check for NAN
 
@@ -38923,37 +29748,12 @@
 _ACEOF
 
 
 fi
 
 
-{ echo "$as_me:$LINENO: checking for kernel type ($host_os)" >&5
-echo $ECHO_N "checking for kernel type ($host_os)... $ECHO_C" >&6; }
-case $host_os in
-	*linux*)
-
-cat >>confdefs.h <<\_ACEOF
-#define KERNEL_LINUX 1
-_ACEOF
-
-	ac_system="Linux"
-	;;
-	*solaris*)
-
-cat >>confdefs.h <<\_ACEOF
-#define KERNEL_SOLARIS 1
-_ACEOF
-
-	ac_system="Solaris"
-	;;
-	*)
-	ac_system="unknown"
-esac
-{ echo "$as_me:$LINENO: result: $ac_system" >&5
-echo "${ECHO_T}$ac_system" >&6; }
-
 with_libresolv="yes"
 { echo "$as_me:$LINENO: checking for res_search in -lresolv" >&5
 echo $ECHO_N "checking for res_search in -lresolv... $ECHO_C" >&6; }
 if test "${ac_cv_lib_resolv_res_search+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -39550,13 +30350,13 @@
 else
   BUILD_WITH_LIBPTHREAD_TRUE='#'
   BUILD_WITH_LIBPTHREAD_FALSE=
 fi
 
 
-if test "$ac_system" = "Solaris"
+if test "x$ac_system" = "xSolaris"
 then
 	with_kstat="yes"
 	with_devinfo="yes"
 else
 	with_kstat="no (Solaris only)"
 	with_devinfo="no (Solaris only)"
@@ -40698,13 +31498,13 @@
 else
 
 	if test "x$ac_system" = "xLinux"
 	then
 		with_lm_sensors="yes"
 	else
-		with_lm_sensors="no"
+		with_lm_sensors="no (Linux only library)"
 	fi
 
 fi
 
 if test "x$with_lm_sensors" = "xyes"
 then
@@ -41505,16 +32305,12 @@
   BUILD_WITH_OWN_LIBOPING_FALSE='#'
 else
   BUILD_WITH_OWN_LIBOPING_TRUE='#'
   BUILD_WITH_OWN_LIBOPING_FALSE=
 fi
 
-if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
-then
-	with_liboping="yes (shipped version)"
-fi
 
 
 # Check whether --with-libpcap was given.
 if test "${with_libpcap+set}" = set; then
   withval=$with_libpcap;
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
@@ -42160,39 +32956,36 @@
 else
   BUILD_WITH_LIBIPTC_TRUE='#'
   BUILD_WITH_LIBIPTC_FALSE=
 fi
 
 
-# TODO: Use `libupsclient-config' here.
 
-# Check whether --with-libupsclient was given.
-if test "${with_libupsclient+set}" = set; then
-  withval=$with_libupsclient;
+# Check whether --with-libnetsnmp was given.
+if test "${with_libnetsnmp+set}" = set; then
+  withval=$with_libnetsnmp;
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
-		with_libupsclient="yes"
+		with_libnetsnmp="yes"
 	fi
 
 else
-
-	with_libupsclient="yes"
-
+  with_libnetsnmp="yes"
 fi
 
-if test "x$with_libupsclient" = "xyes"
+if test "x$with_libnetsnmp" = "xyes"
 then
-	{ echo "$as_me:$LINENO: checking for upscli_connect in -lupsclient" >&5
-echo $ECHO_N "checking for upscli_connect in -lupsclient... $ECHO_C" >&6; }
-if test "${ac_cv_lib_upsclient_upscli_connect+set}" = set; then
+	{ echo "$as_me:$LINENO: checking for init_snmp in -lnetsnmp" >&5
+echo $ECHO_N "checking for init_snmp in -lnetsnmp... $ECHO_C" >&6; }
+if test "${ac_cv_lib_netsnmp_init_snmp+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lupsclient  $LIBS"
+LIBS="-lnetsnmp  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
@@ -42200,17 +32993,17 @@
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
    builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-char upscli_connect ();
+char init_snmp ();
 int
 main ()
 {
-return upscli_connect ();
+return init_snmp ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
 if { (ac_try="$ac_link"
@@ -42227,43 +33020,43 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-  ac_cv_lib_upsclient_upscli_connect=yes
+  ac_cv_lib_netsnmp_init_snmp=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_cv_lib_upsclient_upscli_connect=no
+	ac_cv_lib_netsnmp_init_snmp=no
 fi
 
 rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_lib_upsclient_upscli_connect" >&5
-echo "${ECHO_T}$ac_cv_lib_upsclient_upscli_connect" >&6; }
-if test $ac_cv_lib_upsclient_upscli_connect = yes; then
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_netsnmp_init_snmp" >&5
+echo "${ECHO_T}$ac_cv_lib_netsnmp_init_snmp" >&6; }
+if test $ac_cv_lib_netsnmp_init_snmp = yes; then
 
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBUPSCLIENT 1
+#define HAVE_LIBSNMP 1
 _ACEOF
 
 
 else
-  with_libupsclient="no (libupsclient not found)"
+  with_libnetsnmp="no (libnetsnmp not found)"
 fi
 
 fi
-if test "x$with_libupsclient" = "xyes"
+if test "x$with_libnetsnmp" = "xyes"
 then
 
-for ac_header in upsclient.h
+for ac_header in net-snmp/net-snmp-config.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   { echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@ -42394,23 +33187,169 @@
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_UPSCLIENT_H 1
+#define HAVE_NET_SNMP_NET_SNMP_CONFIG_H 1
 _ACEOF
 
 
 else
-  with_libupsclient="no (upsclient.h not found)"
+  with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"
 fi
 
 done
 
 fi
+
+
+if test "x$with_libnetsnmp" = "xyes"; then
+  BUILD_WITH_LIBNETSNMP_TRUE=
+  BUILD_WITH_LIBNETSNMP_FALSE='#'
+else
+  BUILD_WITH_LIBNETSNMP_TRUE='#'
+  BUILD_WITH_LIBNETSNMP_FALSE=
+fi
+
+
+with_upsclient_config="libupsclient-config"
+with_upsclient_cflags=""
+with_upsclient_libs=""
+
+# Check whether --with-libupsclient was given.
+if test "${with_libupsclient+set}" = set; then
+  withval=$with_libupsclient;
+	if test "x$withval" = "xno"
+	then
+		with_libupsclient="no"
+	else
+		with_libupsclient="yes"
+		if "x$withval" != "xyes"
+		then
+			with_upsclient_config="$withval/bin/libupsclient-config"
+		fi
+	fi
+
+else
+
+	with_libupsclient="yes"
+
+fi
+
+if test "x$with_libupsclient" = "xyes"
+then
+	with_upsclient_cflags=`$with_upsclient_config --cflags 2>/dev/null`
+	upsclient_config_status=$?
+
+	if test $upsclient_config_status -ne 0
+	then
+		with_libupsclient="no"
+	fi
+fi
+if test "x$with_libupsclient" = "xyes"
+then
+	with_upsclient_libs=`$with_upsclient_config --libs 2>/dev/null`
+	upsclient_config_status=$?
+
+	if test $upsclient_config_status -ne 0
+	then
+		with_libupsclient="no"
+	fi
+fi
+if test "x$with_libupsclient" = "xyes"
+then
+	CFLAGS_ORIG=$CFLAGS
+	CFLAGS="$CFLAGS $with_upsclient_cflags"
+	LDFLAGS_ORIG=$LDFLAGS
+	LDFLAGS="$LDFLAGS $with_upsclient_libs"
+	{ echo "$as_me:$LINENO: checking for upscli_connect in -lupsclient" >&5
+echo $ECHO_N "checking for upscli_connect in -lupsclient... $ECHO_C" >&6; }
+if test "${ac_cv_lib_upsclient_upscli_connect+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lupsclient  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char upscli_connect ();
+int
+main ()
+{
+return upscli_connect ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_upsclient_upscli_connect=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_upsclient_upscli_connect=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_upsclient_upscli_connect" >&5
+echo "${ECHO_T}$ac_cv_lib_upsclient_upscli_connect" >&6; }
+if test $ac_cv_lib_upsclient_upscli_connect = yes; then
+
+		BUILD_WITH_LIBUPSCLIENT_CFLAGS="$with_upsclient_cflags"
+		BUILD_WITH_LIBUPSCLIENT_LIBS="$with_upsclient_libs"
+
+
+
+else
+
+		with_libupsclient="no"
+
+fi
+
+	CFLAGS=$CFLAGS_ORIG
+	LDFLAGS=$LDFLAGS_ORIG
+fi
+if test "x$with_libupsclient" = "xyes"
+then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBUPSCLIENT 1
+_ACEOF
+
+fi
 if test "x$with_libupsclient" = "xyes"
 then
 	{ echo "$as_me:$LINENO: checking for UPSCONN_t" >&5
 echo $ECHO_N "checking for UPSCONN_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_UPSCONN_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -42517,52 +33456,401 @@
   (exit $ac_status); } && {
 	 test -z "$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        } && test -s conftest.$ac_objext; then
   ac_cv_type_UPSCONN=yes
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-	ac_cv_type_UPSCONN=no
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_type_UPSCONN=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_type_UPSCONN" >&5
+echo "${ECHO_T}$ac_cv_type_UPSCONN" >&6; }
+if test $ac_cv_type_UPSCONN = yes; then
+
+cat >>confdefs.h <<_ACEOF
+#define HAVE_UPSCONN 1
+_ACEOF
+
+
+fi
+
+fi
+
+
+if test "x$with_libupsclient" = "xyes"; then
+  BUILD_WITH_LIBUPSCLIENT_TRUE=
+  BUILD_WITH_LIBUPSCLIENT_FALSE='#'
+else
+  BUILD_WITH_LIBUPSCLIENT_TRUE='#'
+  BUILD_WITH_LIBUPSCLIENT_FALSE=
+fi
+
+
+### BEGIN of check for libxmms ###
+with_xmms_config="xmms-config"
+with_xmms_cflags=""
+with_xmms_libs=""
+
+# Check whether --with-libxmms was given.
+if test "${with_libxmms+set}" = set; then
+  withval=$with_libxmms;
+	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+	then
+		if test -x "$withval/bin/xmms-config"
+		then
+			with_xmms_config="$withval/bin/xmms-config"
+		fi
+	fi
+	if test "x$withval" = "xno"
+	then
+		with_libxmms="no"
+	else
+		with_libxmms="yes"
+	fi
+
+else
+
+	with_libxmms="yes"
+
+fi
+
+if test "x$with_libxmms" = "xyes"
+then
+	with_xmms_cflags=`$with_xmms_config --cflags 2>/dev/null`
+	xmms_config_status=$?
+
+	if test $xmms_config_status -ne 0
+	then
+		with_libxmms="no"
+	fi
+fi
+if test "x$with_libxmms" = "xyes"
+then
+	with_xmms_libs=`$with_xmms_config --libs 2>/dev/null`
+	xmms_config_status=$?
+
+	if test $xmms_config_status -ne 0
+	then
+		with_libxmms="no"
+	fi
+fi
+if test "x$with_libxmms" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for xmms_remote_get_info in -lxmms" >&5
+echo $ECHO_N "checking for xmms_remote_get_info in -lxmms... $ECHO_C" >&6; }
+if test "${ac_cv_lib_xmms_xmms_remote_get_info+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lxmms $with_xmms_libs $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char xmms_remote_get_info ();
+int
+main ()
+{
+return xmms_remote_get_info ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_xmms_xmms_remote_get_info=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_xmms_xmms_remote_get_info=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_xmms_xmms_remote_get_info" >&5
+echo "${ECHO_T}$ac_cv_lib_xmms_xmms_remote_get_info" >&6; }
+if test $ac_cv_lib_xmms_xmms_remote_get_info = yes; then
+
+		BUILD_WITH_LIBXMMS_CFLAGS="$with_xmms_cflags"
+		BUILD_WITH_LIBXMMS_LIBS="$with_xmms_libs"
+
+
+
+else
+
+		with_libxmms="no"
+
+fi
+
+fi
+with_libxmms_numeric=0
+if test "x$with_libxmms" = "xyes"
+then
+	with_libxmms_numeric=1
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBXMMS $with_libxmms_numeric
+_ACEOF
+
+
+
+if test "x$with_libxmms" = "xyes"; then
+  BUILD_WITH_LIBXMMS_TRUE=
+  BUILD_WITH_LIBXMMS_FALSE='#'
+else
+  BUILD_WITH_LIBXMMS_TRUE='#'
+  BUILD_WITH_LIBXMMS_FALSE=
+fi
+
+### END of check for libxmms ###
+
+with_libnetlink_cflags=""
+with_libnetlink_libs="-lnetlink"
+
+# Check whether --with-libnetlink was given.
+if test "${with_libnetlink+set}" = set; then
+  withval=$with_libnetlink;
+ echo "libnetlink: withval = $withval"
+ if test "x$withval" = "xyes"
+ then
+	 with_libnetlink="yes"
+ else if test "x$withval" = "xno"
+ then
+	 with_libnetlink="no"
+ else
+	 if test -d "$withval/include"
+	 then
+		 with_libnetlink_cflags="-I$withval/include"
+		 with_libnetlink_libs="-L$withval/lib -lnetlink"
+		 with_libnetlink="yes"
+	 else
+		 { { echo "$as_me:$LINENO: error: \"no such directory: $withval/include\"" >&5
+echo "$as_me: error: \"no such directory: $withval/include\"" >&2;}
+   { (exit 1); exit 1; }; }
+	 fi
+ fi; fi
+
+else
+
+ if test "x$ac_system" = "xLinux"
+ then
+	 with_libnetlink="yes"
+ else
+	 with_libnetlink="no (Linux only library)"
+ fi
+
+fi
+
+if test "x$with_libnetlink" = "xyes"
+then
+	SAVE_CFLAGS=$CFLAGS
+	CFLAGS="$CFLAGS $with_libnetlink_cflags"
+
+
+for ac_header in iproute/libnetlink.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <stdio.h>
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>
+
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  eval "$as_ac_Header=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	eval "$as_ac_Header=no"
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+else
+  with_libnetlink="no (iproute/libnetlink.h not found)"
+fi
+
+done
+
+
+	CFLAGS="$SAVE_CFLAGS"
+fi
+if test "x$with_libnetlink" = "xyes"
+then
+	{ echo "$as_me:$LINENO: checking for rtnl_open in -lnetlink" >&5
+echo $ECHO_N "checking for rtnl_open in -lnetlink... $ECHO_C" >&6; }
+if test "${ac_cv_lib_netlink_rtnl_open+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lnetlink $with_libnetlink_libs $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char rtnl_open ();
+int
+main ()
+{
+return rtnl_open ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest$ac_exeext &&
+       $as_test_x conftest$ac_exeext; then
+  ac_cv_lib_netlink_rtnl_open=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_netlink_rtnl_open=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_netlink_rtnl_open" >&5
+echo "${ECHO_T}$ac_cv_lib_netlink_rtnl_open" >&6; }
+if test $ac_cv_lib_netlink_rtnl_open = yes; then
+  with_libnetlink="yes"
+else
+  with_libnetlink="no (symbol 'rtnl_open' not found)"
 fi
 
-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-{ echo "$as_me:$LINENO: result: $ac_cv_type_UPSCONN" >&5
-echo "${ECHO_T}$ac_cv_type_UPSCONN" >&6; }
-if test $ac_cv_type_UPSCONN = yes; then
-
-cat >>confdefs.h <<_ACEOF
-#define HAVE_UPSCONN 1
-_ACEOF
-
+if test "x$with_libnetlink" = "xyes"
+then
+	BUILD_WITH_LIBNETLINK_CFLAGS="$with_libnetlink_cflags"
+	BUILD_WITH_LIBNETLINK_LIBS="$with_libnetlink_libs"
 
-fi
 
 fi
 
 
-if test "x$with_libupsclient" = "xyes"; then
-  BUILD_WITH_LIBUPSCLIENT_TRUE=
-  BUILD_WITH_LIBUPSCLIENT_FALSE='#'
+if test "x$with_libnetlink" = "xyes"; then
+  BUILD_WITH_LIBNETLINK_TRUE=
+  BUILD_WITH_LIBNETLINK_FALSE='#'
 else
-  BUILD_WITH_LIBUPSCLIENT_TRUE='#'
-  BUILD_WITH_LIBUPSCLIENT_FALSE=
+  BUILD_WITH_LIBNETLINK_TRUE='#'
+  BUILD_WITH_LIBNETLINK_FALSE=
 fi
 
 
 # Check for enabled/disabled features
 #
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
 # ------------------------------------------------------------
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
 
+# AC_PLUGIN(name, default, info)
+# ------------------------------------------------------------
+# AC_PLUGIN(name, default, info)
+
 
+# FIXME: Remove these calls to `AC_COLLECTD' and then remove that macro.
 
 										# Check whether --enable-debug was given.
 if test "${enable_debug+set}" = set; then
   enableval=$enable_debug;
 else
   enable_debug='no'
@@ -42669,1456 +33957,2034 @@
 else
   BUILD_FEATURE_GETIFADDRS_TRUE='#'
   BUILD_FEATURE_GETIFADDRS_FALSE=
 fi
 
 
+plugin_battery="no"
+plugin_cpu="no"
+plugin_cpufreq="no"
+plugin_df="no"
+plugin_disk="no"
+plugin_entropy="no"
+plugin_interface="no"
+plugin_irq="no"
+plugin_load="no"
+plugin_memory="no"
+plugin_multimeter="no"
+plugin_nfs="no"
+plugin_processes="no"
+plugin_serial="no"
+plugin_swap="no"
+plugin_tape="no"
+plugin_users="no"
+plugin_vserver="no"
+plugin_wireless="no"
+
+# Linux
+if test "x$ac_system" = "xLinux"
+then
+	plugin_battery="yes"
+	plugin_cpu="yes"
+	plugin_cpufreq="yes"
+	plugin_disk="yes"
+	plugin_entropy="yes"
+	plugin_interface="yes"
+	plugin_irq="yes"
+	plugin_load="yes"
+	plugin_memory="yes"
+	plugin_nfs="yes"
+	plugin_processes="yes"
+	plugin_serial="yes"
+	plugin_swap="yes"
+	plugin_vserver="yes"
+	plugin_wireless="yes"
+fi
+
+# Mac OS X devices
+if test "x$with_libiokit" = "xyes"
+then
+	plugin_battery="yes"
+	plugin_disk="yes"
+fi
+
+# Solaris
+if test "x$with_devinfo$with_kstat" = "xyesyes"
+then
+	plugin_cpu="yes"
+	plugin_disk="yes"
+	plugin_interface="yes"
+	plugin_memory="yes"
+	plugin_swap="yes"
+	plugin_tape="yes"
+fi
 
+# libstatgrab
+if test "x$with_libstatgrab" = "xyes"
+then
+	plugin_interface="yes"
+	plugin_load="yes"
+	plugin_memory="yes"
+	plugin_swap="yes"
+fi
 
-																	# Check whether --enable-apache was given.
-if test "${enable_apache+set}" = set; then
-  enableval=$enable_apache;
-else
-  enable_apache='yes'
+if test "x$have_processor_info" = "xyes"
+then
+	plugin_cpu="yes"
 fi
-# AC_ARG_ENABLE
-if test "x$enable_apache" = "xno"
+if test "x$have_sysctlbyname" = "xyes"
+then
+	plugin_cpu="yes"
+	plugin_memory="yes"
+fi
+
+if test "x$have_statfs" = "xyes"
+then
+	plugin_df="yes"
+fi
+if test "x$have_statvfs" = "xyes"
+then
+	plugin_df="yes"
+fi
+
+if test "x$have_getifaddrs" = "xyes"
+then
+	plugin_interface="yes"
+fi
+
+if test "x$have_getloadavg" = "xyes"
+then
+	plugin_load="yes"
+fi
+
+# Mac OS X memory interface
+if test "x$have_host_statistics" = "xyes"
+then
+	plugin_memory="yes"
+fi
+
+if test "x$have_termios_h" = "xyes"
 then
-	collectd_apache=0
+	plugin_multimeter="yes"
+fi
+
+if test "x$have_thread_info" = "xyes"
+then
+	plugin_processes="yes"
+fi
+
+if test "x$with_libkvm" = "xyes"
+then
+	plugin_swap="yes"
+fi
+
+if test "x$have_getutent" = "xyes"
+then
+	plugin_users="yes"
+fi
+if test "x$have_getutxent" = "xyes"
+then
+	plugin_users="yes"
+fi
+
+# FIXME: sysctl for swap plugin
+
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-apache was given.
+if test "${enable_apache+set}" = set; then
+  enableval=$enable_apache;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-	if test "x$enable_apache" = "xyes"
-	then
-		collectd_apache=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-apache or --disable-apache; enabling apache." >&5
-echo "$as_me: please specify either --enable-apache or --disable-apache; enabling apache." >&6;}
-		collectd_apache=1
-		enable_apache='yes'
-	fi
+
+     if test "x$with_libcurl" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_APACHE $collectd_apache
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_APACHE 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_apache" = "xyes"; then
-  BUILD_MODULE_APACHE_TRUE=
-  BUILD_MODULE_APACHE_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_APACHE_TRUE=
+  BUILD_PLUGIN_APACHE_FALSE='#'
 else
-  BUILD_MODULE_APACHE_TRUE='#'
-  BUILD_MODULE_APACHE_FALSE=
+  BUILD_PLUGIN_APACHE_TRUE='#'
+  BUILD_PLUGIN_APACHE_FALSE=
 fi
 
+    enable_apache="$enable_plugin"
+
 
-																	# Check whether --enable-apcups was given.
+
+    enable_plugin="no"
+    # Check whether --enable-apcups was given.
 if test "${enable_apcups+set}" = set; then
   enableval=$enable_apcups;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_apcups='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_apcups" = "xno"
-then
-	collectd_apcups=0
-else
-	if test "x$enable_apcups" = "xyes"
-	then
-		collectd_apcups=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-apcups or --disable-apcups; enabling apcups." >&5
-echo "$as_me: please specify either --enable-apcups or --disable-apcups; enabling apcups." >&6;}
-		collectd_apcups=1
-		enable_apcups='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_APCUPS $collectd_apcups
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_APCUPS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_apcups" = "xyes"; then
-  BUILD_MODULE_APCUPS_TRUE=
-  BUILD_MODULE_APCUPS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_APCUPS_TRUE=
+  BUILD_PLUGIN_APCUPS_FALSE='#'
 else
-  BUILD_MODULE_APCUPS_TRUE='#'
-  BUILD_MODULE_APCUPS_FALSE=
+  BUILD_PLUGIN_APCUPS_TRUE='#'
+  BUILD_PLUGIN_APCUPS_FALSE=
 fi
 
+    enable_apcups="$enable_plugin"
 
-																	# Check whether --enable-apple_sensors was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-apple_sensors was given.
 if test "${enable_apple_sensors+set}" = set; then
   enableval=$enable_apple_sensors;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_apple_sensors='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_apple_sensors" = "xno"
-then
-	collectd_apple_sensors=0
-else
-	if test "x$enable_apple_sensors" = "xyes"
-	then
-		collectd_apple_sensors=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-apple_sensors or --disable-apple_sensors; enabling apple_sensors." >&5
-echo "$as_me: please specify either --enable-apple_sensors or --disable-apple_sensors; enabling apple_sensors." >&6;}
-		collectd_apple_sensors=1
-		enable_apple_sensors='yes'
-	fi
+
+     if test "x$with_libiokit" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_APPLE_SENSORS $collectd_apple_sensors
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_APPLE_SENSORS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_apple_sensors" = "xyes"; then
-  BUILD_MODULE_APPLE_SENSORS_TRUE=
-  BUILD_MODULE_APPLE_SENSORS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_APPLE_SENSORS_TRUE=
+  BUILD_PLUGIN_APPLE_SENSORS_FALSE='#'
 else
-  BUILD_MODULE_APPLE_SENSORS_TRUE='#'
-  BUILD_MODULE_APPLE_SENSORS_FALSE=
+  BUILD_PLUGIN_APPLE_SENSORS_TRUE='#'
+  BUILD_PLUGIN_APPLE_SENSORS_FALSE=
 fi
 
+    enable_apple_sensors="$enable_plugin"
+
 
-																	# Check whether --enable-battery was given.
+
+    enable_plugin="no"
+    # Check whether --enable-battery was given.
 if test "${enable_battery+set}" = set; then
   enableval=$enable_battery;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_battery='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_battery" = "xno"
-then
-	collectd_battery=0
-else
-	if test "x$enable_battery" = "xyes"
-	then
-		collectd_battery=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-battery or --disable-battery; enabling battery." >&5
-echo "$as_me: please specify either --enable-battery or --disable-battery; enabling battery." >&6;}
-		collectd_battery=1
-		enable_battery='yes'
-	fi
+
+     if test "x$plugin_battery" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_BATTERY $collectd_battery
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_BATTERY 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_battery" = "xyes"; then
-  BUILD_MODULE_BATTERY_TRUE=
-  BUILD_MODULE_BATTERY_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_BATTERY_TRUE=
+  BUILD_PLUGIN_BATTERY_FALSE='#'
 else
-  BUILD_MODULE_BATTERY_TRUE='#'
-  BUILD_MODULE_BATTERY_FALSE=
+  BUILD_PLUGIN_BATTERY_TRUE='#'
+  BUILD_PLUGIN_BATTERY_FALSE=
 fi
 
+    enable_battery="$enable_plugin"
+
+
 
-																	# Check whether --enable-cpu was given.
+    enable_plugin="no"
+    # Check whether --enable-cpu was given.
 if test "${enable_cpu+set}" = set; then
   enableval=$enable_cpu;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_cpu='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_cpu" = "xno"
-then
-	collectd_cpu=0
-else
-	if test "x$enable_cpu" = "xyes"
-	then
-		collectd_cpu=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-cpu or --disable-cpu; enabling cpu." >&5
-echo "$as_me: please specify either --enable-cpu or --disable-cpu; enabling cpu." >&6;}
-		collectd_cpu=1
-		enable_cpu='yes'
-	fi
+
+     if test "x$plugin_cpu" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_CPU $collectd_cpu
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_CPU 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_cpu" = "xyes"; then
-  BUILD_MODULE_CPU_TRUE=
-  BUILD_MODULE_CPU_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_CPU_TRUE=
+  BUILD_PLUGIN_CPU_FALSE='#'
 else
-  BUILD_MODULE_CPU_TRUE='#'
-  BUILD_MODULE_CPU_FALSE=
+  BUILD_PLUGIN_CPU_TRUE='#'
+  BUILD_PLUGIN_CPU_FALSE=
 fi
 
+    enable_cpu="$enable_plugin"
+
 
-																	# Check whether --enable-cpufreq was given.
+
+    enable_plugin="no"
+    # Check whether --enable-cpufreq was given.
 if test "${enable_cpufreq+set}" = set; then
   enableval=$enable_cpufreq;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_cpufreq='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_cpufreq" = "xno"
-then
-	collectd_cpufreq=0
-else
-	if test "x$enable_cpufreq" = "xyes"
-	then
-		collectd_cpufreq=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-cpufreq or --disable-cpufreq; enabling cpufreq." >&5
-echo "$as_me: please specify either --enable-cpufreq or --disable-cpufreq; enabling cpufreq." >&6;}
-		collectd_cpufreq=1
-		enable_cpufreq='yes'
-	fi
+
+     if test "x$plugin_cpufreq" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_CPUFREQ $collectd_cpufreq
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_CPUFREQ 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_cpufreq" = "xyes"; then
-  BUILD_MODULE_CPUFREQ_TRUE=
-  BUILD_MODULE_CPUFREQ_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_CPUFREQ_TRUE=
+  BUILD_PLUGIN_CPUFREQ_FALSE='#'
 else
-  BUILD_MODULE_CPUFREQ_TRUE='#'
-  BUILD_MODULE_CPUFREQ_FALSE=
+  BUILD_PLUGIN_CPUFREQ_TRUE='#'
+  BUILD_PLUGIN_CPUFREQ_FALSE=
 fi
 
+    enable_cpufreq="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-csv was given.
+if test "${enable_csv+set}" = set; then
+  enableval=$enable_csv;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-disk was given.
-if test "${enable_disk+set}" = set; then
-  enableval=$enable_disk;
-else
-  enable_disk='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_disk" = "xno"
-then
-	collectd_disk=0
 else
-	if test "x$enable_disk" = "xyes"
-	then
-		collectd_disk=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-disk or --disable-disk; enabling disk." >&5
-echo "$as_me: please specify either --enable-disk or --disable-disk; enabling disk." >&6;}
-		collectd_disk=1
-		enable_disk='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_DISK $collectd_disk
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_CSV 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_disk" = "xyes"; then
-  BUILD_MODULE_DISK_TRUE=
-  BUILD_MODULE_DISK_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_CSV_TRUE=
+  BUILD_PLUGIN_CSV_FALSE='#'
 else
-  BUILD_MODULE_DISK_TRUE='#'
-  BUILD_MODULE_DISK_FALSE=
+  BUILD_PLUGIN_CSV_TRUE='#'
+  BUILD_PLUGIN_CSV_FALSE=
 fi
 
+    enable_csv="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-df was given.
+if test "${enable_df+set}" = set; then
+  enableval=$enable_df;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-csv was given.
-if test "${enable_csv+set}" = set; then
-  enableval=$enable_csv;
-else
-  enable_csv='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_csv" = "xno"
-then
-	collectd_csv=0
 else
-	if test "x$enable_csv" = "xyes"
-	then
-		collectd_csv=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-csv or --disable-csv; enabling csv." >&5
-echo "$as_me: please specify either --enable-csv or --disable-csv; enabling csv." >&6;}
-		collectd_csv=1
-		enable_csv='yes'
-	fi
+
+     if test "x$plugin_df" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_CSV $collectd_csv
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_DF 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_csv" = "xyes"; then
-  BUILD_MODULE_CSV_TRUE=
-  BUILD_MODULE_CSV_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_DF_TRUE=
+  BUILD_PLUGIN_DF_FALSE='#'
 else
-  BUILD_MODULE_CSV_TRUE='#'
-  BUILD_MODULE_CSV_FALSE=
+  BUILD_PLUGIN_DF_TRUE='#'
+  BUILD_PLUGIN_DF_FALSE=
 fi
 
+    enable_df="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-disk was given.
+if test "${enable_disk+set}" = set; then
+  enableval=$enable_disk;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-df was given.
-if test "${enable_df+set}" = set; then
-  enableval=$enable_df;
-else
-  enable_df='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_df" = "xno"
-then
-	collectd_df=0
 else
-	if test "x$enable_df" = "xyes"
-	then
-		collectd_df=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-df or --disable-df; enabling df." >&5
-echo "$as_me: please specify either --enable-df or --disable-df; enabling df." >&6;}
-		collectd_df=1
-		enable_df='yes'
-	fi
+
+     if test "x$plugin_disk" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_DF $collectd_df
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_DISK 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_df" = "xyes"; then
-  BUILD_MODULE_DF_TRUE=
-  BUILD_MODULE_DF_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_DISK_TRUE=
+  BUILD_PLUGIN_DISK_FALSE='#'
 else
-  BUILD_MODULE_DF_TRUE='#'
-  BUILD_MODULE_DF_FALSE=
+  BUILD_PLUGIN_DISK_TRUE='#'
+  BUILD_PLUGIN_DISK_FALSE=
 fi
 
+    enable_disk="$enable_plugin"
+
 
-																	# Check whether --enable-dns was given.
+
+    enable_plugin="no"
+    # Check whether --enable-dns was given.
 if test "${enable_dns+set}" = set; then
   enableval=$enable_dns;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_dns='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_dns" = "xno"
-then
-	collectd_dns=0
-else
-	if test "x$enable_dns" = "xyes"
-	then
-		collectd_dns=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-dns or --disable-dns; enabling dns." >&5
-echo "$as_me: please specify either --enable-dns or --disable-dns; enabling dns." >&6;}
-		collectd_dns=1
-		enable_dns='yes'
-	fi
+
+     if test "x$with_libpcap" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_DNS $collectd_dns
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_DNS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_dns" = "xyes"; then
-  BUILD_MODULE_DNS_TRUE=
-  BUILD_MODULE_DNS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_DNS_TRUE=
+  BUILD_PLUGIN_DNS_FALSE='#'
 else
-  BUILD_MODULE_DNS_TRUE='#'
-  BUILD_MODULE_DNS_FALSE=
+  BUILD_PLUGIN_DNS_TRUE='#'
+  BUILD_PLUGIN_DNS_FALSE=
 fi
 
+    enable_dns="$enable_plugin"
 
-																	# Check whether --enable-email was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-email was given.
 if test "${enable_email+set}" = set; then
   enableval=$enable_email;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_email='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_email" = "xno"
-then
-	collectd_email=0
-else
-	if test "x$enable_email" = "xyes"
-	then
-		collectd_email=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-email or --disable-email; enabling email." >&5
-echo "$as_me: please specify either --enable-email or --disable-email; enabling email." >&6;}
-		collectd_email=1
-		enable_email='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_EMAIL $collectd_email
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_EMAIL 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_email" = "xyes"; then
-  BUILD_MODULE_EMAIL_TRUE=
-  BUILD_MODULE_EMAIL_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_EMAIL_TRUE=
+  BUILD_PLUGIN_EMAIL_FALSE='#'
 else
-  BUILD_MODULE_EMAIL_TRUE='#'
-  BUILD_MODULE_EMAIL_FALSE=
+  BUILD_PLUGIN_EMAIL_TRUE='#'
+  BUILD_PLUGIN_EMAIL_FALSE=
 fi
 
+    enable_email="$enable_plugin"
+
 
-																	# Check whether --enable-entropy was given.
+
+    enable_plugin="no"
+    # Check whether --enable-entropy was given.
 if test "${enable_entropy+set}" = set; then
   enableval=$enable_entropy;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_entropy='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_entropy" = "xno"
-then
-	collectd_entropy=0
-else
-	if test "x$enable_entropy" = "xyes"
-	then
-		collectd_entropy=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-entropy or --disable-entropy; enabling entropy." >&5
-echo "$as_me: please specify either --enable-entropy or --disable-entropy; enabling entropy." >&6;}
-		collectd_entropy=1
-		enable_entropy='yes'
-	fi
+
+     if test "x$plugin_entropy" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_ENTROPY $collectd_entropy
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_ENTROPY 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_entropy" = "xyes"; then
-  BUILD_MODULE_ENTROPY_TRUE=
-  BUILD_MODULE_ENTROPY_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_ENTROPY_TRUE=
+  BUILD_PLUGIN_ENTROPY_FALSE='#'
 else
-  BUILD_MODULE_ENTROPY_TRUE='#'
-  BUILD_MODULE_ENTROPY_FALSE=
+  BUILD_PLUGIN_ENTROPY_TRUE='#'
+  BUILD_PLUGIN_ENTROPY_FALSE=
 fi
 
+    enable_entropy="$enable_plugin"
+
+
 
-																	# Check whether --enable-exec was given.
+    enable_plugin="no"
+    # Check whether --enable-exec was given.
 if test "${enable_exec+set}" = set; then
   enableval=$enable_exec;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_exec='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_exec" = "xno"
-then
-	collectd_exec=0
-else
-	if test "x$enable_exec" = "xyes"
-	then
-		collectd_exec=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-exec or --disable-exec; enabling exec." >&5
-echo "$as_me: please specify either --enable-exec or --disable-exec; enabling exec." >&6;}
-		collectd_exec=1
-		enable_exec='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_EXEC $collectd_exec
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_EXEC 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_exec" = "xyes"; then
-  BUILD_MODULE_EXEC_TRUE=
-  BUILD_MODULE_EXEC_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_EXEC_TRUE=
+  BUILD_PLUGIN_EXEC_FALSE='#'
 else
-  BUILD_MODULE_EXEC_TRUE='#'
-  BUILD_MODULE_EXEC_FALSE=
+  BUILD_PLUGIN_EXEC_TRUE='#'
+  BUILD_PLUGIN_EXEC_FALSE=
 fi
 
+    enable_exec="$enable_plugin"
+
 
-																	# Check whether --enable-hddtemp was given.
+
+    enable_plugin="no"
+    # Check whether --enable-hddtemp was given.
 if test "${enable_hddtemp+set}" = set; then
   enableval=$enable_hddtemp;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_hddtemp='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_hddtemp" = "xno"
-then
-	collectd_hddtemp=0
-else
-	if test "x$enable_hddtemp" = "xyes"
-	then
-		collectd_hddtemp=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-hddtemp or --disable-hddtemp; enabling hddtemp." >&5
-echo "$as_me: please specify either --enable-hddtemp or --disable-hddtemp; enabling hddtemp." >&6;}
-		collectd_hddtemp=1
-		enable_hddtemp='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_HDDTEMP $collectd_hddtemp
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_HDDTEMP 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_hddtemp" = "xyes"; then
-  BUILD_MODULE_HDDTEMP_TRUE=
-  BUILD_MODULE_HDDTEMP_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_HDDTEMP_TRUE=
+  BUILD_PLUGIN_HDDTEMP_FALSE='#'
 else
-  BUILD_MODULE_HDDTEMP_TRUE='#'
-  BUILD_MODULE_HDDTEMP_FALSE=
+  BUILD_PLUGIN_HDDTEMP_TRUE='#'
+  BUILD_PLUGIN_HDDTEMP_FALSE=
 fi
 
+    enable_hddtemp="$enable_plugin"
 
-																	# Check whether --enable-interface was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-interface was given.
 if test "${enable_interface+set}" = set; then
   enableval=$enable_interface;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_interface='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_interface" = "xno"
-then
-	collectd_interface=0
-else
-	if test "x$enable_interface" = "xyes"
-	then
-		collectd_interface=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-interface or --disable-interface; enabling interface." >&5
-echo "$as_me: please specify either --enable-interface or --disable-interface; enabling interface." >&6;}
-		collectd_interface=1
-		enable_interface='yes'
-	fi
+
+     if test "x$plugin_interface" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_INTERFACE $collectd_interface
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_INTERFACE 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_interface" = "xyes"; then
-  BUILD_MODULE_INTERFACE_TRUE=
-  BUILD_MODULE_INTERFACE_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_INTERFACE_TRUE=
+  BUILD_PLUGIN_INTERFACE_FALSE='#'
 else
-  BUILD_MODULE_INTERFACE_TRUE='#'
-  BUILD_MODULE_INTERFACE_FALSE=
+  BUILD_PLUGIN_INTERFACE_TRUE='#'
+  BUILD_PLUGIN_INTERFACE_FALSE=
 fi
 
+    enable_interface="$enable_plugin"
+
 
-																	# Check whether --enable-iptables was given.
+
+    enable_plugin="no"
+    # Check whether --enable-iptables was given.
 if test "${enable_iptables+set}" = set; then
   enableval=$enable_iptables;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_iptables='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_iptables" = "xno"
-then
-	collectd_iptables=0
-else
-	if test "x$enable_iptables" = "xyes"
-	then
-		collectd_iptables=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-iptables or --disable-iptables; enabling iptables." >&5
-echo "$as_me: please specify either --enable-iptables or --disable-iptables; enabling iptables." >&6;}
-		collectd_iptables=1
-		enable_iptables='yes'
-	fi
+
+     if test "x$with_libiptc" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_IPTABLES $collectd_iptables
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_IPTABLES 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_iptables" = "xyes"; then
-  BUILD_MODULE_IPTABLES_TRUE=
-  BUILD_MODULE_IPTABLES_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_IPTABLES_TRUE=
+  BUILD_PLUGIN_IPTABLES_FALSE='#'
 else
-  BUILD_MODULE_IPTABLES_TRUE='#'
-  BUILD_MODULE_IPTABLES_FALSE=
+  BUILD_PLUGIN_IPTABLES_TRUE='#'
+  BUILD_PLUGIN_IPTABLES_FALSE=
 fi
 
+    enable_iptables="$enable_plugin"
+
+
 
-																	# Check whether --enable-irq was given.
+    enable_plugin="no"
+    # Check whether --enable-irq was given.
 if test "${enable_irq+set}" = set; then
   enableval=$enable_irq;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_irq='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_irq" = "xno"
-then
-	collectd_irq=0
-else
-	if test "x$enable_irq" = "xyes"
-	then
-		collectd_irq=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-irq or --disable-irq; enabling irq." >&5
-echo "$as_me: please specify either --enable-irq or --disable-irq; enabling irq." >&6;}
-		collectd_irq=1
-		enable_irq='yes'
-	fi
+
+     if test "x$plugin_irq" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_IRQ $collectd_irq
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_IRQ 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_irq" = "xyes"; then
-  BUILD_MODULE_IRQ_TRUE=
-  BUILD_MODULE_IRQ_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_IRQ_TRUE=
+  BUILD_PLUGIN_IRQ_FALSE='#'
 else
-  BUILD_MODULE_IRQ_TRUE='#'
-  BUILD_MODULE_IRQ_FALSE=
+  BUILD_PLUGIN_IRQ_TRUE='#'
+  BUILD_PLUGIN_IRQ_FALSE=
 fi
 
+    enable_irq="$enable_plugin"
+
 
-																	# Check whether --enable-load was given.
+
+    enable_plugin="no"
+    # Check whether --enable-load was given.
 if test "${enable_load+set}" = set; then
   enableval=$enable_load;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_load='yes'
+
+     if test "x$plugin_load" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
-# AC_ARG_ENABLE
-if test "x$enable_load" = "xno"
-then
-	collectd_load=0
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_LOAD 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_LOAD_TRUE=
+  BUILD_PLUGIN_LOAD_FALSE='#'
 else
-	if test "x$enable_load" = "xyes"
-	then
-		collectd_load=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-load or --disable-load; enabling load." >&5
-echo "$as_me: please specify either --enable-load or --disable-load; enabling load." >&6;}
-		collectd_load=1
-		enable_load='yes'
-	fi
+  BUILD_PLUGIN_LOAD_TRUE='#'
+  BUILD_PLUGIN_LOAD_FALSE=
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_LOAD $collectd_load
+    enable_load="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-logfile was given.
+if test "${enable_logfile+set}" = set; then
+  enableval=$enable_logfile;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_LOGFILE 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_load" = "xyes"; then
-  BUILD_MODULE_LOAD_TRUE=
-  BUILD_MODULE_LOAD_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_LOGFILE_TRUE=
+  BUILD_PLUGIN_LOGFILE_FALSE='#'
 else
-  BUILD_MODULE_LOAD_TRUE='#'
-  BUILD_MODULE_LOAD_FALSE=
+  BUILD_PLUGIN_LOGFILE_TRUE='#'
+  BUILD_PLUGIN_LOGFILE_FALSE=
 fi
 
+    enable_logfile="$enable_plugin"
+
+
 
-																	# Check whether --enable-mbmon was given.
+    enable_plugin="no"
+    # Check whether --enable-mbmon was given.
 if test "${enable_mbmon+set}" = set; then
   enableval=$enable_mbmon;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_MBMON 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_MBMON_TRUE=
+  BUILD_PLUGIN_MBMON_FALSE='#'
 else
-  enable_mbmon='yes'
+  BUILD_PLUGIN_MBMON_TRUE='#'
+  BUILD_PLUGIN_MBMON_FALSE=
 fi
-# AC_ARG_ENABLE
-if test "x$enable_mbmon" = "xno"
-then
-	collectd_mbmon=0
+
+    enable_mbmon="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-memory was given.
+if test "${enable_memory+set}" = set; then
+  enableval=$enable_memory;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-	if test "x$enable_mbmon" = "xyes"
-	then
-		collectd_mbmon=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-mbmon or --disable-mbmon; enabling mbmon." >&5
-echo "$as_me: please specify either --enable-mbmon or --disable-mbmon; enabling mbmon." >&6;}
-		collectd_mbmon=1
-		enable_mbmon='yes'
-	fi
+
+     if test "x$plugin_memory" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_MBMON $collectd_mbmon
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_MEMORY 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_mbmon" = "xyes"; then
-  BUILD_MODULE_MBMON_TRUE=
-  BUILD_MODULE_MBMON_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_MEMORY_TRUE=
+  BUILD_PLUGIN_MEMORY_FALSE='#'
 else
-  BUILD_MODULE_MBMON_TRUE='#'
-  BUILD_MODULE_MBMON_FALSE=
+  BUILD_PLUGIN_MEMORY_TRUE='#'
+  BUILD_PLUGIN_MEMORY_FALSE=
 fi
 
+    enable_memory="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-multimeter was given.
+if test "${enable_multimeter+set}" = set; then
+  enableval=$enable_multimeter;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-memory was given.
-if test "${enable_memory+set}" = set; then
-  enableval=$enable_memory;
-else
-  enable_memory='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_memory" = "xno"
-then
-	collectd_memory=0
 else
-	if test "x$enable_memory" = "xyes"
-	then
-		collectd_memory=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-memory or --disable-memory; enabling memory." >&5
-echo "$as_me: please specify either --enable-memory or --disable-memory; enabling memory." >&6;}
-		collectd_memory=1
-		enable_memory='yes'
-	fi
+
+     if test "x$plugin_multimeter" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_MEMORY $collectd_memory
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_MULTIMETER 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_memory" = "xyes"; then
-  BUILD_MODULE_MEMORY_TRUE=
-  BUILD_MODULE_MEMORY_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_MULTIMETER_TRUE=
+  BUILD_PLUGIN_MULTIMETER_FALSE='#'
 else
-  BUILD_MODULE_MEMORY_TRUE='#'
-  BUILD_MODULE_MEMORY_FALSE=
+  BUILD_PLUGIN_MULTIMETER_TRUE='#'
+  BUILD_PLUGIN_MULTIMETER_FALSE=
 fi
 
+    enable_multimeter="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-mysql was given.
+if test "${enable_mysql+set}" = set; then
+  enableval=$enable_mysql;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-multimeter was given.
-if test "${enable_multimeter+set}" = set; then
-  enableval=$enable_multimeter;
-else
-  enable_multimeter='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_multimeter" = "xno"
-then
-	collectd_multimeter=0
 else
-	if test "x$enable_multimeter" = "xyes"
-	then
-		collectd_multimeter=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-multimeter or --disable-multimeter; enabling multimeter." >&5
-echo "$as_me: please specify either --enable-multimeter or --disable-multimeter; enabling multimeter." >&6;}
-		collectd_multimeter=1
-		enable_multimeter='yes'
-	fi
+
+     if test "x$with_libmysql" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_MULTIMETER $collectd_multimeter
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_MYSQL 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_multimeter" = "xyes"; then
-  BUILD_MODULE_MULTIMETER_TRUE=
-  BUILD_MODULE_MULTIMETER_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_MYSQL_TRUE=
+  BUILD_PLUGIN_MYSQL_FALSE='#'
 else
-  BUILD_MODULE_MULTIMETER_TRUE='#'
-  BUILD_MODULE_MULTIMETER_FALSE=
+  BUILD_PLUGIN_MYSQL_TRUE='#'
+  BUILD_PLUGIN_MYSQL_FALSE=
 fi
 
+    enable_mysql="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-netlink was given.
+if test "${enable_netlink+set}" = set; then
+  enableval=$enable_netlink;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-mysql was given.
-if test "${enable_mysql+set}" = set; then
-  enableval=$enable_mysql;
-else
-  enable_mysql='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_mysql" = "xno"
-then
-	collectd_mysql=0
 else
-	if test "x$enable_mysql" = "xyes"
-	then
-		collectd_mysql=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-mysql or --disable-mysql; enabling mysql." >&5
-echo "$as_me: please specify either --enable-mysql or --disable-mysql; enabling mysql." >&6;}
-		collectd_mysql=1
-		enable_mysql='yes'
-	fi
+
+     if test "x$with_libnetlink" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_MYSQL $collectd_mysql
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_NETLINK 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_mysql" = "xyes"; then
-  BUILD_MODULE_MYSQL_TRUE=
-  BUILD_MODULE_MYSQL_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_NETLINK_TRUE=
+  BUILD_PLUGIN_NETLINK_FALSE='#'
 else
-  BUILD_MODULE_MYSQL_TRUE='#'
-  BUILD_MODULE_MYSQL_FALSE=
+  BUILD_PLUGIN_NETLINK_TRUE='#'
+  BUILD_PLUGIN_NETLINK_FALSE=
 fi
 
+    enable_netlink="$enable_plugin"
+
+
 
-																	# Check whether --enable-network was given.
+    enable_plugin="no"
+    # Check whether --enable-network was given.
 if test "${enable_network+set}" = set; then
   enableval=$enable_network;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_network='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_network" = "xno"
-then
-	collectd_network=0
-else
-	if test "x$enable_network" = "xyes"
-	then
-		collectd_network=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-network or --disable-network; enabling network." >&5
-echo "$as_me: please specify either --enable-network or --disable-network; enabling network." >&6;}
-		collectd_network=1
-		enable_network='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_NETWORK $collectd_network
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_NETWORK 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_network" = "xyes"; then
-  BUILD_MODULE_NETWORK_TRUE=
-  BUILD_MODULE_NETWORK_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_NETWORK_TRUE=
+  BUILD_PLUGIN_NETWORK_FALSE='#'
 else
-  BUILD_MODULE_NETWORK_TRUE='#'
-  BUILD_MODULE_NETWORK_FALSE=
+  BUILD_PLUGIN_NETWORK_TRUE='#'
+  BUILD_PLUGIN_NETWORK_FALSE=
 fi
 
+    enable_network="$enable_plugin"
+
 
-																	# Check whether --enable-nfs was given.
+
+    enable_plugin="no"
+    # Check whether --enable-nfs was given.
 if test "${enable_nfs+set}" = set; then
   enableval=$enable_nfs;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_nfs='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_nfs" = "xno"
-then
-	collectd_nfs=0
-else
-	if test "x$enable_nfs" = "xyes"
-	then
-		collectd_nfs=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-nfs or --disable-nfs; enabling nfs." >&5
-echo "$as_me: please specify either --enable-nfs or --disable-nfs; enabling nfs." >&6;}
-		collectd_nfs=1
-		enable_nfs='yes'
-	fi
+
+     if test "x$plugin_nfs" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_NFS $collectd_nfs
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_NFS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_nfs" = "xyes"; then
-  BUILD_MODULE_NFS_TRUE=
-  BUILD_MODULE_NFS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_NFS_TRUE=
+  BUILD_PLUGIN_NFS_FALSE='#'
 else
-  BUILD_MODULE_NFS_TRUE='#'
-  BUILD_MODULE_NFS_FALSE=
+  BUILD_PLUGIN_NFS_TRUE='#'
+  BUILD_PLUGIN_NFS_FALSE=
 fi
 
+    enable_nfs="$enable_plugin"
 
-																	# Check whether --enable-ntpd was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-ntpd was given.
 if test "${enable_ntpd+set}" = set; then
   enableval=$enable_ntpd;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_ntpd='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_ntpd" = "xno"
-then
-	collectd_ntpd=0
-else
-	if test "x$enable_ntpd" = "xyes"
-	then
-		collectd_ntpd=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-ntpd or --disable-ntpd; enabling ntpd." >&5
-echo "$as_me: please specify either --enable-ntpd or --disable-ntpd; enabling ntpd." >&6;}
-		collectd_ntpd=1
-		enable_ntpd='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_NTPD $collectd_ntpd
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_NTPD 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_ntpd" = "xyes"; then
-  BUILD_MODULE_NTPD_TRUE=
-  BUILD_MODULE_NTPD_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_NTPD_TRUE=
+  BUILD_PLUGIN_NTPD_FALSE='#'
 else
-  BUILD_MODULE_NTPD_TRUE='#'
-  BUILD_MODULE_NTPD_FALSE=
+  BUILD_PLUGIN_NTPD_TRUE='#'
+  BUILD_PLUGIN_NTPD_FALSE=
 fi
 
+    enable_ntpd="$enable_plugin"
+
 
-																	# Check whether --enable-nut was given.
+
+    enable_plugin="no"
+    # Check whether --enable-nut was given.
 if test "${enable_nut+set}" = set; then
   enableval=$enable_nut;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_nut='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_nut" = "xno"
-then
-	collectd_nut=0
-else
-	if test "x$enable_nut" = "xyes"
-	then
-		collectd_nut=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-nut or --disable-nut; enabling nut." >&5
-echo "$as_me: please specify either --enable-nut or --disable-nut; enabling nut." >&6;}
-		collectd_nut=1
-		enable_nut='yes'
-	fi
+
+     if test "x$with_libupsclient" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_NUT $collectd_nut
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_NUT 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_nut" = "xyes"; then
-  BUILD_MODULE_NUT_TRUE=
-  BUILD_MODULE_NUT_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_NUT_TRUE=
+  BUILD_PLUGIN_NUT_FALSE='#'
 else
-  BUILD_MODULE_NUT_TRUE='#'
-  BUILD_MODULE_NUT_FALSE=
+  BUILD_PLUGIN_NUT_TRUE='#'
+  BUILD_PLUGIN_NUT_FALSE=
 fi
 
+    enable_nut="$enable_plugin"
+
+
 
-																	# Check whether --enable-perl was given.
+    enable_plugin="no"
+    # Check whether --enable-perl was given.
 if test "${enable_perl+set}" = set; then
   enableval=$enable_perl;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_perl='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_perl" = "xno"
-then
-	collectd_perl=0
-else
-	if test "x$enable_perl" = "xyes"
-	then
-		collectd_perl=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-perl or --disable-perl; enabling perl." >&5
-echo "$as_me: please specify either --enable-perl or --disable-perl; enabling perl." >&6;}
-		collectd_perl=1
-		enable_perl='yes'
-	fi
+
+     if test "x$with_libperl" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_PERL $collectd_perl
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_PERL 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_perl" = "xyes"; then
-  BUILD_MODULE_PERL_TRUE=
-  BUILD_MODULE_PERL_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_PERL_TRUE=
+  BUILD_PLUGIN_PERL_FALSE='#'
 else
-  BUILD_MODULE_PERL_TRUE='#'
-  BUILD_MODULE_PERL_FALSE=
+  BUILD_PLUGIN_PERL_TRUE='#'
+  BUILD_PLUGIN_PERL_FALSE=
 fi
 
+    enable_perl="$enable_plugin"
+
 
-																	# Check whether --enable-ping was given.
+
+    enable_plugin="no"
+    # Check whether --enable-ping was given.
 if test "${enable_ping+set}" = set; then
   enableval=$enable_ping;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_ping='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_ping" = "xno"
-then
-	collectd_ping=0
-else
-	if test "x$enable_ping" = "xyes"
-	then
-		collectd_ping=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-ping or --disable-ping; enabling ping." >&5
-echo "$as_me: please specify either --enable-ping or --disable-ping; enabling ping." >&6;}
-		collectd_ping=1
-		enable_ping='yes'
-	fi
+
+     if test "x$with_liboping" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_PING $collectd_ping
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_PING 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_ping" = "xyes"; then
-  BUILD_MODULE_PING_TRUE=
-  BUILD_MODULE_PING_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_PING_TRUE=
+  BUILD_PLUGIN_PING_FALSE='#'
 else
-  BUILD_MODULE_PING_TRUE='#'
-  BUILD_MODULE_PING_FALSE=
+  BUILD_PLUGIN_PING_TRUE='#'
+  BUILD_PLUGIN_PING_FALSE=
 fi
 
+    enable_ping="$enable_plugin"
 
-																	# Check whether --enable-processes was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-processes was given.
 if test "${enable_processes+set}" = set; then
   enableval=$enable_processes;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_processes='yes'
+
+     if test "x$plugin_processes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
-# AC_ARG_ENABLE
-if test "x$enable_processes" = "xno"
-then
-	collectd_processes=0
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_PROCESSES 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_PROCESSES_TRUE=
+  BUILD_PLUGIN_PROCESSES_FALSE='#'
 else
-	if test "x$enable_processes" = "xyes"
-	then
-		collectd_processes=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-processes or --disable-processes; enabling processes." >&5
-echo "$as_me: please specify either --enable-processes or --disable-processes; enabling processes." >&6;}
-		collectd_processes=1
-		enable_processes='yes'
-	fi
+  BUILD_PLUGIN_PROCESSES_TRUE='#'
+  BUILD_PLUGIN_PROCESSES_FALSE=
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_PROCESSES $collectd_processes
+    enable_processes="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-rrdtool was given.
+if test "${enable_rrdtool+set}" = set; then
+  enableval=$enable_rrdtool;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$with_rrdtool" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_RRDTOOL 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_processes" = "xyes"; then
-  BUILD_MODULE_PROCESSES_TRUE=
-  BUILD_MODULE_PROCESSES_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_RRDTOOL_TRUE=
+  BUILD_PLUGIN_RRDTOOL_FALSE='#'
 else
-  BUILD_MODULE_PROCESSES_TRUE='#'
-  BUILD_MODULE_PROCESSES_FALSE=
+  BUILD_PLUGIN_RRDTOOL_TRUE='#'
+  BUILD_PLUGIN_RRDTOOL_FALSE=
 fi
 
+    enable_rrdtool="$enable_plugin"
+
 
-																	# Check whether --enable-sensors was given.
+
+    enable_plugin="no"
+    # Check whether --enable-sensors was given.
 if test "${enable_sensors+set}" = set; then
   enableval=$enable_sensors;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_sensors='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_sensors" = "xno"
-then
-	collectd_sensors=0
-else
-	if test "x$enable_sensors" = "xyes"
-	then
-		collectd_sensors=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-sensors or --disable-sensors; enabling sensors." >&5
-echo "$as_me: please specify either --enable-sensors or --disable-sensors; enabling sensors." >&6;}
-		collectd_sensors=1
-		enable_sensors='yes'
-	fi
+
+     if test "x$with_lm_sensors" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_SENSORS $collectd_sensors
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_SENSORS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_sensors" = "xyes"; then
-  BUILD_MODULE_SENSORS_TRUE=
-  BUILD_MODULE_SENSORS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_SENSORS_TRUE=
+  BUILD_PLUGIN_SENSORS_FALSE='#'
 else
-  BUILD_MODULE_SENSORS_TRUE='#'
-  BUILD_MODULE_SENSORS_FALSE=
+  BUILD_PLUGIN_SENSORS_TRUE='#'
+  BUILD_PLUGIN_SENSORS_FALSE=
 fi
 
+    enable_sensors="$enable_plugin"
+
+
 
-																	# Check whether --enable-serial was given.
+    enable_plugin="no"
+    # Check whether --enable-serial was given.
 if test "${enable_serial+set}" = set; then
   enableval=$enable_serial;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_serial='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_serial" = "xno"
-then
-	collectd_serial=0
-else
-	if test "x$enable_serial" = "xyes"
-	then
-		collectd_serial=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-serial or --disable-serial; enabling serial." >&5
-echo "$as_me: please specify either --enable-serial or --disable-serial; enabling serial." >&6;}
-		collectd_serial=1
-		enable_serial='yes'
-	fi
+
+     if test "x$plugin_serial" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_SERIAL $collectd_serial
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_SERIAL 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_serial" = "xyes"; then
-  BUILD_MODULE_SERIAL_TRUE=
-  BUILD_MODULE_SERIAL_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_SERIAL_TRUE=
+  BUILD_PLUGIN_SERIAL_FALSE='#'
 else
-  BUILD_MODULE_SERIAL_TRUE='#'
-  BUILD_MODULE_SERIAL_FALSE=
+  BUILD_PLUGIN_SERIAL_TRUE='#'
+  BUILD_PLUGIN_SERIAL_FALSE=
 fi
 
+    enable_serial="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-snmp was given.
+if test "${enable_snmp+set}" = set; then
+  enableval=$enable_snmp;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
 
-																	# Check whether --enable-logfile was given.
-if test "${enable_logfile+set}" = set; then
-  enableval=$enable_logfile;
-else
-  enable_logfile='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_logfile" = "xno"
-then
-	collectd_logfile=0
 else
-	if test "x$enable_logfile" = "xyes"
-	then
-		collectd_logfile=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-logfile or --disable-logfile; enabling logfile." >&5
-echo "$as_me: please specify either --enable-logfile or --disable-logfile; enabling logfile." >&6;}
-		collectd_logfile=1
-		enable_logfile='yes'
-	fi
+
+     if test "x$with_libnetsnmp" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_LOGFILE $collectd_logfile
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_SNMP 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_logfile" = "xyes"; then
-  BUILD_MODULE_LOGFILE_TRUE=
-  BUILD_MODULE_LOGFILE_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_SNMP_TRUE=
+  BUILD_PLUGIN_SNMP_FALSE='#'
 else
-  BUILD_MODULE_LOGFILE_TRUE='#'
-  BUILD_MODULE_LOGFILE_FALSE=
+  BUILD_PLUGIN_SNMP_TRUE='#'
+  BUILD_PLUGIN_SNMP_FALSE=
 fi
 
+    enable_snmp="$enable_plugin"
+
+
 
-																	# Check whether --enable-swap was given.
+    enable_plugin="no"
+    # Check whether --enable-swap was given.
 if test "${enable_swap+set}" = set; then
   enableval=$enable_swap;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_swap='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_swap" = "xno"
-then
-	collectd_swap=0
-else
-	if test "x$enable_swap" = "xyes"
-	then
-		collectd_swap=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-swap or --disable-swap; enabling swap." >&5
-echo "$as_me: please specify either --enable-swap or --disable-swap; enabling swap." >&6;}
-		collectd_swap=1
-		enable_swap='yes'
-	fi
+
+     if test "x$plugin_swap" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_SWAP $collectd_swap
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_SWAP 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_swap" = "xyes"; then
-  BUILD_MODULE_SWAP_TRUE=
-  BUILD_MODULE_SWAP_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_SWAP_TRUE=
+  BUILD_PLUGIN_SWAP_FALSE='#'
 else
-  BUILD_MODULE_SWAP_TRUE='#'
-  BUILD_MODULE_SWAP_FALSE=
+  BUILD_PLUGIN_SWAP_TRUE='#'
+  BUILD_PLUGIN_SWAP_FALSE=
 fi
 
+    enable_swap="$enable_plugin"
+
 
-																	# Check whether --enable-syslog was given.
+
+    enable_plugin="no"
+    # Check whether --enable-syslog was given.
 if test "${enable_syslog+set}" = set; then
   enableval=$enable_syslog;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_syslog='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_syslog" = "xno"
-then
-	collectd_syslog=0
-else
-	if test "x$enable_syslog" = "xyes"
-	then
-		collectd_syslog=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-syslog or --disable-syslog; enabling syslog." >&5
-echo "$as_me: please specify either --enable-syslog or --disable-syslog; enabling syslog." >&6;}
-		collectd_syslog=1
-		enable_syslog='yes'
-	fi
+
+     if test "x$have_syslog" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_SYSLOG $collectd_syslog
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_SYSLOG 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_syslog" = "xyes"; then
-  BUILD_MODULE_SYSLOG_TRUE=
-  BUILD_MODULE_SYSLOG_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_SYSLOG_TRUE=
+  BUILD_PLUGIN_SYSLOG_FALSE='#'
 else
-  BUILD_MODULE_SYSLOG_TRUE='#'
-  BUILD_MODULE_SYSLOG_FALSE=
+  BUILD_PLUGIN_SYSLOG_TRUE='#'
+  BUILD_PLUGIN_SYSLOG_FALSE=
 fi
 
+    enable_syslog="$enable_plugin"
 
-																	# Check whether --enable-tape was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-tape was given.
 if test "${enable_tape+set}" = set; then
   enableval=$enable_tape;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_tape='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_tape" = "xno"
-then
-	collectd_tape=0
-else
-	if test "x$enable_tape" = "xyes"
-	then
-		collectd_tape=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-tape or --disable-tape; enabling tape." >&5
-echo "$as_me: please specify either --enable-tape or --disable-tape; enabling tape." >&6;}
-		collectd_tape=1
-		enable_tape='yes'
-	fi
+
+     if test "x$plugin_tape" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_TAPE $collectd_tape
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_TAPE 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_tape" = "xyes"; then
-  BUILD_MODULE_TAPE_TRUE=
-  BUILD_MODULE_TAPE_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_TAPE_TRUE=
+  BUILD_PLUGIN_TAPE_FALSE='#'
 else
-  BUILD_MODULE_TAPE_TRUE='#'
-  BUILD_MODULE_TAPE_FALSE=
+  BUILD_PLUGIN_TAPE_TRUE='#'
+  BUILD_PLUGIN_TAPE_FALSE=
 fi
 
+    enable_tape="$enable_plugin"
+
 
-																	# Check whether --enable-unixsock was given.
+
+    enable_plugin="no"
+    # Check whether --enable-unixsock was given.
 if test "${enable_unixsock+set}" = set; then
   enableval=$enable_unixsock;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_unixsock='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_unixsock" = "xno"
-then
-	collectd_unixsock=0
-else
-	if test "x$enable_unixsock" = "xyes"
-	then
-		collectd_unixsock=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-unixsock or --disable-unixsock; enabling unixsock." >&5
-echo "$as_me: please specify either --enable-unixsock or --disable-unixsock; enabling unixsock." >&6;}
-		collectd_unixsock=1
-		enable_unixsock='yes'
-	fi
+
+     if test "xyes" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_UNIXSOCK $collectd_unixsock
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_UNIXSOCK 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_unixsock" = "xyes"; then
-  BUILD_MODULE_UNIXSOCK_TRUE=
-  BUILD_MODULE_UNIXSOCK_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_UNIXSOCK_TRUE=
+  BUILD_PLUGIN_UNIXSOCK_FALSE='#'
 else
-  BUILD_MODULE_UNIXSOCK_TRUE='#'
-  BUILD_MODULE_UNIXSOCK_FALSE=
+  BUILD_PLUGIN_UNIXSOCK_TRUE='#'
+  BUILD_PLUGIN_UNIXSOCK_FALSE=
 fi
 
+    enable_unixsock="$enable_plugin"
+
+
 
-																	# Check whether --enable-users was given.
+    enable_plugin="no"
+    # Check whether --enable-users was given.
 if test "${enable_users+set}" = set; then
   enableval=$enable_users;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_users='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_users" = "xno"
-then
-	collectd_users=0
-else
-	if test "x$enable_users" = "xyes"
-	then
-		collectd_users=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-users or --disable-users; enabling users." >&5
-echo "$as_me: please specify either --enable-users or --disable-users; enabling users." >&6;}
-		collectd_users=1
-		enable_users='yes'
-	fi
+
+     if test "x$plugin_users" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_USERS $collectd_users
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_USERS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_users" = "xyes"; then
-  BUILD_MODULE_USERS_TRUE=
-  BUILD_MODULE_USERS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_USERS_TRUE=
+  BUILD_PLUGIN_USERS_FALSE='#'
 else
-  BUILD_MODULE_USERS_TRUE='#'
-  BUILD_MODULE_USERS_FALSE=
+  BUILD_PLUGIN_USERS_TRUE='#'
+  BUILD_PLUGIN_USERS_FALSE=
 fi
 
+    enable_users="$enable_plugin"
+
 
-																	# Check whether --enable-vserver was given.
+
+    enable_plugin="no"
+    # Check whether --enable-vserver was given.
 if test "${enable_vserver+set}" = set; then
   enableval=$enable_vserver;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_vserver='yes'
-fi
-# AC_ARG_ENABLE
-if test "x$enable_vserver" = "xno"
-then
-	collectd_vserver=0
-else
-	if test "x$enable_vserver" = "xyes"
-	then
-		collectd_vserver=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-vserver or --disable-vserver; enabling vserver." >&5
-echo "$as_me: please specify either --enable-vserver or --disable-vserver; enabling vserver." >&6;}
-		collectd_vserver=1
-		enable_vserver='yes'
-	fi
+
+     if test "x$plugin_vserver" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_VSERVER $collectd_vserver
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_VSERVER 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_vserver" = "xyes"; then
-  BUILD_MODULE_VSERVER_TRUE=
-  BUILD_MODULE_VSERVER_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_VSERVER_TRUE=
+  BUILD_PLUGIN_VSERVER_FALSE='#'
 else
-  BUILD_MODULE_VSERVER_TRUE='#'
-  BUILD_MODULE_VSERVER_FALSE=
+  BUILD_PLUGIN_VSERVER_TRUE='#'
+  BUILD_PLUGIN_VSERVER_FALSE=
 fi
 
+    enable_vserver="$enable_plugin"
 
-																	# Check whether --enable-wireless was given.
+
+
+    enable_plugin="no"
+    # Check whether --enable-wireless was given.
 if test "${enable_wireless+set}" = set; then
   enableval=$enable_wireless;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 else
-  enable_wireless='yes'
+
+     if test "x$plugin_wireless" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
 fi
-# AC_ARG_ENABLE
-if test "x$enable_wireless" = "xno"
-then
-	collectd_wireless=0
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_WIRELESS 1
+_ACEOF
+
+    fi
+
+
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_WIRELESS_TRUE=
+  BUILD_PLUGIN_WIRELESS_FALSE='#'
 else
-	if test "x$enable_wireless" = "xyes"
-	then
-		collectd_wireless=1
-	else
-		{ echo "$as_me:$LINENO: please specify either --enable-wireless or --disable-wireless; enabling wireless." >&5
-echo "$as_me: please specify either --enable-wireless or --disable-wireless; enabling wireless." >&6;}
-		collectd_wireless=1
-		enable_wireless='yes'
-	fi
+  BUILD_PLUGIN_WIRELESS_TRUE='#'
+  BUILD_PLUGIN_WIRELESS_FALSE=
 fi
 
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_WIRELESS $collectd_wireless
+    enable_wireless="$enable_plugin"
+
+
+
+    enable_plugin="no"
+    # Check whether --enable-xmms was given.
+if test "${enable_xmms+set}" = set; then
+  enableval=$enable_xmms;
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+else
+
+     if test "x$with_libxmms" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+
+fi
+
+    if test "x$enable_plugin" = "xyes"
+    then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_PLUGIN_XMMS 1
 _ACEOF
 
+    fi
 
 
-if test "x$enable_wireless" = "xyes"; then
-  BUILD_MODULE_WIRELESS_TRUE=
-  BUILD_MODULE_WIRELESS_FALSE='#'
+if test "x$enable_plugin" = "xyes"; then
+  BUILD_PLUGIN_XMMS_TRUE=
+  BUILD_PLUGIN_XMMS_FALSE='#'
 else
-  BUILD_MODULE_WIRELESS_TRUE='#'
-  BUILD_MODULE_WIRELESS_FALSE=
+  BUILD_PLUGIN_XMMS_TRUE='#'
+  BUILD_PLUGIN_XMMS_FALSE=
 fi
 
+    enable_xmms="$enable_plugin"
+
+
 
 ac_config_files="$ac_config_files Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile"
 
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
@@ -44387,19 +36253,40 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBIPTC\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBIPTC\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_WITH_LIBNETSNMP_TRUE}" && test -z "${BUILD_WITH_LIBNETSNMP_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBNETSNMP\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBNETSNMP\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_WITH_LIBUPSCLIENT_TRUE}" && test -z "${BUILD_WITH_LIBUPSCLIENT_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBUPSCLIENT\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_LIBUPSCLIENT\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_WITH_LIBXMMS_TRUE}" && test -z "${BUILD_WITH_LIBXMMS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBXMMS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBXMMS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_WITH_LIBNETLINK_TRUE}" && test -z "${BUILD_WITH_LIBNETLINK_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBNETLINK\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBNETLINK\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_FEATURE_DEBUG_TRUE}" && test -z "${BUILD_FEATURE_DEBUG_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_FEATURE_DEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_FEATURE_DEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -44415,282 +36302,310 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_FEATURE_GETIFADDRS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_FEATURE_GETIFADDRS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_APACHE_TRUE}" && test -z "${BUILD_MODULE_APACHE_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_APACHE\" was never defined.
+if test -z "${BUILD_PLUGIN_APACHE_TRUE}" && test -z "${BUILD_PLUGIN_APACHE_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_APACHE\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_APACHE\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_PLUGIN_APCUPS_TRUE}" && test -z "${BUILD_PLUGIN_APCUPS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_APCUPS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_APCUPS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_PLUGIN_APPLE_SENSORS_TRUE}" && test -z "${BUILD_PLUGIN_APPLE_SENSORS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_APPLE_SENSORS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_APPLE_SENSORS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_PLUGIN_BATTERY_TRUE}" && test -z "${BUILD_PLUGIN_BATTERY_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_BATTERY\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_PLUGIN_BATTERY\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_PLUGIN_CPU_TRUE}" && test -z "${BUILD_PLUGIN_CPU_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_CPU\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_APACHE\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_CPU\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_APCUPS_TRUE}" && test -z "${BUILD_MODULE_APCUPS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_APCUPS\" was never defined.
+if test -z "${BUILD_PLUGIN_CPUFREQ_TRUE}" && test -z "${BUILD_PLUGIN_CPUFREQ_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_CPUFREQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_APCUPS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_CPUFREQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_APPLE_SENSORS_TRUE}" && test -z "${BUILD_MODULE_APPLE_SENSORS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_APPLE_SENSORS\" was never defined.
+if test -z "${BUILD_PLUGIN_CSV_TRUE}" && test -z "${BUILD_PLUGIN_CSV_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_CSV\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_APPLE_SENSORS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_CSV\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_BATTERY_TRUE}" && test -z "${BUILD_MODULE_BATTERY_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_BATTERY\" was never defined.
+if test -z "${BUILD_PLUGIN_DF_TRUE}" && test -z "${BUILD_PLUGIN_DF_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_DF\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_BATTERY\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_DF\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_CPU_TRUE}" && test -z "${BUILD_MODULE_CPU_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_CPU\" was never defined.
+if test -z "${BUILD_PLUGIN_DISK_TRUE}" && test -z "${BUILD_PLUGIN_DISK_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_DISK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_CPU\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_DISK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_CPUFREQ_TRUE}" && test -z "${BUILD_MODULE_CPUFREQ_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_CPUFREQ\" was never defined.
+if test -z "${BUILD_PLUGIN_DNS_TRUE}" && test -z "${BUILD_PLUGIN_DNS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_DNS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_CPUFREQ\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_DNS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_DISK_TRUE}" && test -z "${BUILD_MODULE_DISK_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DISK\" was never defined.
+if test -z "${BUILD_PLUGIN_EMAIL_TRUE}" && test -z "${BUILD_PLUGIN_EMAIL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_EMAIL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_DISK\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_EMAIL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_CSV_TRUE}" && test -z "${BUILD_MODULE_CSV_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_CSV\" was never defined.
+if test -z "${BUILD_PLUGIN_ENTROPY_TRUE}" && test -z "${BUILD_PLUGIN_ENTROPY_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_ENTROPY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_CSV\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_ENTROPY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_DF_TRUE}" && test -z "${BUILD_MODULE_DF_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DF\" was never defined.
+if test -z "${BUILD_PLUGIN_EXEC_TRUE}" && test -z "${BUILD_PLUGIN_EXEC_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_EXEC\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_DF\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_EXEC\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_DNS_TRUE}" && test -z "${BUILD_MODULE_DNS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DNS\" was never defined.
+if test -z "${BUILD_PLUGIN_HDDTEMP_TRUE}" && test -z "${BUILD_PLUGIN_HDDTEMP_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_HDDTEMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_DNS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_HDDTEMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_EMAIL_TRUE}" && test -z "${BUILD_MODULE_EMAIL_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_EMAIL\" was never defined.
+if test -z "${BUILD_PLUGIN_INTERFACE_TRUE}" && test -z "${BUILD_PLUGIN_INTERFACE_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_INTERFACE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_EMAIL\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_INTERFACE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_ENTROPY_TRUE}" && test -z "${BUILD_MODULE_ENTROPY_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_ENTROPY\" was never defined.
+if test -z "${BUILD_PLUGIN_IPTABLES_TRUE}" && test -z "${BUILD_PLUGIN_IPTABLES_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_ENTROPY\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_IPTABLES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_EXEC_TRUE}" && test -z "${BUILD_MODULE_EXEC_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_EXEC\" was never defined.
+if test -z "${BUILD_PLUGIN_IRQ_TRUE}" && test -z "${BUILD_PLUGIN_IRQ_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_IRQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_EXEC\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_IRQ\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_HDDTEMP_TRUE}" && test -z "${BUILD_MODULE_HDDTEMP_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_HDDTEMP\" was never defined.
+if test -z "${BUILD_PLUGIN_LOAD_TRUE}" && test -z "${BUILD_PLUGIN_LOAD_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_HDDTEMP\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_LOAD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_INTERFACE_TRUE}" && test -z "${BUILD_MODULE_INTERFACE_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_INTERFACE\" was never defined.
+if test -z "${BUILD_PLUGIN_LOGFILE_TRUE}" && test -z "${BUILD_PLUGIN_LOGFILE_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_LOGFILE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_INTERFACE\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_LOGFILE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_IPTABLES_TRUE}" && test -z "${BUILD_MODULE_IPTABLES_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_IPTABLES\" was never defined.
+if test -z "${BUILD_PLUGIN_MBMON_TRUE}" && test -z "${BUILD_PLUGIN_MBMON_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MBMON\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_IPTABLES\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_MBMON\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_IRQ_TRUE}" && test -z "${BUILD_MODULE_IRQ_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_IRQ\" was never defined.
+if test -z "${BUILD_PLUGIN_MEMORY_TRUE}" && test -z "${BUILD_PLUGIN_MEMORY_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_IRQ\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_LOAD_TRUE}" && test -z "${BUILD_MODULE_LOAD_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_LOAD\" was never defined.
+if test -z "${BUILD_PLUGIN_MULTIMETER_TRUE}" && test -z "${BUILD_PLUGIN_MULTIMETER_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MULTIMETER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_LOAD\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_MULTIMETER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_MBMON_TRUE}" && test -z "${BUILD_MODULE_MBMON_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MBMON\" was never defined.
+if test -z "${BUILD_PLUGIN_MYSQL_TRUE}" && test -z "${BUILD_PLUGIN_MYSQL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_MYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_MBMON\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_MYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_MEMORY_TRUE}" && test -z "${BUILD_MODULE_MEMORY_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MEMORY\" was never defined.
+if test -z "${BUILD_PLUGIN_NETLINK_TRUE}" && test -z "${BUILD_PLUGIN_NETLINK_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NETLINK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_MEMORY\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_NETLINK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_MULTIMETER_TRUE}" && test -z "${BUILD_MODULE_MULTIMETER_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MULTIMETER\" was never defined.
+if test -z "${BUILD_PLUGIN_NETWORK_TRUE}" && test -z "${BUILD_PLUGIN_NETWORK_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NETWORK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_MULTIMETER\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_NETWORK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_MYSQL_TRUE}" && test -z "${BUILD_MODULE_MYSQL_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MYSQL\" was never defined.
+if test -z "${BUILD_PLUGIN_NFS_TRUE}" && test -z "${BUILD_PLUGIN_NFS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NFS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_MYSQL\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_NFS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_NETWORK_TRUE}" && test -z "${BUILD_MODULE_NETWORK_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_NETWORK\" was never defined.
+if test -z "${BUILD_PLUGIN_NTPD_TRUE}" && test -z "${BUILD_PLUGIN_NTPD_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NTPD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_NETWORK\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_NTPD\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_NFS_TRUE}" && test -z "${BUILD_MODULE_NFS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_NFS\" was never defined.
+if test -z "${BUILD_PLUGIN_NUT_TRUE}" && test -z "${BUILD_PLUGIN_NUT_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_NUT\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_NFS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_NUT\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_NTPD_TRUE}" && test -z "${BUILD_MODULE_NTPD_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_NTPD\" was never defined.
+if test -z "${BUILD_PLUGIN_PERL_TRUE}" && test -z "${BUILD_PLUGIN_PERL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_PERL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_NTPD\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_PERL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_NUT_TRUE}" && test -z "${BUILD_MODULE_NUT_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_NUT\" was never defined.
+if test -z "${BUILD_PLUGIN_PING_TRUE}" && test -z "${BUILD_PLUGIN_PING_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_PING\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_NUT\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_PING\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_PERL_TRUE}" && test -z "${BUILD_MODULE_PERL_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_PERL\" was never defined.
+if test -z "${BUILD_PLUGIN_PROCESSES_TRUE}" && test -z "${BUILD_PLUGIN_PROCESSES_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_PROCESSES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_PERL\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_PROCESSES\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_PING_TRUE}" && test -z "${BUILD_MODULE_PING_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_PING\" was never defined.
+if test -z "${BUILD_PLUGIN_RRDTOOL_TRUE}" && test -z "${BUILD_PLUGIN_RRDTOOL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_RRDTOOL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_PING\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_RRDTOOL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_PROCESSES_TRUE}" && test -z "${BUILD_MODULE_PROCESSES_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_PROCESSES\" was never defined.
+if test -z "${BUILD_PLUGIN_SENSORS_TRUE}" && test -z "${BUILD_PLUGIN_SENSORS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_SENSORS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_PROCESSES\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_SENSORS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_SENSORS_TRUE}" && test -z "${BUILD_MODULE_SENSORS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_SENSORS\" was never defined.
+if test -z "${BUILD_PLUGIN_SERIAL_TRUE}" && test -z "${BUILD_PLUGIN_SERIAL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_SERIAL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_SENSORS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_SERIAL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_SERIAL_TRUE}" && test -z "${BUILD_MODULE_SERIAL_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_SERIAL\" was never defined.
+if test -z "${BUILD_PLUGIN_SNMP_TRUE}" && test -z "${BUILD_PLUGIN_SNMP_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_SNMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_SERIAL\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_SNMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_LOGFILE_TRUE}" && test -z "${BUILD_MODULE_LOGFILE_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_LOGFILE\" was never defined.
+if test -z "${BUILD_PLUGIN_SWAP_TRUE}" && test -z "${BUILD_PLUGIN_SWAP_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_SWAP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_LOGFILE\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_SWAP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_SWAP_TRUE}" && test -z "${BUILD_MODULE_SWAP_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_SWAP\" was never defined.
+if test -z "${BUILD_PLUGIN_SYSLOG_TRUE}" && test -z "${BUILD_PLUGIN_SYSLOG_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_SYSLOG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_SWAP\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_SYSLOG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_SYSLOG_TRUE}" && test -z "${BUILD_MODULE_SYSLOG_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_SYSLOG\" was never defined.
+if test -z "${BUILD_PLUGIN_TAPE_TRUE}" && test -z "${BUILD_PLUGIN_TAPE_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_TAPE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_SYSLOG\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_TAPE\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_TAPE_TRUE}" && test -z "${BUILD_MODULE_TAPE_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_TAPE\" was never defined.
+if test -z "${BUILD_PLUGIN_UNIXSOCK_TRUE}" && test -z "${BUILD_PLUGIN_UNIXSOCK_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_TAPE\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_UNIXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_UNIXSOCK_TRUE}" && test -z "${BUILD_MODULE_UNIXSOCK_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_UNIXSOCK\" was never defined.
+if test -z "${BUILD_PLUGIN_USERS_TRUE}" && test -z "${BUILD_PLUGIN_USERS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_USERS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_UNIXSOCK\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_USERS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_USERS_TRUE}" && test -z "${BUILD_MODULE_USERS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_USERS\" was never defined.
+if test -z "${BUILD_PLUGIN_VSERVER_TRUE}" && test -z "${BUILD_PLUGIN_VSERVER_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_USERS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_VSERVER\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_VSERVER_TRUE}" && test -z "${BUILD_MODULE_VSERVER_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_VSERVER\" was never defined.
+if test -z "${BUILD_PLUGIN_WIRELESS_TRUE}" && test -z "${BUILD_PLUGIN_WIRELESS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_WIRELESS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_VSERVER\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_WIRELESS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_MODULE_WIRELESS_TRUE}" && test -z "${BUILD_MODULE_WIRELESS_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_WIRELESS\" was never defined.
+if test -z "${BUILD_PLUGIN_XMMS_TRUE}" && test -z "${BUILD_PLUGIN_XMMS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_PLUGIN_XMMS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_MODULE_WIRELESS\" was never defined.
+echo "$as_me: error: conditional \"BUILD_PLUGIN_XMMS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
 
 : ${CONFIG_STATUS=./config.status}
 ac_clean_files_save=$ac_clean_files
@@ -44988,13 +36903,13 @@
 exec 6>&1
 
 # Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by collectd $as_me 4.0.9, which was
+This file was extended by collectd $as_me 4.1.0, which was
 generated by GNU Autoconf 2.61.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -45041,13 +36956,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 4.0.9
+collectd config.status 4.1.0
 configured by $0, generated by GNU Autoconf 2.61,
   with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -45421,49 +37336,49 @@
 PERL_CFLAGS!$PERL_CFLAGS$ac_delim
 PERL_LDFLAGS!$PERL_LDFLAGS$ac_delim
 BUILD_WITH_LIBPERL_TRUE!$BUILD_WITH_LIBPERL_TRUE$ac_delim
 BUILD_WITH_LIBPERL_FALSE!$BUILD_WITH_LIBPERL_FALSE$ac_delim
 BUILD_WITH_LIBIPTC_TRUE!$BUILD_WITH_LIBIPTC_TRUE$ac_delim
 BUILD_WITH_LIBIPTC_FALSE!$BUILD_WITH_LIBIPTC_FALSE$ac_delim
+BUILD_WITH_LIBNETSNMP_TRUE!$BUILD_WITH_LIBNETSNMP_TRUE$ac_delim
+BUILD_WITH_LIBNETSNMP_FALSE!$BUILD_WITH_LIBNETSNMP_FALSE$ac_delim
+BUILD_WITH_LIBUPSCLIENT_CFLAGS!$BUILD_WITH_LIBUPSCLIENT_CFLAGS$ac_delim
+BUILD_WITH_LIBUPSCLIENT_LIBS!$BUILD_WITH_LIBUPSCLIENT_LIBS$ac_delim
 BUILD_WITH_LIBUPSCLIENT_TRUE!$BUILD_WITH_LIBUPSCLIENT_TRUE$ac_delim
 BUILD_WITH_LIBUPSCLIENT_FALSE!$BUILD_WITH_LIBUPSCLIENT_FALSE$ac_delim
+BUILD_WITH_LIBXMMS_CFLAGS!$BUILD_WITH_LIBXMMS_CFLAGS$ac_delim
+BUILD_WITH_LIBXMMS_LIBS!$BUILD_WITH_LIBXMMS_LIBS$ac_delim
+BUILD_WITH_LIBXMMS_TRUE!$BUILD_WITH_LIBXMMS_TRUE$ac_delim
+BUILD_WITH_LIBXMMS_FALSE!$BUILD_WITH_LIBXMMS_FALSE$ac_delim
+BUILD_WITH_LIBNETLINK_CFLAGS!$BUILD_WITH_LIBNETLINK_CFLAGS$ac_delim
+BUILD_WITH_LIBNETLINK_LIBS!$BUILD_WITH_LIBNETLINK_LIBS$ac_delim
+BUILD_WITH_LIBNETLINK_TRUE!$BUILD_WITH_LIBNETLINK_TRUE$ac_delim
+BUILD_WITH_LIBNETLINK_FALSE!$BUILD_WITH_LIBNETLINK_FALSE$ac_delim
 BUILD_FEATURE_DEBUG_TRUE!$BUILD_FEATURE_DEBUG_TRUE$ac_delim
 BUILD_FEATURE_DEBUG_FALSE!$BUILD_FEATURE_DEBUG_FALSE$ac_delim
 BUILD_FEATURE_DAEMON_TRUE!$BUILD_FEATURE_DAEMON_TRUE$ac_delim
 BUILD_FEATURE_DAEMON_FALSE!$BUILD_FEATURE_DAEMON_FALSE$ac_delim
 BUILD_FEATURE_GETIFADDRS_TRUE!$BUILD_FEATURE_GETIFADDRS_TRUE$ac_delim
 BUILD_FEATURE_GETIFADDRS_FALSE!$BUILD_FEATURE_GETIFADDRS_FALSE$ac_delim
-BUILD_MODULE_APACHE_TRUE!$BUILD_MODULE_APACHE_TRUE$ac_delim
-BUILD_MODULE_APACHE_FALSE!$BUILD_MODULE_APACHE_FALSE$ac_delim
-BUILD_MODULE_APCUPS_TRUE!$BUILD_MODULE_APCUPS_TRUE$ac_delim
-BUILD_MODULE_APCUPS_FALSE!$BUILD_MODULE_APCUPS_FALSE$ac_delim
-BUILD_MODULE_APPLE_SENSORS_TRUE!$BUILD_MODULE_APPLE_SENSORS_TRUE$ac_delim
-BUILD_MODULE_APPLE_SENSORS_FALSE!$BUILD_MODULE_APPLE_SENSORS_FALSE$ac_delim
-BUILD_MODULE_BATTERY_TRUE!$BUILD_MODULE_BATTERY_TRUE$ac_delim
-BUILD_MODULE_BATTERY_FALSE!$BUILD_MODULE_BATTERY_FALSE$ac_delim
-BUILD_MODULE_CPU_TRUE!$BUILD_MODULE_CPU_TRUE$ac_delim
-BUILD_MODULE_CPU_FALSE!$BUILD_MODULE_CPU_FALSE$ac_delim
-BUILD_MODULE_CPUFREQ_TRUE!$BUILD_MODULE_CPUFREQ_TRUE$ac_delim
-BUILD_MODULE_CPUFREQ_FALSE!$BUILD_MODULE_CPUFREQ_FALSE$ac_delim
-BUILD_MODULE_DISK_TRUE!$BUILD_MODULE_DISK_TRUE$ac_delim
-BUILD_MODULE_DISK_FALSE!$BUILD_MODULE_DISK_FALSE$ac_delim
-BUILD_MODULE_CSV_TRUE!$BUILD_MODULE_CSV_TRUE$ac_delim
-BUILD_MODULE_CSV_FALSE!$BUILD_MODULE_CSV_FALSE$ac_delim
-BUILD_MODULE_DF_TRUE!$BUILD_MODULE_DF_TRUE$ac_delim
-BUILD_MODULE_DF_FALSE!$BUILD_MODULE_DF_FALSE$ac_delim
-BUILD_MODULE_DNS_TRUE!$BUILD_MODULE_DNS_TRUE$ac_delim
-BUILD_MODULE_DNS_FALSE!$BUILD_MODULE_DNS_FALSE$ac_delim
-BUILD_MODULE_EMAIL_TRUE!$BUILD_MODULE_EMAIL_TRUE$ac_delim
-BUILD_MODULE_EMAIL_FALSE!$BUILD_MODULE_EMAIL_FALSE$ac_delim
-BUILD_MODULE_ENTROPY_TRUE!$BUILD_MODULE_ENTROPY_TRUE$ac_delim
-BUILD_MODULE_ENTROPY_FALSE!$BUILD_MODULE_ENTROPY_FALSE$ac_delim
-BUILD_MODULE_EXEC_TRUE!$BUILD_MODULE_EXEC_TRUE$ac_delim
-BUILD_MODULE_EXEC_FALSE!$BUILD_MODULE_EXEC_FALSE$ac_delim
-BUILD_MODULE_HDDTEMP_TRUE!$BUILD_MODULE_HDDTEMP_TRUE$ac_delim
-BUILD_MODULE_HDDTEMP_FALSE!$BUILD_MODULE_HDDTEMP_FALSE$ac_delim
-BUILD_MODULE_INTERFACE_TRUE!$BUILD_MODULE_INTERFACE_TRUE$ac_delim
+BUILD_PLUGIN_APACHE_TRUE!$BUILD_PLUGIN_APACHE_TRUE$ac_delim
+BUILD_PLUGIN_APACHE_FALSE!$BUILD_PLUGIN_APACHE_FALSE$ac_delim
+BUILD_PLUGIN_APCUPS_TRUE!$BUILD_PLUGIN_APCUPS_TRUE$ac_delim
+BUILD_PLUGIN_APCUPS_FALSE!$BUILD_PLUGIN_APCUPS_FALSE$ac_delim
+BUILD_PLUGIN_APPLE_SENSORS_TRUE!$BUILD_PLUGIN_APPLE_SENSORS_TRUE$ac_delim
+BUILD_PLUGIN_APPLE_SENSORS_FALSE!$BUILD_PLUGIN_APPLE_SENSORS_FALSE$ac_delim
+BUILD_PLUGIN_BATTERY_TRUE!$BUILD_PLUGIN_BATTERY_TRUE$ac_delim
+BUILD_PLUGIN_BATTERY_FALSE!$BUILD_PLUGIN_BATTERY_FALSE$ac_delim
+BUILD_PLUGIN_CPU_TRUE!$BUILD_PLUGIN_CPU_TRUE$ac_delim
+BUILD_PLUGIN_CPU_FALSE!$BUILD_PLUGIN_CPU_FALSE$ac_delim
+BUILD_PLUGIN_CPUFREQ_TRUE!$BUILD_PLUGIN_CPUFREQ_TRUE$ac_delim
+BUILD_PLUGIN_CPUFREQ_FALSE!$BUILD_PLUGIN_CPUFREQ_FALSE$ac_delim
+BUILD_PLUGIN_CSV_TRUE!$BUILD_PLUGIN_CSV_TRUE$ac_delim
+BUILD_PLUGIN_CSV_FALSE!$BUILD_PLUGIN_CSV_FALSE$ac_delim
+BUILD_PLUGIN_DF_TRUE!$BUILD_PLUGIN_DF_TRUE$ac_delim
+BUILD_PLUGIN_DF_FALSE!$BUILD_PLUGIN_DF_FALSE$ac_delim
+BUILD_PLUGIN_DISK_TRUE!$BUILD_PLUGIN_DISK_TRUE$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
@@ -45499,66 +37414,86 @@
 _ACEOF
 
 
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
-BUILD_MODULE_INTERFACE_FALSE!$BUILD_MODULE_INTERFACE_FALSE$ac_delim
-BUILD_MODULE_IPTABLES_TRUE!$BUILD_MODULE_IPTABLES_TRUE$ac_delim
-BUILD_MODULE_IPTABLES_FALSE!$BUILD_MODULE_IPTABLES_FALSE$ac_delim
-BUILD_MODULE_IRQ_TRUE!$BUILD_MODULE_IRQ_TRUE$ac_delim
-BUILD_MODULE_IRQ_FALSE!$BUILD_MODULE_IRQ_FALSE$ac_delim
-BUILD_MODULE_LOAD_TRUE!$BUILD_MODULE_LOAD_TRUE$ac_delim
-BUILD_MODULE_LOAD_FALSE!$BUILD_MODULE_LOAD_FALSE$ac_delim
-BUILD_MODULE_MBMON_TRUE!$BUILD_MODULE_MBMON_TRUE$ac_delim
-BUILD_MODULE_MBMON_FALSE!$BUILD_MODULE_MBMON_FALSE$ac_delim
-BUILD_MODULE_MEMORY_TRUE!$BUILD_MODULE_MEMORY_TRUE$ac_delim
-BUILD_MODULE_MEMORY_FALSE!$BUILD_MODULE_MEMORY_FALSE$ac_delim
-BUILD_MODULE_MULTIMETER_TRUE!$BUILD_MODULE_MULTIMETER_TRUE$ac_delim
-BUILD_MODULE_MULTIMETER_FALSE!$BUILD_MODULE_MULTIMETER_FALSE$ac_delim
-BUILD_MODULE_MYSQL_TRUE!$BUILD_MODULE_MYSQL_TRUE$ac_delim
-BUILD_MODULE_MYSQL_FALSE!$BUILD_MODULE_MYSQL_FALSE$ac_delim
-BUILD_MODULE_NETWORK_TRUE!$BUILD_MODULE_NETWORK_TRUE$ac_delim
-BUILD_MODULE_NETWORK_FALSE!$BUILD_MODULE_NETWORK_FALSE$ac_delim
-BUILD_MODULE_NFS_TRUE!$BUILD_MODULE_NFS_TRUE$ac_delim
-BUILD_MODULE_NFS_FALSE!$BUILD_MODULE_NFS_FALSE$ac_delim
-BUILD_MODULE_NTPD_TRUE!$BUILD_MODULE_NTPD_TRUE$ac_delim
-BUILD_MODULE_NTPD_FALSE!$BUILD_MODULE_NTPD_FALSE$ac_delim
-BUILD_MODULE_NUT_TRUE!$BUILD_MODULE_NUT_TRUE$ac_delim
-BUILD_MODULE_NUT_FALSE!$BUILD_MODULE_NUT_FALSE$ac_delim
-BUILD_MODULE_PERL_TRUE!$BUILD_MODULE_PERL_TRUE$ac_delim
-BUILD_MODULE_PERL_FALSE!$BUILD_MODULE_PERL_FALSE$ac_delim
-BUILD_MODULE_PING_TRUE!$BUILD_MODULE_PING_TRUE$ac_delim
-BUILD_MODULE_PING_FALSE!$BUILD_MODULE_PING_FALSE$ac_delim
-BUILD_MODULE_PROCESSES_TRUE!$BUILD_MODULE_PROCESSES_TRUE$ac_delim
-BUILD_MODULE_PROCESSES_FALSE!$BUILD_MODULE_PROCESSES_FALSE$ac_delim
-BUILD_MODULE_SENSORS_TRUE!$BUILD_MODULE_SENSORS_TRUE$ac_delim
-BUILD_MODULE_SENSORS_FALSE!$BUILD_MODULE_SENSORS_FALSE$ac_delim
-BUILD_MODULE_SERIAL_TRUE!$BUILD_MODULE_SERIAL_TRUE$ac_delim
-BUILD_MODULE_SERIAL_FALSE!$BUILD_MODULE_SERIAL_FALSE$ac_delim
-BUILD_MODULE_LOGFILE_TRUE!$BUILD_MODULE_LOGFILE_TRUE$ac_delim
-BUILD_MODULE_LOGFILE_FALSE!$BUILD_MODULE_LOGFILE_FALSE$ac_delim
-BUILD_MODULE_SWAP_TRUE!$BUILD_MODULE_SWAP_TRUE$ac_delim
-BUILD_MODULE_SWAP_FALSE!$BUILD_MODULE_SWAP_FALSE$ac_delim
-BUILD_MODULE_SYSLOG_TRUE!$BUILD_MODULE_SYSLOG_TRUE$ac_delim
-BUILD_MODULE_SYSLOG_FALSE!$BUILD_MODULE_SYSLOG_FALSE$ac_delim
-BUILD_MODULE_TAPE_TRUE!$BUILD_MODULE_TAPE_TRUE$ac_delim
-BUILD_MODULE_TAPE_FALSE!$BUILD_MODULE_TAPE_FALSE$ac_delim
-BUILD_MODULE_UNIXSOCK_TRUE!$BUILD_MODULE_UNIXSOCK_TRUE$ac_delim
-BUILD_MODULE_UNIXSOCK_FALSE!$BUILD_MODULE_UNIXSOCK_FALSE$ac_delim
-BUILD_MODULE_USERS_TRUE!$BUILD_MODULE_USERS_TRUE$ac_delim
-BUILD_MODULE_USERS_FALSE!$BUILD_MODULE_USERS_FALSE$ac_delim
-BUILD_MODULE_VSERVER_TRUE!$BUILD_MODULE_VSERVER_TRUE$ac_delim
-BUILD_MODULE_VSERVER_FALSE!$BUILD_MODULE_VSERVER_FALSE$ac_delim
-BUILD_MODULE_WIRELESS_TRUE!$BUILD_MODULE_WIRELESS_TRUE$ac_delim
-BUILD_MODULE_WIRELESS_FALSE!$BUILD_MODULE_WIRELESS_FALSE$ac_delim
+BUILD_PLUGIN_DISK_FALSE!$BUILD_PLUGIN_DISK_FALSE$ac_delim
+BUILD_PLUGIN_DNS_TRUE!$BUILD_PLUGIN_DNS_TRUE$ac_delim
+BUILD_PLUGIN_DNS_FALSE!$BUILD_PLUGIN_DNS_FALSE$ac_delim
+BUILD_PLUGIN_EMAIL_TRUE!$BUILD_PLUGIN_EMAIL_TRUE$ac_delim
+BUILD_PLUGIN_EMAIL_FALSE!$BUILD_PLUGIN_EMAIL_FALSE$ac_delim
+BUILD_PLUGIN_ENTROPY_TRUE!$BUILD_PLUGIN_ENTROPY_TRUE$ac_delim
+BUILD_PLUGIN_ENTROPY_FALSE!$BUILD_PLUGIN_ENTROPY_FALSE$ac_delim
+BUILD_PLUGIN_EXEC_TRUE!$BUILD_PLUGIN_EXEC_TRUE$ac_delim
+BUILD_PLUGIN_EXEC_FALSE!$BUILD_PLUGIN_EXEC_FALSE$ac_delim
+BUILD_PLUGIN_HDDTEMP_TRUE!$BUILD_PLUGIN_HDDTEMP_TRUE$ac_delim
+BUILD_PLUGIN_HDDTEMP_FALSE!$BUILD_PLUGIN_HDDTEMP_FALSE$ac_delim
+BUILD_PLUGIN_INTERFACE_TRUE!$BUILD_PLUGIN_INTERFACE_TRUE$ac_delim
+BUILD_PLUGIN_INTERFACE_FALSE!$BUILD_PLUGIN_INTERFACE_FALSE$ac_delim
+BUILD_PLUGIN_IPTABLES_TRUE!$BUILD_PLUGIN_IPTABLES_TRUE$ac_delim
+BUILD_PLUGIN_IPTABLES_FALSE!$BUILD_PLUGIN_IPTABLES_FALSE$ac_delim
+BUILD_PLUGIN_IRQ_TRUE!$BUILD_PLUGIN_IRQ_TRUE$ac_delim
+BUILD_PLUGIN_IRQ_FALSE!$BUILD_PLUGIN_IRQ_FALSE$ac_delim
+BUILD_PLUGIN_LOAD_TRUE!$BUILD_PLUGIN_LOAD_TRUE$ac_delim
+BUILD_PLUGIN_LOAD_FALSE!$BUILD_PLUGIN_LOAD_FALSE$ac_delim
+BUILD_PLUGIN_LOGFILE_TRUE!$BUILD_PLUGIN_LOGFILE_TRUE$ac_delim
+BUILD_PLUGIN_LOGFILE_FALSE!$BUILD_PLUGIN_LOGFILE_FALSE$ac_delim
+BUILD_PLUGIN_MBMON_TRUE!$BUILD_PLUGIN_MBMON_TRUE$ac_delim
+BUILD_PLUGIN_MBMON_FALSE!$BUILD_PLUGIN_MBMON_FALSE$ac_delim
+BUILD_PLUGIN_MEMORY_TRUE!$BUILD_PLUGIN_MEMORY_TRUE$ac_delim
+BUILD_PLUGIN_MEMORY_FALSE!$BUILD_PLUGIN_MEMORY_FALSE$ac_delim
+BUILD_PLUGIN_MULTIMETER_TRUE!$BUILD_PLUGIN_MULTIMETER_TRUE$ac_delim
+BUILD_PLUGIN_MULTIMETER_FALSE!$BUILD_PLUGIN_MULTIMETER_FALSE$ac_delim
+BUILD_PLUGIN_MYSQL_TRUE!$BUILD_PLUGIN_MYSQL_TRUE$ac_delim
+BUILD_PLUGIN_MYSQL_FALSE!$BUILD_PLUGIN_MYSQL_FALSE$ac_delim
+BUILD_PLUGIN_NETLINK_TRUE!$BUILD_PLUGIN_NETLINK_TRUE$ac_delim
+BUILD_PLUGIN_NETLINK_FALSE!$BUILD_PLUGIN_NETLINK_FALSE$ac_delim
+BUILD_PLUGIN_NETWORK_TRUE!$BUILD_PLUGIN_NETWORK_TRUE$ac_delim
+BUILD_PLUGIN_NETWORK_FALSE!$BUILD_PLUGIN_NETWORK_FALSE$ac_delim
+BUILD_PLUGIN_NFS_TRUE!$BUILD_PLUGIN_NFS_TRUE$ac_delim
+BUILD_PLUGIN_NFS_FALSE!$BUILD_PLUGIN_NFS_FALSE$ac_delim
+BUILD_PLUGIN_NTPD_TRUE!$BUILD_PLUGIN_NTPD_TRUE$ac_delim
+BUILD_PLUGIN_NTPD_FALSE!$BUILD_PLUGIN_NTPD_FALSE$ac_delim
+BUILD_PLUGIN_NUT_TRUE!$BUILD_PLUGIN_NUT_TRUE$ac_delim
+BUILD_PLUGIN_NUT_FALSE!$BUILD_PLUGIN_NUT_FALSE$ac_delim
+BUILD_PLUGIN_PERL_TRUE!$BUILD_PLUGIN_PERL_TRUE$ac_delim
+BUILD_PLUGIN_PERL_FALSE!$BUILD_PLUGIN_PERL_FALSE$ac_delim
+BUILD_PLUGIN_PING_TRUE!$BUILD_PLUGIN_PING_TRUE$ac_delim
+BUILD_PLUGIN_PING_FALSE!$BUILD_PLUGIN_PING_FALSE$ac_delim
+BUILD_PLUGIN_PROCESSES_TRUE!$BUILD_PLUGIN_PROCESSES_TRUE$ac_delim
+BUILD_PLUGIN_PROCESSES_FALSE!$BUILD_PLUGIN_PROCESSES_FALSE$ac_delim
+BUILD_PLUGIN_RRDTOOL_TRUE!$BUILD_PLUGIN_RRDTOOL_TRUE$ac_delim
+BUILD_PLUGIN_RRDTOOL_FALSE!$BUILD_PLUGIN_RRDTOOL_FALSE$ac_delim
+BUILD_PLUGIN_SENSORS_TRUE!$BUILD_PLUGIN_SENSORS_TRUE$ac_delim
+BUILD_PLUGIN_SENSORS_FALSE!$BUILD_PLUGIN_SENSORS_FALSE$ac_delim
+BUILD_PLUGIN_SERIAL_TRUE!$BUILD_PLUGIN_SERIAL_TRUE$ac_delim
+BUILD_PLUGIN_SERIAL_FALSE!$BUILD_PLUGIN_SERIAL_FALSE$ac_delim
+BUILD_PLUGIN_SNMP_TRUE!$BUILD_PLUGIN_SNMP_TRUE$ac_delim
+BUILD_PLUGIN_SNMP_FALSE!$BUILD_PLUGIN_SNMP_FALSE$ac_delim
+BUILD_PLUGIN_SWAP_TRUE!$BUILD_PLUGIN_SWAP_TRUE$ac_delim
+BUILD_PLUGIN_SWAP_FALSE!$BUILD_PLUGIN_SWAP_FALSE$ac_delim
+BUILD_PLUGIN_SYSLOG_TRUE!$BUILD_PLUGIN_SYSLOG_TRUE$ac_delim
+BUILD_PLUGIN_SYSLOG_FALSE!$BUILD_PLUGIN_SYSLOG_FALSE$ac_delim
+BUILD_PLUGIN_TAPE_TRUE!$BUILD_PLUGIN_TAPE_TRUE$ac_delim
+BUILD_PLUGIN_TAPE_FALSE!$BUILD_PLUGIN_TAPE_FALSE$ac_delim
+BUILD_PLUGIN_UNIXSOCK_TRUE!$BUILD_PLUGIN_UNIXSOCK_TRUE$ac_delim
+BUILD_PLUGIN_UNIXSOCK_FALSE!$BUILD_PLUGIN_UNIXSOCK_FALSE$ac_delim
+BUILD_PLUGIN_USERS_TRUE!$BUILD_PLUGIN_USERS_TRUE$ac_delim
+BUILD_PLUGIN_USERS_FALSE!$BUILD_PLUGIN_USERS_FALSE$ac_delim
+BUILD_PLUGIN_VSERVER_TRUE!$BUILD_PLUGIN_VSERVER_TRUE$ac_delim
+BUILD_PLUGIN_VSERVER_FALSE!$BUILD_PLUGIN_VSERVER_FALSE$ac_delim
+BUILD_PLUGIN_WIRELESS_TRUE!$BUILD_PLUGIN_WIRELESS_TRUE$ac_delim
+BUILD_PLUGIN_WIRELESS_FALSE!$BUILD_PLUGIN_WIRELESS_FALSE$ac_delim
+BUILD_PLUGIN_XMMS_TRUE!$BUILD_PLUGIN_XMMS_TRUE$ac_delim
+BUILD_PLUGIN_XMMS_FALSE!$BUILD_PLUGIN_XMMS_FALSE$ac_delim
 LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 51; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 71; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
 echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
    { (exit 1); exit 1; }; }
   else
@@ -46324,12 +38259,17 @@
 
     cd "$ac_popdir"
   done
 fi
 
 
+if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
+then
+	with_liboping="yes (shipped version)"
+fi
+
 if test "x$with_libperl" = "xyes"
 then
 	with_libperl="yes (version `perl -MConfig -e 'print $Config{version};'`)"
 else
 	enable_perl="no (needs libperl)"
 fi
@@ -46339,22 +38279,26 @@
 Configuration:
   Libraries:
     libcurl . . . . . . $with_libcurl
     libiokit  . . . . . $with_libiokit
     libiptc . . . . . . $with_libiptc
     libkstat  . . . . . $with_kstat
+    libkvm  . . . . . . $with_libkvm
     libmysql  . . . . . $with_libmysql
+    libnetlink  . . . . $with_libnetlink
+    libnetsnmp  . . . . $with_libnetsnmp
     liboconfig  . . . . $with_liboconfig
     liboping  . . . . . $with_liboping
     libpcap . . . . . . $with_libpcap
     libperl . . . . . . $with_libperl
     libpthread  . . . . $with_libpthread
     librrd  . . . . . . $with_rrdtool
     libsensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libupsclient  . . . $with_libupsclient
+    libxmms . . . . . . $with_libxmms
 
   Features:
     daemon mode . . . . $enable_daemon
     debug . . . . . . . $enable_debug
 
   Modules:
@@ -46378,24 +38322,27 @@
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
     memory  . . . . . . $enable_memory
     multimeter  . . . . $enable_multimeter
     mysql . . . . . . . $enable_mysql
+    netlink . . . . . . $enable_netlink
     network . . . . . . $enable_network
     nfs . . . . . . . . $enable_nfs
     ntpd  . . . . . . . $enable_ntpd
     nut . . . . . . . . $enable_nut
     perl  . . . . . . . $enable_perl
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
+    snmp  . . . . . . . $enable_snmp
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
     tape  . . . . . . . $enable_tape
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
+    xmms  . . . . . . . $enable_xmms
 
 EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/configure.in	2007-09-28 22:24:18.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/configure.in	2007-09-02 04:11:52.000000000 +0800
@@ -1,8 +1,8 @@
 dnl Process this file with autoconf to produce a configure script.
-AC_INIT(collectd, 4.0.9)
+AC_INIT(collectd, m4_esyscmd(./version-gen.sh))
 AC_CONFIG_SRCDIR(src/collectd.c)
 AC_CONFIG_HEADERS(src/config.h)
 AM_INIT_AUTOMAKE(dist-bzip2)
 AC_LANG(C)
 
 AC_PREFIX_DEFAULT("/opt/collectd")
@@ -27,35 +27,38 @@
 AC_LIBTOOL_DLOPEN
 AC_PROG_LIBTOOL
 AC_PROG_LEX
 AC_PROG_YACC
 AC_CONFIG_SUBDIRS(libltdl)
 
+AC_MSG_CHECKING([for kernel type ($host_os)])
+case $host_os in
+	*linux*)
+	AC_DEFINE([KERNEL_LINUX], 1, [True if program is to be compiled for a Linux kernel])
+	ac_system="Linux"
+	;;
+	*solaris*)
+	AC_DEFINE([KERNEL_SOLARIS], 1, [True if program is to be compiled for a Solaris kernel])
+	ac_system="Solaris"
+	;;
+	*darwin*)
+	ac_system="Darwin"
+	;;
+	*)
+	ac_system="unknown"
+esac
+AC_MSG_RESULT([$ac_system])
+
 #
 # Checks for header files.
 #
 AC_HEADER_STDC
 AC_HEADER_SYS_WAIT
 AC_HEADER_DIRENT
-AC_CHECK_HEADERS(stdint.h)
-AC_CHECK_HEADERS(stdio.h)
-AC_CHECK_HEADERS(errno.h)
-AC_CHECK_HEADERS(math.h)
-AC_CHECK_HEADERS(syslog.h)
-AC_CHECK_HEADERS(fcntl.h)
-AC_CHECK_HEADERS(signal.h)
-AC_CHECK_HEADERS(assert.h)
-AC_CHECK_HEADERS(sys/types.h)
-AC_CHECK_HEADERS(sys/socket.h)
-AC_CHECK_HEADERS(sys/select.h)
-AC_CHECK_HEADERS(poll.h)
-AC_CHECK_HEADERS(netdb.h)
-AC_CHECK_HEADERS(arpa/inet.h)
-AC_CHECK_HEADERS(sys/resource.h)
-AC_CHECK_HEADERS(sys/param.h)
-AC_CHECK_HEADERS(kstat.h)
+
+AC_CHECK_HEADERS(stdint.h stdio.h errno.h math.h stdarg.h syslog.h fcntl.h signal.h assert.h sys/types.h sys/socket.h sys/select.h poll.h netdb.h arpa/inet.h sys/resource.h sys/param.h kstat.h regex.h sys/ioctl.h)
 
 # For ping library
 AC_CHECK_HEADERS(netinet/in_systm.h, [], [],
 [#if HAVE_STDINT_H
 # include <stdint.h>
 #endif
@@ -186,85 +189,57 @@
 #if HAVE_NETINET_IP_H
 # include <netinet/ip.h>
 #endif
 ])
 
 # For cpu modules
+AC_CHECK_HEADERS(sys/dkstat.h)
+if test "x$ac_system" = "xDarwin"
+then
+	AC_CHECK_HEADERS(mach/mach_init.h mach/host_priv.h mach/mach_error.h mach/mach_host.h mach/mach_port.h mach/mach_types.h mach/message.h mach/processor_set.h mach/processor.h mach/processor_info.h mach/task.h mach/thread_act.h mach/vm_region.h mach/vm_map.h mach/vm_prot.h mach/vm_statistics.h mach/kern_return.h)
+	AC_CHECK_HEADERS(CoreFoundation/CoreFoundation.h IOKit/IOKitLib.h IOKit/IOTypes.h IOKit/ps/IOPSKeys.h IOKit/IOBSD.h IOKit/storage/IOBlockStorageDriver.h)
+fi
 AC_CHECK_HEADERS(sys/sysctl.h, [], [],
 [
 #if HAVE_SYS_TYPES_H
 #  include <sys/types.h>
 #endif
 #if HAVE_SYS_PARAM_H
 # include <sys/param.h>
 #endif
 ])
-AC_CHECK_HEADERS(sys/dkstat.h)
-AC_CHECK_HEADERS(mach/mach_init.h)
-AC_CHECK_HEADERS(mach/host_priv.h)
-AC_CHECK_HEADERS(mach/mach_error.h)
-AC_CHECK_HEADERS(mach/mach_host.h)
-AC_CHECK_HEADERS(mach/mach_port.h)
-AC_CHECK_HEADERS(mach/mach_types.h)
-AC_CHECK_HEADERS(mach/message.h)
-AC_CHECK_HEADERS(mach/processor_set.h)
-AC_CHECK_HEADERS(mach/processor.h)
-AC_CHECK_HEADERS(mach/processor_info.h)
-AC_CHECK_HEADERS(mach/task.h)
-AC_CHECK_HEADERS(mach/thread_act.h)
-AC_CHECK_HEADERS(mach/vm_region.h)
-AC_CHECK_HEADERS(mach/vm_map.h)
-AC_CHECK_HEADERS(mach/vm_prot.h)
-AC_CHECK_HEADERS(mach/vm_statistics.h)
-AC_CHECK_HEADERS(mach/kern_return.h)
 
 # For hddtemp module
-AC_CHECK_HEADERS(linux/major.h)
-AC_CHECK_HEADERS(libgen.h)
-
-# For the apple_sensors module
-AC_CHECK_HEADERS(CoreFoundation/CoreFoundation.h)
-AC_CHECK_HEADERS(IOKit/IOKitLib.h)
-AC_CHECK_HEADERS(IOKit/IOTypes.h)
+AC_CHECK_HEADERS(linux/major.h libgen.h)
 
 # For the battery plugin
 AC_CHECK_HEADERS(IOKit/ps/IOPowerSources.h, [], [],
 [
 #if HAVE_IOKIT_IOKITLIB_H
 #  include <IOKit/IOKitLib.h>
 #endif
 #if HAVE_IOKIT_IOTYPES_H
 #  include <IOKit/IOTypes.h>
 #endif
 ])
-AC_CHECK_HEADERS(IOKit/ps/IOPSKeys.h)
-
-# For the `disk' plugin
-AC_CHECK_HEADERS(IOKit/IOBSD.h)
-AC_CHECK_HEADERS(IOKit/storage/IOBlockStorageDriver.h)
-
-# For load module
-AC_CHECK_HEADERS(sys/loadavg.h)
-
-# For the processes plugin
-AC_CHECK_HEADERS(linux/config.h)
 
 # For the swap module
 AC_CHECK_HEADERS(sys/swap.h, [], [],
 [
 #if HAVE_SYS_TYPES_H
 #  include <sys/types.h>
 #endif
 #if HAVE_SYS_PARAM_H
 # include <sys/param.h>
 #endif
 ])
 
+# For load module
+# For the processes plugin
 # For users module
-AC_CHECK_HEADERS(utmp.h)
-AC_CHECK_HEADERS(utmpx.h)
+AC_CHECK_HEADERS(sys/loadavg.h linux/config.h utmp.h utmpx.h)
 
 # For interface plugin
 AC_CHECK_HEADERS(ifaddrs.h)
 AC_CHECK_HEADERS(net/if.h, [], [],
 [
 #if HAVE_SYS_TYPES_H
@@ -293,73 +268,43 @@
 #endif
 #if HAVE_LINUX_IF_H
 # include <linux/if.h>
 #endif
 ])
 
-# For apache plugin
-AC_CHECK_HEADERS(curl/curl.h)
-
 # For quota module
-AC_CHECK_HEADERS(pwd.h)
 AC_CHECK_HEADERS(sys/ucred.h, [], [],
 [
 #if HAVE_SYS_TYPES_H
 #  include <sys/types.h>
 #endif
 #if HAVE_SYS_PARAM_H
 # include <sys/param.h>
 #endif
 ])
-AC_CHECK_HEADERS(ctype.h)
-AC_CHECK_HEADERS(limits.h)
-AC_CHECK_HEADERS(sys/quota.h)
-AC_CHECK_HEADERS(xfs/xqm.h)
 
 # For mount interface
-AC_CHECK_HEADERS(fs_info.h)
-AC_CHECK_HEADERS(fshelp.h)
-AC_CHECK_HEADERS(paths.h)
-AC_CHECK_HEADERS(mntent.h)
-AC_CHECK_HEADERS(mnttab.h)
-AC_CHECK_HEADERS(sys/fstyp.h)
-AC_CHECK_HEADERS(sys/fs_types.h)
-AC_CHECK_HEADERS(sys/mntent.h)
-AC_CHECK_HEADERS(sys/mnttab.h)
 AC_CHECK_HEADERS(sys/mount.h, [], [],
 [
 #if HAVE_SYS_TYPES_H
 #  include <sys/types.h>
 #endif
 #if HAVE_SYS_PARAM_H
 # include <sys/param.h>
 #endif
 ])
-AC_CHECK_HEADERS(sys/statfs.h)
-AC_CHECK_HEADERS(sys/statvfs.h)
-AC_CHECK_HEADERS(sys/vfs.h)
-AC_CHECK_HEADERS(sys/vfstab.h)
-
-# For the swap plugin, FreeBSD
-AC_CHECK_HEADERS(kvm.h)
 
 # For the email plugin
 AC_CHECK_HEADERS(linux/un.h, [], [],
 [
 #if HAVE_SYS_SOCKET_H
 #	include <sys/socket.h>
 #endif
 ])
-AC_CHECK_HEADERS(sys/un.h)
-AC_CHECK_HEADERS(grp.h)
-
-# For debugging interface (variable number of arguments)
-AC_CHECK_HEADERS(stdarg.h)
 
-# Regular expressions for the ignorelist.
-AC_CHECK_HEADERS(regex.h)
+AC_CHECK_HEADERS(pwd.h grp.h sys/un.h ctype.h limits.h sys/quota.h xfs/xqm.h fs_info.h fshelp.h paths.h mntent.h mnttab.h sys/fstyp.h sys/fs_types.h sys/mntent.h sys/mnttab.h sys/statfs.h sys/statvfs.h sys/vfs.h sys/vfstab.h kvm.h)
 
 # For the dns plugin
 AC_CHECK_HEADERS(arpa/nameser.h)
 AC_CHECK_HEADERS(arpa/nameser_compat.h, [], [],
 [
 #if HAVE_ARPA_NAMESER_H
@@ -394,14 +339,14 @@
 #if HAVE_NETINET_IN_H
 # include <netinet/in.h>
 #endif
 ])
 
 # For the multimeter plugin
-AC_CHECK_HEADERS(termios.h)
-AC_CHECK_HEADERS(sys/ioctl.h)
+have_termios_h="no"
+AC_CHECK_HEADERS(termios.h, [have_termios_h="yes"])
 
 #
 # Checking for libraries
 #
 AC_CHECK_LIB(m, ext)
 
@@ -415,52 +360,41 @@
 AC_HEADER_TIME
 
 #
 # Checks for library functions.
 #
 AC_PROG_GCC_TRADITIONAL
-AC_CHECK_FUNCS(gettimeofday select strdup strtol)
-AC_CHECK_FUNCS(getaddrinfo getnameinfo)
-AC_CHECK_FUNCS(strchr memcpy strstr strcmp strncmp strncpy strlen)
-AC_CHECK_FUNCS(strncasecmp strcasecmp)
-AC_CHECK_FUNCS(openlog syslog closelog)
-
-AC_FUNC_STRERROR_R
+AC_CHECK_FUNCS(gettimeofday select strdup strtol getaddrinfo getnameinfo strchr memcpy strstr strcmp strncmp strncpy strlen strncasecmp strcasecmp openlog closelog)
 
 AC_CHECK_FUNCS(getpwnam_r)
 AC_CHECK_FUNCS(getgrnam_r)
 
 socket_needs_socket="no"
 AC_CHECK_FUNCS(socket, [], AC_CHECK_LIB(socket, socket, [socket_needs_socket="yes"], AC_MSG_ERROR(cannot find socket)))
 AM_CONDITIONAL(BUILD_WITH_LIBSOCKET, test "x$socket_needs_socket" = "xyes")
 
 nanosleep_needs_rt="no"
 AC_CHECK_FUNCS(nanosleep, [], AC_CHECK_LIB(rt, nanosleep, [nanosleep_needs_rt="yes"], AC_MSG_ERROR(cannot find nanosleep)))
 AM_CONDITIONAL(BUILD_WITH_LIBRT, test "x$nanosleep_needs_rt" = "xyes")
 
-# Regular expressions for the ignorelist.
 AC_CHECK_FUNCS(regcomp regerror regexec regfree)
 
-# For cpu module
 AC_CHECK_FUNCS(sysctlbyname, [have_sysctlbyname="yes"], [have_sysctlbyname="no"])
-
-# For df module
-AC_CHECK_FUNCS(statfs statvfs)
+AC_CHECK_FUNCS(host_statistics, [have_host_statistics="yes"], [have_host_statistics="no"])
+AC_CHECK_FUNCS(processor_info, [have_processor_info="yes"], [have_processor_info="no"])
+AC_CHECK_FUNCS(thread_info, [have_thread_info="yes"], [have_thread_info="no"])
+AC_CHECK_FUNCS(statfs, [have_statfs="yes"], [have_statfs="no"])
+AC_CHECK_FUNCS(statvfs, [have_statvfs="yes"], [have_statvfs="no"])
+AC_CHECK_FUNCS(getifaddrs, [have_getifaddrs="yes"], [have_getifaddrs="no"])
+AC_CHECK_FUNCS(syslog, [have_syslog="yes"], [have_syslog="no"])
+AC_CHECK_FUNCS(getutent, [have_getutent="yes"], [have_getutent="no"])
+AC_CHECK_FUNCS(getutxent, [have_getutxent="yes"], [have_getutxent="no"])
 
 # For load module
 AC_CHECK_FUNCS(getloadavg, [have_getloadavg="yes"], [have_getloadavg="no"])
 
-# For the `processes' plugin
-AC_CHECK_FUNCS(thread_info)
-
-# For users module
-AC_CHECK_FUNCS(getutent getutxent)
-
-# For interface module
-AC_CHECK_FUNCS(getifaddrs)
-
 # Check for NAN
 AC_ARG_WITH(nan-emulation, [AS_HELP_STRING([--with-nan-emulation], [use emulated NAN. For crosscompiling only.])],
 [
  if test "x$withval" = "xno"; then
 	 nan_type="none"
  else if test "x$withval" = "xyes"; then
@@ -718,27 +652,12 @@
 	[
 #if HAVE_KSTAT_H
 # include <kstat.h>
 #endif
 	])
 
-AC_MSG_CHECKING([for kernel type ($host_os)])
-case $host_os in
-	*linux*)
-	AC_DEFINE([KERNEL_LINUX], 1, [True if program is to be compiled for a Linux kernel])
-	ac_system="Linux"
-	;;
-	*solaris*)
-	AC_DEFINE([KERNEL_SOLARIS], 1, [True if program is to be compiled for a Solaris kernel])
-	ac_system="Solaris"
-	;;
-	*)
-	ac_system="unknown"
-esac
-AC_MSG_RESULT([$ac_system])
-
 with_libresolv="yes"
 AC_CHECK_LIB(resolv, res_search,
 [
 	AC_DEFINE(HAVE_LIBRESOLV, 1, [Define to 1 if you have the 'resolv' library (-lresolv).])
 ],
 [with_libresolv="no"])
@@ -807,13 +726,13 @@
 	collect_pthread=0
 fi
 AC_DEFINE_UNQUOTED(HAVE_LIBPTHREAD, [$collect_pthread],
 	[Wether or not to use pthread (POSIX threads) library])
 AM_CONDITIONAL(BUILD_WITH_LIBPTHREAD, test "x$with_libpthread" = "xyes")
 
-if test "$ac_system" = "Solaris"
+if test "x$ac_system" = "xSolaris"
 then
 	with_kstat="yes"
 	with_devinfo="yes"
 else
 	with_kstat="no (Solaris only)"
 	with_devinfo="no (Solaris only)"
@@ -982,13 +901,13 @@
 ],
 [
 	if test "x$ac_system" = "xLinux"
 	then
 		with_lm_sensors="yes"
 	else
-		with_lm_sensors="no"
+		with_lm_sensors="no (Linux only library)"
 	fi
 ])
 if test "x$with_lm_sensors" = "xyes"
 then
 	AC_CHECK_LIB(sensors, sensors_init,
 	[
@@ -1176,16 +1095,12 @@
 		LDFLAGS="$save_LDFLAGS"
 		CPPFLAGS="$save_CPPFLAGS"
 	])
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBOPING, test "x$with_liboping" = "xyes")
 AM_CONDITIONAL(BUILD_WITH_OWN_LIBOPING, test "x$with_own_liboping" = "xyes")
-if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
-then
-	with_liboping="yes (shipped version)"
-fi
 
 AC_ARG_WITH(libpcap, [AS_HELP_STRING([--with-libpcap@<:@=PREFIX@:>@], [Path to libpcap.])],
 [
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
@@ -1313,48 +1228,235 @@
 	collect_libiptc=1
 else
 	collect_libiptc=0
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBIPTC, test "x$with_libiptc" = "xyes")
 
-# TODO: Use `libupsclient-config' here.
-AC_ARG_WITH(libupsclient, [AS_HELP_STRING([--with-libupsclient@<:@=PREFIX@:>@], [Path to libupsclient.])],
+AC_ARG_WITH(libnetsnmp, [AS_HELP_STRING([--with-libnetsnmp@<:@=PREFIX@:>@], [Path to the Net-SNMPD library.])],
 [
 	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libnetsnmp="yes"
+	fi
+],
+[with_libnetsnmp="yes"])
+if test "x$with_libnetsnmp" = "xyes"
+then
+	AC_CHECK_LIB(netsnmp, init_snmp,
+	[
+		AC_DEFINE(HAVE_LIBSNMP, 1, [Define to 1 if you have the Net-SNMP library (-lnetsnmp).])
+	], [with_libnetsnmp="no (libnetsnmp not found)"])
+fi
+if test "x$with_libnetsnmp" = "xyes"
+then
+	AC_CHECK_HEADERS(net-snmp/net-snmp-config.h,
+	[
+		AC_DEFINE(HAVE_NET_SNMP_NET_SNMP_CONFIG_H, 1, [Define to 1 if you have the <net-snmp/net-snmp-config.h> header file.])
+	], [with_libnetsnmp="no (net-snmp/net-snmp-config.h not found)"])
+fi
+AM_CONDITIONAL(BUILD_WITH_LIBNETSNMP, test "x$with_libnetsnmp" = "xyes")
+
+with_upsclient_config="libupsclient-config"
+with_upsclient_cflags=""
+with_upsclient_libs=""
+AC_ARG_WITH(libupsclient, [AS_HELP_STRING([--with-libupsclient@<:@=PREFIX@:>@], [Path to libupsclient.])],
+[
+	if test "x$withval" = "xno"
+	then
+		with_libupsclient="no"
+	else
 		with_libupsclient="yes"
+		if "x$withval" != "xyes"
+		then
+			with_upsclient_config="$withval/bin/libupsclient-config"
+		fi
 	fi
 ],
 [
 	with_libupsclient="yes"
 ])
 if test "x$with_libupsclient" = "xyes"
 then
+	with_upsclient_cflags=`$with_upsclient_config --cflags 2>/dev/null`
+	upsclient_config_status=$?
+
+	if test $upsclient_config_status -ne 0
+	then
+		with_libupsclient="no"
+	fi
+fi
+if test "x$with_libupsclient" = "xyes"
+then
+	with_upsclient_libs=`$with_upsclient_config --libs 2>/dev/null`
+	upsclient_config_status=$?
+
+	if test $upsclient_config_status -ne 0
+	then
+		with_libupsclient="no"
+	fi
+fi
+if test "x$with_libupsclient" = "xyes"
+then
+	CFLAGS_ORIG=$CFLAGS
+	CFLAGS="$CFLAGS $with_upsclient_cflags"
+	LDFLAGS_ORIG=$LDFLAGS
+	LDFLAGS="$LDFLAGS $with_upsclient_libs"
 	AC_CHECK_LIB(upsclient, upscli_connect,
 	[
-		AC_DEFINE(HAVE_LIBUPSCLIENT, 1, [Define to 1 if you have the upsclient library (-lupsclient).])
-	], [with_libupsclient="no (libupsclient not found)"])
+		BUILD_WITH_LIBUPSCLIENT_CFLAGS="$with_upsclient_cflags"
+		BUILD_WITH_LIBUPSCLIENT_LIBS="$with_upsclient_libs"
+		AC_SUBST(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
+		AC_SUBST(BUILD_WITH_LIBUPSCLIENT_LIBS)
+	],
+	[
+		with_libupsclient="no"
+	])
+	CFLAGS=$CFLAGS_ORIG
+	LDFLAGS=$LDFLAGS_ORIG
 fi
 if test "x$with_libupsclient" = "xyes"
 then
-	AC_CHECK_HEADERS(upsclient.h,
-	[
-		AC_DEFINE(HAVE_UPSCLIENT_H, 1, [Define to 1 if you have the <upsclient.h> header file.])
-	], [with_libupsclient="no (upsclient.h not found)"])
+	AC_DEFINE(HAVE_LIBUPSCLIENT, 1, [Define to 1 if you have the upsclient library (-lupsclient).])
 fi
 if test "x$with_libupsclient" = "xyes"
 then
 	AC_CHECK_TYPES([UPSCONN_t, UPSCONN], [], [], 
 [#include <stdlib.h>
 #include <stdio.h>
 #include <upsclient.h>])
 fi
 AM_CONDITIONAL(BUILD_WITH_LIBUPSCLIENT, test "x$with_libupsclient" = "xyes")
 
+### BEGIN of check for libxmms ###
+with_xmms_config="xmms-config"
+with_xmms_cflags=""
+with_xmms_libs=""
+AC_ARG_WITH(libxmms, [AS_HELP_STRING([--with-libxmms@<:@=PREFIX@:>@], [Path to libxmms.])],
+[
+	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+	then
+		if test -x "$withval/bin/xmms-config"
+		then
+			with_xmms_config="$withval/bin/xmms-config"
+		fi
+	fi
+	if test "x$withval" = "xno"
+	then
+		with_libxmms="no"
+	else
+		with_libxmms="yes"
+	fi
+],
+[
+	with_libxmms="yes"
+])
+if test "x$with_libxmms" = "xyes"
+then
+	with_xmms_cflags=`$with_xmms_config --cflags 2>/dev/null`
+	xmms_config_status=$?
+
+	if test $xmms_config_status -ne 0
+	then
+		with_libxmms="no"
+	fi
+fi
+if test "x$with_libxmms" = "xyes"
+then
+	with_xmms_libs=`$with_xmms_config --libs 2>/dev/null`
+	xmms_config_status=$?
+
+	if test $xmms_config_status -ne 0
+	then
+		with_libxmms="no"
+	fi
+fi
+if test "x$with_libxmms" = "xyes"
+then
+	AC_CHECK_LIB(xmms, xmms_remote_get_info,
+	[
+		BUILD_WITH_LIBXMMS_CFLAGS="$with_xmms_cflags"
+		BUILD_WITH_LIBXMMS_LIBS="$with_xmms_libs"
+		AC_SUBST(BUILD_WITH_LIBXMMS_CFLAGS)
+		AC_SUBST(BUILD_WITH_LIBXMMS_LIBS)
+	],
+	[
+		with_libxmms="no"
+	],
+	[$with_xmms_libs])
+fi
+with_libxmms_numeric=0
+if test "x$with_libxmms" = "xyes"
+then
+	with_libxmms_numeric=1
+fi
+AC_DEFINE_UNQUOTED(HAVE_LIBXMMS, [$with_libxmms_numeric], [Define to 1 if you have the 'xmms' library (-lxmms).])
+AM_CONDITIONAL(BUILD_WITH_LIBXMMS, test "x$with_libxmms" = "xyes")
+### END of check for libxmms ###
+
+with_libnetlink_cflags=""
+with_libnetlink_libs="-lnetlink"
+AC_ARG_WITH(libnetlink, [AS_HELP_STRING([--with-libnetlink@<:@=PREFIX@:>@], [Path to libnetlink.])],
+[
+ echo "libnetlink: withval = $withval"
+ if test "x$withval" = "xyes"
+ then
+	 with_libnetlink="yes"
+ else if test "x$withval" = "xno"
+ then
+	 with_libnetlink="no"
+ else
+	 if test -d "$withval/include"
+	 then
+		 with_libnetlink_cflags="-I$withval/include"
+		 with_libnetlink_libs="-L$withval/lib -lnetlink"
+		 with_libnetlink="yes"
+	 else
+		 AC_MSG_ERROR("no such directory: $withval/include")
+	 fi
+ fi; fi
+],
+[
+ if test "x$ac_system" = "xLinux"
+ then
+	 with_libnetlink="yes"
+ else
+	 with_libnetlink="no (Linux only library)"
+ fi
+])
+if test "x$with_libnetlink" = "xyes"
+then
+	SAVE_CFLAGS=$CFLAGS
+	CFLAGS="$CFLAGS $with_libnetlink_cflags"
+
+	AC_CHECK_HEADERS(iproute/libnetlink.h, [], [with_libnetlink="no (iproute/libnetlink.h not found)"],
+[#include <stdio.h>
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <linux/netlink.h>
+#include <linux/rtnetlink.h>])
+
+	CFLAGS="$SAVE_CFLAGS"
+fi
+if test "x$with_libnetlink" = "xyes"
+then
+	AC_CHECK_LIB(netlink, rtnl_open,
+		     [with_libnetlink="yes"],
+		     [with_libnetlink="no (symbol 'rtnl_open' not found)"],
+		     [$with_libnetlink_libs])
+fi
+if test "x$with_libnetlink" = "xyes"
+then
+	BUILD_WITH_LIBNETLINK_CFLAGS="$with_libnetlink_cflags"
+	BUILD_WITH_LIBNETLINK_LIBS="$with_libnetlink_libs"
+	AC_SUBST(BUILD_WITH_LIBNETLINK_CFLAGS)
+	AC_SUBST(BUILD_WITH_LIBNETLINK_LIBS)
+fi
+AM_CONDITIONAL(BUILD_WITH_LIBNETLINK, test "x$with_libnetlink" = "xyes")
+
 # Check for enabled/disabled features
 #
 
 # AC_COLLECTD(name, enable/disable, info-text, feature/module)
 # ------------------------------------------------------------
 dnl
@@ -1412,62 +1514,234 @@
 fi
 	AC_DEFINE_UNQUOTED([COLLECT_]my_toupper([$1]), [$collectd_$1], [wether or not to enable $3 $4])
 	AM_CONDITIONAL([BUILD_]my_toupper([$3])[_]my_toupper([$1]), [test "x$enable_$1" = "xyes"])dnl
 	]dnl
 )# AC_COLLECTD(name, enable/disable, info-text, feature/module)
 
+# AC_PLUGIN(name, default, info)
+# ------------------------------------------------------------
+dnl
+AC_DEFUN(
+  [AC_PLUGIN],
+  [
+    enable_plugin="no"
+    AC_ARG_ENABLE([$1], AC_HELP_STRING([--enable-$1], [$3]),
+    [
+     if test "x$enableval" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+    ],
+    [
+     if test "x$2" = "xyes"
+     then
+	     enable_plugin="yes"
+     else
+	     enable_plugin="no"
+     fi
+    ])
+    if test "x$enable_plugin" = "xyes"
+    then
+	    AC_DEFINE([HAVE_PLUGIN_]my_toupper([$1]), 1, [Define to 1 if the $1 plugin is enabled.])
+    fi
+    AM_CONDITIONAL([BUILD_PLUGIN_]my_toupper([$1]), test "x$enable_plugin" = "xyes")
+    enable_$1="$enable_plugin"
+  ]
+)# AC_PLUGIN(name, default, info)
+
 m4_divert_once([HELP_ENABLE], [
 collectd features:])
+# FIXME: Remove these calls to `AC_COLLECTD' and then remove that macro.
 AC_COLLECTD([debug],     [enable],  [feature], [debugging])
 AC_COLLECTD([daemon],    [disable], [feature], [daemon mode])
 AC_COLLECTD([getifaddrs],[enable],  [feature], [getifaddrs under Linux])
 
+plugin_battery="no"
+plugin_cpu="no"
+plugin_cpufreq="no"
+plugin_df="no"
+plugin_disk="no"
+plugin_entropy="no"
+plugin_interface="no"
+plugin_irq="no"
+plugin_load="no"
+plugin_memory="no"
+plugin_multimeter="no"
+plugin_nfs="no"
+plugin_processes="no"
+plugin_serial="no"
+plugin_swap="no"
+plugin_tape="no"
+plugin_users="no"
+plugin_vserver="no"
+plugin_wireless="no"
+
+# Linux
+if test "x$ac_system" = "xLinux"
+then
+	plugin_battery="yes"
+	plugin_cpu="yes"
+	plugin_cpufreq="yes"
+	plugin_disk="yes"
+	plugin_entropy="yes"
+	plugin_interface="yes"
+	plugin_irq="yes"
+	plugin_load="yes"
+	plugin_memory="yes"
+	plugin_nfs="yes"
+	plugin_processes="yes"
+	plugin_serial="yes"
+	plugin_swap="yes"
+	plugin_vserver="yes"
+	plugin_wireless="yes"
+fi
+
+# Mac OS X devices
+if test "x$with_libiokit" = "xyes"
+then
+	plugin_battery="yes"
+	plugin_disk="yes"
+fi
+
+# Solaris
+if test "x$with_devinfo$with_kstat" = "xyesyes"
+then
+	plugin_cpu="yes"
+	plugin_disk="yes"
+	plugin_interface="yes"
+	plugin_memory="yes"
+	plugin_swap="yes"
+	plugin_tape="yes"
+fi
+
+# libstatgrab
+if test "x$with_libstatgrab" = "xyes"
+then
+	plugin_interface="yes"
+	plugin_load="yes"
+	plugin_memory="yes"
+	plugin_swap="yes"
+fi
+
+if test "x$have_processor_info" = "xyes"
+then
+	plugin_cpu="yes"
+fi
+if test "x$have_sysctlbyname" = "xyes"
+then
+	plugin_cpu="yes"
+	plugin_memory="yes"
+fi
+
+if test "x$have_statfs" = "xyes"
+then
+	plugin_df="yes"
+fi
+if test "x$have_statvfs" = "xyes"
+then
+	plugin_df="yes"
+fi
+
+if test "x$have_getifaddrs" = "xyes"
+then
+	plugin_interface="yes"
+fi
+
+if test "x$have_getloadavg" = "xyes"
+then
+	plugin_load="yes"
+fi
+
+# Mac OS X memory interface
+if test "x$have_host_statistics" = "xyes"
+then
+	plugin_memory="yes"
+fi
+
+if test "x$have_termios_h" = "xyes"
+then
+	plugin_multimeter="yes"
+fi
+
+if test "x$have_thread_info" = "xyes"
+then
+	plugin_processes="yes"
+fi
+
+if test "x$with_libkvm" = "xyes"
+then
+	plugin_swap="yes"
+fi
+
+if test "x$have_getutent" = "xyes"
+then
+	plugin_users="yes"
+fi
+if test "x$have_getutxent" = "xyes"
+then
+	plugin_users="yes"
+fi
+
+# FIXME: sysctl for swap plugin
+
 m4_divert_once([HELP_ENABLE], [
-collectd modules:])
-AC_COLLECTD([apache],    [disable], [module], [Apache httpd statistics])
-AC_COLLECTD([apcups],    [disable], [module], [Statistics of UPSes by APC])
-AC_COLLECTD([apple_sensors], [disable], [module], [Apple's hardware sensors])
-AC_COLLECTD([battery],   [disable], [module], [battery statistics])
-AC_COLLECTD([cpu],       [disable], [module], [cpu usage statistics])
-AC_COLLECTD([cpufreq],   [disable], [module], [system cpu frequency statistics])
-AC_COLLECTD([disk],      [disable], [module], [disk/partition statistics])
-AC_COLLECTD([csv],       [disable], [module], [csv output plugin])
-AC_COLLECTD([df],        [disable], [module], [df statistics])
-AC_COLLECTD([dns],       [disable], [module], [dns statistics])
-AC_COLLECTD([email],     [disable], [module], [email statistics])
-AC_COLLECTD([entropy],   [disable], [module], [entropy statistics])
-AC_COLLECTD([exec],      [disable], [module], [exec of external programs])
-AC_COLLECTD([hddtemp],   [disable], [module], [hdd temperature statistics])
-AC_COLLECTD([interface], [disable], [module], [interface statistics])
-AC_COLLECTD([iptables],  [disable], [module], [IPtables statistics])
-AC_COLLECTD([irq],       [disable], [module], [irq statistics])
-AC_COLLECTD([load],      [disable], [module], [system load statistics])
-AC_COLLECTD([mbmon],     [disable], [module], [motherboard monitor statistics])
-AC_COLLECTD([memory],    [disable], [module], [memory statistics])
-AC_COLLECTD([multimeter],[disable], [module], [multimeter statistics])
-AC_COLLECTD([mysql],     [disable], [module], [mysql statistics])
-AC_COLLECTD([network],   [disable], [module], [network functionality])
-AC_COLLECTD([nfs],       [disable], [module], [nfs statistics])
-AC_COLLECTD([ntpd],      [disable], [module], [ntpd statistics])
-AC_COLLECTD([nut],       [disable], [module], [network UPS tools statistics])
-AC_COLLECTD([perl],      [disable], [module], [embedded perl interpreter])
-AC_COLLECTD([ping],      [disable], [module], [ping statistics])
-AC_COLLECTD([processes], [disable], [module], [processes statistics])
-AC_COLLECTD([sensors],   [disable], [module], [lm_sensors statistics])
-AC_COLLECTD([serial],    [disable], [module], [serial statistics])
-AC_COLLECTD([logfile],   [disable], [module], [logfile log facility])
-AC_COLLECTD([swap],      [disable], [module], [swap statistics])
-AC_COLLECTD([syslog],    [disable], [module], [syslog log facility])
-AC_COLLECTD([tape],      [disable], [module], [tape statistics])
-AC_COLLECTD([unixsock],  [disable], [module], [UNIX socket plugin])
-AC_COLLECTD([users],     [disable], [module], [user count statistics])
-AC_COLLECTD([vserver],   [disable], [module], [vserver statistics])
-AC_COLLECTD([wireless],  [disable], [module], [wireless link statistics])
+collectd plugins:])
+
+AC_PLUGIN([apache],      [$with_libcurl],      [Apache httpd statistics])
+AC_PLUGIN([apcups],      [yes],                [Statistics of UPSes by APC])
+AC_PLUGIN([apple_sensors], [$with_libiokit],   [Apple's hardware sensors])
+AC_PLUGIN([battery],     [$plugin_battery],    [Battery statistics])
+AC_PLUGIN([cpu],         [$plugin_cpu],        [CPU usage statistics])
+AC_PLUGIN([cpufreq],     [$plugin_cpufreq],    [CPU frequency statistics])
+AC_PLUGIN([csv],         [yes],                [CSV output plugin])
+AC_PLUGIN([df],          [$plugin_df],         [Filesystem usage statistics])
+AC_PLUGIN([disk],        [$plugin_disk],       [Disk usage statistics])
+AC_PLUGIN([dns],         [$with_libpcap],      [DNS traffic analysis])
+AC_PLUGIN([email],       [yes],                [EMail statistics])
+AC_PLUGIN([entropy],     [$plugin_entropy],    [Entropy statistics])
+AC_PLUGIN([exec],        [yes],                [Execution of external programs])
+AC_PLUGIN([hddtemp],     [yes],                [Query hddtempd])
+AC_PLUGIN([interface],   [$plugin_interface],  [Interface traffic statistics])
+AC_PLUGIN([iptables],    [$with_libiptc],      [IPTables rule counters])
+AC_PLUGIN([irq],         [$plugin_irq],        [IRQ statistics])
+AC_PLUGIN([load],        [$plugin_load],       [System load])
+AC_PLUGIN([logfile],     [yes],                [File logging plugin])
+AC_PLUGIN([mbmon],       [yes],                [Query mbmond])
+AC_PLUGIN([memory],      [$plugin_memory],     [Memory usage])
+AC_PLUGIN([multimeter],  [$plugin_multimeter], [Read multimeter values])
+AC_PLUGIN([mysql],       [$with_libmysql],     [MySQL statistics])
+AC_PLUGIN([netlink],     [$with_libnetlink],   [Enhanced Linux network statistics])
+AC_PLUGIN([network],     [yes],                [Network communication plugin])
+AC_PLUGIN([nfs],         [$plugin_nfs],        [NFS statistics])
+AC_PLUGIN([ntpd],        [yes],                [NTPd statistics])
+AC_PLUGIN([nut],         [$with_libupsclient], [Network UPS tools statistics])
+AC_PLUGIN([perl],        [$with_libperl],      [Embed a Perl interpreter])
+AC_PLUGIN([ping],        [$with_liboping],     [Network latency statistics])
+AC_PLUGIN([processes],   [$plugin_processes],  [Process statistics])
+AC_PLUGIN([rrdtool],     [$with_rrdtool],      [RRDTool output plugin])
+AC_PLUGIN([sensors],     [$with_lm_sensors],   [lm_sensors statistics])
+AC_PLUGIN([serial],      [$plugin_serial],     [serial port traffic])
+AC_PLUGIN([snmp],        [$with_libnetsnmp],   [SNMP querying plugin])
+AC_PLUGIN([swap],        [$plugin_swap],       [Swap usage statistics])
+AC_PLUGIN([syslog],      [$have_syslog],       [Syslog logging plugin])
+AC_PLUGIN([tape],        [$plugin_tape],       [Tape drive statistics])
+AC_PLUGIN([unixsock],    [yes],                [Unixsock communication plugin])
+AC_PLUGIN([users],       [$plugin_users],      [User statistics])
+AC_PLUGIN([vserver],     [$plugin_vserver],    [Linux VServer statistics])
+AC_PLUGIN([wireless],    [$plugin_wireless],   [Wireless statistics])
+AC_PLUGIN([xmms],        [$with_libxmms],      [XMMS statistics])
 
 AC_OUTPUT(Makefile src/Makefile src/collectd.conf src/liboconfig/Makefile src/liboping/Makefile)
 
+if test "x$with_liboping" = "xyes" -a "x$with_own_liboping" = "xyes"
+then
+	with_liboping="yes (shipped version)"
+fi
+
 if test "x$with_libperl" = "xyes"
 then
 	with_libperl="yes (version `perl -MConfig -e 'print $Config{version};'`)"
 else
 	enable_perl="no (needs libperl)"
 fi
@@ -1477,22 +1751,26 @@
 Configuration:
   Libraries:
     libcurl . . . . . . $with_libcurl
     libiokit  . . . . . $with_libiokit
     libiptc . . . . . . $with_libiptc
     libkstat  . . . . . $with_kstat
+    libkvm  . . . . . . $with_libkvm
     libmysql  . . . . . $with_libmysql
+    libnetlink  . . . . $with_libnetlink
+    libnetsnmp  . . . . $with_libnetsnmp
     liboconfig  . . . . $with_liboconfig
     liboping  . . . . . $with_liboping
     libpcap . . . . . . $with_libpcap
     libperl . . . . . . $with_libperl
     libpthread  . . . . $with_libpthread
     librrd  . . . . . . $with_rrdtool
     libsensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libupsclient  . . . $with_libupsclient
+    libxmms . . . . . . $with_libxmms
 
   Features:
     daemon mode . . . . $enable_daemon
     debug . . . . . . . $enable_debug
 
   Modules:
@@ -1516,24 +1794,27 @@
     load  . . . . . . . $enable_load
     logfile . . . . . . $enable_logfile
     mbmon . . . . . . . $enable_mbmon
     memory  . . . . . . $enable_memory
     multimeter  . . . . $enable_multimeter
     mysql . . . . . . . $enable_mysql
+    netlink . . . . . . $enable_netlink
     network . . . . . . $enable_network
     nfs . . . . . . . . $enable_nfs
     ntpd  . . . . . . . $enable_ntpd
     nut . . . . . . . . $enable_nut
     perl  . . . . . . . $enable_perl
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
+    snmp  . . . . . . . $enable_snmp
     swap  . . . . . . . $enable_swap
     syslog  . . . . . . $enable_syslog
     tape  . . . . . . . $enable_tape
     unixsock  . . . . . $enable_unixsock
     users . . . . . . . $enable_users
     vserver . . . . . . $enable_vserver
     wireless  . . . . . $enable_wireless
+    xmms  . . . . . . . $enable_xmms
 
 EOF
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/collection.cgi	2007-09-28 21:45:29.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/collection.cgi	2007-09-02 03:00:40.000000000 +0800
@@ -456,198 +456,279 @@
 
 sub action_show_host
 {
   my @hosts = _get_param_host ();
   @hosts = sort (@hosts);
 
-  my $timespan = _get_param_timespan ();
-  my $all_plugins = _find_files_for_hosts (@hosts);
-
-  my $url_prefix = script_name () . '?action=show_plugin'
-  . join ('', map { ';host=' . uri_escape ($_) } (@hosts))
-  . ';timespan=' . uri_escape ($timespan);
-
-  print qq(    <div><a href="${\script_name ()}?action=overview">Back to list of hosts</a></div>\n);
-
-  print "    <p>Available plugins:</p>\n"
-  . "    <ul>\n";
-  for (sort (keys %$all_plugins))
-  {
-    my $plugin = $_;
-    my $plugin_html = encode_entities ($plugin);
-    my $url_plugin = $url_prefix . ';plugin=' . uri_escape ($plugin);
-    print qq(      <li><a href="$url_plugin">$plugin_html</a></li>\n);
-  }
-  print "   </ul>\n";
-} # action_show_host
-
-sub action_show_plugin
-{
-  my @hosts = _get_param_host ();
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $timespan = _get_param_timespan ();
-
-  my $hosts_url = join (';', map { 'host=' . uri_escape ($_) } (@hosts));
-  my $url_prefix = script_name () . "?$hosts_url";
-
   my $all_plugins = {};
   my $plugins_per_host = {};
-  my $selected_plugins = {};
+
+  my $timespan = _get_param_timespan ();
 
   for (my $i = 0; $i < @hosts; $i++)
   {
     $plugins_per_host->{$hosts[$i]} = _find_files_for_host ($hosts[$i]);
     _files_union ($all_plugins, $plugins_per_host->{$hosts[$i]});
   }
 
-  for (param ('plugin'))
-  {
-    if (defined ($all_plugins->{$_}))
-    {
-      $selected_plugins->{$_} = 1;
-    }
-  }
+  my $param_host = join (";", map { "host=" . encode_entities ($_) } (@hosts));
 
-  print qq(    <div><a href="${\script_name ()}?action=show_host;$hosts_url">Back to list of plugins</a></div>\n);
+  print '<!-- ', Data::Dumper->Dump ([$all_plugins], ['all_plugins']), " -->\n";
+
+  my @plugins = sort (keys %$all_plugins);
+
+  print qq(    <div><a href="${\script_name ()}?action=overview">Back to list of hosts</a></div>\n);
 
-  # Print table header
   print <<HTML;
     <table class="graphs">
       <tr>
-        <th>Plugins</th>
+	<th>Plugin</th>
 HTML
-  for (@hosts)
+  for (my $i = 0; $i < @hosts; $i++)
   {
-    print "\t<th>", encode_entities ($_), "</th>\n";
+    print "\t<th>", encode_entities ($hosts[$i]), "</th>\n";
   }
   print "      </tr>\n";
-
-  for (sort (keys %$selected_plugins))
+  for (my $i = 0; $i < @plugins; $i++)
   {
-    my $plugin = $_;
-    my $plugin_html = encode_entities ($plugin);
-    my $plugin_url = "$url_prefix;plugin=" . uri_escape ($plugin);
-    my $all_pinst = $all_plugins->{$plugin};
+    my $plugin = $plugins[$i];
+    my $plugin_esc = encode_entities ($plugins[$i]);
+
+    my @pinsts = sort (keys %{$all_plugins->{$plugin}});
 
-    for (sort (keys %$all_pinst))
+    for (my $j = 0; $j < @pinsts; $j++)
     {
-      my $pinst = $_;
-      my $pinst_html = '';
-      my $pinst_url = $plugin_url;
+      my $pinst = $pinsts[$j];
+      my $pinst_esc = encode_entities ($pinst);
+      my $title = $plugin . ($pinst ne '-' ? " ($pinst)" : '');
+      my $title_esc = encode_entities ($title);
 
+      my $param_plugin = "plugin=$plugin_esc";
       if ($pinst ne '-')
       {
-	$pinst_html = encode_entities ($pinst);
-	$pinst_url .= ';plugin_instance=' . uri_escape ($pinst);
+	$param_plugin .= ";plugin_instance=$pinst_esc";
       }
 
       my $files_printed = 0;
-      my $files_num = _files_plugin_inst_count ($all_pinst->{$pinst});
-      if ($files_num < 1)
-      {
-	next;
-      }
+      my $files_num = _files_plugin_inst_count ($all_plugins->{$plugin}{$pinst});
+      next if (!$files_num);
+
       my $rowspan = ($files_num == 1) ? '' : qq( rowspan="$files_num");
 
       for (sort (keys %{$all_plugins->{$plugin}{$pinst}}))
       {
 	my $type = $_;
-	my $type_html = encode_entities ($type);
-	my $type_url = "$pinst_url;type=" . uri_escape ($type);
-
-	if ($files_printed == 0)
-	{
-	  my $title = $plugin_html;
-	  if ($pinst ne '-')
-	  {
-	    $title .= " ($pinst_html)";
-	  }
-	  print "      <tr>\n";
-	  print "\t<td$rowspan>$title</td>\n";
-	}
+	my $type_esc = encode_entities ($type);
 
 	if (exists ($MetaGraphDefs->{$type}))
 	{
-	  my $graph_url = script_name () . '?action=show_graph'
-	  . ';plugin=' . uri_escape ($plugin)
-	  . ';type=' . uri_escape ($type)
-	  . ';timespan=' . uri_escape ($timespan);
-	  if ($pinst ne '-')
-	  {
-	    $graph_url .= ';plugin_instance=' . uri_escape ($pinst);
-	  }
+	  my $param_type = "type=$type_esc";
 
-	  if ($files_printed != 0)
+	  print "      <tr>\n";
+	  if ($files_printed == 0)
 	  {
-	    print "      <tr>\n";
+	    print "\t<td$rowspan>$title_esc</td>\n";
 	  }
 
-	  for (@hosts)
+	  for (my $k = 0; $k < @hosts; $k++)
 	  {
-	    my $host = $_;
-	    my $host_graph_url = $graph_url . ';host=' . uri_escape ($host);
+	    my $host = $hosts[$k];
+	    my $host_esc = encode_entities ($host);
 
 	    print "\t<td>";
 	    if (exists $plugins_per_host->{$host}{$plugin}{$pinst}{$type})
 	    {
-	      print qq(<img src="$host_graph_url" />);
-	      #print encode_entities (qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />));
+	      #print qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />);
+	      print encode_entities (qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />));
 	    }
 	    print "</td>\n";
 	  } # for (my $k = 0; $k < @hosts; $k++)
 
 	  print "      </tr>\n";
 
 	  $files_printed++;
 	  next; # pinst
-	} # if (exists ($MetaGraphDefs->{$type}))
+	}
 
 	for (sort (keys %{$all_plugins->{$plugin}{$pinst}{$type}}))
 	{
 	  my $tinst = $_;
 	  my $tinst_esc = encode_entities ($tinst);
-	  my $graph_url = script_name () . '?action=show_graph'
-	  . ';plugin=' . uri_escape ($plugin)
-	  . ';type=' . uri_escape ($type)
-	  . ';timespan=' . uri_escape ($timespan);
-	  if ($pinst ne '-')
-	  {
-	    $graph_url .= ';plugin_instance=' . uri_escape ($pinst);
-	  }
+
+	  my $param_type = "type=$type_esc";
 	  if ($tinst ne '-')
 	  {
-	    $graph_url .= ';type_instance=' . uri_escape ($tinst);
+	    $param_type .= ";type_instance=$tinst_esc";
 	  }
 
-	  if ($files_printed != 0)
+	  print "      <tr>\n";
+	  if ($files_printed == 0)
 	  {
-	    print "      <tr>\n";
+	    print "\t<td$rowspan>$title_esc</td>\n";
 	  }
 
 	  for (my $k = 0; $k < @hosts; $k++)
 	  {
 	    my $host = $hosts[$k];
-	    my $host_graph_url = $graph_url . ';host=' . uri_escape ($host);
+	    my $host_esc = encode_entities ($host);
 
 	    print "\t<td>";
 	    if ($plugins_per_host->{$host}{$plugin}{$pinst}{$type}{$tinst})
 	    {
-	      print qq(<img src="$host_graph_url" />);
-	      #print encode_entities (qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />));
+	      #print qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />);
+	      print encode_entities (qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />));
 	    }
 	    print "</td>\n";
 	  } # for (my $k = 0; $k < @hosts; $k++)
 
 	  print "      </tr>\n";
 
 	  $files_printed++;
 	} # for ($tinst)
       } # for ($type)
-    } # for ($pinst)
-  } # for ($plugin)
+    } # for (my $j = 0; $j < @pinsts; $j++)
+  } # for (my $i = 0; $i < @plugins; $i++)
+  print "   </table>\n";
+} # action_show_host
+
+sub action_show_plugin
+{
+  my @hosts = _get_param_host ();
+  my $plugin = shift;
+  my $plugin_instance = shift;
+  my $timespan = _get_param_timespan ();
+
+  my $hosts_url = join (';', map { 'host=' . uri_escape ($_) } (@hosts));
+  my $plugin_esc = encode_entities ($plugin);
+  my $plugin_url = uri_escape ($plugin);
+  my $plugin_instance_url = defined ($plugin_instance) ? uri_escape ($plugin_instance) : undef;
+
+  my $all_plugins = {};
+  my $plugins_per_host = {};
+
+  for (my $i = 0; $i < @hosts; $i++)
+  {
+    $plugins_per_host->{$hosts[$i]} = _find_files_for_host ($hosts[$i]);
+    _files_union ($all_plugins, $plugins_per_host->{$hosts[$i]});
+  }
+
+  my $url_prefix = script_name () . "?$hosts_url;plugin=$plugin_url";
+  $url_prefix .= ";plugin_instance=$plugin_instance_url" if (defined ($plugin_instance));
+
+  print qq(    <div><a href="${\script_name ()}?action=show_host;$hosts_url">Back to list of plugins</a></div>\n);
+
+  if (!defined ($all_plugins->{$plugin}))
+  {
+    print qq(    <div class="error">Plugin &quot;${\encode_entities ($plugin)}&quot; not found for host &quot;${\encode_entities (@hosts)}&quot;.</div>\n);
+    return;
+  }
+
+  my @pinsts = sort (keys %{$all_plugins->{$plugin}});
+
+  print <<HTML;
+    <table class="graphs">
+      <tr>
+	<th>Plugin</th>
+HTML
+  for (my $i = 0; $i < @hosts; $i++)
+  {
+    print "\t<th>", encode_entities ($hosts[$i]), "</th>\n";
+  }
+  print "      </tr>\n";
+
+  for (my $j = 0; $j < @pinsts; $j++)
+  {
+    my $pinst = $pinsts[$j];
+    my $pinst_esc = encode_entities ($pinst);
+    my $title = $plugin . ($pinst ne '-' ? " ($pinst)" : '');
+    my $title_esc = encode_entities ($title);
+
+    my $param_plugin = "plugin=$plugin_esc";
+    if ($pinst ne '-')
+    {
+      $param_plugin .= ";plugin_instance=$pinst_esc";
+    }
+
+    my $files_printed = 0;
+    my $files_num = _files_plugin_inst_count ($all_plugins->{$plugin}{$pinst});
+    next if (!$files_num);
+
+    my $rowspan = ($files_num == 1) ? '' : qq( rowspan="$files_num");
+
+    for (sort (keys %{$all_plugins->{$plugin}{$pinst}}))
+    {
+      my $type = $_;
+      my $type_esc = encode_entities ($type);
+
+      if (exists ($MetaGraphDefs->{$type}))
+      {
+	my $param_type = "type=$type_esc";
+
+	print "      <tr>\n";
+	if ($files_printed == 0)
+	{
+	  print "\t<td$rowspan>$title_esc</td>\n";
+	}
+
+	for (my $k = 0; $k < @hosts; $k++)
+	{
+	  my $host = $hosts[$k];
+	  my $host_esc = encode_entities ($host);
+
+	  print "\t<td>";
+	  if (exists $plugins_per_host->{$host}{$plugin}{$pinst}{$type})
+	  {
+	    print qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />);
+	    #print encode_entities (qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />));
+	  }
+	  print "</td>\n";
+	} # for (my $k = 0; $k < @hosts; $k++)
+
+	print "      </tr>\n";
+
+	$files_printed++;
+	next; # pinst
+      }
+
+      for (sort (keys %{$all_plugins->{$plugin}{$pinst}{$type}}))
+      {
+	my $tinst = $_;
+	my $tinst_esc = encode_entities ($tinst);
+
+	my $param_type = "type=$type_esc";
+	if ($tinst ne '-')
+	{
+	  $param_type .= ";type_instance=$tinst_esc";
+	}
+
+	print "      <tr>\n";
+	if ($files_printed == 0)
+	{
+	  print "\t<td$rowspan>$title_esc</td>\n";
+	}
+
+	for (my $k = 0; $k < @hosts; $k++)
+	{
+	  my $host = $hosts[$k];
+	  my $host_esc = encode_entities ($host);
+
+	  print "\t<td>";
+	  if ($plugins_per_host->{$host}{$plugin}{$pinst}{$type}{$tinst})
+	  {
+	    print qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />);
+	    #print encode_entities (qq(<img src="${\script_name ()}?action=show_graph;host=$host_esc;$param_plugin;$param_type;timespan=$timespan" />));
+	  }
+	  print "</td>\n";
+	} # for (my $k = 0; $k < @hosts; $k++)
+
+	print "      </tr>\n";
+
+	$files_printed++;
+      } # for ($tinst)
+    } # for ($type)
+  } # for (my $j = 0; $j < @pinsts; $j++)
   print "   </table>\n";
 } # action_show_plugin
 
 sub action_show_type
 {
   my $host = shift;
@@ -746,13 +827,13 @@
     print qq(\t  <option value="$host"$selected>$host</option>\n);
   }
   print "\t</select>\n";
 
   if (keys %selected_hosts)
   {
-    my $all_plugins = _find_files_for_hosts (keys %selected_hosts);
+    my $all_plugins = _find_files_for_hosts (@hosts);
     my %selected_plugins = map { $_ => 1 } (param ('plugin'));
 
     print qq(\t<select name="plugin" multiple="multiple" size="10">\n);
     for (sort (keys %$all_plugins))
     {
       my $plugin = $_;
@@ -941,40 +1022,52 @@
     "LINE1:avg#$FullBlue:Bits/s",
     'GPRINT:min:MIN:%5.1lf%s Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%s Average,',
     'GPRINT:max:MAX:%5.1lf%s Max,',
     'GPRINT:avg:LAST:%5.1lf%s Last\l'
     ],
-    charge => ['-v', 'Ah',
-    'DEF:avg={file}:value:AVERAGE',
-    'DEF:min={file}:value:MIN',
-    'DEF:max={file}:value:MAX',
+    charge => [
+    'DEF:avg={file}:charge:AVERAGE',
+    'DEF:min={file}:charge:MIN',
+    'DEF:max={file}:charge:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Charge",
     'GPRINT:min:MIN:%5.1lf%sAh Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%sAh Avg,',
     'GPRINT:max:MAX:%5.1lf%sAh Max,',
     'GPRINT:avg:LAST:%5.1lf%sAh Last\l'
     ],
+    charge_percent => [
+    'DEF:avg={file}:percent:AVERAGE',
+    'DEF:min={file}:percent:MIN',
+    'DEF:max={file}:percent:MAX',
+    "AREA:max#$HalfBlue",
+    "AREA:min#$Canvas",
+    "LINE1:avg#$FullBlue:Charge",
+    'GPRINT:min:MIN:%5.1lf%s%% Min,',
+    'GPRINT:avg:AVERAGE:%5.1lf%s%% Avg,',
+    'GPRINT:max:MAX:%5.1lf%s%% Max,',
+    'GPRINT:avg:LAST:%5.1lf%s%% Last\l'
+    ],
     cpu => ['-v', 'CPU load',
     'DEF:avg={file}:value:AVERAGE',
     'DEF:min={file}:value:MIN',
     'DEF:max={file}:value:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Percent",
     'GPRINT:min:MIN:%6.2lf%% Min,',
     'GPRINT:avg:AVERAGE:%6.2lf%% Avg,',
     'GPRINT:max:MAX:%6.2lf%% Max,',
     'GPRINT:avg:LAST:%6.2lf%% Last\l'
     ],
-    current => ['-v', 'Ampere',
-    'DEF:avg={file}:value:AVERAGE',
-    'DEF:min={file}:value:MIN',
-    'DEF:max={file}:value:MAX',
+    current => [
+    'DEF:avg={file}:current:AVERAGE',
+    'DEF:min={file}:current:MIN',
+    'DEF:max={file}:current:MAX',
     "AREA:max#$HalfBlue",
     "AREA:min#$Canvas",
     "LINE1:avg#$FullBlue:Current",
     'GPRINT:min:MIN:%5.1lf%sA Min,',
     'GPRINT:avg:AVERAGE:%5.1lf%sA Avg,',
     'GPRINT:max:MAX:%5.1lf%sA Max,',
@@ -1573,63 +1666,57 @@
     mysql_commands => ['-v', 'Issues/s',
     "DEF:val_avg={file}:value:AVERAGE",
     "DEF:val_min={file}:value:MIN",
     "DEF:val_max={file}:value:MAX",
     "AREA:val_max#$HalfBlue",
     "AREA:val_min#$Canvas",
-    "LINE1:val_avg#$FullBlue:Issues/s",
+    "LINE1:val_avg#$FullBlue:{inst}",
     'GPRINT:val_min:MIN:%5.2lf Min,',
     'GPRINT:val_avg:AVERAGE:%5.2lf Avg,',
     'GPRINT:val_max:MAX:%5.2lf Max,',
     'GPRINT:val_avg:LAST:%5.2lf Last'
     ],
     mysql_handler => ['-v', 'Issues/s',
     "DEF:val_avg={file}:value:AVERAGE",
     "DEF:val_min={file}:value:MIN",
     "DEF:val_max={file}:value:MAX",
     "AREA:val_max#$HalfBlue",
     "AREA:val_min#$Canvas",
-    "LINE1:val_avg#$FullBlue:Issues/s",
+    "LINE1:val_avg#$FullBlue:{inst}",
     'GPRINT:val_min:MIN:%5.2lf Min,',
     'GPRINT:val_avg:AVERAGE:%5.2lf Avg,',
     'GPRINT:val_max:MAX:%5.2lf Max,',
     'GPRINT:val_avg:LAST:%5.2lf Last'
     ],
-    mysql_octets => ['-v', 'Bits/s',
+    mysql_octets => ['-v', 'Bytes/s',
     'DEF:out_min={file}:tx:MIN',
     'DEF:out_avg={file}:tx:AVERAGE',
     'DEF:out_max={file}:tx:MAX',
     'DEF:inc_min={file}:rx:MIN',
     'DEF:inc_avg={file}:rx:AVERAGE',
     'DEF:inc_max={file}:rx:MAX',
+    'CDEF:overlap=out_avg,inc_avg,GT,inc_avg,out_avg,IF',
     'CDEF:mytime=out_avg,TIME,TIME,IF',
     'CDEF:sample_len_raw=mytime,PREV(mytime),-',
     'CDEF:sample_len=sample_len_raw,UN,0,sample_len_raw,IF',
     'CDEF:out_avg_sample=out_avg,UN,0,out_avg,IF,sample_len,*',
     'CDEF:out_avg_sum=PREV,UN,0,PREV,IF,out_avg_sample,+',
     'CDEF:inc_avg_sample=inc_avg,UN,0,inc_avg,IF,sample_len,*',
     'CDEF:inc_avg_sum=PREV,UN,0,PREV,IF,inc_avg_sample,+',
-    'CDEF:out_bit_min=out_min,8,*',
-    'CDEF:out_bit_avg=out_avg,8,*',
-    'CDEF:out_bit_max=out_max,8,*',
-    'CDEF:inc_bit_min=inc_min,8,*',
-    'CDEF:inc_bit_avg=inc_avg,8,*',
-    'CDEF:inc_bit_max=inc_max,8,*',
-    'CDEF:overlap=out_bit_avg,inc_bit_avg,GT,inc_bit_avg,out_bit_avg,IF',
-    "AREA:out_bit_avg#$HalfGreen",
-    "AREA:inc_bit_avg#$HalfBlue",
+    "AREA:out_avg#$HalfGreen",
+    "AREA:inc_avg#$HalfBlue",
     "AREA:overlap#$HalfBlueGreen",
-    "LINE1:out_bit_avg#$FullGreen:Written",
-    'GPRINT:out_bit_avg:AVERAGE:%5.1lf%s Avg,',
-    'GPRINT:out_bit_max:MAX:%5.1lf%s Max,',
-    'GPRINT:out_bit_avg:LAST:%5.1lf%s Last',
+    "LINE1:out_avg#$FullGreen:Written",
+    'GPRINT:out_avg:AVERAGE:%5.1lf%s Avg,',
+    'GPRINT:out_max:MAX:%5.1lf%s Max,',
+    'GPRINT:out_avg:LAST:%5.1lf%s Last',
     'GPRINT:out_avg_sum:LAST:(ca. %5.1lf%sB Total)\l',
-    "LINE1:inc_bit_avg#$FullBlue:Read   ",
-    'GPRINT:inc_bit_avg:AVERAGE:%5.1lf%s Avg,',
-    'GPRINT:inc_bit_max:MAX:%5.1lf%s Max,',
-    'GPRINT:inc_bit_avg:LAST:%5.1lf%s Last',
+    "LINE1:inc_avg#$FullBlue:Read   ",
+    'GPRINT:inc_avg:AVERAGE:%5.1lf%s Avg,',
+    'GPRINT:inc_max:MAX:%5.1lf%s Max,',
+    'GPRINT:inc_avg:LAST:%5.1lf%s Last',
     'GPRINT:inc_avg_sum:LAST:(ca. %5.1lf%sB Total)\l'
     ],
     mysql_qcache => ['-v', 'Queries/s',
     "DEF:hits_min={file}:hits:MIN",
     "DEF:hits_avg={file}:hits:AVERAGE",
     "DEF:hits_max={file}:hits:MAX",
@@ -2116,14 +2203,20 @@
     ],
     temperature => ['-v', 'Celsius',
     'DEF:temp_avg={file}:value:AVERAGE',
     'DEF:temp_min={file}:value:MIN',
     'DEF:temp_max={file}:value:MAX',
     'CDEF:average=temp_avg,0.2,*,PREV,UN,temp_avg,PREV,IF,0.8,*,+',
+    'CDEF:derivative=PREV(average),average,-',
+    'CDEF:rising=derivative,-0.01,LT,INF,UNKN,IF',
+    'CDEF:falling=derivative,0.01,GT,INF,UNKN,IF',
+    "AREA:rising#f0fff0",
+    "AREA:falling#fff0f0",
     "AREA:temp_max#$HalfRed",
     "AREA:temp_min#$Canvas",
+    #"LINE1:average#000000",
     "LINE1:temp_avg#$FullRed:Temperature",
     'GPRINT:temp_min:MIN:%4.1lf Min,',
     'GPRINT:temp_avg:AVERAGE:%4.1lf Avg,',
     'GPRINT:temp_max:MAX:%4.1lf Max,',
     'GPRINT:temp_avg:LAST:%4.1lf Last\l'
     ],
@@ -2317,20 +2410,13 @@
     ],
   };
   $GraphDefs->{'if_multicast'} = $GraphDefs->{'ipt_packets'};
   $GraphDefs->{'if_tx_errors'} = $GraphDefs->{'if_rx_errors'};
 
   $MetaGraphDefs->{'cpu'} = \&meta_graph_cpu;
-  $MetaGraphDefs->{'if_rx_errors'} = \&meta_graph_if_rx_errors;
-  $MetaGraphDefs->{'if_tx_errors'} = \&meta_graph_if_rx_errors;
   $MetaGraphDefs->{'memory'} = \&meta_graph_memory;
-  $MetaGraphDefs->{'nfs_procedure'} = \&meta_graph_nfs_procedure;
-  $MetaGraphDefs->{'ps_state'} = \&meta_graph_ps_state;
-  $MetaGraphDefs->{'swap'} = \&meta_graph_swap;
-  $MetaGraphDefs->{'mysql_commands'} = \&meta_graph_mysql_commands;
-  $MetaGraphDefs->{'mysql_handler'} = \&meta_graph_mysql_commands;
 } # load_graph_definitions
 
 sub meta_graph_generic_stack
 {
   confess ("Wrong number of arguments") if (@_ != 2);
 
@@ -2368,27 +2454,23 @@
       qq#DEF:${inst_name}_min=$file:value:MIN#,
       qq#DEF:${inst_name}_avg=$file:value:AVERAGE#,
       qq#DEF:${inst_name}_max=$file:value:MAX#,
       qq#CDEF:${inst_name}_nnl=${inst_name}_avg,UN,0,${inst_name}_avg,IF#);
   }
 
+  for (my $i = 0; $i < @$sources; $i++)
   {
-    my $inst_data = $sources->[@$sources - 1];
-    my $inst_name = $inst_data->{'name'};
-
-    push (@cmd, qq#CDEF:${inst_name}_stk=${inst_name}_nnl#);
-  }
-  for (my $i = 1; $i < @$sources; $i++)
-  {
-    my $inst_data0 = $sources->[@$sources - ($i + 1)];
-    my $inst_data1 = $sources->[@$sources - $i];
+    my $inst_data0 = $sources->[@$sources - (1 + $i)];
+    my $inst_data1 = $sources->[@$sources - (($i == 0) ? 1 : $i)];
 
     my $inst_name0 = $inst_data0->{'name'};
     my $inst_name1 = $inst_data1->{'name'};
 
-    push (@cmd, qq#CDEF:${inst_name0}_stk=${inst_name0}_nnl,${inst_name1}_stk,+#);
+    my $cdef_name = ($i == 0) ? 'nnl' : 'stk';
+
+    push (@cmd, qq#CDEF:${inst_name0}_stk=${inst_name0}_nnl,${inst_name1}_${cdef_name},+#);
   }
 
   for (my $i = 0; $i < @$sources; $i++)
   {
     my $inst_data = $sources->[$i];
     my $inst_name = $inst_data->{'name'};
@@ -2414,13 +2496,13 @@
 
     push (@cmd, qq(AREA:${inst_name}_stk#$area_color),
       qq(LINE1:${inst_name}_stk#$line_color:$legend),
       qq(GPRINT:${inst_name}_min:MIN:$number_format Min,),
       qq(GPRINT:${inst_name}_avg:AVERAGE:$number_format Avg,),
       qq(GPRINT:${inst_name}_max:MAX:$number_format Max,),
-      qq(GPRINT:${inst_name}_avg:LAST:$number_format Last\\l),
+      qq(GPRINT:${inst_name}_avg:LAST:$number_format Last\l),
     );
   }
 
   RRDs::graph (@cmd);
   if (my $errmsg = RRDs::error ())
   {
@@ -2502,13 +2584,13 @@
   my $sources = [];
 
   $opts->{'title'} = "$host/$plugin"
   . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
   $opts->{'number_format'} = '%5.1lf%s';
 
-  $opts->{'rrd_opts'} = ['-b', '1024', '-v', 'Bytes'];
+  $opts->{'rrd_opts'} = ['-b', '1024'];
 
   my @files = ();
 
   $opts->{'colors'} =
   {
     'free'     => '00e000',
@@ -2544,261 +2626,7 @@
     );
   } # for (@$type_instances)
 
   return (meta_graph_generic_stack ($opts, $sources));
 } # meta_graph_cpu
 
-sub meta_graph_if_rx_errors
-{
-  confess ("Wrong number of arguments") if (@_ != 5);
-
-  my $host = shift;
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $type = shift;
-  my $type_instances = shift;
-
-  my $opts = {};
-  my $sources = [];
-
-  $opts->{'title'} = "$host/$plugin"
-  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
-  $opts->{'number_format'} = '%5.2lf';
-  $opts->{'rrd_opts'} = ['-v', 'Errors/s'];
-
-  my @files = ();
-
-  for (sort @$type_instances)
-  {
-    my $inst = $_;
-    my $file = '';
-    my $title = $opts->{'title'};
-
-    for (@DataDirs)
-    {
-      if (-e "$_/$title-$inst.rrd")
-      {
-	$file = "$_/$title-$inst.rrd";
-	last;
-      }
-    }
-    confess ("No file found for $title") if ($file eq '');
-
-    push (@$sources,
-      {
-	name => $inst,
-	file => $file
-      }
-    );
-  } # for (@$type_instances)
-
-  return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_if_rx_errors
-
-sub meta_graph_mysql_commands
-{
-  confess ("Wrong number of arguments") if (@_ != 5);
-
-  my $host = shift;
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $type = shift;
-  my $type_instances = shift;
-
-  my $opts = {};
-  my $sources = [];
-
-  $opts->{'title'} = "$host/$plugin"
-  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
-  $opts->{'number_format'} = '%5.2lf';
-
-  my @files = ();
-
-  for (sort @$type_instances)
-  {
-    my $inst = $_;
-    my $file = '';
-    my $title = $opts->{'title'};
-
-    for (@DataDirs)
-    {
-      if (-e "$_/$title-$inst.rrd")
-      {
-	$file = "$_/$title-$inst.rrd";
-	last;
-      }
-    }
-    confess ("No file found for $title") if ($file eq '');
-
-    push (@$sources,
-      {
-	name => $inst,
-	file => $file
-      }
-    );
-  } # for (@$type_instances)
-
-  return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_mysql_commands
-
-sub meta_graph_nfs_procedure
-{
-  confess ("Wrong number of arguments") if (@_ != 5);
-
-  my $host = shift;
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $type = shift;
-  my $type_instances = shift;
-
-  my $opts = {};
-  my $sources = [];
-
-  $opts->{'title'} = "$host/$plugin"
-  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
-  $opts->{'number_format'} = '%5.1lf%s';
-
-  my @files = ();
-
-  for (sort @$type_instances)
-  {
-    my $inst = $_;
-    my $file = '';
-    my $title = $opts->{'title'};
-
-    for (@DataDirs)
-    {
-      if (-e "$_/$title-$inst.rrd")
-      {
-	$file = "$_/$title-$inst.rrd";
-	last;
-      }
-    }
-    confess ("No file found for $title") if ($file eq '');
-
-    push (@$sources,
-      {
-	name => $inst,
-	file => $file
-      }
-    );
-  } # for (@$type_instances)
-
-  return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_nfs_procedure
-
-sub meta_graph_ps_state
-{
-  confess ("Wrong number of arguments") if (@_ != 5);
-
-  my $host = shift;
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $type = shift;
-  my $type_instances = shift;
-
-  my $opts = {};
-  my $sources = [];
-
-  $opts->{'title'} = "$host/$plugin"
-  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
-
-  my @files = ();
-
-  $opts->{'colors'} =
-  {
-    'Running'      => '00e000',
-    'Sleeping'  => '0000ff',
-    'Paging'      => 'ffb000',
-    'Zombies'   => 'ff0000',
-    'Blocked'   => 'ff00ff',
-    'Stopped' => 'a000a0'
-  };
-
-  _custom_sort_arrayref ($type_instances,
-    [qw(paging blocked zombies stopped running sleeping)]);
-
-  for (@$type_instances)
-  {
-    my $inst = $_;
-    my $file = '';
-    my $title = $opts->{'title'};
-
-    for (@DataDirs)
-    {
-      if (-e "$_/$title-$inst.rrd")
-      {
-	$file = "$_/$title-$inst.rrd";
-	last;
-      }
-    }
-    confess ("No file found for $title") if ($file eq '');
-
-    push (@$sources,
-      {
-	name => ucfirst ($inst),
-	file => $file
-      }
-    );
-  } # for (@$type_instances)
-
-  return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_ps_state
-
-sub meta_graph_swap
-{
-  confess ("Wrong number of arguments") if (@_ != 5);
-
-  my $host = shift;
-  my $plugin = shift;
-  my $plugin_instance = shift;
-  my $type = shift;
-  my $type_instances = shift;
-
-  my $opts = {};
-  my $sources = [];
-
-  $opts->{'title'} = "$host/$plugin"
-  . (defined ($plugin_instance) ? "-$plugin_instance" : '') . "/$type";
-  $opts->{'number_format'} = '%5.1lf%s';
-
-  my @files = ();
-
-  $opts->{'colors'} =
-  {
-    'Free'     => '00e000',
-    'Cached'   => '0000ff',
-    'Reserved' => 'ffb000',
-    'Used'     => 'ff0000'
-  };
-
-  _custom_sort_arrayref ($type_instances,
-    [qw(free cached reserved used)]);
-
-  for (@$type_instances)
-  {
-    my $inst = $_;
-    my $file = '';
-    my $title = $opts->{'title'};
-
-    for (@DataDirs)
-    {
-      if (-e "$_/$title-$inst.rrd")
-      {
-	$file = "$_/$title-$inst.rrd";
-	last;
-      }
-    }
-    confess ("No file found for $title") if ($file eq '');
-
-    push (@$sources,
-      {
-	name => ucfirst ($inst),
-	file => $file
-      }
-    );
-  } # for (@$type_instances)
-
-  return (meta_graph_generic_stack ($opts, $sources));
-} # meta_graph_swap
-
 # vim: shiftwidth=2:softtabstop=2:tabstop=8
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib: collection.conf
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib: cussh.pl
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/PerlLib/Collectd/Unixsock.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/PerlLib/Collectd/Unixsock.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/PerlLib/Collectd/Unixsock.pm	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/PerlLib/Collectd/Unixsock.pm	2007-09-02 03:00:35.000000000 +0800
@@ -80,12 +80,39 @@
 	$type = $args->{'type'};
 	$type .= '-' . $args->{'type_instance'} if (defined ($args->{'type_instance'}));
 
 	return ("$host/$plugin/$type");
 } # _create_identifier
 
+sub _parse_identifier
+{
+	my $string = shift;
+	my $host;
+	my $plugin;
+	my $plugin_instance;
+	my $type;
+	my $type_instance;
+	my $ident;
+
+	($host, $plugin, $type) = split ('/', $string);
+
+	($plugin, $plugin_instance) = split ('-', $plugin, 2);
+	($type, $type_instance) = split ('-', $type, 2);
+
+	$ident =
+	{
+		host => $host,
+		plugin => $plugin,
+		type => $type
+	};
+	$ident->{'plugin_instance'} = $plugin_instance if (defined ($plugin_instance));
+	$ident->{'type_instance'} = $type_instance if (defined ($type_instance));
+
+	return ($ident);
+} # _parse_identifier
+
 =head1 PUBLIC METHODS
 
 =over 4
 
 =item I<$obj> = Collectd::Unixsock->B<new> ([I<$path>]);
 
@@ -214,12 +241,58 @@
 	return (1) if ($status == 0);
 
 	$obj->{'error'} = $msg;
 	return;
 } # putval
 
+=item I<$res> = I<$obj>-E<gt>B<listval> ()
+
+Queries a list of values from the daemon. The list is returned as an array of
+hash references, where each hash reference is a valid identifier. The C<time>
+member of each hash holds the epoch value of the last update of that value.
+
+=cut
+
+sub listval
+{
+	my $obj = shift;
+	my $msg;
+	my @ret = ();
+	my $status;
+	my $fh = $obj->{'sock'} or confess;
+
+	$msg = "LISTVAL\n";
+	send ($fh, $msg, 0) or confess ("send: $!");
+
+	$msg = <$fh>;
+	($status, $msg) = split (' ', $msg, 2);
+	if ($status < 0)
+	{
+		$obj->{'error'} = $msg;
+		return;
+	}
+
+	for (my $i = 0; $i < $status; $i++)
+	{
+		my $time;
+		my $ident;
+
+		$msg = <$fh>;
+		chomp ($msg);
+
+		($time, $ident) = split (' ', $msg, 2);
+
+		$ident = _parse_identifier ($ident);
+		$ident->{'time'} = int ($time);
+
+		push (@ret, $ident);
+	} # for (i = 0 .. $status)
+
+	return (@ret);
+} # listval
+
 =item I<$obj>-E<gt>destroy ();
 
 Closes the socket before the object is destroyed. This function is also
 automatically called then the object goes out of scope.
 
 =back
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/PerlLib/Collectd.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/PerlLib/Collectd.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/PerlLib/Collectd.pm	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/PerlLib/Collectd.pm	2007-09-02 03:55:18.000000000 +0800
@@ -41,12 +41,12 @@
 	push @{$EXPORT_TAGS{'all'}}, grep {! $seen{$_}++ } @{$EXPORT_TAGS{$_}}
 		foreach keys %EXPORT_TAGS;
 }
 
 Exporter::export_ok_tags('all');
 
-bootstrap Collectd "4.0.9";
+bootstrap Collectd "4.1.0";
 
 1;
 
 # vim: set sw=4 ts=4 tw=78 noexpandtab :
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/README	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/README	2007-09-02 03:00:35.000000000 +0800
@@ -21,14 +21,25 @@
   This script by Vincent Stehl will search for RRD files in
 `/var/lib/collectd/' and generate an HTML file and a directory containing
 several PNG files which are graphs of the RRD files found.
 
 collection.cgi
 --------------
-  Sample CGI script that creates graphs on the fly. The Perl module `RRDs' is
-needed (Debian package `librrds-perl').
+  Sample CGI script that creates graphs on the fly. The Perl modules `RRDs'
+(Debian package `librrds-perl'), `URI:Escape' (package liburi-perl),
+`HTML::Entities' (package libhtml-parser-perl) and a CGI capable web server
+(e.g. apache2 or boa) are needed. Simply install the script to a place where
+the webserver will treat it as a CGI script (/usr/lib/cgi-bin/ by default) and
+visit that page in a browser (http://localhost/cgi-bin/collection.cgi by
+default). Please refer to your webserver's documentation for more details.
+
+  Starting with version 4, collection.cgi requires a small config file, which
+should look something like this:
+
+  datadir: "/var/lib/collectd/rrd/"
+  libdir: "/usr/lib/collectd/"
 
 extractDS.px
 ------------
   Creates a new RRD-file with only one data-source (DS) of the source-RRD-
 file. That is very handy when you realise that you have bundled up DSes in one
 RRD-file that should have been in multiple RRD-files instead. Is is used by
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/SpamAssassin/Collectd.pm /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/SpamAssassin/Collectd.pm
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/SpamAssassin/Collectd.pm	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/SpamAssassin/Collectd.pm	2007-09-02 03:00:35.000000000 +0800
@@ -15,13 +15,13 @@
   loadplugin    Mail::SpamAssassin::Plugin::Collectd
 
 =head1 USER SETTINGS
 
 =over 4
 
-=item collectd_socket [ socket path ]	    (default: /tmp/.collectd-email)
+=item collectd_socket [ socket path ]	    (default: /var/run/collectd-email)
 
 Where the collectd socket is
 
 =cut 
 
 =item collectd_buffersize [ size ] (default: 256) 
@@ -113,13 +113,13 @@
 	    type =>
 	    $Mail::SpamAssassin::Conf::CONF_TYPE_NUMERIC,
 	});
 
     push (@cmds, {
 	    setting => 'collectd_socket', 
-	    default => '/tmp/.collectd-email',
+	    default => '/var/run/collectd-email',
 	    type => $Mail::SpamAssassin::Conf::CONF_TYPE_STRING,
     });
 
 	push (@cmds, {
 			setting => 'collectd_timeout',
 			default => 2,
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/SpamAssassin/example.cf /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/SpamAssassin/example.cf
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/contrib/SpamAssassin/example.cf	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/contrib/SpamAssassin/example.cf	2007-09-02 03:00:35.000000000 +0800
@@ -1,5 +1,5 @@
 collectd_buffersize 256
-collectd_socket /tmp/.collectd-email
+collectd_socket /var/run/collectd-email
 collectd_timeout 2
 collectd_retries 3 
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/Makefile.in	2007-09-28 22:24:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/Makefile.in	2007-09-02 05:44:07.000000000 +0800
@@ -83,90 +83,98 @@
 BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
 BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
 BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
 BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
 BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
-BUILD_MODULE_APACHE_FALSE = @BUILD_MODULE_APACHE_FALSE@
-BUILD_MODULE_APACHE_TRUE = @BUILD_MODULE_APACHE_TRUE@
-BUILD_MODULE_APCUPS_FALSE = @BUILD_MODULE_APCUPS_FALSE@
-BUILD_MODULE_APCUPS_TRUE = @BUILD_MODULE_APCUPS_TRUE@
-BUILD_MODULE_APPLE_SENSORS_FALSE = @BUILD_MODULE_APPLE_SENSORS_FALSE@
-BUILD_MODULE_APPLE_SENSORS_TRUE = @BUILD_MODULE_APPLE_SENSORS_TRUE@
-BUILD_MODULE_BATTERY_FALSE = @BUILD_MODULE_BATTERY_FALSE@
-BUILD_MODULE_BATTERY_TRUE = @BUILD_MODULE_BATTERY_TRUE@
-BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
-BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
-BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
-BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
-BUILD_MODULE_CSV_FALSE = @BUILD_MODULE_CSV_FALSE@
-BUILD_MODULE_CSV_TRUE = @BUILD_MODULE_CSV_TRUE@
-BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
-BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
-BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
-BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
-BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
-BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
-BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
-BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
-BUILD_MODULE_ENTROPY_FALSE = @BUILD_MODULE_ENTROPY_FALSE@
-BUILD_MODULE_ENTROPY_TRUE = @BUILD_MODULE_ENTROPY_TRUE@
-BUILD_MODULE_EXEC_FALSE = @BUILD_MODULE_EXEC_FALSE@
-BUILD_MODULE_EXEC_TRUE = @BUILD_MODULE_EXEC_TRUE@
-BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
-BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
-BUILD_MODULE_INTERFACE_FALSE = @BUILD_MODULE_INTERFACE_FALSE@
-BUILD_MODULE_INTERFACE_TRUE = @BUILD_MODULE_INTERFACE_TRUE@
-BUILD_MODULE_IPTABLES_FALSE = @BUILD_MODULE_IPTABLES_FALSE@
-BUILD_MODULE_IPTABLES_TRUE = @BUILD_MODULE_IPTABLES_TRUE@
-BUILD_MODULE_IRQ_FALSE = @BUILD_MODULE_IRQ_FALSE@
-BUILD_MODULE_IRQ_TRUE = @BUILD_MODULE_IRQ_TRUE@
-BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
-BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
-BUILD_MODULE_LOGFILE_FALSE = @BUILD_MODULE_LOGFILE_FALSE@
-BUILD_MODULE_LOGFILE_TRUE = @BUILD_MODULE_LOGFILE_TRUE@
-BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
-BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
-BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
-BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
-BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
-BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
-BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
-BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
-BUILD_MODULE_NETWORK_FALSE = @BUILD_MODULE_NETWORK_FALSE@
-BUILD_MODULE_NETWORK_TRUE = @BUILD_MODULE_NETWORK_TRUE@
-BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
-BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
-BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
-BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
-BUILD_MODULE_NUT_FALSE = @BUILD_MODULE_NUT_FALSE@
-BUILD_MODULE_NUT_TRUE = @BUILD_MODULE_NUT_TRUE@
-BUILD_MODULE_PERL_FALSE = @BUILD_MODULE_PERL_FALSE@
-BUILD_MODULE_PERL_TRUE = @BUILD_MODULE_PERL_TRUE@
-BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
-BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
-BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
-BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
-BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
-BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
-BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
-BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
-BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
-BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
-BUILD_MODULE_SYSLOG_FALSE = @BUILD_MODULE_SYSLOG_FALSE@
-BUILD_MODULE_SYSLOG_TRUE = @BUILD_MODULE_SYSLOG_TRUE@
-BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
-BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
-BUILD_MODULE_UNIXSOCK_FALSE = @BUILD_MODULE_UNIXSOCK_FALSE@
-BUILD_MODULE_UNIXSOCK_TRUE = @BUILD_MODULE_UNIXSOCK_TRUE@
-BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
-BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
-BUILD_MODULE_VSERVER_FALSE = @BUILD_MODULE_VSERVER_FALSE@
-BUILD_MODULE_VSERVER_TRUE = @BUILD_MODULE_VSERVER_TRUE@
-BUILD_MODULE_WIRELESS_FALSE = @BUILD_MODULE_WIRELESS_FALSE@
-BUILD_MODULE_WIRELESS_TRUE = @BUILD_MODULE_WIRELESS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
 BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
 BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
@@ -181,12 +189,18 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
+BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
 BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
 BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
 BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
 BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
@@ -197,14 +211,20 @@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
+BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
+BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
 BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
 BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
 BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
 BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
 BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/README	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/README	2007-09-02 03:00:34.000000000 +0800
@@ -88,12 +88,17 @@
       M-4650CR'.
 
     - mysql
       MySQL server statistics: Commands issued, handlers triggered, thread
       usage, query cache utilization and traffic/octets sent and received.
 
+    - netlink
+      Very detailed Linux network interface and routing statistics. You can get
+      (detailed) information on interfaces, qdiscs, classes, and, if you can
+      make use of it, filters.
+
     - network
       Receive values that were collected by other hosts. Large setups will
       want to collect the data on one dedicated machine, and this is the
       plugin of choice for that.
 
     - nfs
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/apache.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/apache.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/apache.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/apache.c	2007-09-02 03:00:35.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/apache.c
- * Copyright (C) 2006  Florian octo Forster
+ * Copyright (C) 2006,2007  Florian octo Forster
  * Copyright (C) 2007  Florent EppO Monbillard
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
@@ -24,20 +24,14 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if HAVE_LIBCURL && HAVE_CURL_CURL_H
-#  define APACHE_HAVE_READ 1
-#  include <curl/curl.h>
-#else
-#  define APACHE_HAVE_READ 0
-#endif
+#include <curl/curl.h>
 
-#if APACHE_HAVE_READ
 static char *url    = NULL;
 static char *user   = NULL;
 static char *pass   = NULL;
 static char *cacert = NULL;
 
 static CURL *curl = NULL;
@@ -306,17 +300,14 @@
 	}
 
 	apache_buffer_len = 0;
 
 	return (0);
 } /* int apache_read */
-#endif /* APACHE_HAVE_READ */
 
 void module_register (void)
 {
-#if APACHE_HAVE_READ
 	plugin_register_config ("apache", config,
 			config_keys, config_keys_num);
 	plugin_register_init ("apache", init);
 	plugin_register_read ("apache", apache_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/apcups.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/apcups.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/apcups.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/apcups.c	2007-09-02 03:00:35.000000000 +0800
@@ -1,12 +1,14 @@
 /*
  * collectd - src/apcups.c
+ * Copyright (C) 2007 Florian octo Forster
  * Copyright (C) 2006 Anthony Gialluca <tonyabg at charter.net>
  * Copyright (C) 2000-2004 Kern Sibbald
  * Copyright (C) 1996-99 Andre M. Hedrick <andre at suse.com>
  *
+ *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of version 2 of the GNU General
  * Public License as published by the Free Software Foundation.
  *
  * This program is distributed in the hope that it will be useful,
  * but WITHOUT ANY WARRANTY; without even the implied warranty of
@@ -384,20 +386,20 @@
 
 	plugin_dispatch_values (type, &vl);
 }
 
 static void apc_submit (struct apc_detail_s *apcups_detail)
 {
-	apc_submit_generic ("voltage",    "input",   apcups_detail->linev);
-	apc_submit_generic ("voltage",    "output",  apcups_detail->outputv);
-	apc_submit_generic ("voltage",    "battery", apcups_detail->battv);
-	apc_submit_generic ("charge",     "",        apcups_detail->bcharge);
-	apc_submit_generic ("percent",    "load",    apcups_detail->loadpct);
-	apc_submit_generic ("timeleft",   "",        apcups_detail->timeleft);
-	apc_submit_generic ("temperature", "",       apcups_detail->itemp);
-	apc_submit_generic ("frequency",  "input",   apcups_detail->linefreq);
+	apc_submit_generic ("apcups_voltage",    "input",   apcups_detail->linev);
+	apc_submit_generic ("apcups_voltage",    "output",  apcups_detail->outputv);
+	apc_submit_generic ("apcups_voltage",    "battery", apcups_detail->battv);
+	apc_submit_generic ("apcups_charge",     "",        apcups_detail->bcharge);
+	apc_submit_generic ("apcups_charge_pct", "",        apcups_detail->loadpct);
+	apc_submit_generic ("apcups_timeleft",   "",        apcups_detail->timeleft);
+	apc_submit_generic ("apcups_temp",       "",        apcups_detail->itemp);
+	apc_submit_generic ("apcups_frequency",  "input",   apcups_detail->linefreq);
 }
 
 static int apcups_read (void)
 {
 	struct apc_detail_s apcups_detail;
 	int status;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/apple_sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/apple_sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/apple_sensors.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/apple_sensors.c	2007-09-02 03:00:35.000000000 +0800
@@ -46,23 +46,14 @@
 #  include <IOKit/IOKitLib.h>
 #endif
 #if HAVE_IOKIT_IOTYPES_H
 #  include <IOKit/IOTypes.h>
 #endif
 
-#if HAVE_IOKIT_IOKITLIB_H
-# define IOKIT_HAVE_READ 1
-#else
-# define IOKIT_HAVE_READ 0
-#endif
-
-#if HAVE_IOKIT_IOKITLIB_H
 static mach_port_t io_master_port = MACH_PORT_NULL;
-#endif
 
-#if IOKIT_HAVE_READ
 static int as_init (void)
 {
 	kern_return_t status;
 	
 	if (io_master_port != MACH_PORT_NULL)
 	{
@@ -237,15 +228,12 @@
 	} /* while (iterator) */
 
 	IOObjectRelease (iterator);
 
 	return (0);
 } /* int as_read */
-#endif /* IOKIT_HAVE_READ */
 
 void module_register (void)
 {
-#if IOKIT_HAVE_READ
 	plugin_register_init ("apple_sensors", as_init);
 	plugin_register_read ("apple_sensors", as_read);
-#endif /* IOKIT_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/battery.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/battery.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/battery.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/battery.c	2007-09-02 03:00:35.000000000 +0800
@@ -45,21 +45,18 @@
 #  include <IOKit/ps/IOPowerSources.h>
 #endif
 #if HAVE_IOKIT_PS_IOPSKEYS_H
 #  include <IOKit/ps/IOPSKeys.h>
 #endif
 
-#if HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H || KERNEL_LINUX
-# define BATTERY_HAVE_READ 1
-#else
-# define BATTERY_HAVE_READ 0
+#if !HAVE_IOKIT_IOKITLIB_H && !HAVE_IOKIT_PS_IOPOWERSOURCES_H && !KERNEL_LINUX
+# error "No applicable input method."
 #endif
 
 #define INVALID_VALUE 47841.29
 
-#if BATTERY_HAVE_READ
 #if HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H
 	/* No global variables */
 /* #endif HAVE_IOKIT_IOKITLIB_H || HAVE_IOKIT_PS_IOPOWERSOURCES_H */
 
 #elif KERNEL_LINUX
 static int   battery_pmu_num = 0;
@@ -520,15 +517,12 @@
 		closedir (dh);
 	}
 #endif /* KERNEL_LINUX */
 
 	return (0);
 }
-#endif /* BATTERY_HAVE_READ */
 
 void module_register (void)
 {
-#if BATTERY_HAVE_READ
 	plugin_register_init ("battery", battery_init);
 	plugin_register_read ("battery", battery_read);
-#endif /* BATTERY_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.1	2007-09-28 22:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.1	2007-09-02 05:53:37.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2007-09-28" "4.0.9" "collectd"
+.TH COLLECTD 1 "2007-09-01" "4.1.0" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
@@ -199,18 +199,19 @@
 provide information about issues and significant situations to the user.
 Several loglevels let you suppress uninteresting messages.
 .PP
 Please note that some plugins, that provide other means of communicating with
 the daemon, have manpages of their own to describe their functionality in more
 detail. In particular those are \fIcollectd\-email\fR\|(5), \fIcollectd\-exec\fR\|(5),
-\&\fIcollectd\-perl\fR\|(5), and \fIcollectd\-unixsock\fR\|(5)
+\&\fIcollectd\-perl\fR\|(5), \fIcollectd\-snmp\fR\|(5), and \fIcollectd\-unixsock\fR\|(5)
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
 \&\fIcollectd.conf\fR\|(5),
 \&\fIcollectd\-email\fR\|(5),
 \&\fIcollectd\-exec\fR\|(5),
 \&\fIcollectd\-perl\fR\|(5),
+\&\fIcollectd\-snmp\fR\|(5),
 \&\fIcollectd\-unixsock\fR\|(5),
 <http://collectd.org/>
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.c	2007-09-28 19:38:23.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.c	2007-08-31 21:49:12.000000000 +0800
@@ -111,13 +111,13 @@
 	{
 		if (errno == ENOENT)
 		{
 			if (mkdir (orig_dir, 0755) == -1)
 			{
 				char errbuf[1024];
-				ERROR ("change_basedir: mkdir (%s): %s", orig_dir,
+				ERROR ("mkdir (%s): %s", orig_dir,
 						sstrerror (errno, errbuf,
 							sizeof (errbuf)));
 				return (-1);
 			}
 			else if (chdir (orig_dir) == -1)
 			{
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.conf.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.conf.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.conf.5	2007-09-28 22:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.conf.5	2007-09-02 05:53:37.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD.CONF 5"
-.TH COLLECTD.CONF 5 "2007-09-28" "4.0.9" "collectd"
+.TH COLLECTD.CONF 5 "2007-09-01" "4.1.0" "collectd"
 .SH "NAME"
 collectd.conf \- Configuration for the system statistics collection daemon \fBcollectd\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 3
 \&  BaseDir "/path/to/data/"
@@ -177,14 +177,14 @@
 .IX Item "LoadPlugin Plugin"
 Loads the plugin \fIPlugin\fR. There must be at least one such line or \fBcollectd\fR
 will be mostly useless.
 .IP "\fBPIDFile\fR \fIFile\fR" 4
 .IX Item "PIDFile File"
 Sets where to write the \s-1PID\s0 file to. This file is overwritten when it exists
-and deleted when the program ist stopped. Some init-scripts might override this
-setting using the \fB\-P\fR commandline option.
+and deleted when the program is stopped. Some init-scripts might override this
+setting using the \fB\-P\fR command-line option.
 .IP "\fBPluginDir\fR \fIDirectory\fR" 4
 .IX Item "PluginDir Directory"
 Path to the plugins (shared objects) of collectd.
 .IP "\fBTypesDB\fR \fIFile\fR" 4
 .IX Item "TypesDB File"
 Set the file that contains the data-set descriptions.
@@ -198,13 +198,13 @@
 Number of threads to start for reading plugins. The default value if \fB5\fR, but
 you may want to increase this if you have more than five plugins that take a
 long time to read. Mostly those are plugin that do network\-IO. Setting this to
 a value higher than the number of plugins you've loaded is totally useless.
 .SH "PLUGIN OPTIONS"
 .IX Header "PLUGIN OPTIONS"
-Some Plugins may register own options. These options must be enclosed in a
+Some plugins may register own options. These options must be enclosed in a
 \&\f(CW\*(C`Plugin\*(C'\fR\-Section. Which options exist depends on the plugin used. Some plugins
 require external configuration, too. The \f(CW\*(C`apache plugin\*(C'\fR, for example,
 required \f(CW\*(C`mod_status\*(C'\fR to be configured in the webserver you're going to
 collect data from. These plugins are listed below as well, even if they don't
 require any configuration within collectd's configfile.
 .PP
@@ -305,12 +305,15 @@
 .IP "\fBIgnoreSource\fR \fIIP-address\fR" 4
 .IX Item "IgnoreSource IP-address"
 Ignore packets that originate from this address.
 .ie n .Sh "Plugin ""email"""
 .el .Sh "Plugin \f(CWemail\fP"
 .IX Subsection "Plugin email"
+.IP "\fBSocketFile\fR \fIPath\fR" 4
+.IX Item "SocketFile Path"
+Sets the socket-file which is to be created.
 .IP "\fBSocketGroup\fR \fIGroup\fR" 4
 .IX Item "SocketGroup Group"
 If running as root change the group of the UNIX-socket after it has been 
 created. Defaults to \fBcollectd\fR.
 .IP "\fBSocketPerms\fR \fIPermissions\fR" 4
 .IX Item "SocketPerms Permissions"
@@ -326,15 +329,18 @@
 .ie n .Sh "Plugin ""exec"""
 .el .Sh "Plugin \f(CWexec\fP"
 .IX Subsection "Plugin exec"
 Please make sure to read \fIcollectd\-exec\fR\|(5) before using this plugin. It
 contains valuable information on when the executable is executed and the
 output that is expected from it.
-.IP "\fBExec\fR \fIUser\fR \fIExecutable\fR" 4
-.IX Item "Exec User Executable"
-Execute the executable \fIExecutable\fR as user \fIUser\fR.
+.IP "\fBExec\fR \fIUser\fR[:[\fIGroup\fR]] \fIExecutable\fR" 4
+.IX Item "Exec User[:[Group]] Executable"
+Execute the executable \fIExecutable\fR as user \fIUser\fR. If the user name is
+followed by a colon and a group name, the program is executed as the specified
+group. If only the colon follows the user name the group defaults to the
+user's login group.
 .ie n .Sh "Plugin ""hddtemp"""
 .el .Sh "Plugin \f(CWhddtemp\fP"
 .IX Subsection "Plugin hddtemp"
 To get values from \fBhddtemp\fR collectd connects to \fBlocalhost\fR (127.0.0.1),
 port \fB7634/tcp\fR. The \fBHost\fR and \fBPort\fR options can be used to change these
 default values, see below. \f(CW\*(C`hddtemp\*(C'\fR has to be running to work correctly. If
@@ -455,12 +461,90 @@
 .IX Item "Password Password"
 Password needed to log into the database.
 .IP "\fBDatabase\fR \fIDatabase\fR" 4
 .IX Item "Database Database"
 Select this database. Defaults to \fIno database\fR which is a perfectly reasonable
 option for what this plugin does.
+.ie n .Sh "Plugin ""netlink"""
+.el .Sh "Plugin \f(CWnetlink\fP"
+.IX Subsection "Plugin netlink"
+The \f(CW\*(C`netlink\*(C'\fR plugin uses a netlink socket to query the Linux kernel about
+statistics of various interface and routing aspects.
+.IP "\fBInterface\fR \fIInterface\fR" 4
+.IX Item "Interface Interface"
+.PD 0
+.IP "\fBVerboseInterface\fR \fIInterface\fR" 4
+.IX Item "VerboseInterface Interface"
+.PD
+Instruct the plugin to collect interface statistics. This is basically the same
+as the statistics provided by the \f(CW\*(C`interface\*(C'\fR plugin (see above) but
+potentially much more detailed.
+.Sp
+When configuring with \fBInterface\fR only the basic statistics will be collected,
+namely octets, packets, and errors. These statistics are collected by
+the \f(CW\*(C`interface\*(C'\fR plugin, too, so using both at the same time is no benefit.
+.Sp
+When configured with \fBVerboseInterface\fR all counters \fBexcept\fR the basic ones,
+so that no data needs to be collected twice if you use the \f(CW\*(C`interface\*(C'\fR plugin.
+This includes dropped packets, received multicast packets, collisions and a
+whole zoo of differentiated \s-1RX\s0 and \s-1TX\s0 errors. You can try the following command
+to get an idea of what awaits you:
+.Sp
+.Vb 1
+\&  ip \-s \-s link list
+.Ve
+.Sp
+If \fIInterface\fR is \fBAll\fR, all interfaces will be selected.
+.IP "\fBQDisc\fR \fIInterface\fR [\fIQDisc\fR]" 4
+.IX Item "QDisc Interface [QDisc]"
+.PD 0
+.IP "\fBClass\fR \fIInterface\fR [\fIClass\fR]" 4
+.IX Item "Class Interface [Class]"
+.IP "\fBFilter\fR \fIInterface\fR [\fIFilter\fR]" 4
+.IX Item "Filter Interface [Filter]"
+.PD
+Collect the octets and packets that pass a certain qdisc, class or filter.
+.Sp
+QDiscs and classes are identified by their type and handle (or classid).
+Filters don't necessarily have a handle, therefore the parent's handle is used.
+The notation used in collectd differs from that used in \fItc\fR\|(1) in that it
+doesn't skip the major or minor number if it's zero and doesn't print special
+ids by their name.  So, for example, a qdisc may be identified by
+\&\f(CW\*(C`pfifo_fast\-1:0\*(C'\fR even though the minor number of \fBall\fR qdiscs is zero and
+thus not displayed by \fItc\fR\|(1).
+.Sp
+If \fBQDisc\fR, \fBClass\fR, or \fBFilter\fR is given without the second argument,
+i.\ .e. without an identifier, all qdiscs, classes, or filters that are
+associated with that interface will be collected.
+.Sp
+Since a filter itself doesn't necessarily have a handle, the parent's handle is
+used. This may lead to problems when more than one filter is attached to a
+qdisc or class. This isn't nice, but we don't know how this could be done any
+better. If you have a idea, please don't hesitate to tell us.
+.Sp
+As with the \fBInterface\fR option you can specify \fBAll\fR as the interface,
+meaning all interfaces.
+.Sp
+Here are some examples to help you understand the above text more easily:
+.Sp
+.Vb 7
+\&  <Plugin netlink>
+\&    VerboseInterface "All"
+\&    QDisc "eth0" "pfifo_fast\-1:0"
+\&    QDisc "ppp0"
+\&    Class "ppp0" "htb\-1:10"
+\&    Filter "ppp0" "u32\-1:0"
+\&  </Plugin>
+.Ve
+.IP "\fBIgnoreSelected\fR" 4
+.IX Item "IgnoreSelected"
+The behaviour is the same as with all other similar plugins: If nothing is
+selected at all, everything is collected. If some things are selected using the
+options described above, only these statistics are collected. If you set
+\&\fBIgnoreSelected\fR to \fBtrue\fR, this behavior is inversed, i.\ e. the
+specified statistics will not be collected.
 .ie n .Sh "Plugin ""network"""
 .el .Sh "Plugin \f(CWnetwork\fP"
 .IX Subsection "Plugin network"
 .IP "\fBListen\fR \fIHost\fR [\fIPort\fR]" 4
 .IX Item "Listen Host [Port]"
 .PD 0
@@ -561,13 +645,13 @@
 (\s-1RSS\s0), user\- and system-time used, number of processes and number of threads,
 and minor and major pagefaults.
 .ie n .Sh "Plugin ""rrdtool"""
 .el .Sh "Plugin \f(CWrrdtool\fP"
 .IX Subsection "Plugin rrdtool"
 You can use the settings \fBStepSize\fR, \fBHeartBeat\fR, \fBRRARows\fR, and \fB\s-1XFF\s0\fR to
-finetune your RRD\-files. Please read \fIrrdcreate\fR\|(1) if you encounter problems
+fine-tune your RRD\-files. Please read \fIrrdcreate\fR\|(1) if you encounter problems
 using these settings. If you don't want to dive into the depths of RRDTool, you
 can safely ignore these settings.
 .IP "\fBDataDir\fR \fIDirectory\fR" 4
 .IX Item "DataDir Directory"
 Set the directory to store RRD-files under. Per default RRD-files are generated
 beneath the daemon's working directory, i.\ e. the \fBBaseDir\fR.
@@ -619,13 +703,13 @@
 normally do much harm either.
 .IP "\fBCacheTimeout\fR \fISeconds\fR" 4
 .IX Item "CacheTimeout Seconds"
 If this option is set to a value greater than zero, the \f(CW\*(C`rrdtool plugin\*(C'\fR will
 save values in a cache, as described above. Writing multiple values at once
 reduces IO-operations and thus lessens the load produced by updating the files.
-The tradeoff is that the graphs kind of \*(L"drag behind\*(R" and that more memory is
+The trade off is that the graphs kind of \*(L"drag behind\*(R" and that more memory is
 used.
 .ie n .Sh "Plugin ""sensors"""
 .el .Sh "Plugin \f(CWsensors\fP"
 .IX Subsection "Plugin sensors"
 The \f(CW\*(C`sensors plugin\*(C'\fR uses \fBlm_sensors\fR to retrieve sensor\-values. This means
 that all the needed modules have to be loaded and lm_sensors has to be
@@ -646,12 +730,18 @@
 sensors. This may not be practical, especially for uninteresting sensors.
 Thus, you can use the \fBSensor\fR\-option to pick the sensors you're interested
 in. Sometimes, however, it's easier/preferred to collect all sensors \fIexcept\fR a
 few ones. This option enables you to do that: By setting \fBIgnoreSelected\fR to
 \&\fItrue\fR the effect of \fBSensor\fR is inversed: All selected sensors are ignored
 and all other sensors are collected.
+.ie n .Sh "Plugin ""snmp"""
+.el .Sh "Plugin \f(CWsnmp\fP"
+.IX Subsection "Plugin snmp"
+Since the configuration of the \f(CW\*(C`snmp plugin\*(C'\fR is a little more complicated than
+other plugins, its documentation has been moved to an own manpage,
+\&\fIcollectd\-snmp\fR\|(5). Please see there for details.
 .ie n .Sh "Plugin ""syslog"""
 .el .Sh "Plugin \f(CWsyslog\fP"
 .IX Subsection "Plugin syslog"
 .IP "\fBLogLevel\fR \fBdebug|info|notice|warning|err\fR" 4
 .IX Item "LogLevel debug|info|notice|warning|err"
 Sets the log\-level. If, for example, set to \fBnotice\fR, then all events with
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.conf.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.conf.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.conf.in	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.conf.in	2007-09-02 03:00:35.000000000 +0800
@@ -9,52 +9,53 @@
 #PIDFile     "@prefix@/var/run/@PACKAGE_NAME@.pid"
 #PluginDir   "@prefix@/lib/@PACKAGE_NAME@"
 #TypesDB     "@prefix@/lib/@PACKAGE_NAME@/types.db"
 #Interval     10
 #ReadThreads  5
 
-@BUILD_MODULE_APACHE_TRUE@LoadPlugin apache
-@BUILD_MODULE_APCUPS_TRUE@LoadPlugin apcups
-@BUILD_MODULE_APPLE_SENSORS_TRUE@LoadPlugin apple_sensors
-@BUILD_MODULE_BATTERY_TRUE@LoadPlugin battery
-@BUILD_MODULE_CPU_TRUE@LoadPlugin cpu
-@BUILD_MODULE_CPUFREQ_TRUE@LoadPlugin cpufreq
-@BUILD_MODULE_CSV_TRUE@LoadPlugin csv
-@BUILD_MODULE_DF_TRUE@LoadPlugin df
-@BUILD_MODULE_DISK_TRUE@LoadPlugin disk
-@BUILD_MODULE_DNS_TRUE@LoadPlugin dns
-@BUILD_MODULE_EMAIL_TRUE@LoadPlugin email
-@BUILD_MODULE_ENTROPY_TRUE@LoadPlugin entropy
-@BUILD_MODULE_EXEC_TRUE@LoadPlugin exec
-@BUILD_MODULE_HDDTEMP_TRUE@LoadPlugin hddtemp
-@BUILD_MODULE_INTERFACE_TRUE@LoadPlugin interface
-@BUILD_MODULE_IPTABLES_TRUE@LoadPlugin iptables
-@BUILD_MODULE_IRQ_TRUE@LoadPlugin irq
-@BUILD_MODULE_LOAD_TRUE@LoadPlugin load
-@BUILD_MODULE_LOGFILE_TRUE@LoadPlugin logfile
-@BUILD_MODULE_MBMON_TRUE@LoadPlugin mbmon
-@BUILD_MODULE_MEMORY_TRUE@LoadPlugin memory
-@BUILD_MODULE_MULTIMETER_TRUE@LoadPlugin multimeter
-@BUILD_MODULE_MYSQL_TRUE@LoadPlugin mysql
-@BUILD_MODULE_NETWORK_TRUE@LoadPlugin network
-@BUILD_MODULE_NFS_TRUE@LoadPlugin nfs
-@BUILD_MODULE_NTPD_TRUE@LoadPlugin ntpd
-@BUILD_MODULE_NUT_TRUE@LoadPlugin nut
-@BUILD_MODULE_PERL_TRUE@LoadPlugin perl
-@BUILD_MODULE_PING_TRUE@LoadPlugin ping
-@BUILD_MODULE_PROCESSES_TRUE@LoadPlugin processes
-@BUILD_WITH_RRDTOOL_TRUE@LoadPlugin rrdtool
-@BUILD_MODULE_SENSORS_TRUE@LoadPlugin sensors
-@BUILD_MODULE_SERIAL_TRUE@LoadPlugin serial
-@BUILD_MODULE_SWAP_TRUE@LoadPlugin swap
-@BUILD_MODULE_SYSLOG_TRUE@LoadPlugin syslog
-@BUILD_MODULE_TAPE_TRUE@LoadPlugin tape
-@BUILD_MODULE_UNIXSOCK_TRUE@LoadPlugin unixsock
-@BUILD_MODULE_USERS_TRUE@LoadPlugin users
-@BUILD_MODULE_VSERVER_TRUE@LoadPlugin vserver
-@BUILD_MODULE_WIRELESS_TRUE@LoadPlugin wireless
+@BUILD_PLUGIN_APACHE_TRUE@LoadPlugin apache
+@BUILD_PLUGIN_APCUPS_TRUE@LoadPlugin apcups
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@LoadPlugin apple_sensors
+@BUILD_PLUGIN_BATTERY_TRUE@LoadPlugin battery
+@BUILD_PLUGIN_CPU_TRUE@LoadPlugin cpu
+@BUILD_PLUGIN_CPUFREQ_TRUE@LoadPlugin cpufreq
+@BUILD_PLUGIN_CSV_TRUE@LoadPlugin csv
+@BUILD_PLUGIN_DF_TRUE@LoadPlugin df
+@BUILD_PLUGIN_DISK_TRUE@LoadPlugin disk
+@BUILD_PLUGIN_DNS_TRUE@LoadPlugin dns
+@BUILD_PLUGIN_EMAIL_TRUE@LoadPlugin email
+@BUILD_PLUGIN_ENTROPY_TRUE@LoadPlugin entropy
+@BUILD_PLUGIN_EXEC_TRUE@LoadPlugin exec
+@BUILD_PLUGIN_HDDTEMP_TRUE@LoadPlugin hddtemp
+@BUILD_PLUGIN_INTERFACE_TRUE@LoadPlugin interface
+@BUILD_PLUGIN_IPTABLES_TRUE@LoadPlugin iptables
+@BUILD_PLUGIN_IRQ_TRUE@LoadPlugin irq
+@BUILD_PLUGIN_LOAD_TRUE@LoadPlugin load
+@BUILD_PLUGIN_LOGFILE_TRUE@LoadPlugin logfile
+@BUILD_PLUGIN_MBMON_TRUE@LoadPlugin mbmon
+@BUILD_PLUGIN_MEMORY_TRUE@LoadPlugin memory
+@BUILD_PLUGIN_MULTIMETER_TRUE@LoadPlugin multimeter
+@BUILD_PLUGIN_MYSQL_TRUE@LoadPlugin mysql
+@BUILD_PLUGIN_NETLINK_TRUE@LoadPlugin netlink
+@BUILD_PLUGIN_NETWORK_TRUE@LoadPlugin network
+@BUILD_PLUGIN_NFS_TRUE@LoadPlugin nfs
+@BUILD_PLUGIN_NTPD_TRUE@LoadPlugin ntpd
+@BUILD_PLUGIN_NUT_TRUE@LoadPlugin nut
+@BUILD_PLUGIN_PERL_TRUE@LoadPlugin perl
+@BUILD_PLUGIN_PING_TRUE@LoadPlugin ping
+@BUILD_PLUGIN_PROCESSES_TRUE@LoadPlugin processes
+@BUILD_PLUGIN_RRDTOOL_TRUE@LoadPlugin rrdtool
+@BUILD_PLUGIN_SENSORS_TRUE@LoadPlugin sensors
+@BUILD_PLUGIN_SERIAL_TRUE@LoadPlugin serial
+@BUILD_PLUGIN_SWAP_TRUE@LoadPlugin swap
+@BUILD_PLUGIN_SYSLOG_TRUE@LoadPlugin syslog
+@BUILD_PLUGIN_TAPE_TRUE@LoadPlugin tape
+@BUILD_PLUGIN_UNIXSOCK_TRUE@LoadPlugin unixsock
+@BUILD_PLUGIN_USERS_TRUE@LoadPlugin users
+@BUILD_PLUGIN_VSERVER_TRUE@LoadPlugin vserver
+@BUILD_PLUGIN_WIRELESS_TRUE@LoadPlugin wireless
 
 #<Plugin apache>
 #	URL "http://localhost/status?auto"
 #	User "www-user"
 #	Password "secret"
 #	CACert "/etc/ssl/ca.crt"
@@ -128,12 +129,20 @@
 #	Host "database.serv.er"
 #	User "db_user"
 #	Password "secret"
 #	Database "db_name"
 #</Plugin>
 
+#<Plugin netlink>
+#	Interface "All"
+#	VerboseInterface "All"
+#	QDisc "eth0" "pfifo_fast-1:0"
+#	Class "ppp0" "htb-1:10"
+#	Filter "ppp0" "u32-1:0"
+#</Plugin>
+
 #<Plugin network>
 #	Server "ff18::efc0:4a42" "25826"
 #	Server "239.192.74.66" "25826"
 #	Listen "ff18::efc0:4a42" "25826"
 #	Listen "239.192.74.66" "25826"
 #	TimeToLive "128"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-email.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-email.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-email.5	2007-09-28 19:45:33.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-email.5	2007-09-02 05:53:38.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EMAIL 5"
-.TH COLLECTD-EMAIL 5 "2007-09-28" "4.0.8" "collectd"
+.TH COLLECTD-EMAIL 5 "2007-08-31" "4.1.0" "collectd"
 .SH "NAME"
 collectd\-email \- Documentation of collectd's \f(CW\*(C`email plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-exec.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-exec.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-exec.5	2007-09-28 22:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-exec.5	2007-09-02 05:53:38.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-EXEC 5"
-.TH COLLECTD-EXEC 5 "2007-09-28" "4.0.9" "collectd"
+.TH COLLECTD-EXEC 5 "2007-09-01" "4.1.0" "collectd"
 .SH "NAME"
 collectd\-exec \- Documentation of collectd's \f(CW\*(C`exec plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 7
 \&  # See collectd.conf(5)
@@ -157,33 +157,55 @@
 .IX Header "DATA FORMAT"
 The forked executable is expected to print values to \f(CW\*(C`STDOUT\*(C'\fR. The expected
 format is as follows:
 .IP "\(bu" 4
 Each line beginning with a \f(CW\*(C`#\*(C'\fR (hash mark) is ignored.
 .IP "\(bu" 4
-Other lines must consist of an \fIIdentifier\fR and a \fIValue-List\fR, separated by
-a space. A description of these two parts follows:
+Other lines must consist of an \fIIdentifier\fR, an optional \fIOption-List\fR and a
+\&\fIValue-List\fR, separated by a spaces. A description of these two parts follows:
 .Sp
 An \fIIdentifier\fR is of the form
 \&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
 \&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
 omitted, too.
 .Sp
-A \fIValue-List\fR is a colon-separated list of values, prepended by the time
-stamp in epoch, i.\ e. the same format RRDTool uses, see \fIrrdupdate\fR\|(1).
-As with the argument passed to RRDTool you can use \fBN\fR as the current time and
-\&\fBU\fR for undefined values. However, undefined values can only passed for
-\&\fB\s-1GAUGE\s0\fR values. When setting \fBU\fR for a \fB\s-1COUNTER\s0\fR data source the behavior is
-undefined.
+The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
+key\-value\-pair. A list of currently understood options can be found below, all
+other options will be ignored.
+.Sp
+\&\fIValuelist\fR is a colon-seperated list of the time and the values, each either
+an integer if the data-source is a counter, of a double if the data-source if
+of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
+submitting \fBU\fR to a counter the behavior is undefined. The time is given as
+epoch (i.\ e. standard \s-1UNIX\s0 time).
+.Sp
+You can mix options and values, but the order is important: Options only
+effect following values, so specifying an option as last field is allowed, but
+useless. Also, an option applies to \fBall\fR following values, so you don't need
+to re-set an option over and over again.
+.Sp
+The currently defined \fBOptions\fR are:
+.RS 4
+.IP "\fBinterval=\fR\fIseconds\fR" 4
+.IX Item "interval=seconds"
+Gives the interval in which the data identified by \fIIdentifier\fR is being
+collected.
+.RE
+.RS 4
+.Sp
+Please note that this is the same format as used in the \fBunixsock plugin\fR, see
+\&\fIcollectd\-unixsock\fR\|(5). There's also a bit more information on identifiers in
+case you're confused.
 .Sp
 Since examples usually let one understand a lot better, here are some:
 .Sp
 .Vb 2
 \&  leeloo/cpu\-0/cpu\-idle N:2299366
-\&  alice/interface/if_octets\-eth0 1180647081:421465:479194
+\&  alice/interface/if_octets\-eth0 interval=10 1180647081:421465:479194
 .Ve
+.RE
 .PP
 When collectd exits it sends a \fB\s-1SIGTERM\s0\fR to all still running
 child-processes upon which they have to quit.
 .SH "CAVEATS"
 .IX Header "CAVEATS"
 .IP "\(bu" 4
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd.h	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd.h	2007-09-02 03:00:35.000000000 +0800
@@ -179,12 +179,16 @@
 #endif
 
 #ifndef CONFIGFILE
 #define CONFIGFILE SYSCONFDIR"/collectd.conf"
 #endif
 
+#ifndef LOCALSTATEDIR
+#define LOCALSTATEDIR PREFIX "/var"
+#endif
+
 #ifndef PKGLOCALSTATEDIR
 #define PKGLOCALSTATEDIR PREFIX "/var/lib/" PACKAGE_NAME
 #endif
 
 #ifndef PIDFILE
 #define PIDFILE PREFIX "/var/run/" PACKAGE_NAME ".pid"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-nagios.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-nagios.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-nagios.1	2007-09-28 19:45:32.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-nagios.1	2007-09-02 05:53:37.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-NAGIOS 1"
-.TH COLLECTD-NAGIOS 1 "2007-09-28" "4.0.8" "collectd"
+.TH COLLECTD-NAGIOS 1 "2007-08-31" "4.1.0" "collectd"
 .SH "NAME"
 collectd\-nagios \- Nagios plugin for querying collectd
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd-nagios \fB\-s\fR \fIsocket\fR \fB\-n\fR \fIvalue_spec\fR \fB\-H\fR \fIhostname\fR \fI[options]\fR
 .SH "DESCRIPTION"
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-nagios.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-nagios.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-nagios.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-nagios.c	2007-09-02 03:00:35.000000000 +0800
@@ -291,38 +291,36 @@
 		else if (match_range (&range_warning_g, values[i]) != 0)
 			num_warning++;
 		else
 			num_okay++;
 	}
 
+	printf ("%i critical, %i warning, %i okay",
+			num_critical, num_warning, num_okay);
+	if (values_num > 0)
+	{
+		printf (" |");
+		for (i = 0; i < values_num; i++)
+			printf (" %s=%lf;;;;", values_names[i], values[i]);
+	}
+	printf ("\n");
+
 	if ((num_critical != 0) || (values_num == 0))
-	{
-		printf ("CRITICAL: %i critical, %i warning, %i okay\n",
-				num_critical, num_warning, num_okay);
 		return (RET_CRITICAL);
-	}
 	else if (num_warning != 0)
-	{
-		printf ("WARNING: %i warning, %i okay\n",
-				num_warning, num_okay);
 		return (RET_WARNING);
-	}
-	else
-	{
-		printf ("OKAY: %i okay\n", num_okay);
-		return (RET_OKAY);
-	}
 
-	return (RET_UNKNOWN);
+	return (RET_OKAY);
 } /* int do_check_con_none */
 
 int do_check_con_average (int values_num, double *values, char **values_names)
 {
 	int i;
 	double total;
 	int total_num;
+	double average;
 
 	total = 0.0;
 	total_num = 0;
 	for (i = 0; i < values_num; i++)
 	{
 		if (!isnan (values[i]))
@@ -330,37 +328,29 @@
 			total += values[i];
 			total_num++;
 		}
 	}
 
 	if (total_num == 0)
-	{
-		printf ("WARNING: No defined values found\n");
+		average = NAN;
+	else
+		average = total / total_num;
+	printf ("%lf average |", average);
+	for (i = 0; i < values_num; i++)
+		printf (" %s=%lf;;;;", values_names[i], values[i]);
+
+	if (total_num == 0)
 		return (RET_WARNING);
-	}
 
-	if (match_range (&range_critical_g, total / total_num) != 0)
-	{
-		printf ("CRITICAL: Average = %lf\n",
-				(double) (total / total_num));
+	if (isnan (average)
+			|| match_range (&range_critical_g, average))
 		return (RET_CRITICAL);
-	}
-	else if (match_range (&range_warning_g, total / total_num) != 0)
-	{
-		printf ("WARNING: Average = %lf\n",
-				(double) (total / total_num));
+	else if (match_range (&range_warning_g, average) != 0)
 		return (RET_WARNING);
-	}
-	else
-	{
-		printf ("OKAY: Average = %lf\n",
-				(double) (total / total_num));
-		return (RET_OKAY);
-	}
 
-	return (RET_UNKNOWN);
+	return (RET_OKAY);
 } /* int do_check_con_average */
 
 int do_check_con_sum (int values_num, double *values, char **values_names)
 {
 	int i;
 	double total;
@@ -419,13 +409,13 @@
 	else if (consolitation_g == CON_AVERAGE)
 		return (do_check_con_average (values_num, values, values_names));
 	else if (consolitation_g == CON_SUM)
 		return (do_check_con_sum (values_num, values, values_names));
 
 	free (values);
-	free (values_names);
+	free (values_names); /* FIXME? */
 
 	return (RET_UNKNOWN);
 }
 
 int main (int argc, char **argv)
 {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-perl.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-perl.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-perl.5	2007-09-28 19:45:33.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-perl.5	2007-09-02 05:53:38.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-PERL 5"
-.TH COLLECTD-PERL 5 "2007-09-28" "4.0.8" "collectd"
+.TH COLLECTD-PERL 5 "2007-08-31" "4.1.0" "collectd"
 .SH "NAME"
 collectd\-perl \- Documentation of collectd's \f(CW\*(C`perl plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -162,13 +162,13 @@
 A data-set is a list of one or more data\-sources. Each data-source defines a
 name, type, min\- and max-value and the data-set wraps them up into one
 structure. The general layout looks like this:
 .Sp
 .Vb 6
 \&  [{
-\&    name => \(aqdata_source_name\(aq,
+\&    name => 'data_source_name',
 \&    type => DS_TYPE_COUNTER || DS_TYPE_GAUGE
 \&    min  => value || undef,
 \&    max  => value || undef
 \&  }, ...]
 .Ve
 .IP "Value-List" 4
@@ -180,16 +180,16 @@
 this:
 .Sp
 .Vb 8
 \&  {
 \&    values => [123, 0.5],
 \&    time   => time (),
-\&    host   => \(aqlocalhost\(aq,
-\&    plugin => \(aqmyplugin\(aq,
-\&    plugin_instance => \(aq\(aq,
-\&    type_instance   => \(aq\(aq
+\&    host   => 'localhost',
+\&    plugin => 'myplugin',
+\&    plugin_instance => '',
+\&    type_instance   => ''
 \&  }
 .Ve
 .SH "METHODS"
 .IX Header "METHODS"
 The following functions provide the C\-interface to Perl\-modules. They are
 automatically exported into the module's namespace. You don't need to \f(CW\*(C`use\*(C'\fR
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src: collectd-snmp.5
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-unixsock.5 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-unixsock.5
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/collectd-unixsock.5	2007-09-28 22:29:20.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/collectd-unixsock.5	2007-09-02 05:53:38.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD-UNIXSOCK 5"
-.TH COLLECTD-UNIXSOCK 5 "2007-09-28" "4.0.9" "collectd"
+.TH COLLECTD-UNIXSOCK 5 "2007-09-01" "4.1.0" "collectd"
 .SH "NAME"
 collectd\-unixsock \- Documentation of collectd's \f(CW\*(C`unixsock plugin\*(C'\fR
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 .Vb 8
 \&  # See collectd.conf(5)
@@ -173,25 +173,71 @@
 Counter-values are converted to a rate, e.\ g. bytes per second.
 Undefined values are returned as \fBNaN\fR.
 .Sp
 Example:
   \-> | \s-1GETVAL\s0 myhost/cpu\-0/cpu\-user
   <\- | 1 value=1.260000e+00
-.IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR \fIValuelist\fR" 4
-.IX Item "PUTVAL Identifier Valuelist"
-Submits a value (identified by \fIIdentifier\fR, see below) to the daemon which
-will dispatch it to all it's write\-plugins. The \fIValuelist\fR is a
-colon-separated list of the time and the values, each either an integer if the
-data-source is a counter, of a double if the data-source if of type \*(L"gauge\*(R".
-You can submit an undefined gauge-value by using \fBU\fR. When submitting \fBU\fR to
-a counter the behavior is undefined. The time is given as epoch (i.\ e.
-standard \s-1UNIX\s0 time).
+.IP "\fB\s-1LISTVAL\s0\fR" 4
+.IX Item "LISTVAL"
+Returnes a list of the values available in the value cache together with the
+time of the last update, so that querying applications can issue a \fB\s-1GETVAL\s0\fR
+command for the values that have changed.
+.Sp
+The first line's status number is the number of identifiers returned or less
+than zero if an error occured. Each of the following lines containes the
+update time as an epoch value and the identifier, seperated by a space.
+.Sp
+Example:
+  \-> | \s-1LISTVAL\s0
+  <\- | 69 Values found
+  <\- | 1182204284 leeloo/cpu\-0/cpu\-idle
+  <\- | 1182204284 leeloo/cpu\-0/cpu\-nice
+  <\- | 1182204284 leeloo/cpu\-0/cpu\-system
+  <\- | 1182204284 leeloo/cpu\-0/cpu\-user
+  ...
+.IP "\fB\s-1PUTVAL\s0\fR \fIIdentifier\fR [\fIOptionList\fR] \fIValuelist\fR" 4
+.IX Item "PUTVAL Identifier [OptionList] Valuelist"
+Submits one or more values (identified by \fIIdentifier\fR, see below) to the
+daemon which will dispatch it to all it's write\-plugins.
+.Sp
+An \fIIdentifier\fR is of the form
+\&\f(CW\*(C`\f(CIhost\f(CW\f(CB/\f(CW\f(CIplugin\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\f(CB/\f(CW\f(CItype\f(CW\f(CB\-\f(CW\f(CIinstance\f(CW\*(C'\fR with both
+\&\fIinstance\fR\-parts being optional. If they're omitted the hyphen must be
+omitted, too.
+.Sp
+The \fIOptionList\fR is an optional list of \fIOptions\fR, where each option if a
+key\-value\-pair. A list of currently understood options can be found below, all
+other options will be ignored.
+.Sp
+\&\fIValuelist\fR is a colon-seperated list of the time and the values, each either
+an integer if the data-source is a counter, of a double if the data-source if
+of type \*(L"gauge\*(R". You can submit an undefined gauge-value by using \fBU\fR. When
+submitting \fBU\fR to a counter the behavior is undefined. The time is given as
+epoch (i.\ e. standard \s-1UNIX\s0 time).
+.Sp
+You can mix options and values, but the order is important: Options only
+effect following values, so specifying an option as last field is allowed, but
+useless. Also, an option applies to \fBall\fR following values, so you don't need
+to re-set an option over and over again.
+.Sp
+The currently defined \fBOptions\fR are:
+.RS 4
+.IP "\fBinterval=\fR\fIseconds\fR" 4
+.IX Item "interval=seconds"
+Gives the interval in which the data identified by \fIIdentifier\fR is being
+collected.
+.RE
+.RS 4
+.Sp
+Please note that this is the same format as used in the \fBexec plugin\fR, see
+\&\fIcollectd\-exec\fR\|(5).
 .Sp
 Example:
-  \-> | \s-1PUTVAL\s0 testhost/interface/if_octets\-test0 1179574444:123:456
+  \-> | \s-1PUTVAL\s0 testhost/interface/if_octets\-test0 interval=10 1179574444:123:456
   <\- | 0 Success
+.RE
 .Sh "Identifiers"
 .IX Subsection "Identifiers"
 Value or value-lists are identified in a uniform fashion:
 .PP
 \&\fIHostname\fR/\fIPlugin\fR/\fIType\fR
 .PP
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/common.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/common.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/common.c	2007-09-28 19:38:23.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/common.c	2007-08-31 21:49:12.000000000 +0800
@@ -67,41 +67,18 @@
 		exit(3);
 	}
 
 	return (r);
 }
 
-/* Even though Posix requires "strerror_r" to return an "int",
- * some systems (e.g. the GNU libc) return a "char *" _and_
- * ignore the second argument ... -tokkee */
+/* Don't use the return value of `strerror_r', because the GNU-people got
+ * inventive there.. -octo */
 char *sstrerror (int errnum, char *buf, size_t buflen)
 {
 	buf[0] = '\0';
-#ifdef STRERROR_R_CHAR_P
-	{
-		char *temp;
-		temp = strerror_r (errnum, buf, buflen);
-		if (buf[0] == '\0')
-		{
-			if ((temp != NULL) && (temp != buf) && (temp[0] != '\0'))
-				strncpy (buf, temp, buflen);
-			else
-				strncpy (buf, "strerror_r did not return "
-						"an error message", buflen);
-			buf[buflen - 1] = '\0';
-		}
-	}
-#else
-	if (strerror_r (errnum, buf, buflen) != 0)
-	{
-		snprintf (buf, buflen, "Error #%i; "
-				"Additionally, strerror_r failed.",
-				errnum);
-	}
-#endif /* STRERROR_R_CHAR_P */
-	buf[buflen - 1] = '\0';
+	strerror_r (errnum, buf, buflen);
 	return (buf);
 } /* char *sstrerror */
 
 void *smalloc (size_t size)
 {
 	void *r;
@@ -418,13 +395,13 @@
 		{
 			if (errno == ENOENT)
 			{
 				if (mkdir (dir, 0755) == -1)
 				{
 					char errbuf[1024];
-					ERROR ("check_create_dir: mkdir (%s): %s", dir,
+					ERROR ("mkdir (%s): %s", dir,
 							sstrerror (errno,
 								errbuf, sizeof (errbuf)));
 					return (-1);
 				}
 			}
 			else
@@ -441,13 +418,13 @@
 			ERROR ("stat (%s): Not a directory!", dir);
 			return (-1);
 		}
 	}
 
 	return (0);
-} /* check_create_dir */
+}
 
 #ifdef HAVE_LIBKSTAT
 int get_kstat (kstat_t **ksp_ptr, char *module, int instance, char *name)
 {
 	char ident[128];
 	
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/configfile.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/configfile.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/configfile.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/configfile.c	2007-09-02 03:00:35.000000000 +0800
@@ -39,12 +39,19 @@
 	int  (*callback) (const char *, const char *);
 	const char **keys;
 	int    keys_num;
 	struct cf_callback *next;
 } cf_callback_t;
 
+typedef struct cf_complex_callback_s
+{
+	char *type;
+	int (*callback) (oconfig_item_t *);
+	struct cf_complex_callback_s *next;
+} cf_complex_callback_t;
+
 typedef struct cf_value_map_s
 {
 	char *key;
 	int (*func) (const oconfig_item_t *);
 } cf_value_map_t;
 
@@ -62,12 +69,13 @@
 static int dispatch_value_loadplugin (const oconfig_item_t *ci);
 
 /*
  * Private variables
  */
 static cf_callback_t *first_callback = NULL;
+static cf_complex_callback_t *complex_callback_head = NULL;
 
 static cf_value_map_t cf_value_map[] =
 {
 	{"PluginDir",  dispatch_value_plugindir},
 	{"LoadPlugin", dispatch_value_loadplugin}
 };
@@ -254,27 +262,35 @@
 
 static int dispatch_block_plugin (oconfig_item_t *ci)
 {
 	int i;
 	char *name;
 
+	cf_complex_callback_t *cb;
+
 	if (strcasecmp (ci->key, "Plugin") != 0)
 		return (-1);
-	if (ci->values_num != 1)
+	if (ci->values_num < 1)
 		return (-1);
 	if (ci->values[0].type != OCONFIG_TYPE_STRING)
 		return (-1);
 
 	name = ci->values[0].value.string;
 
+	/* Check for a complex callback first */
+	for (cb = complex_callback_head; cb != NULL; cb = cb->next)
+		if (strcasecmp (name, cb->type) == 0)
+			return (cb->callback (ci));
+
+	/* Hm, no complex plugin found. Dispatch the values one by one */
 	for (i = 0; i < ci->children_num; i++)
 	{
 		if (ci->children[i].children == NULL)
 			dispatch_value_plugin (name, ci->children + i);
 		else
-			{DEBUG ("No nested config blocks allow for plugins. Yet.");}
+			{DEBUG ("No nested config blocks allow for this plugin.");}
 	}
 
 	return (0);
 }
 
 
@@ -344,12 +360,32 @@
 
 			free (this);
 			break;
 		}
 } /* void cf_unregister */
 
+void cf_unregister_complex (const char *type)
+{
+	cf_complex_callback_t *this, *prev;
+
+	for (prev = NULL, this = complex_callback_head;
+			this != NULL;
+			prev = this, this = this->next)
+		if (strcasecmp (this->type, type) == 0)
+		{
+			if (prev == NULL)
+				complex_callback_head = this->next;
+			else
+				prev->next = this->next;
+
+			sfree (this->type);
+			sfree (this);
+			break;
+		}
+} /* void cf_unregister */
+
 void cf_register (const char *type,
 		int (*callback) (const char *, const char *),
 		const char **keys, int keys_num)
 {
 	cf_callback_t *cf_cb;
 
@@ -366,12 +402,45 @@
 	cf_cb->keys_num = keys_num;
 
 	cf_cb->next = first_callback;
 	first_callback = cf_cb;
 } /* void cf_register */
 
+int cf_register_complex (const char *type, int (*callback) (oconfig_item_t *))
+{
+	cf_complex_callback_t *new;
+
+	new = (cf_complex_callback_t *) malloc (sizeof (cf_complex_callback_t));
+	if (new == NULL)
+		return (-1);
+
+	new->type = strdup (type);
+	if (new->type == NULL)
+	{
+		sfree (new);
+		return (-1);
+	}
+
+	new->callback = callback;
+	new->next = NULL;
+
+	if (complex_callback_head == NULL)
+	{
+		complex_callback_head = new;
+	}
+	else
+	{
+		cf_complex_callback_t *last = complex_callback_head;
+		while (last->next != NULL)
+			last = last->next;
+		last->next = new;
+	}
+
+	return (0);
+} /* int cf_register_complex */
+
 int cf_read (char *filename)
 {
 	oconfig_item_t *conf;
 	int i;
 
 	conf = oconfig_parse_file (filename);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/configfile.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/configfile.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/configfile.h	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/configfile.h	2007-09-02 03:00:35.000000000 +0800
@@ -1,6 +1,8 @@
+#ifndef CONFIGFILE_H
+#define CONFIGFILE_H
 /**
  * collectd - src/configfile.h
  * Copyright (C) 2005,2006  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
@@ -17,24 +19,25 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#ifndef CONFIGFILE_H
-#define CONFIGFILE_H
+#include "collectd.h"
+#include "liboconfig/oconfig.h"
 
 /*
  * DESCRIPTION
  *  Remove a registered plugin from the internal data structures.
  * 
  * PARAMETERS
  *  `type'      Name of the plugin (must be the same as passed to
  *              `plugin_register'
  */
 void cf_unregister (const char *type);
+void cf_unregister_complex (const char *type);
 
 /*
  * DESCRIPTION
  *  `cf_register' is called by plugins that wish to receive config keys. The
  *  plugin will then receive all keys it registered for if they're found in a
  *  `<Plugin $type>' section.
@@ -58,12 +61,14 @@
  *  called multiple times, but only the last call will have an effect.
  */
 void cf_register (const char *type,
 		int (*callback) (const char *, const char *),
 		const char **keys, int keys_num);
 
+int cf_register_complex (const char *type, int (*callback) (oconfig_item_t *));
+
 /*
  * DESCRIPTION
  *  `cf_read' reads the config file `filename' and dispatches the read
  *  information to functions/variables. Most important: Is calls `plugin_load'
  *  to load specific plugins, depending on the current mode of operation.
  *
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/config.h.in	2007-09-28 22:29:21.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/config.h.in	2007-09-02 04:14:39.000000000 +0800
@@ -1,149 +1,32 @@
 /* src/config.h.in.  Generated from configure.in by autoheader.  */
 
-/* wether or not to enable module Apache httpd statistics */
-#undef COLLECT_APACHE
-
-/* wether or not to enable module Statistics of UPSes by APC */
-#undef COLLECT_APCUPS
-
-/* wether or not to enable module Apple's hardware sensors */
-#undef COLLECT_APPLE_SENSORS
-
-/* wether or not to enable module battery statistics */
-#undef COLLECT_BATTERY
-
-/* wether or not to enable module cpu usage statistics */
-#undef COLLECT_CPU
-
-/* wether or not to enable module system cpu frequency statistics */
-#undef COLLECT_CPUFREQ
-
-/* wether or not to enable module csv output plugin */
-#undef COLLECT_CSV
-
 /* wether or not to enable feature daemon mode */
 #undef COLLECT_DAEMON
 
 /* wether or not to enable feature debugging */
 #undef COLLECT_DEBUG
 
-/* wether or not to enable module df statistics */
-#undef COLLECT_DF
-
-/* wether or not to enable module disk/partition statistics */
-#undef COLLECT_DISK
-
-/* wether or not to enable module dns statistics */
-#undef COLLECT_DNS
-
-/* wether or not to enable module email statistics */
-#undef COLLECT_EMAIL
-
-/* wether or not to enable module entropy statistics */
-#undef COLLECT_ENTROPY
-
-/* wether or not to enable module exec of external programs */
-#undef COLLECT_EXEC
-
 /* wether or not to enable feature getifaddrs under Linux */
 #undef COLLECT_GETIFADDRS
 
-/* wether or not to enable module hdd temperature statistics */
-#undef COLLECT_HDDTEMP
-
-/* wether or not to enable module interface statistics */
-#undef COLLECT_INTERFACE
-
-/* wether or not to enable module IPtables statistics */
-#undef COLLECT_IPTABLES
-
-/* wether or not to enable module irq statistics */
-#undef COLLECT_IRQ
-
 /* Wether or not to use the IOKit library */
 #undef COLLECT_LIBIOKIT
 
 /* Wether or not to use the pcap library */
 #undef COLLECT_LIBPCAP
 
 /* Wether or not to use statgrab library */
 #undef COLLECT_LIBSTATGRAB
 
 /* Wether or not to use sensors library */
 #undef COLLECT_LM_SENSORS
 
-/* wether or not to enable module system load statistics */
-#undef COLLECT_LOAD
-
-/* wether or not to enable module logfile log facility */
-#undef COLLECT_LOGFILE
-
-/* wether or not to enable module motherboard monitor statistics */
-#undef COLLECT_MBMON
-
-/* wether or not to enable module memory statistics */
-#undef COLLECT_MEMORY
-
-/* wether or not to enable module multimeter statistics */
-#undef COLLECT_MULTIMETER
-
-/* wether or not to enable module mysql statistics */
-#undef COLLECT_MYSQL
-
-/* wether or not to enable module network functionality */
-#undef COLLECT_NETWORK
-
-/* wether or not to enable module nfs statistics */
-#undef COLLECT_NFS
-
-/* wether or not to enable module ntpd statistics */
-#undef COLLECT_NTPD
-
-/* wether or not to enable module network UPS tools statistics */
-#undef COLLECT_NUT
-
-/* wether or not to enable module embedded perl interpreter */
-#undef COLLECT_PERL
-
-/* wether or not to enable module ping statistics */
-#undef COLLECT_PING
-
-/* wether or not to enable module processes statistics */
-#undef COLLECT_PROCESSES
-
 /* Wether or not to use rrdtool library */
 #undef COLLECT_RRDTOOL
 
-/* wether or not to enable module lm_sensors statistics */
-#undef COLLECT_SENSORS
-
-/* wether or not to enable module serial statistics */
-#undef COLLECT_SERIAL
-
-/* wether or not to enable module swap statistics */
-#undef COLLECT_SWAP
-
-/* wether or not to enable module syslog log facility */
-#undef COLLECT_SYSLOG
-
-/* wether or not to enable module tape statistics */
-#undef COLLECT_TAPE
-
-/* wether or not to enable module UNIX socket plugin */
-#undef COLLECT_UNIXSOCK
-
-/* wether or not to enable module user count statistics */
-#undef COLLECT_USERS
-
-/* wether or not to enable module vserver statistics */
-#undef COLLECT_VSERVER
-
-/* wether or not to enable module wireless link statistics */
-#undef COLLECT_WIRELESS
-
 /* Define to 1 if you have the <arpa/inet.h> header file. */
 #undef HAVE_ARPA_INET_H
 
 /* Define to 1 if you have the <arpa/nameser_compat.h> header file. */
 #undef HAVE_ARPA_NAMESER_COMPAT_H
 
@@ -163,16 +46,12 @@
 /* Define to 1 if you have the <ctype.h> header file. */
 #undef HAVE_CTYPE_H
 
 /* Define to 1 if you have the <curl/curl.h> header file. */
 #undef HAVE_CURL_CURL_H
 
-/* Define to 1 if you have the declaration of `strerror_r', and to 0 if you
-   don't. */
-#undef HAVE_DECL_STRERROR_R
-
 /* Define to 1 if you have the <dirent.h> header file, and it defines `DIR'.
    */
 #undef HAVE_DIRENT_H
 
 /* Define to 1 if you have the <dlfcn.h> header file. */
 #undef HAVE_DLFCN_H
@@ -228,12 +107,15 @@
 /* Define to 1 if you have the `getvfsstat' function. */
 #undef HAVE_GETVFSSTAT
 
 /* Define to 1 if you have the <grp.h> header file. */
 #undef HAVE_GRP_H
 
+/* Define to 1 if you have the `host_statistics' function. */
+#undef HAVE_HOST_STATISTICS
+
 /* Define to 1 if you have the <ifaddrs.h> header file. */
 #undef HAVE_IFADDRS_H
 
 /* Define to 1 if you have the <inttypes.h> header file. */
 #undef HAVE_INTTYPES_H
 
@@ -253,12 +135,15 @@
 #undef HAVE_IOKIT_PS_IOPSKEYS_H
 
 /* Define to 1 if you have the <IOKit/storage/IOBlockStorageDriver.h> header
    file. */
 #undef HAVE_IOKIT_STORAGE_IOBLOCKSTORAGEDRIVER_H
 
+/* Define to 1 if you have the <iproute/libnetlink.h> header file. */
+#undef HAVE_IPROUTE_LIBNETLINK_H
+
 /* Define to 1 if you have the <kstat.h> header file. */
 #undef HAVE_KSTAT_H
 
 /* Define to 1 if `nwrites' is member of `kstat_io_t'. */
 #undef HAVE_KSTAT_IO_T_NWRITES
 
@@ -313,15 +198,21 @@
 /* Define to 1 if you have the rrd library (-lrrd). */
 #undef HAVE_LIBRRD
 
 /* Define to 1 if you have the sensors library (-lsensors). */
 #undef HAVE_LIBSENSORS
 
+/* Define to 1 if you have the Net-SNMP library (-lnetsnmp). */
+#undef HAVE_LIBSNMP
+
 /* Define to 1 if you have the upsclient library (-lupsclient). */
 #undef HAVE_LIBUPSCLIENT
 
+/* Define to 1 if you have the 'xmms' library (-lxmms). */
+#undef HAVE_LIBXMMS
+
 /* Define to 1 if you have the <limits.h> header file. */
 #undef HAVE_LIMITS_H
 
 /* Define to 1 if you have the <linux/config.h> header file. */
 #undef HAVE_LINUX_CONFIG_H
 
@@ -457,27 +348,162 @@
 /* Define to 1 if you have the <net/if_ppp.h> header file. */
 #undef HAVE_NET_IF_PPP_H
 
 /* Define to 1 if you have the <net/ppp_defs.h> header file. */
 #undef HAVE_NET_PPP_DEFS_H
 
+/* Define to 1 if you have the <net-snmp/net-snmp-config.h> header file. */
+#undef HAVE_NET_SNMP_NET_SNMP_CONFIG_H
+
 /* Define if the function getmntent exists and takes one argument. */
 #undef HAVE_ONE_GETMNTENT
 
 /* Define to 1 if you have the `openlog' function. */
 #undef HAVE_OPENLOG
 
 /* Define to 1 if you have the <paths.h> header file. */
 #undef HAVE_PATHS_H
 
 /* Define to 1 if you have the <pcap.h> header file. */
 #undef HAVE_PCAP_H
 
+/* Define to 1 if the apache plugin is enabled. */
+#undef HAVE_PLUGIN_APACHE
+
+/* Define to 1 if the apcups plugin is enabled. */
+#undef HAVE_PLUGIN_APCUPS
+
+/* Define to 1 if the apple_sensors plugin is enabled. */
+#undef HAVE_PLUGIN_APPLE_SENSORS
+
+/* Define to 1 if the battery plugin is enabled. */
+#undef HAVE_PLUGIN_BATTERY
+
+/* Define to 1 if the cpu plugin is enabled. */
+#undef HAVE_PLUGIN_CPU
+
+/* Define to 1 if the cpufreq plugin is enabled. */
+#undef HAVE_PLUGIN_CPUFREQ
+
+/* Define to 1 if the csv plugin is enabled. */
+#undef HAVE_PLUGIN_CSV
+
+/* Define to 1 if the df plugin is enabled. */
+#undef HAVE_PLUGIN_DF
+
+/* Define to 1 if the disk plugin is enabled. */
+#undef HAVE_PLUGIN_DISK
+
+/* Define to 1 if the dns plugin is enabled. */
+#undef HAVE_PLUGIN_DNS
+
+/* Define to 1 if the email plugin is enabled. */
+#undef HAVE_PLUGIN_EMAIL
+
+/* Define to 1 if the entropy plugin is enabled. */
+#undef HAVE_PLUGIN_ENTROPY
+
+/* Define to 1 if the exec plugin is enabled. */
+#undef HAVE_PLUGIN_EXEC
+
+/* Define to 1 if the hddtemp plugin is enabled. */
+#undef HAVE_PLUGIN_HDDTEMP
+
+/* Define to 1 if the interface plugin is enabled. */
+#undef HAVE_PLUGIN_INTERFACE
+
+/* Define to 1 if the iptables plugin is enabled. */
+#undef HAVE_PLUGIN_IPTABLES
+
+/* Define to 1 if the irq plugin is enabled. */
+#undef HAVE_PLUGIN_IRQ
+
+/* Define to 1 if the load plugin is enabled. */
+#undef HAVE_PLUGIN_LOAD
+
+/* Define to 1 if the logfile plugin is enabled. */
+#undef HAVE_PLUGIN_LOGFILE
+
+/* Define to 1 if the mbmon plugin is enabled. */
+#undef HAVE_PLUGIN_MBMON
+
+/* Define to 1 if the memory plugin is enabled. */
+#undef HAVE_PLUGIN_MEMORY
+
+/* Define to 1 if the multimeter plugin is enabled. */
+#undef HAVE_PLUGIN_MULTIMETER
+
+/* Define to 1 if the mysql plugin is enabled. */
+#undef HAVE_PLUGIN_MYSQL
+
+/* Define to 1 if the netlink plugin is enabled. */
+#undef HAVE_PLUGIN_NETLINK
+
+/* Define to 1 if the network plugin is enabled. */
+#undef HAVE_PLUGIN_NETWORK
+
+/* Define to 1 if the nfs plugin is enabled. */
+#undef HAVE_PLUGIN_NFS
+
+/* Define to 1 if the ntpd plugin is enabled. */
+#undef HAVE_PLUGIN_NTPD
+
+/* Define to 1 if the nut plugin is enabled. */
+#undef HAVE_PLUGIN_NUT
+
+/* Define to 1 if the perl plugin is enabled. */
+#undef HAVE_PLUGIN_PERL
+
+/* Define to 1 if the ping plugin is enabled. */
+#undef HAVE_PLUGIN_PING
+
+/* Define to 1 if the processes plugin is enabled. */
+#undef HAVE_PLUGIN_PROCESSES
+
+/* Define to 1 if the rrdtool plugin is enabled. */
+#undef HAVE_PLUGIN_RRDTOOL
+
+/* Define to 1 if the sensors plugin is enabled. */
+#undef HAVE_PLUGIN_SENSORS
+
+/* Define to 1 if the serial plugin is enabled. */
+#undef HAVE_PLUGIN_SERIAL
+
+/* Define to 1 if the snmp plugin is enabled. */
+#undef HAVE_PLUGIN_SNMP
+
+/* Define to 1 if the swap plugin is enabled. */
+#undef HAVE_PLUGIN_SWAP
+
+/* Define to 1 if the syslog plugin is enabled. */
+#undef HAVE_PLUGIN_SYSLOG
+
+/* Define to 1 if the tape plugin is enabled. */
+#undef HAVE_PLUGIN_TAPE
+
+/* Define to 1 if the unixsock plugin is enabled. */
+#undef HAVE_PLUGIN_UNIXSOCK
+
+/* Define to 1 if the users plugin is enabled. */
+#undef HAVE_PLUGIN_USERS
+
+/* Define to 1 if the vserver plugin is enabled. */
+#undef HAVE_PLUGIN_VSERVER
+
+/* Define to 1 if the wireless plugin is enabled. */
+#undef HAVE_PLUGIN_WIRELESS
+
+/* Define to 1 if the xmms plugin is enabled. */
+#undef HAVE_PLUGIN_XMMS
+
 /* Define to 1 if you have the <poll.h> header file. */
 #undef HAVE_POLL_H
 
+/* Define to 1 if you have the `processor_info' function. */
+#undef HAVE_PROCESSOR_INFO
+
 /* Define to 1 if you have the <pthread.h> header file. */
 #undef HAVE_PTHREAD_H
 
 /* Define to 1 if you have the <pwd.h> header file. */
 #undef HAVE_PWD_H
 
@@ -544,15 +570,12 @@
 /* Define to 1 if you have the `strcmp' function. */
 #undef HAVE_STRCMP
 
 /* Define to 1 if you have the `strdup' function. */
 #undef HAVE_STRDUP
 
-/* Define to 1 if you have the `strerror_r' function. */
-#undef HAVE_STRERROR_R
-
 /* Define to 1 if you have the <strings.h> header file. */
 #undef HAVE_STRINGS_H
 
 /* Define to 1 if you have the <string.h> header file. */
 #undef HAVE_STRING_H
 
@@ -711,15 +734,12 @@
 /* Define if the function getmntent exists and takes two arguments. */
 #undef HAVE_TWO_GETMNTENT
 
 /* Define to 1 if you have the <unistd.h> header file. */
 #undef HAVE_UNISTD_H
 
-/* Define to 1 if you have the <upsclient.h> header file. */
-#undef HAVE_UPSCLIENT_H
-
 /* Define to 1 if the system has the type `UPSCONN'. */
 #undef HAVE_UPSCONN
 
 /* Define to 1 if the system has the type `UPSCONN_t'. */
 #undef HAVE_UPSCONN_T
 
@@ -766,15 +786,12 @@
 /* Define to the version of this package. */
 #undef PACKAGE_VERSION
 
 /* Define to 1 if you have the ANSI C header files. */
 #undef STDC_HEADERS
 
-/* Define to 1 if strerror_r returns char *. */
-#undef STRERROR_R_CHAR_P
-
 /* Define to 1 if you can safely include both <sys/time.h> and <time.h>. */
 #undef TIME_WITH_SYS_TIME
 
 /* Version number of package */
 #undef VERSION
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/cpu.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/cpu.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/cpu.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/cpu.c	2007-09-02 03:00:35.000000000 +0800
@@ -65,19 +65,16 @@
 #  define CP_INTR   3
 #  define CP_IDLE   4
 #  define CPUSTATES 5
 # endif
 #endif /* HAVE_SYSCTLBYNAME */
 
-#if defined(PROCESSOR_CPU_LOAD_INFO) || defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT) || defined(HAVE_SYSCTLBYNAME)
-# define CPU_HAVE_READ 1
-#else
-# define CPU_HAVE_READ 0
+#if !PROCESSOR_CPU_LOAD_INFO && !KERNEL_LINUX && !HAVE_LIBKSTAT && !HAVE_SYSCTLBYNAME
+# error "No applicable input method."
 #endif
 
-#if CPU_HAVE_READ
 #ifdef PROCESSOR_CPU_LOAD_INFO
 static mach_port_t port_host;
 static processor_port_array_t cpu_list;
 static mach_msg_type_number_t cpu_list_len;
 
 #if PROCESSOR_TEMPERATURE
@@ -386,15 +383,12 @@
 	submit (0, "system", cpuinfo[CP_SYS]);
 	submit (0, "idle", cpuinfo[CP_IDLE]);
 #endif
 
 	return (0);
 }
-#endif /* CPU_HAVE_READ */
 
 void module_register (void)
 {
-#if CPU_HAVE_READ
 	plugin_register_init ("cpu", init);
 	plugin_register_read ("cpu", cpu_read);
-#endif /* CPU_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/cpufreq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/cpufreq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/cpufreq.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/cpufreq.c	2007-09-02 03:00:35.000000000 +0800
@@ -23,26 +23,16 @@
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #define MODULE_NAME "cpufreq"
 
-#if defined(KERNEL_LINUX)
-# define CPUFREQ_HAVE_READ 1
-#else
-# define CPUFREQ_HAVE_READ 0
-#endif
-
-#if CPUFREQ_HAVE_READ
-#ifdef KERNEL_LINUX
 static int num_cpu = 0;
-#endif
 
 static int cpufreq_init (void)
 {
-#ifdef KERNEL_LINUX
         int status;
 	char filename[256];
 
 	num_cpu = 0;
 
 	while (1)
@@ -61,13 +51,12 @@
 
 	INFO ("cpufreq plugin: Found %d CPU%s", num_cpu,
 			(num_cpu == 1) ? "" : "s");
 
 	if (num_cpu == 0)
 		plugin_unregister_read ("cpufreq");
-#endif /* defined(KERNEL_LINUX) */
 
 	return (0);
 } /* int cpufreq_init */
 
 static void cpufreq_submit (int cpu_num, double value)
 {
@@ -86,13 +75,12 @@
 
 	plugin_dispatch_values ("cpufreq", &vl);
 }
 
 static int cpufreq_read (void)
 {
-#ifdef KERNEL_LINUX
         int status;
 	unsigned long long val;
 	int i = 0;
 	FILE *fp;
 	char filename[256];
 	char buffer[16];
@@ -135,20 +123,15 @@
 
 		/* You're seeing correctly: The file is reporting kHz values.. */
 		val = atoll (buffer) * 1000;
 
 		cpufreq_submit (i, val);
 	}
-#endif /* defined(KERNEL_LINUX) */
 
 	return (0);
 } /* int cpufreq_read */
-#endif /* CPUFREQ_HAVE_READ */
-#undef BUFSIZE
 
 void module_register (void)
 {
-#if CPUFREQ_HAVE_READ
 	plugin_register_init ("cpufreq", cpufreq_init);
 	plugin_register_read ("cpufreq", cpufreq_read);
-#endif /* CPUFREQ_HAVE_READ */
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/df.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/df.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/df.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/df.c	2007-09-02 03:00:35.000000000 +0800
@@ -23,33 +23,28 @@
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 #include "utils_mount.h"
 #include "utils_ignorelist.h"
 
-#if HAVE_STATFS || HAVE_STATVFS
-# define DF_HAVE_READ 1
-#else
-# define DF_HAVE_READ 0
-#endif
-
 #if HAVE_STATVFS
 # if HAVE_SYS_STATVFS_H
 #  include <sys/statvfs.h>
 # endif
 # define STATANYFS statvfs
 # define BLOCKSIZE(s) ((s).f_frsize ? (s).f_frsize : (s).f_bsize)
 #elif HAVE_STATFS
 # if HAVE_SYS_STATFS_H
 #  include <sys/statfs.h>
 # endif
 # define STATANYFS statfs
 # define BLOCKSIZE(s) (s).f_bsize
+#else
+# error "No applicable input method."
 #endif
 
-#if DF_HAVE_READ
 static const char *config_keys[] =
 {
 	"Device",
 	"MountPoint",
 	"FSType",
 	"IgnoreSelected",
@@ -206,17 +201,14 @@
 	}
 
 	cu_mount_freelist (mnt_list);
 
 	return (0);
 } /* int df_read */
-#endif /* DF_HAVE_READ */
 
 void module_register (void)
 {
-#if DF_HAVE_READ
 	plugin_register_config ("df", df_config,
 			config_keys, config_keys_num);
 	plugin_register_init ("df", df_init);
 	plugin_register_read ("df", df_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/disk.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/disk.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/disk.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/disk.c	2007-09-02 03:00:35.000000000 +0800
@@ -55,19 +55,12 @@
 # include <limits.h>
 #endif
 #ifndef UINT_MAX
 #  define UINT_MAX 4294967295U
 #endif
 
-#if HAVE_IOKIT_IOKITLIB_H || KERNEL_LINUX || HAVE_LIBKSTAT
-# define DISK_HAVE_READ 1
-#else
-# define DISK_HAVE_READ 0
-#endif
-
-#if DISK_HAVE_READ
 #if HAVE_IOKIT_IOKITLIB_H
 static mach_port_t io_master_port = MACH_PORT_NULL;
 /* #endif HAVE_IOKIT_IOKITLIB_H */
 
 #elif KERNEL_LINUX
 typedef struct diskstats
@@ -99,13 +92,17 @@
 
 #elif HAVE_LIBKSTAT
 #define MAX_NUMDISK 256
 extern kstat_ctl_t *kc;
 static kstat_t *ksp[MAX_NUMDISK];
 static int numdisk = 0;
-#endif /* HAVE_LIBKSTAT */
+/* #endif HAVE_LIBKSTAT */
+
+#else
+# error "No applicable input method."
+#endif
 
 static int disk_init (void)
 {
 #if HAVE_IOKIT_IOKITLIB_H
 	kern_return_t status;
 	
@@ -636,15 +633,12 @@
 		}
 	}
 #endif /* defined(HAVE_LIBKSTAT) */
 
 	return (0);
 } /* int disk_read */
-#endif /* DISK_HAVE_READ */
 
 void module_register (void)
 {
-#if DISK_HAVE_READ
 	plugin_register_init ("disk", disk_init);
 	plugin_register_read ("disk", disk_read);
-#endif /* DISK_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/dns.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/dns.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/dns.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/dns.c	2007-09-02 03:00:35.000000000 +0800
@@ -21,39 +21,31 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if HAVE_LIBPCAP && HAVE_LIBPTHREAD
-# include "utils_dns.h"
-# include <pthread.h>
-# include <pcap.h>
-# include <poll.h>
-# define DNS_HAVE_READ 1
-#else
-# define DNS_HAVE_READ 0
-#endif
+#include "utils_dns.h"
+#include <pthread.h>
+#include <pcap.h>
+#include <poll.h>
 
 /*
  * Private data types
  */
-#if DNS_HAVE_READ
 struct counter_list_s
 {
 	unsigned int key;
 	unsigned int value;
 	struct counter_list_s *next;
 };
 typedef struct counter_list_s counter_list_t;
-#endif
 
 /*
  * Private variables
  */
-#if DNS_HAVE_READ
 static const char *config_keys[] =
 {
 	"Interface",
 	"IgnoreSource",
 	NULL
 };
@@ -72,18 +64,16 @@
 static int             listen_thread_init = 0;
 /* The `traffic' mutex if for `tr_queries' and `tr_responses' */
 static pthread_mutex_t traffic_mutex = PTHREAD_MUTEX_INITIALIZER;
 static pthread_mutex_t qtype_mutex   = PTHREAD_MUTEX_INITIALIZER;
 static pthread_mutex_t opcode_mutex  = PTHREAD_MUTEX_INITIALIZER;
 static pthread_mutex_t rcode_mutex   = PTHREAD_MUTEX_INITIALIZER;
-#endif /* DNS_HAVE_READ */
 
 /*
  * Private functions
  */
-#if DNS_HAVE_READ
 static counter_list_t *counter_list_search (counter_list_t **list, unsigned int key)
 {
 	counter_list_t *entry;
 
 	DEBUG ("counter_list_search (list = %p, key = %u)",
 			(void *) *list, key);
@@ -236,17 +226,19 @@
 		return (NULL);
 	}
 
 	memset (&fp, 0, sizeof (fp));
 	if (pcap_compile (pcap_obj, &fp, "udp port 53", 1, 0) < 0)
 	{
+		DEBUG ("pcap_compile failed");
 		ERROR ("dns plugin: pcap_compile failed");
 		return (NULL);
 	}
 	if (pcap_setfilter (pcap_obj, &fp) < 0)
 	{
+		DEBUG ("pcap_setfilter failed");
 		ERROR ("dns plugin: pcap_setfilter failed");
 		return (NULL);
 	}
 
 	DEBUG ("PCAP object created.");
 
@@ -397,16 +389,13 @@
 		DEBUG ("rcode = %u; counter = %u;", keys[i], values[i]);
 		submit_counter ("dns_rcode", rcode_str (keys[i]), values[i]);
 	}
 
 	return (0);
 } /* int dns_read */
-#endif
 
 void module_register (void)
 {
-#if DNS_HAVE_READ
 	plugin_register_config ("dns", dns_config, config_keys, config_keys_num);
 	plugin_register_init ("dns", dns_init);
 	plugin_register_read ("dns", dns_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/email.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/email.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/email.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/email.c	2007-09-02 03:00:35.000000000 +0800
@@ -58,17 +58,13 @@
 
 #define MODULE_NAME "email"
 
 /* 256 bytes ought to be enough for anybody ;-) */
 #define BUFSIZE 256
 
-#ifndef COLLECTD_SOCKET_PREFIX
-# define COLLECTD_SOCKET_PREFIX "/tmp/.collectd-"
-#endif /* COLLECTD_SOCKET_PREFIX */
-
-#define SOCK_PATH COLLECTD_SOCKET_PREFIX"email"
+#define SOCK_PATH LOCALSTATEDIR"/run/"PACKAGE_NAME"-email"
 #define MAX_CONNS 5
 #define MAX_CONNS_LIMIT 16384
 
 #define log_err(...) ERROR (MODULE_NAME": "__VA_ARGS__)
 #define log_warn(...) WARNING (MODULE_NAME": "__VA_ARGS__)
 
@@ -116,19 +112,21 @@
 /*
  * Private variables
  */
 /* valid configuration file keys */
 static const char *config_keys[] =
 {
+	"SocketFile",
 	"SocketGroup",
 	"SocketPerms",
 	"MaxConns"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
 /* socket configuration */
+static char *sock_file  = SOCK_PATH;
 static char *sock_group = COLLECTD_GRP_NAME;
 static int  sock_perms  = S_IRWXU | S_IRWXG;
 static int  max_conns   = MAX_CONNS;
 
 /* state of the plugin */
 static int disabled = 0;
@@ -168,13 +166,16 @@
 
 /*
  * Private functions
  */
 static int email_config (const char *key, const char *value)
 {
-	if (0 == strcasecmp (key, "SocketGroup")) {
+	if (0 == strcasecmp (key, "SocketFile")) {
+		sock_file = sstrdup (value);
+	}
+	else if (0 == strcasecmp (key, "SocketGroup")) {
 		sock_group = sstrdup (value);
 	}
 	else if (0 == strcasecmp (key, "SocketPerms")) {
 		/* the user is responsible for providing reasonable values */
 		sock_perms = (int)strtol (value, NULL, 8);
 	}
@@ -505,13 +506,13 @@
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		pthread_exit ((void *)1);
 	}
 
 	addr.sun_family = AF_UNIX;
 
-	strncpy (addr.sun_path, SOCK_PATH, (size_t)(UNIX_PATH_MAX - 1));
+	strncpy (addr.sun_path, sock_file, (size_t)(UNIX_PATH_MAX - 1));
 	addr.sun_path[UNIX_PATH_MAX - 1] = '\0';
 	unlink (addr.sun_path);
 
 	errno = 0;
 	if (-1 == bind (connector_socket, (struct sockaddr *)&addr,
 				offsetof (struct sockaddr_un, sun_path)
@@ -552,29 +553,29 @@
 		else if (grp == NULL)
 		{
 			log_warn ("No such group: `%s'", sock_group);
 		}
 		else
 		{
-			status = chown (SOCK_PATH, (uid_t) -1, grp->gr_gid);
+			status = chown (sock_file, (uid_t) -1, grp->gr_gid);
 			if (status != 0)
 			{
 				char errbuf[1024];
 				log_warn ("chown (%s, -1, %i) failed: %s",
-						SOCK_PATH, (int) grp->gr_gid,
+						sock_file, (int) grp->gr_gid,
 						sstrerror (errno, errbuf, sizeof (errbuf)));
 			}
 		}
 	}
 	else /* geteuid != 0 */
 	{
 		log_warn ("not running as root");
 	}
 
 	errno = 0;
-	if (0 != chmod (SOCK_PATH, sock_perms)) {
+	if (0 != chmod (sock_file, sock_perms)) {
 		char errbuf[1024];
 		log_warn ("chmod() failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 	}
 
 	{ /* initialize collector threads */
@@ -711,13 +712,13 @@
 			}
 		}
 	} /* if (collectors != NULL) */
 
 	pthread_mutex_unlock (&conns_mutex);
 
-	unlink (SOCK_PATH);
+	unlink (sock_file);
 	errno = 0;
 
 	return (0);
 } /* static void email_shutdown (void) */
 
 static void email_submit (const char *type, const char *type_instance, gauge_t value)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/entropy.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/entropy.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/entropy.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/entropy.c	2007-09-02 03:00:35.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/entropy.c
- * Copyright (C) 2005,2006  Florian octo Forster
+ * Copyright (C) 2007  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -20,21 +20,18 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-#if KERNEL_LINUX
-# define ENTROPY_HAVE_READ 1
-#else
-# define ENTROPY_HAVE_READ 0
+#if !KERNEL_LINUX
+# error "No applicable input method."
 #endif
 
 #define ENTROPY_FILE "/proc/sys/kernel/random/entropy_avail"
 
-#if ENTROPY_HAVE_READ
 static void entropy_submit (double entropy)
 {
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	values[0].gauge = entropy;
@@ -49,13 +46,12 @@
 
 	plugin_dispatch_values ("entropy", &vl);
 }
 
 static int entropy_read (void)
 {
-#if KERNEL_LINUX
 	double entropy;
 	FILE *fh;
 	char buffer[64];
 
 	fh = fopen (ENTROPY_FILE, "r");
 	if (fh == NULL)
@@ -69,18 +65,14 @@
 	fclose (fh);
 
 	entropy = atof (buffer);
 	
 	if (entropy > 0.0)
 		entropy_submit (entropy);
-#endif /* KERNEL_LINUX */
 
 	return (0);
 }
-#endif /* ENTROPY_HAVE_READ */
 
 void module_register (void)
 {
-#if ENTROPY_HAVE_READ
 	plugin_register_read ("entropy", entropy_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/exec.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/exec.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/exec.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/exec.c	2007-09-02 03:00:35.000000000 +0800
@@ -19,27 +19,30 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
+#include "utils_cmd_putval.h"
 
 #include <sys/types.h>
 #include <pwd.h>
+#include <grp.h>
 #include <signal.h>
 
 #include <pthread.h>
 
 /*
  * Private data types
  */
 struct program_list_s;
 typedef struct program_list_s program_list_t;
 struct program_list_s
 {
   char           *user;
+  char           *group;
   char           *exec;
   int             pid;
   program_list_t *next;
 };
 
 /*
@@ -92,12 +95,18 @@
       sfree (pl);
       return (1);
     }
 
     pl->next = pl_head;
     pl_head = pl;
+
+    pl->group = strchr (pl->user, ':');
+    if (NULL != pl->group) {
+      *pl->group = '\0';
+      pl->group++;
+    }
   }
   else
   {
     return (-1);
   }
 
@@ -105,21 +114,22 @@
 } /* int exec_config */
 
 static void exec_child (program_list_t *pl)
 {
   int status;
   int uid;
+  int gid;
   char *arg0;
 
   struct passwd *sp_ptr;
   struct passwd sp;
-  char pwnambuf[2048];
+  char nambuf[2048];
   char errbuf[1024];
 
   sp_ptr = NULL;
-  status = getpwnam_r (pl->user, &sp, pwnambuf, sizeof (pwnambuf), &sp_ptr);
+  status = getpwnam_r (pl->user, &sp, nambuf, sizeof (nambuf), &sp_ptr);
   if (status != 0)
   {
     ERROR ("exec plugin: getpwnam_r failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     exit (-1);
   }
@@ -141,12 +151,47 @@
   {
     ERROR ("exec plugin: setuid failed: %s",
 	sstrerror (errno, errbuf, sizeof (errbuf)));
     exit (-1);
   }
 
+  if (NULL != pl->group)
+  {
+    if ('\0' != *pl->group) {
+      struct group *gr_ptr = NULL;
+      struct group gr;
+
+      status = getgrnam_r (pl->group, &gr, nambuf, sizeof (nambuf), &gr_ptr);
+      if (0 != status)
+      {
+	ERROR ("exec plugin: getgrnam_r failed: %s",
+	    sstrerror (errno, errbuf, sizeof (errbuf)));
+	exit (-1);
+      }
+      if (NULL == gr_ptr)
+      {
+	ERROR ("exec plugin: No such group: `%s'", pl->group);
+	exit (-1);
+      }
+
+      gid = gr.gr_gid;
+    }
+    else
+    {
+      gid = sp.pw_gid;
+    }
+
+    status = setgid (gid);
+    if (0 != status)
+    {
+      ERROR ("exec plugin: setgid failed: %s",
+	  sstrerror (errno, errbuf, sizeof (errbuf)));
+      exit (-1);
+    }
+  }
+
   arg0 = strrchr (pl->exec, '/');
   if (arg0 != NULL)
     arg0++;
   if ((arg0 == NULL) || (*arg0 == '\0'))
     arg0 = pl->exec;
 
@@ -201,85 +246,19 @@
   close (fd_pipe[1]);
   return (fd_pipe[0]);
 } /* int fork_child */
 
 static int parse_line (char *buffer)
 {
-  char *fields[4];
+  char *fields[256];
   int fields_num;
 
-  char *hostname;
-  char *plugin;
-  char *plugin_instance;
-  char *type;
-  char *type_instance;
-
-  const data_set_t *ds;
-  value_list_t vl = VALUE_LIST_INIT;
-
-  int status;
-
-  fields_num = strsplit (buffer, fields, 4);
-  if (fields_num != 2)
-  {
-    WARNING ("exec plugin: Number of fields is not 2.");
-    return (-1);
-  }
-
-  status = parse_identifier (fields[0], &hostname,
-      &plugin, &plugin_instance,
-      &type, &type_instance);
-  if (status != 0)
-  {
-    WARNING ("exec plugin: Cannot parse `%s'", fields[0]);
-    return (-1);
-  }
-
-  if ((strlen (hostname) >= sizeof (vl.host))
-      || (strlen (plugin) >= sizeof (vl.plugin))
-      || ((plugin_instance != NULL)
-	&& (strlen (plugin_instance) >= sizeof (vl.plugin_instance)))
-      || ((type_instance != NULL)
-	&& (strlen (type_instance) >= sizeof (vl.type_instance))))
-  {
-    WARNING ("exec plugin: An identifier is too long.");
-    return (-1);
-  }
-
-  strcpy (vl.host, hostname);
-  strcpy (vl.plugin, plugin);
-  if (plugin_instance != NULL)
-    strcpy (vl.plugin_instance, plugin_instance);
-  if (type_instance != NULL)
-    strcpy (vl.type_instance, type_instance);
-
-  ds = plugin_get_ds (type);
-  if (ds == NULL)
-  {
-    WARNING ("exec plugin: No such type: `%s'", type);
-    return (-1);
-  }
-
-  vl.values_len = ds->ds_num;
-  vl.values = (value_t *) malloc (sizeof (value_t) * vl.values_len);
-  if (vl.values == NULL)
-    return (-1);
-
-  /* Sets vl.values and vl.time */
-  status = parse_values (fields[1], &vl, ds);
-  if (status != 0)
-  {
-    WARNING ("exec plugin: Cannot parse `%s'", fields[1]);
-    sfree (vl.values);
-    return (-1);
-  }
-
-  plugin_dispatch_values (type, &vl);
+  fields[0] = "PUTVAL";
+  fields_num = strsplit (buffer, &fields[1], STATIC_ARRAY_SIZE(fields) - 1);
 
-  sfree (vl.values);
-  
+  handle_putval (stdout, fields, fields_num + 1);
   return (0);
 } /* int parse_line */
 
 static void *exec_read_one (void *arg)
 {
   program_list_t *pl = (program_list_t *) arg;
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/hddtemp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/hddtemp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/hddtemp.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/hddtemp.c	2007-09-02 03:00:35.000000000 +0800
@@ -28,32 +28,25 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if HAVE_NETDB_H && HAVE_SYS_SOCKET_H && HAVE_NETINET_IN_H \
-	&& HAVE_NETINET_TCP_H && HAVE_LIBGEN_H
 # include <netdb.h>
 # include <sys/socket.h>
 # include <netinet/in.h>
 # include <netinet/tcp.h>
 # include <libgen.h> /* for basename */
-# define HDDTEMP_HAVE_READ 1
-#else
-# define HDDTEMP_HAVE_READ 0
-#endif
 
 #if HAVE_LINUX_MAJOR_H
 # include <linux/major.h>
 #endif
 
 #define HDDTEMP_DEF_HOST "127.0.0.1"
 #define HDDTEMP_DEF_PORT "7634"
 
-#if HDDTEMP_HAVE_READ
 static const char *config_keys[] =
 {
 	"Host",
 	"Port",
 	NULL
 };
@@ -504,19 +497,16 @@
 			hddtemp_submit (name, temperature);
 		}
 	}
 	
 	return (0);
 } /* int hddtemp_read */
-#endif /* HDDTEMP_HAVE_READ */
 
 /* module_register
    Register collectd plugin. */
 void module_register (void)
 {
-#if HDDTEMP_HAVE_READ
 	plugin_register_config ("hddtemp", hddtemp_config,
 			config_keys, config_keys_num);
 	plugin_register_init ("hddtemp", hddtemp_init);
 	plugin_register_read ("hddtemp", hddtemp_read);
-#endif /* HDDTEMP_HAVE_READ */
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/interface.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/interface.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/interface.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/interface.c	2007-09-02 03:00:35.000000000 +0800
@@ -55,16 +55,14 @@
 #if KERNEL_LINUX
 # if !COLLECT_GETIFADDRS
 #  undef HAVE_GETIFADDRS
 # endif /* !COLLECT_GETIFADDRS */
 #endif /* KERNEL_LINUX */
 
-#if HAVE_GETIFADDRS || KERNEL_LINUX || HAVE_LIBKSTAT || HAVE_LIBSTATGRAB
-# define INTERFACE_HAVE_READ 1
-#else
-# define INTERFACE_HAVE_READ 0
+#if !HAVE_GETIFADDRS && !KERNEL_LINUX && !HAVE_LIBKSTAT && !HAVE_LIBSTATGRAB
+# error "No applicable input method."
 #endif
 
 /*
  * (Module-)Global variables
  */
 static const char *config_keys[] =
@@ -129,13 +127,12 @@
 	return (0);
 }
 
 #if HAVE_LIBKSTAT
 static int interface_init (void)
 {
-#if HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 	unsigned long long val;
 
 	numif = 0;
 
 	if (kc == NULL)
@@ -152,13 +149,12 @@
 		if (kstat_read (kc, ksp_chain, NULL) == -1)
 			continue;
 		if ((val = get_kstat_value (ksp_chain, "obytes")) == -1LL)
 			continue;
 		ksp[numif++] = ksp_chain;
 	}
-#endif /* HAVE_LIBKSTAT */
 
 	return (0);
 } /* int interface_init */
 #endif /* HAVE_LIBKSTAT */
 
 /*
@@ -178,13 +174,12 @@
 	for (i = 0; i < if_list_num; i++)
 		if (strcasecmp (interface, if_list[i]) == 0)
 			return (if_list_action);
 	return (1 - if_list_action);
 } /* int check_ignore_if */
 
-#if INTERFACE_HAVE_READ
 static void if_submit (const char *dev, const char *type,
 		unsigned long long rx,
 		unsigned long long tx)
 {
 	value_t values[2];
 	value_list_t vl = VALUE_LIST_INIT;
@@ -350,19 +345,16 @@
 	for (i = 0; i < num; i++)
 		if_submit (ios[i].interface_name, "if_octets", ios[i].rx, ios[i].tx);
 #endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
 } /* int interface_read */
-#endif /* INTERFACE_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register_config ("interface", interface_config,
 			config_keys, config_keys_num);
 #if HAVE_LIBKSTAT
 	plugin_register_init ("interface", interface_init);
 #endif
-#if INTERFACE_HAVE_READ
 	plugin_register_read ("interface", interface_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/iptables.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/iptables.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/iptables.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/iptables.c	2007-09-02 03:00:35.000000000 +0800
@@ -26,32 +26,17 @@
 #include "configfile.h"
 
 #if HAVE_LIBIPTC_LIBIPTC_H
 # include <libiptc/libiptc.h>
 #endif
 
-#if HAVE_LIBIPTC_LIBIPTC_H
-# define IPTABLES_HAVE_READ 1
-#else
-# define IPTABLES_HAVE_READ 0
-#endif
-
-#define MODULE_NAME "iptables"
-#define BUFSIZE 512
-
 /*
  * (Module-)Global variables
  */
 
 /*
- * Removed packet count for now, should have config option if you want to save
- * them Although other collectd models don't seem to care much for options
- * eitherway for what to log
- */
-#if IPTABLES_HAVE_READ
-/*
  * Config format should be `Chain table chainname',
  * e. g. `Chain mangle incoming'
  */
 static const char *config_keys[] =
 {
 	"Chain",
@@ -202,15 +187,13 @@
 	{
 		return (-1);
 	}
 
 	return (0);
 } /* int iptables_config */
-#endif /* IPTABLES_HAVE_READ */
 
-#if IPTABLES_HAVE_READ
 /* This needs to return `int' for IPT_MATCH_ITERATE to work. */
 static int submit_match (const struct ipt_entry_match *match,
 		const struct ipt_entry *entry,
 		const ip_chain_t *chain,
 		int rule_num) 
 {
@@ -347,24 +330,18 @@
 	sfree (chain_list[i]);
     }
     sfree (chain_list);
 
     return (0);
 } /* int iptables_shutdown */
-#endif /* IPTABLES_HAVE_READ */
 
 void module_register (void)
 {
-#if IPTABLES_HAVE_READ
     plugin_register_config ("iptables", iptables_config,
 	    config_keys, config_keys_num);
     plugin_register_read ("iptables", iptables_read);
     plugin_register_shutdown ("iptables", iptables_shutdown);
-#endif
 } /* void module_register */
 
-#undef BUFSIZE
-#undef MODULE_NAME
-
 /*
  * vim:shiftwidth=4:softtabstop=4:tabstop=8
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/irq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/irq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/irq.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/irq.c	2007-09-02 03:00:35.000000000 +0800
@@ -22,24 +22,21 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if KERNEL_LINUX
-# define IRQ_HAVE_READ 1
-#else
-# define IRQ_HAVE_READ 0
+#if !KERNEL_LINUX
+# error "No applicable input method."
 #endif
 
 #define BUFSIZE 128
 
 /*
  * (Module-)Global variables
  */
-#if IRQ_HAVE_READ
 static const char *config_keys[] =
 {
 	"Irq",
 	"IgnoreSelected"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
@@ -145,14 +142,12 @@
 
 	plugin_dispatch_values ("irq", &vl);
 } /* void irq_submit */
 
 static int irq_read (void)
 {
-#if KERNEL_LINUX
-
 #undef BUFSIZE
 #define BUFSIZE 256
 
 	FILE *fh;
 	char buffer[BUFSIZE];
 	unsigned int irq;
@@ -195,22 +190,18 @@
 			irq_value += value;
 		} /* for (i) */
 
 		irq_submit (irq, irq_value);
 	}
 	fclose (fh);
-#endif /* KERNEL_LINUX */
 
 	return (0);
 } /* int irq_read */
-#endif /* IRQ_HAVE_READ */
 
 void module_register (void)
 {
-#if IRQ_HAVE_READ
 	plugin_register_config ("irq", irq_config,
 			config_keys, config_keys_num);
 	plugin_register_read ("irq", irq_read);
-#endif /* IRQ_HAVE_READ */
 } /* void module_register */
 
 #undef BUFSIZE
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/liboconfig/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/liboconfig/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/liboconfig/Makefile.in	2007-09-28 22:24:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/liboconfig/Makefile.in	2007-09-02 05:44:07.000000000 +0800
@@ -83,90 +83,98 @@
 BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
 BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
 BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
 BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
 BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
-BUILD_MODULE_APACHE_FALSE = @BUILD_MODULE_APACHE_FALSE@
-BUILD_MODULE_APACHE_TRUE = @BUILD_MODULE_APACHE_TRUE@
-BUILD_MODULE_APCUPS_FALSE = @BUILD_MODULE_APCUPS_FALSE@
-BUILD_MODULE_APCUPS_TRUE = @BUILD_MODULE_APCUPS_TRUE@
-BUILD_MODULE_APPLE_SENSORS_FALSE = @BUILD_MODULE_APPLE_SENSORS_FALSE@
-BUILD_MODULE_APPLE_SENSORS_TRUE = @BUILD_MODULE_APPLE_SENSORS_TRUE@
-BUILD_MODULE_BATTERY_FALSE = @BUILD_MODULE_BATTERY_FALSE@
-BUILD_MODULE_BATTERY_TRUE = @BUILD_MODULE_BATTERY_TRUE@
-BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
-BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
-BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
-BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
-BUILD_MODULE_CSV_FALSE = @BUILD_MODULE_CSV_FALSE@
-BUILD_MODULE_CSV_TRUE = @BUILD_MODULE_CSV_TRUE@
-BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
-BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
-BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
-BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
-BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
-BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
-BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
-BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
-BUILD_MODULE_ENTROPY_FALSE = @BUILD_MODULE_ENTROPY_FALSE@
-BUILD_MODULE_ENTROPY_TRUE = @BUILD_MODULE_ENTROPY_TRUE@
-BUILD_MODULE_EXEC_FALSE = @BUILD_MODULE_EXEC_FALSE@
-BUILD_MODULE_EXEC_TRUE = @BUILD_MODULE_EXEC_TRUE@
-BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
-BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
-BUILD_MODULE_INTERFACE_FALSE = @BUILD_MODULE_INTERFACE_FALSE@
-BUILD_MODULE_INTERFACE_TRUE = @BUILD_MODULE_INTERFACE_TRUE@
-BUILD_MODULE_IPTABLES_FALSE = @BUILD_MODULE_IPTABLES_FALSE@
-BUILD_MODULE_IPTABLES_TRUE = @BUILD_MODULE_IPTABLES_TRUE@
-BUILD_MODULE_IRQ_FALSE = @BUILD_MODULE_IRQ_FALSE@
-BUILD_MODULE_IRQ_TRUE = @BUILD_MODULE_IRQ_TRUE@
-BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
-BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
-BUILD_MODULE_LOGFILE_FALSE = @BUILD_MODULE_LOGFILE_FALSE@
-BUILD_MODULE_LOGFILE_TRUE = @BUILD_MODULE_LOGFILE_TRUE@
-BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
-BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
-BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
-BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
-BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
-BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
-BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
-BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
-BUILD_MODULE_NETWORK_FALSE = @BUILD_MODULE_NETWORK_FALSE@
-BUILD_MODULE_NETWORK_TRUE = @BUILD_MODULE_NETWORK_TRUE@
-BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
-BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
-BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
-BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
-BUILD_MODULE_NUT_FALSE = @BUILD_MODULE_NUT_FALSE@
-BUILD_MODULE_NUT_TRUE = @BUILD_MODULE_NUT_TRUE@
-BUILD_MODULE_PERL_FALSE = @BUILD_MODULE_PERL_FALSE@
-BUILD_MODULE_PERL_TRUE = @BUILD_MODULE_PERL_TRUE@
-BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
-BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
-BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
-BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
-BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
-BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
-BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
-BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
-BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
-BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
-BUILD_MODULE_SYSLOG_FALSE = @BUILD_MODULE_SYSLOG_FALSE@
-BUILD_MODULE_SYSLOG_TRUE = @BUILD_MODULE_SYSLOG_TRUE@
-BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
-BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
-BUILD_MODULE_UNIXSOCK_FALSE = @BUILD_MODULE_UNIXSOCK_FALSE@
-BUILD_MODULE_UNIXSOCK_TRUE = @BUILD_MODULE_UNIXSOCK_TRUE@
-BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
-BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
-BUILD_MODULE_VSERVER_FALSE = @BUILD_MODULE_VSERVER_FALSE@
-BUILD_MODULE_VSERVER_TRUE = @BUILD_MODULE_VSERVER_TRUE@
-BUILD_MODULE_WIRELESS_FALSE = @BUILD_MODULE_WIRELESS_FALSE@
-BUILD_MODULE_WIRELESS_TRUE = @BUILD_MODULE_WIRELESS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
 BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
 BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
@@ -181,12 +189,18 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
+BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
 BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
 BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
 BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
 BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
@@ -197,14 +211,20 @@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
+BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
+BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
 BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
 BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
 BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
 BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
 BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/liboping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/liboping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/liboping/Makefile.in	2007-09-28 22:24:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/liboping/Makefile.in	2007-09-02 05:44:07.000000000 +0800
@@ -79,90 +79,98 @@
 BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
 BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
 BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
 BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
 BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
-BUILD_MODULE_APACHE_FALSE = @BUILD_MODULE_APACHE_FALSE@
-BUILD_MODULE_APACHE_TRUE = @BUILD_MODULE_APACHE_TRUE@
-BUILD_MODULE_APCUPS_FALSE = @BUILD_MODULE_APCUPS_FALSE@
-BUILD_MODULE_APCUPS_TRUE = @BUILD_MODULE_APCUPS_TRUE@
-BUILD_MODULE_APPLE_SENSORS_FALSE = @BUILD_MODULE_APPLE_SENSORS_FALSE@
-BUILD_MODULE_APPLE_SENSORS_TRUE = @BUILD_MODULE_APPLE_SENSORS_TRUE@
-BUILD_MODULE_BATTERY_FALSE = @BUILD_MODULE_BATTERY_FALSE@
-BUILD_MODULE_BATTERY_TRUE = @BUILD_MODULE_BATTERY_TRUE@
-BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
-BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
-BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
-BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
-BUILD_MODULE_CSV_FALSE = @BUILD_MODULE_CSV_FALSE@
-BUILD_MODULE_CSV_TRUE = @BUILD_MODULE_CSV_TRUE@
-BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
-BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
-BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
-BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
-BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
-BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
-BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
-BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
-BUILD_MODULE_ENTROPY_FALSE = @BUILD_MODULE_ENTROPY_FALSE@
-BUILD_MODULE_ENTROPY_TRUE = @BUILD_MODULE_ENTROPY_TRUE@
-BUILD_MODULE_EXEC_FALSE = @BUILD_MODULE_EXEC_FALSE@
-BUILD_MODULE_EXEC_TRUE = @BUILD_MODULE_EXEC_TRUE@
-BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
-BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
-BUILD_MODULE_INTERFACE_FALSE = @BUILD_MODULE_INTERFACE_FALSE@
-BUILD_MODULE_INTERFACE_TRUE = @BUILD_MODULE_INTERFACE_TRUE@
-BUILD_MODULE_IPTABLES_FALSE = @BUILD_MODULE_IPTABLES_FALSE@
-BUILD_MODULE_IPTABLES_TRUE = @BUILD_MODULE_IPTABLES_TRUE@
-BUILD_MODULE_IRQ_FALSE = @BUILD_MODULE_IRQ_FALSE@
-BUILD_MODULE_IRQ_TRUE = @BUILD_MODULE_IRQ_TRUE@
-BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
-BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
-BUILD_MODULE_LOGFILE_FALSE = @BUILD_MODULE_LOGFILE_FALSE@
-BUILD_MODULE_LOGFILE_TRUE = @BUILD_MODULE_LOGFILE_TRUE@
-BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
-BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
-BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
-BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
-BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
-BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
-BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
-BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
-BUILD_MODULE_NETWORK_FALSE = @BUILD_MODULE_NETWORK_FALSE@
-BUILD_MODULE_NETWORK_TRUE = @BUILD_MODULE_NETWORK_TRUE@
-BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
-BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
-BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
-BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
-BUILD_MODULE_NUT_FALSE = @BUILD_MODULE_NUT_FALSE@
-BUILD_MODULE_NUT_TRUE = @BUILD_MODULE_NUT_TRUE@
-BUILD_MODULE_PERL_FALSE = @BUILD_MODULE_PERL_FALSE@
-BUILD_MODULE_PERL_TRUE = @BUILD_MODULE_PERL_TRUE@
-BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
-BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
-BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
-BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
-BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
-BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
-BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
-BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
-BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
-BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
-BUILD_MODULE_SYSLOG_FALSE = @BUILD_MODULE_SYSLOG_FALSE@
-BUILD_MODULE_SYSLOG_TRUE = @BUILD_MODULE_SYSLOG_TRUE@
-BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
-BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
-BUILD_MODULE_UNIXSOCK_FALSE = @BUILD_MODULE_UNIXSOCK_FALSE@
-BUILD_MODULE_UNIXSOCK_TRUE = @BUILD_MODULE_UNIXSOCK_TRUE@
-BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
-BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
-BUILD_MODULE_VSERVER_FALSE = @BUILD_MODULE_VSERVER_FALSE@
-BUILD_MODULE_VSERVER_TRUE = @BUILD_MODULE_VSERVER_TRUE@
-BUILD_MODULE_WIRELESS_FALSE = @BUILD_MODULE_WIRELESS_FALSE@
-BUILD_MODULE_WIRELESS_TRUE = @BUILD_MODULE_WIRELESS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
 BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
 BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
@@ -177,12 +185,18 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
+BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
 BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
 BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
 BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
 BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
@@ -193,14 +207,20 @@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
+BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
+BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
 BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
 BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
 BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
 BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
 BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/load.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/load.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/load.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/load.c	2007-09-02 03:00:35.000000000 +0800
@@ -1,9 +1,9 @@
 /**
  * collectd - src/load.c
- * Copyright (C) 2005,2006  Florian octo Forster
+ * Copyright (C) 2005-2007  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -20,31 +20,24 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-#if defined(HAVE_GETLOADAVG) || defined(KERNEL_LINUX) || defined(HAVE_LIBSTATGRAB)
-# define LOAD_HAVE_READ 1
-#else
-# define LOAD_HAVE_READ 0
-#endif
-
 #ifdef HAVE_SYS_LOADAVG_H
 #include <sys/loadavg.h>
 #endif
 
 #ifdef HAVE_GETLOADAVG
 #if !defined(LOADAVG_1MIN) || !defined(LOADAVG_5MIN) || !defined(LOADAVG_15MIN)
 #define LOADAVG_1MIN  0
 #define LOADAVG_5MIN  1
 #define LOADAVG_15MIN 2
 #endif
 #endif /* defined(HAVE_GETLOADAVG) */
 
-#if LOAD_HAVE_READ
 static void load_submit (gauge_t snum, gauge_t mnum, gauge_t lnum)
 {
 	value_t values[3];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	values[0].gauge = snum;
@@ -128,18 +121,19 @@
 
 	snum = ls->min1;
 	mnum = ls->min5;
 	lnum = ls->min15;
 
 	load_submit (snum, mnum, lnum);
-#endif /* HAVE_LIBSTATGRAB */
+/* #endif HAVE_LIBSTATGRAB */
+
+#else
+# error "No applicable input method."
+#endif
 
 	return (0);
 }
-#endif /* LOAD_HAVE_READ */
 
 void module_register (void)
 {
-#if LOAD_HAVE_READ
 	plugin_register_read ("load", load_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/Makefile.am	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/Makefile.am	2007-09-02 03:00:35.000000000 +0800
@@ -22,12 +22,13 @@
 		   plugin.c plugin.h \
 		   configfile.c configfile.h \
 		   types_list.c types_list.h
 collectd_CPPFLAGS = $(LTDLINCL)
 collectd_CPPFLAGS += -DPREFIX='"${prefix}"'
 collectd_CPPFLAGS += -DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"'
+collectd_CPPFLAGS += -DLOCALSTATEDIR='"${localstatedir}"'
 collectd_CPPFLAGS += -DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"'
 if BUILD_FEATURE_DAEMON
 collectd_CPPFLAGS += -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
 endif
 collectd_CPPFLAGS += -DPLUGINDIR='"${pkglibdir}"'
 
@@ -77,13 +78,13 @@
 if BUILD_WITH_LIBSOCKET
 collectd_nagios_LDFLAGS += -lsocket
 endif
 
 pkglib_LTLIBRARIES = 
 
-if BUILD_MODULE_APACHE
+if BUILD_PLUGIN_APACHE
 pkglib_LTLIBRARIES += apache.la
 apache_la_SOURCES = apache.c
 apache_la_LDFLAGS = -module -avoid-version
 apache_la_CFLAGS =
 apache_la_LIBADD =
 collectd_LDADD += "-dlopen" apache.la
@@ -91,46 +92,43 @@
 apache_la_CFLAGS += $(BUILD_WITH_LIBCURL_CFLAGS)
 apache_la_LIBADD += $(BUILD_WITH_LIBCURL_LIBS)
 endif
 collectd_DEPENDENCIES += apache.la
 endif
 
-if BUILD_MODULE_APCUPS
+if BUILD_PLUGIN_APCUPS
 pkglib_LTLIBRARIES += apcups.la
 apcups_la_SOURCES = apcups.c
 apcups_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBSOCKET
 apcups_la_LDFLAGS += -lsocket
 endif
 collectd_LDADD += "-dlopen" apcups.la
 collectd_DEPENDENCIES += apcups.la
 endif
 
-if BUILD_MODULE_APPLE_SENSORS
+if BUILD_PLUGIN_APPLE_SENSORS
 pkglib_LTLIBRARIES += apple_sensors.la
 apple_sensors_la_SOURCES = apple_sensors.c
-apple_sensors_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LIBIOKIT
-apple_sensors_la_LDFLAGS += -lIOKit
-endif
+apple_sensors_la_LDFLAGS = -module -avoid-version -lIOKit
 collectd_LDADD += "-dlopen" apple_sensors.la
 collectd_DEPENDENCIES += apple_sensors.la
 endif
 
-if BUILD_MODULE_BATTERY
+if BUILD_PLUGIN_BATTERY
 pkglib_LTLIBRARIES += battery.la
 battery_la_SOURCES = battery.c
 battery_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBIOKIT
 battery_la_LDFLAGS += -lIOKit
 endif
 collectd_LDADD += "-dlopen" battery.la
 collectd_DEPENDENCIES += battery.la
 endif
 
-if BUILD_MODULE_CPU
+if BUILD_PLUGIN_CPU
 pkglib_LTLIBRARIES += cpu.la
 cpu_la_SOURCES = cpu.c
 cpu_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBKSTAT
 cpu_la_LDFLAGS += -lkstat
 endif
@@ -138,37 +136,37 @@
 cpu_la_LDFLAGS += -ldevinfo
 endif
 collectd_LDADD += "-dlopen" cpu.la
 collectd_DEPENDENCIES += cpu.la
 endif
 
-if BUILD_MODULE_CPUFREQ
+if BUILD_PLUGIN_CPUFREQ
 pkglib_LTLIBRARIES += cpufreq.la
 cpufreq_la_SOURCES = cpufreq.c
 cpufreq_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" cpufreq.la
 collectd_DEPENDENCIES += cpufreq.la
 endif
 
-if BUILD_MODULE_CSV
+if BUILD_PLUGIN_CSV
 pkglib_LTLIBRARIES += csv.la
 csv_la_SOURCES = csv.c
 csv_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" csv.la
 collectd_DEPENDENCIES += csv.la
 endif
 
-if BUILD_MODULE_DF
+if BUILD_PLUGIN_DF
 pkglib_LTLIBRARIES += df.la
 df_la_SOURCES = df.c
 df_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" df.la
 collectd_DEPENDENCIES += df.la
 endif
 
-if BUILD_MODULE_DISK
+if BUILD_PLUGIN_DISK
 pkglib_LTLIBRARIES += disk.la
 disk_la_SOURCES = disk.c
 disk_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBKSTAT
 disk_la_LDFLAGS += -lkstat
 endif
@@ -179,73 +177,62 @@
 disk_la_LDFLAGS += -lIOKit
 endif
 collectd_LDADD += "-dlopen" disk.la
 collectd_DEPENDENCIES += disk.la
 endif
 
-if BUILD_MODULE_DNS
+if BUILD_PLUGIN_DNS
 pkglib_LTLIBRARIES += dns.la
-dns_la_SOURCES = dns.c
-if BUILD_WITH_LIBPCAP
-if BUILD_WITH_LIBPTHREAD
-dns_la_SOURCES += utils_dns.c utils_dns.h
-endif
-endif
-dns_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LIBPCAP
-dns_la_LDFLAGS += -lpcap
-endif
-if BUILD_WITH_LIBPTHREAD
-dns_la_LDFLAGS += -lpthread
-endif
+dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
+dns_la_LDFLAGS = -module -avoid-version -lpcap -lpthread
 collectd_LDADD += "-dlopen" dns.la
 collectd_DEPENDENCIES += dns.la
 endif
 
-if BUILD_MODULE_EMAIL
+if BUILD_PLUGIN_EMAIL
 pkglib_LTLIBRARIES += email.la
 email_la_SOURCES = email.c
 email_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBPTHREAD
 email_la_LDFLAGS += -lpthread
 endif
 collectd_LDADD += "-dlopen" email.la
 collectd_DEPENDENCIES += email.la
 endif
 
-if BUILD_MODULE_ENTROPY
+if BUILD_PLUGIN_ENTROPY
 pkglib_LTLIBRARIES += entropy.la
 entropy_la_SOURCES = entropy.c
 entropy_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" entropy.la
 collectd_DEPENDENCIES += entropy.la
 endif
 
-if BUILD_MODULE_EXEC
+if BUILD_PLUGIN_EXEC
 pkglib_LTLIBRARIES += exec.la
-exec_la_SOURCES = exec.c
+exec_la_SOURCES = exec.c utils_cmd_putval.c utils_cmd_putval.h
 exec_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBPTHREAD
 exec_la_LDFLAGS += -lpthread
 endif
 collectd_LDADD += "-dlopen" exec.la
 collectd_DEPENDENCIES += exec.la
 endif
 
-if BUILD_MODULE_HDDTEMP
+if BUILD_PLUGIN_HDDTEMP
 pkglib_LTLIBRARIES += hddtemp.la
 hddtemp_la_SOURCES = hddtemp.c
 hddtemp_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBSOCKET
 hddtemp_la_LDFLAGS += -lsocket
 endif
 collectd_LDADD += "-dlopen" hddtemp.la
 collectd_DEPENDENCIES += hddtemp.la
 endif
 
-if BUILD_MODULE_INTERFACE
+if BUILD_PLUGIN_INTERFACE
 pkglib_LTLIBRARIES += interface.la
 interface_la_SOURCES = interface.c
 interface_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" interface.la
 collectd_DEPENDENCIES += interface.la
 if BUILD_WITH_LIBKSTAT
@@ -262,32 +249,29 @@
 interface_la_LDFLAGS += -ldevstat
 endif
 interface_la_LDFLAGS += -lstatgrab
 endif
 endif
 
-if BUILD_MODULE_IPTABLES
+if BUILD_PLUGIN_IPTABLES
 pkglib_LTLIBRARIES += iptables.la
 iptables_la_SOURCES = iptables.c
-iptables_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LIBIPTC
-iptables_la_LDFLAGS += -liptc
-endif
+iptables_la_LDFLAGS = -module -avoid-version -liptc
 collectd_LDADD += "-dlopen" iptables.la
 collectd_DEPENDENCIES += iptables.la
 endif
 
-if BUILD_MODULE_IRQ
+if BUILD_PLUGIN_IRQ
 pkglib_LTLIBRARIES += irq.la
 irq_la_SOURCES = irq.c
 irq_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" irq.la
 collectd_DEPENDENCIES += irq.la
 endif
 
-if BUILD_MODULE_LOAD
+if BUILD_PLUGIN_LOAD
 pkglib_LTLIBRARIES += load.la
 load_la_SOURCES = load.c
 load_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" load.la
 collectd_DEPENDENCIES += load.la
 if BUILD_WITH_LIBSTATGRAB
@@ -298,32 +282,32 @@
 load_la_LDFLAGS += -ldevstat
 endif
 load_la_LDFLAGS += -lstatgrab
 endif
 endif
 
-if BUILD_MODULE_LOGFILE
+if BUILD_PLUGIN_LOGFILE
 pkglib_LTLIBRARIES += logfile.la
 logfile_la_SOURCES = logfile.c
 logfile_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" logfile.la
 collectd_DEPENDENCIES += logfile.la
 endif
 
-if BUILD_MODULE_MBMON
+if BUILD_PLUGIN_MBMON
 pkglib_LTLIBRARIES += mbmon.la
 mbmon_la_SOURCES = mbmon.c
 mbmon_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBSOCKET
 mbmon_la_LDFLAGS += -lsocket
 endif
 collectd_LDADD += "-dlopen" mbmon.la
 collectd_DEPENDENCIES += mbmon.la
 endif
 
-if BUILD_MODULE_MEMORY
+if BUILD_PLUGIN_MEMORY
 pkglib_LTLIBRARIES += memory.la
 memory_la_SOURCES = memory.c
 memory_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" memory.la
 collectd_DEPENDENCIES += memory.la
 if BUILD_WITH_LIBKSTAT
@@ -340,21 +324,21 @@
 memory_la_LDFLAGS += -ldevstat
 endif
 memory_la_LDFLAGS += -lstatgrab
 endif
 endif
 
-if BUILD_MODULE_MULTIMETER
+if BUILD_PLUGIN_MULTIMETER
 pkglib_LTLIBRARIES += multimeter.la
 multimeter_la_SOURCES = multimeter.c
 multimeter_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" multimeter.la
 collectd_DEPENDENCIES += multimeter.la
 endif
 
-if BUILD_MODULE_MYSQL
+if BUILD_PLUGIN_MYSQL
 pkglib_LTLIBRARIES += mysql.la
 mysql_la_SOURCES = mysql.c
 mysql_la_LDFLAGS = -module -avoid-version
 mysql_la_CFLAGS =
 mysql_la_LIBADD =
 collectd_LDADD += "-dlopen" mysql.la
@@ -362,13 +346,23 @@
 mysql_la_CFLAGS += $(BUILD_WITH_LIBMYSQL_CFLAGS)
 mysql_la_LIBADD += $(BUILD_WITH_LIBMYSQL_LIBS)
 endif
 collectd_DEPENDENCIES += mysql.la
 endif
 
-if BUILD_MODULE_NETWORK
+if BUILD_PLUGIN_NETLINK
+pkglib_LTLIBRARIES += netlink.la
+netlink_la_SOURCES = netlink.c
+netlink_la_LDFLAGS = -module -avoid-version
+netlink_la_CFLAGS = $(BUILD_WITH_LIBNETLINK_CFLAGS)
+netlink_la_LIBADD = $(BUILD_WITH_LIBNETLINK_LIBS)
+collectd_LDADD += "-dlopen" netlink.la
+collectd_DEPENDENCIES += netlink.la
+endif
+
+if BUILD_PLUGIN_NETWORK
 pkglib_LTLIBRARIES += network.la
 network_la_SOURCES = network.c network.h
 network_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBSOCKET
 network_la_LDFLAGS += -lsocket
 endif
@@ -376,111 +370,116 @@
 network_la_LDFLAGS += -lpthread
 endif
 collectd_LDADD += "-dlopen" network.la
 collectd_DEPENDENCIES += network.la
 endif
 
-if BUILD_MODULE_NFS
+if BUILD_PLUGIN_NFS
 pkglib_LTLIBRARIES += nfs.la
 nfs_la_SOURCES = nfs.c
 nfs_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" nfs.la
 collectd_DEPENDENCIES += nfs.la
 endif
 
-if BUILD_MODULE_NTPD
+if BUILD_PLUGIN_NTPD
 pkglib_LTLIBRARIES += ntpd.la
 ntpd_la_SOURCES = ntpd.c
 ntpd_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LIBSOCKET
 ntpd_la_LDFLAGS += -lsocket
 endif
 collectd_LDADD += "-dlopen" ntpd.la
 collectd_DEPENDENCIES += ntpd.la
 endif
 
-if BUILD_MODULE_NUT
+if BUILD_PLUGIN_NUT
 pkglib_LTLIBRARIES += nut.la
 nut_la_SOURCES = nut.c
-nut_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LIBUPSCLIENT
-nut_la_LDFLAGS += -lupsclient
-if BUILD_WITH_LIBPTHREAD
-nut_la_LDFLAGS += -lpthread
-endif
-endif
+nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
+nut_la_LDFLAGS = -module -avoid-version -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
 collectd_LDADD += "-dlopen" nut.la
 collectd_DEPENDENCIES += nut.la
 endif
 
-if BUILD_WITH_LIBPERL
-if BUILD_MODULE_PERL
+if BUILD_PLUGIN_PERL
 pkglib_LTLIBRARIES += perl.la
 perl_la_SOURCES = perl.c
 perl_la_CFLAGS  = $(AM_CFLAGS) \
 		  $(PERL_CFLAGS) \
 		  -DXS_VERSION=\"$(VERSION)\" -DVERSION=\"$(VERSION)\"
 perl_la_LDFLAGS = -module -avoid-version \
 		  $(PERL_LDFLAGS)
 collectd_LDADD += "-dlopen" perl.la
 collectd_DEPENDENCIES += perl.la
 endif
-endif
 
-if BUILD_MODULE_PING
+if BUILD_PLUGIN_PING
 pkglib_LTLIBRARIES += ping.la
 ping_la_SOURCES = ping.c
 ping_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LIBOPING
 if BUILD_WITH_OWN_LIBOPING
 ping_la_LIBADD  = liboping/liboping.la
 ping_la_DEPENDENCIES = liboping/liboping.la
 else
 ping_la_LDFLAGS += -loping
 endif
-endif
 collectd_LDADD += "-dlopen" ping.la
 collectd_DEPENDENCIES += ping.la
 endif
 
-if BUILD_MODULE_PROCESSES
+if BUILD_PLUGIN_PROCESSES
 pkglib_LTLIBRARIES += processes.la
 processes_la_SOURCES = processes.c
 processes_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" processes.la
 collectd_DEPENDENCIES += processes.la
 endif
 
-if BUILD_WITH_RRDTOOL
+if BUILD_PLUGIN_RRDTOOL
 pkglib_LTLIBRARIES += rrdtool.la
 rrdtool_la_SOURCES = rrdtool.c
 rrdtool_la_LDFLAGS = -module -avoid-version -lrrd
 collectd_LDADD += "-dlopen" rrdtool.la
 collectd_DEPENDENCIES += rrdtool.la
 endif
 
-if BUILD_MODULE_SENSORS
+if BUILD_PLUGIN_SENSORS
 pkglib_LTLIBRARIES += sensors.la
 sensors_la_SOURCES = sensors.c
 sensors_la_LDFLAGS = -module -avoid-version
 if BUILD_WITH_LM_SENSORS
 sensors_la_LDFLAGS += -lsensors
 endif
 collectd_LDADD += "-dlopen" sensors.la
 collectd_DEPENDENCIES += sensors.la
 endif
 
-if BUILD_MODULE_SERIAL
+if BUILD_PLUGIN_SERIAL
 pkglib_LTLIBRARIES += serial.la
 serial_la_SOURCES = serial.c
 serial_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" serial.la
 collectd_DEPENDENCIES += serial.la
 endif
 
-if BUILD_MODULE_SWAP
+if BUILD_PLUGIN_SNMP
+pkglib_LTLIBRARIES += snmp.la
+snmp_la_SOURCES = snmp.c
+snmp_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LIBNETSNMP
+snmp_la_LDFLAGS += -lnetsnmp
+endif
+if BUILD_WITH_LIBPTHREAD
+snmp_la_LDFLAGS += -lpthread
+endif
+collectd_LDADD += "-dlopen" snmp.la
+collectd_DEPENDENCIES += snmp.la
+endif
+
+if BUILD_PLUGIN_SWAP
 pkglib_LTLIBRARIES += swap.la
 swap_la_SOURCES = swap.c
 swap_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" swap.la
 collectd_DEPENDENCIES += swap.la
 if BUILD_WITH_LIBKSTAT
@@ -497,70 +496,74 @@
 swap_la_LDFLAGS += -ldevstat
 endif
 swap_la_LDFLAGS += -lstatgrab
 endif
 endif
 
-if BUILD_MODULE_SYSLOG
+if BUILD_PLUGIN_SYSLOG
 pkglib_LTLIBRARIES += syslog.la
 syslog_la_SOURCES = syslog.c
 syslog_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" syslog.la
 collectd_DEPENDENCIES += syslog.la
 endif
 
-if BUILD_MODULE_TAPE
+if BUILD_PLUGIN_TAPE
 pkglib_LTLIBRARIES += tape.la
 tape_la_SOURCES = tape.c
-tape_la_LDFLAGS = -module -avoid-version
-if BUILD_WITH_LIBKSTAT
-tape_la_LDFLAGS += -lkstat
-endif
-if BUILD_WITH_LIBDEVINFO
-tape_la_LDFLAGS += -ldevinfo
-endif
+tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
 collectd_LDADD += "-dlopen" tape.la
 collectd_DEPENDENCIES += tape.la
 endif
 
-if BUILD_MODULE_UNIXSOCK
+if BUILD_PLUGIN_UNIXSOCK
 pkglib_LTLIBRARIES += unixsock.la
-unixsock_la_SOURCES = unixsock.c
-unixsock_la_CPPFLAGS = -DPREFIX='"${prefix}"'
+unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
+unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
 unixsock_la_LDFLAGS = -module -avoid-version -lpthread
 collectd_LDADD += "-dlopen" unixsock.la
 collectd_DEPENDENCIES += unixsock.la
 endif
 
-if BUILD_MODULE_USERS
+if BUILD_PLUGIN_USERS
 pkglib_LTLIBRARIES += users.la
 users_la_SOURCES = users.c
 users_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" users.la
 collectd_DEPENDENCIES += users.la
 endif
 
-if BUILD_MODULE_VSERVER
+if BUILD_PLUGIN_VSERVER
 pkglib_LTLIBRARIES += vserver.la
 vserver_la_SOURCES = vserver.c
 vserver_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" vserver.la
 collectd_DEPENDENCIES += vserver.la
 endif
 
-if BUILD_MODULE_WIRELESS
+if BUILD_PLUGIN_WIRELESS
 pkglib_LTLIBRARIES += wireless.la
 wireless_la_SOURCES = wireless.c
 wireless_la_LDFLAGS = -module -avoid-version
 collectd_LDADD += "-dlopen" wireless.la
 collectd_DEPENDENCIES += wireless.la
 endif
 
+if BUILD_PLUGIN_XMMS
+pkglib_LTLIBRARIES += xmms.la
+xmms_la_SOURCES = xmms.c
+xmms_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBXMMS_CFLAGS)
+xmms_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBXMMS_LIBS)
+collectd_LDADD += "-dlopen" xmms.la
+collectd_DEPENDENCIES += xmms.la
+endif
+
+
 dist_man_MANS = collectd.1 collectd-nagios.1 collectd.conf.5 \
 		collectd-email.5 collectd-exec.5 collectd-perl.5 \
-		collectd-unixsock.5
+		collectd-snmp.5 collectd-unixsock.5
 
 #collectd_1_SOURCES = collectd.pod
 
 EXTRA_DIST = types.db
 
 .pod.1:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/Makefile.in	2007-09-28 22:24:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/Makefile.in	2007-09-02 05:44:06.000000000 +0800
@@ -52,179 +52,181 @@
 @BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_11 = -ldevstat
 @BUILD_WITH_LIBSTATGRAB_TRUE@am__append_12 = -lstatgrab
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_13 = $(LIBLTDL) liboconfig/liboconfig.la
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__append_14 = $(LIBLTDL) liboconfig/liboconfig.la
 @BUILD_WITH_OWN_LIBOCONFIG_FALSE@am__append_15 = -loconfig
 @BUILD_WITH_LIBSOCKET_TRUE@am__append_16 = -lsocket
-@BUILD_MODULE_APACHE_TRUE@am__append_17 = apache.la
-@BUILD_MODULE_APACHE_TRUE@am__append_18 = "-dlopen" apache.la
-@BUILD_MODULE_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_19 = $(BUILD_WITH_LIBCURL_CFLAGS)
-@BUILD_MODULE_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_20 = $(BUILD_WITH_LIBCURL_LIBS)
-@BUILD_MODULE_APACHE_TRUE@am__append_21 = apache.la
-@BUILD_MODULE_APCUPS_TRUE@am__append_22 = apcups.la
-@BUILD_MODULE_APCUPS_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_23 = -lsocket
-@BUILD_MODULE_APCUPS_TRUE@am__append_24 = "-dlopen" apcups.la
-@BUILD_MODULE_APCUPS_TRUE@am__append_25 = apcups.la
-@BUILD_MODULE_APPLE_SENSORS_TRUE@am__append_26 = apple_sensors.la
-@BUILD_MODULE_APPLE_SENSORS_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_27 = -lIOKit
-@BUILD_MODULE_APPLE_SENSORS_TRUE@am__append_28 = "-dlopen" apple_sensors.la
-@BUILD_MODULE_APPLE_SENSORS_TRUE@am__append_29 = apple_sensors.la
-@BUILD_MODULE_BATTERY_TRUE@am__append_30 = battery.la
-@BUILD_MODULE_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_31 = -lIOKit
-@BUILD_MODULE_BATTERY_TRUE@am__append_32 = "-dlopen" battery.la
-@BUILD_MODULE_BATTERY_TRUE@am__append_33 = battery.la
-@BUILD_MODULE_CPU_TRUE@am__append_34 = cpu.la
-@BUILD_MODULE_CPU_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_35 = -lkstat
-@BUILD_MODULE_CPU_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_36 = -ldevinfo
-@BUILD_MODULE_CPU_TRUE@am__append_37 = "-dlopen" cpu.la
-@BUILD_MODULE_CPU_TRUE@am__append_38 = cpu.la
-@BUILD_MODULE_CPUFREQ_TRUE@am__append_39 = cpufreq.la
-@BUILD_MODULE_CPUFREQ_TRUE@am__append_40 = "-dlopen" cpufreq.la
-@BUILD_MODULE_CPUFREQ_TRUE@am__append_41 = cpufreq.la
-@BUILD_MODULE_CSV_TRUE@am__append_42 = csv.la
-@BUILD_MODULE_CSV_TRUE@am__append_43 = "-dlopen" csv.la
-@BUILD_MODULE_CSV_TRUE@am__append_44 = csv.la
-@BUILD_MODULE_DF_TRUE@am__append_45 = df.la
-@BUILD_MODULE_DF_TRUE@am__append_46 = "-dlopen" df.la
-@BUILD_MODULE_DF_TRUE@am__append_47 = df.la
-@BUILD_MODULE_DISK_TRUE@am__append_48 = disk.la
-@BUILD_MODULE_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_49 = -lkstat
-@BUILD_MODULE_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_50 = -ldevinfo
-@BUILD_MODULE_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_51 = -lIOKit
-@BUILD_MODULE_DISK_TRUE@am__append_52 = "-dlopen" disk.la
-@BUILD_MODULE_DISK_TRUE@am__append_53 = disk.la
-@BUILD_MODULE_DNS_TRUE@am__append_54 = dns.la
-@BUILD_MODULE_DNS_TRUE@@BUILD_WITH_LIBPCAP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_55 = utils_dns.c utils_dns.h
-@BUILD_MODULE_DNS_TRUE@@BUILD_WITH_LIBPCAP_TRUE@am__append_56 = -lpcap
-@BUILD_MODULE_DNS_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_57 = -lpthread
-@BUILD_MODULE_DNS_TRUE@am__append_58 = "-dlopen" dns.la
-@BUILD_MODULE_DNS_TRUE@am__append_59 = dns.la
-@BUILD_MODULE_EMAIL_TRUE@am__append_60 = email.la
-@BUILD_MODULE_EMAIL_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_61 = -lpthread
-@BUILD_MODULE_EMAIL_TRUE@am__append_62 = "-dlopen" email.la
-@BUILD_MODULE_EMAIL_TRUE@am__append_63 = email.la
-@BUILD_MODULE_ENTROPY_TRUE@am__append_64 = entropy.la
-@BUILD_MODULE_ENTROPY_TRUE@am__append_65 = "-dlopen" entropy.la
-@BUILD_MODULE_ENTROPY_TRUE@am__append_66 = entropy.la
-@BUILD_MODULE_EXEC_TRUE@am__append_67 = exec.la
-@BUILD_MODULE_EXEC_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_68 = -lpthread
-@BUILD_MODULE_EXEC_TRUE@am__append_69 = "-dlopen" exec.la
-@BUILD_MODULE_EXEC_TRUE@am__append_70 = exec.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_71 = hddtemp.la
-@BUILD_MODULE_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_72 = -lsocket
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_73 = "-dlopen" hddtemp.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_74 = hddtemp.la
-@BUILD_MODULE_INTERFACE_TRUE@am__append_75 = interface.la
-@BUILD_MODULE_INTERFACE_TRUE@am__append_76 = "-dlopen" interface.la
-@BUILD_MODULE_INTERFACE_TRUE@am__append_77 = interface.la
-@BUILD_MODULE_INTERFACE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_78 = -lkstat
-@BUILD_MODULE_INTERFACE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_79 = -ldevinfo
-@BUILD_MODULE_INTERFACE_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_80 = -lkvm
-@BUILD_MODULE_INTERFACE_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_81 = -ldevstat
-@BUILD_MODULE_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_82 = -lstatgrab
-@BUILD_MODULE_IPTABLES_TRUE@am__append_83 = iptables.la
-@BUILD_MODULE_IPTABLES_TRUE@@BUILD_WITH_LIBIPTC_TRUE@am__append_84 = -liptc
-@BUILD_MODULE_IPTABLES_TRUE@am__append_85 = "-dlopen" iptables.la
-@BUILD_MODULE_IPTABLES_TRUE@am__append_86 = iptables.la
-@BUILD_MODULE_IRQ_TRUE@am__append_87 = irq.la
-@BUILD_MODULE_IRQ_TRUE@am__append_88 = "-dlopen" irq.la
-@BUILD_MODULE_IRQ_TRUE@am__append_89 = irq.la
-@BUILD_MODULE_LOAD_TRUE@am__append_90 = load.la
-@BUILD_MODULE_LOAD_TRUE@am__append_91 = "-dlopen" load.la
-@BUILD_MODULE_LOAD_TRUE@am__append_92 = load.la
-@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_93 = -lkvm
-@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_94 = -ldevstat
-@BUILD_MODULE_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_95 = -lstatgrab
-@BUILD_MODULE_LOGFILE_TRUE@am__append_96 = logfile.la
-@BUILD_MODULE_LOGFILE_TRUE@am__append_97 = "-dlopen" logfile.la
-@BUILD_MODULE_LOGFILE_TRUE@am__append_98 = logfile.la
-@BUILD_MODULE_MBMON_TRUE@am__append_99 = mbmon.la
-@BUILD_MODULE_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_100 = -lsocket
-@BUILD_MODULE_MBMON_TRUE@am__append_101 = "-dlopen" mbmon.la
-@BUILD_MODULE_MBMON_TRUE@am__append_102 = mbmon.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_103 = memory.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_104 = "-dlopen" memory.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_105 = memory.la
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_106 = -lkstat
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_107 = -ldevinfo
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_108 = -lkvm
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_109 = -ldevstat
-@BUILD_MODULE_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_110 = -lstatgrab
-@BUILD_MODULE_MULTIMETER_TRUE@am__append_111 = multimeter.la
-@BUILD_MODULE_MULTIMETER_TRUE@am__append_112 = "-dlopen" multimeter.la
-@BUILD_MODULE_MULTIMETER_TRUE@am__append_113 = multimeter.la
-@BUILD_MODULE_MYSQL_TRUE@am__append_114 = mysql.la
-@BUILD_MODULE_MYSQL_TRUE@am__append_115 = "-dlopen" mysql.la
-@BUILD_MODULE_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_116 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
-@BUILD_MODULE_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_117 = $(BUILD_WITH_LIBMYSQL_LIBS)
-@BUILD_MODULE_MYSQL_TRUE@am__append_118 = mysql.la
-@BUILD_MODULE_NETWORK_TRUE@am__append_119 = network.la
-@BUILD_MODULE_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_120 = -lsocket
-@BUILD_MODULE_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_121 = -lpthread
-@BUILD_MODULE_NETWORK_TRUE@am__append_122 = "-dlopen" network.la
-@BUILD_MODULE_NETWORK_TRUE@am__append_123 = network.la
-@BUILD_MODULE_NFS_TRUE@am__append_124 = nfs.la
-@BUILD_MODULE_NFS_TRUE@am__append_125 = "-dlopen" nfs.la
-@BUILD_MODULE_NFS_TRUE@am__append_126 = nfs.la
-@BUILD_MODULE_NTPD_TRUE@am__append_127 = ntpd.la
-@BUILD_MODULE_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_128 = -lsocket
-@BUILD_MODULE_NTPD_TRUE@am__append_129 = "-dlopen" ntpd.la
-@BUILD_MODULE_NTPD_TRUE@am__append_130 = ntpd.la
-@BUILD_MODULE_NUT_TRUE@am__append_131 = nut.la
-@BUILD_MODULE_NUT_TRUE@@BUILD_WITH_LIBUPSCLIENT_TRUE@am__append_132 = -lupsclient
-@BUILD_MODULE_NUT_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@@BUILD_WITH_LIBUPSCLIENT_TRUE@am__append_133 = -lpthread
-@BUILD_MODULE_NUT_TRUE@am__append_134 = "-dlopen" nut.la
-@BUILD_MODULE_NUT_TRUE@am__append_135 = nut.la
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@am__append_136 = perl.la
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@am__append_137 = "-dlopen" perl.la
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@am__append_138 = perl.la
-@BUILD_MODULE_PING_TRUE@am__append_139 = ping.la
-@BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_140 = -loping
-@BUILD_MODULE_PING_TRUE@am__append_141 = "-dlopen" ping.la
-@BUILD_MODULE_PING_TRUE@am__append_142 = ping.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_143 = processes.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_144 = "-dlopen" processes.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_145 = processes.la
-@BUILD_WITH_RRDTOOL_TRUE@am__append_146 = rrdtool.la
-@BUILD_WITH_RRDTOOL_TRUE@am__append_147 = "-dlopen" rrdtool.la
-@BUILD_WITH_RRDTOOL_TRUE@am__append_148 = rrdtool.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_149 = sensors.la
-@BUILD_MODULE_SENSORS_TRUE@@BUILD_WITH_LM_SENSORS_TRUE@am__append_150 = -lsensors
-@BUILD_MODULE_SENSORS_TRUE@am__append_151 = "-dlopen" sensors.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_152 = sensors.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_153 = serial.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_154 = "-dlopen" serial.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_155 = serial.la
-@BUILD_MODULE_SWAP_TRUE@am__append_156 = swap.la
-@BUILD_MODULE_SWAP_TRUE@am__append_157 = "-dlopen" swap.la
-@BUILD_MODULE_SWAP_TRUE@am__append_158 = swap.la
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_159 = -lkstat
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_160 = -ldevinfo
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_161 = -lkvm
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_162 = -ldevstat
-@BUILD_MODULE_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_163 = -lstatgrab
-@BUILD_MODULE_SYSLOG_TRUE@am__append_164 = syslog.la
-@BUILD_MODULE_SYSLOG_TRUE@am__append_165 = "-dlopen" syslog.la
-@BUILD_MODULE_SYSLOG_TRUE@am__append_166 = syslog.la
-@BUILD_MODULE_TAPE_TRUE@am__append_167 = tape.la
-@BUILD_MODULE_TAPE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_168 = -lkstat
-@BUILD_MODULE_TAPE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_169 = -ldevinfo
-@BUILD_MODULE_TAPE_TRUE@am__append_170 = "-dlopen" tape.la
-@BUILD_MODULE_TAPE_TRUE@am__append_171 = tape.la
-@BUILD_MODULE_UNIXSOCK_TRUE@am__append_172 = unixsock.la
-@BUILD_MODULE_UNIXSOCK_TRUE@am__append_173 = "-dlopen" unixsock.la
-@BUILD_MODULE_UNIXSOCK_TRUE@am__append_174 = unixsock.la
-@BUILD_MODULE_USERS_TRUE@am__append_175 = users.la
-@BUILD_MODULE_USERS_TRUE@am__append_176 = "-dlopen" users.la
-@BUILD_MODULE_USERS_TRUE@am__append_177 = users.la
-@BUILD_MODULE_VSERVER_TRUE@am__append_178 = vserver.la
-@BUILD_MODULE_VSERVER_TRUE@am__append_179 = "-dlopen" vserver.la
-@BUILD_MODULE_VSERVER_TRUE@am__append_180 = vserver.la
-@BUILD_MODULE_WIRELESS_TRUE@am__append_181 = wireless.la
-@BUILD_MODULE_WIRELESS_TRUE@am__append_182 = "-dlopen" wireless.la
-@BUILD_MODULE_WIRELESS_TRUE@am__append_183 = wireless.la
+@BUILD_PLUGIN_APACHE_TRUE@am__append_17 = apache.la
+@BUILD_PLUGIN_APACHE_TRUE@am__append_18 = "-dlopen" apache.la
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_19 = $(BUILD_WITH_LIBCURL_CFLAGS)
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__append_20 = $(BUILD_WITH_LIBCURL_LIBS)
+@BUILD_PLUGIN_APACHE_TRUE@am__append_21 = apache.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_22 = apcups.la
+@BUILD_PLUGIN_APCUPS_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_23 = -lsocket
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_24 = "-dlopen" apcups.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__append_25 = apcups.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_26 = apple_sensors.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_27 = "-dlopen" apple_sensors.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__append_28 = apple_sensors.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_29 = battery.la
+@BUILD_PLUGIN_BATTERY_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_30 = -lIOKit
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_31 = "-dlopen" battery.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__append_32 = battery.la
+@BUILD_PLUGIN_CPU_TRUE@am__append_33 = cpu.la
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_34 = -lkstat
+@BUILD_PLUGIN_CPU_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_35 = -ldevinfo
+@BUILD_PLUGIN_CPU_TRUE@am__append_36 = "-dlopen" cpu.la
+@BUILD_PLUGIN_CPU_TRUE@am__append_37 = cpu.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_38 = cpufreq.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_39 = "-dlopen" cpufreq.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__append_40 = cpufreq.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_41 = csv.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_42 = "-dlopen" csv.la
+@BUILD_PLUGIN_CSV_TRUE@am__append_43 = csv.la
+@BUILD_PLUGIN_DF_TRUE@am__append_44 = df.la
+@BUILD_PLUGIN_DF_TRUE@am__append_45 = "-dlopen" df.la
+@BUILD_PLUGIN_DF_TRUE@am__append_46 = df.la
+@BUILD_PLUGIN_DISK_TRUE@am__append_47 = disk.la
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_48 = -lkstat
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_49 = -ldevinfo
+@BUILD_PLUGIN_DISK_TRUE@@BUILD_WITH_LIBIOKIT_TRUE@am__append_50 = -lIOKit
+@BUILD_PLUGIN_DISK_TRUE@am__append_51 = "-dlopen" disk.la
+@BUILD_PLUGIN_DISK_TRUE@am__append_52 = disk.la
+@BUILD_PLUGIN_DNS_TRUE@am__append_53 = dns.la
+@BUILD_PLUGIN_DNS_TRUE@am__append_54 = "-dlopen" dns.la
+@BUILD_PLUGIN_DNS_TRUE@am__append_55 = dns.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_56 = email.la
+@BUILD_PLUGIN_EMAIL_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_57 = -lpthread
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_58 = "-dlopen" email.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__append_59 = email.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_60 = entropy.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_61 = "-dlopen" entropy.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__append_62 = entropy.la
+@BUILD_PLUGIN_EXEC_TRUE@am__append_63 = exec.la
+@BUILD_PLUGIN_EXEC_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_64 = -lpthread
+@BUILD_PLUGIN_EXEC_TRUE@am__append_65 = "-dlopen" exec.la
+@BUILD_PLUGIN_EXEC_TRUE@am__append_66 = exec.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_67 = hddtemp.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_68 = -lsocket
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_69 = "-dlopen" hddtemp.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__append_70 = hddtemp.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_71 = interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_72 = "-dlopen" interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__append_73 = interface.la
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_74 = -lkstat
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_75 = -ldevinfo
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_76 = -lkvm
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_77 = -ldevstat
+@BUILD_PLUGIN_INTERFACE_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_78 = -lstatgrab
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_79 = iptables.la
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_80 = "-dlopen" iptables.la
+@BUILD_PLUGIN_IPTABLES_TRUE@am__append_81 = iptables.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_82 = irq.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_83 = "-dlopen" irq.la
+@BUILD_PLUGIN_IRQ_TRUE@am__append_84 = irq.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_85 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_86 = "-dlopen" load.la
+@BUILD_PLUGIN_LOAD_TRUE@am__append_87 = load.la
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_88 = -lkvm
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_89 = -ldevstat
+@BUILD_PLUGIN_LOAD_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_90 = -lstatgrab
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_91 = logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_92 = "-dlopen" logfile.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__append_93 = logfile.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_94 = mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_95 = -lsocket
+@BUILD_PLUGIN_MBMON_TRUE@am__append_96 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MBMON_TRUE@am__append_97 = mbmon.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_98 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_99 = "-dlopen" memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__append_100 = memory.la
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_101 = -lkstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_102 = -ldevinfo
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBKVM_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_103 = -lkvm
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_104 = -ldevstat
+@BUILD_PLUGIN_MEMORY_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_105 = -lstatgrab
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_106 = multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_107 = "-dlopen" multimeter.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__append_108 = multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_109 = mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_110 = "-dlopen" mysql.la
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_111 = $(BUILD_WITH_LIBMYSQL_CFLAGS)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_112 = $(BUILD_WITH_LIBMYSQL_LIBS)
+@BUILD_PLUGIN_MYSQL_TRUE@am__append_113 = mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_114 = netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_115 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__append_116 = netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_117 = network.la
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_118 = -lsocket
+@BUILD_PLUGIN_NETWORK_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_119 = -lpthread
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_120 = "-dlopen" network.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__append_121 = network.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_122 = nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_123 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NFS_TRUE@am__append_124 = nfs.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_125 = ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@@BUILD_WITH_LIBSOCKET_TRUE@am__append_126 = -lsocket
+@BUILD_PLUGIN_NTPD_TRUE@am__append_127 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NTPD_TRUE@am__append_128 = ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_129 = nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_130 = "-dlopen" nut.la
+@BUILD_PLUGIN_NUT_TRUE@am__append_131 = nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_132 = perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_133 = "-dlopen" perl.la
+@BUILD_PLUGIN_PERL_TRUE@am__append_134 = perl.la
+@BUILD_PLUGIN_PING_TRUE@am__append_135 = ping.la
+@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_FALSE@am__append_136 = -loping
+@BUILD_PLUGIN_PING_TRUE@am__append_137 = "-dlopen" ping.la
+@BUILD_PLUGIN_PING_TRUE@am__append_138 = ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_139 = processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_140 = "-dlopen" processes.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__append_141 = processes.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_142 = rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_143 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__append_144 = rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_145 = sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@@BUILD_WITH_LM_SENSORS_TRUE@am__append_146 = -lsensors
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_147 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__append_148 = sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_149 = serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_150 = "-dlopen" serial.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__append_151 = serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_152 = snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBNETSNMP_TRUE@am__append_153 = -lnetsnmp
+@BUILD_PLUGIN_SNMP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__append_154 = -lpthread
+@BUILD_PLUGIN_SNMP_TRUE@am__append_155 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SNMP_TRUE@am__append_156 = snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_157 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_158 = "-dlopen" swap.la
+@BUILD_PLUGIN_SWAP_TRUE@am__append_159 = swap.la
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKSTAT_TRUE@am__append_160 = -lkstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVINFO_TRUE@am__append_161 = -ldevinfo
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBKVM_TRUE@am__append_162 = -lkvm
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBDEVSTAT_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_163 = -ldevstat
+@BUILD_PLUGIN_SWAP_TRUE@@BUILD_WITH_LIBSTATGRAB_TRUE@am__append_164 = -lstatgrab
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_165 = syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_166 = "-dlopen" syslog.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__append_167 = syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_168 = tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_169 = "-dlopen" tape.la
+@BUILD_PLUGIN_TAPE_TRUE@am__append_170 = tape.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_171 = unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_172 = "-dlopen" unixsock.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__append_173 = unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_174 = users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_175 = "-dlopen" users.la
+@BUILD_PLUGIN_USERS_TRUE@am__append_176 = users.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_177 = vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_178 = "-dlopen" vserver.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__append_179 = vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_180 = wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_181 = "-dlopen" wireless.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__append_182 = wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_183 = xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_184 = "-dlopen" xmms.la
+@BUILD_PLUGIN_XMMS_TRUE@am__append_185 = xmms.la
 subdir = src
 DIST_COMMON = $(dist_man_MANS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/collectd.conf.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
@@ -242,225 +244,243 @@
 am__installdirs = "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(bindir)" \
 	"$(DESTDIR)$(sbindir)" "$(DESTDIR)$(man1dir)" \
 	"$(DESTDIR)$(man5dir)"
 pkglibLTLIBRARIES_INSTALL = $(INSTALL)
 LTLIBRARIES = $(pkglib_LTLIBRARIES)
 am__DEPENDENCIES_1 =
-@BUILD_MODULE_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1)
-@BUILD_MODULE_APACHE_TRUE@apache_la_DEPENDENCIES =  \
-@BUILD_MODULE_APACHE_TRUE@	$(am__DEPENDENCIES_2)
+@BUILD_PLUGIN_APACHE_TRUE@@BUILD_WITH_LIBCURL_TRUE@am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_APACHE_TRUE@	$(am__DEPENDENCIES_2)
 am__apache_la_SOURCES_DIST = apache.c
-@BUILD_MODULE_APACHE_TRUE@am_apache_la_OBJECTS = apache_la-apache.lo
+@BUILD_PLUGIN_APACHE_TRUE@am_apache_la_OBJECTS = apache_la-apache.lo
 apache_la_OBJECTS = $(am_apache_la_OBJECTS)
-@BUILD_MODULE_APACHE_TRUE@am_apache_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_APACHE_TRUE@am_apache_la_rpath = -rpath $(pkglibdir)
 apcups_la_LIBADD =
 am__apcups_la_SOURCES_DIST = apcups.c
-@BUILD_MODULE_APCUPS_TRUE@am_apcups_la_OBJECTS = apcups.lo
+@BUILD_PLUGIN_APCUPS_TRUE@am_apcups_la_OBJECTS = apcups.lo
 apcups_la_OBJECTS = $(am_apcups_la_OBJECTS)
-@BUILD_MODULE_APCUPS_TRUE@am_apcups_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_APCUPS_TRUE@am_apcups_la_rpath = -rpath $(pkglibdir)
 apple_sensors_la_LIBADD =
 am__apple_sensors_la_SOURCES_DIST = apple_sensors.c
-@BUILD_MODULE_APPLE_SENSORS_TRUE@am_apple_sensors_la_OBJECTS =  \
-@BUILD_MODULE_APPLE_SENSORS_TRUE@	apple_sensors.lo
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am_apple_sensors_la_OBJECTS =  \
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@	apple_sensors.lo
 apple_sensors_la_OBJECTS = $(am_apple_sensors_la_OBJECTS)
-@BUILD_MODULE_APPLE_SENSORS_TRUE@am_apple_sensors_la_rpath = -rpath \
-@BUILD_MODULE_APPLE_SENSORS_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am_apple_sensors_la_rpath = -rpath \
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@	$(pkglibdir)
 battery_la_LIBADD =
 am__battery_la_SOURCES_DIST = battery.c
-@BUILD_MODULE_BATTERY_TRUE@am_battery_la_OBJECTS = battery.lo
+@BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_OBJECTS = battery.lo
 battery_la_OBJECTS = $(am_battery_la_OBJECTS)
-@BUILD_MODULE_BATTERY_TRUE@am_battery_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_BATTERY_TRUE@am_battery_la_rpath = -rpath $(pkglibdir)
 cpu_la_LIBADD =
 am__cpu_la_SOURCES_DIST = cpu.c
-@BUILD_MODULE_CPU_TRUE@am_cpu_la_OBJECTS = cpu.lo
+@BUILD_PLUGIN_CPU_TRUE@am_cpu_la_OBJECTS = cpu.lo
 cpu_la_OBJECTS = $(am_cpu_la_OBJECTS)
-@BUILD_MODULE_CPU_TRUE@am_cpu_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_CPU_TRUE@am_cpu_la_rpath = -rpath $(pkglibdir)
 cpufreq_la_LIBADD =
 am__cpufreq_la_SOURCES_DIST = cpufreq.c
-@BUILD_MODULE_CPUFREQ_TRUE@am_cpufreq_la_OBJECTS = cpufreq.lo
+@BUILD_PLUGIN_CPUFREQ_TRUE@am_cpufreq_la_OBJECTS = cpufreq.lo
 cpufreq_la_OBJECTS = $(am_cpufreq_la_OBJECTS)
-@BUILD_MODULE_CPUFREQ_TRUE@am_cpufreq_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_CPUFREQ_TRUE@am_cpufreq_la_rpath = -rpath $(pkglibdir)
 csv_la_LIBADD =
 am__csv_la_SOURCES_DIST = csv.c
-@BUILD_MODULE_CSV_TRUE@am_csv_la_OBJECTS = csv.lo
+@BUILD_PLUGIN_CSV_TRUE@am_csv_la_OBJECTS = csv.lo
 csv_la_OBJECTS = $(am_csv_la_OBJECTS)
-@BUILD_MODULE_CSV_TRUE@am_csv_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_CSV_TRUE@am_csv_la_rpath = -rpath $(pkglibdir)
 df_la_LIBADD =
 am__df_la_SOURCES_DIST = df.c
-@BUILD_MODULE_DF_TRUE@am_df_la_OBJECTS = df.lo
+@BUILD_PLUGIN_DF_TRUE@am_df_la_OBJECTS = df.lo
 df_la_OBJECTS = $(am_df_la_OBJECTS)
-@BUILD_MODULE_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
 disk_la_LIBADD =
 am__disk_la_SOURCES_DIST = disk.c
-@BUILD_MODULE_DISK_TRUE@am_disk_la_OBJECTS = disk.lo
+@BUILD_PLUGIN_DISK_TRUE@am_disk_la_OBJECTS = disk.lo
 disk_la_OBJECTS = $(am_disk_la_OBJECTS)
-@BUILD_MODULE_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
 dns_la_LIBADD =
 am__dns_la_SOURCES_DIST = dns.c utils_dns.c utils_dns.h
-@BUILD_MODULE_DNS_TRUE@@BUILD_WITH_LIBPCAP_TRUE@@BUILD_WITH_LIBPTHREAD_TRUE@am__objects_1 = utils_dns.lo
-@BUILD_MODULE_DNS_TRUE@am_dns_la_OBJECTS = dns.lo $(am__objects_1)
+@BUILD_PLUGIN_DNS_TRUE@am_dns_la_OBJECTS = dns.lo utils_dns.lo
 dns_la_OBJECTS = $(am_dns_la_OBJECTS)
-@BUILD_MODULE_DNS_TRUE@am_dns_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_DNS_TRUE@am_dns_la_rpath = -rpath $(pkglibdir)
 email_la_LIBADD =
 am__email_la_SOURCES_DIST = email.c
-@BUILD_MODULE_EMAIL_TRUE@am_email_la_OBJECTS = email.lo
+@BUILD_PLUGIN_EMAIL_TRUE@am_email_la_OBJECTS = email.lo
 email_la_OBJECTS = $(am_email_la_OBJECTS)
-@BUILD_MODULE_EMAIL_TRUE@am_email_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_EMAIL_TRUE@am_email_la_rpath = -rpath $(pkglibdir)
 entropy_la_LIBADD =
 am__entropy_la_SOURCES_DIST = entropy.c
-@BUILD_MODULE_ENTROPY_TRUE@am_entropy_la_OBJECTS = entropy.lo
+@BUILD_PLUGIN_ENTROPY_TRUE@am_entropy_la_OBJECTS = entropy.lo
 entropy_la_OBJECTS = $(am_entropy_la_OBJECTS)
-@BUILD_MODULE_ENTROPY_TRUE@am_entropy_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_ENTROPY_TRUE@am_entropy_la_rpath = -rpath $(pkglibdir)
 exec_la_LIBADD =
-am__exec_la_SOURCES_DIST = exec.c
-@BUILD_MODULE_EXEC_TRUE@am_exec_la_OBJECTS = exec.lo
+am__exec_la_SOURCES_DIST = exec.c utils_cmd_putval.c \
+	utils_cmd_putval.h
+@BUILD_PLUGIN_EXEC_TRUE@am_exec_la_OBJECTS = exec.lo \
+@BUILD_PLUGIN_EXEC_TRUE@	utils_cmd_putval.lo
 exec_la_OBJECTS = $(am_exec_la_OBJECTS)
-@BUILD_MODULE_EXEC_TRUE@am_exec_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_EXEC_TRUE@am_exec_la_rpath = -rpath $(pkglibdir)
 hddtemp_la_LIBADD =
 am__hddtemp_la_SOURCES_DIST = hddtemp.c
-@BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS = hddtemp.lo
+@BUILD_PLUGIN_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS = hddtemp.lo
 hddtemp_la_OBJECTS = $(am_hddtemp_la_OBJECTS)
-@BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_HDDTEMP_TRUE@am_hddtemp_la_rpath = -rpath $(pkglibdir)
 interface_la_LIBADD =
 am__interface_la_SOURCES_DIST = interface.c
-@BUILD_MODULE_INTERFACE_TRUE@am_interface_la_OBJECTS = interface.lo
+@BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_OBJECTS = interface.lo
 interface_la_OBJECTS = $(am_interface_la_OBJECTS)
-@BUILD_MODULE_INTERFACE_TRUE@am_interface_la_rpath = -rpath \
-@BUILD_MODULE_INTERFACE_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_INTERFACE_TRUE@am_interface_la_rpath = -rpath \
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(pkglibdir)
 iptables_la_LIBADD =
 am__iptables_la_SOURCES_DIST = iptables.c
-@BUILD_MODULE_IPTABLES_TRUE@am_iptables_la_OBJECTS = iptables.lo
+@BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_OBJECTS = iptables.lo
 iptables_la_OBJECTS = $(am_iptables_la_OBJECTS)
-@BUILD_MODULE_IPTABLES_TRUE@am_iptables_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_IPTABLES_TRUE@am_iptables_la_rpath = -rpath $(pkglibdir)
 irq_la_LIBADD =
 am__irq_la_SOURCES_DIST = irq.c
-@BUILD_MODULE_IRQ_TRUE@am_irq_la_OBJECTS = irq.lo
+@BUILD_PLUGIN_IRQ_TRUE@am_irq_la_OBJECTS = irq.lo
 irq_la_OBJECTS = $(am_irq_la_OBJECTS)
-@BUILD_MODULE_IRQ_TRUE@am_irq_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_IRQ_TRUE@am_irq_la_rpath = -rpath $(pkglibdir)
 load_la_LIBADD =
 am__load_la_SOURCES_DIST = load.c
-@BUILD_MODULE_LOAD_TRUE@am_load_la_OBJECTS = load.lo
+@BUILD_PLUGIN_LOAD_TRUE@am_load_la_OBJECTS = load.lo
 load_la_OBJECTS = $(am_load_la_OBJECTS)
-@BUILD_MODULE_LOAD_TRUE@am_load_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_LOAD_TRUE@am_load_la_rpath = -rpath $(pkglibdir)
 logfile_la_LIBADD =
 am__logfile_la_SOURCES_DIST = logfile.c
-@BUILD_MODULE_LOGFILE_TRUE@am_logfile_la_OBJECTS = logfile.lo
+@BUILD_PLUGIN_LOGFILE_TRUE@am_logfile_la_OBJECTS = logfile.lo
 logfile_la_OBJECTS = $(am_logfile_la_OBJECTS)
-@BUILD_MODULE_LOGFILE_TRUE@am_logfile_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_LOGFILE_TRUE@am_logfile_la_rpath = -rpath $(pkglibdir)
 mbmon_la_LIBADD =
 am__mbmon_la_SOURCES_DIST = mbmon.c
-@BUILD_MODULE_MBMON_TRUE@am_mbmon_la_OBJECTS = mbmon.lo
+@BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_OBJECTS = mbmon.lo
 mbmon_la_OBJECTS = $(am_mbmon_la_OBJECTS)
-@BUILD_MODULE_MBMON_TRUE@am_mbmon_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_MBMON_TRUE@am_mbmon_la_rpath = -rpath $(pkglibdir)
 memory_la_LIBADD =
 am__memory_la_SOURCES_DIST = memory.c
-@BUILD_MODULE_MEMORY_TRUE@am_memory_la_OBJECTS = memory.lo
+@BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_OBJECTS = memory.lo
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
-@BUILD_MODULE_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
 multimeter_la_LIBADD =
 am__multimeter_la_SOURCES_DIST = multimeter.c
-@BUILD_MODULE_MULTIMETER_TRUE@am_multimeter_la_OBJECTS =  \
-@BUILD_MODULE_MULTIMETER_TRUE@	multimeter.lo
+@BUILD_PLUGIN_MULTIMETER_TRUE@am_multimeter_la_OBJECTS =  \
+@BUILD_PLUGIN_MULTIMETER_TRUE@	multimeter.lo
 multimeter_la_OBJECTS = $(am_multimeter_la_OBJECTS)
-@BUILD_MODULE_MULTIMETER_TRUE@am_multimeter_la_rpath = -rpath \
-@BUILD_MODULE_MULTIMETER_TRUE@	$(pkglibdir)
-@BUILD_MODULE_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__DEPENDENCIES_3 = $(am__DEPENDENCIES_1)
-@BUILD_MODULE_MYSQL_TRUE@mysql_la_DEPENDENCIES =  \
-@BUILD_MODULE_MYSQL_TRUE@	$(am__DEPENDENCIES_3)
+@BUILD_PLUGIN_MULTIMETER_TRUE@am_multimeter_la_rpath = -rpath \
+@BUILD_PLUGIN_MULTIMETER_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__DEPENDENCIES_3 = $(am__DEPENDENCIES_1)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_MYSQL_TRUE@	$(am__DEPENDENCIES_3)
 am__mysql_la_SOURCES_DIST = mysql.c
-@BUILD_MODULE_MYSQL_TRUE@am_mysql_la_OBJECTS = mysql_la-mysql.lo
+@BUILD_PLUGIN_MYSQL_TRUE@am_mysql_la_OBJECTS = mysql_la-mysql.lo
 mysql_la_OBJECTS = $(am_mysql_la_OBJECTS)
-@BUILD_MODULE_MYSQL_TRUE@am_mysql_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_MYSQL_TRUE@am_mysql_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_DEPENDENCIES =  \
+@BUILD_PLUGIN_NETLINK_TRUE@	$(am__DEPENDENCIES_1)
+am__netlink_la_SOURCES_DIST = netlink.c
+@BUILD_PLUGIN_NETLINK_TRUE@am_netlink_la_OBJECTS =  \
+@BUILD_PLUGIN_NETLINK_TRUE@	netlink_la-netlink.lo
+netlink_la_OBJECTS = $(am_netlink_la_OBJECTS)
+@BUILD_PLUGIN_NETLINK_TRUE@am_netlink_la_rpath = -rpath $(pkglibdir)
 network_la_LIBADD =
 am__network_la_SOURCES_DIST = network.c network.h
-@BUILD_MODULE_NETWORK_TRUE@am_network_la_OBJECTS = network.lo
+@BUILD_PLUGIN_NETWORK_TRUE@am_network_la_OBJECTS = network.lo
 network_la_OBJECTS = $(am_network_la_OBJECTS)
-@BUILD_MODULE_NETWORK_TRUE@am_network_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_NETWORK_TRUE@am_network_la_rpath = -rpath $(pkglibdir)
 nfs_la_LIBADD =
 am__nfs_la_SOURCES_DIST = nfs.c
-@BUILD_MODULE_NFS_TRUE@am_nfs_la_OBJECTS = nfs.lo
+@BUILD_PLUGIN_NFS_TRUE@am_nfs_la_OBJECTS = nfs.lo
 nfs_la_OBJECTS = $(am_nfs_la_OBJECTS)
-@BUILD_MODULE_NFS_TRUE@am_nfs_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_NFS_TRUE@am_nfs_la_rpath = -rpath $(pkglibdir)
 ntpd_la_LIBADD =
 am__ntpd_la_SOURCES_DIST = ntpd.c
-@BUILD_MODULE_NTPD_TRUE@am_ntpd_la_OBJECTS = ntpd.lo
+@BUILD_PLUGIN_NTPD_TRUE@am_ntpd_la_OBJECTS = ntpd.lo
 ntpd_la_OBJECTS = $(am_ntpd_la_OBJECTS)
-@BUILD_MODULE_NTPD_TRUE@am_ntpd_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_NTPD_TRUE@am_ntpd_la_rpath = -rpath $(pkglibdir)
 nut_la_LIBADD =
 am__nut_la_SOURCES_DIST = nut.c
-@BUILD_MODULE_NUT_TRUE@am_nut_la_OBJECTS = nut.lo
+@BUILD_PLUGIN_NUT_TRUE@am_nut_la_OBJECTS = nut_la-nut.lo
 nut_la_OBJECTS = $(am_nut_la_OBJECTS)
-@BUILD_MODULE_NUT_TRUE@am_nut_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_NUT_TRUE@am_nut_la_rpath = -rpath $(pkglibdir)
 perl_la_LIBADD =
 am__perl_la_SOURCES_DIST = perl.c
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@am_perl_la_OBJECTS = perl_la-perl.lo
+@BUILD_PLUGIN_PERL_TRUE@am_perl_la_OBJECTS = perl_la-perl.lo
 perl_la_OBJECTS = $(am_perl_la_OBJECTS)
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@am_perl_la_rpath =  \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@	-rpath \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_PERL_TRUE@am_perl_la_rpath = -rpath $(pkglibdir)
 am__ping_la_SOURCES_DIST = ping.c
-@BUILD_MODULE_PING_TRUE@am_ping_la_OBJECTS = ping.lo
+@BUILD_PLUGIN_PING_TRUE@am_ping_la_OBJECTS = ping.lo
 ping_la_OBJECTS = $(am_ping_la_OBJECTS)
-@BUILD_MODULE_PING_TRUE@am_ping_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_PING_TRUE@am_ping_la_rpath = -rpath $(pkglibdir)
 processes_la_LIBADD =
 am__processes_la_SOURCES_DIST = processes.c
-@BUILD_MODULE_PROCESSES_TRUE@am_processes_la_OBJECTS = processes.lo
+@BUILD_PLUGIN_PROCESSES_TRUE@am_processes_la_OBJECTS = processes.lo
 processes_la_OBJECTS = $(am_processes_la_OBJECTS)
-@BUILD_MODULE_PROCESSES_TRUE@am_processes_la_rpath = -rpath \
-@BUILD_MODULE_PROCESSES_TRUE@	$(pkglibdir)
+@BUILD_PLUGIN_PROCESSES_TRUE@am_processes_la_rpath = -rpath \
+@BUILD_PLUGIN_PROCESSES_TRUE@	$(pkglibdir)
 rrdtool_la_LIBADD =
 am__rrdtool_la_SOURCES_DIST = rrdtool.c
-@BUILD_WITH_RRDTOOL_TRUE@am_rrdtool_la_OBJECTS = rrdtool.lo
+@BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_OBJECTS = rrdtool.lo
 rrdtool_la_OBJECTS = $(am_rrdtool_la_OBJECTS)
-@BUILD_WITH_RRDTOOL_TRUE@am_rrdtool_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_RRDTOOL_TRUE@am_rrdtool_la_rpath = -rpath $(pkglibdir)
 sensors_la_LIBADD =
 am__sensors_la_SOURCES_DIST = sensors.c
-@BUILD_MODULE_SENSORS_TRUE@am_sensors_la_OBJECTS = sensors.lo
+@BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_OBJECTS = sensors.lo
 sensors_la_OBJECTS = $(am_sensors_la_OBJECTS)
-@BUILD_MODULE_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
 serial_la_LIBADD =
 am__serial_la_SOURCES_DIST = serial.c
-@BUILD_MODULE_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
+@BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
 serial_la_OBJECTS = $(am_serial_la_OBJECTS)
-@BUILD_MODULE_SERIAL_TRUE@am_serial_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_SERIAL_TRUE@am_serial_la_rpath = -rpath $(pkglibdir)
+snmp_la_LIBADD =
+am__snmp_la_SOURCES_DIST = snmp.c
+@BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_OBJECTS = snmp.lo
+snmp_la_OBJECTS = $(am_snmp_la_OBJECTS)
+@BUILD_PLUGIN_SNMP_TRUE@am_snmp_la_rpath = -rpath $(pkglibdir)
 swap_la_LIBADD =
 am__swap_la_SOURCES_DIST = swap.c
-@BUILD_MODULE_SWAP_TRUE@am_swap_la_OBJECTS = swap.lo
+@BUILD_PLUGIN_SWAP_TRUE@am_swap_la_OBJECTS = swap.lo
 swap_la_OBJECTS = $(am_swap_la_OBJECTS)
-@BUILD_MODULE_SWAP_TRUE@am_swap_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_SWAP_TRUE@am_swap_la_rpath = -rpath $(pkglibdir)
 syslog_la_LIBADD =
 am__syslog_la_SOURCES_DIST = syslog.c
-@BUILD_MODULE_SYSLOG_TRUE@am_syslog_la_OBJECTS = syslog.lo
+@BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_OBJECTS = syslog.lo
 syslog_la_OBJECTS = $(am_syslog_la_OBJECTS)
-@BUILD_MODULE_SYSLOG_TRUE@am_syslog_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_SYSLOG_TRUE@am_syslog_la_rpath = -rpath $(pkglibdir)
 tape_la_LIBADD =
 am__tape_la_SOURCES_DIST = tape.c
-@BUILD_MODULE_TAPE_TRUE@am_tape_la_OBJECTS = tape.lo
+@BUILD_PLUGIN_TAPE_TRUE@am_tape_la_OBJECTS = tape.lo
 tape_la_OBJECTS = $(am_tape_la_OBJECTS)
-@BUILD_MODULE_TAPE_TRUE@am_tape_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_TAPE_TRUE@am_tape_la_rpath = -rpath $(pkglibdir)
 unixsock_la_LIBADD =
-am__unixsock_la_SOURCES_DIST = unixsock.c
-@BUILD_MODULE_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS =  \
-@BUILD_MODULE_UNIXSOCK_TRUE@	unixsock_la-unixsock.lo
+am__unixsock_la_SOURCES_DIST = unixsock.c utils_cmd_putval.h \
+	utils_cmd_putval.c
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_OBJECTS =  \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock_la-unixsock.lo \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock_la-utils_cmd_putval.lo
 unixsock_la_OBJECTS = $(am_unixsock_la_OBJECTS)
-@BUILD_MODULE_UNIXSOCK_TRUE@am_unixsock_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am_unixsock_la_rpath = -rpath $(pkglibdir)
 users_la_LIBADD =
 am__users_la_SOURCES_DIST = users.c
-@BUILD_MODULE_USERS_TRUE@am_users_la_OBJECTS = users.lo
+@BUILD_PLUGIN_USERS_TRUE@am_users_la_OBJECTS = users.lo
 users_la_OBJECTS = $(am_users_la_OBJECTS)
-@BUILD_MODULE_USERS_TRUE@am_users_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_USERS_TRUE@am_users_la_rpath = -rpath $(pkglibdir)
 vserver_la_LIBADD =
 am__vserver_la_SOURCES_DIST = vserver.c
-@BUILD_MODULE_VSERVER_TRUE@am_vserver_la_OBJECTS = vserver.lo
+@BUILD_PLUGIN_VSERVER_TRUE@am_vserver_la_OBJECTS = vserver.lo
 vserver_la_OBJECTS = $(am_vserver_la_OBJECTS)
-@BUILD_MODULE_VSERVER_TRUE@am_vserver_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_VSERVER_TRUE@am_vserver_la_rpath = -rpath $(pkglibdir)
 wireless_la_LIBADD =
 am__wireless_la_SOURCES_DIST = wireless.c
-@BUILD_MODULE_WIRELESS_TRUE@am_wireless_la_OBJECTS = wireless.lo
+@BUILD_PLUGIN_WIRELESS_TRUE@am_wireless_la_OBJECTS = wireless.lo
 wireless_la_OBJECTS = $(am_wireless_la_OBJECTS)
-@BUILD_MODULE_WIRELESS_TRUE@am_wireless_la_rpath = -rpath $(pkglibdir)
+@BUILD_PLUGIN_WIRELESS_TRUE@am_wireless_la_rpath = -rpath $(pkglibdir)
+xmms_la_LIBADD =
+am__xmms_la_SOURCES_DIST = xmms.c
+@BUILD_PLUGIN_XMMS_TRUE@am_xmms_la_OBJECTS = xmms_la-xmms.lo
+xmms_la_OBJECTS = $(am_xmms_la_OBJECTS)
+@BUILD_PLUGIN_XMMS_TRUE@am_xmms_la_rpath = -rpath $(pkglibdir)
 binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 sbinPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 PROGRAMS = $(bin_PROGRAMS) $(sbin_PROGRAMS)
 am_collectd_OBJECTS = collectd-collectd.$(OBJEXT) \
 	collectd-utils_avltree.$(OBJEXT) \
 	collectd-utils_mount.$(OBJEXT) collectd-utils_llist.$(OBJEXT) \
@@ -468,61 +488,62 @@
 	collectd-plugin.$(OBJEXT) collectd-configfile.$(OBJEXT) \
 	collectd-types_list.$(OBJEXT)
 collectd_OBJECTS = $(am_collectd_OBJECTS)
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@am__DEPENDENCIES_4 =  \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	$(am__DEPENDENCIES_1) \
 @BUILD_WITH_OWN_LIBOCONFIG_TRUE@	liboconfig/liboconfig.la
-@BUILD_MODULE_APACHE_TRUE@am__DEPENDENCIES_5 = "-dlopen" apache.la
-@BUILD_MODULE_APCUPS_TRUE@am__DEPENDENCIES_6 = "-dlopen" apcups.la
-@BUILD_MODULE_APPLE_SENSORS_TRUE@am__DEPENDENCIES_7 = "-dlopen" \
-@BUILD_MODULE_APPLE_SENSORS_TRUE@	apple_sensors.la
-@BUILD_MODULE_BATTERY_TRUE@am__DEPENDENCIES_8 = "-dlopen" battery.la
-@BUILD_MODULE_CPU_TRUE@am__DEPENDENCIES_9 = "-dlopen" cpu.la
-@BUILD_MODULE_CPUFREQ_TRUE@am__DEPENDENCIES_10 = "-dlopen" cpufreq.la
-@BUILD_MODULE_CSV_TRUE@am__DEPENDENCIES_11 = "-dlopen" csv.la
-@BUILD_MODULE_DF_TRUE@am__DEPENDENCIES_12 = "-dlopen" df.la
-@BUILD_MODULE_DISK_TRUE@am__DEPENDENCIES_13 = "-dlopen" disk.la
-@BUILD_MODULE_DNS_TRUE@am__DEPENDENCIES_14 = "-dlopen" dns.la
-@BUILD_MODULE_EMAIL_TRUE@am__DEPENDENCIES_15 = "-dlopen" email.la
-@BUILD_MODULE_ENTROPY_TRUE@am__DEPENDENCIES_16 = "-dlopen" entropy.la
-@BUILD_MODULE_EXEC_TRUE@am__DEPENDENCIES_17 = "-dlopen" exec.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__DEPENDENCIES_18 = "-dlopen" hddtemp.la
-@BUILD_MODULE_INTERFACE_TRUE@am__DEPENDENCIES_19 = "-dlopen" \
-@BUILD_MODULE_INTERFACE_TRUE@	interface.la
-@BUILD_MODULE_IPTABLES_TRUE@am__DEPENDENCIES_20 = "-dlopen" \
-@BUILD_MODULE_IPTABLES_TRUE@	iptables.la
-@BUILD_MODULE_IRQ_TRUE@am__DEPENDENCIES_21 = "-dlopen" irq.la
-@BUILD_MODULE_LOAD_TRUE@am__DEPENDENCIES_22 = "-dlopen" load.la
-@BUILD_MODULE_LOGFILE_TRUE@am__DEPENDENCIES_23 = "-dlopen" logfile.la
-@BUILD_MODULE_MBMON_TRUE@am__DEPENDENCIES_24 = "-dlopen" mbmon.la
-@BUILD_MODULE_MEMORY_TRUE@am__DEPENDENCIES_25 = "-dlopen" memory.la
-@BUILD_MODULE_MULTIMETER_TRUE@am__DEPENDENCIES_26 = "-dlopen" \
-@BUILD_MODULE_MULTIMETER_TRUE@	multimeter.la
-@BUILD_MODULE_MYSQL_TRUE@am__DEPENDENCIES_27 = "-dlopen" mysql.la
-@BUILD_MODULE_NETWORK_TRUE@am__DEPENDENCIES_28 = "-dlopen" network.la
-@BUILD_MODULE_NFS_TRUE@am__DEPENDENCIES_29 = "-dlopen" nfs.la
-@BUILD_MODULE_NTPD_TRUE@am__DEPENDENCIES_30 = "-dlopen" ntpd.la
-@BUILD_MODULE_NUT_TRUE@am__DEPENDENCIES_31 = "-dlopen" nut.la
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@am__DEPENDENCIES_32 =  \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@	"-dlopen" \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@	perl.la
-@BUILD_MODULE_PING_TRUE@am__DEPENDENCIES_33 = "-dlopen" ping.la
-@BUILD_MODULE_PROCESSES_TRUE@am__DEPENDENCIES_34 = "-dlopen" \
-@BUILD_MODULE_PROCESSES_TRUE@	processes.la
-@BUILD_WITH_RRDTOOL_TRUE@am__DEPENDENCIES_35 = "-dlopen" rrdtool.la
-@BUILD_MODULE_SENSORS_TRUE@am__DEPENDENCIES_36 = "-dlopen" sensors.la
-@BUILD_MODULE_SERIAL_TRUE@am__DEPENDENCIES_37 = "-dlopen" serial.la
-@BUILD_MODULE_SWAP_TRUE@am__DEPENDENCIES_38 = "-dlopen" swap.la
-@BUILD_MODULE_SYSLOG_TRUE@am__DEPENDENCIES_39 = "-dlopen" syslog.la
-@BUILD_MODULE_TAPE_TRUE@am__DEPENDENCIES_40 = "-dlopen" tape.la
-@BUILD_MODULE_UNIXSOCK_TRUE@am__DEPENDENCIES_41 = "-dlopen" \
-@BUILD_MODULE_UNIXSOCK_TRUE@	unixsock.la
-@BUILD_MODULE_USERS_TRUE@am__DEPENDENCIES_42 = "-dlopen" users.la
-@BUILD_MODULE_VSERVER_TRUE@am__DEPENDENCIES_43 = "-dlopen" vserver.la
-@BUILD_MODULE_WIRELESS_TRUE@am__DEPENDENCIES_44 = "-dlopen" \
-@BUILD_MODULE_WIRELESS_TRUE@	wireless.la
+@BUILD_PLUGIN_APACHE_TRUE@am__DEPENDENCIES_5 = "-dlopen" apache.la
+@BUILD_PLUGIN_APCUPS_TRUE@am__DEPENDENCIES_6 = "-dlopen" apcups.la
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@am__DEPENDENCIES_7 = "-dlopen" \
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@	apple_sensors.la
+@BUILD_PLUGIN_BATTERY_TRUE@am__DEPENDENCIES_8 = "-dlopen" battery.la
+@BUILD_PLUGIN_CPU_TRUE@am__DEPENDENCIES_9 = "-dlopen" cpu.la
+@BUILD_PLUGIN_CPUFREQ_TRUE@am__DEPENDENCIES_10 = "-dlopen" cpufreq.la
+@BUILD_PLUGIN_CSV_TRUE@am__DEPENDENCIES_11 = "-dlopen" csv.la
+@BUILD_PLUGIN_DF_TRUE@am__DEPENDENCIES_12 = "-dlopen" df.la
+@BUILD_PLUGIN_DISK_TRUE@am__DEPENDENCIES_13 = "-dlopen" disk.la
+@BUILD_PLUGIN_DNS_TRUE@am__DEPENDENCIES_14 = "-dlopen" dns.la
+@BUILD_PLUGIN_EMAIL_TRUE@am__DEPENDENCIES_15 = "-dlopen" email.la
+@BUILD_PLUGIN_ENTROPY_TRUE@am__DEPENDENCIES_16 = "-dlopen" entropy.la
+@BUILD_PLUGIN_EXEC_TRUE@am__DEPENDENCIES_17 = "-dlopen" exec.la
+@BUILD_PLUGIN_HDDTEMP_TRUE@am__DEPENDENCIES_18 = "-dlopen" hddtemp.la
+@BUILD_PLUGIN_INTERFACE_TRUE@am__DEPENDENCIES_19 = "-dlopen" \
+@BUILD_PLUGIN_INTERFACE_TRUE@	interface.la
+@BUILD_PLUGIN_IPTABLES_TRUE@am__DEPENDENCIES_20 = "-dlopen" \
+@BUILD_PLUGIN_IPTABLES_TRUE@	iptables.la
+@BUILD_PLUGIN_IRQ_TRUE@am__DEPENDENCIES_21 = "-dlopen" irq.la
+@BUILD_PLUGIN_LOAD_TRUE@am__DEPENDENCIES_22 = "-dlopen" load.la
+@BUILD_PLUGIN_LOGFILE_TRUE@am__DEPENDENCIES_23 = "-dlopen" logfile.la
+@BUILD_PLUGIN_MBMON_TRUE@am__DEPENDENCIES_24 = "-dlopen" mbmon.la
+@BUILD_PLUGIN_MEMORY_TRUE@am__DEPENDENCIES_25 = "-dlopen" memory.la
+@BUILD_PLUGIN_MULTIMETER_TRUE@am__DEPENDENCIES_26 = "-dlopen" \
+@BUILD_PLUGIN_MULTIMETER_TRUE@	multimeter.la
+@BUILD_PLUGIN_MYSQL_TRUE@am__DEPENDENCIES_27 = "-dlopen" mysql.la
+@BUILD_PLUGIN_NETLINK_TRUE@am__DEPENDENCIES_28 = "-dlopen" netlink.la
+@BUILD_PLUGIN_NETWORK_TRUE@am__DEPENDENCIES_29 = "-dlopen" network.la
+@BUILD_PLUGIN_NFS_TRUE@am__DEPENDENCIES_30 = "-dlopen" nfs.la
+@BUILD_PLUGIN_NTPD_TRUE@am__DEPENDENCIES_31 = "-dlopen" ntpd.la
+@BUILD_PLUGIN_NUT_TRUE@am__DEPENDENCIES_32 = "-dlopen" nut.la
+@BUILD_PLUGIN_PERL_TRUE@am__DEPENDENCIES_33 = "-dlopen" perl.la
+@BUILD_PLUGIN_PING_TRUE@am__DEPENDENCIES_34 = "-dlopen" ping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@am__DEPENDENCIES_35 = "-dlopen" \
+@BUILD_PLUGIN_PROCESSES_TRUE@	processes.la
+@BUILD_PLUGIN_RRDTOOL_TRUE@am__DEPENDENCIES_36 = "-dlopen" rrdtool.la
+@BUILD_PLUGIN_SENSORS_TRUE@am__DEPENDENCIES_37 = "-dlopen" sensors.la
+@BUILD_PLUGIN_SERIAL_TRUE@am__DEPENDENCIES_38 = "-dlopen" serial.la
+@BUILD_PLUGIN_SNMP_TRUE@am__DEPENDENCIES_39 = "-dlopen" snmp.la
+@BUILD_PLUGIN_SWAP_TRUE@am__DEPENDENCIES_40 = "-dlopen" swap.la
+@BUILD_PLUGIN_SYSLOG_TRUE@am__DEPENDENCIES_41 = "-dlopen" syslog.la
+@BUILD_PLUGIN_TAPE_TRUE@am__DEPENDENCIES_42 = "-dlopen" tape.la
+@BUILD_PLUGIN_UNIXSOCK_TRUE@am__DEPENDENCIES_43 = "-dlopen" \
+@BUILD_PLUGIN_UNIXSOCK_TRUE@	unixsock.la
+@BUILD_PLUGIN_USERS_TRUE@am__DEPENDENCIES_44 = "-dlopen" users.la
+@BUILD_PLUGIN_VSERVER_TRUE@am__DEPENDENCIES_45 = "-dlopen" vserver.la
+@BUILD_PLUGIN_WIRELESS_TRUE@am__DEPENDENCIES_46 = "-dlopen" \
+@BUILD_PLUGIN_WIRELESS_TRUE@	wireless.la
+@BUILD_PLUGIN_XMMS_TRUE@am__DEPENDENCIES_47 = "-dlopen" xmms.la
 am_collectd_nagios_OBJECTS = collectd-nagios.$(OBJEXT)
 collectd_nagios_OBJECTS = $(am_collectd_nagios_OBJECTS)
 collectd_nagios_LDADD = $(LDADD)
 DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
@@ -540,19 +561,20 @@
 	$(df_la_SOURCES) $(disk_la_SOURCES) $(dns_la_SOURCES) \
 	$(email_la_SOURCES) $(entropy_la_SOURCES) $(exec_la_SOURCES) \
 	$(hddtemp_la_SOURCES) $(interface_la_SOURCES) \
 	$(iptables_la_SOURCES) $(irq_la_SOURCES) $(load_la_SOURCES) \
 	$(logfile_la_SOURCES) $(mbmon_la_SOURCES) $(memory_la_SOURCES) \
 	$(multimeter_la_SOURCES) $(mysql_la_SOURCES) \
-	$(network_la_SOURCES) $(nfs_la_SOURCES) $(ntpd_la_SOURCES) \
-	$(nut_la_SOURCES) $(perl_la_SOURCES) $(ping_la_SOURCES) \
-	$(processes_la_SOURCES) $(rrdtool_la_SOURCES) \
-	$(sensors_la_SOURCES) $(serial_la_SOURCES) $(swap_la_SOURCES) \
+	$(netlink_la_SOURCES) $(network_la_SOURCES) $(nfs_la_SOURCES) \
+	$(ntpd_la_SOURCES) $(nut_la_SOURCES) $(perl_la_SOURCES) \
+	$(ping_la_SOURCES) $(processes_la_SOURCES) \
+	$(rrdtool_la_SOURCES) $(sensors_la_SOURCES) \
+	$(serial_la_SOURCES) $(snmp_la_SOURCES) $(swap_la_SOURCES) \
 	$(syslog_la_SOURCES) $(tape_la_SOURCES) $(unixsock_la_SOURCES) \
 	$(users_la_SOURCES) $(vserver_la_SOURCES) \
-	$(wireless_la_SOURCES) $(collectd_SOURCES) \
+	$(wireless_la_SOURCES) $(xmms_la_SOURCES) $(collectd_SOURCES) \
 	$(collectd_nagios_SOURCES)
 DIST_SOURCES = $(am__apache_la_SOURCES_DIST) \
 	$(am__apcups_la_SOURCES_DIST) \
 	$(am__apple_sensors_la_SOURCES_DIST) \
 	$(am__battery_la_SOURCES_DIST) $(am__cpu_la_SOURCES_DIST) \
 	$(am__cpufreq_la_SOURCES_DIST) $(am__csv_la_SOURCES_DIST) \
@@ -562,21 +584,22 @@
 	$(am__hddtemp_la_SOURCES_DIST) \
 	$(am__interface_la_SOURCES_DIST) \
 	$(am__iptables_la_SOURCES_DIST) $(am__irq_la_SOURCES_DIST) \
 	$(am__load_la_SOURCES_DIST) $(am__logfile_la_SOURCES_DIST) \
 	$(am__mbmon_la_SOURCES_DIST) $(am__memory_la_SOURCES_DIST) \
 	$(am__multimeter_la_SOURCES_DIST) $(am__mysql_la_SOURCES_DIST) \
-	$(am__network_la_SOURCES_DIST) $(am__nfs_la_SOURCES_DIST) \
-	$(am__ntpd_la_SOURCES_DIST) $(am__nut_la_SOURCES_DIST) \
-	$(am__perl_la_SOURCES_DIST) $(am__ping_la_SOURCES_DIST) \
-	$(am__processes_la_SOURCES_DIST) \
+	$(am__netlink_la_SOURCES_DIST) $(am__network_la_SOURCES_DIST) \
+	$(am__nfs_la_SOURCES_DIST) $(am__ntpd_la_SOURCES_DIST) \
+	$(am__nut_la_SOURCES_DIST) $(am__perl_la_SOURCES_DIST) \
+	$(am__ping_la_SOURCES_DIST) $(am__processes_la_SOURCES_DIST) \
 	$(am__rrdtool_la_SOURCES_DIST) $(am__sensors_la_SOURCES_DIST) \
-	$(am__serial_la_SOURCES_DIST) $(am__swap_la_SOURCES_DIST) \
-	$(am__syslog_la_SOURCES_DIST) $(am__tape_la_SOURCES_DIST) \
-	$(am__unixsock_la_SOURCES_DIST) $(am__users_la_SOURCES_DIST) \
-	$(am__vserver_la_SOURCES_DIST) $(am__wireless_la_SOURCES_DIST) \
+	$(am__serial_la_SOURCES_DIST) $(am__snmp_la_SOURCES_DIST) \
+	$(am__swap_la_SOURCES_DIST) $(am__syslog_la_SOURCES_DIST) \
+	$(am__tape_la_SOURCES_DIST) $(am__unixsock_la_SOURCES_DIST) \
+	$(am__users_la_SOURCES_DIST) $(am__vserver_la_SOURCES_DIST) \
+	$(am__wireless_la_SOURCES_DIST) $(am__xmms_la_SOURCES_DIST) \
 	$(collectd_SOURCES) $(collectd_nagios_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
 	html-recursive info-recursive install-data-recursive \
 	install-exec-recursive install-info-recursive \
 	install-recursive installcheck-recursive installdirs-recursive \
 	pdf-recursive ps-recursive uninstall-info-recursive \
@@ -601,90 +624,98 @@
 BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
 BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
 BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
 BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_FEATURE_GETIFADDRS_FALSE = @BUILD_FEATURE_GETIFADDRS_FALSE@
 BUILD_FEATURE_GETIFADDRS_TRUE = @BUILD_FEATURE_GETIFADDRS_TRUE@
-BUILD_MODULE_APACHE_FALSE = @BUILD_MODULE_APACHE_FALSE@
-BUILD_MODULE_APACHE_TRUE = @BUILD_MODULE_APACHE_TRUE@
-BUILD_MODULE_APCUPS_FALSE = @BUILD_MODULE_APCUPS_FALSE@
-BUILD_MODULE_APCUPS_TRUE = @BUILD_MODULE_APCUPS_TRUE@
-BUILD_MODULE_APPLE_SENSORS_FALSE = @BUILD_MODULE_APPLE_SENSORS_FALSE@
-BUILD_MODULE_APPLE_SENSORS_TRUE = @BUILD_MODULE_APPLE_SENSORS_TRUE@
-BUILD_MODULE_BATTERY_FALSE = @BUILD_MODULE_BATTERY_FALSE@
-BUILD_MODULE_BATTERY_TRUE = @BUILD_MODULE_BATTERY_TRUE@
-BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
-BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
-BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
-BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
-BUILD_MODULE_CSV_FALSE = @BUILD_MODULE_CSV_FALSE@
-BUILD_MODULE_CSV_TRUE = @BUILD_MODULE_CSV_TRUE@
-BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
-BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
-BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
-BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
-BUILD_MODULE_DNS_FALSE = @BUILD_MODULE_DNS_FALSE@
-BUILD_MODULE_DNS_TRUE = @BUILD_MODULE_DNS_TRUE@
-BUILD_MODULE_EMAIL_FALSE = @BUILD_MODULE_EMAIL_FALSE@
-BUILD_MODULE_EMAIL_TRUE = @BUILD_MODULE_EMAIL_TRUE@
-BUILD_MODULE_ENTROPY_FALSE = @BUILD_MODULE_ENTROPY_FALSE@
-BUILD_MODULE_ENTROPY_TRUE = @BUILD_MODULE_ENTROPY_TRUE@
-BUILD_MODULE_EXEC_FALSE = @BUILD_MODULE_EXEC_FALSE@
-BUILD_MODULE_EXEC_TRUE = @BUILD_MODULE_EXEC_TRUE@
-BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
-BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
-BUILD_MODULE_INTERFACE_FALSE = @BUILD_MODULE_INTERFACE_FALSE@
-BUILD_MODULE_INTERFACE_TRUE = @BUILD_MODULE_INTERFACE_TRUE@
-BUILD_MODULE_IPTABLES_FALSE = @BUILD_MODULE_IPTABLES_FALSE@
-BUILD_MODULE_IPTABLES_TRUE = @BUILD_MODULE_IPTABLES_TRUE@
-BUILD_MODULE_IRQ_FALSE = @BUILD_MODULE_IRQ_FALSE@
-BUILD_MODULE_IRQ_TRUE = @BUILD_MODULE_IRQ_TRUE@
-BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
-BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
-BUILD_MODULE_LOGFILE_FALSE = @BUILD_MODULE_LOGFILE_FALSE@
-BUILD_MODULE_LOGFILE_TRUE = @BUILD_MODULE_LOGFILE_TRUE@
-BUILD_MODULE_MBMON_FALSE = @BUILD_MODULE_MBMON_FALSE@
-BUILD_MODULE_MBMON_TRUE = @BUILD_MODULE_MBMON_TRUE@
-BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
-BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
-BUILD_MODULE_MULTIMETER_FALSE = @BUILD_MODULE_MULTIMETER_FALSE@
-BUILD_MODULE_MULTIMETER_TRUE = @BUILD_MODULE_MULTIMETER_TRUE@
-BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
-BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
-BUILD_MODULE_NETWORK_FALSE = @BUILD_MODULE_NETWORK_FALSE@
-BUILD_MODULE_NETWORK_TRUE = @BUILD_MODULE_NETWORK_TRUE@
-BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
-BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
-BUILD_MODULE_NTPD_FALSE = @BUILD_MODULE_NTPD_FALSE@
-BUILD_MODULE_NTPD_TRUE = @BUILD_MODULE_NTPD_TRUE@
-BUILD_MODULE_NUT_FALSE = @BUILD_MODULE_NUT_FALSE@
-BUILD_MODULE_NUT_TRUE = @BUILD_MODULE_NUT_TRUE@
-BUILD_MODULE_PERL_FALSE = @BUILD_MODULE_PERL_FALSE@
-BUILD_MODULE_PERL_TRUE = @BUILD_MODULE_PERL_TRUE@
-BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
-BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
-BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
-BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
-BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
-BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
-BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
-BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
-BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
-BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
-BUILD_MODULE_SYSLOG_FALSE = @BUILD_MODULE_SYSLOG_FALSE@
-BUILD_MODULE_SYSLOG_TRUE = @BUILD_MODULE_SYSLOG_TRUE@
-BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
-BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
-BUILD_MODULE_UNIXSOCK_FALSE = @BUILD_MODULE_UNIXSOCK_FALSE@
-BUILD_MODULE_UNIXSOCK_TRUE = @BUILD_MODULE_UNIXSOCK_TRUE@
-BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
-BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
-BUILD_MODULE_VSERVER_FALSE = @BUILD_MODULE_VSERVER_FALSE@
-BUILD_MODULE_VSERVER_TRUE = @BUILD_MODULE_VSERVER_TRUE@
-BUILD_MODULE_WIRELESS_FALSE = @BUILD_MODULE_WIRELESS_FALSE@
-BUILD_MODULE_WIRELESS_TRUE = @BUILD_MODULE_WIRELESS_TRUE@
+BUILD_PLUGIN_APACHE_FALSE = @BUILD_PLUGIN_APACHE_FALSE@
+BUILD_PLUGIN_APACHE_TRUE = @BUILD_PLUGIN_APACHE_TRUE@
+BUILD_PLUGIN_APCUPS_FALSE = @BUILD_PLUGIN_APCUPS_FALSE@
+BUILD_PLUGIN_APCUPS_TRUE = @BUILD_PLUGIN_APCUPS_TRUE@
+BUILD_PLUGIN_APPLE_SENSORS_FALSE = @BUILD_PLUGIN_APPLE_SENSORS_FALSE@
+BUILD_PLUGIN_APPLE_SENSORS_TRUE = @BUILD_PLUGIN_APPLE_SENSORS_TRUE@
+BUILD_PLUGIN_BATTERY_FALSE = @BUILD_PLUGIN_BATTERY_FALSE@
+BUILD_PLUGIN_BATTERY_TRUE = @BUILD_PLUGIN_BATTERY_TRUE@
+BUILD_PLUGIN_CPUFREQ_FALSE = @BUILD_PLUGIN_CPUFREQ_FALSE@
+BUILD_PLUGIN_CPUFREQ_TRUE = @BUILD_PLUGIN_CPUFREQ_TRUE@
+BUILD_PLUGIN_CPU_FALSE = @BUILD_PLUGIN_CPU_FALSE@
+BUILD_PLUGIN_CPU_TRUE = @BUILD_PLUGIN_CPU_TRUE@
+BUILD_PLUGIN_CSV_FALSE = @BUILD_PLUGIN_CSV_FALSE@
+BUILD_PLUGIN_CSV_TRUE = @BUILD_PLUGIN_CSV_TRUE@
+BUILD_PLUGIN_DF_FALSE = @BUILD_PLUGIN_DF_FALSE@
+BUILD_PLUGIN_DF_TRUE = @BUILD_PLUGIN_DF_TRUE@
+BUILD_PLUGIN_DISK_FALSE = @BUILD_PLUGIN_DISK_FALSE@
+BUILD_PLUGIN_DISK_TRUE = @BUILD_PLUGIN_DISK_TRUE@
+BUILD_PLUGIN_DNS_FALSE = @BUILD_PLUGIN_DNS_FALSE@
+BUILD_PLUGIN_DNS_TRUE = @BUILD_PLUGIN_DNS_TRUE@
+BUILD_PLUGIN_EMAIL_FALSE = @BUILD_PLUGIN_EMAIL_FALSE@
+BUILD_PLUGIN_EMAIL_TRUE = @BUILD_PLUGIN_EMAIL_TRUE@
+BUILD_PLUGIN_ENTROPY_FALSE = @BUILD_PLUGIN_ENTROPY_FALSE@
+BUILD_PLUGIN_ENTROPY_TRUE = @BUILD_PLUGIN_ENTROPY_TRUE@
+BUILD_PLUGIN_EXEC_FALSE = @BUILD_PLUGIN_EXEC_FALSE@
+BUILD_PLUGIN_EXEC_TRUE = @BUILD_PLUGIN_EXEC_TRUE@
+BUILD_PLUGIN_HDDTEMP_FALSE = @BUILD_PLUGIN_HDDTEMP_FALSE@
+BUILD_PLUGIN_HDDTEMP_TRUE = @BUILD_PLUGIN_HDDTEMP_TRUE@
+BUILD_PLUGIN_INTERFACE_FALSE = @BUILD_PLUGIN_INTERFACE_FALSE@
+BUILD_PLUGIN_INTERFACE_TRUE = @BUILD_PLUGIN_INTERFACE_TRUE@
+BUILD_PLUGIN_IPTABLES_FALSE = @BUILD_PLUGIN_IPTABLES_FALSE@
+BUILD_PLUGIN_IPTABLES_TRUE = @BUILD_PLUGIN_IPTABLES_TRUE@
+BUILD_PLUGIN_IRQ_FALSE = @BUILD_PLUGIN_IRQ_FALSE@
+BUILD_PLUGIN_IRQ_TRUE = @BUILD_PLUGIN_IRQ_TRUE@
+BUILD_PLUGIN_LOAD_FALSE = @BUILD_PLUGIN_LOAD_FALSE@
+BUILD_PLUGIN_LOAD_TRUE = @BUILD_PLUGIN_LOAD_TRUE@
+BUILD_PLUGIN_LOGFILE_FALSE = @BUILD_PLUGIN_LOGFILE_FALSE@
+BUILD_PLUGIN_LOGFILE_TRUE = @BUILD_PLUGIN_LOGFILE_TRUE@
+BUILD_PLUGIN_MBMON_FALSE = @BUILD_PLUGIN_MBMON_FALSE@
+BUILD_PLUGIN_MBMON_TRUE = @BUILD_PLUGIN_MBMON_TRUE@
+BUILD_PLUGIN_MEMORY_FALSE = @BUILD_PLUGIN_MEMORY_FALSE@
+BUILD_PLUGIN_MEMORY_TRUE = @BUILD_PLUGIN_MEMORY_TRUE@
+BUILD_PLUGIN_MULTIMETER_FALSE = @BUILD_PLUGIN_MULTIMETER_FALSE@
+BUILD_PLUGIN_MULTIMETER_TRUE = @BUILD_PLUGIN_MULTIMETER_TRUE@
+BUILD_PLUGIN_MYSQL_FALSE = @BUILD_PLUGIN_MYSQL_FALSE@
+BUILD_PLUGIN_MYSQL_TRUE = @BUILD_PLUGIN_MYSQL_TRUE@
+BUILD_PLUGIN_NETLINK_FALSE = @BUILD_PLUGIN_NETLINK_FALSE@
+BUILD_PLUGIN_NETLINK_TRUE = @BUILD_PLUGIN_NETLINK_TRUE@
+BUILD_PLUGIN_NETWORK_FALSE = @BUILD_PLUGIN_NETWORK_FALSE@
+BUILD_PLUGIN_NETWORK_TRUE = @BUILD_PLUGIN_NETWORK_TRUE@
+BUILD_PLUGIN_NFS_FALSE = @BUILD_PLUGIN_NFS_FALSE@
+BUILD_PLUGIN_NFS_TRUE = @BUILD_PLUGIN_NFS_TRUE@
+BUILD_PLUGIN_NTPD_FALSE = @BUILD_PLUGIN_NTPD_FALSE@
+BUILD_PLUGIN_NTPD_TRUE = @BUILD_PLUGIN_NTPD_TRUE@
+BUILD_PLUGIN_NUT_FALSE = @BUILD_PLUGIN_NUT_FALSE@
+BUILD_PLUGIN_NUT_TRUE = @BUILD_PLUGIN_NUT_TRUE@
+BUILD_PLUGIN_PERL_FALSE = @BUILD_PLUGIN_PERL_FALSE@
+BUILD_PLUGIN_PERL_TRUE = @BUILD_PLUGIN_PERL_TRUE@
+BUILD_PLUGIN_PING_FALSE = @BUILD_PLUGIN_PING_FALSE@
+BUILD_PLUGIN_PING_TRUE = @BUILD_PLUGIN_PING_TRUE@
+BUILD_PLUGIN_PROCESSES_FALSE = @BUILD_PLUGIN_PROCESSES_FALSE@
+BUILD_PLUGIN_PROCESSES_TRUE = @BUILD_PLUGIN_PROCESSES_TRUE@
+BUILD_PLUGIN_RRDTOOL_FALSE = @BUILD_PLUGIN_RRDTOOL_FALSE@
+BUILD_PLUGIN_RRDTOOL_TRUE = @BUILD_PLUGIN_RRDTOOL_TRUE@
+BUILD_PLUGIN_SENSORS_FALSE = @BUILD_PLUGIN_SENSORS_FALSE@
+BUILD_PLUGIN_SENSORS_TRUE = @BUILD_PLUGIN_SENSORS_TRUE@
+BUILD_PLUGIN_SERIAL_FALSE = @BUILD_PLUGIN_SERIAL_FALSE@
+BUILD_PLUGIN_SERIAL_TRUE = @BUILD_PLUGIN_SERIAL_TRUE@
+BUILD_PLUGIN_SNMP_FALSE = @BUILD_PLUGIN_SNMP_FALSE@
+BUILD_PLUGIN_SNMP_TRUE = @BUILD_PLUGIN_SNMP_TRUE@
+BUILD_PLUGIN_SWAP_FALSE = @BUILD_PLUGIN_SWAP_FALSE@
+BUILD_PLUGIN_SWAP_TRUE = @BUILD_PLUGIN_SWAP_TRUE@
+BUILD_PLUGIN_SYSLOG_FALSE = @BUILD_PLUGIN_SYSLOG_FALSE@
+BUILD_PLUGIN_SYSLOG_TRUE = @BUILD_PLUGIN_SYSLOG_TRUE@
+BUILD_PLUGIN_TAPE_FALSE = @BUILD_PLUGIN_TAPE_FALSE@
+BUILD_PLUGIN_TAPE_TRUE = @BUILD_PLUGIN_TAPE_TRUE@
+BUILD_PLUGIN_UNIXSOCK_FALSE = @BUILD_PLUGIN_UNIXSOCK_FALSE@
+BUILD_PLUGIN_UNIXSOCK_TRUE = @BUILD_PLUGIN_UNIXSOCK_TRUE@
+BUILD_PLUGIN_USERS_FALSE = @BUILD_PLUGIN_USERS_FALSE@
+BUILD_PLUGIN_USERS_TRUE = @BUILD_PLUGIN_USERS_TRUE@
+BUILD_PLUGIN_VSERVER_FALSE = @BUILD_PLUGIN_VSERVER_FALSE@
+BUILD_PLUGIN_VSERVER_TRUE = @BUILD_PLUGIN_VSERVER_TRUE@
+BUILD_PLUGIN_WIRELESS_FALSE = @BUILD_PLUGIN_WIRELESS_FALSE@
+BUILD_PLUGIN_WIRELESS_TRUE = @BUILD_PLUGIN_WIRELESS_TRUE@
+BUILD_PLUGIN_XMMS_FALSE = @BUILD_PLUGIN_XMMS_FALSE@
+BUILD_PLUGIN_XMMS_TRUE = @BUILD_PLUGIN_XMMS_TRUE@
 BUILD_WITH_LIBCURL_CFLAGS = @BUILD_WITH_LIBCURL_CFLAGS@
 BUILD_WITH_LIBCURL_FALSE = @BUILD_WITH_LIBCURL_FALSE@
 BUILD_WITH_LIBCURL_LIBS = @BUILD_WITH_LIBCURL_LIBS@
 BUILD_WITH_LIBCURL_TRUE = @BUILD_WITH_LIBCURL_TRUE@
 BUILD_WITH_LIBDEVINFO_FALSE = @BUILD_WITH_LIBDEVINFO_FALSE@
 BUILD_WITH_LIBDEVINFO_TRUE = @BUILD_WITH_LIBDEVINFO_TRUE@
@@ -699,12 +730,18 @@
 BUILD_WITH_LIBKVM_FALSE = @BUILD_WITH_LIBKVM_FALSE@
 BUILD_WITH_LIBKVM_TRUE = @BUILD_WITH_LIBKVM_TRUE@
 BUILD_WITH_LIBMYSQL_CFLAGS = @BUILD_WITH_LIBMYSQL_CFLAGS@
 BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
 BUILD_WITH_LIBMYSQL_LIBS = @BUILD_WITH_LIBMYSQL_LIBS@
 BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBNETLINK_CFLAGS = @BUILD_WITH_LIBNETLINK_CFLAGS@
+BUILD_WITH_LIBNETLINK_FALSE = @BUILD_WITH_LIBNETLINK_FALSE@
+BUILD_WITH_LIBNETLINK_LIBS = @BUILD_WITH_LIBNETLINK_LIBS@
+BUILD_WITH_LIBNETLINK_TRUE = @BUILD_WITH_LIBNETLINK_TRUE@
+BUILD_WITH_LIBNETSNMP_FALSE = @BUILD_WITH_LIBNETSNMP_FALSE@
+BUILD_WITH_LIBNETSNMP_TRUE = @BUILD_WITH_LIBNETSNMP_TRUE@
 BUILD_WITH_LIBOPING_FALSE = @BUILD_WITH_LIBOPING_FALSE@
 BUILD_WITH_LIBOPING_TRUE = @BUILD_WITH_LIBOPING_TRUE@
 BUILD_WITH_LIBPCAP_FALSE = @BUILD_WITH_LIBPCAP_FALSE@
 BUILD_WITH_LIBPCAP_TRUE = @BUILD_WITH_LIBPCAP_TRUE@
 BUILD_WITH_LIBPERL_FALSE = @BUILD_WITH_LIBPERL_FALSE@
 BUILD_WITH_LIBPERL_TRUE = @BUILD_WITH_LIBPERL_TRUE@
@@ -715,14 +752,20 @@
 BUILD_WITH_LIBRT_FALSE = @BUILD_WITH_LIBRT_FALSE@
 BUILD_WITH_LIBRT_TRUE = @BUILD_WITH_LIBRT_TRUE@
 BUILD_WITH_LIBSOCKET_FALSE = @BUILD_WITH_LIBSOCKET_FALSE@
 BUILD_WITH_LIBSOCKET_TRUE = @BUILD_WITH_LIBSOCKET_TRUE@
 BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
 BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LIBUPSCLIENT_CFLAGS = @BUILD_WITH_LIBUPSCLIENT_CFLAGS@
 BUILD_WITH_LIBUPSCLIENT_FALSE = @BUILD_WITH_LIBUPSCLIENT_FALSE@
+BUILD_WITH_LIBUPSCLIENT_LIBS = @BUILD_WITH_LIBUPSCLIENT_LIBS@
 BUILD_WITH_LIBUPSCLIENT_TRUE = @BUILD_WITH_LIBUPSCLIENT_TRUE@
+BUILD_WITH_LIBXMMS_CFLAGS = @BUILD_WITH_LIBXMMS_CFLAGS@
+BUILD_WITH_LIBXMMS_FALSE = @BUILD_WITH_LIBXMMS_FALSE@
+BUILD_WITH_LIBXMMS_LIBS = @BUILD_WITH_LIBXMMS_LIBS@
+BUILD_WITH_LIBXMMS_TRUE = @BUILD_WITH_LIBXMMS_TRUE@
 BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
 BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_OWN_LIBOCONFIG_FALSE = @BUILD_WITH_OWN_LIBOCONFIG_FALSE@
 BUILD_WITH_OWN_LIBOCONFIG_TRUE = @BUILD_WITH_OWN_LIBOCONFIG_TRUE@
 BUILD_WITH_OWN_LIBOPING_FALSE = @BUILD_WITH_OWN_LIBOPING_FALSE@
 BUILD_WITH_OWN_LIBOPING_TRUE = @BUILD_WITH_OWN_LIBOPING_TRUE@
@@ -844,190 +887,199 @@
 		   plugin.c plugin.h \
 		   configfile.c configfile.h \
 		   types_list.c types_list.h
 
 collectd_CPPFLAGS = $(LTDLINCL) -DPREFIX='"${prefix}"' \
 	-DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"' \
+	-DLOCALSTATEDIR='"${localstatedir}"' \
 	-DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"' \
 	$(am__append_3) -DPLUGINDIR='"${pkglibdir}"'
 
 # Link to these libraries..
 collectd_LDFLAGS = -export-dynamic $(am__append_4) $(am__append_5) \
 	$(am__append_6) $(am__append_7) $(am__append_8) \
 	$(am__append_9) $(am__append_10) $(am__append_11) \
 	$(am__append_12) $(am__append_15)
 collectd_LDADD = $(am__append_13) $(am__append_18) $(am__append_24) \
-	$(am__append_28) $(am__append_32) $(am__append_37) \
-	$(am__append_40) $(am__append_43) $(am__append_46) \
-	$(am__append_52) $(am__append_58) $(am__append_62) \
-	$(am__append_65) $(am__append_69) $(am__append_73) \
-	$(am__append_76) $(am__append_85) $(am__append_88) \
-	$(am__append_91) $(am__append_97) $(am__append_101) \
-	$(am__append_104) $(am__append_112) $(am__append_115) \
-	$(am__append_122) $(am__append_125) $(am__append_129) \
-	$(am__append_134) $(am__append_137) $(am__append_141) \
-	$(am__append_144) $(am__append_147) $(am__append_151) \
-	$(am__append_154) $(am__append_157) $(am__append_165) \
-	$(am__append_170) $(am__append_173) $(am__append_176) \
-	$(am__append_179) $(am__append_182)
+	$(am__append_27) $(am__append_31) $(am__append_36) \
+	$(am__append_39) $(am__append_42) $(am__append_45) \
+	$(am__append_51) $(am__append_54) $(am__append_58) \
+	$(am__append_61) $(am__append_65) $(am__append_69) \
+	$(am__append_72) $(am__append_80) $(am__append_83) \
+	$(am__append_86) $(am__append_92) $(am__append_96) \
+	$(am__append_99) $(am__append_107) $(am__append_110) \
+	$(am__append_115) $(am__append_120) $(am__append_123) \
+	$(am__append_127) $(am__append_130) $(am__append_133) \
+	$(am__append_137) $(am__append_140) $(am__append_143) \
+	$(am__append_147) $(am__append_150) $(am__append_155) \
+	$(am__append_158) $(am__append_166) $(am__append_169) \
+	$(am__append_172) $(am__append_175) $(am__append_178) \
+	$(am__append_181) $(am__append_184)
 collectd_DEPENDENCIES = $(am__append_14) $(am__append_21) \
-	$(am__append_25) $(am__append_29) $(am__append_33) \
-	$(am__append_38) $(am__append_41) $(am__append_44) \
-	$(am__append_47) $(am__append_53) $(am__append_59) \
-	$(am__append_63) $(am__append_66) $(am__append_70) \
-	$(am__append_74) $(am__append_77) $(am__append_86) \
-	$(am__append_89) $(am__append_92) $(am__append_98) \
-	$(am__append_102) $(am__append_105) $(am__append_113) \
-	$(am__append_118) $(am__append_123) $(am__append_126) \
-	$(am__append_130) $(am__append_135) $(am__append_138) \
-	$(am__append_142) $(am__append_145) $(am__append_148) \
-	$(am__append_152) $(am__append_155) $(am__append_158) \
-	$(am__append_166) $(am__append_171) $(am__append_174) \
-	$(am__append_177) $(am__append_180) $(am__append_183)
+	$(am__append_25) $(am__append_28) $(am__append_32) \
+	$(am__append_37) $(am__append_40) $(am__append_43) \
+	$(am__append_46) $(am__append_52) $(am__append_55) \
+	$(am__append_59) $(am__append_62) $(am__append_66) \
+	$(am__append_70) $(am__append_73) $(am__append_81) \
+	$(am__append_84) $(am__append_87) $(am__append_93) \
+	$(am__append_97) $(am__append_100) $(am__append_108) \
+	$(am__append_113) $(am__append_116) $(am__append_121) \
+	$(am__append_124) $(am__append_128) $(am__append_131) \
+	$(am__append_134) $(am__append_138) $(am__append_141) \
+	$(am__append_144) $(am__append_148) $(am__append_151) \
+	$(am__append_156) $(am__append_159) $(am__append_167) \
+	$(am__append_170) $(am__append_173) $(am__append_176) \
+	$(am__append_179) $(am__append_182) $(am__append_185)
 collectd_nagios_SOURCES = collectd-nagios.c
 collectd_nagios_LDFLAGS = $(am__append_16)
 pkglib_LTLIBRARIES = $(am__append_17) $(am__append_22) \
-	$(am__append_26) $(am__append_30) $(am__append_34) \
-	$(am__append_39) $(am__append_42) $(am__append_45) \
-	$(am__append_48) $(am__append_54) $(am__append_60) \
-	$(am__append_64) $(am__append_67) $(am__append_71) \
-	$(am__append_75) $(am__append_83) $(am__append_87) \
-	$(am__append_90) $(am__append_96) $(am__append_99) \
-	$(am__append_103) $(am__append_111) $(am__append_114) \
-	$(am__append_119) $(am__append_124) $(am__append_127) \
-	$(am__append_131) $(am__append_136) $(am__append_139) \
-	$(am__append_143) $(am__append_146) $(am__append_149) \
-	$(am__append_153) $(am__append_156) $(am__append_164) \
-	$(am__append_167) $(am__append_172) $(am__append_175) \
-	$(am__append_178) $(am__append_181)
-@BUILD_MODULE_APACHE_TRUE@apache_la_SOURCES = apache.c
-@BUILD_MODULE_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_APACHE_TRUE@apache_la_CFLAGS = $(am__append_19)
-@BUILD_MODULE_APACHE_TRUE@apache_la_LIBADD = $(am__append_20)
-@BUILD_MODULE_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
-@BUILD_MODULE_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_APCUPS_TRUE@	$(am__append_23)
-@BUILD_MODULE_APPLE_SENSORS_TRUE@apple_sensors_la_SOURCES = apple_sensors.c
-@BUILD_MODULE_APPLE_SENSORS_TRUE@apple_sensors_la_LDFLAGS = -module \
-@BUILD_MODULE_APPLE_SENSORS_TRUE@	-avoid-version \
-@BUILD_MODULE_APPLE_SENSORS_TRUE@	$(am__append_27)
-@BUILD_MODULE_BATTERY_TRUE@battery_la_SOURCES = battery.c
-@BUILD_MODULE_BATTERY_TRUE@battery_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_BATTERY_TRUE@	$(am__append_31)
-@BUILD_MODULE_CPU_TRUE@cpu_la_SOURCES = cpu.c
-@BUILD_MODULE_CPU_TRUE@cpu_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_CPU_TRUE@	$(am__append_35) $(am__append_36)
-@BUILD_MODULE_CPUFREQ_TRUE@cpufreq_la_SOURCES = cpufreq.c
-@BUILD_MODULE_CPUFREQ_TRUE@cpufreq_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_CSV_TRUE@csv_la_SOURCES = csv.c
-@BUILD_MODULE_CSV_TRUE@csv_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_DF_TRUE@df_la_SOURCES = df.c
-@BUILD_MODULE_DF_TRUE@df_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_DISK_TRUE@disk_la_SOURCES = disk.c
-@BUILD_MODULE_DISK_TRUE@disk_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_DISK_TRUE@	$(am__append_49) $(am__append_50) \
-@BUILD_MODULE_DISK_TRUE@	$(am__append_51)
-@BUILD_MODULE_DNS_TRUE@dns_la_SOURCES = dns.c $(am__append_55)
-@BUILD_MODULE_DNS_TRUE@dns_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_DNS_TRUE@	$(am__append_56) $(am__append_57)
-@BUILD_MODULE_EMAIL_TRUE@email_la_SOURCES = email.c
-@BUILD_MODULE_EMAIL_TRUE@email_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_EMAIL_TRUE@	$(am__append_61)
-@BUILD_MODULE_ENTROPY_TRUE@entropy_la_SOURCES = entropy.c
-@BUILD_MODULE_ENTROPY_TRUE@entropy_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_EXEC_TRUE@exec_la_SOURCES = exec.c
-@BUILD_MODULE_EXEC_TRUE@exec_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_EXEC_TRUE@	$(am__append_68)
-@BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_SOURCES = hddtemp.c
-@BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_HDDTEMP_TRUE@	$(am__append_72)
-@BUILD_MODULE_INTERFACE_TRUE@interface_la_SOURCES = interface.c
-@BUILD_MODULE_INTERFACE_TRUE@interface_la_LDFLAGS = -module \
-@BUILD_MODULE_INTERFACE_TRUE@	-avoid-version $(am__append_78) \
-@BUILD_MODULE_INTERFACE_TRUE@	$(am__append_79) $(am__append_80) \
-@BUILD_MODULE_INTERFACE_TRUE@	$(am__append_81) $(am__append_82)
-@BUILD_MODULE_IPTABLES_TRUE@iptables_la_SOURCES = iptables.c
-@BUILD_MODULE_IPTABLES_TRUE@iptables_la_LDFLAGS = -module \
-@BUILD_MODULE_IPTABLES_TRUE@	-avoid-version $(am__append_84)
-@BUILD_MODULE_IRQ_TRUE@irq_la_SOURCES = irq.c
-@BUILD_MODULE_IRQ_TRUE@irq_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_LOAD_TRUE@load_la_SOURCES = load.c
-@BUILD_MODULE_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_LOAD_TRUE@	$(am__append_93) $(am__append_94) \
-@BUILD_MODULE_LOAD_TRUE@	$(am__append_95)
-@BUILD_MODULE_LOGFILE_TRUE@logfile_la_SOURCES = logfile.c
-@BUILD_MODULE_LOGFILE_TRUE@logfile_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
-@BUILD_MODULE_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_MBMON_TRUE@	$(am__append_100)
-@BUILD_MODULE_MEMORY_TRUE@memory_la_SOURCES = memory.c
-@BUILD_MODULE_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_MEMORY_TRUE@	$(am__append_106) $(am__append_107) \
-@BUILD_MODULE_MEMORY_TRUE@	$(am__append_108) $(am__append_109) \
-@BUILD_MODULE_MEMORY_TRUE@	$(am__append_110)
-@BUILD_MODULE_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
-@BUILD_MODULE_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
-@BUILD_MODULE_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_116)
-@BUILD_MODULE_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_117)
-@BUILD_MODULE_NETWORK_TRUE@network_la_SOURCES = network.c network.h
-@BUILD_MODULE_NETWORK_TRUE@network_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_NETWORK_TRUE@	$(am__append_120) $(am__append_121)
-@BUILD_MODULE_NFS_TRUE@nfs_la_SOURCES = nfs.c
-@BUILD_MODULE_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
-@BUILD_MODULE_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_NTPD_TRUE@	$(am__append_128)
-@BUILD_MODULE_NUT_TRUE@nut_la_SOURCES = nut.c
-@BUILD_MODULE_NUT_TRUE@nut_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_NUT_TRUE@	$(am__append_132) $(am__append_133)
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@perl_la_SOURCES = perl.c
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@perl_la_CFLAGS = $(AM_CFLAGS) \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@		  $(PERL_CFLAGS) \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@		  -DXS_VERSION=\"$(VERSION)\" -DVERSION=\"$(VERSION)\"
-
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@perl_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_PERL_TRUE@@BUILD_WITH_LIBPERL_TRUE@		  $(PERL_LDFLAGS)
-
-@BUILD_MODULE_PING_TRUE@ping_la_SOURCES = ping.c
-@BUILD_MODULE_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_PING_TRUE@	$(am__append_140)
-@BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_LIBADD = liboping/liboping.la
-@BUILD_MODULE_PING_TRUE@@BUILD_WITH_LIBOPING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_DEPENDENCIES = liboping/liboping.la
-@BUILD_MODULE_PROCESSES_TRUE@processes_la_SOURCES = processes.c
-@BUILD_MODULE_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
-@BUILD_WITH_RRDTOOL_TRUE@rrdtool_la_SOURCES = rrdtool.c
-@BUILD_WITH_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = -module -avoid-version -lrrd
-@BUILD_MODULE_SENSORS_TRUE@sensors_la_SOURCES = sensors.c
-@BUILD_MODULE_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_SENSORS_TRUE@	$(am__append_150)
-@BUILD_MODULE_SERIAL_TRUE@serial_la_SOURCES = serial.c
-@BUILD_MODULE_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_SWAP_TRUE@swap_la_SOURCES = swap.c
-@BUILD_MODULE_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_SWAP_TRUE@	$(am__append_159) $(am__append_160) \
-@BUILD_MODULE_SWAP_TRUE@	$(am__append_161) $(am__append_162) \
-@BUILD_MODULE_SWAP_TRUE@	$(am__append_163)
-@BUILD_MODULE_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
-@BUILD_MODULE_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_TAPE_TRUE@tape_la_SOURCES = tape.c
-@BUILD_MODULE_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version \
-@BUILD_MODULE_TAPE_TRUE@	$(am__append_168) $(am__append_169)
-@BUILD_MODULE_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c
-@BUILD_MODULE_UNIXSOCK_TRUE@unixsock_la_CPPFLAGS = -DPREFIX='"${prefix}"'
-@BUILD_MODULE_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = -module -avoid-version -lpthread
-@BUILD_MODULE_USERS_TRUE@users_la_SOURCES = users.c
-@BUILD_MODULE_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
-@BUILD_MODULE_VSERVER_TRUE@vserver_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_WIRELESS_TRUE@wireless_la_SOURCES = wireless.c
-@BUILD_MODULE_WIRELESS_TRUE@wireless_la_LDFLAGS = -module -avoid-version
+	$(am__append_26) $(am__append_29) $(am__append_33) \
+	$(am__append_38) $(am__append_41) $(am__append_44) \
+	$(am__append_47) $(am__append_53) $(am__append_56) \
+	$(am__append_60) $(am__append_63) $(am__append_67) \
+	$(am__append_71) $(am__append_79) $(am__append_82) \
+	$(am__append_85) $(am__append_91) $(am__append_94) \
+	$(am__append_98) $(am__append_106) $(am__append_109) \
+	$(am__append_114) $(am__append_117) $(am__append_122) \
+	$(am__append_125) $(am__append_129) $(am__append_132) \
+	$(am__append_135) $(am__append_139) $(am__append_142) \
+	$(am__append_145) $(am__append_149) $(am__append_152) \
+	$(am__append_157) $(am__append_165) $(am__append_168) \
+	$(am__append_171) $(am__append_174) $(am__append_177) \
+	$(am__append_180) $(am__append_183)
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_SOURCES = apache.c
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_CFLAGS = $(am__append_19)
+@BUILD_PLUGIN_APACHE_TRUE@apache_la_LIBADD = $(am__append_20)
+@BUILD_PLUGIN_APCUPS_TRUE@apcups_la_SOURCES = apcups.c
+@BUILD_PLUGIN_APCUPS_TRUE@apcups_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_APCUPS_TRUE@	$(am__append_23)
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_SOURCES = apple_sensors.c
+@BUILD_PLUGIN_APPLE_SENSORS_TRUE@apple_sensors_la_LDFLAGS = -module -avoid-version -lIOKit
+@BUILD_PLUGIN_BATTERY_TRUE@battery_la_SOURCES = battery.c
+@BUILD_PLUGIN_BATTERY_TRUE@battery_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_BATTERY_TRUE@	$(am__append_30)
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_SOURCES = cpu.c
+@BUILD_PLUGIN_CPU_TRUE@cpu_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_CPU_TRUE@	$(am__append_34) $(am__append_35)
+@BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_SOURCES = cpufreq.c
+@BUILD_PLUGIN_CPUFREQ_TRUE@cpufreq_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_CSV_TRUE@csv_la_SOURCES = csv.c
+@BUILD_PLUGIN_CSV_TRUE@csv_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_DF_TRUE@df_la_SOURCES = df.c
+@BUILD_PLUGIN_DF_TRUE@df_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_DISK_TRUE@disk_la_SOURCES = disk.c
+@BUILD_PLUGIN_DISK_TRUE@disk_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_48) $(am__append_49) \
+@BUILD_PLUGIN_DISK_TRUE@	$(am__append_50)
+@BUILD_PLUGIN_DNS_TRUE@dns_la_SOURCES = dns.c utils_dns.c utils_dns.h
+@BUILD_PLUGIN_DNS_TRUE@dns_la_LDFLAGS = -module -avoid-version -lpcap -lpthread
+@BUILD_PLUGIN_EMAIL_TRUE@email_la_SOURCES = email.c
+@BUILD_PLUGIN_EMAIL_TRUE@email_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_EMAIL_TRUE@	$(am__append_57)
+@BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_SOURCES = entropy.c
+@BUILD_PLUGIN_ENTROPY_TRUE@entropy_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_EXEC_TRUE@exec_la_SOURCES = exec.c utils_cmd_putval.c utils_cmd_putval.h
+@BUILD_PLUGIN_EXEC_TRUE@exec_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_EXEC_TRUE@	$(am__append_64)
+@BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_SOURCES = hddtemp.c
+@BUILD_PLUGIN_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_HDDTEMP_TRUE@	$(am__append_68)
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_SOURCES = interface.c
+@BUILD_PLUGIN_INTERFACE_TRUE@interface_la_LDFLAGS = -module \
+@BUILD_PLUGIN_INTERFACE_TRUE@	-avoid-version $(am__append_74) \
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_75) $(am__append_76) \
+@BUILD_PLUGIN_INTERFACE_TRUE@	$(am__append_77) $(am__append_78)
+@BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_SOURCES = iptables.c
+@BUILD_PLUGIN_IPTABLES_TRUE@iptables_la_LDFLAGS = -module -avoid-version -liptc
+@BUILD_PLUGIN_IRQ_TRUE@irq_la_SOURCES = irq.c
+@BUILD_PLUGIN_IRQ_TRUE@irq_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_LOAD_TRUE@load_la_SOURCES = load.c
+@BUILD_PLUGIN_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_88) $(am__append_89) \
+@BUILD_PLUGIN_LOAD_TRUE@	$(am__append_90)
+@BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_SOURCES = logfile.c
+@BUILD_PLUGIN_LOGFILE_TRUE@logfile_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MBMON_TRUE@mbmon_la_SOURCES = mbmon.c
+@BUILD_PLUGIN_MBMON_TRUE@mbmon_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_MBMON_TRUE@	$(am__append_95)
+@BUILD_PLUGIN_MEMORY_TRUE@memory_la_SOURCES = memory.c
+@BUILD_PLUGIN_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_101) $(am__append_102) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_103) $(am__append_104) \
+@BUILD_PLUGIN_MEMORY_TRUE@	$(am__append_105)
+@BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_SOURCES = multimeter.c
+@BUILD_PLUGIN_MULTIMETER_TRUE@multimeter_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_CFLAGS = $(am__append_111)
+@BUILD_PLUGIN_MYSQL_TRUE@mysql_la_LIBADD = $(am__append_112)
+@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_SOURCES = netlink.c
+@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_CFLAGS = $(BUILD_WITH_LIBNETLINK_CFLAGS)
+@BUILD_PLUGIN_NETLINK_TRUE@netlink_la_LIBADD = $(BUILD_WITH_LIBNETLINK_LIBS)
+@BUILD_PLUGIN_NETWORK_TRUE@network_la_SOURCES = network.c network.h
+@BUILD_PLUGIN_NETWORK_TRUE@network_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_NETWORK_TRUE@	$(am__append_118) $(am__append_119)
+@BUILD_PLUGIN_NFS_TRUE@nfs_la_SOURCES = nfs.c
+@BUILD_PLUGIN_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_NTPD_TRUE@ntpd_la_SOURCES = ntpd.c
+@BUILD_PLUGIN_NTPD_TRUE@ntpd_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_NTPD_TRUE@	$(am__append_126)
+@BUILD_PLUGIN_NUT_TRUE@nut_la_SOURCES = nut.c
+@BUILD_PLUGIN_NUT_TRUE@nut_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBUPSCLIENT_CFLAGS)
+@BUILD_PLUGIN_NUT_TRUE@nut_la_LDFLAGS = -module -avoid-version -lpthread $(BUILD_WITH_LIBUPSCLIENT_LIBS)
+@BUILD_PLUGIN_PERL_TRUE@perl_la_SOURCES = perl.c
+@BUILD_PLUGIN_PERL_TRUE@perl_la_CFLAGS = $(AM_CFLAGS) \
+@BUILD_PLUGIN_PERL_TRUE@		  $(PERL_CFLAGS) \
+@BUILD_PLUGIN_PERL_TRUE@		  -DXS_VERSION=\"$(VERSION)\" -DVERSION=\"$(VERSION)\"
+
+@BUILD_PLUGIN_PERL_TRUE@perl_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_PERL_TRUE@		  $(PERL_LDFLAGS)
+
+@BUILD_PLUGIN_PING_TRUE@ping_la_SOURCES = ping.c
+@BUILD_PLUGIN_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_PING_TRUE@	$(am__append_136)
+@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_LIBADD = liboping/liboping.la
+@BUILD_PLUGIN_PING_TRUE@@BUILD_WITH_OWN_LIBOPING_TRUE@ping_la_DEPENDENCIES = liboping/liboping.la
+@BUILD_PLUGIN_PROCESSES_TRUE@processes_la_SOURCES = processes.c
+@BUILD_PLUGIN_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_SOURCES = rrdtool.c
+@BUILD_PLUGIN_RRDTOOL_TRUE@rrdtool_la_LDFLAGS = -module -avoid-version -lrrd
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_SOURCES = sensors.c
+@BUILD_PLUGIN_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_SENSORS_TRUE@	$(am__append_146)
+@BUILD_PLUGIN_SERIAL_TRUE@serial_la_SOURCES = serial.c
+@BUILD_PLUGIN_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_SOURCES = snmp.c
+@BUILD_PLUGIN_SNMP_TRUE@snmp_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_SNMP_TRUE@	$(am__append_153) $(am__append_154)
+@BUILD_PLUGIN_SWAP_TRUE@swap_la_SOURCES = swap.c
+@BUILD_PLUGIN_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_160) $(am__append_161) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_162) $(am__append_163) \
+@BUILD_PLUGIN_SWAP_TRUE@	$(am__append_164)
+@BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_SOURCES = syslog.c
+@BUILD_PLUGIN_SYSLOG_TRUE@syslog_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_TAPE_TRUE@tape_la_SOURCES = tape.c
+@BUILD_PLUGIN_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version -lkstat -ldevinfo
+@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_SOURCES = unixsock.c utils_cmd_putval.h utils_cmd_putval.c
+@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_CPPFLAGS = -DLOCALSTATEDIR='"${localstatedir}"'
+@BUILD_PLUGIN_UNIXSOCK_TRUE@unixsock_la_LDFLAGS = -module -avoid-version -lpthread
+@BUILD_PLUGIN_USERS_TRUE@users_la_SOURCES = users.c
+@BUILD_PLUGIN_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_VSERVER_TRUE@vserver_la_SOURCES = vserver.c
+@BUILD_PLUGIN_VSERVER_TRUE@vserver_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_SOURCES = wireless.c
+@BUILD_PLUGIN_WIRELESS_TRUE@wireless_la_LDFLAGS = -module -avoid-version
+@BUILD_PLUGIN_XMMS_TRUE@xmms_la_SOURCES = xmms.c
+@BUILD_PLUGIN_XMMS_TRUE@xmms_la_CFLAGS = $(AM_CFLAGS) $(BUILD_WITH_LIBXMMS_CFLAGS)
+@BUILD_PLUGIN_XMMS_TRUE@xmms_la_LDFLAGS = -module -avoid-version $(BUILD_WITH_LIBXMMS_LIBS)
 dist_man_MANS = collectd.1 collectd-nagios.1 collectd.conf.5 \
 		collectd-email.5 collectd-exec.5 collectd-perl.5 \
-		collectd-unixsock.5
+		collectd-snmp.5 collectd-unixsock.5
 
 
 #collectd_1_SOURCES = collectd.pod
 EXTRA_DIST = types.db
 all: config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
@@ -1152,12 +1204,14 @@
 memory.la: $(memory_la_OBJECTS) $(memory_la_DEPENDENCIES) 
 	$(LINK) $(am_memory_la_rpath) $(memory_la_LDFLAGS) $(memory_la_OBJECTS) $(memory_la_LIBADD) $(LIBS)
 multimeter.la: $(multimeter_la_OBJECTS) $(multimeter_la_DEPENDENCIES) 
 	$(LINK) $(am_multimeter_la_rpath) $(multimeter_la_LDFLAGS) $(multimeter_la_OBJECTS) $(multimeter_la_LIBADD) $(LIBS)
 mysql.la: $(mysql_la_OBJECTS) $(mysql_la_DEPENDENCIES) 
 	$(LINK) $(am_mysql_la_rpath) $(mysql_la_LDFLAGS) $(mysql_la_OBJECTS) $(mysql_la_LIBADD) $(LIBS)
+netlink.la: $(netlink_la_OBJECTS) $(netlink_la_DEPENDENCIES) 
+	$(LINK) $(am_netlink_la_rpath) $(netlink_la_LDFLAGS) $(netlink_la_OBJECTS) $(netlink_la_LIBADD) $(LIBS)
 network.la: $(network_la_OBJECTS) $(network_la_DEPENDENCIES) 
 	$(LINK) $(am_network_la_rpath) $(network_la_LDFLAGS) $(network_la_OBJECTS) $(network_la_LIBADD) $(LIBS)
 nfs.la: $(nfs_la_OBJECTS) $(nfs_la_DEPENDENCIES) 
 	$(LINK) $(am_nfs_la_rpath) $(nfs_la_LDFLAGS) $(nfs_la_OBJECTS) $(nfs_la_LIBADD) $(LIBS)
 ntpd.la: $(ntpd_la_OBJECTS) $(ntpd_la_DEPENDENCIES) 
 	$(LINK) $(am_ntpd_la_rpath) $(ntpd_la_LDFLAGS) $(ntpd_la_OBJECTS) $(ntpd_la_LIBADD) $(LIBS)
@@ -1172,12 +1226,14 @@
 rrdtool.la: $(rrdtool_la_OBJECTS) $(rrdtool_la_DEPENDENCIES) 
 	$(LINK) $(am_rrdtool_la_rpath) $(rrdtool_la_LDFLAGS) $(rrdtool_la_OBJECTS) $(rrdtool_la_LIBADD) $(LIBS)
 sensors.la: $(sensors_la_OBJECTS) $(sensors_la_DEPENDENCIES) 
 	$(LINK) $(am_sensors_la_rpath) $(sensors_la_LDFLAGS) $(sensors_la_OBJECTS) $(sensors_la_LIBADD) $(LIBS)
 serial.la: $(serial_la_OBJECTS) $(serial_la_DEPENDENCIES) 
 	$(LINK) $(am_serial_la_rpath) $(serial_la_LDFLAGS) $(serial_la_OBJECTS) $(serial_la_LIBADD) $(LIBS)
+snmp.la: $(snmp_la_OBJECTS) $(snmp_la_DEPENDENCIES) 
+	$(LINK) $(am_snmp_la_rpath) $(snmp_la_LDFLAGS) $(snmp_la_OBJECTS) $(snmp_la_LIBADD) $(LIBS)
 swap.la: $(swap_la_OBJECTS) $(swap_la_DEPENDENCIES) 
 	$(LINK) $(am_swap_la_rpath) $(swap_la_LDFLAGS) $(swap_la_OBJECTS) $(swap_la_LIBADD) $(LIBS)
 syslog.la: $(syslog_la_OBJECTS) $(syslog_la_DEPENDENCIES) 
 	$(LINK) $(am_syslog_la_rpath) $(syslog_la_LDFLAGS) $(syslog_la_OBJECTS) $(syslog_la_LIBADD) $(LIBS)
 tape.la: $(tape_la_OBJECTS) $(tape_la_DEPENDENCIES) 
 	$(LINK) $(am_tape_la_rpath) $(tape_la_LDFLAGS) $(tape_la_OBJECTS) $(tape_la_LIBADD) $(LIBS)
@@ -1186,12 +1242,14 @@
 users.la: $(users_la_OBJECTS) $(users_la_DEPENDENCIES) 
 	$(LINK) $(am_users_la_rpath) $(users_la_LDFLAGS) $(users_la_OBJECTS) $(users_la_LIBADD) $(LIBS)
 vserver.la: $(vserver_la_OBJECTS) $(vserver_la_DEPENDENCIES) 
 	$(LINK) $(am_vserver_la_rpath) $(vserver_la_LDFLAGS) $(vserver_la_OBJECTS) $(vserver_la_LIBADD) $(LIBS)
 wireless.la: $(wireless_la_OBJECTS) $(wireless_la_DEPENDENCIES) 
 	$(LINK) $(am_wireless_la_rpath) $(wireless_la_LDFLAGS) $(wireless_la_OBJECTS) $(wireless_la_LIBADD) $(LIBS)
+xmms.la: $(xmms_la_OBJECTS) $(xmms_la_DEPENDENCIES) 
+	$(LINK) $(am_xmms_la_rpath) $(xmms_la_LDFLAGS) $(xmms_la_OBJECTS) $(xmms_la_LIBADD) $(LIBS)
 install-binPROGRAMS: $(bin_PROGRAMS)
 	@$(NORMAL_INSTALL)
 	test -z "$(bindir)" || $(mkdir_p) "$(DESTDIR)$(bindir)"
 	@list='$(bin_PROGRAMS)'; for p in $$list; do \
 	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
 	  if test -f $$p \
@@ -1288,30 +1346,35 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/logfile.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mbmon.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/multimeter.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mysql_la-mysql.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/netlink_la-netlink.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/network.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ntpd.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nut.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nut_la-nut.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/perl_la-perl.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rrdtool.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snmp.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/syslog.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-unixsock.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unixsock_la-utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_cmd_putval.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/utils_dns.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vserver.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/wireless.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/xmms_la-xmms.Plo@am__quote@
 
 .c.o:
 @am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
@@ -1342,12 +1405,26 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -MT mysql_la-mysql.lo -MD -MP -MF "$(DEPDIR)/mysql_la-mysql.Tpo" -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/mysql_la-mysql.Tpo" "$(DEPDIR)/mysql_la-mysql.Plo"; else rm -f "$(DEPDIR)/mysql_la-mysql.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='mysql.c' object='mysql_la-mysql.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c
 
+netlink_la-netlink.lo: netlink.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -MT netlink_la-netlink.lo -MD -MP -MF "$(DEPDIR)/netlink_la-netlink.Tpo" -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/netlink_la-netlink.Tpo" "$(DEPDIR)/netlink_la-netlink.Plo"; else rm -f "$(DEPDIR)/netlink_la-netlink.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='netlink.c' object='netlink_la-netlink.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(netlink_la_CFLAGS) $(CFLAGS) -c -o netlink_la-netlink.lo `test -f 'netlink.c' || echo '$(srcdir)/'`netlink.c
+
+nut_la-nut.lo: nut.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nut_la_CFLAGS) $(CFLAGS) -MT nut_la-nut.lo -MD -MP -MF "$(DEPDIR)/nut_la-nut.Tpo" -c -o nut_la-nut.lo `test -f 'nut.c' || echo '$(srcdir)/'`nut.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/nut_la-nut.Tpo" "$(DEPDIR)/nut_la-nut.Plo"; else rm -f "$(DEPDIR)/nut_la-nut.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='nut.c' object='nut_la-nut.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nut_la_CFLAGS) $(CFLAGS) -c -o nut_la-nut.lo `test -f 'nut.c' || echo '$(srcdir)/'`nut.c
+
 perl_la-perl.lo: perl.c
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -MT perl_la-perl.lo -MD -MP -MF "$(DEPDIR)/perl_la-perl.Tpo" -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/perl_la-perl.Tpo" "$(DEPDIR)/perl_la-perl.Plo"; else rm -f "$(DEPDIR)/perl_la-perl.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='perl.c' object='perl_la-perl.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(perl_la_CFLAGS) $(CFLAGS) -c -o perl_la-perl.lo `test -f 'perl.c' || echo '$(srcdir)/'`perl.c
@@ -1356,12 +1433,26 @@
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT unixsock_la-unixsock.lo -MD -MP -MF "$(DEPDIR)/unixsock_la-unixsock.Tpo" -c -o unixsock_la-unixsock.lo `test -f 'unixsock.c' || echo '$(srcdir)/'`unixsock.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/unixsock_la-unixsock.Tpo" "$(DEPDIR)/unixsock_la-unixsock.Plo"; else rm -f "$(DEPDIR)/unixsock_la-unixsock.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='unixsock.c' object='unixsock_la-unixsock.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o unixsock_la-unixsock.lo `test -f 'unixsock.c' || echo '$(srcdir)/'`unixsock.c
 
+unixsock_la-utils_cmd_putval.lo: utils_cmd_putval.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT unixsock_la-utils_cmd_putval.lo -MD -MP -MF "$(DEPDIR)/unixsock_la-utils_cmd_putval.Tpo" -c -o unixsock_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/unixsock_la-utils_cmd_putval.Tpo" "$(DEPDIR)/unixsock_la-utils_cmd_putval.Plo"; else rm -f "$(DEPDIR)/unixsock_la-utils_cmd_putval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='utils_cmd_putval.c' object='unixsock_la-utils_cmd_putval.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(unixsock_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o unixsock_la-utils_cmd_putval.lo `test -f 'utils_cmd_putval.c' || echo '$(srcdir)/'`utils_cmd_putval.c
+
+xmms_la-xmms.lo: xmms.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(xmms_la_CFLAGS) $(CFLAGS) -MT xmms_la-xmms.lo -MD -MP -MF "$(DEPDIR)/xmms_la-xmms.Tpo" -c -o xmms_la-xmms.lo `test -f 'xmms.c' || echo '$(srcdir)/'`xmms.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/xmms_la-xmms.Tpo" "$(DEPDIR)/xmms_la-xmms.Plo"; else rm -f "$(DEPDIR)/xmms_la-xmms.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='xmms.c' object='xmms_la-xmms.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(xmms_la_CFLAGS) $(CFLAGS) -c -o xmms_la-xmms.lo `test -f 'xmms.c' || echo '$(srcdir)/'`xmms.c
+
 collectd-collectd.o: collectd.c
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT collectd-collectd.o -MD -MP -MF "$(DEPDIR)/collectd-collectd.Tpo" -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-collectd.Tpo" "$(DEPDIR)/collectd-collectd.Po"; else rm -f "$(DEPDIR)/collectd-collectd.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='collectd.c' object='collectd-collectd.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o collectd-collectd.o `test -f 'collectd.c' || echo '$(srcdir)/'`collectd.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/mbmon.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/mbmon.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/mbmon.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/mbmon.c	2007-09-02 03:00:35.000000000 +0800
@@ -23,34 +23,28 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if HAVE_NETDB_H && HAVE_SYS_SOCKET_H && HAVE_NETINET_IN_H && HAVE_NETINET_TCP_H
-# include <netdb.h>
-# include <sys/socket.h>
-# include <netinet/in.h>
-# include <netinet/tcp.h>
-# define MBMON_HAVE_READ 1
-#else
-# define MBMON_HAVE_READ 0
-#endif
+#include <netdb.h>
+#include <sys/socket.h>
+#include <netinet/in.h>
+#include <netinet/tcp.h>
 
 #define MBMON_DEF_HOST "127.0.0.1"
 #define MBMON_DEF_PORT "411" /* the default for Debian */
 
 static const char *config_keys[] =
 {
 	"Host",
 	"Port",
 	NULL
 };
 static int config_keys_num = 2;
 
-#if MBMON_HAVE_READ
 static char *mbmon_host = NULL;
 static char *mbmon_port = NULL;
 
 /*
  * NAME
  *  mbmon_query_daemon
@@ -305,17 +299,14 @@
 
 		s = nextc + 1;
 	}
 
 	return (0);
 } /* void mbmon_read */
-#endif /* MBMON_HAVE_READ */
 
 /* module_register
    Register collectd plugin. */
 void module_register (void)
 {
-#if MBMON_HAVE_READ
 	plugin_register_config ("mbmon", mbmon_config, config_keys, config_keys_num);
 	plugin_register_read ("mbmon", mbmon_read);
-#endif /* MBMON_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/memory.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/memory.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/memory.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/memory.c	2007-09-02 03:00:35.000000000 +0800
@@ -40,44 +40,41 @@
 # include <mach/host_priv.h>
 #endif
 #ifdef HAVE_MACH_VM_STATISTICS_H
 # include <mach/vm_statistics.h>
 #endif
 
-#if defined (HOST_VM_INFO) || HAVE_SYSCTLBYNAME || KERNEL_LINUX || HAVE_LIBKSTAT
-# define MEMORY_HAVE_READ 1
-#else
-# define MEMORY_HAVE_READ 0
-#endif
-
 /* vm_statistics_data_t */
-#if defined(HOST_VM_INFO)
+#if HAVE_HOST_STATISTICS
 static mach_port_t port_host;
 static vm_size_t pagesize;
-/* #endif HOST_VM_INFO */
+/* #endif HAVE_HOST_STATISTICS */
 
 #elif HAVE_SYSCTLBYNAME
 /* no global variables */
 /* #endif HAVE_SYSCTLBYNAME */
 
 #elif KERNEL_LINUX
 /* no global variables */
 /* #endif KERNEL_LINUX */
 
 #elif HAVE_LIBKSTAT
 static int pagesize;
 static kstat_t *ksp;
-#endif /* HAVE_LIBKSTAT */
+/* #endif HAVE_LIBKSTAT */
+
+#else
+# error "No applicable input method."
+#endif
 
-#if MEMORY_HAVE_READ
 static int memory_init (void)
 {
-#if defined(HOST_VM_INFO)
+#if HAVE_HOST_STATISTICS
 	port_host = mach_host_self ();
 	host_page_size (port_host, &pagesize);
-/* #endif HOST_VM_INFO */
+/* #endif HAVE_HOST_STATISTICS */
 
 #elif HAVE_SYSCTLBYNAME
 /* no init stuff */
 /* #endif HAVE_SYSCTLBYNAME */
 
 #elif defined(KERNEL_LINUX)
@@ -111,13 +108,13 @@
 
 	plugin_dispatch_values ("memory", &vl);
 }
 
 static int memory_read (void)
 {
-#if defined(HOST_VM_INFO)
+#if HAVE_HOST_STATISTICS
 	kern_return_t status;
 	vm_statistics_data_t   vm_data;
 	mach_msg_type_number_t vm_data_len;
 
 	long long wired;
 	long long active;
@@ -162,13 +159,13 @@
 	free     = vm_data.free_count     * pagesize;
 
 	memory_submit ("wired",    wired);
 	memory_submit ("active",   active);
 	memory_submit ("inactive", inactive);
 	memory_submit ("free",     free);
-/* #endif HOST_VM_INFO */
+/* #endif HAVE_HOST_STATISTICS */
 
 #elif HAVE_SYSCTLBYNAME
 	/*
 	 * vm.stats.vm.v_page_size: 4096
 	 * vm.stats.vm.v_page_count: 246178
 	 * vm.stats.vm.v_free_count: 28760
@@ -318,15 +315,12 @@
 		memory_submit ("free",   ios->free);
 	}
 #endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
 }
-#endif /* MEMORY_HAVE_READ */
 
 void module_register (void)
 {
-#if MEMORY_HAVE_READ
 	plugin_register_init ("memory", memory_init);
 	plugin_register_read ("memory", memory_read);
-#endif /* MEMORY_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/multimeter.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/multimeter.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/multimeter.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/multimeter.c	2007-09-02 03:00:35.000000000 +0800
@@ -27,19 +27,16 @@
 #include "plugin.h"
 
 #if HAVE_TERMIOS_H && HAVE_SYS_IOCTL_H && HAVE_MATH_H
 # include <termios.h>
 # include <sys/ioctl.h>
 # include <math.h>
-# define MULTIMETER_HAVE_READ 1
 #else
-# define MULTIMETER_HAVE_READ 0
-# error "multimeter cannot read!"
+# error "No applicable input method."
 #endif
 
-#if MULTIMETER_HAVE_READ
 static int fd = -1;
 
 static int multimeter_timeval_sub (struct timeval *tv1, struct timeval *tv2,
                 struct timeval *res)
 {
         if ((tv1->tv_sec < tv2->tv_sec) ||
@@ -245,16 +243,13 @@
 		close (fd);
 		fd = -1;
 	}
 
 	return (0);
 }
-#endif /* MULTIMETER_HAVE_READ */
 
 void module_register (void)
 {
-#if MULTIMETER_HAVE_READ
 	plugin_register_init ("multimeter", multimeter_init);
 	plugin_register_read ("multimeter", multimeter_read);
 	plugin_register_shutdown ("multimeter", multimeter_shutdown);
-#endif /* MULTIMETER_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/mysql.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/mysql.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/mysql.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/mysql.c	2007-09-02 03:00:35.000000000 +0800
@@ -25,21 +25,14 @@
 #include "configfile.h"
 
 #ifdef HAVE_MYSQL_MYSQL_H
 #include <mysql/mysql.h>
 #endif
 
-#if HAVE_LIBMYSQLCLIENT
-# define MYSQL_HAVE_READ 1
-#else
-# define MYSQL_HAVE_READ 0
-#endif
-
 /* TODO: Understand `Select_*' and possibly do that stuff as well.. */
 
-#if MYSQL_HAVE_READ
 static const char *config_keys[] =
 {
 	"Host",
 	"User",
 	"Password",
 	"Database",
@@ -319,15 +312,12 @@
 	traffic_submit  (traffic_incoming, traffic_outgoing);
 
 	/* mysql_close (con); */
 
 	return (0);
 } /* int mysql_read */
-#endif /* MYSQL_HAVE_READ */
 
 void module_register (void)
 {
-#if MYSQL_HAVE_READ
 	plugin_register_config ("mysql", config, config_keys, config_keys_num);
 	plugin_register_read ("mysql", mysql_read);
-#endif /* MYSQL_HAVE_READ */
 } /* void module_register */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src: netlink.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/network.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/network.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/network.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/network.c	2007-09-02 03:00:35.000000000 +0800
@@ -159,13 +159,13 @@
 static pthread_t listen_thread = 0;
 static int listen_loop = 0;
 
 static char         send_buffer[BUFF_SIZE];
 static char        *send_buffer_ptr;
 static int          send_buffer_fill;
-static value_list_t send_buffer_vl = VALUE_LIST_INIT;
+static value_list_t send_buffer_vl = VALUE_LIST_STATIC;
 static char         send_buffer_type[DATA_MAX_NAME_LEN];
 static pthread_mutex_t send_buffer_lock = PTHREAD_MUTEX_INITIALIZER;
 
 static avl_tree_t      *cache_tree = NULL;
 static pthread_mutex_t  cache_lock = PTHREAD_MUTEX_INITIALIZER;
 static time_t           cache_flush_last;
@@ -554,12 +554,19 @@
 		{
 			uint64_t tmp = 0;
 			status = parse_part_number (&buffer, &buffer_len, &tmp);
 			if (status == 0)
 				vl.time = (time_t) tmp;
 		}
+		else if (ntohs (header->type) == TYPE_INTERVAL)
+		{
+			uint64_t tmp = 0;
+			status = parse_part_number (&buffer, &buffer_len, &tmp);
+			if (status == 0)
+				vl.interval = (int) tmp;
+		}
 		else if (ntohs (header->type) == TYPE_HOST)
 		{
 			status = parse_part_string (&buffer, &buffer_len,
 					vl.host, sizeof (vl.host));
 			DEBUG ("network plugin: parse_packet: vl.host = %s", vl.host);
 		}
@@ -1094,12 +1101,22 @@
 			return (-1);
 		vl_def->time = vl->time;
 		DEBUG ("network plugin: add_to_buffer: time = %u",
 				(unsigned int) vl->time);
 	}
 
+	if (vl_def->interval != vl->interval)
+	{
+		if (write_part_number (&buffer, &buffer_size, TYPE_INTERVAL,
+					(uint64_t) vl->interval))
+			return (-1);
+		vl_def->interval = vl->interval;
+		DEBUG ("network plugin: add_to_buffer: interval = %i",
+				(int) vl->interval);
+	}
+
 	if (strcmp (vl_def->plugin, vl->plugin) != 0)
 	{
 		if (write_part_string (&buffer, &buffer_size, TYPE_PLUGIN,
 					vl->plugin, strlen (vl->plugin)) != 0)
 			return (-1);
 		strcpy (vl_def->plugin, vl->plugin);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/network.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/network.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/network.h	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/network.h	2007-09-02 03:00:35.000000000 +0800
@@ -58,8 +58,9 @@
 #define TYPE_TIME            0x0001
 #define TYPE_PLUGIN          0x0002
 #define TYPE_PLUGIN_INSTANCE 0x0003
 #define TYPE_TYPE            0x0004
 #define TYPE_TYPE_INSTANCE   0x0005
 #define TYPE_VALUES          0x0006
+#define TYPE_INTERVAL        0x0007
 
 #endif /* NETWORK_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/nfs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/nfs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/nfs.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/nfs.c	2007-09-02 03:00:35.000000000 +0800
@@ -21,17 +21,14 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-/* #if defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT) */
-#if KERNEL_LINUX
-# define NFS_HAVE_READ 1
-#else
-# define NFS_HAVE_READ 0
+#if !KERNEL_LINUX
+# error "No applicable input method."
 #endif
 
 /*
 see /proc/net/rpc/nfs
 see http://www.missioncriticallinux.com/orph/NFS-Statistics
 
@@ -73,13 +70,12 @@
 18                      fsstat
 19                      fsinfo
 20                      pathconf
 21                      commit
 */
 
-#if NFS_HAVE_READ
 static const char *nfs2_procedures_names[] =
 {
 	"null",
 	"getattr",
 	"setattr",
 	"root",
@@ -206,13 +202,12 @@
 				vl.plugin, vl.plugin_instance,
 				vl.type_instance, val[i]);
 		plugin_dispatch_values ("nfs_procedure", &vl);
 	}
 } /* void nfs_procedures_submit */
 
-#if KERNEL_LINUX
 static void nfs_read_stats_file (FILE *fh, char *inst)
 {
 	char buffer[BUFSIZE];
 
 	char plugin_instance[DATA_MAX_NAME_LEN];
 
@@ -304,13 +299,12 @@
 					nfs3_procedures_names_num);
 
 			free (values);
 		}
 	} /* while (fgets (buffer, BUFSIZE, fh) != NULL) */
 } /* void nfs_read_stats_file */
-#endif /* defined(KERNEL_LINUX) */
 #undef BUFSIZE
 
 #if HAVE_LIBKSTAT && 0
 static void nfs2_read_kstat (kstat_t *ksp, char *inst)
 {
 	unsigned long long values[18];
@@ -337,13 +331,12 @@
 	nfs2_procedures_submit (values, inst);
 }
 #endif
 
 static int nfs_read (void)
 {
-#if KERNEL_LINUX
 	FILE *fh;
 
 	if ((fh = fopen ("/proc/net/rpc/nfs", "r")) != NULL)
 	{
 		nfs_read_stats_file (fh, "client");
 		fclose (fh);
@@ -352,25 +345,20 @@
 	if ((fh = fopen ("/proc/net/rpc/nfsd", "r")) != NULL)
 	{
 		nfs_read_stats_file (fh, "server");
 		fclose (fh);
 	}
 
-/* #endif defined(KERNEL_LINUX) */
-
-#elif HAVE_LIBKSTAT && 0
+#if HAVE_LIBKSTAT && 0
 	if (nfs2_ksp_client != NULL)
 		nfs2_read_kstat (nfs2_ksp_client, "client");
 	if (nfs2_ksp_server != NULL)
 		nfs2_read_kstat (nfs2_ksp_server, "server");
 #endif /* defined(HAVE_LIBKSTAT) */
 
 	return (0);
 }
-#endif /* NFS_HAVE_READ */
 
 void module_register (void)
 {
-#if NFS_HAVE_READ
 	plugin_register_read ("nfs", nfs_read);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/ntpd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/ntpd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/ntpd.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/ntpd.c	2007-09-02 03:00:35.000000000 +0800
@@ -21,18 +21,12 @@
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
 
-#if HAVE_SYS_SOCKET_H
-# define NTPD_HAVE_READ 1
-#else
-# define NTPD_HAVE_READ 0
-#endif
-
 #if HAVE_STDINT_H
 # include <stdint.h>
 #endif
 #if HAVE_NETDB_H
 # include <netdb.h>
 #endif
@@ -57,13 +51,12 @@
 	"Host",
 	"Port",
 	NULL
 };
 static int config_keys_num = 2;
 
-#if NTPD_HAVE_READ
 # define NTPD_DEFAULT_HOST "localhost"
 # define NTPD_DEFAULT_PORT "123"
 static int   sock_descr = -1;
 static char *ntpd_host = NULL;
 static char  ntpd_port[16];
 
@@ -394,12 +387,13 @@
 	}
 
 	freeaddrinfo (ai_list);
 
 	if (sock_descr < 0)
 	{
+		DEBUG ("Unable to connect to server.");
 		ERROR ("ntpd plugin: Unable to connect to server.");
 	}
 
 	return (sock_descr);
 }
 
@@ -955,16 +949,13 @@
 
 	free (ps);
 	ps = NULL;
 
 	return (0);
 } /* int ntpd_read */
-#endif /* NTPD_HAVE_READ */
 
 void module_register (void)
 {
-#if NTPD_HAVE_READ
 	plugin_register_config ("ntpd", ntpd_config,
 			config_keys, config_keys_num);
 	plugin_register_read ("ntpd", ntpd_read);
-#endif /* NTPD_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/nut.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/nut.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/nut.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/nut.c	2007-09-02 03:00:35.000000000 +0800
@@ -20,33 +20,23 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-#if HAVE_PTHREAD_H
-# include <pthread.h>
-#endif
-
-#if HAVE_UPSCLIENT_H
-# include <upsclient.h>
-# define NUT_HAVE_READ 1
-#else
-# define NUT_HAVE_READ 0
-#endif
+#include <pthread.h>
+#include <upsclient.h>
 
 #if HAVE_UPSCONN_T
 typedef UPSCONN_t collectd_upsconn_t;
 #elif HAVE_UPSCONN
 typedef UPSCONN collectd_upsconn_t;
 #else
 # error "Unable to determine the UPS connection type."
 #endif
 
-
-#if NUT_HAVE_READ
 struct nut_ups_s;
 typedef struct nut_ups_s nut_ups_t;
 struct nut_ups_s
 {
   collectd_upsconn_t *conn;
   char      *upsname;
@@ -292,18 +282,15 @@
     free_nut_ups_t (this);
     this = next;
   }
 
   return (0);
 } /* int nut_shutdown */
-#endif /* NUT_HAVE_READ */
 
 void module_register (void)
 {
-#if NUT_HAVE_READ
   plugin_register_config ("nut", nut_config, config_keys, config_keys_num);
   plugin_register_read ("nut", nut_read);
   plugin_register_shutdown ("nut", nut_shutdown);
-#endif
 } /* void module_register */
 
 /* vim: set sw=2 ts=8 sts=2 tw=78 : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/perl.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/perl.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/perl.c	2007-09-28 19:38:23.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/perl.c	2007-08-31 21:49:13.000000000 +0800
@@ -330,13 +330,13 @@
 	if (base_name[0] == '\0')
 		status = snprintf (buf, buf_len, "%s", module);
 	else
 		status = snprintf (buf, buf_len, "%s::%s", base_name, module);
 	if ((status < 0) || (status >= buf_len))
 		return (NULL);
-	buf[buf_len - 1] = '\0';
+	buf[buf_len] = '\0';
 	return (buf);
 } /* char *get_module_name */
 
 /*
  * Add a new plugin with the given name.
  */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/plugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/plugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/plugin.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/plugin.c	2007-09-02 03:00:46.000000000 +0800
@@ -130,13 +130,12 @@
 
 	if ((dlh = lt_dlopen (file)) == NULL)
 	{
 		const char *error = lt_dlerror ();
 
 		ERROR ("lt_dlopen failed: %s", error);
-		fprintf (stderr, "lt_dlopen failed: %s\n", error);
 		return (1);
 	}
 
 	if ((reg_handle = (void (*) (void)) lt_dlsym (dlh, "module_register")) == NULL)
 	{
 		WARNING ("Couldn't find symbol ``module_register'' in ``%s'': %s\n",
@@ -191,13 +190,13 @@
 				rf->wait_left = rf->wait_time;
 				rf->wait_time = rf->wait_time * 2;
 				if (rf->wait_time > 86400)
 					rf->wait_time = 86400;
 
 				NOTICE ("read-function of plugin `%s' "
-						"failed. Will syspend it for %i "
+						"failed. Will suspend it for %i "
 						"seconds.", le->key, rf->wait_left);
 			}
 			else
 			{
 				rf->wait_left = 0;
 				rf->wait_time = interval_g;
@@ -353,16 +352,12 @@
 		if (plugin_load_file (filename) == 0)
 		{
 			/* success */
 			ret = 0;
 			break;
 		}
-		else
-		{
-			fprintf (stderr, "Unable to load plugin %s.\n", type);
-		}
 	}
 
 	closedir (dh);
 
 	return (ret);
 }
@@ -375,12 +370,18 @@
 		const char **keys, int keys_num)
 {
 	cf_register (name, callback, keys, keys_num);
 	return (0);
 } /* int plugin_register_config */
 
+int plugin_register_complex_config (const char *type,
+		int (*callback) (oconfig_item_t *))
+{
+	return (cf_register_complex (type, callback));
+} /* int plugin_register_complex_config */
+
 int plugin_register_init (const char *name,
 		int (*callback) (void))
 {
 	return (register_callback (&list_init, name, (void *) callback));
 } /* plugin_register_init */
 
@@ -459,12 +460,18 @@
 int plugin_unregister_config (const char *name)
 {
 	cf_unregister (name);
 	return (0);
 } /* int plugin_unregister_config */
 
+int plugin_unregister_complex_config (const char *name)
+{
+	cf_unregister_complex (name);
+	return (0);
+} /* int plugin_unregister_complex_config */
+
 int plugin_unregister_init (const char *name)
 {
 	return (plugin_unregister (list_init, name));
 }
 
 int plugin_unregister_read (const char *name)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/plugin.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/plugin.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/plugin.h	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/plugin.h	2007-09-02 03:00:35.000000000 +0800
@@ -1,12 +1,11 @@
 #ifndef PLUGIN_H
 #define PLUGIN_H
-
 /**
  * collectd - src/plugin.h
- * Copyright (C) 2005,2006  Florian octo Forster
+ * Copyright (C) 2005-2007  Florian octo Forster
  *
  * This program is free software; you can redistribute it and/or modify it
  * under the terms of the GNU General Public License as published by the
  * Free Software Foundation; only version 2 of the License is applicable.
  *
  * This program is distributed in the hope that it will be useful, but
@@ -19,12 +18,15 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
+#include "collectd.h"
+#include "configfile.h"
+
 #define DATA_MAX_NAME_LEN 64
 
 #define DS_TYPE_COUNTER 0
 #define DS_TYPE_GAUGE   1
 
 #ifndef LOG_ERR
@@ -58,20 +60,22 @@
 
 struct value_list_s
 {
 	value_t *values;
 	int      values_len;
 	time_t   time;
+	int      interval;
 	char     host[DATA_MAX_NAME_LEN];
 	char     plugin[DATA_MAX_NAME_LEN];
 	char     plugin_instance[DATA_MAX_NAME_LEN];
 	char     type_instance[DATA_MAX_NAME_LEN];
 };
 typedef struct value_list_s value_list_t;
 
-#define VALUE_LIST_INIT { NULL, 0, 0, "localhost", "", "", "" }
+#define VALUE_LIST_INIT { NULL, 0, 0, interval_g, "localhost", "", "", "" }
+#define VALUE_LIST_STATIC { NULL, 0, 0, 0, "localhost", "", "", "" }
 
 struct data_source_s
 {
 	char   name[DATA_MAX_NAME_LEN];
 	int    type;
 	double min;
@@ -140,12 +144,14 @@
  * `read', `write' and `shutdown' functions known to the plugin
  * infrastructure. Also, the data-formats are made public like this.
  */
 int plugin_register_config (const char *name,
 		int (*callback) (const char *key, const char *val),
 		const char **keys, int keys_num);
+int plugin_register_complex_config (const char *type,
+		int (*callback) (oconfig_item_t *));
 int plugin_register_init (const char *name,
 		int (*callback) (void));
 int plugin_register_read (const char *name,
 		int (*callback) (void));
 int plugin_register_write (const char *name,
 		int (*callback) (const data_set_t *ds, const value_list_t *vl));
@@ -153,12 +159,13 @@
 		int (*callback) (void));
 int plugin_register_data_set (const data_set_t *ds);
 int plugin_register_log (char *name,
 		void (*callback) (int, const char *));
 
 int plugin_unregister_config (const char *name);
+int plugin_unregister_complex_config (const char *name);
 int plugin_unregister_init (const char *name);
 int plugin_unregister_read (const char *name);
 int plugin_unregister_write (const char *name);
 int plugin_unregister_shutdown (const char *name);
 int plugin_unregister_data_set (const char *name);
 int plugin_unregister_log (const char *name);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/processes.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/processes.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/processes.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/processes.c	2007-09-02 03:00:35.000000000 +0800
@@ -77,33 +77,26 @@
 #  if HAVE_LINUX_CONFIG_H
 #    include <linux/config.h>
 #  endif
 #  ifndef CONFIG_HZ
 #    define CONFIG_HZ 100
 #  endif
-#endif /* KERNEL_LINUX */
-
-#define MODULE_NAME "processes"
+/* #endif KERNEL_LINUX */
 
-#if HAVE_THREAD_INFO || KERNEL_LINUX
-# define PROCESSES_HAVE_READ 1
 #else
-# define PROCESSES_HAVE_READ 0
+# error "No applicable input method."
 #endif
 
 #define BUFSIZE 256
 
-#if PROCESSES_HAVE_READ
-#if HAVE_THREAD_INFO | KERNEL_LINUX
 static const char *config_keys[] =
 {
 	"Process",
 	NULL
 };
 static int config_keys_num = 1;
-#endif
 
 typedef struct procstat_entry_s
 {
 	unsigned long id;
 	unsigned long age;
 
@@ -140,15 +133,13 @@
 	unsigned long cpu_system_counter;
 
 	struct procstat   *next;
 	struct procstat_entry_s *instances;
 } procstat_t;
 
-#if HAVE_THREAD_INFO | KERNEL_LINUX
 static procstat_t *list_head_g = NULL;
-#endif
 
 #if HAVE_THREAD_INFO
 static mach_port_t port_host_self;
 static mach_port_t port_task_self;
 
 static processor_set_name_array_t pset_list;
@@ -156,13 +147,12 @@
 /* #endif HAVE_THREAD_INFO */
 
 #elif KERNEL_LINUX
 static long pagesize_g;
 #endif /* KERNEL_LINUX */
 
-#if HAVE_THREAD_INFO | KERNEL_LINUX
 static void ps_list_register (const char *name)
 {
 	procstat_t *new;
 	procstat_t *ptr;
 
 	if ((new = (procstat_t *) malloc (sizeof (procstat_t))) == NULL)
@@ -367,13 +357,12 @@
 	{
 		return (-1);
 	}
 
 	return (0);
 }
-#endif /* HAVE_THREAD_INFO | KERNEL_LINUX */
 
 static int ps_init (void)
 {
 #if HAVE_THREAD_INFO
 	kern_return_t status;
 
@@ -1018,19 +1007,14 @@
 	for (ps_ptr = list_head_g; ps_ptr != NULL; ps_ptr = ps_ptr->next)
 		ps_submit_proc_list (ps_ptr);
 #endif /* KERNEL_LINUX */
 
 	return (0);
 } /* int ps_read */
-#endif /* PROCESSES_HAVE_READ */
 
 void module_register (void)
 {
-#if PROCESSES_HAVE_READ
-#if HAVE_THREAD_INFO | KERNEL_LINUX
 	plugin_register_config ("processes", ps_config,
 			config_keys, config_keys_num);
-#endif
 	plugin_register_init ("processes", ps_init);
 	plugin_register_read ("processes", ps_read);
-#endif /* PROCESSES_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/rrdtool.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/rrdtool.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/rrdtool.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/rrdtool.c	2007-09-02 03:00:35.000000000 +0800
@@ -34,15 +34,27 @@
 struct rrd_cache_s
 {
 	int    values_num;
 	char **values;
 	time_t first_value;
 	time_t last_value;
+	enum
+	{
+		FLAG_NONE   = 0x00,
+		FLAG_QUEUED = 0x01
+	} flags;
 };
 typedef struct rrd_cache_s rrd_cache_t;
 
+struct rrd_queue_s
+{
+	char *filename;
+	struct rrd_queue_s *next;
+};
+typedef struct rrd_queue_s rrd_queue_t;
+
 /*
  * Private variables
  */
 static int rra_timespans[] =
 {
 	3600,
@@ -74,31 +86,56 @@
 	"RRARows",
 	"RRATimespan",
 	"XFF"
 };
 static int config_keys_num = STATIC_ARRAY_SIZE (config_keys);
 
+/* If datadir is zero, the daemon's basedir is used. If stepsize or heartbeat
+ * is zero a default, depending on the `interval' member of the value list is
+ * being used. */
 static char   *datadir   = NULL;
 static int     stepsize  = 0;
 static int     heartbeat = 0;
 static int     rrarows   = 1200;
 static double  xff       = 0.1;
 
+/* XXX: If you need to lock both, cache_lock and queue_lock, at the same time,
+ * ALWAYS lock `cache_lock' first! */
 static int         cache_timeout = 0;
 static int         cache_flush_timeout = 0;
 static time_t      cache_flush_last;
 static avl_tree_t *cache = NULL;
 static pthread_mutex_t cache_lock = PTHREAD_MUTEX_INITIALIZER;
 
+static rrd_queue_t    *queue_head = NULL;
+static rrd_queue_t    *queue_tail = NULL;
+static pthread_t       queue_thread = 0;
+static pthread_mutex_t queue_lock = PTHREAD_MUTEX_INITIALIZER;
+static pthread_cond_t  queue_cond = PTHREAD_COND_INITIALIZER;
+
+static int do_shutdown = 0;
+
 /* * * * * * * * * *
  * WARNING:  Magic *
  * * * * * * * * * */
-static int rra_get (char ***ret)
+
+static void rra_free (int rra_num, char **rra_def)
 {
-	static char **rra_def = NULL;
-	static int rra_num = 0;
+	int i;
+
+	for (i = 0; i < rra_num; i++)
+	{
+		sfree (rra_def[i]);
+	}
+	sfree (rra_def);
+} /* void rra_free */
+
+static int rra_get (char ***ret, const value_list_t *vl)
+{
+	char **rra_def;
+	int rra_num;
 
 	int *rts;
 	int  rts_num;
 
 	int rra_max;
 
@@ -107,16 +144,27 @@
 	int cdp_num;
 	int cdp_len;
 	int i, j;
 
 	char buffer[64];
 
-	if ((rra_num != 0) && (rra_def != NULL))
+	/* The stepsize we use here: If it is user-set, use it. If not, use the
+	 * interval of the value-list. */
+	int ss;
+
+	if (rrarows <= 0)
 	{
-		*ret = rra_def;
-		return (rra_num);
+		*ret = NULL;
+		return (-1);
+	}
+
+	ss = (stepsize > 0) ? stepsize : vl->interval;
+	if (ss <= 0)
+	{
+		*ret = NULL;
+		return (-1);
 	}
 
 	/* Use the configured timespans or fall back to the built-in defaults */
 	if (rra_timespans_custom_num != 0)
 	{
 		rts = rra_timespans_custom;
@@ -130,35 +178,30 @@
 
 	rra_max = rts_num * rra_types_num;
 
 	if ((rra_def = (char **) malloc ((rra_max + 1) * sizeof (char *))) == NULL)
 		return (-1);
 	memset (rra_def, '\0', (rra_max + 1) * sizeof (char *));
-
-	if ((stepsize <= 0) || (rrarows <= 0))
-	{
-		*ret = NULL;
-		return (-1);
-	}
+	rra_num = 0;
 
 	cdp_len = 0;
 	for (i = 0; i < rts_num; i++)
 	{
 		span = rts[i];
 
-		if ((span / stepsize) < rrarows)
+		if ((span / ss) < rrarows)
 			continue;
 
 		if (cdp_len == 0)
 			cdp_len = 1;
 		else
 			cdp_len = (int) floor (((double) span)
-					/ ((double) (rrarows * stepsize)));
+					/ ((double) (rrarows * ss)));
 
 		cdp_num = (int) ceil (((double) span)
-				/ ((double) (cdp_len * stepsize)));
+				/ ((double) (cdp_len * ss)));
 
 		for (j = 0; j < rra_types_num; j++)
 		{
 			if (rra_num >= rra_max)
 				break;
 
@@ -179,25 +222,25 @@
 	for (i = 0; i < rra_num; i++)
 		DEBUG ("  %s", rra_def[i]);
 #endif
 
 	*ret = rra_def;
 	return (rra_num);
-}
+} /* int rra_get */
 
 static void ds_free (int ds_num, char **ds_def)
 {
 	int i;
 
 	for (i = 0; i < ds_num; i++)
 		if (ds_def[i] != NULL)
 			free (ds_def[i]);
 	free (ds_def);
 }
 
-static int ds_get (char ***ret, const data_set_t *ds)
+static int ds_get (char ***ret, const data_set_t *ds, const value_list_t *vl)
 {
 	char **ds_def;
 	int ds_num;
 
 	char min[32];
 	char max[32];
@@ -253,13 +296,14 @@
 			snprintf (max, sizeof (max), "%lf", d->max);
 			max[sizeof (max) - 1] = '\0';
 		}
 
 		status = snprintf (buffer, sizeof (buffer),
 				"DS:%s:%s:%i:%s:%s",
-				d->name, type, heartbeat,
+				d->name, type,
+				(heartbeat > 0) ? heartbeat : (2 * vl->interval),
 				min, max);
 		if ((status < 1) || (status >= sizeof (buffer)))
 			break;
 
 		ds_def[ds_num] = sstrdup (buffer);
 	} /* for ds_num = 0 .. ds->ds_num */
@@ -290,65 +334,56 @@
 	char **rra_def;
 	int rra_num;
 	char **ds_def;
 	int ds_num;
 	int i, j;
 	char stepsize_str[16];
-	char begin_str[16];
 	int status = 0;
 
 	if (check_create_dir (filename))
 		return (-1);
 
-	if ((rra_num = rra_get (&rra_def)) < 1)
+	if ((rra_num = rra_get (&rra_def, vl)) < 1)
 	{
 		ERROR ("rrd_create_file failed: Could not calculate RRAs");
 		return (-1);
 	}
 
-	if ((ds_num = ds_get (&ds_def, ds)) < 1)
+	if ((ds_num = ds_get (&ds_def, ds, vl)) < 1)
 	{
 		ERROR ("rrd_create_file failed: Could not calculate DSes");
 		return (-1);
 	}
 
-	argc = ds_num + rra_num + 6;
+	argc = ds_num + rra_num + 4;
 
 	if ((argv = (char **) malloc (sizeof (char *) * (argc + 1))) == NULL)
 	{
 		char errbuf[1024];
 		ERROR ("rrd_create failed: %s",
 				sstrerror (errno, errbuf, sizeof (errbuf)));
 		return (-1);
 	}
 
 	status = snprintf (stepsize_str, sizeof (stepsize_str),
-			"%i", stepsize);
+			"%i", (stepsize > 0) ? stepsize : vl->interval);
 	if ((status < 1) || (status >= sizeof (stepsize_str)))
 	{
 		ERROR ("rrdtool plugin: snprintf failed.");
-		return (-1);
-	}
-
-	assert (vl->time > 10);
-	status = snprintf (begin_str, sizeof (begin_str),
-			"%llu", (unsigned long long) (vl->time - 10));
-	if ((status < 1) || (status >= sizeof (begin_str)))
-	{
-		ERROR ("rrdtool plugin: snprintf failed.");
+		free (argv);
+		ds_free (ds_num, ds_def);
+		rra_free (rra_num, rra_def);
 		return (-1);
 	}
 
 	argv[0] = "create";
 	argv[1] = filename;
-	argv[2] = "-b";
-	argv[3] = begin_str;
-	argv[4] = "-s";
-	argv[5] = stepsize_str;
+	argv[2] = "-s";
+	argv[3] = stepsize_str;
 
-	j = 6;
+	j = 4;
 	for (i = 0; i < ds_num; i++)
 		argv[j++] = ds_def[i];
 	for (i = 0; i < rra_num; i++)
 		argv[j++] = rra_def[i];
 	argv[j] = NULL;
 
@@ -359,12 +394,13 @@
 		ERROR ("rrd_create failed: %s: %s", filename, rrd_get_error ());
 		status = -1;
 	}
 
 	free (argv);
 	ds_free (ds_num, ds_def);
+	rra_free (rra_num, rra_def);
 
 	return (status);
 }
 
 static int value_list_to_string (char *buffer, int buffer_len,
 		const data_set_t *ds, const value_list_t *vl)
@@ -443,144 +479,149 @@
 		return (-1);
 	offset += status;
 
 	return (0);
 } /* int value_list_to_filename */
 
-static rrd_cache_t *rrd_cache_insert (const char *filename,
-		const char *value, time_t value_time)
+static int rrd_write_to_file (char *filename, char **values, int values_num)
 {
-	rrd_cache_t *rc = NULL;
-	int new_rc = 0;
+	char **argv;
+	int argc;
+	int status;
 
-	if (cache != NULL)
-		avl_get (cache, filename, (void *) &rc);
+	if (values_num < 1)
+		return (0);
 
-	if (rc == NULL)
-	{
-		rc = (rrd_cache_t *) malloc (sizeof (rrd_cache_t));
-		if (rc == NULL)
-			return (NULL);
-		rc->values_num = 0;
-		rc->values = NULL;
-		rc->first_value = 0;
-		rc->last_value = 0;
-		new_rc = 1;
-	}
+	argc = values_num + 2;
+	argv = (char **) malloc ((argc + 1) * sizeof (char *));
+	if (argv == NULL)
+		return (-1);
 
-	if (rc->last_value >= value_time)
-	{
-		WARNING ("rrdtool plugin: (rc->last_value = %u) >= (value_time = %u)",
-				(unsigned int) rc->last_value,
-				(unsigned int) value_time);
-		return (NULL);
-	}
+	argv[0] = "update";
+	argv[1] = filename;
+	memcpy (argv + 2, values, values_num * sizeof (char *));
+	argv[argc] = NULL;
 
-	rc->values = (char **) realloc ((void *) rc->values,
-			(rc->values_num + 1) * sizeof (char *));
-	if (rc->values == NULL)
+	DEBUG ("rrd_update (argc = %i, argv = %p)", argc, (void *) argv);
+
+	optind = 0; /* bug in librrd? */
+	rrd_clear_error ();
+	status = rrd_update (argc, argv);
+	if (status != 0)
 	{
-		char errbuf[1024];
-		ERROR ("rrdtool plugin: realloc failed: %s",
-				sstrerror (errno, errbuf, sizeof (errbuf)));
-		if (cache != NULL)
-		{
-			void *cache_key = NULL;
-			avl_remove (cache, filename, &cache_key, NULL);
-			sfree (cache_key);
-		}
-		free (rc);
-		return (NULL);
+		WARNING ("rrd_update failed: %s: %s",
+				filename, rrd_get_error ());
+		status = -1;
 	}
 
-	rc->values[rc->values_num] = strdup (value);
-	if (rc->values[rc->values_num] != NULL)
-		rc->values_num++;
+	sfree (argv);
 
-	if (rc->values_num == 1)
-		rc->first_value = value_time;
-	rc->last_value = value_time;
+	return (status);
+} /* int rrd_write_cache_entry */
 
-	/* Insert if this is the first value */
-	if ((cache != NULL) && (new_rc == 1))
+static void *rrd_queue_thread (void *data)
+{
+	while (42)
 	{
-		void *cache_key = strdup (filename);
+		rrd_queue_t *queue_entry;
+		rrd_cache_t *cache_entry;
+		char **values;
+		int    values_num;
+		int    i;
 
-		if (cache_key == NULL)
+		/* XXX: If you need to lock both, cache_lock and queue_lock, at
+		 * the same time, ALWAYS lock `cache_lock' first! */
+
+		/* wait until an entry is available */
+		pthread_mutex_lock (&queue_lock);
+		while ((queue_head == NULL) && (do_shutdown == 0))
+			pthread_cond_wait (&queue_cond, &queue_lock);
+
+		/* We're in the shutdown phase */
+		if (queue_head == NULL)
 		{
-			char errbuf[1024];
-			ERROR ("rrdtool plugin: strdup failed: %s",
-					sstrerror (errno, errbuf, sizeof (errbuf)));
-			sfree (rc->values[0]);
-			sfree (rc->values);
-			sfree (rc);
-			return (NULL);
+			pthread_mutex_unlock (&queue_lock);
+			break;
 		}
 
-		avl_insert (cache, cache_key, rc);
-	}
+		/* Dequeue the first entry */
+		queue_entry = queue_head;
+		if (queue_head == queue_tail)
+			queue_head = queue_tail = NULL;
+		else
+			queue_head = queue_head->next;
 
-	DEBUG ("rrd_cache_insert (%s, %s, %u) = %p", filename, value,
-			(unsigned int) value_time, (void *) rc);
+		/* Unlock the queue again */
+		pthread_mutex_unlock (&queue_lock);
 
-	return (rc);
-} /* rrd_cache_t *rrd_cache_insert */
+		/* We now need the cache lock so the entry isn't updated while
+		 * we make a copy of it's values */
+		pthread_mutex_lock (&cache_lock);
 
-static int rrd_write_cache_entry (const char *filename, rrd_cache_t *rc)
-{
-	char **argv;
-	int    argc;
+		avl_get (cache, queue_entry->filename, (void *) &cache_entry);
 
-	char *fn;
-	int status;
+		values = cache_entry->values;
+		values_num = cache_entry->values_num;
 
-	int i;
+		cache_entry->values = NULL;
+		cache_entry->values_num = 0;
+		cache_entry->flags = FLAG_NONE;
 
-	if (rc->values_num < 1)
-		return (0);
+		pthread_mutex_unlock (&cache_lock);
 
-	argc = rc->values_num + 2;
-	argv = (char **) malloc ((argc + 1) * sizeof (char *));
-	if (argv == NULL)
+		/* Write the values to the RRD-file */
+		rrd_write_to_file (queue_entry->filename, values, values_num);
+
+		for (i = 0; i < values_num; i++)
+		{
+			sfree (values[i]);
+		}
+		sfree (values);
+		sfree (queue_entry->filename);
+		sfree (queue_entry);
+	} /* while (42) */
+
+	pthread_mutex_lock (&cache_lock);
+	avl_destroy (cache);
+	cache = NULL;
+	pthread_mutex_unlock (&cache_lock);
+
+	pthread_exit ((void *) 0);
+	return ((void *) 0);
+} /* void *rrd_queue_thread */
+
+static int rrd_queue_cache_entry (const char *filename)
+{
+	rrd_queue_t *queue_entry;
+
+	queue_entry = (rrd_queue_t *) malloc (sizeof (rrd_queue_t));
+	if (queue_entry == NULL)
 		return (-1);
 
-	fn = strdup (filename);
-	if (fn == NULL)
+	queue_entry->filename = strdup (filename);
+	if (queue_entry->filename == NULL)
 	{
-		free (argv);
+		free (queue_entry);
 		return (-1);
 	}
 
-	argv[0] = "update";
-	argv[1] = fn;
-	memcpy (argv + 2, rc->values, rc->values_num * sizeof (char *));
-	argv[argc] = NULL;
-
-	DEBUG ("rrd_update (argc = %i, argv = %p)", argc, (void *) argv);
+	queue_entry->next = NULL;
 
-	optind = 0; /* bug in librrd? */
-	rrd_clear_error ();
-	status = rrd_update (argc, argv);
-	if (status != 0)
-	{
-		WARNING ("rrd_update failed: %s: %s",
-				filename, rrd_get_error ());
-		status = -1;
-	}
+	pthread_mutex_lock (&queue_lock);
+	if (queue_tail == NULL)
+		queue_head = queue_entry;
+	else
+		queue_tail->next = queue_entry;
+	queue_tail = queue_entry;
+	pthread_cond_signal (&queue_cond);
+	pthread_mutex_unlock (&queue_lock);
 
-	free (argv);
-	free (fn);
-	/* Free the value list of `rc' */
-	for (i = 0; i < rc->values_num; i++)
-		free (rc->values[i]);
-	free (rc->values);
-	rc->values = NULL;
-	rc->values_num = 0;
+	DEBUG ("rrdtool plugin: Put `%s' into the update queue", filename);
 
-	return (status);
-} /* int rrd_write_cache_entry */
+	return (0);
+} /* int rrd_queue_cache_entry */
 
 static void rrd_cache_flush (int timeout)
 {
 	rrd_cache_t *rc;
 	time_t       now;
 
@@ -588,25 +629,32 @@
 	int    keys_num = 0;
 
 	char *key;
 	avl_iterator_t *iter;
 	int i;
 
-	if (cache == NULL)
-		return;
-
 	DEBUG ("Flushing cache, timeout = %i", timeout);
 
 	now = time (NULL);
 
 	/* Build a list of entries to be flushed */
 	iter = avl_get_iterator (cache);
 	while (avl_iterator_next (iter, (void *) &key, (void *) &rc) == 0)
 	{
 		DEBUG ("key = %s; age = %i;", key, now - rc->first_value);
-		if ((now - rc->first_value) >= timeout)
+
+		if (rc->flags == FLAG_QUEUED)
+			continue;
+		else if ((now - rc->first_value) < timeout)
+			continue;
+		else if (rc->values_num > 0)
+		{
+			if (rrd_queue_cache_entry (key) == 0)
+				rc->flags = FLAG_QUEUED;
+		}
+		else /* ancient and no values -> waste of memory */
 		{
 			keys = (char **) realloc ((void *) keys,
 					(keys_num + 1) * sizeof (char *));
 			if (keys == NULL)
 			{
 				char errbuf[1024];
@@ -628,32 +676,145 @@
 		if (avl_remove (cache, keys[i], (void *) &key, (void *) &rc) != 0)
 		{
 			DEBUG ("avl_remove (%s) failed.", keys[i]);
 			continue;
 		}
 
-		rrd_write_cache_entry (keys[i], rc);
-		/* rc's value-list is free's by `rrd_write_cache_entry' */
+		assert (rc->values == NULL);
+		assert (rc->values_num == 0);
+
 		sfree (rc);
 		sfree (key);
 		keys[i] = NULL;
 	} /* for (i = 0..keys_num) */
 
 	free (keys);
 	DEBUG ("Flushed %i value(s)", keys_num);
 
 	cache_flush_last = now;
 } /* void rrd_cache_flush */
 
+static int rrd_cache_insert (const char *filename,
+		const char *value, time_t value_time)
+{
+	rrd_cache_t *rc = NULL;
+	int new_rc = 0;
+	char **values_new;
+
+	pthread_mutex_lock (&cache_lock);
+
+	avl_get (cache, filename, (void *) &rc);
+
+	if (rc == NULL)
+	{
+		rc = (rrd_cache_t *) malloc (sizeof (rrd_cache_t));
+		if (rc == NULL)
+			return (-1);
+		rc->values_num = 0;
+		rc->values = NULL;
+		rc->first_value = 0;
+		rc->last_value = 0;
+		rc->flags = FLAG_NONE;
+		new_rc = 1;
+	}
+
+	if (rc->last_value >= value_time)
+	{
+		pthread_mutex_unlock (&cache_lock);
+		WARNING ("rrdtool plugin: (rc->last_value = %u) >= (value_time = %u)",
+				(unsigned int) rc->last_value,
+				(unsigned int) value_time);
+		return (-1);
+	}
+
+	values_new = (char **) realloc ((void *) rc->values,
+			(rc->values_num + 1) * sizeof (char *));
+	if (values_new == NULL)
+	{
+		char errbuf[1024];
+		void *cache_key = NULL;
+
+		sstrerror (errno, errbuf, sizeof (errbuf));
+
+		avl_remove (cache, filename, &cache_key, NULL);
+		pthread_mutex_unlock (&cache_lock);
+
+		ERROR ("rrdtool plugin: realloc failed: %s", errbuf);
+
+		sfree (cache_key);
+		sfree (rc->values);
+		sfree (rc);
+		return (-1);
+	}
+	rc->values = values_new;
+
+	rc->values[rc->values_num] = strdup (value);
+	if (rc->values[rc->values_num] != NULL)
+		rc->values_num++;
+
+	if (rc->values_num == 1)
+		rc->first_value = value_time;
+	rc->last_value = value_time;
+
+	/* Insert if this is the first value */
+	if (new_rc == 1)
+	{
+		void *cache_key = strdup (filename);
+
+		if (cache_key == NULL)
+		{
+			char errbuf[1024];
+			sstrerror (errno, errbuf, sizeof (errbuf));
+
+			pthread_mutex_unlock (&cache_lock);
+
+			ERROR ("rrdtool plugin: strdup failed: %s", errbuf);
+
+			sfree (rc->values[0]);
+			sfree (rc->values);
+			sfree (rc);
+			return (-1);
+		}
+
+		avl_insert (cache, cache_key, rc);
+	}
+
+	DEBUG ("rrd_cache_insert (%s, %s, %u) = %p", filename, value,
+			(unsigned int) value_time, (void *) rc);
+
+	if ((rc->last_value - rc->first_value) >= cache_timeout)
+	{
+		/* XXX: If you need to lock both, cache_lock and queue_lock, at
+		 * the same time, ALWAYS lock `cache_lock' first! */
+		if (rc->flags != FLAG_QUEUED)
+		{
+			if (rrd_queue_cache_entry (filename) == 0)
+				rc->flags = FLAG_QUEUED;
+		}
+		else
+		{
+			DEBUG ("rrdtool plugin: `%s' is already queued.", filename);
+		}
+	}
+
+	if ((cache_timeout > 0) &&
+			((time (NULL) - cache_flush_last) > cache_flush_timeout))
+		rrd_cache_flush (cache_flush_timeout);
+
+
+	pthread_mutex_unlock (&cache_lock);
+
+	return (0);
+} /* int rrd_cache_insert */
+
 static int rrd_write (const data_set_t *ds, const value_list_t *vl)
 {
 	struct stat  statbuf;
 	char         filename[512];
 	char         values[512];
-	rrd_cache_t *rc;
-	time_t       now;
+	int          status;
 
 	if (value_list_to_filename (filename, sizeof (filename), ds, vl) != 0)
 		return (-1);
 
 	if (value_list_to_string (values, sizeof (values), ds, vl) != 0)
 		return (-1);
@@ -678,43 +839,15 @@
 	{
 		ERROR ("stat(%s): Not a regular file!",
 				filename);
 		return (-1);
 	}
 
-	pthread_mutex_lock (&cache_lock);
-	rc = rrd_cache_insert (filename, values, vl->time);
-	if (rc == NULL)
-	{
-		pthread_mutex_unlock (&cache_lock);
-		return (-1);
-	}
-
-	if (cache == NULL)
-	{
-		rrd_write_cache_entry (filename, rc);
-		/* rc's value-list is free's by `rrd_write_cache_entry' */
-		sfree (rc);
-		pthread_mutex_unlock (&cache_lock);
-		return (0);
-	}
-
-	now = time (NULL);
-
-	DEBUG ("age (%s) = %i", filename, now - rc->first_value);
-
-	/* `rc' is not free'd here, because we'll likely reuse it. If not, then
-	 * the next flush will remove this entry.  */
-	if ((now - rc->first_value) >= cache_timeout)
-		rrd_write_cache_entry (filename, rc);
-
-	if ((now - cache_flush_last) >= cache_flush_timeout)
-		rrd_cache_flush (cache_flush_timeout);
+	status = rrd_cache_insert (filename, values, vl->time);
 
-	pthread_mutex_unlock (&cache_lock);
-	return (0);
+	return (status);
 } /* int rrd_write */
 
 static int rrd_config (const char *key, const char *value)
 {
 	if (strcasecmp ("CacheTimeout", key) == 0)
 	{
@@ -757,31 +890,21 @@
 				datadir = NULL;
 			}
 		}
 	}
 	else if (strcasecmp ("StepSize", key) == 0)
 	{
-		int tmp = atoi (value);
-		if (tmp <= 0)
-		{
-			fprintf (stderr, "rrdtool: `StepSize' must "
-					"be greater than 0.\n");
-			return (1);
-		}
-		stepsize = tmp;
+		stepsize = atoi (value);
+		if (stepsize < 0)
+			stepsize = 0;
 	}
 	else if (strcasecmp ("HeartBeat", key) == 0)
 	{
-		int tmp = atoi (value);
-		if (tmp <= 0)
-		{
-			fprintf (stderr, "rrdtool: `HeartBeat' must "
-					"be greater than 0.\n");
-			return (1);
-		}
-		heartbeat = tmp;
+		heartbeat = atoi (value);
+		if (heartbeat < 0)
+			heartbeat = 0;
 	}
 	else if (strcasecmp ("RRARows", key) == 0)
 	{
 		int tmp = atoi (value);
 		if (tmp <= 0)
 		{
@@ -842,53 +965,73 @@
 } /* int rrd_config */
 
 static int rrd_shutdown (void)
 {
 	pthread_mutex_lock (&cache_lock);
 	rrd_cache_flush (-1);
-	if (cache != NULL)
-		avl_destroy (cache);
-	cache = NULL;
 	pthread_mutex_unlock (&cache_lock);
 
+	pthread_mutex_lock (&queue_lock);
+	do_shutdown = 1;
+	pthread_cond_signal (&queue_cond);
+	pthread_mutex_unlock (&queue_lock);
+
 	return (0);
 } /* int rrd_shutdown */
 
 static int rrd_init (void)
 {
-	if (stepsize <= 0)
-		stepsize = interval_g;
+	int status;
+
+	if (stepsize < 0)
+		stepsize = 0;
 	if (heartbeat <= 0)
-		heartbeat = 2 * interval_g;
+	{
+		if (stepsize > 0)
+			heartbeat = 2 * stepsize;
+		else
+			heartbeat = 0;
+	}
 
-	if (heartbeat < interval_g)
+	if ((heartbeat > 0) && (heartbeat < interval_g))
 		WARNING ("rrdtool plugin: Your `heartbeat' is "
 				"smaller than your `interval'. This will "
 				"likely cause problems.");
-	else if (stepsize < interval_g)
+	else if ((stepsize > 0) && (stepsize < interval_g))
 		WARNING ("rrdtool plugin: Your `stepsize' is "
 				"smaller than your `interval'. This will "
 				"create needlessly big RRD-files.");
 
+	/* Set the cache up */
 	pthread_mutex_lock (&cache_lock);
+
+	cache = avl_create ((int (*) (const void *, const void *)) strcmp);
+	if (cache == NULL)
+	{
+		ERROR ("rrdtool plugin: avl_create failed.");
+		return (-1);
+	}
+
+	cache_flush_last = time (NULL);
 	if (cache_timeout < 2)
 	{
 		cache_timeout = 0;
 		cache_flush_timeout = 0;
 	}
-	else
-	{
-		if (cache_flush_timeout < cache_timeout)
-			cache_flush_timeout = 10 * cache_timeout;
+	else if (cache_flush_timeout < cache_timeout)
+		cache_flush_timeout = 10 * cache_timeout;
 
-		cache = avl_create ((int (*) (const void *, const void *)) strcmp);
-		cache_flush_last = time (NULL);
-		plugin_register_shutdown ("rrdtool", rrd_shutdown);
-	}
 	pthread_mutex_unlock (&cache_lock);
 
+	status = pthread_create (&queue_thread, NULL, rrd_queue_thread, NULL);
+	if (status != 0)
+	{
+		ERROR ("rrdtool plugin: Cannot create queue-thread.");
+		return (-1);
+	}
+
 	DEBUG ("rrdtool plugin: rrd_init: datadir = %s; stepsize = %i;"
 			" heartbeat = %i; rrarows = %i; xff = %lf;",
 			(datadir == NULL) ? "(null)" : datadir,
 			stepsize, heartbeat, rrarows, xff);
 
 	return (0);
@@ -897,7 +1040,8 @@
 void module_register (void)
 {
 	plugin_register_config ("rrdtool", rrd_config,
 			config_keys, config_keys_num);
 	plugin_register_init ("rrdtool", rrd_init);
 	plugin_register_write ("rrdtool", rrd_write);
+	plugin_register_shutdown ("rrdtool", rrd_shutdown);
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/sensors.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/sensors.c	2007-09-02 03:00:35.000000000 +0800
@@ -33,23 +33,14 @@
 #include "plugin.h"
 #include "configfile.h"
 #include "utils_ignorelist.h"
 
 #if defined(HAVE_SENSORS_SENSORS_H)
 # include <sensors/sensors.h>
-#else
-# undef HAVE_LIBSENSORS
 #endif
 
-#if defined(HAVE_LIBSENSORS)
-# define SENSORS_HAVE_READ 1
-#else
-# define SENSORS_HAVE_READ 0
-#endif
-
-#if SENSORS_HAVE_READ
 #define SENSOR_TYPE_VOLTAGE     0
 #define SENSOR_TYPE_FANSPEED    1
 #define SENSOR_TYPE_TEMPERATURE 2
 #define SENSOR_TYPE_UNKNOWN     3
 
 static char *sensor_to_type[] =
@@ -430,17 +421,14 @@
 				type_instance,
 				value);
 	} /* for feature = first_feature .. NULL */
 
 	return (0);
 } /* int sensors_read */
-#endif /* SENSORS_HAVE_READ */
 
 void module_register (void)
 {
-#if SENSORS_HAVE_READ
 	plugin_register_config ("sensors", sensors_config,
 			config_keys, config_keys_num);
 	plugin_register_read ("sensors", sensors_read);
 	plugin_register_shutdown ("sensors", sensors_shutdown);
-#endif
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/serial.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/serial.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/serial.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/serial.c	2007-09-02 03:00:35.000000000 +0800
@@ -22,19 +22,16 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-#if defined(KERNEL_LINUX)
-# define SERIAL_HAVE_READ 1
-#else
-# define SERIAL_HAVE_READ 0
+#if !KERNEL_LINUX
+# error "No applicable input method."
 #endif
 
-#if SERIAL_HAVE_READ
 static void serial_submit (const char *type_instance,
 		counter_t rx, counter_t tx)
 {
 	value_t values[2];
 	value_list_t vl = VALUE_LIST_INIT;
 
@@ -51,13 +48,12 @@
 
 	plugin_dispatch_values ("serial_octets", &vl);
 }
 
 static int serial_read (void)
 {
-#ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 
 	counter_t rx = 0;
 	counter_t tx = 0;
 	
@@ -118,16 +114,12 @@
 
 		serial_submit (fields[0], rx, tx);
 	}
 
 	fclose (fh);
 	return (0);
-#endif /* KERNEL_LINUX */
 } /* int serial_read */
-#endif /* SERIAL_HAVE_READ */
 
 void module_register (void)
 {
-#if SERIAL_HAVE_READ
 	plugin_register_read ("serial", serial_read);
-#endif /* SERIAL_HAVE_READ */
 } /* void module_register */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src: snmp.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/swap.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/swap.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/swap.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/swap.c	2007-09-02 03:00:35.000000000 +0800
@@ -33,22 +33,15 @@
 #  include <sys/sysctl.h>
 #endif
 #if HAVE_KVM_H
 #  include <kvm.h>
 #endif
 
-#if KERNEL_LINUX || HAVE_LIBKSTAT || defined(VM_SWAPUSAGE) || HAVE_LIBKVM || HAVE_LIBSTATGRAB
-# define SWAP_HAVE_READ 1
-#else
-# define SWAP_HAVE_READ 0
-#endif
-
 #undef  MAX
 #define MAX(x,y) ((x) > (y) ? (x) : (y))
 
-#if SWAP_HAVE_READ
 #if KERNEL_LINUX
 /* No global variables */
 /* #endif KERNEL_LINUX */
 
 #elif HAVE_LIBKSTAT
 static unsigned long long pagesize;
@@ -63,12 +56,16 @@
 static kvm_t *kvm_obj = NULL;
 int kvm_pagesize;
 /* #endif HAVE_LIBKVM */
 
 #elif HAVE_LIBSTATGRAB
 /* No global variables */
+/* #endif HAVE_LIBSTATGRAB */
+
+#else
+# error "No applicable input method."
 #endif /* HAVE_LIBSTATGRAB */
 
 static int swap_init (void)
 {
 #if KERNEL_LINUX
 	/* No init stuff */
@@ -297,15 +294,12 @@
 	swap_submit ("used", swap->used);
 	swap_submit ("free", swap->free);
 #endif /* HAVE_LIBSTATGRAB */
 
 	return (0);
 } /* int swap_read */
-#endif /* SWAP_HAVE_READ */
 
 void module_register (void)
 {
-#if SWAP_HAVE_READ
 	plugin_register_init ("swap", swap_init);
 	plugin_register_read ("swap", swap_read);
-#endif /* SWAP_HAVE_READ */
 } /* void module_register */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/tape.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/tape.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/tape.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/tape.c	2007-09-02 03:00:35.000000000 +0800
@@ -21,29 +21,23 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-#if defined(HAVE_LIBKSTAT)
-# define TAPE_HAVE_READ 1
-#else
-# define TAPE_HAVE_READ 0
+#if !HAVE_LIBKSTAT
+# error "No applicable input method."
 #endif
 
-#if TAPE_HAVE_READ
-#if defined(HAVE_LIBKSTAT)
 #define MAX_NUMTAPE 256
 extern kstat_ctl_t *kc;
 static kstat_t *ksp[MAX_NUMTAPE];
 static int numtape = 0;
-#endif /* HAVE_LIBKSTAT */
 
 static int tape_init (void)
 {
-#ifdef HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 
 	numtape = 0;
 
 	if (kc == NULL)
 		return (-1);
@@ -55,16 +49,15 @@
 		if (strncmp (ksp_chain->ks_class, "tape", 4) )
 			continue;
 		if (ksp_chain->ks_type != KSTAT_TYPE_IO)
 			continue;
 		ksp[numtape++] = ksp_chain;
 	}
-#endif
 
 	return (0);
-}
+} /* int tape_init */
 
 static void tape_submit (const char *plugin_instance,
 		const char *type,
 		counter_t read, counter_t write)
 {
 	value_t values[2];
@@ -84,30 +77,29 @@
 	plugin_dispatch_values (type, &vl);
 } /* void tape_submit */
 
 static int tape_read (void)
 {
 
-#if defined(HAVE_LIBKSTAT)
-# if HAVE_KSTAT_IO_T_WRITES && HAVE_KSTAT_IO_T_NWRITES && HAVE_KSTAT_IO_T_WTIME
-#  define KIO_ROCTETS reads
-#  define KIO_WOCTETS writes
-#  define KIO_ROPS    nreads
-#  define KIO_WOPS    nwrites
-#  define KIO_RTIME   rtime
-#  define KIO_WTIME   wtime
-# elif HAVE_KSTAT_IO_T_NWRITTEN && HAVE_KSTAT_IO_T_WRITES && HAVE_KSTAT_IO_T_WTIME
-#  define KIO_ROCTETS nread
-#  define KIO_WOCTETS nwritten
-#  define KIO_ROPS    reads
-#  define KIO_WOPS    writes
-#  define KIO_RTIME   rtime
-#  define KIO_WTIME   wtime
-# else
-#  error "kstat_io_t does not have the required members"
-# endif
+#if HAVE_KSTAT_IO_T_WRITES && HAVE_KSTAT_IO_T_NWRITES && HAVE_KSTAT_IO_T_WTIME
+# define KIO_ROCTETS reads
+# define KIO_WOCTETS writes
+# define KIO_ROPS    nreads
+# define KIO_WOPS    nwrites
+# define KIO_RTIME   rtime
+# define KIO_WTIME   wtime
+#elif HAVE_KSTAT_IO_T_NWRITTEN && HAVE_KSTAT_IO_T_WRITES && HAVE_KSTAT_IO_T_WTIME
+# define KIO_ROCTETS nread
+# define KIO_WOCTETS nwritten
+# define KIO_ROPS    reads
+# define KIO_WOPS    writes
+# define KIO_RTIME   rtime
+# define KIO_WTIME   wtime
+#else
+# error "kstat_io_t does not have the required members"
+#endif
 	static kstat_io_t kio;
 	int i;
 
 	if (kc == NULL)
 		return (-1);
 
@@ -127,19 +119,15 @@
 					kio.KIO_ROPS, kio.KIO_WOPS);
 			/* FIXME: Convert this to microseconds if necessary */
 			tape_submit (ksp[i]->ks_name, "tape_time",
 					kio.KIO_RTIME, kio.KIO_WTIME);
 		}
 	}
-#endif /* defined(HAVE_LIBKSTAT) */
 
 	return (0);
 }
-#endif /* TAPE_HAVE_READ */
 
 void module_register (void)
 {
-#if TAPE_HAVE_READ
 	plugin_register_init ("tape", tape_init);
 	plugin_register_read ("tape", tape_read);
-#endif /* TAPE_HAVE_READ */
 }
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/types.db /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/types.db
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/types.db	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/types.db	2007-09-02 03:00:35.000000000 +0800
@@ -1,10 +1,11 @@
 apache_bytes		count:COUNTER:0:134217728
 apache_connections	count:GAUGE:0:65535
 apache_requests		count:COUNTER:0:134217728
 apache_scoreboard	count:GAUGE:0:65535
+bitrate			value:GAUGE:0:4294967295
 charge			value:GAUGE:0:U
 counter			value:COUNTER:U:U
 cpu			value:COUNTER:0:4294967295
 cpufreq			value:GAUGE:0:U
 current			value:GAUGE:U:U
 delay			seconds:GAUGE:-1000000:1000000
@@ -23,15 +24,20 @@
 entropy			entropy:GAUGE:0:4294967295
 fanspeed		value:GAUGE:0:U
 frequency		frequency:GAUGE:0:U
 frequency_offset	ppm:GAUGE:-1000000:1000000
 gauge			value:GAUGE:U:U
 humitidy		value:GAUGE:0:100
+if_collisions		value:COUNTER:0:4294967295
+if_dropped		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_errors		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
+if_multicast		value:COUNTER:0:4294967295
 if_octets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
 if_packets		rx:COUNTER:0:4294967295, tx:COUNTER:0:4294967295
+if_rx_errors		value:COUNTER:0:4294967295
+if_tx_errors		value:COUNTER:0:4294967295
 ipt_bytes		value:COUNTER:0:134217728
 ipt_packets		value:COUNTER:0:134217728
 irq			value:COUNTER:U:65535
 load			shortterm:GAUGE:0:100, midterm:GAUGE:0:100, longterm:GAUGE:0:100
 memory			value:GAUGE:0:281474976710656
 multimeter		value:GAUGE:U:U
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/unixsock.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/unixsock.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/unixsock.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/unixsock.c	2007-09-02 03:00:35.000000000 +0800
@@ -20,12 +20,13 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 #include "configfile.h"
+#include "utils_cmd_putval.h"
 
 /* Folks without pthread will need to disable this plugin. */
 #include <pthread.h>
 
 #include <sys/socket.h>
 #include <sys/un.h>
@@ -33,13 +34,13 @@
 #include <grp.h>
 
 #ifndef UNIX_PATH_MAX
 # define UNIX_PATH_MAX sizeof (((struct sockaddr_un *)0)->sun_path)
 #endif
 
-#define US_DEFAULT_PATH PREFIX"/var/run/"PACKAGE_NAME"-unixsock"
+#define US_DEFAULT_PATH LOCALSTATEDIR"/run/"PACKAGE_NAME"-unixsock"
 
 /*
  * Private data structures
  */
 /* linked list of cached values */
 typedef struct value_cache_s
@@ -326,13 +327,13 @@
 			this = cache_head;
 		else
 			this = prev->next;
 	} /* while (this != NULL) */
 
 	pthread_mutex_unlock (&cache_lock);
-} /* int cache_flush */
+} /* void cache_flush */
 
 static int us_open_socket (void)
 {
 	struct sockaddr_un sa;
 	int status;
 
@@ -348,19 +349,18 @@
 	memset (&sa, '\0', sizeof (sa));
 	sa.sun_family = AF_UNIX;
 	strncpy (sa.sun_path, (sock_file != NULL) ? sock_file : US_DEFAULT_PATH,
 			sizeof (sa.sun_path) - 1);
 	/* unlink (sa.sun_path); */
 
-	DEBUG ("unixsock plugin: socket path = %s", sa.sun_path);
-
 	status = bind (sock_fd, (struct sockaddr *) &sa, sizeof (sa));
 	if (status != 0)
 	{
 		char errbuf[1024];
 		sstrerror (errno, errbuf, sizeof (errbuf));
+		DEBUG ("bind failed: %s; sa.sun_path = %s", errbuf, sa.sun_path);
 		ERROR ("unixsock plugin: bind failed: %s", errbuf);
 		close (sock_fd);
 		sock_fd = -1;
 		return (-1);
 	}
 
@@ -485,154 +485,61 @@
 	fprintf (fh, "\n");
 	fflush (fh);
 
 	return (0);
 } /* int us_handle_getval */
 
-static int us_handle_putval (FILE *fh, char **fields, int fields_num)
+static int us_handle_listval (FILE *fh, char **fields, int fields_num)
 {
-	char *hostname;
-	char *plugin;
-	char *plugin_instance;
-	char *type;
-	char *type_instance;
-	int   status;
-	int   i;
-
-	const data_set_t *ds;
-	value_list_t vl = VALUE_LIST_INIT;
-
-	char **value_ptr;
+	char buffer[1024];
+	char **value_list = NULL;
+	int value_list_len = 0;
+	value_cache_t *entry;
+	int i;
 
-	if (fields_num != 3)
+	if (fields_num != 1)
 	{
-		DEBUG ("unixsock plugin: Wrong number of fields: %i", fields_num);
-		fprintf (fh, "-1 Wrong number of fields: Got %i, expected 3.\n",
+		DEBUG ("unixsock plugin: us_handle_listval: "
+				"Wrong number of fields: %i", fields_num);
+		fprintf (fh, "-1 Wrong number of fields: Got %i, expected 1.\n",
 				fields_num);
 		fflush (fh);
 		return (-1);
 	}
 
-	status = parse_identifier (fields[1], &hostname,
-			&plugin, &plugin_instance,
-			&type, &type_instance);
-	if (status != 0)
-	{
-		DEBUG ("unixsock plugin: Cannot parse `%s'", fields[1]);
-		fprintf (fh, "-1 Cannot parse identifier.\n");
-		fflush (fh);
-		return (-1);
-	}
-
-	if ((strlen (hostname) >= sizeof (vl.host))
-			|| (strlen (plugin) >= sizeof (vl.plugin))
-			|| ((plugin_instance != NULL)
-				&& (strlen (plugin_instance) >= sizeof (vl.plugin_instance)))
-			|| ((type_instance != NULL)
-				&& (strlen (type_instance) >= sizeof (vl.type_instance))))
-	{
-		fprintf (fh, "-1 Identifier too long.");
-		return (-1);
-	}
-
-	strcpy (vl.host, hostname);
-	strcpy (vl.plugin, plugin);
-	if (plugin_instance != NULL)
-		strcpy (vl.plugin_instance, plugin_instance);
-	if (type_instance != NULL)
-		strcpy (vl.type_instance, type_instance);
-
-	{ /* parse the time */
-		char *t = fields[2];
-		char *v = strchr (t, ':');
-		if (v == NULL)
-		{
-			fprintf (fh, "-1 No time found.");
-			return (-1);
-		}
-		*v = '\0'; v++;
-
-		vl.time = (time_t) atoi (t);
-		if (vl.time == 0)
-			vl.time = time (NULL);
-
-		fields[2] = v;
-	}
-
-	ds = plugin_get_ds (type);
-	if (ds == NULL)
-		return (-1);
-
-	value_ptr = (char **) calloc (ds->ds_num, sizeof (char *));
-	if (value_ptr == NULL)
-	{
-		fprintf (fh, "-1 calloc failed.");
-		return (-1);
-	}
-
-	{ /* parse the value-list. It's colon-separated. */
-		char *dummy;
-		char *ptr;
-		char *saveptr;
-
-		i = 0;
-		dummy = fields[2];
-		saveptr = NULL;
-		while ((ptr = strtok_r (dummy, ":", &saveptr)) != NULL)
-		{
-			dummy = NULL;
-			if (i >= ds->ds_num)
-			{
-				i = ds->ds_num + 1;
-				break;
-			}
-			value_ptr[i] = ptr;
-			i++;
-		}
-
-		if (i != ds->ds_num)
-		{
-			sfree (value_ptr);
-			fprintf (fh, "-1 Number of values incorrect: Got %i, "
-					"expected %i.", i, ds->ds_num);
-			return (-1);
-		}
-	} /* done parsing the value-list */
+	pthread_mutex_lock (&cache_lock);
 
-	vl.values_len = ds->ds_num;
-	vl.values = (value_t *) malloc (vl.values_len * sizeof (value_t));
-	if (vl.values == NULL)
+	for (entry = cache_head; entry != NULL; entry = entry->next)
 	{
-		sfree (value_ptr);
-		fprintf (fh, "-1 malloc failed.");
-		return (-1);
-	}
-	DEBUG ("value_ptr = 0x%p; vl.values = 0x%p;", (void *) value_ptr, (void *) vl.values);
+		char **tmp;
 
-	for (i = 0; i < ds->ds_num; i++)
-	{
-		if (strcmp (value_ptr[i], "U") == 0)
-			vl.values[i].gauge = NAN;
-		else if (ds->ds[i].type == DS_TYPE_COUNTER)
-			vl.values[i].counter = atoll (value_ptr[i]);
-		else if (ds->ds[i].type == DS_TYPE_GAUGE)
-			vl.values[i].gauge = atof (value_ptr[i]);
-	} /* for (i = 2 .. fields_num) */
+		snprintf (buffer, sizeof (buffer), "%u %s\n",
+				(unsigned int) entry->time, entry->name);
+		buffer[sizeof (buffer) - 1] = '\0';
+		
+		tmp = realloc (value_list, sizeof (char *) * (value_list_len + 1));
+		if (tmp == NULL)
+			continue;
+		value_list = tmp;
 
-	plugin_dispatch_values (type, &vl);
+		value_list[value_list_len] = strdup (buffer);
 
-	DEBUG ("value_ptr = 0x%p; vl.values = 0x%p;", (void *) value_ptr, (void *) vl.values);
+		if (value_list[value_list_len] != NULL)
+			value_list_len++;
+	} /* for (entry) */
 
-	sfree (value_ptr);
-	sfree (vl.values); 
+	pthread_mutex_unlock (&cache_lock);
 
-	fprintf (fh, "0 Success\n");
+	DEBUG ("unixsock plugin: us_handle_listval: value_list_len = %i", value_list_len);
+	fprintf (fh, "%i Values found\n", value_list_len);
+	for (i = 0; i < value_list_len; i++)
+		fputs (value_list[i], fh);
 	fflush (fh);
 
 	return (0);
-} /* int us_handle_putval */
+} /* int us_handle_listval */
 
 static void *us_handle_client (void *arg)
 {
 	int fd;
 	FILE *fh;
 	char buffer[1024];
@@ -681,13 +588,17 @@
 		if (strcasecmp (fields[0], "getval") == 0)
 		{
 			us_handle_getval (fh, fields, fields_num);
 		}
 		else if (strcasecmp (fields[0], "putval") == 0)
 		{
-			us_handle_putval (fh, fields, fields_num);
+			handle_putval (fh, fields, fields_num);
+		}
+		else if (strcasecmp (fields[0], "listval") == 0)
+		{
+			us_handle_listval (fh, fields, fields_num);
 		}
 		else
 		{
 			fprintf (fh, "-1 Unknown command: %s\n", fields[0]);
 			fflush (fh);
 		}
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/users.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/users.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/users.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/users.c	2007-09-02 03:00:35.000000000 +0800
@@ -22,27 +22,22 @@
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
 #if HAVE_UTMPX_H
 # include <utmpx.h>
-#else /* !HAVE_UTMPX_H */
-# if HAVE_UTMP_H
-#  include <utmp.h>
-# endif /* HAVE_UTMP_H */
-#endif /* HAVE_UTMPX_H */
+/* #endif HAVE_UTMPX_H */
 
-#define MODULE_NAME "users"
+#elif HAVE_UTMP_H
+# include <utmp.h>
+/* #endif HAVE_UTMP_H */
 
-#if HAVE_GETUTXENT || HAVE_GETUTENT
-# define USERS_HAVE_READ 1
 #else
-# define USERS_HAVE_READ 0
+# error "No applicable input method."
 #endif
 
-#if USERS_HAVE_READ
 static void users_submit (gauge_t value)
 {
 	value_t values[1];
 	value_list_t vl = VALUE_LIST_INIT;
 
 	values[0].gauge = value;
@@ -89,18 +84,19 @@
 			++users;
 		}
 	}
 	endutent();
 
 	users_submit (users);
-#endif /* HAVE_GETUTENT */
+/* #endif HAVE_GETUTENT */
+
+#else
+# error "No applicable input method."
+#endif
 
 	return (0);
 } /* int users_read */
-#endif /* USERS_HAVE_READ */
 
 void module_register (void)
 {
-#if USERS_HAVE_READ
 	plugin_register_read ("users", users_read);
-#endif
 } /* void module_register(void) */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src: utils_cmd_putval.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src: utils_cmd_putval.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/vserver.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/vserver.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/vserver.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/vserver.c	2007-09-02 03:00:35.000000000 +0800
@@ -25,22 +25,18 @@
 
 #include <dirent.h>
 #include <sys/types.h>
 
 #define BUFSIZE 512
 
-#define MODULE_NAME "vserver"
 #define PROCDIR "/proc/virtual"
 
-#if defined(KERNEL_LINUX)
-# define VSERVER_HAVE_READ 1
-#else
-# define VSERVER_HAVE_READ 0
-#endif /* defined(KERNEL_LINUX) */
+#if !KERNEL_LINUX
+# error "No applicable input method."
+#endif
 
-#if VSERVER_HAVE_READ
 static int pagesize = 0;
 
 static int vserver_init (void)
 {
 	/* XXX Should we check for getpagesize () in configure?
 	 * What's the right thing to do, if there is no getpagesize ()? */
@@ -303,17 +299,14 @@
 	} /* while (readdir) */
 
 	closedir (proc);
 
 	return (0);
 } /* int vserver_read */
-#endif /* VSERVER_HAVE_READ */
 
 void module_register (void)
 {
-#if VSERVER_HAVE_READ
 	plugin_register_init ("vserver", vserver_init);
 	plugin_register_read ("vserver", vserver_read);
-#endif /* VSERVER_HAVE_READ */
 } /* void module_register(void) */
 
 /* vim: set ts=4 sw=4 noexpandtab : */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/wireless.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/wireless.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.0.9/src/wireless.c	2007-09-28 22:24:13.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src/wireless.c	2007-09-02 03:00:35.000000000 +0800
@@ -20,21 +20,18 @@
  **/
 
 #include "collectd.h"
 #include "common.h"
 #include "plugin.h"
 
-#if defined(KERNEL_LINUX)
-# define WIRELESS_HAVE_READ 1
-#else
-# define WIRELESS_HAVE_READ 0
+#if !KERNEL_LINUX
+# error "No applicable input method."
 #endif
 
 #define WIRELESS_PROC_FILE "/proc/net/wireless"
 
-#if WIRELESS_HAVE_READ
 #if 0
 static double wireless_dbm_to_watt (double dbm)
 {
 	double watt;
 
 	/*
@@ -64,21 +61,12 @@
 	strncpy (vl.plugin_instance, plugin_instance,
 			sizeof (vl.plugin_instance));
 
 	plugin_dispatch_values (type, &vl);
 } /* void wireless_submit */
 
-#define POWER_MIN -90.0
-#define POWER_MAX -50.0
-static double wireless_percent_to_power (double quality)
-{
-	assert ((quality >= 0.0) && (quality <= 100.0));
-
-	return ((quality * (POWER_MAX - POWER_MIN)) + POWER_MIN);
-} /* double wireless_percent_to_power */
-
 static int wireless_read (void)
 {
 #ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 
@@ -102,14 +90,12 @@
 		return (-1);
 	}
 
 	devices_found = 0;
 	while (fgets (buffer, sizeof (buffer), fh) != NULL)
 	{
-		char *endptr;
-
 		numfields = strsplit (buffer, fields, 8);
 
 		if (numfields < 5)
 			continue;
 
 		len = strlen (fields[0]) - 1;
@@ -117,34 +103,25 @@
 			continue;
 		if (fields[0][len] != ':')
 			continue;
 		fields[0][len] = '\0';
 
 		device  = fields[0];
+		quality = atof (fields[2]);
+		power   = atof (fields[3]);
+		noise   = atof (fields[4]);
+
+		/* Fill in invalid values when conversion failed.. */
+		if (quality == 0.0)
+			quality = -1.0; /* quality >= 0 */
+
+		if (power == 0.0)
+			power = 1.0; /* power <= 0 */
 
-		quality = strtod (fields[2], &endptr);
-		if (fields[2] == endptr)
-			quality = -1.0; /* invalid */
-
-		/* power [dBm] < 0.0 */
-		power = strtod (fields[3], &endptr);
-		if (fields[3] == endptr)
-			power = 1.0; /* invalid */
-		else if ((power >= 0.0) && (power <= 100.0))
-			power = wireless_percent_to_power (power);
-		else if (power > 100.0)
-			power = 1.0; /* invalid */
-
-		/* noise [dBm] < 0.0 */
-		noise = strtod (fields[3], &endptr);
-		if (fields[3] == endptr)
-			noise = 1.0; /* invalid */
-		else if ((noise >= 0.0) && (noise <= 100.0))
-			noise = wireless_percent_to_power (noise);
-		else if (noise > 100.0)
-			noise = 1.0; /* invalid */
+		if (noise == 0.0)
+			noise = 1.0; /* noise <= 0 */
 
 		wireless_submit (device, "signal_quality", quality);
 		wireless_submit (device, "signal_power", power);
 		wireless_submit (device, "signal_noise", noise);
 
 		devices_found++;
@@ -157,14 +134,11 @@
 	if (devices_found == 0)
 		return (-1);
 #endif /* KERNEL_LINUX */
 
 	return (0);
 } /* int wireless_read */
-#endif /* WIRELESS_HAVE_READ */
 
 void module_register (void)
 {
-#if WIRELESS_HAVE_READ
 	plugin_register_read ("wireless", wireless_read);
-#endif /* WIRELESS_HAVE_READ */
 } /* void module_register */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-4.1.0/src: xmms.c
