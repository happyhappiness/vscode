diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/AUTHORS /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/AUTHORS
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/AUTHORS	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/AUTHORS	2006-01-20 17:51:57.000000000 +0800
@@ -1,35 +1,38 @@
 This package was written by:
-  Florian octo Forster <octo@verplant.org>
+  Florian octo Forster <octo at verplant.org>
 
 cpufreq module by:
-  Peter Holik <peter@holik.at>
+  Peter Holik <peter at holik.at>
 
 hddtemp module by:
-  Vincent Stehlé <vincent.stehle@free.fr>
+  Vincent Stehlé <vincent.stehle at free.fr>
 
 nfs module by:
-  Jason Pepas <cell@ices.utexas.edu>
+  Jason Pepas <cell at ices.utexas.edu>
 
 processes module by:
-  Lyonel Vincent <lyonel@ezix.org>
+  Lyonel Vincent <lyonel at ezix.org>
 
 serial module by:
-  David Bacher <drbacher@gmail.com>
+  David Bacher <drbacher at gmail.com>
 
 tape module by:
-  Scott Garrett <sgarrett@technomancer.com>
+  Scott Garrett <sgarrett at technomancer.com>
 
 users module by:
-  Sebastian Harl <sh@tokkee.org>
+  Sebastian Harl <sh at tokkee.org>
+
+PID-file patch by:
+  Tommie Gannert <d00-tga at d.kth.se>
 
 don't-fork-patch by:
-  Alvaro Barcellos <alvaro.barcellos@gmail.com>
+  Alvaro Barcellos <alvaro.barcellos at gmail.com>
 
 many autotools related fixes, libltdl code, getmnt-wizardry and much help has
 contributed:
-  Niki W. Waibel <niki.waibel@newlogic.com>
+  Niki W. Waibel <niki.waibel at newlogic.com>
 
 collectd is available at:
   <http://verplant.org/collectd/>
 
 Enjoy :)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/ChangeLog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/ChangeLog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/ChangeLog	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/ChangeLog	2006-01-20 17:51:57.000000000 +0800
@@ -1,10 +1,14 @@
-2006-01-21, Version 3.5.2
-	* Fixed yet another bug in the signal handling.. Stupid typo..
-	* Improved the ping plugin to not give up on socket errors (backport
-	  from 3.6.0).
+2006-01-17, Version 3.6.0
+	* A config file has been added. This allows for loading only specific
+	  plugins.
+	* A `df' plugin has been added.
+	* A `mysql' plugin has been added.
+	* The `plugin' module doesn't entirely give up hope when a socket
+	  error occured, but will back of and increase the intervals between
+	  tries.
 
 2005-12-18, Version 3.5.1
 	* The PID-file is now deleted correctly when shutting down the daemon.
 	* SIGINT and SIGTERM are now handled correctly.
 
 2005-12-16, Version 3.5.0 (Revision 326)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/collectd.spec /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/collectd.spec
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/collectd.spec	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/collectd.spec	2006-01-20 17:51:57.000000000 +0800
@@ -1,94 +1,108 @@
 Summary:	Statistics collection daemon for filling RRD files.
 Name:           collectd
-Version:	3.5.2
+Version:	3.6.0
 Release:	1
 Source:		http://verplant.org/collectd/%{name}-%{version}.tar.gz
 License:	GPL
 Group:		System Environment/Daemons
 BuildRoot:	%{_tmppath}/%{name}-%{version}-root
-BuildPrereq:	lm_sensors-devel, rrdtool-devel
+BuildPrereq:	lm_sensors-devel, mysqlclient10-devel | mysql-devel, rrdtool-devel
 Requires:	rrdtool
 Packager:	Florian octo Forster <octo@verplant.org>
 Vendor:		Florian octo Forster <octo@verplant.org>
 
 %description
 collectd is a small daemon written in C for performance.  It reads various
 system  statistics  and updates  RRD files,  creating  them if neccessary.
 Since the daemon doesn't need to startup every time it wants to update the
 files it's very fast and easy on the system. Also, the statistics are very
 fine grained since the files are updated every 10 seconds.
 
-%package sensors
-Summary:	libsensors-module for collectd.
-Group:		System Environment/Daemons
-Requires:	collectd = %{version}, lm_sensors
-%description sensors
-This  plugin  for  collectd  provides  querying  of sensors  supported  by
-lm_sensors.
-
 %package hddtemp
 Summary:	hddtemp-module for collectd.
 Group:		System Environment/Daemons
 Requires:	collectd = %{version}, hddtemp >= 0.3
 %description hddtemp
 This plugin for  collectd provides querying  the hddtemp-daemon.  For more
 information see hddtemp's homepage:  http://www.guzu.net/linux/hddtemp.php
 
+%package mysql
+Summary:	mysql-module for collectd.
+Group:		System Environment/Daemons
+Requires:	collectd = %{version}, mysqlclient10 | mysql
+%description mysql
+MySQL  querying  plugin.  This plugins  provides data of  issued commands,
+called handlers and database traffic.
+
+%package sensors
+Summary:	libsensors-module for collectd.
+Group:		System Environment/Daemons
+Requires:	collectd = %{version}, lm_sensors
+%description sensors
+This  plugin  for  collectd  provides  querying  of sensors  supported  by
+lm_sensors.
+
 %prep
 rm -rf $RPM_BUILD_ROOT
 %setup
 
 %build
 ./configure --prefix=%{_prefix} --sbindir=%{_sbindir} --mandir=%{_mandir} --libdir=%{_libdir}
 make
 
 %install
 make install DESTDIR=$RPM_BUILD_ROOT
-mkdir -p $RPM_BUILD_ROOT/etc/default
-cp debian/collectd.default $RPM_BUILD_ROOT/etc/default/collectd
 mkdir -p $RPM_BUILD_ROOT/etc/rc.d/init.d
+cp contrib/collectd.conf $RPM_BUILD_ROOT/etc/collectd.conf
 cp contrib/init.d-rh7 $RPM_BUILD_ROOT/etc/rc.d/init.d/collectd
 mkdir -p $RPM_BUILD_ROOT/var/lib/collectd
 rm -f $RPM_BUILD_ROOT%{_libdir}/%{name}/*.a
 rm -f $RPM_BUILD_ROOT%{_libdir}/%{name}/*.la
 
 %clean
 rm -rf $RPM_BUILD_ROOT
 
 %files
 %defattr(-,root,root)
 %doc AUTHORS COPYING ChangeLog INSTALL NEWS README
 %doc contrib
-%config /etc/default/collectd
+%config /etc/collectd.conf
 %attr(0755,root,root) /etc/rc.d/init.d/collectd
 %attr(0755,root,root) %{_sbindir}/collectd
 %attr(0444,root,root) %{_mandir}/man1/*
+%attr(0444,root,root) %{_mandir}/man5/*
 %attr(0444,root,root) %{_libdir}/%{name}/cpu.so*
 %attr(0444,root,root) %{_libdir}/%{name}/cpufreq.so*
+%attr(0444,root,root) %{_libdir}/%{name}/df.so*
 %attr(0444,root,root) %{_libdir}/%{name}/disk.so*
 %attr(0444,root,root) %{_libdir}/%{name}/load.so*
 %attr(0444,root,root) %{_libdir}/%{name}/memory.so*
 %attr(0444,root,root) %{_libdir}/%{name}/nfs.so*
 %attr(0444,root,root) %{_libdir}/%{name}/ping.so*
 %attr(0444,root,root) %{_libdir}/%{name}/processes.so*
 %attr(0444,root,root) %{_libdir}/%{name}/serial.so*
 %attr(0444,root,root) %{_libdir}/%{name}/swap.so*
 %attr(0444,root,root) %{_libdir}/%{name}/traffic.so*
 %attr(0444,root,root) %{_libdir}/%{name}/users.so*
 %dir /var/lib/collectd
 
-%files sensors
-%attr(0444,root,root) %{_libdir}/%{name}/sensors.so*
-
 %files hddtemp
 %attr(0444,root,root) %{_libdir}/%{name}/hddtemp.so*
 
+%files mysql
+%attr(0444,root,root) %{_libdir}/%{name}/mysql.so*
+
+%files sensors
+%attr(0444,root,root) %{_libdir}/%{name}/sensors.so*
+
 %changelog
-* Sat Jan 21 2006 Florian octo Forster <octo@verplant.org> 3.5.2-1
+* Fri Jan 20 2006 Florian octo Forster <octo@verplant.org> 3.6.0-1
 - New upstream version
+- Added config file, `collectd.conf(5)', `df.so'
+- Added package `collectd-mysql', dependency on `mysqlclient10 | mysql'
 
 * Wed Dec 07 2005 Florian octo Forster <octo@verplant.org> 3.5.0-1
 - New upstream version
 
 * Sat Nov 26 2005 Florian octo Forster <octo@verplant.org> 3.4.0-1
 - New upstream version
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/configure /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/configure
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/configure	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/configure	2006-01-20 17:51:57.000000000 +0800
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.59 for collectd 3.5.2.
+# Generated by GNU Autoconf 2.59 for collectd 3.6.0.
 #
 # Copyright (C) 2003 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
 ## M4sh Initialization.  ##
@@ -418,14 +418,14 @@
 # only ac_max_sed_lines should be used.
 : ${ac_max_here_lines=38}
 
 # Identity of this package.
 PACKAGE_NAME='collectd'
 PACKAGE_TARNAME='collectd'
-PACKAGE_VERSION='3.5.2'
-PACKAGE_STRING='collectd 3.5.2'
+PACKAGE_VERSION='3.6.0'
+PACKAGE_STRING='collectd 3.6.0'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/collectd.c"
 ac_default_prefix="/opt/collectd"
 # Factoring default headers for most tests.
 ac_includes_default="\
@@ -461,14 +461,14 @@
 # endif
 #endif
 #if HAVE_UNISTD_H
 # include <unistd.h>
 #endif"
 
-ac_subdirs_all="$ac_subdirs_all libltdl"
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CPP LN_S LTDLINCL LIBLTDL build build_cpu build_vendor build_os host host_cpu host_vendor host_os EGREP ECHO AR ac_ct_AR RANLIB ac_ct_RANLIB CXX CXXFLAGS ac_ct_CXX CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CXXCPP F77 FFLAGS ac_ct_F77 LIBTOOL subdirs BUILD_WITH_RRDTOOL_TRUE BUILD_WITH_RRDTOOL_FALSE BUILD_DEBUG_TRUE BUILD_DEBUG_FALSE BUILD_DAEMON_TRUE BUILD_DAEMON_FALSE BUILD_MODULE_CPU_TRUE BUILD_MODULE_CPU_FALSE BUILD_MODULE_CPUFREQ_TRUE BUILD_MODULE_CPUFREQ_FALSE BUILD_MODULE_DISK_TRUE BUILD_MODULE_DISK_FALSE BUILD_MODULE_HDDTEMP_TRUE BUILD_MODULE_HDDTEMP_FALSE BUILD_MODULE_LOAD_TRUE BUILD_MODULE_LOAD_FALSE BUILD_MODULE_MEMORY_TRUE BUILD_MODULE_MEMORY_FALSE BUILD_MODULE_NFS_TRUE BUILD_MODULE_NFS_FALSE BUILD_MODULE_PING_TRUE BUILD_MODULE_PING_FALSE BUILD_MODULE_PROCESSES_TRUE BUILD_MODULE_PROCESSES_FALSE BUILD_MODULE_SENSORS_TRUE BUILD_MODULE_SENSORS_FALSE BUILD_MODULE_SERIAL_TRUE BUILD_MODULE_SERIAL_FALSE BUILD_MODULE_SWAP_TRUE BUILD_MODULE_SWAP_FALSE BUILD_MODULE_TAPE_TRUE BUILD_MODULE_TAPE_FALSE BUILD_MODULE_TRAFFIC_TRUE BUILD_MODULE_TRAFFIC_FALSE BUILD_MODULE_USERS_TRUE BUILD_MODULE_USERS_FALSE LIBOBJS LTLIBOBJS'
+ac_subdirs_all="$ac_subdirs_all libltdl src/libconfig"
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CPP LN_S LTDLINCL LIBLTDL build build_cpu build_vendor build_os host host_cpu host_vendor host_os EGREP ECHO AR ac_ct_AR RANLIB ac_ct_RANLIB CXX CXXFLAGS ac_ct_CXX CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CXXCPP F77 FFLAGS ac_ct_F77 LIBTOOL subdirs BUILD_WITH_RRDTOOL_TRUE BUILD_WITH_RRDTOOL_FALSE BUILD_WITH_KSTAT_TRUE BUILD_WITH_KSTAT_FALSE BUILD_WITH_LIBSTATGRAB_TRUE BUILD_WITH_LIBSTATGRAB_FALSE BUILD_WITH_LM_SENSORS_TRUE BUILD_WITH_LM_SENSORS_FALSE BUILD_WITH_LIBMYSQL_TRUE BUILD_WITH_LIBMYSQL_FALSE BUILD_FEATURE_DEBUG_TRUE BUILD_FEATURE_DEBUG_FALSE BUILD_FEATURE_DAEMON_TRUE BUILD_FEATURE_DAEMON_FALSE BUILD_MODULE_CPU_TRUE BUILD_MODULE_CPU_FALSE BUILD_MODULE_CPUFREQ_TRUE BUILD_MODULE_CPUFREQ_FALSE BUILD_MODULE_DISK_TRUE BUILD_MODULE_DISK_FALSE BUILD_MODULE_DF_TRUE BUILD_MODULE_DF_FALSE BUILD_MODULE_QUOTA_TRUE BUILD_MODULE_QUOTA_FALSE BUILD_MODULE_HDDTEMP_TRUE BUILD_MODULE_HDDTEMP_FALSE BUILD_MODULE_LOAD_TRUE BUILD_MODULE_LOAD_FALSE BUILD_MODULE_MEMORY_TRUE BUILD_MODULE_MEMORY_FALSE BUILD_MODULE_MYSQL_TRUE BUILD_MODULE_MYSQL_FALSE BUILD_MODULE_NFS_TRUE BUILD_MODULE_NFS_FALSE BUILD_MODULE_PING_TRUE BUILD_MODULE_PING_FALSE BUILD_MODULE_PROCESSES_TRUE BUILD_MODULE_PROCESSES_FALSE BUILD_MODULE_SENSORS_TRUE BUILD_MODULE_SENSORS_FALSE BUILD_MODULE_SERIAL_TRUE BUILD_MODULE_SERIAL_FALSE BUILD_MODULE_SWAP_TRUE BUILD_MODULE_SWAP_FALSE BUILD_MODULE_TAPE_TRUE BUILD_MODULE_TAPE_FALSE BUILD_MODULE_TRAFFIC_TRUE BUILD_MODULE_TRAFFIC_FALSE BUILD_MODULE_USERS_TRUE BUILD_MODULE_USERS_FALSE LIBOBJS LTLIBOBJS'
 ac_subst_files=''
 
 # Initialize some variables set by options.
 ac_init_help=
 ac_init_version=false
 # The variables have the same names as the options, with
@@ -951,13 +951,13 @@
 # Report the --help message.
 #
 if test "$ac_init_help" = "long"; then
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures collectd 3.5.2 to adapt to many kinds of systems.
+\`configure' configures collectd 3.6.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
 To assign environment variables (e.g., CC, CFLAGS...), specify them as
 VAR=VALUE.  See below for descriptions of some of the useful variables.
 
@@ -1017,13 +1017,13 @@
   --host=HOST       cross-compile to build programs to run on HOST [BUILD]
 _ACEOF
 fi
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of collectd 3.5.2:";;
+     short | recursive ) echo "Configuration of collectd 3.6.0:";;
    esac
   cat <<\_ACEOF
 
 Optional Features:
   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
@@ -1035,45 +1035,55 @@
                           build shared libraries [default=yes]
   --enable-fast-install[=PKGS]
                           optimize for fast installation [default=yes]
   --disable-libtool-lock  avoid locking (might break parallel builds)
 
 collectd features:
-  --enable-debug          Enable debugging (disabled by default)
-  --disable-daemon        Disable daemon mode (enabled by default)
+  --enable-debug          enable debugging (disabled by def)
+  --disable-daemon        disable daemon mode (enabled by def)
 
 collectd modules:
-  --disable-cpu           Disable CPU usage statistics
-  --disable-cpufreq       Disable system cpu frequency statistics
-  --disable-disk          Disable disk/partition statistics
-  --disable-hddtemp       Disable hdd temperature statistics
-  --disable-load          Disable system load statistics
-  --disable-memory        Disable memory statistics
-  --disable-nfs           Disable nfs statistics
-  --disable-ping          Disable ping statistics
-  --disable-processes     Disable processes statistics
-  --disable-sensors       Disable lm_sensors statistics
-  --disable-serial        Disable serial statistics
-  --disable-swap          Disable swap statistics
-  --disable-tape          Disable tape statistics
-  --disable-traffic       Disable system traffic statistics
-  --disable-users         Disable user count statistics
+  --disable-cpu           disable cpu usage statistics (enabled by def)
+  --disable-cpufreq       disable system cpu frequency statistics (enabled by
+                          def)
+  --disable-disk          disable disk/partition statistics (enabled by def)
+  --disable-df            disable df statistics (enabled by def)
+  --enable-quota          enable quota statistics (experimental) (disabled by
+                          def)
+  --disable-hddtemp       disable hdd temperature statistics (enabled by def)
+  --disable-load          disable system load statistics (enabled by def)
+  --disable-memory        disable memory statistics (enabled by def)
+  --disable-mysql         disable mysql statistics (enabled by def)
+  --disable-nfs           disable nfs statistics (enabled by def)
+  --disable-ping          disable ping statistics (enabled by def)
+  --disable-processes     disable processes statistics (enabled by def)
+  --disable-sensors       disable lm_sensors statistics (enabled by def)
+  --disable-serial        disable serial statistics (enabled by def)
+  --disable-swap          disable swap statistics (enabled by def)
+  --disable-tape          disable tape statistics (enabled by def)
+  --disable-traffic       disable system traffic statistics (enabled by def)
+  --disable-users         disable user count statistics (enabled by def)
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]
   --with-pic              try to use only PIC/non-PIC objects [default=use
                           both]
   --with-tags[=TAGS]
                           include additional configurations [automatic]
-  --with-rrdtool=PFX      Path to rrdtool.
-  --with-libstatgrab[=PFX]
+
+collectd additional packages:
+  --with-rrdtool[=PREFIX]
+                          Path to rrdtool.
+  --with-libstatgrab[=PREFIX]
                           Path to libstatgrab.
-  --with-lm-sensors[=PFX]
+  --with-lm-sensors[=PREFIX]
                           Path to lm_sensors.
+  --with-libmysql[=PREFIX]
+                          Path to libmysql.
 
 Some influential environment variables:
   CC          C compiler command
   CFLAGS      C compiler flags
   LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
               nonstandard directory <lib dir>
@@ -1181,13 +1191,13 @@
   done
 fi
 
 test -n "$ac_init_help" && exit 0
 if $ac_init_version; then
   cat <<\_ACEOF
-collectd configure 3.5.2
+collectd configure 3.6.0
 generated by GNU Autoconf 2.59
 
 Copyright (C) 2003 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -1195,13 +1205,13 @@
 fi
 exec 5>config.log
 cat >&5 <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by collectd $as_me 3.5.2, which was
+It was created by collectd $as_me 3.6.0, which was
 generated by GNU Autoconf 2.59.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
 {
@@ -1841,13 +1851,13 @@
   fi
 fi
 
 
 # Define the identity of the package.
  PACKAGE='collectd'
- VERSION='3.5.2'
+ VERSION='3.6.0'
 
 
 cat >>confdefs.h <<_ACEOF
 #define PACKAGE "$PACKAGE"
 _ACEOF
 
@@ -4061,13 +4071,13 @@
     esac
   fi
   rm -rf conftest*
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 4067 "configure"' > conftest.$ac_ext
+  echo '#line 4077 "configure"' > conftest.$ac_ext
   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
@@ -5418,13 +5428,13 @@
 
   F77=$ac_ct_F77
 fi
 
 
 # Provide some information about the compiler.
-echo "$as_me:5424:" \
+echo "$as_me:5434:" \
      "checking for Fortran 77 compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
 { (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
   (eval $ac_compiler --version </dev/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
@@ -6479,17 +6489,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:6485: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:6495: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:6489: \$? = $ac_status" >&5
+   echo "$as_me:6499: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -6747,17 +6757,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:6753: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:6763: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:6757: \$? = $ac_status" >&5
+   echo "$as_me:6767: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -6851,17 +6861,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:6857: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:6867: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:6861: \$? = $ac_status" >&5
+   echo "$as_me:6871: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -9209,13 +9219,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 9215 "configure"
+#line 9225 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -9309,13 +9319,13 @@
   	  if test "$cross_compiling" = yes; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 9315 "configure"
+#line 9325 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
 
@@ -11647,17 +11657,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:11653: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:11663: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:11657: \$? = $ac_status" >&5
+   echo "$as_me:11667: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -11751,17 +11761,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:11757: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:11767: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:11761: \$? = $ac_status" >&5
+   echo "$as_me:11771: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -13339,17 +13349,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13345: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13355: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:13349: \$? = $ac_status" >&5
+   echo "$as_me:13359: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -13443,17 +13453,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:13449: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:13459: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:13453: \$? = $ac_status" >&5
+   echo "$as_me:13463: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -15666,17 +15676,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15672: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15682: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:15676: \$? = $ac_status" >&5
+   echo "$as_me:15686: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -15934,17 +15944,17 @@
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    # The option is referenced via a variable to avoid confusing sed.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:15940: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:15950: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:15944: \$? = $ac_status" >&5
+   echo "$as_me:15954: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
@@ -16038,17 +16048,17 @@
    # Note that $ac_compile itself does not contain backslashes and begins
    # with a dollar sign (not a hyphen), so the echo should work correctly.
    lt_compile=`echo "$ac_compile" | $SED \
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:16044: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:16054: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:16048: \$? = $ac_status" >&5
+   echo "$as_me:16058: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings
      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
@@ -18728,13 +18738,13 @@
 
 
 
 #AC_PROG_RANLIB
 
 
-subdirs="$subdirs libltdl"
+subdirs="$subdirs libltdl src/libconfig"
 
 
 #
 # Checks for header files.
 #
 echo "$as_me:$LINENO: checking for sys/wait.h that is POSIX.1 compatible" >&5
@@ -20024,12 +20034,161 @@
 
 fi
 
 done
 
 
+for ac_header in sys/param.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+else
+  # Is the header compilable?
+echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_header_compiler=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6
+
+# Is the header present?
+echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+rm -f conftest.err conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+    (
+      cat <<\_ASBOX
+## ----------------------------------- ##
+## Report this to the collectd lists.  ##
+## ----------------------------------- ##
+_ASBOX
+    ) |
+      sed "s/^/$as_me: WARNING:     /" >&2
+    ;;
+esac
+echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
 for ac_header in errno.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
@@ -23615,13 +23774,13 @@
 
 fi
 
 done
 
 
-for ac_header in sys/vfs.h
+for ac_header in sys/statvfs.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
@@ -23764,13 +23923,13 @@
 
 fi
 
 done
 
 
-for ac_header in sys/vfstab.h
+for ac_header in sys/vfs.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
@@ -23913,15 +24072,13 @@
 
 fi
 
 done
 
 
-# For debugging interface (variable number of arguments)
-
-for ac_header in stdarg.h
+for ac_header in sys/vfstab.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo "$as_me:$LINENO: checking for $ac_header" >&5
 echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
@@ -24064,121 +24221,272 @@
 
 fi
 
 done
 
 
+# For debugging interface (variable number of arguments)
 
-echo "$as_me:$LINENO: checking for ext in -lm" >&5
-echo $ECHO_N "checking for ext in -lm... $ECHO_C" >&6
-if test "${ac_cv_lib_m_ext+set}" = set; then
+for ac_header in stdarg.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
 else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lm  $LIBS"
+  # Is the header compilable?
+echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char ext ();
-int
-main ()
-{
-ext ();
-  ;
-  return 0;
-}
+$ac_includes_default
+#include <$ac_header>
 _ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
 	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
+	 { ac_try='test -s conftest.$ac_objext'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_m_ext=yes
+  ac_header_compiler=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_m_ext=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
-fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_m_ext" >&5
-echo "${ECHO_T}$ac_cv_lib_m_ext" >&6
-if test $ac_cv_lib_m_ext = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_LIBM 1
-_ACEOF
-
-  LIBS="-lm $LIBS"
-
+ac_header_compiler=no
 fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6
 
-
-#
-# Checks for typedefs, structures, and compiler characteristics.
-#
-echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
-echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6
-if test "${ac_cv_c_const+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
+# Is the header present?
+echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-int
-main ()
-{
-/* FIXME: Include the comments suggested by Paul. */
-#ifndef __cplusplus
-  /* Ultrix mips cc rejects this.  */
-  typedef int charset[2];
-  const charset x;
-  /* SunOS 4.1.1 cc rejects this.  */
-  char const *const *ccp;
-  char **p;
-  /* NEC SVR4.0.2 mips cc rejects this.  */
-  struct point {int x, y;};
-  static struct point const zero = {0,0};
-  /* AIX XL C 1.02.0.0 rejects this.
-     It does not let you subtract one const X* pointer from another in
-     an arm of an if-expression whose if-part is not a constant
-     expression */
-  const char *g = "string";
-  ccp = &g + (g ? g-g : 0);
+#include <$ac_header>
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+rm -f conftest.err conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+    (
+      cat <<\_ASBOX
+## ----------------------------------- ##
+## Report this to the collectd lists.  ##
+## ----------------------------------- ##
+_ASBOX
+    ) |
+      sed "s/^/$as_me: WARNING:     /" >&2
+    ;;
+esac
+echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+
+echo "$as_me:$LINENO: checking for ext in -lm" >&5
+echo $ECHO_N "checking for ext in -lm... $ECHO_C" >&6
+if test "${ac_cv_lib_m_ext+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lm  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char ext ();
+int
+main ()
+{
+ext ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_m_ext=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_cv_lib_m_ext=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo "$as_me:$LINENO: result: $ac_cv_lib_m_ext" >&5
+echo "${ECHO_T}$ac_cv_lib_m_ext" >&6
+if test $ac_cv_lib_m_ext = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBM 1
+_ACEOF
+
+  LIBS="-lm $LIBS"
+
+fi
+
+
+#
+# Checks for typedefs, structures, and compiler characteristics.
+#
+echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
+echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6
+if test "${ac_cv_c_const+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+/* FIXME: Include the comments suggested by Paul. */
+#ifndef __cplusplus
+  /* Ultrix mips cc rejects this.  */
+  typedef int charset[2];
+  const charset x;
+  /* SunOS 4.1.1 cc rejects this.  */
+  char const *const *ccp;
+  char **p;
+  /* NEC SVR4.0.2 mips cc rejects this.  */
+  struct point {int x, y;};
+  static struct point const zero = {0,0};
+  /* AIX XL C 1.02.0.0 rejects this.
+     It does not let you subtract one const X* pointer from another in
+     an arm of an if-expression whose if-part is not a constant
+     expression */
+  const char *g = "string";
+  ccp = &g + (g ? g-g : 0);
   /* HPUX 7.0 cc rejects these. */
   ++ccp;
   p = (char**) ccp;
   ccp = (char const *const *) p;
   { /* SCO 3.2v4 cc rejects this.  */
     char *t;
@@ -24377,12 +24685,50 @@
 cat >>confdefs.h <<_ACEOF
 #define size_t unsigned
 _ACEOF
 
 fi
 
+echo "$as_me:$LINENO: checking for uid_t in sys/types.h" >&5
+echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
+if test "${ac_cv_type_uid_t+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <sys/types.h>
+
+_ACEOF
+if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
+  $EGREP "uid_t" >/dev/null 2>&1; then
+  ac_cv_type_uid_t=yes
+else
+  ac_cv_type_uid_t=no
+fi
+rm -f conftest*
+
+fi
+echo "$as_me:$LINENO: result: $ac_cv_type_uid_t" >&5
+echo "${ECHO_T}$ac_cv_type_uid_t" >&6
+if test $ac_cv_type_uid_t = no; then
+
+cat >>confdefs.h <<\_ACEOF
+#define uid_t int
+_ACEOF
+
+
+cat >>confdefs.h <<\_ACEOF
+#define gid_t int
+_ACEOF
+
+fi
+
 echo "$as_me:$LINENO: checking whether time.h and sys/time.h may both be included" >&5
 echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6
 if test "${ac_cv_header_time+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -25367,15 +25713,16 @@
 else
   have_sysctlbyname="no"
 fi
 done
 
 
-# For load module
+# For df module
 
-for ac_func in getloadavg
+
+for ac_func in statfs statvfs
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
 if eval "test \"\${$as_ac_var+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -25465,24 +25812,20 @@
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
- have_getloadavg="yes"
-else
-  have_getloadavg="no"
+
 fi
 done
 
 
-# For users module
-have_getutent="no"
-
+# For load module
 
-for ac_func in getutent getutxent
+for ac_func in getloadavg
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
 if eval "test \"\${$as_ac_var+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -25572,20 +25915,23 @@
 echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
 echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
- have_getutent="yes"
+ have_getloadavg="yes"
+else
+  have_getloadavg="no"
 fi
 done
 
 
-# For quota module
+# For users module
 
-for ac_func in quotactl
+
+for ac_func in getutent getutxent
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
 if eval "test \"\${$as_ac_var+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -25680,14 +26026,15 @@
 _ACEOF
 
 fi
 done
 
 
+# For quota module
 
-for ac_func in getgrgid getpwuid
+for ac_func in quotactl
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
 if eval "test \"\${$as_ac_var+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -25782,17 +26129,14 @@
 _ACEOF
 
 fi
 done
 
 
-# For mount interface
-
-
 
-for ac_func in getfsent getvfsent listmntent
+for ac_func in getgrgid getpwuid
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_func" >&5
 echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
 if eval "test \"\${$as_ac_var+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -25886,20 +26230,125 @@
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
 fi
 done
 
-# getmntent is in -lsun on Irix 4, -lseq on Dynix/PTX, -lgen on Unixware.
-echo "$as_me:$LINENO: checking for getmntent in -lsun" >&5
-echo $ECHO_N "checking for getmntent in -lsun... $ECHO_C" >&6
-if test "${ac_cv_lib_sun_getmntent+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lsun  $LIBS"
+
+# For mount interface
+
+
+
+for ac_func in getfsent getvfsent listmntent
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
+if eval "test \"\${$as_ac_var+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+{
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+choke me
+#else
+char (*f) () = $ac_func;
+#endif
+#ifdef __cplusplus
+}
+#endif
+
+int
+main ()
+{
+return f != $ac_func;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  eval "$as_ac_var=yes"
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+eval "$as_ac_var=no"
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+done
+
+# getmntent is in -lsun on Irix 4, -lseq on Dynix/PTX, -lgen on Unixware.
+echo "$as_me:$LINENO: checking for getmntent in -lsun" >&5
+echo $ECHO_N "checking for getmntent in -lsun... $ECHO_C" >&6
+if test "${ac_cv_lib_sun_getmntent+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lsun  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
@@ -26192,13 +26641,13 @@
 _ACEOF
 
 fi
 done
 
 
-if test "x$ac_cv_func_getmntent" = 'xyes'; then
+if test "x$ac_cv_func_getmntent" = "xyes"; then
 	saveCFLAGS="$CFLAGS"
 	CFLAGS="-Wall -Werror $CFLAGS"
 	echo "$as_me:$LINENO: checking whether getmntent takes one argument" >&5
 echo $ECHO_N "checking whether getmntent takes one argument... $ECHO_C" >&6
 if test "${fu_cv_getmntent1+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -26251,13 +26700,13 @@
 fi
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 
 fi
 echo "$as_me:$LINENO: result: $fu_cv_getmntent1" >&5
 echo "${ECHO_T}$fu_cv_getmntent1" >&6
-	if test "x$fu_cv_getmntent1" = 'xno'; then
+	if test "x$fu_cv_getmntent1" = "xno"; then
 		echo "$as_me:$LINENO: checking whether getmntent takes two arguments" >&5
 echo $ECHO_N "checking whether getmntent takes two arguments... $ECHO_C" >&6
 if test "${fu_cv_getmntent2+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -26312,20 +26761,20 @@
 fi
 echo "$as_me:$LINENO: result: $fu_cv_getmntent2" >&5
 echo "${ECHO_T}$fu_cv_getmntent2" >&6
 	fi
 	CFLAGS="$saveCFLAGS"
 fi
-if test "x$fu_cv_getmntent1" = 'xyes'; then
+if test "x$fu_cv_getmntent1" = "xyes"; then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_GETMNTENT1 1
 _ACEOF
 
 fi
-if test "x$fu_cv_getmntent2" = 'xyes'; then
+if test "x$fu_cv_getmntent2" = "xyes"; then
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_GETMNTENT2 1
 _ACEOF
 
 fi
@@ -26499,18 +26948,20 @@
 
   LIBS="-lresolv $LIBS"
 
 fi
 
 
+
+
 # AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
 
 # Check whether --with-rrdtool or --without-rrdtool was given.
 if test "${with_rrdtool+set}" = set; then
   withval="$with_rrdtool"
-  	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+  	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_rrdtool="yes"
 	fi
 
@@ -26588,13 +27039,13 @@
 #define HAVE_LIBRRD 1
 _ACEOF
 
   LIBS="-lrrd $LIBS"
 
 else
-  with_rrdtool="no"
+  with_rrdtool="no (librrd not found)"
 fi
 
 fi
 if test "x$with_rrdtool" = "xyes"
 then
 
@@ -26740,44 +27191,55 @@
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 else
-  with_rrdtool="no"
+  with_rrdtool="no (rrd.h not found)"
 fi
 
 done
 
 fi
+if test "x$with_rrdtool" = "xyes"
+then
+	collect_rrdtool=1
+else
+	collect_rrdtool=0
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_RRDTOOL $collect_rrdtool
+_ACEOF
+
 
 
 if test "x$with_rrdtool" = "xyes"; then
   BUILD_WITH_RRDTOOL_TRUE=
   BUILD_WITH_RRDTOOL_FALSE='#'
 else
   BUILD_WITH_RRDTOOL_TRUE='#'
   BUILD_WITH_RRDTOOL_FALSE=
 fi
 
 
-#AC_ARG_WITH(pth, AC_HELP_STRING([--with-pth=PFX], [Path to pth (experimental).]),
-#[	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+#AC_ARG_WITH(pth, [AS_HELP_STRING([--with-pth=[=PREFIX]], [Path to pth (experimental).]),
+#[	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 #	then
 #		LDFLAGS="$LDFLAGS -L$withval/lib"
 #		CPPFLAGS="$CPPFLAGS -I$withval/include"
 #		with_pth="yes"
 #	fi
 #], [with_pth="no"])
 #if test "x$with_pth" = "xyes"
 #then
-#	AC_CHECK_LIB(pth, pth_init,, [with_pth="no"], [])
+#	AC_CHECK_LIB(pth, pth_init,, [with_pth="no (libpth not found)"], [])
 #fi
 #if test "x$with_pth" = "xyes"
 #then
-#	AC_CHECK_HEADERS(pth.h,, [with_pth="no"])
+#	AC_CHECK_HEADERS(pth.h,, [with_pth="no (pth.h not found)"])
 #fi
 #if test "x$with_pth" = "xyes"
 #then
 #	collect_pth=1
 #else
 #	collect_pth=0
@@ -26786,12 +27248,17 @@
 #	[Wether or not to use pth (portable threads) library])
 #AM_CONDITIONAL(BUILD_WITH_PTH, test "x$with_pth" = "xyes")
 
 if test "$ac_system" = "Solaris"
 then
 	with_kstat="yes"
+else
+	with_kstat="no (Solaris only)"
+fi
+if test "x$with_kstat" = "xyes"
+then
 
 echo "$as_me:$LINENO: checking for kstat_open in -lkstat" >&5
 echo $ECHO_N "checking for kstat_open in -lkstat... $ECHO_C" >&6
 if test "${ac_cv_lib_kstat_kstat_open+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26858,15 +27325,18 @@
 #define HAVE_LIBKSTAT 1
 _ACEOF
 
   LIBS="-lkstat $LIBS"
 
 else
-  with_kstat="no (not found)"
+  with_kstat="no (libkstat not found)"
 fi
 
+fi
+if test "x$with_kstat" = "xyes"
+then
 
 echo "$as_me:$LINENO: checking for di_init in -ldevinfo" >&5
 echo $ECHO_N "checking for di_init in -ldevinfo... $ECHO_C" >&6
 if test "${ac_cv_lib_devinfo_di_init+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -27085,40 +27555,54 @@
 else
   with_kstat="no (kstat.h not found)"
 fi
 
 done
 
+fi
+if test "x$with_kstat" = "xyes"
+then
+	collect_kstat=1
 else
-	with_kstat="no (Solaris only)"
+	collect_kstat=0
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_KSTAT $collect_kstat
+_ACEOF
+
+
+
+if test "x$with_kstat" = "xyes"; then
+  BUILD_WITH_KSTAT_TRUE=
+  BUILD_WITH_KSTAT_FALSE='#'
+else
+  BUILD_WITH_KSTAT_TRUE='#'
+  BUILD_WITH_KSTAT_FALSE=
 fi
 
 
+
 # Check whether --with-libstatgrab or --without-libstatgrab was given.
 if test "${with_libstatgrab+set}" = set; then
   withval="$with_libstatgrab"
 
-	# given..
-	if test "x$withval" != "xno"
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
-		if test "x$withval" != "xyes"
-		then
-			LDFLAGS="$LDFLAGS -L$withval/lib"
-			CPPFLAGS="$CPPFLAGS -I$withval/include"
-			with_libstatgrab="yes"
-		fi
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libstatgrab="yes"
 	fi
 
 else
 
-	# not given..
-	if test "x$ac_system" != "xunknown"
+	if test "x$ac_system" == "xunknown"
 	then
-		with_libstatgrab="no"
-	else
 		with_libstatgrab="yes"
+	else
+		with_libstatgrab="no"
 	fi
 
 fi;
 if test "x$with_libstatgrab" = "xyes"
 then
 
@@ -27336,15 +27820,18 @@
 #define HAVE_LIBSTATGRAB 1
 _ACEOF
 
   LIBS="-lstatgrab $LIBS"
 
 else
-  with_libstatgrab="no (not found)"
+  with_libstatgrab="no (libstatgrab not found)"
 fi
 
+fi
+if test "x$with_libstatgrab" = "xyes"
+then
 
 for ac_header in statgrab.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo "$as_me:$LINENO: checking for $ac_header" >&5
@@ -27485,38 +27972,54 @@
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 else
-  with_libstatgrab="no (not found)"
+  with_libstatgrab="no (statgrab.h not found)"
 fi
 
 done
 
 fi
+if test "x$with_libstatgrab" = "xyes"
+then
+	collect_libstatgrab=1
+else
+	collect_libstatgrab=0
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_LIBSTATGRAB $collect_libstatgrab
+_ACEOF
+
+
+
+if test "x$with_libstatgrab" = "xyes"; then
+  BUILD_WITH_LIBSTATGRAB_TRUE=
+  BUILD_WITH_LIBSTATGRAB_FALSE='#'
+else
+  BUILD_WITH_LIBSTATGRAB_TRUE='#'
+  BUILD_WITH_LIBSTATGRAB_FALSE=
+fi
+
 
 
 # Check whether --with-lm-sensors or --without-lm-sensors was given.
 if test "${with_lm_sensors+set}" = set; then
   withval="$with_lm_sensors"
 
-	# given..
-	if test "x$withval" != "xno"
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
-		if test "x$withval" != "xyes"
-		then
-			LDFLAGS="$LDFLAGS -L$withval/lib"
-			CPPFLAGS="$CPPFLAGS -I$withval/include"
-			with_lm_sensors="yes"
-		fi
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_lm_sensors="yes"
 	fi
 
 else
 
-	# not given..
 	if test "x$ac_system" = "xLinux"
 	then
 		with_lm_sensors="yes"
 	else
 		with_lm_sensors="no"
 	fi
@@ -27586,23 +28089,25 @@
 LIBS=$ac_check_lib_save_LIBS
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_sensors_sensors_init" >&5
 echo "${ECHO_T}$ac_cv_lib_sensors_sensors_init" >&6
 if test $ac_cv_lib_sensors_sensors_init = yes; then
 
-		with_lm_sensors="yes"
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBSENSORS 1
 _ACEOF
 
 
 else
-  with_lm_sensors="no (not found)"
+  with_lm_sensors="no (libsensors not found)"
 fi
 
+fi
+if test "x$with_lm_sensors" = "xyes"
+then
 
 for ac_header in sensors/sensors.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
   echo "$as_me:$LINENO: checking for $ac_header" >&5
@@ -27742,640 +28247,1288 @@
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
-		with_lm_sensors="yes"
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_SENSORS_SENSORS_H 1
 _ACEOF
 
 
 else
-  with_lm_sensors="no (not found)"
+  with_lm_sensors="no (sensors/sensors.h not found)"
 fi
 
 done
 
 fi
-
-
-
-#
-# Check for enabled/disabled features
-#
-
-# Check whether --enable-debug or --disable-debug was given.
-if test "${enable_debug+set}" = set; then
-  enableval="$enable_debug"
-
-else
-  enable_debug="no"
-fi;
-if test "x$enable_debug" = "xno"
-then
-	collect_debug=0
-else
-	if test "x$enable_debug" = "xyes"
-	then
-		collect_debug=1
-	else
-		{ echo "$as_me:$LINENO: Please specify either --enable-debug or --disable-debug; Enabling debugging." >&5
-echo "$as_me: Please specify either --enable-debug or --disable-debug; Enabling debugging." >&6;}
-		collect_debug=1
-		enable_debug="yes"
-	fi
-fi
-
-cat >>confdefs.h <<_ACEOF
-#define COLLECT_DEBUG $collect_debug
-_ACEOF
-
-
-
-if test "x$enable_debug" = "xyes"; then
-  BUILD_DEBUG_TRUE=
-  BUILD_DEBUG_FALSE='#'
-else
-  BUILD_DEBUG_TRUE='#'
-  BUILD_DEBUG_FALSE=
-fi
-
-
-# Check whether --enable-daemon or --disable-daemon was given.
-if test "${enable_daemon+set}" = set; then
-  enableval="$enable_daemon"
-
-else
-  enable_daemon="yes"
-fi;
-if test "x$enable_daemon" = "xno"
+if test "x$with_lm_sensors" = "xyes"
 then
-	collect_daemon=0
+	collect_lm_sensors=1
 else
-	if test "x$enable_daemon" = "xyes"
-	then
-		collect_daemon=1
-	else
-		{ echo "$as_me:$LINENO: Please specify either --enable-daemon or --disable-daemon; Enabling daemon mode." >&5
-echo "$as_me: Please specify either --enable-daemon or --disable-daemon; Enabling daemon mode." >&6;}
-		collect_daemon=1
-		enable_daemon="yes"
-	fi
+	collect_lm_sensors=0
 fi
 
 cat >>confdefs.h <<_ACEOF
-#define COLLECT_DAEMON $collect_daemon
+#define COLLECT_LM_SENSORS $collect_lm_sensors
 _ACEOF
 
 
 
-if test "x$enable_daemon" = "xyes"; then
-  BUILD_DAEMON_TRUE=
-  BUILD_DAEMON_FALSE='#'
+if test "x$with_lm_sensors" = "xyes"; then
+  BUILD_WITH_LM_SENSORS_TRUE=
+  BUILD_WITH_LM_SENSORS_FALSE='#'
 else
-  BUILD_DAEMON_TRUE='#'
-  BUILD_DAEMON_FALSE=
+  BUILD_WITH_LM_SENSORS_TRUE='#'
+  BUILD_WITH_LM_SENSORS_FALSE=
 fi
 
 
 
-# Check whether --enable-cpu or --disable-cpu was given.
-if test "${enable_cpu+set}" = set; then
-  enableval="$enable_cpu"
+# Check whether --with-libmysql or --without-libmysql was given.
+if test "${with_libmysql+set}" = set; then
+  withval="$with_libmysql"
 
-else
-  enable_cpu="yes"
-fi;
-if test "x$enable_cpu" != "xno"
-then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$have_sysctlbyname" = "xyes"
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
-		enable_cpu="yes"
-	else
-		enable_cpu="no"
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libmysql="yes"
 	fi
-fi
-if test "x$enable_cpu" = "xno"
-then
-
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_CPU 0
-_ACEOF
-
-fi
-
 
-if test "x$enable_cpu" = "xyes"; then
-  BUILD_MODULE_CPU_TRUE=
-  BUILD_MODULE_CPU_FALSE='#'
 else
-  BUILD_MODULE_CPU_TRUE='#'
-  BUILD_MODULE_CPU_FALSE=
-fi
 
+	with_libmysql="yes"
 
-# Check whether --enable-cpufreq or --disable-cpufreq was given.
-if test "${enable_cpufreq+set}" = set; then
-  enableval="$enable_cpufreq"
-
-else
-  enable_cpufreq="yes"
 fi;
-if test "x$enable_cpufreq" != "xno"
-then
-	if test "x$ac_system" = "xLinux"
-	then
-		enable_cpufreq="yes"
-	else
-		enable_cpufreq="no"
-	fi
-fi
-if test "x$enable_cpufreq" = "xno"
+if test "x$with_libmysql" = "xyes"
 then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_CPUFREQ 0
+echo "$as_me:$LINENO: checking for mysql_init in -lmysqlclient" >&5
+echo $ECHO_N "checking for mysql_init in -lmysqlclient... $ECHO_C" >&6
+if test "${ac_cv_lib_mysqlclient_mysql_init+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lmysqlclient  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
 _ACEOF
-
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char mysql_init ();
+int
+main ()
+{
+mysql_init ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+  (eval $ac_link) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_mysqlclient_mysql_init=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_cv_lib_mysqlclient_mysql_init=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo "$as_me:$LINENO: result: $ac_cv_lib_mysqlclient_mysql_init" >&5
+echo "${ECHO_T}$ac_cv_lib_mysqlclient_mysql_init" >&6
+if test $ac_cv_lib_mysqlclient_mysql_init = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_LIBMYSQLCLIENT 1
+_ACEOF
+
+  LIBS="-lmysqlclient $LIBS"
+
+else
+  with_libmysql="no (libmysql not found)"
+fi
+
+fi
+if test "x$with_libmysql" = "xyes"
+then
+
+for ac_header in mysql/mysql.h
+do
+as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+else
+  # Is the header compilable?
+echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <$ac_header>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+  (eval $ac_compile) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag"			 || test ! -s conftest.err'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+ac_header_compiler=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6
+
+# Is the header present?
+echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <$ac_header>
+_ACEOF
+if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
+fi
+rm -f conftest.err conftest.$ac_ext
+echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
+echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+    (
+      cat <<\_ASBOX
+## ----------------------------------- ##
+## Report this to the collectd lists.  ##
+## ----------------------------------- ##
+_ASBOX
+    ) |
+      sed "s/^/$as_me: WARNING:     /" >&2
+    ;;
+esac
+echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
+if eval "test \"\${$as_ac_Header+set}\" = set"; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  eval "$as_ac_Header=\$ac_header_preproc"
+fi
+echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
+echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
+
+else
+  with_libmysql="no (mysql/mysql.h not found)"
 fi
 
+done
+
+fi
+if test "x$with_libmysql" = "xyes"
+then
+	collect_libmysql=1
+else
+	collect_libmysql=0
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_LIBMYSQL $collect_libmysql
+_ACEOF
+
+
+
+if test "x$with_libmysql" = "xyes"; then
+  BUILD_WITH_LIBMYSQL_TRUE=
+  BUILD_WITH_LIBMYSQL_FALSE='#'
+else
+  BUILD_WITH_LIBMYSQL_TRUE='#'
+  BUILD_WITH_LIBMYSQL_FALSE=
+fi
+
+
+#
+# Check for enabled/disabled features
+#
+
+# AC_COLLECTD(name, enable/disable, info-text, feature/module)
+# ------------------------------------------------------------
+
+# AC_COLLECTD(name, enable/disable, info-text, feature/module)
+
+
+
+										# Check whether --enable-debug or --disable-debug was given.
+if test "${enable_debug+set}" = set; then
+  enableval="$enable_debug"
+
+else
+  enable_debug='no'
+fi; # AC_ARG_ENABLE
+if test "x$enable_debug" = "xno"
+then
+	collectd_debug=0
+else
+	if test "x$enable_debug" = "xyes"
+	then
+		collectd_debug=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-debug or --disable-debug; enabling debug." >&5
+echo "$as_me: please specify either --enable-debug or --disable-debug; enabling debug." >&6;}
+		collectd_debug=1
+		enable_debug='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_DEBUG $collectd_debug
+_ACEOF
+
+
+
+if test "x$enable_debug" = "xyes"; then
+  BUILD_FEATURE_DEBUG_TRUE=
+  BUILD_FEATURE_DEBUG_FALSE='#'
+else
+  BUILD_FEATURE_DEBUG_TRUE='#'
+  BUILD_FEATURE_DEBUG_FALSE=
+fi
+
+
+																# Check whether --enable-daemon or --disable-daemon was given.
+if test "${enable_daemon+set}" = set; then
+  enableval="$enable_daemon"
+
+else
+  enable_daemon='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_daemon" = "xno"
+then
+	collectd_daemon=0
+else
+	if test "x$enable_daemon" = "xyes"
+	then
+		collectd_daemon=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-daemon or --disable-daemon; enabling daemon." >&5
+echo "$as_me: please specify either --enable-daemon or --disable-daemon; enabling daemon." >&6;}
+		collectd_daemon=1
+		enable_daemon='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_DAEMON $collectd_daemon
+_ACEOF
+
+
+
+if test "x$enable_daemon" = "xyes"; then
+  BUILD_FEATURE_DAEMON_TRUE=
+  BUILD_FEATURE_DAEMON_FALSE='#'
+else
+  BUILD_FEATURE_DAEMON_TRUE='#'
+  BUILD_FEATURE_DAEMON_FALSE=
+fi
+
+
+
+
+																	# Check whether --enable-cpu or --disable-cpu was given.
+if test "${enable_cpu+set}" = set; then
+  enableval="$enable_cpu"
+
+else
+  enable_cpu='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_cpu" = "xno"
+then
+	collectd_cpu=0
+else
+	if test "x$enable_cpu" = "xyes"
+	then
+		collectd_cpu=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-cpu or --disable-cpu; enabling cpu." >&5
+echo "$as_me: please specify either --enable-cpu or --disable-cpu; enabling cpu." >&6;}
+		collectd_cpu=1
+		enable_cpu='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_CPU $collectd_cpu
+_ACEOF
+
+
+
+if test "x$enable_cpu" = "xyes"; then
+  BUILD_MODULE_CPU_TRUE=
+  BUILD_MODULE_CPU_FALSE='#'
+else
+  BUILD_MODULE_CPU_TRUE='#'
+  BUILD_MODULE_CPU_FALSE=
+fi
+
+
+																	# Check whether --enable-cpufreq or --disable-cpufreq was given.
+if test "${enable_cpufreq+set}" = set; then
+  enableval="$enable_cpufreq"
+
+else
+  enable_cpufreq='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_cpufreq" = "xno"
+then
+	collectd_cpufreq=0
+else
+	if test "x$enable_cpufreq" = "xyes"
+	then
+		collectd_cpufreq=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-cpufreq or --disable-cpufreq; enabling cpufreq." >&5
+echo "$as_me: please specify either --enable-cpufreq or --disable-cpufreq; enabling cpufreq." >&6;}
+		collectd_cpufreq=1
+		enable_cpufreq='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_CPUFREQ $collectd_cpufreq
+_ACEOF
+
+
 
 if test "x$enable_cpufreq" = "xyes"; then
   BUILD_MODULE_CPUFREQ_TRUE=
   BUILD_MODULE_CPUFREQ_FALSE='#'
 else
   BUILD_MODULE_CPUFREQ_TRUE='#'
   BUILD_MODULE_CPUFREQ_FALSE=
 fi
 
 
-# Check whether --enable-disk or --disable-disk was given.
+																	# Check whether --enable-disk or --disable-disk was given.
 if test "${enable_disk+set}" = set; then
   enableval="$enable_disk"
 
 else
-  enable_disk="yes"
-fi;
-if test "x$enable_disk" != "xno"
+  enable_disk='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_disk" = "xno"
 then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes"
+	collectd_disk=0
+else
+	if test "x$enable_disk" = "xyes"
 	then
-		enable_disk="yes"
+		collectd_disk=1
 	else
-		enable_disk="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-disk or --disable-disk; enabling disk." >&5
+echo "$as_me: please specify either --enable-disk or --disable-disk; enabling disk." >&6;}
+		collectd_disk=1
+		enable_disk='yes'
 	fi
 fi
-if test "x$enable_disk" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_DISK 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_DISK $collectd_disk
 _ACEOF
 
-fi
 
 
 if test "x$enable_disk" = "xyes"; then
   BUILD_MODULE_DISK_TRUE=
   BUILD_MODULE_DISK_FALSE='#'
 else
   BUILD_MODULE_DISK_TRUE='#'
   BUILD_MODULE_DISK_FALSE=
 fi
 
 
-# Check whether --enable-hddtemp or --disable-hddtemp was given.
+																	# Check whether --enable-df or --disable-df was given.
+if test "${enable_df+set}" = set; then
+  enableval="$enable_df"
+
+else
+  enable_df='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_df" = "xno"
+then
+	collectd_df=0
+else
+	if test "x$enable_df" = "xyes"
+	then
+		collectd_df=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-df or --disable-df; enabling df." >&5
+echo "$as_me: please specify either --enable-df or --disable-df; enabling df." >&6;}
+		collectd_df=1
+		enable_df='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_DF $collectd_df
+_ACEOF
+
+
+
+if test "x$enable_df" = "xyes"; then
+  BUILD_MODULE_DF_TRUE=
+  BUILD_MODULE_DF_FALSE='#'
+else
+  BUILD_MODULE_DF_TRUE='#'
+  BUILD_MODULE_DF_FALSE=
+fi
+
+
+											# Check whether --enable-quota or --disable-quota was given.
+if test "${enable_quota+set}" = set; then
+  enableval="$enable_quota"
+
+else
+  enable_quota='no'
+fi; # AC_ARG_ENABLE
+if test "x$enable_quota" = "xno"
+then
+	collectd_quota=0
+else
+	if test "x$enable_quota" = "xyes"
+	then
+		collectd_quota=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-quota or --disable-quota; enabling quota." >&5
+echo "$as_me: please specify either --enable-quota or --disable-quota; enabling quota." >&6;}
+		collectd_quota=1
+		enable_quota='yes'
+	fi
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_QUOTA $collectd_quota
+_ACEOF
+
+
+
+if test "x$enable_quota" = "xyes"; then
+  BUILD_MODULE_QUOTA_TRUE=
+  BUILD_MODULE_QUOTA_FALSE='#'
+else
+  BUILD_MODULE_QUOTA_TRUE='#'
+  BUILD_MODULE_QUOTA_FALSE=
+fi
+
+
+																	# Check whether --enable-hddtemp or --disable-hddtemp was given.
 if test "${enable_hddtemp+set}" = set; then
   enableval="$enable_hddtemp"
 
 else
-  enable_hddtemp="yes"
-fi;
+  enable_hddtemp='yes'
+fi; # AC_ARG_ENABLE
 if test "x$enable_hddtemp" = "xno"
 then
+	collectd_hddtemp=0
+else
+	if test "x$enable_hddtemp" = "xyes"
+	then
+		collectd_hddtemp=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-hddtemp or --disable-hddtemp; enabling hddtemp." >&5
+echo "$as_me: please specify either --enable-hddtemp or --disable-hddtemp; enabling hddtemp." >&6;}
+		collectd_hddtemp=1
+		enable_hddtemp='yes'
+	fi
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_HDDTEMP 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_HDDTEMP $collectd_hddtemp
 _ACEOF
 
-fi
 
 
 if test "x$enable_hddtemp" = "xyes"; then
   BUILD_MODULE_HDDTEMP_TRUE=
   BUILD_MODULE_HDDTEMP_FALSE='#'
 else
   BUILD_MODULE_HDDTEMP_TRUE='#'
   BUILD_MODULE_HDDTEMP_FALSE=
 fi
 
 
-# Check whether --enable-load or --disable-load was given.
+																	# Check whether --enable-load or --disable-load was given.
 if test "${enable_load+set}" = set; then
   enableval="$enable_load"
 
 else
-  enable_load="yes"
-fi;
-if test "x$enable_load" != "xno"
+  enable_load='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_load" = "xno"
 then
-	if test "x$have_getloadavg" = "xyes" -o "x$ac_system" = "xLinux" -o "x$with_libstatgrab" = "xyes"
+	collectd_load=0
+else
+	if test "x$enable_load" = "xyes"
 	then
-		enable_load="yes"
+		collectd_load=1
 	else
-		enable_load="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-load or --disable-load; enabling load." >&5
+echo "$as_me: please specify either --enable-load or --disable-load; enabling load." >&6;}
+		collectd_load=1
+		enable_load='yes'
 	fi
 fi
-if test "x$enable_load" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_LOAD 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_LOAD $collectd_load
 _ACEOF
 
-fi
 
 
 if test "x$enable_load" = "xyes"; then
   BUILD_MODULE_LOAD_TRUE=
   BUILD_MODULE_LOAD_FALSE='#'
 else
   BUILD_MODULE_LOAD_TRUE='#'
   BUILD_MODULE_LOAD_FALSE=
 fi
 
 
-# Check whether --enable-memory or --disable-memory was given.
+																	# Check whether --enable-memory or --disable-memory was given.
 if test "${enable_memory+set}" = set; then
   enableval="$enable_memory"
 
 else
-  enable_memory="yes"
-fi;
-if test "x$enable_memory" != "xno"
+  enable_memory='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_memory" = "xno"
 then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+	collectd_memory=0
+else
+	if test "x$enable_memory" = "xyes"
 	then
-		enable_memory="yes"
+		collectd_memory=1
 	else
-		enable_memory="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-memory or --disable-memory; enabling memory." >&5
+echo "$as_me: please specify either --enable-memory or --disable-memory; enabling memory." >&6;}
+		collectd_memory=1
+		enable_memory='yes'
 	fi
 fi
-if test "x$enable_memory" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_MEMORY 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_MEMORY $collectd_memory
 _ACEOF
 
-fi
 
 
 if test "x$enable_memory" = "xyes"; then
   BUILD_MODULE_MEMORY_TRUE=
   BUILD_MODULE_MEMORY_FALSE='#'
 else
   BUILD_MODULE_MEMORY_TRUE='#'
   BUILD_MODULE_MEMORY_FALSE=
 fi
 
 
-# Check whether --enable-nfs or --disable-nfs was given.
-if test "${enable_nfs+set}" = set; then
-  enableval="$enable_nfs"
+																	# Check whether --enable-mysql or --disable-mysql was given.
+if test "${enable_mysql+set}" = set; then
+  enableval="$enable_mysql"
 
 else
-  enable_nfs="yes"
-fi;
-if test "x$enable_nfs" != "xno"
+  enable_mysql='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_mysql" = "xno"
 then
-	if test "x$ac_system" = "xLinux"
+	collectd_mysql=0
+else
+	if test "x$enable_mysql" = "xyes"
 	then
-		enable_nfs="yes"
+		collectd_mysql=1
 	else
-		enable_nfs="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-mysql or --disable-mysql; enabling mysql." >&5
+echo "$as_me: please specify either --enable-mysql or --disable-mysql; enabling mysql." >&6;}
+		collectd_mysql=1
+		enable_mysql='yes'
 	fi
 fi
+
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_MYSQL $collectd_mysql
+_ACEOF
+
+
+
+if test "x$enable_mysql" = "xyes"; then
+  BUILD_MODULE_MYSQL_TRUE=
+  BUILD_MODULE_MYSQL_FALSE='#'
+else
+  BUILD_MODULE_MYSQL_TRUE='#'
+  BUILD_MODULE_MYSQL_FALSE=
+fi
+
+
+																	# Check whether --enable-nfs or --disable-nfs was given.
+if test "${enable_nfs+set}" = set; then
+  enableval="$enable_nfs"
+
+else
+  enable_nfs='yes'
+fi; # AC_ARG_ENABLE
 if test "x$enable_nfs" = "xno"
 then
+	collectd_nfs=0
+else
+	if test "x$enable_nfs" = "xyes"
+	then
+		collectd_nfs=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-nfs or --disable-nfs; enabling nfs." >&5
+echo "$as_me: please specify either --enable-nfs or --disable-nfs; enabling nfs." >&6;}
+		collectd_nfs=1
+		enable_nfs='yes'
+	fi
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_NFS 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_NFS $collectd_nfs
 _ACEOF
 
-fi
 
 
 if test "x$enable_nfs" = "xyes"; then
   BUILD_MODULE_NFS_TRUE=
   BUILD_MODULE_NFS_FALSE='#'
 else
   BUILD_MODULE_NFS_TRUE='#'
   BUILD_MODULE_NFS_FALSE=
 fi
 
 
-# Check whether --enable-ping or --disable-ping was given.
+																	# Check whether --enable-ping or --disable-ping was given.
 if test "${enable_ping+set}" = set; then
   enableval="$enable_ping"
 
 else
-  enable_ping="yes"
-fi;
-if test "x$enable_ping" != "xno"
-then
-	enable_ping="yes"
-fi
+  enable_ping='yes'
+fi; # AC_ARG_ENABLE
 if test "x$enable_ping" = "xno"
 then
+	collectd_ping=0
+else
+	if test "x$enable_ping" = "xyes"
+	then
+		collectd_ping=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-ping or --disable-ping; enabling ping." >&5
+echo "$as_me: please specify either --enable-ping or --disable-ping; enabling ping." >&6;}
+		collectd_ping=1
+		enable_ping='yes'
+	fi
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_PING 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_PING $collectd_ping
 _ACEOF
 
-fi
 
 
 if test "x$enable_ping" = "xyes"; then
   BUILD_MODULE_PING_TRUE=
   BUILD_MODULE_PING_FALSE='#'
 else
   BUILD_MODULE_PING_TRUE='#'
   BUILD_MODULE_PING_FALSE=
 fi
 
 
-# Check whether --enable-processes or --disable-processes was given.
+																	# Check whether --enable-processes or --disable-processes was given.
 if test "${enable_processes+set}" = set; then
   enableval="$enable_processes"
 
 else
-  enable_processes="yes"
-fi;
-if test "x$enable_processes" != "xno"
+  enable_processes='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_processes" = "xno"
 then
-	if test "x$ac_system" = "xLinux"
+	collectd_processes=0
+else
+	if test "x$enable_processes" = "xyes"
 	then
-		enable_processes="yes"
+		collectd_processes=1
 	else
-		enable_processes="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-processes or --disable-processes; enabling processes." >&5
+echo "$as_me: please specify either --enable-processes or --disable-processes; enabling processes." >&6;}
+		collectd_processes=1
+		enable_processes='yes'
 	fi
 fi
-if test "x$enable_processes" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_PROCESSES 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_PROCESSES $collectd_processes
 _ACEOF
 
-fi
 
 
 if test "x$enable_processes" = "xyes"; then
   BUILD_MODULE_PROCESSES_TRUE=
   BUILD_MODULE_PROCESSES_FALSE='#'
 else
   BUILD_MODULE_PROCESSES_TRUE='#'
   BUILD_MODULE_PROCESSES_FALSE=
 fi
 
 
-#AC_ARG_ENABLE(quota, AC_HELP_STRING([--enable-quota],
-#	[Enable quota statistics (experimental, disabled by default)]),
-#	[], [enable_quota="no"])
-#if test "x$enable_quota" = "xno"
-#then
-#	collect_quota=0
-#else
-#	if test "x$enable_quota" = "xyes"
-#	then
-#		collect_quota=1
-#	else
-#		AC_MSG_NOTICE([Please specify either --enable-quota or --disable-quota; Enabling quota statistics.])
-#		collect_quota=1
-#		enable_quota="yes"
-#	fi
-#fi
-#AC_DEFINE_UNQUOTED(COLLECT_QUOTA, [$collect_quota],
-#	[Wether or not to collect quota statistics])
-#AM_CONDITIONAL(BUILD_MODULE_QUOTA, test "x$enable_quota" = "xyes")
-
-# Check whether --enable-sensors or --disable-sensors was given.
+																	# Check whether --enable-sensors or --disable-sensors was given.
 if test "${enable_sensors+set}" = set; then
   enableval="$enable_sensors"
 
 else
-  enable_sensors=$with_lm_sensors
-fi;
-if test "x$enable_sensors" != "xno"
+  enable_sensors='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_sensors" = "xno"
 then
-	if test "x$with_lm_sensors" = "xyes"
+	collectd_sensors=0
+else
+	if test "x$enable_sensors" = "xyes"
 	then
-		enable_sensors="yes"
+		collectd_sensors=1
 	else
-		enable_sensors="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-sensors or --disable-sensors; enabling sensors." >&5
+echo "$as_me: please specify either --enable-sensors or --disable-sensors; enabling sensors." >&6;}
+		collectd_sensors=1
+		enable_sensors='yes'
 	fi
 fi
-if test "x$enable_sensors" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_SENSORS 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_SENSORS $collectd_sensors
 _ACEOF
 
-fi
 
 
 if test "x$enable_sensors" = "xyes"; then
   BUILD_MODULE_SENSORS_TRUE=
   BUILD_MODULE_SENSORS_FALSE='#'
 else
   BUILD_MODULE_SENSORS_TRUE='#'
   BUILD_MODULE_SENSORS_FALSE=
 fi
 
 
-# Check whether --enable-serial or --disable-serial was given.
+																	# Check whether --enable-serial or --disable-serial was given.
 if test "${enable_serial+set}" = set; then
   enableval="$enable_serial"
 
 else
-  enable_serial="yes"
-fi;
-if test "x$enable_serial" != "xno"
+  enable_serial='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_serial" = "xno"
 then
-	if test "x$ac_system" = "xLinux"
+	collectd_serial=0
+else
+	if test "x$enable_serial" = "xyes"
 	then
-		enable_serial="yes"
+		collectd_serial=1
 	else
-		enable_serial="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-serial or --disable-serial; enabling serial." >&5
+echo "$as_me: please specify either --enable-serial or --disable-serial; enabling serial." >&6;}
+		collectd_serial=1
+		enable_serial='yes'
 	fi
 fi
-if test "x$enable_serial" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_SERIAL 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_SERIAL $collectd_serial
 _ACEOF
 
-fi
 
 
 if test "x$enable_serial" = "xyes"; then
   BUILD_MODULE_SERIAL_TRUE=
   BUILD_MODULE_SERIAL_FALSE='#'
 else
   BUILD_MODULE_SERIAL_TRUE='#'
   BUILD_MODULE_SERIAL_FALSE=
 fi
 
 
-# Check whether --enable-swap or --disable-swap was given.
+																	# Check whether --enable-swap or --disable-swap was given.
 if test "${enable_swap+set}" = set; then
   enableval="$enable_swap"
 
 else
-  enable_swap="yes"
-fi;
-if test "x$enable_swap" != "xno"
+  enable_swap='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_swap" = "xno"
 then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+	collectd_swap=0
+else
+	if test "x$enable_swap" = "xyes"
 	then
-		enable_swap="yes"
+		collectd_swap=1
 	else
-		enable_swap="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-swap or --disable-swap; enabling swap." >&5
+echo "$as_me: please specify either --enable-swap or --disable-swap; enabling swap." >&6;}
+		collectd_swap=1
+		enable_swap='yes'
 	fi
 fi
-if test "x$enable_swap" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_SWAP 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_SWAP $collectd_swap
 _ACEOF
 
-fi
 
 
 if test "x$enable_swap" = "xyes"; then
   BUILD_MODULE_SWAP_TRUE=
   BUILD_MODULE_SWAP_FALSE='#'
 else
   BUILD_MODULE_SWAP_TRUE='#'
   BUILD_MODULE_SWAP_FALSE=
 fi
 
 
-# Check whether --enable-tape or --disable-tape was given.
+																	# Check whether --enable-tape or --disable-tape was given.
 if test "${enable_tape+set}" = set; then
   enableval="$enable_tape"
 
 else
-  enable_tape="yes"
-fi;
-if test "x$enable_tape" != "xno"
+  enable_tape='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_tape" = "xno"
 then
-	if test "x$with_kstat" = "xyes"
+	collectd_tape=0
+else
+	if test "x$enable_tape" = "xyes"
 	then
-		enable_tape="yes"
+		collectd_tape=1
 	else
-		enable_tape="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-tape or --disable-tape; enabling tape." >&5
+echo "$as_me: please specify either --enable-tape or --disable-tape; enabling tape." >&6;}
+		collectd_tape=1
+		enable_tape='yes'
 	fi
 fi
-if test "x$enable_tape" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_TAPE 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_TAPE $collectd_tape
 _ACEOF
 
-fi
 
 
 if test "x$enable_tape" = "xyes"; then
   BUILD_MODULE_TAPE_TRUE=
   BUILD_MODULE_TAPE_FALSE='#'
 else
   BUILD_MODULE_TAPE_TRUE='#'
   BUILD_MODULE_TAPE_FALSE=
 fi
 
 
-# Check whether --enable-traffic or --disable-traffic was given.
+																	# Check whether --enable-traffic or --disable-traffic was given.
 if test "${enable_traffic+set}" = set; then
   enableval="$enable_traffic"
 
 else
-  enable_traffic="yes"
-fi;
-if test "x$enable_traffic" != "xno"
+  enable_traffic='yes'
+fi; # AC_ARG_ENABLE
+if test "x$enable_traffic" = "xno"
 then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+	collectd_traffic=0
+else
+	if test "x$enable_traffic" = "xyes"
 	then
-		enable_traffic="yes"
+		collectd_traffic=1
 	else
-		enable_traffic="no"
+		{ echo "$as_me:$LINENO: please specify either --enable-traffic or --disable-traffic; enabling traffic." >&5
+echo "$as_me: please specify either --enable-traffic or --disable-traffic; enabling traffic." >&6;}
+		collectd_traffic=1
+		enable_traffic='yes'
 	fi
 fi
-if test "x$enable_traffic" = "xno"
-then
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_TRAFFIC 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_TRAFFIC $collectd_traffic
 _ACEOF
 
-fi
 
 
 if test "x$enable_traffic" = "xyes"; then
   BUILD_MODULE_TRAFFIC_TRUE=
   BUILD_MODULE_TRAFFIC_FALSE='#'
 else
   BUILD_MODULE_TRAFFIC_TRUE='#'
   BUILD_MODULE_TRAFFIC_FALSE=
 fi
 
 
-# Check whether --enable-users or --disable-users was given.
+																	# Check whether --enable-users or --disable-users was given.
 if test "${enable_users+set}" = set; then
   enableval="$enable_users"
 
 else
-  enable_users="yes"
-fi;
-if test "x$enable_users" != "xno"
-then
-       if test "x$have_getutent" = "xyes"
-       then
-               enable_users="yes"
-       else
-               enable_users="no"
-       fi
-fi
+  enable_users='yes'
+fi; # AC_ARG_ENABLE
 if test "x$enable_users" = "xno"
 then
+	collectd_users=0
+else
+	if test "x$enable_users" = "xyes"
+	then
+		collectd_users=1
+	else
+		{ echo "$as_me:$LINENO: please specify either --enable-users or --disable-users; enabling users." >&5
+echo "$as_me: please specify either --enable-users or --disable-users; enabling users." >&6;}
+		collectd_users=1
+		enable_users='yes'
+	fi
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define COLLECT_USERS 0
+cat >>confdefs.h <<_ACEOF
+#define COLLECT_USERS $collectd_users
 _ACEOF
 
-fi
 
 
 if test "x$enable_users" = "xyes"; then
   BUILD_MODULE_USERS_TRUE=
   BUILD_MODULE_USERS_FALSE='#'
 else
   BUILD_MODULE_USERS_TRUE='#'
   BUILD_MODULE_USERS_FALSE=
 fi
 
 
-                              ac_config_files="$ac_config_files Makefile src/libping/Makefile src/Makefile"
+#m4_divert_once([HELP_ENABLE], [
+#collectd modules:])
+#AC_ARG_ENABLE(cpu, AC_HELP_STRING([--disable-cpu], [Disable CPU usage statistics]),, [enable_cpu="yes"])
+#if test "x$enable_cpu" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$have_sysctlbyname" = "xyes"
+#	then
+#		enable_cpu="yes"
+#	else
+#		enable_cpu="no"
+#	fi
+#fi
+#if test "x$enable_cpu" = "xno"
+#then
+#	AC_DEFINE(COLLECT_CPU, 0, [Wether or not to collect CPU usage statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_CPU, test "x$enable_cpu" = "xyes")
+
+#AC_ARG_ENABLE(cpufreq, AC_HELP_STRING([--disable-cpufreq], [Disable system cpu frequency statistics]),, [enable_cpufreq="yes"])
+#if test "x$enable_cpufreq" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_cpufreq="yes"
+#	else
+#		enable_cpufreq="no"
+#	fi
+#fi
+#if test "x$enable_cpufreq" = "xno"
+#then
+#	AC_DEFINE(COLLECT_CPUFREQ, 0, [Wether or not to collect cpu frequency statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_CPUFREQ, test "x$enable_cpufreq" = "xyes")
+
+#AC_ARG_ENABLE(disk, AC_HELP_STRING([--disable-disk], [Disable disk/partition statistics]),, [enable_disk="yes"])
+#if test "x$enable_disk" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes"
+#	then
+#		enable_disk="yes"
+#	else
+#		enable_disk="no"
+#	fi
+#fi
+#if test "x$enable_disk" = "xno"
+#then
+#	AC_DEFINE(COLLECT_DISK, 0, [Wether or not to collect diskstats])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_DISK, test "x$enable_disk" = "xyes")
+
+#AC_ARG_ENABLE(hddtemp, AC_HELP_STRING([--disable-hddtemp], [Disable hdd temperature statistics]),, [enable_hddtemp="yes"])
+#if test "x$enable_hddtemp" = "xno"
+#then
+#	AC_DEFINE(COLLECT_HDDTEMP, 0, [Wether or not to collect hdd temperature statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_HDDTEMP, test "x$enable_hddtemp" = "xyes")
+
+#AC_ARG_ENABLE(load, AC_HELP_STRING([--disable-load], [Disable system load statistics]),, [enable_load="yes"])
+#if test "x$enable_load" != "xno"
+#then
+#	if test "x$have_getloadavg" = "xyes" -o "x$ac_system" = "xLinux" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_load="yes"
+#	else
+#		enable_load="no"
+#	fi
+#fi
+#if test "x$enable_load" = "xno"
+#then
+#	AC_DEFINE(COLLECT_LOAD, 0, [Wether or not to collect system load statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_LOAD, test "x$enable_load" = "xyes")
+
+#AC_ARG_ENABLE(memory, AC_HELP_STRING([--disable-memory], [Disable memory statistics]),, [enable_memory="yes"])
+#if test "x$enable_memory" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_memory="yes"
+#	else
+#		enable_memory="no"
+#	fi
+#fi
+#if test "x$enable_memory" = "xno"
+#then
+#	AC_DEFINE(COLLECT_MEMORY, 0, [Wether or not to collect memory statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_MEMORY, test "x$enable_memory" = "xyes")
+
+#AC_ARG_ENABLE(nfs, AC_HELP_STRING([--disable-nfs], [Disable nfs statistics]),, [enable_nfs="yes"])
+#if test "x$enable_nfs" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_nfs="yes"
+#	else
+#		enable_nfs="no"
+#	fi
+#fi
+#if test "x$enable_nfs" = "xno"
+#then
+#	AC_DEFINE(COLLECT_NFS, 0, [Wether or not to collect nfs statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_NFS, test "x$enable_nfs" = "xyes")
+
+#AC_ARG_ENABLE(ping, AC_HELP_STRING([--disable-ping], [Disable ping statistics]),, [enable_ping="yes"])
+#if test "x$enable_ping" != "xno"
+#then
+#	enable_ping="yes"
+#fi
+#if test "x$enable_ping" = "xno"
+#then
+#	AC_DEFINE(COLLECT_PING, 0, [Wether or not to collect ping statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_PING, test "x$enable_ping" = "xyes")
+
+#AC_ARG_ENABLE(processes, AC_HELP_STRING([--disable-processes], [Disable processes statistics]),, [enable_processes="yes"])
+#if test "x$enable_processes" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_processes="yes"
+#	else
+#		enable_processes="no"
+#	fi
+#fi
+#if test "x$enable_processes" = "xno"
+#then
+#	AC_DEFINE(COLLECT_PROCESSES, 0, [Wether or not to collect processes statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_PROCESSES, test "x$enable_processes" = "xyes")
+
+##AC_COLLECTD([quota],     [enable],  [module], [quota statistics (experimental)])
+
+#AC_ARG_ENABLE(sensors, AC_HELP_STRING([--disable-sensors], [Disable lm_sensors statistics]),, [enable_sensors=$with_lm_sensors])
+#if test "x$enable_sensors" != "xno"
+#then
+#	if test "x$with_lm_sensors" = "xyes"
+#	then
+#		enable_sensors="yes"
+#	else
+#		enable_sensors="no"
+#	fi
+#fi
+#if test "x$enable_sensors" = "xno"
+#then
+#	AC_DEFINE(COLLECT_SENSORS, 0, [Wether or not to collect lm_sensors statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_SENSORS, test "x$enable_sensors" = "xyes")
+
+#AC_ARG_ENABLE(serial, AC_HELP_STRING([--disable-serial], [Disable serial statistics]),, [enable_serial="yes"])
+#if test "x$enable_serial" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_serial="yes"
+#	else
+#		enable_serial="no"
+#	fi
+#fi
+#if test "x$enable_serial" = "xno"
+#then
+#	AC_DEFINE(COLLECT_SERIAL, 0, [Wether or not to collect serial statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_SERIAL, test "x$enable_serial" = "xyes")
+
+#AC_ARG_ENABLE(swap, AC_HELP_STRING([--disable-swap], [Disable swap statistics]),, [enable_swap="yes"])
+#if test "x$enable_swap" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_swap="yes"
+#	else
+#		enable_swap="no"
+#	fi
+#fi
+#if test "x$enable_swap" = "xno"
+#then
+#	AC_DEFINE(COLLECT_SWAP, 0, [Wether or not to collect swap statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_SWAP, test "x$enable_swap" = "xyes")
+
+#AC_ARG_ENABLE(tape, AC_HELP_STRING([--disable-tape], [Disable tape statistics]),, [enable_tape="yes"])
+#if test "x$enable_tape" != "xno"
+#then
+#	if test "x$with_kstat" = "xyes"
+#	then
+#		enable_tape="yes"
+#	else
+#		enable_tape="no"
+#	fi
+#fi
+#if test "x$enable_tape" = "xno"
+#then
+#	AC_DEFINE(COLLECT_TAPE, 0, [Wether or not to collect tape statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_TAPE, test "x$enable_tape" = "xyes")
+
+#AC_ARG_ENABLE(traffic, AC_HELP_STRING([--disable-traffic], [Disable system traffic statistics]),, [enable_traffic="yes"])
+#if test "x$enable_traffic" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_traffic="yes"
+#	else
+#		enable_traffic="no"
+#	fi
+#fi
+#if test "x$enable_traffic" = "xno"
+#then
+#	AC_DEFINE(COLLECT_TRAFFIC, 0, [Wether or not to collect network traffic statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_TRAFFIC, test "x$enable_traffic" = "xyes")
+
+#AC_COLLECTD([users],     [disable], [module], [user count statistics])
+
+                                        ac_config_files="$ac_config_files Makefile src/libconfig/Makefile src/libping/Makefile src/Makefile"
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
 # scripts and configure runs, see configure's option --config-cache.
 # It is not useful on other systems.  If it contains results you don't
 # want to keep, you may remove or edit it.
@@ -28489,23 +29642,51 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_RRDTOOL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_WITH_RRDTOOL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_DEBUG_TRUE}" && test -z "${BUILD_DEBUG_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_DEBUG\" was never defined.
+if test -z "${BUILD_WITH_KSTAT_TRUE}" && test -z "${BUILD_WITH_KSTAT_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_KSTAT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_KSTAT\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_WITH_LIBSTATGRAB_TRUE}" && test -z "${BUILD_WITH_LIBSTATGRAB_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBSTATGRAB\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LIBSTATGRAB\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_WITH_LM_SENSORS_TRUE}" && test -z "${BUILD_WITH_LM_SENSORS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LM_SENSORS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_WITH_LM_SENSORS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_WITH_LIBMYSQL_TRUE}" && test -z "${BUILD_WITH_LIBMYSQL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_WITH_LIBMYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_DEBUG\" was never defined.
+echo "$as_me: error: conditional \"BUILD_WITH_LIBMYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
-if test -z "${BUILD_DAEMON_TRUE}" && test -z "${BUILD_DAEMON_FALSE}"; then
-  { { echo "$as_me:$LINENO: error: conditional \"BUILD_DAEMON\" was never defined.
+if test -z "${BUILD_FEATURE_DEBUG_TRUE}" && test -z "${BUILD_FEATURE_DEBUG_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_FEATURE_DEBUG\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
-echo "$as_me: error: conditional \"BUILD_DAEMON\" was never defined.
+echo "$as_me: error: conditional \"BUILD_FEATURE_DEBUG\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_FEATURE_DAEMON_TRUE}" && test -z "${BUILD_FEATURE_DAEMON_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_FEATURE_DAEMON\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_FEATURE_DAEMON\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
 if test -z "${BUILD_MODULE_CPU_TRUE}" && test -z "${BUILD_MODULE_CPU_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_CPU\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
@@ -28524,12 +29705,26 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DISK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_DISK\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_MODULE_DF_TRUE}" && test -z "${BUILD_MODULE_DF_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_DF\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_DF\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${BUILD_MODULE_QUOTA_TRUE}" && test -z "${BUILD_MODULE_QUOTA_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_QUOTA\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_QUOTA\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_MODULE_HDDTEMP_TRUE}" && test -z "${BUILD_MODULE_HDDTEMP_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_HDDTEMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_HDDTEMP\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -28545,12 +29740,19 @@
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_MEMORY\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
 fi
+if test -z "${BUILD_MODULE_MYSQL_TRUE}" && test -z "${BUILD_MODULE_MYSQL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_MYSQL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"BUILD_MODULE_MYSQL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
 if test -z "${BUILD_MODULE_NFS_TRUE}" && test -z "${BUILD_MODULE_NFS_FALSE}"; then
   { { echo "$as_me:$LINENO: error: conditional \"BUILD_MODULE_NFS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&5
 echo "$as_me: error: conditional \"BUILD_MODULE_NFS\" was never defined.
 Usually this means the macro was only invoked conditionally." >&2;}
    { (exit 1); exit 1; }; }
@@ -28879,13 +30081,13 @@
   sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
 ## Running $as_me. ##
 _ASBOX
 } >&5
 cat >&5 <<_CSEOF
 
-This file was extended by collectd $as_me 3.5.2, which was
+This file was extended by collectd $as_me 3.6.0, which was
 generated by GNU Autoconf 2.59.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
   CONFIG_LINKS    = $CONFIG_LINKS
   CONFIG_COMMANDS = $CONFIG_COMMANDS
@@ -28942,13 +30144,13 @@
 
 Report bugs to <bug-autoconf@gnu.org>."
 _ACEOF
 
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-collectd config.status 3.5.2
+collectd config.status 3.6.0
 configured by $0, generated by GNU Autoconf 2.59,
   with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
 
 Copyright (C) 2003 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
@@ -29053,12 +30255,13 @@
 cat >>$CONFIG_STATUS <<\_ACEOF
 for ac_config_target in $ac_config_targets
 do
   case "$ac_config_target" in
   # Handling of arguments.
   "Makefile" ) CONFIG_FILES="$CONFIG_FILES Makefile" ;;
+  "src/libconfig/Makefile" ) CONFIG_FILES="$CONFIG_FILES src/libconfig/Makefile" ;;
   "src/libping/Makefile" ) CONFIG_FILES="$CONFIG_FILES src/libping/Makefile" ;;
   "src/Makefile" ) CONFIG_FILES="$CONFIG_FILES src/Makefile" ;;
   "depfiles" ) CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
   "src/config.h" ) CONFIG_HEADERS="$CONFIG_HEADERS src/config.h" ;;
   *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
 echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
@@ -29212,28 +30415,42 @@
 s,@FFLAGS@,$FFLAGS,;t t
 s,@ac_ct_F77@,$ac_ct_F77,;t t
 s,@LIBTOOL@,$LIBTOOL,;t t
 s,@subdirs@,$subdirs,;t t
 s,@BUILD_WITH_RRDTOOL_TRUE@,$BUILD_WITH_RRDTOOL_TRUE,;t t
 s,@BUILD_WITH_RRDTOOL_FALSE@,$BUILD_WITH_RRDTOOL_FALSE,;t t
-s,@BUILD_DEBUG_TRUE@,$BUILD_DEBUG_TRUE,;t t
-s,@BUILD_DEBUG_FALSE@,$BUILD_DEBUG_FALSE,;t t
-s,@BUILD_DAEMON_TRUE@,$BUILD_DAEMON_TRUE,;t t
-s,@BUILD_DAEMON_FALSE@,$BUILD_DAEMON_FALSE,;t t
+s,@BUILD_WITH_KSTAT_TRUE@,$BUILD_WITH_KSTAT_TRUE,;t t
+s,@BUILD_WITH_KSTAT_FALSE@,$BUILD_WITH_KSTAT_FALSE,;t t
+s,@BUILD_WITH_LIBSTATGRAB_TRUE@,$BUILD_WITH_LIBSTATGRAB_TRUE,;t t
+s,@BUILD_WITH_LIBSTATGRAB_FALSE@,$BUILD_WITH_LIBSTATGRAB_FALSE,;t t
+s,@BUILD_WITH_LM_SENSORS_TRUE@,$BUILD_WITH_LM_SENSORS_TRUE,;t t
+s,@BUILD_WITH_LM_SENSORS_FALSE@,$BUILD_WITH_LM_SENSORS_FALSE,;t t
+s,@BUILD_WITH_LIBMYSQL_TRUE@,$BUILD_WITH_LIBMYSQL_TRUE,;t t
+s,@BUILD_WITH_LIBMYSQL_FALSE@,$BUILD_WITH_LIBMYSQL_FALSE,;t t
+s,@BUILD_FEATURE_DEBUG_TRUE@,$BUILD_FEATURE_DEBUG_TRUE,;t t
+s,@BUILD_FEATURE_DEBUG_FALSE@,$BUILD_FEATURE_DEBUG_FALSE,;t t
+s,@BUILD_FEATURE_DAEMON_TRUE@,$BUILD_FEATURE_DAEMON_TRUE,;t t
+s,@BUILD_FEATURE_DAEMON_FALSE@,$BUILD_FEATURE_DAEMON_FALSE,;t t
 s,@BUILD_MODULE_CPU_TRUE@,$BUILD_MODULE_CPU_TRUE,;t t
 s,@BUILD_MODULE_CPU_FALSE@,$BUILD_MODULE_CPU_FALSE,;t t
 s,@BUILD_MODULE_CPUFREQ_TRUE@,$BUILD_MODULE_CPUFREQ_TRUE,;t t
 s,@BUILD_MODULE_CPUFREQ_FALSE@,$BUILD_MODULE_CPUFREQ_FALSE,;t t
 s,@BUILD_MODULE_DISK_TRUE@,$BUILD_MODULE_DISK_TRUE,;t t
 s,@BUILD_MODULE_DISK_FALSE@,$BUILD_MODULE_DISK_FALSE,;t t
+s,@BUILD_MODULE_DF_TRUE@,$BUILD_MODULE_DF_TRUE,;t t
+s,@BUILD_MODULE_DF_FALSE@,$BUILD_MODULE_DF_FALSE,;t t
+s,@BUILD_MODULE_QUOTA_TRUE@,$BUILD_MODULE_QUOTA_TRUE,;t t
+s,@BUILD_MODULE_QUOTA_FALSE@,$BUILD_MODULE_QUOTA_FALSE,;t t
 s,@BUILD_MODULE_HDDTEMP_TRUE@,$BUILD_MODULE_HDDTEMP_TRUE,;t t
 s,@BUILD_MODULE_HDDTEMP_FALSE@,$BUILD_MODULE_HDDTEMP_FALSE,;t t
 s,@BUILD_MODULE_LOAD_TRUE@,$BUILD_MODULE_LOAD_TRUE,;t t
 s,@BUILD_MODULE_LOAD_FALSE@,$BUILD_MODULE_LOAD_FALSE,;t t
 s,@BUILD_MODULE_MEMORY_TRUE@,$BUILD_MODULE_MEMORY_TRUE,;t t
 s,@BUILD_MODULE_MEMORY_FALSE@,$BUILD_MODULE_MEMORY_FALSE,;t t
+s,@BUILD_MODULE_MYSQL_TRUE@,$BUILD_MODULE_MYSQL_TRUE,;t t
+s,@BUILD_MODULE_MYSQL_FALSE@,$BUILD_MODULE_MYSQL_FALSE,;t t
 s,@BUILD_MODULE_NFS_TRUE@,$BUILD_MODULE_NFS_TRUE,;t t
 s,@BUILD_MODULE_NFS_FALSE@,$BUILD_MODULE_NFS_FALSE,;t t
 s,@BUILD_MODULE_PING_TRUE@,$BUILD_MODULE_PING_TRUE,;t t
 s,@BUILD_MODULE_PING_FALSE@,$BUILD_MODULE_PING_FALSE,;t t
 s,@BUILD_MODULE_PROCESSES_TRUE@,$BUILD_MODULE_PROCESSES_TRUE,;t t
 s,@BUILD_MODULE_PROCESSES_FALSE@,$BUILD_MODULE_PROCESSES_FALSE,;t t
@@ -30150,24 +31367,27 @@
 Configuration:
   Libraries:
     librrd  . . . . . . $with_rrdtool
     lm_sensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libkstat  . . . . . $with_kstat
+    libmysql  . . . . . $with_libmysql
 
   Features:
     debug . . . . . . . $enable_debug
     daemon mode . . . . $enable_daemon
 
   Modules:
     cpu . . . . . . . . $enable_cpu
     cpufreq . . . . . . $enable_cpufreq
+    df  . . . . . . . . $enable_df
     disk  . . . . . . . $enable_disk
     hddtemp . . . . . . $enable_hddtemp
     load  . . . . . . . $enable_load
     memory  . . . . . . $enable_memory
+    mysql . . . . . . . $enable_mysql
     nfs . . . . . . . . $enable_nfs
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
     swap  . . . . . . . $enable_swap
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/configure.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/configure.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/configure.in	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/configure.in	2006-01-20 17:51:57.000000000 +0800
@@ -1,8 +1,8 @@
 dnl Process this file with autoconf to produce a configure script.
-AC_INIT(collectd, 3.5.2)
+AC_INIT(collectd, 3.6.0)
 AC_CONFIG_SRCDIR(src/collectd.c)
 AC_CONFIG_HEADERS(src/config.h)
 AM_INIT_AUTOMAKE(dist-bzip2)
 AC_LANG(C)
 
 AC_PREFIX_DEFAULT("/opt/collectd")
@@ -21,25 +21,26 @@
 AC_LIBLTDL_CONVENIENCE
 AC_SUBST(LTDLINCL)
 AC_SUBST(LIBLTDL)
 AC_LIBTOOL_DLOPEN
 AC_PROG_LIBTOOL
 #AC_PROG_RANLIB
-AC_CONFIG_SUBDIRS(libltdl)
+AC_CONFIG_SUBDIRS(libltdl src/libconfig)
 
 #
 # Checks for header files.
 #
 AC_HEADER_SYS_WAIT
 AC_HEADER_DIRENT
 AC_CHECK_HEADERS(fcntl.h)
 AC_CHECK_HEADERS(signal.h)
 AC_CHECK_HEADERS(sys/socket.h)
 AC_CHECK_HEADERS(sys/select.h)
 AC_CHECK_HEADERS(netdb.h)
 AC_CHECK_HEADERS(sys/resource.h)
+AC_CHECK_HEADERS(sys/param.h)
 AC_CHECK_HEADERS(errno.h)
 AC_CHECK_HEADERS(syslog.h)
 
 # For cpu modules
 AC_CHECK_HEADERS(sys/sysctl.h sys/dkstat.h)
 
@@ -70,12 +71,13 @@
 AC_CHECK_HEADERS(sys/fstyp.h)
 AC_CHECK_HEADERS(sys/fs_types.h)
 AC_CHECK_HEADERS(sys/mntent.h)
 AC_CHECK_HEADERS(sys/mnttab.h)
 AC_CHECK_HEADERS(sys/mount.h)
 AC_CHECK_HEADERS(sys/statfs.h)
+AC_CHECK_HEADERS(sys/statvfs.h)
 AC_CHECK_HEADERS(sys/vfs.h)
 AC_CHECK_HEADERS(sys/vfstab.h)
 
 # For debugging interface (variable number of arguments)
 AC_CHECK_HEADERS(stdarg.h)
 
@@ -85,12 +87,13 @@
 #
 # Checks for typedefs, structures, and compiler characteristics.
 #
 AC_C_CONST
 AC_TYPE_PID_T
 AC_TYPE_SIZE_T
+AC_TYPE_UID_T
 AC_HEADER_TIME
 
 #
 # Checks for library functions.
 #
 AC_PROG_GCC_TRADITIONAL
@@ -101,27 +104,29 @@
 AC_CHECK_FUNCS(strncasecmp strcasecmp)
 AC_CHECK_FUNCS(openlog syslog closelog)
 
 # For cpu module
 AC_CHECK_FUNCS(sysctlbyname, [have_sysctlbyname="yes"], [have_sysctlbyname="no"])
 
+# For df module
+AC_CHECK_FUNCS(statfs statvfs)
+
 # For load module
 AC_CHECK_FUNCS(getloadavg, [have_getloadavg="yes"], [have_getloadavg="no"])
 
 # For users module
-have_getutent="no"
-AC_CHECK_FUNCS(getutent getutxent, [have_getutent="yes"])
+AC_CHECK_FUNCS(getutent getutxent)
 
 # For quota module
 AC_CHECK_FUNCS(quotactl)
 AC_CHECK_FUNCS(getgrgid getpwuid)
 
 # For mount interface
 AC_CHECK_FUNCS(getfsent getvfsent listmntent)
 AC_FUNC_GETMNTENT
-if test "x$ac_cv_func_getmntent" = 'xyes'; then
+if test "x$ac_cv_func_getmntent" = "xyes"; then
 	saveCFLAGS="$CFLAGS"
 	CFLAGS="-Wall -Werror $CFLAGS"
 	AC_CACHE_CHECK([whether getmntent takes one argument],
 		[fu_cv_getmntent1],
 		AC_COMPILE_IFELSE(
 			AC_LANG_PROGRAM([[AC_INCLUDES_DEFAULT
@@ -129,13 +134,13 @@
 				[[(void)getmntent((FILE *)NULL);]]
 			),
 			[fu_cv_getmntent1=yes],
 			[fu_cv_getmntent1=no]
 		)
 	)
-	if test "x$fu_cv_getmntent1" = 'xno'; then
+	if test "x$fu_cv_getmntent1" = "xno"; then
 		AC_CACHE_CHECK([whether getmntent takes two arguments],
 			[fu_cv_getmntent2],
 			AC_COMPILE_IFELSE(
 				AC_LANG_PROGRAM([[AC_INCLUDES_DEFAULT
 #include "$srcdir/src/utils_mount.h"]],
 					[[(void)getmntent((FILE *)NULL,
@@ -145,22 +150,22 @@
 				[fu_cv_getmntent2=no]
 			)
 		)
 	fi
 	CFLAGS="$saveCFLAGS"
 fi
-if test "x$fu_cv_getmntent1" = 'xyes'; then
+if test "x$fu_cv_getmntent1" = "xyes"; then
 	AC_DEFINE(HAVE_GETMNTENT1,
 		1,
 		[Define if there is a function named getmntent
 			for reading the list of mounted filesystems, and
 			that function takes a single argument. (4.3BSD,
 			SunOS, HP-UX, Dynix, Irix, Linux)]
 		)
 fi
-if test "x$fu_cv_getmntent2" = 'xyes'; then
+if test "x$fu_cv_getmntent2" = "xyes"; then
 	AC_DEFINE(HAVE_GETMNTENT2,
 		1,
 		[Define if there is a function named getmntent
 			for reading the list of mounted filesystems, and
 			that function takes two arguments. (SVR4)]
 		)
@@ -182,46 +187,57 @@
 AC_MSG_RESULT([$ac_system])
 
 dnl Checks for libraries.
 AC_CHECK_LIB(socket, socket)
 AC_CHECK_LIB(resolv, res_search)
 
+m4_divert_once([HELP_WITH], [
+collectd additional packages:])
+
 # AC_ARG_WITH (package, help-string, [action-if-given], [action-if-not-given])
-AC_ARG_WITH(rrdtool, AC_HELP_STRING([--with-rrdtool=PFX], [Path to rrdtool.]),
-[	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+AC_ARG_WITH(rrdtool, [AS_HELP_STRING([--with-rrdtool@<:@=PREFIX@:>@], [Path to rrdtool.])],
+[	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
 		LDFLAGS="$LDFLAGS -L$withval/lib"
 		CPPFLAGS="$CPPFLAGS -I$withval/include"
 		with_rrdtool="yes"
 	fi
 ], [with_rrdtool="yes"])
 if test "x$with_rrdtool" = "xyes"
 then
-	AC_CHECK_LIB(rrd, rrd_update,, [with_rrdtool="no"], [-lm])
+	AC_CHECK_LIB(rrd, rrd_update,, [with_rrdtool="no (librrd not found)"], [-lm])
+fi
+if test "x$with_rrdtool" = "xyes"
+then
+	AC_CHECK_HEADERS(rrd.h,, [with_rrdtool="no (rrd.h not found)"])
 fi
 if test "x$with_rrdtool" = "xyes"
 then
-	AC_CHECK_HEADERS(rrd.h,, [with_rrdtool="no"])
+	collect_rrdtool=1
+else
+	collect_rrdtool=0
 fi
+AC_DEFINE_UNQUOTED(COLLECT_RRDTOOL, [$collect_rrdtool],
+	[Wether or not to use rrdtool library])
 AM_CONDITIONAL(BUILD_WITH_RRDTOOL, test "x$with_rrdtool" = "xyes")
 
-#AC_ARG_WITH(pth, AC_HELP_STRING([--with-pth=PFX], [Path to pth (experimental).]),
-#[	if test "x$withval" != "xno" -a "x$withval" != "xyes"
+#AC_ARG_WITH(pth, [AS_HELP_STRING([--with-pth=@<:@=PREFIX@:>@], [Path to pth (experimental).]),
+#[	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 #	then
 #		LDFLAGS="$LDFLAGS -L$withval/lib"
 #		CPPFLAGS="$CPPFLAGS -I$withval/include"
 #		with_pth="yes"
 #	fi
 #], [with_pth="no"])
 #if test "x$with_pth" = "xyes"
 #then
-#	AC_CHECK_LIB(pth, pth_init,, [with_pth="no"], [])
+#	AC_CHECK_LIB(pth, pth_init,, [with_pth="no (libpth not found)"], [])
 #fi
 #if test "x$with_pth" = "xyes"
 #then
-#	AC_CHECK_HEADERS(pth.h,, [with_pth="no"])
+#	AC_CHECK_HEADERS(pth.h,, [with_pth="no (pth.h not found)"])
 #fi
 #if test "x$with_pth" = "xyes"
 #then
 #	collect_pth=1
 #else
 #	collect_pth=0
@@ -230,404 +246,475 @@
 #	[Wether or not to use pth (portable threads) library])
 #AM_CONDITIONAL(BUILD_WITH_PTH, test "x$with_pth" = "xyes")
 
 if test "$ac_system" = "Solaris"
 then
 	with_kstat="yes"
-	AC_CHECK_LIB(kstat, kstat_open,, [with_kstat="no (not found)"])
+else
+	with_kstat="no (Solaris only)"
+fi
+if test "x$with_kstat" = "xyes"
+then
+	AC_CHECK_LIB(kstat, kstat_open,, [with_kstat="no (libkstat not found)"])
+fi
+if test "x$with_kstat" = "xyes"
+then
 	AC_CHECK_LIB(devinfo, di_init)
 	AC_CHECK_HEADERS(kstat.h,, [with_kstat="no (kstat.h not found)"])
+fi
+if test "x$with_kstat" = "xyes"
+then
+	collect_kstat=1
 else
-	with_kstat="no (Solaris only)"
+	collect_kstat=0
 fi
+AC_DEFINE_UNQUOTED(COLLECT_KSTAT, [$collect_kstat],
+	[Wether or not to use kstat library (Solaris)])
+AM_CONDITIONAL(BUILD_WITH_KSTAT, test "x$with_kstat" = "xyes")
 
-AC_ARG_WITH(libstatgrab, AC_HELP_STRING([--with-libstatgrab@<:@=PFX@:>@], [Path to libstatgrab.]),
+AC_ARG_WITH(libstatgrab, [AS_HELP_STRING([--with-libstatgrab@<:@=PREFIX@:>@], [Path to libstatgrab.])],
 [
-	# given..
-	if test "x$withval" != "xno"
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
-		if test "x$withval" != "xyes"
-		then
-			LDFLAGS="$LDFLAGS -L$withval/lib"
-			CPPFLAGS="$CPPFLAGS -I$withval/include"
-			with_libstatgrab="yes"
-		fi
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libstatgrab="yes"
 	fi
 ],
 [
-	# not given..
-	if test "x$ac_system" != "xunknown"
+	if test "x$ac_system" == "xunknown"
 	then
-		with_libstatgrab="no"
-	else
 		with_libstatgrab="yes"
+	else
+		with_libstatgrab="no"
 	fi
 ])
 if test "x$with_libstatgrab" = "xyes"
 then
 	AC_CHECK_LIB(devstat, getdevs)
 	AC_CHECK_LIB(kvm, kvm_getargv)
-	AC_CHECK_LIB(statgrab, sg_init,, [with_libstatgrab="no (not found)"])
-	AC_CHECK_HEADERS(statgrab.h,,    [with_libstatgrab="no (not found)"])
+	AC_CHECK_LIB(statgrab, sg_init,, [with_libstatgrab="no (libstatgrab not found)"])
+fi
+if test "x$with_libstatgrab" = "xyes"
+then
+	AC_CHECK_HEADERS(statgrab.h,,    [with_libstatgrab="no (statgrab.h not found)"])
+fi
+if test "x$with_libstatgrab" = "xyes"
+then
+	collect_libstatgrab=1
+else
+	collect_libstatgrab=0
 fi
+AC_DEFINE_UNQUOTED(COLLECT_LIBSTATGRAB, [$collect_libstatgrab],
+	[Wether or not to use statgrab library])
+AM_CONDITIONAL(BUILD_WITH_LIBSTATGRAB, test "x$with_libstatgrab" = "xyes")
 
-AC_ARG_WITH(lm-sensors, AC_HELP_STRING([--with-lm-sensors@<:@=PFX@:>@], [Path to lm_sensors.]),
+AC_ARG_WITH(lm-sensors, [AS_HELP_STRING([--with-lm-sensors@<:@=PREFIX@:>@], [Path to lm_sensors.])],
 [
-	# given..
-	if test "x$withval" != "xno"
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
-		if test "x$withval" != "xyes"
-		then
-			LDFLAGS="$LDFLAGS -L$withval/lib"
-			CPPFLAGS="$CPPFLAGS -I$withval/include"
-			with_lm_sensors="yes"
-		fi
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_lm_sensors="yes"
 	fi
 ],
 [
-	# not given..
 	if test "x$ac_system" = "xLinux"
 	then
 		with_lm_sensors="yes"
 	else
 		with_lm_sensors="no"
 	fi
 ])
 if test "x$with_lm_sensors" = "xyes"
 then
 	AC_CHECK_LIB(sensors, sensors_init,
 	[
-		with_lm_sensors="yes"
 		AC_DEFINE(HAVE_LIBSENSORS, 1, [Define to 1 if you have the sensors library (-lsensors).])
 	],
-	[with_lm_sensors="no (not found)"])
+	[with_lm_sensors="no (libsensors not found)"])
+fi
+if test "x$with_lm_sensors" = "xyes"
+then
 	AC_CHECK_HEADERS(sensors/sensors.h,
 	[
-		with_lm_sensors="yes"
 		AC_DEFINE(HAVE_SENSORS_SENSORS_H, 1, [Define to 1 if you have the <sensors/sensors.h> header file.])
 	],
-	[with_lm_sensors="no (not found)"])
+	[with_lm_sensors="no (sensors/sensors.h not found)"])
 fi
-
-
-
-#
-# Check for enabled/disabled features
-#
-m4_divert_once([HELP_ENABLE], [
-collectd features:])
-AC_ARG_ENABLE(debug, AC_HELP_STRING([--enable-debug],
-	[Enable debugging (disabled by default)]),
-	[], [enable_debug="no"])
-if test "x$enable_debug" = "xno"
-then
-	collect_debug=0
-else
-	if test "x$enable_debug" = "xyes"
-	then
-		collect_debug=1
-	else
-		AC_MSG_NOTICE([Please specify either --enable-debug or --disable-debug; Enabling debugging.])
-		collect_debug=1
-		enable_debug="yes"
-	fi
-fi
-AC_DEFINE_UNQUOTED(COLLECT_DEBUG, [$collect_debug],
-	[Wether or not to enable debugging])
-AM_CONDITIONAL(BUILD_DEBUG, test "x$enable_debug" = "xyes")
-
-AC_ARG_ENABLE(daemon, AC_HELP_STRING([--disable-daemon],
-	[Disable daemon mode (enabled by default)]),
-	[], [enable_daemon="yes"])
-if test "x$enable_daemon" = "xno"
+if test "x$with_lm_sensors" = "xyes"
 then
-	collect_daemon=0
+	collect_lm_sensors=1
 else
-	if test "x$enable_daemon" = "xyes"
-	then
-		collect_daemon=1
-	else
-		AC_MSG_NOTICE([Please specify either --enable-daemon or --disable-daemon; Enabling daemon mode.])
-		collect_daemon=1
-		enable_daemon="yes"
-	fi
+	collect_lm_sensors=0
 fi
-AC_DEFINE_UNQUOTED(COLLECT_DAEMON, [$collect_daemon],
-	[Wether or not to enable daemon mode])
-AM_CONDITIONAL(BUILD_DAEMON, test "x$enable_daemon" = "xyes")
+AC_DEFINE_UNQUOTED(COLLECT_LM_SENSORS, [$collect_lm_sensors],
+	[Wether or not to use sensors library])
+AM_CONDITIONAL(BUILD_WITH_LM_SENSORS, test "x$with_lm_sensors" = "xyes")
 
-m4_divert_once([HELP_ENABLE], [
-collectd modules:])
-AC_ARG_ENABLE(cpu, AC_HELP_STRING([--disable-cpu], [Disable CPU usage statistics]),, [enable_cpu="yes"])
-if test "x$enable_cpu" != "xno"
-then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$have_sysctlbyname" = "xyes"
+AC_ARG_WITH(libmysql, [AS_HELP_STRING([--with-libmysql@<:@=PREFIX@:>@], [Path to libmysql.])],
+[
+	if test "x$withval" != "xno" && test "x$withval" != "xyes"
 	then
-		enable_cpu="yes"
-	else
-		enable_cpu="no"
+		LDFLAGS="$LDFLAGS -L$withval/lib"
+		CPPFLAGS="$CPPFLAGS -I$withval/include"
+		with_libmysql="yes"
 	fi
-fi
-if test "x$enable_cpu" = "xno"
+],
+[
+	with_libmysql="yes"
+])
+if test "x$with_libmysql" = "xyes"
 then
-	AC_DEFINE(COLLECT_CPU, 0, [Wether or not to collect CPU usage statistics])
+	AC_CHECK_LIB(mysqlclient, mysql_init,, [with_libmysql="no (libmysql not found)"])
 fi
-AM_CONDITIONAL(BUILD_MODULE_CPU, test "x$enable_cpu" = "xyes")
-
-AC_ARG_ENABLE(cpufreq, AC_HELP_STRING([--disable-cpufreq], [Disable system cpu frequency statistics]),, [enable_cpufreq="yes"])
-if test "x$enable_cpufreq" != "xno"
+if test "x$with_libmysql" = "xyes"
 then
-	if test "x$ac_system" = "xLinux"
-	then
-		enable_cpufreq="yes"
-	else
-		enable_cpufreq="no"
-	fi
+	AC_CHECK_HEADERS(mysql/mysql.h,, [with_libmysql="no (mysql/mysql.h not found)"])
 fi
-if test "x$enable_cpufreq" = "xno"
+if test "x$with_libmysql" = "xyes"
 then
-	AC_DEFINE(COLLECT_CPUFREQ, 0, [Wether or not to collect cpu frequency statistics])
+	collect_libmysql=1
+else
+	collect_libmysql=0
 fi
-AM_CONDITIONAL(BUILD_MODULE_CPUFREQ, test "x$enable_cpufreq" = "xyes")
+AC_DEFINE_UNQUOTED(COLLECT_LIBMYSQL, [$collect_libmysql],
+	[Wether or not to use mysql library])
+AM_CONDITIONAL(BUILD_WITH_LIBMYSQL, test "x$with_libmysql" = "xyes")
+
+#
+# Check for enabled/disabled features
+#
 
-AC_ARG_ENABLE(disk, AC_HELP_STRING([--disable-disk], [Disable disk/partition statistics]),, [enable_disk="yes"])
-if test "x$enable_disk" != "xno"
+# AC_COLLECTD(name, enable/disable, info-text, feature/module)
+# ------------------------------------------------------------
+dnl
+m4_define([my_toupper], [m4_translit([$1], m4_defn([m4_cr_letters]), m4_defn([m4_cr_LETTERS]))])
+dnl
+AC_DEFUN(
+	[AC_COLLECTD],
+	[
+	m4_if([$1], [], [AC_FATAL([AC_COLLECTD([$1], [$2], [$3], [$4]): 1st argument must not be empty])])dnl
+	m4_if(
+		[$2],
+		[enable],
+		[dnl
+		m4_define([EnDis],[disabled])dnl
+		m4_define([YesNo],[no])dnl
+		],dnl
+		[m4_if(
+			[$2],
+			[disable],
+			[dnl
+			m4_define([EnDis],[enabled])dnl
+			m4_define([YesNo],[yes])dnl
+			],
+			[dnl
+			AC_FATAL([AC_COLLECTD([$1], [$2], [$3], [$4]): 2nd argument must be either enable or disable])dnl
+			]dnl
+		)]dnl
+	)dnl
+	m4_if([$3], [feature], [],
+		[m4_if(
+			[$3], [module], [],
+			[dnl
+			AC_FATAL([AC_COLLECTD([$1], [$2], [$3], [$4]): 3rd argument must be either feature or disable])dnl
+			]dnl
+		)]dnl
+	)dnl
+	AC_ARG_ENABLE(
+		[$1],
+		AS_HELP_STRING([--$2-$1], [$2 $4 (EnDis by def)]),
+		[],
+		enable_$1='[YesNo]'dnl
+	)# AC_ARG_ENABLE
+if test "x$enable_$1" = "xno"
 then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes"
+	collectd_$1=0
+else
+	if test "x$enable_$1" = "xyes"
 	then
-		enable_disk="yes"
+		collectd_$1=1
 	else
-		enable_disk="no"
+		AC_MSG_NOTICE([please specify either --enable-$1 or --disable-$1; enabling $1.])
+		collectd_$1=1
+		enable_$1='yes'
 	fi
 fi
-if test "x$enable_disk" = "xno"
-then
-	AC_DEFINE(COLLECT_DISK, 0, [Wether or not to collect diskstats])
-fi
-AM_CONDITIONAL(BUILD_MODULE_DISK, test "x$enable_disk" = "xyes")
+	AC_DEFINE_UNQUOTED([COLLECT_]my_toupper([$1]), [$collectd_$1], [wether or not to enable $3 $4])
+	AM_CONDITIONAL([BUILD_]my_toupper([$3])[_]my_toupper([$1]), [test "x$enable_$1" = "xyes"])dnl
+	]dnl
+)# AC_COLLECTD(name, enable/disable, info-text, feature/module)
 
-AC_ARG_ENABLE(hddtemp, AC_HELP_STRING([--disable-hddtemp], [Disable hdd temperature statistics]),, [enable_hddtemp="yes"])
-if test "x$enable_hddtemp" = "xno"
-then
-	AC_DEFINE(COLLECT_HDDTEMP, 0, [Wether or not to collect hdd temperature statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_HDDTEMP, test "x$enable_hddtemp" = "xyes")
+m4_divert_once([HELP_ENABLE], [
+collectd features:])
+AC_COLLECTD([debug],     [enable],  [feature], [debugging])
+AC_COLLECTD([daemon],    [disable], [feature], [daemon mode])
 
-AC_ARG_ENABLE(load, AC_HELP_STRING([--disable-load], [Disable system load statistics]),, [enable_load="yes"])
-if test "x$enable_load" != "xno"
-then
-	if test "x$have_getloadavg" = "xyes" -o "x$ac_system" = "xLinux" -o "x$with_libstatgrab" = "xyes"
-	then
-		enable_load="yes"
-	else
-		enable_load="no"
-	fi
-fi
-if test "x$enable_load" = "xno"
-then
-	AC_DEFINE(COLLECT_LOAD, 0, [Wether or not to collect system load statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_LOAD, test "x$enable_load" = "xyes")
+m4_divert_once([HELP_ENABLE], [
+collectd modules:])
+AC_COLLECTD([cpu],       [disable], [module], [cpu usage statistics])
+AC_COLLECTD([cpufreq],   [disable], [module], [system cpu frequency statistics])
+AC_COLLECTD([disk],      [disable], [module], [disk/partition statistics])
+AC_COLLECTD([df],        [disable], [module], [df statistics])
+AC_COLLECTD([quota],     [enable],  [module], [quota statistics (experimental)])
+AC_COLLECTD([hddtemp],   [disable], [module], [hdd temperature statistics])
+AC_COLLECTD([load],      [disable], [module], [system load statistics])
+AC_COLLECTD([memory],    [disable], [module], [memory statistics])
+AC_COLLECTD([mysql],     [disable], [module], [mysql statistics])
+AC_COLLECTD([nfs],       [disable], [module], [nfs statistics])
+AC_COLLECTD([ping],      [disable], [module], [ping statistics])
+AC_COLLECTD([processes], [disable], [module], [processes statistics])
+AC_COLLECTD([sensors],   [disable], [module], [lm_sensors statistics])
+AC_COLLECTD([serial],    [disable], [module], [serial statistics])
+AC_COLLECTD([swap],      [disable], [module], [swap statistics])
+AC_COLLECTD([tape],      [disable], [module], [tape statistics])
+AC_COLLECTD([traffic],   [disable], [module], [system traffic statistics])
+AC_COLLECTD([users],     [disable], [module], [user count statistics])
+
+#m4_divert_once([HELP_ENABLE], [
+#collectd modules:])
+#AC_ARG_ENABLE(cpu, AC_HELP_STRING([--disable-cpu], [Disable CPU usage statistics]),, [enable_cpu="yes"])
+#if test "x$enable_cpu" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$have_sysctlbyname" = "xyes"
+#	then
+#		enable_cpu="yes"
+#	else
+#		enable_cpu="no"
+#	fi
+#fi
+#if test "x$enable_cpu" = "xno"
+#then
+#	AC_DEFINE(COLLECT_CPU, 0, [Wether or not to collect CPU usage statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_CPU, test "x$enable_cpu" = "xyes")
 
-AC_ARG_ENABLE(memory, AC_HELP_STRING([--disable-memory], [Disable memory statistics]),, [enable_memory="yes"])
-if test "x$enable_memory" != "xno"
-then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
-	then
-		enable_memory="yes"
-	else
-		enable_memory="no"
-	fi
-fi
-if test "x$enable_memory" = "xno"
-then
-	AC_DEFINE(COLLECT_MEMORY, 0, [Wether or not to collect memory statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_MEMORY, test "x$enable_memory" = "xyes")
+#AC_ARG_ENABLE(cpufreq, AC_HELP_STRING([--disable-cpufreq], [Disable system cpu frequency statistics]),, [enable_cpufreq="yes"])
+#if test "x$enable_cpufreq" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_cpufreq="yes"
+#	else
+#		enable_cpufreq="no"
+#	fi
+#fi
+#if test "x$enable_cpufreq" = "xno"
+#then
+#	AC_DEFINE(COLLECT_CPUFREQ, 0, [Wether or not to collect cpu frequency statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_CPUFREQ, test "x$enable_cpufreq" = "xyes")
 
-AC_ARG_ENABLE(nfs, AC_HELP_STRING([--disable-nfs], [Disable nfs statistics]),, [enable_nfs="yes"])
-if test "x$enable_nfs" != "xno"
-then
-	if test "x$ac_system" = "xLinux"
-	then
-		enable_nfs="yes"
-	else
-		enable_nfs="no"
-	fi
-fi
-if test "x$enable_nfs" = "xno"
-then
-	AC_DEFINE(COLLECT_NFS, 0, [Wether or not to collect nfs statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_NFS, test "x$enable_nfs" = "xyes")
+#AC_ARG_ENABLE(disk, AC_HELP_STRING([--disable-disk], [Disable disk/partition statistics]),, [enable_disk="yes"])
+#if test "x$enable_disk" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes"
+#	then
+#		enable_disk="yes"
+#	else
+#		enable_disk="no"
+#	fi
+#fi
+#if test "x$enable_disk" = "xno"
+#then
+#	AC_DEFINE(COLLECT_DISK, 0, [Wether or not to collect diskstats])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_DISK, test "x$enable_disk" = "xyes")
 
-AC_ARG_ENABLE(ping, AC_HELP_STRING([--disable-ping], [Disable ping statistics]),, [enable_ping="yes"])
-if test "x$enable_ping" != "xno"
-then
-	enable_ping="yes"
-fi
-if test "x$enable_ping" = "xno"
-then
-	AC_DEFINE(COLLECT_PING, 0, [Wether or not to collect ping statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_PING, test "x$enable_ping" = "xyes")
+#AC_ARG_ENABLE(hddtemp, AC_HELP_STRING([--disable-hddtemp], [Disable hdd temperature statistics]),, [enable_hddtemp="yes"])
+#if test "x$enable_hddtemp" = "xno"
+#then
+#	AC_DEFINE(COLLECT_HDDTEMP, 0, [Wether or not to collect hdd temperature statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_HDDTEMP, test "x$enable_hddtemp" = "xyes")
 
-AC_ARG_ENABLE(processes, AC_HELP_STRING([--disable-processes], [Disable processes statistics]),, [enable_processes="yes"])
-if test "x$enable_processes" != "xno"
-then
-	if test "x$ac_system" = "xLinux" 
-	then
-		enable_processes="yes"
-	else
-		enable_processes="no"
-	fi
-fi
-if test "x$enable_processes" = "xno"
-then
-	AC_DEFINE(COLLECT_PROCESSES, 0, [Wether or not to collect processes statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_PROCESSES, test "x$enable_processes" = "xyes")
+#AC_ARG_ENABLE(load, AC_HELP_STRING([--disable-load], [Disable system load statistics]),, [enable_load="yes"])
+#if test "x$enable_load" != "xno"
+#then
+#	if test "x$have_getloadavg" = "xyes" -o "x$ac_system" = "xLinux" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_load="yes"
+#	else
+#		enable_load="no"
+#	fi
+#fi
+#if test "x$enable_load" = "xno"
+#then
+#	AC_DEFINE(COLLECT_LOAD, 0, [Wether or not to collect system load statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_LOAD, test "x$enable_load" = "xyes")
 
-#AC_ARG_ENABLE(quota, AC_HELP_STRING([--enable-quota],
-#	[Enable quota statistics (experimental, disabled by default)]),
-#	[], [enable_quota="no"])
-#if test "x$enable_quota" = "xno"
+#AC_ARG_ENABLE(memory, AC_HELP_STRING([--disable-memory], [Disable memory statistics]),, [enable_memory="yes"])
+#if test "x$enable_memory" != "xno"
 #then
-#	collect_quota=0
-#else
-#	if test "x$enable_quota" = "xyes"
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
 #	then
-#		collect_quota=1
+#		enable_memory="yes"
 #	else
-#		AC_MSG_NOTICE([Please specify either --enable-quota or --disable-quota; Enabling quota statistics.])
-#		collect_quota=1
-#		enable_quota="yes"
+#		enable_memory="no"
 #	fi
 #fi
-#AC_DEFINE_UNQUOTED(COLLECT_QUOTA, [$collect_quota],
-#	[Wether or not to collect quota statistics])
-#AM_CONDITIONAL(BUILD_MODULE_QUOTA, test "x$enable_quota" = "xyes")
+#if test "x$enable_memory" = "xno"
+#then
+#	AC_DEFINE(COLLECT_MEMORY, 0, [Wether or not to collect memory statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_MEMORY, test "x$enable_memory" = "xyes")
 
-AC_ARG_ENABLE(sensors, AC_HELP_STRING([--disable-sensors], [Disable lm_sensors statistics]),, [enable_sensors=$with_lm_sensors])
-if test "x$enable_sensors" != "xno"
-then
-	if test "x$with_lm_sensors" = "xyes"
-	then
-		enable_sensors="yes"
-	else
-		enable_sensors="no"
-	fi
-fi
-if test "x$enable_sensors" = "xno"
-then
-	AC_DEFINE(COLLECT_SENSORS, 0, [Wether or not to collect lm_sensors statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_SENSORS, test "x$enable_sensors" = "xyes")
+#AC_ARG_ENABLE(nfs, AC_HELP_STRING([--disable-nfs], [Disable nfs statistics]),, [enable_nfs="yes"])
+#if test "x$enable_nfs" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_nfs="yes"
+#	else
+#		enable_nfs="no"
+#	fi
+#fi
+#if test "x$enable_nfs" = "xno"
+#then
+#	AC_DEFINE(COLLECT_NFS, 0, [Wether or not to collect nfs statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_NFS, test "x$enable_nfs" = "xyes")
 
-AC_ARG_ENABLE(serial, AC_HELP_STRING([--disable-serial], [Disable serial statistics]),, [enable_serial="yes"])
-if test "x$enable_serial" != "xno"
-then
-	if test "x$ac_system" = "xLinux"
-	then
-		enable_serial="yes"
-	else
-		enable_serial="no"
-	fi
-fi
-if test "x$enable_serial" = "xno"
-then
-	AC_DEFINE(COLLECT_SERIAL, 0, [Wether or not to collect serial statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_SERIAL, test "x$enable_serial" = "xyes")
+#AC_ARG_ENABLE(ping, AC_HELP_STRING([--disable-ping], [Disable ping statistics]),, [enable_ping="yes"])
+#if test "x$enable_ping" != "xno"
+#then
+#	enable_ping="yes"
+#fi
+#if test "x$enable_ping" = "xno"
+#then
+#	AC_DEFINE(COLLECT_PING, 0, [Wether or not to collect ping statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_PING, test "x$enable_ping" = "xyes")
 
-AC_ARG_ENABLE(swap, AC_HELP_STRING([--disable-swap], [Disable swap statistics]),, [enable_swap="yes"])
-if test "x$enable_swap" != "xno"
-then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
-	then
-		enable_swap="yes"
-	else
-		enable_swap="no"
-	fi
-fi
-if test "x$enable_swap" = "xno"
-then
-	AC_DEFINE(COLLECT_SWAP, 0, [Wether or not to collect swap statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_SWAP, test "x$enable_swap" = "xyes")
+#AC_ARG_ENABLE(processes, AC_HELP_STRING([--disable-processes], [Disable processes statistics]),, [enable_processes="yes"])
+#if test "x$enable_processes" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" 
+#	then
+#		enable_processes="yes"
+#	else
+#		enable_processes="no"
+#	fi
+#fi
+#if test "x$enable_processes" = "xno"
+#then
+#	AC_DEFINE(COLLECT_PROCESSES, 0, [Wether or not to collect processes statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_PROCESSES, test "x$enable_processes" = "xyes")
 
-AC_ARG_ENABLE(tape, AC_HELP_STRING([--disable-tape], [Disable tape statistics]),, [enable_tape="yes"])
-if test "x$enable_tape" != "xno"
-then
-	if test "x$with_kstat" = "xyes"
-	then
-		enable_tape="yes"
-	else
-		enable_tape="no"
-	fi
-fi
-if test "x$enable_tape" = "xno"
-then
-	AC_DEFINE(COLLECT_TAPE, 0, [Wether or not to collect tape statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_TAPE, test "x$enable_tape" = "xyes")
+##AC_COLLECTD([quota],     [enable],  [module], [quota statistics (experimental)])
 
-AC_ARG_ENABLE(traffic, AC_HELP_STRING([--disable-traffic], [Disable system traffic statistics]),, [enable_traffic="yes"])
-if test "x$enable_traffic" != "xno"
-then
-	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
-	then
-		enable_traffic="yes"
-	else
-		enable_traffic="no"
-	fi
-fi
-if test "x$enable_traffic" = "xno"
-then
-	AC_DEFINE(COLLECT_TRAFFIC, 0, [Wether or not to collect network traffic statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_TRAFFIC, test "x$enable_traffic" = "xyes")
+#AC_ARG_ENABLE(sensors, AC_HELP_STRING([--disable-sensors], [Disable lm_sensors statistics]),, [enable_sensors=$with_lm_sensors])
+#if test "x$enable_sensors" != "xno"
+#then
+#	if test "x$with_lm_sensors" = "xyes"
+#	then
+#		enable_sensors="yes"
+#	else
+#		enable_sensors="no"
+#	fi
+#fi
+#if test "x$enable_sensors" = "xno"
+#then
+#	AC_DEFINE(COLLECT_SENSORS, 0, [Wether or not to collect lm_sensors statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_SENSORS, test "x$enable_sensors" = "xyes")
 
-AC_ARG_ENABLE(users, AC_HELP_STRING([--disable-users], [Disable user count statistics]),, [enable_users="yes"])
-if test "x$enable_users" != "xno"
-then
-       if test "x$have_getutent" = "xyes"
-       then
-               enable_users="yes"
-       else
-               enable_users="no"
-       fi
-fi
-if test "x$enable_users" = "xno"
-then
-       AC_DEFINE(COLLECT_USERS, 0, [Wether or not to collect user count statistics])
-fi
-AM_CONDITIONAL(BUILD_MODULE_USERS, test "x$enable_users" = "xyes")
+#AC_ARG_ENABLE(serial, AC_HELP_STRING([--disable-serial], [Disable serial statistics]),, [enable_serial="yes"])
+#if test "x$enable_serial" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux"
+#	then
+#		enable_serial="yes"
+#	else
+#		enable_serial="no"
+#	fi
+#fi
+#if test "x$enable_serial" = "xno"
+#then
+#	AC_DEFINE(COLLECT_SERIAL, 0, [Wether or not to collect serial statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_SERIAL, test "x$enable_serial" = "xyes")
+
+#AC_ARG_ENABLE(swap, AC_HELP_STRING([--disable-swap], [Disable swap statistics]),, [enable_swap="yes"])
+#if test "x$enable_swap" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_swap="yes"
+#	else
+#		enable_swap="no"
+#	fi
+#fi
+#if test "x$enable_swap" = "xno"
+#then
+#	AC_DEFINE(COLLECT_SWAP, 0, [Wether or not to collect swap statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_SWAP, test "x$enable_swap" = "xyes")
+
+#AC_ARG_ENABLE(tape, AC_HELP_STRING([--disable-tape], [Disable tape statistics]),, [enable_tape="yes"])
+#if test "x$enable_tape" != "xno"
+#then
+#	if test "x$with_kstat" = "xyes"
+#	then
+#		enable_tape="yes"
+#	else
+#		enable_tape="no"
+#	fi
+#fi
+#if test "x$enable_tape" = "xno"
+#then
+#	AC_DEFINE(COLLECT_TAPE, 0, [Wether or not to collect tape statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_TAPE, test "x$enable_tape" = "xyes")
+
+#AC_ARG_ENABLE(traffic, AC_HELP_STRING([--disable-traffic], [Disable system traffic statistics]),, [enable_traffic="yes"])
+#if test "x$enable_traffic" != "xno"
+#then
+#	if test "x$ac_system" = "xLinux" -o "x$with_kstat" = "xyes" -o "x$with_libstatgrab" = "xyes"
+#	then
+#		enable_traffic="yes"
+#	else
+#		enable_traffic="no"
+#	fi
+#fi
+#if test "x$enable_traffic" = "xno"
+#then
+#	AC_DEFINE(COLLECT_TRAFFIC, 0, [Wether or not to collect network traffic statistics])
+#fi
+#AM_CONDITIONAL(BUILD_MODULE_TRAFFIC, test "x$enable_traffic" = "xyes")
+
+#AC_COLLECTD([users],     [disable], [module], [user count statistics])
 
-AC_OUTPUT(Makefile src/libping/Makefile src/Makefile)
+AC_OUTPUT(Makefile src/libconfig/Makefile src/libping/Makefile src/Makefile)
 
 cat <<EOF;
 
 Configuration:
   Libraries:
     librrd  . . . . . . $with_rrdtool
     lm_sensors  . . . . $with_lm_sensors
     libstatgrab . . . . $with_libstatgrab
     libkstat  . . . . . $with_kstat
+    libmysql  . . . . . $with_libmysql
 
   Features:
     debug . . . . . . . $enable_debug
     daemon mode . . . . $enable_daemon
 
   Modules:
     cpu . . . . . . . . $enable_cpu
     cpufreq . . . . . . $enable_cpufreq
+    df  . . . . . . . . $enable_df
     disk  . . . . . . . $enable_disk
     hddtemp . . . . . . $enable_hddtemp
     load  . . . . . . . $enable_load
     memory  . . . . . . $enable_memory
+    mysql . . . . . . . $enable_mysql
     nfs . . . . . . . . $enable_nfs
     ping  . . . . . . . $enable_ping
     processes . . . . . $enable_processes
     sensors . . . . . . $enable_sensors
     serial  . . . . . . $enable_serial
     swap  . . . . . . . $enable_swap
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/contrib: collectd.conf
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/contrib/init.d-rh7 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/contrib/init.d-rh7
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/contrib/init.d-rh7	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/contrib/init.d-rh7	2006-01-20 17:51:57.000000000 +0800
@@ -3,49 +3,23 @@
 # Source function library.
 . /etc/init.d/functions
 
 RETVAL=0
 ARGS=""
 prog="collectd"
+CONFIG=/etc/collectd.conf
 
 if [ -r /etc/default/$prog ]; then
 	. /etc/default/$prog
 fi
 
-if [ -n "$DATA_DIR" ]; then
-	ARGS="-D $DATA_DIR"
-fi
-
-if [ -n "$PING_HOST" ]; then
-	for HOST in $PING_HOST
-	do
-		ARGS="$ARGS -p $HOST"
-	done
-fi
-
 start () {
-	if [ "x$START_SERVER" = "xyes" ]
-	then
-		echo -n $"Starting $prog (server): "
-		daemon /usr/sbin/collectd -s $ARGS
-		RETVAL=$?
-		echo
-		[ $RETVAL -eq 0 ] && touch /var/lock/subsys/$prog
-	fi
-	if [ "x$START_CLIENT" = "xyes" ]
-	then
-		echo -n $"Starting $prog (client): "
-		daemon /usr/sbin/collectd -c $ARGS
-		RETVAL=$?
-		echo
-		[ $RETVAL -eq 0 ] && touch /var/lock/subsys/$prog
-	fi
-	if [ "x$START_SERVER" != "xyes" -a "x$START_CLIENT" != "xyes" ]
+	echo -n $"Starting $prog: "
+	if [ -r "$CONFIG" ]
 	then
-		echo -n $"Starting $prog: "
-		daemon /usr/sbin/collectd -l $ARGS
+		daemon /usr/sbin/collectd -C "$CONFIG"
 		RETVAL=$?
 		echo
 		[ $RETVAL -eq 0 ] && touch /var/lock/subsys/$prog
 	fi
 }
 stop () {
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/contrib/museum/collection.cgi /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/contrib/museum/collection.cgi
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/contrib/museum/collection.cgi	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/contrib/museum/collection.cgi	2006-01-20 17:51:57.000000000 +0800
@@ -59,23 +59,36 @@
 			'DEF:nice_avg={file}:nice:AVERAGE',
 			'DEF:nice_min={file}:nice:MIN',
 			'DEF:nice_max={file}:nice:MAX',
 			'DEF:syst_avg={file}:syst:AVERAGE',
 			'DEF:syst_min={file}:syst:MIN',
 			'DEF:syst_max={file}:syst:MAX',
+			'DEF:idle_avg={file}:idle:AVERAGE',
+			'DEF:idle_min={file}:idle:MIN',
+			'DEF:idle_max={file}:idle:MAX',
 			'DEF:wait_avg={file}:wait:AVERAGE',
 			'DEF:wait_min={file}:wait:MIN',
 			'DEF:wait_max={file}:wait:MAX',
 			'CDEF:user_avg_notnull=user_avg,UN,0,user_avg,IF',
 			'CDEF:nice_avg_notnull=nice_avg,UN,0,nice_avg,IF',
 			'CDEF:syst_avg_notnull=syst_avg,UN,0,syst_avg,IF',
+			'CDEF:idle_avg_notnull=idle_avg,UN,0,idle_avg,IF',
 			'CDEF:wait_avg_notnull=wait_avg,UN,0,wait_avg,IF',
-			'CDEF:nice_acc=syst_avg,wait_avg_notnull,user_avg,nice_avg_notnull,+,+,+',
-			'CDEF:user_acc=syst_avg,wait_avg_notnull,user_avg,+,+',
-			'CDEF:wait_acc=syst_avg,wait_avg_notnull,+',
-			'CDEF:syst_acc=syst_avg',
+			'CDEF:totl_avg_notnull=user_avg_notnull,nice_avg_notnull,+,syst_avg_notnull,+,idle_avg_notnull,+,wait_avg_notnull,+',
+			'CDEF:user_avg_pct=user_avg_notnull,100,*,totl_avg_notnull,/',
+			'CDEF:nice_avg_pct=nice_avg_notnull,100,*,totl_avg_notnull,/',
+			'CDEF:syst_avg_pct=syst_avg_notnull,100,*,totl_avg_notnull,/',
+			'CDEF:wait_avg_pct=wait_avg_notnull,100,*,totl_avg_notnull,/',
+			'CDEF:nice_acc=syst_avg_pct,wait_avg_pct,user_avg_pct,nice_avg_pct,+,+,+',
+			'CDEF:user_acc=syst_avg_pct,wait_avg_pct,user_avg_pct,+,+',
+			'CDEF:wait_acc=syst_avg_pct,wait_avg_pct,+',
+			'CDEF:syst_acc=syst_avg_pct',
+#			'CDEF:nice_acc=syst_avg_notnull,wait_avg_notnull,user_avg_notnull,nice_avg_notnull,+,+,+',
+#			'CDEF:user_acc=syst_avg_notnull,wait_avg_notnull,user_avg_notnull,+,+',
+#			'CDEF:wait_acc=syst_avg_notnull,wait_avg_notnull,+',
+#			'CDEF:syst_acc=syst_avg_notnull',
 			"AREA:nice_acc#$HalfGreen",
 			"AREA:user_acc#$HalfBlue",
 			"AREA:wait_acc#$HalfYellow",
 			"AREA:syst_acc#$HalfRed",
 			"LINE1:nice_acc#$FullGreen:Nice   ",
 			'GPRINT:nice_min:MIN:%5.1lf%% Min,',
@@ -95,12 +108,37 @@
 			"LINE1:syst_acc#$FullRed:System ",
 			'GPRINT:syst_min:MIN:%5.1lf%% Min,',
 			'GPRINT:syst_avg:AVERAGE:%5.1lf%% Avg,',
 			'GPRINT:syst_max:MAX:%5.1lf%% Max,',
 			'GPRINT:syst_avg:LAST:%5.1lf%% Last\l'
 		],
+		df => [
+			'DEF:free_avg={file}:free:AVERAGE',
+			'DEF:free_min={file}:free:MIN',
+			'DEF:free_max={file}:free:MAX',
+			'DEF:used_avg={file}:used:AVERAGE',
+			'DEF:used_min={file}:used:MIN',
+			'DEF:used_max={file}:used:MAX',
+			'CDEF:total=free_avg,used_avg,+',
+			'CDEF:free_pct=100,free_avg,*,total,/',
+			'CDEF:used_pct=100,used_avg,*,total,/',
+			'CDEF:free_acc=free_pct,used_pct,+',
+			'CDEF:used_acc=used_pct',
+			"AREA:free_acc#$HalfGreen",
+			"AREA:used_acc#$HalfRed",
+			"LINE1:free_acc#$FullGreen:Free",
+			'GPRINT:free_min:MIN:%5.1lf%sB Min,',
+			'GPRINT:free_avg:AVERAGE:%5.1lf%sB Avg,',
+			'GPRINT:free_max:MAX:%5.1lf%sB Max,',
+			'GPRINT:free_avg:LAST:%5.1lf%sB Last\l',
+			"LINE1:used_acc#$FullRed:Used",
+			'GPRINT:used_min:MIN:%5.1lf%sB Min,',
+			'GPRINT:used_avg:AVERAGE:%5.1lf%sB Avg,',
+			'GPRINT:used_max:MAX:%5.1lf%sB Max,',
+			'GPRINT:used_avg:LAST:%5.1lf%sB Last\l'
+		],
 		disk => [
 			'DEF:rtime_avg={file}:rtime:AVERAGE',
 			'DEF:rtime_min={file}:rtime:MIN',
 			'DEF:rtime_max={file}:rtime:MAX',
 			'DEF:wtime_avg={file}:wtime:AVERAGE',
 			'DEF:wtime_min={file}:wtime:MIN',
@@ -225,12 +263,36 @@
 			"LINE1:used_avg#$FullRed:Used        ",
 			'GPRINT:used_min:MIN:%5.1lf%s Min,',
 			'GPRINT:used_avg:AVERAGE:%5.1lf%s Avg,',
 			'GPRINT:used_max:MAX:%5.1lf%s Max,',
 			'GPRINT:used_avg:LAST:%5.1lf%s Last'
 		],
+		mysql_commands => [
+			"DEF:val_avg={file}:value:AVERAGE",
+			"DEF:val_min={file}:value:MIN",
+			"DEF:val_max={file}:value:MAX",
+			"AREA:val_max#$HalfBlue",
+			"AREA:val_min#$Canvas",
+			"LINE1:val_avg#$FullBlue:{inst}",
+			'GPRINT:val_min:MIN:%5.2lf Min,',
+			'GPRINT:val_avg:AVERAGE:%5.2lf Avg,',
+			'GPRINT:val_max:MAX:%5.2lf Max,',
+			'GPRINT:val_avg:LAST:%5.2lf Last'
+		],
+		mysql_handler => [
+			"DEF:val_avg={file}:value:AVERAGE",
+			"DEF:val_min={file}:value:MIN",
+			"DEF:val_max={file}:value:MAX",
+			"AREA:val_max#$HalfBlue",
+			"AREA:val_min#$Canvas",
+			"LINE1:val_avg#$FullBlue:{inst}",
+			'GPRINT:val_min:MIN:%5.2lf Min,',
+			'GPRINT:val_avg:AVERAGE:%5.2lf Avg,',
+			'GPRINT:val_max:MAX:%5.2lf Max,',
+			'GPRINT:val_avg:LAST:%5.2lf Last'
+		],
 		nfs3_procedures => [
 			"DEF:null_avg={file}:null:AVERAGE",
 			"DEF:getattr_avg={file}:getattr:AVERAGE",
 			"DEF:setattr_avg={file}:setattr:AVERAGE",
 			"DEF:lookup_avg={file}:lookup:AVERAGE",
 			"DEF:access_avg={file}:access:AVERAGE",
@@ -529,28 +591,31 @@
 			    "AREA:users_min#$Canvas",
 			    "LINE1:users_avg#$FullBlue:Users",
 			    'GPRINT:users_min:MIN:%4.1lf Min,',
 			    'GPRINT:users_avg:AVERAGE:%4.1lf Average,',
 			    'GPRINT:users_max:MAX:%4.1lf Max,',
 			    'GPRINT:users_avg:LAST:%4.1lf Last\l'
-		],
+		]
 	};
 	$GraphDefs->{'disk'} = $GraphDefs->{'partition'};
 	$GraphDefs->{'meminfo'} = $GraphDefs->{'memory'};
 }
 
 our $GraphArgs =
 {
 	cpu => ['-t', '{host} cpu{inst} usage', '-v', 'Percent', '-l', '0'],
 	cpufreq => ['-t', '{host} cpu{inst} usage', '-v', 'Mhz'],
 	#disk => ['-t', '{host} disk {inst} IO wait', '-v', 'Seconds'],
+	df => ['-t', '{host}:{inst} usage', '-v', 'Percent', '-l', '0'],
 	disk => ['-t', '{host} disk {inst} usage', '-v', 'Byte/s'],
 	hddtemp => ['-t', '{host} hdd temperature {inst}', '-v', '°Celsius'],
 	load => ['-t', '{host} load average', '-v', 'System load', '-X', '0'],
 	mails   => ['-t', '{host} mail count', '-v', 'Amount', '-X', '0'],
 	memory => ['-t', '{host} memory usage', '-v', 'Bytes', '-b', '1024', '-l', '0'],
+	mysql_commands => ['-t', 'mysql command {inst}', '-v', 'Issues/s' ],
+	mysql_handler => ['-t', 'mysql handler {inst}', '-v', 'Issues/s' ],
 	nfs3_procedures => ['-t', '{host} NFSv3 {inst} procedures', '-v', 'Procedures/s' ],
 	partition => ['-t', '{host} partition {inst} usage', '-v', 'Byte/s'],
 	ping => ['-t', '{host} ping to {inst}', '-v', 'ms'],
 	processes => ['-t', '{host} processes', '-v', 'Processes'],
 	sensors => ['-t', '{host} sensor {inst}', '-v', '°Celsius'],
 	swap => ['-t', '{host} swap usage', '-v', 'Bytes', '-b', '1024', '-l', '0'],
@@ -563,12 +628,14 @@
 	cpu	=> \&output_graph_cpu,
 	cpufreq => 1,
 	disk	=> 1,
 	load	=> 0,
 	mails	=> 0,
 	memory	=> 0,
+	mysql_commands => \&output_graph_mysql_commands,
+	mysql_handler => \&output_graph_mysql_handler,
 	partition => 1,
 	ping	=> \&output_graph_ping,
 	sensors	=> 1,
 	traffic	=> 1,
     users => 1
 };
@@ -700,12 +767,98 @@
 			"GPRINT:avg_$i:LAST:%4.1lf ms Last\\l");
 	}
 
 	return (@ret);
 }
 
+sub output_graph_mysql_commands
+{
+	my @inst = @_;
+	my @ret = ();
+
+	die if (@inst < 2);
+
+	my @colors = get_n_colors (scalar (@inst));
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		push (@ret,
+			"DEF:avg_$i=$AbsDir/mysql_commands-$inst.rrd:value:AVERAGE",
+			"DEF:min_$i=$AbsDir/mysql_commands-$inst.rrd:value:MIN",
+			"DEF:max_$i=$AbsDir/mysql_commands-$inst.rrd:value:MAX");
+	}
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		my $color = $colors[$i];
+
+		if (length ($inst) > 18)
+		{
+			$inst = substr ($inst, 0, 15) . '...';
+		}
+		else
+		{
+			$inst = sprintf ('%-18s', $inst);
+		}
+
+		push (@ret,
+			"LINE1:avg_$i#$color:$inst",
+			"GPRINT:min_$i:MIN:%6.1lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%6.1lf Avg,",
+			"GPRINT:max_$i:MAX:%6.1lf Max,",
+			"GPRINT:avg_$i:LAST:%6.1lf Last\\l");
+	}
+
+	return (@ret);
+}
+
+sub output_graph_mysql_handler
+{
+	my @inst = @_;
+	my @ret = ();
+
+	die if (@inst < 2);
+
+	my @colors = get_n_colors (scalar (@inst));
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		push (@ret,
+			"DEF:avg_$i=$AbsDir/mysql_handler-$inst.rrd:value:AVERAGE",
+			"DEF:min_$i=$AbsDir/mysql_handler-$inst.rrd:value:MIN",
+			"DEF:max_$i=$AbsDir/mysql_handler-$inst.rrd:value:MAX");
+	}
+
+	for (my $i = 0; $i < scalar (@inst); $i++)
+	{
+		my $inst = $inst[$i];
+		my $color = $colors[$i];
+
+		if (length ($inst) > 18)
+		{
+			$inst = substr ($inst, 0, 15) . '...';
+		}
+		else
+		{
+			$inst = sprintf ('%-18s', $inst);
+		}
+
+		push (@ret,
+			"LINE1:avg_$i#$color:$inst",
+			"GPRINT:min_$i:MIN:%6.1lf Min,",
+			"GPRINT:avg_$i:AVERAGE:%6.1lf Avg,",
+			"GPRINT:max_$i:MAX:%6.1lf Max,",
+			"GPRINT:avg_$i:LAST:%6.1lf Last\\l");
+	}
+
+	return (@ret);
+}
+
 sub output_graph
 {
 	die unless (defined ($GraphDefs->{$Type}));
 
 	my $host;
 	my @cmd = ();
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/changelog /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/changelog
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/changelog	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/changelog	2006-01-20 17:51:58.000000000 +0800
@@ -1,11 +1,14 @@
-collectd (3.5.2-1) unstable; urgency=low
+collectd (3.6.0-1) unstable; urgency=low
 
   * New upstream version
+  * New module `mysql'
+  * Removed all modules but `sensors' and `hddtemp' since they can be
+    (de)activated using the config file.
 
- -- Florian Forster <octo@verplant.org>  Sat, 21 Jan 2006 11:55:49 +0200
+ -- Florian Forster <octo@verplant.org>  Tue, 17 Jan 2006 12:50:28 +0200
 
 collectd (3.5.1-1) unstable; urgency=low
 
   * New upstream version
 
  -- Florian Forster <octo@verplant.org>  Sun, 18 Dec 2005 23:09:11 +0200
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian: collectd.conffiles
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-cpu.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-cpufreq.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd.default
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-disk.files
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/collectd.init.d /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/collectd.init.d
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/collectd.init.d	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/collectd.init.d	2006-01-20 17:51:58.000000000 +0800
@@ -10,47 +10,29 @@
 PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
 DESC="Statistics collection daemon"
 NAME=collectd
 DAEMON=/usr/sbin/$NAME
 SCRIPTNAME=/etc/init.d/$NAME
 ARGS=""
+CONFIG=/etc/collectd.conf
 
 # Gracefully exit if the package has been removed.
 test -x $DAEMON || exit 0
 
 if [ -r /etc/default/$NAME ]
 then
 	. /etc/default/$NAME
 fi
 
-if [ -n "$DATA_DIR" ]; then
-	ARGS="-D $DATA_DIR"
-fi
-
-if [ -n "$PING_HOST" ]; then
-	for HOST in $PING_HOST
-	do
-		ARGS="$ARGS -p $HOST"
-	done
-fi
-
 #
 #	Function that starts the daemon/service.
 #
 d_start() {
-	if [ "x$START_SERVER" = "xyes" ]
-	then
-		$DAEMON -s $ARGS
-	fi
-	if [ "x$START_CLIENT" = "xyes" ]
-	then
-		$DAEMON -c $ARGS
-	fi
-	if [ "x$START_SERVER" != "xyes" -a "x$START_CLIENT" != "xyes" ]
+	if [ -e "$CONFIG" ]
 	then
-		start-stop-daemon --start --quiet --exec $DAEMON -- -l $ARGS
+		start-stop-daemon --start --quiet --exec $DAEMON -- -C "$CONFIG"
 	fi
 }
 
 #
 #	Function that stops the daemon/service.
 #
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-load.files
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/collectd.manpages /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/collectd.manpages
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/collectd.manpages	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/collectd.manpages	2006-01-20 17:51:58.000000000 +0800
@@ -1 +1,2 @@
 src/collectd.1
+src/collectd.conf.5
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-memory.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian: collectd-mysql.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-nfs.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-ping.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-processes.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-serial.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-swap.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-traffic.files
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian: collectd-users.files
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/control /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/control
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/control	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/control	2006-01-20 17:51:58.000000000 +0800
@@ -1,102 +1,36 @@
 Source: collectd
 Section: utils
 Priority: optional
 Maintainer: Florian Forster <octo@verplant.org>
-Build-Depends: debhelper (>= 4.0.0), autotools-dev, librrd0-dev | librrd2-dev, libsensors-dev
+Build-Depends: debhelper (>= 4.0.0), autotools-dev, librrd0-dev | librrd2-dev, libsensors-dev, libmysqlclient14-dev
 Standards-Version: 3.6.1
 
 Package: collectd
 Architecture: any
 Depends: libc6, librrd0 | librrd2
-Suggests: collectd-sensors
+Suggests: collectd-hddtemp, collectd-mysql, collectd-sensors
 Description: Statistics collection daemon for filling RRD files.
  collectd is a small daemon written in C for performance. It reads various
- system statistics and updates RRD files, creating them if neccessary.
- Since the daemon doesn't need to startup every time it wants to update
- the files it's very fast and easy on the system. Also, the statistics are
- very fine grained since the files are updated every 10 seconds.
-
-Package: collectd-cpu
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for cpu usage.
- collectd module to collect CPU usage information.
-
-Package: collectd-cpufreq
-Architecture: any
-Depends: collectd (= ${Source-Version}), cpufreqd | powernowd | cpudyn
-Description: collectd module for cpu frequency collection.
- collectd module to collect current CPU frequency (when using SpeedStep or
- something like that).
-
-Package: collectd-disk
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for disk usage.
- collectd module to collect disk usage information.
+ system statistics and updates RRD files, creating them if neccessary. Since
+ the daemon doesn't need to startup every time it wants to update the files
+ it's very fast and easy on the system. Also, the statistics are very fine
+ grained since the files are updated every 10 seconds.
 
 Package: collectd-hddtemp
 Architecture: any
 Depends: collectd (= ${Source-Version}), hddtemp
 Description: collectd module for harddisk temperatures.
  collectd module to collect harddisk temperatures using hddtemp.
 
-Package: collectd-load
+Package: collectd-mysql
 Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for system load.
- collectd module to collect the system load.
-
-Package: collectd-memory
-Architecture: any
-Depends: collectd (= ${Source-Version})
+Depends: collectd (= ${Source-Version}), libmysqlclient14
 Description: collectd module for memory utilization.
- collectd module to collect memory utilization.
-
-Package: collectd-nfs
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for NFS procedures.
- collectd module to collect NFS procedures counters.
-
-Package: collectd-ping
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for network latency.
- collectd module to collect ping roundtrip times.
-
-Package: collectd-processes
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for running processes.
- collectd module to collect the number of currently running processes.
+ collectd module to collect MySQL statistics. It links against
+ `libmysqlclient14' though other versions should do, too.
 
 Package: collectd-sensors
 Architecture: any
 Depends: collectd (= ${Source-Version}), libsensors3
 Description: collectd module for libsensors.
  collectd module to collect system temperatures.
-
-Package: collectd-serial
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for serial traffic.
- collectd module to collect traffic on the serial interfaces.
-
-Package: collectd-swap
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for swap usage.
- collectd module to collect swap usage information.
-
-Package: collectd-traffic
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for network traffic.
- collectd module to collect network traffic counters.
-
-Package: collectd-users
-Architecture: any
-Depends: collectd (= ${Source-Version})
-Description: collectd module for user count.
- collectd module to collect the number of users logged into the system.
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/rules /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/rules
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/debian/rules	2006-01-23 00:58:52.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/debian/rules	2006-01-20 17:51:58.000000000 +0800
@@ -15,13 +15,13 @@
 DEB_HOST_GNU_TYPE   ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
 DEB_BUILD_GNU_TYPE  ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
 
 
 CFLAGS = -Wall -g
 
-PLUGINS = cpu cpufreq disk hddtemp load memory nfs ping processes sensors serial swap traffic users
+PLUGINS = hddtemp mysql sensors
 
 ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
 	CFLAGS += -O0
 else
 	CFLAGS += -O2
 endif
@@ -69,12 +69,14 @@
 	for PLUGIN in $(PLUGINS); do \
 		mkdir -p $(CURDIR)/debian/collectd-$${PLUGIN}/usr/lib/collectd; \
 	done
 
 	# Add here commands to install the package into debian/collectd.
 	$(MAKE) DESTDIR=$(CURDIR)/debian/collectd install
+	mkdir -p $(CURDIR)/debian/collectd/etc
+	cp contrib/collectd.conf $(CURDIR)/debian/collectd/etc/
 	rm $(CURDIR)/debian/collectd/usr/lib/collectd/*.a  || true
 	rm $(CURDIR)/debian/collectd/usr/lib/collectd/*.la || true
 
 	for PLUGIN in $(PLUGINS); do \
 		mv $(CURDIR)/debian/collectd/usr/lib/collectd/$${PLUGIN}.* $(CURDIR)/debian/collectd-$${PLUGIN}/usr/lib/collectd; \
 	done
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/Makefile.am	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/Makefile.am	2006-01-20 17:51:57.000000000 +0800
@@ -4,8 +4,9 @@
 EXTRA_DIST = collectd.spec contrib debian
 
 dist-hook:
 	find $(distdir) -type d -name '.svn' | xargs rm -rf
 
 install-exec-hook:
+	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/lib/$(PACKAGE_NAME)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/Makefile.in	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/Makefile.in	2006-01-20 17:51:57.000000000 +0800
@@ -77,46 +77,60 @@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
-BUILD_DAEMON_FALSE = @BUILD_DAEMON_FALSE@
-BUILD_DAEMON_TRUE = @BUILD_DAEMON_TRUE@
-BUILD_DEBUG_FALSE = @BUILD_DEBUG_FALSE@
-BUILD_DEBUG_TRUE = @BUILD_DEBUG_TRUE@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
 BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
+BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
+BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
+BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
 BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
 BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
 BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
+BUILD_MODULE_QUOTA_FALSE = @BUILD_MODULE_QUOTA_FALSE@
+BUILD_MODULE_QUOTA_TRUE = @BUILD_MODULE_QUOTA_TRUE@
 BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
 BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
 BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
 BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
 BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
 BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
 BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
 BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
 BUILD_MODULE_TRAFFIC_FALSE = @BUILD_MODULE_TRAFFIC_FALSE@
 BUILD_MODULE_TRAFFIC_TRUE = @BUILD_MODULE_TRAFFIC_TRUE@
 BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
 BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
+BUILD_WITH_KSTAT_FALSE = @BUILD_WITH_KSTAT_FALSE@
+BUILD_WITH_KSTAT_TRUE = @BUILD_WITH_KSTAT_TRUE@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_RRDTOOL_FALSE = @BUILD_WITH_RRDTOOL_FALSE@
 BUILD_WITH_RRDTOOL_TRUE = @BUILD_WITH_RRDTOOL_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
@@ -632,11 +646,12 @@
 
 
 dist-hook:
 	find $(distdir) -type d -name '.svn' | xargs rm -rf
 
 install-exec-hook:
+	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run
 	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/lib/$(PACKAGE_NAME)
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/README /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/README
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/README	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/README	2006-01-20 17:51:57.000000000 +0800
@@ -17,30 +17,39 @@
     - CPU utilization
       (Time spent in system, user, nice and idle)
 
     - CPU frequency
       (For laptops with speed step or a similar technology)
 
+    - Mountpoint usage
+      (Basically the values `df(1)' delivers)
+
     - Disk utilization
       (Sectors read/written, number of read/write actions, time spent doing IO)
 
     - Harddisk temperatures
       (Uhm, yeah, temperature of harddisks that is ;)
 
     - System load
       (Load average over the last 1, 5 and 15 minutes)
 
     - Memory utilization
       (Memory occupied by running processes, page cache, buffer cache and free)
 
+    - MySQL server statistics
+      (Commands issued, handlers triggered and traffic sent/received)
+
     - NFS Procedures
       (Which NFS command were called how often. Only NFSv2 and NFSv3 right now)
 
     - Ping latency
       (Time to reach the default gateway or another given host)
 
+    - Process counts
+      (Number of running, sleeping, zombie, ... processes)
+
     - Serial
       (RX and TX of serial interfaces)
 
     - Sensors
       (System temperatured and fan rotation speeds)
 
@@ -65,18 +74,23 @@
   * Extremely easy and failsafe network operation possible.
 
 
 Operation
 ---------
 
+  * collectd's configuration file can be found at `sysconfdir'/collectd.conf.
+    Run `collectd -h' for a list of builtin defaults. See `collectd.conf(5)'
+    for a list of options and a syntax description.
+
   * When running collectd writes system statistics in RRD-files. Per default
     they reside in `/var/lib/collectd'.
 
-  * collectd needs to run as user root, since only root can craft ICMP
-    packages needed to ping other hosts. collectd should NOT be installed
-    setui root since it can be used to overwrite valuable files..
+  * When using the `ping' plugin collectd needs to run as user root, since only
+    root can craft ICMP packages needed to ping other hosts. collectd should
+    NOT be installed setuid root since it can be used to overwrite valuable
+    files..
 
   * Sample scripts to generate graphs reside in `contrib/' in the source
     package or somewhere near `/usr/share/doc/collectd' in most distributions.
     Please be aware that those script are meant as a starting point for your
     own experiments.. Some of them require the `RRDs' Perl module.
     (`librrds-perl' on Debian)
@@ -87,27 +101,26 @@
     Resolution | Data points |  Timespan
     -----------+-------------+----------
     60 seconds |        1500 |  25 hours
     30 minutes |        1680 |  35 days
      6 hours   |        1520 | 380 days
 
-  * Use `-c' to start in client-, `-s' to start in server-mode. Read the
-    manpage for details.
-
 
 Prerequisites
 -------------
 
   To compile collectd from source you will need:
 
   * Usual suspects: C compiler, linker, preprocessor, make, ...
 
   * rrdtool (headers and library; rrdtool 1.0 and 1.2 both work fine)
     If built without `librrd' the resulting binary will be `client only', i.e.
     will send it's values via multicast and not create any RRD files itself.
 
+  * libmysqlclient (optional)
+
   * lm-sensors (optional)
 
   * libstatgrab may be used to collect statistics on systems other than Linux
     and/or Solaris. Note that CPU- and disk-statistics, while being provided by
     this library, are not supported in collectd right now..
     <http://www.i-scream.org/libstatgrab/> 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/collectd.1 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/collectd.1
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/collectd.1	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/collectd.1	2006-01-20 17:51:59.000000000 +0800
@@ -126,13 +126,13 @@
 .    ds Ae AE
 .\}
 .rm #[ #] #H #V #F C
 .\" ========================================================================
 .\"
 .IX Title "COLLECTD 1"
-.TH COLLECTD 1 "2006-01-21" "3.5.2" "collectd"
+.TH COLLECTD 1 "2006-01-17" "3.6.0" "collectd"
 .SH "NAME"
 collectd \- System statistics collection daemon
 .SH "SYNOPSIS"
 .IX Header "SYNOPSIS"
 collectd \fI[options]\fR
 .SH "DESCRIPTION"
@@ -140,20 +140,24 @@
 collectd is a daemon that collects various system statistics periodically and
 stores them into RRD\-files. Which data is collected depends on compile-time
 settings. The following features may be available:
 .IP "\(bu" 4
 \&\s-1CPU\s0 utilization (\fIcpu\fR)
 .IP "\(bu" 4
+Mountpoint usage (\fIdf\fR)
+.IP "\(bu" 4
 Disk and partition usage/throughput (\fIdisk\fR)
 .IP "\(bu" 4
 Harddisk temperatures (\fIhddtemp\fR)
 .IP "\(bu" 4
 System load averages (\fIload\fR)
 .IP "\(bu" 4
 Memory usage (\fImemory\fR)
 .IP "\(bu" 4
+MySQL statistics (\fImysql\fR)
+.IP "\(bu" 4
 \&\s-1NFS\s0 utilization (\fInfs\fR, Linux only)
 .IP "\(bu" 4
 Network latency (\fIping\fR)
 .IP "\(bu" 4
 Number of processes (\fIprocesses\fR, Linux only)
 .IP "\(bu" 4
@@ -167,49 +171,25 @@
 .IP "\(bu" 4
 Network traffic (\fItraffic\fR)
 .IP "\(bu" 4
 Number of users logged into the system (\fIusers\fR)
 .SH "OPTIONS"
 .IX Header "OPTIONS"
-.IP "\fB\-l\fR" 4
-.IX Item "-l"
-Start in local mode. This is the default. No data will be sent or read to/from
-the network. Information will be read and written by the same process. See
-\&\*(L"\s-1MODES\s0\*(R".
-.IP "\fB\-c\fR" 4
-.IX Item "-c"
-Start in client (transmitter) mode. Data will be sent to the multicast group.
-See \*(L"\s-1MODES\s0\*(R".
-.IP "\fB\-s\fR" 4
-.IX Item "-s"
-Start in server (receiver) mode. Data sent to the multicast group will be read
-and stored in \s-1RRD\s0 files. See \*(L"\s-1MODES\s0\*(R".
+.IP "\fB\-C\fR \fI<config-file>\fR" 4
+.IX Item "-C <config-file>"
+Specify an alternative config file. This is the place to go when you wish to
+change \fBcollectd\fR's behavior. The path may be relative to the current working
+directory.
 .IP "\fB\-f\fR" 4
 .IX Item "-f"
 Don't fork to the background. \fIcollectd\fR will also \fBnot\fR close standard file
 descriptors, detach from the session nor write a pid file. This is mainly
 thought for 'supervisioning' init replacements such as \fIrunit\fR.
-.IP "\fB\-D\fR \fI<directory>\fR" 4
-.IX Item "-D <directory>"
-Sets the directory collectd should work in. All \fI.rrd\fR\-files are created in
-this directory. Per default this is \fI/var/lib/collectd/\fR.
-.IP "\fB\-M\fR \fI<directory>\fR" 4
-.IX Item "-M <directory>"
-Sets the directory collectd should look for plugins in. Per default this is
-\&\fI/usr/lib/collectd\fR.
-.IP "\fB\-P\fR \fI<file>\fR" 4
-.IX Item "-P <file>"
-Sets the PID\-file.
 .IP "\fB\-h\fR" 4
 .IX Item "-h"
 Output usage information and exit.
-.IP "\fB\-p\fR \fI<host>\fR" 4
-.IX Item "-p <host>"
-Sets the host to ping periodically. This option may be given more than once to
-ping multiple hosts. If this option is not given at least once no host will be
-pinged.
 .SH "RRD FILES"
 .IX Header "RRD FILES"
 The \s-1RRD\s0 files are created automatically with the following RRAs:
 .PP
 .Vb 9
 \&  RRA:AVERAGE:0.2:6:1500
@@ -241,12 +221,18 @@
 \&  DS:user:COUNTER:25:0:100
 \&  DS:nice:COUNTER:25:0:100
 \&  DS:syst:COUNTER:25:0:100
 \&  DS:idle:COUNTER:25:0:100
 \&  DS:wait:COUNTER:25:0:100
 .Ve
+.IP "Mountpoints (\fIdf\-\fI<path>\fI.rrd\fR)" 4
+.IX Item "Mountpoints (df-<path>.rrd)"
+.Vb 2
+\&  DS:used:GAUGE:25:0:U
+\&  DS:free:GAUGE:25:0:U
+.Ve
 .IP "Diskstats (\fIdisk\-\fI<major>\fI\-\fI<minor>\fI.rrd\fR)" 4
 .IX Item "Diskstats (disk-<major>-<minor>.rrd)"
 .Vb 8
 \&  DS:rcount:COUNTER:25:0:U
 \&  DS:rmerged:COUNTER:25:0:U
 \&  DS:rbytes:COUNTER:25:0:U
@@ -281,12 +267,17 @@
 .Vb 4
 \&  DS:used:GAUGE:25:0:9223372036854775807
 \&  DS:free:GAUGE:25:0:9223372036854775807
 \&  DS:buffers:GAUGE:25:0:9223372036854775807
 \&  DS:cached:GAUGE:25:0:9223372036854775807
 .Ve
+.IP "MySQL statistics (\fImysql_commands\-\fI<command>\fI.rrd\fR and \fImysql_handler\-\fI<handler>\fI.rrd\fR)" 4
+.IX Item "MySQL statistics (mysql_commands-<command>.rrd and mysql_handler-<handler>.rrd)"
+.Vb 1
+\&  DS:value:COUNTER:25:0:U
+.Ve
 .IP "NFSv2 Procedures (\fInfs2_procedures\-\fI(client|server)\fI.rrd\fR)" 4
 .IX Item "NFSv2 Procedures (nfs2_procedures-(client|server).rrd)"
 .Vb 18
 \&  DS:null:COUNTER:25:0:U
 \&  DS:getattr:COUNTER:25:0:U
 \&  DS:setattr:COUNTER:25:0:U
@@ -422,20 +413,32 @@
 .PP
 The \s-1UDP\s0 port used has been checked to not be assigned by the \s-1IANA\s0.
 .PP
 On multi-homed machines you may need to add a route to the multicast net
 (\fB224.0.0.0/4\fR) if multicast packages take the wrong interface. The listener
 on the other hand listens on \fBall\fR interfaces.
-.SH "SPECIAL MODULES"
-.IX Header "SPECIAL MODULES"
+.SH "SPECIAL PLUGINS"
+.IX Header "SPECIAL PLUGINS"
 .Sh "cpufreq"
 .IX Subsection "cpufreq"
 This module reads \fI/sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq\fR (for
 the first \s-1CPU\s0 installed) to get the current \s-1CPU\s0 frequency. If this file does
 not exist make sure \fBcpufreqd\fR (<http://cpufreqd.sourceforge.net/>) or a
 similar tool is installed.
+.Sh "mysql"
+.IX Subsection "mysql"
+Requires \fBmysqlclient\fR to be installed. It connects to the database when
+started and keeps the connection up as long as possible. When the connection is
+interrupted for whatever reason it will try to re\-connect. The syslog will
+contain loud complaints in case anything goes wrong.
+.PP
+This plugin issues \f(CW\*(C`SHOW STATUS\*(C'\fR and evaluates \f(CW\*(C`Bytes_{received,sent}\*(C'\fR,
+\&\f(CW\*(C`Com_*\*(C'\fR and \f(CW\*(C`Handler_*\*(C'\fR which correspond to \fItraffic\-mysql.rrd\fR,
+\&\fImysql_commands\-*.rrd\fR and \fImysql_handler\-*.rrd\fR. Please refer to the \fBMySQL
+reference manual\fR, \fI5.2.4. Server Status Variables\fR for an explanation of
+these values.
 .Sh "sensors"
 .IX Subsection "sensors"
 The \fBsensors\fR module uses lm_sensors to retrieve sensor\-values. This means
 that all the needed modules have to be loaded and lm_sensors has to be
 configured (most likely by editing \fI/etc/sensors.conf\fR. Read
 \&\fIsensors.conf\fR\|(5) for details.
@@ -449,10 +452,11 @@
 not running timeouts may appear which may interfere with other statistics..
 .PP
 The \fBhddtemp\fR homepage can be found at
 <http://www.guzu.net/linux/hddtemp.php>.
 .SH "SEE ALSO"
 .IX Header "SEE ALSO"
-\&\fIrrdtool\fR\|(1), \fIsensors\fR\|(1), \fIhddtemp\fR\|(8), kstat(3KSTAT)
+\&\fIcollectd.conf\fR\|(5), \fIrrdtool\fR\|(1), \fIsensors\fR\|(1), \fIhddtemp\fR\|(8),
+kstat(3KSTAT)
 .SH "AUTHOR"
 .IX Header "AUTHOR"
 Florian Forster <octo@verplant.org>
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/collectd.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/collectd.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/collectd.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/collectd.c	2006-01-20 17:51:59.000000000 +0800
@@ -19,29 +19,27 @@
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  *   Alvaro Barcellos <alvaro.barcellos at gmail.com>
  **/
 
 #include "collectd.h"
+#include "common.h"
+#include "utils_debug.h"
 
 #include "multicast.h"
 #include "plugin.h"
+#include "configfile.h"
 
 #include "ping.h"
 
 static int loop = 0;
 
-#ifdef HAVE_LIBKSTAT
+#if HAVE_LIBKSTAT
 kstat_ctl_t *kc;
 #endif /* HAVE_LIBKSTAT */
 
-#if COLLECT_PING
-char *pinghosts[MAX_PINGHOSTS];
-int   num_pinghosts = 0;
-#endif
-
 /*
  * exported variables
  */
 time_t curtime;
 
 #if HAVE_LIBRRD
@@ -71,33 +69,33 @@
 	if (chdir (dir) == -1)
 	{
 		if (errno == ENOENT)
 		{
 			if (mkdir (dir, 0755) == -1)
 			{
-				syslog (LOG_ERR, "mkdir: %s", strerror (errno));
+				syslog (LOG_ERR, "mkdir (%s): %s", dir, strerror (errno));
 				return (-1);
 			}
 			else if (chdir (dir) == -1)
 			{
-				syslog (LOG_ERR, "chdir: %s", strerror (errno));
+				syslog (LOG_ERR, "chdir (%s): %s", dir, strerror (errno));
 				return (-1);
 			}
 		}
 		else
 		{
 			syslog (LOG_ERR, "chdir: %s", strerror (errno));
 			return (-1);
 		}
 	}
 
 	return (0);
-}
+} /* static int change_basedir (char *dir) */
 
-#ifdef HAVE_LIBKSTAT
-void update_kstat (void)
+#if HAVE_LIBKSTAT
+static void update_kstat (void)
 {
 	if (kc == NULL)
 	{
 		if ((kc = kstat_open ()) == NULL)
 			syslog (LOG_ERR, "Unable to open kstat control structure");
 	}
@@ -113,59 +111,52 @@
 		else if (kid < 0)
 			syslog (LOG_ERR, "kstat chain update failed");
 		/* else: everything works as expected */
 	}
 
 	return;
-}
+} /* static void update_kstat (void) */
 #endif /* HAVE_LIBKSTAT */
 
-void exit_usage (char *name)
+/* TODO
+ * Remove all settings but `-f' and `-C'
+ */
+static void exit_usage (char *name)
 {
-	printf ("Usage: %s [OPTIONS]\n\n"
+	printf ("Usage: "PACKAGE" [OPTIONS]\n\n"
 			
 			"Available options:\n"
 			"  General:\n"
-			/*
-			"    -C <dir>        Configuration file.\n"
-			"                    Default: %s\n"
-			*/
-			"    -P <file>       PID File.\n"
-			"                    Default: %s\n"
-			"    -M <dir>        Module/Plugin directory.\n"
-			"                    Default: %s\n"
-			"    -D <dir>        Data storage directory.\n"
-			"                    Default: %s\n"
+			"    -C <file>       Configuration file.\n"
+			"                    Default: "CONFIGFILE"\n"
+#if COLLECT_DAEMON
 			"    -f              Don't fork to the background.\n"
-#ifdef HAVE_LIBRRD
-			"    -l              Start in local mode (no network).\n"
-			"    -c              Start in client (sender) mode.\n"
-			"    -s              Start in server (listener) mode.\n"
-#endif /* HAVE_LIBRRD */
-#if COLLECT_PING
-			"  Ping:\n"
-			"    -p <host>       Host to ping periodically, may be repeated to ping\n"
-			"                    more than one host.\n"
-#endif /* COLLECT_PING */
-			"\n%s %s, http://verplant.org/collectd/\n"
+#endif
+			"\nBuiltin defaults:\n"
+			"  Config-File       "CONFIGFILE"\n"
+			"  PID-File          "PIDFILE"\n"
+			"  Data-Directory    "PKGLOCALSTATEDIR"\n"
+#if COLLECT_DEBUG
+			"  Log-File          "LOGFILE"\n"
+#endif
+			"\n"PACKAGE" "VERSION", http://verplant.org/collectd/\n"
 			"by Florian octo Forster <octo@verplant.org>\n"
-			"for contributions see `AUTHORS'\n",
-			PACKAGE, /* CONFIGFILE, */ PIDFILE, PLUGINDIR, PKGLOCALSTATEDIR, PACKAGE, VERSION);
+			"for contributions see `AUTHORS'\n");
 	exit (0);
-}
+} /* static void exit_usage (char *name) */
 
-int start_client (void)
+static int start_client (void)
 {
 	int sleepingtime;
 
-#ifdef HAVE_LIBKSTAT
+#if HAVE_LIBKSTAT
 	kc = NULL;
 	update_kstat ();
 #endif
 
-#ifdef HAVE_LIBSTATGRAB
+#if HAVE_LIBSTATGRAB
 	if (sg_init ())
 	{
 		syslog (LOG_ERR, "sg_init: %s", sg_str_error (sg_get_error ()));
 		return (-1);
 	}
 
@@ -178,13 +169,13 @@
 
 	plugin_init_all ();
 
 	while (loop == 0)
 	{
 		curtime = time (NULL);
-#ifdef HAVE_LIBKSTAT
+#if HAVE_LIBKSTAT
 		update_kstat ();
 #endif
 		plugin_read_all ();
 
 		sleepingtime = 10;
 		while (sleepingtime != 0)
@@ -193,16 +184,16 @@
 				break;
 			sleepingtime = sleep (sleepingtime);
 		}
 	}
 
 	return (0);
-}
+} /* static int start_client (void) */
 
-#ifdef HAVE_LIBRRD
-int start_server (void)
+#if HAVE_LIBRRD
+static int start_server (void)
 {
 	char *host;
 	char *type;
 	char *instance;
 	char *values;
 
@@ -253,23 +244,23 @@
 #endif /* COLLECT_DAEMON */
 
 int main (int argc, char **argv)
 {
 	struct sigaction sigIntAction;
 	struct sigaction sigTermAction;
+	char *datadir    = PKGLOCALSTATEDIR;
+	char *configfile = CONFIGFILE;
 #if COLLECT_DAEMON
 	struct sigaction sigChldAction;
+	char *pidfile    = PIDFILE;
 	pid_t pid;
+	int daemonize    = 1;
+#endif
+#if COLLECT_DEBUG
+	char *logfile    = LOGFILE;
 #endif
-
-	char *configfile = CONFIGFILE;
-	char *pidfile    = PIDFILE;
-	char *plugindir  = PLUGINDIR;
-	char *datadir    = PKGLOCALSTATEDIR;
-
-	int daemonize = 1;
 
 #if HAVE_LIBRRD
 	operating_mode = MODE_LOCAL;
 #endif
 
 	/* open syslog */
@@ -277,92 +268,83 @@
 
 	/* read options */
 	while (1)
 	{
 		int c;
 
-		c = getopt (argc, argv, "C:P:M:D:fh"
-#if HAVE_LIBRRD
-				"csl"
-#endif /* HAVE_LIBRRD */
-#if COLLECT_PING
-				"p:"
-#endif /* COLLECT_PING */
+		c = getopt (argc, argv, "hC:"
+#if COLLECT_DAEMON
+				"f"
+#endif
 		);
 
 		if (c == -1)
 			break;
 
 		switch (c)
 		{
-#ifdef HAVE_LIBRRD
-			case 'c':
-				operating_mode = MODE_CLIENT;
-				break;
-
-			case 's':
-				operating_mode = MODE_SERVER;
-				break;
-
-			case 'l':
-				operating_mode = MODE_LOCAL;
-				break;
-#endif /* HAVE_LIBRRD */
 			case 'C':
 				configfile = optarg;
 				break;
-			case 'P':
-				pidfile = optarg;
-				break;
-			case 'M':
-				plugindir = optarg;
-				break;
-			case 'D':
-				datadir = optarg;
-				break;
+#if COLLECT_DAEMON
 			case 'f':
 				daemonize = 0;
 				break;
-#if COLLECT_PING
-			case 'p':
-				if (num_pinghosts < MAX_PINGHOSTS)
-					pinghosts[num_pinghosts++] = optarg;
-				else
-					fprintf (stderr, "Maximum of %i ping hosts reached.\n", MAX_PINGHOSTS);
-				break;
-#endif /* COLLECT_PING */
+#endif /* COLLECT_DAEMON */
 			case 'h':
 			default:
 				exit_usage (argv[0]);
-		}
-				
-	}
+		} /* switch (c) */
+	} /* while (1) */
+
+#if COLLECT_DEBUG
+	if ((logfile = cf_get_option ("LogFile", LOGFILE)) != NULL)
+		DBG_STARTFILE (logfile, "Debug file opened.");
+#endif
 
 	/*
-	 * Load plugins and change to output directory
-	 * Loading plugins is done first so relative paths work as expected..
+	 * Read options from the config file, the environment and the command
+	 * line (in that order, with later options overwriting previous ones in
+	 * general).
+	 * Also, this will automatically load modules.
 	 */
-	if (plugin_load_all (plugindir) < 1)
+	if (cf_read (configfile))
 	{
-		fprintf (stderr, "Error: No plugins found.\n");
+		fprintf (stderr, "Error: Reading the config file failed!\n"
+				"Read the syslog for details.\n");
 		return (1);
 	}
 
+	/*
+	 * Change directory. We do this _after_ reading the config and loading
+	 * modules to relative paths work as expected.
+	 */
+	if ((datadir = cf_get_option ("DataDir", PKGLOCALSTATEDIR)) == NULL)
+	{
+		fprintf (stderr, "Don't have a datadir to use. This should not happen. Ever.");
+		return (1);
+	}
 	if (change_basedir (datadir))
 	{
 		fprintf (stderr, "Error: Unable to change to directory `%s'.\n", datadir);
 		return (1);
 	}
 
+#if COLLECT_DAEMON
 	/*
 	 * fork off child
 	 */
-#if COLLECT_DAEMON
 	sigChldAction.sa_handler = SIG_IGN;
 	sigaction (SIGCHLD, &sigChldAction, NULL);
 
+	if ((pidfile = cf_get_option ("PIDFile", PIDFILE)) == NULL)
+	{
+		fprintf (stderr, "Cannot obtain pidfile. This shoud not happen. Ever.");
+		return (1);
+	}
+
 	if (daemonize)
 	{
 		if ((pid = fork ()) == -1)
 		{
 			/* error */
 			fprintf (stderr, "fork: %s", strerror (errno));
@@ -421,17 +403,22 @@
 	if (operating_mode == MODE_SERVER)
 		start_server ();
 	else /* if (operating_mode == MODE_CLIENT || operating_mode == MODE_LOCAL) */
 #endif
 		start_client ();
 
+#if COLLECT_DEBUG
+	if (logfile != NULL)
+		DBG_STOPFILE("debug file closed.");
+#endif
+
 	/* close syslog */
 	syslog (LOG_INFO, "Exiting normally");
 	closelog ();
 
 #if COLLECT_DAEMON
 	if (daemonize)
-		pidfile_remove(pidfile);
+		pidfile_remove (pidfile);
 #endif /* COLLECT_DAEMON */
 
 	return (0);
 } /* int main (int argc, char **argv) */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src: collectd.conf.5
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/collectd.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/collectd.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/collectd.h	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/collectd.h	2006-01-20 17:51:59.000000000 +0800
@@ -32,14 +32,14 @@
 # include <sys/types.h>
 #endif
 #if HAVE_SYS_STAT_H
 # include <sys/stat.h>
 #endif
 #if STDC_HEADERS
-#include <stdlib.h>
-#include <stddef.h>
+# include <stdlib.h>
+# include <stddef.h>
 #else
 # if HAVE_STDLIB_H
 #  include <stdlib.h>
 # endif
 #endif
 #if HAVE_STRING_H
@@ -115,12 +115,15 @@
 #if HAVE_STDARG_H
 # include <stdarg.h>
 #endif
 #if HAVE_CTYPE_H
 # include <ctype.h>
 #endif
+#if HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
 
 #if HAVE_SYSLOG
 # define syslog(...) syslog(__VA_ARGS__)
 # if HAVE_OPENLOG
 #  define openlog(...) openlog(__VA_ARGS__)
 # else
@@ -134,37 +137,27 @@
 #else
 # define syslog(...) /**/
 # define openlog(...) /**/
 # define closelog(...) /**/
 #endif
 
-#ifndef HAVE_RRD_H
-#undef HAVE_LIBRRD
+#if HAVE_KSTAT_H
+# include <kstat.h>
 #endif
 
-#ifdef HAVE_LIBRRD
-#include <rrd.h>
-#endif /* HAVE_LIBRRD */
-
-/* Won't work without the header file */
-#ifndef HAVE_KSTAT_H
-#undef HAVE_LIBKSTAT
+#if HAVE_RRD_H
+# include <rrd.h>
 #endif
-
-#ifdef HAVE_LIBKSTAT
-#include <kstat.h>
-#include <sys/param.h>
-#endif /* HAVE_LIBKSTAT */
-
-/* Won't work without the header file */
-#ifndef HAVE_STATGRAB_H
-#undef HAVE_LIBSTATGRAB
+#if HAVE_PTH_H
+# include <pth.h>
 #endif
-
-#ifdef HAVE_LIBSTATGRAB
-#include <statgrab.h>
+#if HAVE_STATGRAB_H
+# include <statgrab.h>
+#endif
+#if HAVE_SENSORS_SENSORS_H
+# include <sensors/sensors.h>
 #endif
 
 #ifndef PACKAGE_NAME
 #define PACKAGE_NAME "collectd"
 #endif
 
@@ -185,18 +178,24 @@
 #endif
 
 #ifndef PIDFILE
 #define PIDFILE PREFIX "/var/run/" PACKAGE_NAME ".pid"
 #endif
 
+#ifndef LOGFILE
+#define LOGFILE PREFIX"/var/log/"PACKAGE_NAME"/"PACKAGE_NAME".log"
+#endif
+
 #ifndef PLUGINDIR
 #define PLUGINDIR PREFIX "/lib/" PACKAGE_NAME
 #endif
 
 #define MODE_SERVER 0x01
 #define MODE_CLIENT 0x02
-#define MODE_LOCAL  0x03
+#define MODE_LOCAL  0x04
 
 extern time_t curtime;
 extern int operating_mode;
 
+/* int main (int argc, char **argv); */
+
 #endif /* COLLECTD_H */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/common.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/common.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/common.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/common.c	2006-01-20 17:51:59.000000000 +0800
@@ -43,41 +43,57 @@
 		"RRA:MAX:0.1:2160:1520",
 		NULL
 };
 static int rra_num = 9;
 #endif /* HAVE_LIBRRD */
 
-void
-sstrncpy(char *d, const char *s, int len)
+void sstrncpy (char *d, const char *s, int len)
 {
-	strncpy(d, s, len);
-	d[len - 1] = 0;
+	strncpy (d, s, len);
+	d[len - 1] = '\0';
 }
 
-char *
-sstrdup(const char *s)
+char *sstrdup (const char *s)
 {
-	char *r = strdup(s);
-	if(r == NULL) {
-		DBG("Not enough memory.");
+	char *r;
+
+	if((r = strdup (s)) == NULL)
+	{
+		DBG ("Not enough memory.");
 		exit(3);
 	}
-	return r;
+
+	return (r);
 }
 
-void *
-smalloc(size_t size)
+void *smalloc (size_t size)
 {
-	void *r = malloc(size);
-	if(r == NULL) {
+	void *r;
+
+	if ((r = malloc (size)) == NULL)
+	{
 		DBG("Not enough memory.");
 		exit(3);
 	}
+
 	return r;
 }
 
+#if 0
+void sfree (void **ptr)
+{
+	if (ptr == NULL)
+		return;
+
+	if (*ptr != NULL)
+		free (*ptr);
+
+	*ptr = NULL;
+}
+#endif
+
 int strsplit (char *string, char **fields, size_t size)
 {
 	size_t i;
 	char *ptr;
 
 	i = 0;
@@ -91,49 +107,195 @@
 			break;
 	}
 
 	return (i);
 }
 
+int strjoin (char *dst, size_t dst_len,
+		char **fields, size_t fields_num,
+		const char *sep)
+{
+	int field_len;
+	int sep_len;
+	int i;
+
+	memset (dst, '\0', dst_len);
+
+	if (fields_num <= 0)
+		return (-1);
+
+	sep_len = 0;
+	if (sep != NULL)
+		sep_len = strlen (sep);
+
+	for (i = 0; i < fields_num; i++)
+	{
+		if ((i > 0) && (sep_len > 0))
+		{
+			if (dst_len <= sep_len)
+				return (-1);
+
+			strncat (dst, sep, dst_len);
+			dst_len -= sep_len;
+		}
+
+		field_len = strlen (fields[i]);
+
+		if (dst_len <= field_len)
+			return (-1);
+
+		strncat (dst, fields[i], dst_len);
+		dst_len -= field_len;
+	}
+
+	return (strlen (dst));
+}
+
+int escape_slashes (char *buf, int buf_len)
+{
+	int i;
+
+	if (strcmp (buf, "/") == 0)
+	{
+		if (buf_len < 5)
+			return (-1);
+
+		strncpy (buf, "root", buf_len);
+		return (0);
+	}
+
+	/* Move one to the left */
+	memmove (buf, buf + 1, buf_len - 1);
+
+	for (i = 0; i < buf_len - 1; i++)
+	{
+		if (buf[i] == '\0')
+			break;
+		else if (buf[i] == '/')
+			buf[i] = '_';
+	}
+	buf[i] = '\0';
+
+	return (0);
+}
+
 #ifdef HAVE_LIBRRD
-int check_create_dir (char *dir)
+int check_create_dir (const char *file_orig)
 {
 	struct stat statbuf;
 
-	if (stat (dir, &statbuf) == -1)
+	char  file_copy[512];
+	char  dir[512];
+	int   dir_len = 512;
+	char *fields[16];
+	int   fields_num;
+	char *ptr;
+	int   last_is_file = 1;
+	int   len;
+	int   i;
+
+	/*
+	 * Sanity checks first
+	 */
+	if (file_orig == NULL)
+		return (-1);
+
+	if ((len = strlen (file_orig)) < 1)
+		return (-1);
+	else if (len >= 512)
+		return (-1);
+
+	/*
+	 * If `file_orig' ends in a slash the last component is a directory,
+	 * otherwise it's a file. Act accordingly..
+	 */
+	if (file_orig[len - 1] == '/')
+		last_is_file = 0;
+
+	/*
+	 * Create a copy for `strtok' to destroy
+	 */
+	strncpy (file_copy, file_orig, 512);
+	file_copy[511] = '\0';
+
+	/*
+	 * Break into components. This will eat up several slashes in a row and
+	 * remove leading and trailing slashes..
+	 */
+	ptr = file_copy;
+	fields_num = 0;
+	while ((fields[fields_num] = strtok (ptr, "/")) != NULL)
 	{
-		if (errno == ENOENT)
+		ptr = NULL;
+		fields_num++;
+
+		if (fields_num >= 16)
+			break;
+	}
+
+	/*
+	 * For each component, do..
+	 */
+	for (i = 0; i < (fields_num - last_is_file); i++)
+	{
+		/*
+		 * Do not create directories that start with a dot. This
+		 * prevents `../../' attacks and other likely malicious
+		 * behavior.
+		 */
+		if (fields[i][0] == '.')
+		{
+			syslog (LOG_ERR, "Cowardly refusing to create a directory that begins with a `.' (dot): `%s'", file_orig);
+			return (-2);
+		}
+
+		/*
+		 * Join the components together again
+		 */
+		if (strjoin (dir, dir_len, fields, i + 1, "/") < 0)
+		{
+			syslog (LOG_ERR, "strjoin failed: `%s', component #%i", file_orig, i);
+			return (-1);
+		}
+
+		if (stat (dir, &statbuf) == -1)
 		{
-			if (mkdir (dir, 0755) == -1)
+			if (errno == ENOENT)
 			{
-				syslog (LOG_ERR, "mkdir %s: %s", dir, strerror (errno));
+				if (mkdir (dir, 0755) == -1)
+				{
+					syslog (LOG_ERR, "mkdir (%s): %s", dir, strerror (errno));
+					return (-1);
+				}
+			}
+			else
+			{
+				syslog (LOG_ERR, "stat (%s): %s", dir, strerror (errno));
 				return (-1);
 			}
 		}
-		else
+		else if (!S_ISDIR (statbuf.st_mode))
 		{
-			syslog (LOG_ERR, "stat %s: %s", dir, strerror (errno));
+			syslog (LOG_ERR, "stat (%s): Not a directory!", dir);
 			return (-1);
 		}
 	}
-	else if (!S_ISDIR (statbuf.st_mode))
-	{
-		syslog (LOG_ERR, "stat %s: Not a directory!", dir);
-		return (-1);
-	}
 
 	return (0);
 }
 
 int rrd_create_file (char *filename, char **ds_def, int ds_num)
 {
 	char **argv;
 	int argc;
 	int i, j;
 	int status = 0;
 
+	if (check_create_dir (filename))
+		return (-1);
+
 	argc = ds_num + rra_num + 4;
 
 	if ((argv = (char **) malloc (sizeof (char *) * (argc + 1))) == NULL)
 	{
 		syslog (LOG_ERR, "rrd_create failed: %s", strerror (errno));
 		return (-1);
@@ -173,15 +335,12 @@
 	char full_file[1024];
 	char *argv[4] = { "update", full_file, values, NULL };
 
 	/* host == NULL => local mode */
 	if (host != NULL)
 	{
-		if (check_create_dir (host))
-			return (-1);
-
 		if (snprintf (full_file, 1024, "%s/%s", host, file) >= 1024)
 			return (-1);
 	}
 	else
 	{
 		if (snprintf (full_file, 1024, "%s", file) >= 1024)
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/common.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/common.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/common.h	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/common.h	2006-01-20 17:51:59.000000000 +0800
@@ -34,14 +34,78 @@
 	(ptr) = NULL
 
 void sstrncpy(char *d, const char *s, int len);
 char *sstrdup(const char *s);
 void *smalloc(size_t size);
 
+/*
+ * NAME
+ *   strsplit
+ *
+ * DESCRIPTION
+ *   Splits a string into parts and stores pointers to the parts in `fields'.
+ *   The characters split at are ` ' (space) and "\t" (tab).
+ *
+ * PARAMETERS
+ *   `string'      String to split. This string will be modified. `fields' will
+ *                 contain pointers to parts of this string, so free'ing it
+ *                 will destroy `fields' as well.
+ *   `fields'      Array of strings where pointers to the parts will be stored.
+ *   `size'        Number of elements in the array. No more than `size'
+ *                 pointers will be stored in `fields'.
+ *
+ * RETURN VALUE
+ *    Returns the number of parts stored in `fields'.
+ */
 int strsplit (char *string, char **fields, size_t size);
 
+/*
+ * NAME
+ *   strjoin
+ *
+ * DESCRIPTION
+ *   Joins together several parts of a string using `sep' as a seperator. This
+ *   is equipollent to the perl buildin `join'.
+ *
+ * PARAMETERS
+ *   `dst'         Buffer where the result is stored.
+ *   `dst_len'     Length of the destination buffer. No more than this many
+ *                 bytes will be written to the memory pointed to by `dst',
+ *                 including the trailing null-byte.
+ *   `fields'      Array of strings to be joined.
+ *   `fields_num'  Number of elements in the `fields' array.
+ *   `sep'         String to be inserted between any two elements of `fields'.
+ *                 This string is neither prepended nor appended to the result.
+ *                 Instead of passing "" (empty string) one can pass NULL.
+ *
+ * RETURN VALUE
+ *   Returns the number of characters in `dst', NOT including the trailing
+ *   null-byte. If an error occured (empty array or `dst' too small) a value
+ *   smaller than zero will be returned.
+ */
+int strjoin (char *dst, size_t dst_len, char **fields, size_t fields_num, const char *sep);
+
+/*
+ * NAME
+ *   escape_slashes
+ *
+ * DESCRIPTION
+ *   Removes slashes from the string `buf' and substitutes them with something
+ *   appropriate. This function should be used whenever a path is to be used as
+ *   (part of) an instance.
+ *
+ * PARAMETERS
+ *   `buf'         String to be escaped.
+ *   `buf_len'     Length of the buffer. No more then this many bytes will be
+ *   written to `buf', including the trailing null-byte.
+ *
+ * RETURN VALUE
+ *   Returns zero upon success and a value smaller than zero upon failure.
+ */
+int escape_slashes (char *buf, int buf_len);
+
 int rrd_update_file (char *host, char *file, char *values, char **ds_def,
 		int ds_num);
 
 #ifdef HAVE_LIBKSTAT
 int get_kstat (kstat_t **ksp_ptr, char *module, int instance, char *name);
 long long get_kstat_value (kstat_t *ksp, char *name);
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src: configfile.c
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src: configfile.h
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/config.h.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/config.h.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/config.h.in	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/config.h.in	2006-01-20 17:51:58.000000000 +0800
@@ -1,57 +1,81 @@
 /* src/config.h.in.  Generated from configure.in by autoheader.  */
 
-/* Wether or not to collect CPU usage statistics */
+/* wether or not to enable module cpu usage statistics */
 #undef COLLECT_CPU
 
-/* Wether or not to collect cpu frequency statistics */
+/* wether or not to enable module system cpu frequency statistics */
 #undef COLLECT_CPUFREQ
 
-/* Wether or not to enable daemon mode */
+/* wether or not to enable feature daemon mode */
 #undef COLLECT_DAEMON
 
-/* Wether or not to enable debugging */
+/* wether or not to enable feature debugging */
 #undef COLLECT_DEBUG
 
-/* Wether or not to collect diskstats */
+/* wether or not to enable module df statistics */
+#undef COLLECT_DF
+
+/* wether or not to enable module disk/partition statistics */
 #undef COLLECT_DISK
 
-/* Wether or not to collect hdd temperature statistics */
+/* wether or not to enable module hdd temperature statistics */
 #undef COLLECT_HDDTEMP
 
-/* Wether or not to collect system load statistics */
+/* Wether or not to use kstat library (Solaris) */
+#undef COLLECT_KSTAT
+
+/* Wether or not to use mysql library */
+#undef COLLECT_LIBMYSQL
+
+/* Wether or not to use statgrab library */
+#undef COLLECT_LIBSTATGRAB
+
+/* Wether or not to use sensors library */
+#undef COLLECT_LM_SENSORS
+
+/* wether or not to enable module system load statistics */
 #undef COLLECT_LOAD
 
-/* Wether or not to collect memory statistics */
+/* wether or not to enable module memory statistics */
 #undef COLLECT_MEMORY
 
-/* Wether or not to collect nfs statistics */
+/* wether or not to enable module mysql statistics */
+#undef COLLECT_MYSQL
+
+/* wether or not to enable module nfs statistics */
 #undef COLLECT_NFS
 
-/* Wether or not to collect ping statistics */
+/* wether or not to enable module ping statistics */
 #undef COLLECT_PING
 
-/* Wether or not to collect processes statistics */
+/* wether or not to enable module processes statistics */
 #undef COLLECT_PROCESSES
 
-/* Wether or not to collect lm_sensors statistics */
+/* wether or not to enable module quota statistics (experimental) */
+#undef COLLECT_QUOTA
+
+/* Wether or not to use rrdtool library */
+#undef COLLECT_RRDTOOL
+
+/* wether or not to enable module lm_sensors statistics */
 #undef COLLECT_SENSORS
 
-/* Wether or not to collect serial statistics */
+/* wether or not to enable module serial statistics */
 #undef COLLECT_SERIAL
 
-/* Wether or not to collect swap statistics */
+/* wether or not to enable module swap statistics */
 #undef COLLECT_SWAP
 
-/* Wether or not to collect tape statistics */
+/* wether or not to enable module tape statistics */
 #undef COLLECT_TAPE
 
-/* Wether or not to collect network traffic statistics */
+/* wether or not to enable module system traffic statistics */
 #undef COLLECT_TRAFFIC
 
-/* Wether or not to collect user count statistics */
+/* wether or not to enable module user count statistics */
 #undef COLLECT_USERS
 
 /* Define to 1 if you have the <arpa/inet.h> header file. */
 #undef HAVE_ARPA_INET_H
 
 /* Define to 1 if you have the `closelog' function. */
@@ -139,12 +163,15 @@
 /* Define to 1 if you have the `kvm' library (-lkvm). */
 #undef HAVE_LIBKVM
 
 /* Define to 1 if you have the `m' library (-lm). */
 #undef HAVE_LIBM
 
+/* Define to 1 if you have the `mysqlclient' library (-lmysqlclient). */
+#undef HAVE_LIBMYSQLCLIENT
+
 /* Define to 1 if you have the `nsl' library (-lnsl). */
 #undef HAVE_LIBNSL
 
 /* Define to 1 if you have the `resolv' library (-lresolv). */
 #undef HAVE_LIBRESOLV
 
@@ -175,12 +202,15 @@
 /* Define to 1 if you have the <mntent.h> header file. */
 #undef HAVE_MNTENT_H
 
 /* Define to 1 if you have the <mnttab.h> header file. */
 #undef HAVE_MNTTAB_H
 
+/* Define to 1 if you have the <mysql/mysql.h> header file. */
+#undef HAVE_MYSQL_MYSQL_H
+
 /* Define to 1 if you have the <ndir.h> header file, and it defines `DIR'. */
 #undef HAVE_NDIR_H
 
 /* Define to 1 if you have the <netdb.h> header file. */
 #undef HAVE_NETDB_H
 
@@ -211,15 +241,21 @@
 /* Define to 1 if you have the <signal.h> header file. */
 #undef HAVE_SIGNAL_H
 
 /* Define to 1 if you have the `socket' function. */
 #undef HAVE_SOCKET
 
+/* Define to 1 if you have the `statfs' function. */
+#undef HAVE_STATFS
+
 /* Define to 1 if you have the <statgrab.h> header file. */
 #undef HAVE_STATGRAB_H
 
+/* Define to 1 if you have the `statvfs' function. */
+#undef HAVE_STATVFS
+
 /* Define to 1 if you have the <stdarg.h> header file. */
 #undef HAVE_STDARG_H
 
 /* Define to 1 if you have the <stdint.h> header file. */
 #undef HAVE_STDINT_H
 
@@ -297,12 +333,15 @@
 #undef HAVE_SYS_MOUNT_H
 
 /* Define to 1 if you have the <sys/ndir.h> header file, and it defines `DIR'.
    */
 #undef HAVE_SYS_NDIR_H
 
+/* Define to 1 if you have the <sys/param.h> header file. */
+#undef HAVE_SYS_PARAM_H
+
 /* Define to 1 if you have the <sys/quota.h> header file. */
 #undef HAVE_SYS_QUOTA_H
 
 /* Define to 1 if you have the <sys/resource.h> header file. */
 #undef HAVE_SYS_RESOURCE_H
 
@@ -312,12 +351,15 @@
 /* Define to 1 if you have the <sys/socket.h> header file. */
 #undef HAVE_SYS_SOCKET_H
 
 /* Define to 1 if you have the <sys/statfs.h> header file. */
 #undef HAVE_SYS_STATFS_H
 
+/* Define to 1 if you have the <sys/statvfs.h> header file. */
+#undef HAVE_SYS_STATVFS_H
+
 /* Define to 1 if you have the <sys/stat.h> header file. */
 #undef HAVE_SYS_STAT_H
 
 /* Define to 1 if you have the <sys/sysctl.h> header file. */
 #undef HAVE_SYS_SYSCTL_H
 
@@ -381,11 +423,17 @@
 /* Version number of package */
 #undef VERSION
 
 /* Define to empty if `const' does not conform to ANSI C. */
 #undef const
 
+/* Define to `int' if <sys/types.h> doesn't define. */
+#undef gid_t
+
 /* Define to `int' if <sys/types.h> does not define. */
 #undef pid_t
 
 /* Define to `unsigned' if <sys/types.h> does not define. */
 #undef size_t
+
+/* Define to `int' if <sys/types.h> doesn't define. */
+#undef uid_t
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/cpu.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/cpu.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/cpu.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/cpu.c	2006-01-20 17:51:58.000000000 +0800
@@ -17,46 +17,50 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "cpu.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_CPU
 #define MODULE_NAME "cpu"
 
 #ifdef HAVE_LIBKSTAT
-#include <sys/sysinfo.h>
+# include <sys/sysinfo.h>
 #endif /* HAVE_LIBKSTAT */
 
 #ifdef HAVE_SYSCTLBYNAME
-#ifdef HAVE_SYS_SYSCTL_H
-#include <sys/sysctl.h>
-#endif
-
-#ifdef HAVE_SYS_DKSTAT_H
-#include <sys/dkstat.h>
-#endif
-
-#if !defined(CP_USER) || !defined(CP_NICE) || !defined(CP_SYS) || !defined(CP_INTR) || !defined(CP_IDLE) || !defined(CPUSTATES)
-#define CP_USER   0
-#define CP_NICE   1
-#define CP_SYS    2
-#define CP_INTR   3
-#define CP_IDLE   4
-#define CPUSTATES 5
-#endif
+# ifdef HAVE_SYS_SYSCTL_H
+#  include <sys/sysctl.h>
+# endif
+
+# ifdef HAVE_SYS_DKSTAT_H
+#  include <sys/dkstat.h>
+# endif
+
+# if !defined(CP_USER) || !defined(CP_NICE) || !defined(CP_SYS) || !defined(CP_INTR) || !defined(CP_IDLE) || !defined(CPUSTATES)
+#  define CP_USER   0
+#  define CP_NICE   1
+#  define CP_SYS    2
+#  define CP_INTR   3
+#  define CP_IDLE   4
+#  define CPUSTATES 5
+# endif
 #endif /* HAVE_SYSCTLBYNAME */
 
-#include "plugin.h"
-#include "common.h"
+#if defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT) || defined(HAVE_SYSCTLBYNAME)
+# define CPU_HAVE_READ 1
+#else
+# define CPU_HAVE_READ 0
+#endif
 
 #ifdef HAVE_LIBKSTAT
 /* colleague tells me that Sun doesn't sell systems with more than 100 or so CPUs.. */
-#define MAX_NUMCPU 256
+# define MAX_NUMCPU 256
 extern kstat_ctl_t *kc;
 static kstat_t *ksp[MAX_NUMCPU];
 static int numcpu;
 #endif /* HAVE_LIBKSTAT */
 
 #ifdef HAVE_SYSCTLBYNAME
@@ -64,22 +68,22 @@
 #endif /* HAVE_SYSCTLBYNAME */
 
 static char *cpu_filename = "cpu-%s.rrd";
 
 static char *ds_def[] =
 {
-	"DS:user:COUNTER:25:0:100",
-	"DS:nice:COUNTER:25:0:100",
-	"DS:syst:COUNTER:25:0:100",
-	"DS:idle:COUNTER:25:0:100",
-	"DS:wait:COUNTER:25:0:100",
+	"DS:user:COUNTER:25:0:U",
+	"DS:nice:COUNTER:25:0:U",
+	"DS:syst:COUNTER:25:0:U",
+	"DS:idle:COUNTER:25:0:U",
+	"DS:wait:COUNTER:25:0:U",
 	NULL
 };
 static int ds_num = 5;
 
-void cpu_init (void)
+static void cpu_init (void)
 {
 #ifdef HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 
 	numcpu = 0;
 
@@ -109,13 +113,13 @@
 		syslog (LOG_NOTICE, "cpu: Only one processor supported when using `sysctlbyname' (found %i)", numcpu);
 #endif
 
 	return;
 }
 
-void cpu_write (char *host, char *inst, char *val)
+static void cpu_write (char *host, char *inst, char *val)
 {
 	char file[512];
 	int status;
 
 	status = snprintf (file, 512, cpu_filename, inst);
 	if (status < 1)
@@ -123,14 +127,16 @@
 	else if (status >= 512)
 		return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
+#if CPU_HAVE_READ
 #define BUFSIZE 512
-void cpu_submit (int cpu_num, unsigned long long user, unsigned long long nice, unsigned long long syst,
+static void cpu_submit (int cpu_num, unsigned long long user,
+		unsigned long long nice, unsigned long long syst,
 		unsigned long long idle, unsigned long long wait)
 {
 	char buf[BUFSIZE];
 	char cpu[16];
 
 	if (snprintf (buf, BUFSIZE, "%u:%llu:%llu:%llu:%llu:%llu", (unsigned int) curtime,
@@ -139,13 +145,13 @@
 	snprintf (cpu, 16, "%i", cpu_num);
 
 	plugin_submit (MODULE_NAME, cpu, buf);
 }
 #undef BUFSIZE
 
-void cpu_read (void)
+static void cpu_read (void)
 {
 #ifdef KERNEL_LINUX
 #define BUFSIZE 1024
 	int cpu;
 	unsigned long long user, nice, syst, idle;
 	unsigned long long wait, intr, sitr; /* sitr == soft interrupt */
@@ -220,13 +226,13 @@
 
 		cpu_submit (ksp[cpu]->ks_instance,
 				user, 0LL, syst, idle, wait);
 	}
 /* #endif defined(HAVE_LIBKSTAT) */
 
-#elif defined (HAVE_SYSCTLBYNAME)
+#elif defined(HAVE_SYSCTLBYNAME)
 	long cpuinfo[CPUSTATES];
 	size_t cpuinfo_size;
 
 	cpuinfo_size = sizeof (cpuinfo);
 
 	if (sysctlbyname("kern.cp_time", &cpuinfo, &cpuinfo_size, NULL, 0) < 0)
@@ -237,15 +243,19 @@
 
 	cpuinfo[CP_SYS] += cpuinfo[CP_INTR];
 
 	/* FIXME: Instance is always `0' */
 	cpu_submit (0, cpuinfo[CP_USER], cpuinfo[CP_NICE], cpuinfo[CP_SYS], cpuinfo[CP_IDLE], 0LL);
 #endif
+
+	return;
 }
+#else
+# define cpu_read NULL
+#endif /* CPU_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, cpu_init, cpu_read, cpu_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_CPU */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/cpufreq.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/cpufreq.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/cpufreq.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/cpufreq.c	2006-01-20 17:51:58.000000000 +0800
@@ -17,39 +17,42 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Peter Holik <peter at holik.at>
  **/
 
-#include "cpufreq.h"
-
-/*
- * Originally written by Peter Holik
- */
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_CPUFREQ
 #define MODULE_NAME "cpufreq"
 
-#include "plugin.h"
-#include "common.h"
-
-static int num_cpu = 0;
+#if defined(KERNEL_LINUX)
+# define CPUFREQ_HAVE_READ 1
+#else
+# define CPUFREQ_HAVE_READ 0
+#endif
 
 static char *cpufreq_file = "cpufreq-%s.rrd";
 
 static char *ds_def[] =
 {
 	"DS:value:GAUGE:25:0:U",
 	NULL
 };
 static int ds_num = 1;
 
+#ifdef KERNEL_LINUX
+static int num_cpu = 0;
+#endif
+
 #define BUFSIZE 256
 
-void cpufreq_init (void)
+static void cpufreq_init (void)
 {
+#ifdef KERNEL_LINUX
         int status;
 	char filename[BUFSIZE];
 
 	num_cpu = 0;
 
 	while (1)
@@ -62,40 +65,45 @@
 			break;
 
 		num_cpu++;
 	}
 
 	syslog (LOG_INFO, MODULE_NAME" found %d cpu(s)", num_cpu);
+#endif /* defined(KERNEL_LINUX) */
+
+	return;
 }
 
-void cpufreq_write (char *host, char *inst, char *val)
+static void cpufreq_write (char *host, char *inst, char *val)
 {
         int status;
         char file[BUFSIZE];
 
         status = snprintf (file, BUFSIZE, cpufreq_file, inst);
         if (status < 1 || status >= BUFSIZE)
                 return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
-void cpufreq_submit (int cpu_num, unsigned long long val)
+#if CPUFREQ_HAVE_READ
+static void cpufreq_submit (int cpu_num, unsigned long long val)
 {
 	char buf[BUFSIZE];
 	char cpu[16];
 
 	if (snprintf (buf, BUFSIZE, "%u:%llu", (unsigned int) curtime, val) >= BUFSIZE)
 		return;
         snprintf (cpu, 16, "%i", cpu_num);
 
 	plugin_submit (MODULE_NAME, cpu, buf);
 }
 
-void cpufreq_read (void)
+static void cpufreq_read (void)
 {
+#ifdef KERNEL_LINUX
         int status;
 	unsigned long long val;
 	int i = 0;
 	FILE *fp;
 	char filename[BUFSIZE];
 	char buffer[16];
@@ -123,16 +131,21 @@
 
 		/* You're seeing correctly: The file is reporting kHz values.. */
 		val = atoll (buffer) * 1000;
 
 		cpufreq_submit (i, val);
 	}
+#endif /* defined(KERNEL_LINUX) */
+
+	return;
 }
+#else
+#define cpufreq_read NULL
+#endif
 #undef BUFSIZE
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, cpufreq_init, cpufreq_read, cpufreq_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_CPUFREQ */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src: df.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/disk.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/disk.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/disk.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/disk.c	2006-01-20 17:51:58.000000000 +0800
@@ -17,43 +17,23 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "disk.h"
-
-#if COLLECT_DISK
-#define MODULE_NAME "disk"
-
-#include "plugin.h"
+#include "collectd.h"
 #include "common.h"
+#include "plugin.h"
 
-#ifdef KERNEL_LINUX
-typedef struct diskstats
-{
-	char *name;
-
-	unsigned int read_sectors;
-	unsigned int write_sectors;
-
-	unsigned long long read_bytes;
-	unsigned long long write_bytes;
-
-	struct diskstats *next;
-} diskstats_t;
-
-static diskstats_t *disklist;
-/* KERNEL_LINUX */
+#define MODULE_NAME "disk"
 
-#elif defined(HAVE_LIBKSTAT)
-#define MAX_NUMDISK 256
-extern kstat_ctl_t *kc;
-static kstat_t *ksp[MAX_NUMDISK];
-static int numdisk = 0;
-#endif /* HAVE_LIBKSTAT */
+#if defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT)
+# define DISK_HAVE_READ 1
+#else
+# define DISK_HAVE_READ 0
+#endif
 
 static char *disk_filename_template = "disk-%s.rrd";
 static char *part_filename_template = "partition-%s.rrd";
 
 /* 104857600 == 100 MB */
 static char *disk_ds_def[] =
@@ -77,13 +57,40 @@
 	"DS:wcount:COUNTER:25:0:U",
 	"DS:wbytes:COUNTER:25:0:104857600",
 	NULL
 };
 static int part_ds_num = 4;
 
-void disk_init (void)
+#ifdef KERNEL_LINUX
+typedef struct diskstats
+{
+	char *name;
+
+	/* This overflows in roughly 1361 year */
+	unsigned int poll_count;
+
+	unsigned int read_sectors;
+	unsigned int write_sectors;
+
+	unsigned long long read_bytes;
+	unsigned long long write_bytes;
+
+	struct diskstats *next;
+} diskstats_t;
+
+static diskstats_t *disklist;
+/* #endif defined(KERNEL_LINUX) */
+
+#elif defined(HAVE_LIBKSTAT)
+#define MAX_NUMDISK 256
+extern kstat_ctl_t *kc;
+static kstat_t *ksp[MAX_NUMDISK];
+static int numdisk = 0;
+#endif /* HAVE_LIBKSTAT */
+
+static void disk_init (void)
 {
 #ifdef HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 
 	numdisk = 0;
 
@@ -103,13 +110,13 @@
 	}
 #endif
 
 	return;
 }
 
-void disk_write (char *host, char *inst, char *val)
+static void disk_write (char *host, char *inst, char *val)
 {
 	char file[512];
 	int status;
 
 	status = snprintf (file, 512, disk_filename_template, inst);
 	if (status < 1)
@@ -117,13 +124,13 @@
 	else if (status >= 512)
 		return;
 
 	rrd_update_file (host, file, val, disk_ds_def, disk_ds_num);
 }
 
-void partition_write (char *host, char *inst, char *val)
+static void partition_write (char *host, char *inst, char *val)
 {
 	char file[512];
 	int status;
 
 	status = snprintf (file, 512, part_filename_template, inst);
 	if (status < 1)
@@ -131,14 +138,15 @@
 	else if (status >= 512)
 		return;
 
 	rrd_update_file (host, file, val, part_ds_def, part_ds_num);
 }
 
+#if DISK_HAVE_READ
 #define BUFSIZE 512
-void disk_submit (char *disk_name,
+static void disk_submit (char *disk_name,
 		unsigned long long read_count,
 		unsigned long long read_merged,
 		unsigned long long read_bytes,
 		unsigned long long read_time,
 		unsigned long long write_count,
 		unsigned long long write_merged,
@@ -154,13 +162,13 @@
 				write_time) >= BUFSIZE)
 		return;
 
 	plugin_submit (MODULE_NAME, disk_name, buf);
 }
 
-void partition_submit (char *part_name,
+static void partition_submit (char *part_name,
 		unsigned long long read_count,
 		unsigned long long read_bytes,
 		unsigned long long write_count,
 		unsigned long long write_bytes)
 {
 	char buf[BUFSIZE];
@@ -172,13 +180,13 @@
 		return;
 
 	plugin_submit ("partition", part_name, buf);
 }
 #undef BUFSIZE
 
-void disk_read (void)
+static void disk_read (void)
 {
 #ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 	char disk_name[128];
 	
@@ -292,12 +300,16 @@
 
 		ds->read_sectors  = read_sectors;
 		ds->write_sectors = write_sectors;
 		read_bytes  = ds->read_bytes;
 		write_bytes = ds->write_bytes;
 
+		/* Don't write to the RRDs if we've just started.. */
+		ds->poll_count++;
+		if (ds->poll_count <= 6)
+			continue;
 
 		if ((read_count == 0) && (write_count == 0))
 			continue;
 
 		if (is_disk)
 			disk_submit (disk_name, read_count, read_merged, read_bytes, read_time,
@@ -328,16 +340,18 @@
 		else if (strncmp (ksp[i]->ks_class, "partition", 9) == 0)
 			partition_submit (ksp[i]->ks_name,
 					kio.reads, kio.nread,
 					kio.writes,kio.nwritten);
 	}
 #endif /* defined(HAVE_LIBKSTAT) */
-}
+} /* static void disk_read (void) */
+#else
+# define disk_read NULL
+#endif /* DISK_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register ("partition", NULL, NULL, partition_write);
 	plugin_register (MODULE_NAME, disk_init, disk_read, disk_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_DISK */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/hddtemp.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/hddtemp.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/hddtemp.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/hddtemp.c	2006-01-20 17:51:58.000000000 +0800
@@ -18,31 +18,23 @@
  *
  * Authors:
  *   Vincent Stehlé <vincent.stehle at free.fr>
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "hddtemp.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_HDDTEMP
 #define MODULE_NAME "hddtemp"
 
-#include <sys/types.h>
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <netinet/tcp.h>
-#include <string.h>
-#include <errno.h>
-#include <syslog.h>
-#include <stdlib.h>
-#include <string.h>
 #include <libgen.h> /* for basename */
 
-#include "plugin.h"
-#include "common.h"
-
 /* LOCALHOST_ADDR
    The ip address 127.0.0.1, as a 32 bit. */
 #define LOCALHOST_ADDR 0x7F000001
 
 /* HDDTEMP_PORT
    The tcp port the hddtemp daemon is listening on. */
@@ -68,29 +60,34 @@
 	char *name;
 	struct hddname *next;
 } hddname_t;
 
 static hddname_t *first_hddname = NULL;
 
-/* hddtemp_query_daemon
-   Connect to the hddtemp daemon and receive data.
-
-   Parameters:
-     buffer:      the buffer where we put the received ascii string.
-     buffer_size: size of the buffer
-
-   Return value:
-     >= 0 if ok, < 0 otherwise.
-
-   Example of possible strings, as received from daemon:
-
-	   |/dev/hda|ST340014A|36|C|
-	   |/dev/hda|ST380011A|46|C||/dev/hdd|ST340016A|SLP|*|
-
-   FIXME: we need to create a new socket each time. Is there another way? */
-
+/*
+ * NAME
+ *  hddtemp_query_daemon
+ *
+ * DESCRIPTION
+ * Connect to the hddtemp daemon and receive data.
+ *
+ * ARGUMENTS:
+ *  `buffer'            The buffer where we put the received ascii string.
+ *  `buffer_size'       Size of the buffer
+ *
+ * RETURN VALUE:
+ *   >= 0 if ok, < 0 otherwise.
+ *
+ * NOTES:
+ *  Example of possible strings, as received from daemon:
+ *    |/dev/hda|ST340014A|36|C|
+ *    |/dev/hda|ST380011A|46|C||/dev/hdd|ST340016A|SLP|*|
+ *
+ * FIXME:
+ *  we need to create a new socket each time. Is there another way?
+ */
 static int hddtemp_query_daemon (char *buffer, int buffer_size)
 {
 	int sock;
 	ssize_t size;
 	const struct sockaddr_in addr =
 	{
@@ -366,7 +363,7 @@
    Register collectd plugin. */
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, hddtemp_init, hddtemp_read, hddtemp_write);
 }
 
-#endif /* COLLECT_HDDTEMP */
+#undef MODULE_NAME
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src: libconfig
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/libping/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/libping/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/libping/Makefile.in	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/libping/Makefile.in	2006-01-20 17:51:59.000000000 +0800
@@ -72,46 +72,60 @@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
-BUILD_DAEMON_FALSE = @BUILD_DAEMON_FALSE@
-BUILD_DAEMON_TRUE = @BUILD_DAEMON_TRUE@
-BUILD_DEBUG_FALSE = @BUILD_DEBUG_FALSE@
-BUILD_DEBUG_TRUE = @BUILD_DEBUG_TRUE@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
 BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
+BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
+BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
+BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
 BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
 BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
 BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
+BUILD_MODULE_QUOTA_FALSE = @BUILD_MODULE_QUOTA_FALSE@
+BUILD_MODULE_QUOTA_TRUE = @BUILD_MODULE_QUOTA_TRUE@
 BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
 BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
 BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
 BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
 BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
 BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
 BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
 BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
 BUILD_MODULE_TRAFFIC_FALSE = @BUILD_MODULE_TRAFFIC_FALSE@
 BUILD_MODULE_TRAFFIC_TRUE = @BUILD_MODULE_TRAFFIC_TRUE@
 BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
 BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
+BUILD_WITH_KSTAT_FALSE = @BUILD_WITH_KSTAT_FALSE@
+BUILD_WITH_KSTAT_TRUE = @BUILD_WITH_KSTAT_TRUE@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_RRDTOOL_FALSE = @BUILD_WITH_RRDTOOL_FALSE@
 BUILD_WITH_RRDTOOL_TRUE = @BUILD_WITH_RRDTOOL_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/load.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/load.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/load.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/load.c	2006-01-20 17:51:58.000000000 +0800
@@ -17,19 +17,23 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "load.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_LOAD
 #define MODULE_NAME "load"
 
-#include "plugin.h"
-#include "common.h"
+#if defined(HAVE_GETLOADAVG) || defined(KERNEL_LINUX) || defined(HAVE_LIBSTATGRAB)
+# define LOAD_HAVE_READ 1
+#else
+# define LOAD_HAVE_READ 0
+#endif
 
 #ifdef HAVE_SYS_LOADAVG_H
 #include <sys/loadavg.h>
 #endif
 
 #ifdef HAVE_GETLOADAVG
@@ -48,36 +52,37 @@
 	"DS:midterm:GAUGE:25:0:100",
 	"DS:longterm:GAUGE:25:0:100",
 	NULL
 };
 static int ds_num = 3;
 
-void load_init (void)
+static void load_init (void)
 {
 	return;
 }
 
-void load_write (char *host, char *inst, char *val)
+static void load_write (char *host, char *inst, char *val)
 {
 	rrd_update_file (host, load_file, val, ds_def, ds_num);
 }
 
+#if LOAD_HAVE_READ
 #define BUFSIZE 256
-void load_submit (double snum, double mnum, double lnum)
+static void load_submit (double snum, double mnum, double lnum)
 {
 	char buf[BUFSIZE];
 
 	if (snprintf (buf, BUFSIZE, "%u:%.2f:%.2f:%.2f", (unsigned int) curtime,
 				snum, mnum, lnum) >= BUFSIZE)
 		return;
 
 	plugin_submit (MODULE_NAME, "-", buf);
 }
 #undef BUFSIZE
 
-void load_read (void)
+static void load_read (void)
 {
 #if defined(HAVE_GETLOADAVG)
 	double load[3];
 
 	if (getloadavg (load, 3) == 3)
 		load_submit (load[LOADAVG_1MIN], load[LOADAVG_5MIN], load[LOADAVG_15MIN]);
@@ -131,14 +136,16 @@
 	mnum = ls->min5;
 	lnum = ls->min15;
 
 	load_submit (snum, mnum, lnum);
 #endif /* HAVE_LIBSTATGRAB */
 }
+#else
+# define load_read NULL
+#endif /* LOAD_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, load_init, load_read, load_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_LOAD */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/Makefile.am /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/Makefile.am
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/Makefile.am	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/Makefile.am	2006-01-20 17:51:58.000000000 +0800
@@ -1,54 +1,70 @@
+SUBDIRS = libconfig
 if BUILD_MODULE_PING
-SUBDIRS = libping .
+SUBDIRS += libping
 endif
 
 sbin_PROGRAMS = collectd
 
 collectd_SOURCES = collectd.c collectd.h \
 		   utils_debug.c utils_debug.h \
 		   utils_mount.c utils_mount.h \
 		   common.c common.h \
 		   multicast.c multicast.h \
-		   plugin.c plugin.h
+		   plugin.c plugin.h \
+		   configfile.c configfile.h
 #collectd_CFLAGS = -DPLUGINDIR='"$(pkglibdir)"'
 collectd_CPPFLAGS = $(LTDLINCL)
 collectd_CPPFLAGS += -DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"'
 collectd_CPPFLAGS += -DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"'
+if BUILD_FEATURE_DAEMON
 collectd_CPPFLAGS += -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
+endif
 collectd_CPPFLAGS += -DPLUGINDIR='"${pkglibdir}"'
-collectd_LDFLAGS = -export-dynamic
-collectd_CFLAGS = -Werror
-collectd_LDADD = $(LIBLTDL) "-dlopen" self
-collectd_DEPENDENCIES = $(LIBLTDL)
-if BUILD_WITH_RRDTOOL
-collectd_LDADD += -lrrd
+if BUILD_FEATURE_DEBUG
+collectd_CPPFLAGS += -DLOGFILE='"${localstatedir}/log/${PACKAGE_NAME}/collectd.log"'
 endif
+collectd_LDFLAGS = -export-dynamic
+collectd_CFLAGS = -Wall -Werror
+collectd_LDADD = $(LIBLTDL) libconfig/libconfig.la "-dlopen" self
+collectd_DEPENDENCIES = $(LIBLTDL) libconfig/libconfig.la
 
 pkglib_LTLIBRARIES = 
 
 if BUILD_MODULE_CPU
 pkglib_LTLIBRARIES += cpu.la
 cpu_la_SOURCES = cpu.c cpu.h
 cpu_la_LDFLAGS = -module -avoid-version
+cpu_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" cpu.la
 collectd_DEPENDENCIES += cpu.la
 endif
 
 if BUILD_MODULE_CPUFREQ
 pkglib_LTLIBRARIES += cpufreq.la
 cpufreq_la_SOURCES = cpufreq.c cpufreq.h
 cpufreq_la_LDFLAGS = -module -avoid-version
+cpufreq_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" cpufreq.la
 collectd_DEPENDENCIES += cpufreq.la
 endif
 
+if BUILD_MODULE_DF
+pkglib_LTLIBRARIES += df.la
+df_la_SOURCES = df.c
+df_la_LDFLAGS = -module -avoid-version
+df_la_CFLAGS  = -Wall -Werror
+collectd_LDADD += "-dlopen" df.la
+collectd_DEPENDENCIES += df.la
+endif
+
 if BUILD_MODULE_DISK
 pkglib_LTLIBRARIES += disk.la
 disk_la_SOURCES = disk.c disk.h
 disk_la_LDFLAGS = -module -avoid-version
+disk_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" disk.la
 collectd_DEPENDENCIES += disk.la
 endif
 
 #if BUILD_MODULE_QUOTA
 #pkglib_LTLIBRARIES += quota.la
@@ -62,109 +78,139 @@
 #endif
 
 if BUILD_MODULE_HDDTEMP
 pkglib_LTLIBRARIES += hddtemp.la
 hddtemp_la_SOURCES = hddtemp.c hddtemp.h
 hddtemp_la_LDFLAGS = -module -avoid-version
+hddtemp_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" hddtemp.la
 collectd_DEPENDENCIES += hddtemp.la
 endif
 
 if BUILD_MODULE_LOAD
 pkglib_LTLIBRARIES += load.la
 load_la_SOURCES = load.c load.h
 load_la_LDFLAGS = -module -avoid-version
+load_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" load.la
 collectd_DEPENDENCIES += load.la
 endif
 
 if BUILD_MODULE_MEMORY
 pkglib_LTLIBRARIES += memory.la
 memory_la_SOURCES = memory.c memory.h
 memory_la_LDFLAGS = -module -avoid-version
+memory_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" memory.la
 collectd_DEPENDENCIES += memory.la
 endif
 
+if BUILD_MODULE_MYSQL
+pkglib_LTLIBRARIES += mysql.la
+mysql_la_SOURCES = mysql.c
+mysql_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LIBMYSQL
+mysql_la_LDFLAGS += -lmysqlclient
+endif
+#mysql_la_LIBADD = -lmysqlclient
+mysql_la_CFLAGS  = -Wall -Werror
+collectd_LDADD += "-dlopen" mysql.la
+collectd_DEPENDENCIES += mysql.la
+endif
+
 if BUILD_MODULE_NFS
 pkglib_LTLIBRARIES += nfs.la
 nfs_la_SOURCES = nfs.c nfs.h
 nfs_la_LDFLAGS = -module -avoid-version
+nfs_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" nfs.la
 collectd_DEPENDENCIES += nfs.la
 endif
 
 if BUILD_MODULE_PING
 pkglib_LTLIBRARIES += ping.la
 ping_la_SOURCES = ping.c ping.h
 ping_la_LDFLAGS = -module -avoid-version
 ping_la_LIBADD  = libping/libping.la
 ping_la_DEPENDENCIES = libping/libping.la
+ping_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" ping.la
 collectd_DEPENDENCIES += ping.la
 endif
 
 if BUILD_MODULE_PROCESSES
 pkglib_LTLIBRARIES += processes.la
 processes_la_SOURCES = processes.c processes.h
 processes_la_LDFLAGS = -module -avoid-version
+processes_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" processes.la
 collectd_DEPENDENCIES += processes.la
 endif
 
 if BUILD_MODULE_SENSORS
 pkglib_LTLIBRARIES += sensors.la
 sensors_la_SOURCES = sensors.c sensors.h
-sensors_la_LDFLAGS = -module -avoid-version -lsensors
+sensors_la_LDFLAGS = -module -avoid-version
+if BUILD_WITH_LM_SENSORS
+sensors_la_LDFLAGS += -lsensors
+endif
 sensors_la_LIBADD = -lsensors
+sensors_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" sensors.la
 collectd_DEPENDENCIES += sensors.la
 endif
 
 if BUILD_MODULE_SERIAL
 pkglib_LTLIBRARIES += serial.la
 serial_la_SOURCES = serial.c serial.h
 serial_la_LDFLAGS = -module -avoid-version
+serial_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" serial.la
 collectd_DEPENDENCIES += serial.la
 endif
 
 if BUILD_MODULE_SWAP
 pkglib_LTLIBRARIES += swap.la
 swap_la_SOURCES = swap.c swap.h
 swap_la_LDFLAGS = -module -avoid-version
+swap_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" swap.la
 collectd_DEPENDENCIES += swap.la
 endif
 
 if BUILD_MODULE_TAPE
 pkglib_LTLIBRARIES += tape.la
 tape_la_SOURCES = tape.c tape.h
 tape_la_LDFLAGS = -module -avoid-version
+tape_la_CFLAGS  = -Wall -Werror
 collectd_LDADD += "-dlopen" tape.la
 collectd_DEPENDENCIES += tape.la
 endif
 
 if BUILD_MODULE_TRAFFIC
 pkglib_LTLIBRARIES += traffic.la
 traffic_la_SOURCES = traffic.c traffic.h
 traffic_la_LDFLAGS = -module -avoid-version
+traffic_la_CFLAGS = -Wall -Werror
 collectd_LDADD += "-dlopen" traffic.la
 collectd_DEPENDENCIES += traffic.la
 endif
 
 if BUILD_MODULE_USERS
 pkglib_LTLIBRARIES += users.la
 users_la_SOURCES = users.c users.h
 users_la_LDFLAGS = -module -avoid-version
-users_la_CFLAGS = -Werror
+users_la_CFLAGS = -Wall -Werror
 collectd_LDADD += "-dlopen" users.la
 collectd_DEPENDENCIES += users.la
 endif
 
-man_MANS = collectd.1
+man_MANS = collectd.1 collectd.conf.5
 #collectd_1_SOURCES = collectd.pod
 
 EXTRA_DIST = $(man_MANS)
 
 .pod.1:
 	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >$@
+
+.pod.5:
+	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >$@
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/Makefile.in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/Makefile.in
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/Makefile.in	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/Makefile.in	2006-01-20 17:51:58.000000000 +0800
@@ -34,70 +34,80 @@
 POST_INSTALL = :
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
+@BUILD_MODULE_PING_TRUE@am__append_1 = libping
 sbin_PROGRAMS = collectd$(EXEEXT)
-@BUILD_WITH_RRDTOOL_TRUE@am__append_1 = -lrrd
-@BUILD_MODULE_CPU_TRUE@am__append_2 = cpu.la
-@BUILD_MODULE_CPU_TRUE@am__append_3 = "-dlopen" cpu.la
+@BUILD_FEATURE_DAEMON_TRUE@am__append_2 = -DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"'
+@BUILD_FEATURE_DEBUG_TRUE@am__append_3 = -DLOGFILE='"${localstatedir}/log/${PACKAGE_NAME}/collectd.log"'
 @BUILD_MODULE_CPU_TRUE@am__append_4 = cpu.la
-@BUILD_MODULE_CPUFREQ_TRUE@am__append_5 = cpufreq.la
-@BUILD_MODULE_CPUFREQ_TRUE@am__append_6 = "-dlopen" cpufreq.la
+@BUILD_MODULE_CPU_TRUE@am__append_5 = "-dlopen" cpu.la
+@BUILD_MODULE_CPU_TRUE@am__append_6 = cpu.la
 @BUILD_MODULE_CPUFREQ_TRUE@am__append_7 = cpufreq.la
-@BUILD_MODULE_DISK_TRUE@am__append_8 = disk.la
-@BUILD_MODULE_DISK_TRUE@am__append_9 = "-dlopen" disk.la
-@BUILD_MODULE_DISK_TRUE@am__append_10 = disk.la
+@BUILD_MODULE_CPUFREQ_TRUE@am__append_8 = "-dlopen" cpufreq.la
+@BUILD_MODULE_CPUFREQ_TRUE@am__append_9 = cpufreq.la
+@BUILD_MODULE_DF_TRUE@am__append_10 = df.la
+@BUILD_MODULE_DF_TRUE@am__append_11 = "-dlopen" df.la
+@BUILD_MODULE_DF_TRUE@am__append_12 = df.la
+@BUILD_MODULE_DISK_TRUE@am__append_13 = disk.la
+@BUILD_MODULE_DISK_TRUE@am__append_14 = "-dlopen" disk.la
+@BUILD_MODULE_DISK_TRUE@am__append_15 = disk.la
 
 #if BUILD_MODULE_QUOTA
 #pkglib_LTLIBRARIES += quota.la
 #quota_la_SOURCES = quota_plugin.c quota_plugin.h
 #quota_la_SOURCES += quota_fs.c quota_fs.h
 #quota_la_SOURCES += quota_mnt.c quota_mnt.h
 #quota_la_LDFLAGS = -module -avoid-version
 #quota_la_CFLAGS = -Werror
 #collectd_LDADD += "-dlopen" quota.la
 #collectd_DEPENDENCIES += quota.la
 #endif
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_11 = hddtemp.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_12 = "-dlopen" hddtemp.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__append_13 = hddtemp.la
-@BUILD_MODULE_LOAD_TRUE@am__append_14 = load.la
-@BUILD_MODULE_LOAD_TRUE@am__append_15 = "-dlopen" load.la
-@BUILD_MODULE_LOAD_TRUE@am__append_16 = load.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_17 = memory.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_18 = "-dlopen" memory.la
-@BUILD_MODULE_MEMORY_TRUE@am__append_19 = memory.la
-@BUILD_MODULE_NFS_TRUE@am__append_20 = nfs.la
-@BUILD_MODULE_NFS_TRUE@am__append_21 = "-dlopen" nfs.la
-@BUILD_MODULE_NFS_TRUE@am__append_22 = nfs.la
-@BUILD_MODULE_PING_TRUE@am__append_23 = ping.la
-@BUILD_MODULE_PING_TRUE@am__append_24 = "-dlopen" ping.la
-@BUILD_MODULE_PING_TRUE@am__append_25 = ping.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_26 = processes.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_27 = "-dlopen" processes.la
-@BUILD_MODULE_PROCESSES_TRUE@am__append_28 = processes.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_29 = sensors.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_30 = "-dlopen" sensors.la
-@BUILD_MODULE_SENSORS_TRUE@am__append_31 = sensors.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_32 = serial.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_33 = "-dlopen" serial.la
-@BUILD_MODULE_SERIAL_TRUE@am__append_34 = serial.la
-@BUILD_MODULE_SWAP_TRUE@am__append_35 = swap.la
-@BUILD_MODULE_SWAP_TRUE@am__append_36 = "-dlopen" swap.la
-@BUILD_MODULE_SWAP_TRUE@am__append_37 = swap.la
-@BUILD_MODULE_TAPE_TRUE@am__append_38 = tape.la
-@BUILD_MODULE_TAPE_TRUE@am__append_39 = "-dlopen" tape.la
-@BUILD_MODULE_TAPE_TRUE@am__append_40 = tape.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__append_41 = traffic.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__append_42 = "-dlopen" traffic.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__append_43 = traffic.la
-@BUILD_MODULE_USERS_TRUE@am__append_44 = users.la
-@BUILD_MODULE_USERS_TRUE@am__append_45 = "-dlopen" users.la
-@BUILD_MODULE_USERS_TRUE@am__append_46 = users.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__append_16 = hddtemp.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__append_17 = "-dlopen" hddtemp.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__append_18 = hddtemp.la
+@BUILD_MODULE_LOAD_TRUE@am__append_19 = load.la
+@BUILD_MODULE_LOAD_TRUE@am__append_20 = "-dlopen" load.la
+@BUILD_MODULE_LOAD_TRUE@am__append_21 = load.la
+@BUILD_MODULE_MEMORY_TRUE@am__append_22 = memory.la
+@BUILD_MODULE_MEMORY_TRUE@am__append_23 = "-dlopen" memory.la
+@BUILD_MODULE_MEMORY_TRUE@am__append_24 = memory.la
+@BUILD_MODULE_MYSQL_TRUE@am__append_25 = mysql.la
+@BUILD_MODULE_MYSQL_TRUE@@BUILD_WITH_LIBMYSQL_TRUE@am__append_26 = -lmysqlclient
+@BUILD_MODULE_MYSQL_TRUE@am__append_27 = "-dlopen" mysql.la
+@BUILD_MODULE_MYSQL_TRUE@am__append_28 = mysql.la
+@BUILD_MODULE_NFS_TRUE@am__append_29 = nfs.la
+@BUILD_MODULE_NFS_TRUE@am__append_30 = "-dlopen" nfs.la
+@BUILD_MODULE_NFS_TRUE@am__append_31 = nfs.la
+@BUILD_MODULE_PING_TRUE@am__append_32 = ping.la
+@BUILD_MODULE_PING_TRUE@am__append_33 = "-dlopen" ping.la
+@BUILD_MODULE_PING_TRUE@am__append_34 = ping.la
+@BUILD_MODULE_PROCESSES_TRUE@am__append_35 = processes.la
+@BUILD_MODULE_PROCESSES_TRUE@am__append_36 = "-dlopen" processes.la
+@BUILD_MODULE_PROCESSES_TRUE@am__append_37 = processes.la
+@BUILD_MODULE_SENSORS_TRUE@am__append_38 = sensors.la
+@BUILD_MODULE_SENSORS_TRUE@@BUILD_WITH_LM_SENSORS_TRUE@am__append_39 = -lsensors
+@BUILD_MODULE_SENSORS_TRUE@am__append_40 = "-dlopen" sensors.la
+@BUILD_MODULE_SENSORS_TRUE@am__append_41 = sensors.la
+@BUILD_MODULE_SERIAL_TRUE@am__append_42 = serial.la
+@BUILD_MODULE_SERIAL_TRUE@am__append_43 = "-dlopen" serial.la
+@BUILD_MODULE_SERIAL_TRUE@am__append_44 = serial.la
+@BUILD_MODULE_SWAP_TRUE@am__append_45 = swap.la
+@BUILD_MODULE_SWAP_TRUE@am__append_46 = "-dlopen" swap.la
+@BUILD_MODULE_SWAP_TRUE@am__append_47 = swap.la
+@BUILD_MODULE_TAPE_TRUE@am__append_48 = tape.la
+@BUILD_MODULE_TAPE_TRUE@am__append_49 = "-dlopen" tape.la
+@BUILD_MODULE_TAPE_TRUE@am__append_50 = tape.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__append_51 = traffic.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__append_52 = "-dlopen" traffic.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__append_53 = traffic.la
+@BUILD_MODULE_USERS_TRUE@am__append_54 = users.la
+@BUILD_MODULE_USERS_TRUE@am__append_55 = "-dlopen" users.la
+@BUILD_MODULE_USERS_TRUE@am__append_56 = users.la
 subdir = src
 DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in \
 	$(srcdir)/config.h.in
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/configure.in
 am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
@@ -109,196 +119,230 @@
 am__vpath_adj = case $$p in \
     $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
     *) f=$$p;; \
   esac;
 am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
 am__installdirs = "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(sbindir)" \
-	"$(DESTDIR)$(man1dir)"
+	"$(DESTDIR)$(man1dir)" "$(DESTDIR)$(man5dir)"
 pkglibLTLIBRARIES_INSTALL = $(INSTALL)
 LTLIBRARIES = $(pkglib_LTLIBRARIES)
 cpu_la_LIBADD =
 am__cpu_la_SOURCES_DIST = cpu.c cpu.h
-@BUILD_MODULE_CPU_TRUE@am_cpu_la_OBJECTS = cpu.lo
+@BUILD_MODULE_CPU_TRUE@am_cpu_la_OBJECTS = cpu_la-cpu.lo
 cpu_la_OBJECTS = $(am_cpu_la_OBJECTS)
 @BUILD_MODULE_CPU_TRUE@am_cpu_la_rpath = -rpath $(pkglibdir)
 cpufreq_la_LIBADD =
 am__cpufreq_la_SOURCES_DIST = cpufreq.c cpufreq.h
-@BUILD_MODULE_CPUFREQ_TRUE@am_cpufreq_la_OBJECTS = cpufreq.lo
+@BUILD_MODULE_CPUFREQ_TRUE@am_cpufreq_la_OBJECTS =  \
+@BUILD_MODULE_CPUFREQ_TRUE@	cpufreq_la-cpufreq.lo
 cpufreq_la_OBJECTS = $(am_cpufreq_la_OBJECTS)
 @BUILD_MODULE_CPUFREQ_TRUE@am_cpufreq_la_rpath = -rpath $(pkglibdir)
+df_la_LIBADD =
+am__df_la_SOURCES_DIST = df.c
+@BUILD_MODULE_DF_TRUE@am_df_la_OBJECTS = df_la-df.lo
+df_la_OBJECTS = $(am_df_la_OBJECTS)
+@BUILD_MODULE_DF_TRUE@am_df_la_rpath = -rpath $(pkglibdir)
 disk_la_LIBADD =
 am__disk_la_SOURCES_DIST = disk.c disk.h
-@BUILD_MODULE_DISK_TRUE@am_disk_la_OBJECTS = disk.lo
+@BUILD_MODULE_DISK_TRUE@am_disk_la_OBJECTS = disk_la-disk.lo
 disk_la_OBJECTS = $(am_disk_la_OBJECTS)
 @BUILD_MODULE_DISK_TRUE@am_disk_la_rpath = -rpath $(pkglibdir)
 hddtemp_la_LIBADD =
 am__hddtemp_la_SOURCES_DIST = hddtemp.c hddtemp.h
-@BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS = hddtemp.lo
+@BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_OBJECTS =  \
+@BUILD_MODULE_HDDTEMP_TRUE@	hddtemp_la-hddtemp.lo
 hddtemp_la_OBJECTS = $(am_hddtemp_la_OBJECTS)
 @BUILD_MODULE_HDDTEMP_TRUE@am_hddtemp_la_rpath = -rpath $(pkglibdir)
 load_la_LIBADD =
 am__load_la_SOURCES_DIST = load.c load.h
-@BUILD_MODULE_LOAD_TRUE@am_load_la_OBJECTS = load.lo
+@BUILD_MODULE_LOAD_TRUE@am_load_la_OBJECTS = load_la-load.lo
 load_la_OBJECTS = $(am_load_la_OBJECTS)
 @BUILD_MODULE_LOAD_TRUE@am_load_la_rpath = -rpath $(pkglibdir)
 memory_la_LIBADD =
 am__memory_la_SOURCES_DIST = memory.c memory.h
-@BUILD_MODULE_MEMORY_TRUE@am_memory_la_OBJECTS = memory.lo
+@BUILD_MODULE_MEMORY_TRUE@am_memory_la_OBJECTS = memory_la-memory.lo
 memory_la_OBJECTS = $(am_memory_la_OBJECTS)
 @BUILD_MODULE_MEMORY_TRUE@am_memory_la_rpath = -rpath $(pkglibdir)
+mysql_la_LIBADD =
+am__mysql_la_SOURCES_DIST = mysql.c
+@BUILD_MODULE_MYSQL_TRUE@am_mysql_la_OBJECTS = mysql_la-mysql.lo
+mysql_la_OBJECTS = $(am_mysql_la_OBJECTS)
+@BUILD_MODULE_MYSQL_TRUE@am_mysql_la_rpath = -rpath $(pkglibdir)
 nfs_la_LIBADD =
 am__nfs_la_SOURCES_DIST = nfs.c nfs.h
-@BUILD_MODULE_NFS_TRUE@am_nfs_la_OBJECTS = nfs.lo
+@BUILD_MODULE_NFS_TRUE@am_nfs_la_OBJECTS = nfs_la-nfs.lo
 nfs_la_OBJECTS = $(am_nfs_la_OBJECTS)
 @BUILD_MODULE_NFS_TRUE@am_nfs_la_rpath = -rpath $(pkglibdir)
 am__ping_la_SOURCES_DIST = ping.c ping.h
-@BUILD_MODULE_PING_TRUE@am_ping_la_OBJECTS = ping.lo
+@BUILD_MODULE_PING_TRUE@am_ping_la_OBJECTS = ping_la-ping.lo
 ping_la_OBJECTS = $(am_ping_la_OBJECTS)
 @BUILD_MODULE_PING_TRUE@am_ping_la_rpath = -rpath $(pkglibdir)
 processes_la_LIBADD =
 am__processes_la_SOURCES_DIST = processes.c processes.h
-@BUILD_MODULE_PROCESSES_TRUE@am_processes_la_OBJECTS = processes.lo
+@BUILD_MODULE_PROCESSES_TRUE@am_processes_la_OBJECTS =  \
+@BUILD_MODULE_PROCESSES_TRUE@	processes_la-processes.lo
 processes_la_OBJECTS = $(am_processes_la_OBJECTS)
 @BUILD_MODULE_PROCESSES_TRUE@am_processes_la_rpath = -rpath \
 @BUILD_MODULE_PROCESSES_TRUE@	$(pkglibdir)
 sensors_la_DEPENDENCIES =
 am__sensors_la_SOURCES_DIST = sensors.c sensors.h
-@BUILD_MODULE_SENSORS_TRUE@am_sensors_la_OBJECTS = sensors.lo
+@BUILD_MODULE_SENSORS_TRUE@am_sensors_la_OBJECTS =  \
+@BUILD_MODULE_SENSORS_TRUE@	sensors_la-sensors.lo
 sensors_la_OBJECTS = $(am_sensors_la_OBJECTS)
 @BUILD_MODULE_SENSORS_TRUE@am_sensors_la_rpath = -rpath $(pkglibdir)
 serial_la_LIBADD =
 am__serial_la_SOURCES_DIST = serial.c serial.h
-@BUILD_MODULE_SERIAL_TRUE@am_serial_la_OBJECTS = serial.lo
+@BUILD_MODULE_SERIAL_TRUE@am_serial_la_OBJECTS = serial_la-serial.lo
 serial_la_OBJECTS = $(am_serial_la_OBJECTS)
 @BUILD_MODULE_SERIAL_TRUE@am_serial_la_rpath = -rpath $(pkglibdir)
 swap_la_LIBADD =
 am__swap_la_SOURCES_DIST = swap.c swap.h
-@BUILD_MODULE_SWAP_TRUE@am_swap_la_OBJECTS = swap.lo
+@BUILD_MODULE_SWAP_TRUE@am_swap_la_OBJECTS = swap_la-swap.lo
 swap_la_OBJECTS = $(am_swap_la_OBJECTS)
 @BUILD_MODULE_SWAP_TRUE@am_swap_la_rpath = -rpath $(pkglibdir)
 tape_la_LIBADD =
 am__tape_la_SOURCES_DIST = tape.c tape.h
-@BUILD_MODULE_TAPE_TRUE@am_tape_la_OBJECTS = tape.lo
+@BUILD_MODULE_TAPE_TRUE@am_tape_la_OBJECTS = tape_la-tape.lo
 tape_la_OBJECTS = $(am_tape_la_OBJECTS)
 @BUILD_MODULE_TAPE_TRUE@am_tape_la_rpath = -rpath $(pkglibdir)
 traffic_la_LIBADD =
 am__traffic_la_SOURCES_DIST = traffic.c traffic.h
-@BUILD_MODULE_TRAFFIC_TRUE@am_traffic_la_OBJECTS = traffic.lo
+@BUILD_MODULE_TRAFFIC_TRUE@am_traffic_la_OBJECTS =  \
+@BUILD_MODULE_TRAFFIC_TRUE@	traffic_la-traffic.lo
 traffic_la_OBJECTS = $(am_traffic_la_OBJECTS)
 @BUILD_MODULE_TRAFFIC_TRUE@am_traffic_la_rpath = -rpath $(pkglibdir)
 users_la_LIBADD =
 am__users_la_SOURCES_DIST = users.c users.h
 @BUILD_MODULE_USERS_TRUE@am_users_la_OBJECTS = users_la-users.lo
 users_la_OBJECTS = $(am_users_la_OBJECTS)
 @BUILD_MODULE_USERS_TRUE@am_users_la_rpath = -rpath $(pkglibdir)
 sbinPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 PROGRAMS = $(sbin_PROGRAMS)
 am_collectd_OBJECTS = collectd-collectd.$(OBJEXT) \
 	collectd-utils_debug.$(OBJEXT) collectd-utils_mount.$(OBJEXT) \
 	collectd-common.$(OBJEXT) collectd-multicast.$(OBJEXT) \
-	collectd-plugin.$(OBJEXT)
+	collectd-plugin.$(OBJEXT) collectd-configfile.$(OBJEXT)
 collectd_OBJECTS = $(am_collectd_OBJECTS)
 am__DEPENDENCIES_1 =
 @BUILD_MODULE_CPU_TRUE@am__DEPENDENCIES_2 = "-dlopen" cpu.la
 @BUILD_MODULE_CPUFREQ_TRUE@am__DEPENDENCIES_3 = "-dlopen" cpufreq.la
-@BUILD_MODULE_DISK_TRUE@am__DEPENDENCIES_4 = "-dlopen" disk.la
-@BUILD_MODULE_HDDTEMP_TRUE@am__DEPENDENCIES_5 = "-dlopen" hddtemp.la
-@BUILD_MODULE_LOAD_TRUE@am__DEPENDENCIES_6 = "-dlopen" load.la
-@BUILD_MODULE_MEMORY_TRUE@am__DEPENDENCIES_7 = "-dlopen" memory.la
-@BUILD_MODULE_NFS_TRUE@am__DEPENDENCIES_8 = "-dlopen" nfs.la
-@BUILD_MODULE_PING_TRUE@am__DEPENDENCIES_9 = "-dlopen" ping.la
-@BUILD_MODULE_PROCESSES_TRUE@am__DEPENDENCIES_10 = "-dlopen" \
+@BUILD_MODULE_DF_TRUE@am__DEPENDENCIES_4 = "-dlopen" df.la
+@BUILD_MODULE_DISK_TRUE@am__DEPENDENCIES_5 = "-dlopen" disk.la
+@BUILD_MODULE_HDDTEMP_TRUE@am__DEPENDENCIES_6 = "-dlopen" hddtemp.la
+@BUILD_MODULE_LOAD_TRUE@am__DEPENDENCIES_7 = "-dlopen" load.la
+@BUILD_MODULE_MEMORY_TRUE@am__DEPENDENCIES_8 = "-dlopen" memory.la
+@BUILD_MODULE_MYSQL_TRUE@am__DEPENDENCIES_9 = "-dlopen" mysql.la
+@BUILD_MODULE_NFS_TRUE@am__DEPENDENCIES_10 = "-dlopen" nfs.la
+@BUILD_MODULE_PING_TRUE@am__DEPENDENCIES_11 = "-dlopen" ping.la
+@BUILD_MODULE_PROCESSES_TRUE@am__DEPENDENCIES_12 = "-dlopen" \
 @BUILD_MODULE_PROCESSES_TRUE@	processes.la
-@BUILD_MODULE_SENSORS_TRUE@am__DEPENDENCIES_11 = "-dlopen" sensors.la
-@BUILD_MODULE_SERIAL_TRUE@am__DEPENDENCIES_12 = "-dlopen" serial.la
-@BUILD_MODULE_SWAP_TRUE@am__DEPENDENCIES_13 = "-dlopen" swap.la
-@BUILD_MODULE_TAPE_TRUE@am__DEPENDENCIES_14 = "-dlopen" tape.la
-@BUILD_MODULE_TRAFFIC_TRUE@am__DEPENDENCIES_15 = "-dlopen" traffic.la
-@BUILD_MODULE_USERS_TRUE@am__DEPENDENCIES_16 = "-dlopen" users.la
+@BUILD_MODULE_SENSORS_TRUE@am__DEPENDENCIES_13 = "-dlopen" sensors.la
+@BUILD_MODULE_SERIAL_TRUE@am__DEPENDENCIES_14 = "-dlopen" serial.la
+@BUILD_MODULE_SWAP_TRUE@am__DEPENDENCIES_15 = "-dlopen" swap.la
+@BUILD_MODULE_TAPE_TRUE@am__DEPENDENCIES_16 = "-dlopen" tape.la
+@BUILD_MODULE_TRAFFIC_TRUE@am__DEPENDENCIES_17 = "-dlopen" traffic.la
+@BUILD_MODULE_USERS_TRUE@am__DEPENDENCIES_18 = "-dlopen" users.la
 DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-SOURCES = $(cpu_la_SOURCES) $(cpufreq_la_SOURCES) $(disk_la_SOURCES) \
-	$(hddtemp_la_SOURCES) $(load_la_SOURCES) $(memory_la_SOURCES) \
-	$(nfs_la_SOURCES) $(ping_la_SOURCES) $(processes_la_SOURCES) \
+SOURCES = $(cpu_la_SOURCES) $(cpufreq_la_SOURCES) $(df_la_SOURCES) \
+	$(disk_la_SOURCES) $(hddtemp_la_SOURCES) $(load_la_SOURCES) \
+	$(memory_la_SOURCES) $(mysql_la_SOURCES) $(nfs_la_SOURCES) \
+	$(ping_la_SOURCES) $(processes_la_SOURCES) \
 	$(sensors_la_SOURCES) $(serial_la_SOURCES) $(swap_la_SOURCES) \
 	$(tape_la_SOURCES) $(traffic_la_SOURCES) $(users_la_SOURCES) \
 	$(collectd_SOURCES)
 DIST_SOURCES = $(am__cpu_la_SOURCES_DIST) \
-	$(am__cpufreq_la_SOURCES_DIST) $(am__disk_la_SOURCES_DIST) \
-	$(am__hddtemp_la_SOURCES_DIST) $(am__load_la_SOURCES_DIST) \
-	$(am__memory_la_SOURCES_DIST) $(am__nfs_la_SOURCES_DIST) \
+	$(am__cpufreq_la_SOURCES_DIST) $(am__df_la_SOURCES_DIST) \
+	$(am__disk_la_SOURCES_DIST) $(am__hddtemp_la_SOURCES_DIST) \
+	$(am__load_la_SOURCES_DIST) $(am__memory_la_SOURCES_DIST) \
+	$(am__mysql_la_SOURCES_DIST) $(am__nfs_la_SOURCES_DIST) \
 	$(am__ping_la_SOURCES_DIST) $(am__processes_la_SOURCES_DIST) \
 	$(am__sensors_la_SOURCES_DIST) $(am__serial_la_SOURCES_DIST) \
 	$(am__swap_la_SOURCES_DIST) $(am__tape_la_SOURCES_DIST) \
 	$(am__traffic_la_SOURCES_DIST) $(am__users_la_SOURCES_DIST) \
 	$(collectd_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \
 	html-recursive info-recursive install-data-recursive \
 	install-exec-recursive install-info-recursive \
 	install-recursive installcheck-recursive installdirs-recursive \
 	pdf-recursive ps-recursive uninstall-info-recursive \
 	uninstall-recursive
 man1dir = $(mandir)/man1
+man5dir = $(mandir)/man5
 NROFF = nroff
 MANS = $(man_MANS)
 ETAGS = etags
 CTAGS = ctags
-DIST_SUBDIRS = libping .
+DIST_SUBDIRS = libconfig libping
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 ACLOCAL = @ACLOCAL@
 AMDEP_FALSE = @AMDEP_FALSE@
 AMDEP_TRUE = @AMDEP_TRUE@
 AMTAR = @AMTAR@
 AR = @AR@
 AUTOCONF = @AUTOCONF@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
-BUILD_DAEMON_FALSE = @BUILD_DAEMON_FALSE@
-BUILD_DAEMON_TRUE = @BUILD_DAEMON_TRUE@
-BUILD_DEBUG_FALSE = @BUILD_DEBUG_FALSE@
-BUILD_DEBUG_TRUE = @BUILD_DEBUG_TRUE@
+BUILD_FEATURE_DAEMON_FALSE = @BUILD_FEATURE_DAEMON_FALSE@
+BUILD_FEATURE_DAEMON_TRUE = @BUILD_FEATURE_DAEMON_TRUE@
+BUILD_FEATURE_DEBUG_FALSE = @BUILD_FEATURE_DEBUG_FALSE@
+BUILD_FEATURE_DEBUG_TRUE = @BUILD_FEATURE_DEBUG_TRUE@
 BUILD_MODULE_CPUFREQ_FALSE = @BUILD_MODULE_CPUFREQ_FALSE@
 BUILD_MODULE_CPUFREQ_TRUE = @BUILD_MODULE_CPUFREQ_TRUE@
 BUILD_MODULE_CPU_FALSE = @BUILD_MODULE_CPU_FALSE@
 BUILD_MODULE_CPU_TRUE = @BUILD_MODULE_CPU_TRUE@
+BUILD_MODULE_DF_FALSE = @BUILD_MODULE_DF_FALSE@
+BUILD_MODULE_DF_TRUE = @BUILD_MODULE_DF_TRUE@
 BUILD_MODULE_DISK_FALSE = @BUILD_MODULE_DISK_FALSE@
 BUILD_MODULE_DISK_TRUE = @BUILD_MODULE_DISK_TRUE@
 BUILD_MODULE_HDDTEMP_FALSE = @BUILD_MODULE_HDDTEMP_FALSE@
 BUILD_MODULE_HDDTEMP_TRUE = @BUILD_MODULE_HDDTEMP_TRUE@
 BUILD_MODULE_LOAD_FALSE = @BUILD_MODULE_LOAD_FALSE@
 BUILD_MODULE_LOAD_TRUE = @BUILD_MODULE_LOAD_TRUE@
 BUILD_MODULE_MEMORY_FALSE = @BUILD_MODULE_MEMORY_FALSE@
 BUILD_MODULE_MEMORY_TRUE = @BUILD_MODULE_MEMORY_TRUE@
+BUILD_MODULE_MYSQL_FALSE = @BUILD_MODULE_MYSQL_FALSE@
+BUILD_MODULE_MYSQL_TRUE = @BUILD_MODULE_MYSQL_TRUE@
 BUILD_MODULE_NFS_FALSE = @BUILD_MODULE_NFS_FALSE@
 BUILD_MODULE_NFS_TRUE = @BUILD_MODULE_NFS_TRUE@
 BUILD_MODULE_PING_FALSE = @BUILD_MODULE_PING_FALSE@
 BUILD_MODULE_PING_TRUE = @BUILD_MODULE_PING_TRUE@
 BUILD_MODULE_PROCESSES_FALSE = @BUILD_MODULE_PROCESSES_FALSE@
 BUILD_MODULE_PROCESSES_TRUE = @BUILD_MODULE_PROCESSES_TRUE@
+BUILD_MODULE_QUOTA_FALSE = @BUILD_MODULE_QUOTA_FALSE@
+BUILD_MODULE_QUOTA_TRUE = @BUILD_MODULE_QUOTA_TRUE@
 BUILD_MODULE_SENSORS_FALSE = @BUILD_MODULE_SENSORS_FALSE@
 BUILD_MODULE_SENSORS_TRUE = @BUILD_MODULE_SENSORS_TRUE@
 BUILD_MODULE_SERIAL_FALSE = @BUILD_MODULE_SERIAL_FALSE@
 BUILD_MODULE_SERIAL_TRUE = @BUILD_MODULE_SERIAL_TRUE@
 BUILD_MODULE_SWAP_FALSE = @BUILD_MODULE_SWAP_FALSE@
 BUILD_MODULE_SWAP_TRUE = @BUILD_MODULE_SWAP_TRUE@
 BUILD_MODULE_TAPE_FALSE = @BUILD_MODULE_TAPE_FALSE@
 BUILD_MODULE_TAPE_TRUE = @BUILD_MODULE_TAPE_TRUE@
 BUILD_MODULE_TRAFFIC_FALSE = @BUILD_MODULE_TRAFFIC_FALSE@
 BUILD_MODULE_TRAFFIC_TRUE = @BUILD_MODULE_TRAFFIC_TRUE@
 BUILD_MODULE_USERS_FALSE = @BUILD_MODULE_USERS_FALSE@
 BUILD_MODULE_USERS_TRUE = @BUILD_MODULE_USERS_TRUE@
+BUILD_WITH_KSTAT_FALSE = @BUILD_WITH_KSTAT_FALSE@
+BUILD_WITH_KSTAT_TRUE = @BUILD_WITH_KSTAT_TRUE@
+BUILD_WITH_LIBMYSQL_FALSE = @BUILD_WITH_LIBMYSQL_FALSE@
+BUILD_WITH_LIBMYSQL_TRUE = @BUILD_WITH_LIBMYSQL_TRUE@
+BUILD_WITH_LIBSTATGRAB_FALSE = @BUILD_WITH_LIBSTATGRAB_FALSE@
+BUILD_WITH_LIBSTATGRAB_TRUE = @BUILD_WITH_LIBSTATGRAB_TRUE@
+BUILD_WITH_LM_SENSORS_FALSE = @BUILD_WITH_LM_SENSORS_FALSE@
+BUILD_WITH_LM_SENSORS_TRUE = @BUILD_WITH_LM_SENSORS_TRUE@
 BUILD_WITH_RRDTOOL_FALSE = @BUILD_WITH_RRDTOOL_FALSE@
 BUILD_WITH_RRDTOOL_TRUE = @BUILD_WITH_RRDTOOL_TRUE@
 CC = @CC@
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
@@ -385,87 +429,113 @@
 program_transform_name = @program_transform_name@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
 subdirs = @subdirs@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
-@BUILD_MODULE_PING_TRUE@SUBDIRS = libping .
+SUBDIRS = libconfig $(am__append_1)
 collectd_SOURCES = collectd.c collectd.h \
 		   utils_debug.c utils_debug.h \
 		   utils_mount.c utils_mount.h \
 		   common.c common.h \
 		   multicast.c multicast.h \
-		   plugin.c plugin.h
+		   plugin.c plugin.h \
+		   configfile.c configfile.h
 
 #collectd_CFLAGS = -DPLUGINDIR='"$(pkglibdir)"'
 collectd_CPPFLAGS = $(LTDLINCL) \
 	-DCONFIGFILE='"${sysconfdir}/${PACKAGE_NAME}.conf"' \
 	-DPKGLOCALSTATEDIR='"${localstatedir}/lib/${PACKAGE_NAME}"' \
-	-DPIDFILE='"${localstatedir}/run/${PACKAGE_NAME}.pid"' \
-	-DPLUGINDIR='"${pkglibdir}"'
+	$(am__append_2) -DPLUGINDIR='"${pkglibdir}"' $(am__append_3)
 collectd_LDFLAGS = -export-dynamic
-collectd_CFLAGS = -Werror
-collectd_LDADD = $(LIBLTDL) "-dlopen" self $(am__append_1) \
-	$(am__append_3) $(am__append_6) $(am__append_9) \
-	$(am__append_12) $(am__append_15) $(am__append_18) \
-	$(am__append_21) $(am__append_24) $(am__append_27) \
-	$(am__append_30) $(am__append_33) $(am__append_36) \
-	$(am__append_39) $(am__append_42) $(am__append_45)
-collectd_DEPENDENCIES = $(LIBLTDL) $(am__append_4) $(am__append_7) \
-	$(am__append_10) $(am__append_13) $(am__append_16) \
-	$(am__append_19) $(am__append_22) $(am__append_25) \
-	$(am__append_28) $(am__append_31) $(am__append_34) \
-	$(am__append_37) $(am__append_40) $(am__append_43) \
-	$(am__append_46)
-pkglib_LTLIBRARIES = $(am__append_2) $(am__append_5) $(am__append_8) \
-	$(am__append_11) $(am__append_14) $(am__append_17) \
-	$(am__append_20) $(am__append_23) $(am__append_26) \
-	$(am__append_29) $(am__append_32) $(am__append_35) \
-	$(am__append_38) $(am__append_41) $(am__append_44)
+collectd_CFLAGS = -Wall -Werror
+collectd_LDADD = $(LIBLTDL) libconfig/libconfig.la "-dlopen" self \
+	$(am__append_5) $(am__append_8) $(am__append_11) \
+	$(am__append_14) $(am__append_17) $(am__append_20) \
+	$(am__append_23) $(am__append_27) $(am__append_30) \
+	$(am__append_33) $(am__append_36) $(am__append_40) \
+	$(am__append_43) $(am__append_46) $(am__append_49) \
+	$(am__append_52) $(am__append_55)
+collectd_DEPENDENCIES = $(LIBLTDL) libconfig/libconfig.la \
+	$(am__append_6) $(am__append_9) $(am__append_12) \
+	$(am__append_15) $(am__append_18) $(am__append_21) \
+	$(am__append_24) $(am__append_28) $(am__append_31) \
+	$(am__append_34) $(am__append_37) $(am__append_41) \
+	$(am__append_44) $(am__append_47) $(am__append_50) \
+	$(am__append_53) $(am__append_56)
+pkglib_LTLIBRARIES = $(am__append_4) $(am__append_7) $(am__append_10) \
+	$(am__append_13) $(am__append_16) $(am__append_19) \
+	$(am__append_22) $(am__append_25) $(am__append_29) \
+	$(am__append_32) $(am__append_35) $(am__append_38) \
+	$(am__append_42) $(am__append_45) $(am__append_48) \
+	$(am__append_51) $(am__append_54)
 @BUILD_MODULE_CPU_TRUE@cpu_la_SOURCES = cpu.c cpu.h
 @BUILD_MODULE_CPU_TRUE@cpu_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_CPU_TRUE@cpu_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_CPUFREQ_TRUE@cpufreq_la_SOURCES = cpufreq.c cpufreq.h
 @BUILD_MODULE_CPUFREQ_TRUE@cpufreq_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_CPUFREQ_TRUE@cpufreq_la_CFLAGS = -Wall -Werror
+@BUILD_MODULE_DF_TRUE@df_la_SOURCES = df.c
+@BUILD_MODULE_DF_TRUE@df_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_DF_TRUE@df_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_DISK_TRUE@disk_la_SOURCES = disk.c disk.h
 @BUILD_MODULE_DISK_TRUE@disk_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_DISK_TRUE@disk_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_SOURCES = hddtemp.c hddtemp.h
 @BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_HDDTEMP_TRUE@hddtemp_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_LOAD_TRUE@load_la_SOURCES = load.c load.h
 @BUILD_MODULE_LOAD_TRUE@load_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_LOAD_TRUE@load_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_MEMORY_TRUE@memory_la_SOURCES = memory.c memory.h
 @BUILD_MODULE_MEMORY_TRUE@memory_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_MEMORY_TRUE@memory_la_CFLAGS = -Wall -Werror
+@BUILD_MODULE_MYSQL_TRUE@mysql_la_SOURCES = mysql.c
+@BUILD_MODULE_MYSQL_TRUE@mysql_la_LDFLAGS = -module -avoid-version \
+@BUILD_MODULE_MYSQL_TRUE@	$(am__append_26)
+#mysql_la_LIBADD = -lmysqlclient
+@BUILD_MODULE_MYSQL_TRUE@mysql_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_NFS_TRUE@nfs_la_SOURCES = nfs.c nfs.h
 @BUILD_MODULE_NFS_TRUE@nfs_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_NFS_TRUE@nfs_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_PING_TRUE@ping_la_SOURCES = ping.c ping.h
 @BUILD_MODULE_PING_TRUE@ping_la_LDFLAGS = -module -avoid-version
 @BUILD_MODULE_PING_TRUE@ping_la_LIBADD = libping/libping.la
 @BUILD_MODULE_PING_TRUE@ping_la_DEPENDENCIES = libping/libping.la
+@BUILD_MODULE_PING_TRUE@ping_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_PROCESSES_TRUE@processes_la_SOURCES = processes.c processes.h
 @BUILD_MODULE_PROCESSES_TRUE@processes_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_PROCESSES_TRUE@processes_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_SENSORS_TRUE@sensors_la_SOURCES = sensors.c sensors.h
-@BUILD_MODULE_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version -lsensors
+@BUILD_MODULE_SENSORS_TRUE@sensors_la_LDFLAGS = -module -avoid-version \
+@BUILD_MODULE_SENSORS_TRUE@	$(am__append_39)
 @BUILD_MODULE_SENSORS_TRUE@sensors_la_LIBADD = -lsensors
+@BUILD_MODULE_SENSORS_TRUE@sensors_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_SERIAL_TRUE@serial_la_SOURCES = serial.c serial.h
 @BUILD_MODULE_SERIAL_TRUE@serial_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_SERIAL_TRUE@serial_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_SWAP_TRUE@swap_la_SOURCES = swap.c swap.h
 @BUILD_MODULE_SWAP_TRUE@swap_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_SWAP_TRUE@swap_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_TAPE_TRUE@tape_la_SOURCES = tape.c tape.h
 @BUILD_MODULE_TAPE_TRUE@tape_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_TAPE_TRUE@tape_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_TRAFFIC_TRUE@traffic_la_SOURCES = traffic.c traffic.h
 @BUILD_MODULE_TRAFFIC_TRUE@traffic_la_LDFLAGS = -module -avoid-version
+@BUILD_MODULE_TRAFFIC_TRUE@traffic_la_CFLAGS = -Wall -Werror
 @BUILD_MODULE_USERS_TRUE@users_la_SOURCES = users.c users.h
 @BUILD_MODULE_USERS_TRUE@users_la_LDFLAGS = -module -avoid-version
-@BUILD_MODULE_USERS_TRUE@users_la_CFLAGS = -Werror
-man_MANS = collectd.1
+@BUILD_MODULE_USERS_TRUE@users_la_CFLAGS = -Wall -Werror
+man_MANS = collectd.1 collectd.conf.5
 #collectd_1_SOURCES = collectd.pod
 EXTRA_DIST = $(man_MANS)
 all: config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
 .SUFFIXES:
-.SUFFIXES: .1 .c .lo .o .obj .pod
+.SUFFIXES: .1 .5 .c .lo .o .obj .pod
 $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
 	@for dep in $?; do \
 	  case '$(am__configure_deps)' in \
 	    *$$dep*) \
 	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
 		&& exit 0; \
@@ -537,20 +607,24 @@
 	  rm -f "$${dir}/so_locations"; \
 	done
 cpu.la: $(cpu_la_OBJECTS) $(cpu_la_DEPENDENCIES) 
 	$(LINK) $(am_cpu_la_rpath) $(cpu_la_LDFLAGS) $(cpu_la_OBJECTS) $(cpu_la_LIBADD) $(LIBS)
 cpufreq.la: $(cpufreq_la_OBJECTS) $(cpufreq_la_DEPENDENCIES) 
 	$(LINK) $(am_cpufreq_la_rpath) $(cpufreq_la_LDFLAGS) $(cpufreq_la_OBJECTS) $(cpufreq_la_LIBADD) $(LIBS)
+df.la: $(df_la_OBJECTS) $(df_la_DEPENDENCIES) 
+	$(LINK) $(am_df_la_rpath) $(df_la_LDFLAGS) $(df_la_OBJECTS) $(df_la_LIBADD) $(LIBS)
 disk.la: $(disk_la_OBJECTS) $(disk_la_DEPENDENCIES) 
 	$(LINK) $(am_disk_la_rpath) $(disk_la_LDFLAGS) $(disk_la_OBJECTS) $(disk_la_LIBADD) $(LIBS)
 hddtemp.la: $(hddtemp_la_OBJECTS) $(hddtemp_la_DEPENDENCIES) 
 	$(LINK) $(am_hddtemp_la_rpath) $(hddtemp_la_LDFLAGS) $(hddtemp_la_OBJECTS) $(hddtemp_la_LIBADD) $(LIBS)
 load.la: $(load_la_OBJECTS) $(load_la_DEPENDENCIES) 
 	$(LINK) $(am_load_la_rpath) $(load_la_LDFLAGS) $(load_la_OBJECTS) $(load_la_LIBADD) $(LIBS)
 memory.la: $(memory_la_OBJECTS) $(memory_la_DEPENDENCIES) 
 	$(LINK) $(am_memory_la_rpath) $(memory_la_LDFLAGS) $(memory_la_OBJECTS) $(memory_la_LIBADD) $(LIBS)
+mysql.la: $(mysql_la_OBJECTS) $(mysql_la_DEPENDENCIES) 
+	$(LINK) $(am_mysql_la_rpath) $(mysql_la_LDFLAGS) $(mysql_la_OBJECTS) $(mysql_la_LIBADD) $(LIBS)
 nfs.la: $(nfs_la_OBJECTS) $(nfs_la_DEPENDENCIES) 
 	$(LINK) $(am_nfs_la_rpath) $(nfs_la_LDFLAGS) $(nfs_la_OBJECTS) $(nfs_la_LIBADD) $(LIBS)
 ping.la: $(ping_la_OBJECTS) $(ping_la_DEPENDENCIES) 
 	$(LINK) $(am_ping_la_rpath) $(ping_la_LDFLAGS) $(ping_la_OBJECTS) $(ping_la_LIBADD) $(LIBS)
 processes.la: $(processes_la_OBJECTS) $(processes_la_DEPENDENCIES) 
 	$(LINK) $(am_processes_la_rpath) $(processes_la_LDFLAGS) $(processes_la_OBJECTS) $(processes_la_LIBADD) $(LIBS)
@@ -603,30 +677,33 @@
 
 distclean-compile:
 	-rm -f *.tab.c
 
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-collectd.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-common.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-configfile.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-multicast.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-plugin.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_debug.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/collectd-utils_mount.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpufreq.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape.Plo@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/traffic.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpu_la-cpu.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cpufreq_la-cpufreq.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/df_la-df.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/disk_la-disk.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/hddtemp_la-hddtemp.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/load_la-load.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/memory_la-memory.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mysql_la-mysql.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nfs_la-nfs.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ping_la-ping.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/processes_la-processes.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sensors_la-sensors.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/serial_la-serial.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/swap_la-swap.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tape_la-tape.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/traffic_la-traffic.Plo@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/users_la-users.Plo@am__quote@
 
 .c.o:
 @am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
@@ -644,12 +721,124 @@
 @am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
 
+cpu_la-cpu.lo: cpu.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpu_la_CFLAGS) $(CFLAGS) -MT cpu_la-cpu.lo -MD -MP -MF "$(DEPDIR)/cpu_la-cpu.Tpo" -c -o cpu_la-cpu.lo `test -f 'cpu.c' || echo '$(srcdir)/'`cpu.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/cpu_la-cpu.Tpo" "$(DEPDIR)/cpu_la-cpu.Plo"; else rm -f "$(DEPDIR)/cpu_la-cpu.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='cpu.c' object='cpu_la-cpu.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpu_la_CFLAGS) $(CFLAGS) -c -o cpu_la-cpu.lo `test -f 'cpu.c' || echo '$(srcdir)/'`cpu.c
+
+cpufreq_la-cpufreq.lo: cpufreq.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpufreq_la_CFLAGS) $(CFLAGS) -MT cpufreq_la-cpufreq.lo -MD -MP -MF "$(DEPDIR)/cpufreq_la-cpufreq.Tpo" -c -o cpufreq_la-cpufreq.lo `test -f 'cpufreq.c' || echo '$(srcdir)/'`cpufreq.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/cpufreq_la-cpufreq.Tpo" "$(DEPDIR)/cpufreq_la-cpufreq.Plo"; else rm -f "$(DEPDIR)/cpufreq_la-cpufreq.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='cpufreq.c' object='cpufreq_la-cpufreq.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(cpufreq_la_CFLAGS) $(CFLAGS) -c -o cpufreq_la-cpufreq.lo `test -f 'cpufreq.c' || echo '$(srcdir)/'`cpufreq.c
+
+df_la-df.lo: df.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(df_la_CFLAGS) $(CFLAGS) -MT df_la-df.lo -MD -MP -MF "$(DEPDIR)/df_la-df.Tpo" -c -o df_la-df.lo `test -f 'df.c' || echo '$(srcdir)/'`df.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/df_la-df.Tpo" "$(DEPDIR)/df_la-df.Plo"; else rm -f "$(DEPDIR)/df_la-df.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='df.c' object='df_la-df.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(df_la_CFLAGS) $(CFLAGS) -c -o df_la-df.lo `test -f 'df.c' || echo '$(srcdir)/'`df.c
+
+disk_la-disk.lo: disk.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -MT disk_la-disk.lo -MD -MP -MF "$(DEPDIR)/disk_la-disk.Tpo" -c -o disk_la-disk.lo `test -f 'disk.c' || echo '$(srcdir)/'`disk.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/disk_la-disk.Tpo" "$(DEPDIR)/disk_la-disk.Plo"; else rm -f "$(DEPDIR)/disk_la-disk.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='disk.c' object='disk_la-disk.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(disk_la_CFLAGS) $(CFLAGS) -c -o disk_la-disk.lo `test -f 'disk.c' || echo '$(srcdir)/'`disk.c
+
+hddtemp_la-hddtemp.lo: hddtemp.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(hddtemp_la_CFLAGS) $(CFLAGS) -MT hddtemp_la-hddtemp.lo -MD -MP -MF "$(DEPDIR)/hddtemp_la-hddtemp.Tpo" -c -o hddtemp_la-hddtemp.lo `test -f 'hddtemp.c' || echo '$(srcdir)/'`hddtemp.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/hddtemp_la-hddtemp.Tpo" "$(DEPDIR)/hddtemp_la-hddtemp.Plo"; else rm -f "$(DEPDIR)/hddtemp_la-hddtemp.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='hddtemp.c' object='hddtemp_la-hddtemp.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(hddtemp_la_CFLAGS) $(CFLAGS) -c -o hddtemp_la-hddtemp.lo `test -f 'hddtemp.c' || echo '$(srcdir)/'`hddtemp.c
+
+load_la-load.lo: load.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(load_la_CFLAGS) $(CFLAGS) -MT load_la-load.lo -MD -MP -MF "$(DEPDIR)/load_la-load.Tpo" -c -o load_la-load.lo `test -f 'load.c' || echo '$(srcdir)/'`load.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/load_la-load.Tpo" "$(DEPDIR)/load_la-load.Plo"; else rm -f "$(DEPDIR)/load_la-load.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='load.c' object='load_la-load.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(load_la_CFLAGS) $(CFLAGS) -c -o load_la-load.lo `test -f 'load.c' || echo '$(srcdir)/'`load.c
+
+memory_la-memory.lo: memory.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memory_la_CFLAGS) $(CFLAGS) -MT memory_la-memory.lo -MD -MP -MF "$(DEPDIR)/memory_la-memory.Tpo" -c -o memory_la-memory.lo `test -f 'memory.c' || echo '$(srcdir)/'`memory.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/memory_la-memory.Tpo" "$(DEPDIR)/memory_la-memory.Plo"; else rm -f "$(DEPDIR)/memory_la-memory.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='memory.c' object='memory_la-memory.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(memory_la_CFLAGS) $(CFLAGS) -c -o memory_la-memory.lo `test -f 'memory.c' || echo '$(srcdir)/'`memory.c
+
+mysql_la-mysql.lo: mysql.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -MT mysql_la-mysql.lo -MD -MP -MF "$(DEPDIR)/mysql_la-mysql.Tpo" -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/mysql_la-mysql.Tpo" "$(DEPDIR)/mysql_la-mysql.Plo"; else rm -f "$(DEPDIR)/mysql_la-mysql.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='mysql.c' object='mysql_la-mysql.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(mysql_la_CFLAGS) $(CFLAGS) -c -o mysql_la-mysql.lo `test -f 'mysql.c' || echo '$(srcdir)/'`mysql.c
+
+nfs_la-nfs.lo: nfs.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nfs_la_CFLAGS) $(CFLAGS) -MT nfs_la-nfs.lo -MD -MP -MF "$(DEPDIR)/nfs_la-nfs.Tpo" -c -o nfs_la-nfs.lo `test -f 'nfs.c' || echo '$(srcdir)/'`nfs.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/nfs_la-nfs.Tpo" "$(DEPDIR)/nfs_la-nfs.Plo"; else rm -f "$(DEPDIR)/nfs_la-nfs.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='nfs.c' object='nfs_la-nfs.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(nfs_la_CFLAGS) $(CFLAGS) -c -o nfs_la-nfs.lo `test -f 'nfs.c' || echo '$(srcdir)/'`nfs.c
+
+ping_la-ping.lo: ping.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ping_la_CFLAGS) $(CFLAGS) -MT ping_la-ping.lo -MD -MP -MF "$(DEPDIR)/ping_la-ping.Tpo" -c -o ping_la-ping.lo `test -f 'ping.c' || echo '$(srcdir)/'`ping.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/ping_la-ping.Tpo" "$(DEPDIR)/ping_la-ping.Plo"; else rm -f "$(DEPDIR)/ping_la-ping.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='ping.c' object='ping_la-ping.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(ping_la_CFLAGS) $(CFLAGS) -c -o ping_la-ping.lo `test -f 'ping.c' || echo '$(srcdir)/'`ping.c
+
+processes_la-processes.lo: processes.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(processes_la_CFLAGS) $(CFLAGS) -MT processes_la-processes.lo -MD -MP -MF "$(DEPDIR)/processes_la-processes.Tpo" -c -o processes_la-processes.lo `test -f 'processes.c' || echo '$(srcdir)/'`processes.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/processes_la-processes.Tpo" "$(DEPDIR)/processes_la-processes.Plo"; else rm -f "$(DEPDIR)/processes_la-processes.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='processes.c' object='processes_la-processes.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(processes_la_CFLAGS) $(CFLAGS) -c -o processes_la-processes.lo `test -f 'processes.c' || echo '$(srcdir)/'`processes.c
+
+sensors_la-sensors.lo: sensors.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -MT sensors_la-sensors.lo -MD -MP -MF "$(DEPDIR)/sensors_la-sensors.Tpo" -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/sensors_la-sensors.Tpo" "$(DEPDIR)/sensors_la-sensors.Plo"; else rm -f "$(DEPDIR)/sensors_la-sensors.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='sensors.c' object='sensors_la-sensors.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(sensors_la_CFLAGS) $(CFLAGS) -c -o sensors_la-sensors.lo `test -f 'sensors.c' || echo '$(srcdir)/'`sensors.c
+
+serial_la-serial.lo: serial.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(serial_la_CFLAGS) $(CFLAGS) -MT serial_la-serial.lo -MD -MP -MF "$(DEPDIR)/serial_la-serial.Tpo" -c -o serial_la-serial.lo `test -f 'serial.c' || echo '$(srcdir)/'`serial.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/serial_la-serial.Tpo" "$(DEPDIR)/serial_la-serial.Plo"; else rm -f "$(DEPDIR)/serial_la-serial.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='serial.c' object='serial_la-serial.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(serial_la_CFLAGS) $(CFLAGS) -c -o serial_la-serial.lo `test -f 'serial.c' || echo '$(srcdir)/'`serial.c
+
+swap_la-swap.lo: swap.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(swap_la_CFLAGS) $(CFLAGS) -MT swap_la-swap.lo -MD -MP -MF "$(DEPDIR)/swap_la-swap.Tpo" -c -o swap_la-swap.lo `test -f 'swap.c' || echo '$(srcdir)/'`swap.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/swap_la-swap.Tpo" "$(DEPDIR)/swap_la-swap.Plo"; else rm -f "$(DEPDIR)/swap_la-swap.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='swap.c' object='swap_la-swap.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(swap_la_CFLAGS) $(CFLAGS) -c -o swap_la-swap.lo `test -f 'swap.c' || echo '$(srcdir)/'`swap.c
+
+tape_la-tape.lo: tape.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(tape_la_CFLAGS) $(CFLAGS) -MT tape_la-tape.lo -MD -MP -MF "$(DEPDIR)/tape_la-tape.Tpo" -c -o tape_la-tape.lo `test -f 'tape.c' || echo '$(srcdir)/'`tape.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/tape_la-tape.Tpo" "$(DEPDIR)/tape_la-tape.Plo"; else rm -f "$(DEPDIR)/tape_la-tape.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='tape.c' object='tape_la-tape.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(tape_la_CFLAGS) $(CFLAGS) -c -o tape_la-tape.lo `test -f 'tape.c' || echo '$(srcdir)/'`tape.c
+
+traffic_la-traffic.lo: traffic.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(traffic_la_CFLAGS) $(CFLAGS) -MT traffic_la-traffic.lo -MD -MP -MF "$(DEPDIR)/traffic_la-traffic.Tpo" -c -o traffic_la-traffic.lo `test -f 'traffic.c' || echo '$(srcdir)/'`traffic.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/traffic_la-traffic.Tpo" "$(DEPDIR)/traffic_la-traffic.Plo"; else rm -f "$(DEPDIR)/traffic_la-traffic.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='traffic.c' object='traffic_la-traffic.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(traffic_la_CFLAGS) $(CFLAGS) -c -o traffic_la-traffic.lo `test -f 'traffic.c' || echo '$(srcdir)/'`traffic.c
+
 users_la-users.lo: users.c
 @am__fastdepCC_TRUE@	if $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(users_la_CFLAGS) $(CFLAGS) -MT users_la-users.lo -MD -MP -MF "$(DEPDIR)/users_la-users.Tpo" -c -o users_la-users.lo `test -f 'users.c' || echo '$(srcdir)/'`users.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/users_la-users.Tpo" "$(DEPDIR)/users_la-users.Plo"; else rm -f "$(DEPDIR)/users_la-users.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='users.c' object='users_la-users.lo' libtool=yes @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(users_la_CFLAGS) $(CFLAGS) -c -o users_la-users.lo `test -f 'users.c' || echo '$(srcdir)/'`users.c
@@ -735,12 +924,26 @@
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-plugin.obj -MD -MP -MF "$(DEPDIR)/collectd-plugin.Tpo" -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-plugin.Tpo" "$(DEPDIR)/collectd-plugin.Po"; else rm -f "$(DEPDIR)/collectd-plugin.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='plugin.c' object='collectd-plugin.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-plugin.obj `if test -f 'plugin.c'; then $(CYGPATH_W) 'plugin.c'; else $(CYGPATH_W) '$(srcdir)/plugin.c'; fi`
 
+collectd-configfile.o: configfile.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-configfile.o -MD -MP -MF "$(DEPDIR)/collectd-configfile.Tpo" -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-configfile.Tpo" "$(DEPDIR)/collectd-configfile.Po"; else rm -f "$(DEPDIR)/collectd-configfile.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='configfile.c' object='collectd-configfile.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-configfile.o `test -f 'configfile.c' || echo '$(srcdir)/'`configfile.c
+
+collectd-configfile.obj: configfile.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -MT collectd-configfile.obj -MD -MP -MF "$(DEPDIR)/collectd-configfile.Tpo" -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/collectd-configfile.Tpo" "$(DEPDIR)/collectd-configfile.Po"; else rm -f "$(DEPDIR)/collectd-configfile.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='configfile.c' object='collectd-configfile.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(collectd_CPPFLAGS) $(CPPFLAGS) $(collectd_CFLAGS) $(CFLAGS) -c -o collectd-configfile.obj `if test -f 'configfile.c'; then $(CYGPATH_W) 'configfile.c'; else $(CYGPATH_W) '$(srcdir)/configfile.c'; fi`
+
 mostlyclean-libtool:
 	-rm -f *.lo
 
 clean-libtool:
 	-rm -rf .libs _libs
 
@@ -789,12 +992,57 @@
 	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
 	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
 	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
 	  echo " rm -f '$(DESTDIR)$(man1dir)/$$inst'"; \
 	  rm -f "$(DESTDIR)$(man1dir)/$$inst"; \
 	done
+install-man5: $(man5_MANS) $(man_MANS)
+	@$(NORMAL_INSTALL)
+	test -z "$(man5dir)" || $(mkdir_p) "$(DESTDIR)$(man5dir)"
+	@list='$(man5_MANS) $(dist_man5_MANS) $(nodist_man5_MANS)'; \
+	l2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \
+	for i in $$l2; do \
+	  case "$$i" in \
+	    *.5*) list="$$list $$i" ;; \
+	  esac; \
+	done; \
+	for i in $$list; do \
+	  if test -f $(srcdir)/$$i; then file=$(srcdir)/$$i; \
+	  else file=$$i; fi; \
+	  ext=`echo $$i | sed -e 's/^.*\\.//'`; \
+	  case "$$ext" in \
+	    5*) ;; \
+	    *) ext='5' ;; \
+	  esac; \
+	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
+	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
+	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
+	  echo " $(INSTALL_DATA) '$$file' '$(DESTDIR)$(man5dir)/$$inst'"; \
+	  $(INSTALL_DATA) "$$file" "$(DESTDIR)$(man5dir)/$$inst"; \
+	done
+uninstall-man5:
+	@$(NORMAL_UNINSTALL)
+	@list='$(man5_MANS) $(dist_man5_MANS) $(nodist_man5_MANS)'; \
+	l2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \
+	for i in $$l2; do \
+	  case "$$i" in \
+	    *.5*) list="$$list $$i" ;; \
+	  esac; \
+	done; \
+	for i in $$list; do \
+	  ext=`echo $$i | sed -e 's/^.*\\.//'`; \
+	  case "$$ext" in \
+	    5*) ;; \
+	    *) ext='5' ;; \
+	  esac; \
+	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
+	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
+	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
+	  echo " rm -f '$(DESTDIR)$(man5dir)/$$inst'"; \
+	  rm -f "$(DESTDIR)$(man5dir)/$$inst"; \
+	done
 
 # This directory's subdirectories are mostly independent; you can cd
 # into them and run `make' without going through this Makefile.
 # To change the values of `make' variables: instead of editing Makefiles,
 # (1) if the variable is set in `config.status', edit `config.status'
 #     (which will cause the Makefiles to be regenerated when you run `make');
@@ -969,13 +1217,13 @@
 	done
 check-am: all-am
 check: check-recursive
 all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) $(MANS) config.h
 installdirs: installdirs-recursive
 installdirs-am:
-	for dir in "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(sbindir)" "$(DESTDIR)$(man1dir)"; do \
+	for dir in "$(DESTDIR)$(pkglibdir)" "$(DESTDIR)$(sbindir)" "$(DESTDIR)$(man1dir)" "$(DESTDIR)$(man5dir)"; do \
 	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
 	done
 install: install-recursive
 install-exec: install-exec-recursive
 install-data: install-data-recursive
 uninstall: uninstall-recursive
@@ -1023,13 +1271,13 @@
 install-data-am: install-man
 
 install-exec-am: install-pkglibLTLIBRARIES install-sbinPROGRAMS
 
 install-info: install-info-recursive
 
-install-man: install-man1
+install-man: install-man1 install-man5
 
 installcheck-am:
 
 maintainer-clean: maintainer-clean-recursive
 	-rm -rf ./$(DEPDIR)
 	-rm -f Makefile
@@ -1050,31 +1298,34 @@
 
 uninstall-am: uninstall-info-am uninstall-man \
 	uninstall-pkglibLTLIBRARIES uninstall-sbinPROGRAMS
 
 uninstall-info: uninstall-info-recursive
 
-uninstall-man: uninstall-man1
+uninstall-man: uninstall-man1 uninstall-man5
 
 .PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am check check-am \
 	clean clean-generic clean-libtool clean-pkglibLTLIBRARIES \
 	clean-recursive clean-sbinPROGRAMS ctags ctags-recursive \
 	distclean distclean-compile distclean-generic distclean-hdr \
 	distclean-libtool distclean-recursive distclean-tags distdir \
 	dvi dvi-am html html-am info info-am install install-am \
 	install-data install-data-am install-exec install-exec-am \
 	install-info install-info-am install-man install-man1 \
-	install-pkglibLTLIBRARIES install-sbinPROGRAMS install-strip \
-	installcheck installcheck-am installdirs installdirs-am \
-	maintainer-clean maintainer-clean-generic \
+	install-man5 install-pkglibLTLIBRARIES install-sbinPROGRAMS \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am maintainer-clean maintainer-clean-generic \
 	maintainer-clean-recursive mostlyclean mostlyclean-compile \
 	mostlyclean-generic mostlyclean-libtool mostlyclean-recursive \
 	pdf pdf-am ps ps-am tags tags-recursive uninstall uninstall-am \
-	uninstall-info-am uninstall-man uninstall-man1 \
+	uninstall-info-am uninstall-man uninstall-man1 uninstall-man5 \
 	uninstall-pkglibLTLIBRARIES uninstall-sbinPROGRAMS
 
 
 .pod.1:
 	pod2man --release=$(VERSION) --center=$(PACKAGE) $< >$@
+
+.pod.5:
+	pod2man --section=5 --release=$(VERSION) --center=$(PACKAGE) $< >$@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/memory.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/memory.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/memory.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/memory.c	2006-01-20 17:51:58.000000000 +0800
@@ -17,19 +17,23 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "memory.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_MEMORY
-#define MODULE_NAME "memory"
+#if defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT)
+# define MEMORY_HAVE_READ 1
+#else
+# define MEMORY_HAVE_READ 0
+#endif
 
-#include "plugin.h"
-#include "common.h"
+#define MODULE_NAME "memory"
 
 static char *memory_file = "memory.rrd";
 
 /* 9223372036854775807 == LLONG_MAX */
 static char *ds_def[] =
 {
@@ -43,31 +47,32 @@
 
 #ifdef HAVE_LIBKSTAT
 static int pagesize;
 static kstat_t *ksp;
 #endif /* HAVE_LIBKSTAT */
 
-void memory_init (void)
+static void memory_init (void)
 {
 #ifdef HAVE_LIBKSTAT
 	/* getpagesize(3C) tells me this does not fail.. */
 	pagesize = getpagesize ();
 	if (get_kstat (&ksp, "unix", 0, "system_pages"))
 		ksp = NULL;
 #endif /* HAVE_LIBKSTAT */
 
 	return;
 }
 
-void memory_write (char *host, char *inst, char *val)
+static void memory_write (char *host, char *inst, char *val)
 {
 	rrd_update_file (host, memory_file, val, ds_def, ds_num);
 }
 
+#if MEMORY_HAVE_READ
 #define BUFSIZE 512
-void memory_submit (long long mem_used, long long mem_buffered,
+static void memory_submit (long long mem_used, long long mem_buffered,
 		long long mem_cached, long long mem_free)
 {
 	char buf[BUFSIZE];
 
 	if (snprintf (buf, BUFSIZE, "%u:%lli:%lli:%lli:%lli",
 				(unsigned int) curtime, mem_used, mem_free,
@@ -75,13 +80,13 @@
 		return;
 
 	plugin_submit (MODULE_NAME, "-", buf);
 }
 #undef BUFSIZE
 
-void memory_read (void)
+static void memory_read (void)
 {
 #ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 	
 	char *fields[8];
@@ -160,14 +165,16 @@
 	sg_mem_stats *ios;
 
 	if ((ios = sg_get_mem_stats ()) != NULL)
 		memory_submit (ios->used, 0LL, ios->cache, ios->free);
 #endif /* HAVE_LIBSTATGRAB */
 }
+#else
+# define memory_read NULL
+#endif /* MEMORY_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, memory_init, memory_read, memory_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_MEMORY */
Only in /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src: mysql.c
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/nfs.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/nfs.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/nfs.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/nfs.c	2006-01-20 17:51:58.000000000 +0800
@@ -18,19 +18,23 @@
  *
  * Authors:
  *   Jason Pepas <cell at ices.utexas.edu>
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "nfs.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_NFS
 #define MODULE_NAME "nfs"
 
-#include "plugin.h"
-#include "common.h"
+#if defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT)
+# define NFS_HAVE_READ 1
+#else
+# define NFS_HAVE_READ 0
+#endif
 
 static char *nfs2_procedures_file  = "nfs2_procedures-%s.rrd";
 static char *nfs3_procedures_file  = "nfs3_procedures-%s.rrd";
 
 /*
 see /proc/net/rpc/nfs
@@ -138,13 +142,13 @@
 static kstat_t *nfs4_ksp_client;
 static kstat_t *nfs4_ksp_server;
 #endif
 
 /* Possibly TODO: NFSv4 statistics */
 
-void nfs_init (void)
+static void nfs_init (void)
 {
 #ifdef HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 
 	nfs2_ksp_client = NULL;
 	nfs2_ksp_server = NULL;
@@ -177,35 +181,36 @@
 #endif
 
 	return;
 }
 
 #define BUFSIZE 1024
-void nfs2_procedures_write (char *host, char *inst, char *val)
+static void nfs2_procedures_write (char *host, char *inst, char *val)
 {
 	char filename[BUFSIZE];
 
 	if (snprintf (filename, BUFSIZE, nfs2_procedures_file, inst) > BUFSIZE)
 		return;
 
 	rrd_update_file (host, filename, val, nfs2_procedures_ds_def,
 			nfs2_procedures_ds_num);
 }
 
-void nfs3_procedures_write (char *host, char *inst, char *val)
+static void nfs3_procedures_write (char *host, char *inst, char *val)
 {
 	char filename[BUFSIZE];
 
 	if (snprintf (filename, BUFSIZE, nfs3_procedures_file, inst) > BUFSIZE)
 		return;
 
 	rrd_update_file (host, filename, val, nfs3_procedures_ds_def,
 			nfs3_procedures_ds_num);
 }
 
-void nfs2_procedures_submit (unsigned long long *val, char *inst)
+#if NFS_HAVE_READ
+static void nfs2_procedures_submit (unsigned long long *val, char *inst)
 {
 	char buf[BUFSIZE];
 	int retval = 0;
 
 	retval = snprintf (buf, BUFSIZE, "%u:%llu:%llu:%llu:%llu:%llu:%llu:"
 			"%llu:%llu:%llu:%llu:%llu:%llu:%llu:%llu:%llu:"
@@ -224,13 +229,13 @@
 		return;
 	}
 
 	plugin_submit ("nfs2_procedures", inst, buf);
 }
 
-void nfs3_procedures_submit (unsigned long long *val, char *inst)
+static void nfs3_procedures_submit (unsigned long long *val, char *inst)
 {
 	char buf[BUFSIZE];
 	int retval = 0;
 
 	retval = snprintf(buf, BUFSIZE, "%u:%llu:%llu:%llu:%llu:%llu:%llu:"
 			"%llu:%llu:%llu:%llu:%llu:%llu:%llu:%llu:%llu:"
@@ -248,15 +253,16 @@
 		syslog (LOG_ERR, "nfs: snprintf's format failed: %s", strerror (errno));
 		return;
 	}
 
 	plugin_submit("nfs3_procedures", inst, buf);
 }
+#endif /* NFS_HAVE_READ */
 
 #if defined(KERNEL_LINUX)
-void nfs_read_stats_file (FILE *fh, char *inst)
+static void nfs_read_stats_file (FILE *fh, char *inst)
 {
 	char buffer[BUFSIZE];
 
 	char *fields[48];
 	int numfields = 0;
 
@@ -321,13 +327,13 @@
 	}
 }
 #endif /* defined(KERNEL_LINUX) */
 #undef BUFSIZE
 
 #ifdef HAVE_LIBKSTAT
-void nfs2_read_kstat (kstat_t *ksp, char *inst)
+static void nfs2_read_kstat (kstat_t *ksp, char *inst)
 {
 	unsigned long long values[18];
 
 	values[0] = get_kstat_value (ksp, "null");
 	values[1] = get_kstat_value (ksp, "getattr");
 	values[2] = get_kstat_value (ksp, "setattr");
@@ -348,13 +354,14 @@
 	values[17] = get_kstat_value (ksp, "statfs");
 
 	nfs2_procedures_submit (values, inst);
 }
 #endif
 
-void nfs_read (void)
+#if NFS_HAVE_READ
+static void nfs_read (void)
 {
 #if defined(KERNEL_LINUX)
 	FILE *fh;
 
 	if ((fh = fopen ("/proc/net/rpc/nfs", "r")) != NULL)
 	{
@@ -374,16 +381,18 @@
 	if (nfs2_ksp_client != NULL)
 		nfs2_read_kstat (nfs2_ksp_client, "client");
 	if (nfs2_ksp_server != NULL)
 		nfs2_read_kstat (nfs2_ksp_server, "server");
 #endif /* defined(HAVE_LIBKSTAT) */
 }
+#else
+# define nfs_read NULL
+#endif /* NFS_HAVE_READ */
 
 void module_register (void)
 {
-    plugin_register (MODULE_NAME, nfs_init, nfs_read, NULL);
-    plugin_register ("nfs2_procedures", NULL, NULL, nfs2_procedures_write);
-    plugin_register ("nfs3_procedures", NULL, NULL, nfs3_procedures_write);
+	plugin_register (MODULE_NAME, nfs_init, nfs_read, NULL);
+	plugin_register ("nfs2_procedures", NULL, NULL, nfs2_procedures_write);
+	plugin_register ("nfs3_procedures", NULL, NULL, nfs3_procedures_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_LOAD */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/ping.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/ping.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/ping.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/ping.c	2006-01-20 17:51:59.000000000 +0800
@@ -17,39 +17,47 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "ping.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
+#include "configfile.h"
 
-#if COLLECT_PING
 #define MODULE_NAME "ping"
 
-#include "plugin.h"
-#include "common.h"
-
 #include <netinet/in.h>
 #include "libping/ping.h"
 
-extern char *pinghosts[MAX_PINGHOSTS];
-extern int   num_pinghosts;
+#define MAX_PINGHOSTS 32
+
+static char *hosts[MAX_PINGHOSTS];
 static int   hosts_flags[MAX_PINGHOSTS];
 static int   hosts_disable[MAX_PINGHOSTS];
 static int   hosts_backoff[MAX_PINGHOSTS];
+static int   num_pinghosts;
 
 static char *file_template = "ping-%s.rrd";
 
 static char *ds_def[] = 
 {
 	"DS:ping:GAUGE:25:0:65535",
 	NULL
 };
 static int ds_num = 1;
 
-void ping_init (void)
+static char *config_keys[] =
+{
+	"Host",
+	NULL
+};
+static int config_keys_num = 1;
+
+static void ping_init (void)
 {
 	int i;
 
 	for (i = 0; i < MAX_PINGHOSTS; i++)
 	{
 		hosts_flags[i] = 0;
@@ -57,13 +65,35 @@
 		hosts_backoff[i] = 1;
 	}
 
 	return;
 }
 
-void ping_write (char *host, char *inst, char *val)
+static int ping_config (char *key, char *value)
+{
+	if (strcasecmp (key, "host"))
+	{
+		return (-1);
+	}
+	else if (num_pinghosts >= MAX_PINGHOSTS)
+	{
+		return (1);
+	}
+	else if ((hosts[num_pinghosts] = strdup (value)) == NULL)
+	{
+		return (2);
+	}
+	else
+	{
+		hosts_flags[num_pinghosts] = 0;
+		num_pinghosts++;
+		return (0);
+	}
+}
+
+static void ping_write (char *host, char *inst, char *val)
 {
 	char file[512];
 	int status;
 
 	status = snprintf (file, 512, file_template, inst);
 	if (status < 1)
@@ -72,78 +102,78 @@
 		return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
 #define BUFSIZE 256
-void ping_submit (int ping_time, char *host)
+static void ping_submit (int ping_time, char *host)
 {
 	char buf[BUFSIZE];
 
 	if (snprintf (buf, BUFSIZE, "%u:%u", (unsigned int) curtime, ping_time) >= BUFSIZE)
 		return;
 
 	plugin_submit (MODULE_NAME, host, buf);
 }
 #undef BUFSIZE
 
-void ping_read (void)
+static void ping_read (void)
 {
 	int ping;
 	int i;
 
 	for (i = 0; i < num_pinghosts; i++)
 	{
 		if (hosts_disable[i] > 0)
 		{
 			hosts_disable[i]--;
 			continue;
 		}
 		
-		ping = tpinghost (pinghosts[i]);
+		ping = tpinghost (hosts[i]);
 
 		switch (ping)
 		{
 			case 0:
 				if (!(hosts_flags[i] & 0x01))
-					syslog (LOG_WARNING, "ping %s: Connection timed out.", pinghosts[i]);
+					syslog (LOG_WARNING, "ping %s: Connection timed out.", hosts[i]);
 				hosts_flags[i] |= 0x01;
 				break;
 
 			case -1:
 				if (!(hosts_flags[i] & 0x02))
-					syslog (LOG_WARNING, "ping %s: Host or service is not reachable.", pinghosts[i]);
+					syslog (LOG_WARNING, "ping %s: Host or service is not reachable.", hosts[i]);
 				hosts_flags[i] |= 0x02;
 				break;
 
 			case -2:
 				syslog (LOG_ERR, "ping %s: Socket error. Ping will be disabled for %i iteration(s).",
-						pinghosts[i], hosts_backoff[i]);
+						hosts[i], hosts_backoff[i]);
 				hosts_disable[i] = hosts_backoff[i];
 				if (hosts_backoff[i] < 8192) /* 22 3/4 hours */
 					hosts_backoff[i] *= 2;
 				hosts_flags[i] |= 0x10;
 				break;
 
 			case -3:
 				if (!(hosts_flags[i] & 0x04))
-					syslog (LOG_WARNING, "ping %s: Connection refused.", pinghosts[i]);
+					syslog (LOG_WARNING, "ping %s: Connection refused.", hosts[i]);
 				hosts_flags[i] |= 0x04;
 				break;
 
 			default:
 				if (hosts_flags[i] != 0x00)
-					syslog (LOG_NOTICE, "ping %s: Back to normal: %ims.", pinghosts[i], ping);
+					syslog (LOG_NOTICE, "ping %s: Back to normal: %ims.", hosts[i], ping);
 				hosts_flags[i] = 0x00;
 				hosts_backoff[i] = 1;
-				ping_submit (ping, pinghosts[i]);
+				ping_submit (ping, hosts[i]);
 		} /* switch (ping) */
 	} /* for (i = 0; i < num_pinghosts; i++) */
 }
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, ping_init, ping_read, ping_write);
+	cf_register (MODULE_NAME, ping_config, config_keys, config_keys_num);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_PING */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/plugin.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/plugin.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/plugin.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/plugin.c	2006-01-20 17:51:59.000000000 +0800
@@ -39,12 +39,33 @@
 static plugin_t *first_plugin = NULL;
 
 #ifdef HAVE_LIBRRD
 extern int operating_mode;
 #endif
 
+static char *plugindir = NULL;
+
+char *plugin_get_dir (void)
+{
+	if (plugindir == NULL)
+		return (PLUGINDIR);
+	else
+		return (plugindir);
+}
+
+void plugin_set_dir (const char *dir)
+{
+	if (plugindir != NULL)
+		free (plugindir);
+
+	if (dir == NULL)
+		plugindir = NULL;
+	else if ((plugindir = strdup (dir)) == NULL)
+		syslog (LOG_ERR, "strdup: %s", strerror (errno));
+}
+
 /*
  * Returns the number of plugins registered
  */
 int plugin_count (void)
 {
 	int i;
@@ -56,13 +77,13 @@
 	return (i);
 }
 
 /*
  * Returns the plugins with the type `type' or NULL if it's not found.
  */
-plugin_t *plugin_search (char *type)
+plugin_t *plugin_search (const char *type)
 {
 	plugin_t *ret;
 
 	if (type == NULL)
 		return (NULL);
 
@@ -71,74 +92,161 @@
 			break;
 
 	return (ret);
 }
 
 /*
- * (Try to) load the shared object `name'. Won't complain if it isn't a shared
+ * Returns true if the plugin is loaded (i.e. `exists') and false otherwise.
+ * This is used in `configfile.c' to skip sections that are not needed..
+ */
+int plugin_exists (char *type)
+{
+	if (plugin_search (type) == NULL)
+		return (0);
+	else
+		return (1);
+}
+
+/*
+ * (Try to) load the shared object `file'. Won't complain if it isn't a shared
  * object, but it will bitch about a shared object not having a
  * ``module_register'' symbol..
  */
-void plugin_load (char *name)
+int plugin_load_file (char *file)
 {
 	lt_dlhandle dlh;
 	void (*reg_handle) (void);
 
 	lt_dlinit ();
 	lt_dlerror (); /* clear errors */
 
-	if ((dlh = lt_dlopen (name)) == NULL)
-		return;
+	if ((dlh = lt_dlopen (file)) == NULL)
+		return (1);
 
 	if ((reg_handle = lt_dlsym (dlh, "module_register")) == NULL)
 	{
 		syslog (LOG_WARNING, "Couldn't find symbol ``module_register'' in ``%s'': %s\n",
-				name, lt_dlerror ());
+				file, lt_dlerror ());
 		lt_dlclose (dlh);
-		return;
+		return (-1);
 	}
 
 	(*reg_handle) ();
+
+	return (0);
+}
+
+#define BUFSIZE 512
+int plugin_load (const char *type)
+{
+	DIR  *dh;
+	char *dir;
+	char  filename[BUFSIZE];
+	char  typename[BUFSIZE];
+	int   typename_len;
+	int   ret;
+	struct stat    statbuf;
+	struct dirent *de;
+
+	dir = plugin_get_dir ();
+	ret = 1;
+
+	/* don't load twice */
+	if (plugin_search (type) != NULL)
+		return (0);
+
+	/* `cpu' should not match `cpufreq'. To solve this we add `.so' to the
+	 * type when matching the filename */
+	if (snprintf (typename, BUFSIZE, "%s.so", type) >= BUFSIZE)
+	{
+		syslog (LOG_WARNING, "snprintf: truncated: `%s.so'", type);
+		return (-1);
+	}
+	typename_len = strlen (typename);
+
+	if ((dh = opendir (dir)) == NULL)
+	{
+		syslog (LOG_ERR, "opendir (%s): %s", dir, strerror (errno));
+		return (-1);
+	}
+
+	while ((de = readdir (dh)) != NULL)
+	{
+		if (strncasecmp (de->d_name, typename, typename_len))
+			continue;
+
+		if (snprintf (filename, BUFSIZE, "%s/%s", dir, de->d_name) >= BUFSIZE)
+		{
+			syslog (LOG_WARNING, "snprintf: truncated: `%s/%s'", dir, de->d_name);
+			continue;
+		}
+
+		if (lstat (filename, &statbuf) == -1)
+		{
+			syslog (LOG_WARNING, "stat %s: %s", filename, strerror (errno));
+			continue;
+		}
+		else if (!S_ISREG (statbuf.st_mode))
+		{
+			/* don't follow symlinks */
+			continue;
+		}
+
+		if (plugin_load_file (filename) == 0)
+		{
+			/* success */
+			ret = 0;
+			break;
+		}
+	}
+
+	closedir (dh);
+
+	return (ret);
 }
 
 /*
  * (Try to) load all plugins in `dir'. Returns the number of loaded plugins..
  */
-#define BUFSIZE 512
 int plugin_load_all (char *dir)
 {
 	DIR *dh;
 	struct dirent *de;
 	char filename[BUFSIZE];
 	struct stat statbuf;
 
 	if (dir == NULL)
-		dir = PLUGINDIR;
+		dir = plugin_get_dir ();
+	else
+		plugin_set_dir (dir);
 
 	if ((dh = opendir (dir)) == NULL)
 	{
-		fprintf (stderr, "Error: Cannot read plugin directory `%s'\n", dir);
+		syslog (LOG_ERR, "opendir (%s): %s", dir, strerror (errno));
 		return (0);
 	}
 
 	while ((de = readdir (dh)) != NULL)
 	{
 		if (snprintf (filename, BUFSIZE, "%s/%s", dir, de->d_name) >= BUFSIZE)
+		{
+			syslog (LOG_WARNING, "snprintf: truncated: %s/%s", dir, de->d_name);
 			continue;
+		}
 
 		if (lstat (filename, &statbuf) == -1)
 		{
 			syslog (LOG_WARNING, "stat %s: %s", filename, strerror (errno));
 			continue;
 		}
 		else if (!S_ISREG (statbuf.st_mode))
 		{
 			continue;
 		}
 
-		plugin_load (filename);
+		plugin_load_file (filename);
 	}
 
 	closedir (dh);
 
 	return (plugin_count ());
 }
@@ -178,12 +286,18 @@
 {
 	plugin_t *p;
 
 	if (plugin_search (type) != NULL)
 		return;
 
+#ifdef HAVE_LIBRRD
+	if ((operating_mode == MODE_LOCAL) || (operating_mode == MODE_CLIENT))
+#endif
+		if ((init != NULL) && (read == NULL))
+			syslog (LOG_NOTICE, "Plugin `%s' doesn't provide a read function.", type);
+
 	if ((p = (plugin_t *) malloc (sizeof (plugin_t))) == NULL)
 		return;
 
 	if ((p->type = strdup (type)) == NULL)
 	{
 		free (p);
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/plugin.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/plugin.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/plugin.h	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/plugin.h	2006-01-20 17:51:59.000000000 +0800
@@ -20,12 +20,77 @@
  *   Florian octo Forster <octo at verplant.org>
  **/
 
 #ifndef PLUGIN_H
 #define PLUGIN_H
 
+/*
+ * NAME
+ *  plugin_set_dir
+ *
+ * DESCRIPTION
+ *  Sets the current `plugindir'
+ *
+ * ARGUMENTS
+ *  `dir'       Path to the plugin directory
+ *
+ * NOTES
+ *  If `dir' is NULL the compiled in default `PLUGINDIR' is used.
+ */
+void plugin_set_dir (const char *dir);
+
+/*
+ * NAME
+ *  plugin_count
+ *
+ * DESCRIPTION
+ *  trivial
+ *
+ * RETURN VALUE
+ *  The number of currently loaded plugins
+ */
+int plugin_count (void);
+
+/*
+ * NAME
+ *  plugin_exists
+ *
+ * DESCRIPTION
+ *  trivial
+ *
+ * ARGUMENTS
+ *  `type'      Name of the plugin.
+ *
+ * RETURN VALUE
+ *  Returns non-zero if a plugin with the name $type is found and zero
+ *  otherwise.
+ */
+int plugin_exists (char *type);
+
+/*
+ * NAME
+ *  plugin_load
+ *
+ * DESCRIPTION
+ *  Searches the current `plugindir' (see `plugin_set_dir') for the plugin
+ *  named $type and loads it. Afterwards the plugin's `module_register'
+ *  function is called, which then calls `plugin_register' to register callback
+ *  functions.
+ *
+ * ARGUMENTS
+ *  `type'      Name of the plugin to load.
+ *
+ * RETURN VALUE
+ *  Returns zero upon success, a value greater than zero if no plugin was found
+ *  and a value below zero if an error occurs.
+ *
+ * NOTES
+ *  No attempt is made to re-load an already loaded module.
+ */
+int  plugin_load (const char *type);
+
 int  plugin_load_all (char *dir);
 void plugin_init_all (void);
 void plugin_read_all (void);
 
 void plugin_register (char *type,
 		void (*init) (void),
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/processes.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/processes.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/processes.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/processes.c	2006-01-20 17:51:59.000000000 +0800
@@ -18,19 +18,25 @@
  *
  * Authors:
  *   Lyonel Vincent <lyonel at ezix.org>
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "processes.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_PROCESSES
 #define MODULE_NAME "processes"
 
-#include "common.h"
-#include "plugin.h"
+#ifdef KERNEL_LINUX
+# define PROCESSES_HAVE_READ 1
+#else
+# define PROCESSES_HAVE_READ 0
+#endif
+
+#define BUFSIZE 256
 
 static char *ps_file = "processes.rrd";
 
 static char *ds_def[] =
 {
 	"DS:running:GAUGE:25:0:65535",
@@ -40,23 +46,23 @@
 	"DS:paging:GAUGE:25:0:65535",
 	"DS:blocked:GAUGE:25:0:65535",
 	NULL
 };
 static int ds_num = 6;
 
-void ps_init (void)
+static void ps_init (void)
 {
 }
 
-void ps_write (char *host, char *inst, char *val)
+static void ps_write (char *host, char *inst, char *val)
 {
 	rrd_update_file (host, ps_file, val, ds_def, ds_num);
 }
 
-#define BUFSIZE 256
-void ps_submit (unsigned int running,
+#if PROCESSES_HAVE_READ
+static void ps_submit (unsigned int running,
 		unsigned int sleeping,
 		unsigned int zombies,
 		unsigned int stopped,
 		unsigned int paging,
 		unsigned int blocked)
 {
@@ -68,20 +74,20 @@
 				blocked) >= BUFSIZE)
 		return;
 
 	plugin_submit (MODULE_NAME, "-", buf);
 }
 
-void ps_read (void)
+static void ps_read (void)
 {
 #ifdef KERNEL_LINUX
 	unsigned int running, sleeping, zombies, stopped, paging, blocked;
 
 	char buf[BUFSIZE];
 	char filename[20]; /* need 17 bytes */
-	char *fields[256];
+	char *fields[BUFSIZE];
 
 	struct dirent *ent;
 	DIR *proc;
 	FILE *fh;
 
 	running = sleeping = zombies = stopped = paging = blocked = 0;
@@ -111,13 +117,13 @@
 			fclose (fh);
 			continue;
 		}
 
 		fclose (fh);
 
-		if (strsplit (buf, fields, 256) < 3)
+		if (strsplit (buf, fields, BUFSIZE) < 3)
 			continue;
 
 		switch (fields[2][0])
 		{
 			case 'R': running++;  break;
 			case 'S': sleeping++; break;
@@ -130,15 +136,17 @@
 
 	closedir(proc);
 
 	ps_submit (running, sleeping, zombies, stopped, paging, blocked);
 #endif /* defined(KERNEL_LINUX) */
 }
-#undef BUFSIZE
+#else
+# define ps_read NULL
+#endif /* PROCESSES_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, ps_init, ps_read, ps_write);
 }
 
+#undef BUFSIZE
 #undef MODULE_NAME
-#endif /* COLLECT_PROCESSES */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/sensors.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/sensors.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/sensors.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/sensors.c	2006-01-20 17:51:59.000000000 +0800
@@ -17,42 +17,55 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "sensors.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_SENSORS
 #define MODULE_NAME "sensors"
 
-#include <sensors/sensors.h>
-
-#include "plugin.h"
-#include "common.h"
+#if defined(HAVE_SENSORS_SENSORS_H)
+# include <sensors/sensors.h>
+#else
+# undef HAVE_LIBSENSORS
+#endif
 
-typedef struct featurelist
-{
-	const sensors_chip_name    *chip;
-	const sensors_feature_data *data;
-	struct featurelist         *next;
-} featurelist_t;
+#if defined(HAVE_LIBSENSORS)
+# define SENSORS_HAVE_READ 1
+#else
+# define SENSORS_HAVE_READ 0
+#endif
 
-featurelist_t *first_feature = NULL;
+#define BUFSIZE 512
 
 static char *filename_format = "sensors-%s.rrd";
 
 static char *ds_def[] =
 {
 	"DS:value:GAUGE:25:U:U",
 	NULL
 };
 static int ds_num = 1;
 
-void collectd_sensors_init (void)
+#ifdef HAVE_LIBSENSORS
+typedef struct featurelist
+{
+	const sensors_chip_name    *chip;
+	const sensors_feature_data *data;
+	struct featurelist         *next;
+} featurelist_t;
+
+featurelist_t *first_feature = NULL;
+#endif /* defined (HAVE_LIBSENSORS) */
+
+static void collectd_sensors_init (void)
 {
+#ifdef HAVE_LIBSENSORS
 	FILE *fh;
 	featurelist_t *last_feature = NULL;
 	featurelist_t *new_feature;
 	
 	const sensors_chip_name *chip;
 	int chip_num;
@@ -128,60 +141,64 @@
 			}
 		}
 	}
 
 	if (first_feature == NULL)
 		sensors_cleanup ();
+#endif /* defined(HAVE_LIBSENSORS) */
+
+	return;
 }
 
-void sensors_write (char *host, char *inst, char *val)
+static void sensors_write (char *host, char *inst, char *val)
 {
-	char file[512];
+	char file[BUFSIZE];
 	int status;
 
-	status = snprintf (file, 512, filename_format, inst);
+	status = snprintf (file, BUFSIZE, filename_format, inst);
 	if (status < 1)
 		return;
-	else if (status >= 512)
+	else if (status >= BUFSIZE)
 		return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
-#define BUFSIZE 512
-void sensors_submit (const char *feat_name, const char *chip_prefix, double value)
+#if SENSORS_HAVE_READ
+static void sensors_submit (const char *feat_name, const char *chip_prefix, double value)
 {
 	char buf[BUFSIZE];
 	char inst[BUFSIZE];
 
 	if (snprintf (buf, BUFSIZE, "%u:%.3f", (unsigned int) curtime, value) >= BUFSIZE)
 		return;
 
 	if (snprintf (inst, BUFSIZE, "%s-%s", chip_prefix, feat_name) >= BUFSIZE)
 		return;
 
 	plugin_submit (MODULE_NAME, inst, buf);
 }
-#undef BUFSIZE
 
-void sensors_read (void)
+static void sensors_read (void)
 {
 	featurelist_t *feature;
 	double value;
 
 	for (feature = first_feature; feature != NULL; feature = feature->next)
 	{
 		if (sensors_get_feature (*feature->chip, feature->data->number, &value) < 0)
 			continue;
 
 		sensors_submit (feature->data->name, feature->chip->prefix, value);
 	}
 }
+#else
+# define sensors_read NULL
+#endif /* SENSORS_HAVE_READ */
 
 void module_register (void)
 {
-	plugin_register (MODULE_NAME, collectd_sensors_init, sensors_read,
-			sensors_write);
+	plugin_register (MODULE_NAME, collectd_sensors_init, sensors_read, sensors_write);
 }
 
+#undef BUFSIZE
 #undef MODULE_NAME
-#endif /* COLLECT_SENSORS */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/serial.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/serial.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/serial.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/serial.c	2006-01-20 17:51:59.000000000 +0800
@@ -18,35 +18,40 @@
  *
  * Authors:
  *   David Bacher <drbacher at gmail.com>
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "serial.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_SERIAL
 #define MODULE_NAME "serial"
 
-#include "plugin.h"
-#include "common.h"
+#if defined(KERNEL_LINUX)
+# define SERIAL_HAVE_READ 1
+#else
+# define SERIAL_HAVE_READ 0
+#endif
 
 static char *serial_filename_template = "serial-%s.rrd";
 
 static char *ds_def[] =
 {
 	"DS:incoming:COUNTER:25:0:U",
 	"DS:outgoing:COUNTER:25:0:U",
 	NULL
 };
 static int ds_num = 2;
 
-void serial_init (void)
+static void serial_init (void)
 {
+	return;
 }
 
-void serial_write (char *host, char *inst, char *val)
+static void serial_write (char *host, char *inst, char *val)
 {
 	char file[512];
 	int status;
 
 	status = snprintf (file, 512, serial_filename_template, inst);
 	if (status < 1)
@@ -54,14 +59,15 @@
 	else if (status >= 512)
 		return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
+#if SERIAL_HAVE_READ
 #define BUFSIZE 512
-void serial_submit (char *device,
+static void serial_submit (char *device,
 		unsigned long long incoming,
 		unsigned long long outgoing)
 {
 	char buf[BUFSIZE];
         
 	if (snprintf (buf, BUFSIZE, "%u:%llu:%llu", (unsigned int) curtime,
@@ -69,13 +75,13 @@
 		return;
 
 	plugin_submit (MODULE_NAME, device, buf);
 }
 #undef BUFSIZE
 
-void serial_read (void)
+static void serial_read (void)
 {
 #ifdef KERNEL_LINUX
 
 	FILE *fh;
 	char buffer[1024];
 	unsigned long long incoming, outgoing;
@@ -93,12 +99,19 @@
 	}
 
 	while (fgets (buffer, 1024, fh) != NULL)
 	{
 		int have_rx = 0, have_tx = 0;
 
+		/* stupid compiler:
+		 * serial.c:87: warning: 'incoming' may be used uninitialized in this function
+		 * serial.c:87: warning: 'outgoing' may be used uninitialized in this function
+		 */
+		incoming = 0ULL;
+		outgoing = 0ULL;
+
 		numfields = strsplit (buffer, fields, 16);
 
 		if (numfields < 6)
 			continue;
 
 		/*
@@ -136,14 +149,16 @@
 		serial_submit (fields[0], incoming, outgoing);
 	}
 
 	fclose (fh);
 #endif /* KERNEL_LINUX */
 }
+#else
+# define serial_read NULL
+#endif /* SERIAL_HAVE_READ */
 
 void module_register (void)
 {
    plugin_register (MODULE_NAME, serial_init, serial_read, serial_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_SERIAL */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/swap.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/swap.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/swap.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/swap.c	2006-01-20 17:51:59.000000000 +0800
@@ -17,24 +17,28 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "swap.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_SWAP
 #define MODULE_NAME "swap"
 
+#if defined(KERNEL_LINUX) || defined(KERNEL_SOLARIS) || defined(HAVE_LIBSTATGRAB)
+# define SWAP_HAVE_READ 1
+#else
+# define SWAP_HAVE_READ 0
+#endif
+
 #ifdef KERNEL_SOLARIS
 #include <sys/swap.h>
 #endif /* KERNEL_SOLARIS */
 
-#include "plugin.h"
-#include "common.h"
-
 #undef  MAX
 #define MAX(x,y) ((x) > (y) ? (x) : (y))
 
 static char *swap_file = "swap.rrd";
 
 /* 1099511627776 == 1TB ought to be enough for anyone ;) */
@@ -50,30 +54,31 @@
 
 #ifdef KERNEL_SOLARIS
 static int pagesize;
 static kstat_t *ksp;
 #endif /* KERNEL_SOLARIS */
 
-void module_init (void)
+static void swap_init (void)
 {
 #ifdef KERNEL_SOLARIS
 	/* getpagesize(3C) tells me this does not fail.. */
 	pagesize = getpagesize ();
 	if (get_kstat (&ksp, "unix", 0, "system_pages"))
 		ksp = NULL;
 #endif /* KERNEL_SOLARIS */
 
 	return;
 }
 
-void module_write (char *host, char *inst, char *val)
+static void swap_write (char *host, char *inst, char *val)
 {
 	rrd_update_file (host, swap_file, val, ds_def, ds_num);
 }
 
-void module_submit (unsigned long long swap_used,
+#if SWAP_HAVE_READ
+static void swap_submit (unsigned long long swap_used,
 		unsigned long long swap_free,
 		unsigned long long swap_cached,
 		unsigned long long swap_resv)
 {
 	char buffer[512];
 
@@ -81,13 +86,13 @@
 				swap_free, swap_cached, swap_resv) >= 512)
 		return;
 
 	plugin_submit (MODULE_NAME, "-", buffer);
 }
 
-void module_read (void)
+static void swap_read (void)
 {
 #ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 	
 	char *fields[8];
@@ -130,13 +135,13 @@
 
 	if ((swap_total == 0LL) || ((swap_free + swap_cached) > swap_total))
 		return;
 
 	swap_used = swap_total - (swap_free + swap_cached);
 
-	module_submit (swap_used, swap_free, swap_cached, -1LL);
+	swap_submit (swap_used, swap_free, swap_cached, -1LL);
 /* #endif defined(KERNEL_LINUX) */
 
 #elif defined(KERNEL_SOLARIS)
 	unsigned long long swap_alloc;
 	unsigned long long swap_resv;
 	unsigned long long swap_avail;
@@ -173,24 +178,26 @@
 	 */
 	swap_resv  = pagesize * ai.ani_resv;
 	swap_alloc = pagesize * (MAX(ai.ani_resv, ai.ani_max) - ai.ani_free);
 	swap_avail = pagesize * (MAX(ai.ani_max - ai.ani_resv, 0) + (availrmem - swapfs_minfree));
 	/* swap_free  = pagesize * (ai.ani_free + (availrmem - swapfs_minfree)); */
 
-	module_submit (swap_alloc, swap_avail, -1LL, swap_resv - swap_alloc);
+	swap_submit (swap_alloc, swap_avail, -1LL, swap_resv - swap_alloc);
 /* #endif defined(KERNEL_SOLARIS) */
 
 #elif defined(HAVE_LIBSTATGRAB)
 	sg_swap_stats *swap;
 
 	if ((swap = sg_get_swap_stats ()) != NULL)
-		module_submit (swap->used, swap->free, -1LL, -1LL);
+		swap_submit (swap->used, swap->free, -1LL, -1LL);
 #endif /* HAVE_LIBSTATGRAB */
 }
+#else
+# define swap_read NULL
+#endif /* SWAP_HAVE_READ */
 
 void module_register (void)
 {
-	plugin_register (MODULE_NAME, module_init, module_read, module_write);
+	plugin_register (MODULE_NAME, swap_init, swap_read, swap_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_SWAP */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/tape.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/tape.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/tape.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/tape.c	2006-01-20 17:51:59.000000000 +0800
@@ -17,26 +17,23 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Scott Garrett <sgarrett at technomancer.com>
  **/
 
-#include "tape.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_TAPE
 #define MODULE_NAME "tape"
 
-#include "plugin.h"
-#include "common.h"
-
 #if defined(HAVE_LIBKSTAT)
-#define MAX_NUMTAPE 256
-extern kstat_ctl_t *kc;
-static kstat_t *ksp[MAX_NUMTAPE];
-static int numtape = 0;
-#endif /* HAVE_LIBKSTAT */
+# define TAPE_HAVE_READ 1
+#else
+# define TAPE_HAVE_READ 0
+#endif
 
 static char *tape_filename_template = "tape-%s.rrd";
 
 /* 104857600 == 100 MB */
 static char *tape_ds_def[] =
 {
@@ -49,13 +46,20 @@
 	"DS:wbytes:COUNTER:25:0:U",
 	"DS:wtime:COUNTER:25:0:U",
 	NULL
 };
 static int tape_ds_num = 8;
 
-void tape_init (void)
+#if defined(HAVE_LIBKSTAT)
+#define MAX_NUMTAPE 256
+extern kstat_ctl_t *kc;
+static kstat_t *ksp[MAX_NUMTAPE];
+static int numtape = 0;
+#endif /* HAVE_LIBKSTAT */
+
+static void tape_init (void)
 {
 #ifdef HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 
 	numtape = 0;
 
@@ -74,13 +78,13 @@
 	}
 #endif
 
 	return;
 }
 
-void tape_write (char *host, char *inst, char *val)
+static void tape_write (char *host, char *inst, char *val)
 {
 	char file[512];
 	int status;
 
 	status = snprintf (file, 512, tape_filename_template, inst);
 	if (status < 1)
@@ -89,14 +93,15 @@
 		return;
 
 	rrd_update_file (host, file, val, tape_ds_def, tape_ds_num);
 }
 
 
+#if TAPE_HAVE_READ
 #define BUFSIZE 512
-void tape_submit (char *tape_name,
+static void tape_submit (char *tape_name,
 		unsigned long long read_count,
 		unsigned long long read_merged,
 		unsigned long long read_bytes,
 		unsigned long long read_time,
 		unsigned long long write_count,
 		unsigned long long write_merged,
@@ -115,13 +120,13 @@
 
 	plugin_submit (MODULE_NAME, tape_name, buf);
 }
 
 #undef BUFSIZE
 
-void tape_read (void)
+static void tape_read (void)
 {
 
 #if defined(HAVE_LIBKSTAT)
 	static kstat_io_t kio;
 	int i;
 
@@ -137,14 +142,16 @@
 			tape_submit (ksp[i]->ks_name,
 					kio.reads,  0LL, kio.nread,    kio.rtime,
 					kio.writes, 0LL, kio.nwritten, kio.wtime);
 	}
 #endif /* defined(HAVE_LIBKSTAT) */
 }
+#else
+# define tape_read NULL
+#endif /* TAPE_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, tape_init, tape_read, tape_write);
 }
 
 #undef MODULE_NAME
-#endif /* COLLECT_TAPE */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/traffic.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/traffic.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/traffic.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/traffic.c	2006-01-20 17:51:59.000000000 +0800
@@ -17,38 +17,44 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Florian octo Forster <octo at verplant.org>
  **/
 
-#include "traffic.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_TRAFFIC
 #define MODULE_NAME "traffic"
 
-#include "plugin.h"
-#include "common.h"
+#if defined(KERNEL_LINUX) || defined(HAVE_LIBKSTAT) || defined(HAVE_LIBSTATGRAB)
+# define TRAFFIC_HAVE_READ 1
+#else
+# define TRAFFIC_HAVE_READ 0
+#endif
 
-#ifdef HAVE_LIBKSTAT
-#define MAX_NUMIF 256
-extern kstat_ctl_t *kc;
-static kstat_t *ksp[MAX_NUMIF];
-static int numif = 0;
-#endif /* HAVE_LIBKSTAT */
+#define BUFSIZE 512
 
 static char *traffic_filename_template = "traffic-%s.rrd";
 
 static char *ds_def[] =
 {
 	"DS:incoming:COUNTER:25:0:U",
 	"DS:outgoing:COUNTER:25:0:U",
 	NULL
 };
 static int ds_num = 2;
 
-void traffic_init (void)
+#ifdef HAVE_LIBKSTAT
+#define MAX_NUMIF 256
+extern kstat_ctl_t *kc;
+static kstat_t *ksp[MAX_NUMIF];
+static int numif = 0;
+#endif /* HAVE_LIBKSTAT */
+
+static void traffic_init (void)
 {
 #ifdef HAVE_LIBKSTAT
 	kstat_t *ksp_chain;
 	kstat_named_t *kn;
 	unsigned long long val;
 
@@ -71,41 +77,40 @@
 			continue;
 		ksp[numif++] = ksp_chain;
 	}
 #endif /* HAVE_LIBKSTAT */
 }
 
-void traffic_write (char *host, char *inst, char *val)
+static void traffic_write (char *host, char *inst, char *val)
 {
-	char file[512];
+	char file[BUFSIZE];
 	int status;
 
-	status = snprintf (file, 512, traffic_filename_template, inst);
+	status = snprintf (file, BUFSIZE, traffic_filename_template, inst);
 	if (status < 1)
 		return;
-	else if (status >= 512)
+	else if (status >= BUFSIZE)
 		return;
 
 	rrd_update_file (host, file, val, ds_def, ds_num);
 }
 
-#define BUFSIZE 512
-void traffic_submit (char *device,
+#if TRAFFIC_HAVE_READ
+static void traffic_submit (char *device,
 		unsigned long long incoming,
 		unsigned long long outgoing)
 {
 	char buf[BUFSIZE];
 
 	if (snprintf (buf, BUFSIZE, "%u:%lld:%lld", (unsigned int) curtime, incoming, outgoing) >= BUFSIZE)
 		return;
 
 	plugin_submit (MODULE_NAME, device, buf);
 }
-#undef BUFSIZE
 
-void traffic_read (void)
+static void traffic_read (void)
 {
 #ifdef KERNEL_LINUX
 	FILE *fh;
 	char buffer[1024];
 	unsigned long long incoming, outgoing;
 	char *device;
@@ -176,14 +181,17 @@
 	ios = sg_get_network_io_stats (&num);
 
 	for (i = 0; i < num; i++)
 		traffic_submit (ios[i].interface_name, ios[i].rx, ios[i].tx);
 #endif /* HAVE_LIBSTATGRAB */
 }
+#else
+#define traffic_read NULL
+#endif /* TRAFFIC_HAVE_READ */
 
 void module_register (void)
 {
 	plugin_register (MODULE_NAME, traffic_init, traffic_read, traffic_write);
 }
 
+#undef BUFSIZE
 #undef MODULE_NAME
-#endif /* COLLECT_TRAFFIC */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/users.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/users.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/users.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/users.c	2006-01-20 17:51:59.000000000 +0800
@@ -17,107 +17,114 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
-#include "users.h"
+#include "collectd.h"
+#include "common.h"
+#include "plugin.h"
 
-#if COLLECT_USERS
-#define MODULE_NAME "users"
+#if HAVE_UTMPX_H
+# include <utmpx.h>
+#else /* !HAVE_UTMPX_H */
+# if HAVE_UTMP_H
+#  include <utmp.h>
+# endif /* HAVE_UTMP_H */
+#endif /* HAVE_UTMPX_H */
 
-#include "plugin.h"
-#include "common.h"
+#define MODULE_NAME "users"
 
-#ifdef HAVE_UTMPX_H
-#include <utmpx.h>
-#elif defined(HAVE_UTMP_H)
-#include <utmp.h>
+#if HAVE_GETUTXENT || HAVE_GETUTENT
+# define USERS_HAVE_READ 1
+#else
+# define USERS_HAVE_READ 0
 #endif
 
 static char *rrd_file = "users.rrd";
-
-static char *ds_def[] = {
-    "DS:users:GAUGE:25:0:65535",
-    NULL
+static char *ds_def[] =
+{
+	"DS:users:GAUGE:25:0:65535",
+	NULL
 };
 static int ds_num = 1;
 
-void users_init(void)
+static void users_init (void)
 {
-    /* we have nothing to do here :-) */
-    return;
-}
+	/* we have nothing to do here :-) */
+	return;
+} /* static void users_init(void) */
 
-void users_read(void)
+static void users_write (char *host, char *inst, char *val)
 {
-#ifdef HAVE_GETUTXENT
-    unsigned int users = 0;
-    struct utmpx *entry = NULL;
-
-    /* according to the *utent(3) man page none of the functions sets errno in
-     * case of an error, so we cannot do any error-checking here */
-    setutxent();
-
-    while (NULL != (entry = getutxent()))
-        if (USER_PROCESS == entry->ut_type)
-            ++users;
-    endutxent();
-
-    users_submit(users);
-/* #endif HAVE_GETUTXENT */
-
-#elif defined(HAVE_GETUTENT)
-    unsigned int users = 0;
-    struct utmp *entry = NULL;
-
-    /* according to the *utent(3) man page none of the functions sets errno in
-     * case of an error, so we cannot do any error-checking here */
-    setutent();
-
-    while (NULL != (entry = getutent()))
-        if (USER_PROCESS == entry->ut_type)
-            ++users;
-    endutent();
-
-    users_submit(users);
-#endif
-
+	rrd_update_file(host, rrd_file, val, ds_def, ds_num);
 	return;
-}
+} /* static void users_write(char *host, char *inst, char *val) */
 
+#if USERS_HAVE_READ
 /* I don't like this temporary macro definition - well it's used everywhere
- * else in the collectd-sources, so I will just stick with it...  */
+   else in the collectd-sources, so I will just stick with it...  */
 #define BUFSIZE 256
-void users_submit(users)
-    unsigned int users;
+static void users_submit (unsigned int users)
 {
-    char buf[BUFSIZE] = "";
+	char buf[BUFSIZE] = "";
 
-    if (snprintf(buf, BUFSIZE, "%u:%u", 
-                (unsigned int)curtime, 
-                users) >= BUFSIZE)
-        return;
+	if (snprintf(buf, BUFSIZE, "%u:%u", 
+		(unsigned int)curtime, users) >= BUFSIZE)
+	{
+		return;
+	}
 
-    plugin_submit(MODULE_NAME, NULL, buf);
-    return;
-}
+	plugin_submit(MODULE_NAME, NULL, buf);
+	return;
+} /* static void users_submit(unsigned int users) */
 #undef BUFSIZE
 
-void users_write(host, inst, val)
-    char *host;
-    char *inst;
-    char *val;
-{
-    rrd_update_file(host, rrd_file, val, ds_def, ds_num);
-    return;
-}
-
-void module_register(void)
-{
-    plugin_register(MODULE_NAME, users_init, users_read, users_write);
-    return;
-}
+static void users_read (void)
+{
+#if HAVE_GETUTXENT
+	unsigned int users = 0;
+	struct utmpx *entry = NULL;
+
+	/* according to the *utent(3) man page none of the functions sets errno
+	   in case of an error, so we cannot do any error-checking here */
+	setutxent();
+
+	while (NULL != (entry = getutxent())) {
+		if (USER_PROCESS == entry->ut_type) {
+			++users;
+		}
+	}
+	endutxent();
 
-#undef MODULE_NAME
-#endif /* COLLECT_USERS */
+	users_submit (users);
+/* #endif HAVE_GETUTXENT */
+	
+#elif HAVE_GETUTENT
+	unsigned int users = 0;
+	struct utmp *entry = NULL;
+
+	/* according to the *utent(3) man page none of the functions sets errno
+	   in case of an error, so we cannot do any error-checking here */
+	setutent();
+
+	while (NULL != (entry = getutent())) {
+		if (USER_PROCESS == entry->ut_type) {
+			++users;
+		}
+	}
+	endutent();
+
+	users_submit(users);
+#endif /* HAVE_GETUTENT */
+
+	return;
+} /* static void users_read(void) */
+#else
+# define users_read NULL
+#endif /* USERS_HAVE_READ */
 
+void module_register (void)
+{
+	plugin_register (MODULE_NAME, users_init, users_read, users_write);
+	return;
+} /* void module_register(void) */
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/users.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/users.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/users.h	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/users.h	2006-01-20 17:51:59.000000000 +0800
@@ -17,38 +17,13 @@
  * 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA
  *
  * Authors:
  *   Sebastian Harl <sh at tokkee.org>
  **/
 
-#ifndef USERS_H
-#define USERS_H 1
+#if !COLLECTD_USERS_H
+#define COLLECTD_USERS_H 1
 
-#if HAVE_CONFIG_H
-#include <config.h>
-#endif
+void module_register(void);
 
-#if !defined(HAVE_UTMPX_H) || !defined(HAVE_GETUTXENT)
-#undef HAVE_UTMPX_H
-#undef HAVE_GETUTXENT
-#endif
-
-#if !defined(HAVE_UTMP_H) || !defined(HAVE_GETUTENT)
-#undef HAVE_UTMPX_H
-#undef HAVE_GETUTXENT
-#endif
-
-#ifndef COLLECT_USERS
-#if defined(HAVE_UTMPX_H) || defined(HAVE_UTMP_H)
-#define COLLECT_USERS 1
-#else
-#define COLLECT_USERS 0
-#endif
-#endif /* ! defined(COLLECT_USERS) */
-
-void users_init(void);
-void users_read(void);
-void users_submit(unsigned int);
-void users_write(char *, char *, char *);
-
-#endif /* ! defined(USERS_H) */
+#endif /* !COLLECTD_USERS_H */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/utils_debug.c /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/utils_debug.c
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/utils_debug.c	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/utils_debug.c	2006-01-20 17:51:59.000000000 +0800
@@ -20,22 +20,19 @@
  *   Niki W. Waibel <niki.waibel at gmx.net>
  **/
 
 #include "common.h"
 #include "utils_debug.h"
 
-/* *** *** ***   global variables   *** *** *** */
 #if COLLECT_DEBUG
 
-#define DEFAULT_FILENAME "collectd.log"
-
 static void cu_vdebug(const char *file, int line, const char *func,
 	const char *format, va_list ap);
 
 /* if preemptive threads are used, these vars need some sort of locking! */
-/* pth is non-preemptive, so no locking is necessary (?) */
+/* pth is non-preemptive, so no locking is necessary */
 static FILE *cu_debug_file = NULL;
 static char *cu_debug_filename = NULL;
 
 static void
 cu_vdebug(const char *file, int line, const char *func,
 	const char *format, va_list ap)
@@ -68,24 +65,24 @@
 	va_end(ap);
 } /* void cu_debug(const char *file, int line, const char *func,
 	const char *format, ...) */
 
 int
 cu_debug_startfile(const char *file, int line, const char *func,
-	const char *format, ...)
+	const char *filename, const char *format, ...)
 {
 	va_list ap;
 
 	if(cu_debug_file != NULL) {
 		DBG("Don't call this function more then once without"
 			" calling cu_debug_stopfile().");
 		return EXIT_FAILURE;
 	}
 
 	if(cu_debug_filename == NULL) {
-		cu_debug_filename = sstrdup(DEFAULT_FILENAME);
+		cu_debug_filename = sstrdup(filename);
 	}
 
 	cu_debug_file = fopen(cu_debug_filename, "a");
 	if(cu_debug_file == NULL) {
 		DBG("Cannot open debug file %s: %s.\n",
 			cu_debug_filename, strerror(errno));
@@ -166,30 +163,8 @@
 	sstrncpy(cu_debug_filename, filename, strlen(filename)+1);
 
 	return EXIT_SUCCESS;
 } /* int cu_debug_resetfile(const char *file, int line, const char *func,
         const char *filename) */
 
-#else /* !COLLECT_DEBUG */
-
-void
-cu_debug(const char *file, int line, const char *func, const char *format, ...)
-{
-}
-int
-cu_debug_startfile(const char *file, int line, const char *func, const char *format, ...)
-{
-	return EXIT_SUCCESS;
-}
-int
-cu_debug_stopfile(const char *file, int line, const char *func, const char *format, ...)
-{
-	return EXIT_SUCCESS;
-}
-int
-cu_debug_resetfile(const char *file, int line, const char *func, const char *filename)
-{
-	return EXIT_SUCCESS;
-}
-
 #endif /* COLLECT_DEBUG */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/utils_debug.h /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/utils_debug.h
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/src/utils_debug.h	2006-01-23 00:58:53.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/src/utils_debug.h	2006-01-20 17:51:59.000000000 +0800
@@ -18,33 +18,47 @@
  * USA.
  *
  * Author:
  *   Niki W. Waibel <niki.waibel@gmx.net>
 **/
 
+/* BUG: at the moment you can use DBG_STARTFILE only ONCE in
+   your program. more then one logfile is not supported. */
+
 #if !COLLECTD_UTILS_DEBUG_H
 #define COLLECTD_UTILS_DEBUG_H 1
 
+#if COLLECT_DEBUG
+
 #define DBG(...) cu_debug(__FILE__, __LINE__, __func__, \
 	__VA_ARGS__)
 
-#define DBG_STARTFILE(...) cu_debug_startfile(__FILE__, __LINE__, \
-	__func__, __VA_ARGS__)
+#define DBG_STARTFILE(file, ...) cu_debug_startfile(__FILE__, __LINE__, \
+	__func__, file, __VA_ARGS__)
 #define DBG_STOPFILE(...) cu_debug_stopfile(__FILE__, __LINE__, \
 	__func__, __VA_ARGS__)
 
 #define DBG_RESETFILE(file) cu_debug_resetfile(__FILE__, __LINE__, __func__, \
 	filename)
 
 void cu_debug(const char *file, int line, const char *func,
 	const char *format, ...);
 
 int cu_debug_startfile(const char *file, int line, const char *func,
-	const char *format, ...);
+	const char *filename, const char *format, ...);
 int cu_debug_stopfile(const char *file, int line, const char *func,
 	const char *format, ...);
 
 int cu_debug_resetfile(const char *file, int line, const char *func,
 	const char *filename);
 
+#else /* !COLLECT_DEBUG */
+
+#define DBG(...)                   /* DBG(...) */
+#define DBG_STARTFILE(file, ...)   /* DBG_STARTFILE(file, ...) */
+#define DBG_STOPFILE(...)          /* DBG_STOPFILE(...) */
+#define DBG_RESETFILE(file)        /* DBG_RESETFILE(file) */
+
+#endif /* COLLECT_DEBUG */
+
 #endif /* !COLLECTD_UTILS_DEBUG_H */
 
diff -BEr -U 6 /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/TODO /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/TODO
--- /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.5.2/TODO	2006-01-23 00:58:51.000000000 +0800
+++ /usr/info/code/cpp/LogMonitor/LogMonitor/second/download/collectd/repos/collectd-3.6.0/TODO	2006-01-20 17:51:57.000000000 +0800
@@ -1,5 +1,9 @@
+For version 3.6:
+* Fix RPM package
+
 For version 3.*:
 * Port nfs module to solaris
 * Port tape module to Linux
 * Maybe look into porting the serial module
 * Ping bug (disabled)
+* Write battery status, using /proc/pmu/battery_%i
