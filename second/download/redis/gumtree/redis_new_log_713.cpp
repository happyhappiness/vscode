lua_pushnumber(L, floor(r*u)+1);