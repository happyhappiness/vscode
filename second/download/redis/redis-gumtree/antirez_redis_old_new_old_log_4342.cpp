snprintf((char*)buf+1,sizeof(buf)-1,"%.16g",val);