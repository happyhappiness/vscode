(!i->empty() && *i != cur) {
      out_components.push_back(*i);
    }