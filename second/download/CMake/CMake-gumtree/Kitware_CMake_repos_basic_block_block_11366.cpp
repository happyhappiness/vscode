(l > w_size - copy_pos)
						l = w_size - copy_pos