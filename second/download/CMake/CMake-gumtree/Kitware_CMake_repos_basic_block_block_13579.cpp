(buff_remaining > (size_t)bytes_avail)
				buff_remaining = (size_t)bytes_avail