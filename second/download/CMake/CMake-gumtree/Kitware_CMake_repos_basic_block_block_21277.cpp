(sock == INVALID_SOCKET) {
      return WSAGetLastError();
    }