(temp_buffer == NULL) {
    err = ERROR_OUTOFMEMORY;
    goto error;
  }