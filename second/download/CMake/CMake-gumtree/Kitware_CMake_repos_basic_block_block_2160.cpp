(fin.gcount()) {
        fout.write(buffer, fin.gcount());
      } else {
        break;
      }