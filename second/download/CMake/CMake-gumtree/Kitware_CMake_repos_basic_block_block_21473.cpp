(len = 0; len < sizeof(buf); len++)
        if (buf[len] == 0) break;